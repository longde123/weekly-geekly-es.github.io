<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐹 ⛈️ 👨🏾‍🚀 Puis-je gagner au jeu? Simulation Python ☪️ 👩🏼‍🏫 🍯</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut les Geektimes. 

 Dans le processus de l'oisiveté au ralenti, l'idée est venue d'étudier divers jeux d'argent, en même temps pour mieux comprend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Puis-je gagner au jeu? Simulation Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411209/">  Salut les Geektimes. <br><br>  Dans le processus de l'oisiveté au ralenti, l'idée est venue d'étudier divers jeux d'argent, en même temps pour mieux comprendre comment cela fonctionne.  Les résultats, bien que généralement évidents, étaient suffisamment intéressants pour être partagés avec le public. <br><br><img src="https://habrastorage.org/webt/0a/aw/qx/0aawqx__4v1cuysw6apmuhd1u6q.jpeg"><br><br>  À qui les détails sont intéressants, je demande sous cat. <br><a name="habracut"></a><br><h2>  Dice: Craps Game </h2><br>  Très probablement, une option intuitivement simple et claire - il y a un cube avec des notes de 1 à 6, et la probabilité qu'un nombre particulier tombe est 1/6.  Mais jouer de cette façon serait ennuyeux, donc les jeux avec des règles plus complexes sont populaires.  Un jeu de hasard populaire est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">craps</a> , l'image ci-dessus montre une image de la table de jeu.  Comme vous pouvez le voir, il y a beaucoup de tout, mais nous n'entrerons pas dans des subtilités profondes. <br><br>  Chaque tour de jeu consiste à lancer deux dés, les points accumulés sont additionnés.  Comme le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dit</a> l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> , «les règles du jeu sont simples: le joueur lance deux dés, et si la somme des points sur eux est de 7 ou 11, il gagne, si 2, 3 ou 12 perd.  Quand un montant différent tombe sur les dés, le tireur les jette dans une combinaison gagnante ou perdante. » <br><br>  Voyons combien vous pouvez gagner de cette façon.  Il n'est pas nécessaire d'aller dans un casino pour cela; nous utiliserons Python pour simuler le jeu.  Nous écrivons une fonction pour un jet: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shoot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>) + random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)</code> </pre> <br>  Nous écrirons la fonction de simulation d'un coup selon les règles ci-dessus. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Dice roll:"</span></span>, val <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre><br>  Fixons à notre joueur virtuel un montant initial de 100 $ et commençons le processus de jeu.  Laissez notre joueur faire 100 paris, chaque fois 1u.e. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre><br>  Nous commençons la simulation de 100 parties et nous sommes surpris du résultat, le joueur a <b>gagné</b> , et avec une marge notable de victoires des défaites: Victoire 63, Perte 37, Argent 126. Nous augmentons le nombre de parties à 1000 et recommençons, le joueur a gagné à nouveau: Victoire 680, Perte 320, Argent 460 . <br><br>  Il est clair que quelque chose ne va pas ici - un jeu dans lequel le joueur serait toujours dans le noir, ne serait guère populaire dans le casino, il ferait simplement faillite.  Essayons de le comprendre. <br><br>  Il semble intuitivement qu'en lançant un dé, la probabilité de chute d'une facette est également probable.  Et cela est vrai, mais dans le cas d' <i>un</i> cube.  S'il y a deux cubes, alors tout devient plus compliqué.  Par exemple, le nombre 7 peut tomber comme 3 + 4, 2 + 5, 1 + 6, mais le nombre 12 ne peut tomber que comme une combinaison de 6 + 6. <br><br>  Dans le cahier Jupyter, nous construisons un calendrier pour la perte de montants de 1 à 12 pour 100 lancers: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline y = [ shoot() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>) ] plt.hist(y)</code> </pre> <br><img src="https://habrastorage.org/webt/iy/lc/tb/iylctbczo4panaaa-1xp9vjmqhc.png"><br><br>  L'hypothèse a été confirmée et le montant du centre tombe vraiment plus souvent.  Ainsi, les nombres 7 et 11 tombent vraiment plus souvent que 2,3 ou 12. Et la probabilité d'obtenir une combinaison gagnante "7 ou 11" est vraiment plus élevée. <br><br>  Comment est-ce possible?  Hélas, la réponse est simple - l'auteur de l'article cité ci-dessus n'a tout simplement pas bien compris les règles du jeu.  Le texte "les <i>règles du jeu sont simples: le joueur lance deux dés, et si la somme des points sur eux est 7 ou 11, il gagne, si 2, 3 ou 12 - il perd</i> " est très loin de la vérité, et les règles dans le craps ne sont pas aussi simples qu'elles semblent . <br><br>  Les vraies règles pour parier sur la ligne de passe se sont avérées un peu plus compliquées (il existe d'autres types de paris, ceux qui le souhaitent peuvent le découvrir par eux-mêmes). <br><br>  <b>Déplacer 1</b> : Un jet est fait.  Si 7 ou 11 tombent, le joueur gagne; si 2, 3 ou 12, le joueur perd.  Si un autre numéro tombe, il est mémorisé sous le point de nom. <br><br>  <b>Déplacer 2</b> : Un jet est fait.  Si 7 tombe, le joueur perd.  Si le point tombe, alors le joueur a gagné.  Si d'autres numéros tombent, le mouvement est répété (à ce moment, les joueurs peuvent également parier sur d'autres numéros). <br><br>  En effet, tout est un peu plus compliqué que décrit dans la version originale.  Nous ajoutons une fonction de simulation prenant en compte des règles plus précises. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> point == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-comment"><span class="hljs-comment"># First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True</span></span></code> </pre> <br>  Le résultat est désormais plus proche de la vérité: pour 100 matchs, le joueur a gagné 43 fois, perdu 57 fois, le solde en fin de partie était de 86.u.  par rapport au 100 d'origine. Il est également intéressant de noter que le nombre de victoires s'est avéré assez important et n'est que légèrement inférieur à 50%.  C'est une stratégie compétente du point de vue du casino - elle vous permet de maintenir l'intérêt du participant dans le jeu (il serait inintéressant de perdre tout le temps), mais en même temps, le solde des bénéfices du casino reste positif et le solde d'argent du joueur est par conséquent négatif. <br><br>  Voyons plus en détail ce qui est obtenu pour la simulation de 100 jeux. <br>  - La chance de gagner à la première étape est tombée dans une vingtaine de cas. <br>  - La chance de perdre immédiatement au premier échelon est tombée dans 15 cas. <br>  - Dans les 65 cas restants, le jeu continue, et tout est délicat: le choix vient de deux nombres, 7 et un point, mais comme vous pouvez le voir sur le graphique ci-dessus, la probabilité de chute d'un numéro 7 est maximale, ce qui en général devait être prouvé. <br><br>  Il est intéressant de noter que les chances de gagner à 45% sont plutôt élevées.  Est-il donc possible de gagner?  À court terme, par exemple, dans une autre simulation, le joueur a été «chanceux», et en 100 matchs, il a augmenté son capital virtuel de 100 à 112ye. <br><br><img src="https://habrastorage.org/webt/yw/7q/_z/yw7q_zxcfq2o5oiit5am3_tblzu.png"><br><br>  Mais déjà la prochaine simulation a montré un bilan négatif: le joueur a réduit son état de 100 à 88ye, ayant d'ailleurs perdu le même 12ye "gagné" la fois précédente. <br><br>  Si vous augmentez le nombre d'itérations à 1000, vous pouvez voir à quoi le solde monétaire du joueur peut ressembler à long terme: <br><br><img src="https://habrastorage.org/webt/8r/sz/zw/8rszzwxy60dyofbgso79jtowanq.png"><br><br>  Il est clair qu'avec une chance de gagner chaque partie à moins de 50%, le montant d’argent résultant sur le compte du joueur diminuera progressivement et le montant des bénéfices du casino augmentera progressivement.  Soit dit en passant, sur le graphique, des éclats et des chutes sont visibles, et une question raisonnable peut se poser - peut-on les prévoir?  Hélas, non, car  Les lancers de dés sont des événements indépendants les uns des autres, et les résultats précédents n'affectent en rien les éléments suivants.  Vous pouvez répéter l'idée principale une fois de plus - vous pouvez gagner une ou même plusieurs fois, mais à long terme, il est impossible de rester dans le plus au casino, les règles du jeu sont établies de sorte que le solde ne soit pas en faveur du joueur. <br><br>  Il existe d'autres types de paris dans le jeu de craps, et ceux qui le souhaitent peuvent les analyser par eux-mêmes. <br><br><h2>  Roulette américaine </h2><br>  Le prochain type de jeu populaire est la roulette, considérez sa version américaine. <br><br><img src="https://habrastorage.org/webt/00/hn/hc/00hnhcurdofynyx7ctuwderckvs.png"><br><br>  Le terrain de jeu de la roulette est divisé en 38 cellules: 36 zones avec des nombres + 2 zones «zéro» et «double zéro».  Une balle lancée sur une roulette s'arrêtera évidemment dans l'une des zones.  Le joueur peut faire une variété de paris, dont il existe plus de 10 types, envisagez certains d'entre eux. <br><br>  <b>Noir-rouge (ou pair-impair)</b> <br><br>  Un joueur gagne si la mise qu'il nomme coïncide.  Évidemment, la probabilité de noir ou de rouge serait de 50/50, s'il n'y avait pas deux champs de zéro - s'ils les touchent, le pari est perdu.  Comme dans le cas du craps, cela rend la probabilité de gagner légèrement inférieure à 50% - mais ce «légèrement» suffit pour être dans le rouge. <br><br>  Nous écrirons la fonction de simulation du déplacement en utilisant des nombres aléatoires de 1 à 38, les 2 derniers chiffres seront considérés comme «zéro». <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">38</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  Exécutez la simulation pour 100 jeux, le code est le même que dans la simulation de craps, nous ne changeons que l'appel de fonction. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette1() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  Résultat: en 100 tentatives, le joueur a gagné 46 fois et perdu 54 fois.  Le graphique montre que le joueur a connu des «hausses» et des «chutes», mais le solde final est toujours négatif. <br><br><img src="https://habrastorage.org/webt/qa/e6/8a/qae68ajlup6cb933mhh1gvcfhh0.png"><br><br>  Plus nous jouons, plus nous allons profondément dans le moins, et le casino, respectivement, dans le plus: <br><br><img src="https://habrastorage.org/webt/ea/tm/hm/eatmhmumtpnzcfd2jnyrlxgt2ui.png"><br><br>  Le lecteur a demandé pourquoi je ne considérais pas la roulette européenne avec un champ «zéro» - comme vous pouvez le deviner, les chances de gagner là-bas sont vraiment plus élevées, mais le principe général ne change pas.  En fait, la différence réside uniquement dans la «vitesse de perte».  Voici le calendrier commun des versions américaine et européenne du jeu: <br><br><img src="https://habrastorage.org/webt/qu/v7/h6/quv7h6ryrdsup7jti_n62blatgu.png"><br>  Ceux qui veulent tester la version européenne de la roulette avec 37 emplacements peuvent utiliser la deuxième option de la fonction: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">37</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  <b>Pariez sur un numéro précis</b> <br><br>  Le joueur peut également parier sur un certain nombre, le pari sur la victoire est de 35: 1.  Cela semble génial, mais il est facile de deviner que la probabilité de chute d'un certain numéro de roulette est de 1:38, c'est-à-dire  encore une fois, un peu moins. <br><br>  Ajoutons la fonction de pari à un numéro spécifique: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num</code> </pre> <br>  Simulation, nous supposons que le joueur met le numéro 10: <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette2(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">35</span></span>*bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  En conséquence, le joueur a gagné 2 fois et perdu 98 fois, le solde final est de -28.u. <br><br><img src="https://habrastorage.org/webt/9u/cz/pp/9uczpprwa1ais2i0mpz0niufmqo.png"><br><br>  <b>Misez sur deux numéros</b> <br><br>  Vous pouvez parier sur deux numéros - les chances de gagner sont plus élevées, mais le pari est moindre et est de 17: 1. <br><br>  Écrivons une fonction: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num1, num2)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num1 <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == num2</code> </pre> <br>  Pour 100 tentatives de notre simulation, le joueur a gagné 3 fois et perdu 97 fois, le solde était de -46u.e. <br><br>  Il existe d'autres types de paris, par exemple, pour 4 numéros avec un coefficient de 1: 8, ceux qui le souhaitent peuvent expérimenter par eux-mêmes.  Comme vous pouvez le deviner, toutes les chances sont conçues pour que le joueur soit dans le rouge.  Il semble tentant de mettre 1ye sur le nombre pour gagner autant que 35ue.  Mais le montant des gains augmente de 35 fois, et les chances de gagner diminuent de 38 fois - le solde final sera toujours en faveur du casino. <br><br><h2>  Loto 6 sur 45 </h2><br>  La prochaine chose intéressante à vérifier est le loto.  Le principe du jeu est assez simple - il y a 45 balles dans le tambour, 6 d'entre elles tombent au hasard.  Le prix du billet selon le site Web de Gosloto est de 100 roubles, et le prix dépend du nombre de boules devinées.  L'ordre approximatif des gains est le suivant: 2 boules devinées donnent une victoire de 100r, 3 boules devinées donnent 300r, 4 boules - 3000r, 5 boules - 300.000r et 6 boules - un super prix d'environ 10.000.000r. <br><br>  Tout d'abord, écrivez un programme pour lancer des balles et comparer le résultat: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lottery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(values)</span></span></span><span class="hljs-function">:</span></span> balls = range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>) b1 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b2 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b3 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b4 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b5 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b6 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(res)</code> </pre> <br>  Une balle aléatoire «obtient» 6 fois du tableau des boules, puis le nombre d'éléments d'intersection de deux ensembles est déterminé.  Nous allons maintenant construire un graphique du gain total sur le nombre de billets achetés.  Pour simplifier, nous supposons que le joueur mise sur les mêmes numéros. <br><br><pre> <code class="python hljs">money = [] money_total = <span class="hljs-number"><span class="hljs-number">0</span></span> ticket_price = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(N): val = lottery([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">28</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">4</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">5</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">6</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">10000000</span></span> money.append(money_total) x = range(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) price = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: ticket_price*x, x) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline plt.plot(price, money)</code> </pre> <br>  Pour comprendre l'ordre de grandeur: si vous achetez 100 billets (le montant total dépensé sera de 10 000 r), cela donne 14 boules "doubles" devinées et une "triple" devinée.  Le gain total est d'environ 2000r avec 10 000r dépensés. <br><br>  Le calendrier de paiement pour le montant dépensé est presque linéaire: <br><br><img src="https://habrastorage.org/webt/ub/ki/gb/ubkigbaki0kxaoa8rys0m90kvtc.png"><br><br>  Il s'avère que si vous achetez des billets par million, le gain sera de 250 000.  Le «super prix» de la simulation n'est jamais tombé, bien que théoriquement, cela soit certainement possible.  Soit dit en passant, comme il est écrit dans les règles, la cagnotte est de 50% des billets vendus, mais le «super prix» ne tombe pas toujours, de même qu'avec le casino, les organisateurs, bien sûr, gagnent toujours. <br><br><h2>  Machines à sous </h2><br>  Ils fonctionnent également sur un principe (pseudo) aléatoire, «pseudo» car  Le code en eux a longtemps été programmatique et n'a pas de mécanique propre.  Les principes généraux décrits ci-dessus pour les machines à sous fonctionnent également, et les graphiques ne seront probablement pas différents, ceux qui le souhaitent peuvent ajouter eux-mêmes la fonction de simulation. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un bon article</a> sur la conception des machines à sous a déjà été publié sur Geektimes. <br><br><h2>  Conclusion </h2><br>  Cet article n'a peut-être pas ouvert l'Amérique à beaucoup, mais sur les graphiques, il est, en principe, plus visuel.  Il s'est avéré plus intéressant de comparer une approche psychologique fondamentalement différente du jeu.  Les gains à la loterie sont potentiellement importants, mais très rares.  Dans les casinos, l'approche est l'inverse - les paris sont configurés pour qu'une personne gagne le plus souvent possible.  Conditionnellement, après avoir fait 10 jeux dans un casino, une personne gagnera 4 fois et perdra 6 fois.  Cela permet au joueur de ne pas se désintéresser du jeu, mais dans tous les cas, l'équilibre global reste négatif - une personne gagnera plusieurs fois, mais perdra également un <i>peu plus</i> . <br><br>  C'est peut-être déjà si évident, mais l'article ne concerne que les jeux basés sur le hasard, pas sur le poker, les cartes, les échecs, etc. Peut-il y avoir une «stratégie gagnante» dans de tels jeux aléatoires?  Evidemment non, car  ni os, ni balle, ni billets de loterie n'ont de mémoire, et leur comportement ne dépend pas des itérations précédentes.  Soit dit en passant, il est important de se souvenir de ce moment - intuitivement, après avoir perdu plusieurs fois, une personne peut décider qu'il va maintenant «définitivement» gagner.  Hélas, il n'y a pas de roulette ni de dé, et ils ne connaissent pas le nombre de tentatives précédentes, chaque partie commence essentiellement par une table rase. <br><br>  Répondre à la question dans le titre de l'article - est-il possible de gagner au jeu?  Comme le montre la simulation, en principe c'est possible, admet la théorie des probabilités.  Mais pas pour longtemps - cela vaut la peine de commencer à jouer la 2e, 3e, ... Nième fois, car l'équilibre diminue.  À long terme, gagner dans un casino est impossible. <br><br>  PS: Pour ceux qui veulent expérimenter, le code source dans un fichier est disposé sous le spoiler.  Il peut être exécuté dans l'IDE Python en ligne, par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Pour tester la version européenne de la roulette au lieu de la version américaine, il suffit de changer 38 à 37 dans le code. Cette simulation est assez basique et ne prend pas en compte divers facteurs supplémentaires, tels que le montant d'argent d'un joueur ou la limite des paris dans un casino, ceux qui le souhaitent peuvent ajouter tout cela indépendamment.  Sous le spoiler, vous pouvez également regarder une version vidéo de cet article. <br><br><div class="spoiler">  <b class="spoiler_title">Vidéo</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/3KXhMu9-OpU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Code source</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">craps</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-comment"><span class="hljs-comment"># print " Dice roll:", val if point == 0: # First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True def move_roulette1(): val = random.randint(1,38) if val == 37 or val == 38: return False return val % 2 != 0 def move_roulette2(num): val = random.randint(1,38) return val == num def move_roulette3(num1, num2): val = random.randint(1,38) return val == num1 or val == num2 def lotto(values): balls = range(1,46) b1 = balls.pop(random.randint(0, len(balls)-1)) b2 = balls.pop(random.randint(0, len(balls)-1)) b3 = balls.pop(random.randint(0, len(balls)-1)) b4 = balls.pop(random.randint(0, len(balls)-1)) b5 = balls.pop(random.randint(0, len(balls)-1)) b6 = balls.pop(random.randint(0, len(balls)-1)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) return len(res) money_total = 100 steps = 100 win = 0 loss = 0 for p in range(steps): bet = 1 step = move_roulette1() if step is True: money_total += bet win += 1 else: money_total -= bet loss += 1 print "Step", p+1, "Bet", bet, "Result", step, "Win", win, "Loss", loss, "Money total", money_total</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr411209/">https://habr.com/ru/post/fr411209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr411197/index.html">Adieu au Palais céleste</a></li>
<li><a href="../fr411199/index.html">Les inhibiteurs de CDK2 peuvent aider à prévenir la perte auditive</a></li>
<li><a href="../fr411201/index.html">Pour son 50e anniversaire, Intel lance des ordinateurs de collection basés sur ses processeurs x86, à partir de 286</a></li>
<li><a href="../fr411203/index.html">Tournevis électrique bricolage ou notre réponse Xiaomi</a></li>
<li><a href="../fr411207/index.html">Un projet de loi sur les crypto-monnaies a été soumis à la Douma d'État: les mineurs seront obligés de s'inscrire comme IP</a></li>
<li><a href="../fr411211/index.html">Dans la blockchain Bitcoin, ils ont trouvé une image similaire à la pornographie enfantine</a></li>
<li><a href="../fr411213/index.html">Que voir à Top 3D Expo 2018</a></li>
<li><a href="../fr411215/index.html">Pas seulement des orques dans l'espace: les développeurs de StarCraft parlent de l'héritage du jeu</a></li>
<li><a href="../fr411217/index.html">Le ministère des Communications a élaboré les règles de l'ICO en Russie</a></li>
<li><a href="../fr411219/index.html">Ouverture d'un nouveau bureau Top 3D Shop sous franchise à Yakutsk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>