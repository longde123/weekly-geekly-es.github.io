<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêπ ‚õàÔ∏è üë®üèæ‚ÄçüöÄ Puis-je gagner au jeu? Simulation Python ‚ò™Ô∏è üë©üèº‚Äçüè´ üçØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salut les Geektimes. 

 Dans le processus de l'oisivet√© au ralenti, l'id√©e est venue d'√©tudier divers jeux d'argent, en m√™me temps pour mieux comprend...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Puis-je gagner au jeu? Simulation Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411209/">  Salut les Geektimes. <br><br>  Dans le processus de l'oisivet√© au ralenti, l'id√©e est venue d'√©tudier divers jeux d'argent, en m√™me temps pour mieux comprendre comment cela fonctionne.  Les r√©sultats, bien que g√©n√©ralement √©vidents, √©taient suffisamment int√©ressants pour √™tre partag√©s avec le public. <br><br><img src="https://habrastorage.org/webt/0a/aw/qx/0aawqx__4v1cuysw6apmuhd1u6q.jpeg"><br><br>  √Ä qui les d√©tails sont int√©ressants, je demande sous cat. <br><a name="habracut"></a><br><h2>  Dice: Craps Game </h2><br>  Tr√®s probablement, une option intuitivement simple et claire - il y a un cube avec des notes de 1 √† 6, et la probabilit√© qu'un nombre particulier tombe est 1/6.  Mais jouer de cette fa√ßon serait ennuyeux, donc les jeux avec des r√®gles plus complexes sont populaires.  Un jeu de hasard populaire est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">craps</a> , l'image ci-dessus montre une image de la table de jeu.  Comme vous pouvez le voir, il y a beaucoup de tout, mais nous n'entrerons pas dans des subtilit√©s profondes. <br><br>  Chaque tour de jeu consiste √† lancer deux d√©s, les points accumul√©s sont additionn√©s.  Comme le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dit</a> l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> , ¬´les r√®gles du jeu sont simples: le joueur lance deux d√©s, et si la somme des points sur eux est de 7 ou 11, il gagne, si 2, 3 ou 12 perd.  Quand un montant diff√©rent tombe sur les d√©s, le tireur les jette dans une combinaison gagnante ou perdante. ¬ª <br><br>  Voyons combien vous pouvez gagner de cette fa√ßon.  Il n'est pas n√©cessaire d'aller dans un casino pour cela; nous utiliserons Python pour simuler le jeu.  Nous √©crivons une fonction pour un jet: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">shoot</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>) + random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)</code> </pre> <br>  Nous √©crirons la fonction de simulation d'un coup selon les r√®gles ci-dessus. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Dice roll:"</span></span>, val <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">11</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">12</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre><br>  Fixons √† notre joueur virtuel un montant initial de 100 $ et commen√ßons le processus de jeu.  Laissez notre joueur faire 100 paris, chaque fois 1u.e. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre><br>  Nous commen√ßons la simulation de 100 parties et nous sommes surpris du r√©sultat, le joueur a <b>gagn√©</b> , et avec une marge notable de victoires des d√©faites: Victoire 63, Perte 37, Argent 126. Nous augmentons le nombre de parties √† 1000 et recommen√ßons, le joueur a gagn√© √† nouveau: Victoire 680, Perte 320, Argent 460 . <br><br>  Il est clair que quelque chose ne va pas ici - un jeu dans lequel le joueur serait toujours dans le noir, ne serait gu√®re populaire dans le casino, il ferait simplement faillite.  Essayons de le comprendre. <br><br>  Il semble intuitivement qu'en lan√ßant un d√©, la probabilit√© de chute d'une facette est √©galement probable.  Et cela est vrai, mais dans le cas d' <i>un</i> cube.  S'il y a deux cubes, alors tout devient plus compliqu√©.  Par exemple, le nombre 7 peut tomber comme 3 + 4, 2 + 5, 1 + 6, mais le nombre 12 ne peut tomber que comme une combinaison de 6 + 6. <br><br>  Dans le cahier Jupyter, nous construisons un calendrier pour la perte de montants de 1 √† 12 pour 100 lancers: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline y = [ shoot() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>) ] plt.hist(y)</code> </pre> <br><img src="https://habrastorage.org/webt/iy/lc/tb/iylctbczo4panaaa-1xp9vjmqhc.png"><br><br>  L'hypoth√®se a √©t√© confirm√©e et le montant du centre tombe vraiment plus souvent.  Ainsi, les nombres 7 et 11 tombent vraiment plus souvent que 2,3 ou 12. Et la probabilit√© d'obtenir une combinaison gagnante "7 ou 11" est vraiment plus √©lev√©e. <br><br>  Comment est-ce possible?  H√©las, la r√©ponse est simple - l'auteur de l'article cit√© ci-dessus n'a tout simplement pas bien compris les r√®gles du jeu.  Le texte "les <i>r√®gles du jeu sont simples: le joueur lance deux d√©s, et si la somme des points sur eux est 7 ou 11, il gagne, si 2, 3 ou 12 - il perd</i> " est tr√®s loin de la v√©rit√©, et les r√®gles dans le craps ne sont pas aussi simples qu'elles semblent . <br><br>  Les vraies r√®gles pour parier sur la ligne de passe se sont av√©r√©es un peu plus compliqu√©es (il existe d'autres types de paris, ceux qui le souhaitent peuvent le d√©couvrir par eux-m√™mes). <br><br>  <b>D√©placer 1</b> : Un jet est fait.  Si 7 ou 11 tombent, le joueur gagne; si 2, 3 ou 12, le joueur perd.  Si un autre num√©ro tombe, il est m√©moris√© sous le point de nom. <br><br>  <b>D√©placer 2</b> : Un jet est fait.  Si 7 tombe, le joueur perd.  Si le point tombe, alors le joueur a gagn√©.  Si d'autres num√©ros tombent, le mouvement est r√©p√©t√© (√† ce moment, les joueurs peuvent √©galement parier sur d'autres num√©ros). <br><br>  En effet, tout est un peu plus compliqu√© que d√©crit dans la version originale.  Nous ajoutons une fonction de simulation prenant en compte des r√®gles plus pr√©cises. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> point == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-comment"><span class="hljs-comment"># First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True</span></span></code> </pre> <br>  Le r√©sultat est d√©sormais plus proche de la v√©rit√©: pour 100 matchs, le joueur a gagn√© 43 fois, perdu 57 fois, le solde en fin de partie √©tait de 86.u.  par rapport au 100 d'origine. Il est √©galement int√©ressant de noter que le nombre de victoires s'est av√©r√© assez important et n'est que l√©g√®rement inf√©rieur √† 50%.  C'est une strat√©gie comp√©tente du point de vue du casino - elle vous permet de maintenir l'int√©r√™t du participant dans le jeu (il serait inint√©ressant de perdre tout le temps), mais en m√™me temps, le solde des b√©n√©fices du casino reste positif et le solde d'argent du joueur est par cons√©quent n√©gatif. <br><br>  Voyons plus en d√©tail ce qui est obtenu pour la simulation de 100 jeux. <br>  - La chance de gagner √† la premi√®re √©tape est tomb√©e dans une vingtaine de cas. <br>  - La chance de perdre imm√©diatement au premier √©chelon est tomb√©e dans 15 cas. <br>  - Dans les 65 cas restants, le jeu continue, et tout est d√©licat: le choix vient de deux nombres, 7 et un point, mais comme vous pouvez le voir sur le graphique ci-dessus, la probabilit√© de chute d'un num√©ro 7 est maximale, ce qui en g√©n√©ral devait √™tre prouv√©. <br><br>  Il est int√©ressant de noter que les chances de gagner √† 45% sont plut√¥t √©lev√©es.  Est-il donc possible de gagner?  √Ä court terme, par exemple, dans une autre simulation, le joueur a √©t√© ¬´chanceux¬ª, et en 100 matchs, il a augment√© son capital virtuel de 100 √† 112ye. <br><br><img src="https://habrastorage.org/webt/yw/7q/_z/yw7q_zxcfq2o5oiit5am3_tblzu.png"><br><br>  Mais d√©j√† la prochaine simulation a montr√© un bilan n√©gatif: le joueur a r√©duit son √©tat de 100 √† 88ye, ayant d'ailleurs perdu le m√™me 12ye "gagn√©" la fois pr√©c√©dente. <br><br>  Si vous augmentez le nombre d'it√©rations √† 1000, vous pouvez voir √† quoi le solde mon√©taire du joueur peut ressembler √† long terme: <br><br><img src="https://habrastorage.org/webt/8r/sz/zw/8rszzwxy60dyofbgso79jtowanq.png"><br><br>  Il est clair qu'avec une chance de gagner chaque partie √† moins de 50%, le montant d‚Äôargent r√©sultant sur le compte du joueur diminuera progressivement et le montant des b√©n√©fices du casino augmentera progressivement.  Soit dit en passant, sur le graphique, des √©clats et des chutes sont visibles, et une question raisonnable peut se poser - peut-on les pr√©voir?  H√©las, non, car  Les lancers de d√©s sont des √©v√©nements ind√©pendants les uns des autres, et les r√©sultats pr√©c√©dents n'affectent en rien les √©l√©ments suivants.  Vous pouvez r√©p√©ter l'id√©e principale une fois de plus - vous pouvez gagner une ou m√™me plusieurs fois, mais √† long terme, il est impossible de rester dans le plus au casino, les r√®gles du jeu sont √©tablies de sorte que le solde ne soit pas en faveur du joueur. <br><br>  Il existe d'autres types de paris dans le jeu de craps, et ceux qui le souhaitent peuvent les analyser par eux-m√™mes. <br><br><h2>  Roulette am√©ricaine </h2><br>  Le prochain type de jeu populaire est la roulette, consid√©rez sa version am√©ricaine. <br><br><img src="https://habrastorage.org/webt/00/hn/hc/00hnhcurdofynyx7ctuwderckvs.png"><br><br>  Le terrain de jeu de la roulette est divis√© en 38 cellules: 36 zones avec des nombres + 2 zones ¬´z√©ro¬ª et ¬´double z√©ro¬ª.  Une balle lanc√©e sur une roulette s'arr√™tera √©videmment dans l'une des zones.  Le joueur peut faire une vari√©t√© de paris, dont il existe plus de 10 types, envisagez certains d'entre eux. <br><br>  <b>Noir-rouge (ou pair-impair)</b> <br><br>  Un joueur gagne si la mise qu'il nomme co√Øncide.  √âvidemment, la probabilit√© de noir ou de rouge serait de 50/50, s'il n'y avait pas deux champs de z√©ro - s'ils les touchent, le pari est perdu.  Comme dans le cas du craps, cela rend la probabilit√© de gagner l√©g√®rement inf√©rieure √† 50% - mais ce ¬´l√©g√®rement¬ª suffit pour √™tre dans le rouge. <br><br>  Nous √©crirons la fonction de simulation du d√©placement en utilisant des nombres al√©atoires de 1 √† 38, les 2 derniers chiffres seront consid√©r√©s comme ¬´z√©ro¬ª. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == <span class="hljs-number"><span class="hljs-number">38</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  Ex√©cutez la simulation pour 100 jeux, le code est le m√™me que dans la simulation de craps, nous ne changeons que l'appel de fonction. <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette1() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  R√©sultat: en 100 tentatives, le joueur a gagn√© 46 fois et perdu 54 fois.  Le graphique montre que le joueur a connu des ¬´hausses¬ª et des ¬´chutes¬ª, mais le solde final est toujours n√©gatif. <br><br><img src="https://habrastorage.org/webt/qa/e6/8a/qae68ajlup6cb933mhh1gvcfhh0.png"><br><br>  Plus nous jouons, plus nous allons profond√©ment dans le moins, et le casino, respectivement, dans le plus: <br><br><img src="https://habrastorage.org/webt/ea/tm/hm/eatmhmumtpnzcfd2jnyrlxgt2ui.png"><br><br>  Le lecteur a demand√© pourquoi je ne consid√©rais pas la roulette europ√©enne avec un champ ¬´z√©ro¬ª - comme vous pouvez le deviner, les chances de gagner l√†-bas sont vraiment plus √©lev√©es, mais le principe g√©n√©ral ne change pas.  En fait, la diff√©rence r√©side uniquement dans la ¬´vitesse de perte¬ª.  Voici le calendrier commun des versions am√©ricaine et europ√©enne du jeu: <br><br><img src="https://habrastorage.org/webt/qu/v7/h6/quv7h6ryrdsup7jti_n62blatgu.png"><br>  Ceux qui veulent tester la version europ√©enne de la roulette avec 37 emplacements peuvent utiliser la deuxi√®me option de la fonction: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">37</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">37</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val % <span class="hljs-number"><span class="hljs-number">2</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  <b>Pariez sur un num√©ro pr√©cis</b> <br><br>  Le joueur peut √©galement parier sur un certain nombre, le pari sur la victoire est de 35: 1.  Cela semble g√©nial, mais il est facile de deviner que la probabilit√© de chute d'un certain num√©ro de roulette est de 1:38, c'est-√†-dire  encore une fois, un peu moins. <br><br>  Ajoutons la fonction de pari √† un num√©ro sp√©cifique: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num</code> </pre> <br>  Simulation, nous supposons que le joueur met le num√©ro 10: <br><br><pre> <code class="python hljs">money_total = <span class="hljs-number"><span class="hljs-number">100</span></span> win = <span class="hljs-number"><span class="hljs-number">0</span></span> loss = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): bet = <span class="hljs-number"><span class="hljs-number">1</span></span> step = move_roulette2(<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> step <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">35</span></span>*bet win += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: money_total -= bet loss += <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Win"</span></span>, win, <span class="hljs-string"><span class="hljs-string">"Loss"</span></span>, loss, <span class="hljs-string"><span class="hljs-string">"Money"</span></span>, money_total</code> </pre> <br>  En cons√©quence, le joueur a gagn√© 2 fois et perdu 98 fois, le solde final est de -28.u. <br><br><img src="https://habrastorage.org/webt/9u/cz/pp/9uczpprwa1ais2i0mpz0niufmqo.png"><br><br>  <b>Misez sur deux num√©ros</b> <br><br>  Vous pouvez parier sur deux num√©ros - les chances de gagner sont plus √©lev√©es, mais le pari est moindre et est de 17: 1. <br><br>  √âcrivons une fonction: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_roulette3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(num1, num2)</span></span></span><span class="hljs-function">:</span></span> val = random.randint(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">38</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> val == num1 <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> val == num2</code> </pre> <br>  Pour 100 tentatives de notre simulation, le joueur a gagn√© 3 fois et perdu 97 fois, le solde √©tait de -46u.e. <br><br>  Il existe d'autres types de paris, par exemple, pour 4 num√©ros avec un coefficient de 1: 8, ceux qui le souhaitent peuvent exp√©rimenter par eux-m√™mes.  Comme vous pouvez le deviner, toutes les chances sont con√ßues pour que le joueur soit dans le rouge.  Il semble tentant de mettre 1ye sur le nombre pour gagner autant que 35ue.  Mais le montant des gains augmente de 35 fois, et les chances de gagner diminuent de 38 fois - le solde final sera toujours en faveur du casino. <br><br><h2>  Loto 6 sur 45 </h2><br>  La prochaine chose int√©ressante √† v√©rifier est le loto.  Le principe du jeu est assez simple - il y a 45 balles dans le tambour, 6 d'entre elles tombent au hasard.  Le prix du billet selon le site Web de Gosloto est de 100 roubles, et le prix d√©pend du nombre de boules devin√©es.  L'ordre approximatif des gains est le suivant: 2 boules devin√©es donnent une victoire de 100r, 3 boules devin√©es donnent 300r, 4 boules - 3000r, 5 boules - 300.000r et 6 boules - un super prix d'environ 10.000.000r. <br><br>  Tout d'abord, √©crivez un programme pour lancer des balles et comparer le r√©sultat: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lottery</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(values)</span></span></span><span class="hljs-function">:</span></span> balls = range(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">45</span></span>+<span class="hljs-number"><span class="hljs-number">1</span></span>) b1 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b2 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b3 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b4 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b5 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) b6 = balls.pop(random.randint(<span class="hljs-number"><span class="hljs-number">0</span></span>, len(balls)<span class="hljs-number"><span class="hljs-number">-1</span></span>)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(res)</code> </pre> <br>  Une balle al√©atoire ¬´obtient¬ª 6 fois du tableau des boules, puis le nombre d'√©l√©ments d'intersection de deux ensembles est d√©termin√©.  Nous allons maintenant construire un graphique du gain total sur le nombre de billets achet√©s.  Pour simplifier, nous supposons que le joueur mise sur les m√™mes num√©ros. <br><br><pre> <code class="python hljs">money = [] money_total = <span class="hljs-number"><span class="hljs-number">0</span></span> ticket_price = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> xrange(N): val = lottery([<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">33</span></span>,<span class="hljs-number"><span class="hljs-number">28</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">2</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">3</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">4</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">3000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">5</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">300000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> val == <span class="hljs-number"><span class="hljs-number">6</span></span>: money_total += <span class="hljs-number"><span class="hljs-number">10000000</span></span> money.append(money_total) x = range(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) price = map(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: ticket_price*x, x) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt %matplotlib inline plt.plot(price, money)</code> </pre> <br>  Pour comprendre l'ordre de grandeur: si vous achetez 100 billets (le montant total d√©pens√© sera de 10 000 r), cela donne 14 boules "doubles" devin√©es et une "triple" devin√©e.  Le gain total est d'environ 2000r avec 10 000r d√©pens√©s. <br><br>  Le calendrier de paiement pour le montant d√©pens√© est presque lin√©aire: <br><br><img src="https://habrastorage.org/webt/ub/ki/gb/ubkigbaki0kxaoa8rys0m90kvtc.png"><br><br>  Il s'av√®re que si vous achetez des billets par million, le gain sera de 250 000.  Le ¬´super prix¬ª de la simulation n'est jamais tomb√©, bien que th√©oriquement, cela soit certainement possible.  Soit dit en passant, comme il est √©crit dans les r√®gles, la cagnotte est de 50% des billets vendus, mais le ¬´super prix¬ª ne tombe pas toujours, de m√™me qu'avec le casino, les organisateurs, bien s√ªr, gagnent toujours. <br><br><h2>  Machines √† sous </h2><br>  Ils fonctionnent √©galement sur un principe (pseudo) al√©atoire, ¬´pseudo¬ª car  Le code en eux a longtemps √©t√© programmatique et n'a pas de m√©canique propre.  Les principes g√©n√©raux d√©crits ci-dessus pour les machines √† sous fonctionnent √©galement, et les graphiques ne seront probablement pas diff√©rents, ceux qui le souhaitent peuvent ajouter eux-m√™mes la fonction de simulation. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Un bon article</a> sur la conception des machines √† sous a d√©j√† √©t√© publi√© sur Geektimes. <br><br><h2>  Conclusion </h2><br>  Cet article n'a peut-√™tre pas ouvert l'Am√©rique √† beaucoup, mais sur les graphiques, il est, en principe, plus visuel.  Il s'est av√©r√© plus int√©ressant de comparer une approche psychologique fondamentalement diff√©rente du jeu.  Les gains √† la loterie sont potentiellement importants, mais tr√®s rares.  Dans les casinos, l'approche est l'inverse - les paris sont configur√©s pour qu'une personne gagne le plus souvent possible.  Conditionnellement, apr√®s avoir fait 10 jeux dans un casino, une personne gagnera 4 fois et perdra 6 fois.  Cela permet au joueur de ne pas se d√©sint√©resser du jeu, mais dans tous les cas, l'√©quilibre global reste n√©gatif - une personne gagnera plusieurs fois, mais perdra √©galement un <i>peu plus</i> . <br><br>  C'est peut-√™tre d√©j√† si √©vident, mais l'article ne concerne que les jeux bas√©s sur le hasard, pas sur le poker, les cartes, les √©checs, etc. Peut-il y avoir une ¬´strat√©gie gagnante¬ª dans de tels jeux al√©atoires?  Evidemment non, car  ni os, ni balle, ni billets de loterie n'ont de m√©moire, et leur comportement ne d√©pend pas des it√©rations pr√©c√©dentes.  Soit dit en passant, il est important de se souvenir de ce moment - intuitivement, apr√®s avoir perdu plusieurs fois, une personne peut d√©cider qu'il va maintenant ¬´d√©finitivement¬ª gagner.  H√©las, il n'y a pas de roulette ni de d√©, et ils ne connaissent pas le nombre de tentatives pr√©c√©dentes, chaque partie commence essentiellement par une table rase. <br><br>  R√©pondre √† la question dans le titre de l'article - est-il possible de gagner au jeu?  Comme le montre la simulation, en principe c'est possible, admet la th√©orie des probabilit√©s.  Mais pas pour longtemps - cela vaut la peine de commencer √† jouer la 2e, 3e, ... Ni√®me fois, car l'√©quilibre diminue.  √Ä long terme, gagner dans un casino est impossible. <br><br>  PS: Pour ceux qui veulent exp√©rimenter, le code source dans un fichier est dispos√© sous le spoiler.  Il peut √™tre ex√©cut√© dans l'IDE Python en ligne, par exemple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Pour tester la version europ√©enne de la roulette au lieu de la version am√©ricaine, il suffit de changer 38 √† 37 dans le code. Cette simulation est assez basique et ne prend pas en compte divers facteurs suppl√©mentaires, tels que le montant d'argent d'un joueur ou la limite des paris dans un casino, ceux qui le souhaitent peuvent ajouter tout cela ind√©pendamment.  Sous le spoiler, vous pouvez √©galement regarder une version vid√©o de cet article. <br><br><div class="spoiler">  <b class="spoiler_title">Vid√©o</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/3KXhMu9-OpU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Code source</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">craps</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> point = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: val = shoot() <span class="hljs-comment"><span class="hljs-comment"># print " Dice roll:", val if point == 0: # First move if val == 7 or val == 11: return True if val == 2 or val == 3 or val == 12: return False point = val else: # 2..N move if val == 7: return False if val == point: return True def move_roulette1(): val = random.randint(1,38) if val == 37 or val == 38: return False return val % 2 != 0 def move_roulette2(num): val = random.randint(1,38) return val == num def move_roulette3(num1, num2): val = random.randint(1,38) return val == num1 or val == num2 def lotto(values): balls = range(1,46) b1 = balls.pop(random.randint(0, len(balls)-1)) b2 = balls.pop(random.randint(0, len(balls)-1)) b3 = balls.pop(random.randint(0, len(balls)-1)) b4 = balls.pop(random.randint(0, len(balls)-1)) b5 = balls.pop(random.randint(0, len(balls)-1)) b6 = balls.pop(random.randint(0, len(balls)-1)) s = [b1,b2,b3,b4,b5,b6] res = list(set(s) &amp; set(values)) return len(res) money_total = 100 steps = 100 win = 0 loss = 0 for p in range(steps): bet = 1 step = move_roulette1() if step is True: money_total += bet win += 1 else: money_total -= bet loss += 1 print "Step", p+1, "Bet", bet, "Result", step, "Win", win, "Loss", loss, "Money total", money_total</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr411209/">https://habr.com/ru/post/fr411209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr411197/index.html">Adieu au Palais c√©leste</a></li>
<li><a href="../fr411199/index.html">Les inhibiteurs de CDK2 peuvent aider √† pr√©venir la perte auditive</a></li>
<li><a href="../fr411201/index.html">Pour son 50e anniversaire, Intel lance des ordinateurs de collection bas√©s sur ses processeurs x86, √† partir de 286</a></li>
<li><a href="../fr411203/index.html">Tournevis √©lectrique bricolage ou notre r√©ponse Xiaomi</a></li>
<li><a href="../fr411207/index.html">Un projet de loi sur les crypto-monnaies a √©t√© soumis √† la Douma d'√âtat: les mineurs seront oblig√©s de s'inscrire comme IP</a></li>
<li><a href="../fr411211/index.html">Dans la blockchain Bitcoin, ils ont trouv√© une image similaire √† la pornographie enfantine</a></li>
<li><a href="../fr411213/index.html">Que voir √† Top 3D Expo 2018</a></li>
<li><a href="../fr411215/index.html">Pas seulement des orques dans l'espace: les d√©veloppeurs de StarCraft parlent de l'h√©ritage du jeu</a></li>
<li><a href="../fr411217/index.html">Le minist√®re des Communications a √©labor√© les r√®gles de l'ICO en Russie</a></li>
<li><a href="../fr411219/index.html">Ouverture d'un nouveau bureau Top 3D Shop sous franchise √† Yakutsk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>