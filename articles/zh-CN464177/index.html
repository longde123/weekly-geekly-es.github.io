<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚮 💪🏿 🕛 该书“科特琳。 专业人士编程“ 🙅🏾 👩🏾‍🚒 🔼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="嗨，habrozhiteli！ 乔什·斯金（Josh Skin）和大卫·格林霍尔（David Greenhall）所著的书是根据《大书呆子牧场》（Big Nerd Ranch）受欢迎的Kotlin Essentials课程编写的。 生动有用的示例，对关键概念和基本API的清晰解释，不仅介绍了Kotl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>该书“科特琳。 专业人士编程“</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/464177/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/to/vg/et/tovgetgbjadxe5fttu3sntdfci4.jpeg" align="left" alt="图片"></a> 嗨，habrozhiteli！ 乔什·斯金（Josh Skin）和大卫·格林霍尔（David Greenhall）所著的书是根据《大书呆子牧场》（Big Nerd Ranch）受欢迎的Kotlin Essentials课程编写的。 生动有用的示例，对关键概念和基本API的清晰解释，不仅介绍了Kotlin语言，而且还教了如何有效使用其功能，还使您能够掌握JetBrains IntelliJ IDEA开发环境。 <br><br> 无论您是有经验的开发人员想要超越Java，还是正在学习第一门编程语言，都没有关系。  Josh和David将指导您从Kotlin的基本原理到高级使用，以便您可以创建可靠且高效的应用程序。 <br><br><a name="habracut"></a><br><h3> 这本书是给谁的？ </h3><br> 我们（作者）为不同能力的开发人员写了这本书：缺乏Java功能的经验丰富的Android开发人员，对Kotlin功能感兴趣的服务器代码开发人员，以及决定学习有效编译语言的初学者。 <br><br> 本书可能对您支持Android感兴趣，但不仅限于在Android的Kotlin上编程。 此外，在本书中，只有一章（第21章）讨论了Android的Kotlin编程技术。 不过，如果您对使用Kotlin开发Android应用程序的主题感兴趣，则本书将向您介绍可简化在Kotlin上编写Android应用程序的基本技术。 <br><br> 尽管Kotlin受到其他一些语言的影响，但您无需了解它们如何与Kotlin一起成功使用。 我们将不时地比较Java和Kotlin代码。 如果您有使用Java进行开发的经验，这将帮助您了解两种语言之间的关系。 如果您没有这样的经验，那么用另一种语言来解决相同问题的示例将帮助您理解影响Kotlin形成的想法。 <br><br><h3> 如何使用这本书 </h3><br> 这本书不是参考。 我们的目标是持续学习Kotlin语言。 您将与项目一起工作，并在此过程中学习语言。 为了获得更好的效果，我们建议您在阅读本书时尝试所有代码示例。 处理示例将帮助您发展“肌肉”记忆并提供见解，使您可以从一章转到另一章。 <br><br> 下一章均基于上一章。 我们建议不要跳过章节。 即使您在使用其他语言时也研究了该主题，我们还是建议您至少在这里阅读该主题：Kotlin中的许多事情都以不同的方式实现。 我们从介绍性主题（例如变量和列表）开始，然后转向面向对象和函数式编程技术，以使您了解使Kotlin如此强大的工具的原因。 在本书的最后，您将从Kotlin的初学者变为高级开发人员。 <br><br> 我们要补充一点，您不要着急：开发并使用Kotlin文档，其链接为： <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">kotlinlang.org/docs/reference</a> ，其中包含实验过程中出现的许多问题的答案。 <br><br><h3> 摘录。 扩展名 </h3><br> 扩展允许您在不显式更改类型声明的情况下向类型添加功能。 将扩展名与自定义类型一起使用，以及与您无法控制的类型一起使用，例如List，String和Kotlin标准库中的其他类型。 <br> 扩展是继承的替代方法。 如果您无法使用类定义或该类没有允许您创建子类的open修饰符，则它们非常适合为类型添加功能。 <br><br>  Kotlin标准库经常使用扩展名。 例如，您在第9章中学到的标准函数被声明为扩展，在本章中，您将看到一些声明它们的示例。 <br><br> 在本章中，我们将首先处理Sandbox项目，然后将这些知识应用于优化NyetHack代码。 首先，打开Sandbox项目并创建一个名为Extensions.kt的新文件。 <br><br><h3> 扩展功能声明 </h3><br> 您的第一个扩展名允许您向String添加任何程度的热情。 在Extensions.kt中声明它。 <br><br> 清单18.1 为字符串类型添加扩展名（Extensions.kt） <br><br><pre><code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount)</code> </pre> <br> 扩展函数的声明方式与其他函数相同，但有一个区别：定义扩展函数时，还可以指定一种称为接收类型的类型，扩展将在该类型上添加功能。  （回想一下第9章，我们将可扩展类型称为“接收器”。）对于addEnthusiasm函数，指定了一个可接受的String类型。 <br><br>  addEnthusiasm函数的主体只是一个返回字符串的表达式：该字符串的内容以及1个或多个感叹号，具体取决于amount参数的值（默认值为1）。  this关键字引用为其调用扩展名的目标对象的实例（在本例中为String实例）。 <br> 现在，您可以为String的任何实例调用addEnthusiasm函数。 通过在主函数中声明一行并调用addEnthusiasm扩展函数以显示结果来尝试新的扩展函数。 <br><br> 清单18.2 调用String接收器对象（Extensions.kt）的实例的新扩展名 <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun main(args: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;) { println(<span class="hljs-string"><span class="hljs-string">"Madrigal has left the building"</span></span>.addEnthusiasm()) }</code> </pre> <br> 运行Extensions.kt，并查看扩展功能是否按预期方式在字符串中添加了感叹号。 <br><br> 是否可以继承String的子类以将此功能添加到String实例？ 在IntelliJ中，通过按两次Shift键打开“搜索到处”对话框，然后在搜索框中输入“ String.kt”，查看String声明的源代码。 您将看到此类声明： <br><br><pre> <code class="javascript hljs">public <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Comparable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">&gt;, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CharSequence</span></span></span><span class="hljs-class"> </span></span>{ ... }</code> </pre> <br> 由于open关键字不在String类的声明中，因此您不能将String子类化以通过继承添加新功能。 如前所述，如果您想向无法管理或无法用于创建子类的类添加功能，扩展是一个不错的选择。 <br><br><h3> 超类扩展声明 </h3><br> 扩展不依赖继承，但可以将其与继承结合以扩大范围。 在Extensions.kt中尝试此操作：为类型Any声明一个扩展，名称为easyPrint。 由于该扩展名声明为Any，因此它将适用于所有类型。 在main中，将println函数调用替换为对String的easyPrint扩展调用。 <br><br> 清单18.3 任何扩展名（Extensions.kt） <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun Any.easyPrint() = println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) fun main(args: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;) { println(<span class="hljs-string"><span class="hljs-string">"Madrigal has left the building"</span></span>.addEnthusiasm()).easyPrint() }</code> </pre> <br> 运行Extensions.kt，并确保输出未更改。 <br><br> 由于您为Any类型添加了扩展名，因此它也可用于子类型。 为Int添加扩展呼叫。 <br><br> 清单18.4  easyPrint适用于所有子类型（Extensions.kt） <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun Any.easyPrint() = println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) fun main(args: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;) { <span class="hljs-string"><span class="hljs-string">"Madrigal has left the building"</span></span>.addEnthusiasm().easyPrint() <span class="hljs-number"><span class="hljs-number">42.</span></span>easyPrint() }</code> </pre> <br><h3> 通用扩展功能 </h3><br> 但是，如果要在addEnthusiasm前后打印“ Madrigal已离开建筑物”行，该怎么办？ <br><br> 为此，将调用链的功能添加到easyPrint函数。 您已经看过函数调用的链：如果函数返回接收者对象或可以调用后续函数的另一个对象，则这些函数可以参与链中。 <br> 升级easyPrint到呼叫链接。 <br><br> 清单18.5 将easyPrint更改为呼叫链接（Extensions.kt） <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun Any.easyPrint()= println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>): Any { println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } ...</code> </pre> <br> 现在尝试两次调用easyPrint函数：在addEnthusiasm之前和之后。 <br><br> 清单18.6 两次调用easyPrint（Extensions.kt） <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun Any.easyPrint(): Any { println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } fun main(args: <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>&gt;) { <span class="hljs-string"><span class="hljs-string">"Madrigal has left the building"</span></span>.easyPrint().addEnthusiasm().easyPrint() <span class="hljs-number"><span class="hljs-number">42.</span></span>easyPrint() }</code> </pre> <br> 该代码未编译。 允许进行第一个easyPrint调用，但不允许addEnthusiasm。 查看类型信息以了解发生这种情况的原因：单击easyPrint并按Control-Shift-P（Ctrl-P），然后从出现的扩展名列表中选择第一个：（“ Madrigal已离开建筑物.easyPrint（）”） （图18.1）。 <br><br>  easyPrint函数返回为其调用的字符串，但使用Any类型表示它。  addEnthusiasm仅适用于String，因此无法在easyPrint返回的值上调用它。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/ii/2s/alii2syqappkdt9ub7jnedmhi3g.png" alt="图片"></div><br> 要解决此问题，可以进行广义扩展。 更新easyPrint扩展功能，并使用通用类型而不是Any作为接受器。 <br><br> 清单18.7 泛化easyPrint（Extensions.kt） <br><br><pre> <code class="javascript hljs">fun <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.addEnthusiasm(amount: Int = <span class="hljs-number"><span class="hljs-number">1</span></span>) = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> + <span class="hljs-string"><span class="hljs-string">"!"</span></span>.repeat(amount) fun &lt;T&gt; AnyT.easyPrint(): AnyT { println(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> } ...</code> </pre> <br> 现在，当扩展使用广义类型T的参数作为接收者并返回T而不是Any时，有关接收者对象的特定类型的信息将沿链向下传递（图18.2）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/os/x-/ln/osx-lnl926ppmkljxbbny2tvf2i.png" alt="图片"></div><br> 尝试再次运行Extensions.kt。 这次，该行将被输出两次： <br><br><pre> <code class="javascript hljs">Madrigal has left the building Madrigal has left the building! <span class="hljs-number"><span class="hljs-number">42</span></span></code> </pre> <br> 您的新通用扩展功能可与任何类型一起使用，并处理有关它的信息。 使用泛型类型的扩展允许您编写可以在程序中与多种类型一起使用的函数。 <br><br>  Kotlin标准库中还提供了泛型类型的扩展。 例如，查看let函数的声明： <br><br><pre> <code class="javascript hljs">public inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> block(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) }</code> </pre> <br>  let被声明为通用扩展函数，从而使其可以与所有类型一起使用。 它使用一个lambda，它将接收者对象作为参数（T），并返回某种新类型R的值。 <br><br> 请注意inline关键字，这是我们在第5章中了解到的。我们在前面给出的相同建议也适用于此：将扩展函数声明为内置函数（如果它接受lambda的话）可以降低内存成本。 <br><br>  »这本书的更多信息可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在出版商的网站上找到</a> <br>  » <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">目录</a> <br>  » <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">摘录</a> <br><br>  Khabrozhitel- <b>Kotlin的</b>优惠券可享受25％的折扣 <br> 支付纸质版本的书后，就会通过电子邮件发送电子书。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN464177/">https://habr.com/ru/post/zh-CN464177/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN464163/index.html">JavaScript中的此关键字。 完整的*手册</a></li>
<li><a href="../zh-CN464165/index.html">《哈伯周刊》第14期/关于群聊，垄断和儿童免受危险信息侵害的交流规则</a></li>
<li><a href="../zh-CN464169/index.html">争辩：读完最后，您将了解GC的工作方式和原因</a></li>
<li><a href="../zh-CN464171/index.html">软件更新安全性</a></li>
<li><a href="../zh-CN464173/index.html">“该死的厨房”，或办公室因抱怨而腿长的地方</a></li>
<li><a href="../zh-CN464179/index.html">Yandex.Taxi中的一个独立版本，或者您需要教后端开发人员什么</a></li>
<li><a href="../zh-CN464181/index.html">Poco-AirTest IDE的一部分，用于移动游戏的基于Python的UI自动化</a></li>
<li><a href="../zh-CN464185/index.html">快速摘要：清洁建筑，Robert C. Martin</a></li>
<li><a href="../zh-CN464189/index.html">如何创建一个开源项目</a></li>
<li><a href="../zh-CN464191/index.html">如何使用常驻代理解决聚合器站点问题</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>