<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüöí üê¶ üå† Pautas de configuraci√≥n de AccelStor AFA para VMware vSphere üñ®Ô∏è üå´Ô∏è üëæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, me gustar√≠a hablar sobre las caracter√≠sticas de los arreglos All Flash AccelStor que funcionan con una de las plataformas de virtual...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pautas de configuraci√≥n de AccelStor AFA para VMware vSphere</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/447390/"><p>  En este art√≠culo, me gustar√≠a hablar sobre las caracter√≠sticas de los arreglos All Flash AccelStor que funcionan con una de las plataformas de virtualizaci√≥n m√°s populares: VMware vSphere.  En particular, enfocarse en aquellos par√°metros que ayudar√°n a obtener el m√°ximo efecto al usar una herramienta tan poderosa como All Flash. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/xc/nq/dixcnqzpdskxe4whal3u7wyxcnw.jpeg"></div><a name="habracut"></a><br><p>  Todos los arreglos Flash AccelStor NeoSapphire ‚Ñ¢ son dispositivos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">uno</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">dos</a> nodos basados ‚Äã‚Äãen SSD con un enfoque fundamentalmente diferente para implementar el concepto de almacenar datos y organizar el acceso a ellos utilizando su propia tecnolog√≠a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FlexiRemap¬Æ en</a> lugar de los algoritmos RAID muy populares.  Las matrices proporcionan acceso en bloque para los hosts a trav√©s de las interfaces iSCSI o Fibre Channel.  Para ser justos, observamos que los modelos con la interfaz ISCSI tambi√©n tienen acceso a archivos como una buena ventaja.  Pero en este art√≠culo, nos centraremos en el uso de protocolos de bloque como los m√°s productivos para All Flash. </p><br><p>  Todo el proceso de implementaci√≥n y configuraci√≥n de la colaboraci√≥n entre la matriz AccelStor y el sistema de virtualizaci√≥n VMware vSphere se puede dividir en varias etapas: </p><br><p></p><ul><li>  Implementaci√≥n de la topolog√≠a de conexi√≥n y configuraci√≥n de la red SAN; </li><li>  Configuraci√≥n de toda la matriz Flash; </li><li>  Configurar hosts ESXi; </li><li>  Configurar m√°quinas virtuales. </li></ul><br><p>  Las matrices AccelStor NeoSapphire ‚Ñ¢ con Fibre Channel e iSCSI se utilizaron como equipo de ejemplo.  El software base es VMware vSphere 6.7U1. </p><br><p>  Antes de implementar los sistemas descritos en este art√≠culo, se recomienda encarecidamente que lea la documentaci√≥n de VMware sobre los problemas de rendimiento ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mejores pr√°cticas de rendimiento para VMware vSphere 6.7</a> ) y la configuraci√≥n de iSCSI ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mejores pr√°cticas para ejecutar VMware vSphere en iSCSI</a> ) </p><br><h3>  <i><b>Topolog√≠a de conexi√≥n y configuraci√≥n de SAN</b></i> </h3><br><p>  Los componentes principales de una red SAN son HBA en hosts ESXi, conmutadores SAN y nodos de matriz.  Una topolog√≠a t√≠pica de dicha red se ver√≠a as√≠: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ci/wt/lg/ciwtlgk31rhm06xplvzbbwkxu0y.png"></div><br><p>  El t√©rmino Switch aqu√≠ se refiere a un solo interruptor f√≠sico o un conjunto de interruptores (Fabric), o un dispositivo compartido entre diferentes servicios (VSAN en el caso de Fibre Channel y VLAN en el caso de iSCSI).  El uso de dos interruptores / Fabric independientes elimina un posible punto de falla. </p><br><p>  La conexi√≥n directa de los hosts a la matriz, aunque es compatible, no se recomienda.  El rendimiento de todos los arreglos Flash es bastante alto.  Y para obtener la m√°xima velocidad, debe usar todos los puertos de la matriz.  Por lo tanto, se requiere al menos un cambio entre hosts y NeoSapphire ‚Ñ¢. </p><br><p>  Tener dos puertos en el host HBA tambi√©n es un requisito previo para un rendimiento m√°ximo y tolerancia a fallas. </p><br><p>  Si usa la interfaz Fibre Channel, debe configurar la zonificaci√≥n para evitar posibles conflictos entre los iniciadores y los destinos.  Las zonas se basan en el principio de "un puerto iniciador: uno o m√°s puertos de matriz". </p><br><p>  Si est√° utilizando una conexi√≥n iSCSI si est√° utilizando un conmutador que se comparte con otros servicios, debe aislar el tr√°fico iSCSI dentro de una VLAN separada.  Tambi√©n es muy recomendable que habilite el soporte de Jumbo Frames (MTU = 9000) para aumentar el tama√±o de los paquetes en la red y, por lo tanto, reducir la cantidad de sobrecarga durante la transmisi√≥n.  Sin embargo, vale la pena recordar que para un funcionamiento correcto es necesario cambiar el par√°metro MTU en todos los componentes de la red a lo largo de la cadena iniciador-conmutador-objetivo. </p><br><h3>  <i><b>Configuraci√≥n de todas las matrices flash</b></i> </h3><br><p>  La matriz se entrega a clientes con grupos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FlexiRemap¬Æ</a> ya formados.  Por lo tanto, no se necesita ninguna acci√≥n para integrar las unidades en una sola estructura.  Es suficiente crear vol√∫menes del tama√±o requerido y en la cantidad requerida. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/zn/x9/nc/znx9ncuyd2rgm8-jfvwf620zaqg.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/wx/8l/ua/wx8lualewtdkixfwg0petpxbsre.png"></div><p></p><br><p>  Para mayor comodidad, existe una funcionalidad para la creaci√≥n por lotes de varios vol√∫menes de un volumen dado a la vez.  Los vol√∫menes "delgados" se crean de forma predeterminada, ya que esto permite un uso m√°s racional del espacio de almacenamiento disponible (incluso gracias al soporte de Recuperaci√≥n de espacio).  En t√©rminos de rendimiento, la diferencia entre vol√∫menes delgados y gruesos no supera el 1%.  Sin embargo, si desea "exprimir todos los jugos" de la matriz, siempre puede convertir cualquier volumen "delgado" a "grueso".  Pero debe recordarse que tal operaci√≥n es irreversible. </p><br><p>  Luego queda "publicar" los vol√∫menes creados y establecer los derechos de acceso a ellos desde los hosts utilizando la ACL (direcciones IP para iSCSI y WWPN para FC) y la separaci√≥n f√≠sica de los puertos en la matriz.  Para los modelos iSCSI, esto se realiza mediante la creaci√≥n de Target. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/mw/8y/cg/mw8ycgqngghoyuelortgysofswi.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/py/xe/28/pyxe28gnrsxh_cx4ltjleogwsmw.png"></div><p></p><br><p>  Para los modelos FC, la publicaci√≥n se produce mediante la creaci√≥n de un LUN para cada puerto de la matriz. </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/qh/u3/bx/qhu3bxhm-kqinygguz298izbw7e.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/oh/al/ey/ohaleyllpb-0bmot9kawc4-ssyg.png"></div><p></p><br><p>  Para acelerar el proceso de configuraci√≥n, los hosts se pueden agrupar.  Adem√°s, si el host utiliza el FC HBA multipuerto (que en la pr√°ctica ocurre con mayor frecuencia), el sistema determina autom√°ticamente que los puertos de dicho HBA pertenecen al mismo host debido a WWPN, que difieren en uno.  Adem√°s, la creaci√≥n de lotes de Target / LUN es compatible con ambas interfaces. </p><br><p>  Un punto importante cuando se usa la interfaz iSCSI es crear m√∫ltiples objetivos para vol√∫menes a la vez para aumentar el rendimiento, ya que la cola de destino no se puede cambiar, y en realidad ser√° un cuello de botella. </p><br><p></p><h3>  Configurar hosts ESXi </h3><p></p><br><p>  En el lado de ESXi, la configuraci√≥n b√°sica se realiza de acuerdo con el escenario bastante esperado.  Procedimiento para la conexi√≥n iSCSI: </p><br><p></p><ol><li>  Agregue el adaptador iSCSI de software (no es necesario si ya se ha agregado o si utiliza el adaptador iSCSI de hardware); </li><li>  Crear vSwitch, a trav√©s del cual ir√° el tr√°fico iSCSI, y agregarle un enlace ascendente f√≠sico y VMkernal; </li><li>  Agregar direcciones de matriz a Dynamic Discovery; </li><li>  Crear almac√©n de datos </li></ol><br><p>  <b>Algunas notas importantes:</b> </p><br><blockquote><ul><li>  En el caso general, por supuesto, puede usar el vSwitch existente, pero en el caso de un vSwitch separado, administrar la configuraci√≥n del host ser√° mucho m√°s simple. </li><li>  Es necesario separar el tr√°fico de administraci√≥n y el iSCSI en enlaces f√≠sicos y / o VLAN separados para evitar problemas de rendimiento. </li><li>  Las direcciones IP de VMkernal y los puertos correspondientes de la matriz All Flash deben estar en la misma subred, nuevamente debido a problemas de rendimiento. </li><li>  Para garantizar la tolerancia a fallos de VMware, vSwitch debe tener al menos dos enlaces ascendentes f√≠sicos </li><li>  Si usa Jumbo Frames, debe cambiar la MTU de vSwitch y VMkernal </li><li>  No ser√° extra√±o recordar que, de acuerdo con las recomendaciones de VMware para adaptadores f√≠sicos que se utilizar√°n para trabajar con tr√°fico iSCSI, es necesario configurar Teaming y Failover.  En particular, cada VMkernal debe funcionar solo a trav√©s de un enlace ascendente, el segundo enlace ascendente debe cambiarse al modo no utilizado.  Para la tolerancia a fallas, debe agregar dos VMkernal, cada uno de los cuales funcionar√° a trav√©s de su enlace ascendente. </li></ul><br></blockquote><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/_h/jb/va/_hjbvatnuhjwts4duy2epgb7bbi.png"></div><p></p><br><table><tbody><tr><th>  Adaptador VMkernel (vmk #) </th><th>  Adaptador de red f√≠sica (vmnic #) </th></tr><tr><td>  vmk1 (Almacenamiento01) </td><td>  Adaptadores activos <br>  vmnic2 <br>  Adaptadores no utilizados <br>  vmnic3 <br></td></tr><tr><td>  vmk2 (Almacenamiento02) </td><td>  Adaptadores activos <br>  vmnic3 <br>  Adaptadores no utilizados <br>  vmnic2 <br></td></tr></tbody></table><br><p>  No se requiere conexi√≥n de canal de fibra.  Puede crear inmediatamente un almac√©n de datos. </p><br><p>  Despu√©s de crear el almac√©n de datos, debe asegurarse de que la pol√≠tica Round Robin se utilice para las rutas a Target / LUN como las m√°s productivas. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zh/zr/t1/zhzrt15baoc1qlp0w6ds-mys3hu.png"></div><p></p><br><p>  De manera predeterminada, la configuraci√≥n de VMware proporciona el uso de esta pol√≠tica de acuerdo con el esquema: 1000 solicitudes a trav√©s de la primera ruta, las siguientes 1000 solicitudes a trav√©s de la segunda ruta, etc.  Esta interacci√≥n del host con una matriz de controlador dual estar√° desequilibrada.  Por lo tanto, recomendamos configurar la pol√≠tica Round Robin = 1 par√°metro a trav√©s de Esxcli / PowerCLI. </p><br><div class="spoiler">  <b class="spoiler_title">Par√°metros</b> <div class="spoiler_text"><p>  Para Esxcli: </p><br><ul><li>  Imprimir LUN disponibles </li></ul><br><p>  <b>lista de dispositivos de almacenamiento nmp esxcli</b> </p><br><ul><li>  Copiar nombre del dispositivo </li><li>  Cambiar la pol√≠tica de Round Robin </li></ul><br><p>  <b>esxcli storage nmp psp roundrobin deviceconfig set --type = iops --iops = 1 --device = "Device_ID"</b> </p></div></div><br><p>  La mayor√≠a de las aplicaciones modernas est√°n dise√±adas para intercambiar grandes paquetes de datos con el fin de maximizar la utilizaci√≥n del ancho de banda y reducir la carga de la CPU.  Por lo tanto, ESXi transfiere de manera predeterminada las solicitudes de E / S al dispositivo de almacenamiento en lotes de hasta 32767 KB.  Sin embargo, para una serie de escenarios, el intercambio de porciones m√°s peque√±as ser√° m√°s productivo.  Para las matrices AccelStor, estos son los siguientes escenarios: </p><br><ul><li>  La m√°quina virtual usa UEFI en lugar de BIOS heredado </li><li>  Utilizado por vSphere Replication </li></ul><br><p>  Para tales escenarios, se recomienda que cambie el valor del par√°metro Disk.DiskMaxIOSize a 4096. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/1g/et/3g/1get3g8odkem1onrpkwjdilbnsi.png"></div><p></p><br><p>  Para las conexiones iSCSI, se recomienda cambiar el par√°metro de tiempo de espera de inicio de sesi√≥n a 30 (predeterminado 5) para aumentar la estabilidad de la conexi√≥n y desactivar el retraso del reconocimiento de los paquetes de retardo reenviado.  Ambas opciones est√°n en vSphere Client: Host ‚Üí Configurar ‚Üí Almacenamiento ‚Üí Adaptadores de almacenamiento ‚Üí Opciones avanzadas para el adaptador iSCSI </p><br><p></p><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/1y/5_/c8/1y5_c80zsijgqtngo-9vt2zbbo8.png"></div><br><div style="text-align:center;"><img width="50%" src="https://habrastorage.org/webt/bh/yi/tv/bhyitvuujofnioaunwhzypx3fe0.png"></div><p></p><br><p>  Un punto bastante sutil es el n√∫mero de vol√∫menes utilizados para el almac√©n de datos.  Est√° claro que para facilitar la administraci√≥n existe el deseo de crear un gran volumen para todo el volumen de la matriz.  Sin embargo, la presencia de varios vol√∫menes y, en consecuencia, el almac√©n de datos tiene un efecto beneficioso sobre el rendimiento general (m√°s informaci√≥n sobre las colas un poco m√°s adelante en el texto).  Por lo tanto, recomendamos crear al menos dos vol√∫menes. </p><br><p>  M√°s recientemente, VMware aconsej√≥ limitar la cantidad de m√°quinas virtuales en un √∫nico almac√©n de datos, nuevamente para obtener el mejor rendimiento posible.  Sin embargo, ahora, especialmente con la propagaci√≥n de VDI, este problema ya no es tan grave.  Pero esto no cancela la regla de larga data: distribuir m√°quinas virtuales que requieren E / S intensivas en diferentes almacenes de datos.  No hay nada mejor para determinar la cantidad √≥ptima de m√°quinas virtuales por volumen que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">probar la matriz All Flash de AccelStor</a> dentro de su infraestructura. </p><br><h3>  <i><b>Configurar m√°quinas virtuales</b></i> </h3><br><p>  No hay requisitos especiales al configurar m√°quinas virtuales, o m√°s bien, son bastante comunes: </p><br><ul><li>  Usando la versi√≥n m√°s alta posible de VM (compatibilidad) </li><li>  Es m√°s preciso establecer el tama√±o de RAM cuando las m√°quinas virtuales est√°n densamente ubicadas, por ejemplo, en VDI (ya que, de manera predeterminada, al inicio, se crea un archivo de paginaci√≥n que es comparable al tama√±o de RAM, que consume capacidad √∫til y tiene un efecto en el rendimiento final) </li><li>  Utilice las versiones de adaptadores IO m√°s eficientes: tipo de red VMXNET 3 y tipo SCSI PVSCSI </li><li>  Utilice el tipo de unidad Thick Provision Eager Zeroed para obtener el m√°ximo rendimiento y Thin Provisioning para la m√°xima utilizaci√≥n del almacenamiento </li><li>  Si es posible, limite el trabajo de las m√°quinas de E / S no cr√≠ticas utilizando el l√≠mite de disco virtual </li><li>  Aseg√∫rese de instalar VMware Tools </li></ul><br><h3>  <i><b>Notas de la cola</b></i> </h3><br><p>  Una cola (o E / S pendientes) es el n√∫mero de solicitudes de E / S (comandos SCSI) que est√°n esperando el procesamiento en un momento dado desde un dispositivo / aplicaci√≥n en particular.  En el caso de un desbordamiento de la cola, se generan errores QFULL, lo que finalmente resulta en un aumento en el par√°metro de latencia.  Cuando se utilizan sistemas de almacenamiento en disco (eje), en teor√≠a, cuanto mayor es la cola, mayor es su rendimiento.  Sin embargo, no debe abusar de √©l, porque es f√°cil ejecutar QFULL.  En el caso de los sistemas All Flash, por un lado, todo es algo m√°s simple: la matriz tiene retrasos varios √≥rdenes de magnitud m√°s bajos y, por lo tanto, la mayor√≠a de las veces no es necesario ajustar por separado el tama√±o de las colas.  Pero, por otro lado, en algunos escenarios de uso (un fuerte sesgo en los requisitos de IO para m√°quinas virtuales espec√≠ficas, pruebas de rendimiento m√°ximo, etc.), si no cambia los par√°metros de la cola, al menos comprenda qu√© indicadores se pueden lograr y, Lo m√°s importante, de qu√© maneras. </p><br><p>  All Flash Array de AccelStor en s√≠ no tiene l√≠mites en vol√∫menes o puertos de E / S.  Si es necesario, incluso un solo volumen puede obtener todos los recursos de la matriz.  La √∫nica restricci√≥n de la cola es con objetivos iSCSI.  Es por esta raz√≥n que la necesidad de crear varios objetivos (idealmente hasta 8 piezas) para cada volumen para superar este l√≠mite se indic√≥ anteriormente.  Adem√°s, los arreglos AccelStor son soluciones altamente productivas.  Por lo tanto, debe usar todos los puertos de interfaz del sistema para lograr la velocidad m√°xima. </p><br><p>  En el lado de ESXi del host, la situaci√≥n es completamente diferente.  El propio anfitri√≥n aplica la pr√°ctica de igualdad de acceso a los recursos para todos los participantes.  Por lo tanto, hay colas de E / S separadas para el SO invitado y HBA.  Las colas para el sistema operativo invitado se combinan desde las colas hasta el adaptador SCSI virtual y el disco virtual: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/pv/gu/sk/pvguskcy3y4yo7whrx8jiuggtdm.png"></div><br><p>  La cola para HBA depende del tipo / proveedor espec√≠fico: </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/hs/6h/tnhs6h0wpivfrb5xfv2qms4tzjy.png"></div><br><p>  El rendimiento final de la m√°quina virtual estar√° determinado por el l√≠mite de profundidad de cola m√°s bajo entre los componentes del host. </p><br><p>  Gracias a estos valores, puede evaluar los indicadores de rendimiento que podemos obtener en una u otra configuraci√≥n.  Por ejemplo, queremos saber el rendimiento te√≥rico de una m√°quina virtual (sin vincular a un bloque) con latencia de 0,5 ms.  Entonces su IOPS = (1,000 / latencia) * E / S pendientes (l√≠mite de profundidad de cola) </p><br><div class="spoiler">  <b class="spoiler_title">Ejemplos</b> <div class="spoiler_text"><p>  <b>Ejemplo 1</b> </p><br><ul><li>  Adaptador FC Emulex HBA </li><li>  Una m√°quina virtual en el almac√©n de datos </li><li>  Adaptador VMware Paravirtual SCSI </li></ul><br><p>  Aqu√≠ el l√≠mite de profundidad de la cola est√° determinado por el HBA Emulex.  Por lo tanto, IOPS = (1000 / 0.5) * 32 = 64K </p><br><p>  <b>Ejemplo 2</b> </p><br><ul><li>  Adaptador de software VMware iSCSI </li><li>  Una m√°quina virtual en el almac√©n de datos </li><li>  Adaptador VMware Paravirtual SCSI </li></ul><br><p>  Aqu√≠, el l√≠mite de profundidad de la cola ya est√° definido por el adaptador paravirtual SCSI.  Por lo tanto, IOPS = (1000 / 0.5) * 64 = 128K </p></div></div><br><p>  Los mejores arreglos All AccelStor All Flash (como el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">P710</a> ) son capaces de ofrecer un rendimiento de 700K IOPS para grabar en bloque 4K.  Con tal tama√±o de bloque, es obvio que una sola m√°quina virtual no es capaz de cargar dicha matriz.  Para hacer esto, necesitar√° 11 (por ejemplo 1) o 6 (por ejemplo 2) m√°quinas virtuales. </p><br><p>  Como resultado, con la configuraci√≥n correcta de todos los componentes descritos del centro de datos virtual, puede obtener resultados muy impresionantes en t√©rminos de rendimiento. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/uj/xy/cs/ujxycs-_fo-zworv8wds9kgp1j4.jpeg"></div><br><p>  <i>4K aleatorio, 70% de lectura / 30% de escritura</i> </p><br><p>  De hecho, el mundo real es mucho m√°s dif√≠cil de describir con una f√≥rmula simple.  Un solo host siempre tiene muchas m√°quinas virtuales con diferentes configuraciones y requisitos de E / S.  S√≠, y el procesador host se dedica al procesamiento de entrada / salida, cuya potencia no es infinita.  Entonces, para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">liberar</a> todo el potencial del mismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo, el P710</a> en realidad necesitar√° tres hosts.  Adem√°s, las aplicaciones que se ejecutan dentro de m√°quinas virtuales hacen ajustes.  Por lo tanto, para un dimensionamiento preciso, sugerimos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">usar una prueba en el caso de modelos de prueba de</a> todos los arreglos All Flash <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AccelStor</a> dentro de la infraestructura del cliente para las tareas actuales de la vida real. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/447390/">https://habr.com/ru/post/447390/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447376/index.html">SNA Hackathon 2019</a></li>
<li><a href="../447380/index.html">Excepciones de Kotlin y sus caracter√≠sticas.</a></li>
<li><a href="../447382/index.html">El libro "Unidad y C #. Gamedev desde la idea hasta la implementaci√≥n. 2da ed</a></li>
<li><a href="../447384/index.html">Potencia semiconductores en guardia de ecolog√≠a</a></li>
<li><a href="../447388/index.html">TL; DR-digest de la Universidad ITMO: admisi√≥n no cl√°sica a la universidad, pr√≥ximos eventos y los materiales m√°s interesantes</a></li>
<li><a href="../447392/index.html">Tres problemas de los servicios para verificar la gram√°tica del ingl√©s y si pueden resolverse</a></li>
<li><a href="../447394/index.html">Entrevista con Vladimir Likhachev, padre de Nikolai Likhachev, mejor conocido como Chris Kaspersky</a></li>
<li><a href="../447396/index.html">¬øSon valiosos los datos de su empresa en la era de la IA?</a></li>
<li><a href="../447398/index.html">Automatizaci√≥n rob√≥tica de procesos: una nueva mirada a las tecnolog√≠as antiguas</a></li>
<li><a href="../447402/index.html">Splunk Universal Forwarder en la ventana acoplable como registrador del sistema</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>