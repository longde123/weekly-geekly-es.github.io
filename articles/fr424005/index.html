<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòµ ü¶î üîÄ Prototypes rapides sur Flutter et Kotlin / Native üë®üèΩ‚Äç‚öïÔ∏è ü•ã üé∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ayant pour t√¢che de d√©velopper une application pour notre prochaine conf√©rence interne au sein du groupe OLX, mon √©quipe a r√©fl√©chi √† la mani√®re de r√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prototypes rapides sur Flutter et Kotlin / Native</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424005/"><p><img src="https://habrastorage.org/getpro/habr/post_images/c05/ca7/ac4/c05ca7ac4411c1d831ae565963ad5b19.jpg" alt="Prototypes rapides sur Flutter et Kotlin / Native"></p><br><p>  Ayant pour t√¢che de d√©velopper une application pour notre prochaine conf√©rence interne au sein du groupe OLX, mon √©quipe a r√©fl√©chi √† la mani√®re de r√©duire le temps n√©cessaire √† la cr√©ation d'une application pour iOS et Android, car nous n'avions rien √† faire.  La premi√®re chose qui m‚Äô√©tait venue √† l‚Äôesprit √©tait d‚Äôutiliser Kotlin,  Il peut √™tre compil√© sur d'autres plateformes.  <em>Spoiler: tout ne s'est pas pass√© comme pr√©vu, mais nous avons tout fait √† temps, en apprenant beaucoup en cours de route!</em> </p><br><p>  Voici donc une histoire sur la fa√ßon dont nous avons cr√©√© l'application OLX Group Product &amp; Tech Conference en un temps record. </p><a name="habracut"></a><br><p>  R√©cemment, des entreprises telles que Google et Facebook ont ‚Äã‚Äãfait de grands efforts dans le d√©veloppement du d√©veloppement multiplateforme.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flutter</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kotlin / Native</a> sont les r√©sultats de ces efforts. </p><br><h2 id="chto-takoe-flutter">  Qu'est-ce que le flottement? </h2><br><p>  Flutter, d√©velopp√© par Google, a √©t√© annonc√© en 2017.  En tant que langage de d√©veloppement, il utilise Dart.  Flutter prend en charge la compilation de code sur Android et iOS √† l'aide d'une seule base de code √©crite en Dart.  Flutter se compile en code natif et n'utilise pas de composants d'affichage Web dans les applications.  Mais il utilise ses propres composants d'interface utilisateur au lieu de ceux sp√©cifiques √† la plate-forme comme UIView dans iOS ou Fragments et ViewGroups dans Android.  Flutter prend √©galement en charge la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">conception mat√©rielle</a> et la th√©matique des mat√©riaux dans ses composants d'interface utilisateur. </p><br><p>  Nous n'avions aucune exp√©rience de d√©veloppement sur Dart, donc nous n'√©tions pas s√ªrs d'avoir assez de temps pour apprendre une nouvelle langue (apr√®s tout, nous avions d'autres t√¢ches prioritaires).  Nous n'avons vraiment commenc√© √† utiliser Flutter que lorsque nous avons r√©alis√© que nous avions vraiment peu de temps.  Par cons√©quent, au d√©but, nous avons commenc√© √† utiliser Kotlin / Native et d√©velopp√© pour eux des donn√©es fictives et une logique. </p><br><p>  Voici une telle structure de dossiers dans Kotlin / Native que nous avions: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/55e/3fc/287/55e3fc287dfe0cef90703ff79e6a61f6.jpg" alt="Structure des dossiers dans Kotlin / Native"></p><br><p>  Faites attention au dossier ¬´commun¬ª, qui contient tout le code commun √©crit en Kotlin.  Par cons√©quent, les projets sur Android et iOS utilisent le code de ce dossier. </p><br><h2 id="chto-takoe-kotlinnative">  Qu'est-ce que Kotlin / Native? </h2><br><p>  Kotlin / Native a √©t√© d√©velopp√© par JetBrains, la m√™me soci√©t√© qui a cr√©√© Kotlin.  Si vous n'avez pas entendu parler de Kotlin, vous n'avez peut-√™tre tout simplement pas acc√©d√© √† Internet r√©cemment.  En g√©n√©ral, il s'agit d'un remplacement simplifi√© de Java, qui prend √©galement en charge la compatibilit√© descendante avec lui.  Kotlin / Native vous permet d'√©crire du code sur Kotlin et de le compiler sur diverses plates-formes qui initialement ne prennent pas en charge Kotlin, par exemple, iOS. </p><br><h2 id="dizayn">  La conception </h2><br><p>  Nous avons demand√© √† notre designer de jeter une mise en page pour l'application, et elle a rapidement produit un joli design avec Material Theming.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sketch</a> a un plugin pour cr√©er des croquis Material Theming, ce qui nous a fait gagner beaucoup de temps et d'efforts. </p><br><p>  Voici un bref aper√ßu des dessins de croquis r√©alis√©s par notre designer: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ec3/e58/7b8/ec3e587b8063208eca520350521e6569.jpg" alt="Aper√ßu des vignettes"></p><br><p>  Material Theming vous permet de cr√©er rapidement des mises en page de conception et prend en charge iOS et Android. </p><br><p>  Au d√©part, nous voulions impl√©menter l'interface utilisateur s√©par√©ment pour Android et iOS.  Malgr√© le fait que les deux plates-formes prennent en charge Material Theming, nous aurions encore √† √©crire des interfaces pour les deux.  Et nous pensions que si nous utilisons Flutter pour l'interface utilisateur, alors nous aurons une base de code et elle sera ind√©pendante de la logique d'application, et en cons√©quence, nous pouvons continuer √† utiliser la logique Kotlin ind√©pendamment de cela. </p><br><h2 id="uchim-kotlinnative-i-flutter-rabotat-vmeste">  Nous apprenons √† Kotlin / Native et Flutter √† travailler ensemble </h2><br><p>  Parce que  Avant cela, nous ne travaillions pas avec Flutter, nous devions nous assurer qu'il fonctionnerait avec le code existant que nous avons d√©j√†.  Au fait, il semble qu'avant cela, personne n'essayait d'utiliser Flutter et Kotlin / Native ensemble.  Nous avions pr√©vu de construire l'architecture pr√©sent√©e ci-dessous.  Cette architecture r√©duit la quantit√© de code sp√©cifique √† chaque plate-forme et r√©duit √©galement la quantit√© de code sur Dart, car  nous pouvons isoler la plupart de la logique en utilisant Kotlin. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/5f7/3d9/cd0/5f73d9cd00d30319688ed44934704147.png" alt="Architecture d'application"></p><br><p>  Nous avons pu r√©duire la quantit√© de code sp√©cifique en utilisant Kotlin et Dart.  Parce que  Comme nous connaissions mieux Kotlin, nous avons √©crit la plupart du code g√©n√©ral dessus, et non sur Dart. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ab1/416/d58/ab1416d58e52c0b7742a3c112d3024e4.jpg" alt="App"></p><br><h2 id="ogranicheniya">  Limitations </h2><br><p>  Ces deux technologies ont certaines limites qui rendent leur utilisation pas aussi simple qu'elle pourrait l'√™tre. </p><br><p>  <strong>Limite 1:</strong> Kotlin / Native ne prend en charge que les classes Kotlin pour le code commun.  Par exemple, si vous vouliez utiliser java.util.Date, vous n'auriez pas une telle opportunit√©, car  il n√©cessite une JVM.  Une fa√ßon de r√©soudre ce probl√®me consiste √† impl√©menter cette m√©thode dans le code des plateformes (Android et iOS) et √† l'appeler depuis Kotlin / Native. </p><br><p>  <strong>Limite 2:</strong> Kotlin utilise des objets compagnons pour les m√©thodes statiques qui se transforment en un objet compl√®tement nouveau dans iOS.  Un moyen de contourner cela est de faire des m√©thodes d'instance de m√©thodes statiques ou de faire d'une m√©thode de classe une fonction globale. </p><br><p>  <strong>Limite 3:</strong> Kotlin / Native prend uniquement en charge la compilation pour arm64 sur iOS.  Les derniers appareils fonctionnent avec cette architecture de processeur, mais les anciens sont toujours sur armv7.  Pour √©viter tout probl√®me avec l'architecture, allez simplement dans les "Param√®tres de construction" et supprimez toutes les architectures sauf arm64. </p><br><p>  Il existe √©galement des restrictions sur l'interaction entre le code Kotlin, le code Flutter et le code de plate-forme.  Flutter peut interagir avec le code de la plateforme √† l'aide de canaux, en y passant le nom de la m√©thode et un ensemble de param√®tres.  Les param√®tres sont limit√©s aux classes natives telles que map, list, string, int, etc.  Avec toute cette interaction, les objets personnalis√©s sont s√©rialis√©s.  Cependant, Flutter et Kotlin / Native ont un support limit√© pour la s√©rialisation, donc pour l'instant nous utilisons directement les classes natives. </p><br><h2 id="itogi">  R√©sum√© </h2><br><p>  R√©sultats cl√©s de notre exp√©rience: </p><br><ul><li>  Flutter est id√©al pour le prototypage rapide; </li><li>  Flutter et Kotlin / Native sont toujours en phase de test b√™ta, mais peuvent d√©j√† √™tre utilis√©s, bien qu'avec certaines limitations; </li><li>  Kotlin / Native r√©sout parfaitement le probl√®me de la r√©duction de la quantit√© de code sp√©cifique √† la plate-forme; </li><li>  Il est n√©cessaire d'√©crire une couche qui sera responsable du transfert des objets et de leur s√©rialisation. </li></ul><br><p>  Le d√©veloppement de l'application a pris environ une semaine de planification et une semaine et demie de d√©veloppement.  Nous passions environ une heure par jour avec quatre d√©veloppeurs et un designer, tout en faisant notre travail habituel. </p><br><p>  C'√©tait tr√®s amusant de d√©velopper cette application en utilisant Flutter et Kotlin, et j'esp√®re que vous essayez √©galement ces deux technologies. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/b2d/719/aff/b2d719aff4197c14e4c15c1c1b9f5f9c.gif" alt="Application IOS"></p><br><p>  Vous pouvez trouver plus de mat√©riel Kotlin / Native dans la documentation officielle: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Projets multi-plateformes</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kotlin / Native</a> </li></ul><br><p>  Et lisez / voyez sur Flutter ici: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Documentation Flutter</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flutter: Theming mat√©riel</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Beau code d'interface utilisateur Flutter et conception mat√©rielle (Google I / O '18)</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424005/">https://habr.com/ru/post/fr424005/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423995/index.html">Propret√© dans un atelier de geek. 2e partie</a></li>
<li><a href="../fr423997/index.html">"IT CRIMEA": un nouveau parc technologique √† S√©bastopol - il sera op√©rationnel √† la fin de cette ann√©e</a></li>
<li><a href="../fr423999/index.html">Les donn√©es utilisateur Windows sur un PC avec prise en charge de la saisie tactile sont √©crites dans un fichier s√©par√©</a></li>
<li><a href="../fr424001/index.html">Zimbra et protection contre le spam</a></li>
<li><a href="../fr424003/index.html">Comment Apple sort d'un cycle sans fin. Histoires d'un ancien campus</a></li>
<li><a href="../fr424007/index.html">8 histoires qui ont influenc√© le d√©veloppement de l'intelligence artificielle</a></li>
<li><a href="../fr424011/index.html">Nous poussons les param√®tres dans des op√©rations dangereuses dans un code s√ªr</a></li>
<li><a href="../fr424015/index.html">Des deux c√¥t√©s de la barricade: sur l'embauche de d√©veloppeurs d'applications mobiles</a></li>
<li><a href="../fr424017/index.html">Percer le complexe: une feuille de route pour une collaboration efficace</a></li>
<li><a href="../fr424019/index.html">Ancien ordinateur, Windows 7, 1 Go de RAM, Firefox et Internet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>