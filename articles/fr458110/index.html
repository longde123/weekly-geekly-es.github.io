<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíó üôáüèº ‚ò£Ô∏è Programmation dynamique dans le monde r√©el: d√©coupe de couture üèè ü¶Ç üé´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La programmation dynamique a la r√©putation de la m√©thode que vous √©tudiez √† l'universit√©, et vous ne vous en souvenez que lors des entretiens. Mais en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programmation dynamique dans le monde r√©el: d√©coupe de couture</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458110/">  La programmation dynamique a la r√©putation de la m√©thode que vous √©tudiez √† l'universit√©, et vous ne vous en souvenez que lors des entretiens.  Mais en fait, la m√©thode est applicable dans de nombreuses situations.  En fait, c'est une <b>technique pour r√©soudre efficacement des probl√®mes qui peuvent √™tre divis√©s en de nombreuses sous-t√¢ches hautement r√©p√©titives</b> . <br><br>  Dans l'article, je vais montrer une application r√©elle int√©ressante de la programmation dynamique - la t√¢che de sculpture de couture.  La t√¢che et la m√©thodologie sont d√©crites en d√©tail dans les travaux d'Avidan et Shamir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Couper les coutures pour redimensionner les images en fonction du contenu¬ª</a> (article du domaine public). <br><br>  Ceci fait partie d'une s√©rie d'articles sur la programmation dynamique.  Si vous souhaitez peaufiner les m√©thodes, consultez l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">introduction illustr√©e √† la programmation dynamique</a> . <br><a name="habracut"></a><br><h1>  Redimensionner l'image en fonction du contenu </h1><br>  Pour r√©soudre un probl√®me r√©el √† l'aide de la programmation dynamique, vous devez le formuler correctement.  Cette section d√©crit les pr√©r√©glages n√©cessaires pour la t√¢che s√©lectionn√©e. <br><br>  Les auteurs de l'article d'origine d√©crivent le redimensionnement d'image orient√© contenu, c'est-√†-dire la modification de la largeur ou de la hauteur de l'image en fonction du contenu.  Voir le travail original pour plus de d√©tails, et je propose un bref aper√ßu.  Supposons que vous souhaitiez redimensionner une photo d'un internaute: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/979/931/22d/97993122dc9a852c8b299974fc643aa8.jpg"><br>  <i><font color="gray">Vue de dessus d'un surfeur au milieu d'un oc√©an calme, avec des vagues turbulentes √† droite.</font></i>  <i><font color="gray">Photo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Kiril Dobrev</a> sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pixabay</a></font></i> <br><br>  Comme d√©crit en d√©tail dans l'article, il existe plusieurs fa√ßons de r√©duire la largeur de l'image: ce sont le recadrage et la mise √† l'√©chelle standard, avec leurs inconv√©nients inh√©rents, ainsi que la suppression des colonnes de pixels du milieu.  Comme vous pouvez l'imaginer, cela laisse une couture visible sur la photo, o√π l'image de gauche et de droite ne correspond pas.  Et de cette fa√ßon, vous ne pouvez supprimer qu'une quantit√© limit√©e d'images. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e2e/e83/7bc/e2ee837bc6950dd52349e3010f7c9c32.jpg"><br>  <i><font color="gray">Une tentative de r√©duire la largeur en coupant le c√¥t√© gauche et en coupant le bloc du milieu.</font></i>  <i><font color="gray">Ce dernier laisse une couture visible.</font></i> <br><br>  Avidan et Shamir dans l'article d√©crivent la nouvelle technique de ¬´sculpture de couture¬ª.  Il identifie d'abord les zones ¬´√† faible √©nergie¬ª moins importantes, puis calcule les ¬´coutures¬ª √† faible √©nergie qui traversent l'image.  Dans le cas d'une r√©duction de la largeur de l'image, une couture verticale est d√©termin√©e du haut de l'image vers le bas, qui sur chaque ligne se d√©cale vers la gauche ou la droite de pas plus d'un pixel. <br><br>  Sur la photo du surfeur, la couture la moins √©nergivore traverse le milieu de l'image, o√π l'eau est la plus silencieuse.  Cela est conforme √† notre intuition. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41b/8aa/6d9/41b8aa6d9d587e1ede3c02a2e515d5a0.jpg"><br>  <i><font color="gray">La couture la plus basse √©nergie trouv√©e dans l'image de l'internaute est repr√©sent√©e avec une ligne rouge de cinq pixels de large pour la visibilit√©, bien qu'en fait la couture ne soit que d'un pixel de large.</font></i> <br><br>  Apr√®s avoir d√©termin√© la couture avec le moins d'√©nergie, puis l'enlever, nous r√©duisons la largeur de l'image d'un pixel.  R√©p√©ter ce processus encore et encore r√©duit consid√©rablement la largeur de la photo enti√®re. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00b/ce5/31e/00bce531ebd56e33728f12d0d3103da9.jpg"><br>  <i><font color="gray">Image du surfeur apr√®s r√©duction de la largeur de 1024 pixels</font></i> <br><br>  Encore une fois, l'algorithme a logiquement supprim√© l'eau calme au milieu, ainsi que sur le c√¥t√© gauche de la photo.  Mais contrairement au recadrage, la texture de l'eau √† gauche est pr√©serv√©e et il n'y a pas de transitions nettes.  Certes, vous pouvez trouver des transitions imparfaites au centre, mais en gros, le r√©sultat semble naturel. <br><br><h3>  D√©finition de l'√©nergie de l'image </h3><br>  La magie est de trouver la couture la plus basse en √©nergie.  Pour ce faire, nous attribuons d'abord de l'√©nergie √† chaque pixel de l'image.  Ensuite, nous utilisons la programmation dynamique pour trouver le chemin √† travers l'image avec le moins d'√©nergie - cet algorithme sera discut√© en d√©tail dans la section suivante.  Voyons d'abord comment attribuer des valeurs d'√©nergie aux pixels. <br><br>  L'article scientifique discute plusieurs fonctions √©nerg√©tiques et leurs diff√©rences.  Ne compliquons pas cela et prenons une fonction qui capture simplement la quantit√© de changement de couleur autour de chaque pixel.  Pour compl√©ter l'image, je d√©crirai la fonction d'√©nergie plus en d√©tail au cas o√π vous voudriez l'impl√©menter vous-m√™me, mais ce n'est qu'un pr√©r√©glage pour les calculs de programmation dynamique ult√©rieurs. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bee/58c/9a3/bee58c9a39f57d4d548b020ae7e046e0.png"><br>  <i><font color="gray">√Ä gauche, trois pixels du fonc√© au clair.</font></i>  <i><font color="gray">La diff√©rence entre le premier et le dernier est grande.</font></i>  <i><font color="gray">Trois pixels sombres √† droite avec une l√©g√®re diff√©rence d'intensit√© des couleurs</font></i> <br><br>  Pour calculer l'√©nergie d'un pixel sp√©cifique, regardez les pixels √† gauche et √† droite de celui-ci.  C√¥t√© composants, nous calculons le carr√© de la distance entre eux, c'est-√†-dire le carr√© de la diff√©rence entre les composants rouge, vert et bleu, puis nous les ajoutons.  Nous faisons de m√™me pour les pixels au-dessus et en dessous du centre.  Enfin, additionnez les distances horizontales et verticales. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="53.125ex" height="3.142ex" viewBox="0 -1039.5 22873 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="3013" y="0"></use><g transform="translate(3585,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3D" x="4595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="5651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="6291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="7119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="7586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="7884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="8246" y="0"></use><g transform="translate(8775,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="638" y="-213"></use></g><g transform="translate(9732,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="10797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="11798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="12438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="13266" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="13733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="14031" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="14393" y="0"></use><g transform="translate(14922,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="675" y="-213"></use></g><g transform="translate(15904,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="16970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="17971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="18610" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="19439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="19905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="20204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="20565" y="0"></use><g transform="translate(21095,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="607" y="-213"></use></g><g transform="translate(22029,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> | \ Delta x | ^ 2 = (\ Delta r_x) ^ 2 + (\ Delta g_x) ^ 2 + (\ Delta b_x) ^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.581ex" height="3.262ex" viewBox="0 -1039.5 22638.9 1404.6" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="1357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="1823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="2122" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="2483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="3013" y="0"></use><g transform="translate(3510,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3D" x="4520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="5576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="6216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="7044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="7511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="7809" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="8171" y="0"></use><g transform="translate(8700,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="638" y="-213"></use></g><g transform="translate(9604,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="10669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="11670" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="12310" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="13138" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="13605" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="13903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="14265" y="0"></use><g transform="translate(14794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="675" y="-213"></use></g><g transform="translate(15723,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="16789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="17790" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="18429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="19258" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="19724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="20023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="20384" y="0"></use><g transform="translate(20914,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="607" y="-213"></use></g><g transform="translate(21795,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> | \ Delta y | ^ 2 = (\ Delta r_y) ^ 2 + (\ Delta g_y) ^ 2 + (\ Delta b_y) ^ 2 </script></p><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.234ex" height="3.142ex" viewBox="0 -1039.5 13878.5 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="1428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="1873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3D" x="3038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="4094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="4623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="5451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="6216" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="6578" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="7107" y="0"></use><g transform="translate(7680,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="8634" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="9635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-44" x="10164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="10992" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="11459" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-74" x="11757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="12119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="12648" y="0"></use><g transform="translate(13146,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="393" y="675"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>D</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> e (x, y) = | \ Delta x | ^ 2 + | \ Delta y | ^ 2 </script></p><br>  La seule mise en garde - disons, si un pixel est sur le bord gauche, il n'y a pas de voisin sur la gauche.  Dans ce cas, nous comparons uniquement avec le bon pixel.  Des v√©rifications similaires sont effectu√©es pour les pixels sur les bords sup√©rieur, droit et inf√©rieur. <br><br>  La fonction d'√©nergie est grande si les pixels voisins sont de couleurs tr√®s diff√©rentes et petite si elles sont similaires. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62a/270/c37/62a270c374afe98c9951449496a75041.jpg"><br>  <i><font color="gray">L‚Äô√©nergie de chaque pixel dans la photo d‚Äôun internaute: plus il est clair - plus il est √©lev√©.</font></i>  <i><font color="gray">Comme pr√©vu, le surfeur a l'√©nergie la plus √©lev√©e au milieu et les vagues turbulentes √† droite</font></i> <br><br>  La fonction √©nergie fonctionne bien sur une photo de surfeur.  Cependant, cela prend une tr√®s large gamme de valeurs.  Par cons√©quent, lors du rendu, il semble que dans la plupart des photos, les pixels aient une √©nergie nulle.  En fait, il y a tout simplement des valeurs tr√®s faibles par rapport aux r√©gions o√π l'√©nergie est la plus √©lev√©e.  Pour simplifier la visualisation, j'ai zoom√© sur l'internaute et mis en √©vidence cette zone. <br><br><h1>  Recherche de coutures basse √©nergie avec programmation dynamique </h1><br>  En calculant l'√©nergie de chaque pixel, nous pouvons trouver la couture avec l'√©nergie la plus faible du haut de l'image vers le bas.  La m√™me analyse s'applique aux coutures horizontales pour r√©duire la hauteur de l'image d'origine.  Cependant, nous nous concentrerons sur les verticales. <br><br>  Commen√ßons par la d√©finition: <br><br><ul><li>  Une couture est une s√©quence de pixels, un pixel par ligne.  La condition est qu'entre deux lignes cons√©cutives, les coordonn√©es <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-4"> x </script>  change de pas plus d'un pixel.  Cela pr√©serve la s√©quence de couture. <br></li><li>  La couture avec l'√©nergie la plus faible est celle dont l'√©nergie totale sur tous les pixels de la couture est minimis√©e. </li></ul><br>  Il est important de noter que le joint avec l'√©nergie la plus basse ne passe pas n√©cessairement par tous les pixels avec l'√©nergie la plus basse.  L'√©nergie totale de tous, pas des pixels individuels, est prise en compte. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3eb/f9d/cd8/3ebf9dcd8be067ac7f5adabfb1bea8e8.png"><br>  <i><font color="gray">L'approche gourmande ne fonctionne pas.</font></i>  <i><font color="gray">En choisissant un pixel basse √©nergie √† un stade pr√©coce, on se retrouve coinc√© dans la zone haute √©nergie de l'image (chemin rouge √† droite)</font></i> <br><br>  Comme vous pouvez le voir, vous ne pouvez pas simplement s√©lectionner le pixel √† √©nergie la plus basse sur la ligne suivante. <br><br><h3>  Nous divisons le probl√®me en sous-t√¢ches </h3><br>  Le probl√®me avec l'approche gourmande est que lorsque nous d√©cidons de la prochaine √©tape, nous ne prenons pas en compte le reste de la couture √† venir.  Nous ne pouvons pas regarder vers l'avenir, mais nous pouvons prendre en compte tout ce que nous savons d√©j√†. <br><br>  Tournons la t√¢che √† l'envers.  <i>Au lieu de choisir entre plusieurs pixels pour continuer une couture, nous choisirons entre plusieurs coutures pour aller √† un pixel</i> .  Ce que nous devons faire, c'est prendre chaque pixel et choisir entre les pixels de la ligne ci-dessus, d'o√π peut provenir la couture.  Si chacun des pixels de la ligne ci-dessus code le chemin parcouru jusqu'√† ce point, alors nous examinons essentiellement l'historique complet jusqu'√† ce point. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/efe/39e/c83/efe39ec83477a2a410e7b4214bef9377.png"><br>  <i><font color="gray">Pour chaque pixel, nous √©tudions trois pixels dans la ligne ci-dessus.</font></i>  <i><font color="gray">Choix fondamental - laquelle des coutures continuer?</font></i> <br><br>  Cela suppose une sous-t√¢che pour chaque pixel de l'image.  La sous-t√¢che doit trouver le meilleur chemin vers un pixel sp√©cifique, c'est donc une bonne id√©e d'associer √† chaque pixel l'√©nergie de la couture √† faible √©nergie qui <i>se termine par ce pixel</i> . <br><br>  Contrairement √† l'approche gourmande, l'approche ci-dessus essaie essentiellement tous les chemins possibles √† travers l'image.  C'est juste que lors de la v√©rification de tous les chemins possibles, les m√™mes sous-t√¢ches sont r√©solues encore et encore, ce qui fait de cette approche une option id√©ale pour la programmation dynamique. <br><br><h3>  D√©finition d'une relation de r√©currence </h3><br>  Comme d'habitude, nous devons maintenant formaliser l'id√©e dans une relation r√©cursive.  Il y a une sous-t√¢che correspondant √† chaque pixel de l'image d'origine, donc les entr√©es de notre relation de r√©currence peuvent √™tre juste des coordonn√©es <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-5"> x </script>  et <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> y </script>  de ce pixel.  Cela fournit des entr√©es enti√®res, ce qui facilite l'organisation des sous-t√¢ches, ainsi que la possibilit√© de stocker les valeurs pr√©c√©demment calcul√©es dans un tableau √† deux dimensions. <br><br>  D√©finir une fonction <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.66ex" viewBox="0 -832 3345.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7"> M (x, y) </script>  , qui repr√©sente l'√©nergie de la couture verticale avec le moins d'√©nergie.  Il commence en haut de l'image et se termine par un pixel <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8"> (x, y) </script>  .  Le titre <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.442ex" height="2.057ex" viewBox="0 -780.1 1051.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi></math></span></span><script type="math/tex" id="MathJax-Element-9"> M </script>  s√©lectionn√©s comme dans l'article scientifique d'origine. <br><br>  Tout d'abord, vous avez besoin d'une version de base.  Toutes les coutures qui se terminent sur la ligne sup√©rieure ont une longueur d'un seul pixel.  Ainsi, une couture avec une √©nergie minimale n'est qu'un pixel avec une √©nergie minimale: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.295ex" height="2.66ex" viewBox="0 -832 7446.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-30" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3D" x="3626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="4682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="5149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="5538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="6111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-30" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="7056" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> M (x, 0) = e (x, 0) </script></p><br>  Pour les pixels dans les lignes restantes, regardez les pixels en haut.  La couture devant √™tre continue, nous ne prenons en compte que trois pixels situ√©s en haut √† gauche, en haut et en haut √† droite.  √Ä partir d'eux, nous s√©lectionnons la couture avec l'√©nergie la plus faible, qui se termine par l'un de ces pixels, et ajoutons l'√©nergie du pixel actuel: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&amp;#xA0;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mspace linebreak=&quot;newline&quot; /><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="9.407ex" viewBox="0 -832 33095.6 4050.2" role="img" focusable="false" style="vertical-align: -7.475ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(5312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3D" x="3623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="4679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="5146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="5535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="6108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="6553" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="7050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="7662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6D" x="8913" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-69" x="9791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6E" x="10137" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-62" x="10987" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="11417" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-67" x="11883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-69" x="12364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6E" x="12709" y="0"></use><g transform="translate(13310,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-73" x="1899" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="15678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="16730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="17119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="17914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="18915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="19415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="19860" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="20580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="21581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="22081" y="0"></use></g><g transform="translate(14013,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="3178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="4179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="4679" y="0"></use></g><g transform="translate(11047,-2866)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="6403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="7042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6E" x="7509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-64" x="8109" y="0"></use><g transform="translate(8633,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-63" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-61" x="433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-73" x="963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-73" x="1899" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><mi>n</mi><mtext>&nbsp;</mtext><mi>b</mi><mi>e</mi><mi>g</mi><mi>i</mi><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mi>e</mi><mi>n</mi><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mi>c</mi><mi>a</mi><mi>s</mi><mi>e</mi><mi>s</mi></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> M (x, y) = e (x, y) + \ min \ begin {cases} M (x - 1, y - 1) \\ M (x, y - 1) \\ M (x + 1, y - 1) \ end {cases} </script></p><br>  En tant que situation limite, consid√©rons le cas o√π le pixel actuel se trouve sur le bord gauche ou droit de l'image.  Dans ces cas, nous omettons <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.66ex" viewBox="0 -832 6792.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>‚àí</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-12"> M (x-1, y-1) </script>  pour les pixels sur le bord gauche ou <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.66ex" viewBox="0 -832 6792.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13"> M (x + 1, y-1) </script>  sur le bord droit. <br><br>  Enfin, vous devez extraire l'√©nergie de la couture basse √©nergie, qui couvre toute la hauteur de l'image.  Cela signifie que nous regardons la ligne inf√©rieure de l'image et s√©lectionnons la couture la plus basse qui se termine √† l'un de ces pixels.  Pour photo large <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> W </script>  et grand <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-15"> H </script>  pixels: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn><mtext>&amp;#xA0;</mtext><mi>l</mi><mi>e</mi><mi>x</mi><mo>&amp;lt;</mo><mi>W</mi></mrow></msub><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.332ex" height="2.66ex" viewBox="0 -832 10476.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-69" x="1128" y="0"></use><g transform="translate(1474,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-30" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-6C" x="854" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-65" x="1152" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1619" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-3C" x="2191" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="2970" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="5016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="6067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="6457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="7029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="7474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="8585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="9586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="10086" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>m</mi><mi>i</mi><msub><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn><mtext>&nbsp;</mtext><mi>l</mi><mi>e</mi><mi>x</mi><mo>&lt;</mo><mi>W</mi></mrow></msub><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> \ min_ {0 \ le x <W} M (x, H - 1) </script></p><br>  Nous avons donc obtenu une relation de r√©currence avec toutes les propri√©t√©s n√©cessaires: <br><br><ul><li>  Une relation de r√©currence a des entr√©es enti√®res. <br></li><li>  La r√©ponse finale est facile √† extraire de la relation. <br></li><li>  Le rapport d√©pend de soi. </li></ul><br><h3>  V√©rification de la sous-t√¢che DAG (graphe acyclique orient√©) </h3><br>  Depuis chaque sous-t√¢che <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.66ex" viewBox="0 -832 3345.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17"> M (x, y) </script>  correspond √† un pixel de l'image d'origine, le graphique des d√©pendances est tr√®s facile √† visualiser.  Placez-les simplement sur une grille √† deux dimensions, comme dans l'image originale! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/24f/2a7/9cf/24f2a79cffa7d5c6f1f84bc4ff79d5bc.png"><br>  <i><font color="gray">Les sous-t√¢ches sont situ√©es dans une grille √† deux dimensions, comme les pixels de l'image d'origine</font></i> <br><br>  Comme il ressort du sc√©nario de base de la relation de r√©currence, la ligne sup√©rieure des sous-t√¢ches peut √™tre initialis√©e avec les valeurs d'√©nergie des pixels individuels. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/323/ddd/ee2/323dddee252bd76daec13922fd2de43e.png"><br>  <i><font color="gray">La ligne sup√©rieure est ind√©pendante des autres sous-t√¢ches.</font></i>  <i><font color="gray">Notez l'absence de fl√®ches dans la rang√©e sup√©rieure des cellules</font></i> <br><br>  Dans la deuxi√®me ligne, les d√©pendances commencent √† appara√Ætre.  Premi√®rement, dans la cellule la plus √† gauche de la deuxi√®me rang√©e, nous sommes confront√©s √† une situation frontali√®re.  Puisqu'il n'y a pas de cellules √† gauche, la cellule <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.168ex" height="2.66ex" viewBox="0 -832 2225.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-30" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1835" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-18"> (1,0) </script>  ne d√©pend que des cellules situ√©es directement au-dessus et en haut √† droite.  La m√™me chose se produira plus tard avec la cellule la plus √† gauche dans la troisi√®me rang√©e. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/946/1fa/21c/9461fa21ce25095b1d960f3a4e8ccbf6.png"><br>  <i><font color="gray">Les sous-t√¢ches sur le bord gauche d√©pendent uniquement de deux sous-t√¢ches au-dessus d'eux</font></i> <br><br>  Dans la deuxi√®me cellule de la deuxi√®me rang√©e (1,1), nous voyons la manifestation la plus typique de la relation de r√©currence.  Cette cellule d√©pend de trois cellules: en haut √† gauche, juste au-dessus et en haut √† droite.  Cette structure de d√©pendance s'applique √† toutes les cellules ¬´interm√©diaires¬ª de la deuxi√®me ligne et des suivantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/648/1f8/cbd/6481f8cbdaf08c304aab457ea42b520d.png"><br>  <i><font color="gray">Les sous-t√¢ches entre les bords gauche et droit d√©pendent des trois sous-t√¢ches en haut</font></i> <br><br>  Enfin, la cellule sur le bord droit repr√©sente la deuxi√®me situation limite.  Puisqu'il n'y a plus de cellules √† droite, cela ne d√©pend que des cellules directement en haut et en haut √† gauche. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4a8/38e/551/4a838e551dbe3859974e6fd5c13204d0.png"><br>  <i><font color="gray">Les sous-t√¢ches sur le bord droit ne d√©pendent que de deux cellules en haut</font></i> <br><br>  Le processus est r√©p√©t√© pour toutes les lignes suivantes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe2/42d/350/fe242d35089994e199c1028fb38554f0.gif"><br>  <i><font color="gray">Comme il y a beaucoup de fl√®ches dans le graphique des d√©pendances, cette animation montre tour √† tour les d√©pendances pour chaque sous-t√¢che</font></i> <br><br>  Un graphique de d√©pendance complet vous fait peur avec un grand nombre de fl√®ches, mais les regarder une √† la fois aide √† √©tablir des mod√®les explicites. <br><br><h3>  Mise en ≈ìuvre ascendante </h3><br>  Apr√®s avoir effectu√© cette analyse, nous avons obtenu l'ordre de traitement: <br><br><ul><li>  Allez du haut de l'image vers le bas. <br></li><li>  Chaque ligne peut agir dans n'importe quel ordre.  Le choix naturel est d'aller de gauche √† droite. </li></ul><br>  √âtant donn√© que chaque ligne d√©pend uniquement de la pr√©c√©dente, vous devez enregistrer uniquement deux lignes de donn√©es: une pour la ligne pr√©c√©dente et une pour la ligne actuelle.  En se d√©pla√ßant de gauche √† droite, nous pouvons m√™me ignorer les √©l√©ments individuels de la ligne pr√©c√©dente lorsqu'ils sont utilis√©s.  Cependant, cela complique l'algorithme, car il devra d√©terminer quelles parties de la ligne pr√©c√©dente peuvent √™tre supprim√©es. <br><br>  Dans le code Python suivant, l'entr√©e est une liste de lignes, o√π chaque ligne contient une liste de nombres repr√©sentant les √©nergies de pixel individuelles dans cette ligne.  L'entr√©e est appel√©e <code>pixel_energies</code> , et <code>pixel_energies[y][x]</code> repr√©sente l'√©nergie du pixel en coordonn√©es <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-19"> (x, y) </script>  . <br><br>  Commen√ßons par calculer l'√©nergie des coutures de la rang√©e sup√©rieure, simplement en copiant les √©nergies des pixels individuels dans la rang√©e sup√©rieure: <br><br><pre> <code class="python hljs">previous_seam_energies_row = list(pixel_energies[<span class="hljs-number"><span class="hljs-number">0</span></span>])</code> </pre> <br>  Ensuite, nous parcourons les lignes d'entr√©e restantes, calculant les √©nergies de couture pour chaque ligne.  La partie la plus ¬´difficile¬ª consiste √† d√©terminer √† quels √©l√©ments de la ligne pr√©c√©dente se r√©f√©rer, car il n'y a pas de pixels √† gauche du bord gauche ou √† droite du bord droit. <br><br>  √Ä chaque it√©ration, une nouvelle liste des √©nergies de couture pour la ligne actuelle est cr√©√©e.  √Ä la fin de l'it√©ration, nous rempla√ßons les donn√©es de la ligne pr√©c√©dente par les donn√©es de la ligne actuelle pour l'it√©ration suivante.  Voici comment nous supprimons la ligne pr√©c√©dente: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_seam_energy = pixel_energy + \ min(previous_seam_energies_row[x_i] for x_i in x_range) seam_energies_row.append(min_seam_energy) previous_seam_energies_row = seam_energies_row</span></span></code> </pre> <br>  Par cons√©quent, <code>previous_seam_energies_row</code> contient l'√©nergie de couture pour la ligne de fond.  Nous trouvons la valeur minimale dans cette liste - et c'est la r√©ponse! <br><br><pre> <code class="python hljs">min(seam_energy <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> seam_energy <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> previous_seam_energies_row)</code> </pre> <br>  Vous pouvez tester cette impl√©mentation en encapsulant le code dans une fonction, puis en l'appelant avec le tableau √† deux dimensions que vous avez cr√©√©.  L'entr√©e suivante a √©t√© choisie pour que l'approche gourmande √©choue, avec une couture √©vidente avec l'√©nergie la plus basse: <br><br><pre> <code class="python hljs">ENERGIES = [ [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>], [<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>], ] print(min_seam_energy(ENERGIES))</code> </pre> <br><h3>  Complexit√© spatiale et temporelle </h3><br>  Chaque pixel de l'image d'origine correspond √† une sous-t√¢che.  Pour chacune des sous-t√¢ches, il n'y a pas plus de trois d√©pendances, donc la r√©solution de chacune d'entre elles implique une quantit√© constante de travail.  La derni√®re rang√©e a lieu deux fois.  Donc pour une image large <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-20"> W </script>  et grand <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.057ex" viewBox="0 -780.1 888.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-21"> H </script>  la complexit√© temporelle des pixels est <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.345ex" height="2.66ex" viewBox="0 -832 6606.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="4168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="5168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="6217" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>√ó</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-22"> O (L √ó H + W) </script>  . <br><br>  √Ä chaque instant, nous avons deux listes: une pour la ligne pr√©c√©dente et une pour la ligne actuelle.  Dans le premier <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-23"> W </script>  √©l√©ments, et le second augmente progressivement pour <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.057ex" viewBox="0 -780.1 1048.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-24"> W </script>  .  Ainsi, la complexit√© spatiale est √©gale √† <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.18ex" height="2.66ex" viewBox="0 -832 3091.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-32" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="1653" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="2702" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-25"> O (2 W) </script>  c'est juste <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.247ex" height="2.66ex" viewBox="0 -832 2259 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-77" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1869" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-26"> O (w) </script>  . <br><br>  Notez que si nous supprimions r√©ellement les √©l√©ments de donn√©es de la ligne pr√©c√©dente, nous raccourcirions la liste des √©l√©ments de la ligne pr√©c√©dente √† peu pr√®s √† la m√™me vitesse que la liste de la ligne actuelle s'allonge.  Ainsi, la complexit√© spatiale restera <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>w</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.247ex" height="2.66ex" viewBox="0 -832 2259 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-77" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1869" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-27"> O (w) </script>  .  Bien que la largeur puisse varier, ce n'est g√©n√©ralement pas si important. <br><br><h1>  Pointeurs arri√®re basse √©nergie </h1><br>  Nous avons donc trouv√© la signification de la couture basse √©nergie, mais que faire de ces informations?  Apr√®s tout, en fait, nous ne nous soucions pas de l'importance de l'√©nergie, mais de la couture elle-m√™me!  Le probl√®me est qu'il n'y a aucun moyen de revenir du pixel final au reste de la couture. <br><br>  C'est ce que j'ai manqu√© dans les articles pr√©c√©dents, mais il en va de m√™me pour de nombreux probl√®mes de programmation dynamique.  Par exemple, si vous vous souvenez de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t√¢che d'un voleur de maison</a> , nous avons trouv√© la valeur maximale pour le montant du vol, mais pas quelles maisons sp√©cifiques doivent √™tre cambriol√©es pour obtenir ce montant. <br><br><h3>  Repr√©sentation des pointeurs arri√®re </h3><br>  R√©ponse g√©n√©rale: stockez <i>les pointeurs</i> .  Dans la t√¢che de couper les coutures, nous avons besoin non seulement de la valeur de l'√©nergie de la couture √† chaque pixel.  Vous devez √©galement savoir lequel des pixels de la ligne pr√©c√©dente a conduit √† cette √©nergie.  En stockant ces informations, nous pouvons suivre les pointeurs inverses jusqu'√† la ligne sup√©rieure, en obtenant les coordonn√©es de tous les pixels qui composent le joint avec le moins d'√©nergie. <br><br>  Tout d'abord, cr√©ez une classe pour stocker l'√©nergie et les pointeurs arri√®re.  L'√©nergie sera utilis√©e pour calculer les sous-t√¢ches.  Puisque le pointeur arri√®re d√©termine quel pixel de la ligne pr√©c√©dente a donn√© l'√©nergie actuelle, nous pouvons l'imaginer simplement comme la coordonn√©e x. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SeamEnergyWithBackPointer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, energy, x_coordinate_in_previous_row=None)</span></span></span><span class="hljs-function">:</span></span> self.energy = energy self.x_coordinate_in_previous_row = x_coordinate_in_previous_row</code> </pre> <br>  Le r√©sultat du calcul pour chaque sous-t√¢che ne sera pas seulement un nombre, mais une instance de cette classe. <br><br><h3>  Stockage du pointeur arri√®re </h3><br>  Au final, il faut remonter sur toute la hauteur de l'image, en suivant les signes inverses pour restaurer la couture avec le moins d'√©nergie.  Malheureusement, cela signifie que vous devez stocker des pointeurs pour tous les pixels de l'image, pas seulement la ligne pr√©c√©dente. <br><br>  Pour ce faire, nous enregistrons simplement le r√©sultat complet de toutes les sous-t√¢ches, bien qu'il soit techniquement possible d'abandonner les √©nergies num√©riques de la couture des lignes pr√©c√©dentes.  Les r√©sultats sont stock√©s dans un tableau √† deux dimensions, qui ressemble au tableau d'entr√©e. <br><br>  Commen√ßons par la premi√®re ligne, qui ne contient que des √©nergies de pixels individuelles.  Puisqu'il n'y a pas de ligne pr√©c√©dente, tous les pointeurs arri√®re sont manquants, mais pour des <code>SeamEnergyWithBackPointers</code> de coh√©rence, nous conserverons toujours les instances de <code>SeamEnergyWithBackPointers</code> : <br><br><pre> <code class="python hljs">seam_energies = [] <span class="hljs-comment"><span class="hljs-comment"># Initialize the top row of seam energies by copying over the top row of # the pixel energies. There are no back pointers in the top row. seam_energies.append([ SeamEnergyWithBackPointer(pixel_energy) for pixel_energy in pixel_energies[0] ])</span></span></code> </pre> <br>  La boucle principale fonctionne essentiellement de la m√™me mani√®re que l'impl√©mentation pr√©c√©dente, avec les diff√©rences suivantes: <br><br><ul><li>  Les donn√©es de la ligne pr√©c√©dente contiennent des instances de <code>SeamEnergyWithBackPointer</code> , par cons√©quent, lors du calcul de la valeur du taux de r√©currence, vous devez rechercher l'√©nergie de la couture √† l'int√©rieur de ces objets. <br></li><li>  En enregistrant les donn√©es pour le pixel actuel, vous devez cr√©er une nouvelle instance de <code>SeamEnergyWithBackPointer</code> .  Ici, nous allons stocker l'√©nergie de couture pour le pixel actuel, ainsi que la coordonn√©e x de la ligne pr√©c√©dente, utilis√©e pour calculer l'√©nergie de couture actuelle. <br></li><li>  √Ä la fin de chaque ligne, au lieu de supprimer les donn√©es de la ligne pr√©c√©dente, nous ajoutons simplement les donn√©es de la ligne actuelle √† <code>seam_energies</code> . </li></ul><br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Skip the first row in the following loop. for y in range(1, len(pixel_energies)): pixel_energies_row = pixel_energies[y] seam_energies_row = [] for x, pixel_energy in enumerate(pixel_energies_row): # Determine the range of x values to iterate over in the previous # row. The range depends on if the current pixel is in the middle of # the image, or on one of the edges. x_left = max(x - 1, 0) x_right = min(x + 1, len(pixel_energies_row) - 1) x_range = range(x_left, x_right + 1) min_parent_x = min( x_range, key=lambda x_i: seam_energies[y - 1][x_i].energy ) min_seam_energy = SeamEnergyWithBackPointer( pixel_energy + seam_energies[y - 1][min_parent_x].energy, min_parent_x ) seam_energies_row.append(min_seam_energy) seam_energies.append(seam_energies_row)</span></span></code> </pre> <br><h3>  Suivez les panneaux </h3><br>  Maintenant, toute la table des sous-t√¢ches est remplie et nous pouvons restaurer la couture avec le moins d'√©nergie.  Nous commen√ßons par chercher la coordonn√©e x dans la ligne du bas, qui correspond au joint avec le moins d'√©nergie: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Find the x coordinate with minimal seam energy in the bottom row. min_seam_end_x = min( range(len(seam_energies[-1])), key=lambda x: seam_energies[-1][x].energy )</span></span></code> </pre> <br>  Maintenant, allez du bas de l'image vers le haut, en changeant <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.817ex" viewBox="0 -520.7 497.5 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-28"> y </script>  de <code>len(seam_energies) - 1</code> √† z√©ro.  √Ä chaque it√©ration, ajoutez la paire actuelle <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.66ex" viewBox="0 -832 2294.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-29"> (x, y) </script>  √† la liste repr√©sentant notre couture, puis d√©finissez la valeur <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-30"> x </script>  pour l'objet vers lequel pointe <code>SeamEnergyWithBackPointer</code> dans la ligne actuelle. <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Follow the back pointers to form a list of coordinates that form the # lowest-energy seam. seam = [] seam_point_x = min_seam_end_x for y in range(len(seam_energies) - 1, -1, -1): seam.append((seam_point_x, y)) seam_point_x = \ seam_energies[y][seam_point_x].x_coordinate_in_previous_row seam.reverse()</span></span></code> </pre> <br>  Ainsi, la couture est construite vers le haut, la liste peut ensuite √™tre lue dans l'ordre inverse, si vous avez besoin de coordonn√©es de haut en bas. <br><br><h3>  Complexit√© spatiale et temporelle </h3><br>  La complexit√© temporelle est similaire √† la pr√©c√©dente, car nous devons encore traiter chaque pixel une fois.  Apr√®s avoir regard√© la derni√®re ligne et trouv√© l'articulation avec le moins d'√©nergie, nous remontons ensuite toute la hauteur de l'image pour restaurer l'articulation.  Donc pour l'image <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.487ex" height="2.057ex" viewBox="0 -780.1 2792.9 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi><mo>√ó</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-31"> L √ó H </script>  la complexit√© du temps est √©gale <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo>+</mo><mi>L</mi><mo>+</mo><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.397ex" height="2.66ex" viewBox="0 -832 8351.3 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="4168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="5168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2B" x="6072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="7073" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="7961" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>√ó</mo><mi>H</mi><mo>+</mo><mi>L</mi><mo>+</mo><mi>H</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32"> O (L √ó H + L + H) </script>  . <br><br>  En ce qui concerne le volume, nous gardons toujours une quantit√© constante de donn√©es pour chaque sous-t√¢che, mais maintenant nous ne supprimons aucune donn√©e.  Nous utilisons donc le volume <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>L</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.069ex" height="2.66ex" viewBox="0 -832 4335.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="2056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="3057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="3945" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>L</mi><mo>√ó</mo><mi>H</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-33"> O (L √ó H) </script>  . <br><br><h1>  √âlimination des coutures √† faible √©nergie </h1><br>  D√®s que le joint vertical avec l'√©nergie la plus basse est trouv√©, nous pouvons simplement copier les pixels de l'image d'origine vers une nouvelle.  Chaque ligne de la nouvelle image contient tous les pixels de la ligne correspondante de l'image d'origine, √† l'exception du pixel de la couture avec l'√©nergie la plus faible.  Puisque nous supprimons un pixel dans chaque ligne, √† partir de l'image <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.487ex" height="2.057ex" viewBox="0 -780.1 2792.9 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi><mo>√ó</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-34"> L √ó H </script>  alors on obtient l'image <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.151ex" height="2.66ex" viewBox="0 -832 5662.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-57" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-2212" x="1660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-31" x="2660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-29" x="3161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMAIN-D7" x="3773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhjXKEf75SlV4qFubMP1fVQzUga2hA#MJMATHI-48" x="4773" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>W</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo><mo>√ó</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-35"> (W - 1) √ó H </script>  . <br><br>  Nous pouvons r√©p√©ter ce processus en racontant la fonction d'√©nergie dans la nouvelle image et en trouvant la couture la plus basse sur elle.  Il semble tentant de trouver plus d'une couture √† faible √©nergie dans l'image d'origine, puis de les supprimer toutes en m√™me temps.  Le probl√®me est que les deux coutures peuvent se croiser.  Lorsque le premier est supprim√©, le second devient invalide car il manque un ou plusieurs pixels. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/B9HPREBePI4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">Animation du processus de retrait des coutures.</font></i>  <i><font color="gray">Mieux vaut regarder en plein √©cran pour une vue plus claire des coutures</font></i> <br><br>  Chaque image de la vid√©o est une image √† chaque it√©ration avec visualisation superpos√©e de la couture avec le moins d'√©nergie. <br><br><h1>  Un autre exemple </h1><br>  L'article avait beaucoup d'explications d√©taill√©es, alors terminons avec une s√©rie de belles photos!  La photo suivante montre une formation rocheuse dans le parc national des Arches: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ee/947/449/7ee947449ba6b1204b6a3c17b844658b.jpg"><br>  <i><font color="gray">Formation rocheuse avec un trou dans le parc national des Arches.</font></i>  <i><font color="gray">Photo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mike Goad</a> sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flickr</a></font></i> <br><br>  Fonction √©nerg√©tique pour cette image: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9b2/aa4/e8f/9b2aa4e8f4f4c736276a1b0c50ee949b.jpg"><br>  <i><font color="gray">L'√©nergie de chaque pixel de la photo: plus elle est claire - plus elle est √©lev√©e.</font></i>  <i><font color="gray">Notez la haute √©nergie autour du bord du trou</font></i> <br><br>  √Ä la suite du calcul, une telle couture avec l'√©nergie la plus basse est obtenue.  Notez qu'il passe √† travers le rocher sur la droite, entrant directement dans la formation rocheuse o√π la partie illumin√©e au sommet du rocher correspond √† la couleur du ciel.  Vous devriez peut-√™tre choisir une meilleure fonction √©nerg√©tique! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a3b/90a/943/a3b90a94356a10044acb45950af7d8de.jpg"><br>  <i><font color="gray">La couture la plus basse √©nergie trouv√©e dans l'image est repr√©sent√©e avec une ligne rouge de cinq pixels de large pour la visibilit√©, bien qu'en r√©alit√© la couture ne soit que d'un pixel de large</font></i> <br><br>  Enfin, l'image de l'arc apr√®s redimensionnement: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/833/166/796/8331667968e36e0bfc80d2d214772379.jpg"><br>  <i><font color="gray">Arch apr√®s compression √† 1024 pixels</font></i> <br><br>  Le r√©sultat n'est certainement pas parfait: de nombreux bords de la montagne de l'image d'origine sont d√©form√©s.  L'une des am√©liorations peut √™tre la mise en ≈ìuvre de l'une des autres fonctions √©nerg√©tiques r√©pertori√©es dans l'article scientifique. <br><br><hr><br>  Bien que la programmation dynamique soit g√©n√©ralement discut√©e en th√©orie, c'est une m√©thode pratique utile pour r√©soudre des probl√®mes complexes.  Dans cet article, nous avons examin√© l'une des applications de la programmation dynamique: redimensionner des images pour les adapter au contenu en coupant les coutures. <br><br>  Nous avons appliqu√© les m√™mes principes de division d'une t√¢che en sous-t√¢ches plus petites, en analysant les d√©pendances entre ces sous-t√¢ches, puis en r√©solvant les sous-t√¢ches dans un ordre qui minimise la complexit√© spatiale et temporelle de l'algorithme.  De plus, nous avons √©tudi√© l'utilisation de pointeurs inverses non seulement pour trouver la valeur √©nerg√©tique de la couture optimale, mais √©galement pour d√©terminer les coordonn√©es de chaque pixel qui constituait cette valeur.  Ensuite, nous avons appliqu√© ces parties √† un probl√®me r√©el, qui n√©cessite un certain pr√© et post-traitement pour une utilisation vraiment efficace de l'algorithme de programmation dynamique. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458110/">https://habr.com/ru/post/fr458110/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458100/index.html">Python dans Visual Studio Code - Version de juin 2019</a></li>
<li><a href="../fr458102/index.html">Flux de travail de d√©veloppement Web efficace: Confluence, Airtable, etc.</a></li>
<li><a href="../fr458104/index.html">RDMA √† l'int√©rieur du centre de donn√©es dans la mise en ≈ìuvre de Huawei</a></li>
<li><a href="../fr458106/index.html">Plongez dans Jetpack Compose</a></li>
<li><a href="../fr458108/index.html">Redirection: 301, 302, 307 | Guide pratique 301</a></li>
<li><a href="../fr458112/index.html">Sony Xperia 10 critique</a></li>
<li><a href="../fr458114/index.html">Construire un r√©seau juridique mondial pour l'open source</a></li>
<li><a href="../fr458116/index.html">Abonnements SwiftUI et auto-renouvelables</a></li>
<li><a href="../fr458122/index.html">L'histoire de la modernisation d'un centre de donn√©es: pr√®s de la moiti√© de la r√©duction du PUE et d'autres avantages des solutions modernes</a></li>
<li><a href="../fr458124/index.html">Empreinte russe dans la saga des jeux scandinaves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>