<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòñ ‚òëÔ∏è üö± Les 10 erreurs les plus courantes lors de l'utilisation de la plate-forme Spring. Partie 1 ‚õπüèº ü§úüèª ü§©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous. Aujourd'hui, nous partageons la premi√®re partie de l'article, dont la traduction a √©t√© pr√©par√©e sp√©cifiquement pour les √©tudiants du c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Les 10 erreurs les plus courantes lors de l'utilisation de la plate-forme Spring. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/464429/">  <i>Bonjour √† tous.</i>  <i>Aujourd'hui, nous partageons la premi√®re partie de l'article, dont la traduction a √©t√© pr√©par√©e sp√©cifiquement pour les √©tudiants du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Developer on the Spring Framework"</a> .</i>  <i>Commen√ßons!</i> <br><br><img src="https://habrastorage.org/webt/sp/gg/np/spggnpu1e19b9c_yb66nbynmbqq.png"><br><br><hr><br>  Spring est peut-√™tre l'une des plateformes de d√©veloppement Java les plus populaires.  Il s'agit d'un outil puissant, mais plut√¥t difficile √† apprendre.  Ses concepts de base sont assez faciles √† comprendre et √† apprendre, mais il faut du temps et des efforts pour devenir un d√©veloppeur Spring exp√©riment√©. <br><br>  Dans cet article, nous examinerons certaines des erreurs les plus courantes commises lors de l'utilisation de Spring et li√©es, en particulier, au d√©veloppement d'applications Web et √† l'utilisation de la plate-forme Spring Boot.  Comme indiqu√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web de Spring Boot</a> , Spring Boot adopte une approche <i>standardis√©e</i> pour cr√©er des applications pr√™tes √† l'emploi, et cet article suivra cette approche.  Il fournira un certain nombre de recommandations qui peuvent √™tre utilis√©es efficacement dans le d√©veloppement d'applications Web standard bas√©es sur Spring Boot. <a name="habracut"></a><br><br>  Dans le cas o√π vous n'√™tes pas tr√®s familier avec la plate-forme Spring Boot, mais que vous souhaitez exp√©rimenter avec les exemples de cet article, j'ai cr√©√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel GitHub avec des mat√©riaux suppl√©mentaires pour cet article</a> .  Si √† un moment donn√© vous √™tes un peu confus en lisant cet article, je vous conseille de cr√©er un clone de ce r√©f√©rentiel et d'exp√©rimenter le code sur votre ordinateur. <br><br><h2>  Erreur courante n ¬∞ 1: aller trop bas dans la programmation </h2><br>  Nous succombons facilement √† cette erreur r√©pandue, car le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´syndrome de rejet du d√©veloppement de quelqu'un d'autre¬ª est</a> assez typique de l'environnement de programmation.  L'un de ses sympt√¥mes est la r√©√©criture constante de morceaux de code couramment utilis√©s, et c'est un sympt√¥me vu par de nombreux programmeurs. <br>  L'√©tude de la structure interne et des fonctionnalit√©s d'impl√©mentation d'une biblioth√®que particuli√®re est souvent un processus utile, n√©cessaire et int√©ressant, mais si vous √©crivez constamment le m√™me type de code tout en effectuant une impl√©mentation de bas niveau des fonctions, cela peut s'av√©rer n√©faste pour vous en tant que d√©veloppeur de logiciels.  C'est pourquoi des abstractions et des plates-formes telles que Spring existent et sont utilis√©es - elles vous √©pargnent du travail manuel r√©p√©titif et vous permettent de vous concentrer sur les objets de votre domaine et la logique du code de programme √† un niveau sup√©rieur. <br><br>  Par cons√©quent, les abstractions ne doivent pas √™tre √©vit√©es.  La prochaine fois que vous serez confront√© √† la n√©cessit√© de r√©soudre un probl√®me sp√©cifique, effectuez d'abord une recherche rapide et d√©couvrez si la biblioth√®que qui r√©sout ce probl√®me est d√©j√† int√©gr√©e √† Spring - vous trouverez probablement une solution cl√© en main appropri√©e.  Une telle biblioth√®que utile est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Project Lombok</a> , les annotations √† partir desquelles je vais utiliser dans les exemples de cet article.  Lombok est utilis√© comme g√©n√©rateur de code de mod√®le, donc le d√©veloppeur paresseux qui vit en chacun de nous sera tr√®s heureux de se familiariser avec cette biblioth√®que.  Voir, par exemple, √† quoi ressemble le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">composant JavaBean standard</a> dans Lombok: <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-meta"><span class="hljs-meta">@Setter</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; String secondBeanProperty; }</code> </pre> <br>  Comme vous l'avez peut-√™tre d√©j√† compris, le code ci-dessus est converti au format suivant: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bean</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> firstBeanProperty; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String secondBeanProperty; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setFirstBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstBeanProperty = firstBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSecondBeanProperty</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String secondBeanProperty)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondBeanProperty = secondBeanProperty; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bean</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Notez que vous devrez probablement installer le plug-in appropri√© si vous souhaitez utiliser Lombok dans votre environnement de d√©veloppement int√©gr√©.  La version de ce plug-in pour IntelliJ IDEA est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h2>  Erreur courante num√©ro 2. ¬´Fuite¬ª des structures internes </h2><br>  Donner acc√®s aux structures internes n'a jamais √©t√© une bonne id√©e, car il nuit √† la flexibilit√© du mod√®le de service et, par cons√©quent, contribue √† la formation d'un mauvais style de programmation.  La ¬´fuite¬ª des structures internes se manifeste dans le fait que la structure de la base de donn√©es devient accessible √† partir de certains points de terminaison API.  Par exemple, supposons que le ¬´bon ancien objet Java¬ª (POJO) suivant repr√©sente une table dans votre base de donn√©es: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer id; <span class="hljs-meta"><span class="hljs-meta">@Column</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TopTalentEntity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre> <br>  Supposons qu'il existe un point de terminaison qui doit acc√©der aux donn√©es d'un objet <code>TopTalentEntity</code> .  <code>TopTalentEntity</code> des instances de <code>TopTalentEntity</code> semble √™tre une id√©e tentante, mais une solution plus flexible serait de cr√©er une nouvelle classe qui repr√©sente les donn√©es TopTalentEntity pour le point de terminaison API: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@NoArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Getter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentData</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; }</code> </pre> <br>  Ainsi, apporter des modifications aux composants internes de la base de donn√©es ne n√©cessitera pas de modifications suppl√©mentaires au niveau du service.  Voyons ce qui se passe si le champ de mot de passe est ajout√© √† la classe <code>TopTalentEntity</code> pour stocker les hachages de mot de passe utilisateur dans la base de donn√©es: s'il n'y a pas de connecteur, tel que <code>TopTalentData</code> , et que le d√©veloppeur oublie de changer la partie interface du service, cela peut entra√Æner une divulgation tr√®s ind√©sirable d'informations secr√®tes! <br><br><h2>  Erreur courante num√©ro 3. Combiner des fonctions qu'il serait pr√©f√©rable de distribuer dans le code </h2><br>  L'organisation du code d'application √† mesure qu'il grandit devient une t√¢che de plus en plus importante.  Curieusement, la plupart des principes de programmation efficace cessent de fonctionner quand une certaine √©chelle de d√©veloppement est atteinte, surtout si l'architecture de l'application n'a pas √©t√© bien pens√©e.  Et l'une des erreurs les plus fr√©quemment commises est la combinaison de fonctions dans le code qui sont plus raisonnables √† impl√©menter s√©par√©ment. <br><br>  La raison de la violation du principe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s√©paration des responsabilit√©s est</a> g√©n√©ralement l'ajout de nouvelles fonctionnalit√©s aux classes existantes.  C'est peut-√™tre une bonne solution momentan√©e (en particulier, elle n√©cessite d'√©crire une plus petite quantit√© de code), mais √† l'avenir, cela deviendra in√©vitablement un probl√®me, y compris aux √©tapes de test et de maintenance du code et entre eux.  Consid√©rez le contr√¥leur suivant qui renvoie <code>TopTalentData</code> partir du r√©f√©rentiel: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>::entityToData) .collect(Collectors.toList()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">entityToData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  √Ä premi√®re vue, il semble qu'il n'y ait aucune erreur √©vidente dans ce fragment de code.  Il fournit une liste d'objets <code>TopTalentData</code> , qui est extraite des instances de la classe <code>TopTalentEntity</code> .  Mais si vous regardez le code de plus pr√®s, nous verrons qu'en r√©alit√© <code>TopTalentController</code> effectue plusieurs actions ici, √† savoir, il corr√®le les demandes avec un point de terminaison sp√©cifique, r√©cup√®re les donn√©es du r√©f√©rentiel et convertit les objets re√ßus de <code>TopTalentRepository</code> dans un format diff√©rent.  Une solution plus propre devrait s√©parer ces fonctions en classes distinctes.  Par exemple, cela pourrait ressembler √† ceci: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/toptal"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentService topTalentService; <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentService.getTopTalent(); } } <span class="hljs-meta"><span class="hljs-meta">@AllArgsConstructor</span></span> <span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentRepository topTalentRepository; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> TopTalentEntityConverter topTalentEntityConverter; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;TopTalentData&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTopTalent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> topTalentRepository.findAll() .stream() .map(topTalentEntityConverter::toResponse) .collect(Collectors.toList()); } } <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTalentEntityConverter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> TopTalentData </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(TopTalentEntity topTalentEntity)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TopTalentData(topTalentEntity.getName()); } }</code> </pre> <br>  Un avantage suppl√©mentaire de cette hi√©rarchie est qu'elle nous permet de comprendre o√π se trouve une fonction simplement en regardant le nom de la classe.  Par la suite, pendant les tests, nous pouvons facilement remplacer le code de l'une de ces classes par du code de substitution, si le besoin s'en fait sentir. <br><br><h2>  Num√©ro d'erreur commun 4. Code uniforme et mauvaise gestion des erreurs </h2><br>  Le sujet de l'uniformit√© du code n'est pas propre √† Spring (ou √† Java en g√©n√©ral), mais est n√©anmoins un aspect important qui doit √™tre pris en compte lors de l'utilisation de projets dans Spring.  Le choix d'un style de programmation sp√©cifique peut √™tre un sujet de discussion (et est g√©n√©ralement coh√©rent au sein de l'√©quipe de d√©veloppement ou dans toute l'entreprise), mais dans tous les cas, la pr√©sence d'une norme commune pour l'√©criture de code contribue √† augmenter l'efficacit√© du travail.  Cela est particuli√®rement vrai si plusieurs personnes travaillent sur le code.  Le code uniforme peut √™tre transmis d'un d√©veloppeur √† l'autre sans d√©penser beaucoup d'efforts pour le maintenir ou pour de longues explications sur la raison pour laquelle ces classes ou ces classes sont n√©cessaires. <br><br>  Imaginez qu'il existe un projet Spring dans lequel il existe divers fichiers de configuration, services et contr√¥leurs.  Suite √† l'uniformit√© s√©mantique de leur d√©nomination, nous cr√©ons une structure par laquelle vous pouvez facilement rechercher et dans laquelle tout d√©veloppeur peut facilement comprendre le code.  Par exemple, vous pouvez ajouter le suffixe Config aux noms des classes de configuration, le suffixe Service aux noms de service et le suffixe Controller aux noms de contr√¥leur. <br><br>  La gestion des erreurs c√¥t√© serveur est √©troitement li√©e √† l'uniformit√© du code et m√©rite une attention particuli√®re.  Si vous avez d√©j√† g√©r√© des exceptions provenant d'une API mal √©crite, vous savez probablement √† quel point il est difficile de comprendre correctement la signification de ces exceptions, et encore plus difficile de d√©terminer pourquoi elles se sont r√©ellement produites. <br>  En tant que d√©veloppeur d'API, vous souhaitez id√©alement couvrir tous les points finaux avec lesquels l'utilisateur travaille et les amener √† utiliser un seul format de message d'erreur.  Cela signifie g√©n√©ralement que vous devez utiliser les codes d'erreur standard et leur description et abandonner les d√©cisions douteuses telles que donner √† l'utilisateur un message "500 Internal Server Error" ou les r√©sultats d'une trace de pile (cette derni√®re option, soit dit en passant, doit √™tre √©vit√©e par tous les moyens, car vous r√©v√©lez des donn√©es internes, et de plus, de tels r√©sultats sont difficiles √† traiter du c√¥t√© client). <br>  Voici, par exemple, √† quoi pourrait ressembler le format g√©n√©ral du message d'erreur: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorResponse</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer errorCode; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String errorMessage; }</code> </pre> <br>  Un format similaire √† celui-ci se trouve souvent dans les API les plus populaires et, en r√®gle g√©n√©rale, fonctionne tr√®s bien car il peut √™tre facilement et syst√©matiquement document√©.  Vous pouvez convertir une exception dans ce format en ajoutant l'annotation <code>@ExceptionHandler</code> √† la m√©thode (pour un exemple d'annotation, consultez la section "Erreur commune # 6"). <br><br><h2>  Erreur courante num√©ro 5. Travail incorrect avec le multithreading </h2><br>  L'impl√©mentation du multithreading peut √™tre une t√¢che difficile, qu'elle soit utilis√©e dans des applications de bureau ou dans des applications Web, dans des projets Spring ou des projets pour d'autres plates-formes.  Les probl√®mes caus√©s par l'ex√©cution parall√®le de programmes sont difficiles √† suivre, et les traiter avec un d√©bogueur est souvent tr√®s difficile.  Si vous comprenez que vous avez affaire √† une erreur li√©e √† l'ex√©cution parall√®le, vous devrez tr√®s probablement abandonner le d√©bogueur et examiner le code manuellement jusqu'√† ce que la cause premi√®re de l'erreur soit trouv√©e.  Malheureusement, il n'existe aucun moyen standard de r√©soudre ces probl√®mes.  Dans chaque cas, il faut √©valuer la situation et ¬´attaquer¬ª le probl√®me avec la m√©thode qui semble la meilleure dans les conditions donn√©es. <br><br>  Id√©alement, bien s√ªr, vous souhaitez √©viter compl√®tement les erreurs associ√©es au multithreading.  Et bien qu'il n'y ait pas de recette universelle ici, je peux toujours offrir quelques recommandations pratiques. <br><br><h3>  √âvitez d'utiliser des √©tats globaux </h3><br>  Tout d'abord, souvenez-vous toujours du probl√®me des ¬´√âtats mondiaux¬ª.  Si vous d√©veloppez une application multithread, vous devez surveiller attentivement absolument toutes les variables modifiables globalement et, si possible, vous en d√©barrasser compl√®tement.  Si vous avez encore une raison pour laquelle la variable globale doit √™tre modifiable, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">synchronisez</a> et surveillez correctement les performances de votre application - vous devez vous assurer qu'elle ne ralentit pas en raison de p√©riodes d'attente suppl√©mentaires. <br><br><h3>  √âvitez les objets mutables </h3><br>  Cette id√©e vient directement des principes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">programmation fonctionnelle</a> et, √©tant adapt√©e aux principes de la POO, stipule que les classes mutables et les √©tats mutables doivent √™tre √©vit√©s.  En bref, cela signifie que vous devez vous abstenir de d√©finir des m√©thodes (setters) et avoir des champs priv√©s avec le modificateur final dans toutes les classes de mod√®le.  La seule fois o√π leurs valeurs changent, c'est lorsque l'objet est cr√©√©.  Dans ce cas, vous pouvez √™tre s√ªr qu'aucun probl√®me n'est associ√© √† la comp√©tition pour les ressources, et lors de l'acc√®s aux propri√©t√©s de l'objet, les valeurs correctes seront toujours obtenues. <br><br><h3>  Consigner les donn√©es importantes </h3><br>  √âvaluez les endroits o√π des probl√®mes peuvent survenir dans l'application et configurez √† l'avance une journalisation de toutes les donn√©es importantes.  Si une erreur se produit, vous serez heureux d'avoir des informations sur les demandes re√ßues et vous serez en mesure de mieux comprendre les raisons du dysfonctionnement de votre application.  Cependant, gardez √† l'esprit que la journalisation implique des E / S de fichiers suppl√©mentaires et ne doit pas √™tre utilis√©e de mani√®re abusive, car cela peut nuire aux performances de l'application. <br><br><h3>  Utilisez des impl√©mentations de threads pr√™tes √† l'emploi </h3><br>  Lorsque vous devez g√©n√©rer vos threads (par exemple, pour cr√©er des demandes asynchrones vers divers services), utilisez des impl√©mentations de threads s√ªres pr√™tes √† l'emploi au lieu de cr√©er les v√¥tres.  Dans la plupart des cas, vous pouvez utiliser les abstractions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ExecutorService</a> et les spectaculaires abstractions fonctionnelles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CompletableFuture</a> pour Java 8. La plate-forme Spring vous permet √©galement de g√©rer les demandes asynchrones √† l'aide de la classe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DeferredResult</a> . <br><br>  La fin de la premi√®re partie. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lisez la deuxi√®me partie.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr464429/">https://habr.com/ru/post/fr464429/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr464413/index.html">PVS-Studio - moteur de progr√®s</a></li>
<li><a href="../fr464415/index.html">Nouveau service d'indices pour rechercher hh.ru</a></li>
<li><a href="../fr464417/index.html">10 frameworks PHP populaires en 2019</a></li>
<li><a href="../fr464421/index.html">Radio Viber - toutes les stations de radio dans le messager en ligne</a></li>
<li><a href="../fr464423/index.html">Comment g√©rer le temps? R√©ponse du pigiste</a></li>
<li><a href="../fr464433/index.html">Plateformes de test mobiles dans le cloud</a></li>
<li><a href="../fr464435/index.html">Comment ne pas se noyer dans un oc√©an de technologies et d'approches: l'exp√©rience de 50 experts</a></li>
<li><a href="../fr464437/index.html">Comment l'√©quipe de d√©veloppement peut gagner plus en cr√©ant des sites de trafic [Guide d'impl√©mentation]</a></li>
<li><a href="../fr464443/index.html">Natas Web. Passage de la plateforme CTF visant √† exploiter les vuln√©rabilit√©s du Web. 2e partie</a></li>
<li><a href="../fr464445/index.html">Pourquoi il est vraiment impossible d'√™tre v√©g√©tarien</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>