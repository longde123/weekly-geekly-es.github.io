<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧠 👩🏿‍🤝‍👨🏼 👨🏾‍💼 Wir beschäftigen uns mit Fehlern und „Krücken“ im einheitlichen staatlichen Register der juristischen Personen - dem staatlichen Register der juristischen Personen 📭 🏯 👇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Letzte Woche haben wir einen Artikel über das Registerregister veröffentlicht - ein staatliches Register mit Daten von 10 Millionen Unternehmen. In di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir beschäftigen uns mit Fehlern und „Krücken“ im einheitlichen staatlichen Register der juristischen Personen - dem staatlichen Register der juristischen Personen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hflabs/blog/414885/"><img src="https://habrastorage.org/webt/4e/3e/bi/4e3ebi1ytnjuu_-zgo0racfq2yi.jpeg"><br><br>  Letzte Woche haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel über das</a> Registerregister veröffentlicht - ein staatliches Register mit Daten von 10 Millionen Unternehmen.  In diesem Material geht es um grundlegende Dinge, daher ist es am besten, damit zu beginnen. <br><br>  Hier werden wir ein reichhaltiges und fruchtbares Thema aufzeigen - die Probleme des Unified State Register of Legal Entities, die verhindern, dass sich unsere Entwickler langweilen. <br><a name="habracut"></a><br><h2>  Die XML-Struktur wird regelmäßig unterbrochen </h2><br>  Im Jahr 2017 brachten Updates alle zwei bis drei Monate xmls in das falsche Format.  Es gibt einen vollständigen Satz: unbekannte Tags, offene Tags, Nichtübereinstimmung des Datentyps.  In xsd wird beispielsweise der Datumstyp angegeben, tatsächlich gibt es jedoch eine unverständliche Zeichenfolge. <br><br>  In diesem Fall müssen Sie dem technischen Support schreiben und demütig warten.  Mehr kann nicht getan werden.  Aber wir müssen zugeben, dass es 2018 keine Probleme gab, alles ist klar. <br><br>  Und beim vollständigen Entladen für 2015 liegt eine kaputte XML, die niemals repariert werden wird.  Der Bundessteuerdienst sagte, sie wüssten davon, wollten es aber nicht reparieren: Nehmen Sie die folgenden Aktualisierungen. <br><br><h2>  Aktualisierungen werden in Ordnern mit längst vergangenen Daten angezeigt </h2><br>  Situation: Sie haben Anfang 2018 das vollständige Nachschlagewerk heruntergeladen, alle Updates angewendet und Updates täglich heruntergeladen.  Sie sind entspannt und gelassen, weil Sie wissen: in Ihrer Datenbank die wichtigsten Daten zu juristischen Personen. <br><br>  Aber Sie haben immer noch eine Tatsache übersehen: Letzte Nacht hat der Bundessteuerdienst nicht nur das nächste Update veröffentlicht, sondern vor drei Monaten auch neue Dateien in einen Ordner gelegt.  Okay, deine Basis ist veraltet. <br><br>  Rückwirkende Updates gibt es in zwei Arten: <br><br><ul><li>  Ändern Sie vorhandene Dateien </li><li>  neue hinzufügen. </li></ul><br>  Um etwas zu entfernen, haben wir nicht gesehen. <br><br>  Wir haben hier mit all dem zu kämpfen.  Unser lokales Verzeichnis enthält das aktuelle Daten-Slice vom FTS-Server - den Standard.  Jede Nacht laden wir absolut alle Archive vom Registerserver herunter und vergleichen sie mit dem Standard. <br><br>  Wir finden die neuen Dateien deutlich wie: Sie existieren einfach nicht im lokalen Verzeichnis.  Wenn die Datei war, aber die Daten ihrer Änderung in der Referenz und in den neuen Datenbanken unterschiedlich sind, vergleichen Sie die Prüfsummen.  Wenn diese unterschiedlich sind, nehmen Sie ein neues xml-ku und wenden Sie das Update an. <br><br>  Aber es gibt eine Nuance!  Manchmal kommen irrelevante Informationen rückwirkend in das Update, dann können sie nicht angewendet werden.  Jetzt wird es ein etwas verwirrendes Beispiel geben, achten Sie auf Ihre Hände. <br><br>  Angenommen, am 21. Mai wurde ein Update für LLC Romashka veröffentlicht.  Es liegt im Ordner <i>21.06.2008</i> .  Und am 22. Mai legte der Bundessteuerdienst am <i>20.06.2008</i> eine Datei in das Verzeichnis, die auch etwas mit „Daisy“ zu <i>tun</i> hatte.  Dies werden wir nicht berühren.  Obwohl die neue Datei frisch ist, ist ihr Inhalt aufgrund des Updates vom 21. Mai irrelevant. <br><br><h2>  Aufzeichnungen verschwinden zwischen Jahren </h2><br>  Es scheint, dass Sie Daten vom 01.01.2016_FULL erhalten, wenn Sie das Archiv 01/01 / 2015_FULL nehmen und anschließend alle Aktualisierungen für 2015 rollen.  Und nein! <br><br>  Die übliche Situation aus unserer unvollkommenen Welt: <br><br><ol><li>  Alle 2016 im Register gibt es nichts über das Unternehmen.  Weder im vollständigen Archiv zu Beginn des Jahres noch in den Updates. </li><li>  Am <i>01.01.2017_FULL erscheint das</i> Unternehmen plötzlich und lebt das ganze Jahr ruhig. </li><li>  Und dann bam - am 01/01 <i>/</i> 2018_FULL gibt es wieder keine Firma.  Mit etwas Glück wird sie später in einem der Updates kommen, aber überhaupt keine Tatsache. </li></ol><br>  Etwa 1000 juristische Personen verschwinden von Jahr zu Jahr. <br><br><img src="https://habrastorage.org/webt/c-/gm/ta/c-gmtaq4rrwrdaxgmr4zmqsdoum.png"><br>  <sub>Diese wundervolle LLC wurde nur einmal im Unified State Register of Legal Entities beleuchtet: in der Aktualisierung vom 21.02.2017.</sub>  <sub>Es gibt nirgendwo anders eine Firma, nicht in einem vollständigen Entladen</sub> <br><br>  Daher wird es nicht funktionieren, zu Beginn des Jahres eine vollständige Entladung vorzunehmen und alle Aktualisierungen bis heute anzuwenden.  Bitte beginnen Sie ab 2015, sonst ist Ihr Register unvollständig. <br><br><h2>  Xsd ändert sich plötzlich </h2><br>  Seit 2015 hat der Bundessteuerdienst einige Male plötzlich xsd geändert.  Es sieht so aus: Ein Update kommt, Sie versuchen es nach dem alten Format zu analysieren, aber nichts funktioniert.  Belebt! <br><br>  Sich an die neue xsd anzupassen ist im Allgemeinen alltäglich.  Das Problem ist, dass niemand vor Änderungen warnt.  Kunstflug - Veröffentlichen Sie eine Ankündigung in einem beliebigen Bereich auf der Website des Bundessteuerdienstes, in der Regel jedoch nicht.  Sie werden alles über die Tatsache erfahren. <br><br><h2>  Es ist unklar, wie Partner identifiziert werden sollen. </h2><br>  Wie ich in einem früheren Artikel sagte, sind Zweige in der USRLE keine separaten Datensätze, sondern Attribute von juristischen Personen.  Nach dem Gesetz können Zweigniederlassungen und Repräsentanzen nicht allein existieren, weshalb sie in den Aufzeichnungen des Hauptunternehmens gespeichert sind. <br><br>  Unsere Kunden haben jedoch ihre eigenen Bedürfnisse: Sie bieten Dienstleistungen für Niederlassungen anderer Unternehmen an, unterzeichnen gemeinsame Dokumente mit ihnen und unterhalten Niederlassungen in ihren Buchhaltungssystemen als separate Einheiten.  Aus diesem Grund werden wir Niederlassungen und Repräsentanzen von USRLE in separate Karten umwandeln und an den Stammsatz binden. <br><br>  Erstellte Affiliate-Karten müssen identifiziert werden.  Die USRLE-Struktur sieht PPC vor, einen abgekürzten Namen, einen vollständigen Namen und sogar den Namen in lateinischer Sprache.  Damit es noch mehr Spaß macht, gibt der Bundessteuerdienst garantiert nur die Adresse aus.  Anzeigen von Zweigen, nicht Anzeigen von Adressen. <br><br><img src="https://habrastorage.org/webt/mn/wh/1l/mnwh1lvnmjxi5lbnpqs3bf7weh4.png"><br>  <sub>Ein typisches Beispiel: Die Zweige beim Entladen haben nur eine Adresse</sub> <br><br>  Zuerst schauen wir noch mit einem abgekürzten Namen auf das Feld: Plötzlich liegt etwas da.  In 50% der Fälle ist das Feld wirklich nicht leer, aber selbst dann ist es noch zu früh, um sich zu freuen: Der Name kann für alle Zweige einer juristischen Person gleich sein.  Als Bezeichner ist dies nicht nützlicher als ein leeres Feld. <br><br>  Wenn der Name des Zweigs leer oder nicht eindeutig ist, erstellen wir ihn selbst. <br><br>  Als Beispiel nehmen wir alle LLC "Camomile".  Es hat drei Zweige mit leeren Namen und solchen Adressen: <br><br><ul><li>  Moskau, Turchaninov Lane; </li><li>  Moskau, Ozerkovskaya Böschung; </li><li>  St. Petersburg, Newski-Prospekt. </li></ul><br>  Wir nehmen die Unternehmensdaten und wandeln sie in eine vernünftige Namenskennung der Branche um. <br><br><ol><li>  Fügen Sie das Wort "Zweigstelle" oder "Abteilung" in den Namen ein, verschiedene Attribute wurden für sie im einheitlichen staatlichen Register der juristischen Personen angegeben. </li><li>  Geben Sie im Namen den Kurznamen der Hauptorganisation an.  Jetzt haben wir drei identische Namen "Branch of LLC Romashka". </li><li>  Wir nehmen die Adressen der Zweige und fügen in Klammern die verschiedenen Teile der Adressen zu den Namen hinzu. <br><br>  Wir schreiben die Adresse einem eindeutigen Teil zu: Für die ersten beiden Zweige von „Daisies“ ist dies die vollständige Adresse und für den dritten - nur „St. Petersburg“.  Wenn alle Städte unterschiedlich wären, würden sie nur Städte zu den Filialnamen hinzufügen. </li></ol><br>  In unserem Beispiel lauten die Zweige wie folgt: <br><br><ul><li>  "Niederlassung von LLC Romashka (Moskau, Turchaninov Lane)"; </li><li>  "Zweigstelle der LLC Romashka (Moskau, Ozerkovskaya Embankment)"; </li><li>  "Niederlassung von LLC Romashka (St. Petersburg)." </li></ul><br>  Ja, wenn der Zweig in der USRLE einen Namen hat, der jedoch nicht eindeutig ist, überspringen wir die ersten beiden Schritte.  Wir fügen den Adressteil diesem nicht eindeutigen Namen hinzu. <br><br>  Wir nehmen die Adresse für den Namen maximal auf die Straße, denn die Hölle beginnt mit dem Hausteil wie „dmvld 3, Gebäude 5, Raum  14/51, von.  145. "  Es ist schwer zu zerlegen, aber als Teil des Namens der Niederlassung sieht es lächerlich aus.  Deshalb vereinen wir Filialen in derselben Straße.  Es gibt sogar verschiedene Filialen im selben Gebäude!  Zum Glück gibt es nur wenige. <br><br><h2>  Einfach nehmen und verbinden das Register funktioniert nicht </h2><br>  Zusätzlich zu diesen Problemen ist das Unified State Register of Legal Entities voller Fehler auf der Ebene von Symbolen, Adressen und anderen Kleinigkeiten.  Wenn Sie beispielsweise anstelle von "LLC" drei Nullen im Verzeichnis treffen, ist dies nicht einmal überraschend. <br><br>  Es gibt auch Adressen mit Fehlern, wo ohne sie.  Zum Beispiel ist „Leningrad“ anstelle von „St. Petersburg“ ein sehr wichtiger Fall.  Eine profanere Option: Die Adresse der Organisation Zheleznodorozhny in der Region Moskau wird als Stadt angegeben, obwohl sie seit mehreren Jahren ein Balashikha-Distrikt ist. <br><br>  Tatsächlich ist im Verzeichnis alles wahr, da die USRLE die Details aus den konstituierenden Dokumenten der Organisation speichert.  Aber um mit der Datenbank zu arbeiten, um sie zu durchsuchen, müssen die Daten in die Realität umgesetzt werden.  Unsere Benutzer suchen nach Organisationen in St. Petersburg, die nicht einmal in Leningrad registriert sind. <br><br>  Daher ist es eine weitere Aufgabe, das einheitliche staatliche Register der juristischen Personen zu eröffnen und eine für den industriellen Betrieb geeignete Basis zu erhalten.  Ich möchte Sie an die Bände erinnern: Wenn Sie das vollständige Nachschlagewerk zu Beginn des Jahres 2015 und alle Aktualisierungen bis heute verwenden, erhalten Sie 100 Millionen Einträge. <br><br>  Für das Parsen der USRLE haben wir einen Algorithmus geschrieben: Er empfängt alle Einträge am Eingang seit 2015 und am Ausgang 10 Millionen relevante.  Verwaltet irgendwo in einer Stunde.  Ein wichtiger Teil des Prozesses ist unser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einzelkundenprodukt</a> .  Er räumt die Daten auf: Bereinigt Adressen, findet Duplikate, korrigiert Tippfehler. <br><br>  <i>Wenn Sie komplexe Nachschlagewerke analysieren, Daten strukturieren und in eine menschliche Form bringen möchten, kommen Sie zu uns, um zu arbeiten.</i>  <i>Jetzt suchen wir nach einem Javista, Gehalt - 195.000-250.000 <nobr>₽</nobr> vor Abzug, Details - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf hh.ru.</a></i>  <i>Und Sie benötigen auch eine Qualitätssicherung: von 115.000 bis 150.000 ₽, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Details zur gleichen hh</a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414885/">https://habr.com/ru/post/de414885/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414875/index.html">Kubernetes Containerd-Integration ersetzt Docker für die Produktion</a></li>
<li><a href="../de414877/index.html">Ein ungewöhnliches Objektiv für eine normale Kamera oder wie man aufhört, über den Fokus nachzudenken</a></li>
<li><a href="../de414879/index.html">Warum 2 Extruder in einem 3D-Drucker?</a></li>
<li><a href="../de414881/index.html">Ein bisschen Backstage VK</a></li>
<li><a href="../de414883/index.html">Erinnerungen klangen neu: BBC hat das Soundarchiv des RemArc-Projekts aktualisiert</a></li>
<li><a href="../de414887/index.html">Erstellen eines Katzenhakens in Unity. Teil 1</a></li>
<li><a href="../de414889/index.html">Wenn digitale Agenturen IaaS benötigen</a></li>
<li><a href="../de414891/index.html">Entwicklergewohnheiten</a></li>
<li><a href="../de414893/index.html">Viber, WhatsApp, Telegramm - was ist besser?</a></li>
<li><a href="../de414895/index.html">Und für uns ist alles „aufrecht“ - DBMS Vertica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>