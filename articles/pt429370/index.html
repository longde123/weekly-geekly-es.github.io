<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üàµ üñ®Ô∏è üïµüèª Como o Night Sight do Google funciona em telefones e por que funciona t√£o bem ‚ùé üåõ üîí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voc√™ pode ser perdoado pelo fato de que, depois de ler todos os coment√°rios elogiosos sobre o novo recurso da fotografia noturna do Google, Night Sigh...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como o Night Sight do Google funciona em telefones e por que funciona t√£o bem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429370/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/19d/dc4/57d/19ddc457d8f1d64075791cf016e8b0a0.jpg"></div><br>  Voc√™ pode ser perdoado pelo fato de que, depois de ler todos os coment√°rios elogiosos sobre o novo recurso da fotografia noturna do Google, Night Sight, voc√™ decide que a empresa acabou de inventar um filme colorido.  Os modos de fotografia noturna n√£o apareceram ontem e muitas das tecnologias em que se baseiam existem h√° muitos anos.  Mas o Google fez um trabalho incr√≠vel ao combinar habilidades de fotografia de computa√ß√£o com recursos sem precedentes de aprendizado de m√°quina para ultrapassar os limites das possibilidades al√©m do que vimos anteriormente.  Vamos examinar o hist√≥rico da tecnologia fotogr√°fica com pouca luz com algumas fotos tiradas seguidas, pensar em como ela √© usada pelo Google e supor como a IA contribui para ela. <br><a name="habracut"></a><br><h2>  Dificuldade em fotografar com pouca luz </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/642/f37/6cc/642f376cc594bd13af38942c07c8f89c.jpg"><br><br>  Todas as c√¢meras est√£o lutando para tirar fotos com pouca luz.  Sem f√≥tons suficientes por pixel na imagem, o ru√≠do pode dominar facilmente.  Deixar o obturador aberto por mais tempo para coletar mais luz e obter uma imagem √∫til tamb√©m aumentar√° a quantidade de ru√≠do.  Pior, √© muito dif√≠cil obter uma imagem clara sem um trip√© est√°vel.  Aumentar o ganho (ISO) tornar√° a imagem mais clara, mas tamb√©m aumentar√° a quantidade de ru√≠do nela. <br><br>  A estrat√©gia tradicional tem sido usar pixels maiores em sensores maiores.  Infelizmente, nas c√¢meras dos telefones, os sensores e, portanto, os pixels s√£o pequenos - funcionam bem com boa luz, mas rapidamente falham quando o n√≠vel de luz diminui. <br><br>  Como resultado, os desenvolvedores de c√¢meras de telefone t√™m duas op√ß√µes para melhorar as imagens obtidas com pouca luz.  O primeiro √© usar v√°rias imagens para combin√°-las em uma, com redu√ß√£o de ru√≠do.  Uma implementa√ß√£o precoce dessa estrat√©gia em um dispositivo m√≥vel foi o modo SRAW no complemento DxO ONE para iPhone.  Ele fundiu quatro imagens RAW em uma aprimorada.  A segunda op√ß√£o √© usar um p√≥s-processamento engenhoso (as vers√µes mais recentes s√£o geralmente equipadas com aprendizado de m√°quina) para reduzir o ru√≠do e melhorar a imagem.  O Google Night Sight usa as duas abordagens. <br><br><h2>  V√°rias imagens de uma s√≥ vez </h2><br>  No momento, j√° estamos acostumados a como telefones e c√¢meras combinam v√°rias imagens em uma, principalmente para melhorar o alcance din√¢mico.  Seja um grupo de imagens com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bracketing</a> , como a maioria das empresas, ou o HDR + do Google, que usa v√°rias imagens com uma exposi√ß√£o curta, voc√™ pode obter uma excelente imagem - se os artefatos gerados pela fus√£o de v√°rias imagens de objetos em movimento puderem ser minimizados.  Normalmente, um quadro base √© selecionado para isso que melhor descreve a cena na qual as partes √∫teis de outros quadros s√£o sobrepostas.  Huawei, Google e outros tamb√©m usaram essa abordagem para criar fotos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">telefoto</a> aprimoradas.  Recentemente, vimos a import√¢ncia de escolher o quadro de base correto quando a Apple explicou que a bagun√ßa com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">BeautyGate</a> era devido a um bug no qual o quadro de base errado foi escolhido durante o processamento de fotos. <br><br>  Est√° claro por que o Google decidiu combinar esses m√©todos de uso de v√°rias imagens para obter fotos aprimoradas com pouca luz.  Ao mesmo tempo, a empresa introduz v√°rias inova√ß√µes engenhosas no campo do processamento de imagens.  Provavelmente, as ra√≠zes disso est√£o no aplicativo Android de Mark Livoy, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SeeInTheDark</a> e em seu trabalho de 2015, "Obtendo imagens extremas usando telefones celulares".  Livoy foi pioneira em fotografia computacional em Stanford e agora ganhou o t√≠tulo de Engenheiro Honor√°rio enquanto trabalhava em tecnologia de c√¢meras no Google.  O SeeInTheDark (uma continua√ß√£o de seu trabalho anterior, o aplicativo SynthCam para iOS) usou um telefone padr√£o para acumular quadros, alterar cada quadro para que ele corresponda √† imagem digitada e, em seguida, aplicar v√°rias t√©cnicas para reduzir o ru√≠do e melhorar a imagem para obter imagens incrivelmente de alta qualidade em baixa ilumina√ß√£o.  Em 2017, um programador do Google, Florian Kantz, usou alguns desses conceitos para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mostrar</a> como o telefone pode ser usado para capturar imagens de qualidade profissional, mesmo com pouca luz. <br><br><h2>  Sobrepor v√°rias imagens com pouca luz √© uma tecnologia bem conhecida. </h2><br>  Os fot√≥grafos sobrepuseram v√°rias imagens para melhorar a qualidade das imagens tiradas com pouca luz, desde o advento da fotografia digital (suspeito que algu√©m tenha feito isso com o filme).  Quanto a mim, comecei fazendo isso manualmente e depois usando a complicada ferramenta de software Image Stacker.  Como as primeiras SLRs digitais eram in√∫teis em ISOs altos, a √∫nica maneira de obter uma foto noturna normal era pegar alguns quadros e sobrepor-los.  Algumas fotos cl√°ssicas, como trilhas de estrelas, foram originalmente tomadas dessa maneira.  Hoje em dia, n√£o √© t√£o frequentemente usado quando se usa SLRs digitais e c√¢meras sem espelho, pois os modelos modernos possuem excelentes ferramentas incorporadas para oferecer suporte a ISO alto e reduzir o ru√≠do de longa exposi√ß√£o.  Na minha Nikon D850, voc√™ pode deixar o obturador aberto por 10 a 20 minutos e ainda assim obter fotos adequadas. <br><br>  Portanto, √© prudente que os fabricantes de telefones fa√ßam o mesmo.  No entanto, diferentemente dos fot√≥grafos de pacientes que seguem trilhas de estrelas usando um trip√©, o usu√°rio m√©dio de telefone precisa de satisfa√ß√£o imediata e quase nunca usa um trip√©.  Portanto, o telefone tem dificuldades adicionais associadas √† necessidade de obter imagens rapidamente com pouca luz e minimizar o desfoque causado pela trepida√ß√£o da c√¢mera - e, idealmente, pelo movimento do objeto.  At√© a estabiliza√ß√£o √≥ptica dispon√≠vel em muitos modelos de topo tem suas pr√≥prias limita√ß√µes. <br><br>  N√£o tenho certeza de qual fabricante de telefone foi o primeiro a usar v√°rias fotos para capturar imagens com pouca luz, mas fui o primeiro a usar o Huawei Mate 10 Pro.  No modo Night Shot, ele tira v√°rios quadros em 4-5 segundos e os funde em uma foto.  Como a visualiza√ß√£o em tempo real da Huawei permanece ativada, √© poss√≠vel ver como ele usa v√°rias op√ß√µes de exposi√ß√£o diferentes, criando essencialmente alguns quadros com bracketing. <br><br>  No trabalho que descreve o primeiro HDR +, Livoy afirma que os quadros com exposi√ß√µes diferentes s√£o mais dif√≠ceis de alinhar (por que o HDR + usa v√°rios quadros com a mesma exposi√ß√£o); portanto, provavelmente, o Night Sight do Google, como o SeeInTheDark, tamb√©m usa v√°rios quadros com a mesma exposi√ß√£o. .  No entanto, o Google (pelo menos na vers√£o de pr√©-lan√ßamento do aplicativo) n√£o exibe a imagem em tempo real na tela, ent√£o s√≥ posso especular.  A Samsung no Galaxy S9 e S9 + usou uma t√°tica diferente com as principais lentes de abertura dupla.  Pode mudar para f / 1.5 impressionante em condi√ß√µes de pouca luz para melhorar a qualidade da imagem. <br><br><h2>  Compara√ß√£o entre Huawei e Google com pouca luz </h2><br>  Ainda n√£o tenho um Pixel 3 ou Mate 20, mas tenho acesso ao Mate 10 Pro com Night Shot e ao Pixel 2 com a vers√£o de pr√©-lan√ßamento do Night Sight.  Ent√£o eu decidi compar√°-los eu mesmo.  Nos testes, o Google aparentemente superou a Huawei, mostrando menos ru√≠do e uma imagem mais clara.  Aqui est√° uma das sequ√™ncias de teste: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/280/3ff/40f/2803ff40ffe6fa0d8e37fff803e5de82.jpg"><br>  <i>Huawei Mate 10 Pro √† tarde</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7f3/c8a/aa4/7f3c8aaa4a2c229d3da6f6b29b2d0044.jpg"><br>  <i>Google Pixel 2 √† tarde</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/da5/4e7/f26/da54e7f264ca68a13460abd79d56dda6.jpg"><br>  <i>Aqui est√° o que voc√™ pode obter fotografando a mesma cena na escurid√£o quase completa sem o modo Night Shot no Mate 10 Pro.</i>  <i>O obturador fica aberto por 6 segundos, ent√£o o desfoque √© vis√≠vel</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0b/947/4bd/a0b9474bd37aa782f26802285bb71240.jpg"><br>  <i>Um tiro na escurid√£o quase completa com o Night Shot no Huawei Mate 10 Pro.</i>  <i>Os dados EXIF ‚Äã‚Äãmostram ISO3200 e 3 segundos de exposi√ß√£o no total.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/48f/528/964/48f528964a8fd1df8d6d89dca5b04999.jpg"><br>  <i>A mesma cena com a vers√£o de pr√©-lan√ßamento do Night Sight no Pixel 2. As cores s√£o mais precisas, a imagem √© mais n√≠tida.</i>  <i>EXIF mostra ISO5962 e exposi√ß√£o em 1/4 s (provavelmente para cada um dos v√°rios quadros).</i> <br><br><h2>  O aprendizado de m√°quina √© o componente secreto do Night Sight? </h2><br>  Considerando por quanto tempo houve sobreposi√ß√£o de v√°rias imagens e quantas vers√µes dessa tecnologia foram usadas pelos fabricantes de c√¢meras e telefones, torna-se interessante o motivo pelo qual o Night Sight do Google parece muito melhor do que os outros.  Em primeiro lugar, at√© a tecnologia no trabalho original de Livoy √© muito complexa; portanto, os anos que o Google teve que aprimor√°-la deveriam ter dado √† empresa um bom avan√ßo.  Mas a empresa tamb√©m anunciou que o Night Sight usa o aprendizado de m√°quina para selecionar as cores certas na imagem com base no que est√° no quadro. <br><br>  Parece legal, mas nebuloso.  N√£o est√° claro se a tecnologia distingue objetos individuais, sabendo que sua cor deve ser monof√¥nica, ou pintando objetos conhecidos de acordo ou reconhecendo o tipo geral de cena, como fazem os algoritmos inteligentes de exposi√ß√£o autom√°tica, e decide como essa cena deve ser (folhagem verde, branco). neve, c√©u azul).  Estou certo de que, ap√≥s o lan√ßamento da vers√£o final, os fot√≥grafos ganhar√£o mais experi√™ncia trabalhando com esse recurso e poderemos descobrir os detalhes de como a tecnologia usa o MO. <br><br>  Outro local onde o MO pode ser √∫til √© o c√°lculo inicial da exposi√ß√£o.  A tecnologia Night Sight HDR + subjacente, conforme descrita pelo SIGGRAPH do Google, conta com um conjunto rotulado √† m√£o de milhares de fotografias para ajud√°-la a escolher a exposi√ß√£o certa.  Nesta √°rea, o MO pode trazer algumas melhorias, especialmente ao realizar c√°lculos de exposi√ß√£o em condi√ß√µes de pouca luz, onde os objetos da cena s√£o barulhentos e dif√≠ceis de distinguir.  O Google tamb√©m <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">experimentou o</a> uso de redes neurais para melhorar a qualidade das fotos em telefones, portanto, n√£o ser√° uma surpresa quando algumas dessas tecnologias come√ßarem a ser implementadas. <br><br>  Qualquer que seja a combina√ß√£o dessas tecnologias que o Google use, o resultado √© definitivamente o melhor de todas as c√¢meras que conseguem fotografar com pouca luz atualmente.  Gostaria de saber se a fam√≠lia Huawei P20 ser√° capaz de distribuir algo para trazer sua tecnologia Night Shot mais pr√≥xima em qualidade do que eles fizeram no Google. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt429370/">https://habr.com/ru/post/pt429370/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt429360/index.html">Introdu√ß√£o ao SOLID: a nova Internet redecentralizada de Tim Berners-Lee</a></li>
<li><a href="../pt429362/index.html">Aprendizado de m√°quina mal-intencionado como m√©todo de diagn√≥stico</a></li>
<li><a href="../pt429364/index.html">Vale do Sil√≠cio come√ßa a formar um consenso sombrio em crian√ßas e telas</a></li>
<li><a href="../pt429366/index.html">Como fazer uma m√°quina do tempo para o r√°dio</a></li>
<li><a href="../pt429368/index.html">Voc√™ espera demais dos rob√¥s da Boston Dynamics</a></li>
<li><a href="../pt429376/index.html">Thrift como uma API REST</a></li>
<li><a href="../pt429380/index.html">Para substituir o TCP: QUIC est√° pronto para implementa√ß√£o [mas n√£o est√° pronto para se tornar RFC]</a></li>
<li><a href="../pt429382/index.html">Do Alibaba a Pyaterochka: quem e como usa o sistema de reconhecimento facial nos neg√≥cios</a></li>
<li><a href="../pt429384/index.html">Componentes el√©tricos da bicicleta: Motor</a></li>
<li><a href="../pt429386/index.html">Fornecedor da AT&T se torna o maior detentor de direitos autorais e come√ßar√° a desconectar usu√°rios acusados ‚Äã‚Äãde pirataria</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>