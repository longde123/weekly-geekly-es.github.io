<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüè´ üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø ‚òùüèª Tutorial de Java 9 para aquellos que tienen que trabajar con c√≥digo heredado ‚öîÔ∏è ü§ûüèº üßòüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas tardes, colegas. Hace exactamente un mes, recibimos un contrato para la traducci√≥n de Java moderno de Manning, que deber√≠a ser uno de nuestros ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tutorial de Java 9 para aquellos que tienen que trabajar con c√≥digo heredado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/417733/"> Buenas tardes, colegas.  Hace exactamente un mes, recibimos un contrato para la traducci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Java moderno</a> de Manning, que deber√≠a ser uno de nuestros nuevos productos m√°s notables el pr√≥ximo a√±o.  El problema de "Modern" y "Legacy" en Java es tan agudo que la necesidad de tal libro est√° bastante madura.  La escala del desastre y c√≥mo resolver problemas en Java 9 se describen brevemente en un art√≠culo de Wayne Citrin, una traducci√≥n de la cual queremos ofrecerle hoy. <br><a name="habracut"></a><br>  Cada pocos a√±os, con el lanzamiento de una nueva versi√≥n de Java, los hablantes de JavaOne comienzan a saborear nuevas construcciones de lenguaje y API, y elogian sus virtudes.  Y los entusiastas desarrolladores, mientras tanto, est√°n ansiosos por introducir nuevas caracter√≠sticas.  Tal imagen est√° lejos de ser realidad: no tiene en cuenta por completo que la mayor√≠a de los programadores est√°n ocupados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">apoyando y finalizando aplicaciones existentes</a> , y no escriben nuevas aplicaciones desde cero. <br><br>  La mayor√≠a de las aplicaciones, especialmente las comerciales, deben ser compatibles con versiones anteriores de Java que no sean compatibles con todas estas nuevas caracter√≠sticas de superduper.  Finalmente, la mayor√≠a de los clientes y usuarios finales, especialmente en el segmento de grandes empresas, desconf√≠an de una actualizaci√≥n radical de la plataforma Java, y prefieren esperar hasta que se fortalezca. <br><br>  Por lo tanto, tan pronto como el desarrollador intente una nueva oportunidad, se enfrenta a problemas.  ¬øUsar√≠a los m√©todos de interfaz predeterminados en su c√≥digo?  Quiz√°s, si tiene suerte y su aplicaci√≥n no necesita interactuar con Java 7 o inferior.  ¬øDesea utilizar la clase <code>java.util.concurrent.ThreadLocalRandom</code> para generar n√∫meros pseudoaleatorios en una aplicaci√≥n multiproceso?  No funcionar√° si su aplicaci√≥n debe ejecutarse en Java 6, 7, 8 o 9 al mismo tiempo. <br><br>  Con el lanzamiento de la nueva versi√≥n, los desarrolladores que admiten c√≥digo heredado se sienten como ni√±os obligados a mirar por la ventana de una pasteler√≠a.  No se les permite entrar, por lo que su destino es la decepci√≥n y la frustraci√≥n. <br><br>  Entonces, ¬øhay algo en la nueva versi√≥n de Java 9 para programadores involucrados en el soporte de c√≥digo heredado?  ¬øAlgo que podr√≠a facilitarles la vida?  Afortunadamente si. <br><br>  <b>Lo que hab√≠a que hacer con el soporte del c√≥digo heredado es la aparici√≥n de Java 9</b> <br><br>  Por supuesto, puede trasladar las capacidades de la nueva plataforma a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaciones heredadas</a> en las que debe cumplir con la compatibilidad con versiones anteriores.  En particular, siempre hay oportunidades para aprovechar las nuevas API.  Sin embargo, puede resultar un poco feo. <br><br>  Por ejemplo, puede aplicar el enlace tard√≠o si desea acceder a la nueva API cuando su aplicaci√≥n tambi√©n necesita trabajar con versiones anteriores de Java que no son compatibles con esta API.  Suponga que desea usar la clase <code>java.util.stream.LongStream</code> , introducida en Java 8, y quiere usar el <code>anyMatch(LongPredicate)</code> de esta clase, pero la aplicaci√≥n debe ser compatible con Java 7. Puede crear una clase auxiliar, como esta: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> classLongStreamHelper { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Class longStreamClass; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Class longPredicateClass; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Method anyMatchMethod; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { longStreamClass = Class.forName(<span class="hljs-string"><span class="hljs-string">"java.util.stream.LongStream"</span></span>); longPredicateClass = Class.forName(<span class="hljs-string"><span class="hljs-string">"java.util.function.LongPredicate"</span></span>); anyMatchMethod = longStreamClass.getMethod(<span class="hljs-string"><span class="hljs-string">"anyMatch"</span></span>, longPredicateClass): } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (ClassNotFoundException e) { longStreamClass = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; longPredicateClass = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; anyMatchMethod = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (NoSuchMethodException e) { longStreamClass = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; longPredicateClass = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; anyMatchMethod = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">anyMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Object theLongStream, Object thePredicate)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> NotImplementedException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (longStreamClass == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NotImplementedException(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Boolean result = (Boolean) anyMatchMethod.invoke(theLongStream, thePredicate); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result.booleanValue(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Throwable e) { <span class="hljs-comment"><span class="hljs-comment">// lots of potential exceptions to handle. Let's simplify. throw new NotImplementedException(); } } }</span></span></code> </pre> <br>  Hay maneras de simplificar esta operaci√≥n, o de hacerla m√°s general o m√°s efectiva: usted tiene la idea. <br><br>  En lugar de llamar a <code>theLongStream.anyMatch(thePredicate)</code> , como lo har√≠a en Java 8, puede llamar a <code>LongStreamHelper.anyMatch(theLongStream, thePredicate)</code> en cualquier versi√≥n de Java.  Si est√° tratando con Java 8, esto funcionar√°, pero si con Java 7, el programa arrojar√° una <code>NotImplementedException</code> . <br><br>  ¬øPor qu√© es esto feo?  Debido a que el c√≥digo puede volverse demasiado complicado si necesita acceder a muchas API (de hecho, incluso ahora, con una sola API, esto ya es inconveniente).  Adem√°s, esta pr√°ctica no es de tipo seguro, ya que el c√≥digo no puede mencionar directamente <code>LongStream</code> o <code>LongPredicate</code> .  Finalmente, esta pr√°ctica es mucho menos eficiente, debido a la sobrecarga de la reflexi√≥n, as√≠ como <code>try-catch</code> bloques adicionales <code>try-catch</code> .  Por lo tanto, aunque se puede hacer de esta manera, no es demasiado interesante y est√° lleno de errores debido al descuido. <br><br>  S√≠, puede acceder a las nuevas API y su c√≥digo al mismo tiempo mantiene la compatibilidad con versiones anteriores, pero no tendr√° √©xito con las nuevas construcciones de lenguaje.  Por ejemplo, supongamos que necesitamos usar expresiones lambda en el c√≥digo que deber√≠a seguir siendo compatible con versiones anteriores y funcionar en Java 7. No tiene suerte.  El compilador de Java no le permitir√° especificar una versi√≥n del c√≥digo fuente sobre el objetivo.  Entonces, si establece el nivel de cumplimiento del c√≥digo fuente en 1.8 (es decir, Java 8), y el nivel de cumplimiento objetivo es 1.7 (Java 7), entonces el compilador no lo permitir√°. <br><br>  <b>Los archivos JAR de versiones m√∫ltiples lo ayudar√°n</b> <br><br>  M√°s recientemente, ha aparecido otra gran oportunidad para usar las √∫ltimas caracter√≠sticas de Java, al tiempo que permite que las aplicaciones funcionen con versiones anteriores de Java, donde dichas aplicaciones no eran compatibles.  En Java 9, esta caracter√≠stica se proporciona tanto para nuevas API como para nuevas construcciones de lenguaje Java: estamos hablando de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">archivos JAR de m√∫ltiples versiones</a> . <br><br>  Los archivos JAR de versiones m√∫ltiples casi no difieren de los buenos archivos JAR antiguos, pero con una advertencia importante: ha aparecido un nuevo "nicho" en los nuevos archivos JAR, donde puede escribir clases que utilizan las √∫ltimas caracter√≠sticas de Java 9. Si trabaja con Java 9, entonces El JVM encontrar√° este "nicho", usar√° las clases de √©l e ignorar√° las clases del mismo nombre de la parte principal del archivo JAR. <br><br>  Sin embargo, cuando se trabaja con Java 8 o inferior, la JVM no es consciente de la existencia de este "nicho".  Ella lo ignora y usa clases de la parte principal del archivo JAR.  Con el lanzamiento de Java 10, aparecer√° un nuevo "nicho" similar para las clases que usan las caracter√≠sticas m√°s relevantes de Java 10, etc. <br><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JEP 238</a> , una propuesta para el desarrollo de Java, que describe archivos JAR voraces, se proporciona un ejemplo simple.  Digamos que tenemos un archivo JAR con cuatro clases ejecut√°ndose en Java 8 o inferior: <br><br><pre> <code class="java hljs">JAR root - A.class - B.class - C.class - D.class</code> </pre> <br>  Ahora imagine que despu√©s del lanzamiento de Java 9, reescribimos las clases A y B para que puedan usar las nuevas caracter√≠sticas espec√≠ficas de Java 9. Luego sale Java 10, y reescribimos la clase A para que pueda usar las nuevas caracter√≠sticas de Java 10. , la aplicaci√≥n a√∫n deber√≠a funcionar bien con Java 8. El nuevo archivo JAR de varias versiones tiene este aspecto: <br><br><pre> <code class="java hljs">JAR root - A.class - B.class - C.class - D.class - META-INF Versions - <span class="hljs-number"><span class="hljs-number">9</span></span> - A.class - B.class - <span class="hljs-number"><span class="hljs-number">10</span></span> - A.class</code> </pre> <br>  El archivo JAR no solo ha adquirido una nueva estructura;  ahora en su manifiesto se indica que este archivo tiene varias versiones. <br><br>  Cuando ejecuta este archivo JAR en Java 8 JVM, ignora la secci√≥n <code>\META-INF\Versions</code> porque ni siquiera lo sospecha ni lo busca.  Solo se utilizan las clases originales A, B, C y D. <br><br>  Cuando se ejecuta bajo Java 9, se usan las clases ubicadas en <code>\META-INF\Versions\9</code> , adem√°s, se usan en lugar de las clases originales A y B, pero las clases en <code>\META-INF\Versions\10</code> ignoran. <br><br>  Cuando se ejecuta en Java 10, <code>\META-INF\Versions</code> ambas ramas <code>\META-INF\Versions</code> ;  en particular, la versi√≥n A de Java 10, la versi√≥n B de Java 9 y las versiones predeterminadas C y D. <br><br>  Entonces, si en su aplicaci√≥n necesita la nueva API ProcessBuilder de Java 9, pero necesita asegurarse de que la aplicaci√≥n contin√∫e funcionando en Java 8, simplemente escriba las nuevas versiones de sus clases usando ProcessBuilder en la secci√≥n <code>\META-INF\Versions\9</code> del archivo JAR y deje las clases antiguas en la parte principal del archivo, que se usa de manera predeterminada.  Esta es la forma m√°s f√°cil de usar las nuevas caracter√≠sticas de Java 9 sin sacrificar la compatibilidad con versiones anteriores. <br><br>  Java 9 JDK tiene una versi√≥n de la herramienta jar.exe que admite la creaci√≥n de archivos JAR de varias versiones.  Otras herramientas que no son JDK tambi√©n brindan este soporte. <br><br>  <b>Java 9: ‚Äã‚Äãm√≥dulos, m√≥dulos en todas partes</b> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El sistema de m√≥dulos Java 9</a> (tambi√©n conocido como Project Jigsaw) es sin duda el mayor cambio en Java 9. Uno de los objetivos de la modularizaci√≥n es fortalecer el mecanismo de encapsulaci√≥n de Java para que el desarrollador pueda especificar qu√© API se proporcionan a otros componentes y pueda contar, que la JVM impondr√° la encapsulaci√≥n.  La encapsulaci√≥n es m√°s poderosa con la modularizaci√≥n que con modificadores de acceso <code>public/protected/private</code> para clases o miembros de clase. <br><br>  El segundo objetivo de la modularizaci√≥n es indicar qu√© m√≥dulos necesitan otros m√≥dulos para funcionar, y antes de iniciar la aplicaci√≥n, aseg√∫rese de que todos los m√≥dulos necesarios est√©n en su lugar.  En este sentido, los m√≥dulos son m√°s fuertes que el mecanismo tradicional de classpath, ya que las rutas de classpath no se verifican por adelantado, y los errores son posibles debido a la falta de clases necesarias.  Por lo tanto, ya se puede detectar un classpath incorrecto cuando la aplicaci√≥n tiene tiempo para trabajar el tiempo suficiente o despu√©s de que se haya lanzado muchas veces. <br>  Todo el sistema de m√≥dulos es grande y complejo, y una discusi√≥n detallada sobre √©l est√° m√°s all√° del alcance de este art√≠culo (Aqu√≠ hay una buena <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">explicaci√≥n detallada</a> ).  Aqu√≠ prestar√© atenci√≥n a aquellos aspectos de la modularizaci√≥n que ayudan al desarrollador con el soporte de aplicaciones heredadas. <br><br>  La modularizaci√≥n es algo bueno, y el desarrollador debe intentar dividir el nuevo c√≥digo en m√≥dulos siempre que sea posible, incluso si el resto de la aplicaci√≥n est√° (a√∫n no) modularizada.  Afortunadamente, esto es f√°cil de hacer gracias a la especificaci√≥n para trabajar con m√≥dulos. <br><br>  Primero, el archivo JAR se modulariza (y se convierte en un m√≥dulo) con la apariencia del archivo module-info.class (compilado de module-info.java) en la ra√≠z del archivo JAR.  <code>module-info.java</code> contiene metadatos, en particular, el nombre del m√≥dulo cuyos paquetes se exportan (es decir, se vuelven visibles desde el exterior), qu√© m√≥dulos requiere este m√≥dulo y alguna otra informaci√≥n. <br><br>  La informaci√≥n en <code>module-info.class</code> solo es visible cuando la JVM la est√° buscando, es decir, el sistema trata los archivos JAR modularizados de la manera normal si funciona con versiones anteriores de Java (se supone que el c√≥digo se compil√≥ para funcionar con una versi√≥n anterior de Java Hablando estrictamente, se necesita un poco de qu√≠mica, y todav√≠a es Java 9 que se especifica como la versi√≥n de destino de module-info.class, pero esto es real). <br><br>  Por lo tanto, debe poder ejecutar archivos JAR modularizados con Java 8 y versiones posteriores, siempre que en otros aspectos tambi√©n sean compatibles con versiones anteriores de Java.  Tambi√©n tenga en cuenta que <code>module-info.class</code> pueden, con reservas, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ubicarse en √°reas versionadas de archivos JAR de versiones m√∫ltiples</a> . <br><br>  En Java 9, hay una ruta de clase y una ruta de m√≥dulo.  y una ruta de m√≥dulo.  Classpath funciona como de costumbre.  Si coloca un archivo JAR modularizado en un classpath, se desperdicia como cualquier otro archivo JAR.  Es decir, si modulariz√≥ el archivo JAR y su aplicaci√≥n a√∫n no est√° lista para tratarlo como un m√≥dulo, puede colocarlo en el classpath, funcionar√° como siempre.  Su c√≥digo heredado deber√≠a manejarlo con bastante √©xito. <br><br>  Tambi√©n tenga en cuenta que la colecci√≥n de todos los archivos JAR en el classpath se considera parte de un √∫nico m√≥dulo sin nombre.  Tal m√≥dulo se considera el m√°s com√∫n, sin embargo, exporta toda la informaci√≥n a otros m√≥dulos y puede referirse a cualquier otro m√≥dulo.  Por lo tanto, si a√∫n no tiene una aplicaci√≥n Java modularizada, pero hay algunas bibliotecas antiguas que tampoco est√°n modularizadas (y probablemente nunca lo har√°n), simplemente puede poner todas estas bibliotecas en el classpath, y todo el sistema funcionar√° bien. <br><br>  Java 9 tiene una ruta de m√≥dulo que funciona junto con el classpath.  Cuando se utilizan m√≥dulos de esta ruta, la JVM puede verificar (tanto en tiempo de compilaci√≥n como en tiempo de ejecuci√≥n) si todos los m√≥dulos necesarios est√°n en su lugar e informar un error si faltan m√≥dulos.  Todos los archivos JAR en el classpath, como miembros de un m√≥dulo sin nombre, son accesibles para los m√≥dulos enumerados en la ruta modular, y viceversa. <br><br>  No es dif√≠cil transferir el archivo JAR de la ruta de clase a la ruta del m√≥dulo, y aprovechar al m√°ximo la modularizaci√≥n.  Primero, puede agregar el archivo <code>module-info.class</code> archivo JAR y luego colocar el archivo JAR modularizado en la ruta de los m√≥dulos.  Tal m√≥dulo reci√©n creado a√∫n podr√° acceder a todos los archivos JAR restantes en el classpath JAR, ya que ingresan al m√≥dulo sin nombre y permanecen en acceso. <br><br>  Tambi√©n es posible que no desee modular el archivo JAR, o que el archivo JAR no le pertenezca a usted, sino a otra persona, por lo que no puede modularlo usted mismo.  En este caso, el archivo JAR todav√≠a se puede poner en la ruta del m√≥dulo, se convertir√° en un m√≥dulo autom√°tico. <br><br>  Un m√≥dulo autom√°tico se considera un m√≥dulo, incluso si no tiene un <code>module-info.class</code> .  Este m√≥dulo tiene el mismo nombre que el archivo JAR que contiene, y otros m√≥dulos pueden solicitarlo expl√≠citamente.  Exporta autom√°ticamente todas sus API y lecturas disponibles p√∫blicamente (es decir, requiere) todos los dem√°s m√≥dulos con nombre, as√≠ como los m√≥dulos sin nombre. <br><br>  Por lo tanto, un archivo JAR no modularizado de un classpath puede convertirse en un m√≥dulo sin hacer nada en absoluto.  Los archivos JAR heredados se convierten autom√°ticamente en m√≥dulos, simplemente carecen de informaci√≥n que determine si todos los m√≥dulos necesarios est√°n en su lugar, o determinar qu√© falta. <br><br>  No todos los archivos JAR no modulados se pueden mover a la ruta del m√≥dulo y convertirse en un m√≥dulo autom√°tico.  Hay una regla: un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paquete puede ser parte de un solo m√≥dulo con nombre</a> .  Es decir, si un paquete est√° ubicado en m√°s de un archivo JAR, entonces solo un archivo JAR con este paquete en la composici√≥n puede convertirse en un m√≥dulo autom√°tico.  El resto puede permanecer en el classpath y unirse al m√≥dulo sin nombre. <br><br>  A primera vista, el mecanismo descrito aqu√≠ parece complicado, pero en la pr√°ctica es muy simple.  De hecho, en este caso es solo que puede dejar los archivos JAR antiguos en la ruta de clase o moverlos a la ruta del m√≥dulo.  Puedes dividirlos en m√≥dulos o no.  Y cuando sus archivos JAR antiguos est√°n modularizados, puede dejarlos en la ruta de clase o moverlos a la ruta del m√≥dulo. <br><br>  En la mayor√≠a de los casos, todo deber√≠a simplemente funcionar, como antes.  Sus archivos JAR heredados deben arraigarse en el nuevo sistema modular.  Cuanto m√°s module el c√≥digo, m√°s informaci√≥n de dependencia necesitar√° verificar, y los m√≥dulos y API faltantes se detectar√°n en etapas mucho m√°s tempranas de desarrollo y probablemente le ahorrar√° mucho trabajo. <br><br>  <b>Java 9 "h√°galo usted mismo": JDK modular y Jlink</b> <br><br>  Uno de los problemas con las aplicaciones Java heredadas es que el usuario final puede no funcionar con un entorno Java adecuado.  Una forma de garantizar el estado de una aplicaci√≥n Java es proporcionar un tiempo de ejecuci√≥n con la aplicaci√≥n.  Java le permite crear JRE privados (redistribuibles) que se pueden distribuir dentro de la aplicaci√≥n.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ se</a> explica c√≥mo crear un JRE privado.  Como regla general, se toma la jerarqu√≠a de archivos JRE, que se instala con el JDK, se guardan los archivos necesarios y se guardan los archivos opcionales con la funcionalidad que pueda necesitar en su aplicaci√≥n. <br><br>  El proceso es un poco problem√°tico: debe mantener una jerarqu√≠a de archivos de instalaci√≥n, teniendo cuidado, para no perder un solo archivo, ni un solo directorio.  Esto en s√≠ mismo no va a doler, sin embargo, todav√≠a desea deshacerse de todo lo superfluo, ya que estos archivos ocupan espacio.  S√≠, es f√°cil rendirse y cometer tal error. <br><br>  Entonces, ¬øpor qu√© no delegar este trabajo al JDK? <br><br>  En Java 9, puede crear un entorno aut√≥nomo que se agrega a la aplicaci√≥n, y en este entorno habr√° todo lo necesario para que la aplicaci√≥n funcione.  Ya no tiene que preocuparse de que la computadora del usuario tenga el entorno incorrecto para ejecutar Java, no tiene que preocuparse de que usted mismo haya creado incorrectamente un JRE privado. <br><br>  Un recurso clave para crear tales <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">im√°genes ejecutables aut√≥nomas</a> es un sistema modular.  Ahora puede modularizar no solo su propio c√≥digo, sino tambi√©n el propio Java 9 JDK.  Ahora la biblioteca de clases Java es una colecci√≥n de m√≥dulos, y las herramientas JDK tambi√©n consisten en m√≥dulos.  El sistema de m√≥dulos requiere que especifique los m√≥dulos de clase base que se necesitan en su c√≥digo, y que especifique los elementos JDK necesarios. <br><br>  Para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reunirlo</a> todo, Java 9 proporciona una nueva herramienta especial llamada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jlink</a> .  Al iniciar jlink, obtienes una jerarqu√≠a de archivos, exactamente los que necesitas para ejecutar tu aplicaci√≥n, ni m√°s ni menos.  Tal conjunto ser√° mucho m√°s peque√±o que el JRE est√°ndar, adem√°s, ser√° espec√≠fico de la plataforma (es decir, se seleccionar√° para un sistema operativo y m√°quina espec√≠ficos).  Por lo tanto, si desea crear tales im√°genes ejecutables para otras plataformas, deber√° ejecutar jlink en el contexto de la instalaci√≥n en cada plataforma espec√≠fica para la que necesita dicha imagen. <br><br>  Tambi√©n tenga en cuenta: si ejecuta jlink con una aplicaci√≥n en la que nada est√° modularizado, la herramienta simplemente no tiene la informaci√≥n necesaria para exprimir el JRE, por lo que a jlink no le quedar√° m√°s que empacar todo el JRE.  Incluso en este caso, ser√° un poco m√°s conveniente para usted: jlink empaquetar√° el JRE por usted, por lo que no puede preocuparse por c√≥mo copiar correctamente la jerarqu√≠a de archivos. <br><br>  Con jlink, resulta m√°s f√°cil empacar la aplicaci√≥n y todo lo que necesita para ejecutarla, y no tiene que preocuparse de hacer algo mal.  La herramienta solo empaquetar√° la parte del tiempo de ejecuci√≥n que se requiere para que la aplicaci√≥n funcione.  Es decir, se garantiza que una aplicaci√≥n Java heredada recibir√° un entorno en el que estar√° operativa. <br><br>  <b>El encuentro de lo viejo y lo nuevo</b> <br><br>   ,     Java-   ,      ,     .  Java 9,     ,      API   ,   (  )  ,      ,         Java. <br><br>     Java 9: -,      ,        ,      Java. <br><br>  JAR-      Java 9       JAR-,     Java   .  ,      Java 9,     Java 8        ‚Äì     . <br><br>   Java,    ,     JAR-   ,     .   ,             ,  ¬´  ¬ª   . <br><br>   JDK  jlink,             ,       .       ,    Java    ‚Äì    . <br><br>      Java,  Java 9       ,             ‚Äì       ,   ,          Java. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es417733/">https://habr.com/ru/post/es417733/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es417721/index.html">GPU para resolver problemas modernos de TI</a></li>
<li><a href="../es417723/index.html">Trabajar con la API KOMPAS-3D ‚Üí Lecci√≥n 11 ‚Üí Etiquetas de texto simple</a></li>
<li><a href="../es417725/index.html">C√≥mo Flant contrata empleados</a></li>
<li><a href="../es417729/index.html">El Intel Core i7-8086K (parte 2)</a></li>
<li><a href="../es417731/index.html">La historia de un T61</a></li>
<li><a href="../es417735/index.html">Infraestructura de clave p√∫blica: tokens GnuPG / SMIME y PKCS # 11 con soporte para criptograf√≠a rusa</a></li>
<li><a href="../es417737/index.html">Aqu√≠ est√° nuestro verano</a></li>
<li><a href="../es417739/index.html">Aprendizaje autom√°tico contra el riesgo de cr√©dito, o "Vamos, Gini, vamos"</a></li>
<li><a href="../es417741/index.html">27 de julio de 2018: eclipse lunar total y la gran confrontaci√≥n de Marte</a></li>
<li><a href="../es417743/index.html">Amplificadores legendarios - Anatom√≠a de la tendencia hist√≥rica: sonido de transistor fr√≠o</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>