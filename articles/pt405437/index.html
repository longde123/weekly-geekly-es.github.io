<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé£ üåñ üå•Ô∏è Como quebrar um iPhone e executar um servi√ßo para 15 milh√µes de usu√°rios ü§¢ üéÉ üå≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No ver√£o de 2014, eu e meus amigos fomos passear, e um evento hist√≥rico aconteceu. Ao gravar o v√≠deo, de repente, o iPhone 5C caiu das m√£os da minha e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como quebrar um iPhone e executar um servi√ßo para 15 milh√µes de usu√°rios</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/405437/">  No ver√£o de 2014, eu e meus amigos fomos passear, e um evento hist√≥rico aconteceu.  Ao gravar o v√≠deo, de repente, o iPhone 5C caiu das m√£os da minha esposa e caiu no ch√£o de concreto. <br><br>  Naquele momento, pareceu-me uma situa√ß√£o triste.  Mas esse foi precisamente o impulso para o lan√ßamento do servi√ßo, que agora atende a mais de 15 milh√µes de usu√°rios. <br><br>  O que o iPhone tem a ver com isso?  Que tipo de servi√ßo?  Como tudo isso est√° conectado?  Respostas sob o corte! <br><br><img src="https://habrastorage.org/web/905/ba3/631/905ba3631ca6438784c1d73556f914c2.jpg"><a name="habracut"></a><br><br><h3>  Pref√°cio </h3><br>  Neste artigo, quero compartilhar com voc√™ os eventos que come√ßaram em 2014.  Vou contar tudo como estava enquanto minha mem√≥ria estiver fresca e tamb√©m compartilhar informa√ß√µes que ainda n√£o foram publicadas em nenhum lugar. <br><br><h3>  Repara√ß√£o </h3><br>  Como qualquer pessoa que sentisse a amargura do vidro quebrado em seu dispositivo favorito, eu queria consertar isso o mais r√°pido poss√≠vel.  A tela em si n√£o foi danificada e o reparo √© apenas um substituto para o vidro da tela de toque.  Um amigo recomendou o SC em Kiev e enviei um telefone para l√°.  Eles colaram novamente e enviaram de volta para mim.  Mal podia esperar para receber o telefone pelo correio. <br><br>  Assim que o recebi, outra decep√ß√£o me esperava.  A tela sens√≠vel ao toque foi substitu√≠da, mas havia manchas amarelas nas bordas da tela.  No SC, eles me prometeram consert√°-lo ou substitu√≠-lo pelo original junto com a tela.  Como ainda encontrei arranh√µes embaixo do vidro, decidi substituir completamente a tela. <br><br>  Uma semana depois, recebi o telefone de volta, e o visor n√£o era original.  Mesmo na superf√≠cie em si, ficou claro que estava em √¢ngulo com o corpo.  E as cores eram mais escuras, o que distinguia claramente a tela da original.  Acontece que as telas originais do iPhone s√£o dif√≠ceis de encontrar.  Decidi suportar essa situa√ß√£o e, em algum momento no futuro, mudar o iPhone para um modelo mais novo. <br><br>  Alguns dias se passaram, eu lentamente me acostumei com a tela chinesa.  Eu estava sentado em uma poltrona e o telefone escorregou do meu bolso.  Ele caiu no ch√£o de madeira, o copo quebrou novamente.  O telefone com o vidro original caiu v√°rias vezes, mas n√£o bateu at√© o ataque de concreto.  Mas os chineses, de vidro colado torto, quebraram na primeira tentativa. <br><br><img src="https://habrastorage.org/web/e30/41c/ae7/e3041cae7e0d452d94bb97b377e7d6a5.jpg"><br><br>  A constata√ß√£o de que eu n√£o podia comprar o copo original me fez pensar em encontrar um doador.  Comecei a procurar um iPhone que vende olx para pe√ßas.  Descobriu-se que muitos t√™m problemas com a fun√ß√£o iCloud Find My iPhone.  Esses telefones n√£o podem ser ativados e permanecem inativos at√© voc√™ inserir o ID da Apple do propriet√°rio ou se o propriet√°rio remover o telefone da conta. <br><br>  Encontrei um doador, o iPhone 5C est√° em excelente estado, est√° trancado sob o operador e no iCloud.  A tela se aproximou com sucesso do meu telefone e finalmente tudo se encaixou.  Decidi manter o iPhone verde, por precau√ß√£o, como doador.  Finalmente, consegui me acalmar e esquecer esse problema. <br><br><h3>  O que vem a seguir? </h3><br>  V√°rias semanas se passaram, o iPhone 5C verde estava deitado em minha mesa sob o monitor.  Mas de vez em quando eu me lembrava dele, porque por h√°bito n√£o gosto de coisas ociosas.  O telefone estava, portanto, ligado a um operador desconhecido e, mesmo com cacos de vidro, n√£o havia sentido no iCloud.  Mas o pensamento de que o telefone em teoria pode ser desbloqueado, ainda de uma maneira desconhecida, n√£o me deixou. <br><br><h3>  doulCi </h3><br>  Em geral, comecei a pesquisar no google, ler os f√≥runs.  Encontrei informa√ß√µes sobre o doulCi (o nome n√£o √© estranho, mas √© quase o contr√°rio do iCloud).  Foi uma equipe de entusiastas que lan√ßou um servidor para ignorar a FMI do firmware inicial do iOS 7. Eles lan√ßaram o MITM e trocaram pacotes de um iPhone desbloqueado para um bloqueado.  Em geral, naquele momento, a Apple n√£o verificou a conformidade dos pacotes com o Serial / IMEI e o doulCi o usou com sucesso.  Eles n√£o funcionaram no servidor por um longo tempo, mas conseguiram desbloquear algo em torno de 70 mil dispositivos.  Aqueles que conseguiram se conectar ao servidor receberam um dispositivo em que o cart√£o SIM n√£o funcionou.  Em seguida, um membro da equipe vazou a fonte para a Internet, e a Apple conseguiu consertar esse buraco.  Nesse est√°gio, sua equipe se separou e todos foram de maneiras diferentes.  O servidor deles n√£o funcionou mais. <br><br>  Claro que eu n√£o sabia disso ent√£o.  Eu fui ao site oficial e vi temporizadores l√°, dizendo "Espere at√© as 16:00 na sexta-feira, ent√£o iniciaremos o servidor e o desbloquearemos gratuitamente".  E havia em todos os lugares campos para entrar no IMEI e no registro.  Ent√£o eu decidi esperar esta hora.  Assim que chegou a hora, dei um alarme para n√£o perder, mantive o cabo USB pronto.  Chegou a hora, eu fui ao site deles e l√° <s>tudo funciona um</s> novo momento para iniciar o servidor.  Eu tentei esperar ainda, e tudo acabou sendo uma tenta√ß√£o publicit√°ria.  Isso me incomodou bastante, mas eu n√£o ia parar. <br><br><h3>  Servidor proxy </h3><br>  Mais tarde, come√ßaram a aparecer not√≠cias sobre servidores proxy, dizendo que, ao se conectar a eles, voc√™ pode acessar a p√°gina da web. <br><br>  Na p√°gina que a Apple distribui <br><br><img src="https://habrastorage.org/web/23f/644/591/23f64459189a4de49342803924e8d54f.png"><br><br>  Ao clicar em "Ajuda na ativa√ß√£o", o usu√°rio foi levado a uma p√°gina com texto.  Mas os desenvolvedores da Apple perderam um pequeno detalhe, o link n√£o levou ao HTTPS, mas a um endere√ßo HTTP. <br> <code>http://static.ips.apple.com/deviceservices/buddy/barney_activation_help_en_us.buddyml</code> <br>  Isso tornou poss√≠vel interceptar e substituir o tr√°fego, uma vez que n√£o estava criptografado. <br><br>  Os servidores estavam caindo constantemente, o melhor que encontrei foi o servidor niltpH.  Mas ele trocava constantemente de portas, de modo que os usu√°rios frequentemente visitavam seu site ou o servidor n√£o suportava, e ent√£o ele removia a carga. <br><br>  Eu sempre me perguntava por que fazer um proxy se voc√™ pode encaminhar consultas DNS? <br>  N√£o haver√° carga pesada e o servidor estar√° sempre online.  Mas havia apenas servidores proxy. <br><br>  Ent√£o uma onda de golpistas come√ßou, eles come√ßaram a proxy massivamente do servidor. <br>  Mostrando uma p√°gina com pagamento por um rastreamento completo inexistente, muitas pessoas sofreram com esses servi√ßos falsos.  Servidores proxy permitiram que voc√™ tivesse controle total sobre o tr√°fego.  Assim, bandidos roubaram senhas e cart√µes de cr√©dito, e os usu√°rios acreditavam que isso funcionaria, pois qualquer altera√ß√£o no dispositivo era cred√≠vel. <br><br>  A Apple n√£o fez nada para fazer a diferen√ßa, mas eu fiz.  Como resultado de minhas a√ß√µes adicionais, ningu√©m mais conseguiu encontrar os fraudadores do servidor proxy no mecanismo de pesquisa. <br><br><h3>  Primeiro servidor de desvio de DNS do iCloud </h3><br>  Resolvido, vou iniciar meu servidor.  Numa noite de inverno em dezembro, comecei o desenvolvimento.  Para implementar minha ideia, eu precisava de um servidor HTTP e um servidor DNS.  Decidi escrever os dois servi√ßos em C ++ usando o Visual Studio 2010. Trabalhando com soquetes diretamente byte a byte sem bibliotecas de terceiros. <br><br>  O protocolo DNS n√£o √© complicado, para uma solicita√ß√£o UDP, uma resposta, com a mesma estrutura de cada vez.  Por algumas horas, escrevi um servidor DNS simples, que respondeu com um endere√ßo IP est√°tico em static.ips.apple.com e o restante que eu usei com o DNS do Google. <br><br>  Ent√£o eu comecei a escrever um servidor HTTP.  O primeiro passo foi simplesmente produzir uma p√°gina HTML.  Ele foi carregado na mem√≥ria quando o programa foi iniciado e, em seguida, foi emitido em pacotes prontos para todos que enviaram uma solicita√ß√£o para a porta 80.  Portanto, meu programa retornou uma p√°gina para todos que enviaram a solicita√ß√£o, independentemente do host especificado.  Tudo funcionou no navegador, mas ao registrar o DNS nas configura√ß√µes do Wi-Fi iOS, clicando em "Ajuda na ativa√ß√£o", recebi um erro no telefone. <br><br>  Ap√≥s analisar o tr√°fego, verificou-se que a Apple usa arquivos XML, gerando uma interface remota para eles. <br><br>  O c√≥digo de exemplo pode ser visto no link de ajuda da ativa√ß√£o: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">static.ips.apple.com/deviceservices/buddy/barney_activation_help_en_us.buddyml</a> <br><br>  E aqui est√° a resposta do servidor solicitando a senha no dispositivo bloqueado: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript">&lt;![CDATA[</span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">enableNextButton</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldPassword = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'password'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">if</span></span></span><span class="actionscript"> (fieldPassword &amp;&amp; fieldPassword.length &gt;= </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">3</span></span></span><span class="actionscript">) </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">; </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">; } </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">validateForm</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span></span><span class="actionscript">{ </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldLogin = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> fieldPassword = xmlui.getFieldValue(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'password'</span></span></span><span class="actionscript">); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">if</span></span></span><span class="actionscript"> (fieldLogin == </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'test'</span></span></span><span class="actionscript">) { xmlui.setFieldInvalid(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">, </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">false</span></span></span><span class="actionscript">); xmlui.alert(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Test!"</span></span></span><span class="actionscript">); } </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">else</span></span></span><span class="actionscript"> { xmlui.setFieldInvalid(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'login'</span></span></span><span class="actionscript">, </span><span class="hljs-literal"><span class="actionscript"><span class="hljs-literal">true</span></span></span><span class="actionscript">); xmlui.alert(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">"Value entered is not 'test'."</span></span></span><span class="actionscript">); } }]]&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Activation Lock"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadingTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Activating..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hidesBackButton</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkBarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Next"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/deviceservices/deviceActivation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"blue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enabledFunction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"enableNextButton"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"This iPhone is linked to an Apple ID. Enter the Apple ID and password that were used to set up this iPhone."</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  : This iPhone has been lost. Please call me. (123) 456-1234"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footer</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">footerLinkURL</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://static.ips.apple.com/deviceservices/buddy/barney_activation_help_ru_ru.buddyml"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">editableTextRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"login"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Apple ID"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example@icloud.com"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableAutocapitalization</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disableAutocorrection</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyboardType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">editableTextRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secure</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"password"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">serverInfo</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isAuthRequired</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">activation-info-base64</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"      "</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Tendo estudado a fonte, voc√™ pode entender que o c√≥digo possui JavaScript e funciona dentro das tags &lt;! [CDATA [..]]&gt; <br><br>  E naquela √©poca, os proxies existentes usavam uma √∫nica p√°gina com c√≥digo HTML. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Games"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">loadingTitle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Loading..."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hidesBackButton</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkBarItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">position</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Next"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/deviceservices/deviceActivation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"blue"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enabledFunction</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"enableNextButton"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">navigationBar</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlLabelRow</span></span></span><span class="hljs-tag">&gt;</span></span> &lt;![CDATA[&lt;html&gt;   HTML  &lt;/html&gt;]]&gt;<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlLabelRow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">page</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">xmlui</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  No telefone, voc√™ pode ver um site simples em vez do texto de ativa√ß√£o.  Cookies funcionaram.  Mas, ao clicar em qualquer link externo, todos os estilos se perderam e as transi√ß√µes subsequentes foram imposs√≠veis.  √â assim que os servidores proxy funcionavam naquele momento. <br><br>  Depois de algumas horas, eu tinha um servidor DNS e HTTP ativo, que retornava 1 p√°gina para qualquer solicita√ß√£o.  O XMLUI acabou sendo uma marca√ß√£o com par√¢metros desconhecidos que n√£o foram encontrados em nenhum lugar.  E agora n√£o h√° documenta√ß√£o em nenhum lugar.  A Apple o usa apenas dentro de seus produtos. <br><br>  De fato, os elementos padr√£o do iOS s√£o gerados pelo XMLUI, mesmo aqueles que funcionam offline.  Listas, bot√µes, √≠cones, escolha de data e hora, submenus, tudo isso √© apenas o resultado da convers√£o do XML de um script semelhante em uma interface em tempo real. <br><br>  A constata√ß√£o de que muitas das interfaces no iOS foram feitas de uma maneira t√£o desajeitada me decepcionou um pouco.  √â quando voc√™ espera que tudo j√° tenha sido feito da melhor maneira poss√≠vel, e acontece que h√° uma camada na camada. <br><br>  Ent√£o percebi que, em teoria, se voc√™ conhece o layout da interface, pode gerar uma interface iOS nativa muito confort√°vel com uma lista de √≠cones e links.  Como configura√ß√µes no iOS.  E substitua-o pela caixa de di√°logo de ativa√ß√£o completamente. <br><br>  Tudo o que entendi a partir do c√≥digo j√° salvo √© que existe uma determinada tabela com a capacidade de adicionar muitos rodap√©s de &lt;se√ß√£o, que podem se referir a outros arquivos XMLUI.  √â bem poss√≠vel criar seu servidor XMLUI com algumas informa√ß√µes.  Mas eu queria obter exatamente a lista dos sites e poder acessar o Google, por exemplo. <br><br><h3>  Como criar uma interface de marca√ß√£o sem conhecer os comandos? </h3><br>  A primeira coisa que me ocorreu foi que, como o iOS gera comandos, ele compara as sequ√™ncias de par√¢metros XML, portanto, elas devem ser armazenadas em algum lugar do firmware.  Idealmente, voc√™ encontraria um arquivo com uma lista de comandos que voc√™ pode tentar adicionar ao c√≥digo XMLUI, mas n√£o, isso n√£o aconteceu. <br><br>  Naquela √©poca, o iPhone 4 j√° estava completamente hackeado.  L√°, no gerenciador de inicializa√ß√£o, voc√™ pode inicializar e obter acesso total ao sistema de arquivos, n√£o importa se h√° uma senha do iOS ou n√£o. <br><br>  Encontrei o firmware do iOS 7 baixado do iPhone 4 e comecei a selecion√°-lo.  Compilei uma lista de palavras famosas desses arquivos XMLUI que coletei e comecei a procurar palavra por palavra por todos os arquivos de firmware.  √Ä primeira vista, um exerc√≠cio in√∫til, √© compar√°vel a encontrar uma agulha no palheiro, mas por alguma raz√£o eu tinha certeza de que encontraria algo.  Mais de uma hora se passou, n√£o encontrei nada, mas o arquivo dyld_shared_cache_armv7 chamou minha aten√ß√£o.  Ele pesava at√© 300 MB, enquanto o firmware inteiro pesava cerca de 1 GB. <br><br>  Acabou sendo um "pacote" de bibliotecas din√¢micas.  Para n√£o sobrecarregar o sistema de arquivos, a Apple empacota todas as bibliotecas din√¢micas de todos os programas do sistema em um arquivo.  Usando as ferramentas de desenvolvedor da Apple, descompactei este arquivo e recebi um grande n√∫mero de arquivos.  Comecei a procurar novamente em seus dados por palavras da minha lista, tentei combin√°-las e selecion√°-las.  Comecei a procurar grafias semelhantes em estilo - algumas palavras, a primeira com uma letra min√∫scula, a outra com mai√∫scula, sem espa√ßos ou sublinhado. <br><br>  Ap√≥s in√∫meras tentativas, consegui encontrar a palavra htmlButtonRow.  Se voc√™ inseri-lo no c√≥digo, obt√©m um erro, de alguma forma influenciado e reconhecido.  O pr√≥ximo passo foi a sele√ß√£o de um lugar, onde coloc√°-lo? <br><br>  Finalmente, o c√≥digo funcionou e eu recebi a barra de menu cobi√ßada: <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlButtonRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">htmlButtonRow</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tableView</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Apenas uma linha foi exibida e o texto, quando pressionado, nada aconteceu.  Mas o nome da se√ß√£o htmlButtonRow estava falando sobre HTML, o que significa que voc√™ provavelmente pode adicionar o c√≥digo da p√°gina. <br>  Inserir c√≥digo HTML em um bot√£o usando &lt;! [CDATA funcionou.  A Even ganhou a transi√ß√£o do bot√£o para o site. <br><br>  Consegui o que queria, uma maneira de exibir uma lista de sites diferentes e acess√°-los.  Ent√£o comecei a desenvolver um mecanismo de gera√ß√£o de c√≥digo XMLUI.  Eu escrevi uma lista dos par√¢metros necess√°rios para um bot√£o, coloque um link para a imagem, texto e um link para o site l√°. <br><br>  O resultado foi um arquivo de configura√ß√£o de texto desse tipo: <br><br><pre> <code class="hljs ruby">[Section] Name=Facebook Url=<span class="hljs-symbol"><span class="hljs-symbol">menu:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/https:/</span></span><span class="hljs-regexp"><span class="hljs-regexp">/m.facebook.com/</span></span> Img=<span class="hljs-symbol"><span class="hljs-symbol">https:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/iclouddnsbypass.com/</span></span>Icons/B5w8iLX.png</code> </pre> <br>  Nele, criei uma lista de sites populares. <br><br>  Em seguida, criei modelos de p√°gina nos quais bot√µes foram adicionados, tudo foi armazenado estaticamente na mem√≥ria e emitido sob demanda sem acessar o disco. <br><br>  Depois de alguns dias, corrigi todos os erros e o servidor estava pronto para um lan√ßamento constante.  A primeira vers√£o do iCloud DNS Bypass foi lan√ßada em 25 de dezembro de 2014.  Eu escrevi o endere√ßo do servidor DNS em w3bsit3-dns.com no t√≥pico sobre o desvio do iCloud, no mesmo dia em que os moderadores do site me escreveram e sugeri a cria√ß√£o de uma ramifica√ß√£o separada.  Quem se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">importa</a> , aqui est√° um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link para o t√≥pico do f√≥rum w3bsit3-dns.com</a> . <br><br>  Como resultado, tudo ficou assim: <br><br><img src="https://habrastorage.org/web/498/569/73e/49856973ee45455d868ba2c0101c7800.jpg"><br><br>  Por√©m, devido √†s limita√ß√µes da pr√≥pria interface, s√≥ foi poss√≠vel seguir o link, e a transi√ß√£o subsequente para sites de terceiros foi imposs√≠vel.  Como resultado, todos poderiam usar apenas a lista de sites que eu adicionei ao servidor. <br><br><h3>  Solucionar problemas de desvio de DNS do iCloud </h3><br>  Alguns dias ap√≥s o lan√ßamento, meu amigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Dybik</a> lan√ßou um site com informa√ß√µes do servidor.  Criei um grupo no VK e conversei com os usu√°rios do servidor.  No novo firmware do iOS, os links de clique em HTML n√£o funcionam mais. <br><br>  Naquela √©poca, cerca de 500 usu√°rios √∫nicos j√° haviam se conectado e todas as an√°lises me ajudaram a acreditar que eu estava fazendo algo √∫til.  E sempre sonhei em lan√ßar um grande projeto.  Esses pensamentos me deram for√ßa para n√£o desistir.  Comecei a procurar novamente nomes de valor XMLUI, tinha certeza de que havia muitos outros comandos √∫teis. <br><br>  Depois de passar mais 3-4 horas de pesquisas e rebotes diligentes, finalmente encontrei uma tag √∫til <br>  &lt;linkRow e seu par√¢metro acess√≥rio = "divulga√ß√£o", transformando o bot√£o em uma subpasta.  Era exatamente isso que voc√™ precisava, a lista funcionava em todos os iOS e assumia uma apar√™ncia mais nativa, j√° que n√£o havia mais HTML. <br><br>  O c√≥digo do bot√£o final era assim: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">linkRow</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">accessory</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"disclosure"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">image</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">shouldScaleHTMLPageToFit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://   .buddyml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">httpMethod</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Eles come√ßaram a me enviar links √∫teis, que eu adicionei ao menu, e formaram uma grande lista.  Eles tamb√©m enviaram falhas, que adicionei ao menu, e todos puderam experiment√°-las. <br><br>  Tamb√©m fiz um mecanismo de linguagem, com a substitui√ß√£o de textos, dependendo do idioma do usu√°rio.  Ele convidou todos a traduzir e, com o tempo, eles me enviaram tradu√ß√µes de diferentes pa√≠ses.  Agora, a interface do servidor j√° foi traduzida para 50 idiomas, gra√ßas a volunt√°rios.  Tamb√©m fiz restri√ß√µes na lista de sites para o idioma, por exemplo, o russo √© exibido para sites russos, chin√™s para chin√™s.  Adicionado um bate-papo baseado no tlk.io, mas mais tarde ele criou seu pr√≥prio mecanismo devido a spammers. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/5cc/054/6df/5cc0546df247f681e52a1369c820f818.png" alt="imagem"><img src="https://habrastorage.org/getpro/geektimes/post_images/4c0/be4/647/4c0be4647de0edbfcd5c3eb934c1b89f.png" alt="imagem"><img src="https://habrastorage.org/getpro/geektimes/post_images/eb1/36a/f10/eb136af1009fceebbe36b81d06213f2f.png" alt="imagem"><br><br>  Al√©m disso, tamb√©m encontrei o par√¢metro shouldScaleHTMLPageToFit = "true", que trouxe a visualiza√ß√£o do navegador para o celular, onde √© necess√°rio.  E ao longo do caminho, encontrei outro par√¢metro mais importante √©ModalHTMLView = "true".  Com isso, eu fui capaz de expandir a p√°gina da web para tela cheia, a rota√ß√£o da tela e todos os cliques nos links sem bugs e restri√ß√µes trabalhadas l√°.  Os cookies tamb√©m funcionaram ap√≥s a reinicializa√ß√£o, ent√£o eu os usei para contar o n√∫mero de usu√°rios.  Pela primeira vez no mundo, foi poss√≠vel usar um navegador completo sem guias em um dispositivo iOS bloqueado. <br><br>  Al√©m disso, atrav√©s do bot√£o de upload de fotos em HTML, todos podem usar a c√¢mera e acender a lanterna da mesma maneira.  Adicionei uma lista de favoritos e voc√™ pode adicion√°-la na interface.  Havia esta√ß√µes de r√°dio no menu, era poss√≠vel abrir m√∫sicas e abrir outra guia com um bot√£o especial, enquanto a anterior funcionava e a multitarefa era executada. <br><br>  Acontece que alguns usu√°rios n√£o podem se conectar ao servidor.  O motivo disso foi roteadores ou provedores que substitu√≠ram todas as consultas DNS por suas pr√≥prias.  E n√£o foi poss√≠vel substituir o dom√≠nio pelo meu servidor.  Em seguida, desenvolvi um pequeno programa para Windows que inicia o servidor DNS interno, o que ajuda a conectar-se √† rede local. <br><br>  Aqui est√° um v√≠deo do YouTube no canal EverythingApplePro sobre o iCloud DNS Bypass, onde voc√™ pode assistir como era a interface naquele momento. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/uSrOGN6K4To" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dois meses depois, mais de 200 mil dispositivos j√° estavam conectados ao servidor. <br><br><img src="https://habrastorage.org/web/fa8/be3/da4/fa8be3da44254b719b7ba344de6d92a5.png"><br><br>  Aqui est√° um v√≠deo, em tempo real, voc√™ pode ver as solicita√ß√µes no servidor que estavam naquele momento <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/FUysTl-TsIQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Mas, para a Apple perceber que eles t√™m uma marca√ß√£o na marca√ß√£o, foi necess√°rio conectar outros 300 mil dispositivos. <br><br><h3>  Outra onda de golpistas </h3><br>  Dois meses ap√≥s o lan√ßamento na Internet, era imposs√≠vel encontrar mais alguma solu√ß√£o alternativa al√©m do meu servidor.  Isso acabou com o proxy fraudulento que extorquia dinheiro.  Mas uma onda de an√∫ncios no eBay come√ßou e eles come√ßaram a vender o "iCloud bypass" por 30 a 50 d√≥lares.  Os propriet√°rios ing√™nuos e desesperados dos dispositivos bloqueados s√£o f√°ceis de manipular e os golpistas o usavam. <br><br>  Depois de pagar pelo "servi√ßo de desbloqueio", os golpistas deram instru√ß√µes aos compradores sobre como se conectar ao meu servidor gratuito.  Muitos nem suspeitaram que foram roubados.  Eu estava com raiva e queria fazer algo para det√™-los. <br><br>  Escrevi uma p√°gina de mensagem em todos os idiomas, para que, quando todos se conectem, entendam que o servidor √© gratuito.  Essa inscri√ß√£o ainda permanece na interface do servidor.  Ele tamb√©m reclamou de fraude no eBay, mas essa guerra foi intermin√°vel. <br><br>  Recebi muitas cartas e joguei fora tudo o que encontraram sobre hacks, publiquei no servidor e tentei de tudo.  √Äs vezes, acabava indo para a √°rea de trabalho e, √†s vezes, tudo era desbloqueado (funcionava apenas com dispositivos limpos pelo site, a interface o deixava em condi√ß√µes de funcionamento at√© a reinicializa√ß√£o). <br><br>  Usando as informa√ß√µes que me foram enviadas, descobriu-se que existem muitas fontes que oferecem desbloquear dispositivos por dinheiro que realmente funcionou.  Tentei descobrir como compartilhar com toda a comunidade para dissipar os equ√≠vocos sobre servi√ßos pagos. <br><br>  Os usu√°rios recebem um dispositivo bloqueado pelos seguintes motivos: <br><br><ul><li>  Esqueceu sua senha de ID Apple e perdeu seu cheque </li><li>  Comprou um dispositivo sem saber que ele est√° bloqueado </li><li>  Eles se tornaram v√≠timas de ransomware e perderam o acesso ao seu ID Apple </li><li>  Encontrou o dispositivo no modo de perda </li></ul><br>  Agora posso dizer com confian√ßa que existem apenas duas maneiras de desamarrar completamente: <br><br><ul><li>  Phishing, roubo de senhas do propriet√°rio e remo√ß√£o de um dispositivo da conta </li><li>  Ap√≥s receber o cheque original, uma chamada de suporte da Apple desata um dispositivo que n√£o est√° no modo de perda </li><li>  Soldando um m√©todo de modem ou resistor para iPad a partir de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Pasha4ur</a> </li></ul><br>  No ano passado, os servi√ßos de phishing foram massivamente distribu√≠dos, e a Apple, em resposta, at√© removeu a mensagem do propriet√°rio na tela do dispositivo bloqueado.  Mas esse n√£o foi o motivo da ocorr√™ncia generalizada de ataques de phishing.  Existem fontes que vendem informa√ß√µes da conta Apple ID pelo dinheiro que foi usado para ataques.  Eles pararam de trabalhar apenas nos feriados do calend√°rio chin√™s.  Provavelmente, esses s√£o funcion√°rios da Apple na China que est√£o copiando informa√ß√µes da √°rea administrativa da Apple Care.  Decidi verificar as informa√ß√µes recebidas e tudo acabou sendo verdade.  Havia informa√ß√µes de endere√ßo, n√∫meros de telefone, perguntas de seguran√ßa, nenhuma senha e nenhuma resposta.  Depois tentei entrar em contato com a Apple para descobrir o que estava acontecendo e minhas cartas foram ignoradas com sucesso.  Portanto, cuide do seu IMEI / UDID longe de olhares indiscretos, e no Apple ID √© melhor n√£o escrever informa√ß√µes reais. <br><br><h3>  Plano de emerg√™ncia </h3><br>  Eu suspeitava que a Apple algum dia notaria uma falha no link HTTPS, e o servidor iCloud DNS Bypass de uma s√≥ vez deixaria de funcionar para todos os dispositivos.  Explorar alternativas me levou a criar o Portal Cativo.  Esse mecanismo √© usado em muitos hot√©is, aeroportos, quando voc√™ precisa inserir seu n√∫mero no site, antes de conectar-se √† Internet. <br><br>  Informa√ß√µes sobre o Portal Cativo tamb√©m foram dif√≠ceis de encontrar.  Ningu√©m nunca tentou iniciar um portal de autoriza√ß√£o por meio de um servidor DNS.  Ap√≥s v√°rios dias de pesquisa, consegui lan√ßar meu pr√≥prio Portal Cativo.  Tudo funcionava como em um navegador normal, clicando em todos os links funcionavam sem restri√ß√µes.  Em geral, eu estava pronto para a Apple corrigir o defeito, mas o fato de os Cookies terem sido apagados quando o portal foi fechado me confundiu. <br><br>  Naquela √©poca, o m√©todo XMLUI funcionava perfeitamente, eu respondia e-mails, estava interessado em me comunicar com as pessoas.  No YouTube, muitos gravaram um v√≠deo sobre o meu servidor e todos compartilharam informa√ß√µes sobre pesquisas para um rastreamento completo. <br><br><h3>  Modo offline, um gerenciador de arquivos completo sem a Internet </h3><br>  Quase meio ano se passou desde que o servidor foi iniciado e a Apple n√£o pensou em corrigir a p√°gina de marca√ß√£o.  N√£o me lembro exatamente quando, mas estava entediado e comecei a tentar ler o sistema de arquivos do iOS por meio do XMLUI.  Consegui e consegui abrir arquivos do sistema de arquivos, conhecendo o caminho deles com anteced√™ncia. <br><br>  Tive uma ideia: se voc√™ soltar todos os arquivos do programa do computador para as pastas grav√°veis ‚Äã‚Äãdo dispositivo, poder√° criar um gerenciador de arquivos.  Ainda era poss√≠vel acessar arquivos sem confirma√ß√£o em um dispositivo bloqueado, agora no iOS 10 isso n√£o funcionar√° mais. <br><br>  Criei um campo de entrada de c√≥digo para desbloquear os bot√µes de teste onde estava o gerenciador de arquivos e convidei v√°rios volunt√°rios para testar. <br><br><img src="https://habrastorage.org/web/74d/037/1b2/74d0371b252b4e6ba90351265da04a29.jpg"><br><br>  Foi poss√≠vel fazer upload de arquivos de qualquer formato e abrir no dispositivo.  Tamb√©m mesclei todos os menus e submenus em um arquivo, o que tornou poss√≠vel baix√°-los para o dispositivo uma vez e depois us√°-los sem a Internet.  Eu queria compartilhar novos recursos com os usu√°rios do servidor o mais r√°pido poss√≠vel.  Primeiro, era necess√°rio criar um programa que sincronizasse a estrutura do sistema de arquivos com o servidor e identificasse o usu√°rio, fornecendo a ele uma lista de arquivos de seu dispositivo. <br><br>  Eu estava muito envolvido e comecei a me desenvolver.  Muitas horas se passaram e um reprodutor de √°udio com uma lista de reprodu√ß√£o e a capacidade de selecionar uma faixa estavam prontos.  Na manh√£ seguinte, choveram e-mails sobre mim com mensagens de que o servidor estava inoperante.  Eu verifiquei tudo, o servidor estava funcionando, v√°rias centenas de usu√°rios estavam online.  Mas foram apenas os sortudos que n√£o deixaram o servidor. <br>  Em 13 de maio de 2015, os desenvolvedores da Apple notaram uma falha e corrigiram o texto do link de HTTP para HTTPS. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante a noite, todos os dispositivos pararam de se conectar ao servidor e se transformaram em peda√ßos de ferro in√∫teis com o logotipo da apple. E, a certa altura, todo o desenvolvimento do gerenciador de arquivos se tornou in√∫til. Ningu√©m nunca descobriu que eu estava indo para iniciar este modo. Agora, para retornar esse m√©todo, voc√™ precisa instalar um certificado autoassinado no dispositivo para o dom√≠nio albert.apple.com, at√© agora isso n√£o foi poss√≠vel. No momento da corre√ß√£o do bug, devido ao qual o m√©todo antigo n√£o funciona mais, meio milh√£o de dispositivos √∫nicos estavam conectados. </font></font><br><br><img src="https://habrastorage.org/web/3ca/13b/d68/3ca13bd688dd4968a29cbc8f348189c2.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comecei imediatamente a iniciar o Portal Cativo e a mover o menu inteiro para a op√ß√£o da web. A interface √© baseada no Framework7, eu a adaptei ao antigo arquivo de configura√ß√£o de menu. No mesmo dia, o servidor foi lan√ßado em uma nova apar√™ncia, na qual ainda est√° localizado.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/kPmFFAwWp2c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No Facebook, eu tinha uma p√°gina de desvio de DNS do iCloud, onde publiquei apenas not√≠cias e atualiza√ß√µes de servidor. Mais de um ano se passou. Por alguma raz√£o, a Apple n√£o gostou e um dia (√≥timo) vi a seguinte mensagem sem aviso: </font></font><br><br><img src="https://habrastorage.org/web/5b3/c31/db0/5b3c31db04134ced819c9741a3819866.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais tarde, o CloudFlare enviou um e-mail com uma mensagem informando que algu√©m da unidade da Apple solicitou o endere√ßo IP real do meu site, pois isso viola os direitos autorais. certo. Embora eu n√£o entendesse qual foi a viola√ß√£o, fiquei feliz por tudo isso ser limitado. Durante todo o tempo, a Apple nunca tentou entrar em contato diretamente e pedir para excluir o que n√£o gosta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma ironia do destino, se minha esposa n√£o tivesse desligado o telefone, se eu n√£o tivesse me distra√≠do do projeto principal para relaxar e realizar minha ideia, o servidor de desvio de DNS do iCloud n√£o existiria hoje.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, o n√∫mero de usu√°rios √∫nicos ultrapassou a fronteira de 15 milh√µes, 50 a 60 mil dispositivos √∫nicos s√£o conectados por dia. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o atual do servidor funciona em todos os iOS existentes no momento. E ainda n√£o h√° alternativas para o desvio de DNS do iCloud com base no Captive Portal. O servidor trabalha ininterruptamente desde o lan√ßamento e as doa√ß√µes s√£o suficientes para alugar equipamentos. At√© agora, todas as conex√µes HTTP s√£o atendidas por um √∫nico programa escrito em C ++. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui est√£o estat√≠sticas de pa√≠ses com os dispositivos Apple mais bloqueados que se conectaram ao iCloud DNS Bypass. Total atualmente de 15,3 milh√µes.</font></font><br><br><img src="https://habrastorage.org/web/a3a/cfc/9cd/a3acfc9cd1cd4fd4b3070572e29598e2.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E sim, voc√™ pode tentar o Portal Cativo no seu dispositivo n√£o bloqueado, fazendo tudo conforme as instru√ß√µes no v√≠deo deste artigo. </font><font style="vertical-align: inherit;">E voc√™ tamb√©m pode simplesmente acessar qualquer navegador da p√°gina </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ui.iclouddnsbypass.com</font></font></a> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Posf√°cio </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espero n√£o ter aborrecido voc√™ com a minha hist√≥ria, e foi interessante para voc√™. </font><font style="vertical-align: inherit;">N√£o h√° regras em nosso universo, e um projeto no qual voc√™ trabalha h√° alguns anos pode ser coberto com uma bacia de cobre, e um hobby pelo qual voc√™ passa duas semanas pode se transformar em um servi√ßo que atende muitos milh√µes de pessoas. </font><font style="vertical-align: inherit;">Desejo que voc√™ n√£o fique entediado com o seu trabalho e muitas vezes se distraia com o que realmente gosta.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt405437/">https://habr.com/ru/post/pt405437/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt405423/index.html">O Team Media Player Classic anunciou a poss√≠vel morte do projeto</a></li>
<li><a href="../pt405425/index.html">Ci√™ncia no mundo inteiro, parte 2</a></li>
<li><a href="../pt405431/index.html">N√£o haver√° "aterragem a jato" no Dragon</a></li>
<li><a href="../pt405433/index.html">Fibra √≥tica: passado e presente</a></li>
<li><a href="../pt405435/index.html">Impressoras com uma alma larga. Guia r√°pido da Impress√£o em grande formato da Canon</a></li>
<li><a href="../pt405439/index.html">Paleontologistas: um homem poderia escapar de um tiranossauro se tentasse</a></li>
<li><a href="../pt405441/index.html">Bloqueando mensageiros e anonimizadores aprovados pela Duma do Estado, no outono haver√° uma virada nas redes sociais</a></li>
<li><a href="../pt405443/index.html">A Rota de Westeros e Essos: Cartografia de Mundos Ficcionais e Reais</a></li>
<li><a href="../pt405445/index.html">Xiaomi Yeelight Smart L√¢mpadas LED</a></li>
<li><a href="../pt405447/index.html">Elon Musk afirma ter recebido permiss√£o para construir um t√∫nel de Nova York a Washington</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>