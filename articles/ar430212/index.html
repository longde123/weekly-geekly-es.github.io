<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ผโ๐พ ๐จ๐ฝโ๐คโ๐จ๐ป ๐ OpenSceneGraph: ุฃุณุงุณูุงุช ููุฏุณุฉ ุงููุดูุฏ ๐จ๐พโ๐พ ๐ฉ ๐ค</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 OpenGL ุ ููู ุงููุงุฌูุฉ ุงูุฎูููุฉ ูู OpenSceneGraph ุ ูุณุชุฎุฏู ุจุฏุงุฆูุฉ ููุฏุณูุฉ (ูุซู ุงูููุงุท ูุงูุฎุทูุท ูุงููุซูุซุงุช ูุงููุฌูู ุงููุถูุนุฉ) ูุจูุงุก ุฌููุน ุงููุงุฆูุงุช ูู ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenSceneGraph: ุฃุณุงุณูุงุช ููุฏุณุฉ ุงููุดูุฏ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430212/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/py/ks/3w/pyks3wlvjf_zfef-sqocutbnimk.jpeg" alt="ุงูุตูุฑุฉ"><br><br><h1 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h1><br>  OpenGL ุ ููู ุงููุงุฌูุฉ ุงูุฎูููุฉ ูู OpenSceneGraph ุ ูุณุชุฎุฏู ุจุฏุงุฆูุฉ ููุฏุณูุฉ (ูุซู ุงูููุงุท ูุงูุฎุทูุท ูุงููุซูุซุงุช ูุงููุฌูู ุงููุถูุนุฉ) ูุจูุงุก ุฌููุน ุงููุงุฆูุงุช ูู ุงูุนุงูู ุซูุงุซู ุงูุฃุจุนุงุฏ. <br><br>  ูุชู ุชุนุฑูู ูุฐู ุงูุฃูููุงุช ูู ุฎูุงู ุจูุงูุงุช ุญูู ุฑุคูุณูุง ุ ูุงูุชู ุชุดูู ุฅุญุฏุงุซูุงุช ุงูููู ุ ูุงูููููุงุช ุงูุนุงุฏูุฉ ุ ูุจูุงูุงุช ุงูููู ุ ูุฅุญุฏุงุซูุงุช ุงููุณูุฌ.  ูุชู ุชุฎุฒูู ูุฐู ุงูุจูุงูุงุช ูู ุตูุงุฆู ุฎุงุตุฉ.  ูููู ุชุดููู ุงูุจุฏุงุฆู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนู ุทุฑูู ุชุญุฏูุฏ ุงููุงุฆูุงุช ุงูุชู ุชุตููุง ูุงุฆูุฉ ุจูุคุดุฑุงุช ุงูููุฉ.  ุชุณูู ูุฐู ุงูุทุฑููุฉ ุทุฑููุฉ ุตููู ุงูุฐุฑูุฉ ุ ููู ุชูุบู ุชุฎุฒูู ุงูุฐุฑูุงุช ุงูุฒุงุฆุฏุฉ ูู ุงูุฐุงูุฑุฉ ูููุง ุฃุฏุงุก ุฌูุฏ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ูู OpenGL ุงุณุชุฎุฏุงู ุขููุฉ ูุง ูุณูู <i>ุจููุงุฆู ุงูุนุฑุถ</i> ุ ุนูุฏูุง ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูููุงุฏ ุงูุฃูููุฉ ุงูุชู ุชู ุฅุนุฏุงุฏูุง ูู ุฐุงูุฑุฉ ุงูููุฏูู ุ ููุง ูุณุฑุน ุจุดูู ูุจูุฑ ูู ุนุฑุถ ุงููุงุฆูุงุช ุงูุซุงุจุชุฉ. <br><br>  ุจุดูู ุงูุชุฑุงุถู ุ ูุณุชุฎุฏู OSG ุฃุณููุจ ูุตูููุฉ ุงูุฐุฑูุฉ ูุทุฑููุฉ ูุงุฆูุฉ ุงูุนุฑุถ ูุชูุฏูู ุงูุดูู ุงูููุฏุณู.  ููุน ุฐูู ุ ูุฏ ูุชู ุชุบููุฑ ุงุณุชุฑุงุชูุฌูุฉ ุงูุนุฑุถ ุ ุงุนุชูุงุฏูุง ุนูู ููููุฉ ุชูุฏูู ุจูุงูุงุช ุงูููุฏุณุฉ.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุบุทู ุงูุชูููุงุช ุงูุฃุณุงุณูุฉ ููุนูู ูุน ุงูููุฏุณุฉ ูู OSG. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  1. ูุฆุงุช ุงูุฌููุฏ ูุงููุงุจู ููุฑุณู </h1><br>  ูุฆุฉ osg :: Geode ูู ูุญุทุฉ ุ ุชุณูู ุงูุนูุฏุฉ "ูุฑูุฉ" ูุดุฌุฑุฉ ุงููุดูุฏ.  ูุง ูููู ุฃู ุชุญุชูู ุนูู ุนููุฏ ูุฑุนูุฉ ุ ูููููุง ุชุญุชูู ุนูู ุฌููุน ุงููุนูููุงุช ุงููุงุฒูุฉ ูุนุฑุถ ุงูููุฏุณุฉ.  ุงุณูู ุ Geode ุ ูู ุงุฎุชุตุงุฑ ูุนูุฏุฉ ุงูููุฏุณุฉ. <br><br>  ูุชู ุชุฎุฒูู ุงูุจูุงูุงุช ุงูููุฏุณูุฉ ุงูุชู ุณูุชู ูุนุงูุฌุชูุง ุจูุงุณุทุฉ ุงููุญุฑู ูู ูุฌููุนุฉ ูุงุฆูุงุช ูู ูุฆุฉ osg :: Drawable ุ ุชุชู ุฅุฏุงุฑุชูุง ุจูุงุณุทุฉ ูุฆุฉ osg :: Geode.  ูุฆุฉ osg :: Drawable ูุฆุฉ ุงูุชุฑุงุถูุฉ ุจุญุชุฉ.  ุนุฏุฏ ูู ุงููุฆุงุช ุงููุฑุนูุฉ ููุฑูุซุฉ ููู ุ ููู ููุงุฐุฌ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูุตูุฑ ููุตูุต ุชูุช ูุนุงูุฌุชูุง ุจูุงุณุทุฉ ุฎุท ุฃูุงุจูุจ OpenGL.  ูุดูุฑ OSG ุฅูู ุงูุฑุณู ุจุงุนุชุจุงุฑู ุฌููุน ุงูุนูุงุตุฑ ุงูุชู ูููู ุฃู ูุฑุณููุง ุงููุญุฑู. <br><br>  ุชููุฑ ูุฆุฉ osg :: Geode ุนุฏุฏูุง ูู ุงูุทุฑู ูุฅุฑูุงู ููุตู ุงูุณุญูุจุงุช: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฃุณููุจ ุงูุนุงู addDrawable () - ููุฑุฑ ุงููุคุดุฑ ุฅูู ุนูุตุฑ ูุงุจู ููุฑุณู ูู ูุซูู ููุฆุฉ osg :: Geode.  ูุชู ุงูุชุญูู ูู ุฌููุน ูุฐู ุงูุนูุงุตุฑ ุจูุงุณุทุฉ ุงููุคุดุฑุงุช ุงูุฐููุฉ osg :: ref_ptr &lt;&gt;. <br></li><li style=";text-align:right;direction:rtl">  ูุฒูู ุงูุฃุณููุจ ุงูุนุงู removeDrawable () ู removeDrawables () ุงููุงุฆู ูู osg :: Geode ููููู ุงูุนุฏุฏ ุงููุฑุฌุนู ูู.  ูุฃุฎุฐ ุงูุฃุณููุจ removeDrawable () ูุคุดุฑูุง ุฅูู ุนูุตุฑ ููู ููุนููุฉ ูุงุญุฏุฉ ุ ููุฃุฎุฐ ุงูุฃุณููุจ removeDrawables () ูุนููุชูู: ุงูููุฑุณ ุงูุฃููู ูุนุฏุฏ ุงูุนูุงุตุฑ ุงููุฑุงุฏ ุฅุฒุงูุชูุง ูู ุตููู ูุงุฆู osg :: Geode. <br></li><li style=";text-align:right;direction:rtl">  ุชุฑุฌุน ุทุฑููุฉ getDrawable () ูุคุดุฑ ุฅูู ุนูุตุฑ ูู ุงูููุฑุณ ุงูุฐู ุชู ุชูุฑูุฑู ููุนููุฉ. <br></li><li style=";text-align:right;direction:rtl">  ุชุฑุฌุน ุทุฑููุฉ getNumDrawables () ุฅุฌูุงูู ุนุฏุฏ ุงูุนูุงุตุฑ ุงููุฑููุฉ ุจู osg :: Geode.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฅุฒุงูุฉ ุฌููุน ุงูุนูุงุตุฑ ูู osg :: Geode ุ ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฑูุฒ <br></li></ul><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs">geode-&gt;removeDrawables(<span class="hljs-number"><span class="hljs-number">0</span></span>, geode-&gt;getNumDrawables());</code> </pre> <br><h1 style=";text-align:right;direction:rtl">  2. ุฑุณู ุฃุดูุงู ุจุณูุทุฉ </h1><br>  ูููุฑ OSG ูุฆุฉ osg :: ShapeDrawable ุ ุงูุชู ูู ููุญุฏุฑ ูู ูุฆุฉ osg :: Drawable ููุตููุฉ ูุฅูุดุงุก ุจุฏุงุฆูุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุจุณูุทุฉ.  ุชุชุถูู ูุฐู ุงููุฆุฉ ูุงุฆู osg :: Shape ุงูุฐู ูุฎุฒู ูุนูููุงุช ุญูู ููุฏุณุฉ ูุนููุฉ ููุนููุงุช ุฃุฎุฑู.  ูุชู ุฅูุดุงุก ุงูููุงุฏ ุงูุฃูููุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ setShape () ุ ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">shapeDrawable-&gt;setShape(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Box(osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), <span class="hljs-number"><span class="hljs-number">10.0f</span></span>, <span class="hljs-number"><span class="hljs-number">10.0f</span></span>, <span class="hljs-number"><span class="hljs-number">5.0f</span></span>));</code> </pre><br>  ูุฎูู ูุฑุจุน ูุณุชุทูู ูุน ูุฑูุฒ ููุฏุณู ุนูุฏ ุงูููุทุฉ (1.0 ุ 0.0 ุ 0.0) ุจุนุฑุถ ูุงุฑุชูุงุน 10 ูุนูู 5 ูุญุฏุงุช.  ุชุญุฏุฏ ูุฆุฉ osg :: Vec3 ูุชุฌููุง ูู ุงููุถุงุก ุซูุงุซู ุงูุฃุจุนุงุฏ (ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชู ุฃูุถูุง ุชูุฏูู ูุฆุงุช osg :: Vec2 ู osg :: Vec4 ุงูุชู ุชุตู ูุงููุงุช ุงูุจุนุฏ ุงูููุงุจู). <br><br>  ูุชู ุชูุซูู ุงูุฃูููุงุช ุงูุฃูุซุฑ ุดููุนูุง ูู OSG ูู ุฎูุงู ุงููุฆุงุช osg :: Box ู osg :: Capsule ู osg :: Cone ู osg :: Cylinder ู osg :: Sphere. <br><br>  ุฎุฐ ุจุนูู ุงูุงุนุชุจุงุฑ ูุซุงู ุนูู ุชุทุจูู ูุฐู ุงูุขููุฉ. <br><br>  <strong>main.h</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/ShapeDrawable&gt; #include &lt;osg/Geode&gt; #include &lt;osgViewer/Viewer&gt; #endif // MAIN_H</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { (void) argc; (void) argv; osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::ShapeDrawable&gt; shape1 = new osg::ShapeDrawable; shape1-&gt;setShape(new osg::Box(osg::Vec3(-3.0f, 0.0f, 0.0f), 2.0f, 2.0f, 1.0f)); osg::ref_ptr&lt;osg::ShapeDrawable&gt; shape2 = new osg::ShapeDrawable; shape2-&gt;setShape(new osg::Cone(osg::Vec3(0.0f, 0.0f, 0.0f), 1.0f, 1.0f)); shape2-&gt;setColor(osg::Vec4(0.0f, 1.0f, 0.0f, 1.0f)); osg::ref_ptr&lt;osg::ShapeDrawable&gt; shape3 = new osg::ShapeDrawable; shape3-&gt;setShape(new osg::Sphere(osg::Vec3(3.0f, 0.0f, 0.0f), 1.0f)); shape3-&gt;setColor(osg::Vec4(0.0f, 0.0f, 1.0f, 1.0f)); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(shape1.get()); root-&gt;addDrawable(shape2.get()); root-&gt;addDrawable(shape3.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br>  ูุง ูุญุชุงุฌ ูุฐุง ุงููุซุงู ุจุดูู ุฎุงุต ุฅูู ุชุนูููุงุช: ูู ุงูุจุฑูุงูุฌ ูุชู ุฅูุดุงุก ุซูุงุซุฉ ุฃุดูุงู ุจุณูุทุฉ ุ ุจุนุฏ ุงูุชุฌููุน ูุงูุฅุทูุงู ุณูุฑู ูุซู ูุฐู ุงููุชูุฌุฉ <br><br><img src="https://habrastorage.org/webt/mu/kl/cq/muklcqrapar1quikfyshzkang-4.png"><br><br>  ุงูุขููุฉ ุงูููุถุญุฉ ูู ุงููุซุงู ุจุณูุทุฉ ููุจุงุดุฑุฉ ุ ูููููุง ููุณุช ุงูุทุฑููุฉ ุงูุฃูุซุฑ ูุงุนููุฉ ูุฅูุดุงุก ููุฏุณุฉ ููููู ุงุณุชุฎุฏุงููุง ุญุตุฑููุง ููุงุฎุชุจุงุฑุงุช.  ูุชู ุงุณุชุฎุฏุงู ูุฆุฉ osg :: Geometry ูุฅูุดุงุก ููุฏุณุฉ ูู ุงูุชุทุจููุงุช ุนุงููุฉ ุงูุฃุฏุงุก ุงููุณุชูุฏุฉ ุฅูู OSG. <br><br><h1 style=";text-align:right;direction:rtl">  3. ุชุฎุฒูู ุงูุจูุงูุงุช ุงูููุฏุณูุฉ: ูุฆุงุช osg :: Array and osg :: Geometry </h1><br>  ูุฆุฉ osg :: Array ูู ูุฆุฉ ุชุฌุฑูุฏูุฉ ุฃุณุงุณูุฉ ุ ูุงูุชู ูุฑุซ ูููุง ุงูุนุฏูุฏ ูู ุงููุชุญุฏุฑูู ุ ูุตููุฉ ูุชุฎุฒูู ุงูุจูุงูุงุช ุงูุชู ูุชู ุชูุฑูุฑูุง ุฅูู ูุธุงุฆู OpenGL.  ูุดุจู ุงูุนูู ูุน ูุฐุง ุงููุตู ุงูุนูู ูุน std :: vector ูู ููุชุจุฉ C ++ ุงูููุงุณูุฉ.  ููุถุญ ุงูููุฏ ุงูุชุงูู ุฅุถุงูุฉ ูุชุฌู ุฅูู ุตููู ููุฉ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ push_back () <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vertices-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>));</code> </pre><br>  ูุชู ุชุฎุตูุต ุตูุงุฆู OSG ุนูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ูุชุฏุงุฑ ุจูุงุณุทุฉ ูุคุดุฑุงุช ุฐููุฉ.  ููุน ุฐูู ุ ูุง ููุทุจู ูุฐุง ุนูู ุนูุงุตุฑ ุงูุตููู ุ ูุซู osg :: Vec3 ุฃู osg :: Vec2 ุ ูุงูุชู ูููู ุฅูุดุงุคูุง ุฃูุถูุง ุนูู ุงูููุฏุณ. <br><br>  ูุฆุฉ osg :: Geometry ูู ูุฌููุน ููู ุฏุงูุงุช OpenGL ุงูุชู ุชุนูู ูุน ุตูุงุฆู ุงูุฑุฃุณ.  ูุดุชู ูู ูุฆุฉ osg :: Drawable ููููู ุฅุถุงูุชู ุจุณูููุฉ ุฅูู ูุงุฆูุฉ ุงููุงุฆูุงุช osg :: Geode.  ุชุฃุฎุฐ ูุฐู ุงููุฆุฉ ุงููุตูููุงุช ุงูููุตููุฉ ุฃุนูุงู ููุฏุฎู ูุชุณุชุฎุฏููุง ูุฅูุดุงุก ููุฏุณุฉ ุจุงุณุชุฎุฏุงู OpenGL. <br><br><h1 style=";text-align:right;direction:rtl">  4. ุงูููู ูุณูุงุชูุง </h1><br>  ุงูููุฉ ูู ูุญุฏุฉ ุฐุฑูุฉ ูู ุจุฏุงุฆูุฉ ุงูููุฏุณุฉ.  ูุญุชูู ุนูู ุนุฏุฏ ูู ุงูุณูุงุช ุงูุชู ุชุตู ููุทุฉ ูู ุงููุถุงุก ุซูุงุฆู ุงูุฃุจุนุงุฏ ุฃู ุซูุงุซู ุงูุฃุจุนุงุฏ.  ุชุชุถูู ุงูุณูุงุช: ุงูููุถุน ูุงูููู ูุงููุชุฌู ุงูุนุงุฏู ูุฅุญุฏุงุซูุงุช ุงููุณูุฌ ูุฅุญุฏุงุซูุงุช ุงูุถุจุงุจ ููุง ุฅูู ุฐูู.  ูุฌุจ ุฃู ูููู ููุฌุฒุก ุงูุนููู ุฏุงุฆููุง ููุถุน ูู ุงููุถุงุก ุ ุฃูุง ุจุงููุณุจุฉ ููุณูุงุช ุงูุฃุฎุฑู ุ ููููู ุฃู ุชููู ููุฌูุฏุฉ ุงุฎุชูุงุฑููุง.  ูุฏุนู OpenGL 16 ุณูุฉ ููุฉ ุฑุฆูุณูุฉ ูููููู ุงุณุชุฎุฏุงู ุตูุงุฆู ูุฎุชููุฉ ูุชุฎุฒูููุง.  ูู ุตูุงุฆู ุงูุณูุงุช ูุฏุนููุฉ ูู ูุฆุฉ osg :: Geometry ููููู ุถุจุทูุง ุจุงุณุชุฎุฏุงู ุทุฑู ูุฌููุนุฉ ุงูููุงุฐุฌ * Array (). <br><br>  <b>ุณูุงุช Vertex ูู OpenSceneGraph</b> <br><table style=";text-align:right;direction:rtl"><tbody><tr><th>  ุงูุณูุฉ </th><th>  ููุน ุงูุจูุงูุงุช </th><th>  Osg :: ุทุฑููุฉ ุงูููุฏุณุฉ </th><th>  ุงุชุตุงู OpenGL ููุงูุฆ </th></tr><tr><td>  ุงููููู </td><td>  3-ูุงููุงุช </td><td>  setVertexArray () </td><td>  ูุคุดุฑ glVertexPointer () </td></tr><tr><td>  ุนุงุฏู </td><td>  3-ูุงููุงุช </td><td>  setNormalArray () </td><td>  glNormalPointer () </td></tr><tr><td>  ุงูููู </td><td>  4 ูุงููุงุช </td><td>  setColorArray () </td><td>  ูุคุดุฑ glColorPointer () </td></tr><tr><td>  ุงูููู ุงูุซุงููู </td><td>  4 ูุงููุงุช </td><td>  setSecondaryColorArray () </td><td>  glSecondaryColorPointerEXT () </td></tr><tr><td>  ุฅุญุฏุงุซูุงุช ุงูุถุจุงุจ </td><td>  ุชุนููู </td><td>  setFogCoordArray () </td><td>  glFogCoordPointerEXT () </td></tr><tr><td>  ุฅุญุฏุงุซูุงุช ุงููููุณ </td><td>  2 ุฃู 3 ูุงููุงุช </td><td>  setTexCoordArray () </td><td>  glTexCoordPointer () </td></tr><tr><td>  ุณูุงุช ุฃุฎุฑู </td><td>  ูู ุชุญุฏูุฏ ุงููุณุชุฎุฏู </td><td>  setVertexArribArray () </td><td>  glVertexAttribPointerARB () </td></tr></tbody></table><br>  ูู ุญูุซ ุงููุจุฏุฃ ุ ูู ุงูุถุฑูุฑู ุชุนููู ุณูุงุชู ุงูุฎุงุตุฉ ููู ูู ุงูููู ุ ููุง ูุคุฏู ุฅูู ุชูููู ุนุฏุฉ ุตูุงุฆู ูู ุงูุตูุงุช ูู ููุณ ุงูุญุฌู - ูุฅูุง ุ ูุฅู ุนุฏู ุชุทุงุจู ุฃุญุฌุงู ุงููุตูููุงุช ูููู ุฃู ูุคุฏู ุฅูู ุณููู ุบูุฑ ูุญุฏุฏ ูููุญุฑู.  ูุฏุนู OSG ุทุฑููุง ูุฎุชููุฉ ูุฑุจุท ุณูุงุช ุงูุฑุฃุณ ุ ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">geom-&gt;setColorBinding(osg::Geometry::BIND_PER_VERTEX);</code> </pre><br>  ูุนูู ุฃู ูู ููุฉ ููู ููู ูู ููุฉ ุงูุฑุฃุณ ูุฑุชุจุท ูุงุญุฏ ููุงุญุฏ ูุน ุจุนุถูุง ุงูุจุนุถ.  ููุน ุฐูู ุ ุฅุฐุง ูุธุฑุช ุฅูู ูุฐุง ุงูุฑูุฒ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">geom-&gt;setColorBinding(osg::Geometry::BIND_OVERALL);</code> </pre><br>  ุซู ูุทุจู ููููุง ูุงุญุฏูุง ุนูู ุงูููุฏุณุฉ ุจุฃููููุง.  ูุจุงููุซู ุ ูููู ุชูููู ุงูุนูุงูุงุช ุจูู ุงูุณูุงุช ุงูุฃุฎุฑู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃุณุงููุจ setNormalBinding () ู setSecondaryColorBinding () ู setFogCoordBinding () ู setVertexAttribBinding (). <br><br><h1 style=";text-align:right;direction:rtl">  5. ูุฌููุนุงุช ุจุฏุงุฆูุฉ ููุฏุณูุฉ </h1><br>  ุงูุฎุทูุฉ ุงูุชุงููุฉ ุจุนุฏ ุชุญุฏูุฏ ุตูุงุฆู ุณูุฉ ุงูููุฉ ูู ูุตู ููููุฉ ุนุฑุถ ุจูุงูุงุช ุงูููุฉ.  ูุชู ุงุณุชุฎุฏุงู ูุฆุฉ osg :: PrimitiveSet ุงูุงูุชุฑุงุถูุฉ ููุชุญูู ูู ุงูุฃูููุงุช ุงูููุฏุณูุฉ ุงููุงุชุฌุฉ ุนู ุฌูุงุฒ ุงูุนุฑุถ ูู ูุฌููุนุฉ ูู ุงูููู.  ุชููุฑ ูุฆุฉ osg :: Geometry ุนุฏุฉ ุทุฑู ููุนูู ูุน ูุฌููุนุงุช ุจุฏุงุฆูุฉ ููุฏุณูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  addPrimitiveSet () - ููุฑุฑ ุงููุคุดุฑ ุฅูู ูุฌููุนุฉ ูู ุงูุฃูููุงุช ูู ูุงุฆู osg :: Geometry. <br></li><li style=";text-align:right;direction:rtl">  removePrimitiveSet () - ุฅุฒุงูุฉ ูุฌููุนุฉ ูู ุงูุฃูููุงุช.  ููุนููุงุช ุ ูุฅูู ูุฃุฎุฐ ุงูููุฑุณ ุงูุฃููู ูููุฌููุนุงุช ูุนุฏุฏ ุงููุฌููุนุงุช ุงููุฑุงุฏ ุญุฐููุง. <br></li><li style=";text-align:right;direction:rtl">  getPrimitiveSet () - ุฅุฑุฌุงุน ูุฌููุนุฉ ูู ุงูุฃูููุงุช ูู ุงูููุฑุณ ุงูุฐู ุชู ุชูุฑูุฑู ููุนููุฉ. <br></li><li style=";text-align:right;direction:rtl">  getNumPrimitiveSets () - ุชูุฑุฌุน ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููุฌููุนุงุช ุงูุจุฏุงุฆูุฉ ุงููุฑุชุจุทุฉ ุจูุฐู ุงูููุฏุณุฉ. <br></li></ul><br>  ูุฆุฉ osg :: PrimitiveSet ูุฌุฑุฏุฉ ููุง ูููู ุงุณุชูุณุงุฎูุง ุ ูููู ุงูุนุฏูุฏ ูู ุงููุฆุงุช ุงููุดุชูุฉ ุงูุชู ุชุญุชูู ุนูู ูุฌููุนุงุช ุงูุจุฏุงุฆูุฉ ุงูุชู ูุนูู OpenGL ูุนูุง ุ ูุซู osg :: DrawArrays ู osg :: DrawElementsUInt ุ ุชุฑุซ ููู. <br><br>  ุชุณุชุฎุฏู ูุฆุฉ osg :: DrawArrays ุนุฏุฉ ุนูุงุตุฑ ูุชุชุงููุฉ ูู ุตููู ููุฉ ุงูุฑุฃุณ ูุจูุงุก ุจุฏุงุฆูุฉ ููุฏุณูุฉ.  ูููู ุฅูุดุงุคูุง ูุฅุฑูุงููุง ุจุงูููุฏุณุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุทุฑููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">geom-&gt;addPrimitiveSet(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawArrays(mode, first, count));</code> </pre><br>  ูุนูู ูุถุน ุงููุนููุฉ ุงูุฃููู ุงูููุน ุงูุจุฏุงุฆู ุนูู ุฃููุงุน OpenGL ุงูุจุฏุงุฆูุฉ ุงูููุงุจูุฉ: GL_POINTS ู GL_LINE_STRIP ู GL_LINE_LOOP ู GL_LINES ู GL_TRIANGLE_STRIP ู GL_TRIANGLE_FAN ู GL_TRIANGLES ู GL_QUAD_STRIP ู GL_QUADS ู GL_POLY. <br><br>  ุชุญุฏุฏ ุงููุนููุชุงู ุงูุฃููู ูุงูุซุงููุฉ ุงูููุฑุณ ุงูุฃูู ูู ูุตูููุฉ ุงูุฐุฑูุฉ ูุนุฏุฏ ุงูุฐุฑูุงุช ุงูุชู ูุฌุจ ุฅูุดุงุก ุงูููุฏุณุฉ ูููุง.  <strong>ุนูุงูุฉ ุนูู ุฐูู ุ ูุง ุชุชุญูู OSG ููุง ุฅุฐุง ูุงู ุงูุนุฏุฏ ุงููุญุฏุฏ ูู ุงูููู ูุงูู ูุจูุงุก ุงูููุฏุณุฉ ุงููุญุฏุฏุฉ ุจูุงุณุทุฉ ุงููุถุน ุ ููุง ูุฏ ูุคุฏู ุฅูู ุชุนุทู ุงูุชุทุจูู!</strong> <br><br><h1 style=";text-align:right;direction:rtl">  6. ูุซุงู - ุฑุณู ูุฑุจุน ูุทูู </h1><br>  ูููุฐ ูู ูุง ุณุจู ููุซุงู ุจุณูุท <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ ุงููุงูู ูููุซุงู ุงูุฑุจุงุนู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>main.h</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Geometry&gt; #include &lt;osg/Geode&gt; #include &lt;osgViewer/Viewer&gt; #endif // MAIN_H</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back(osg::Vec3(0.0f, 0.0f, 0.0f)); vertices-&gt;push_back(osg::Vec3(1.0f, 0.0f, 0.0f)); vertices-&gt;push_back(osg::Vec3(1.0f, 0.0f, 1.0f)); vertices-&gt;push_back(osg::Vec3(0.0f, 0.0f, 1.0f)); osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back(osg::Vec3(0.0f, -1.0f, 0.0f)); osg::ref_ptr&lt;osg::Vec4Array&gt; colors = new osg::Vec4Array; colors-&gt;push_back(osg::Vec4(1.0f, 0.0f, 0.0f, 1.0f)); colors-&gt;push_back(osg::Vec4(0.0f, 1.0f, 0.0f, 1.0f)); colors-&gt;push_back(osg::Vec4(0.0f, 0.0f, 1.0f, 1.0f)); colors-&gt;push_back(osg::Vec4(1.0f, 1.0f, 1.0f, 1.0f)); osg::ref_ptr&lt;osg::Geometry&gt; quad = new osg::Geometry; quad-&gt;setVertexArray(vertices.get()); quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); quad-&gt;setColorArray(colors.get()); quad-&gt;setColorBinding(osg::Geometry::BIND_PER_VERTEX); quad-&gt;addPrimitiveSet(new osg::DrawArrays(GL_QUADS, 0, 4)); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(quad.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ุจุนุฏ ุงูุชุฌููุน ูุงูุชูููุฐ ุ ูุญุตู ุนูู ูุชูุฌุฉ ูุดุงุจูุฉ ููุฐู <br><br><img src="https://habrastorage.org/webt/pz/1p/e4/pz1pe4inopylxd1vikvi4kzm8m0.png"><br><br>  ูุญุชุงุฌ ูุฐุง ุงููุซุงู ุฅูู ุชูุถูุญ.  ูุฐุง ุ ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูููู ุจุฅูุดุงุก ูุฌููุนุฉ ูู ุฑุคูุณ ุงููุฑุจุน ุ ุญูุซ ูุชู ุชุฎุฒูู ุฅุญุฏุงุซูุงุชูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; vertices-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)); vertices-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)); vertices-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); vertices-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>));</code> </pre><br>  ุจุนุฏ ุฐูู ุ ูุถุน ูุฌููุนุฉ ุงููุนุงููุฑ ุงูุทุจูุนูุฉ.  ูู ุญุงูุชูุง ุงูุจุณูุทุฉ ุ ูุง ูุญุชุงุฌ ุฅูู ุฅูุดุงุก ุญุงูุฉ ุทุจูุนูุฉ ููู ููุฉ - ูุง ุนููู ุณูู ูุตู ูุชุฌู ูุญุฏุฉ ูุงุญุฏ ููุฌู ุจุดูู ูุชุนุงูุฏ ุนูู ูุณุชูู ุงููุฑุจุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec3Array&gt; normals = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array; normals-&gt;push_back(osg::Vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>));</code> </pre><br>  ุนููู ููููุง ููู ููุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec4Array&gt; colors = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec4Array; colors-&gt;push_back(osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); colors-&gt;push_back(osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); colors-&gt;push_back(osg::Vec4(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)); colors-&gt;push_back(osg::Vec4(<span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>));</code> </pre><br>  ุงูุขู ูู ุจุฅูุดุงุก ูุงุฆู ููุฏุณู ุญูุซ ุณูุชู ุชุฎุฒูู ูุตู ุงููุฑุจุน ุงูุฎุงุต ุจูุง ุ ูุงูุฐู ุณูุชู ูุนุงูุฌุชู ุจูุงุณุทุฉ ุงูุชูุฏูู.  ููุฑุฑ ูุฌููุนุฉ ูู ุงูููู ููุฐู ุงูููุฏุณุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Geometry&gt; quad = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geometry; quad-&gt;setVertexArray(vertices.get());</code> </pre><br>  ูู ุฎูุงู ุชูุฑูุฑ ูุฌููุนุฉ ูู ุงููุนุงููุฑ ุงูุทุจูุนูุฉ ุ ูุจูุบ ุงููุญุฑู ุจุฃูู ุณูุชู ุงุณุชุฎุฏุงู ูุงุญุฏ ุนุงุฏู ูุฌููุน ุงูููู ุ ูู ุฎูุงู ุงูุฅุดุงุฑุฉ ุฅูู ุทุฑููุฉ ุงูุฑุจุท ("ููุฒู") ูููุนุงููุฑ ุงูุนุงุฏูุฉ BIND_OVAERALL <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">quad-&gt;setNormalArray(normals.get()); quad-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL);</code> </pre><br>  ุนูู ุนูุณ ุฃููุงู ุงูููู ุ ุนูู ุงูุนูุณ ุ ูุดูุฑ ุฅูู ุฃู ูู ููุฉ ุณูููู ููุง ููููุง ุงูุฎุงุต <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">quad-&gt;setColorArray(colors.get()); quad-&gt;setColorBinding(osg::Geometry::BIND_PER_VERTEX);</code> </pre><br>  ุงูุขู ุฅูุดุงุก ูุฌููุนุฉ ูู ุงูุจุฏุงุฆูุฉ ููููุฏุณุฉ.  ูุดูุฑ ุฅูู ุฃูู ูุฌุจ ุฅูุดุงุก ุงููุฌูู ุงููุฑุจุนุฉ (GL_QUADS) ูู ูุตูููุฉ ุงูุฐุฑูุฉ ุ ูุน ุฃุฎุฐ ุงูุฑุฃุณ ูุน ุงูููุฑุณ 0 ุจุงุนุชุจุงุฑู ุงูุฑุฃุณ ุงูุฃูู ุ ูุณูููู ุฅุฌูุงูู ุนุฏุฏ ุงูููู 4 <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">quad-&gt;addPrimitiveSet(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawArrays(GL_QUADS, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>));</code> </pre><br>  ุญุณููุง ุ ุฃุนุชูุฏ ุฃูู ูุง ูุณุชุญู ุดุฑุญ ููู ุงูููุฏุณุฉ ูุจุฏุก ุงูุนุฑุถ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Geode&gt; root = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Geode; root-&gt;addDrawable(quad.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewer.run();</code> </pre><br>  ุงูุฑูุฒ ุฃุนูุงู ููุงูุฆ ุงูุชุตููู ุงูุชุงูู ูู OpenGL ุงูููู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GLfloat vertices[][<span class="hljs-number"><span class="hljs-number">3</span></span>] = { โฆ }; glEnableClientState( GL_VERTEX_ARRAY ); glVertexPointer( <span class="hljs-number"><span class="hljs-number">4</span></span>, GL_FLOAT, <span class="hljs-number"><span class="hljs-number">0</span></span>, vertices ); glDrawArrays( GL_QUADS, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span> );</code> </pre><br><h1 style=";text-align:right;direction:rtl">  7. ููุฑุณุฉ ุงูุฐุฑูุงุช ูู ุงูุฃูููุงุช </h1><br>  ุชุนูู ูุฆุฉ osg :: DrawArrays ุจุดูู ุฌูุฏ ุนูุฏ ูุฑุงุกุฉ ุจูุงูุงุช ุงูุฑุฃุณ ูุจุงุดุฑุฉ ูู ุงููุตูููุงุช ุ ุจุฏูู ูุฌูุงุช.  ููุน ุฐูู ุ ูุง ูููู ูุฐุง ูุนุงููุง ุฌุฏูุง ุนูุฏูุง ูููู ุฃู ููุชูู ุงูุฑุฃุณ ููุณู ุฅูู ุนุฏุฉ ูุฌูู ููุงุฆู.  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู. <br><br><img src="https://habrastorage.org/webt/yp/is/wm/ypiswmcxzm2uokv9xdreonovmf4.png"><br><br>  ูุญุชูู ุงูููุนุจ ุนูู ุซูุงููุฉ ุฑุคูุณ.  ููุน ุฐูู ุ ููุง ูุชุจูู ูู ุงูุดูู (ููุธุฑ ุฅูู ุชุชูุดู ุงูููุนุจ ุนูู ูุชู ุงูุทุงุฆุฑุฉ) ุชูุชูู ุจุนุถ ุงูููู ุฅูู ุฃูุซุฑ ูู ูุฌู ูุงุญุฏ.  ุฅุฐุง ููุช ุจุจูุงุก ููุนุจ ูููู ูู 12 ูุฌููุง ูุซูุซููุง ุ ูุณูุชู ุชูุฑุงุฑ ูุฐู ุงูููู ุ ูุจุฏูุงู ูู ูุฌููุนุฉ ูู 8 ุฑุคูุณ ุ ูุญุตู ุนูู ูุฌููุนุฉ ูู 36 ููุฉ ุ ูุนุธููุง ูู ุงููุงูุน ููุณ ุงูุฑุฃุณ! <br><br>  ูุฆุงุช OSG osg :: DrawElementsUInt ู osg :: DrawElementsUByte ู osg :: DrawElementsUShort ุ ุงูุชู ุชุณุชุฎุฏู ุตูุงุฆู ููุฑุณ ุงูููุฉ ูุจูุงูุงุช ุ ูุตููุฉ ูุญู ุงููุดููุฉ ุงูููุถุญุฉ.  ุชููู ูุตูููุงุช ุงูููุงุฑุณ ุจุชุฎุฒูู ููุงุฑุณ ุฑุคูุณ ุงูุจุฏุงุฆููู ุงูุชู ุชุตู ุงููุฌูู ูุนูุงุตุฑ ุงูููุฏุณุฉ ุงูุฃุฎุฑู.  ุนูุฏ ุชุทุจูู ูุฐู ุงููุฆุงุช ุนูู ููุนุจ ุ ูููู ุชุฎุฒูู ูุฌููุนุฉ ูู ุซูุงููุฉ ุฑุคูุณ ูุฑุชุจุทุฉ ุจุงููุฌูู ูู ุฎูุงู ุตูุงุฆู ูู ุงููุคุดุฑุงุช. <br><br>  ูุชู ุฅูุดุงุก ูุฆุงุช ูู ุงูููุน osg :: DrawElements * ุจุงูุทุฑููุฉ ููุณูุง ุงููุชุจุนุฉ ูู class std :: vector ุงูููุงุณู.  ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงูุฑูุฒ ูุฅุถุงูุฉ ุงููุคุดุฑุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::DrawElementsUInt&gt; de = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawElementsUInt(GL_TRIANGLES); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">0</span></span>); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">1</span></span>); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">2</span></span>); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">3</span></span>); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">0</span></span>); de-&gt;push_back(<span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre><br>  ูุญุฏุฏ ูุฐุง ุงูุฑูุฒ ุงููุฌู ุงูุฃูุงูู ููููุนุจ ุงูููุถุญ ูู ุงูุดูู. <br><br>  ุฏุนููุง ูููุฑ ูู ูุซุงู ุชูุถูุญู ุขุฎุฑ - ุซูุงูู ุงูุณุทูุญ <br><br><img src="https://habrastorage.org/webt/is/cg/3r/iscg3rdq59wftnoy7h1iulgoczk.png"><br><br>  ุฅูู ูุซูุฑ ููุงูุชูุงู ูุฃูู ูุญุชูู ุนูู ุณุชุฉ ุฑุคูุณ ููุท ุ ููู ูู ููุฉ ุชุฏุฎู ูุง ูุตู ุฅูู ุฃุฑุจุนุฉ ูุฌูู ูุซูุซุฉ!  ูููููุง ุฅูุดุงุก ูุฌููุนุฉ ูู 24 ููุฉ ูุนุฑุถ ุฌููุน ุงููุฌูู ุงูุซูุงููุฉ ุจุงุณุชุฎุฏุงู osg :: DrawArrays.  ููุน ุฐูู ุ ุณููุนู ุฎูุงู ุฐูู - ุณูููู ุจุชุฎุฒูู ุงูููู ูู ูุตูููุฉ ูู ุณุชุฉ ุนูุงุตุฑ ุ ูููุดุฆ ูุฌูููุง ุจุงุณุชุฎุฏุงู ูุฆุฉ osg :: DrawElementsUInt. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุตุฏุฑ ูุงูู ููุซุงู ุงูุซูุงูู ุงูุณุทูุญ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>main.h</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Geometry&gt; #include &lt;osg/Geode&gt; #include &lt;osgUtil/SmoothingVisitor&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array(6); (*vertices)[0].set( 0.0f, 0.0f, 1.0f); (*vertices)[1].set(-0.5f, -0.5f, 0.0f); (*vertices)[2].set( 0.5f, -0.5f, 0.0f); (*vertices)[3].set( 0.5f, 0.5f, 0.0f); (*vertices)[4].set(-0.5f, 0.5f, 0.0f); (*vertices)[5].set( 0.0f, 0.0f, -1.0f); osg::ref_ptr&lt;osg::DrawElementsUInt&gt; indices = new osg::DrawElementsUInt(GL_TRIANGLES, 24); (*indices)[ 0] = 0; (*indices)[ 1] = 1; (*indices)[ 2] = 2; (*indices)[ 3] = 0; (*indices)[ 4] = 4; (*indices)[ 5] = 1; (*indices)[ 6] = 4; (*indices)[ 7] = 5; (*indices)[ 8] = 1; (*indices)[ 9] = 4; (*indices)[10] = 3; (*indices)[11] = 5; (*indices)[12] = 3; (*indices)[13] = 2; (*indices)[14] = 5; (*indices)[15] = 1; (*indices)[16] = 5; (*indices)[17] = 2; (*indices)[18] = 3; (*indices)[19] = 0; (*indices)[20] = 2; (*indices)[21] = 0; (*indices)[22] = 3; (*indices)[23] = 4; osg::ref_ptr&lt;osg::Geometry&gt; geom = new osg::Geometry; geom-&gt;setVertexArray(vertices.get()); geom-&gt;addPrimitiveSet(indices.get()); osgUtil::SmoothingVisitor::smooth(*geom); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(geom.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ุฏุนููุง ูุญูู ูุฐุง ุงูุฑูุฒ ุจูุฒูุฏ ูู ุงูุชูุตูู.  ุจุงูุทุจุน ุ ุฃูู ุดูุก ูููู ุจู ูู ุฅูุดุงุก ูุฌููุนุฉ ูู ุณุชุฉ ุฑุคูุณ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::Vec3Array&gt; vertices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::Vec3Array(<span class="hljs-number"><span class="hljs-number">6</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">0</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">1</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">2</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>( <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">3</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>( <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">4</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>(<span class="hljs-number"><span class="hljs-number">-0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.5f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>); (*vertices)[<span class="hljs-number"><span class="hljs-number">5</span></span>].<span class="hljs-built_in"><span class="hljs-built_in">set</span></span>( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>);</code> </pre><br>  ูููู ุจุชููุฆุฉ ูู ููุฉ ูุจุงุดุฑุฉ ุนู ุทุฑูู ุงููุตูู ุฅูู ูุชุฌู ุฅุญุฏุงุซูุงุชู โโุจุงุณุชุฎุฏุงู ุนูููุฉ ุฅูุบุงุก ุงูุฅุดุงุฑุฉ ูุนุงูู ุงููุคุดุฑ ูุงูุนุงูู [] (ูุชุฐูุฑ ุฃู osg :: Array ูุดุงุจู ูู ุฌูุงุฒู ุฅูู std :: vector). <br><br>  ุงูุขู ูู ุจุฅูุดุงุก ุงููุฌูู ููุงุฆูุฉ ุจูุคุดุฑุงุช ุงูููุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osg::ref_ptr&lt;osg::DrawElementsUInt&gt; indices = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> osg::DrawElementsUInt(GL_TRIANGLES, <span class="hljs-number"><span class="hljs-number">24</span></span>); (*indices)[ <span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-number"><span class="hljs-number">0</span></span>; (*indices)[ <span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">1</span></span>; (*indices)[ <span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">//  0 (*indices)[ 3] = 0; (*indices)[ 4] = 4; (*indices)[ 5] = 1; //  1 (*indices)[ 6] = 4; (*indices)[ 7] = 5; (*indices)[ 8] = 1; //  2 (*indices)[ 9] = 4; (*indices)[10] = 3; (*indices)[11] = 5; //  3 (*indices)[12] = 3; (*indices)[13] = 2; (*indices)[14] = 5; //  4 (*indices)[15] = 1; (*indices)[16] = 5; (*indices)[17] = 2; //  5 (*indices)[18] = 3; (*indices)[19] = 0; (*indices)[20] = 2; //  6 (*indices)[21] = 0; (*indices)[22] = 3; (*indices)[23] = 4; //  7</span></span></code> </pre><br>  ุณุชููู ุงููุฌูู ุซูุงุซูุฉ ุ ุณูููู ููุงู 8 ุ ููุง ูุนูู ุฃู ูุงุฆูุฉ ุงููุคุดุฑุงุช ูุฌุจ ุฃู ุชุญุชูู ุนูู 24 ุนูุตุฑูุง.  ุชูุชูู ูุคุดุฑุงุช ุงููุฌูู ุจุงูุชุณูุณู ูู ูุฐุง ุงูุตููู: ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุชุดููู face 0 ุจูุงุณุทุฉ ุงูููู 0 ู 1 ู 2 ุ  ูุฌู 1 - ุงูููู 0 ู 4 ู 1 ุ  ูุฌู 2 - ุงูููู 4 ู 5 ู 1 ูููุฐุง.  ูุชู ุณุฑุฏ ุงูููู ุจุชุฑุชูุจ ุจุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ ุฅุฐุง ูุธุฑุช ุฅูู ูุฌู ุงููุฌู (ุงูุธุฑ ุงูุดูู ุฃุนูุงู). <br><br>  ูุฒูุฏ ูู ุงูุฎุทูุงุช ูุฅูุดุงุก ุงูููุฏุณุฉ ุงูุชู ูููุง ุจูุง ูู ุงูุฃูุซูุฉ ุงูุณุงุจูุฉ.  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูู ููุนูู ูู ุงูุชูููุฏ ุงูุชููุงุฆู ูููุนุงููุฑ ุงูุนุงุฏูุฉ (ุงููุชูุณุทุฉ) ุงูุณูุณุฉ ุ ูุงูุชู ูููู ุจูุง ูู ูุฐุง ุงููุซุงู ูู ุฎูุงู ุงุณุชุฏุนุงุก <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osgUtil::SmoothingVisitor::smooth(*geom);</code> </pre><br>  ูู ุงููุงูุน ุ ุฅุฐุง ุชู ุฅุนุทุงุก ุฑุคูุณ ุงููุฌู ุ ููู ุงูุณูู ุญุณุงุจ ุงููุนุฏู ุงูุทุจูุนู ููุง.  ูู ุงูููู ุงูุชู ุชุชูุงูู ูููุง ุนุฏุฉ ูุฌูู ุ ูุชู ุญุณุงุจ ูุชูุณุท โโุทุจูุนู ูุนูู - ุชุชู ุฅุถุงูุฉ ุงูููู ุงูุทุจูุนูุฉ ูููุฌุจุงุช ุงููุชูุงุฑุจุฉ ููุชู ุชุณููุฉ ุงููุฌููุน ุงููุงุชุฌ ูุฑุฉ ุฃุฎุฑู.  ูููู ุชูููุฐ ูุฐู ุงูุนูููุงุช (ุจุงูุฅุถุงูุฉ ุฅูู ุงููุฒูุฏ!) ุจูุงุณุทุฉ ุงููุญุฑู ููุณู ุจุงุณุชุฎุฏุงู ูุฆุงุช ูู ููุชุจุฉ osgUtil.  ูุฐูู ุ ูู ูุซุงููุง ุ ุณูุถูู ุชุนูููุงุช ุฅูู ุงูุฑุงุจุท ูุฅูุดุงุก ุจุฑูุงูุฌูุง ูุน ูุฐู ุงูููุชุจุฉ ูู ููู * .pro <br><br>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">octahedron.pro</a></strong> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cmake hljs">CONFIG(debug, debug|release) { <span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span> = $$join(<span class="hljs-keyword"><span class="hljs-keyword">TARGET</span></span>,,,_d) . . . LIBS += -L$$OSG_LIB_DIRECTORY -losgUtild } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { . . . LIBS += -L$$OSG_LIB_DIRECTORY -losgUtil }</code> </pre><br>  ูุชูุฌุฉ ูุฐูู ุ ูุญุตู ุนูู ุงููุชูุฌุฉ ุงูุชุงููุฉ <br><br><img src="https://habrastorage.org/webt/sf/ia/yg/sfiayg-o7wqijwskwuw6276xx0y.png"><br><br>  ูููู ููููุฉ ุนูู ุฐูู ุ ุถุน ูู ุงุนุชุจุงุฑู ุฎุท ุฃูุงุจูุจ OpenGL <br><br><img src="https://habrastorage.org/webt/7w/f0/mq/7wf0mqmabsa1ltwbzsgt189jsmy.png"><br><br>  ุชููู ุขููุฉ ุตููู ุงูุฑุฃุณ ูู ุนุฏุฏ ููุงููุงุช OpenGL.  ูููู ุจุชุฎุฒูู ุจูุงูุงุช ุงูุฑุฃุณ ูู ุฐุงูุฑุฉ ุงูุชุทุจูู ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ุนูู ุฌุงูุจ ุงูุนููู.  ูุญุตู ุฎุท ุฃูุงุจูุจ OpenGL ุนูู ุฌุงูุจ ุงูุฎุงุฏู ุนูู ุงููุตูู ุฅูู ุตูุงุฆู ููุฉ ูุฎุชููุฉ.  ููุง ูู ููุถุญ ูู ุงูุฑุณู ุงูุชุฎุทูุทู ุ ูุชููู OpenGL ุงูุจูุงูุงุช ูู ุงููุฎุฒู ุงููุคูุช ููุฉ ุงูุฑุฃุณ ุนูู ุฌุงูุจ ุงูุนููู ุ ูุจุทุฑููุฉ ูุฑุชุจุฉ ุ ูููู ุจุชุฌููุน ุงูุจุฏุงุฆููู.  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชุชู ุจูุง ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุฃุณุงููุจ set * Array () ูููุฆุฉ osg :: Geometry.  ููุฑ ุงูุตู osg :: DrawArrays ุนุจุฑ ูุฐู ุงูุตูุงุฆู ูุจุงุดุฑุฉ ููุนุฑุถูุง. <br><br>  ุนูุฏ ุงุณุชุฎุฏุงู osg :: DrawElements * ุ ูุชู ุชูููู ุฃุจุนุงุฏ ุตูุงุฆู ุงูุฐุฑูุฉ ููุชู ุชูููู ุนุฏุฏ ุงูุฑุคูุณ ุงููููููุฉ ุฅูู ุฎุท ุงูุฃูุงุจูุจ.  ุชุณูุญ ูู ูุฌููุนุฉ ูู ุงููุคุดุฑุงุช ุจุฅูุดุงุก ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ููุฑุฃุณ ุนูู ุฌุงูุจ ุงูุฎุงุฏู.  ููุฑุฃ OpenGL ุจูุงูุงุช ุงูุฑุฃุณ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุ ุจุฏูุงู ูู ุงููุฑุงุกุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุฑุฃุณ ุนูู ุฌุงูุจ ุงูุนููู.  ูุฐุง ูุฒูุฏ ุจุดูู ูุจูุฑ ูู ุฃุฏุงุก ุงูุนุฑุถ ุงูุนุงู. <br><br><h1 style=";text-align:right;direction:rtl">  8. ุชูููุงุช ูุนุงูุฌุฉ ุดุจูุฉ ูุถูุน </h1><br>  ูุฏุนู OpenSceneGraph ุชูููุงุช ูุฎุชููุฉ ููุนุงูุฌุฉ ุงูุดุจูุฉ ุงููุถูุนุฉ ููุงุฆูุงุช ููุฏุณุฉ ุงููุดูุฏ.  ุบุงูุจูุง ูุง ุชูุณุชุฎุฏู ุทุฑู ุงููุนุงูุฌุฉ ุงููุณุจูุฉ ุ ูุซู ุชูููู ุงููุถูุน ูุงููุณููุณุงุก ุ ูุฅูุดุงุก ุงูููุงุฐุฌ ุงููุถูุนุฉ ูุชุญุณูููุง.  ูุฏููู ูุงุฌูุฉ ุจุณูุทุฉ ุ ููููู ูู ูุฐู ุงูุนูููุฉ ูููููู ุจุงููุซูุฑ ูู ุงูุญุณุงุจุงุช ุงููุนูุฏุฉ ูููุณุช ููุงุณุจุฉ ุฌุฏูุง ููุชูููุฐ ุงูููุฑู. <br><br>  ุชุดูู ุงูุชูููุงุช ุงูููุถุญุฉ ูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  osgUtil :: Simplifier - ุชูููู ุนุฏุฏ ุงููุซูุซุงุช ูู ุงูููุฏุณุฉ.  ูุชู ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูุนุงูุฉ () ูุชุจุณูุท ููุฏุณุฉ ุงููููุฐุฌ. <br></li><li style=";text-align:right;direction:rtl">  osgUtil :: SmootingVisitor - ุญุณุงุจ ุงููุนุงููุฑ ุงูุทุจูุนูุฉ.  ูููู ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ุงูููุณุงุก () ูุชูููุฏ ูุนุงููุฑ ุนุงุฏูุฉ ูููุฏุฉ ูููููุฐุฌ ุ ุจุฏูุงู ูู ุญุณุงุจูุง ุจุดูู ูุณุชูู ููุถุนูุง ุจุดูู ุตุฑูุญ ูู ุฎูุงู ูุฌููุนุฉ ูู ุงููุนุงููุฑ. <br></li><li style=";text-align:right;direction:rtl">  osgUtil :: TangentSpaceGenerator - ุชูููุฏ ูุงููุงุช ุฃุณุงุณ ุงูููุงุณ ูุฑุคูุณ ุงูููุงุฐุฌ.  ูุชู ุชุดุบููู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ ุชูููุฏ () ูุญูุธ ุงููุชูุฌุฉ ุงูุชู ุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุงูุฃุณุงููุจ getTangentArray () ู getNormalArray () ู getBinormalArray ().  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงููุชุงุฆุฌ ูุณูุงุช ููุฉ ูุฎุชููุฉ ุนูุฏ ูุชุงุจุฉ ุชุธููู ูู GLSL. <br></li><li style=";text-align:right;direction:rtl">  osgUtil :: Tesselator - ูููู ุจุนูู ุงูุชุบุทูุฉ ุจุงููุณููุณุงุก ูุดุจูุฉ ูุถูุน - ูููู ุจุชูุณูู ุงูุฃูููุงุช ุงููุนูุฏุฉ ุฅูู ุณูุณูุฉ ูู ุชูู ุงูุจุณูุทุฉ (retesselatePolygons () method) <br></li><li style=";text-align:right;direction:rtl">  osgUtil :: TriStripVisitor - ูุญูู ุณุทุญูุง ููุฏุณููุง ุฅูู ูุฌููุนุฉ ูู ุดุฑุงุฆุท ุงููุฌูู ุงููุซูุซูุฉ ุ ููุง ูุชูุญ ุงูุนุฑุถ ูุน ุงุณุชููุงู ูุนุงู ููุฐุงูุฑุฉ.  ุชุญูู ุทุฑููุฉ stripify () ูุฌููุนุฉ ูู ุงูุจุฏุงุฆู ุงููููุฐุฌูุฉ ุฅูู ุดูู ููุฏุณู ุจูุงุกู ุนูู ูุฌููุนุฉ GL_TRIANGLE_STRIP. <br></li></ol><br>  ุชูุจู ุฌููุน ุงูุทุฑู ููุฏุณุฉ ุงููุงุฆู ููุนููุฉ ุชู ุชูุฑูุฑูุง ุจูุงุณุทุฉ osg :: Geometry &amp; link ุ ุนูู ุณุจูู ุงููุซุงู ูุซู ูุฐุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osgUtil::TriStripVisitor tsv; tsv.stripify(*geom);</code> </pre><br>  ุญูุซ ุชุดูุฑ geom ุฅูู ูุซูู ูู ุงูููุฏุณุฉ ููุตูู ุจูุงุณุทุฉ ูุคุดุฑ ุฐูู. <br><br>  ุงูุทุจูุงุช osg :: Simplifierุ osg :: SmoothingVisitor ู osg :: TriStripVisitor ูููู ุฃู ุชุนูู ูุจุงุดุฑุฉ ูุน ุงูุนูุฏ ูู ุงูุฑุณู ุงูุจูุงูู ูููุดูุฏ ุ ุนูู ุณุจูู ุงููุซุงู <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osgUtil::TriStripVisitor tsv; node-&gt;accept(tsv);</code> </pre><br>  ูุนุงูุฌ ุฃุณููุจ Accept () ุฌููุน ุงูุนูุฏ ุงููุฑุนูุฉ ุญุชู ูุชู ุชุทุจูู ุงูุนูููุฉ ุงููุญุฏุฏุฉ ุนูู ุฌููุน ุงูุนูุฏ ุงูุทุฑููุฉ ููุฐุง ุงูุฌุฒุก ูู ุดุฌุฑุฉ ุงููุดูุฏ ุงููุฎุฒูุฉ ูู ุงูุนูุฏ ูู ููุน osg :: Geode. <br><br>  ููุฌุฑุจ ุชูููุฉ ุงูุชุบุทูุฉ ุจุงููุณููุณุงุก ุนููููุง. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ุงููุซุงู ุงููุงูู tesselator</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  <strong>main.h</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> MAIN_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg/Geometry&gt; #include &lt;osg/Geode&gt; #include &lt;osgUtil/Tessellator&gt; #include &lt;osgViewer/Viewer&gt; #endif</span></span></span></span></code> </pre><br>  <strong>main.cpp</strong> <br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"main.h"</span></span></span><span class="hljs-meta"> int main(int argc, char *argv[]) { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/*    ----- | _| | |_ | | ----- */</span></span></span><span class="hljs-meta"> osg::ref_ptr</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;osg::Vec3Array&gt; vertices = new osg::Vec3Array; vertices-&gt;push_back( osg::Vec3(0.0f, 0.0f, 0.0f) ); // 0 vertices-&gt;push_back( osg::Vec3(2.0f, 0.0f, 0.0f) ); // 1 vertices-&gt;push_back( osg::Vec3(2.0f, 0.0f, 1.0f) ); // 2 vertices-&gt;push_back( osg::Vec3(1.0f, 0.0f, 1.0f) ); // 3 vertices-&gt;push_back( osg::Vec3(1.0f, 0.0f, 2.0f) ); // 4 vertices-&gt;push_back( osg::Vec3(2.0f, 0.0f, 2.0f) ); // 5 vertices-&gt;push_back( osg::Vec3(2.0f, 0.0f, 3.0f) ); // 6 vertices-&gt;push_back( osg::Vec3(0.0f, 0.0f, 3.0f) ); // 7 osg::ref_ptr&lt;osg::Vec3Array&gt; normals = new osg::Vec3Array; normals-&gt;push_back( osg::Vec3(0.0f, -1.0f, 0.0f) ); osg::ref_ptr&lt;osg::Geometry&gt; geom = new osg::Geometry; geom-&gt;setVertexArray(vertices.get()); geom-&gt;setNormalArray(normals.get()); geom-&gt;setNormalBinding(osg::Geometry::BIND_OVERALL); geom-&gt;addPrimitiveSet(new osg::DrawArrays(GL_POLYGON, 0, 8)); osg::ref_ptr&lt;osg::Geode&gt; root = new osg::Geode; root-&gt;addDrawable(geom.get()); osgViewer::Viewer viewer; viewer.setSceneData(root.get()); return viewer.run(); }</span></span></span></span></code> </pre><br></div></div><br>  ุงุณุชูุงุฏูุง ุฅูู ุงููุถุน ุงูููุงูู ููููู ูู ูุฐุง ุงููุซุงู ุ ูุฑู ุฃููุง ูุญุงูู ุฅูุดุงุก ูุถูุน ุบูุฑ ูุญุฏุจ ูู ุซูุงููุฉ ุฑุคูุณ ุจุงุณุชุฎุฏุงู ุฌูู ูุงุญุฏ ูู ููุน GL_POLYGON.  ููุถุญ ุงูุชุฌููุน ูุงูุชูููุฐ ููุฐุง ุงููุซุงู ุฃู ุงููุชูุฌุฉ ุงูุชู ูุชููุนูุง ูุง ุชุนูู - ูุชู ุนุฑุถ ุงููุซุงู ุจุดูู ุบูุฑ ุตุญูุญ <br><br><img src="https://habrastorage.org/webt/yb/d3/0f/ybd30fn9fa9duvxedfyb6igt3ui.png"><br><br>  ูุฅุตูุงุญ ูุฐู ุงููุดููุฉ ุ ูุฌุจ ุฃู ุชููู ุงูููุฏุณุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูุฑุตููุฉ ูุจู ุชูุฑูุฑูุง ุฅูู ุงูุนุงุฑุถ <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">osgUtil::Tessellator ts; ts.retessellatePolygons(*geom);</code> </pre><br>  ูุจุนุฏ ุฐูู ูุญุตู ุนูู ุงููุชูุฌุฉ ุงูุตุญูุญุฉ <br><br><img src="https://habrastorage.org/webt/p7/wj/fa/p7wjfanogrvkbdxksemk5li_vdi.png"><br><br>  ููู ูุนููุ  ูู ูุชู ุนุฑุถ ุงููุถูุน ุบูุฑ ุงููุญุฏุจ ุ ุจุฏูู ุงุณุชุฎุฏุงู ุงูุชุบุทูุฉ ุจุงููุณููุณุงุก ุงูุตุญูุญุฉ ุ ููุง ูุชููุน ุ ูุธุฑูุง ูุฃู OpenGL ุ ุงูุฐู ูุณุนู ุฅูู ุชุญุณูู ุงูุฃุฏุงุก ุ ุณูุนุชุจุฑู ูุถูุนูุง ุจุณูุทูุง ููุญุฏุจูุง ุฃู ูุชุฌุงููู ุจุจุณุงุทุฉ ุ ููู ูุง ูููู ุฃู ูุนุทู ูุชุงุฆุฌ ุบูุฑ ูุชููุนุฉ ุชูุงููุง. <br><br>  ุชุณุชุฎุฏู ูุฆุฉ osgUtil :: Tessellator ุฎูุงุฑุฒููุงุช ูุชุญููู ูุถูุน ูุญุฏุจ ุฅูู ุณูุณูุฉ ูู ุบูุฑ ูุญุฏุจุฉ - ูู ุญุงูุชูุง ุ ุชุญูู ุงูููุฏุณุฉ ุฅูู GL_TRIANGLE_STRIP. <br><br><img src="https://habrastorage.org/webt/05/ho/do/05hodotfc4iltbsnlyevejuhvfw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุชุชุนุงูู ูุฐู ุงููุฆุฉ ูุน ูุถูุนุงุช ุงูุซูุจ ูุงููุถูุนุงุช ุงููุชูุงุทุนุฉ ุฐุงุชููุง. ุจุงุณุชุฎุฏุงู ุทุฑููุฉ setWindingType () ุงูุนุงูุฉ ุ ููููู ุชุญุฏูุฏ ููุงุนุฏ ูุนุงูุฌุฉ ูุชููุนุฉ ุ ูุซู GLU_TESS_WINDING_ODD ุฃู GLU_TESS_WINDING_NONZERO ุ ูุงูุชู ุชุญุฏุฏ ุงูููุงุทู ุงูุฏุงุฎููุฉ ูุงูุฎุงุฑุฌูุฉ ููุถูุน ูุนูุฏ.</font></font><br><br><h1 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงูููุงูุฉ ุ ุญุตููุง ุนูู ููู ุฃุณุงุณู ูููููุฉ ุชุฎุฒูู ููุนุงูุฌุฉ ููุฏุณุฉ ุงููุงุฆูุงุช ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูู ูุญุฑู OSG. </font><font style="vertical-align: inherit;">ูุง ุชุนุชูุฏ ุฃู ุชูู ุงูุฃูุซูุฉ ุงูุจุณูุทุฉ ูุบูุฑ ุงููุซูุฑุฉ ููุฅุนุฌุงุจ ุงูุชู ูุชู ุชูุงูููุง ูู ุงูููุงูุฉ ูู ุญุฏูุฏ ูุฏุฑุงุช ุงููุญุฑู. </font><font style="vertical-align: inherit;">ููุท ูุฐู ุงูุฃูุซูุฉ ูููู ุฃู ุชุณุงุนุฏ ุงููุทูุฑ ุนูู ููู ุขููุงุช OpenSceneGraph ุ ูุจุฏูู ูุฐุง ุงูููู ูููู ูู ุงูุตุนุจ ุชุฎูู ุนูู ุฃุดูุงุก ุฃูุซุฑ ุชุนููุฏูุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชูุฏ ูุฐู ุงูููุงูุฉ ุนูู ุชุฑุฌูุฉ ูุต ุงููุตูู ุงูููุงุจูุฉ ูู ูุชุงุจ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenSceneGraph 3.0 ููุนุงูุฌุชู. </font><font style="vertical-align: inherit;">ุฏููู ุงููุจุชุฏุฆูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุชู ูุญุต ุฌููุน ุงูุฃูุซูุฉ ูู ูุจูู ุดุฎุตููุง ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชููุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฑูุฒ ุงููุตุฏุฑ ุงูุฎุงุต ุจูู </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ููุง</font></a><font style="vertical-align: inherit;"> . </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุจุน ...</font></font></a></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar430212/">https://habr.com/ru/post/ar430212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar430202/index.html">ูุชุงุจุฉ ูุธุงู ูู ุงูุฌุณููุงุช ุงููุชูุงุนูุฉ ูู C ++ ุจุงุณุชุฎุฏุงู DirectX 11</a></li>
<li><a href="../ar430204/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 18: "ุชุตูุญ ุงูุฅูุชุฑูุช ุงูุฎุงุต" ุ ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar430206/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 18: ุงูุชุตูุญ ุงูุฎุงุต - ุงูุฌุฒุก ุงูุซุงูู</a></li>
<li><a href="../ar430208/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 18: "ุชุตูุญ ุงูุฅูุชุฑูุช ุงูุฎุงุต" ุ ุงูุฌุฒุก 3</a></li>
<li><a href="../ar430210/index.html">ุงุฎุชุจุฑ ุตุจุฑู ูู ูุจู Check Point Security Academy</a></li>
<li><a href="../ar430216/index.html">ููุง ุฃููููุง ุ ุฃุชูุงูู ุงููุซูุฑ ูู ุงูุญูููุงุช ุ ุฃู ุชุตููู ุงูุจุถุงุฆุน ุนู ุทุฑูู ุงูุชุญูู ูู ุงูุชุทุจูู</a></li>
<li><a href="../ar430218/index.html">ุชุญุณูู ุงูุทุงูุฉ STM32: ุฏููู ุนููู</a></li>
<li><a href="../ar430220/index.html">ููููุฉ ุชุญููู ูุญูุฑ USB "ุงููุฆููุฉ" ุฅูู ุฅุฏุงุฑุฉ ุฐููุฉ ูุชูููุฑ 300 ุฏููุงุฑ</a></li>
<li><a href="../ar430222/index.html">ูููุฏุณ ุฃูู ุจุญุซ ุนู ุนูู. ููู ุฃุฌุฑูุช 20 ููุงุจูุฉ ูุน ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ููุง ุฃููุฑ ููู</a></li>
<li><a href="../ar430224/index.html">ุงูุงุถุทุฑุงุจ ุงููุตุงูู: ูุธุฑุฉ ุฏุงุฎููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>