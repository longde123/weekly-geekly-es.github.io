<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåû ü§∞üèΩ ‚ÜñÔ∏è RubyRussia 2019: Nikolay Sverchkov sobre sem servidor üßí üåò ü§≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="28 de setembro na confer√™ncia RubyRussia Nikolai Sverchkov far√° uma apresenta√ß√£o Serverless is Ruby Future. Ivan Solovyov discutiu em uma entrevista p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>RubyRussia 2019: Nikolay Sverchkov sobre sem servidor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/railsclub/blog/468191/"> 28 de setembro na confer√™ncia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RubyRussia</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nikolai</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sverchkov</a> far√° uma apresenta√ß√£o Serverless is Ruby Future.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ivan Solovyov</a> discutiu em uma entrevista por que essa tend√™ncia √© interessante e por que os rubistas devem prestar aten√ß√£o nela. <br><br><img src="https://habrastorage.org/webt/zb/wh/if/zbwhif5dw6qnzd3qtvwacuj1khy.jpeg" alt="imagem"><br><br><a name="habracut"></a><br>  <b>Diga-me como voc√™ veio para Ruby?</b> <br><br>  Ele come√ßou a programar na universidade.  Toda a pr√°tica foi em C ++, mas fiz os √∫ltimos trabalhos e tese em Ruby.  Por que escolhi o Ruby, n√£o vou dizer com certeza, provavelmente porque o idioma da √©poca estava na moda.  Ningu√©m sabia na Universidade Ruby, muito menos ensinou.  Mas depois da formatura, eu queria escrever em Java.  Ent√£o me pareceu que o Java √© especial, os desenvolvedores mais legais, uma esp√©cie de casta superior de programadores, e eu queria ser um deles.  Minha primeira entrevista de emprego foi em Java Junior, e eu falhei com sucesso.  Mas ele conseguiu entrar em uma empresa onde Ruby era necess√°rio.  Talvez seja o melhor!  Apenas alguns anos se mudaram para Elixir.  Agora eu trabalho em marcianos maus, fazendo back-end. <br><br>  <b>Seu relat√≥rio sobre sem servidor.</b>  <b>Como voc√™ come√ßou a trabalhar nessa dire√ß√£o? A entrada para a tecnologia √© dif√≠cil?</b> <br><br>  Ele come√ßou a estudar em seu tempo livre.  Eu tinha uma real, mas n√£o relacionada √† principal tarefa de trabalho.  Ent√£o ele come√ßou a usar o serverless nos projetos da empresa.  O limiar de entrada √© bastante baixo, acho que √© apenas ligeiramente superior ao do Heroku.  Escreva seu primeiro "Ol√°, mundo!"  ser√° muito simples - existem v√°rios artigos, tutoriais, documenta√ß√£o extremamente rica da Amazon.  E ent√£o, √© claro, ent√£o haver√° dificuldades.  Existem armadilhas, vou falar sobre algumas delas no relat√≥rio. <br><br>  <b>Os iniciantes devem mergulhar no servidor e us√°-lo na produ√ß√£o?</b> <br><br>  Eu acho que sim!  Mas n√£o √© preciso se apressar para implementar tudo com o serverless.  Para come√ßar, voc√™ pode examinar seu aplicativo e encontrar nele um pequeno peda√ßo da l√≥gica de neg√≥cios, que pode ser colocado em um servi√ßo separado.  Se esse novo microsservi√ßo tiver uma interface de comunica√ß√£o simples, com 99% de probabilidade, voc√™ poder√° implement√°-lo usando o mesmo AWS Lambda.  Idealmente, se √© uma parte da l√≥gica de neg√≥cios sem estado, n√£o √© necess√°rio pensar em como salvar os resultados, pensar nos artefatos da execu√ß√£o de sua fun√ß√£o lambda.  Como exemplo, enviar uma carta pode ser uma boa primeira tarefa.  No meu relat√≥rio, levantarei separadamente a quest√£o de qual espectro de tarefas o modelo de computa√ß√£o sem servidor √© mais adequado. <br><br>  A principal recomenda√ß√£o √© separar o c√≥digo da l√≥gica de neg√≥cios das pr√≥prias lambdas.  Essa √© uma varia√ß√£o da regra dolorosamente familiar "controladores finos, modelos grossos".  Primeiro, ser√° mais f√°cil testar dessa maneira.  Em segundo lugar, se voc√™ perceber que o servidor sem servidor n√£o √© adequado para sua tarefa, poder√° migrar facilmente para uma solu√ß√£o comprovada, por exemplo, substituir a camada de entrada sem servidor por um servidor da web comum.  A este respeito, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">jatos</a> muito bons.  Essa √© uma estrutura Ruby Serverless que permite escrever um aplicativo que pode ser implantado imediatamente no AWS Lambda e em uma inst√¢ncia comum do Amazon EC2. <br><br>  <b>Conte-me mais sobre essa estrutura Ruby?</b> <br><br>  Jatos √© √∫nico.  Apesar de existirem outras estruturas sem servidor personalizadas para determinados idiomas, o Jets √© o mais funcional.  Agora ele tem mais de 2500 commits no master.  A estrutura usa muitas conven√ß√µes familiares para um desenvolvedor Ruby, √© um "Ruby on Rails on Serverless".  Mas isso tem suas desvantagens.  Como com um modelo de computa√ß√£o sem servidor, voc√™ paga pelo tempo de execu√ß√£o do c√≥digo, a inicializa√ß√£o e o carregamento de um grande n√∫mero de depend√™ncias pesadas s√£o caros no sentido literal da palavra.  A divulga√ß√£o deste t√≥pico tamb√©m ter√° um tempo no meu relat√≥rio. <br><br>  <b>Quais plataformas s√£o mais comuns para o servidor agora, quais s√£o as diferen√ßas entre elas e qual √© a melhor escolha?</b>  <b>Pelo que entendi, agora voc√™ est√° se afogando no Amazon Web Services, pois na maioria das vezes voc√™ fala sobre isso.</b> <br><br>  Voc√™ pergunta por que eu costumo usar a palavra "lambda" em nossa conversa?  Eu acho que a hist√≥ria √© como com Karcher ou Xerox.  Existem marcas cujo nome √© habitual denominar todo um nicho de produtos.  Em 2014, a Amazon foi a primeira a fornecer acesso p√∫blico a um modelo de computa√ß√£o sem servidor - AWS Lambda.  Todos os outros: Microsoft com Azure Functions, Google com Cloud Function, IBM com IBM Cloud Functions, ainda est√£o mentalmente no papel de atualizar.  Embora o mercado sem servidor esteja em expans√£o, os pre√ßos de servi√ßo da AWS geralmente s√£o mais altos que os da concorr√™ncia.  Portanto, novos lan√ßamentos, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Cloud Run</a> , podem mudar o jogo da noite para o dia.  Se realizarmos uma an√°lise mais detalhada das compara√ß√µes de plataforma, recomendo assistir a um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">v√≠deo de Ruslan Serkin, do DataArt, da confer√™ncia DUMP 2019</a> . <br><br>  <b>O que voc√™ acha, em que dire√ß√£o o servidor sem desenvolvimento?</b> <br><br>  Oh, esta √© a parte mais interessante do meu relat√≥rio!  Eu posso fazer sem spoilers - venha ouvir!  Em vez disso, posso falar sobre seriedade e produ√ß√£o.  Em abril deste ano, eu estava na confer√™ncia RubyConfBy em Minsk, na qual o autor dos mesmos Jets falou.  Na p√≥s-festa, discutimos o desenvolvimento sem servidor e por que, se houver suporte dos principais players do setor, n√£o vemos a distribui√ß√£o em massa das fun√ß√µes lambda.  As vantagens do modelo s√£o √≥bvias, o ecossistema √© transparente, mas n√£o h√° confian√ßa generalizada por parte da comunidade de TI.  Como resultado, chegamos √† conclus√£o de que agora sem servidor √© um tipo de jogador sombrio e a situa√ß√£o lembra um pouco o que estava com o Docker ao mesmo tempo.  H√° muito se acredita que Docker em produ√ß√£o √© suic√≠dio.  Agora vemos que a conteineriza√ß√£o √© a principal ferramenta para distribui√ß√£o de software.  Eu acho que no futuro, sem servidor est√° esperando o mesmo.  Mais e mais pessoas confiar√£o nele. <br><br>  <b>Sem servidor matar√° mon√≥litos?</b> <br><br>  Esta pergunta pode ser reformulada como "A arquitetura do microsservi√ßo matar√° mon√≥litos?"  Como o servidor sem servidor √© um microsservidor ideal - ele √© pequeno, sem estado e possui uma interface m√≠nima para se comunicar com o mundo externo.  Assim como os microsservi√ßos n√£o matam mon√≥litos, as lambdas n√£o matam mon√≥litos.  Todas as tr√™s arquiteturas t√™m uma gama espec√≠fica de tarefas √†s quais s√£o ideais.  E vice-versa - h√° tarefas em que, por exemplo, sem servidor √© impratic√°vel de usar.  Procure detalhes no meu relat√≥rio. <br><br>  <b>O que fazer com o bloqueio de fornecedor?</b>  <b>Por exemplo, voc√™ desenvolveu um lambda para a Amazon, mas decidiu mudar para o Google.</b> <br><br>  A migra√ß√£o entre plataformas √© dolorosa se voc√™ n√£o usar algum tipo de estrutura, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sem servidor</a> , que fornece uma API abstrata por provedores de nuvem e permite implantar a mesma fun√ß√£o na Amazon e no Google.  Se voc√™, grosso modo, fizer tudo com as m√£os, sim, ser√° um pouco doloroso. <br><br>  <b>O que fazer com lambdas comuns ao usar c√≥digo?</b>  <b>Por exemplo, alguns componentes comuns, algumas fun√ß√µes utilit√°rias e assim por diante.</b> <br><br>  Ainda n√£o existem pr√°ticas recomendadas sobre esse assunto.  E a pergunta pode ser reformulada novamente em "Como atrapalhar um c√≥digo comum entre microsservi√ßos?", Porque o significado √© o mesmo.  Existe uma op√ß√£o quando voc√™ mant√©m a l√≥gica reutilizada em algum lugar compartilhada e na pr√≥pria fun√ß√£o a conecta.  Essa abordagem funcionar√° bem, por exemplo, com Go, onde a sa√≠da obtida √© um arquivo execut√°vel.  Outra op√ß√£o √© se livrar da conectividade do componente e permitir a duplica√ß√£o.  Provavelmente vale a pena tentar e ver o que funciona melhor.  A √∫nica coisa que posso aconselhar √© n√£o tentar universalizar as fun√ß√µes lambda.  Em algum momento, pode parecer que uma √∫nica fun√ß√£o seria a solu√ß√£o perfeita para o problema da duplica√ß√£o de c√≥digo.  Mas com o tempo, voc√™ perceber√° que esse √© o caminho para lugar nenhum.  Voc√™ obter√° uma certa "vers√£o monol√≠tica de sem servidor" com todos os problemas da primeira e da segunda arquitetura. <br><br>  <b>Discutiremos mais detalhadamente ap√≥s o relat√≥rio sobre o RubyRussia!</b> <br><br>  Venha e voc√™, as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">inscri√ß√µes</a> ainda est√£o abertas, a confer√™ncia ser√° realizada no pr√≥ximo s√°bado, 28 de setembro. <br><br>  N√£o haver√° apenas relat√≥rios, mas tamb√©m estandes das melhores empresas: <br><br>  Organizador - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Evrone</a> <br>  Parceiro Geral - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toptal</a> <br>  Parceiro Gold - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gett</a> <br>  Parceiros Silver - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Valarm</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JetBrains</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bookmate</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cashwagon</a> <br>  Parceiro Bronze - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">InSales</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468191/">https://habr.com/ru/post/pt468191/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468177/index.html">Git por dentro e por fora</a></li>
<li><a href="../pt468179/index.html">An√°lise: como funciona a infraestrutura do mercado de valores mobili√°rios russo</a></li>
<li><a href="../pt468181/index.html">Silent Trinity: explorando uma nova vers√£o da estrutura p√≥s-explora√ß√£o</a></li>
<li><a href="../pt468185/index.html">Servi√ßo AWS EC2 e trabalhe com ele</a></li>
<li><a href="../pt468189/index.html">Aumente as habilidades de depura√ß√£o de JavaScript usando truques de console</a></li>
<li><a href="../pt468193/index.html">JVM Internals, Parte 1 - Carregador de classe</a></li>
<li><a href="../pt468195/index.html">Por que minhas finan√ßas dependem da Beeline?</a></li>
<li><a href="../pt468197/index.html">Como fazemos a automa√ß√£o de uma grande rede herdada</a></li>
<li><a href="../pt468205/index.html">GIT por dentro: introdu√ß√£o (tradu√ß√£o)</a></li>
<li><a href="../pt468207/index.html">Como atualizamos o Zabbix</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>