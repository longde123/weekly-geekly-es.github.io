<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèª üôåüèø ‚ÜïÔ∏è Nuevo lenguaje de programaci√≥n h√°galo usted mismo üö£üèª üë©‚Äçüîß ü•¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! Ve directo al grano. En este momento estoy leyendo "The Dragon Book" y estoy desarrollando un compilador para mi lenguaje de programaci√≥n l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nuevo lenguaje de programaci√≥n h√°galo usted mismo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460283/">  Hola Habr!  Ve directo al grano.  En este momento estoy leyendo "The Dragon Book" y estoy desarrollando un compilador para mi lenguaje de programaci√≥n llamado Lolo (en honor al ping√ºino de la caricatura sovi√©tico-japonesa).  Planeo terminar dentro de un a√±o si nada duele.  Paralelamente, publicar√© extractos interesantes de la experiencia de la traducci√≥n, la creaci√≥n de c√≥digo intermedio, la optimizaci√≥n, etc. Bueno, hoy les presentar√© el idioma.  Si√©ntate y vete. <br><br>  El lenguaje es compilado, imperativo, no orientado a objetos; la sem√°ntica ha sido descaradamente descartada de C y complementada con muchas caracter√≠sticas √∫tiles.  Comencemos con ellos. <br><a name="habracut"></a><br><h2>  Modificaciones sem√°nticas </h2><br><h4>  Punteros seguros </h4><br>  Es posible que haya pensado en los punteros inteligentes de Rust en este momento, pero no lo son.  En mi idioma, la seguridad de acceder a la memoria es proporcionada por dos modismos.  Primero: la falta de una operaci√≥n de desreferenciaci√≥n de punteros.  En cambio, al acceder al puntero declarado, se hace referencia al objeto en s√≠.  Es decir, puedes y debes escribir as√≠: <br><br><pre><code class="plaintext hljs">int # pointer ~~ new int(5) int variable ~ pointer + 7</code> </pre> <br>  La variable variable ahora contiene el n√∫mero 12. Ahora ve una sintaxis desconocida y, tal vez, est√° un poco perplejo, pero explicar√© todo en el transcurso del art√≠culo.  Segundo modismo: falta de operaciones en punteros.  Nuevamente: todas las operaciones al acceder a punteros, incluidas la asignaci√≥n, el incremento y la disminuci√≥n, se realizan en los objetos.  La √∫nica operaci√≥n que se relaciona directamente con el puntero es la asignaci√≥n por direcci√≥n o, como lo llamo, identificaci√≥n.  En el ejemplo de c√≥digo anterior, en la primera l√≠nea, es precisamente identificaci√≥n.  Cualquier puntero se puede establecer en la direcci√≥n de solo el √°rea de memoria ya asignada, que es la nueva operaci√≥n devuelta.  Tambi√©n puede poner un puntero a la direcci√≥n de otra variable asignada incluso en el mont√≥n, incluso en la pila.  Aqu√≠ hay un ejemplo: <br><br><pre> <code class="plaintext hljs">int variable ~ 5 int # pointer ~~ variable</code> </pre> <br>  Aqu√≠ "~" es la operaci√≥n de asignaci√≥n habitual.  Tambi√©n puede identificar punteros con un puntero nulo especial.  Act√∫a como un puntero que se refiere a una direcci√≥n nula.  Despu√©s de identificar las operaciones de comparaci√≥n y comparaci√≥n de identidad (direcciones id√©nticas) con nulo, producir√°n verdadero: <br><br><pre> <code class="plaintext hljs">int # pointer ~~ null if (pointer = null) nop ;; true if (pointer == nul) nop ;; true</code> </pre> <br>  Aqu√≠ "=" es una comparaci√≥n de valores, "==" es una comparaci√≥n por direcciones, "nop" es una operaci√≥n vac√≠a y despu√©s de ";;"  - comentar.  Y s√≠, null es la √∫nica operaci√≥n de puntero con la que es posible sin verificar la compatibilidad de tipos. <br><br>  Por lo tanto, los punteros solo se pueden asignar a la memoria asignada o √°reas nulas y no se pueden mover a ninguna parte.  Sin embargo, estas medidas no protegen completamente contra errores de fallas de segmentaci√≥n.  Para obtenerlo, solo sigue estos pasos: <br><br><pre> <code class="plaintext hljs">int # pointer1 ~~ new int(5) int # pointer2 ~~ pointer1 delete pointer1 int variable ~ pointer2 ;; segmentation fault!</code> </pre> <br>  Creo que todo est√° claro aqu√≠.  Pero cometer tal error solo se puede hacer a prop√≥sito, y luego, haber trabajado duro.  Despu√©s de todo, la operaci√≥n de eliminaci√≥n hace lo mismo que el recolector de basura, solo que de manera menos segura.  Hablando de √©l ... <br><br><h4>  Recolector de basura </h4><br>  Recolector de basura: tambi√©n es recolector en Lolo.  Probablemente no sea necesario explicar de qu√© se trata.  Solo puedo decir que puede deshabilitarse mediante una opci√≥n especial durante la compilaci√≥n.  Probamos el programa con el recopilador, todo funciona como deber√≠a: puede ingresar la opci√≥n e intentar optimizar el programa utilizando la administraci√≥n manual de memoria. <br><br><h4>  Arreglos incorporados </h4><br>  Aunque dije que la sem√°ntica del lenguaje est√° descartada de C, las diferencias son bastante significativas.  Aqu√≠ las matrices son punteros.  Las matrices tienen su propia sintaxis y direccionamiento seguro.  No, no con una verificaci√≥n de rango.  Con ellos es b√°sicamente dif√≠cil obtener un error de tiempo de ejecuci√≥n.  Esto se debe a que cada matriz almacena la longitud en el tama√±o variable, como en Java, y con cada indexaci√≥n del √≠ndice ... ¬°existe el resto de la divisi√≥n por este tama√±o!  Una decisi√≥n est√∫pida, a primera vista, hasta que miramos los √≠ndices negativos.  Si encuentra el resto de dividir -1 entre la longitud de la matriz, obtendr√° un n√∫mero igual a tama√±o-1, es decir, el elemento m√°s finito.  Mediante tal maniobra, podemos acceder a los √≠ndices no solo desde el principio, sino tambi√©n desde el final de la matriz.  Otro truco es lanzar cualquier tipo primitivo a la matriz de bytes [].  Pero, ¬øc√≥mo se obtiene un error de tiempo de ejecuci√≥n?  Te dejar√© esta pregunta como un acertijo f√°cil. <br><br><h4>  Referencias </h4><br>  No s√© con certeza si el est√°ndar C actual incluye enlaces, pero definitivamente estar√°n en Lolo.  Tal vez la falta de referencias en versiones anteriores de C es una de las principales razones de los punteros a punteros.  Son necesarios para pasar argumentos a la direcci√≥n, para devolver valores de funciones sin copiar.  Los punteros y las matrices tambi√©n se pueden pasar por referencia (ya que al pasar por valor, las matrices se copiar√°n por completo y los punteros establecidos en una nueva ubicaci√≥n por la operaci√≥n ~~ no lo guardar√°n). <br><br><h4>  Multithreading </h4><br>  Todo es m√°s bello y m√°s bello.  Ya estoy enamorado de mi idioma.  Su siguiente pasatiempo es multihilo.  Honestamente, no he decidido completamente qu√© herramientas se proporcionar√°n.  Lo m√°s probable es que la palabra clave sincronizada con todas las propiedades de ala-Java y, posiblemente, la palabra clave concurrente frente a funciones no en l√≠nea, lo que significa "ejecutar estas funciones en subprocesos paralelos". <br><br><h4>  Cuerdas en l√≠nea </h4><br>  Son cadenas, no literales de cadena, como en C ++.  Cada l√≠nea tendr√° su propia longitud, la indexaci√≥n ocurrir√° al encontrar el resto.  En general, las cadenas en Lolo son muy similares a las matrices de caracteres, excepto que las matrices no tienen concatenaci√≥n a trav√©s de "+", animaci√≥n a trav√©s de "*" y comparaciones a trav√©s de "&lt;" y "&gt;".  Y como estamos hablando de l√≠neas, debemos mencionar los personajes.  Los s√≠mbolos en Lolo no son n√∫meros, como en C ++.  Y contienen no un byte, sino 4 para caracteres DKOTI y 6 para caracteres UTF.  Hablar√© sobre DKOTI la pr√≥xima vez, pero por ahora, solo s√© que Lolo admite caracteres y cadenas en dos codificaciones.  Y s√≠, la propiedad de longitud incluso se puede tomar de constantes: <br><br><pre> <code class="plaintext hljs">int len ~ "Hello, world!".length ;; len = 13</code> </pre> <br><h4>  Tipo booleano con tres valores </h4><br>  La gran mayor√≠a de los lenguajes de programaci√≥n que tienen un tipo de datos l√≥gico utilizan l√≥gica binaria.  Pero en Lolo ser√° ternario, o m√°s bien, ternario difuso.  Tres valores: verdadero - verdadero, falso - falso y ninguno - nada.  Hasta ahora no he encontrado en el lenguaje de operaciones que no devuelvan ninguno, pero recuerdo muchos ejemplos de la pr√°ctica cuando las banderas con tres valores ser√≠an muy √∫tiles.  Tuve que usar enumeraciones o un tipo entero.  Ya no tienes que hacerlo.  Ese es solo el nombre de este tipo que no puedo elegir.  El lugar m√°s com√∫n es "l√≥gico", pero demasiado largo.  Otras opciones son "luk" en honor a Jan Lukasevich, "brus" en honor a N. P. Brusnetsov y "trit", pero estrictamente hablando, este tipo no es un trit.  En general, la encuesta se encuentra al final del art√≠culo. <br><br><h4>  Listas para inicializar estructuras y listas </h4><br>  Si, despu√©s de declarar una variable estructural, coloca el signo ~ y abre los corchetes, puedes establecer los valores de sus campos a su vez o en forma de diccionario.  Si realiza dicho procedimiento con una matriz, puede establecer los valores de sus celdas, solo sin un diccionario.  No hay nada especial que contar, solo mira el c√≥digo: <br><br><pre> <code class="plaintext hljs">struct { int i; real r; str s; } variable ~ [ i: 5, r: 3.14, s: "Hello!" ] int[5] arr ~ [ 1, 2, 3, 4, 5 ]</code> </pre> <br><br><h4>  Devuelve m√∫ltiples valores de funciones </h4><br>  Justo como en Go!  Puede escribir varios nombres de variables separados por comas y asignarles todos los valores devueltos por la funci√≥n a la vez: <br><br><pre> <code class="plaintext hljs">int, real function() { return 5, 3.14 } byte ¬ß { int i; real r i, r ~ function }</code> </pre> <br><h4>  M√≥dulos en lugar de encabezados </h4><br>  Todo est√° claro aqu√≠.  En lugar de encabezados C-shy - m√≥dulos de Java. <br><br><h4>  para (elemento autom√°tico: matriz) </h4><br>  Nuevamente Java nativo.  Como tenemos matrices con longitud, es un pecado no usar la expresi√≥n para cada una. <br><br><h4>  El operador de selecci√≥n no es solo para int </h4><br>  No s√© acerca de usted, pero en C y C ++ estoy terriblemente enfurecido por la falta de la capacidad de usar la operaci√≥n de cambio de may√∫sculas y min√∫sculas para variables no enteras.  Y la sintaxis tambi√©n enfurece.  Aqu√≠ en Pascal hay otro asunto.  Y ahora en Lolo: <br><br><pre> <code class="plaintext hljs">case variable { "hello", "HELLO": nop "world": { nop; nop } "WORLD": nop }</code> </pre> <br><h4>  Operadores de alimentaci√≥n y divisi√≥n </h4><br>  Y esto es de Python. <br><br><pre> <code class="plaintext hljs">real r ~ 3.14 ** 2 int i ~ r // 3</code> </pre> <br><h4>  Tuplas de par√°metros de funci√≥n </h4><br>  ¬øRecuerda que todas las operaciones con punteros est√°n prohibidas en Lolo, excepto la identificaci√≥n?  Ahora recordemos c√≥mo acceder a los par√°metros de funci√≥n desde las listas de par√°metros de longitud variable.  Debe declarar un puntero al primer elemento y luego incrementarlo hasta que la verificaci√≥n de la verdad devuelva verdadero.  No puedes incrementar en Lolo.  Pero eso est√° bien.  Despu√©s de todo, la lista de par√°metros aqu√≠ se presenta en forma de una tupla de una longitud fija (dependiente de la llamada), con √≠ndice seguro, como en las matrices.  Su nombre es "?"  La verificaci√≥n de tipo se realiza solo para los par√°metros establecidos en la definici√≥n de la funci√≥n.  El resto de los par√°metros ("multipunto") se reducen a cualquier tipo, y con un movimiento inc√≥modo su comportamiento no se define.  Pero a√∫n as√≠, tal tupla es mucho m√°s segura y conveniente que las macros en C. <br><br><pre> <code class="plaintext hljs">void function(...) { if (?.size &gt; 1) { int i ~ ?[0] real r ~ ?[1] } }</code> </pre> <br><h4>  Intervalos num√©ricos </h4><br>  Y otro personaje: una familia de tipos de intervalo (rango, urange, lrange, etc.).  Est√°n dados por dos enteros a trav√©s de dos puntos (..) y pueden cortar una matriz de una matriz, una cadena de una cadena, en general, una cosa √∫til, creo. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] int[3] subarr = arr[1..3] ;; [ 2, 3, 4 ]</code> </pre> <br><h4>  En operador </h4><br>  De Pascal.  Funciona con cadenas, matrices, tuplas?  y rangos. <br><br><pre> <code class="plaintext hljs">int[5] arr ~ [ 1, 2, 3, 4, 5 ] if (4 in arr) nop</code> </pre> <br><h4>  Diccionario de par√°metros de funciones </h4><br>  Honestamente, ya estoy confundido sobre c√≥mo se llama correctamente a esta cosa, con ella puedes especificar directamente los argumentos de las funciones no puras: <br><br><pre> <code class="plaintext hljs">int pos = str_find(string, npos: -1)</code> </pre> <br><h4>  Opciones predeterminadas </h4><br>  De C ++.  Aqu√≠, incluso un ejemplo no es necesario dar, por lo que todo est√° claro. <br><br><h4>  Excepciones </h4><br>  ¬øY d√≥nde sin ellos? <br><br><pre> <code class="plaintext hljs">try { raise SEGMENTATION_FAULT_EXCEPTION } except (Exception e) { print(e.rus) }</code> </pre> <br><h4>  Sin salto incondicional </h4><br>  Porque en 2019, usar el operador GOTO de la muerte es similar. <br><br><h2>  Sintaxis </h2><br>  Bueno, una peque√±a charla sobre la sintaxis.  Como not√≥, el punto y coma es poco profundo.  Los lenguajes de programaci√≥n modernos funcionan muy bien sin esta fuente de error.  Ejemplos son Python, Kotlin.  El operador de flecha (-&gt;) se combina con el operador de punto.  Cuando se llaman funciones sin argumentos, los corchetes son opcionales.  Las cadenas se dan en n√∫meros y viceversa.  Los operadores l√≥gicos y bit a bit se combinan.  Hay modificadores de funci√≥n para la tabulaci√≥n.  Funciones anidadas  tipo_de.  Y lo m√°s importante: multiling√ºismo.  S√≠, voy a duplicar palabras clave, propiedades de cadenas y matrices y todos los identificadores de la biblioteca est√°ndar en todos los idiomas de comunicaci√≥n internacional, a saber: ingl√©s, ruso, japon√©s, chino, espa√±ol, portugu√©s, √°rabe, franc√©s, alem√°n y lat√≠n. <br><br>  De hecho, todo lo anterior no incluye la mitad de las capacidades de Lolo.  Simplemente no puedo recordar de inmediato todas sus caracter√≠sticas.  Agregar√© cuando el compilador est√© listo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/460283/">https://habr.com/ru/post/460283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460265/index.html">Crear una plantilla de proyecto Xcode</a></li>
<li><a href="../460273/index.html">Autorizaci√≥n en Apple Pay para los m√°s peque√±os</a></li>
<li><a href="../460275/index.html">¬øPor qu√© no necesitas la soluci√≥n perfecta?</a></li>
<li><a href="../460279/index.html">Contrato de 10 mil millones: ¬øqui√©n se ocupar√° de la nube para el Pent√°gono?</a></li>
<li><a href="../460281/index.html">C√≥mo UX Writer ayuda a mejorar el producto</a></li>
<li><a href="../460285/index.html">Estamos preparando PHP. ¬øC√≥mo son while, foreach, array_walk y algunas otras palabras de miedo</a></li>
<li><a href="../460287/index.html">Visualizaci√≥n de noticias runet</a></li>
<li><a href="../460291/index.html">Problemas de procesamiento por lotes de solicitudes y sus soluciones (parte 1)</a></li>
<li><a href="../460295/index.html">¬øQu√© significa inseguro en Rust?</a></li>
<li><a href="../460297/index.html">WeakRef - propuesta para agregar al est√°ndar ECMAScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>