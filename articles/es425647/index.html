<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ñ∂Ô∏è üéé üíò Prueba de IU: comprobaci√≥n del sistema a diferentes resoluciones ü§ï üë®üèΩ‚Äçüç≥ ü§¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probar formularios web largos en varios navegadores y en resoluciones no solo es extremadamente necesario, sino tambi√©n por tercera o cuarta vez, un p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prueba de IU: comprobaci√≥n del sistema a diferentes resoluciones</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/true_engineering/blog/425647/">  Probar formularios web largos en varios navegadores y en resoluciones no solo es extremadamente necesario, sino tambi√©n por tercera o cuarta vez, un proceso extremadamente aburrido y de concentraci√≥n intensiva.  Por lo tanto, esta es exactamente el √°rea que pide automatizaci√≥n.  Esto es lo que hicimos. <br><br>  En este art√≠culo sobre Habr, hablaremos sobre nuestra experiencia en la prueba de pantallas grandes con las herramientas de cuadr√≠cula Protractor, Zalenium y Selenium.  C√≥mo introdujimos gradualmente estas herramientas para las pruebas autom√°ticas de interfaz de usuario y qu√© dificultades tuvimos que atravesar. <br><br><img src="https://habrastorage.org/webt/t0/ik/pi/t0ikpibqtt5stc-vmd8mm5ap7p0.jpeg"><br><a name="habracut"></a><br>  Creamos y mantenemos un sistema en el que 7 mil usuarios activos.  La mayor√≠a de las veces usan estos navegadores: <br><br><img src="https://habrastorage.org/webt/du/8h/qg/du8hqgm1ywysjlq_jnwovnu636m.png"><br><br>  Y las siguientes resoluciones de pantalla: <br><br><img src="https://habrastorage.org/webt/yh/qo/65/yhqo65fklkp6alt-rooirdebj0c.png"><br><br>  Cada vez despu√©s del lanzamiento de una nueva versi√≥n, debe verificar el rendimiento en estos navegadores y permisos. <br><br>  Para comprender mejor c√≥mo funcionan las pruebas de IU en nuestro caso, considere un caso simple: probar la funcionalidad de una aplicaci√≥n de recuperaci√≥n de contrase√±a.  En consecuencia, hay dos p√°ginas.  En uno, debe especificar un nombre de usuario o correo en el que vendr√° una carta con un enlace a un cambio de contrase√±a.  Despu√©s de enviar la aplicaci√≥n, el usuario va a la p√°gina con la confirmaci√≥n de que todo sali√≥ bien. <br><br><img src="https://habrastorage.org/webt/ji/p2/1o/jip21ov8vewbempmrtgogko3lx4.png"><br>  <i>Formulario de recuperaci√≥n de contrase√±a</i> <br><br><img src="https://habrastorage.org/webt/1d/ce/-e/1dce-e0_bdinsyr_hlwidjceo6k.png"><br>  <i>La p√°gina a la que se produce la redirecci√≥n despu√©s del env√≠o exitoso de la aplicaci√≥n</i> <br><br>  La prueba de este mecanismo de forma simplificada se ve as√≠: <br><br><img src="https://habrastorage.org/webt/io/yh/zn/ioyhzno2ibl6ijdwxszbszy0qrk.png"><br><br>  El mismo script que el c√≥digo: <br><br><pre><code class="javascript hljs">it(<span class="hljs-string"><span class="hljs-string">'    '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">boolean</span></span></span><span class="hljs-function"> | </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> browser.get(browser.baseUrl); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> element(by.name(<span class="hljs-string"><span class="hljs-string">'EmailOrLogin'</span></span>)).sendKeys(userLogin); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> element(by.buttonText(<span class="hljs-string"><span class="hljs-string">''</span></span>)).click(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> screenshot = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> browser.takeScreenshot(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> canonicalScreenshotPath = <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name"></span></span></span></span><span class="xml"><span class="hljs-tag">   &gt;</span></span></span><span class="xml">; await compareScreenshot(screenshot, canonicalScreenshotPath); });</span></span></code> </pre> <br>  Como puede ver, el c√≥digo de prueba parece bastante simple, literalmente repite lo que se muestra en el diagrama de bloques. <br><br>  Ahora mostramos qu√© herramientas fueron √∫tiles para implementar este esquema en diferentes resoluciones de pantalla, y qu√© dificultades encontramos. <br><br><h2>  Caja de herramientas seleccionada </h2><br><h3>  Comenz√≥ con cromo </h3><br>  Para la automatizaci√≥n de pruebas, elegimos Protractor, un marco e2e para probar aplicaciones angulares.  Nuestra aplicaci√≥n es solo en Angular.  Con Protractor, realizamos dos tipos de pruebas: <br><br><ol><li>  Sobre la funcionalidad general: se abre un formulario de env√≠o de solicitud, se completa con datos y se env√≠a una solicitud, despu√©s de lo cual verificamos que se haya producido una redirecci√≥n al registro de todas las aplicaciones. </li><li>  Pruebas de captura de pantalla: Protractor le permite tomar una captura de pantalla en cualquier momento.  Usando una biblioteca separada de cosecha azul, comparamos dos capturas de pantalla: una referencia y una real.  Si no coinciden, se crea inmediatamente una captura de pantalla en la que todas las diferencias son visibles, al igual que en Git. </li></ol><br>  Por ejemplo, si contin√∫a analizando el ejemplo descrito anteriormente. <br><br><img src="https://habrastorage.org/webt/-k/op/c_/-kopc_riwo8xa6qsajn_ld-ynrk.png"><br>  <i>Captura de pantalla con mensaje de enlace no v√°lido</i> <br><br><img src="https://habrastorage.org/webt/gb/lp/uh/gblpuhvntxizhca6g1i0dk5ciqs.png"><br>  <i>Las diferencias (texto y dise√±o del bot√≥n) en la referencia y las capturas de pantalla actuales se resaltan en lila</i> <br><br>  Si la p√°gina contiene datos que cambian din√°micamente (por ejemplo, la fecha o el n√∫mero de pedido), debe enmascararlos; dicha funcionalidad se encuentra en la biblioteca de cosecha azul.  De lo contrario, la comparaci√≥n de capturas de pantalla arrojar√° un resultado negativo. <br><br><h3>  Agregar FF y diferentes permisos </h3><br>  Con el tiempo, nuestros requisitos para el sistema de prueba de IU existente han aumentado: <br><br><ul><li>  ejecutar pruebas no solo en Chrome, sino tambi√©n en FF, </li><li>  realizar pruebas de captura de pantalla no en una resoluci√≥n, sino en las m√°s populares, </li><li>  ejecutar pruebas en paralelo. </li></ul><br>  Entonces, hagamos que nuestras pruebas se ejecuten en paralelo tanto en Chrome como en FF. <br><br>  Para hacer esto, en la configuraci√≥n de capacidades de Protractor'a, reempl√°celo con esto: <br><br><pre> <code class="hljs powershell">multiCapabilities: [ { <span class="hljs-type"><span class="hljs-type">shardTestFiles</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, <span class="hljs-type"><span class="hljs-type">maxInstances</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">browserName</span></span>: <span class="hljs-string"><span class="hljs-string">'chrome'</span></span> }, { <span class="hljs-type"><span class="hljs-type">shardTestFiles</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, <span class="hljs-type"><span class="hljs-type">maxInstances</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">browserName</span></span>: <span class="hljs-string"><span class="hljs-string">'firefox'</span></span> } ]</code> </pre> <br>  Aqu√≠ todo es obvio, de lo cual cada entorno es responsable.  Solo merece atenci√≥n <br> <code>shardTestFiles: true</code> <br> <code>/** * If this is set to be true, specs will be shared by file (ie all files to be run by this set of capabilities will run in parallel). * Default is false. */</code> <br> <br>  Con este indicador, proporcionamos el lanzamiento paralelo de todas las especificaciones en todos los navegadores que se especifican en multiCapabilities. <br><br>  El par√°metro specs est√° oculto debajo de las especificaciones de la palabra, que determina por qu√© plantilla buscar archivos con pruebas. <br><br><pre> <code class="javascript hljs">exports.config = { ... specs: [<span class="hljs-string"><span class="hljs-string">'./e2e/**/*.spec.ts'</span></span>], ... }</code> </pre> <br>  La teor√≠a de dividir todas las pruebas en varios archivos de especificaciones parece bastante l√≥gica.  la simultaneidad funciona en ellos (por ejemplo, crea un archivo de especificaciones para cada caracter√≠stica de la aplicaci√≥n). <br><br>  Adem√°s, en Protractor'e existe la posibilidad de resaltar suites. <br><br><pre> <code class="javascript hljs">exports.config = { ... suites: { <span class="hljs-attr"><span class="hljs-attr">suite01</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite01.*.spec.ts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">suite02</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite02.spec.ts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">suite03</span></span>: <span class="hljs-string"><span class="hljs-string">'./e2e/**/suite03.spec.ts'</span></span> }, ... }</code> </pre> <br>  Como puede ver en esta parte de la configuraci√≥n, cuando se inicia una suite, las pruebas se ejecutan desde un solo archivo de especificaciones.  Esto probablemente sea √∫til si desea ejecutar pruebas para solo una parte de la aplicaci√≥n. <br><br>  En cuanto a probar la aplicaci√≥n con diferentes resoluciones, seguimos el siguiente camino.  Algunos de los m√°s populares fueron seleccionados como permisos experimentales: 1920x1080, 1366x768, 1440x10900, 768x1024.  Cuando ejecuta cada prueba, todas las acciones necesarias se realizaron inicialmente y luego se realizan una serie de comprobaciones de capturas de pantalla. <br><br><img src="https://habrastorage.org/webt/ht/fe/w4/htfew43t0zeewg0cg-odih_s_yq.png"><br><br><h3>  Conectamos IE y capturas de pantalla de tama√±o completo </h3><br>  Las pruebas de captura de pantalla que obtuvimos, desafortunadamente, solo funcionaron en funci√≥n de la parte inicialmente visible de la p√°gina.  Y si el desplazamiento estaba presente en la p√°gina, entonces todo lo que sigue debajo no se hab√≠a explorado para el dise√±o que fue. <br><br>  Adem√°s de esto, tambi√©n debemos admitir IE, para lo cual nuestras pruebas a√∫n no han sido dise√±adas.  Comenzamos a buscar una oportunidad adecuada para ejecutar pruebas en IE y tomar capturas de pantalla de tama√±o completo. <br><br><img src="https://habrastorage.org/webt/v7/ul/le/v7ulle2bbjnxzfyqc5vv_ps7due.png"><br><br>  Nos decidimos por dos soluciones: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zalenium</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Selenium-Grid</a> .  Omitimos la descripci√≥n de cu√°l de ellos se jacta de qu√©, y hablamos de lo que encontraron / no encontraron en ninguna de las soluciones. <br><br>  <b>Zalenium</b> : esta soluci√≥n se ejecuta en un contenedor Docker y otros N contenedores se elevan despu√©s del contenedor principal, para lanzar navegadores.  Le permite especificar screenWidth, screenHeight durante la <code>docker run</code> ventana <code>docker run</code> y obtener el tama√±o de la pantalla, por ejemplo, 1920x6000.  No hay soporte para IE. <br><br><img src="https://habrastorage.org/webt/kz/wr/de/kzwrdeodk_9rbejq0srhhk5d3zq.png"><br>  <i>Dos navegadores con un tama√±o de pantalla de 1920x6000</i> <br><br>  <b>Selenium-grid: las</b> pruebas en IE comenzaron muy f√°cilmente. <br>  De los inconvenientes: no hay forma de establecer el tama√±o de la ventana del navegador de ning√∫n tama√±o. <br><br>  <b>Total: Zalenium + Selenium-grid</b> <br>  Nos decidimos por un mont√≥n de Zalenium + Selenium-grid: a trav√©s de Zalenium se decidi√≥ ejecutar pruebas en Chrome y FF, y a trav√©s de Selenium-grid para verificar el rendimiento m√≠nimo de la aplicaci√≥n en IE. <br><br><h2>  Lo que fue interesante cumplir en el proceso </h2><br>  <b>1. Usando formControlName como un localizador de elementos</b> <br><br>  Mediante la b√∫squeda en formControlName, puede buscar f√°cilmente los campos obligatorios en el formulario y completarlos con datos de prueba.  El localizador de formControlName no est√° integrado, pero es f√°cil de agregar: <br><br><pre> <code class="javascript hljs">exports.config = { ... onPrepare() { <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'ts-node'</span></span>).register({ <span class="hljs-attr"><span class="hljs-attr">project</span></span>: <span class="hljs-string"><span class="hljs-string">'e2e/tsconfig.e2e.json'</span></span> }); jasmine.getEnv().addReporter(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> specReporter({ <span class="hljs-attr"><span class="hljs-attr">spec</span></span>: { <span class="hljs-attr"><span class="hljs-attr">displayStacktrace</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } })); addFormControlNameLocator(protractor); } ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addFormControlNameLocator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">protractor</span></span></span><span class="hljs-function">) </span></span>{ protractor.by.addLocator(<span class="hljs-string"><span class="hljs-string">'formControlName'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value, optParentElement</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> using = optParentElement || <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> using.querySelectorAll(<span class="hljs-string"><span class="hljs-string">'[formControlName="'</span></span> + value + <span class="hljs-string"><span class="hljs-string">'"]'</span></span>); }); }</code> </pre> <br>  <b>2. La diferencia en el trabajo del administrador de controladores web instalado global y localmente en Protractor</b> <br><br>  Al instalar Protractor en el sistema (la documentaci√≥n oficial aconseja instalar Protractor a nivel mundial), adem√°s del marco de prueba en s√≠, obtenemos el controlador webdriver instalado, que proporciona controladores para que los navegadores ejecuten pruebas, con lo cual se detect√≥ uno de los problemas. <br><br>  Despu√©s de ir a la carpeta del proyecto y ejecutar la actualizaci√≥n webdriver-manager, se descargan los controladores para Chrome, FF, IE.  Despu√©s de eso, al comenzar las pruebas, detectaron el error: <br><br> <code>No update-config.json found. Run 'webdriver-manager update' to download binaries.</code> <br> <br>  Nos dimos cuenta de que el error desaparece si empaquetamos la actualizaci√≥n de webdriver-manager en un script npm: <br><br><pre> <code class="hljs powershell">{ ... scripts:{ ‚Äúwebdriver<span class="hljs-literal"><span class="hljs-literal">-update</span></span>‚Äù: ‚Äúwebdriver<span class="hljs-literal"><span class="hljs-literal">-manager</span></span> update‚Äù } ... }</code> </pre> <br>  y ejecutar a trav√©s de <code>npm run webdriver-update</code> , tanto las fuentes del controlador como el update-config.json mencionado anteriormente entran en la carpeta del proyecto. <br><br>  <b>3. Ejecutar Zalenium a trav√©s de docker-compose</b> <br><br>  La documentaci√≥n de Zalenium viene acompa√±ada de ejemplos del comando <code>docker run</code> y el archivo docker-compose.  Todo despega casi como por arte de magia.  El √∫nico problema que encontramos ocurri√≥ al iniciar el archivo docker-compose <br>  <code>/var/run/docker.sock is not a valid windows path</code> .  La soluci√≥n est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  <b>4. Visibilidad de elementos por transportador</b> <br><br>  En el curso de nuestros experimentos, en un momento nos enfrentamos con la tarea de perforar alg√∫n men√∫ en la p√°gina, es decir.  ve a cada p√°gina del men√∫ y toma una captura de pantalla. <br><br><img src="https://habrastorage.org/webt/6u/sy/ol/6usyoljearsoj0ok6kgburgd_7e.png"><br><br>  Despu√©s de procesar el primer elemento de la lista, las pruebas comenzaron a caer, arrojando un error de que no hab√≠a nada que hacer clic en algunas coordenadas.  Al final result√≥ que, independientemente del hecho de que todos los elementos de la lista se seleccionaron inicialmente, despu√©s de que se volvieron realmente invisibles para nuestros ojos, desaparecieron a los ojos del transportador. <br><br>  Resolvimos el problema estableciendo un ancho de pantalla suficiente para que el men√∫ vuelva a aparecer antes de hacer clic en su siguiente elemento. <br><br>  <b>5. Cambio de resoluci√≥n en IE (Selenium-grid)</b> <br><br>  Como recordar√°, en Chrome y FF ajustamos el cambio en la resoluci√≥n de la pantalla.  Cuando se trataba de esto en IE, simplemente detectamos el error: <code>Failed: java.io.IOException: Server returned HTTP response code: 405 for URL: http://localhost:21800/session/8d14426d-6483-4bbf-90b3-2a3ed46ebe9b/window/size</code> . <br><br>  Despu√©s de una larga depuraci√≥n, fue posible descubrir que el error vuela exactamente en el momento en que el c√≥digo intenta ejecutarse: <code>browser.driver.manage().window().setSize(x, y)</code> .  Si intenta ejecutar <code>browser.driver.manage().window().setPosition(x, y)</code> , luego <code>browser.driver.manage().window().setPosition(x, y)</code> el mismo error, solo el tama√±o cambiar√° a la posici√≥n.  Esto nos lleva al hecho de que es imposible controlar la resoluci√≥n de la pantalla cuando las pruebas se ejecutan en IE.  La soluci√≥n al problema son las muletas con las que debe superponer su c√≥digo para no cambiar la resoluci√≥n \ posici√≥n cuando IE se est√° ejecutando. <br><br>  <b>6. Zalenium y WebSocket</b> <br><br>  Habiendo recogido todos los baches localmente, se decidi√≥ llevar a Zalenium a la infraestructura corporativa.  El contenedor est√° abierto, el DNS est√° registrado, ahora todos pueden ejecutar pruebas en Zalenium, simplemente especificando la ruta en su configuraci√≥n de Transportador.  Belleza, ¬øeh?  Pero ah√≠ estaba. <br><br>  En este caso, todo ya estaba implementado en la m√°quina Linux, Nginx se utiliz√≥ como servidor.  El contenedor con Zalenium subi√≥ sin problemas, seguido de otros N contenedores para lanzar navegadores, pero ... no pudo establecer conexiones con ellos.  Fue f√°cil descubrir que el contenedor principal intentaba comunicarse con los contenedores de los navegadores a trav√©s del protocolo WebSocket, y Nginx no pudo hacerlo de manera predeterminada.  El tratamiento es muy simple. <br><br><pre> <code class="nginx hljs"><span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / { <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> some_url; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Upgrade <span class="hljs-variable"><span class="hljs-variable">$http_upgrade</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">proxy_set_header</span></span> Connection ‚Äúupgrade‚Äù; }</code> </pre> <br>  <b>9. Lanzamiento de Selenium-Grid</b> <br><br>  Para ejecutar Selenium-Grid necesitamos: <br><br><ul><li>  <a href="">servidor de selenio</a> , </li><li>  Controlador de IE, que es f√°cil de obtener a trav√©s de la actualizaci√≥n de webdriver-manager --ie32. </li></ul><br>  lanzamiento del servidor: <br><br> <code>java -jar selenium-server-standalone.jar -role hub -hubConfig selenium-server-config.json</code> <br> <br><pre> <code class="hljs pgsql">selenium-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span>-config.json { "host": "127.0.0.1", "maxSessions": <span class="hljs-number"><span class="hljs-number">5</span></span>, "port": <span class="hljs-number"><span class="hljs-number">4445</span></span>, "cleanupCycle": <span class="hljs-number"><span class="hljs-number">5000</span></span>, "timeout": <span class="hljs-number"><span class="hljs-number">300000</span></span>, "newSessionWaitTimeout": <span class="hljs-number"><span class="hljs-number">-1</span></span>, "servlets": [], "prioritizer": <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, "capabilityMatcher": "org.openqa.grid.internal.utils.DefaultCapabilityMatcher", "throwOnCapabilityNotPresent": <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, "nodePolling": <span class="hljs-number"><span class="hljs-number">180000</span></span>, "platform": "WINDOWS" }</code> </pre> <br>  lanzamiento del controlador IE: <br><br> <code>java -Dwebdriver.ie.driver=&lt;  &gt; -jar selenium-server-standalone.jar -role node -nodeConfig .\\ie-driver-config.json</code> <br> <br><pre> <code class="hljs powershell">ie<span class="hljs-literal"><span class="hljs-literal">-driver</span></span><span class="hljs-literal"><span class="hljs-literal">-config</span></span>.json { <span class="hljs-string"><span class="hljs-string">"capabilities"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"browserName"</span></span>: <span class="hljs-string"><span class="hljs-string">"internet explorer"</span></span>, <span class="hljs-string"><span class="hljs-string">"maxInstances"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"platform"</span></span>: <span class="hljs-string"><span class="hljs-string">"WINDOWS"</span></span>, <span class="hljs-string"><span class="hljs-string">"webdriver.ie.driver"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:/Program Files (x86)/Internet Explorer/iexplore.exe"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"cleanUpCycle"</span></span>: <span class="hljs-number"><span class="hljs-number">2000</span></span>, <span class="hljs-string"><span class="hljs-string">"timeout"</span></span>: <span class="hljs-number"><span class="hljs-number">30000</span></span>, <span class="hljs-string"><span class="hljs-string">"port"</span></span>: <span class="hljs-literal"><span class="hljs-literal">-1</span></span>, <span class="hljs-string"><span class="hljs-string">"role"</span></span>: <span class="hljs-string"><span class="hljs-string">"node"</span></span>, <span class="hljs-string"><span class="hljs-string">"hub"</span></span>: <span class="hljs-string"><span class="hljs-string">"http://127.0.0.1:4445/grid/register/"</span></span>, <span class="hljs-string"><span class="hljs-string">"register"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"maxSessions"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span> }</code> </pre> <br>  Preste atenci√≥n al uso de los mismos puertos al iniciar el servidor y en la URL del concentrador del controlador.  Como seleniumAddress en la configuraci√≥n del transportador, usamos <code>http://127.0.0.1:4445/wd/hub</code> . <br><br><h2>  Conclusiones </h2><br>  As√≠ que resolvimos nuestra tarea y cada vez que se lanza una nueva versi√≥n, podemos verificar el rendimiento en estos navegadores y resoluciones. <br><br><h3>  C√≥mo integrar pruebas en un flujo de trabajo </h3><br>  Es importante comprender que no basta con elevar toda la infraestructura para ejecutar pruebas y escribirlas.  Debe pensar c√≥mo los usar√° en su vida diaria. <br><br>  No implementamos pruebas de IU en CI, porque  se ejecutan el tiempo suficiente para permitirse esperar su ejecuci√≥n para cada compilaci√≥n. <br><br>  Para probar la versi√≥n local de la aplicaci√≥n o instalarla en uno de los entornos de prueba (internos o del cliente), simplemente cambie baseUrl en la configuraci√≥n de Protractor.  Por lo tanto, el desarrollador y el probador pueden ejecutar las pruebas. <br>  Desarrollador: cuando es necesario ejecutar pruebas, por ejemplo, para la versi√≥n local de la aplicaci√≥n durante el desarrollo de una nueva caracter√≠stica.  Especialista en control de calidad: por ejemplo, como prueba de humo despu√©s de una implementaci√≥n en el producto, o como un control en la parte superior despu√©s de un mont√≥n de refactorizaci√≥n. <br><br>  <b>En conclusi√≥n, queremos enfatizar:</b> <br><br><ul><li>  Recuerde que las pruebas de IU no lo salvar√°n de la necesidad de realizar pruebas manuales detalladas.  La automatizaci√≥n solo ayuda a cubrir √°reas. </li><li>  Use la automatizaci√≥n con prudencia, principalmente para las pruebas de humo.  Cubrir todo y todo no tiene sentido: es costoso y dif√≠cil mantenerse actualizado </li><li>  Escribe simplemente.  Si sus pruebas de IU parecen complicadas, entonces est√° haciendo algo mal.  Batir simple y usar como se indica (ver punto 2) </li></ul><br>  Creemos que automatizar las pruebas de IU es bueno cuando se hace f√°cilmente.  As√≠ que comparta con nosotros sus observaciones y herramientas exitosas en los comentarios. <br><br><h2>  Enlaces √∫tiles de nosotros: </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transportador: una nueva esperanza - Michael Giambalvo, Craig Nishina</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Zalenium vs selenoide</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caso de prueba de transportador en Selenium Gird en Docker</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es425647/">https://habr.com/ru/post/es425647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es425635/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 333 (1 al 7 de octubre de 2018)</a></li>
<li><a href="../es425637/index.html">Algoritmo de establecimiento de conexi√≥n SSH</a></li>
<li><a href="../es425641/index.html">Los residentes de la ciudad canadiense han desarrollado un "servicio Uber" con autobuses, no autom√≥viles</a></li>
<li><a href="../es425643/index.html">Eventos digitales en Mosc√∫ del 8 al 14 de octubre</a></li>
<li><a href="../es425645/index.html">SpaceX y SAOCOM - 1A Nueva misi√≥n. Hecho</a></li>
<li><a href="../es425649/index.html">BDSM, Gore y la b√∫squeda del desarrollador de Drupal</a></li>
<li><a href="../es425653/index.html">Construyendo una arquitectura de microservicios en Golang y gRPC, Parte 1</a></li>
<li><a href="../es425657/index.html">La inevitabilidad del castigo, la efectividad de los controles repentinos</a></li>
<li><a href="../es425659/index.html">El dise√±o interactivo no tiene que ser complicado.</a></li>
<li><a href="../es425661/index.html">22 consejos para un desarrollador angular. Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>