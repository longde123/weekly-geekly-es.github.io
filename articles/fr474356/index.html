<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî≤ üîπ ü§† ThingJS v1.0-alpha ‚ô®Ô∏è üíê ‚öΩÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis deux ans, je d√©veloppe ma propre plateforme IoT et aujourd'hui je suis pr√™t √† montrer sa version alpha. 


 Avec un partenaire, nous cr√©ons et ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ThingJS v1.0-alpha</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474356/"><p><img src="https://habrastorage.org/webt/hd/vu/kq/hdvukqu1cfju8ygby3otuzmptmu.png"></p><br><p> Depuis deux ans, je d√©veloppe ma propre plateforme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IoT</a> et aujourd'hui je suis pr√™t √† montrer sa version alpha. </p><br><p>  Avec un partenaire, nous cr√©ons et prenons en charge des appareils IoT.  Nous avons d√©mantel√© plus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'un hangar</a> √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√¢teau</a> dans le cadre de cette activit√©.  ThingJS est n√© non pas tant du d√©sir que du besoin de nous faciliter la vie, mais en m√™me temps, je l'esp√®re, de vous. </p><br><p>  L'article sera int√©ressant pour les personnes proches du sujet de l'IoT et qui ont d√©j√† fait quelque chose dans ce domaine.  Un point important sera que la plate-forme devrait int√©resser (soudainement) les d√©veloppeurs JavaScript,  cette langue est choisie comme base de la plateforme.  Bien s√ªr, les d√©veloppeurs C / C ++ auront √©galement quelque chose √† lire. </p><br><p>  Tout d'abord, je parlerai des probl√®mes cl√©s que nous avons rencontr√©s lors du d√©veloppement d'appareils IoT, puis je d√©crirai comment la plate-forme les g√®re, et √† la fin, tout est ennuyeux: la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vid√©o</a> , la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie technique,</a> et vous pouvez tout toucher en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">direct</a> . </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Table des mati√®res</b> <div class="spoiler_text"><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Probl√®mes IoT</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Probl√®me de main courte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le probl√®me de la tour de Babel</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Probl√®me du syndrome de Stockholm</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Solutions aux probl√®mes</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Communaut√©, toxicomanie, √† la mode, jeunesse.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plus de promesses et d'abstractions.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">P√©riph√©riques IoT virtuels</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Information technique</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Structure d'application ThingJS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Pile technologique</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Caract√©ristiques de l'environnement de d√©veloppement</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Appareils pris en charge</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comparaison avec les concurrents</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©marrage rapide</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Je dois juste regarder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Je veux essayer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Application Blink</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Assemblage depuis la source</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Composition de l'application</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manifest.json</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bloc de composants</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bloc de scripts</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le bloc ¬´n√©cessite¬ª</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blink.js</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Blink.vue</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">scripts / blink.js</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Impl√©mentation de l'interface</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Environnement de d√©veloppement</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©veloppement d'applications</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">D√©veloppement de firmware</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Et ensuite?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Les r√©f√©rences</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">FAQ</a> </li></ul></div></div><br><h1 id="problemy-iot--anchorproblemsanchor">  Probl√®mes IoT: <a name="problems"></a></h1><br><h2 id="--problema-korotkih-ruk-anchorshort-handsanchor">  - Le probl√®me des armes courtes <a name="short-hands"></a></h2><br><p>  L'IoT est bas√© sur un √©cosyst√®me.  Le d√©veloppement de son concept et de son architecture technique demande vraiment beaucoup de travail.  De plus, vous devez encore d√©velopper un tas de micrologiciels pour les appareils h√©t√©rog√®nes.  Inventer et mettre en ≈ìuvre le transport pour l'√©change de donn√©es entre appareils selon diff√©rents principes physiques et logiques.  D√©veloppez les ressources cloud.  √âlaborez des interfaces utilisateur.  Etc.  etc. </p><br><p>  M√™me si un sp√©cialiste individuel a les comp√©tences n√©cessaires pour le faire, il n'a tout simplement pas assez de temps (mains) pour mettre en ≈ìuvre une telle id√©e.  Pendant qu'il le coupera, elle deviendra obsol√®te. </p><br><h2 id="--problema-vavilonskoy-bashni-anchortoweranchor">  - Le probl√®me de la tour de Babel <a name="tower"></a></h2><br><p>  D√©velopper un √©cosyst√®me IoT √† part enti√®re n√©cessite une pile technologique tr√®s large.  √ätre une pile compl√®te dans l'IoT est simple ... difficile.  Besoin d'exp√©rience partout.  Tout le monde ne peut pas se vanter d'un √©ventail aussi large de connaissances et m√™me d'exp√©rience.  Et ici, la question n'est pas dans les capacit√©s mentales.  C'est une conclusion √©vidente du probl√®me de la main-d'≈ìuvre. </p><br><p>  Pour cr√©er un √©cosyst√®me vraiment riche, il faut le travail de nombreux sp√©cialistes assez √©troits, mais avec une connaissance approfondie de leur domaine.  Ces sp√©cialistes parlent diff√©rentes langues, utilisent diff√©rents mod√®les et comprennent souvent les termes √©l√©mentaires de diff√©rentes mani√®res.  Et √©tant donn√© que l'IoT est bas√© sur des appareils aux ressources limit√©es, des communications efficaces sont essentielles √† la r√©alisation de ce qui est pr√©vu. </p><br><h2 id="--problema-stokgolmskogo-sindroma-anchorsindromanchor">  - Le probl√®me du syndrome de Stockholm <a name="sindrom"></a></h2><br><p>  Aujourd'hui, il y a des vendeurs qui d√©veloppent leurs √©cosyst√®mes.  Ce sont Google, Microsoft, Yandex, Megaphone, MTS, etc.  Certains d'entre eux vous permettent d'int√©grer vos propres choses dans leurs √©cosyst√®mes √† leurs conditions.  Cela couvre largement les probl√®mes d√©crits ci-dessus.  Mais cela en cr√©e une nouvelle - la d√©pendance.  Et les vendeurs aiment changer les conditions d'int√©gration.  Et plus encore, il n'est pas question de r√©alisation de soi dans ce paradigme. </p><br><h1 id="resheniya-problem-anchorsolutionsanchor">  Solutions aux probl√®mes: <a name="solutions"></a></h1><br><h2 id="--soobschestvo-zavisimosti-modno-molodezhno-anchorcommunityanchor">  - Communaut√©, toxicomanie, √† la mode, jeunesse <a name="community"></a></h2><br><p>  Les probl√®mes d√©crits ci-dessus bloquent en fait l'acc√®s au d√©veloppement de l'IoT pour les individus.  Le d√©veloppement de la plateforme a √©t√© lanc√© avec la prise de conscience de ces probl√®mes.  Les bases ont √©t√© jet√©es pour le d√©veloppement de la plateforme √† travers la communaut√©. </p><br><p>  Pour impl√©menter cette id√©e, la plate-forme, bien s√ªr, est livr√©e avec une base de code ouverte et poss√®de √©galement un paradigme de d√©pendance sur toutes les couches. </p><br><p>  Si vous ne savez pas ce que sont les d√©pendances, il est temps de les conna√Ætre.  Mais si vous essayez d'expliquer tr√®s simplement, le module que vous d√©veloppez peut d√©pendre d'un autre que votre ami √©crit.  Et vous acc√©derez √† son module via une interface pr√©d√©finie. </p><br><p>  Ainsi, en m√™me temps, ind√©pendamment, de nombreuses personnes peuvent d√©velopper leurs propres composants de plate-forme et r√©utiliser ceux existants d√©velopp√©s par quelqu'un.  Cela r√©sout fondamentalement le probl√®me des mains courtes. </p><br><p><img src="https://habrastorage.org/webt/zt/xk/ok/ztxkokx7yqcgzwymgrq3o-ueah4.png"></p><br><p>  De plus, le probl√®me de la ¬´Tour de Babel¬ª est en train d'√™tre r√©solu.  Les d√©pendances sont construites de sorte que les diff√©rents niveaux de la plateforme, d√©velopp√©s dans diff√©rents langages, disposent d'un m√©canisme pr√©d√©termin√© pour cr√©er des d√©pendances entre eux. </p><br><p>  Par exemple, un d√©veloppeur C peut tirer parti d'un composant frontal pr√™t √† l'emploi en lui fournissant l'interface requise.  Ou, au contraire, le d√©veloppeur frontal peut utiliser un composant pr√™t √† l'emploi √©crit en C. C'est-√†-dire  chacun fera ce qu'il sait le mieux. </p><br><h2 id="--bolshe-obeschaniy-i-abstrakciy-anchorpromisesanchor">  - Plus de promesses et d'abstractions <a name="promises"></a></h2><br><p>  Le protocole de communication entre les appareils n'est pas d√©fini.  Au lieu de cela, il y a une abstraction - un bus de donn√©es.  L'appareil peut envoyer un √©v√©nement au bus ou √©couter le bus.  On ne sait pas qui √©crit dans le bus et qui re√ßoit √† l'avance.  Et quand aussi.  L'√©change et la livraison de donn√©es asynchrones ne sont pas garantis.  En g√©n√©ral - l'enfer.  Pas de panique.  Ainsi con√ßu. </p><br><p>  Le fait est que l'√©cosyst√®me est un groupe d'appareils s√©par√©s et autosuffisants.  √Ä tout moment, certains appareils peuvent ne pas √™tre disponibles.  Pour diverses raisons.  Arr√™ter l'activit√© d'autres appareils si une pi√®ce n'est pas disponible n'est pas le meilleur sc√©nario.  Il faut l√©galiser ce qui ne peut √™tre √©vit√©. </p><br><p>  La plateforme met en ≈ìuvre le paradigme des promesses de fournir des √©v√©nements.  Le premier appareil souscrit √† la promesse du second de lui donner des informations.  Mais il n'y a aucune garantie.  L'abonn√© doit d√©cider quoi faire en cas de transmission intempestive de donn√©es. </p><br><p>  Le probl√®me de la communication synchrone est r√©solu par la transmission d'√©v√©nements via le bus avec des liaisons vers des canaux synchrones.  Le protocole de canal synchrone est d√©termin√© par le type d'√©v√©nement lui-m√™me.  Par exemple, vous pouvez envoyer un √©v√©nement avec le type "do-render-video-stream" et comment envoyer des cam√©ras IP WEB en tant que charge utile.  Ainsi, le destinataire saura que vous devez lire le flux vid√©o √† partir de l'adresse sp√©cifi√©e. </p><br><p><img src="https://habrastorage.org/webt/3s/th/vn/3sthvnlojthoq_gh9uqirnbqedg.png"></p><br><p>  Mais comment fonctionne physiquement le bus?  La mise en ≈ìuvre du bus incombe √† la communaut√©.  Le pneu se dilate avec le transport que votre projet n√©cessite.  Par exemple, un √©v√©nement est re√ßu via http et relay√© via UART.  Pour tous les √©l√©ments de l'√©cosyst√®me, rien ne changera ext√©rieurement. </p><br><h1 id="--virtualnye-iot-ustroystva-anchorvirtualanchor">  - P√©riph√©riques IoT virtuels <a name="virtual"></a></h1><br><p>  Pour ThingJS, une chose n'est pas seulement une chose physique, mais aussi une application sp√©ciale - une chose virtuelle.  De plus, une chose physique peut contenir plusieurs choses virtuelles (applications) qui utilisent les ressources d'une chose physique. </p><br><p>  Cette approche vous permet d'unifier l'interaction entre le backend conditionnel (contr√¥leur / serveur / cloud, etc.) et le frontend (navigateur, application, etc.), ainsi que b2b et m√™me f2f.  Construisez une matrice, pas une hi√©rarchie d'interactions. </p><br><p><img src="https://habrastorage.org/webt/-l/vg/bd/-lvgbdkme-d81bzhaqpqjwhcnly.png"></p><br><p>  Un exemple simple serait une cam√©ra WEB, qui en soi a une chose virtuelle - une interface utilisateur.  Lorsque l'utilisateur acc√®de √† l'adresse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://192.168.4.1</a> , la page WEB s'ouvre, o√π la chose virtuelle commence √† ¬´vivre¬ª.  La cam√©ra (chose physique) et la page (chose virtuelle) deviennent automatiquement un √©cosyst√®me o√π un bus de donn√©es unifi√© est disponible.  √Ä travers elle, la chose virtuelle communique avec le physique.  Dans ce cas: la chose physique indique √† la chose virtuelle via le bus l'adresse du flux vid√©o, son √©tat, etc., et la virtuelle montre √† l'utilisateur la vid√©o et donne les commandes n√©cessaires √† la chose physique. </p><br><p>  La suite logique est la possibilit√© d'h√©berger des objets virtuels dans les nuages ‚Äã‚Äãet de les inclure dans un √©cosyst√®me commun.  Et cela, √† son tour, vous permet de cr√©er des p√©riph√©riques virtuels avec d'√©normes ressources qui r√©solvent des probl√®mes, par exemple, disponibles pour l'IA. </p><br><p>  Vous pouvez cr√©er ces appareils vous-m√™me ou utiliser ceux d√©j√† cr√©√©s.  Le syndrome de Stockholm est vaincu.  Vous d√©terminez vous-m√™me de quoi d√©pend votre projet et comment vous le d√©velopperez. </p><br><h1 id="tehnicheskaya-informaciya-anchortech-infoanchor">  Information technique <a name="tech-info"></a></h1><br><h2 id="struktura-prilozheniya-thingjs-anchorapp-structanchor">  Structure d'application ThingJS <a name="app-struct"></a></h2><br><p><img src="https://habrastorage.org/webt/sz/-w/ul/sz-wuldlbfp7z2kcc1vgrqov_ta.png"></p><br><h2 id="stek-tehnologiy-anchortech-stackanchor">  Pile technologique <a name="tech-stack"></a></h2><br><p>  La plate-forme mat√©rielle s√©lectionn√©e est le contr√¥leur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ESP32</a> .  La plateforme a √©t√© con√ßue comme ind√©pendante du mat√©riel.  Mais, malheureusement, il n'y avait pas de temps pour partitionner sur d'autres appareils. </p><br><p>  Pour le d√©veloppement du firmware, les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outils Espressif</a> recommand√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sont utilis√©s</a> .  Le firmware est d√©velopp√© en C. Le collecteur cmake.  Le projet utilise le concept de composant, √©galement promu par Espressif. </p><br><p>  En plus de esp-idf, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mongoose WEB Server est utilis√©</a> , ainsi qu'un interpr√©teur JavaScript Mongoose <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mJS modifi√©</a> . </p><br><p>  Pour le d√©veloppement d'applications, JavaScript est utilis√© avec le framework VUE 2. Cr√©ez des applications √† l'aide de webpack.  Le gestionnaire de packages est npm.  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CLI VUE a √©t√©</a> utilis√©e comme base pour l'environnement de d√©veloppement. </p><br><p>  Afin de standardiser la visualisation des applications et de soulager la cr√©ativit√© de l'interface utilisateur, le package <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vuetifyjs</a> est inclus dans la plateforme. </p><br><h2 id="vozmozhnosti-sredy-razrabotki-anchordev-skilsanchor">  Caract√©ristiques de l'environnement de d√©veloppement <a name="dev-skils"></a></h2><br><p>  Pour les d√©veloppeurs JavaScript (objets virtuels): </p><br><ul><li>  IDE recommand√© - WEBStorm; </li><li>  Tous les b√©n√©fices que VUE CLI et IDE donnent; </li><li>  D√©bogage intra-syst√®me des applications (d√©bogueur mJS sur le contr√¥leur); </li><li>  MJS impl√©mente la commande debugger, qui vous permet d'appeler le d√©bogueur √† un endroit arbitraire; </li><li>  T√©l√©chargement √† chaud de fichiers mis √† jour sur le contr√¥leur pendant le d√©veloppement (les d√©veloppeurs JavaScript ne peuvent d√©j√† pas vivre sans cette fonctionnalit√©); </li><li>  Le d√©veloppement du runtime est associ√© √† un vrai contr√¥leur.  Vous programmez et, l√†, vous voyez le r√©sultat sur le mat√©riel; </li><li>  ESLint configur√© pour comprendre les objets de la plateforme. </li></ul><br><p>  Pour les d√©veloppeurs C (choses physiques): </p><br><ul><li>  IDE recommand√© - CLion; </li><li>  Tous les b√©n√©fices esp-idf et IDE; </li><li>  La plateforme est divis√©e en composants dans le cadre du concept esp-idf; </li><li>  Int√©gration facile avec la plate-forme de composants natifs. </li></ul><br><h2 id="podderzhivaemye-ustroystva-anchorhw-supportedanchor">  Appareils pris en charge <a name="hw-supported"></a></h2><br><p>  Seul ESP32 est actuellement pris en charge.  La puce est populaire en raison de sa disponibilit√© avec des caract√©ristiques techniques √©tonnantes.  Sur cette base, de nombreux appareils IoT pr√™ts √† l'emploi ont √©t√© cr√©√©s et peuvent √™tre utilis√©s sous ThingJS. </p><br><h2 id="sravnenie-s-konkurentami-anchorvs-otheranchor">  Comparaison avec les concurrents <a name="vs-other"></a></h2><br><p>  Je sugg√®re de ne pas courir aussi loin.  Je n'ose pas appeler des concurrents de plateformes commerciales.  Et l'open source appara√Æt et dispara√Æt sans laisser de trace notable.  Par cons√©quent, je n'ai pas fait de comparaison.  Cependant, si quelqu'un a un d√©sir, je suis pr√™t √† publier le r√©sultat de son travail ici. </p><br><h1 id="bystryy-start-anchorget-startedanchor">  D√©marrage rapide <a name="get-started"></a></h1><br><h2 id="mne-tolko-posmotret-anchorvideoanchor">  Je dois juste regarder <a name="video"></a></h2><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dhPIAL2N0MQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2 id="hochu-poprobovat-anchortouch-itanchor">  Je veux essayer <a name="touch-it"></a></h2><br><p>  Afin d'essayer la plate-forme sur du mat√©riel r√©el, vous aurez besoin de tout appareil bas√© sur ESP32 avec flash 4 Mo et de la possibilit√© de le flasher via USB.  Mais la carte m√®re ESP32 v2 est la mieux adapt√©e. </p><br><p><img src="https://habrastorage.org/webt/ik/qw/jy/ikqwjyhkejf5t5kwdmbn20lq1ko.png"></p><br><p>  Vous pouvez acheter de telles choses sans aucun probl√®me sur Aliexpress ou Ebay.  De plus, il existe m√™me des bureaux de repr√©sentation en Russie.  J'ach√®te personnellement √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Saint-P√©tersbourg</a> . </p><br><p>  Afin de tester le fonctionnement de l'application de test ¬´Blink¬ª, vous devez connecter une LED.  Certaines versions des cartes ont une LED pr√©install√©e connect√©e √† GPIO2.  Si vous avez un tel tableau, vous ne pouvez rien faire.  Le clignotement devrait fonctionner sans mouvements inutiles.  Si vous n'avez qu'une seule diode (alimentation), vous devrez connecter la diode indicatrice vous-m√™me.  Ce n'est rien de compliqu√©. </p><br><p>  Vous aurez besoin de tout indicateur LED et r√©sistance de 1 √† 5K. </p><br><p><img src="https://habrastorage.org/webt/ey/vg/e7/eyvge7dfugct2jtk2u2rq8wkpqs.png"></p><br><p>  La seule chose qui reste est de d√©ployer le package utilisateur sur l'appareil.  Vous pouvez le prendre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Les instructions de d√©ploiement s'y trouvent. </p><br><h2 id="blink-prilozhenie-anchorblinkanchor">  Application Blink <a name="blink"></a></h2><br><h3 id="sborka-iz-ishodnikov-anchorblink-bouldanchor">  Assemblage depuis la source <a name="blink-bould"></a></h3><br><p>  Blink est un √©cosyst√®me simple compos√© d'un appareil virtuel qui impl√©mente l'interface utilisateur et d'un physique.  Un appareil virtuel d√©marre √† partir d'un appareil physique lorsqu'il y acc√®de via un navigateur. </p><br><p>  Le script est simple.  Lors de l'installation de l'application sur un appareil physique, la LED (pr√©c√©demment connect√©e √† celui-ci) commence √† clignoter √† une fr√©quence de 1 Hz.  L'utilisateur peut activer ou d√©sactiver le clignotement de la diode depuis l'interface.  Vous pouvez regarder la vid√©o dans la section "Je ne peux que regarder" </p><br><p>  Les sources se trouvent dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le r√©f√©rentiel</a> src / applications / blink.  Pour collecter des clignements et jouer avec, vous n'avez besoin que de ce d√©p√¥t.  Assurez-vous que git, npm et nodejs sont d√©j√† install√©s. </p><br><pre><code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --branch alpha https://github.com/rpiontik/ThingJS-front <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ThingJS-front npm install npm run build</code> </pre> <br><p>  Si tout s'est bien pass√©, vous vous retrouverez avec quelque chose comme ceci: </p><br><p><img src="https://habrastorage.org/webt/7b/a-/n8/7ba-n8_6y8hng41irp6jttozxks.png"></p><br><p>  F√©licitations!  Vous avez cr√©√© votre premi√®re application ThingJS.  Vous pouvez le trouver dans le dossier dist / apps / blink et essayer imm√©diatement de l'installer sur l'appareil, guid√© par la vid√©o de la section <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Je ne peux que regarder"</a> . </p><br><h3 id="sostav-prilozheniya-anchorblink-containsanchor">  Composition de l'application <a name="blink-contains"></a></h3><br><div class="scrollable-table"><table><tbody><tr><th>  Fichier </th><th>  La description </th></tr><tr><td>  scripts / blink.js </td><td>  Le script install√© sur le contr√¥leur </td></tr><tr><td>  blink.js </td><td>  Point de montage du composant d'application </td></tr><tr><td>  Blink.vue </td><td>  Composant VUE qui impl√©mente l'interface utilisateur </td></tr><tr><td>  favicon.svg </td><td>  Ic√¥ne d'application </td></tr><tr><td>  langs.js </td><td>  Pack de langue d'application </td></tr><tr><td>  manifest.json </td><td>  Manifeste d'application </td></tr></tbody></table></div><br><p>  Vous pouvez vous familiariser avec tous les d√©tails de l'application.  Je vais me concentrer sur plusieurs fichiers. </p><br><h3 id="manifestjson-anchorblink-manifestanchor">  manifest.json <a name="blink-manifest"></a></h3><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Blink"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"vendor"</span></span> : <span class="hljs-string"><span class="hljs-string">"rpiontik"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"subversion"</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"patch"</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"ru"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"en"</span></span>: <span class="hljs-string"><span class="hljs-string">"Blink Example"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"components"</span></span>: {...}, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {...}, <span class="hljs-attr"><span class="hljs-attr">"requires"</span></span> : {...} }</code> </pre> <br><p>  Comme le nom du fichier l'indique, il s'agit du manifeste d'application.  Il contient des m√©tadonn√©es g√©n√©rales sur le but dont il est facile de deviner.  En plus d'eux, il y a trois blocs importants.  Examinons-les de pr√®s: </p><br><h4 id="blok-components-anchorblink-manifest-componentsanchor">  Bloc de composants <a name="blink-manifest-components"></a></h4><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"components"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"blink-app"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"source"</span></span>: <span class="hljs-string"><span class="hljs-string">"blink.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"intent_filter"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"action"</span></span>: <span class="hljs-string"><span class="hljs-string">"thingjs.intent.action.MAIN"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"category"</span></span>: <span class="hljs-string"><span class="hljs-string">"thingjs.intent.category.LAUNCH"</span></span> } ] } }</code> </pre> <br><p>  Le bloc d√©crit la base compl√®te des composants de l'application.  Le champ ¬´source¬ª pointe vers le point de montage du composant (voir blink.js) et est le point d'entr√©e de l'assemblage pour webpack ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">entr√©e</a> ).  Ainsi, chaque composant sera √©mis dans un bundle s√©par√©.  Ce bundle se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chargera</a> au besoin ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">chargement paresseux</a> ). </p><br><p>  Une structure importante est l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">intention_filter</a> .  S'il vous arrive de programmer pour Android, vous trouverez quelque chose de familier.  Et ne vous trompez pas.  Le syst√®me g√©n√®re des √©v√©nements d'interface et de service auxquels le composant est abonn√©.  Si un √©v√©nement se produit qui satisfait aux conditions de filtrage, le composant sera charg√© et le contr√¥le sera transf√©r√© au point de montage. </p><br><p>  Dans ce cas, le composant ¬´blink-app¬ª est abonn√© √† l'√©v√©nement de lancement du composant d'interface principal de l'application.  Lorsque le lanceur d√©marre l'application, ce composant sera introduit. </p><br><p>  Si vous modifiez le manifeste en changeant la ligne </p><br><p> <code>thingjs.intent.category.LAUNCH &gt;&gt; thingjs.intent.category.PREFERENCE</code> </p> <br><p>  , puis apr√®s son assemblage et son installation, il s'av√®re que l'application a cess√© de s'ouvrir sur le bureau.  Mais une nouvelle ¬´tuile¬ª est apparue dans la section ¬´Param√®tres¬ª.  En m√™me temps, rien n'a chang√© fonctionnellement. </p><br><p>  Ainsi, nous avons indiqu√© au lanceur que ce composant est un √©l√©ment d'interface pour personnaliser notre application.  Et ce composant a commenc√© √† appara√Ætre dans les param√®tres. </p><br><h4 id="blok-scripts-anchorblink-manifest-scriptsanchor">  Bloc de scripts <a name="blink-manifest-scripts"></a></h4><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"entry"</span></span>: <span class="hljs-string"><span class="hljs-string">"blink"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"subscriptions"</span></span> : [<span class="hljs-string"><span class="hljs-string">"$-script-restart"</span></span>, <span class="hljs-string"><span class="hljs-string">"blink"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"modules"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"blink"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hot_reload"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"source"</span></span>: <span class="hljs-string"><span class="hljs-string">"scripts/blink.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"optimize"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span> } } }</code> </pre> <br><p>  Ce bloc est similaire en fonction au bloc ¬´composants¬ª, mais il d√©crit la base des composants d'application c√¥t√© contr√¥leur. </p><br><p>  Il indique clairement le point d'entr√©e.  Dans le champ ¬´entr√©e¬ª.  S√©par√©ment, je ferai attention lors de l'installation de l'application, le script ne d√©marre pas imm√©diatement.  Il n'est lanc√© que lorsqu'un des √©v√©nements auxquels le script est abonn√© se produit. </p><br><p>  Le champ ¬´abonnements¬ª est responsable des abonnements.  Maintenant, il indique deux √©v√©nements: </p><br><ul><li>  <strong>$ -script-restart</strong> - se produit lorsque le syst√®me d√©marre ou red√©marre; </li><li>  <strong>blink</strong> est un √©v√©nement personnalis√© qui est pertinent pour l'√©cosyst√®me blink. </li></ul><br><p>  Dans le bloc ¬´modules¬ª, la description des scripts suit.  Je noterai deux champs: </p><br><ul><li>  <strong>hot_reload</strong> - si ce champ est d√©fini sur true, puis lorsqu'un fichier est modifi√© en mode d√©veloppement, il sera automatiquement t√©l√©charg√© sur le contr√¥leur (rechargement √† chaud); </li><li>  <strong>Optimiser</strong> - si vrai, alors lors de la construction du projet, le script sera optimis√© et agr√©g√©. </li></ul><br><h4 id="blok-requires-anchorblink-manifest-requiresanchor">  Le bloc ¬´n√©cessite¬ª <a name="blink-manifest-requires"></a></h4><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"requires"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"interfaces"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"blink"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"type"</span></span> : <span class="hljs-string"><span class="hljs-string">"bit_port"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"required"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"default"</span></span> : <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span> : { <span class="hljs-attr"><span class="hljs-attr">"ru"</span></span> : <span class="hljs-string"><span class="hljs-string">"LED "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"en"</span></span> : <span class="hljs-string"><span class="hljs-string">"LED indicator"</span></span> } } } }</code> </pre> <br><p>  Vous avez probablement d√©j√† remarqu√© que lors de l'installation de l'application, vous devez s√©lectionner la broche sur laquelle la LED clignotera.  Cependant, par d√©faut, il est d√©j√† s√©lectionn√© comme GPIO2.  Ce bloc est responsable de ces param√®tres. </p><br><p>  Dans ce bloc, les d√©pendances sont indiqu√©es.  Dans ce cas, pour que l'application fonctionne, elle doit fournir une interface de type ¬´bit_port¬ª.  Cette interface est une exigence requise (required = true) et par d√©faut, GPIO2 est sp√©cifi√© (default = 2).  Il sera projet√© dans le script avec le nom ¬´clignotement¬ª. </p><br><p>  Lors de l'installation de l'application, le profil de l'√©quipement sur lequel les scripts seront d√©ploy√©s est pris en compte.  Ce profil r√©pertorie les interfaces disponibles et les ressources mat√©rielles disponibles pour elles (en particulier, les broches et leurs combinaisons).  V√©rifie la compatibilit√© des exigences et des √©quipements.  Si l'√©quipement peut satisfaire aux exigences de l'application, un sch√©ma d'allocation des ressources est pr√©sent√© √† l'utilisateur, dans lequel les ressources primaires sont allou√©es automatiquement, en tenant compte des recommandations du manifeste.  C'est-√†-dire  √† partir de ce m√™me champ "par d√©faut". </p><br><p>  Ainsi, plusieurs applications peuvent √™tre install√©es sur un m√™me appareil, qui peuvent partager des ressources mat√©rielles entre elles. </p><br><h3 id="blinkjs-anchorblink-blink-jsanchor">  blink.js <a name="blink-blink-js"></a></h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Blink.vue'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Langs <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./langs'</span></span>; $includeLang(Langs); $exportComponent(<span class="hljs-string"><span class="hljs-string">'blink-app'</span></span>, App);</code> </pre> <br><p>  Le fichier est le point de montage du composant annonc√© dans le manifeste (voir manifest.js / components). Il enregistre le composant VUE 'blink-app' via la m√©thode d'abstraction $ exportComponent, et enregistre √©galement le module linguistique. </p><br><p>  Vous pouvez demander - pourquoi de telles difficult√©s?  Pourquoi ne pas enregistrer imm√©diatement le composant VUE que vous sp√©cifiez dans la source?  Le fait est que le manifeste d√©crit les composants publics.  Ces composants peuvent √™tre demand√©s par des applications tierces (d√©pendances d'ex√©cution).  Le point de montage, √† son tour, peut enregistrer des composants associ√©s (pour un usage interne), ainsi que des services.  Autrement dit, pr√©parez l'environnement des composants. </p><br><h3 id="blinkvue-anchorblink-blink-vueanchor">  Blink.vue <a name="blink-blink-vue"></a></h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Blink'</span></span>, <span class="hljs-attr"><span class="hljs-attr">watch</span></span>: { blink_state (state) { <span class="hljs-comment"><span class="hljs-comment">// Send event to script this.$bus.$emit($consts.EVENTS.UBUS_MESSAGE, 'blink', state); } }, data () { return { blink_state: true }; } };</span></span></code> </pre> <br><p>  Le code parle de lui-m√™me.  Lorsque la propri√©t√© ¬´blink_state¬ª est modifi√©e, un message est envoy√© au bus ($ bus) avec la valeur actuelle.  C'est tout ce que vous devez faire pour que le script c√¥t√© contr√¥leur re√ßoive la commande souhait√©e. </p><br><h3 id="scriptsblinkjs-anchorblink-script-blink-jsanchor">  scripts / blink.js <a name="blink-script-blink-js"></a></h3><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> active = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> state = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Set port direction $res.blink.direction($res.blink.DIR_MODE_DEF_OUTPUT); // Run background process setInterval(function () { if (active) { // $res - is container with required resources $res.blink.set(state); // Do invert state = !state; } }, 1000); // Event listener // $bus - system bus interface $bus.on(function (event, content, data) { if (event === 'blink') { active = !!JSON.parse(content); } }, null);</span></span></code> </pre> <br><p>  En g√©n√©ral, le code est tr√®s similaire √† l'utilisation classique d'une minuterie en JavaScript.  Sauf que ce n'est pas dans ce dialecte de JavaScript.  Il est impl√©ment√© dans la plateforme.  Rencontrez ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mJS</a> .  Vous pouvez en savoir plus sur la page officielle du projet. </p><br><p>  Pour les besoins de la plateforme, le dialecte est finalis√©.  Des minuteries ont √©t√© introduites, ainsi qu'une commande aussi utile que ¬´d√©bogueur¬ª.  Eh bien, le d√©bogueur lui-m√™me.  Plus d'informations √† ce sujet s√©par√©ment dans la section <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Environnement de d√©veloppement"</a> . </p><br><p>  Faites attention aux objets globaux de la plateforme.  Ils sont nomm√©s avec le caract√®re ¬´$¬ª. </p><br><ul><li>  <strong>$ res</strong> - contient les ressources allou√©es au script; </li><li>  <strong>$ bus</strong> - interface de <strong>bus</strong> . </li></ul><br><p>  Parce que  l'application a demand√© une interface avec le type "bit_port" (voir profile.json / requires) et le nom "blink", elle lui a √©t√© donn√©e comme $ res.blink.  L'interface impl√©mente seulement trois fonctions: </p><br><ul><li>  <strong>set (value)</strong> - d√©finit le niveau GPIO </li><li>  <strong>get ()</strong> - r√©cup√®re le niveau GPIO actuel </li><li>  <strong>direction (valeur)</strong> - d√©finir le mode GPIO </li></ul><br><p>  Pour la fonction direction, les constantes disponibles sont d√©crites via la m√™me interface $ res.blink.: DIR_MODE_DISABLE;  DIR_MODE_DEF_INPUT;  DIR_MODE_DEF_OUTPUT;  DIR_MODE_INPUT_OUTPUT_OD;  DIR_MODE_INPUT_OUTPUT. </p><br><p>  L'abonnement aux √©v√©nements de bus se fait via la m√©thode $ bus.on.  Dans ce cas, tous les √©v√©nements auxquels le script est abonn√© reviendront au gestionnaire.  Le gestionnaire accepte trois param√®tres: </p><br><ul><li>  <strong>√©v√©nement</strong> - identifiant d' <strong>√©v√©nement</strong> .  Dans ce cas, seuls deux sont possibles: ¬´$ -script-restart¬ª et ¬´blink¬ª.  Dont un seul est trait√© - clignotement.  L'abonnement au second n'est n√©cessaire que pour que le script soit lanc√© imm√©diatement au d√©marrage du syst√®me. </li><li>  <strong>contenu</strong> - des donn√©es peuvent accompagner l'√©v√©nement.  Leur taille est limit√©e √† 126 octets, compte tenu de la longueur de l'identifiant d'√©v√©nement. </li><li>  <strong>donn√©es</strong> - donn√©es transmises lors de la souscription √† l'√©v√©nement en tant que deuxi√®me param√®tre.  Et dans ce cas, ils sont nuls. </li></ul><br><p>  Les interfaces sont extensibles.  Vous trouverez ci-dessous une description de la fa√ßon de cr√©er votre propre interface. </p><br><h2 id="realizaciya-interfeysa-anchorintefacesanchor">  Impl√©mentation de l'interface <a name="intefaces"></a></h2><br><p>  ThingJS vous permet d'√©tendre les ressources mat√©rielles et de service disponibles via des interfaces sp√©ciales.  Vous pouvez cr√©er ind√©pendamment une interface qui impl√©mentera tout complexe, pr√©cis, charg√©, etc.  fonctionnel. </p><br><p>  Par exemple, vous pouvez impl√©menter une interface d'int√©gration avec votre service cloud.  Ou un arri√®re-plan, processus asynchrone avec lequel le script pourra √©changer des messages.  Eh bien, ou impl√©mentez le support d'affichage.  Il sera √©galement facile √† r√©aliser et √† utiliser.  Vous et les autres.  Certes, pour cela, vous devez savoir C. </p><br><p>  Consid√©rez l'impl√©mentation de l'interface bit_port, qui est utilis√©e dans l'exemple Blink.  Pour commencer, vous devez d√©ployer le projet de version alpha du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mod√®le ThingJS</a> .  La documentation de d√©ploiement se trouve dans le projet lui-m√™me. </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --branch alpha https://github.com/rpiontik/ThingJS-template</code> </pre> <br><p>  Le projet comprend des √©l√©ments: </p><br><ul><li>  <strong>ThingJS-boards</strong> - contient des configurations d'appareils.  Jusqu'√† pr√©sent, seulement ESP32_CORE_BOARD V2 et compatible; </li><li>  <strong>ThingJS-extern</strong> - biblioth√®ques de projets tiers que ThingJS utilise; </li><li>  <strong>ThingJS-core</strong> - noyau de plate-forme; </li><li>  <strong>ThingJS-front</strong> - environnement de d√©veloppement d'applications; </li><li>  <strong>ThingJS-stdi</strong> - interfaces standard. </li></ul><br><p>  Nous sommes int√©ress√©s par le projet ThingJS-stdi.  Sa structure est la suivante: </p><br><div class="scrollable-table"><table><tbody><tr><th>  Fichier </th><th>  La description </th></tr><tr><td>  impl√©mentation / tgsi_bit_port.c </td><td>  Impl√©mentation de l'interface Bit_port </td></tr><tr><td>  impl√©mentation / tgsi_bit_port.h </td><td>  Fichier d'en-t√™te d'interface Bit_pro </td></tr><tr><td>  CMakeLists.txt </td><td>  script de construction cmake </td></tr><tr><td>  README.md </td><td></td></tr><tr><td>  sdti_utils.h </td><td>  Aides </td></tr><tr><td>  thingjs_stdi.c </td><td>  Point de montage d'interface </td></tr><tr><td>  thingjs_stdi.h </td><td>  Fichier d'en-t√™te de point de montage </td></tr></tbody></table></div><br><p>  En fait, nous ne sommes int√©ress√©s que par un seul fichier - implementation / tgsi_bit_port.c.  Il contient tout ce qui n√©cessite une explication distincte. </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thingjsBitPortRegister</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> thingjs_bit_port_cases[] = DEF_CASES( DEF_CASE(GPIO0), DEF_CASE(GPIO2), DEF_CASE(GPIO3), DEF_CASE(GPIO4), DEF_CASE(GPIO5), DEF_CASE(GPIO12), DEF_CASE(GPIO13), DEF_CASE(GPIO14), DEF_CASE(GPIO15), DEF_CASE(GPIO16), DEF_CASE(GPIO17), DEF_CASE(GPIO18), DEF_CASE(GPIO19), DEF_CASE(GPIO21), DEF_CASE(GPIO22), DEF_CASE(GPIO23), DEF_CASE(GPIO25), DEF_CASE(GPIO26), DEF_CASE(GPIO27), DEF_CASE(GPIO32), DEF_CASE(GPIO33) ); <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">st_thingjs_interface_manifest</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">interface</span></span></span><span class="hljs-class"> = {</span></span> .type = <span class="hljs-string"><span class="hljs-string">"bit_port"</span></span>, .constructor = thingjsBitPortConstructor, .cases = thingjs_bit_port_cases }; thingjsRegisterInterface(&amp;interface); }</code> </pre> <br><p>  La fonction thingjsBitPortRegister enregistre un composant dans le noyau ThingJS.  Pour ce faire, il appelle la fonction thingjsRegisterInterface, √† laquelle il transmet une structure avec une description d'interface. </p><br><ul><li>  <strong>type</strong> - identifiant d'interface.  C'est lui qui est sp√©cifi√© comme type dans le fichier manifest.json de l'application; </li><li>  <strong>constructeur</strong> - lien vers le constructeur de l'interface.  La fonction est appel√©e chaque fois que vous devez cr√©er une nouvelle instance de l'interface; </li><li>  <strong>cases</strong> est un tableau d√©crivant les ressources mat√©rielles possibles que l'interface peut utiliser pour son travail.  Dans ce cas, il s'agit de GPIO uniques.  Mais leurs combinaisons ou d√©pendances peuvent √™tre d√©crites s√©par√©ment. </li></ul><br><p>  Le constructeur d'interface monte l'interface dans la machine mJS. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">mjs_val_t</span></span> thingjsBitPortConstructor(struct mjs *mjs, cJSON *params) { <span class="hljs-comment"><span class="hljs-comment">//Validate preset params //The params must have pin number if (!cJSON_IsNumber(params)) return MJS_UNDEFINED; //Get pin number gpio_num_t gpio = params-&gt;valueint; //Create mjs object mjs_val_t interface = mjs_mk_object(mjs); /* Configure the IOMUX register for pad BLINK_GPIO (some pads are muxed to GPIO on reset already, but some default to other functions and need to be switched to GPIO. Consult the Technical Reference for a list of pads and their default functions.) */ gpio_pad_select_gpio(gpio); //Add protected property to interface mjs_set(mjs, interface, "gpio", ~0, mjs_mk_number(mjs, gpio)); //Set protected flag mjs_set_protected(mjs, interface, "gpio", ~0, true); //Bind functions mjs_set(mjs, interface, "set", ~0, mjs_mk_foreign_func(mjs, (mjs_func_ptr_t) thingjsBitPortSet)); mjs_set(mjs, interface, "get", ~0, mjs_mk_foreign_func(mjs, (mjs_func_ptr_t) thingjsBitPortGet)); mjs_set(mjs, interface, "direction", ~0, mjs_mk_foreign_func(mjs, (mjs_func_ptr_t) thingjsBitPortDirection)); //Consts mjs_set(mjs, interface, "DIR_MODE_DISABLE", ~0, mjs_mk_number(mjs, GPIO_MODE_DISABLE)); mjs_set(mjs, interface, "DIR_MODE_DEF_INPUT", ~0, mjs_mk_number(mjs, GPIO_MODE_DEF_INPUT)); mjs_set(mjs, interface, "DIR_MODE_DEF_OUTPUT", ~0, mjs_mk_number(mjs, GPIO_MODE_DEF_OUTPUT)); mjs_set(mjs, interface, "DIR_MODE_INPUT_OUTPUT_OD", ~0, mjs_mk_number(mjs, GPIO_MODE_INPUT_OUTPUT_OD)); mjs_set(mjs, interface, "DIR_MODE_INPUT_OUTPUT", ~0, mjs_mk_number(mjs, GPIO_MODE_INPUT_OUTPUT)); //Return mJS interface object return interface; }</span></span></code> </pre> <br><p>  Comment les param√®tres sont pass√©s: </p><br><ul><li>  <strong>mjs</strong> - contexte d'ex√©cution global; </li><li>  <strong>params</strong> - param√®tres d'initialisation de l'interface.  Dans ce cas, il s'agit du num√©ro GPIO. </li></ul><br><p>  Un objet ¬´interface¬ª mJS est cr√©√©, o√π les m√©thodes et propri√©t√©s de l'interface sont mont√©es: </p><br><ul><li>  <strong>gpio</strong> - propri√©t√© en lecture seule dans laquelle le nombre de GPIO utilis√©s est stock√©; </li><li>  <strong>set</strong> - m√©thode pour r√©gler le niveau du signal; </li><li>  <strong>get</strong> - une m√©thode pour obtenir le niveau de signal actuel; </li><li>  <strong>direction</strong> - r√©glage du mode GPIO; </li></ul><br><p>  De plus, des constantes sont mont√©es avec lesquelles les scripts peuvent fonctionner (DIR_MODE_DISABLE, DIR_MODE_DEF_INPUT, etc.). </p><br><p>  Apr√®s avoir cr√©√© l'interface, elle est mont√©e sous un identifiant sp√©cifique (dans l'exemple Blink c'est ¬´blink¬ª) dans l'objet global $ res.  Un exemple d'utilisation peut √™tre trouv√© dans la section Blink ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">scripts / blink.js</a> ). </p><br><p>  Vous pouvez formater les interfaces en composants ou packages distincts.  Cela vous permettra d'assembler le firmware en lego. </p><br><h1 id="sreda-razrabotki-anchordevanchor">  Environnement de d√©veloppement <a name="dev"></a></h1><br><h2 id="razrabotka-prilozheniy-anchordev-appanchor">  D√©veloppement d'applications <a name="dev-app"></a></h2><br><p>  L'environnement de d√©veloppement d'applications est bas√© sur la VUE CLI, qui a √©t√© affin√©e pour r√©pondre aux besoins de la plateforme ThingJS.  Ceci est une fourche dure, incl.  les nouvelles fonctionnalit√©s de VUE CLI valent la peine d'attendre si elles facilitent directement la vie. </p><br><p>  Pour d√©ployer l'environnement, vous devez cloner le projet de version alpha de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ThingJS-front</a> .  Assurez-vous que git, npm et nodejs sont d√©j√† install√©s. </p><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --branch alpha https://github.com/rpiontik/ThingJS-front <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ThingJS-front npm install</code> </pre> <br><p>  Lors du d√©veloppement, je recommande d'utiliser l'IDE WEBStorm. </p><br><p>  La composition et la structure du projet h√©ritent de VUE CLI.  Je vais refl√©ter des diff√©rences importantes: </p><br><ol><li>  Scripts de build retravaill√©s dans le dossier de build. </li><li>  Une variable d'environnement ¬´HW_DEVICE_URL¬ª a √©t√© ajout√©e √† la configuration de l'environnement de d√©veloppement (config / dev.env.js).  Il est n√©cessaire de sp√©cifier un lien vers le p√©riph√©rique physique avec lequel vous travaillerez. </li><li>  Le dossier syst√®me src / applications est apparu.  Il contient des applications qui seront construites automatiquement.  En particulier, il contient deux applications: ante (lanceur) et blink (application). </li><li>  Tout ce qui se trouve au-dessus du dossier src / applications est consid√©r√© comme des modules et des ressources de plate-forme.  Bien s√ªr, vous pouvez y apporter des modifications, mais dans ce cas, elles n'appara√Ætront dans le contr√¥leur qu'apr√®s le clignotement.  T.ch.  √Ä moins que vous ne vous fixiez des objectifs sp√©cifiques, il vaut mieux ne pas les toucher. </li></ol><br><p>  Pour les tests, vous pouvez imm√©diatement d√©marrer le serveur de d√©veloppement.  Bien que vous ne puissiez pas d√©velopper compl√®tement sans le mat√©riel physique, cela n'interf√®re pas avec le d√©veloppement de l'interface.  Et donc, le serveur de d√©veloppement d√©marre: </p><br><pre> <code class="bash hljs">npm run dev</code> </pre> <br><p>  Le r√©sultat devrait √™tre quelque chose comme ceci: </p><br><p><img src="https://habrastorage.org/webt/c2/ku/if/c2kuifxxfz1ppogv-_50rp7wtuo.png"></p><br><p>  En ouvrant le navigateur et en saisissant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http://0.0.0.0:8080</a> dans la barre d'adresse, vous verrez la plateforme en mode d√©veloppement: </p><br><p><img src="https://habrastorage.org/webt/no/cv/ax/nocvaxx5-kdjtvy0x7i5_jfvcbg.png"></p><br><p>  Le processus de d√©veloppement d'interface lui-m√™me n'est pas tr√®s diff√©rent du d√©veloppement frontal classique sur VUE.  Sauf qu'il existe des objets de plateforme globale dont vous devez √™tre conscient: </p><br><ul><li>  <strong>$ const</strong> - contient des constantes de plate-forme, ainsi que des modules linguistiques; </li><li>  <strong>$ bus</strong> - bus de donn√©es; </li><li>  <strong>$ store</strong> - stockage global (VUEX). <br>  √Ä partir des exemples, vous pouvez comprendre comment les utiliser. </li></ul><br><p>  Le multilinguisme est mis en ≈ìuvre de la mani√®re la plus simple - via le filtre ¬´lang¬ª.  Sp√©cifiez une constante de langue, elle est interpr√©t√©e en texte selon la langue de l'interface. </p><br><pre> <code class="xml hljs">v-bind:label="'BLINK_SATE' | lang"</code> </pre> <br><p>  Afin d'√©valuer pleinement les capacit√©s de l'environnement de d√©veloppement, vous aurez besoin d'un contr√¥leur pr√©par√© (assembl√©).  Vous pouvez assembler le firmware vous-m√™me √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partir du projet</a> ou utiliser le firmware et l'utilitaire pr√™ts √† l'emploi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'ici</a> . </p><br><p>  Apr√®s avoir flash√© le contr√¥leur et vous √™tre connect√© au r√©seau, vous devez vous assurer que le contr√¥leur est accessible via IP depuis votre ordinateur.  Pour ce faire, tapez <a href="">http: // [IP du</a> contr√¥leur] dans le navigateur.  L'interface WEB devrait s'ouvrir. </p><br><p>  Vous devez maintenant sp√©cifier l'adresse du contr√¥leur dans le fichier config / dev.env.js </p><br><pre> <code class="javascript hljs"><span class="hljs-meta"><span class="hljs-meta">'use strict'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> merge = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'webpack-merge'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prodEnv = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./prod.env'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = merge(prodEnv, { <span class="hljs-attr"><span class="hljs-attr">NODE_ENV</span></span>: <span class="hljs-string"><span class="hljs-string">'"development"'</span></span>, <span class="hljs-attr"><span class="hljs-attr">HW_DEVICE_URL</span></span>: <span class="hljs-string"><span class="hljs-string">'"http://[IP ]"'</span></span> <span class="hljs-comment"><span class="hljs-comment">//HW_DEVICE_URL: '"http://192.168.8.105"', //HW_DEVICE_URL: '"http://192.168.4.1"', })</span></span></code> </pre> <br><p>  Si le serveur de d√©veloppement a √©t√© d√©marr√©, arr√™tez-le et red√©marrez-le.  √Ä l'avenir, apr√®s avoir modifi√© les fichiers de construction, la configuration et le manifeste d'application, red√©marrez toujours le serveur de d√©veloppement. </p><br><p>  Bien que lorsque vous travaillez dans un environnement de d√©veloppement, toutes les applications qui se trouvent dans le dossier src / application tel qu'install√© soient affich√©es, seules celles qui sont r√©ellement install√©es sur le contr√¥leur fonctionneront pleinement.  Ce n'est pas une fonctionnalit√©, mais un bug alpha.  √Ä l'avenir, la synchronisation du mat√©riel et de l'environnement de d√©veloppement se fera automatiquement.  Mais pour l'instant, vous devez installer manuellement l'application sur le contr√¥leur afin que l'environnement la ¬´accroche¬ª et la synchronise avec ce qui est en dev. </p><br><p>  Nous assemblons l'application en mode prod: </p><br><pre> <code class="bash hljs">npm run prod</code> </pre> <br><p>  Installez directement les applications collect√©es sur le contr√¥leur.  <u><strong>Pas via le serveur de d√©veloppement</strong></u> . </p><br><p>  Vous pouvez maintenant commencer le d√©veloppement.  Toutes les modifications que vous apportez √† vos fichiers d√©marreront automatiquement la reconstruction des applications et l'image √† l'√©cran changera (rechargement √† chaud).  La m√™me r√®gle s'applique aux scripts de contr√¥leur.  Par exemple, vous pouvez ajouter la commande de d√©bogage au script d'application de clignotement et voir le r√©sultat. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// Event listener // $bus - system bus interface $bus.on(function (event, content, data) { if (event === 'blink') { debugger; active = !!JSON.parse(content); } }, null);</span></span></code> </pre> <br><p>  D√©sormais, lorsque l'√©tat de la case √† cocher de l'application Blink change, l'environnement de d√©veloppement envoie le message suivant: </p><br><p><img src="https://habrastorage.org/webt/bj/lw/qg/bjlwqgwrzgutdhi0vr2oed_cuee.png"></p><br><p>  Cliquez sur le lien ¬´D√©marrer le d√©bogueur¬ª pour acc√©der au d√©bogueur.  La ligne √† laquelle l'arr√™t s'est produit s'affiche. </p><br><p><img src="https://habrastorage.org/webt/m7/8u/3e/m78u3etl9hleirs072xjgpye_rw.png"></p><br><p>  Le processus de d√©bogage lui-m√™me n'est pas tr√®s diff√©rent des autres d√©bogueurs. </p><br><p><img src="https://habrastorage.org/webt/0m/i_/nt/0mi_nt0gx_-e-7nnvrrtdhxb9kg.png"></p><br><p>  Le d√©bogueur est divis√© en quatre sections.  Dans le code central lui-m√™me.  Applications install√©es √† gauche sur le contr√¥leur.  Leur structure et composition.  √Ä droite, inspecteur.  Le journal est affich√© ci-dessous.  En bas √† gauche se trouve l'√©tat actuel de la communication avec le contr√¥leur. </p><br><p>  L'environnement de d√©bogage est en cours de d√©veloppement intensif.  Il existe de nombreux autres outils de surveillance et de d√©bogage √† cr√©er.  Je m'excuse √† l'avance pour d'√©ventuels bugs. </p><br><h2 id="razrabotka-proshivki-anchordev-firmwareanchor">  D√©veloppement de firmware <a name="dev-firmware"></a></h2><br><p>  Le d√©veloppement du firmware est bas√© sur le concept propos√© par Espressif.  Je ne peux pas battre la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation native</a> √† cet √©gard. </p><br><p>  Un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©f√©rentiel a √©t√©</a> pr√©par√© pour un d√©marrage rapide.  Il contient des informations de d√©ploiement.  Pour un exemple d'utilisation, voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Impl√©mentation d'une interface¬ª</a> . </p><br><p>  L'assemblage est tr√®s simple et en une √† deux heures, vous assemblerez d√©j√† le firmware sans aucun probl√®me. </p><br><h1 id="chto-dalshe-anchorwhat-afteranchor">  Et ensuite? <a name="what-after"></a></h1><br><p>  De plus, si la plateforme int√©resse la communaut√©, il est pr√©vu: </p><br><ul><li>  D√©veloppement d'un environnement de d√©bogage; </li><li>  Standardisation de la d√©nomination des interfaces, des √©v√©nements, des composants; </li><li>  Documentation d√©taill√©e sur la plateforme; </li><li>  H√©bergement cloud pour les choses virtuelles; </li><li>  R√©f√©rentiels d'ex√©cution </li><li>  Partitionnement vers divers appareils finis. </li></ul><br><p>  Aussi, je recherche des personnes qui souhaiteraient d√©velopper la plateforme avec moi.  Il est d√©j√† tr√®s vaste par sa port√©e et son ambition.  Je suppose une coop√©ration √©gale, dont le but sera de d√©velopper la plate-forme √† un principes OpenSource √† part enti√®re. </p><br><p>  Pour entrer dans le projet, vous devez faire de pr√©cieuses demandes d'extraction aux composants de la plateforme qui vous int√©ressent. </p><br><h1 id="ssylki-anchorrefsanchor">  Les r√©f√©rences <a name="refs"></a></h1><br><p>   ThingJS: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le site</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> </li></ul><br><p>   ThingJS: </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    </a> </li></ul><br><p>  : </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ESP32</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">esp-idf</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mongoose WEB Server</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mJS</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vue 2</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vuetifyjs</a> </li></ul><br><h1 id="faq-anchorfaqanchor">  FAQ <a name="faq"></a></h1><br><p>        . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr474356/">https://habr.com/ru/post/fr474356/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr474342/index.html">Acc√©l√©ration des sc√®nes d'une vid√©o √† l'aide d'une vue sous forme de tableau</a></li>
<li><a href="../fr474344/index.html">L'Internet des objets dans l'industrie: comment fonctionnent les usines intelligentes?</a></li>
<li><a href="../fr474346/index.html">D√©veloppement Docker sur le sous-syst√®me Windows pour Linux (WSL)</a></li>
<li><a href="../fr474352/index.html">Destruction des ennemis par un saut, comme dans "Mario" Unity 2D</a></li>
<li><a href="../fr474354/index.html">Maison intelligente dans des conteneurs (ioBroker + Zigbee dans Docker)</a></li>
<li><a href="../fr474358/index.html">Dormez suffisamment le week-end: comment le bruit blanc aide les adultes √† se d√©tendre et surveille la qualit√© du sommeil des enfants</a></li>
<li><a href="../fr474360/index.html">Am√©liorez votre CSS avec ces 5 principes.</a></li>
<li><a href="../fr474364/index.html">D√©veloppement √©lectronique. Un examen subjectif des capteurs int√©gr√©s les plus utiles</a></li>
<li><a href="../fr474366/index.html">√âv√©nements num√©riques √† Moscou du 4 au 10 novembre</a></li>
<li><a href="../fr474368/index.html">Synopsis sur l'apprentissage automatique. Th√©orie des probabilit√©s. Formule Bayes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>