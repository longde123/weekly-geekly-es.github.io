<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😄 🍚 🕵🏿 "Es scheint, als wäre das schon passiert?" Suchen Sie nach ähnlichen Vorfällen und Ansprüchen 🎈 ⛏️ 📖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jeder, der eine bestimmte Zeit damit verbracht hat, die Systeme zu unterstützen, ist mit dem Déjà-vu-Gefühl vertraut, als er eine neue Bewerbung erhie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Es scheint, als wäre das schon passiert?" Suchen Sie nach ähnlichen Vorfällen und Ansprüchen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472210/"><p>  Jeder, der eine bestimmte Zeit damit verbracht hat, die Systeme zu unterstützen, ist mit dem Déjà-vu-Gefühl vertraut, als er eine neue Bewerbung erhielt: "Es war so, es wurde aussortiert, aber ich kann mich nicht erinnern, wie genau".  Sie können Zeit verbringen, sich mit früheren Anwendungen befassen und versuchen, ähnliche zu finden.  Dies hilft: Der Vorfall wird schneller geschlossen, oder es kann sogar möglich sein, die Grundursache zu erkennen und das Problem ein für alle Mal zu schließen. </p><br><p>  Die „jungen“ Mitarbeiter, die gerade dem Team beigetreten sind, haben keine solche Geschichte im Kopf.  Höchstwahrscheinlich wissen sie nicht, dass sich ein ähnlicher Vorfall beispielsweise vor sechs Monaten bis zu einem Jahr ereignete.  Und der Kollege aus dem Nebenzimmer entschied diesen Vorfall. </p><br><p>  Höchstwahrscheinlich werden die "jungen" Mitarbeiter in der Vorfalldatenbank nicht nach etwas Ähnlichem suchen, sondern Probleme von Grund auf lösen.  Verbringen Sie mehr Zeit, sammeln Sie Erfahrung und kommen Sie beim nächsten Mal schneller zurecht.  Oder vielleicht vergessen sie es sofort unter dem Strom neuer Anwendungen.  Und beim nächsten Mal wird alles wieder passieren. </p><br><p>  Wir verwenden bereits ML-Modelle zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klassifizierung von Vorfällen</a> .  Um unser Team bei der effizienteren Bearbeitung von Anträgen zu unterstützen, haben wir ein weiteres ML-Modell erstellt, um eine Liste mit „zuvor abgeschlossenen ähnlichen Vorfällen“ zu erstellen.  Details - unter dem Schnitt. </p><a name="habracut"></a><br><h2 id="chto-nam-nuzhno">  Was brauchen wir </h2><br><p>  Für jeden eingehenden Vorfall müssen „ähnliche“ geschlossene Vorfälle in der Historie gefunden werden.  Die Definition von „Ähnlichkeit“ sollte zu Beginn des Vorfalls erfolgen, vorzugsweise bevor das Support-Personal mit der Analyse begonnen hat. </p><br><p>  Zum Vergleichen von Vorfällen müssen die vom Benutzer bei der Kontaktaufnahme bereitgestellten Informationen verwendet werden: eine kurze Beschreibung, eine detaillierte Beschreibung (falls vorhanden) sowie Attribute des Benutzerdatensatzes. </p><br><p>  Das Team unterstützt 4 Systemgruppen.  Die Gesamtzahl der Vorfälle, mit denen ich nach ähnlichen Vorfällen suchen möchte, beträgt ungefähr 10.000. </p><br><h2 id="pervoe-reshenie">  Erste Entscheidung </h2><br><p>  Es liegen keine überprüften Informationen zur "Ähnlichkeit" der vorliegenden Vorfälle vor.  Daher müssen die hochmodernen Optionen für das Training siamesischer Netzwerke vorerst verschoben werden. <br>  Das erste, was mir in den Sinn kommt, ist eine einfache Ansammlung einer "Tüte mit Wörtern", die sich aus dem Inhalt der Berufungen zusammensetzt. </p><br><p>  In diesem Fall ist der Prozess zur Behandlung von Vorfällen wie folgt: </p><br><ol><li>  Hervorheben der erforderlichen Textfragmente </li><li>  Textvorverarbeitung / -reinigung </li><li>  TF-IDF-Vektorisierung </li><li>  Finden Sie Ihren nächsten Nachbarn </li></ol><br><p>  Es ist klar, dass bei dem beschriebenen Ansatz die Ähnlichkeit auf einem Vergleich von Wörterbüchern basiert: Die Verwendung derselben Wörter oder n-Gramm in zwei verschiedenen Vorfällen wird als „Ähnlichkeit“ angesehen. </p><br><p>  Dies ist natürlich ein ziemlich vereinfachter Ansatz.  Denken Sie jedoch daran, dass wir die Texte von Benutzertreffern auswerten, wenn das Problem in ähnlichen Worten beschrieben wird - höchstwahrscheinlich sind die Vorfälle ähnlich.  Zusätzlich zum Text können Sie den Namen der Benutzerabteilung hinzufügen, wobei Sie erwarten, dass Benutzer derselben Abteilungen in verschiedenen Organisationen ähnliche Probleme haben. </p><br><h3 id="vydelenie-neobhodimyh-tekstovyh-fragmentov">  Hervorheben der erforderlichen Textfragmente </h3><br><p>  Ereignisdaten erhalten wir auf einfachste Weise von service-now.com - indem wir Benutzerberichte programmgesteuert starten und ihre Ergebnisse in Form von CSV-Dateien erhalten. </p><br><p>  Daten zu Nachrichten, die im Rahmen des Vorfalls zwischen Support und Benutzern ausgetauscht werden, werden in diesem Fall in Form eines großen Textfelds mit dem gesamten Verlauf der Korrespondenz zurückgegeben. </p><br><p>  Die Informationen über den ersten Aufruf aus einem solchen Feld mussten durch reguläre Ausdrücke "herausgeschnitten" werden. </p><br><ul><li>  Alle Nachrichten sind durch eine Kennlinie &lt;wenn&gt; - &lt;wer&gt; getrennt. </li><li>  Nachrichten enden häufig mit formellen Unterschriften, insbesondere wenn der Einspruch per E-Mail eingelegt wurde.  Diese Informationen sind in der Liste der wichtigen Wörter merklich "fonil", daher musste auch die Signatur gelöscht werden. </li></ul><br><p>  Es stellte sich ungefähr so ​​heraus: </p><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_first_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(messages)</span></span></span><span class="hljs-function">:</span></span> res = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(messages) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-comment"><span class="hljs-comment"># take the first message spl = re.split("\d{2}-\d{2}-\d{4} \d{2}:\d{2}:\d{2} - ((\w+((\s|-)\w+)?,(\s\w+)+)|\w{9}|guest)\s\(\w+\s\w+\)\n", messages.lower()) res = spl[-1] # cut off "mail footer" with finalization statements res = re.split("(best|kind)(\s)+regard(s)+", res)[0] # cut off "mail footer" with embedded pictures res = re.split("\[cid:", res)[0] # cut off "mail footer" with phone prefix res = re.split("\+(\d(\s|-)?){7}", res)[0] return res</span></span></code> </pre> <br><h3 id="predvaritelnaya-obrabotka-tekstov-incidenta">  Vorverarbeitung von Vorfalltexten </h3><br><p>  Um die Qualität der Klassifizierung zu verbessern, wird der Berufungstext vorverarbeitet. </p><br><p>  Unter Verwendung einer Reihe regulärer Ausdrücke in den Vorfallbeschreibungen wurden charakteristische Fragmente gefunden: Daten, Servernamen, Produktcodes, IP-Adressen, Webadressen, falsche Namensformen usw.  Solche Fragmente wurden durch die entsprechenden Konzeptmarken ersetzt. </p><br><p>  Am Ende wurde Stottern verwendet, um Wörter zu einer gemeinsamen Form zu bringen.  Dies ermöglichte es uns, die Pluralformen und Endungen von Verben loszuwerden.  Der bekannte <code>snowballstemmer</code> wurde als Stemmer verwendet. </p><br><p>  Alle Verarbeitungsprozesse werden zu einer Transformationsklasse zusammengefasst, die in verschiedenen Prozessen verwendet werden kann. </p><br><p>  Übrigens stellte sich (natürlich experimentell) heraus, dass die Methode <code>stemmer.stemWord()</code> nicht threadsicher ist.  Wenn Sie versuchen, eine parallele Textverarbeitung in der Pipeline zu implementieren, z. B. mit <code>joblib</code> Prallel / verzögert, muss der Zugriff auf die allgemeine Instanz des Stemmer daher durch Sperren geschützt werden. </p><br><pre> <code class="python hljs">__replacements = [ (<span class="hljs-string"><span class="hljs-string">'(\d{1,3}\.){3}\d{1,3}'</span></span>, <span class="hljs-string"><span class="hljs-string">'IPV4'</span></span>), (<span class="hljs-string"><span class="hljs-string">'(?&lt;=\W)((\d{2}[-\/ \.]?){2}(19|20)\d{2})|(19|20)\d{2}([-\/ \.]?\d{2}){2}(?=\W)'</span></span>, <span class="hljs-string"><span class="hljs-string">'YYYYMMDD'</span></span>), (<span class="hljs-string"><span class="hljs-string">'(?&lt;=\W)(19|20)\d{2}(?=\W)'</span></span>, <span class="hljs-string"><span class="hljs-string">'YYYY'</span></span>), (<span class="hljs-string"><span class="hljs-string">'(?&lt;=\W)(0|1)?\d\s?(am|pm)(?=\W)'</span></span>, <span class="hljs-string"><span class="hljs-string">'HOUR'</span></span>), (<span class="hljs-string"><span class="hljs-string">'http[s]?:\/\/(?:[a-zA-Z]|[0-9]|[$-_@.&amp;+]|[!*\(\),]|(?:%[0-9a-fA-F][0-9a-fA-F]))+'</span></span>, <span class="hljs-string"><span class="hljs-string">'SOMEURL'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#      ] __stemmer_lock = threading.Lock() __stemmer = snowballstemmer.stemmer('english') def stem_string(text: str): def stem_words(word_list): with __stemmer_lock: res = __stemmer.stemWords(word_list) return res return " ".join(stem_words(text.split())) def clean_text(text: str): res = text for p in __replacements: res = re.sub(p[0], '#'+p[1]+'#', res) return res def process_record(record): txt = "" for t in record: t = "" if t == np.nan else t txt += " " + get_first_message(str(t)) return stem_string(clean_text(txt.lower())) class CommentsTextTransformer(BaseEstimator, TransformerMixin): _n_jobs = 1 def __init__(self, n_jobs=1): self._n_jobs = n_jobs def fit(self, X, y=None): return self def transform(self, X, y=None): features = Parallel(n_jobs=self._n_jobs)( delayed(process_record)(rec) for i, rec in enumerate(X.values) ) return np.array(features, dtype=object).reshape(len(X),)</span></span></code> </pre> <br><h3 id="vektorizaciya">  Vektorisierung </h3><br><p>  Die Vektorisierung wird vom Standard- <code>TfidfVectorizer</code> mit den folgenden Einstellungen durchgeführt: </p><br><ul><li>  <code>max_features</code> = 10000 </li><li>  <code>ngram</code> = (1,3) - in dem Versuch, stabile Kombinationen und semantische Konnektiva zu fangen </li><li>  <code>max_df</code> / <code>min_df</code> - standardmäßig verlassen </li><li>  <code>stop_words</code> - eine Standardliste mit englischen Wörtern sowie eine eigene zusätzliche Wortgruppe.  Einige Benutzer erwähnten beispielsweise Analystennamen, und Eigennamen wurden häufig zu wichtigen Attributen. </li></ul><br><p>  <code>TfidfVectorizer</code> selbst führt standardmäßig eine L2-Normalisierung durch, sodass einfallende Vektoren bereit sind, den Kosinusabstand zwischen ihnen zu messen. </p><br><h3 id="poisk-pohozhih-incidentov">  Suchen Sie nach ähnlichen Vorfällen </h3><br><p>  Die Hauptaufgabe des Prozesses besteht darin, eine Liste der nächsten N Nachbarn zurückzugeben.  Die Klasse <code>sklearn.neighbors.NearestNeighbors</code> ist dafür gut geeignet.  Ein Problem besteht darin, dass die <code>transform</code> nicht implementiert wird, ohne die sie nicht in der <code>pipeline</code> . </p><br><p>  Daher war es notwendig, es auf <code>Transformer</code> basieren, was es erst dann in den letzten Schritt der <code>pipeline</code> : </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NearestNeighborsTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(NearestNeighbors, TransformerMixin)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, n_neighbors=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">, radius=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, algorithm=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'auto'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, leaf_size=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">30</span></span></span></span><span class="hljs-function"><span class="hljs-params">, metric=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'minkowski'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, p=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, metric_params=None, n_jobs=None, **kwargs)</span></span></span><span class="hljs-function">:</span></span> super(NearestNeighbors, self).__init__(n_neighbors=n_neighbors, radius=radius, algorithm=algorithm, leaf_size=leaf_size, metric=metric, p=p, metric_params=metric_params, n_jobs=n_jobs) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">transform</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, X, y=None)</span></span></span><span class="hljs-function">:</span></span> res = self.kneighbors(X, self.n_neighbors, return_distance=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre><br><h3 id="process-obrabotki">  Verarbeitungsprozess </h3><br><p>  Wenn wir alles zusammenfügen, erhalten wir einen kompakten Prozess: </p><br><pre> <code class="python hljs">p = Pipeline( steps=[ (<span class="hljs-string"><span class="hljs-string">'grp'</span></span>, ColumnTransformer( transformers=[ (<span class="hljs-string"><span class="hljs-string">'text'</span></span>, Pipeline(steps=[ (<span class="hljs-string"><span class="hljs-string">'pp'</span></span>, CommentsTextTransformer(n_jobs=<span class="hljs-number"><span class="hljs-number">-1</span></span>)), (<span class="hljs-string"><span class="hljs-string">"tfidf"</span></span>, TfidfVectorizer(stop_words=get_stop_words(), ngram_range=(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), max_features=<span class="hljs-number"><span class="hljs-number">10000</span></span>)) ]), [<span class="hljs-string"><span class="hljs-string">'short_description'</span></span>, <span class="hljs-string"><span class="hljs-string">'comments'</span></span>, <span class="hljs-string"><span class="hljs-string">'u_impacted_department'</span></span>] ) ] )), (<span class="hljs-string"><span class="hljs-string">"nn"</span></span>, NearestNeighborsTransformer(n_neighbors=<span class="hljs-number"><span class="hljs-number">10</span></span>, metric=<span class="hljs-string"><span class="hljs-string">'cosine'</span></span>)) ], memory=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br><p>  Nach dem Training kann die <code>pipeline</code> mit pickle in einer Datei gespeichert und zur Behandlung eingehender Vorfälle verwendet werden. <br>  Zusammen mit dem Modell speichern wir die erforderlichen Vorfallfelder, um sie später in der Ausgabe zu verwenden, wenn das Modell ausgeführt wird. </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># inc_data - pandas.Dataframe,     # ref_data - pandas.Dataframe,    . #     .    # inc_data["recommendations_json"] = "" #   . # column_list -  ,          nn_dist, nn_refs = p.transform(inc_data[column_list]) for idx, refs in enumerate(nn_refs): nn_data = ref_data.iloc[refs][['number', 'short_description']].copy() nn_data['distance'] = nn_dist[idx] inc_data.iloc[idx]["recommendations_json"] = nn_data.to_json(orient='records') #     , .     -. inc_data[['number', 'short_description', 'recommendations_json']].to_json(out_file_name, orient='records')</span></span></code> </pre> <br><h2 id="pervye-rezultaty-primeneniya">  Erste Anwendungsergebnisse </h2><br><p>  Die Reaktion der Kollegen auf die Einführung eines Systems von "Hinweisen" war im Allgemeinen sehr positiv.  Wiederkehrende Vorfälle wurden schneller behoben, und wir begannen mit der Fehlerbehebung. </p><br><p>  Von dem unbeaufsichtigten Lernsystem konnte man jedoch kein Wunder erwarten.  Kollegen beschwerten sich, dass das System manchmal völlig irrelevante Links bietet.  Manchmal war es sogar schwierig zu verstehen, woher solche Empfehlungen stammen. </p><br><p>  Es war klar, dass das Feld zur Verbesserung des Modells riesig ist.  Einige der Mängel können behoben werden, einschließlich oder ohne einige Attribute des Vorfalls.  Teil - durch Auswahl eines angemessenen Grenzwerts für den Abstand zwischen dem aktuellen Vorfall und der „Empfehlung“.  Andere Vektorisierungsmethoden können in Betracht gezogen werden. </p><br><p>  Das Hauptproblem war jedoch das Fehlen von Qualitätsmetriken für Empfehlungen.  Und wenn ja, war es unmöglich zu verstehen, "was gut und was schlecht ist und wie viel" und einen Vergleich der Modelle darauf aufzubauen. </p><br><p>  Wir hatten keinen Zugriff auf http-Protokolle, da das Dienstsystem remote (SaaS) arbeitet.  Wir haben Nutzerbefragungen durchgeführt - aber nur qualitativ.  Es war notwendig, mit quantitativen Bewertungen fortzufahren und auf deren Grundlage klare Qualitätsmetriken aufzubauen. </p><br><p>  Aber mehr dazu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im nächsten Teil ...</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472210/">https://habr.com/ru/post/de472210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472198/index.html">Lokalisierung von Push-Nachrichten in mobilen Anwendungen</a></li>
<li><a href="../de472200/index.html">Modernisierung des Informatikunterrichts an einer russischen Schule auf einer Himbeere: billig und fröhlich</a></li>
<li><a href="../de472202/index.html">Windows 10 + Python = VS Code + WSL</a></li>
<li><a href="../de472204/index.html">Einfache Experimente mit dem Mikrocontroller STM32F103 (Blue Tablet)</a></li>
<li><a href="../de472208/index.html">OLED-Bildschirme von Android-Smartphones und wie man damit umgeht</a></li>
<li><a href="../de472212/index.html">Wie man Space Shuttle aus dem Weltraum landet</a></li>
<li><a href="../de472214/index.html">Eine falsch vorhergesagte Verzweigung kann die Programmausführungszeit erheblich verlängern</a></li>
<li><a href="../de472216/index.html">Was sollen wir IoT bauen? Ihr IoT bei Amazon an einem Tag</a></li>
<li><a href="../de472220/index.html">Warum Spitzenphysiker eine Multi-World-Interpretation nicht mögen</a></li>
<li><a href="../de472222/index.html">"Lesen, wenn Sie gerne zuhören": Bücher für diejenigen, denen Musik nicht gleichgültig ist - von Klassik bis Hip-Hop</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>