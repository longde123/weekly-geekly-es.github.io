<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äç‚úàÔ∏è üßóüèΩ ‚úåüèª D√©veloppement de sites Web sur WebAssembly avec NetCore 3 et Blazor üïô ü§≥üèΩ üëÇüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mon opinion est que WebAssembly est l'avenir d'Internet. Cette technologie est actuellement d√©j√† int√©gr√©e dans la plupart des navigateurs modernes (ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement de sites Web sur WebAssembly avec NetCore 3 et Blazor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468019/"><p> Mon opinion est que WebAssembly est l'avenir d'Internet.  Cette technologie est actuellement d√©j√† int√©gr√©e dans la plupart des navigateurs modernes (ou plut√¥t dans leurs moteurs) sur PC et appareils mobiles.  Sur des navigateurs comme Chrome, Edge, Firefox et WebKit. </p><br><p>  Dans cet article, je vais d√©crire comment commencer √† d√©velopper un site WebAssembly dans Visual Studio.  Cet article convient √† ceux qui souhaitent comprendre comment commencer √† d√©velopper des applications SPA sans utiliser JavaScript, ne connaissant que la mise en page asp.net mvc, c #, html et css. </p><br><p>  Au moment de la publication de cet article, le framework NetCore 3 est en RC1, et Blazor a la version 3.0.0-preview9.19457.4.  La sortie de NetCore 3 est pr√©vue pour septembre 2019. Quant √† Blazor, sa sortie est promise plus tard en novembre 2019, tr√®s probablement apr√®s la sortie de NetCore 3.1 </p><br>  Table des mati√®res: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">I Installation</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">II Cr√©ation d'un projet WebAssembly √† partir d'un mod√®le</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">III Structure de la d√©cision</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IV D√©marrage et d√©bogage du blazor WebAssembly</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tailles de fichier V et √©diteur de liens</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VI Publishing et LazyLoading, biblioth√®ques d'√©l√©ments</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VII Conclusions</a> </li></ul><a name="habracut"></a><br><a name="oglI"></a><h3>  I Installation (assurez-vous de mettre la version actuelle, apr√®s la sortie la plus probable de novembre 2019) </h3><br><ol><li>  Aper√ßu de Visual Studio - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">visualstudio.microsoft.com/en/vs/preview</a> </li><li>  Mod√®le Blazor - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">devblogs.microsoft.com/aspnet/asp-net-core-and-blazor-updates-in-net-core-3-0-release-candidate-1</a> </li></ol><br><a name="oglII"></a><h3>  II Cr√©ation d'un projet WebAssembly √† partir d'un mod√®le </h3><br><ol><li>  Open VS preview 16.3 preview 4 <br><br><img src="https://habrastorage.org/webt/zy/ea/da/zyeada5frockoxc1nfxz2fxn2rm.png"></li><li>  Cr√©ez un nouveau projet.  S√©lectionnez le mod√®le d'application Blazor et sp√©cifiez le type de WebAssembly. <br><br><div class="spoiler">  <b class="spoiler_title">Le processus de cr√©ation en images</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/6o/ny/oq/6onyoqxrrm-cbe4fqcdidvguhh0.png"><br><img src="https://habrastorage.org/webt/hb/pc/rr/hbpcrrposqt1gmm9x6wgw42alyk.png"><br><img src="https://habrastorage.org/webt/hb/pc/rr/hbpcrrposqt1gmm9x6wgw42alyk.png"><br><img src="https://habrastorage.org/webt/in/hl/_j/inhl_jxtbbta8somuwom1kk1qoa.png"><br><img src="https://habrastorage.org/webt/xz/p8/iv/xzp8ivoqbf7pc5mw9-onetxug6u.png"><br></div></div><br></li></ol><br><a name="oglIII"></a><h3>  III Structure de la d√©cision </h3><br>  Comme vous pouvez le voir, la solution par d√©faut se compose de 3 projets: <br><ul><li>  Il s'agit d'un projet client qui contient du html, des fichiers css, des images, etc.  Tout ce qui sera charg√© par le client (frontend).  Le projet Client contient √©galement du code pour cr√©er le package WebAssemly. </li><li>  Le serveur de ce projet contient le code de services auquel le client acc√®de pour obtenir des informations (backend).  L'exemple impl√©mente les informations m√©t√©orologiques. </li><li>  Partag√© est utilis√© pour stocker des mod√®les de donn√©es communs pour les deux premiers projets. <br><br><img src="https://habrastorage.org/webt/wi/jl/s-/wijls-uboslzmnursyj31u_yqpa.png"></li></ul><br><a name="oglIV"></a><h3>  IV D√©marrage et d√©bogage du blazor WebAssembly </h3><br><ol><li>  D√©finissez deux points d'arr√™t.  Un dans le code d'application client, le second dans le code serveur du service.  Vous pouvez imm√©diatement remarquer que l'√©v√©nement du bouton onclick appelle le code C #, pas JavaScript.  Il n'y a rien d'inhabituel dans le code serveur du service. <br><br><img src="https://habrastorage.org/webt/2x/-2/q3/2x-2q3tixt3refgybkycbhwabl0.png"></li><li>  Ex√©cutez la solution en mode de g√©n√©ration de d√©bogage.  Une fois l'assemblage r√©ussi, le navigateur s'ouvrira et le site Web bas√© sur l'assemblage Web se chargera <br><br><img src="https://habrastorage.org/webt/kf/vd/eu/kfvdeusttt7reb9ryzdpkxvms2k.png"></li><li>  Essayons d'aller dans la section "R√©cup√©rer les donn√©es".  Cette section contient le code faisant la demande au backend.  D√®s que nous essayons d'acc√©der √† cette section, le point d'arr√™t pr√©d√©fini dans le contr√¥leur de service fonctionne imm√©diatement.  Le comportement est standard, rien de nouveau.  Poursuivre l'ex√©cution du code <br><br><img src="https://habrastorage.org/webt/ye/ie/dw/yeiedwxd0l-map3zajxeuduszc8.png"></li><li>  Passons maintenant √† la section "Compteur".  Voici le code impl√©ment√© qui est enti√®rement ex√©cut√© sur le client.  En cliquant sur le bouton ¬´cliquez sur moi¬ª, nous obtenons un r√©sultat inattendu.  Le code fonctionnera (s'ajoutant au nombre actuel 1), mais le point d'arr√™t d√©fini dans le code ne fonctionnera pas. <br><br><img src="https://habrastorage.org/webt/ds/ne/wn/dsnewnzfblc31qxqocrph9n1cfw.png"></li><li>  Le fait est que le d√©bogage d'une application cliente bas√©e sur l'assemblage Web se produit dans le navigateur.  Tout comme le d√©bogage JavaScript.  Pour ce faire, appuyez sur shift + alt + D dans la fen√™tre avec le site en cours d'ex√©cution.  Mais il y a plusieurs conditions. <br>  Le navigateur doit avoir une connexion directe avec Visual Studio en cours d'ex√©cution.  Pour ce faire, Chrome doit √™tre ex√©cut√© en mode d√©bogage avec acc√®s √† l'API du navigateur via un port sp√©cifique. <br>  Copiez la ligne sugg√©r√©e pour lancer le navigateur.  Fermez toutes les fen√™tres du navigateur.  Et ex√©cutez la ligne pr√©c√©demment copi√©e. <br><br><img src="https://habrastorage.org/webt/5v/i2/fz/5vi2fzdpim51bwwk8fjxmuys7vy.png"></li><li>  Red√©marrez le d√©bogage.  Si vous essayez de d√©boguer une application cliente ouverte dans Chrome plusieurs fois, vous recevrez un message d'erreur.  Laissez un seul onglet ouvert avec le site et un seul onglet de d√©bogage. <br><br><img src="https://habrastorage.org/webt/op/mb/kq/opmbkqbrr1jstaal05jqhk0t6s4.png"></li><li>  Sur l'onglet de d√©bogage, dans la structure de fichiers, vous verrez les fichiers situ√©s sur votre disque.  O√π se trouve le code source.  Maintenant, en allant dans le fichier "Counter.razor", nous pouvons d√©finir un point d'arr√™t dans la proc√©dure appel√©e sur l'√©v√©nement onclick.  Lorsque vous cliquez sur le bouton "Cliquez sur moi", un point d'arr√™t fonctionnera, nous aurons acc√®s √† la pile d'appels et afficherons les valeurs des variables <br><br><img src="https://habrastorage.org/webt/w1/yh/7s/w1yh7sns_ers3sfdyn0ckdhx_sa.png"></li></ol><br><a name="oglV"></a><h3>  Tailles de fichier V et √©diteur de liens </h3><br><ol><li>  Comme nous le voyons dans l'exemple, les tailles des donn√©es de site t√©l√©charg√©es sont assez petites de 2,4 Mo (apr√®s d√©compression sur le client de 5,4 Mo).  Lorsque le site est charg√© pour la premi√®re fois, les DLL requises sont charg√©es pour que le site fonctionne (un exemple est de savoir comment charger les biblioth√®ques JS), plus tard, elles ne sont pas recharg√©es, mais sont utilis√©es √† partir du cache du navigateur. <br><br><img src="https://habrastorage.org/webt/0e/yc/om/0eycomyjeq7l814dt-k5swpyeba.png"></li><li>  Vous devez √©galement faire attention au fait que l'√©diteur de liens est utilis√©.  Cela vous permet de r√©duire la taille des fichiers dll r√©sultants, c'est-√†-dire que les fonctions de code inutilis√©es sont automatiquement supprim√©es des fichiers. <br><br>  Par exemple, System.Text.Json.dll de 288 Ko est devenu 114 Ko, et System.Memory.dll de 146 Ko est devenu 58,5 Ko.  Ceci est assur√© par le travail de l'√©diteur de liens, ainsi que par la compression des fichiers transf√©r√©s. <br><br>  En outre, ce processus peut √™tre configur√© manuellement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">docs.microsoft.com/ru-ru/aspnet/core/host-and-deploy/blazor/configure-linker?view=aspnetcore-3.0</a> <br><br><img src="https://habrastorage.org/webt/g6/xc/w1/g6xcw1faucuofdm5zevusiizjwo.png"></li></ol><br><a name="oglVI"></a><h3>  VI Publishing et LazyLoading, biblioth√®ques d'√©l√©ments </h3><br><ol><li>  Publiez un site bas√© sur un assemblage Web via les moteurs IIS ou ASP.NET Core.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plus de d√©tails ici</a> . </li><li>  Bien que la technologie WebAssembly elle-m√™me vous permette de t√©l√©charger des fichiers wasm comme demand√© par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">developers.google.com/web/updates/2018/04/loading-wasm</a> . <br>  Actuellement, blazor n'a pas la possibilit√© de charger des dll (composants wasm) en fonction des besoins d'une page particuli√®re.  Autrement dit, tous les composants seront t√©l√©charg√©s la premi√®re fois que vous acc√©dez au site. <br><br>  La recommandation est une - "N'utilisez pas de biblioth√®ques complexes pour impl√©menter une fonction simple que vous √©crivez en trois lignes de code."  Ne pas h√©riter de 100 + MB dll dans l'application cliente pour la possibilit√© d'une impl√©mentation simple de la journalisation (r√©ticence √† √©crire 5 lignes de code vous-m√™me). <br><br>  La bonne nouvelle est qu'ils <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">promettent d'impl√©menter le</a> chargement modulaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans le noyau 3.1</a> </li><li>  Si vous aimez utiliser des composants pr√™ts √† l'emploi pour la mise en ≈ìuvre de sites, alors des collections de soci√©t√©s bien connues comme telerik, devexpress ou par exemple le package gratuit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.matblazor.com</a> sont d√©j√† arriv√©es pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blazor</a> </li></ol><br><a name="oglVII"></a><h3>  VII Conclusions </h3><br><ul><li>  √Ä l'heure actuelle, la technologie peut √™tre pleinement utilis√©e dans le d√©veloppement de sites Web. </li><li>  Pour travailler confortablement avec blazor pour les projets Internet, LazyLoading est requis.  Quelle promesse d'ajouter dans un futur proche </li><li>  Si le projet est intranet, l'utilisation de blazor dans les nouveaux d√©veloppements sera la bienvenue.  Il ne vaut pas la peine de discuter dans ce sens que les PC finaux sur le r√©seau interne peuvent √™tre avec un acc√®s lent, cela peut √™tre r√©solu en utilisant le client RDP l√©ger. </li><li>  ASP.NET Core 3 + blazor est l'endroit o√π le d√©veloppeur c # devrait d√©velopper </li><li>  Je crois que cette technologie entra√Ænera un rejet complet de javascript √† l'avenir, mais c'est mon opinion personnelle. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468019/">https://habr.com/ru/post/fr468019/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468009/index.html">Vuln√©rabilit√©s des syst√®mes ERP des objets KII</a></li>
<li><a href="../fr468011/index.html">L'histoire d'un robot hypoth√©tique</a></li>
<li><a href="../fr468013/index.html">Un moyen simple et s√ªr d'automatiser les d√©ploiements canaris avec Helm</a></li>
<li><a href="../fr468015/index.html">Ce que l'on sait actuellement sur ITIL 4 et qui utilise d√©j√† la nouvelle biblioth√®que</a></li>
<li><a href="../fr468017/index.html">La monade peut-√™tre via async / attendre en C # (sans t√¢che ov!)</a></li>
<li><a href="../fr468021/index.html">PHP, combien d'abstraction pour les gens?</a></li>
<li><a href="../fr468023/index.html">L'intelligence artificielle dans le jeu de combat Shadow Fight 3</a></li>
<li><a href="../fr468025/index.html">Comment configurer SNI dans Zimbra OSE?</a></li>
<li><a href="../fr468027/index.html">M√©thodes d'optimisation de code pour Redd. Partie 2: m√©moire non cache et fonctionnement sur bus parall√®le</a></li>
<li><a href="../fr468031/index.html">Nous portons un jeu multijoueur de C ++ sur le Web avec Cheerp, WebRTC et Firebase</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>