<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçüé® üòã üôãüèø Como organizar o desenvolvimento e suporte de um blog no WordPress no 2T19 e n√£o corrigi-lo üèîÔ∏è ü•Ö üèáüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pense com anteced√™ncia sobre o dimensionamento, aproveite ao m√°ximo as solu√ß√µes padr√£o do Wordpress, crie um tema WP com suas pr√≥prias m√£os, cuide da ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como organizar o desenvolvimento e suporte de um blog no WordPress no 2T19 e n√£o corrigi-lo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/promopult/blog/457402/"><p>  Pense com anteced√™ncia sobre o dimensionamento, aproveite ao m√°ximo as solu√ß√µes padr√£o do Wordpress, crie um tema WP com suas pr√≥prias m√£os, cuide da conveni√™ncia de um designer de layout, concentre-se na mobilidade - e atualize o blog da empresa para que leitores, editores e executivos o amem.  N√≥s conseguimos. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/31/ab/3s/31ab3sbtd1tyy1cfaneyga9do8s.png" alt="Blog PromoPult"></div><br><br><p>  O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">blog da Promopult</a> tem 9 anos.  Durante esse tempo, ele passou por v√°rias transforma√ß√µes.  <strong>Sergey Glazov</strong> , o tecn√≥logo do nosso blog e outras coisas importantes no sistema Promopult, fala sobre o √∫ltimo. </p><a name="habracut"></a><br><p>  Isso n√£o √© mais discutido, porque se tornou a norma: um padr√£o r√°pido e simples para o blog de uma empresa, uma pessoa, um pessoal, sim, o que for, WordPress.  Voc√™ pode argumentar, mas o fato permanece. </p><br><p>  Quero falar sobre o que descobri em termos de organiza√ß√£o de c√≥digo, trabalhando com o blog WordPress e seu suporte.  Esta hist√≥ria √© sobre o processo, porque o estado atual √© o √∫ltimo ponto desse processo e parece que o estado atual √© o mais bem-sucedido em compara√ß√£o com todas as itera√ß√µes passadas nas abordagens da organiza√ß√£o. </p><br><div class="spoiler">  <b class="spoiler_title">Conte√∫do do artigo</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que aconteceu no (meu) in√≠cio - em 2016</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Primeiras tarefas: mobiliza√ß√£o e design</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como t√≠nhamos com o trabalho no c√≥digo</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O que eu queria, como se costuma dizer, "em um mundo ideal"</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Redesign, primeira abordagem</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Segunda abordagem: uma nova vers√£o da estrutura</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Blog PromoPult: como funciona</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lista de verifica√ß√£o antes da publica√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Configura√ß√µes de postagem do blog</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Nice little things</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sobre uma t√©cnica interessante</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Quais plugins usamos</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dicas de conclus√£o para quem trabalha no blog da empresa</a> <br></div></div><br><a name="id1"></a><h2>  O que aconteceu no (meu) in√≠cio - em 2016 </h2><br><p>  √â raro quando um desenvolvedor cria e pensa em tudo do zero.  Mais frequentemente, verifica-se que j√° ( <em>mais frequentemente, mesmo por muito tempo, com um hist√≥rico separado</em> ) existe um projeto que precisa ser apoiado.  Redesenho, edi√ß√µes, enorme TK e requisitos.  E nas condi√ß√µes do tudo existente, √© necess√°rio, de alguma forma, navegar rapidamente e resolver problemas. </p><br><p>  Aceitei o blog em 2016, quando ele j√° tinha uma longa hist√≥ria e nem tudo √© t√£o bonito quanto eu queria. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/8m/ao/hl8maolspww0uzcsvc2nrzc4_x8.png" alt="√â assim que o blog do SeoPult se parece no in√≠cio de 2016."></div><br><br><ol><li>  Design de blog antigo com uma hist√≥ria de nove anos. </li><li>  A falta de uma vers√£o para celular / tablet de qualquer forma. </li><li>  Mais de 600 posts. </li><li> Problemas estruturais com o conte√∫do e sua organiza√ß√£o: mais de 20 categorias e mais de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">nove centenas de tags</a> (agora mais, mas j√° paramos). </li><li>  Os planos j√° foram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">renomeados</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">movidos</a> para um novo dom√≠nio.  Isso tamb√©m se aplica ao blog. </li><li>  Uma longa cadeia de a√ß√µes ao trabalhar com c√≥digo. </li><li>  Trabalhar sem controle de vers√£o (.git). </li></ol><br><a name="id2"></a><h2>  Primeiras tarefas: mobiliza√ß√£o e design </h2><br><p>  A principal tarefa foi adicionar adaptabilidade ao t√≥pico existente do blog: tornar os usu√°rios m√≥veis capazes de ler postagens e usar o site adequadamente - eles conversaram e escreveram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sobre o Mobile First</a> cada vez mais, e as estat√≠sticas mostraram que eles liam o blog pelo celular. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/er/oc/q3/erocq3hilkqxx99etqmtjmouzvy.png" alt="Estat√≠sticas em Yandex.Metrica"></div><br><br><p>  Paralelamente a esses trabalhos, um novo design foi desenhado. </p><br><p>  Como desenvolvedor, trabalhei em conjunto com o designer, sem uma cadeia desnecess√°ria de mediadores na discuss√£o, para que o processo de comunica√ß√£o fosse mais r√°pido e animado.  O fato √≥bvio, √© claro, mas por algum motivo √© negligenciado em muitos processos.  E acontece que o designer est√° fazendo algo muito separado da realidade.  Fale com a boca e discuta todos os pontos.  Cada participante do processo est√° interessado em fazer o bem e o bem.  Mas nem todo mundo entende que o processo √© uma cadeia conectada e, se um artista perde ou n√£o faz algo no local de trabalho, ser√° dif√≠cil para as pessoas no pr√≥ximo processo. </p><br><p>  No decorrer do trabalho na vers√£o m√≥vel, vi os contras e as fraquezas da organiza√ß√£o do processo de desenvolvimento.  Eu queria acelerar e simplificar tudo. </p><br><a name="id3"></a><h3>  Como fizemos com o trabalho sobre o c√≥digo no blog </h3><br><p>  Havia uma vers√£o DEV do blog com um banco de dados de teste separado.  O trabalho com arquivos ocorreu em um servidor remoto, os testes foram realizados em um endere√ßo separado, inacess√≠vel no mundo exterior.  Ap√≥s o trabalho, os testes e o nascimento de uma determinada unidade de significado - ela foi lan√ßada no blog de batalha atrav√©s de um apelo ao administrador.  O que ele fez foi uma m√°gica separada. </p><br><p>  Para um blog em que algo muda uma vez por ano, um √≥timo processo.  Mas com a nova edi√ß√£o e suas necessidades, esse processo seria uma grande dor. </p><br><a name="id4"></a><h3>  O que eu queria, como se costuma dizer, "em um mundo ideal" </h3><br><p> Todo o c√≥digo est√°.  reposit√≥rios <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">git</a> .  A vers√£o de combate do blog √© o <code>master</code> deste reposit√≥rio.  Todo o trabalho com o c√≥digo ocorre por meio de confirma√ß√µes em uma filial ou em outras ramifica√ß√µes associadas a grandes tarefas individuais. </p><br><p>  Ap√≥s a conclus√£o da tarefa, um Pull Request (PR) e / ou Merge Request (MR) √© criado com um conjunto de edi√ß√µes.  O significado em MR e PR √© o mesmo, mas em servi√ßos diferentes - um nome diferente.  Temos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitLab</a> , ent√£o Mesclar Pedido. </p><br><p>  Ao criar o MR, um endere√ßo tempor√°rio no formato <code>-git--test.dev.blog.promopult.ru</code> dispon√≠vel, acess√≠vel apenas por IP para verifica√ß√£o ao vivo no ambiente de teste. </p><br><p>  O c√≥digo no MR criado √© revisado e verificado automaticamente (c√≥digo de c√≥digo, que eu verifico a sintaxe de acordo com regras predefinidas) e no modo manual (a pot√™ncia vertical da equipe, o timlid olha cuidadosamente para ele com seu olho atento convexo naval).  Ap√≥s passar na revis√£o - na interface do navegador do reposit√≥rio .git, clica-se no bot√£o Mesclar e todas as altera√ß√µes aparecem no ar do blog de combate ap√≥s um breve per√≠odo de tempo √≥bvio. </p><br><a name="id5"></a><h2>  Redesign, primeira abordagem </h2><br><p>  Blog redesenhar o plano de trabalho: </p><br><ol><li>  Layout de um prot√≥tipo est√°tico para os layouts de design de todas as p√°ginas; </li><li>  Transformando o layout ("alongamento") em um tema WordPress. </li></ol><br><p>  Layout - uma etapa separada do trabalho.  Para um trabalho conveniente com estilos (CSS), marca√ß√£o e JS, o projeto usou um conjunto de plugins e m√≥dulos, que s√£o montados atrav√©s das tarefas Gulp descritas no construtor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SPT</a> (Start Project Template). </p><br><p>  As palavras-chave usadas no coletor do t√≥pico est√°tico do blog s√£o: HTML, CSS, JS, Babel, Gulp, PostCSS, SCSS, Nunjucks. </p><br><p>  Ap√≥s a conclus√£o do layout, a estrutura era a seguinte ( <em>apenas os diret√≥rios de primeiro n√≠vel s√£o indicados</em> ): </p><br><blockquote><pre>  #‚îÄ‚îÄ design # Design, layouts e tudo
 App‚îÄ‚îÄ app / # Fontes do projeto: m√≥dulos separados
 Dist‚îÄ‚îÄ dist / # A vers√£o montada do projeto (arquivos html) e todas as estat√≠sticas
 G‚îÄ‚îÄ gulpfile.js / # Config Gulp.js
 Package‚îÄ‚îÄ package.json # Arquivo de configura√ß√£o do coletor: pacotes, scripts </pre></blockquote><br><p>  Cada elemento sem√¢ntico visual individual na p√°gina, por exemplo, um cart√£o postal ( <code>/components/article_card/</code> ), era uma pasta na qual estava: </p><br><p>  - arquivo de marca√ß√£o ( <code>article_card.html</code> ), </p><br><p>  - arquivo de estilos ( <code>article_card.scss</code> ), </p><br><p>  - arquivo JS ( <code>article_card.js</code> ). </p><br><p>  E cada p√°gina foi montada a partir de blocos de componentes separados.  Os blocos s√£o f√°ceis de manipular e quaisquer altera√ß√µes n√£o afetam os elementos vizinhos. </p><br><p>  Na sa√≠da, o coletor criou a pasta <code>dist</code> , que continha arquivos html prontos para visualiza√ß√£o visual no navegador no est√°gio de edi√ß√£o e coordena√ß√£o, al√©m de um arquivo de estilo, todos os temas e dois arquivos JS: um arquivo ( <code>app.js</code> ) descrevia a l√≥gica e o comportamento site, o segundo ( <code>vendor.js</code> ) continha todas as bibliotecas usadas para o site (jQuery, fotorama, magnific-popup e outros). </p><br><p>  Em seguida, voc√™ precisa transformar tudo isso em um tema WordPress e refletir sobre a estrutura do arquivo.  Para que voc√™ possa trabalhar convenientemente com um layout est√°tico e ao lado dele, coloque um tema WP. </p><br><p>  Lista de layouts preparados pelo designer.  Eles s√£o iguais aos arquivos de tema do blog WordPress: </p><br><ul><li>  P√°gina inicial (arquivo <code>home.php</code> ). </li><li>  Postagem <code>single.php</code> / p√°gina de postagem ( <code>single.php</code> ). </li><li>  Visualiza√ß√£o de uma √∫nica p√°gina de texto ( <code>page.php</code> ). </li><li>  A p√°gina de inscri√ß√£o no boletim informativo ( <code>subscribe.php</code> ). </li><li>  Erro 404 ( <code>404.php</code> ). </li><li>  P√°gina de tags separada ( <code>tag.php</code> ). </li><li>  P√°gina de categoria separada ( <code>category.php</code> ). </li><li>  Pesquisa e resultados da pesquisa ( <code>search.php</code> ). </li></ul><br><p>  Um fluxo de trabalho com essa abordagem e a separa√ß√£o entre a vers√£o est√°tica e a vers√£o WordPress do tema √© o seguinte: se voc√™ precisar corrigir algo na parte visual, as altera√ß√µes ser√£o feitas na vers√£o est√°tica e ap√≥s o teste ser transferido para o tema.  Se forem necess√°rias edi√ß√µes em alguma parte n√£o visual, apenas os arquivos com tema WP ser√£o alterados. </p><br><p>  A pasta do tema do blog √© <code>bsp</code> .  Ele est√° localizado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ao longo do caminho na pasta com os t√≥picos do</a> pr√≥prio blog: </p><br><blockquote><pre>  W‚îÄ‚îÄ wp-content / # arquivos de sites personalizados do WordPress
 Temas do site / # Themes do site
 App ‚îÇ ‚îú‚îÄ‚îÄ app / # Fontes de um tema est√°tico
 Exemplo de tarefa gulpfile.js / # Gulp-tasks for assembly
 Dist ‚îÇ ‚îú‚îÄ‚îÄ dist / # Criar um t√≥pico est√°tico
 ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ assets / # Recursos: JS, CSS e gr√°ficos 
 B ‚îÇ ‚îú‚îÄ‚îÄ bsp / # WP-PromoPult Tema do blog
 Assets ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ assets / # Recursos: JS, CSS e gr√°ficos, copiando de `/ dist /`
 Home ‚îÇ ‚îÇ ‚îÄ‚îÄ‚îÄ home.php # A p√°gina principal do blog e outros arquivos na raiz do t√≥pico </pre></blockquote><br><p>  O local do tema wordpress √© √≥bvio e predeterminado pela estrutura de arquivos do pr√≥prio WordPress. </p><br><blockquote><p>  N√£o h√° outros t√≥picos no diret√≥rio de temas - tudo padr√£o foi exclu√≠do.  Existe um mito sobre o aumento da produtividade dessa maneira, mas n√£o percebemos isso.  Isso √© feito mais por ordem no c√≥digo.  N√£o √© necess√°rio armazenar o que n√£o √© usado e definitivamente n√£o ser√° usado. </p></blockquote><br><p>  Tamb√©m no .git est√£o todos os plugins WP usados.  Em nosso site, s√£o Google Sitemaps XML do Google, RSS para Yandex Turbo, RusToLat e WP-PostViews. </p><br><p>  O prot√≥tipo est√°tico e compilado das p√°ginas do blog e dos arquivos de origem foi movido para o diret√≥rio de temas do blog: para interagir convenientemente com a parte l√≥gica do modelo e com tudo o que √© respons√°vel pela apar√™ncia e pelo comportamento dos elementos na p√°gina. </p><br><p>  Uma vers√£o est√°tica da montagem do projeto - com a fonte e todas as depend√™ncias na primeira tentativa de organizar a estrutura - foi colocada no diret√≥rio de temas. </p><br><p>  Ou seja, pr√≥ximo ao tema principal do <code>bsp</code> , foi adicionado o diret√≥rio <code>/app</code> , no qual est√£o localizados o c√≥digo fonte do layout do tema e o gulp-collector.  Mas nesta vers√£o houve um momento dif√≠cil: os arquivos est√°ticos foram gerados em um diret√≥rio separado e, para que as altera√ß√µes estivessem no tema WP, era necess√°rio copiar o estilo est√°tico e os arquivos de script para a pasta de <code>assets</code> dentro do tema. </p><br><a name="id6"></a><h2>  Segunda abordagem: uma nova vers√£o da estrutura </h2><br><br><p>  Nas primeiras semanas, isso foi decidido por um script de console simples que copiava os arquivos coletados de um tema est√°tico para um tema WP.  A√ß√£o excessiva leva a erros.  Portanto, a op√ß√£o era apenas corrigir a estrutura. </p><br><p>  Temos tr√™s diret√≥rios importantes (desde a raiz): </p><br><ol><li>  Tema do WP: <code>/wp-content/themes/bsp</code> </li><li>  Fontes de um tema est√°tico: <code>/app</code> </li><li>  T√≥pico est√°tico coletado: <code>/dist</code> </li></ol><br><p>  E dentro dele existem <code>assets</code> com arquivos de estilos, gr√°ficos e JS </p><br><p>  Voc√™ precisa organizar tudo para que os arquivos de estilos e scripts est√°ticos sejam coletados na pasta desejada ( <code>/wp-content/themes/bsp/assets</code> ). </p><br><p>  A nova vers√£o da estrutura era a seguinte: </p><br><blockquote><pre>  G‚îÄ‚îÄ gulpfile.js / # Gulp-tarefas para montagem
 W‚îÄ‚îÄ wp-content / # arquivos de sites personalizados do WordPress
 ‚îú ‚îú‚îÄ‚îÄ plugins / # WP-plugins
 Temas do site / # Themes do site
 Sp ‚îÇ ‚îú‚îÄ‚îÄ bsp / # PromoPult Blog T√≥pico
 App S ‚îÇ topic‚îÄ‚îÄ app / # Fontes de um t√≥pico est√°tico
 ‚îÇ ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ assets / # Recursos: JS, CSS e gr√°ficos (gera√ß√£o autom√°tica)
 Home ‚îÇ ‚îÇ ‚îÄ‚îÄ‚îÄ home.php # A p√°gina principal do blog e outros arquivos na raiz do t√≥pico
 W‚îÄ‚îÄ wp-admin / # arquivos WP para o painel de administra√ß√£o
 W‚îÄ‚îÄ wp-includes / # arquivos WP do sistema </pre></blockquote><br><p>  Na raiz de todo o projeto est√£o as tarefas gulp - e s√£o executadas a partir da raiz.  A configura√ß√£o do gulp-tasks descreve a estrutura em que os arquivos est√°ticos s√£o coletados do diret√≥rio <code>wp-content/themes/bsp/app</code> para <code>wp-content/themes/bsp/assets</code> sem nenhuma a√ß√£o adicional, como copiar etc. </p><br><p>  Os arquivos com tema WP permanecem inalterados e o trabalho prossegue de acordo com o cen√°rio antigo: edi√ß√µes em est√°tica ‚Üí transferir para arquivos WP.  As estat√≠sticas CSS e JS s√£o geradas imediatamente na pasta do tema e tudo funciona. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ol/o8/ng/olo8ng_m6qpok93yhphs56hnesm.png" alt="Exemplo de MR para o Blog PromoPult"></div><br><br><p>  Tudo isso foi sobre o processo de trabalho.  Agora, sobre como o blog est√° organizado. </p><br><a name="id7"></a><h2>  Blog PromoPult: como funciona </h2><br><p>  O principal poder do blog √© a equipe.  Editor, autores, designers de layout. </p><br><p>  A grande tarefa √© facilitar o trabalho com o conte√∫do do blog na √°rea de administra√ß√£o.  E levando em conta o fato de que o tema do nosso blog foi criado especificamente para tarefas de conte√∫do e solicita√ß√µes editoriais, o painel de administra√ß√£o foi modificado de acordo. </p><br><a name="id8"></a><h3>  Lista de verifica√ß√£o antes da publica√ß√£o </h3><br><p>  Qualquer trabalho √© importante para controlar.  O layout do artigo √© um processo formalizado padr√£o, que pode ser facilmente apresentado na forma de uma lista de verifica√ß√£o. </p><br><p>  Os <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">caras</a> viram a ideia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">da EmailSoldiers</a> .  Decidimos aplic√°-lo em casa. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dg/so/vz/dgsovzoervieowv432hrwobhdsy.png" alt="Lista de verifica√ß√£o da postagem no blog do PromoPult"></div><br><br><p>  Se algum item n√£o estiver marcado, o sistema o alertar√° antes da publica√ß√£o. </p><br><p>  Ao clicar nos links, links sublinhados no item da lista - realce um item espec√≠fico. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9t/-e/qp/9t-eqpm2rmrrih17jfmkcdb8bfi.png" alt="Configura√ß√µes adicionais de postagem no painel de administra√ß√£o"></div><br><br><p>  A lista de verifica√ß√£o √© compilada na mesma ordem que as configura√ß√µes de postagem adicionais no painel de administra√ß√£o. </p><br><a name="id9"></a><h3>  Configura√ß√µes de postagem do blog </h3><br><p>  Intimamente entrela√ßada com a lista de verifica√ß√£o de publica√ß√£o descrita acima. </p><br><p>  Ao desenvolver o t√≥pico, tentei n√£o usar plug-ins, mas criar uma solu√ß√£o simples e f√°cil para as tarefas do t√≥pico.  Destaques: </p><br><ul><li>  Descri√ß√µes para meta tags de SEO. </li><li>  Descri√ß√µes para tags OpenGraph que usam redes sociais para compartilhar material e formar bons cart√µes de artigos. </li><li>  Trabalho conveniente com fotos de capa para posts.  √â necess√°ria uma imagem - ela √© adicionada ao cart√£o postal no bloco de publica√ß√£o, exibido na p√°gina principal e na p√°gina de cabe√ßalho ou tag. </li><li>  Configura√ß√µes adicionais de tema: uma postagem pode ser com ou sem capa, h√° um breve texto de an√∫ncio que mostramos no cabe√ßalho com uma capa e tamb√©m √© usado na descri√ß√£o do artigo na lista de discuss√£o resumida. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7_/j4/zu/7_j4zuiopxxg4qahpvu9_j3watk.png" alt="Tela com a se√ß√£o de configura√ß√µes de postagem no blog PromoPult"></div><br><br><p>  A se√ß√£o de configura√ß√µes de postagem √© implementada atrav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">meta-caixas e campos personalizados</a> no WordPress. </p><br><p>  Atrav√©s da meta-caixa, a lista de verifica√ß√£o da publica√ß√£o tamb√©m foi adicionada. </p><br><p>  Nos modelos, trabalhar com campos √© simples: se o campo n√£o estiver vazio e preenchido, obtemos o valor e o mostramos.  Por exemplo, √© assim que a rea√ß√£o do bloco √† postagem √© exibida: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (get_post_meta($post-&gt;ID, <span class="hljs-string"><span class="hljs-string">'postreaction'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) { <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">label</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">reaction</span></span></span><span class="hljs-class">"&gt;&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">echo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get_post_meta</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">post</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ID</span></span></span><span class="hljs-class">, '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">postreaction</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">true</span></span></span><span class="hljs-class">); ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">span</span></span></span><span class="hljs-class">&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;&lt;!-- /.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">article_reaction</span></span></span><span class="hljs-class"> --&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> } ?&gt;</span></span></code> </pre> <br><p>  Um exemplo de uma sa√≠da de rea√ß√£o em um cart√£o postal: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/lv/qq/wglvqqicz681nx0m0yrgv8lzbhy.png" alt="Conclus√£o de rea√ß√£o em um cart√£o postal"></div><br><a name="id10"></a><h3>  Nice little things </h3><br><p>  H√° algumas pequenas coisas legais que talvez ningu√©m veja.  Mas se algu√©m percebeu - bom. </p><br><p>  Por exemplo, as <strong>datas de publica√ß√£o de uma</strong> postagem em cart√µes e em uma postagem separada em nosso alfabeto cir√≠lico e como se curvar.  Por alguma raz√£o, isso n√£o est√° na caixa do WordPress.  Se a data de publica√ß√£o estiver no ano atual, o ano n√£o ser√° mostrado conosco. Se o ano for diferente do atual, a data ser√° exibida junto com o ano de publica√ß√£o. </p><br><p>  <strong>Publicar coment√°rio contador.</strong>  Eles argumentaram por um longo tempo que ‚Äú0 coment√°rios‚Äù ou ‚Äúnenhum coment√°rio‚Äù √© muito confuso.  A solu√ß√£o √© muito simples: n√£o mostre o contador de coment√°rios, se houver menos de um coment√°rio. </p><br><p>  Em geral, estamos trabalhando em um sistema de coment√°rios separadamente e gostar√≠amos de falar sobre isso em um grande post separado.  Fazemos um sistema de coment√°rios simples e conveniente, com autoriza√ß√£o simples atrav√©s das redes sociais. </p><br><p>  <strong>Gostos pr√≥prios:</strong> comentar ou compartilhar links em redes sociais √© uma quest√£o longa pela taxa de consumo de conte√∫do, mas clique em "curtir" e deixe claro que o artigo √© interessante - simples e r√°pido.  Fizemos nossos gostos simples e colocamos o contador no cart√£o postal.  E os gostos chegam bem r√°pido.  E, como eles est√£o no final do artigo, tamb√©m √© um sinal de que o texto foi lido. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2n/cn/mr/2ncnmrkkdwdlru1tsmetmuqvura.png" alt="Como o bot√£o Postar no Blog PromoPult"></div><br><br><p>  Eles criaram um <strong>tema sombrio</strong> para o blog - agora est√° na moda.  Levando em conta a estrutura modular (de fato, o site √© um conjunto de blocos que s√£o de alguma forma combinados entre si) e a organiza√ß√£o dos estilos, acabou sendo feito muito rapidamente. </p><br><a name="id11"></a><h3>  Sobre uma t√©cnica interessante </h3><br><p>  O t√≥pico possui uma <strong>minifica√ß√£o do c√≥digo de</strong> marca√ß√£o, CSS e JS.  CSS e JS s√£o compactados por meio de tarefas de gulp no coletor de est√°tica, mas a minifica√ß√£o da marca√ß√£o √© feita atrav√©s do gancho do WordPress <code>WP_HTML_Compression</code> . </p><br><p>  E nos coment√°rios da marca√ß√£o, adicionamos um c√≥digo promocional para aqueles que est√£o interessados ‚Äã‚Äãem como o site √© organizado por dentro e que, em primeiro lugar, procura o c√≥digo-fonte: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/o_/s2/roo_s2bjblolfsrief4wedscr2y.png" alt="C√≥digo-fonte do Blog PromoPult"></div><br><br><p>  <strong>Cache CSS e JS.</strong>  Para armazenar em cache estilos e arquivos de script, mas sempre seja relevante, se refizermos algo, usamos filemtime ().  Muitos nesse caso usam <code>?&lt;?php echo time(); ?&gt;</code>  <code>?&lt;?php echo time(); ?&gt;</code> .  Mas essa op√ß√£o baixa o arquivo e faz uma solicita√ß√£o a cada chamada. </p><br><p>  Melhor usar esse truque: </p><br><pre> <code class="php hljs">&lt;link rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> href=<span class="hljs-string"><span class="hljs-string">"&lt;?php echo get_template_directory_uri(); ?&gt;/assets/styles/style.css?t=&lt;?php echo filemtime(get_theme_file_path().'/assets/styles/style.css'); ?&gt;"</span></span> /&gt;</code> </pre> <br><p>  Nesse caso, os arquivos ser√£o baixados se tiverem sido alterados e a data em que o arquivo foi modificado ser√° adicionada ao par√¢metro de solicita√ß√£o. </p><br><a name="id12"></a><h2>  Quais plugins usamos </h2><br><p>  Apesar da possibilidade e do desejo, em alguns casos, de seguir com sua decis√£o, ainda usamos plugins.  Nossa lista √© a seguinte: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Sitemaps XML do Google</a> - para gerar um mapa do site XML para rob√¥s; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RSS para Yandex Turbo</a> - p√°ginas turbo para Yandex; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RusToLat</a> - translitera√ß√£o do URL de caracteres russos para o ingl√™s; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WP-PostViews</a> - conta visualiza√ß√µes de materiais; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Editor cl√°ssico</a> - inclui o editor cl√°ssico do WordPress em vez do novo bloco Gutenberg; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A limita√ß√£o das tentativas de autoriza√ß√£o</a> √© por seguran√ßa: com v√°rias tentativas incorretas de login, banimos uma entrada por um per√≠odo personalizado; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AMP</a> - p√°ginas AMP para o Google. </li></ul><br><a name="id13"></a><h2>  Dicas de conclus√£o para quem trabalha no blog de uma empresa </h2><br><ul><li>  Aconselho no in√≠cio do trabalho no projeto a pensar imediatamente sobre o dimensionamento. </li><li>  Certifique-se de usar <code>.git</code> no seu trabalho.  Para 2019, √© claro, conselhos estranhos, mas esse conselho pode salvar algu√©m de cabelos grisalhos e repreender quando algo der errado. </li><li>  √â melhor dividir o desenvolvimento e trabalhar em um tema do WordPress em dois est√°gios: primeiro, invente algo est√°tico e j√° fa√ßa "puxar" algo como um tema do WordPress. </li><li>  Se houver uma oportunidade - tempo, equipe e compreens√£o de por que voc√™ precisa de tudo isso - fa√ßa voc√™ mesmo, sem usar op√ß√µes prontas.  Ganhe em ordem e entenda como tudo funciona.  Voc√™ n√£o produzir√° muletas. </li><li>  Use ganchos e recursos padr√£o do WordPress se o seu blog for constru√≠do sobre ele.  Personalizar e criar uma solu√ß√£o conveniente √© r√°pido e f√°cil. </li><li>  Torne conveniente para o usu√°rio e os editores. </li><li>  N√£o se esque√ßa das redes sociais e do micro-layout. </li><li>  N√£o se esque√ßa das vers√µes m√≥veis. </li><li>  N√£o se esque√ßa das atualiza√ß√µes regulares de plugins e sistemas. </li><li>  Selecione apenas plugins comprovados. </li></ul><br><p>  O trabalho no blog continua - fique conosco. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt457402/">https://habr.com/ru/post/pt457402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt457390/index.html">Madagascar - ilha dos contrastes</a></li>
<li><a href="../pt457392/index.html">Economias no desenvolvimento de plataformas cruzadas m√≥veis: estudo de caso da Skyeng</a></li>
<li><a href="../pt457396/index.html">Desbloquear automaticamente o cont√™iner LUKS raiz ap√≥s uma inicializa√ß√£o a quente</a></li>
<li><a href="../pt457398/index.html">Mas estou fazendo besteira? Por que os desenvolvedores v√£o para o gemba</a></li>
<li><a href="../pt457400/index.html">O n√∫mero de v√≠timas de desastres nucleares como Chernobyl √© exagerado em termos de drama</a></li>
<li><a href="../pt457404/index.html">Not√≠cias do mundo do OpenStreetMap n¬∫ 465 (11/06/2019 - 17/06/2019)</a></li>
<li><a href="../pt457406/index.html">Quanto ganham os graduados de v√°rias universidades russas</a></li>
<li><a href="../pt457408/index.html">Bem-vindo ao DINS Java EVENING 26 de junho</a></li>
<li><a href="../pt457410/index.html">Funda√ß√£o Acronis: as escolas j√° foram constru√≠das em 8 pa√≠ses. Voc√™ est√° conosco</a></li>
<li><a href="../pt457412/index.html">Banners de cookies: como verificar rapidamente a conformidade com o GDPR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>