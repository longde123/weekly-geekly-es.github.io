<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Å üë©‚Äç‚ù§Ô∏è‚Äçüë® üôãüèΩ O livro "Primavera. Todos os padr√µes de design ¬ª üë¥üèø üëàüèº üï¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi, habrozhiteli! Publicamos um livro que fornece uma vis√£o geral da estrutura e padr√µes de design do Spring 5. O princ√≠pio da inje√ß√£o de depend√™ncia ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O livro "Primavera. Todos os padr√µes de design ¬ª</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/438976/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/vm/th/di/vmthdimvgwkbajd3j6bctndhqxq.jpeg" align="left" alt="imagem"></a>  Oi, habrozhiteli!  Publicamos um livro que fornece uma vis√£o geral da estrutura e padr√µes de design do Spring 5.  O princ√≠pio da inje√ß√£o de depend√™ncia √© explicado, que desempenha um papel fundamental na cria√ß√£o de c√≥digo fracamente acoplado na estrutura Spring.  Em seguida, os padr√µes cl√°ssicos do Gang of Four s√£o examinados ao projetar aplicativos no Spring.  Nas partes seguintes do livro, o autor discute os padr√µes de programa√ß√£o orientada a aspectos (AOP), padr√µes JDBC que permitem abstrair o acesso ao banco de dados.  Nos cap√≠tulos finais do livro, o autor explora o trabalho com o MVC, os padr√µes de design reativo e os padr√µes de design usados ‚Äã‚Äãna programa√ß√£o simult√¢nea e paralela no Spring. <br><br>  Sugerimos que voc√™ se familiarize com a passagem "Padr√£o" Objeto de acesso a dados "" <br><a name="habracut"></a><br>  Um Data Access Object (DAO) √© um padr√£o de design extremamente popular para o n√≠vel de persist√™ncia nos aplicativos J2EE.  Ele separa o n√≠vel da l√≥gica de neg√≥cios do n√≠vel de reten√ß√£o.  O padr√£o DAO √© baseado em princ√≠pios orientados a objetos de encapsulamento e abstra√ß√£o.  O contexto para usar o padr√£o DAO √© o acesso aos dados e seu armazenamento, dependendo da implementa√ß√£o e do tipo de armazenamento espec√≠ficos, por exemplo, um banco de dados orientado a objetos, arquivos n√£o estruturados, bancos de dados relacionais etc. Com base no padr√£o DAO, voc√™ pode criar uma interface DAO e implement√°-la, abstrair e encapsular todas as chamadas para a fonte de dados.  Uma implementa√ß√£o semelhante do DAO gerencia recursos de banco de dados, como conex√µes com uma fonte de dados. <br><br>  As interfaces DAO s√£o muito f√°ceis de se adaptar a todos os mecanismos subjacentes das fontes de dados; elas n√£o precisam ser substitu√≠das por altera√ß√µes nas tecnologias de armazenamento em n√≠veis mais baixos.  Esse padr√£o permite implementar v√°rias tecnologias de acesso a dados sem afetar a l√≥gica de neg√≥cios do aplicativo corporativo.  Vamos considerar a fig.  8.1 para entender melhor os princ√≠pios do padr√£o DAO. <br><br>  Como voc√™ pode ver no diagrama, os seguintes objetos est√£o envolvidos no padr√£o. <br><br>  BusinessObject - um objeto que funciona no n√≠vel comercial - um cliente para o n√≠vel de acesso a dados.  Ele precisa de dados para simular processos de neg√≥cios, bem como preparar objetos Java para fun√ß√µes auxiliares ou controladores de aplicativos. <br><br>  DataAccessObject √© o principal objeto do padr√£o DAO.  Oculta do BusinessObject toda a implementa√ß√£o de baixo n√≠vel do banco de dados subjacente. <br><br>  Um DataSource tamb√©m √© um objeto que cont√©m todas as informa√ß√µes de baixo n√≠vel sobre o que exatamente √© o banco de dados subjacente: RDBMS, arquivos n√£o estruturados ou XML. <br><br>  TransferObject - um objeto usado como meio de armazenamento.  Usado pelo DataAccessObject para retornar dados ao BusinessObject. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kd/xu/xb/kdxuxbasui0ofxhehoptufnjgx0.png" alt="imagem"></div><br>  Considere o exemplo a seguir de um padr√£o DAO no qual AccountDao √© a interface de um DataAccessObject e AccountDaoImpl √© uma classe que implementa a interface AccountDao: <br><br><pre><code class="plaintext hljs">public interface AccountDao { Integer totalAccountsByBranch(String branchName); } public class AccountDaoImpl extends JdbcDaoSupport implements AccountDao { @Override public Integer totalAccountsByBranch(String branchName) { String sql = "SELECT count(*) FROM Account WHERE branchName = "+branchName; return this.getJdbcTemplate().queryForObject(sql, Integer.class); } }</code> </pre> <br><h3>  Criando objetos DAO no Spring usando o padr√£o de design Factory </h3><br>  Como voc√™ sabe, muitos padr√µes de design est√£o envolvidos na estrutura do Spring.  O padr√£o Factory √© um padr√£o gen√©rico de design e √© usado para criar um objeto sem revelar a l√≥gica subjacente ao cliente, al√©m de atribuir um novo objeto ao chamador usando uma interface comum ou classe abstrata.  Gra√ßas aos padr√µes de projeto Factory Method e Abstract Factory, √© poss√≠vel obter uma flexibilidade muito alta do padr√£o DAO. <br><br>  Descobriremos onde, em nosso exemplo, implementamos a estrat√©gia na qual a f√°brica produz objetos DAO para a implementa√ß√£o de um banco de dados comum (Fig. 8.2). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5e/8u/an/5e8uan8re9zkfx-cmlcujgnxrdq.png" alt="imagem"></div><br>  Voc√™ pode ver no diagrama anterior que o AccountDaoFactory produz um objeto AccountDao, ou seja, √© uma f√°brica para ele.  O banco de dados subjacente pode ser substitu√≠do a qualquer momento, enquanto o c√≥digo comercial n√£o precisa ser alterado - a f√°brica realiza esse trabalho.  O Spring suporta o armazenamento de todos os DAOs na f√°brica de componentes e tamb√©m na f√°brica do DAO. <br><br><h3>  Padr√£o de Mapeamento de Dados </h3><br>  A estrutura ORM fornece mapeamento entre objetos e bancos de dados relacionais, porque objetos e tabelas de bancos de dados relacionais armazenam dados do aplicativo de maneiras diferentes.  Al√©m disso, objetos e tabelas possuem v√°rios mecanismos para estruturar dados.  Ao usar qualquer solu√ß√£o ORM em um aplicativo Spring, como Hibernate, JPA ou JDO, n√£o √© necess√°rio se preocupar com o mecanismo de mapeamento entre objetos e bancos de dados relacionais. <br><br>  Vamos considerar a fig.  8.3 para entender melhor o padr√£o "Data Mapper". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/44/pf/t1/44pft1zvvhqcywlmrxbfhiq0qto.png" alt="imagem"></div><br>  No diagrama, o objeto Account √© mapeado para o banco de dados relacional usando a interface AccountMapper.  O AccountMapper desempenha o papel de intermedi√°rio no aplicativo entre o objeto Java e o banco de dados subjacente.  Considere outro padr√£o usado no n√≠vel de acesso a dados. <br><br><h3>  Padr√£o "Modelo de Dom√≠nio" </h3><br>  Um modelo de dom√≠nio √© um objeto que possui dados e comportamento, em que o comportamento determina a l√≥gica de neg√≥cios de um aplicativo corporativo e os dados representam informa√ß√µes sobre os resultados dos neg√≥cios.  O modelo de dom√≠nio combina dados e o processo.  Em um aplicativo corporativo, o modelo de dados est√° localizado abaixo do n√≠vel de neg√≥cios e define a l√≥gica de neg√≥cios, retornando os resultados do comportamento dos neg√≥cios.  Considere o seguinte diagrama para maior clareza (Fig. 8.4). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ei/_b/p5/ei_bp5wgux8l9kjozgk12366nem.png" alt="imagem"></div><br>  Como voc√™ pode ver no diagrama, o aplicativo define dois modelos de dom√≠nio de acordo com os requisitos de neg√≥cios.  O algoritmo comercial para transferir dinheiro de uma conta para outra √© descrito na classe TransferService.  As classes TransferService e AccountService est√£o relacionadas ao padr√£o "Modelo de Dom√≠nio" no aplicativo corporativo. <br><br><h3>  Proxies para o Padr√£o de Download Adiado </h3><br>  "Carregamento atrasado" √© um padr√£o de design usado por algumas das solu√ß√µes ORM, por exemplo, Hibernate, em aplicativos corporativos para atrasar a inicializa√ß√£o de um objeto at√© que outro objeto o acesse, ou seja, quando for necess√°rio.  O objetivo desse padr√£o de design √© otimizar a mem√≥ria no aplicativo.  O padr√£o de design de carregamento diferido do Hibernate √© implementado usando um objeto proxy virtual.  Para demonstrar o atraso no carregamento, usamos um proxy, mas ele n√£o se aplica ao padr√£o "Deputado". <br><br><h3>  Padr√£o de m√©todo de modelo para suporte a hiberna√ß√£o na primavera </h3><br>  A estrutura Spring fornece uma classe auxiliar para acessar dados no n√≠vel DAO, com base no padr√£o de design do M√©todo de Padr√£o GoF.  A classe HibernateTemplate da estrutura Spring suporta opera√ß√µes de banco de dados, como salvar, criar, excluir e atualizar.  Essa classe garante que apenas uma sess√£o do Hibernate seja usada para cada transa√ß√£o. <br><br><h3>  Integra√ß√£o do Hibernate com Spring </h3><br>  O Hibernate √© uma estrutura de persist√™ncia ORM de c√≥digo aberto que n√£o apenas fornece uma exibi√ß√£o de relacionamentos simples de objetos entre objetos Java e tabelas de banco de dados, mas tamb√©m oferece muitos recursos avan√ßados para melhorar o desempenho do aplicativo e tamb√©m ajuda a melhorar a utiliza√ß√£o de recursos, como cache , carregamento atrasado, recupera√ß√£o imediata de dados e cache distribu√≠do. <br><br>  O Spring oferece suporte completo √† integra√ß√£o com a estrutura do Hibernate, possui v√°rias bibliotecas internas que possibilitam o uso do Hibernate em 100%.  Para definir as configura√ß√µes de hiberna√ß√£o no aplicativo, voc√™ pode usar o padr√£o de inje√ß√£o de depend√™ncia e o cont√™iner de IoC da estrutura Spring. <br><br>  Na pr√≥xima se√ß√£o, descobriremos como configurar o Hibernate corretamente no cont√™iner IoC da estrutura Spring. <br><br><h3>  Definindo configura√ß√µes de objeto de hiberna√ß√£o SessionFactory em um cont√™iner Spring </h3><br>  A melhor abordagem para configurar o Hibernate e outras tecnologias de armazenamento em qualquer aplicativo corporativo √© separar objetos de neg√≥cios com diret√≥rios de recursos conectados, como DataSource no JDBC ou SessionFactory no Hibernate.  Esses recursos podem ser descritos como componentes no cont√™iner Spring.  Mas o acesso a eles por objetos de neg√≥cios requer refer√™ncias a eles.  Considere a seguinte classe DAO que usa um objeto SessionFactory para recuperar dados para um aplicativo: <br><br><pre> <code class="plaintext hljs">public class AccountDaoImpl implements AccountDao { private SessionFactory sessionFactory; public void setSessionFactory(SessionFactory sessionFactory) { this.sessionFactory = sessionFactory; } // ... }</code> </pre> <br>  Como voc√™ pode ver, a classe DAO, AccountDaoImpl, segue o padr√£o de inje√ß√£o de depend√™ncia.  Para acessar os dados, o objeto SessionFactory da estrutura do Hibernate est√° incorporado e fica √≥timo no cont√™iner IoC Spring.  O objeto SessionFactory da estrutura do Hibernate √© um √∫nico objeto; ele gera o principal objeto da interface org.hibernate.Session do Hibernate.  O objeto SessionFactory gerencia o objeto Session e tamb√©m √© respons√°vel por abri-lo e fech√°-lo.  A interface Session cont√©m funcionalidades reais de acesso a dados - salvar (salvar), atualizar (atualizar), excluir (excluir) e carregar (carregar) objetos do banco de dados.  No aplicativo, um objeto da classe AccountDaoImpl ou qualquer outro reposit√≥rio executa todas as opera√ß√µes de armazenamento de dados necess√°rias usando esse objeto Session. <br><br>  A estrutura do Spring fornece m√≥dulos internos do Hibernate, para que voc√™ possa usar os componentes SessionFactory Hibernate em seus aplicativos. <br><br>  O componente org.springframework.orm.hibernate5.LocalSessionFactoryBean √© uma implementa√ß√£o da interface Spring FactoryBean.  LocalSessionFactoryBean √© baseado no padr√£o Abstract Factory; gera um objeto SessionFactory no aplicativo.  Este objeto pode ser configurado como um componente no contexto de um aplicativo Spring da seguinte maneira: <br><br><pre> <code class="plaintext hljs">@Bean public LocalSessionFactoryBean sessionFactory(DataSource dataSource) { LocalSessionFactoryBean sfb = new LocalSessionFactoryBean(); sfb.setDataSource(dataSource); sfb.setPackagesToScan(new String[] { "com.packt.patterninspring.chapter8.bankapp.model" }); Properties props = new Properties(); props.setProperty("dialect", "org.hibernate.dialect.H2Dialect"); sfb.setHibernateProperties(props); return sfb; }</code> </pre> <br>  Nesse c√≥digo, configuramos o objeto SessionFactory como um componente usando a classe LocalSessionFactoryBean da estrutura Spring.  O m√©todo desse componente aceita um objeto do tipo DataSource como argumento, que determina o local e o m√©todo de conex√£o com o banco de dados.  Tamb√©m especificamos qual pacote exibir, definindo o valor ‚Äúcom.packt.patterninspring.chapter8.bankapp.model‚Äù para a propriedade setPackagesToScan do componente LocalSessionFactoryBean e configuramos a propriedade dialect do componente SessionFactory usando o m√©todo setHibernateProperties para indicar qual tipo de banco de dados temos com importa na aplica√ß√£o. <br><br>  Agora, depois de configurar o componente SessionFactory Hibernate, no contexto do aplicativo Spring, vamos ver como podemos implementar objetos de acesso a dados para o n√≠vel de salvamento de nosso aplicativo. <br><br><h3>  Sobre o autor </h3><br>  <b>Dinesh Rajput</b> √© editor chefe do site Dineshonjava, um blog t√©cnico dedicado √†s tecnologias Java e Spring.  O site cont√©m artigos sobre a tecnologia Java.  Dinesh √© um blogueiro, autor de livros, desde 2008 um entusiasta da primavera, um especialista certificado da Pivotal (Pivotal Certified Spring Professional).  Ele tem mais de uma d√©cada de experi√™ncia em design e desenvolvimento usando Java e Spring.  Ele √© especialista em trabalhar com a vers√£o mais recente do Spring Framework, Spring Boot, Spring Security, criando uma API REST, arquitetura de microsservi√ßo, programa√ß√£o reativa, programa√ß√£o orientada a aspectos usando Spring, padr√µes de design, Struts, Hibernate, servi√ßos da web, Spring Batch, Cassandra, MongoDB, uma arquitetura de aplicativos da web. <br><br>  Atualmente, Dinesh est√° trabalhando como gerente de tecnologia em uma das empresas l√≠deres no campo de desenvolvimento de software.  Ele foi o desenvolvedor e l√≠der de equipe da Bennett, Coleman &amp; Co.  Ltd e, antes disso, um desenvolvedor l√≠der da Paytm.  Dinesh est√° entusiasmado com as mais recentes tecnologias Java e gosta de escrever sobre elas em blogs t√©cnicos.  Ele √© um membro ativo das comunidades Java e Spring em v√°rios f√≥runs.  Dinesh √© um dos melhores especialistas em Java e Spring. <br><br><h3>  Sobre o Revisor </h3><br>  <b>Rajiv Kumar Mohan</b> tem uma vasta experi√™ncia em desenvolvimento de software e treinamento corporativo.  Por 18 anos, ele trabalhou para grandes empresas de TI como IBM, Pentasoft, Sapient e Deft Infosystems.  Ele come√ßou sua carreira como programador, liderou muitos projetos. <br><br>  Ele √© especialista na √°rea de assunto de Java, J2EE e estruturas relacionadas, Android, tecnologias de interface do usu√°rio.  Certificado pela Sun como programador Java (SCJP, programador certificado Sun da Java) e desenvolvedor web Java (desenvolvedor certificado pela Sun Web Component, SCWCD).  Rajiv possui quatro cursos superiores: no campo da ci√™ncia da computa√ß√£o (ci√™ncia da computa√ß√£o), ci√™ncia da computa√ß√£o aplicada (aplica√ß√µes de computador), qu√≠mica org√¢nica e administra√ß√£o de empresas (MBA).  Ele √© consultor de recrutamento e especialista em treinamento na HCL, Amdocs, Steria, TCS, Wipro, Oracle University, IBM, CSC, Genpact, Sapient Infosys e Capgemini. <br><br>  Rajeev √© o fundador da SNS Infotech, localizada na cidade da Grande Noida.  Al√©m disso, ele trabalhou no Instituto Nacional de Tecnologia da Moda (NIFT). <br><br>  ¬ªMais informa√ß√µes sobre o livro podem ser encontradas no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site do editor</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Conte√∫do</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Trecho</a> <br><br>  20% de desconto no cupom para vendedores ambulantes - <b>Primavera</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438976/">https://habr.com/ru/post/pt438976/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438966/index.html">Documenta√ß√£o haproxy de hist√≥rico errante ou o que procurar ao configur√°-lo</a></li>
<li><a href="../pt438968/index.html">Marcando sapatos na R√∫ssia: o mercado n√£o est√° pronto, mas ter√° que funcionar</a></li>
<li><a href="../pt438970/index.html">Diz-se que Haskell √© uma linguagem para g√™nios e acad√™micos. Certo?</a></li>
<li><a href="../pt438972/index.html">O c√©rebro por dentro (visualiza√ß√£o da passagem do padr√£o atrav√©s do modelo de rede neural artificial)</a></li>
<li><a href="../pt438974/index.html">Realidade virtual ajuda a lidar com transtornos mentais</a></li>
<li><a href="../pt438978/index.html">Aprendendo sempre e em qualquer lugar! Podcasts para desenvolvedores em ingl√™s</a></li>
<li><a href="../pt438980/index.html">Spring Boot 2: o que h√° de novo?</a></li>
<li><a href="../pt438982/index.html">Guia Kubernetes, Parte 1: Aplicativos, Microsservi√ßos e Cont√™ineres</a></li>
<li><a href="../pt438984/index.html">Guia Kubernetes, Parte 2: Criando e trabalhando com um cluster</a></li>
<li><a href="../pt438986/index.html">Tutorial Reagir Parte 14: Workshop sobre componentes baseados em classe, status do componente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>