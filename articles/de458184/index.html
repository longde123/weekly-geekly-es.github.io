<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§™ üö´ üìÜ Haxe und PHP: statische Eingabe, Pfeilfunktionen, Metaprogrammierung und vieles mehr üëäüèΩ üë©‚Äçüë©‚Äçüë¶‚Äçüë¶ üßùüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Ich mache Sie auf eine √úbersetzung des Berichts von Alexander Kuzmenko von der j√ºngsten Open Source-Konferenz 2019 in Hongkong (14.-15. Ju...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Haxe und PHP: statische Eingabe, Pfeilfunktionen, Metaprogrammierung und vieles mehr</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458184/"><p>  Hallo Habr!  Ich mache Sie auf eine √úbersetzung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Berichts von Alexander Kuzmenko</a> von der j√ºngsten Open Source-Konferenz 2019 in Hongkong (14.-15. Juni) aufmerksam. </p><br><p><img src="https://habrastorage.org/webt/rc/jl/b3/rcjlb3szs-q64jnzbf24jp-pkbi.jpeg" alt="Bild"></p><br><p>  Bevor Alexander als Entwickler des Haxe-Compilers zur Haxe Foundation kam, war er ungef√§hr 10 Jahre lang professionell in der PHP-Programmierung t√§tig, damit er das Thema des Berichts kennt. <a name="habracut"></a></p><br><p><img src="https://habrastorage.org/webt/dd/ge/uz/ddgeuzdpnucbeqtsoesmwsigcqy.png" alt="Bild"></p><br><p>  Eine kleine Einf√ºhrung in Haxe ist eine plattform√ºbergreifende Reihe von Tools zum Erstellen von Software, die Folgendes umfassen: </p><br><ul><li>  Ein Compiler, der je nach Zielplattform entweder den Haxe-Quellcode in anderen Programmiersprachen (C ++, PHP, Java, C #, JavaScript, Python, Lua) in Quellcode √ºbersetzt oder direkt in den Bytecode der virtuellen Maschine (JVM, neko) kompiliert , HashLink, Flash) </li><li>  Standardbibliothek f√ºr alle unterst√ºtzten Plattformen implementiert </li><li>  Haxe bietet auch Tools f√ºr die Interaktion mit Code, der in der Sprache der Zielplattform geschrieben wurde. </li><li>  Standardbibliotheksmanager - Haxelib </li></ul><br><p><img src="https://habrastorage.org/webt/t_/vz/6b/t_vz6bmv3hsecjwjg49kqxcwjwy.png" alt="Bild"></p><br><p>  Die PHP-Unterst√ºtzung in Haxe erschien vor langer Zeit - bereits 2008.  In Haxe-Versionen bis einschlie√ülich 3.4.7 wurde PHP 5.4 und h√∂her unterst√ºtzt, und ab der vierten Version unterst√ºtzt Haxe PHP-Version 7.0 und h√∂her. </p><br><p><img src="https://habrastorage.org/webt/ij/ku/hj/ijkuhjvcmki9lxrik0xudelbboq.png" alt="Bild"></p><br><p>  Sie fragen sich vielleicht: Warum sollte ein PHP-Entwickler Haxe verwenden? <br>  Der Hauptgrund daf√ºr ist die M√∂glichkeit, sowohl auf dem Server als auch auf dem Client dieselbe Logik zu verwenden. <br>  Betrachten Sie dieses Beispiel: Sie haben einen Server, der mit dem Laravel-Framework in PHP geschrieben wurde, und mehrere Clients, die in JavaScript, Java, C # geschrieben sind.  In diesem Fall m√ºssen Sie 4 Implementierungen f√ºr jede der verwendeten Sprachen schreiben, um die Netzwerkinteraktion zwischen dem Server und dem Client zu verarbeiten (deren Logik im Grunde dieselbe ist).  Mit Haxe k√∂nnen Sie den Netzwerkprotokollcode jedoch einmal schreiben und dann auf verschiedenen Plattformen kompilieren / √ºbersetzen, was viel Zeit spart. </p><br><p><img src="https://habrastorage.org/webt/48/ib/h_/48ibh_6amyom9nhq24zjkkyinmq.png" alt="Bild"></p><br><p>  Hier ist ein weiteres Beispiel - eine Spieleanwendung - ein Zusammenprall von Clash of Clans.  Alexander war an der Entwicklung eines solchen Spiels beteiligt: ‚Äã‚ÄãSein Server wurde in PHP geschrieben, der mobile Client in C # (Xamarin) und der Browser-Client in JavaScript unter Verwendung des Phaser-Frameworks.  Auf dem Client und dem Server wurde eine Logik verarbeitet - die sogenannte "Schlacht", die das Verhalten der Spielereinheiten am Standort berechnete.  Anfangs wurde der Kampfcode f√ºr jede der Plattformen separat geschrieben.  Im Laufe der Zeit (und das Projekt entwickelt sich seit ungef√§hr 5 Jahren) haben sich jedoch Unterschiede im Verhalten auf dem Server und auf den Clients angesammelt.  Dies lag an der Tatsache, dass es von verschiedenen Personen geschrieben wurde, von denen jeder es auf seine eigene Weise realisierte.  Aus diesem Grund gab es keine zuverl√§ssige M√∂glichkeit, Betr√ºger zu erkennen, da sich die Logik auf dem Server √ºberhaupt nicht wie auf dem Client verhielt, was dazu f√ºhrte, dass auch ehrliche Spieler darunter litten.  Der Server konnte sie als Betr√ºger z√§hlen und nicht die Ergebnisse eines ehrlichen Kampfes. <br>  Am Ende wurde beschlossen, die Schlacht auf Haxe zu √ºbertragen, was es erm√∂glichte, das Problem mit Betr√ºgern vollst√§ndig zu l√∂sen, weil  Jetzt verhielt sich die Logik des Kampfes auf allen Plattformen gleich.  Dar√ºber hinaus konnten durch diese Entscheidung die Kosten f√ºr die Weiterentwicklung des Kampfsystems gesenkt werden  Jetzt war es genug f√ºr einen Programmierer, der mit Haxe vertraut war, anstatt f√ºr drei, von denen jeder f√ºr seine Plattform verantwortlich sein w√ºrde. </p><br><p><img src="https://habrastorage.org/webt/6r/2s/z0/6r2sz0kteijlry-ty8q-apoehqw.png" alt="Bild"></p><br><p>  Wie unterscheiden sich Haxe und PHP voneinander?  Im Allgemeinen scheint die Haxe-Syntax dem PHP-Programmierer nichts Fremdes zu sein.  Ja, es ist anders, aber in den meisten F√§llen wird es PHP sehr √§hnlich sein. <br>  Die Folie zeigt einen Vergleich des Codes zum Anzeigen einer Zeichenfolge in der Konsole.  In Haxe sieht der Code fast gleich aus, au√üer dass Sie sie importieren m√ºssen, um mit PHP-Funktionen zu arbeiten (siehe erste Zeile). </p><br><p><img src="https://habrastorage.org/webt/ls/lo/gz/lslogzfyevnbebfjkmbvgqv1vra.png" alt="Bild"></p><br><p>  Und so sieht der generierte PHP-Code im Vergleich zum manuell geschriebenen aus. <br>  Der Haxe-Compiler f√ºgt dem Code automatisch einen Kommentarblock hinzu, der die Typen von Funktionsargumenten und R√ºckgabetypen beschreibt, sodass der resultierende Code mit einem PHP-Projekt verbunden werden kann und die automatische Vervollst√§ndigung problemlos funktioniert. </p><br><p>  Schauen wir uns einige signifikante Unterschiede in der Syntax von Haxe und PHP an. </p><br><p><img src="https://habrastorage.org/webt/7w/g_/ri/7wg_rixmfysd_w6i5t6wsagbjie.png" alt="Bild"></p><br><p> Beginnen wir mit den Unterschieden in der Syntax anonymer Funktionen (am Beispiel zum Sortieren eines Arrays). <br>  Die Folie zeigt eine anonyme Funktion, die den Wert der lokalen Variablen <code>desc</code> erfasst und √§ndert.  In PHP m√ºssen Sie explizit angeben, welche Variablen im Hauptteil einer anonymen Funktion verf√ºgbar sind.  Um den Wert einer Variablen √§ndern zu k√∂nnen, m√ºssen Sie au√üerdem <code>&amp;</code> vor ihrem Namen hinzuf√ºgen. <br>  In Haxe ist dies nicht mehr erforderlich.  Der Compiler selbst bestimmt, auf welche Variablen Sie zugreifen.  Dar√ºber hinaus wurden in Haxe 4 Pfeilfunktionen (eine Kurzform zur Beschreibung anonymer Funktionen) angezeigt, mit denen wir unser Beispiel verk√ºrzen k√∂nnen, indem wir ein Array auf nur eine Zeile sortieren. </p><br><p><img src="https://habrastorage.org/webt/nn/kt/fx/nnktfxc6ms0wcichaevl1gqccro.png" alt="Bild"></p><br><p>  Ein weiterer Unterschied in der Syntax sind Unterschiede in der Beschreibung des <code>switch</code> Control-Konstrukts.  In PHP funktioniert der <code>switch</code> genauso wie in C.  In Haxe funktioniert es anders: </p><br><ul><li>  Erstens verwendet der Switch nicht das Schl√ºsselwort <code>break</code> </li><li>  Zweitens k√∂nnen Sie mit <code>|</code> mehrere Bedingungen kombinieren  (anstatt das <code>case</code> Schl√ºsselwort zu duplizieren) </li><li>  Drittens verwendet Haxe Pattern Matching f√ºr den <code>switch</code> .  So k√∂nnen Sie beispielsweise den <code>switch</code> auf das Array anwenden und unter den Bedingungen Aktionen definieren, die vom Inhalt des Arrays abh√§ngen (das Zeichen <code>_</code> bedeutet, dass dieser Wert uns nicht st√∂rt und alles sein kann).  Die Bedingung <code>[1, _, 3]</code> ist erf√ºllt, wenn das Array aus drei Elementen besteht, w√§hrend das erste Element 1, das dritte 3 und der Wert des zweiten Elements beliebig ist. </li></ul><br><p><img src="https://habrastorage.org/webt/-k/pl/zt/-kplzt2ulu5dhpkkdlfepebrneu.png" alt="Bild"></p><br><p>  In Haxe ist alles ein Ausdruck, und so k√∂nnen Sie kompakteren Code schreiben.  Sie k√∂nnen einen Wert von <code>try</code> / <code>catch</code> , <code>if</code> oder <code>switch</code> ohne das Schl√ºsselwort <code>return</code> in diesen Konstrukten zu verwenden.  Im obigen Beispiel mit <code>try</code> / <code>catch</code> ‚Äûwei√ü‚Äú <code>catch</code> Compiler, dass Sie einen Wert zur√ºckgeben m√∂chten, und kann ihn von diesem Konstrukt √ºbergeben. </p><br><p><img src="https://habrastorage.org/webt/ut/la/te/utlatecvj5wozwt9wnqmnpuo8xs.png" alt="Bild"></p><br><p>  PHP bewegt sich allm√§hlich in Richtung einer st√§rkeren Typisierung, aber Haxe hat bereits eine starke statische Typisierung! <br>  Im obigen Beispiel weisen wir der Variablen <code>s</code> Wert zu, der von der <code>functionReturnsString()</code> , die eine Zeichenfolge zur√ºckgibt.  Somit ist der Typ der Variablen <code>s</code> eine Zeichenfolge.  Wenn Sie versuchen, es an die Funktion <code>giveMeInteger()</code> , die eine Ganzzahl als Argument <code>giveMeInteger()</code> , gibt der Haxe-Compiler einen Fehler bez√ºglich der Typinkongruenz aus. <br>  Dieses Beispiel zeigt auch ein weiteres wichtiges Merkmal von Haxe - die Typinferenz - die F√§higkeit des Compilers, die Variablentypen unabh√§ngig davon zu bestimmen, welchem ‚Äã‚ÄãWert sie zugewiesen sind. </p><br><p><img src="https://habrastorage.org/webt/4c/or/ik/4corikloq4gvhkdvba7njqnmdfm.png" alt="Bild"></p><br><p>  F√ºr den Programmierer bedeutet dies, dass in den meisten F√§llen die explizite Angabe der Variablentypen optional ist.  In der obigen Funktion <code>isSmall()</code> bestimmt der Compiler, dass der Argumenttyp <code>a</code> eine Ganzzahl ist, weil  In der ersten Zeile des Funktionsk√∂rpers vergleichen wir den Wert von <code>a</code> mit einer ganzen Zahl.  Ferner bestimmt der Compiler basierend auf der Tatsache, dass wir in der zweiten Zeile des Funktionsk√∂rpers <code>true</code> , dass der R√ºckgabetyp ein boolescher Wert ist.  Und weil  Da der Compiler den Typ des R√ºckgabewerts bereits ermittelt hat, wird bei weiteren Versuchen, einen anderen Typ von der Funktion zur√ºckzugeben, ein Typfehlanpassungsfehler ausgegeben. </p><br><p><img src="https://habrastorage.org/webt/ja/ol/tv/jaoltvlbh3cj9auycpbmvgchfbg.png" alt="Bild"></p><br><p>  In Haxe gibt es im Gegensatz zu PHP keine automatische Typkonvertierung.  In PHP ist es beispielsweise m√∂glich, eine Zeichenfolge von einer Funktion zur√ºckzugeben, f√ºr die angegeben wird, dass sie eine Ganzzahl zur√ºckgibt. In diesem Fall wird die Zeichenfolge bei Ausf√ºhrung des Skripts in eine Zahl konvertiert (nicht immer erfolgreich).  Und in Haxe wird √§hnlicher Code einfach nicht kompiliert - der Compiler gibt einen Typ-Mismatch-Fehler aus. </p><br><p><img src="https://habrastorage.org/webt/tl/tc/wr/tltcwryptyinh6qqnmcks_2lhmi.png" alt="Bild"></p><br><p>  Ein weiteres Merkmal von Haxe ist das fortschrittliche Typsystem, das Folgendes umfasst: </p><br><ul><li>  Funktionstypen, bestehend aus Funktionsargumenttypen und R√ºckgabetyp </li><li>  verallgemeinerte (parametrisierte) Typen (dazu geh√∂ren beispielsweise Arrays, f√ºr die der Typ der gespeicherten Werte als Parameter verwendet wird) </li><li>  aufgez√§hlte Typen </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verallgemeinerte algebraische Datentypen</a> </li><li>  Mit Arten anonymer Strukturen k√∂nnen Sie Typen f√ºr Objekte deklarieren, ohne Klassen zu deklarieren </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abstrakte Datentypen</a> (Abstraktionen √ºber vorhandene Typen, jedoch ohne Leistungsverlust zur Laufzeit) </li></ul><br><p>  Alle diese Typen werden w√§hrend der Kompilierung in PHP-Klassen konvertiert. </p><br><p><img src="https://habrastorage.org/webt/ue/mj/ou/uemjouzws_zkiiqcq2dnpdrm0i8.png" alt="Bild"></p><br><p>  Eines der Hauptunterscheidungsmerkmale von Haxe ist die Metaprogrammierung (in Haxe hei√üt sie Makros), dh die F√§higkeit, den Quellcode eines Programms automatisch zu generieren. <br>  Makros werden zum Zeitpunkt der Kompilierung des Programms ausgef√ºhrt und auf regul√§rem Haxe geschrieben. <br>  Makros haben vollen Zugriff auf den abstrakten Syntaxbaum, dh sie k√∂nnen ihn lesen (die erforderlichen Ausdr√ºcke darin durchsuchen) und ihn √§ndern. <br>  Makros k√∂nnen Ausdr√ºcke generieren, vorhandene Typen √§ndern und neue erstellen. </p><br><p><img src="https://habrastorage.org/webt/r9/ex/rb/r9exrb2netrzi3l_lbpsismdmt8.png" alt="Bild"></p><br><p>  Im Kontext von PHP k√∂nnen Makros beispielsweise zum Routing verwendet werden.  Angenommen, Sie haben eine einfache Router-Klasse, die eine Methode zum Anzeigen einer Seite anhand ihrer Kennung sowie eine Methode zum Abmelden implementiert.  Mithilfe eines Makros k√∂nnen Sie Code f√ºr die <code>route()</code> -Methode generieren, der ihn basierend auf der http-Anforderung an die entsprechende Methode der <code>Router</code> Klasse umleitet.  Es ist daher nicht erforderlich, ifs f√ºr Aufrufe an jede der Methoden dieser Klasse manuell zu schreiben (das Makro erledigt dies automatisch, wenn das Projekt in PHP kompiliert wird).  Beachten Sie, dass der resultierende Code keine Reflektion verwendet, keine speziellen Konfigurationsdateien oder andere zus√§tzliche Tricks erfordert und daher sehr schnell funktioniert. </p><br><p><img src="https://habrastorage.org/webt/5y/ni/cr/5ynicr8ntme8219uf4wkdmrmv8u.png" alt="Bild"></p><br><p>  Ein weiteres Beispiel f√ºr die Verwendung von Makros ist die Codegenerierung f√ºr das Parsen und die JSON-Validierung.  Beispielsweise haben Sie eine Datenklasse, deren Objekte basierend auf von JSON erhaltenen Daten erstellt werden sollen.  Dies kann mithilfe eines Makros erfolgen. Da das Makro jedoch zus√§tzlich zum Parsen Zugriff auf die Struktur der Datenklasse hat, k√∂nnen Sie Code f√ºr die JSON-Validierung generieren, indem Sie einen Ausnahmeauswurf hinzuf√ºgen, wenn keine Felder vorhanden sind oder der Datentyp nicht √ºbereinstimmt.  So k√∂nnen Sie sicher sein, dass Ihre Anwendung keine falschen Daten √ºbersieht, die von Benutzern oder von einem Server eines Drittanbieters empfangen wurden. </p><br><p>  Erw√§hnenswert sind auch die wichtigen Merkmale der Implementierung einiger Datentypen f√ºr die PHP-Plattform, z  Wenn Sie sie nicht ber√ºcksichtigen, k√∂nnen Sie unangenehme Folgen haben. </p><br><p><img src="https://habrastorage.org/webt/3-/_o/ey/3-_oeyqa5gnuukfhpp8jf3febpk.png" alt="Bild"></p><br><p>  In PHP sind Zeichenfolgen bin√§rsicher. Wenn Sie in PHP keine Unicode-Unterst√ºtzung ben√∂tigen, funktionieren die Methoden zum Arbeiten mit Zeichenfolgen sehr schnell. <br>  In Haxe unterst√ºtzen Zeichenfolgen ab der vierten Version Unicode. Beim Kompilieren in PHP werden Methoden aus dem Modul verwendet, um mit mbstring-Multibyte-Zeichenfolgen zu arbeiten. Dies bedeutet langsamen Zugriff auf beliebige Zeichen in der Zeichenfolge und langsame Berechnung der Zeichenfolgenl√§nge. <br>  Wenn Sie keine Unicode-Unterst√ºtzung ben√∂tigen, k√∂nnen Sie daher die <code>php.NativeString</code> verwenden, um mit Zeichenfolgen zu arbeiten, die "native" Zeichenfolgen aus PHP verwenden. </p><br><p><img src="https://habrastorage.org/webt/al/nb/2s/alnb2s8m9ihmys8vow4o0jaq8su.png" alt="Bild"></p><br><p>  Die Folie links zeigt PHP-Code, der beide Methoden verwendet, die Unicode unterst√ºtzen, und nicht. <br>  Rechts ist der entsprechende Haxe-Code.  Wie Sie sehen k√∂nnen, m√ºssen Sie, wenn Sie Unicode-Unterst√ºtzung ben√∂tigen, die Methoden der <code>String</code> Klasse verwenden. Wenn nicht, dann die Methoden der <code>php.NativeString</code> Klasse. </p><br><p><img src="https://habrastorage.org/webt/kw/9l/dh/kw9ldhmnf1hnml9bfmlekjeii38.png" alt="Bild"></p><br><p>  Ein weiterer wichtiger Punkt ist die Arbeit mit Arrays. <br>  In PHP werden Arrays als Wert √ºbergeben, und Arrays unterst√ºtzen sowohl numerische als auch Zeichenfolgenschl√ºssel. <br>  In Haxe werden Arrays als Referenz √ºbergeben und unterst√ºtzen nur numerische Schl√ºssel (wenn Zeichenfolgenschl√ºssel ben√∂tigt werden, sollte in Haxe die <code>Map</code> Klasse daf√ºr verwendet werden).  Au√üerdem sind "L√∂cher" in den Indizes in Haxe-Arrays nicht zul√§ssig (Indizes m√ºssen kontinuierlich sein). <br>  Es ist auch erw√§hnenswert, dass das Schreiben in ein Array nach Index in Haxe ziemlich langsam ist. </p><br><p><img src="https://habrastorage.org/webt/dp/kn/ce/dpkncez8twsdarekcxh15v0pqqs.png" alt="Bild"></p><br><p>  Hier ist der Code zum Zuordnen des Arrays mithilfe der Pfeilfunktion.  Wie Sie sehen k√∂nnen, optimiert der Haxe-Compiler den am Ausgang empfangenen PHP-Code ziemlich aktiv: Der resultierende Code enth√§lt keine anonyme Funktion, stattdessen wird sein Code in einer Schleife auf jedes Element des Arrays angewendet.  Neben <code>map()</code> diese Optimierung auch f√ºr die <code>filter()</code> -Methode. <br>  Bei Bedarf k√∂nnen Sie auch die Klasse <code>php.NativeArray</code> und die entsprechenden PHP-Methoden f√ºr die Arbeit mit Arrays in Haxe verwenden. </p><br><p><img src="https://habrastorage.org/webt/ht/20/pw/ht20pwdazaxb1ex9ivyepd0arqs.png" alt="Bild"></p><br><p>  Anonyme Objekte werden mithilfe der <code>HxAnon</code> Klasse implementiert, die von der <code>StdClass</code> Klasse von PHP erbt. </p><br><p><img src="https://habrastorage.org/webt/2o/jl/vc/2ojlvclpiimnwmumla6twuwtnka.png" alt="Bild"></p><br><p>  In PHP ist <code>StdClass</code> eine Klasse in Instanzen, von denen alles, was wir versuchen, in ein Objekt zu konvertieren, konvertiert wird.  Und es w√§re ideal f√ºr die Implementierung anonymer Objekte, wenn nicht f√ºr ein Merkmal ihrer Spezifikation: In Haxe sollte der Zugriff auf ein nicht vorhandenes Feld eines anonymen Objekts <code>null</code> , und in PHP wird eine Warnung ausgegeben.  Aus diesem Grund musste ich von der Standardklasse von PHP erben und eine magische Methode hinzuf√ºgen, die beim Zugriff auf nicht vorhandene Eigenschaften <code>null</code> zur√ºckgibt. </p><br><p><img src="https://habrastorage.org/webt/hn/lz/0x/hnlz0x9h37vs6p80yyjraxmmqzi.png" alt="Bild"></p><br><p>  Haxe kann mit in PHP geschriebenem Code interagieren.  Zu diesem Zweck gibt es die folgenden Funktionen (√§hnlich den M√∂glichkeiten der Interaktion mit JavaScript-Code): </p><br><ul><li>  externs </li><li>  PHP-Code direkt in Haxe-Code einbetten </li><li>  spezielle Klassen aus <code>php.*</code> Paket <code>php.*</code> <br><ul><li>  <code>php.Syntax</code> - f√ºr spezielle PHP-Konstrukte, die nicht in Haxe enthalten sind </li><li>  <code>php.Global</code> - f√ºr native globale PHP-Funktionen </li><li>  <code>php.Const</code> - f√ºr native globale PHP-Konstanten </li><li>  <code>php.SuperGlobal</code> - f√ºr superglobale PHP-Variablen, auf die von √ºberall aus <code>$_POST</code> werden kann ( <code>$_POST</code> , <code>$_GET</code> , <code>$_SERVER</code> usw.) </li></ul></li></ul><br><p><img src="https://habrastorage.org/webt/is/lw/au/islwauvbxj9xquckiqxykbfyeyq.png" alt="Bild"></p><br><p>  Weil  PHP verwendet das klassische OOP-Modell, dann ist das Schreiben von externen Elementen ein ziemlich einfacher Prozess.  Tats√§chlich sind Externe f√ºr PHP-Klassen in Haxe fast w√∂rtliche "√úbersetzungen", mit Ausnahme einiger Schl√ºsselw√∂rter. <br>  Der externe Code f√ºr eine PHP-Klasse aus der obigen Folie sieht beispielsweise folgenderma√üen aus: </p><br><p><img src="https://habrastorage.org/webt/ee/rc/rh/eercrhkebrovfemykunvunuk-qm.png" alt="Bild"></p><br><p>  Konstanten aus der PHP-Klasse "verwandeln" sich in statische Variablen im Haxe-Code (jedoch mit zus√§tzlichen Meta-Tags). <br>  Die statische Variable <code>$useBuiltinEncoderDecoder</code> wird zur statischen Variablen <code>useBuiltinEncoderDecoder</code> . <br>  Dies zeigt, dass Externe f√ºr PHP-Klassen automatisch erstellt werden k√∂nnen (Alexander plant, in diesem Jahr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen externen Generator</a> zu implementieren). </p><br><p><img src="https://habrastorage.org/webt/rc/ew/6m/rcew6mtquxvjmsjpqfvazhup-ga.png" alt="Bild"></p><br><p>  Zum Einf√ºgen von PHP-Code wird ein spezielles <code>php.Syntax</code> Modul <code>php.Syntax</code> .  Auf diese Weise hinzugef√ºgter Code unterliegt keiner Konvertierung oder Optimierung durch den Haxe-Compiler. <br>  Zus√§tzlich zu <code>php.Syntax</code> kann Haxe weiterhin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">untypisierten Code verwenden</a> . <br><img src="https://habrastorage.org/webt/tc/tu/oj/tctuojxtqw6ixuwohcma0apv2-0.png" alt="Bild"></p><br><p>  Erw√§hnenswert sind auch solche Funktionen von Haxe, die nicht in PHP enthalten sind: </p><br><ul><li>  reale Eigenschaften mit Lese- und Schreibmethoden </li><li>  schreibgesch√ºtzte Felder und Variablen </li><li>  statische Erweiterungen </li><li>  Meta-Tags, mit denen Felder mit Anmerkungen versehen werden k√∂nnen und die in Makros lesbar sind.  Daher werden Meta-Tags haupts√§chlich f√ºr die Metaprogrammierung verwendet. </li><li>  Nullsicherheit (experimentelle Funktion) </li><li>  Bedingte Kompilierung, mit der Sie Teile des Codes aktivieren / deaktivieren k√∂nnen, die beispielsweise in der Debug-Version der Anwendung verf√ºgbar sind </li><li>  Der Haxe-Compiler generiert hochoptimierten PHP-Code, der um ein Vielfaches schneller ausgef√ºhrt werden kann als manuell geschriebener PHP-Code. </li></ul><br><p>  Weitere Informationen zu Haxe und seinen Funktionen finden Sie in seinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Handbuch</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458184/">https://habr.com/ru/post/de458184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458160/index.html">Priorit√§tssperre in .NET</a></li>
<li><a href="../de458172/index.html">Methoden zum Koppeln elektrischer Verbindungen beim Verfolgen von Differentialpaaren auf Leiterplatten</a></li>
<li><a href="../de458176/index.html">Die Exaflop-Barriere wird 2021 √ºberwunden</a></li>
<li><a href="../de458180/index.html">Kea-basierter Failover-DHCP-Server</a></li>
<li><a href="../de458182/index.html">Wir lesen VKontakte √ºber RSS</a></li>
<li><a href="../de458186/index.html">WAL in PostgreSQL: 1. Puffercache</a></li>
<li><a href="../de458190/index.html">Ich sehe, es bedeutet, dass ich existiere: Deep Learning Review in Computer Vision (Teil 2)</a></li>
<li><a href="../de458202/index.html">Schauen Sie sich einfach SObjectizer an, wenn Sie Actors oder CSP in Ihrem C ++ - Projekt verwenden m√∂chten</a></li>
<li><a href="../de458204/index.html">So bewerten Sie die Speicherleistung unter Linux: Benchmarking mit offenen Tools</a></li>
<li><a href="../de458206/index.html">Erhabener Text 3 f√ºr das Site-Layout. Passen Sie das Erscheinungsbild an und installieren Sie Plugins. Anf√§ngerleitfaden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>