<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô¶Ô∏è üç≤ üçä Praktische Richtlinien f√ºr die Entwicklung umfangreicher React-Anwendungen. Teil 2: Zustandsverwaltung, Routing üìë üßîüèΩ üíÖüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute ver√∂ffentlichen wir den zweiten Teil der √úbersetzung des Materials, der der Entwicklung gro√ü angelegter React-Anwendungen gewidmet ist. Hier wer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Praktische Richtlinien f√ºr die Entwicklung umfangreicher React-Anwendungen. Teil 2: Zustandsverwaltung, Routing</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/458498/">  Heute ver√∂ffentlichen wir den zweiten Teil der √úbersetzung des Materials, der der Entwicklung gro√ü angelegter React-Anwendungen gewidmet ist.  Hier werden wir √ºber das Verwalten des Status von Anwendungen, das Routing und die Schnittstellenentwicklung sprechen. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/be/rk/zj/berkzjayeeo2ap1yvpeeunb3b6e.png"></a> <br><br>  Teil 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Praktische Richtlinien f√ºr die Entwicklung umfangreicher React-Anwendungen.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Planung, Aktionen, Datenquellen und APIs</a> <br><br>  Teil 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Praktische Richtlinien f√ºr die Entwicklung umfangreicher React-Anwendungen.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2: Zustandsverwaltung, Routing</a> <br><br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Anwendungsstatusverwaltung, Redux-Integration, Routing-Organisation</font> </h2><br>  Hier werden wir dar√ºber sprechen, wie Sie die Funktionalit√§t von Redux erweitern k√∂nnen, um komplexe Vorg√§nge in der Anwendung ordnungsgem√§√ü ausf√ºhren zu k√∂nnen.  Wenn solche Mechanismen schlecht implementiert sind, k√∂nnen sie das beim Entwerfen des Repositorys verwendete Muster verletzen. <br><br>  JavaScript- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Generatorfunktionen</a> k√∂nnen viele der Probleme l√∂sen, die mit der asynchronen Programmierung verbunden sind.  Tatsache ist, dass diese Funktionen auf Wunsch des Programmierers gestartet und gestoppt werden k√∂nnen.  Die Redux-Saga-Middleware verwendet dieses Konzept, um problematische Aspekte einer Anwendung zu verwalten.  Insbesondere geht es um die L√∂sung solcher Probleme, die nicht mit Hilfe von Reduzierern gel√∂st werden k√∂nnen, die in Form von reinen Funktionen dargestellt werden. <br><br><h3>  <font color="#3AC1EF">‚ñçL√∂sen von Aufgaben, die mit reinen Funktionen nicht gel√∂st werden k√∂nnen</font> </h3><br>  Stellen Sie sich das folgende Szenario vor.  Ihnen wurde angeboten, an einer Anwendung zu arbeiten, die f√ºr ein Unternehmen entwickelt wurde, das auf dem Immobilienmarkt t√§tig ist.  Der Kunde m√∂chte eine neue, bessere Website erhalten.  Zu Ihrer Verf√ºgung steht eine REST-API, Sie haben Layouts aller Seiten mit Hilfe von Zapier erstellt, Sie haben einen Plan der Anwendung skizziert.  Aber dann kam ein schweres Problem auf. <br><br>  Das Kundenunternehmen verwendet seit langem ein bestimmtes Content Management System (CMS).  Die Mitarbeiter des Unternehmens kennen dieses System sehr gut, sodass der Kunde nicht auf das neue CMS umsteigen m√∂chte, um das Schreiben neuer Beitr√§ge im Unternehmensblog zu vereinfachen.  Dar√ºber hinaus m√ºssen Sie vorhandene Ver√∂ffentlichungen aus dem Blog auf eine neue Site kopieren. Dies kann auch zu einem Problem f√ºhren. <br><br>  Das Gute ist, dass das vom Client verwendete CMS √ºber eine praktische API verf√ºgt, √ºber die Sie √ºber das Blog auf Ver√∂ffentlichungen zugreifen k√∂nnen.  Wenn Sie jedoch einen Agenten f√ºr die Arbeit mit dieser API erstellt haben, wird die Situation durch die Tatsache kompliziert, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">er</a> sich auf einem bestimmten Server befindet, auf dem die Daten √ºberhaupt nicht nach Bedarf dargestellt werden. <br><br>  Dies ist ein Beispiel f√ºr ein Problem, das den Anwendungscode verschmutzen kann, da Sie hier Mechanismen in das Projekt einbeziehen m√ºssen, um mit der neuen API zu arbeiten, die zum Herunterladen von Blog-Posts verwendet wird.  Sie k√∂nnen mit dieser Situation mit Redux-Saga umgehen. <br>  Schauen Sie sich das folgende Diagramm an.  So interagieren unsere Anwendung und API.  Wir laden Publikationen im Hintergrund mit Redux-Saga herunter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/56e/2b9/fdf/56e2b9fdfc5ea809c842a39cfed53bfe.jpg"></div><br>  <i><font color="#999999">Anwendungsdiagramm Verwenden von Redux- und Redux-Saga-Speicher</font></i> <br><br>  Hier <code>GET.BLOGS</code> die Komponente die Aktion <code>GET.BLOGS</code> .  Die Anwendung verwendet Redux-Saga, daher wird diese Anfrage abgefangen.  Danach l√§dt die Generatorfunktion im Hintergrund Daten aus dem Datenspeicher herunter und aktualisiert den von Redux unterst√ºtzten Anwendungsstatus. <br><br>  Hier ist ein Beispiel daf√ºr, wie die Generatorfunktion zum Laden von Ver√∂ffentlichungen (solche Funktionen werden als "Sagen" bezeichnet) in der beschriebenen Situation aussehen k√∂nnte.  Sagas k√∂nnen in anderen Szenarien verwendet werden.  Zum Beispiel, um die Speicherung von Benutzerdaten zu organisieren (z. B. k√∂nnen es Token sein), da dies ein weiteres Beispiel f√ºr eine Aufgabe ist, f√ºr die reine Funktionen nicht geeignet sind. <br><br><pre> <code class="javascript hljs">... function* fetchPosts(action) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === WP_POSTS.LIST.REQUESTED) {   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(wpGet, {       <span class="hljs-attr"><span class="hljs-attr">model</span></span>: WP_POSTS.MODEL,       <span class="hljs-attr"><span class="hljs-attr">contentType</span></span>: APPLICATION_JSON,       <span class="hljs-attr"><span class="hljs-attr">query</span></span>: action.payload.query,     });     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (response.error) {       <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({         <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.FAILED,         <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: response.error.response.data.msg,       });       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;         <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({       <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.SUCCESS,       <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">posts</span></span>: response.data,         <span class="hljs-attr"><span class="hljs-attr">total</span></span>: response.headers[<span class="hljs-string"><span class="hljs-string">'x-wp-total'</span></span>],         <span class="hljs-attr"><span class="hljs-attr">query</span></span>: action.payload.query,       },       <span class="hljs-attr"><span class="hljs-attr">view</span></span>: action.view,     });   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {     <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.FAILED, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: e.message });  ...</code> </pre> <br>  Die hier vorgestellte Saga erwartet Aktionen wie <code>WP_POSTS.LIST.REQUESTED</code> .  Durch den Empfang einer solchen Aktion werden Daten von der API geladen.  Nach dem Empfang der Daten sendet sie eine weitere Aktion - <code>WP_POSTS.LIST.SUCCESS</code> .  Die Verarbeitung f√ºhrt zur Aktualisierung des Repositorys mit dem entsprechenden Reduzierer. <br><br><h3>  <font color="#3AC1EF">‚ñç Einf√ºhrung von Reduzierst√ºcken</font> </h3><br>  Bei der Entwicklung gro√üer Anwendungen ist es unm√∂glich, das Ger√§t aller erforderlichen Modelle im Voraus zu planen.  Dar√ºber hinaus hilft die Verwendung der Technologie zur Einf√ºhrung von Reduzierern mit zunehmender Gr√∂√üe der Anwendung, eine gro√üe Menge an Arbeitsstunden einzusparen.  Mit dieser Technik k√∂nnen Entwickler dem System neue Reduzierungen hinzuf√ºgen, ohne das gesamte Repository neu schreiben zu m√ºssen. <br><br>  Es gibt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bibliotheken</a> , mit denen dynamische Redux-Repositorys erstellt werden k√∂nnen.  Ich bevorzuge jedoch den Mechanismus der Einf√ºhrung von Reduzierern, da er dem Entwickler ein gewisses Ma√ü an Flexibilit√§t verleiht.  Beispielsweise kann eine vorhandene Anwendung mit diesem Mechanismus ausgestattet werden, ohne dass die Anwendung ernsthaft neu organisiert werden muss. <br><br>  Die Einf√ºhrung von Reduzierern ist eine Form der Codetrennung.  Die Entwicklergemeinde von React begr√º√üt diese Technologie mit Begeisterung.  Ich werde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesen</a> Code verwenden, um das Erscheinungsbild und die Merkmale des Implementierungsmechanismus der Reduzierungen zu demonstrieren. <br><br>  Schauen wir uns zun√§chst die Integration mit Redux an: <br><br><pre> <code class="javascript hljs">... const withConnect = connect( mapStateToProps, mapDispatchToProps, ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> withReducer = injectReducer({ <span class="hljs-attr"><span class="hljs-attr">key</span></span>: BLOG_VIEW, <span class="hljs-attr"><span class="hljs-attr">reducer</span></span>: blogReducer, }); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  ... } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> compose( withReducer, withConnect, )(BlogPage);</code> </pre> <br>  Dieser Code ist Teil der Datei <code>BlogPage.js</code> , die die Anwendungskomponente enth√§lt. <br><br>  Hier verwenden wir im Exportbefehl nicht die <code>connect</code> Funktion, sondern die <code>compose</code> Funktion.  Dies ist eine der Funktionen der Redux-Bibliothek, mit der Sie mehrere Funktionen zusammenstellen k√∂nnen.  Die Liste der zum <code>compose</code> Funktionen muss von rechts nach links oder von unten nach oben gelesen werden. <br><br>  Aus der Redux- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> k√∂nnen Sie lernen, dass Sie mit der <code>compose</code> Funktion Transformationen tief verschachtelter Funktionen erstellen k√∂nnen.  In diesem Fall ist der Programmierer von der Notwendigkeit befreit, sehr lange Strukturen zu verwenden.  Diese Konstruktionen sehen aus wie Codezeilen, die Aufrufe an einige Funktionen darstellen, wobei die Ergebnisse von Aufrufen an andere Funktionen als Argumente √ºbergeben werden.  In der Dokumentation wird darauf hingewiesen, dass die <code>compose</code> Funktion mit Vorsicht verwendet werden sollte. <br><br>  Die Funktion ganz rechts in einer Komposition kann viele Argumente annehmen, aber nur ein Argument kann an Funktionen √ºbergeben werden, die darauf folgen.  Infolgedessen √ºbergeben wir durch Aufrufen der Funktion, die sich aus der Verwendung von <code>compose</code> ergibt, das, was von den urspr√ºnglichen Funktionen stammt, rechts von allen anderen.  Aus diesem Grund haben wir die <code>withConnect</code> Funktion als letzten Parameter an die <code>withConnect</code> Funktion √ºbergeben.  Infolgedessen kann die <code>compose</code> Funktion genauso wie die <code>connect</code> Funktion verwendet werden. <br><br><h3>  <font color="#3AC1EF">‚ñç Routing und Redux</font> </h3><br>  Es gibt eine Reihe von Tools, mit denen Routingprobleme in Anwendungen gel√∂st werden k√∂nnen.  In diesem Abschnitt konzentrieren wir uns jedoch auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React-Router-Dom-</a> Bibliothek.  Wir werden seine Funktionen erweitern, damit es mit Redux zusammenarbeiten kann. <br><br>  Am h√§ufigsten wird der React-Router folgenderma√üen verwendet: Die <code>BrowserRouter</code> ist im <code>BrowserRouter</code> Tag enthalten, und die <code>BrowserRouter</code> Container werden in die <code>withRouter()</code> -Methode eingeschlossen und exportiert ( <a href="">hier</a> ein Beispiel). <br><br>  Bei diesem Ansatz empf√§ngt die untergeordnete Komponente √ºber den <code>props</code> ein <code>history</code> , das einige Eigenschaften enth√§lt, die f√ºr die aktuelle Benutzersitzung spezifisch sind.  In diesem Objekt gibt es einige Methoden, mit denen die Navigation gesteuert werden kann. <br><br>  Diese Routing-Option kann in gro√üen Anwendungen zu Problemen f√ºhren.  Dies liegt an der Tatsache, dass sie kein zentrales <code>history</code> .  Au√üerdem k√∂nnen Komponenten, die nicht mit <code>&lt;Route&gt;</code> gerendert werden, nicht mit dem <code>history</code> .  Hier ist ein Beispiel mit <code>&lt;Route&gt;</code> : <br><br><pre> <code class="javascript hljs">&lt;Route path=<span class="hljs-string"><span class="hljs-string">"/"</span></span> exact component={HomePage} /&gt;</code> </pre> <br>  Um dieses Problem zu l√∂sen, verwenden wir die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Connected-React-Router-</a> Bibliothek, mit der wir das Routing mithilfe der <code>dispatch</code> einrichten k√∂nnen.  Die Integration dieser Bibliothek in das Projekt erfordert einige √Ñnderungen.  Insbesondere muss ein neuer Reduzierer speziell f√ºr Routen entwickelt werden (dies ist ziemlich offensichtlich) und dem System einige Hilfsmechanismen hinzugef√ºgt werden. <br><br>  Nach Abschluss der Konfiguration kann das neue Routing-System √ºber Redux verwendet werden.  Die Navigation in der Anwendung kann also durch Senden von Aktionen implementiert werden. <br><br>  Um die Funktionen der Connected-React-Router-Bibliothek in der Komponente nutzen zu k√∂nnen, ordnen wir die <code>dispatch</code> einfach dem Repository zu und tun dies entsprechend den Anforderungen der Anwendung.  Hier ist ein Beispiel f√ºr Code, der die Verwendung der Bibliothek f√ºr verbundene Reaktionsrouter demonstriert (damit dieser Code funktioniert, muss der Rest des Systems f√ºr die Verwendung von Routern f√ºr verbundene Reaktionen konfiguriert sein). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { push } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'connected-react-router'</span></span> ... const mapDispatchToProps = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> ({  <span class="hljs-attr"><span class="hljs-attr">goTo</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">payload</span></span></span><span class="hljs-function"> =&gt;</span></span> {    dispatch(push(payload.path));  }, }); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DemoComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">      &lt;Child        onClick={          (</span></span></span><span class="hljs-function">) =&gt;</span></span> {            <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.goTo({ <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">`/gallery/`</span></span>});                      <span class="hljs-regexp"><span class="hljs-regexp">/&gt;    } ...</span></span></code> </pre> <br>  Hier <code>goTo</code> die <code>goTo</code> Methode eine Aktion aus, die die erforderliche URL <code>goTo</code> Browserverlaufsstapel <code>goTo</code> .  Zuvor wurde die <code>goTo</code> Methode dem Repository zugeordnet.  Daher wird diese Methode an die <code>DemoComponent</code> im <code>props</code> . <br><br><h2>  <font color="#3AC1EF">Dynamische Benutzeroberfl√§che und Anforderungen einer wachsenden Anwendung</font> </h2><br>  Im Laufe der Zeit wirken sich trotz des Vorhandenseins eines angemessenen Backends f√ºr die Anwendung und eines hochwertigen Client-Teils einige Elemente der Benutzeroberfl√§che stark auf die Arbeit des Benutzers aus.  Dies liegt an der irrationalen Implementierung der Komponenten, die auf den ersten Blick sehr einfach erscheint.  In diesem Abschnitt werden Empfehlungen zum Erstellen einiger Widgets erl√§utert.  Ihre korrekte Implementierung wird mit zunehmender Anwendung der Anwendung komplizierter. <br><br><h3>  <font color="#3AC1EF">‚ñç Faules Laden und React.Suspense</font> </h3><br>  Das Beste an der Asynchronit√§t von JavaScript ist, dass es das volle Potenzial des Browsers ausnutzt.  Vielleicht ist das wahre Gute, dass Sie zum Starten eines bestimmten Prozesses nicht auf den Abschluss der vorherigen Aufgabe warten m√ºssen.  Entwickler k√∂nnen jedoch das Netzwerk und die Geschwindigkeit, mit der die verschiedenen f√ºr das Funktionieren der Websites erforderlichen Materialien geladen werden, nicht beeinflussen. <br><br>  Netzwerksubsysteme werden normalerweise als unzuverl√§ssig und fehleranf√§llig empfunden. <br><br>  Um seine Anwendung so hochwertig wie m√∂glich zu gestalten, kann der Entwickler sie zahlreichen Pr√ºfungen unterziehen und ihre erfolgreiche Passage erreichen.  Dennoch gibt es einige Dinge, wie den Status der Netzwerkverbindung oder die Serverantwortzeit, die der Entwickler nicht beeinflussen kann. <br><br>  Die Entwickler der Software versuchen jedoch nicht, die minderwertige Arbeit von Anwendungen mit S√§tzen wie "Das geht mich nichts an" zu rechtfertigen.  Sie fanden interessante Wege, um mit Netzwerkproblemen umzugehen. <br><br>  In einigen Teilen der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Front-End-Anwendung m√ºssen Sie</a> m√∂glicherweise einige Sicherungsmaterialien anzeigen (z. B. viel schneller als echte Materialien laden).  Dies erspart dem Benutzer das Nachdenken √ºber das "Zucken" der Ladeseiten oder, noch schlimmer, √ºber solche Symbole. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f47/123/d6a/f47123d6ab6e8e85a0d445742e33031c.png"></div><br>  <i><font color="#999999">Benutzer sind besser dran, so etwas nicht zu sehen.</font></i> <br><br>  Mit der React Suspense-Technologie k√∂nnen Sie genau solche Probleme bew√§ltigen.  So k√∂nnen Sie beispielsweise beim Laden von Daten einen bestimmten Indikator anzeigen.  Obwohl dies auch manuell erfolgen kann, indem die <code>isLoaded</code> Eigenschaft auf <code>true</code> , macht die Verwendung der Suspense-API den Code viel sauberer. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier k√∂nnen</a> Sie ein gutes Video √ºber Suspense sehen, in dem Jared Palmer das Publikum in diese Technologie einf√ºhrt und einige ihrer Funktionen am Beispiel einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">realen Anwendung zeigt</a> . <br><br>  So funktioniert die App ohne Verwendung von Suspense. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d49/7bc/734/d497bc7344af043e19445fa8299a35d0.gif"></div><br>  <i><font color="#999999">Anwendung, bei der Suspense nicht verwendet wird</font></i> <br><br>  Das Ausstatten einer Komponente mit Suspense-Unterst√ºtzung ist viel einfacher als die Verwendung von anwendungsweitem <code>isLoaded</code> .  Beginnen wir damit, den √ºbergeordneten <code>App</code> Container in <code>React.StrictMode</code> .  Wir stellen sicher, dass es unter den in der Anwendung verwendeten React-Modulen keine gibt, die als veraltet gelten. <br><br><pre> <code class="javascript hljs">&lt;React.Suspense fallback={&lt;Spinner size=<span class="hljs-string"><span class="hljs-string">"large"</span></span> /&gt;}&gt;  &lt;ArtistDetails id={this.props.id}/&gt;  &lt;ArtistTopTracks /&gt;  &lt;ArtistAlbums id={this.props.id}/&gt; &lt;/React.Suspense&gt;</code> </pre> <br>  In <code>React.Suspense</code> Tags eingeschlossene Komponenten <code>React.Suspense</code> w√§hrend des Ladens des Hauptinhalts die in der <code>fallback</code> Eigenschaft angegebenen Komponenten und zeigen sie an.  Wir m√ºssen uns bem√ºhen, sicherzustellen, dass die in der <code>fallback</code> Eigenschaft verwendeten Komponenten das kleinstm√∂gliche Volumen haben und so einfach wie m√∂glich angeordnet sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b9/d1c/54e/9b9d1c54ea0a5d7c26ea7e0a7bbdebee.gif"></div><br>  <i><font color="#999999">Anwendung, die Spannung verwendet</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñçAnpassende Komponenten</font> </h3><br>  In gro√üen Front-End-Anwendungen kommt es h√§ufig zu sich wiederholenden Mustern.  Gleichzeitig kann dies zu Beginn der Arbeit fast v√∂llig offensichtlich sein.  Es gibt nichts zu tun, aber Sie m√ºssen darauf gesto√üen sein. <br><br>  Zum Beispiel gibt es zwei Modelle in der Anwendung.  Eine davon dient zur Beschreibung von Rennstrecken und die zweite zur Beschreibung von Autos.  Die Fahrzeuglistenseite verwendet quadratische Elemente.  Jeder von ihnen enth√§lt ein Bild und eine kurze Beschreibung. <br><br>  Die Trace-Liste verwendet √§hnliche Elemente.  Ihr Hauptmerkmal ist, dass sie neben dem Bild und der Beschreibung der Strecke auch ein kleines Feld haben, das angibt, ob es den Zuschauern eines auf dieser Strecke stattfindenden Rennens m√∂glich ist, etwas zu essen zu kaufen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c9/8b3/8ab/6c98b38ab2cf0c2670751908581d26d0.png"></div><br>  <i><font color="#999999">Element f√ºr die Beschreibung des Autos und Element f√ºr die Beschreibung der Strecke</font></i> <br><br>  Diese beiden Komponenten unterscheiden sich hinsichtlich des Stils geringf√ºgig voneinander (sie haben unterschiedliche Hintergrundfarben).  Die Komponente, die die Route beschreibt, enth√§lt einige zus√§tzliche Informationen zu dem von ihr beschriebenen realen Objekt, w√§hrend die Komponente, die das Auto symbolisiert, keine solchen Informationen enth√§lt.  Dieses Beispiel zeigt nur zwei Modelle.  In einer gro√üen Anwendung k√∂nnen viele √§hnliche Modelle eingegeben werden, die sich nur in kleinen Dingen unterscheiden. <br><br>  Die Schaffung separater unabh√§ngiger Komponenten f√ºr jede dieser Einheiten widerspricht dem gesunden Menschenverstand. <br><br>  Ein Programmierer kann sich die Notwendigkeit ersparen, Codefragmente zu schreiben, die sich fast vollst√§ndig wiederholen.  Dies kann durch die Entwicklung adaptiver Komponenten erfolgen.  Sie ber√ºcksichtigen im Laufe der Arbeit die Umgebung, in die sie geladen wurden.  Betrachten Sie die Suchleiste einer bestimmten Anwendung. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a27/334/4e5/a273344e57f1ea8aa88269f8dad8e7dd.png"></div><br>  <i><font color="#999999">Suchleiste</font></i> <br><br>  Es wird auf vielen Seiten verwendet.  Gleichzeitig werden geringf√ºgige √Ñnderungen an seinem Erscheinungsbild und der Reihenfolge seiner Arbeit auf verschiedenen Seiten vorgenommen.  Auf der Homepage des Projekts ist sie beispielsweise etwas gr√∂√üer als auf anderen Seiten.  Um dieses Problem zu l√∂sen, k√∂nnen Sie eine einzelne Komponente erstellen, die gem√§√ü den an sie √ºbertragenen Eigenschaften angezeigt wird. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> propTypes = {  <span class="hljs-attr"><span class="hljs-attr">open</span></span>: PropTypes.bool.isRequired,  <span class="hljs-attr"><span class="hljs-attr">setOpen</span></span>: PropTypes.func.isRequired,  <span class="hljs-attr"><span class="hljs-attr">goTo</span></span>: PropTypes.func.isRequired, };</code> </pre> <br>  Mit dieser Technik k√∂nnen Sie die Verwendung von HTML-Klassen beim Rendern solcher Elemente steuern, wodurch Sie deren Erscheinungsbild beeinflussen k√∂nnen. <br><br>  Eine weitere interessante Situation, in der adaptive Komponenten Anwendung finden k√∂nnen, ist der Mechanismus zum Aufteilen bestimmter Materialien in Seiten.  Auf jeder Seite der Anwendung kann eine Navigationsleiste vorhanden sein.  Die Instanzen dieses Bedienfelds auf jeder Seite sind fast genau die gleichen wie auf den anderen Seiten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c86/7ee/d8d/c867eed8d85f120940a321d95fc274f2.png"></div><br>  <i><font color="#999999">Paginierungsfeld</font></i> <br><br>  Angenommen, eine bestimmte Anwendung ben√∂tigt ein √§hnliches Bedienfeld.  Bei der Arbeit an dieser Anwendung halten sich die Entwickler an die aktuellen Anforderungen.  In einer solchen Situation muss die adaptive Komponente, die zum Aufteilen des Materials in Seiten verwendet wird, nur einige Eigenschaften √ºbergeben.  Dies ist die <code>URL</code> und die Anzahl der Elemente pro Seite. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Das React-√ñkosystem ist heutzutage so ausgereift, dass es unwahrscheinlich ist, dass jemals jemand in irgendeiner Phase der Anwendungsentwicklung ein Fahrrad erfinden muss.  Obwohl dies den Entwicklern in die H√§nde spielt, f√ºhrt dies dazu, dass es schwierig wird, genau zu w√§hlen, was f√ºr jedes spezifische Projekt gut funktioniert. <br><br>  Jedes Projekt ist in Bezug auf Umfang und Funktionalit√§t einzigartig.  Es gibt keinen einheitlichen Ansatz oder eine universelle Regel f√ºr die Entwicklung von React-Anwendungen.  Daher ist es vor Beginn der Entwicklung wichtig, diese korrekt zu planen. <br><br>  Bei der Planung ist es sehr leicht zu verstehen, welche Tools direkt f√ºr das Projekt erstellt werden und welche eindeutig nicht f√ºr ihn geeignet sind, da sie zu gro√ü f√ºr ihn sind.  Beispielsweise ben√∂tigt eine Anwendung, die aus 2-3 Seiten besteht und nur sehr wenige Anforderungen an bestimmte APIs ausf√ºhrt, keine Datenspeicher, die denen √§hneln, √ºber die wir gesprochen haben.  Ich bin bereit, in diesen √úberlegungen noch weiter zu gehen und zu sagen, dass Sie in kleinen Projekten Redux nicht verwenden m√ºssen. <br>  In der Planungsphase der Anwendung ist beim Zeichnen von Layouts ihrer Seiten leicht zu erkennen, dass auf diesen Seiten viele √§hnliche Komponenten verwendet werden.  Wenn Sie versuchen, den Code solcher Komponenten wiederzuverwenden oder universelle Komponenten zu schreiben, k√∂nnen Sie viel Zeit und M√ºhe sparen. <br><br>  Abschlie√üend m√∂chte ich darauf hinweisen, dass Daten der Kern jeder Anwendung sind.  Und React-Anwendungen sind keine Ausnahme.  Wenn der Umfang der Anwendung zunimmt, w√§chst das Volumen der verarbeiteten Daten, und es erscheinen zus√§tzliche Softwaremechanismen f√ºr die Arbeit mit ihnen.  So etwas kann, wenn die Anwendung schlecht gestaltet war, Programmierer leicht ‚Äûzerquetschen‚Äú und sie mit komplexen und verwirrenden Aufgaben f√ºllen.  Wenn im Verlauf der Planung die Probleme bei der Verwendung von Data Warehouses im Voraus entschieden wurden, wenn die Reihenfolge der Arbeit von Aktionen, Reduzierungen und Durchh√§ngen im Voraus festgelegt wurde, w√§re die Arbeit an der Anwendung viel einfacher. <br><br>  <b>Liebe Leser!</b>  Wenn Sie Bibliotheken oder Entwicklungsmethoden kennen, die beim Erstellen umfangreicher React-Anwendungen eine gute Leistung erbringen, teilen Sie diese bitte mit. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de458498/">https://habr.com/ru/post/de458498/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de458488/index.html">Data Science Digest (Juli 2019)</a></li>
<li><a href="../de458490/index.html">Halten Sie das Lenkrad fest ... Unser Projekt zur √úberwachung des Fahrerzustands</a></li>
<li><a href="../de458492/index.html">‚ÄûWir haben immer an Wettbewerb und das Recht geglaubt, einen Benutzer auszuw√§hlen‚Äú ¬© Yandex</a></li>
<li><a href="../de458494/index.html">Ein praktisches Beispiel f√ºr die Verwendung der Renderfunktionen von Vue: Erstellen eines typografischen Rasters f√ºr ein Entwurfssystem</a></li>
<li><a href="../de458496/index.html">Praktische Richtlinien f√ºr die Entwicklung umfangreicher React-Anwendungen. Planung, Aktionen, Datenquellen und APIs</a></li>
<li><a href="../de458500/index.html">Metamorphose beim Testen der Redux-Saga</a></li>
<li><a href="../de458502/index.html">Das Hauptgeheimnis f√ºr die Entwicklung guter Elektronenanwendungen</a></li>
<li><a href="../de458504/index.html">13 npm Tricks, um Zeit zu sparen</a></li>
<li><a href="../de458506/index.html">Nicht Portal 3, sondern nah: Quantenteleportation von Informationen innerhalb eines Diamanten</a></li>
<li><a href="../de458508/index.html">Ein Einblick: Graduiertenschule an der EPFL. Teil 4.2: die finanzielle Seite</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>