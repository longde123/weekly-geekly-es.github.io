<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍🏭 🍥 🛌🏽 Que faites-vous, moteur de rendu? Ou comment fonctionne le module d'affichage du navigateur 💦 🎮 ⛄️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La chose la plus importante pour le développeur Frontend est le module d'affichage du navigateur, qui est également le moteur de rendu (ci-après dénom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Que faites-vous, moteur de rendu? Ou comment fonctionne le module d'affichage du navigateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459814/"> La chose la plus importante pour le développeur Frontend est le module d'affichage du navigateur, qui est également le moteur de rendu (ci-après dénommé RE). <br><br>  Dans cet article, je veux prendre une page simple et passer par toutes les étapes avec RE de la réception du premier octet au dessin du contenu à l'écran.  Comme toujours, j'utiliserai le navigateur Chrome. <br><br>  Tout d'abord, regardons de quels autres modules le navigateur se compose, afin de comprendre avec quoi RE interagit. <br><a name="habracut"></a><br>  Considérez le schéma: <a name="pic1"></a><br><br><img src="https://habrastorage.org/webt/0n/s6/j6/0ns6j6vajtxkpfgsv0fzbevn810.png"><br>  <i>Figure 1</i> <br><br>  <b>Interface utilisateur, interface utilisateur (ci-après UI)</b> - une API de navigateur externe pour l'utilisateur: barre d'adresse, navigation, menu, signets, boutons «mise à jour» et «accueil». <br><br>  <b>Le mécanisme du navigateur, le Browser Engine (ci-après BE), est une</b> couche entre l'interface utilisateur et le module d'affichage. <br><br>  <b>Module d'affichage du moteur de rendu</b> .  Nous l'analyserons plus en détail ultérieurement. <br><br>  <b>Les composants réseau, Network</b> sont responsables des requêtes réseau.  RE reçoit des données du réseau.  Les données sont reçues par portions de 8 Ko et RE n'attend pas que toutes les données arrivent, il commence à les traiter à mesure qu'elles arrivent. <br><br>  <b>Le module JS Interpreter</b> est chargé d'interpréter le script et de l'exécuter. <br><br>  <b>Le backend de l'interface utilisateur</b> est utilisé pour rendre les éléments graphiques et widgets de base, tels que les fenêtres et les zones de liste déroulante.  Un exemple simple de fenêtre d'alerte ou d'invite. <br><br>  <b>Un magasin de données</b> est un cookie, un indexDB et d'autres magasins de navigateur. <br><br>  Maintenant que nous savons à la base en quoi consiste le navigateur, nous pouvons passer au composant qui nous intéresse - le moteur de rendu. <br><br>  Il est plus facile et plus rapide de comprendre avec un exemple spécifique, prenons donc une simple page html avec un fichier css et js externe (le script est connecté avec l'attribut async, puis nous analyserons pourquoi).  Et voyons comment RE les traite et quelles étapes sont effectuées avant de voir le contenu dont nous avons besoin à l'écran. <br><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width, initial-scale=1.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"X-UA-Compatible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ie=edge"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./style.css"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Document<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Hello Habr!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>I'am Rendering Engine<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./script.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'load'</span></span>, () =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'all resources were loaded'</span></span>); }); })();</code> </pre><br><pre> <code class="css hljs">* { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; } <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-family</span></span>: Helvetica, sans-serif; <span class="hljs-attribute"><span class="hljs-attribute">line-height</span></span>: <span class="hljs-number"><span class="hljs-number">1.5</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background-color</span></span>: <span class="hljs-number"><span class="hljs-number">#9BD4F4</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>: <span class="hljs-number"><span class="hljs-number">16px</span></span>; }</code> </pre><br>  Pour ce faire, accédez à Chrome DevTools, ouvrez l'onglet Performances et démarrez le processus.  Après avoir rechargé la page et analysé ce qui s'est passé, nous observons l'image suivante: <br><a name="pic2"></a><br><img src="https://habrastorage.org/webt/eq/tq/xf/eqtqxf-aizqpe4cfmckh8np5luq.png"><br>  <i>Figure 2</i> <br><br>  Dans l'onglet Réseau - la séquence de téléchargement des données sur le réseau (boîte bleue - index.html). <br><br>  Dans l'onglet Timings, il y a des marques lorsque des événements DCL se sont produits (DOM Content Loaded, FP - première peinture enrichissante, FMP - première peinture significative, L - charge).  Voyons quels sont ces événements. <br><br>  <b>DOMContentLoaded</b> - le navigateur a chargé le HTML, l'a analysé et a construit une arborescence DOM.  Cet événement se déclenche sur le document, vous pouvez facilement vous y abonner et travailler avec le DOM via JavaScript (dans notre script, nous ne pourrons pas souscrire à l'événement DOMContentLoaded, car il s'est produit avant l'analyse du script, voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">figure</a> ). <br>  De plus, DOMContentLoaded a plusieurs nuances: <br><br><ul><li>  Si le script est connecté sans balises asynchrones / différées (de manière synchrone), il bloquera l'analyse HTML.  Cependant, les navigateurs ont récemment utilisé une analyse spéculative, et dans de tels cas, ils téléchargent toujours ce script à l'avance et effectuent son analyse.  Cela n'affecte pas la structure de l'arborescence DOM, mais cela vous permet de réduire le temps de travail de RE.  La <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">figure</a> ci-dessous montre comment le temps de DCL et de tous les autres événements de rendu augmente avec la connexion de script synchrone </li><li>  Le verrouillage de l'analyse (vous l'avez deviné) peut être contourné avec des attributs async / defer, qui vous permettent de continuer à analyser HTML sans attendre le téléchargement et l'exécution du script </li><li>  De plus, l'événement DCL peut être retardé en raison des styles de chargement.  Pendant l'exécution du script, le navigateur peut voir que nous voulons accéder au style de l'élément via JavaScript.  Et ce script sera bloqué à condition que les styles de cet élément soient actuellement analysés ou chargés </li><li>  Également dans Chrome, par exemple, sur DCL, les formulaires sont remplis automatiquement. </li></ul><a name="pic3"></a><br><img src="https://habrastorage.org/webt/ob/qs/np/obqsnpsm3qbmjbg81wozvs-sanc.png"><br>  <i>Figure 3</i> <br><br>  <b>Première peinture</b> - le navigateur a rendu le premier pixel de la page. <br><br>  <b>Première peinture enrichissante</b> - le navigateur a rendu le premier contenu de la page. <br><br>  <b>Première peinture significative</b> - l'événement se déclenche après que le RE détermine que le contenu rendu peut être utile à l'utilisateur. <br><br>  <b>Chargez la</b> page entière et les ressources qu'elle contient sont chargées, y compris l'iframe. <br><br>  À propos de FP, FCP, FMP est bien écrit dans la documentation officielle de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google pour les développeurs</a> . <br><br>  Maintenant que nous avons compris quels événements se sont produits, nous pouvons accéder à l'arborescence des appels (voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Figure 1</a> ) et analyser plus en détail quand et pourquoi ces événements se produisent. <br><br>  Parse HTML - Analyse HTML.  Vous pouvez écrire un article séparé à ce sujet.  Mieux encore, lisez les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">spécifications.</a> Il nous suffit de comprendre que le navigateur HTML crée le modèle objet du document - le DOM.  Et, lorsqu'il est prêt et ne peut plus l'affecter, il déclenche l'événement DOMContentLoaded. <br><br>  Les couches composites sont une combinaison d'éléments visuels provenant de sources distinctes en images uniques pour créer l'illusion que tous ces éléments font partie de la même scène. <br><br>  Recalculez le style.  Toute modification du DOM, qu'il s'agisse d'ajouter ou de supprimer des éléments, de modifier des attributs, des classes ou d'utiliser des outils d'animation, oblige le navigateur à recalculer les styles des éléments et, dans de nombreux cas, la mise en page de la page entière ou de parties de celle-ci.  Ce processus est appelé calcul de style.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google pour les développeurs</a> <br><br>  Feuille de style d'analyse.  Si, après l'analyse, RE voit que le HTML est activé par css, il commence le téléchargement et l'analyse à l'avance.  Après l'analyse, RE crée le modèle d'objet CSS, le modèle d'objet CSS. <br><br>  Vient ensuite l'étape de l'attachement, dans laquelle RE mappe CSS à OM et DOM, et nous obtenons un arbre de rendu. <br><br>  Mettre à jour l'arborescence des calques (disposition) - disposition d'une arborescence de couches ou simplement d'une disposition.  Après avoir fait correspondre CSS OM et DOM, nous pouvons trouver l'emplacement des éléments et leurs tailles. <br><br>  Le plus souvent, les éléments qui descendent plus bas dans le flux ne peuvent pas affecter le positionnement des éléments au-dessus, donc la mise en page est le plus souvent effectuée de manière séquentielle - de haut en bas et de gauche à droite.  Par conséquent, la norme HTML fournit un modèle de flux de mise en page de document. <br><br>  Peinture - rendu du contenu à l'écran.  Et seulement après toutes ces étapes, nous voyons le contenu du site à l'écran: D <br><br>  Voici un bref aperçu de toutes les étapes de RE: <br><br><img src="https://habrastorage.org/webt/4l/4i/jh/4l4ijhpppcrwf-1w1gzr9rj4inq.png"><br>  <i>Figure 4</i> <br><br>  Nous résumons: <br><br>  Les données dans le RE proviennent du module réseau par lots.  Dès réception de ces données, RE commence à travailler avec elles, à savoir l'analyse syntaxique HTML. <br><br>  Lorsque RE voit qu'une ressource externe est rencontrée en HTML, il en parle à Network, et il commence à la télécharger puis la redonne à RE. <br><br>  La réunion de la balise &lt;script&gt; conformément à la norme RE arrête l'analyse et attend que ce script soit téléchargé et exécuté, puis ne continue l'analyse et la construction de l'arborescence DOM.  Ceci est résolu par les attributs async / defer.  Vous pouvez en savoir plus sur leurs différences <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici.</a> L'essentiel est de comprendre qu'elles permettent de continuer à analyser HTML sans attendre le traitement du script. <br>  De plus, les navigateurs (dans notre cas, Chrome) peuvent bloquer l'exécution du script s'il essaie de fonctionner (via JavaScript) avec le CSS de l'élément dont les styles sont en cours de traitement. <br><br>  Une fois que RE a compris que tous les scripts synchrones ont été téléchargés et ont fonctionné, HTML est complètement analysé et que rien ne nous dérange plus, il déclenche l'événement DOMContentLoaded et nous obtenons un objet #document dans le navigateur avec lequel nous pouvons travailler. <br><br>  Ensuite, après avoir terminé l'analyse CSS et la construction du modèle d'objet CSS, l'étape d'attachement a lieu, où l'arbre de rendu est construit et la disposition (disposition des tailles et positions des blocs) a lieu.  Eh bien, après la mise en page, il y a un dessin à l'écran - Paint.  Le moteur de rendu va si loin que vous et moi voyons ceci: <br><br><img src="https://habrastorage.org/webt/lt/su/dx/ltsudxoay7pjq6q5g9om-eoj4la.png"><br>  <i>Figure 5</i> <br><br>  C'est tout! <br><br>  J'espère que cet article vous a été utile et que vous comprenez maintenant comment fonctionne le moteur de rendu. <br><br>  Au revoir :) Et à bientôt.  Si vous avez aimé, aimez et abonnez-vous à ma chaîne :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459814/">https://habr.com/ru/post/fr459814/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459800/index.html">Visite photographique: ITMO University Optics Museum</a></li>
<li><a href="../fr459802/index.html">Habr Weekly # 9 / Burnout chez les jeunes, interfaces japonaises, réseau de neurones Battle.net, jeux et cruauté</a></li>
<li><a href="../fr459804/index.html">Créez des cartes d'aide de crowdsourcing sur WordPress + shMapper</a></li>
<li><a href="../fr459806/index.html">Comment nous avons traité le chat Lapuna</a></li>
<li><a href="../fr459810/index.html">Microservices ou monolith: à la recherche d'une solution</a></li>
<li><a href="../fr459816/index.html">Réseaux de neurones et apprentissage profond, chapitre 3, partie 2: pourquoi la régularisation contribue-t-elle à réduire le recyclage?</a></li>
<li><a href="../fr459820/index.html">Il suffit de glisser la carte: comment OS / 2 est utilisé dans le métro de New York</a></li>
<li><a href="../fr459822/index.html">Un exemple d'un réseau neuronal simple, par conséquent, comprendre ce qui est</a></li>
<li><a href="../fr459824/index.html">Liste de contrôle pour l'écriture de superbes extensions Visual Studio</a></li>
<li><a href="../fr459828/index.html">Nouvelles hebdomadaires: prix du billet Hyperloop en Russie, exploitation minière grand public des ordinateurs Apollo, bot AI dans StarCraft II</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>