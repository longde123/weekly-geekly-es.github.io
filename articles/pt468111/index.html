<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊🏼 📟 👦🏾 PSD2 - chute para bancos ⚛️ 🚚 👰🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O artigo é de pouca utilidade para os países da CEI, mas você pode gostar 


 Ultimamente, tenho trabalhado muito com a API de vários bancos. Há uma r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PSD2 - chute para bancos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468111/"><h2>  O artigo é de pouca utilidade para os países da CEI, mas você pode gostar </h2><br><img src="https://habrastorage.org/webt/xi/1a/ky/xi1aky5qp5hp2lcnvuznq36if2y.jpeg" alt="imagem"><br><br>  Ultimamente, tenho trabalhado muito com a API de vários bancos.  Há uma razão para isso - uma nova diretiva chamada PSD2 (Diretiva de Serviço de Pagamento Revisada).  Eu vou falar sobre ela. <br><a name="habracut"></a><br><h3>  Entrada </h3><br>  Tudo começou com empresas como o PayPal.  Você se registra no site do PayPal, que, por sua vez, pega seu cartão de crédito, retira dinheiro quando necessário, acumula franquias em suas contas e, no dia marcado, envia a enésima quantia total de dinheiro para a conta da loja online.  Assim, seu cartão de crédito permanece seguro, a loja online economiza dinheiro, o que significa que você economiza.  Parece que todo mundo é bom. <br><br>  Por outro lado, surge uma pergunta lógica: a loja está perdendo clientes que não têm cartão de crédito ou não querem um para compras individuais na Internet ?! <br><br>  E aqui empresas menores entram em cena, que não levam seu cartão de crédito para o serviço, mas sua conta bancária.  Nem isso, seu banco on-line!  Agora você não precisa de cartão de crédito, não precisa de PayPal, nem precisa fazer transferências.  Basta digitar seu nome de usuário e senha no site da loja e o intermediário fará o resto por você. <br><br>  Você insere os dados no formulário no site da loja on-line, o intermediário simultaneamente insere os mesmos dados no formulário do banco on-line e, com a ajuda do mesmo Selenium, clica aqui e ali no seu banco on-line, fazendo uma transferência para onde necessário.  Mais precisamente, às suas próprias custas, de onde ele também envia a cada duas semanas todos os fundos para as contas das lojas. <br><br>  Claro, com qualquer alteração na página do banco on-line, tudo isso imediatamente para de funcionar, o que irrita as pessoas.  Mas os bancos raramente mudam alguma coisa, então isso raramente acontece. <br>  Outra coisa é que alguns bancos realmente não gostam de tal brecha na segurança e tentam bloquear esses intermediários.  O sucesso e exatamente como eles fazem isso podem ser discutidos por um longo tempo, mas o artigo continuará. <br><br>  Em geral, a pedido de trabalhadores e trabalhadores nesses sistemas de pagamento intermediários, o Conselho da Europa avançou e emitiu uma diretiva obrigando os bancos a criar uma API que permitisse as mesmas coisas que foram feitas anteriormente com o banco on-line, mas agora apenas com a ajuda de solicitações.  Os bancos, é claro, ficaram muito chateados e, mesmo sem esses reguladores, eles têm regras suficientes para seguir, mas não há nada a fazer - eles precisam ser criados. <br><br>  Naturalmente, os bancos também não são de uma dúzia tímida e sabotam essa lei de maneiras diferentes, porque não recebem nenhum benefício dela.  Sim, existem algumas exceções quando tudo imediatamente funciona como deveria e a documentação está no local, mas na maioria dos casos é apenas um massacre de serra elétrica no Texas, não apenas uma serra elétrica e não no Texas, mas e-mails, chamadas e xingamentos na frente da tela do seu monitor no escritório. <br><br>  Eles sabotam com maestria.  Alguns simplesmente não traduzem sua documentação.  Ou seja, é, por assim dizer, mas não é, por assim dizer, porque nenhum Google ajudará a traduzir 90 páginas de técnicas em espanhol por algum motivo.  Os espanhóis geralmente vivem em seu próprio vácuo e não reconhecem que existe algum tipo de idioma internacional além do espanhol.  Muitos outros apresentam a documentação na forma de um arquivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">YAML,</a> no qual não há um único comentário, o que não está claro para onde enviar, os nomes dos campos não têm nenhum padrão e você não entende o que assinar com qual certificado ou não assinar nada. <br><br>  A parte superior da sabotagem é a página de documentação, onde apenas os pontos de extremidade da API são indicados, mas, em princípio, não há cabeçalho ou corpo com uma descrição.  Nem mesmo uma solicitação POST ou GET é indicada.  Obviamente, o departamento jurídico segue essas pessoas, dizendo que as queixas à autoridade supervisora ​​podem não resultar em multa, mas no futuro isso pode levar a uma atenção excessiva a esse banco.  Na maioria dos casos, isso ajuda, mas o tempo passa. <br><br>  Eu sabia sobre os bancos de merda, agora você pode escrever sobre a própria lei. <br><br><h3>  O que é o PSD2? </h3><br>  Esta é uma diretiva emitida pela Comissão Europeia para melhorar o mercado de pagamentos on-line e aumentar a segurança desses pagamentos. <br><br>  De fato, ainda havia um PSD, mas ele simplesmente regulava os pagamentos entre os estados da UE, sem regular os pagamentos on-line.  Embora quais são os pagamentos online em 2007m então. <br><br>  Eles tomaram o PSD mencionado como base e prenderam uma dúzia de capítulos com o belo nome "banco aberto" (banco aberto).  Esses dez capítulos se tornaram uma dor de cabeça para os bancos e uma alegria para os sistemas de pagamento (em teoria, os bancos também causaram dor de cabeça para os pagadores, para não sofrerem). <br><br>  O PSD2 também regula a segurança do cliente, dizendo como e de que forma as solicitações devem ser transmitidas, quais certificados usar e o que pode ser solicitado ao banco e o que não.  Ou seja, para pagamento, você pode solicitar um nome e sobrenome, bem como uma lista de contas de usuário, mas não terá mais nada, mesmo que peça muito. <br><br>  Agora você precisa solicitar um token do banco, registrar-se como uma organização, que pode e deve executar qualquer ação em nome do cliente, além de ter uma chave secreta, etc., etc.  Em geral, a segurança realmente cresceu significativamente.  Bem, a responsabilidade de ambas as partes também. <br><br>  Mas aqui, os bancos são livres para adicionar suas próprias camadas de segurança.  Por exemplo, os bancos permitem que você insira os dados do cliente apenas nas páginas do banco.  Ou seja, em qualquer caso, você terá que redirecionar o usuário para a página do banco e depois devolvê-lo para você (ok, o Selenium também pode ajudar, mas agora os bancos podem enviar saudações inflamadas e negar acesso à API, se algo estiver errado). <br><br><h4>  Ok, agora sobre o óbvio, e não tão, vantagens </h4><br>  Como eu disse acima, a segurança cresceu significativamente.  Agora, os sistemas de pagamento não inventam bicicletas e não interagem com as APIs heterogêneas dos bancos, mas se conectam a APIs mais ou menos padronizadas, de modo que tudo está bem com a segurança. <br><br>  Agora, se você é um sistema de pagamento, por exemplo, na Estônia, pode usar a API dos bancos europeus para aceitar pagamentos de clientes europeus.  E para isso, você só precisa se registrar como instituição financeira, ler cerca de cem documentos e implementar tudo isso em seu sistema.  No entanto, a maior parte da documentação será em inglês; além disso, você terá suporte mais ou menos distinto do banco. <br><br>  Além disso, se você é um banco fora da UE, pode ingressar nesse banco aberto e seus clientes poderão pagar com sistemas de pagamento europeus. <br><br>  Bem, aqui você também pode acrescentar que, se você não é uma empresa tão grande para quebrar os preços de transferências e compartilhar parte com bancos, agora pode fazer livremente o mesmo que uma grande empresa, porque o direito de acessar pagamentos agora todo mundo tem igual. <br><br><h4>  Agora sobre os contras </h4><br>  Existe uma diretiva, mas a API em sua versão de trabalho não é.  A situação é bastante comum agora, um ano após os bancos começarem a trabalhar na implementação (e, bem, sim, eles deveriam ter começado a trabalhar ...). <br><br>  As APIs não são completamente unificadas, assim como o processo de pagamento.  Ou seja, você não pode criar algo universal para todos os bancos; é necessário ajustar a funcionalidade de solicitações para cada banco separadamente, o que atrasa bastante o desenvolvimento. <br><br>  Mesmo o mesmo banco pode ter APIs diferentes em diferentes países.  Porque cada país tem seus próprios órgãos reguladores que adicionam algum tipo de “regulamentação” ao processo.  Lá você precisa de tokens adicionais, precisa autorizar o usuário três vezes, há outra coisa ... <br>  Bem, agora seus negócios com o sistema de pagamentos dependem completamente do banco, cujos servidores podem cair repentinamente e, enquanto toda a máquina burocrática os executa e os inicia novamente, pode levar um dia ou dois, o que privará seus ganhos decentes.  Nesse caso, você não pode apresentar algo ao banco. <br><br>  Só isso. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468111/">https://habr.com/ru/post/pt468111/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468093/index.html">Nitratos nos produtos: lojas suíças vs lojas russas vs casa de verão</a></li>
<li><a href="../pt468097/index.html">Microsoft Edge - XSS genérico</a></li>
<li><a href="../pt468099/index.html">C / C ++ de Python (CFFI, pybind11)</a></li>
<li><a href="../pt468107/index.html">Como criar um modelo com mais precisão do que transfermarkt e não prever ou o que afeta o custo das transferências acima de tudo</a></li>
<li><a href="../pt468109/index.html">Dizem que Samara é uma cidade de Javists, mas estamos conduzindo um mitap PHP lá</a></li>
<li><a href="../pt468117/index.html">Ethernet, FTP, Telnet, HTTP, Bluetooth - o básico da análise de tráfego. Resolvendo problemas em uma rede com r0ot-mi. Parte 1</a></li>
<li><a href="../pt468121/index.html">Como não me tornei programador aos 35 anos</a></li>
<li><a href="../pt468125/index.html">Animação em Assíntota</a></li>
<li><a href="../pt468127/index.html">Evolution CMS 2.0 nos componentes Laravel 6.0 - a evolução natural do MODX Evolution</a></li>
<li><a href="../pt468135/index.html">Os 10 principais relatórios do JPoint 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>