<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒ ğŸ› ğŸŸï¸ 1C pada Proxmox. Catatan umum ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘©ğŸ½ ğŸš ğŸ•Šï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah beberapa tahun menggunakan 1C dalam virtualisasi wadah Proxmox, ada cukup kerucut penuh, yang akan saya buat di sini sebagai catatan umum sing...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>1C pada Proxmox. Catatan umum</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429172/">  Setelah beberapa tahun menggunakan 1C dalam virtualisasi wadah Proxmox, ada cukup kerucut penuh, yang akan saya buat di sini sebagai catatan umum singkat tentang tahapan proses implementasi. <br><br>  Ini bukan panduan untuk bertindak atau manual.  Jika ada item yang harus dijelaskan secara lebih rinci - jangan ragu dalam komentar. <br><a name="habracut"></a><br><h3>  Perencanaan dan Penilaian Risiko </h3><br>  Ketika Anda mengecat jumlah tabungan, stabilitas, skalabilitas, dan barang lainnya dengan mata menyala, jangan lupakan diri Anda.  Minimumnya adalah perangkat keras yang baik, pengendaraan normal, drive cepat, versi 1C server x64.  Masih disarankan untuk meminta semacam pelatihan tentang topik tersebut.  Agar manajemen memahami bahwa ia berinvestasi dalam infrastruktur dan personelnya sendiri, dan tidak hanya menghemat jumlah yang tiba-tiba. <br><br><h3>  Pembelian perangkat lunak.  Integrator </h3><br>  Dianjurkan untuk memilih seseorang yang memiliki setidaknya beberapa pengalaman mendukung versi linux 1C.  Luangkan waktu untuk menelepon dan bertanya.  Akibatnya, tidak ada yang akan membantu Anda, dan Anda akan berhadapan langsung dengan semua masalah, tetapi setidaknya tanpa tips bodoh yang menyebalkan tentang rdp dan mssql. <br><br><h3>  Penyiapan host </h3><br>  Ketika bekerja dengan proxmox, adalah dosa untuk tidak menggunakan mekanisme lxc.mount yang luar biasa untuk memasang direktori dari host ke wadah (apalagi, menjaga acl).  Untuk mencegah agar kontainer tidak membengkak dari log dan cadangan, Anda harus membuat bagian dan direktori untuk keperluan ini di host sebelumnya, dan tugas cron untuk rotasi dan pembersihan.  Jadi, Anda akan mengarahkan cadangan dan log melalui satu tempat, dan Anda akan melihat bahwa ini bagus. <br><br><h3>  Memilih konfigurasi server aplikasi dan server basis data </h3><br>  Anda, tentu saja, sudah terbiasa dengan pendekatan klasik guru 1c, dengan menempatkan database pada server yang sama dengan server aplikasi.  Sekarang adalah peluang besar untuk tidak melakukannya.  Faktanya adalah bahwa jika Anda mengukur kecepatan transfer data "jaringan" antara kontainer, Anda akan mendapatkan setidaknya 25-30 Gbit / dtk.  Jangan ragu untuk mengarahkan database dari pantai, dan Anda akan mendapatkan server aplikasi monolitik ringan dan beberapa server database yang akan mudah diprofilkan, dicadangkan, dan dipelihara. <br><br><h3>  Penyiapan server basis data </h3><br>  PostgreSQL dari 1C atau Postgres Professional bekerja sangat baik dalam wadah di luar kotak. <br>  Untuk kenyamanan saja, saya pertama-tama akan membuat templat wadah kosong dengan server database, dan kemudian mengkloningnya di bawah setiap infobase yang terhubung ke server aplikasi.  Dalam template ini, Anda harus segera me-mount log dan direktori cadangan dari host, dan, dengan demikian, redirect log paling tebal di sana.  Masuk akal juga untuk segera membuat tugas cadangan, misalnya, melalui pg_dump semua mekanisme dalam direktori ini.  Saat menghasilkan file output, gunakan $ hostname.  Jadi, Anda mendapatkan set pria untuk setiap kesempatan <br><br><h3>  Pengaturan Server Aplikasi </h3><br>  Semuanya berjalan tanpa fitur, rutin dan membosankan, hanya jika Anda tidak menginstal x86-server pada OS x64.  Tetapi bahkan dalam kasus ini, semuanya bisa diselesaikan.  Misalnya, jika Anda menginstal x86 1C pada Centos7, ada repositori yang sangat baik dengan paket x86 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mirror.centos.org/altarch/7/os/i386/Packages</a> <br>  Dari sana Anda pasti akan memerlukan: ImageMagick-c ++ - devel, fontconfig, libgsf, http, httpd-devel, serta libpng dan libpng-devel untuk mencetak barcode <br><br><h3>  Perizinan </h3><br>  Banyak yang menentang lisensi perangkat lunak dan menganjurkan untuk HASP lebih mahal tetapi dapat diandalkan.  Ini seperti bermain ski dan seluncur salju.  Anda memutuskan apa yang harus istirahat - tulang selangka atau pergelangan kaki.  Ada masalah baik meneruskan pengait ke wadah dan dengan benar mendapatkan lisensi perangkat lunak. <br><br>  Jika Anda memutuskan untuk mengambil lisensi perangkat lunak, berhati-hatilah dengan inti CPU.  Seperti yang dinyatakan dalam dokumentasi, Anda dapat menambah (tetapi tidak mengurangi) jumlah core dan prosesor tanpa melepaskan kembali.  Namun, Proxmox, ketika mengubah jumlah core prosesor yang tersedia dalam wadah, mengubah CoreID dari core pertama.  Artinya, jika sebagai permulaan Anda membuat sebuah wadah dengan 1 inti dan melekat pada CoreID 0 saat melisensikan, Anda akan terkejut ketika meningkatkan jumlah inti menjadi 4, penomoran CoreID tidak akan menjadi 0,1,2,3 tetapi 1,2,2,4 .  Dengan demikian, lisensi akan terbang <br><br>  Jika ini terjadi - jangan putus asa.  Lisensi dapat dengan mudah diaktifkan kembali menggunakan kode terlampir.  Dan Anda dapat menempatkan konfigurasi wadah satu inti lebih dari jumlah sebenarnya.  Misalnya, 9 untuk server delapan inti.  Kemudian CoreID 0 akan kembali dan tidak akan meninggalkan Anda. <br><br>  Saya harap catatan ini membantu seseorang </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429172/">https://habr.com/ru/post/id429172/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429158/index.html">Sindrom penipu memengaruhi pria tidak kurang dari wanita ... dan temuan lain dari 10.000 wawancara teknis</a></li>
<li><a href="../id429160/index.html">Nintendo DS Console GPU dan Fitur Menarik</a></li>
<li><a href="../id429162/index.html">"Untuk Membuat Perubahan, Memahami Mengapa Orang Menentangnya": Jim Holmes tentang Budaya Pengujian</a></li>
<li><a href="../id429166/index.html">Multicrystal: dari sejarah hingga spekulasi tentang masa depan</a></li>
<li><a href="../id429168/index.html">Melalui api dan air: sejarah sastra sains populer Rusia</a></li>
<li><a href="../id429174/index.html">BlueStacks 4: pengujian pada perangkat keras yang lemah + komentar pengembang</a></li>
<li><a href="../id429176/index.html">Analitik aliran: mulai cepat dengan SAS ESP</a></li>
<li><a href="../id429178/index.html">Microsoft memesan model kampus baru di Minecraft</a></li>
<li><a href="../id429180/index.html">Pergi ke goto</a></li>
<li><a href="../id429182/index.html">Kecerdasan buatan menemui hambatan pemahaman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>