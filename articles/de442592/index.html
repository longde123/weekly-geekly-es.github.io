<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ÜñÔ∏è üßë‚Äçü§ù‚Äçüßë üßõüèª Verwenden von Joomla-Konten in einem Django-Projekt ü§∑üèº üëºüèΩ ‚úãüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Angenommen, die von Ihren Benutzern verwendete Website ist in Joomla geschrieben. Um jedoch ein neues Produkt f√ºr Ihr Publikum zu erstellen, haben Sie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verwenden von Joomla-Konten in einem Django-Projekt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442592/"><p> Angenommen, die von Ihren Benutzern verwendete Website ist in Joomla geschrieben. Um jedoch ein neues Produkt f√ºr Ihr Publikum zu erstellen, haben Sie das Python / Django-Bundle ausgew√§hlt. </p><br><p>  Daher m√ºssen Sie Benutzerkonten aus der Joomla-Datenbank in Django verwenden. </p><br><p>  Das Problem ist jedoch, dass Joomla und Django unterschiedliche Kennwort-Hashing-Algorithmen verwenden, sodass nur das Kopieren der Konten fehlschl√§gt. </p><br><p>  Nachdem ich die Django-Dokumentation gelesen, den Stapel √ºbergelaufen und einige Zeit verbracht hatte, erhielt ich die unten beschriebene L√∂sung, die die empfohlenen Entwicklungspraktiken f√ºr Django maximal nutzt. </p><a name="habracut"></a><br><h2 id="preduprezhdeniya">  Warnungen </h2><br><p>  Diese architektonische L√∂sung passt m√∂glicherweise nicht zu Ihnen, siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diskussion in den Kommentaren</a> . </p><br><p>  Um zu verstehen, was in den folgenden Beispielen passiert, m√ºssen Sie die Django-Architektur verstehen. </p><br><p>  Ich gehe auch davon aus, dass Sie wissen, wie man ein Django-Projekt bereitstellt, daher beschreibe ich diesen Prozess nicht. </p><br><p>  Der Code wird aus einem Arbeitsprojekt kopiert, l√§sst sich jedoch mit einem Minimum an √Ñnderungen leicht an Ihr Projekt anpassen. </p><br><p>  Wahrscheinlich wird dieser Code in der n√§chsten Hauptversion von Django brechen, das L√∂sungsprinzip bleibt jedoch dasselbe. </p><br><p>  In diesem Handbuch beschreibe ich das Frontend des Autorisierungssystems nicht, da: </p><br><ul><li>  Welches Front-End Sie haben, h√§ngt von den Anforderungen Ihres Projekts ab (es kann beispielsweise sogar ein Json-API-Endpunkt sein). </li><li>  Diese Informationen sind bereits in den offiziellen Django-Tutorials und verschiedenen Starterartikeln beschrieben </li></ul><br><h2 id="algoritm">  Algorithmus </h2><br><ul><li>  Verbinden Sie die Joomla-Datenbank (DB) mit dem Django-Projekt </li><li>  Erstellen Sie ein JoomlaUser-Modell, das einen Benutzer aus der Joomla-Datenbank darstellt </li><li> Schreiben Sie eine Funktion <code>check_joomla_password()</code> , die √ºberpr√ºft, ob das eingegebene Kennwort mit dem urspr√ºnglichen Kennwort des Benutzers √ºbereinstimmt. </li><li>  F√ºgen Sie dem Projekt ein neues Autorisierungs-Backend "Joomla Auth Backend" hinzu, das bei der Autorisierung des Clients in Django das Benutzerkonto aus der Joomla-Datenbank erh√§lt </li></ul><br><h3 id="1-podklyuchenie-k-bd-joomla">  1. Verbindung zur Joomla-Datenbank: </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lesen Sie, wie Django mit mehreren Datenbanken arbeitet</a> </li><li><p>  <code>/project_name/settings.py</code> der Projekteinstellungsdatei <code>/project_name/settings.py</code> den folgenden Code hinzu, um die Joomla-Datenbank mit unserem Django-Projekt zu verbinden: </p><br><pre> <code class="python hljs">DATABASES = { <span class="hljs-comment"><span class="hljs-comment">#    'default': { ... }, 'joomla_db': { 'ENGINE': 'django.db.backends.mysql', 'OPTIONS': {}, 'NAME': 'joomla_database_name', # Don't store passwords in the code, instead use env vars: 'USER': os.environ['joomla_db_user'], 'PASSWORD': os.environ['joomla_db_pass'], 'HOST': 'joomla_db_host, can be localhost or remote IP', 'PORT': '3306', } }</span></span></code> </pre> <br></li></ul><br><p>  Bei Bedarf k√∂nnen Sie in derselben Datei mit den Projekteinstellungen die Protokollierung von Datenbankabfragen aktivieren: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># add logging to see DB requests: LOGGING = { 'version': 1, 'handlers': { 'console': { 'level': 'DEBUG', 'class': 'logging.StreamHandler', }, }, 'loggers': { 'django.db.backends': { 'level': 'DEBUG', 'handlers': ['console'], }, }, }</span></span></code> </pre> <br><h3 id="2-sozdayte-model-joomlauser">  2. Erstellen Sie ein JoomlaUser-Modell </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lesen Sie, wie ein Django-Modell eine vorhandene Datenbank verwenden kann</a> </li><li>  √úberlegen Sie, wo Sie den neuen JoomlaUser platzieren m√∂chten. <br>  In meinem Projekt habe ich eine Anwendung namens "Benutzer" erstellt ( <code>manage.py startapp users</code> ).  Es enth√§lt das Autorisierungs-Backend und das Joomla-Benutzermodell. </li><li>  Generieren Sie das Modell automatisch mit inspectdb: <br> <code>python manage.py inspectdb live_users --database="joomla_db"</code> <br> <blockquote>  joomla_db - der Name der Datenbank, die Sie in <code>settings.py/DATABASES</code> ; <br>  live_users - Name der Tabelle mit Konten. <br></blockquote></li><li><p>  <code>users/models.py</code> Sie Ihr Modell zu <code>users/models.py</code> : </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JoomlaUser</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Represents our customer from the legacy Joomla database. """</span></span> username = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">150</span></span>, primary_key=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) email = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">100</span></span>) password = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-comment"><span class="hljs-comment"># you can copy more fields from `inspectdb` output, # but it's enough for the example class Meta: # joomla db user table. WARNING, your case can differs. db_table = 'live_users' # readonly managed = False # tip for the database router app_label = "joomla_users"</span></span></code> </pre> <br></li></ul><br><p>  Als n√§chstes m√ºssen wir sicherstellen, dass das Modell auf die richtige Datenbank zugreift.  F√ºgen Sie dazu dem Projekt einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Router f√ºr Abfragen an verschiedene Datenbanken hinzu</a> , der Anforderungen vom JoomlaUser-Modell an die native Datenbank umleitet. </p><br><ol><li><p>  Erstellen Sie die Datei "db_routers.py" im Hauptordner des Projekts (an derselben Stelle, an der sich Ihre "settings.py" befindet): </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># project_name/db_routers.py class DbRouter: """this router makes sure that django uses legacy 'Joomla' database for models, that are stored there (JoomlaUser)""" def db_for_read(self, model, **kwargs): if model._meta.app_label == 'joomla_user': return 'joomla_db' return None def db_for_write(self, model, **kwargs): if model._meta.app_label == 'joomla_user': return 'joomla_db' return None</span></span></code> </pre> <br></li><li><p>  Registrieren Sie einen neuen Router in <code>settings.py</code> : </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># ensure that Joomla users are populated from the right database: DATABASE_ROUTERS = ['project_name.db_routers.DbRouter']</span></span></code> </pre> <br></li></ol><br><p>  Jetzt k√∂nnen Sie ein Konto aus der alten Datenbank erhalten. <br>  Starten Sie ein Django-Terminal und versuchen Sie, einen vorhandenen Benutzer <code>python manage.py shell</code> : <code>python manage.py shell</code> </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> users.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> JoomlaUser &gt;&gt;&gt; print(JoomlaUser.objects.get(username=<span class="hljs-string"><span class="hljs-string">'someuser'</span></span>)) JoomlaUser object (someusername) &gt;&gt;&gt;</code> </pre> <br><p>  Wenn alles funktioniert (Sie sehen den Benutzer), fahren Sie mit dem n√§chsten Schritt fort.  Andernfalls √ºberpr√ºfen Sie die Fehlerausgabe und korrigieren Sie die Einstellungen. </p><br><h3 id="3-proverka-parolya-uchetnoy-zapisi-joomla">  3. √úberpr√ºfen Sie das Joomla-Kontokennwort </h3><br><p>  Joomla speichert keine Benutzerkennw√∂rter, sondern beispielsweise deren Hash <br> <strong><code>$2y$10$aoZ4/bA7pe.QvjTU0R5.IeFGYrGag/THGvgKpoTk6bTz6XNkY0F2e</code></strong> </p> <br><p>  Ab Joomla v3.2 werden Benutzerkennw√∂rter mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BLOWFISH-</a> Algorithmus verschl√ºsselt. </p><br><p>  Also habe ich Python-Code mit diesem Algorithmus heruntergeladen: </p><br><pre> <code class="bash hljs">pip install bcrypt <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> bcrypt &gt;&gt; requirements.txt</code> </pre> <br><p>  Und eine Funktion zum √úberpr√ºfen von Passw√∂rtern in der <code>users/backend.py</code> : </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check_joomla_password</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(password, hashed)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">""" Check if password matches the hashed password, using same hashing method (Blowfish) as Joomla &gt;= 3.2 If you get wrong results with this function, check that the Hash starts from prefix "$2y", otherwise it is probably not a blowfish hash :return: True/False """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> bcrypt <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> password <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-comment"><span class="hljs-comment"># bcrypt requires byte strings password = password.encode('utf-8') hashed = hashed.encode('utf-8') return hashed == bcrypt.hashpw(password, hashed)</span></span></code> </pre> <br><p>  <strong>Achtung!</strong>  Joomla-Versionen unter 3.2 verwenden eine andere Hashing-Methode (md5 + salt), sodass diese Funktion nicht funktioniert.  In diesem Fall lesen <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diskussion √ºber Stackoverflow</a> und Erstellen einer Hash-Check-Funktion, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ungef√§hr</a> so aussieht: </p><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># WARNING - THIS FUNCTION WAS NOT TESTED WITH REAL JOOMLA USERS # and definitely has some errors def check_old_joomla_password(password, hashed): from hashlib import md5 password = password.encode('utf-8') hashed = hashed.encode('utf-8') if password is None: return False # check carefully this part: hash, salt = hashed.split(':') return hash == md5(password+salt).hexdigest()</span></span></code> </pre> <br><p>  Leider habe ich keine Benutzerbasis aus der alten Version von Joomla zur Hand, daher kann ich diese Funktion nicht f√ºr Sie testen. </p><br><h3 id="4-bekend-avtorizacii-polzovateley-joomla">  4. Backend-Benutzerautorisierung Joomla </h3><br><p>  Jetzt k√∂nnen Sie ein Django-Backend erstellen, um Benutzer aus dem Joomla-Projekt zu autorisieren. </p><br><ol><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lesen Sie, wie Sie das Django-Autorisierungssystem √§ndern</a> </p><br></li><li><p>  Registrieren Sie ein neues Backend (noch nicht vorhanden) in <code>project/settings.py</code> : </p><br><pre> <code class="python hljs">AUTHENTICATION_BACKENDS = [ <span class="hljs-comment"><span class="hljs-comment"># Check if user already in the local DB # by using default django users backend 'django.contrib.auth.backends.ModelBackend', # If user was not found among django users, # use Joomla backend, which: # - search for user in Joomla DB # - check joomla user password # - copy joomla user into Django user. 'users.backend.JoomlaBackend', ]</span></span></code> </pre> <br></li><li><p>  Erstellen Sie ein Joomla-Benutzerautorisierungs-Backend in <code>users/backend.py</code> </p><br></li></ol><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib.auth.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> User <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> .models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> JoomlaUser <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">check_joomla_password</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(password, hashed)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># this is a fuction, that we wrote before ... class JoomlaBackend: """ authorize users against Joomla user records """ def authenticate(self, request, username=None, password=None): """ IF joomla user exists AND password is correct: create django user return user object ELSE: return None """ try: joomla_user = JoomlaUser.objects.get(username=username) except JoomlaUser.DoesNotExist: return None if check_joomla_password(password, joomla_user.password): # Password is correct, let's create and return Django user, # identical to Joomla user: # but before let's ensure there is no same username # in DB. That could happen, when user changed password # in Joomla, but Django doesn't know that User.objects.filter(username=username).delete() return User.objects.create_user( username=username, email=joomla_user.email, password=password, # any additional fields from the Joomla user: ... ) # this method is required to match Django Auth Backend interface def get_user(self, user_id): try: return User.objects.get(pk=user_id) except User.DoesNotExist: return None</span></span></code> </pre> <br><h2 id="itog">  Zusammenfassung </h2><br><p>  Herzlichen Gl√ºckwunsch - jetzt k√∂nnen Benutzer Ihrer vorhandenen Joomla-Site ihre Anmeldeinformationen auf einer neuen Site / Anwendung verwenden. </p><br><p>  Als Autorisierung aktiver Benutzer √ºber die neue Schnittstelle werden diese einzeln in die neue Datenbank kopiert. </p><br><p>  Alternativ m√∂chten Sie m√∂glicherweise keine Benutzerentit√§ten vom alten auf das neue System kopieren. </p><br><p>  In diesem Fall finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier einen Link zu einem Artikel, in dem beschrieben wird, wie Sie das Standardbenutzermodell in Django</a> (das oben beschriebene JoomlaUser-Modell) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">durch Ihr eigenes ersetzen</a> . </p><br><p>  Die endg√ºltige Entscheidung, ob Benutzer √ºbertragen werden sollen oder nicht, wird auf der Grundlage der Beziehung getroffen, in der sich das neue und das alte Projekt befinden.  Wo findet beispielsweise die Registrierung neuer Benutzer statt, welche Site / Anwendung wird die Hauptwebsite sein usw. </p><br><h2 id="testirovanie-i-dokumentaciya">  Test und Dokumentation </h2><br><p>  F√ºgen Sie nun die entsprechenden Tests und Dokumentationen hinzu, die den neuen Code abdecken.  Die Logik dieser L√∂sung ist eng mit der Django-Architektur verkn√ºpft und nicht sehr offensichtlich. Wenn Sie die Tests / Dokumentationen jetzt nicht durchf√ºhren, wird die Unterst√ºtzung f√ºr das Projekt in Zukunft komplizierter. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442592/">https://habr.com/ru/post/de442592/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442582/index.html">Wie wir es mit Mobbing versucht haben</a></li>
<li><a href="../de442584/index.html">Dokumente zum Geb√§ude: kleine Freuden der Automatisierung am Beispiel des Dunklen Turms</a></li>
<li><a href="../de442586/index.html">Durch die Sicherheitsanf√§lligkeit im Telegramm kann das Kennwort f√ºr den lokalen Code beliebiger L√§nge umgangen werden</a></li>
<li><a href="../de442588/index.html">Stellen Sie eine Frage an den Autor von Lua</a></li>
<li><a href="../de442590/index.html">Tipps und Tricks zur digitalen Forensik: So finden Sie eine aktive VPN-Verbindung im Speicherauszug</a></li>
<li><a href="../de442594/index.html">Wirst du alles f√ºr mich √ºberwachen? Ja</a></li>
<li><a href="../de442596/index.html">Soundtrack f√ºr das Spiel: Auch die Geisteswissenschaften weinen</a></li>
<li><a href="../de442598/index.html">Werden Headhunter ben√∂tigt?</a></li>
<li><a href="../de442600/index.html">Mein Hausautomationssystem</a></li>
<li><a href="../de442602/index.html">Verringert die Geschwindigkeit die Geschwindigkeit?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>