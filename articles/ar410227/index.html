<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛩️ 👩🏾‍🎓 🛠️ Pi-Sonos v2.0 أو تطور راديو الإنترنت على Raspberry Pi ⚕️ 🚵🏼 🙇🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="كما تعلمون ، ليس هناك حد للكمال. حتى بالنسبة إلى الصوتيات المحمولة محلية الصنع ، التي يشتمل جمهورها المستخدم على شخص واحد فقط. شخص متطلب للغاية وأحيان...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pi-Sonos v2.0 أو تطور راديو الإنترنت على Raspberry Pi</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/410227/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gd/g9/zx/gdg9zxcp2lrffn69l2p0nfjlp5k.png" alt="الصورة" align="left">  كما تعلمون ، ليس هناك حد للكمال.  حتى بالنسبة إلى الصوتيات المحمولة محلية الصنع ، التي يشتمل جمهورها المستخدم على شخص واحد فقط.  شخص متطلب للغاية وأحيانًا عنيد مهووس.  بعد <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">نشر أول</a> منشور عن Pi-Sonos ، مرت 5 أشهر تقريبًا.  خلال هذا الوقت ، تمكن البرنامج داخل هذه الصوتيات من التغيير بشكل كبير مرتين.  كان سبب التغييرات نصيحة مفيدة من Habrachians و UX الخاصة بهم. <br><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">القليل من التاريخ لأولئك الذين هم كسالى جدًا في القراءة أو الذين نسوا المقالة الأولى بالفعل</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  Pi-Sonos هي صوتيات مدمجة محلية الصنع ، وقد تم استحداثها من Sonos Play 1. وكان الهدف من هذه الصوتيات أولاً هو تشغيل الموسيقى من محطات راديو الإنترنت.  عند إنشائه ، أضع البساطة والراحة في المقدمة: لقد قمت بتوصيله بمأخذ طاقة ، ثم ، في أي مكان في المنزل ، تحكم في الموسيقى من هاتفك الذكي / الكمبيوتر / الكمبيوتر اللوحي. <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">عن ماذا تتحدث هذه المقالة</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  بادئ ذي بدء ، عن المثابرة والفضول في الطريق إلى المثالية.  تحت <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">اسم المستخدم</a> ، لن يكون هناك حل لأي مشكلة عالمية ، ولا وصف لتقنية فريدة جديدة.  يوضح المقال فقط مقارنة بين المراكز الإعلامية الشعبية لـ Raspberry Pi ، ويكشف عن نقاط القوة والضعف فيها ، بالإضافة إلى رؤيتي الشخصية للإطار الأمثل لإذاعة الإنترنت.  في الواقع ، أثناء تطوير برنامجي الخاص للمتحدث ، كررت جزئيًا مسار صانعي Volumio ، وأدركت من الصفر فقط إحدى وظائفه (اقرأ: "اخترع دراجة أخرى"). <br>  على الرغم من حقيقة أن المقالة تتناول موضوع تطوير البرمجيات ، إلا أنه لا يوجد كود فيه ، لأن الغرض من المقالة هو وصف الفكرة والوظيفة ، وليس عملية تنفيذها.  إذا كان موضوع الشفرة مثيرًا للاهتمام للسكان ، فسأحاول إتقان مقال منفصل يصف عملية التطوير. <br></div></div><br>  في البداية ، كان حشو البرمجيات <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">للأصوات</a> هو <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">OSMC</a> ، لكن العقلاء في التعليقات لفتوا الانتباه إلى حقيقة أن Kodi (المعروف أيضًا باسم OSMC) جريئة جدًا مثل "العقول" لمحطة إذاعية عبر الإنترنت.  إنه ذكي وكبير جدًا ، فقط للمشاريع الصوتية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Volumio</a> أفضل.  في الواقع ، اتضح ذلك.  يعد Volumio أخف وزناً ، وتم تحسينه بواسطة واجهة الويب ولديه واجهة برمجة تطبيقات أكثر تقدمًا وسهولة في التطوير.  أيضا ، ليست هناك حاجة لكابل HDMI يخرج من الخلف ، لأن Volumio قابل للتخصيص بالكامل في أي متصفح. <br><br>  ومع ذلك ، أظهر Volumio أيضًا بعض أوجه القصور المهمة التي دفعتني إلى إجراء مزيد من البحث.  هذا ، أولاً ، وقت التنزيل ، وثانيًا ، عدم وجود تشغيل تلقائي.  بعد دراسة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الوثائق الرسمية</a> (التي يمكن من خلالها فهم أن Volumio هي إضافة على mpd (مشغل موسيقى Daemon)) ، قررت أن الوقت قد حان لكتابة غلاف خاص بي يسمى RPi-Radio على js من شأنه حل هذه المشاكل.  يتم تشغيل جزء الخادم الخاص به على Node.js ، وجزء العميل (GUI) الذي يستخدم React.js جاهزًا منذ OSMC ، فإنه يحتاج إلى تعديل فقط.  لذلك يبدو على شاشة الهاتف الذكي الآن: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/te/nz/am/tenzamoyba4r-l2y4ypzu3zpt68.jpeg"></div><br>  يوجد أدناه لوحة تُظهر بوضوح عيوب ومزايا كل إطار. <br><table style=";text-align:right;direction:rtl"><tbody><tr><th>  المعيار </th><th>  <nobr>OSMC</nobr> </th><th>  <nobr>Volumio</nobr> </th><th>  <nobr>راديو RPi</nobr> </th></tr><tr><td>  وقت التحميل </td><td>  <nobr>35 ثانية</nobr> </td><td>  <nobr>45 ثانية</nobr> </td><td>  <nobr>20 ثانية</nobr> </td></tr><tr><td>  بدء التشغيل التلقائي </td><td>  <nobr>لا *</nobr> </td><td>  <nobr>لا *</nobr> </td><td>  <nobr>نعم</nobr> </td></tr><tr><td>  عدد الأشرطة من الشاشة الرئيسية لواجهة المستخدم الرسومية "الأصلية" على الهاتف الذكي لتحديد محطة راديو من قائمة المفضلة ** </td><td>  <nobr>5 + 1 التمرير</nobr> </td><td>  <nobr>4</nobr> </td><td>  <nobr>1</nobr> </td></tr><tr><td>  الحاجة لشاشة ولوحة مفاتيح وماوس *** </td><td>  <nobr>نعم</nobr> </td><td>  <nobr>لا</nobr> </td><td>  <nobr>لا</nobr> </td></tr><tr><td>  إدارة الويب </td><td>  <nobr>جزئي</nobr> </td><td>  <nobr>كاملة</nobr> </td><td>  <nobr>جزئي</nobr> </td></tr><tr><td>  تحرير قائمة المحطات </td><td>  <nobr>كذا</nobr> </td><td>  <nobr>المعايير</nobr> </td><td>  <nobr>كذا</nobr> </td></tr><tr><td>  الإعداد الأولي السهل </td><td>  <nobr>كذا</nobr> </td><td>  <nobr>عظيم</nobr> </td><td>  <nobr>متواضع</nobr> </td></tr><tr><td>  التكامل مع واجهة المستخدم الرسومية الخاصة بالهاتف الذكي </td><td>  <nobr>مع العكازات</nobr> </td><td>  <nobr>مع العكازات</nobr> </td><td>  <nobr>خارج الصندوق</nobr> </td></tr><tr><td>  راحة الاستخدام اليومي </td><td>  <nobr>☆</nobr> </td><td>  <nobr>☆☆</nobr> </td><td>  <nobr>☆☆☆</nobr> </td></tr></tbody></table>  <b>* في</b> الواقع نعم ، لكنك تحتاج إلى عمل عكاز ونخيل من شركة Raspbian الناشئة ؛  في حالة OSMC ، يتم كتابة العكاز في بايثون ، وفي حالة Volumio ، في js أو bash.  ولكن في كلتا الحالتين ، لا يزال لا يعمل كما نود. <br>  <b>**</b> بالنسبة لـ OSMC و Volumio ، تعد هذه معلمات مهمة جدًا ، لأن كل هذه النقرات يجب أن تتم في كل مرة تقوم فيها بتشغيل العمود.  بالنسبة إلى RPi-Radio ، لا تزال هذه المعلمة ، على الرغم من أنها ضئيلة ، ليست مهمة للغاية ، حيث يبدأ العمود في تشغيل نفسه عند تشغيله. <br>  <b>***</b> أعني الاتصال المادي للشاشة ولوحة المفاتيح والماوس بجهاز Raspberry Pi نفسه ، أي  تلك الحالات حيث لا توجد طريقة للتجول في واجهة الويب المدمجة أو اتصال ssh. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">تحت هذا المفسد هو شرح مفصل لكل من نقاط المقارنة.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"> وقت التمهيد 20 ثانية ، في رأيي ، هو الحد الأدنى الذي يمكن تحقيقه دون الانغماس في براري تحسين Raspbian لهذا المشروع.  هذا هو الوقت الذي تستغرقه Malinka لتحميل نظام التشغيل وبدء خدمة mpd.  ربما يمكن تحسين هذه النتيجة إذا قمت باستبدال microSDHC بـ microSDXC بسرعة قراءة / كتابة أعلى (سوف أتحقق من ذلك إن أمكن).  من المثير للدهشة أن Volumio ، التي تتظاهر بأنها خفيفة وخفيفة الوزن ، تستغرق وقتًا أطول للتحميل من حصادة الوحش OSMC.  45 ثانية من الانتظار تتجاوز عتبة التشغيل المريح ، وكان هذا هو السبب الرئيسي لمغادرة Volumio. <br><br>  التشغيل التلقائي موجود في mpd خارج الصندوق ، لم يكن لدي أي شيء لتنشيطه - بشكل ملائم!  في Volumio ، على الرغم من أنها غلاف MPD ، تم خنق هذه الوظيفة من أجل صوت تحية جميل.  كما كتبت بالفعل ، يمكنك إنشاء برنامج نصي ووضعه في بدء التشغيل.  الوضع مشابه لـ OSMC. <br><br>  يتمتع OSMC بمعظم تفاعل المستخدم من خلال الشاشة: هناك واجهة جميلة ، والقدرة على مشاهدة مقاطع الفيديو والصور وقراءة الأخبار ومشاهدة الطقس - هناك الكثير من الأشياء التي لن يفعلها عمودي أبدًا في حياتي. <br><br>  لكن إدارة الويب لـ OSMC محدودة للغاية ، ولا يمكنك حتى تكوين قائمة محطاتك المفضلة في المكون الإضافي للراديو عن بُعد - فقط من خلال الشاشة.  في Volumio - على العكس ، كل شيء يتم فقط من خلال واجهة الويب.  يعد تعديل قائمة المحطات أكثر ملاءمة في المتصفح على سطح المكتب / الكمبيوتر المحمول ، ولكنه ممكن أيضًا على الهاتف الذكي إذا رغبت في ذلك.  مع RPi-Radio ، يمكنك فقط اختيار محطة وضبط الصوت عبر واجهة الويب.  قائمة المحطات ، وكل شيء آخر يجب أن يتم من خلال وحدة التحكم عبر ssh.  قائمة المحطات هي الأكثر صعوبة: إذا كان لدى OSMC و Volumio مكتباتهما الواسعة الخاصة بمحطات راديو الإنترنت ، فيضطر RPi-Radio إلى إدخال عناوين محطاتي المفضلة بتنسيق JSON يدويًا.  بشكل غير مريح ، ولكن مرة واحدة (أو عدة مرات) في العمر. <br><br>  مع الإعداد الأولي ، يكون OSMC هو الأسوأ.  تحتاج أولاً إلى توصيل جهاز عرض بـ "raspberry" وتكوين المكون الإضافي للراديو ، ثم تحتاج إلى تكوين إخراج الصوت إلى IQAudio DAC الخارجي (مثل لوحة Suptronics X400) عبر وحدة التحكم أو عبر ssh.  يحتوي RPi-Radio على نفس إعداد DAC ، ولكن على الأقل يتم كل شيء آخر عبر ssh أيضًا.  الرائد في هذه الفئة ، بالطبع ، هو Volumio - لإخراج الصوت من خلال DAC خارجي ، ما عليك سوى تحديد العنصر المناسب من القائمة المنسدلة في قائمة الإعدادات.  هناك مقارنة حتى على موقع Suptronics الرسمي (http://www.suptronics.com/xseries/x400.html) <br><br>  واجهة المستخدم الرسومية في RPi-Radio هي صفحة ويب بسيطة يتم تنفيذها على React.js.  جزء الخادم ، المسؤول عن التفاعل بين واجهة المستخدم الرسومية للعميل و MPD ، يعمل على Node.js وهو خادم HTTP و WebSocket بسيط يعتمد على <code>Socket.io</code> + <code>http</code> + <code>express</code> .  يتم تشغيله على Raspbian كخدمة عند تشغيل النظام مباشرة بعد بدء تشغيل خدمة mpd ويستخدم وحدة <code>mpc-js</code> للتحكم في mpd.  يمكن الوصول إلى واجهة المستخدم الرسومية للعميل من أي متصفح على الشبكة المنزلية الخاصة بي ببساطة عن طريق IP أو اسم المضيف "raspberry".  ممتاز. <br></div></div><br>  يتم نشر مصادر RPi-Radio على <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Github</a> .  في نفس المستودع ، في وجبات الغداء المناسبة ، يمكنك العثور على كل من تعديلات GUI للعمل مع OSMC و Volumio. <br><br>  نتيجة تماريني ، راديو RPi ، تتجاوز نطاق الإضافة البسيطة لعمود واحد.  هذا هو نوع من الحل الجاهز الذي لا يحول Raspberry Pi فقط إلى جهاز استقبال راديو عبر الإنترنت ، ولكن أيضًا أي جهاز مع إخراج صوتي وإمكانية الوصول إلى الإنترنت والقدرة على تشغيل mpd و Node.js.  الميزة الرئيسية لمثل هذا النظام هي عدم وجود كل ما هو غير ضروري.  في الواقع ، كما حدث في سونوس ، في المثل الأعلى الذي أسعى لتحقيقه. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar410227/">https://habr.com/ru/post/ar410227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar410217/index.html">كن بصحة جيدة! مع إنترنت الأشياء ...</a></li>
<li><a href="../ar410219/index.html">ثمانية ضربات: حول الأصوات في الألعاب القديمة</a></li>
<li><a href="../ar410221/index.html">اختيار جهاز عرض مسرح منزلي</a></li>
<li><a href="../ar410223/index.html">اضطر عامل مناجم من نيويورك إلى فصل المعدات بسبب التداخل مع شبكة T-Mobile</a></li>
<li><a href="../ar410225/index.html">اسأل إيثان: هل يتحرك الضوء دائمًا بنفس السرعة؟</a></li>
<li><a href="../ar410229/index.html">ارتبط النشاط البدني الضعيف بالأنسجة العصبية الضعيفة وخطر الإصابة بالخرف.</a></li>
<li><a href="../ar410231/index.html">الضوء الخافت يجعلها أكثر غباءً ، ويؤدي الوميض إلى شفاء مرض الزهايمر بالتردد الصحيح</a></li>
<li><a href="../ar410233/index.html">فاليري ليتفين ، CTO cyber • Fund، “Blockchain. فجوة القالب هي مقدمة شائعة لتقنية blockchain واقتصاد التشفير "</a></li>
<li><a href="../ar410235/index.html">يواجه المتحمس 15 شهرًا في السجن لنسخ أقراص مدمجة مجانية من Dell</a></li>
<li><a href="../ar410237/index.html">لا يجب على الآباء التجسس على أطفالهم</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>