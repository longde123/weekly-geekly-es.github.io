<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò≠ ü•á ü§≤üèº Prettier, ESLint, Husky, Lint-Staged y EditorConfig: herramientas para escribir c√≥digo ordenado üÜô üçÇ üéöÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Te esfuerzas por escribir un c√≥digo ordenado, pero no sabes por d√≥nde empezar ... Lees las gu√≠as de estilo, como esta de Airbnb, intenta seguir las re...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prettier, ESLint, Husky, Lint-Staged y EditorConfig: herramientas para escribir c√≥digo ordenado</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/428173/">  Te esfuerzas por escribir un c√≥digo ordenado, pero no sabes por d√≥nde empezar ... Lees las gu√≠as de estilo, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta</a> de Airbnb, intenta seguir las recomendaciones pr√°cticas de los principales expertos ... ¬øTienes que eliminar el c√≥digo no utilizado?  ¬øTienes que buscar variables innecesarias?  ¬øEst√°s tratando de identificar malos patrones utilizados en tus programas?  Por ejemplo, desea comprender, leer las complejidades del c√≥digo de una determinada funci√≥n, si devolver√° algo o no.  ¬øTe suena familiar?  El problema es que es muy dif√≠cil para un programador hacer mucho y aprender mucho. <br><br>  ¬øQuiz√°s eres un l√≠der de equipo bajo cuyo liderazgo est√° trabajando un equipo de desarrolladores de diferentes niveles?  ¬øHay nuevas personas en tu equipo?  ¬øTe molesta que el c√≥digo que escriben no cumpla con tus est√°ndares?  ¬øPasan sus d√≠as en las pruebas del c√≥digo de otras personas, cuando estas verificaciones se refieren principalmente al cumplimiento de las normas y no a la l√≥gica del programa? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/qg/vq/eo/qgvqeoxevihpbwwmwuogpsfc-ow.jpeg"></a> <br><br>  El autor de este material dice que se enfrent√≥ a todo a lo que se dedican las preguntas que acabamos de formular.  A lo que se enfrenta es agotador y agotador.  Aqu√≠ quiere hablar sobre herramientas, cuya aplicaci√≥n correcta nos permite resolver los problemas anteriores. <br><br>  A saber, aqu√≠ hablaremos sobre herramientas como Prettier, ESLint, Husky, Lint-Staged, EditorConfig, y sobre la automatizaci√≥n del formateo y el linting de c√≥digo.  Este material se centra principalmente en el desarrollo de React, pero los principios discutidos aqu√≠ se pueden aplicar en cualquier proyecto web.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> repositorio donde, entre otras cosas, se compila lo que se discute aqu√≠. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">M√°s bonita</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prettier</a> es una herramienta de formato de c√≥digo que tiene como objetivo utilizar reglas codificadas para dise√±ar programas.  Formatea el c√≥digo autom√°ticamente.  As√≠ es como se ve. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/731/385/f28/731385f28d65452936073391d84ba02d.gif"></div><br>  <i><font color="#999999">M√°s bonito formatea el c√≥digo siguiendo las reglas</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç Fortalezas de Prettier</font> </h3><br>  Estas son las caracter√≠sticas y caracter√≠sticas de Prettier que nos permiten hablar sobre la utilidad de esta herramienta: <br><br><ul><li> Poner en orden la base de c√≥digo existente.  Con Prettier, puede hacer esto literalmente con un solo comando.  El procesamiento manual de grandes cantidades de c√≥digo llevar√° mucho m√°s tiempo.  Imagine, por ejemplo, la mano de obra requerida para formatear manualmente 20,000 l√≠neas de c√≥digo. </li><li>  Prettier es f√°cil de implementar.  Prettier utiliza el enfoque de estilo "promedio" y menos controvertido al formatear el c√≥digo.  Dado que el proyecto es de c√≥digo abierto, muchos han contribuido a √©l, mejorando y suavizando esquinas afiladas. </li><li>  Prettier le permite centrarse en escribir c√≥digo, no formatearlo.  Muchos simplemente no se dan cuenta de cu√°nto tiempo y esfuerzo se dedica a formatear el c√≥digo.  Usar Prettier le permite no pensar en formatear, sino programar en su lugar.  En mi caso, por ejemplo, la eficiencia del trabajo, gracias a Prettier, aument√≥ en un 10%. </li><li>  M√°s bonita ayuda a los principiantes.  Si eres un programador principiante que trabaja en el mismo equipo con profesionales serios, y quieres lucir digno en su contexto, Prettier te ayudar√° con esto. </li></ul><br><h3>  <font color="#3AC1EF">‚ñçConfiguraci√≥n m√°s bonita</font> </h3><br>  Aqu√≠ se explica c√≥mo usar Prettier en un nuevo proyecto.  Cree la carpeta de la <code>app</code> y vaya a ella, ejecute el siguiente comando en la l√≠nea de comando: <br><br><pre> <code class="hljs swift">npm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> -y</code> </pre> <br>  Gracias a este comando, <code>npm</code> inicializa un nuevo proyecto en la carpeta de la <code>app</code> creando el archivo <code>package.json</code> . <br><br>  Yo, en este material, <code>npm</code> <code>yarn</code> , pero aqu√≠ puedes usar <code>npm</code> .  Prettier tambi√©n se puede conectar a un proyecto existente. <br><br>  Instale el paquete <code>prettier</code> como una dependencia de desarrollo de nuestro proyecto: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev prettier</span></span></code> </pre> <br>  Gracias a este comando, se agregar√° una entrada de dependencia de <code>package.json</code> a <code>package.json</code> que se ver√° as√≠: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Hablaremos sobre lo que significa la l√≠nea <code>"prettier": "prettier ‚Äî write src/**/*.js"</code> poco m√°s tarde.  Mientras tanto, cree la carpeta <code>src</code> en la carpeta de la <code>app</code> .  En esta carpeta, cree el archivo <code>index.js</code> , aunque puede <code>index.js</code> el nombre que desee. <br><br>  Agregaremos el siguiente c√≥digo a este archivo (en esta forma desagradable): <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person =                     { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Yoda"</span></span>,               <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'Jedi Master '</span></span>               };             <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trainJedi</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">jediWarrion</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jediWarrion.name === <span class="hljs-string"><span class="hljs-string">'Yoda'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'No need! already trained'</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Training </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${jediWarrion.name}</span></span></span><span class="hljs-string"> complete`</span></span>)             } trainJedi(person)             trainJedi({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Adeel'</span></span>,             <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'padawan'</span></span> });</code> </pre> <br>  Entonces, en este momento tenemos el <code>src/app/index.js</code> , que contiene un c√≥digo bastante mal dise√±ado. <br><br>  ¬øC√≥mo arreglarlo?  Hay tres enfoques para trabajar con c√≥digo mal formateado: <br><br><ol><li>  Formatee manualmente este c√≥digo. </li><li>  Utiliza una herramienta automatizada. </li><li>  D√©jelo como est√° y trabaje (le pido que no elija este enfoque). </li></ol><br>  Voy a elegir la segunda opci√≥n.  Ahora en nuestro proyecto hay una dependencia correspondiente, y adem√°s, en la secci√≥n de <code>scripts</code> del archivo <code>package.json</code> hay un registro sobre Prettier.  Est√° claro que usaremos esta herramienta para formatear el c√≥digo.  Para hacer esto, cree el archivo <code>prettier.config.js</code> en la carpeta de la <code>app</code> y agregue las reglas para Prettier all√≠: <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = { printWidth: <span class="hljs-number"><span class="hljs-number">100</span></span>, singleQuote: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, trailingComma: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, bracketSpacing: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, jsxBracketSameLine: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, tabWidth: <span class="hljs-number"><span class="hljs-number">2</span></span>, semi: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, };</code> </pre> <br>  Analicemos estas reglas: <br><br><ul><li>  <code>printWidth: 100</code> : la longitud de la l√≠nea no debe superar los 100 caracteres. </li><li>  <code>singleQuote: true</code> : todas las comillas dobles se convertir√°n en comillas simples.  Consulte la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de</a> estilo de Airbnb para m√°s detalles.  Realmente me gusta esta gu√≠a, la uso para mejorar la calidad de mi c√≥digo. </li><li>  <code>trailingComma: 'all'</code> : proporciona una coma despu√©s de la √∫ltima propiedad del objeto.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay un</a> buen art√≠culo sobre este tema. </li><li>  <code>bracketSpacing: true</code> : responsable de insertar espacios entre el cuerpo del objeto y las llaves en los literales del objeto.  Si esta propiedad se establece en <code>true</code> , los objetos declarados con literales de objeto se ver√°n as√≠: <code>{ foo: bar }</code> .  Si lo configura en <code>false</code> , entonces estas construcciones se ver√°n as√≠: <code>{foo: bar}</code> . </li><li>  <code>jsxBracketSameLine: false</code> : gracias a esta regla, el s√≠mbolo <code>&gt;</code> en elementos JSX de varias l√≠neas se colocar√° en la √∫ltima l√≠nea.  As√≠ es como se ve el c√≥digo si esta regla se establece en <code>true</code> : </li></ul><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag">&gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Esto es lo que sucede si se establece en <code>false</code> : <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag"> &gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  <code>tabWidth: 2</code> : establece el n√∫mero de espacios por nivel de alineaci√≥n. </li><li>  <code>semi: true</code> : si esta regla se establece en <code>true</code> , se agrega un punto y coma al final de las expresiones. </li></ul><br>  Encuentra todas las reglas m√°s bonitas aqu√≠. <br><br>  Ahora que las reglas est√°n configuradas, hablemos de este script: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier  ‚Äî write src/**/*.js"</span></span></code> </pre> <br>  Gracias a este dise√±o, Prettier se inicia y encuentra todos los archivos <code>.js</code> en la carpeta <code>src</code> .  El indicador <code>--write</code> le dice que guarde los archivos formateados a medida que se procesan y corrige los errores de formato que se encuentran en ellos. <br><br>  Ejecute el script desde la l√≠nea de comando: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">yarn</span></span> prettier</code> </pre> <br>  Esto es lo que sucedi√≥ despu√©s de eso con el c√≥digo mal formateado que se muestra arriba. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90a/7d3/969/90a7d3969ed2861181de76d899aed951.gif"></div><br>  <i><font color="#999999">Resultado de formatear c√≥digo con Prettier</font></i> <br><br>  Sobre esto asumiremos que con Prettier descubrimos.  Hablemos de linters. <br><br><h2>  <font color="#3AC1EF">ESLint</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El linting</a> es un tipo de an√°lisis de c√≥digo est√°tico que a menudo se usa para encontrar patrones de dise√±o problem√°ticos o c√≥digo que no sigue ciertas pautas de estilo. <br><br>  Hay linters dise√±ados para la mayor√≠a de los lenguajes de programaci√≥n, a veces los compiladores incluyen linting en el proceso de compilaci√≥n de c√≥digo.  Esta definici√≥n de linting se toma de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">p√°gina de</a> informaci√≥n de c√≥digo abierto para JavaScript JavaScript ESLint de c√≥digo abierto, del que hablaremos. <br><br><h3>  <font color="#3AC1EF">‚ñç ¬øPor qu√© necesito un linter para JavaScript?</font> </h3><br>  Dado que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">JavaScript</a> es un lenguaje de programaci√≥n din√°mico con escritura d√©bil, el c√≥digo escrito en √©l es propenso a errores cometidos por los desarrolladores.  JavaScript es un lenguaje interpretado, por lo que la sintaxis y otros errores en el c√≥digo generalmente se detectan solo despu√©s de que se ejecuta este c√≥digo. <br><br>  Linters, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ESLint</a> , permiten a los desarrolladores encontrar problemas en el c√≥digo sin iniciarlo. <br><br><h3>  <font color="#3AC1EF">‚ñç ¬øPor qu√© ESLint es una herramienta especial?</font> </h3><br>  Una buena pregunta se ha puesto en el t√≠tulo de esta secci√≥n.  El punto aqu√≠ es que ESLint admite complementos.  Por lo tanto, las reglas de verificaci√≥n de c√≥digo no deber√≠an ser un paquete monol√≠tico.  Todo lo que necesita se puede conectar seg√∫n sea necesario.  Cada regla de pelusa agregada al sistema es aut√≥noma, se puede activar o desactivar, independientemente de las dem√°s.  A cada regla se le puede asignar un nivel de alerta de acuerdo con el deseo del desarrollador; esto puede ser una advertencia (advertencia) o un error (error). <br><br>  Cuando usa ESLint, trabaja con un sistema totalmente personalizable que puede reflejar su comprensi√≥n de c√≥mo deber√≠a ser el c√≥digo correcto y capturar qu√© conjunto de reglas sigue. <br><br>  Entre las gu√≠as de estilo JavaScript existentes, las siguientes son muy populares: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de estilo de JavaScript de Google</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Gu√≠a de estilo de JavaScript de Airbnb</a> </li></ul><br>  Yo, como ya se mencion√≥, utilizo la gu√≠a de estilo de Airbnb.  Este documento me aconsej√≥ mi gerente de la compa√±√≠a donde comenz√≥ mi carrera profesional, y considero que esta gu√≠a de estilo es mi activo m√°s valioso. <br><br>  Esta gu√≠a se mantiene activamente: eche un vistazo a su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio</a> en GitHub.  Aqu√≠ usar√© un conjunto de reglas basadas en √©l. <br><br>  Ahora trabajemos en el archivo <code>package.json</code> , agreguemos algunas dependencias: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Antes de hablar sobre c√≥mo trabajar con esta configuraci√≥n, quiero detenerme en las dependencias del proyecto que se agregan a <code>package.json</code> .  Creo que antes de usar algunas dependencias, debe saber qu√© papel juegan. <br><br>  Por lo tanto, discutiremos el papel de los paquetes presentados aqu√≠: <br><br><ul><li>  <code>babel-eslint</code> : le permite usar linting para aplicar a todo lo que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Babel</a> le da.  No necesita este complemento si no est√° utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flow</a> o funciones experimentales que ESLint a√∫n no admite. </li><li>  <code>eslint</code> es la herramienta principal utilizada para codificar el c√≥digo. </li><li>  <code>eslint-config-airbnb</code> : proporciona las reglas de Airbnb como una configuraci√≥n que se puede modificar. </li><li>  <code>eslint-plugin-babel</code> es un complemento de ESLint que complementa el complemento <code>babel-eslint</code> .  Redise√±√≥ las reglas que, al usar <code>babel-eslint</code> , causan problemas al procesar caracter√≠sticas experimentales. </li><li>  <code>eslint-plugin-import</code> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> paquete admite la vinculaci√≥n de nuevas construcciones de sintaxis de <code>import/export</code> y ayuda a evitar problemas asociados con la ortograf√≠a incorrecta de rutas de archivos y nombres de m√≥dulos importados. </li><li>  <code>eslint-plugin-jsx-a11y</code> : proporciona reglas sobre la disponibilidad de elementos JSX para personas con discapacidades.  La accesibilidad web es muy importante. </li><li>  <code>eslint-plugin-prettier</code> : ayuda a ESLint y Prettier a trabajar juntos.  Se ve as√≠: cuando Prettier formatea el c√≥digo, lo hace teniendo en cuenta las reglas de ESLint. </li><li>  <code>eslint-plugin-react</code> : contiene las reglas de ESLint dise√±adas para React. </li></ul><br>  En este art√≠culo, no estamos hablando de pruebas de c√≥digo, pero en el <code>package.json</code> anterior, hay dependencias dise√±adas para pruebas unitarias utilizando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Jest / Enzyme</a> .  Ahora, si decide utilizar estas herramientas para realizar pruebas, una descripci√≥n de los paquetes relevantes. <br><br><ul><li>  <code>eslint-config-jest-enzyme</code> : este paquete est√° dise√±ado para aquellos casos en que utiliza <code>jest-environment-enzyme</code> , lo que lleva al hecho de que las variables React y Enzyme son globales.  Gracias a ello, ESLint no emitir√° advertencias sobre tales variables. </li><li>  <code>eslint-plugin-jest ‚Äî</code> complemento de ESlint para Jest. </li></ul><br>  Hay un par de paquetes m√°s en el archivo que discutiremos m√°s adelante, discutiendo problemas de automatizaci√≥n.  Esto es <code>husky</code> y con <code>lint-staged</code> . <br><br>  Ahora que hemos discutido, en t√©rminos generales, nuestras herramientas, continuaremos trabajando. <br>  Cree el archivo <code>.eslintrc.js</code> en la carpeta de la <code>app</code> : <br><br><pre> <code class="hljs powershell">module.exports = {   env: {       es6: true,       browser: true,       node: true,   },   extends: [<span class="hljs-string"><span class="hljs-string">'airbnb'</span></span>, <span class="hljs-string"><span class="hljs-string">'plugin:jest/recommended'</span></span>, <span class="hljs-string"><span class="hljs-string">'jest-enzyme'</span></span>],   plugins: [       <span class="hljs-string"><span class="hljs-string">'babel'</span></span>,       <span class="hljs-string"><span class="hljs-string">'import'</span></span>,       <span class="hljs-string"><span class="hljs-string">'jsx-a11y'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react'</span></span>,       <span class="hljs-string"><span class="hljs-string">'prettier'</span></span>,   ],   parser: <span class="hljs-string"><span class="hljs-string">'babel-eslint'</span></span>,   parserOptions: {       ecmaVersion: <span class="hljs-number"><span class="hljs-number">6</span></span>,       sourceType: <span class="hljs-string"><span class="hljs-string">'module'</span></span>,       ecmaFeatures: {           jsx: true       }   },   rules: {       <span class="hljs-string"><span class="hljs-string">'linebreak-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //    Windows.       <span class="hljs-string"><span class="hljs-string">'arrow-parens'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'object-curly-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-mixed-operators'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'arrow-body-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">'function-paren-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-plusplus'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'space-before-function-paren'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'max-len'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-type"><span class="hljs-type">ignoreUrls</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, }], // airbnb           <span class="hljs-string"><span class="hljs-string">'no-console'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-alert'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-param-reassign'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">"radix"</span></span>: <span class="hljs-string"><span class="hljs-string">"off"</span></span>, // parseInt, parseFloat  radix .    .       <span class="hljs-string"><span class="hljs-string">'react/require-default-props'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/forbid-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/jsx-filename-extension'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, { <span class="hljs-type"><span class="hljs-type">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }], // airbnb  .jsx       <span class="hljs-string"><span class="hljs-string">'prefer-destructuring'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-find-dom-node'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //           <span class="hljs-string"><span class="hljs-string">'react/no-did-mount-set-state'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-unused-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //            <span class="hljs-string"><span class="hljs-string">'react/jsx-one-expression-per-line'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/anchor-is-valid"</span></span>: [<span class="hljs-string"><span class="hljs-string">"error"</span></span>, { <span class="hljs-string"><span class="hljs-string">"components"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Link"</span></span>], <span class="hljs-string"><span class="hljs-string">"specialLink"</span></span>: [<span class="hljs-string"><span class="hljs-string">"to"</span></span>] }],       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/label-has-for"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, {           <span class="hljs-string"><span class="hljs-string">"required"</span></span>: {               <span class="hljs-string"><span class="hljs-string">"every"</span></span>: [<span class="hljs-string"><span class="hljs-string">"id"</span></span>]           }       }], //     htmlFor  label       <span class="hljs-string"><span class="hljs-string">'prettier/prettier'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>],   }, };</code> </pre> <br>  Ahora agregue el archivo <code>.eslintignore</code> a la carpeta de la <code>app</code> : <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">/.git /</span></span>.vscode node_modules</code> </pre> <br>  Ahora hablemos sobre c√≥mo est√° <code>.eslintrc.js</code> archivo <code>.eslintrc.js</code> y sobre el significado de las construcciones presentadas en √©l. <br><br>  Este archivo tiene la siguiente estructura: <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = {  env:{},  extends: {},  plugin: {},  parser: {},  parserOptions: {},  rules: {}, };</code> </pre> <br>  Considere los bloques de este archivo representados por objetos con los nombres correspondientes: <br><br><ul><li>  <code>env</code> : le permite especificar una lista de entornos para los que planea verificar el c√≥digo.  En nuestro caso, hay <code>es6</code> , <code>browser</code> y <code>node</code> establecidas en <code>true</code> .  El par√°metro <code>es6</code> incluye caracter√≠sticas de ES6, con la excepci√≥n de los m√≥dulos (esta caracter√≠stica establece autom√°ticamente, en el bloque <code>parserOptions</code> , el par√°metro <code>ecmaVersion</code> en <code>6</code> ).  El par√°metro del <code>browser</code> variables globales del navegador como <code>Windows</code> .  El par√°metro del <code>node</code> agrega variables de entorno y √°mbitos globales de Node.js, por ejemplo, <code>global</code> .  Los detalles sobre los entornos se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </li><li>  <code>extends</code> : es una matriz de l√≠neas con configuraciones, con cada configuraci√≥n adicional se extiende la anterior.  <code>airbnb</code> se usan las reglas de <code>airbnb</code> Airbnb, que se expanden a <code>jest</code> y luego se expanden a <code>jest-enzyme</code> . </li><li>  <code>plugins</code> : aqu√≠ est√°n las reglas de conexi√≥n que queremos usar.  Aplicamos las reglas <code>babel</code> , <code>import</code> , <code>jsx-a11y</code> , <code>react</code> , <code>prettier</code> , del que ya hablamos. </li><li>  <code>parser</code> : ESLint usa el <code>parser</code> Espree de forma predeterminada, pero como trabajamos con Babel, necesitamos usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Babel-ESLint</a> . </li><li>  <code>parserOptions</code> : dado que cambiamos el analizador est√°ndar a <code>babel-eslint</code> , tambi√©n debemos establecer las propiedades en este bloque.  La propiedad <code>ecmaVersion</code> establecida en <code>6</code> indica a ESLint que se comprobar√° el c√≥digo ES6.  Como estamos escribiendo c√≥digo en los m√≥dulos <code>EcmaScript</code> , la propiedad <code>sourceType</code> establece en <code>module</code> .  Y finalmente, dado que usamos React, lo que significa usar JSX, un objeto con la clave <code>jsx</code> establecida en <code>true</code> escribe en la propiedad <code>ecmaFeatures</code> . </li><li>  <code>rules</code> : me gusta m√°s esta parte del archivo <code>.eslintrc.js</code> ya que le permite configurar las reglas de ESLint.  Todas las reglas que hemos expandido o agregado usando complementos se pueden cambiar o redefinir, y esto se hace en el bloque de <code>rules</code> .  El texto del archivo contiene comentarios sobre las reglas. </li></ul><br>  Ahora hablemos del archivo <code>.eslintignore</code> .  Este archivo acepta una lista de rutas que representan carpetas cuyo contenido no debe procesarse con ESLint. <br><br>  Aqu√≠ se definen tres carpetas: <br><br><ul><li>  <code>/.git</code> : no necesito ESLint para verificar archivos relacionados con Git. </li><li>  <code>/.vscode</code> : el proyecto tiene esta carpeta debido al hecho de que uso VS Code.  Aqu√≠ el editor almacena informaci√≥n de configuraci√≥n que se puede configurar para cada proyecto.  Estos datos tampoco deben ser procesados ‚Äã‚Äãpor el linter. </li><li>  <code>node-modules</code> : los archivos de dependencia tampoco necesitan verificarse con un linter. </li></ul><br>  Ahora veamos un par de nuevos scripts que aparecieron en <code>package.json</code> .  Aqu√≠ est√°n: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span> <span class="hljs-string"><span class="hljs-string">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span></code> </pre> <br>  Si ejecuta el primero de ellos, utilizando el comando <code>yarn lint</code> o <code>npm run lint</code> , esto har√° que el linter vea todos los archivos en el directorio <code>src</code> y muestre un informe detallado sobre los archivos en los que encontr√≥ errores.  Con este informe, puede corregir estos errores. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/568/b35/9a5568b35f1d443687849ba93badea49.gif"></div><br>  <i><font color="#999999">Ejecutar script de pelusa</font></i> <br><br>  Si ejecuta el segundo script ( <code>yarn lint:write</code> ), ESLint realizar√° la misma verificaci√≥n que se realiz√≥ anteriormente.  La √∫nica diferencia es que en este modo, el sistema intentar√° corregir los errores detectados, tratar√° de llevar el c√≥digo de la forma m√°s decente posible. <br><br><h2>  <font color="#3AC1EF">Extensi√≥n de ESLint para el c√≥digo VS</font> </h2><br>  Ya tenemos configurado Prettier y ESLint, pero para usar las capacidades de estas herramientas, tenemos que ejecutar scripts.  Esto no es muy conveniente, as√≠ que intenta solucionarlo.  Es decir, queremos asegurarnos de que el comando realice el formateo y la alineaci√≥n del c√≥digo para guardar el archivo en el editor.  Adem√°s, queremos realizar el linting y el formateo del c√≥digo antes de confirmar. <br><br>  Nosotros, como ejemplo, utilizamos el editor VS Code.  Necesitaremos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la extensi√≥n ESLint</a> para VS Code.  Para instalarlo, puede abrir el panel de extensi√≥n VS Code ( <code>ctrl+shift+x</code> ).  Aqu√≠, en el campo de b√∫squeda, ingrese <code>eslint</code> .  Aparece una lista de extensiones.  Lo que nos interesa es aquel cuya informaci√≥n de desarrollador es Dirk Baeumer.  Despu√©s de instalar esta extensi√≥n, reinicie el editor. <br><br>  Ahora, en la carpeta ra√≠z del proyecto ( <code>app</code> ), cree la carpeta <code>.vscode</code> (preste atenci√≥n al punto al comienzo del nombre; esto es importante).  En esta carpeta, cree un archivo <code>settings.json</code> con el siguiente contenido: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"editor.formatOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint.autoFixOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre> <br>  Considera su contenido. <br><br><ul><li>  La propiedad <code>editor.formatOnSave</code> establecida en <code>false</code> indica que no necesitamos la configuraci√≥n est√°ndar para aplicar el formato de archivo, ya que esto puede causar un conflicto con ESLint y Prettier. </li><li>  La propiedad <code>eslint.autoFixOnSave</code> establece en <code>true</code> , porque es necesario que el complemento instalado <code>eslint.autoFixOnSave</code> active cada vez que se guarda un archivo.  Dado que ESLint y Prettier trabajan juntos en un proyecto, guardar el archivo lleva a formatear y codificar. </li></ul><br>  Es importante tener en cuenta que ahora, cuando se ejecuta el script <code>lint:write</code> , realizar√° tanto el linting como el formateo del c√≥digo. <br><br>  Imagina tus sentimientos si obtuvieras un c√≥digo de proyecto de 20,000 l√≠neas que necesitar√≠as verificar y mejorar.  Ahora imagine que tendr√≠a que hacer esto manualmente.  Tal trabajo probablemente tomar√≠a un mes.  Y con la ayuda de las herramientas de automatizaci√≥n anteriores, todo esto se realiza en unos treinta segundos. <br><br>  Ahora, despu√©s de configurar todo lo que necesita, cada vez que guarde el archivo con el c√≥digo, el editor se encargar√° de verificar y formatear el texto del programa.  Sin embargo, aqu√≠ estamos hablando del editor VS Code.  Es posible que alguien en su equipo prefiera alg√∫n otro editor.  No hay nada de malo en eso, pero para que sea conveniente para todos trabajar, tendremos que encontrar otra cosa para automatizar. <br><br><h2>  <font color="#3AC1EF">Husky</font> </h2><br>  El paquete Husky te permite usar ganchos Git.  Esto significa que tiene la oportunidad de realizar ciertas acciones antes de comprometerse o antes de enviar el c√≥digo del repositorio. <br><br>  Para aprovechar las caracter√≠sticas de Husky, primero instale este paquete: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev husky</span></span></code> </pre> <br>  Despu√©s de eso, agregue lo siguiente a <code>package.json</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"husky"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: {         <span class="hljs-string"><span class="hljs-string">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>,    <span class="hljs-string"><span class="hljs-string">"pre-push"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>    } },</code> </pre> <br>  Esto conducir√° al hecho de que antes de ejecutar el comando <code>commit</code> o <code>push</code> , se llamar√° a un determinado script, que, por ejemplo, realiza pruebas de c√≥digo o formateo. <br><br>  Los detalles sobre Husky se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h2>  <font color="#3AC1EF">Con pelusa</font> </h2><br>  El paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Lint-staged le</a> permite verificar los archivos indexados utilizando el linter, lo que ayuda a evitar que se env√≠en errores al repositorio. <br><br>  Linting tiene sentido antes de cometer c√≥digo.  Gracias a esto, puede asegurarse de que los errores no penetren en el repositorio y proporcionar un estilo unificado del c√≥digo que llega all√≠.  Sin embargo, la selecci√≥n para verificar todo el proyecto puede ser una tarea demasiado larga y los resultados de dicha verificaci√≥n pueden no tener sentido.  En √∫ltima instancia, el linting puede necesitar exponer archivos que planea comprometer. <br><br>  Lint-staged le permite realizar un conjunto de tareas arbitrarias en archivos indexados filtrados por un patr√≥n de b√∫squeda.  Los detalles sobre esto se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Instale el paquete de pelusas: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev lint-staged</span></span></code> </pre> <br>  Luego, en el archivo <code>package.json</code> , agregue lo siguiente: <br><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] },</code> </pre> <br>  Gracias a esta construcci√≥n, el comando <code>lint:write</code> se ejecutar√° primero, verificando el contenido del archivo y corrigiendo errores, despu√©s de lo cual los archivos se agregar√°n al √≠ndice con el comando <code>git add</code> .  Ahora este comando est√° dirigido a archivos <code>.js</code> y <code>.jsx</code> , pero lo mismo se puede hacer con archivos de otros tipos. <br><br><h2>  <font color="#3AC1EF">Compartir con Husky y pelusa</font> </h2><br>  Considere un diagrama de acci√≥n que le permita organizar el siguiente flujo de trabajo.  Cada vez que confirma archivos con c√≥digo, antes de realizar esta operaci√≥n, el sistema ejecuta el script de <code>lint-staged</code> , que, a su vez, ejecuta el script <code>lint:write</code> , que realiza el linting y el formateo del c√≥digo.  Despu√©s de eso, los archivos se agregan al √≠ndice y luego se confirman.  Me parece que es muy conveniente.  De hecho, en el c√≥digo presentado anteriormente del archivo <code>package.json</code> , esto ya est√° implementado, simplemente no hablamos de esto antes. <br><br>  Aqu√≠ est√° el contenido de nuestro <code>package.json</code> nuevamente: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Ahora que sabe sobre las etapas de Husky y Lint, puede evaluar su impacto al trabajar con Git.  A saber, supongamos que se ejecutaron los siguientes comandos: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> git add . <span class="hljs-variable"><span class="hljs-variable">$</span></span> git commit <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-string"><span class="hljs-string">"some descriptive message here"</span></span></code> </pre> <br>  Est√° claro que antes de comprometerse, se comprobar√° que el c√≥digo cumple con las reglas especificadas en <code>.eslintrc.js</code> y, si es necesario, se <code>.eslintrc.js</code> .  Gracias a esto, los errores nunca entrar√°n en el repositorio de un proyecto en funcionamiento. <br><br>  Ahora ya sabe c√≥mo integrar Prettier, ESLint, Husky y Lint-staged en su proyecto. <br><br>  Perm√≠tame recordarle que dijimos anteriormente que no todos los miembros de su equipo usan mi c√≥digo VS favorito.  Para que todos ellos funcionen convenientemente, debemos tratar con el archivo <code>.editorconfig</code> . <br><br><h2>  <font color="#3AC1EF">.Editorconfig archivo</font> </h2><br>  Diferentes miembros de su equipo pueden usar diferentes editores.  Oblig√°ndolos a usar cualquier editor para cualquier cosa.  Sin embargo, para que todos usen la misma configuraci√≥n, por ejemplo, con sangr√≠a o saltos de l√≠nea, utilizamos el archivo.  <code>editorconfig</code> .         . <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a>    ,    .  ,  ,  WebStorm, AppCode, Atom, Eclipse, Emacs, BBEdit  . <br><br>    <code>app</code>    <code>.editorconfig</code>      : <br><br><pre> <code class="hljs pgsql"># EditorConfig -  : http://EditorConfig.org #  EditorConfig   root = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> [*.md] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [*.js] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> #     Unix       [*] indent_style = space indent_size = <span class="hljs-number"><span class="hljs-number">2</span></span> end_of_line = lf charset = utf<span class="hljs-number"><span class="hljs-number">-8</span></span> insert_final_newline = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> max_line_length = <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br>  ,    : <br><br><ul><li> <code>trim_trailing_whitespace = false</code> ‚Äî       <code>.md</code> -  .    <code>.js</code> -   <code>false</code> . </li><li> <code>indent_style = space</code> ‚Äî       . </li><li> <code>indent_size = 2</code> ‚Äî     . </li><li> <code>end_of_line = lf</code> ‚Äî     <code>lf</code> .   ,      ,        .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> . </li><li> <code>insert_final_newline = true</code> ‚Äî       . </li><li> <code>max_line_length = 100</code> ‚Äî      100 . </li></ul><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br> ,   ,     ,         . ,  ,            . <br><br>  <b>Estimados lectores!</b>         ?    ? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es428173/">https://habr.com/ru/post/es428173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es428159/index.html">Tableau desde la tetera o visualizaci√≥n del an√°lisis de cuentas PAMM</a></li>
<li><a href="../es428161/index.html">Las reformas para subsidiar los combustibles f√≥siles que se han logrado a trav√©s del trabajo duro est√°n en peligro</a></li>
<li><a href="../es428165/index.html">Podcast de kernel de Linux con Open Source Summit Europe 2018</a></li>
<li><a href="../es428167/index.html">La primera f√°brica de robots en Rusia y ¬øqu√© tiene que ver la salchicha con ella?</a></li>
<li><a href="../es428169/index.html">DJI anuncia Mavic 2 Enterprise: una herramienta poderosa para profesionales</a></li>
<li><a href="../es428175/index.html">Implementaci√≥n de Cunning Prefix Tree C</a></li>
<li><a href="../es428177/index.html">Entonces, ¬øqu√© hay de malo en la b√∫squeda de empleo / trabajadores en TI?</a></li>
<li><a href="../es428179/index.html">En una subasta japonesa, un prototipo de controlador Wii, desarrollado para GameCube</a></li>
<li><a href="../es428181/index.html">M√°quina Moral: ¬ødespiadada o sin sentido?</a></li>
<li><a href="../es428183/index.html">Implementaci√≥n del algoritmo Levenberg-Marquardt para optimizar redes neuronales en TensorFlow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>