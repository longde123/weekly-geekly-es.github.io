<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ù üë®üèº‚Äçüöí üåÖ Uso de la base de datos Oracle para el an√°lisis t√©cnico del mercado üßöüèΩ üåæ üõ≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo trata sobre Oracle Database, PL / SQL, SQL, MATCH_RECOGNIZE, cl√°usula MODEL, agregado y funciones canalizadas. 

 El an√°lisis t√©cnico (A...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Uso de la base de datos Oracle para el an√°lisis t√©cnico del mercado</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/455050/"> Este art√≠culo trata sobre Oracle Database, PL / SQL, SQL, MATCH_RECOGNIZE, cl√°usula MODEL, agregado y funciones canalizadas. <br><br>  El an√°lisis t√©cnico (AT) de los mercados se utiliz√≥ como √°rea funcional.  Primero, una peque√±a nota introductoria superficial sobre el comercio en los mercados, luego los c√°lculos. <br><br>  An√°lisis t√©cnico: un conjunto de herramientas para pronosticar probables cambios de precios basados ‚Äã‚Äãen patrones de cambios de precios pasados.  Te√≥ricamente, el an√°lisis t√©cnico es aplicable en cualquier mercado.  Pero el an√°lisis t√©cnico m√°s extendido fue en mercados libres altamente l√≠quidos, por ejemplo, en bolsas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yv/iz/zq/yvizzqt9vdlwyfbdtpsupx4anhq.jpeg" alt="imagen"></div><br>  Se han desarrollado muchas declaraciones, procedimientos y gr√°ficos de SQL.  Parte - abajo, c√≥digo completo - en GitHub en el enlace al final del art√≠culo. <br><a name="habracut"></a><br>  Indicadores t√©cnicos del mercado (TIR): gr√°ficos adicionales para gr√°ficos de precios, <em>formados sobre la base de la conversi√≥n de valores contenidos en el gr√°fico de precios base</em> .  Por lo general, estos son diferentes tipos de promedios (el siguiente punto del gr√°fico se calcula como el valor promedio de un cierto n√∫mero de valores de precios anteriores, por ejemplo, un promedio m√≥vil), relaciones (el siguiente punto es el resultado de comparar un cierto n√∫mero de precios anteriores: su diferencia, derivada de un cambio durante un per√≠odo) o retrasos ( retrasos).  Los indicadores muestran claramente cierta informaci√≥n no obvia contenida en las estad√≠sticas de cambios de precios, y pueden formular recomendaciones sobre √≥rdenes comerciales - COMPRAR / VENDER.  Los indicadores tienen al menos un par√°metro variable, cuyo valor cambiar√° el resultado.  <em>Para abrir transacciones reales, generalmente se utilizan varios indicadores en combinaci√≥n, m√°s informaci√≥n adicional, a discreci√≥n del operador.</em> <br><br>  Uno de los principios del An√°lisis T√©cnico es "la historia se repite": los participantes del mercado en circunstancias similares se comportan aproximadamente de la misma manera, formando din√°micas similares de cambios de precios.  Y es natural suponer que el comportamiento del mercado en el futuro repetir√° principalmente los patrones que han surgido en el pasado.  Despu√©s de esta declaraci√≥n, el inversor puede elegir entre los posibles par√°metros TIR aquellos que han demostrado ser mejores en per√≠odos pasados. <br><br>  Este art√≠culo crea un gr√°fico del rendimiento comercial cuando se usa cada indicador en el valor del par√°metro TIR, esto es en una representaci√≥n bidimensional.  Pero, de hecho, construir√© una representaci√≥n tridimensional para evaluar tambi√©n el efecto del retraso en la ejecuci√≥n del pedido sobre el resultado, por lo que el par√°metro ser√° el eje X (abscisa), el retraso ser√° el eje Y (ordenada), el resultado ser√° el eje Z (aplicar).  Este es un intento de evaluar el efecto del "deslizamiento", que, desafortunadamente, siempre sucede.  En lugar de un "deslizamiento" real a lo largo del eje Y, pospongo la ejecuci√≥n de la orden BUY / SELL por un per√≠odo de 1 a 5 per√≠odos. <br><br>  Si se resalta un m√°ximo global en este gr√°fico y el gr√°fico en s√≠ se ver√° como un sombrero (en general, se llama la "distribuci√≥n normal", pero supone una simetr√≠a estricta sobre el eje vertical), el cono, la pir√°mide tambi√©n son adecuados, lo que significa que puede elegir un cierto valor de par√°metro para esto , que mostrar√° el resultado m√°s alto, y con este indicador puede intentar comerciar.  Si el gr√°fico de rendimiento, seg√∫n el par√°metro, se asemeja a una "empalizada", es imposible elegir el valor √≥ptimo del par√°metro y no tiene sentido utilizar este <abbr title="Indicador t√©cnico del mercado">TIR</abbr> en el comercio. <br><br>  <em>Podemos decir que en este art√≠culo solo calculo el "porcentaje de aciertos" de los indicadores.</em>  <em>El problema, para evaluar cu√°nto puede "ganar", no me atrev√≠.</em> <br><br>  <strong>La finalizaci√≥n exitosa de la prueba descrita es uno de los factores necesarios, pero no suficientes para un comercio efectivo.</strong> <br><br>  Para informaci√≥n ... En contraste con el An√°lisis T√©cnico, An√°lisis Fundamental (FA) es un t√©rmino para designar m√©todos para predecir el valor de mercado (intercambio) de instrumentos basados ‚Äã‚Äãen el an√°lisis de indicadores de desempe√±o financiero y de producci√≥n. <br>  El "valor intr√≠nseco" de la <abbr title="An√°lisis fundamental">FA</abbr> en la mayor√≠a de los casos no coincide con el precio de las acciones de la compa√±√≠a, que est√° determinado por la relaci√≥n de oferta y demanda en el mercado de valores.  Los inversores que usan el <abbr title="An√°lisis fundamental">FA</abbr> en sus actividades est√°n interesados ‚Äã‚Äãprincipalmente en situaciones en las que el "valor intr√≠nseco" de las acciones de la compa√±√≠a excede el precio de las acciones en el intercambio.  Dichas acciones se consideran infravaloradas, lo que significa que su precio aumentar√° y son posibles objetivos de inversi√≥n. <br><br>  Uno de los inversores m√°s conocidos que utiliza el An√°lisis Fundamental es Warren Buffett. <br><br>  Mira el avance: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://www.youtube.com/watch?v=SqE8fnvmV1Y</a> <br><br>  Por lo tanto, tenemos dos enfoques diametralmente opuestos: <abbr title="An√°lisis t√©cnico">TA</abbr> y <abbr title="An√°lisis fundamental">FA</abbr> . <br>  <abbr title="An√°lisis fundamental">FA</abbr> generalmente interesa a los inversores a largo plazo, TA: a corto y mediano plazo, y se utiliza para transacciones de naturaleza especulativa, cuando el tema del comercio del comerciante no est√° interesado. <br><br>  Y los objetivos de este art√≠culo son dos ... <br><br>  Adem√°s de las discusiones sobre <abbr title="An√°lisis t√©cnico">TA</abbr> y <abbr title="An√°lisis fundamental">FA</abbr> descritas anteriormente, <em>quer√≠a explorar y mostrar las capacidades de Oracle Database para realizar c√°lculos de indicadores t√©cnicos del mercado</em> . <br>  Presento estas oportunidades al juicio de los lectores. <br><br>  Si decide repetir mis c√°lculos, descargue el c√≥digo de GitHub en el enlace al final del art√≠culo.  C√≥digo verificado en la versi√≥n 12.2.0.1. <br><br>  Primero crea objetos compartidos.  Los primeros son las tablas y la vista.  En el mismo archivo a continuaci√≥n hay un paquete de modelado de transacciones. <br><br>  El segundo paso es la creaci√≥n de funciones que realizan el c√°lculo de <abbr title="Indicador t√©cnico del mercado">TIR</abbr> . <br><br>  El tercer paso son los c√°lculos. <br><br>  Todas las funciones para calcular todas las <abbr title="Indicador t√©cnico del mercado">TIR</abbr> devolver√°n un cursor con los siguientes campos: STOCK_NAME, ADATE, ACLOSE (precio de cierre del d√≠a), AACTION (orden de venta / compra) <br><br>  El paquete contiene tres funciones de modelado tabular que toman un cursor de entrada de las funciones de c√°lculo <abbr title="Indicador t√©cnico del mercado">TIR</abbr> descritas anteriormente, compensaci√≥n (retraso en la ejecuci√≥n de la orden, retraso) y capital inicial, por defecto es 1000 USD.  Las funciones del paquete se llaman as√≠: <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.TRADE_LOG (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.CALC_ACTIONS (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (<span class="hljs-keyword"><span class="hljs-keyword">cursor</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE, AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_XXXXXXXX_F_CALC (<span class="hljs-number"><span class="hljs-number">10</span></span>))), p_lag =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br>  donde XXXXXXXX es el nombre de la <abbr title="Indicador t√©cnico del mercado">TIR</abbr> . <br><br>  <strong>Todas las funciones calculan el resultado del comercio sujeto a la reinversi√≥n total de las ganancias, excluyendo los costos de transacci√≥n y los impuestos, y excluyendo la inflaci√≥n y el descuento.</strong> <br><br>  La primera funci√≥n <code>TRADE_LOG</code> forma un registro de transacciones del comerciante simplificado.  La funci√≥n le permite rastrear toda la cadena de transacciones.  Si al final del per√≠odo el inversor est√° "en valores", para calcular el saldo en moneda (resultado financiero), la funci√≥n simula la venta de todos los valores al √∫ltimo precio de cierre y forma la marca correspondiente en el campo IN_STOCK. <br><br>  La segunda funci√≥n <code>CALC_ACTIONS</code> devuelve las mismas columnas que el cursor de c√°lculo <abbr title="Indicador t√©cnico del mercado">TIR</abbr> llamado, y agrega las siguientes columnas: <code>AACTION_LAG</code> (orden con compensaci√≥n), <code>BALANCE_CURRENCY</code> (saldo de la cuenta del operador en efectivo), <code>BALANCE_STOCK</code> (n√∫mero de instrumentos en posiciones abiertas).  Dependiendo del valor del campo <code>AACTION_LAG</code> , se simula una compra o venta a un precio de cierre y, en consecuencia, se cambia el saldo en la moneda y la cantidad de posiciones abiertas. <br><br>  En la √∫ltima l√≠nea de cada instrumento, puede ver el resultado de la negociaci√≥n de cada instrumento, as√≠ como en la funci√≥n anterior, si el inversor est√° "en valores", se simula una venta para calcular el saldo en moneda extranjera <br><br>  La tercera funci√≥n <code>CALC_ACTIONS_TOTALS</code> hace lo mismo que la segunda, pero solo devuelve la √∫ltima fila, el resultado de la negociaci√≥n de cada instrumento.  Se usar√° en el modelado. <br><br><h3>  Descargar datos </h3><br>  Los c√°lculos se dan para dichos mercados e √≠ndices: S &amp; P500, NYSE, Brent, BTCUSD, EURUSD. <br>  Los primeros 4 fueron descargados de Yahoo Finance, el √∫ltimo de otra fuente.  Los resultados del c√°lculo para cursos de otras fuentes pueden variar. <br><br>  Tenga en cuenta que los per√≠odos de los cursos de cada instrumento son diferentes, a saber: <br><br><ul><li>  S &amp; P500 - 01/03/1950 ... 29/01/2019, 69 a√±os; </li><li>  NYSE - 31/12/1965 ... 22/03/2019, 54 a√±os; </li><li>  Brent - 17/05/1991 ... 02/06/2019, 28 a√±os; </li><li>  BTCUSD - 16/07/2010 ... 29/01/2019, 9 a√±os de edad; </li><li>  EURUSD - 16/02/2001 ... 27/05/2019, 18 a√±os. </li></ul><br>  Por lo tanto, es imposible comparar la rentabilidad lograda de los instrumentos entre s√≠, pero puede comparar la rentabilidad de cada uno de los instrumentos utilizando diferentes indicadores. <br><br>  El archivo de descarga (SQL * Loader) tambi√©n se puede tomar de GitHub en el enlace al final del art√≠culo. <br><br><h3>  Medias m√≥viles </h3><br>  Existen al menos tres tipos principales de promedios m√≥viles: <br><br><ul><li>  lineal (media m√≥vil simple, SMA), </li><li>  Promedio m√≥vil exponencial (EMA) y </li><li>  ponderado linealmente (Promedio m√≥vil ponderado, WMA). </li></ul><br>  Se diferencian en los pesos de sus partes constituyentes.  Para un promedio m√≥vil lineal, los pesos son iguales, para pesos ponderados exponenciales y lineales, disminuyen a medida que el componente se mueve m√°s lejos del borde derecho de la ventana, exponencial o linealmente. <br><br>  El promedio m√≥vil lineal es el m√°s f√°cil de calcular.  En Oracle, esta es la funci√≥n <code>avg (VALUE) over (partition by STOCK_NAME order by ADATE rows between 9 preceding and current row)</code> : un promedio m√≥vil con una ventana de promedio de 10 valores. <br><br>  El promedio m√≥vil lineal tiene inconvenientes.  En primer lugar, dichos promedios responden lentamente a las reversiones del mercado.  Dado que se promedian muchos valores, cada uno de los cuales tiene el mismo peso, la respuesta promedio a menudo ocurre varios marcos de tiempo despu√©s de una reversi√≥n del precio de los activos. <br><br>  Adem√°s, el promedio m√≥vil lineal no es muy efectivo, porque responde a la se√±al dos veces: cuando el indicador ingres√≥ a la ventana deslizante y la dej√≥.  El resto reacciona solo a la entrada del indicador y lo elimina suavemente del c√°lculo a medida que se mueve desde el borde derecho de la ventana hacia la izquierda. <br><br>  Al calcular la <abbr title="Indicador t√©cnico del mercado">TIR</abbr> , se utilizan los tres tipos de promedios m√≥viles.  Para exponencial y ponderado linealmente en este art√≠culo, se desarrollan las funciones agregadas <code>EMA</code> y <code>WMA</code> , que se utilizan en forma anal√≠tica.  Adem√°s, estos promedios m√≥viles se pueden calcular por recursividad o modelo (frase <code>MODEL</code> ). <br><br>  El c√°lculo de EMA y WMA, sin recursividad o modelka, solo por an√°lisis, en Oracle Database, aparentemente, es imposible. <br><br>  Pero a√∫n reservas sobre promedios m√≥viles: <br><br><ul><li>  cuanto m√°s corto es el per√≠odo promedio y cuanto m√°s sensible es el m√©todo a los giros, m√°s se emiten se√±ales falsas; </li><li>  cuanto m√°s corto es el per√≠odo promedio, m√°s se√±ales se generan, mayor es la sobrecarga de la transacci√≥n, lo que puede llegar a ser muy significativo. </li></ul><br><h2>  Indicadores t√©cnicos del mercado </h2><br>  Para casi todos los indicadores, se dar√°n varios m√©todos de c√°lculo: CALC - c√°lculo usando c√≥digo PL / SQL, SIMP - c√°lculo por un operador o RECU - c√°lculo por recursi√≥n, AGRF - c√°lculo usando la funci√≥n de agregado, MODE - c√°lculo por modelo. <br><br>  Hay razones para desarrollar varios m√©todos.  En primer lugar, calculando el <abbr title="Indicador t√©cnico del mercado">TIR por</abbr> varios m√©todos y comparando los indicadores, si los indicadores son los mismos, puede estar seguro de que los c√°lculos se realizaron correctamente (teniendo en cuenta diferentes m√©todos de redondeo y procesamiento de valores NULL y "0").  En este art√≠culo comparar√© los hash de muestras de diferentes m√©todos, por lo que se garantiza la coincidencia de bits y el mismo procesamiento por todos los algoritmos. <br><br>  Creo que Oracle necesita comenzar a desarrollar <abbr title="Indicador t√©cnico del mercado">TIR</abbr> con el m√©todo SIMP: c√°lculo realizado por un operador.  Cuando se hace esto, el oracleoide tiene un plan y un algoritmo de c√°lculo en su cabeza, y puede transferirse f√°cilmente a PL / SQL u otro lenguaje de procedimiento. <br><br>  Observo que el m√©todo de c√°lculo CALC para PL / SQL aqu√≠ es m√°s r√°pido que el m√©todo SIMP (con un operador) si todo el c√°lculo puede realizarse en una pasada a lo largo del cursor.  Pero si para el c√°lculo tiene que crear tablas o colecciones temporales, o m√°s de 1 pasada en el cursor, creo que el m√©todo de "un operador" resultar√° m√°s r√°pido y menos intensivo en recursos. <br><br>  Para todos los m√©todos, incluido el m√©todo SIMP ("un operador"), pondr√© a los operadores en funciones para que se pueda llamar al c√°lculo con un par√°metro para seleccionar el valor √≥ptimo. <br><br>  Los c√°lculos se dan para siete <abbr title="Indicador t√©cnico del mercado">TIR</abbr> : intersecci√≥n de la media m√≥vil (EMASIMPLE), cruces de oro y muerte (CRUCES), volumen de equilibrio (OBV), canal Keltner (KELTNER), tendencia de precio y volumen (PVT), indicador de facilidad de movimiento de armas (EMV) ), √çndice de canal de productos b√°sicos (CCI). <br><br>  Para los siete indicadores de estos dos art√≠culos, habr√° un par√°metro "tama√±o de ventana promedio" y el segundo par√°metro - shift (lag).  El turno dice cu√°ntas barras necesita para posponer la ejecuci√≥n de la orden COMPRAR / VENDER, cu√°ntas barras mover el precio de cierre (todas las √≥rdenes se hacen al precio de cierre de la barra).  Esto es similar a "deslizamiento", pero no es exactamente "deslizamiento".  El deslizamiento generalmente no est√° a favor del cliente, y nuestro retraso puede resultar tanto a favor del cliente como a favor.  Sin embargo, el uso de modelos con un retraso de 1 a 5 barras para algunos indicadores muestra que el deslizamiento tiene un efecto significativo en el resultado.  Y para algunos indicadores, el retraso y el deslizamiento no son tan importantes. <br><br>  Los m√©todos SIMP ("operador √∫nico") y RECU ("recursi√≥n") <code>MATCH_RECOGNIZE</code> activamente la frase <code>MATCH_RECOGNIZE</code> para generar la se√±al comercial COMPRAR / VENDER en funci√≥n de la entrada / salida del <abbr title="Indicador t√©cnico del mercado">TIR</abbr> calculado en el rango especificado o su comportamiento en relaci√≥n con su promedio m√≥vil. <br><br>  <em>Se pueden encontrar descripciones detalladas de todos los <abbr title="Indicador t√©cnico del mercado">TIR</abbr> en Wikipedia o en el libro de Robert Colby, Enciclopedia de indicadores t√©cnicos del mercado.</em> <br><br><h3>  La intersecci√≥n de la media m√≥vil exponencial </h3><br>  El m√©todo de intersecci√≥n de promedios m√≥viles exponenciales es el <abbr title="Indicador t√©cnico del mercado">TIR</abbr> m√°s simple. <br><br>  El m√©todo implica: comprar (abrir una posici√≥n larga) si el valor del precio cruza su promedio m√≥vil exponencial ascendente (ESA);  vender (cerrar una posici√≥n larga) si el precio cruza su ESS de arriba a abajo. <br><br>  Las posiciones cortas, as√≠ como el comercio de margen en general, no se consideran en este art√≠culo. <br><br>  En el futuro, es este indicador el que se puede usar como est√°ndar para compararlo con otros.  Una comparaci√≥n con este <abbr title="Indicador t√©cnico del mercado">TIR es</abbr> mejor que una comparaci√≥n con la estrategia Buy and Hold, porque esta estrategia no es rentable en la ca√≠da de los mercados. <br><br>  El √∫nico par√°metro <abbr title="Indicador t√©cnico del mercado">TIR</abbr> es la longitud de la media m√≥vil. <br><br>  C√°lculo usando PL / SQL <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_CALC (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">pipelined</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; EMA number; prev_EMA number; prev_TYPICAL_PRICE number; retval HABR_MARKETINDEXES_RESULT_T := HABR_MARKETINDEXES_RESULT_T (null, null, null, null, null, null, null, null, null); prev_STOCK_NAME varchar2(256); l_alpha number; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> l_alpha := <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>); for c1 in (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> retval.ADATE := c1.ADATE; retval.ACLOSE := c1.ACLOSE; if prev_STOCK_NAME is null or prev_STOCK_NAME &lt;&gt; c1.STOCK_NAME then retval.STOCK_NAME := c1.STOCK_NAME; EMA := c1.TYPICAL_PRICE; prev_EMA := null; else EMA := round (c1.TYPICAL_PRICE * l_alpha + EMA * (1 - l_alpha), 20); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; if prev_TYPICAL_PRICE &lt; prev_EMA and c1.TYPICAL_PRICE &gt; EMA then retval.AACTION := 'BUY'; elsif prev_TYPICAL_PRICE &gt; prev_EMA and c1.TYPICAL_PRICE &lt; EMA then retval.AACTION := 'SELL'; else retval.AACTION := null; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; retval.IND_VALUE := EMA; pipe row (retval); prev_STOCK_NAME := c1.STOCK_NAME; prev_EMA := EMA; prev_TYPICAL_PRICE := c1.TYPICAL_PRICE; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><br>  C√°lculo por un operador recursivo <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_RECU (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 (STOCK_NAME, ADATE, TYPICAL_PRICE, EMA, ACLOSE, RN) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (TYPICAL_PRICE, <span class="hljs-number"><span class="hljs-number">20</span></span>), ACLOSE, RN <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> RN = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">union</span></span> all <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> b.STOCK_NAME , b.ADATE , b.TYPICAL_PRICE , <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (b.TYPICAL_PRICE * <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>) + a.EMA * (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-number"><span class="hljs-number">20</span></span>) , b.ACLOSE , b.RN <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 a, LOAD_YAHOO_V b <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> b.RN = a.RN + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> b.STOCK_NAME = a.STOCK_NAME) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, AACTION) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 match_recognize (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> classifier() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AACTION all <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> per <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> unmatched <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> pattern (BUY+ | SELL+) <span class="hljs-keyword"><span class="hljs-keyword">define</span></span> BUY <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &lt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA) , SELL <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &gt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA) ) MR; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><br>  C√°lculo utilizando la frase MODELO <br><div class="spoiler">  <b class="spoiler_title">Texto de funci√≥n HABR_MARKETINDEXES_EMASIMPLE_F_MODE</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_MODE (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V <span class="hljs-keyword"><span class="hljs-keyword">model</span></span> <span class="hljs-keyword"><span class="hljs-keyword">dimension</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> (STOCK_NAME, RN) <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> (ADATE, TYPICAL_PRICE, ACLOSE, to_number(<span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EMA) <span class="hljs-keyword"><span class="hljs-keyword">rules</span></span> (EMA[<span class="hljs-keyword"><span class="hljs-keyword">any</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">any</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (TYPICAL_PRICE [cv(), cv()] * <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>) + nvl(EMA [cv(), cv() - <span class="hljs-number"><span class="hljs-number">1</span></span>], TYPICAL_PRICE [cv(), cv()]) * (<span class="hljs-number"><span class="hljs-number">1</span></span> - <span class="hljs-number"><span class="hljs-number">2</span></span> / (p_averaging_window_width + <span class="hljs-number"><span class="hljs-number">1</span></span>)), <span class="hljs-number"><span class="hljs-number">20</span></span>))) , T2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, ACLOSE , TYPICAL_PRICE, LAG (TYPICAL_PRICE) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PREV_TYPICAL_PRICE , EMA, lag (EMA) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PREV_EMA <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> prev_TYPICAL_PRICE &lt; prev_EMA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'BUY'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> prev_TYPICAL_PRICE &gt; prev_EMA <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-string"><span class="hljs-string">'SELL'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T2 <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME, ADATE; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre><br></div></div><br><br>  C√°lculo utilizando la funci√≥n agregada <br><div class="spoiler">  <b class="spoiler_title">El texto de la funci√≥n agregada EMA y la funci√≥n HABR_MARKETINDEXES_EMASIMPLE_F_AGRF</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EMA_DATA_T <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> (AVALUE <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, AVERAGING_WINDOW <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> EMA_IMPL_T <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> ( l_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>, l_ema <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateInitialize (sctx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateIterate (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_DATA_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateMerge (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T, ctx2 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">member</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateTerminate (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> EMA_IMPL_T, returnValue <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, flags <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> EMA_IMPL_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> ODCIAggregateInitialize (sctx <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> EMA_IMPL_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> sctx := EMA_IMPL_T (<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>); return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateIterate (self in out EMA_IMPL_T, value in EMA_DATA_T) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> value.AVALUE <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> l_window_width <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> l_window_width := value.AVERAGING_WINDOW; self.l_ema := value.AVALUE; else self.l_ema := round (value.AVALUE * 2 / (l_window_width + 1) + self.l_ema * (1 - 2 / (l_window_width + 1)), 20); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateMerge(self in out EMA_IMPL_T, ctx2 in EMA_IMPL_T) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ODCIConst.Error; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; member function ODCIAggregateTerminate(self in EMA_IMPL_T, returnValue out number, flags in number) return number is <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> returnValue := self.l_ema; return ODCIConst.Success; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> EMA (<span class="hljs-keyword"><span class="hljs-keyword">input</span></span> EMA_DATA_T) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">aggregate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> EMA_IMPL_T; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (p_averaging_window_width <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HABR_MARKETINDEXES_RESULT_LIST_T <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> l_result HABR_MARKETINDEXES_RESULT_LIST_T; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> T1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> STOCK_NAME, ADATE, TYPICAL_PRICE, ACLOSE , <span class="hljs-keyword"><span class="hljs-keyword">round</span></span> (EMA (EMA_DATA_T (TYPICAL_PRICE, p_averaging_window_width)) <span class="hljs-keyword"><span class="hljs-keyword">over</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE), <span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> EMA <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> LOAD_YAHOO_V) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> HABR_MARKETINDEXES_RESULT_T (STOCK_NAME, ADATE, ACLOSE, EMA, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, AACTION) <span class="hljs-keyword"><span class="hljs-keyword">bulk</span></span> <span class="hljs-keyword"><span class="hljs-keyword">collect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> l_result <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T1 match_recognize (<span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ADATE <span class="hljs-keyword"><span class="hljs-keyword">measures</span></span> classifier() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AACTION all <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> per <span class="hljs-keyword"><span class="hljs-keyword">match</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> unmatched <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span> pattern (BUY+ | SELL+) <span class="hljs-keyword"><span class="hljs-keyword">define</span></span> BUY <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &lt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &gt; EMA) , SELL <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (prev (TYPICAL_PRICE) &gt; prev (EMA) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> TYPICAL_PRICE &lt; EMA) ) MR; return l_result; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br></div></div><br><br>  Compare los resultados del c√°lculo con un par√°metro: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COLUMN_VALUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ALG, dbms_sqlhash.gethash (<span class="hljs-keyword"><span class="hljs-keyword">COLUMN_VALUE</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> RECORDSET_HASH <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (sys.odcivarchar2list (<span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_RECU (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_MODE (15)) order by 1, 2'</span></span> , <span class="hljs-string"><span class="hljs-string">'select * from table (HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (15)) order by 1, 2'</span></span>));</code> </pre> <br>  Todos los hashes deben coincidir para los cuatro m√©todos. <br><br>  Si los hash no coinciden, puede averiguar exactamente d√≥nde se form√≥ la discrepancia, utilizando este operador (sustituya los nombres de las funciones que desea comparar): <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span> (a.STOCK_NAME, b.STOCK_NAME) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> STOCK_NAME, <span class="hljs-keyword"><span class="hljs-keyword">coalesce</span></span> (a.ADATE, b.ADATE) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ADATE , a.ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_ACLOSE, b.ACLOSE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_CLOSE , a.IND_VALUE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_EMA, b.IND_VALUE <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_EMA , a.AACTION <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> CALC_AACTION, b.AACTION <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> AGRF_AACTION <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (<span class="hljs-number"><span class="hljs-number">15</span></span>)) a <span class="hljs-keyword"><span class="hljs-keyword">full</span></span> <span class="hljs-keyword"><span class="hljs-keyword">outer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">join</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> (HABR_MARKETINDEXES_EMASIMPLE_F_AGRF (<span class="hljs-number"><span class="hljs-number">15</span></span>)) b <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> a.STOCK_NAME = b.STOCK_NAME <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.ADATE = b.ADATE <span class="hljs-comment"><span class="hljs-comment">--where sys_op_map_nonnull (a.ACLOSE) &lt;&gt; sys_op_map_nonnull (b.ACLOSE) -- or sys_op_map_nonnull (a.IND_VALUE) &lt;&gt; sys_op_map_nonnull (b.IND_VALUE) -- or sys_op_map_nonnull (a.AACTION) &lt;&gt; sys_op_map_nonnull (b.AACTION) order by 1, 2; ;</span></span></code> </pre> <br>  <b>Selecci√≥n de par√°metros.</b> <br><br>  El <abbr title="Indicador t√©cnico del mercado">TIR en</abbr> s√≠ usa un par√°metro, para este y para todos los dem√°s <abbr title="Indicador t√©cnico del mercado">TIR</abbr> lo cambio en el rango de 1 a 200, pero para calcular una imagen tridimensional de dependencia y tambi√©n en el retraso, introduciremos un segundo par√°metro que variar√° de 1 a 5. <br><br>  El operador abre 200 * 5 = 1000 cursores, por lo que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">es</a> posible que deba cambiar Oracle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OPEN_CURSORS</a> <br><br>  La siguiente consulta realiza el producto cartesiano de una tabla con n√∫meros del 1 al 200, con una tabla con n√∫meros del 1 al 5, y el cartesiano multiplica todo esto llamando a la funci√≥n de tabla <code>HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS</code> . <br><br>  Despu√©s de algunas manipulaciones adicionales en MATLAB, obtendremos una matriz de 200 * 5, donde en las celdas de la matriz habr√° un valor de capital total para cada valor de cada uno de los dos par√°metros.  Luego en MATLAB construimos una imagen tridimensional. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">rollback</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> INDICATOR_NAME = <span class="hljs-string"><span class="hljs-string">'HABR_MARKETINDEXES_EMASIMPLE_F_CALC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS (INDICATOR_NAME, PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> TP1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;AVERAGING_INTERVAL) , TP2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;LAG_MODELLING_DEPTH) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-comment"><span class="hljs-comment">--+ parallel(8) 'HABR_MARKETINDEXES_EMASIMPLE_F_CALC', PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK from TP1 cross join TP2 cross join table (HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (cursor (select STOCK_NAME, ADATE, ACLOSE, AACTION from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (PARM1))), PARM2)) ; commit;</span></span></code> PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">rollback</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> INDICATOR_NAME = <span class="hljs-string"><span class="hljs-string">'HABR_MARKETINDEXES_EMASIMPLE_F_CALC'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> HABR_MARKETINDEXES_PARMSEL_RESULTS (INDICATOR_NAME, PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> TP1 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM1 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;AVERAGING_INTERVAL) , TP2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rownum</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PARM2 <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> dual <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">level</span></span> &lt;= &amp;&amp;LAG_MODELLING_DEPTH) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-comment"><span class="hljs-comment">--+ parallel(8) 'HABR_MARKETINDEXES_EMASIMPLE_F_CALC', PARM1, PARM2, STOCK_NAME, ADATE_MIN, ADATE_MAX, DEALS_COUNT, BALANCE_RESULT, DEALS_PROFIT_AMOUNT, DEALS_LOSS_AMOUNT, DEALS_PROFIT_COUNT, DEALS_LOSS_COUNT, IN_STOCK from TP1 cross join TP2 cross join table (HABR_TRADEMODELLING_P.CALC_ACTIONS_TOTALS (cursor (select STOCK_NAME, ADATE, ACLOSE, AACTION from table (HABR_MARKETINDEXES_EMASIMPLE_F_CALC (PARM1))), PARM2)) ; commit;</span></span></code> </pre> <br>  Todos los c√°lculos en este art√≠culo se realizan lentamente, hasta 20 minutos, esto se debe a la apertura de una gran cantidad de cursores. <br><br>  Tambi√©n desarroll√© un m√©todo de simulaci√≥n m√°s r√°pido con un cursor, sin abrir 1000 cursores, pero es tan voluminoso que tomar√≠a la mitad del art√≠culo.  Por lo tanto, no lo traer√© aqu√≠. <br><br>  El resultado de modelar la intersecci√≥n de la media m√≥vil (se puede hacer clic en todos los gr√°ficos): <br> <a href=""><img src="https://habrastorage.org/webt/my/i8/1f/myi81fz9phsezv_f_igu2eic4ie.jpeg"><br></a> <br><br>  La segunda l√≠nea de gr√°ficos es la misma que la primera l√≠nea, pero los gr√°ficos est√°n ligeramente rotados, los gr√°ficos con diferentes retrasos se organizan uno tras otro.  Esto le permite evaluar el efecto del retraso en el resultado. <br><br>  En general, el indicador no es muy sensible a los retrasos.  Para los mercados S &amp; P500 y NYSE, el par√°metro <abbr title="Indicador t√©cnico del mercado">TIR</abbr> debe seleccionarse cuanto m√°s, mejor.  Para el mercado Brent: alrededor de 25. En los otros dos mercados, no hay correlaci√≥n entre rentabilidad y par√°metro. <br><br><h3>  Cruces mortales y doradas </h3><br>  En la implementaci√≥n en Oracle, este indicador es muy similar al anterior, solo que aqu√≠ se usan dos promedios m√≥viles, y no uno.  Por lo tanto, dar√© solo una opci√≥n de c√°lculo. <br><br>  El Wiki describe el indicador Ichimoku.  Este es un indicador complejo.  Las "cruces" son una de las partes constituyentes.  Pero el indicador est√° mal descrito en la Wiki, en particular, tenga en cuenta que las l√≠neas de Tenkan y Kijun se describen en palabras completamente diferentes, aunque en realidad es lo mismo, pero con diferentes per√≠odos. <br><br>  En el libro de Robert Colby, este indicador tampoco se describe. <br><br>  Los analistas japoneses llaman a la intersecci√≥n de los promedios, cuando el promedio a corto plazo cruza el largo plazo de abajo hacia arriba, la Cruz de Oro (Golden Cross), y la situaci√≥n opuesta, cuando el promedio m√≥vil a corto plazo cruza el largo plazo de arriba hacia abajo, Dead Cross. <br><br>  El autor not√≥ que este indicador se describe en el art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Los futuros del petr√≥leo estadounidense formaron una" cruz mortal ""</a> y comenz√≥ a buscar en Google su descripci√≥n y uso. <br><br>  Este indicador se considera serio en el mercado de valores, en parte porque rara vez da se√±ales. <br><br>  Los m√°s utilizados son los promedios m√≥viles de 50 y 200 per√≠odos. <br><br>  Al modelar el rendimiento a continuaci√≥n, tomaremos el per√≠odo del promedio m√≥vil largo igual al per√≠odo cu√°druple del promedio m√≥vil corto y simularemos la duraci√≥n del corto de 1 a 200 d√≠as (resultar√° de 4 a 800 d√≠as para el largo). <br><br>  C√≥digo para calcular en GitHub. <br><br> <a href=""><img src="https://habrastorage.org/webt/7s/1a/c_/7s1ac_u_9vclmx2xelqzod7jvyi.png"></a> <br><br>  El indicador no es muy sensible a los retrasos.  Para el mercado S &amp; P500, hay m√°ximos en 48 (192 para un SS largo) y 98 d√≠as (392 para un SS largo).  Tenga en cuenta que el primer m√°ximo est√° muy cerca de los n√∫meros 50x200.  Se puede suponer que si elige este par√°metro 1 y 2 menos que otros participantes del mercado, puede intentar superarlos solo en este indicador. <br><br>  Hay 4 m√°ximos en la NYSE.  En los mercados Brent y BTCUSD, el indicador no funciona. <br>  Tambi√©n para el mercado EURUSD, el par√°metro debe elegirse un poco menos de 50 para un SS corto.  Pero el indicador no da ganancias en este mercado.  Solo se puede usar como un indicador adicional. <br><br><h3>  Volumen de equilibrio, volumen de equilibrio, volumen en equilibrio (OBV) </h3><br>  El indicador OBV es un volumen de negociaci√≥n promedio m√≥vil acumulativo tomado con un signo m√°s en el caso de un mercado en crecimiento y con un signo menos en el caso de una ca√≠da. <br><br>  Aqu√≠ usaremos esta forma de interpretar el valor de los indicadores: comprar cuando el OBV cruza su promedio m√≥vil de abajo hacia arriba, vender cuando el OBV cruza su promedio m√≥vil de arriba hacia abajo. <br><br>  M√°s sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Wiki</a> o Colby <br><br> <a href=""><img src="https://habrastorage.org/webt/rl/w1/fa/rlw1farsmtyjs7duejp1eao6e1u.png"></a> <br><br>  En el mercado S &amp; P500, el indicador es muy sensible a los retrasos (retrasos), pero puede intentar elegir un par√°metro seg√∫n el principio de "cuanto m√°s mejor", se logra cierta rentabilidad.  En la Bolsa de Nueva York, la rentabilidad no se puede lograr.  En el mercado Brent, puede seleccionar un valor de par√°metro de 20 a 100. En el mercado BTCUSD, no existe una relaci√≥n lineal clara, pero elegir un valor de par√°metro menor que 40 no es pr√°ctico.  Para el mercado EURUSD, el valor del par√°metro debe elegirse "cuanto m√°s mejor", pero no se puede lograr la rentabilidad. <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Canal Keltner </font></font></h3><br> <abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> consta de dos bandas por encima y por debajo del precio promedio m√≥vil, cuyo ancho se determina como una fracci√≥n del cambio de precio promedio para el per√≠odo. </font><font style="vertical-align: inherit;">El precio es un precio t√≠pico. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La l√≠nea media de la l√≠nea indicadora es un promedio m√≥vil simple del precio t√≠pico. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las l√≠neas superior e inferior del indicador est√°n separadas de la l√≠nea media por una cantidad igual al promedio m√≥vil simple del rango de negociaci√≥n diario. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En nuestros c√°lculos, la se√±al </font></font><abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se formar√° de la siguiente manera: Comprar si el precio cruza la l√≠nea superior, Vender si el precio cruza la l√≠nea inferior.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/_h/25/ls/_h25lsxaqle9wda7rehrzncb4ei.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay m√°ximos para los mercados S &amp; P500 y NYSE. </font><font style="vertical-align: inherit;">En el mercado Brent, no hay dependencia del resultado en el par√°metro, y todas las operaciones est√°n perdidas. </font><font style="vertical-align: inherit;">Hay altos en el mercado de BTCUSD, pero estrechos, y es dif√≠cil entrar en ellos. </font><font style="vertical-align: inherit;">En el mercado EURUSD, el resultado depende del par√°metro.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tendencia de precio y volumen, Tendencia de precio y volumen, Precio - Tendencia de volumen, PVT </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El valor del indicador PVT representa la suma acumulativa del producto del volumen de negociaci√≥n actual por el aumento de precio reducido en relaci√≥n con el per√≠odo anterior. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generaremos se√±ales de negociaci√≥n aqu√≠ de la siguiente manera: Compre cuando el PVT cruza su promedio m√≥vil de abajo hacia arriba, Venda cuando el PVT cruza su promedio m√≥vil de arriba hacia abajo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Colby no lo encontr√≥. </font><font style="vertical-align: inherit;">Para el S &amp; P500, el valor del par√°metro "cuanto m√°s grande, mejor", en NYSE casi no hay dependencia, para Brent hay un m√°ximo en la regi√≥n de 50, en BTCUSD el indicador es efectivo solo con retrasos m√≠nimos, 1-2, y con valores m√≠nimos de par√°metro, hasta 50 , para EURUSD la dependencia est√° aumentando.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/d9/5q/ay/d95qay3lujgc3dplp4rgkorrgyq.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Facilidad de movimiento, Valor de facilidad de movimiento de armas, EMV </font></font></h3><br> <abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EMV es una expresi√≥n num√©rica de cu√°n f√°cilmente cambia un precio en un mercado. </font><font style="vertical-align: inherit;">Cuanto m√°s fuerte es el cambio en el precio y menor es el volumen de negocios, m√°s f√°cil sube o baja el mercado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las √≥rdenes de negociaci√≥n aqu√≠ se formar√°n de la siguiente manera: Comprar cuando el EMV promedio m√≥vil sube por encima de cero, Vender cuando el EMV promedio m√≥vil cae por debajo de cero. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o Colby. </font><font style="vertical-align: inherit;">Hay m√°ximos en los mercados S&amp;P y NYSE; en el mercado Brent, el indicador es efectivo en una amplia gama de valores de par√°metros. </font><font style="vertical-align: inherit;">En los mercados BTCUSD y EURUSD, el indicador es ineficaz.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/3o/9r/yk/3o9ryk2ufl7fh-xi7t755zughpq.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √çndice de canal de productos b√°sicos, CCI </font></font></h3><br> <abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CCI es un indicador basado en el an√°lisis del cambio actual en la desviaci√≥n del precio de su valor promedio durante un cierto per√≠odo y el valor absoluto promedio de este par√°metro. </font></font><abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR es</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aplicable a cualquier mercado financiero. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formaremos las √≥rdenes de negociaci√≥n de la siguiente manera: Compre cuando el CCI supere los 100, Venda cuando el CCI caiga por debajo de 100. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o Colby. </font><font style="vertical-align: inherit;">En los mercados S &amp; P500, NYSE, Brent, no hay dependencia del resultado comercial en el valor del par√°metro. Existe una dependencia en el mercado BTCUSD (dos m√°ximos claros), y puede intentar atraparlo en el comercio real. En el mercado EURUSD, el indicador del resultado no traer√°. </font><b><font style="vertical-align: inherit;">Fuentes disponibles en </font></b><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">github</font></a></b></font><br><br> <a href=""><img src="https://habrastorage.org/webt/vr/uc/ob/vrucob8honvqk0dsynnz5t7zqtw.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br> <b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a></b> <br>   ,  ,   (   ,       Yahoo Finance),  ,    ,     (   ,     20 ). <br><br> <b>   <abbr title="Indicador t√©cnico del mercado"></abbr> :</b>        .        .               . <br><br>  Opcional: <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se analizaron otros tres indicadores que no est√°n incluidos en el art√≠culo. </font><font style="vertical-align: inherit;">Pero no pudieron obtener ning√∫n resultado. </font><font style="vertical-align: inherit;">Quiz√°s su estudio continuar√°. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es </font><font style="vertical-align: inherit;">muy conveniente </font><font style="vertical-align: inherit;">realizar c√°lculos y modelos complejos de </font></font><abbr title="Indicador t√©cnico del mercado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TIR</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y actividades financieras en general en Oracle Database.</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/455050/">https://habr.com/ru/post/455050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455038/index.html">Sobre c√≥mo visit√≥ Plesk KubeCon</a></li>
<li><a href="../455040/index.html">Mejorando el trabajo de Wi-Fi. Parte 2. Caracter√≠sticas del equipo</a></li>
<li><a href="../455042/index.html">Kotlin DSL, accesorios y elegantes pruebas de IU en Android</a></li>
<li><a href="../455046/index.html">N + 7 libros √∫tiles</a></li>
<li><a href="../455048/index.html">Implementaci√≥n t√©cnica del m√©todo de potenciales t√©rmicos para el an√°lisis de territorios.</a></li>
<li><a href="../455052/index.html">Summer DIYorDIE Meetup 16 de junio</a></li>
<li><a href="../455054/index.html">¬øC√≥mo encontrar√° Apple (en privado) fuera de l√≠nea su dispositivo perdido?</a></li>
<li><a href="../455056/index.html">Gr√°ficos primitivos para lazy, oldfags y lazy oldfags</a></li>
<li><a href="../455058/index.html">Trama calculada o infecci√≥n de rol</a></li>
<li><a href="../455060/index.html">Homer o el primer Open Source. parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>