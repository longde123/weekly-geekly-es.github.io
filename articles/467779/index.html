<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõï ‚òïÔ∏è üéûÔ∏è Acerca de Godot, GLSL y WebGL, sombreadores utilizados en el minijuego ü§πüèæ üìØ üë®üèø‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El art√≠culo trata principalmente sobre sombreadores GLSL y c√≥mo los utilic√© en este mini juego de demostraci√≥n. 

 El art√≠culo se divide en el siguien...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Acerca de Godot, GLSL y WebGL, sombreadores utilizados en el minijuego</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467779/"><h1 id="statya-v-osnovnom-pro-glsl-sheydery-i-kak-ya-ih-ispolzoval-v-etoy-mini-demke-igre">  El art√≠culo trata principalmente sobre sombreadores GLSL y c√≥mo los utilic√© en este mini juego de demostraci√≥n. </h1><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0jKyTBFrpjU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3 id="statya-razbita-po-takoy-ocherednosti">  El art√≠culo se divide en el siguiente orden: </h3><br><ul><li>  Enlaces y una breve descripci√≥n. </li><li>  Una descripci√≥n muy breve de la l√≥gica del juego y las caracter√≠sticas utilizadas de Godot. </li><li>  Sobre los sombreadores usados. </li><li>  Un poco m√°s sobre Godot y sus caracter√≠sticas. </li><li>  WebGL2 funciona </li><li>  Multijugador </li></ul><a name="habracut"></a><br><hr><br><h1 id="1-ssylki-i-opisanie">  1. Enlaces y descripci√≥n </h1><br><p>  <strong>Puede descargar la versi√≥n Win / Linux</strong> desde el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace a itch.io</a> </p><br><p>  <strong>El c√≥digo fuente de todo el juego</strong> est√° disponible en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gitlab</a> . </p><br><h3 id="igrovoy-process">  Jugabilidad: </h3><br><p>  M√≠nimo, este no es un juego completo.  (sin sonido en el juego) </p><br><p>  <em>El objetivo del juego</em> es mantener el n√∫mero m√°ximo de rondas.  Las rondas comienzan cuando las esferas de HP son cero y no hay robots en el juego. </p><br><p>  Al destruir figuras, aparecen bonificaciones, <em>una vez por ronda</em> , dan la velocidad de la animaci√≥n del disparo, el da√±o (solo en la esfera principal) y la altura del salto, en color azul, rojo / verde, amarillo.  Los bots tambi√©n dan una bonificaci√≥n pero al azar.  El personaje del jugador restaura + 1HP cada nueva ronda. </p><br><hr><br><h1 id="2-logika-igry-i-ispolzuemye-resursy">  2. La l√≥gica del juego y los recursos utilizados. </h1><br><p>  <strong>Recursos utilizados:</strong> </p><br><p>  <strong>Blender se</strong> us√≥ solo para reducir la cantidad de pol√≠gonos en los modelos y para crear piezas rotas de modelos. </p><br><p>  Se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">utiliza el</a> m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">futari-addon</a> .  (Escribir√© sobre eso a continuaci√≥n) </p><br><p>  <strong>En el juego, dos modelos tienen animaciones.</strong> <br>  Movimientos del <em>personaje del jugador</em> que hice en Godot, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">modelo original</a> <br>  El segundo modelo es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esfera-bot</a> que tiene animaciones de alta calidad. </p><br><p>  Todos los <strong>modelos de objetos de terceros</strong> listos para usar <a href="">se enumeran aqu√≠</a> . </p><br><h3 id="logika-igry-i-vozmozhnosti-godot">  La l√≥gica del juego y las caracter√≠sticas de Godot: </h3><br><p>  La l√≥gica del juego no se realiza de la mejor manera, enumerar√© los puntos que se hacen normalmente. </p><br><p>  Solo se usa una ventana gr√°fica para una escena 3D, y varias ventanas gr√°ficas (baja resoluci√≥n) en las que hay c√°maras ortogonales para ventanas gr√°ficas 2D (tambi√©n de baja resoluci√≥n) en las que se procesan sombreadores Multipass / Feedback, m√°s sobre ellas a continuaci√≥n. </p><br><p> <strong>Todas las texturas tienen mipmap</strong> , e incluso funcionan en el navegador.  Hay configuraciones de gr√°ficos adicionales <em>(Esc - Configuraciones)</em> .  Por ejemplo, puede hacer <em>cualquier resoluci√≥n para el juego</em> , hasta <code>32x32</code> p√≠xeles, por ejemplo, configur√© la resoluci√≥n en <code>320x240</code> en la configuraci√≥n, ejecut√© el juego en un navegador y activ√© el <em>MSAA</em> anti-aliasing m√°ximo. <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/998/719/596/998719596112cbdc46218a7df4c8561b.png"></a> </p><br><p>  <strong>Todas las fuentes de luz funcionan en tiempo real</strong> , hay 16 en total. </p><br><p>  <strong>El piso y la cerca</strong> son las part√≠culas m√°s simples que duplican el mismo modelo muchas veces, el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥digo es trivial</a> . </p><br><p>  La matriz de rotaci√≥n de part√≠culas (piezas de piso) en mis sombreadores es solo una breve entrada de esta f√≥rmula: </p><br><pre> <code class="plaintext hljs">mat4 rotationAxisAngle( vec3 v, float angle ) { float s = sin( angle ); float c = cos( angle ); float ic = 1.0 - c; return mat4( vx*vx*ic + c, vy*vx*ic - s*vz, vz*vx*ic + s*vy, 0.0, vx*vy*ic + s*vz, vy*vy*ic + c, vz*vy*ic - s*vx, 0.0, vx*vz*ic - s*vy, vy*vz*ic + s*vx, vz*vz*ic + c, 0.0, 0.0, 0.0, 0.0, 1.0 ); }</code> </pre> <br><p>  por ejemplo, <code>v=vec3(0.0,0.0,1.0)</code> es la rotaci√≥n a lo largo del eje <code>z</code> , y <code>angle=PI/2.</code>  sustit√∫yalos y obtenga el turno deseado. </p><br><h3 id="animaciya-razrushaemyh-blokov-schitaetsya-fizicheskim-dvizhkom-v-realnom-vremeni">  La animaci√≥n de bloques destructibles se considera un motor de f√≠sica en tiempo real. </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/gRd0oMq.mp4" type="video/mp4"></video></div></div></div><br><p>  <strong>La f√≠sica en Godot es</strong> bastante limitada, y comienza a reducir significativamente el <em>FPS</em> incluso con una docena de objetos activos, por lo que todas las colisiones entre piezas destruidas se desactivan y se establecen otras, se establecen niveles para la f√≠sica, tambi√©n hay un l√≠mite en la cantidad de destrucci√≥n simult√°nea y la cantidad m√°xima de bots al mismo tiempo (seis). </p><br><p>  <strong>La f√≠sica de la inercia y la interacci√≥n del personaje del jugador con objetos din√°micos.</strong>  Est√° desactivado por defecto en Godot, escrib√≠ una interacci√≥n m√≠nima, el c√≥digo en los archivos: </p><br><p>  <a href="">bot_hit.gd _integrate_forces</a> funciona y todo lo que se llama son movimientos adversarios-bot <br>  <a href="">player_l.gd en</a> primer lugar, la funci√≥n <code>move_and_slide</code> desactiva la inercia infinita, y la funci√≥n <code>process_collision</code> repele los objetos. </p><br><p>  <strong>La precarga (precarga)</strong> al comienzo del juego se usa para evitar el retraso cuando aparece el objeto por primera vez, esto ayuda, sin embargo, cuando enciende las <em>sombras</em> (y algunas otras opciones), los retrasos aparecer√°n nuevamente en la primera aparici√≥n del objeto.  Adem√°s, en el navegador esto no ayuda debido a las peculiaridades de los navegadores que trabajan con sombreadores. </p><br><p>  Varios objetos duplicados en uno, y varios GIProbe, las formas y par√°metros de las fuentes de luz est√°n <em>destinados</em> a evitar las limitaciones de OpenGL o las restricciones en Godot. </p><br><hr><br><h1 id="3-ispolzuemye-sheydery">  3. Sombreadores usados </h1><br><h3 id="panorama-okruzheniya">  Panorama del entorno: </h3><br><p>  Este juego utiliza un panorama est√°tico, la imagen se obtiene de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este sombreador</a> <em>(colores c1 c2, posici√≥n ldir)</em> </p><br><pre> <code class="plaintext hljs">vec3 sky(vec3 d, vec3 c1, vec3 c2) { vec3 ldir = normalize(vec3(0.,0.,-1.)); vec3 col = mix(c1*100., c2*100., min(abs(dy)*2. + .5, 1.)) / 255.*.5; col *= (1. + vec3(1., .7, .3) / sqrt(length(d - ldir))*2.); //sun return clamp(col,vec3(0.),vec3(1.)); }</code> </pre> <br><p>  para obtener un panorama, elimine el comentario de la l√≠nea 57 <code>panorama_uv(fragCoord,ro,rd);</code>  y poner un comentario en la l√≠nea 58 </p><br><p>  Panor√°micas din√°micas para Godot en demos anteriores (YouTube y hay enlaces al c√≥digo) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">panorama de nubes</a> . <br>  Y el panorama del ciclo d√≠a / noche con el movimiento de las nubes se utiliz√≥ en esta demostraci√≥n: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jTmppCifnYE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  otro panorama de d√≠a / noche, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">por ejemplo, en sombreado</a> no lo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">us√©</a> en ning√∫n lado </p><br><p>  Si necesita <strong>convertir CubeMap en un panorama del entorno para Godot</strong> , hice un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">simple convertidor web</a> . </p><br><h3 id="sovsem-prostye-sheydery">  Sombreadores muy simples: </h3><br><p>  <strong>Los sombreadores de part√≠culas determinan est√°ticamente su posici√≥n</strong> para la animaci√≥n o no.  Por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">spawn.shader)</a> </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/chYJ7iU.mp4" type="video/mp4"></video></div></div></div><br><p>  Para <strong>un brillo adicional alrededor de los objetos</strong> , no solo bolas, esta es una l√≠nea de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gglow.shader</a> (los n√∫meros se pueden cambiar seg√∫n sea necesario) </p><br><pre> <code class="plaintext hljs">float intensity = pow(0.122 + max(dot(NORMAL, normalize(VIEW)),0.), 010.85);</code> </pre> <br><p> <a href=""><img src="https://habrastorage.org/webt/gf/sj/dh/gfsjdhbifiw_x2hrnj5i2xdsuwq.png"></a> <a href=""><img src="https://habrastorage.org/webt/h9/e9/vn/h9e9vn13ugqh7vqxuuoxpzunlno.png"></a> </p><br><p>  <strong>Al mostrar d√≠gitos de texto en 3D</strong> , tal como lo entiendo en Godot, no hay medios para esto (sin crear un FBO adicional (vista)), por lo que un simple sombreador imprime n√∫meros a partir de una textura (para que sea <em>mipmapping</em> ), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el c√≥digo del sombreador</a> </p><br><h3 id="elementy-ui">  Elementos de la interfaz de usuario: </h3><br><p>  Hacer que la forma personalizada de los paneles UI sea lo m√°s f√°cil para m√≠ es en sombreadores, tal vez <strong>esto no sea correcto en absoluto</strong> .  El m√©todo correcto se muestra <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠ como un ejemplo</a> (en la secci√≥n sobre IU). <br>  En este juego, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">animaci√≥n m√°s simple es el fondo del men√∫</a> , y el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">indicador es HP</a> .  Arriba, en el enlace al video del panorama d√≠a / noche, tambi√©n est√° hecho, hay rayas en los lados y toda la animaci√≥n en el sombreador. </p><br><h3 id="pro-modul-futari-addon">  Acerca del m√≥dulo futari-addon: </h3><br><p>  Funciona casi igual que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este sombreador</a> para part√≠culas 2D en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">video</a> (ver 1:41). </p><br><p>  Se construye un mapa 2D-SDF de todos los pol√≠gonos en el video una vez al comienzo y la textura resultante simplemente se env√≠a a las part√≠culas, las part√≠culas mismas se construyen normales en la posici√≥n actual y cambian el movimiento. </p><br><p>  <strong>futari-addon</strong> hace casi lo mismo, solo que en lugar de un mapa de textura 2D, se transmiten las coordenadas de las esferas y planos 3D, que se procesan de acuerdo con la condici√≥n en el sombreador de part√≠culas, por lo que puede cambiar libremente su posici√≥n y otros par√°metros. </p><br><p>  Adem√°s, el viento (en mi ejemplo 2D, agregar viento es muy simple, como otra textura con valores + - a la velocidad, y las part√≠culas simplemente agregan el valor de velocidad de este mapa en su posici√≥n). </p><br><p>  <strong>El m√≥dulo futari-addon es muy bueno</strong> , lo us√≥ en lugar de crear su propio sistema de part√≠culas. </p><br><h3 id="effekt-schita">  Efecto Escudo: </h3><br><p>  Part√≠culas a las que se transmiten las coordenadas del impacto en la esfera y la posici√≥n del jugador, y la extinci√≥n utilizando el b√∫fer de <em>realimentaci√≥n de transformaci√≥n</em> .  C√≥digo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sombreador</a> en el archivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en_m.shader</a> </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/cdtVH5V.mp4" type="video/mp4"></video></div></div></div><br><h3 id="schit-u-botov">  Bots Shield: </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/ah/-f/ob/ah-fob8goggag27vzivk3-4kl00.png"></a> <a href=""><img src="https://habrastorage.org/webt/gq/fu/ac/gqfuacowtln68ajquams-xfr9zm.png"></a> <br>  Shader como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">capa de</a> ruido tridimensional. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Shader</a> esencialmente todo funciona gracias a la funci√≥n de <code>flow</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">original aqu√≠</a> <br>  El fondo est√° determinado por <code>gl_FrontFacing</code> , y est√° pintado m√°s oscuro y m√°s verde, no azul. <br>  Respuesta a un golpe: el temporizador de evento de descarga simplemente se transmite. </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/YWtZyJP.mp4" type="video/mp4"></video></div></div></div><br><hr><br><h1 id="sheydery-chitayuschie-svoy-proshlyy-kadr-ili-feedbackmultipass-sheydery">  Shaders que leen su √∫ltimo fotograma o sombreadores Feedback / Multipass: </h1><br><p>  <strong>Casi todos los efectos se realizan utilizando esta l√≥gica.</strong> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Uno de los sombreadores del juego</a> . <br>  Como fuente, configur√© una <em>c√°mara ortogonal</em> que dispara objetos en un determinado grupo a una corta distancia (sin procesar toda la escena) <br> <a href=""><img src="https://habrastorage.org/webt/zf/rd/xg/zfrdxgfctkb-ey1zpqoqiaoqvv8.png"></a>  . </p><br><h3 id="effekt-polya-lda">  Efecto del campo de hielo: </h3><br><p>  El sombreador se indica arriba, en el archivo del proyecto es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ice_feedback.shader</a> , y un sombreador de <em>fragmentos</em> para el plano que crea la ilusi√≥n de profundidad del piso usando un simple bucle de profundidad: </p><br><pre> <code class="plaintext hljs">while(current_depth &lt; depth){ ofs -= delta; depth = textureLod(texture_depth, ofs,0.0).r; current_depth += layer_depth; }</code> </pre> <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/73beIUq.mp4" type="video/mp4"></video></div></div></div><br><h3 id="effekt-polya-chastic">  Efecto de campo de part√≠culas: </h3><br><p>  El sombreador es <em>el mismo</em> , la coordenada <code>y</code> (altura) de las part√≠culas de acuerdo con el brillo del color del b√∫fer del marco del sombreador, el color tambi√©n de acuerdo con el brillo del color ( <em>no guard√© el sombreador de part√≠culas por separado, est√° en el proyecto en el objeto</em> <code>floor/visible_/floor3/grass/grass</code> ). </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/8zo6Lf9.mp4" type="video/mp4"></video></div></div></div><br><h3 id="dinamicheskaya-animaciya-flaga">  Animaci√≥n de bandera din√°mica: </h3><br><p>  Godot tiene <em>SoftBody para animar la tela, pero es una CPU,</em> as√≠ que no la he usado.  Us√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace de</a> c√≥digo listo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">para el original</a> .  Esta bandera se empuja desde tres bolas en el costado y la cabeza del personaje es la cuarta bola. <br>  La l√≥gica del sombreador <em>multipass</em> , como en el ejemplo anterior, con solo tres ejes, el c√≥digo <em>multipass</em> del shader (1) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flag.shader</a> , el shader que dibuja la bandera solo muestra la textura y cambia la geometr√≠a del plano (2) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flag.shader</a> . </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/dVtroFS.mp4" type="video/mp4"></video></div></div></div><br><h3 id="poyavlenie-figur">  Apariencia de figuras: </h3><br><p>  <strong>Las formas no tienen UV, por lo tanto, el mapeo de texturas triplanar para el mapeo de texturas y el tri√°ngulo</strong> ( <em>v√©rtice</em> ), todo el c√≥digo en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cchess.shader</a> </p><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/rTiCkef.mp4" type="video/mp4"></video></div></div></div><br><h3 id="animaciya-hitbox-a-krasnaya-ramka-kotoryy-nanosit-uron-personazhu-igrokai-sled-ot-ramki-chasticy-ochevidno">  Animaci√≥n de un <em>hitbox</em> (marco rojo) que causa da√±o al personaje del jugador y un rastro del marco (las part√≠culas son obvias): </h3><br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Su navegador no admite video HTML5. <source src="https://i.imgur.com/r4pEvvw.mp4" type="video/mp4"></video></div></div></div><br><p>  Utiliza solo el sombreador <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gglow.shader</a> ya especificado. <br>  PD: <em>hizo la misma animaci√≥n en un sombreador</em> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace a sombreador</a> </p><br><p>  <em>Para las part√≠culas, solo se usan dos texturas, un c√≠rculo y un cuadrado.</em> </p><br><hr><br><h1 id="4-pro-godot-i-ego-osobennosti">  4. Acerca de Godot y sus caracter√≠sticas. </h1><br><p>  <strong>Godot es muy bueno y simple (no para un principiante).</strong>  <strong>Realmente me gust√≥ Godot por sus caracter√≠sticas.</strong> </p><br><p>  <em>Hay muchos</em> errores, la documentaci√≥n de Godot est√° incompleta y a veces es enga√±osa debido a errores y no indica puntos cr√≠ticos (no obvio para m√≠) para comprender qu√© Godot tuvo que releer todo el c√≥digo fuente muchas veces (el c√≥digo no es grande y est√° bien escrito). <br>  Esta es solo mi impresi√≥n, puede ser err√≥neo, no quiero enga√±ar a nadie. </p><br><p>  Insisto en que incluso los errores muy cr√≠ticos en Godot pueden evitarse en Godot a trav√©s de GDScript, con un m√≠nimo esfuerzo.  Lo que sin duda es una gran ventaja. </p><br><p>  Tambi√©n noto que Godot no est√° <em>protegido</em> de <em>ninguna manera contra</em> las peculiaridades de factores externos, como WASM en los navegadores, restricciones ANGLE, fuertes limitaciones de los navegadores mismos y, por supuesto, docenas de errores en los controladores de las tarjetas de video, todo esto debe pasarse por alto manualmente. </p><br><p>  <strong>Retrasos</strong> : hay un gran problema con la administraci√≥n, es 100% del lado de Godot, no lo solucion√©.  (controlar cu√±as durante la compilaci√≥n de sombreadores y retrasos FPS (por ejemplo, en el navegador)), tambi√©n otros retrasos relacionados con las caracter√≠sticas de renderizado 3D en Godot, hice un desv√≠o de algunos de ellos, pero todav√≠a existen / pueden ser. </p><br><hr><br><h1 id="5-webgl2-rabotaet-tolko-v-linux">  5. WebGL2 funciona <del>  Solo Linux </del></h1><br><p>  <strong>No inicies el</strong> juego desde el enlace si tienes Windows.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enlace a la versi√≥n WebGL2 / WASM.</a> </p><br><p>  <strong>Actualizaci√≥n de informaci√≥n</strong> : la versi√≥n de WebGL se lanz√≥ en Windows10 (solo en Firefox, con ANGLE apagado) en una PC s√∫per potente (i9 / 16gb ram / 8gb video), aunque el piso ya no se procesaba (por alguna raz√≥n), y el firefox est√° perdiendo memoria (&gt; 16GB ) en cinco minutos ... es mejor no correr, bajo su propio riesgo y riesgo </p><br><p>  Solo funciona en <em>Chrome 76+ y Firefox</em> (Linux). </p><br><p><del>  Se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">envi√≥</a> un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">informe de error (enlace)</a> sobre Windows; si se trata de un error del navegador, Google reacciona despu√©s de 2 meses.  <em>Pero aparentemente esto es un error en ANGLE, y esto seguramente no se solucionar√°.</em> </del><br>  El informe de errores ya est√° cerrado y ANGLE tampoco se editar√°.  <strong>Entonces, en Windows, el navegador no funcionar√°.</strong> </p><br><p>  En el curso de este proyecto, se solucion√≥ un error en Chrome debido a que transform-feedback y mi √∫ltima demostraci√≥n <em>(video anterior con un panorama d√≠a / noche)</em> , que no hab√≠a funcionado antes, comenz√≥ a funcionar. </p><br><hr><br><h1 id="6-multipleer">  6. Multijugador </h1><br><p>  Multijugador agregado, exclusivamente para prop√≥sitos de prueba (y muestra multijugador en Godot).  C√≥digo fuente y versiones binarias junto a la versi√≥n principal en github y itch (enlaces al principio). </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Xc1GsZnVa9c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  A medida que salga Godot 3.2, agregar√© WebRTC para la prueba tambi√©n. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467779/">https://habr.com/ru/post/467779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467763/index.html">Toda la verdad sobre RTOS. Art√≠culo # 33. Uso del sistema operativo Nucleus SE en tiempo real</a></li>
<li><a href="../467765/index.html">Wi-Fi y muchas otras abreviaturas. C√≥mo obtener datos en nodos de Wi-Fi en una aplicaci√≥n de Android y no aumentar</a></li>
<li><a href="../467769/index.html">En un √∫nico recurso de informaci√≥n federal que contiene informaci√≥n de poblaci√≥n</a></li>
<li><a href="../467771/index.html">Al igual que un autocargador junior verde, escribi√≥ su <s> caliente </s>. Parte 2. CSS</a></li>
<li><a href="../467775/index.html">5 mitos sobre los negocios: por qu√© el cliente est√° equivocado y c√≥mo superar a Apple</a></li>
<li><a href="../467781/index.html">Curso C ++ en CS centre, primera parte</a></li>
<li><a href="../467783/index.html">¬øC√≥mo puede un profesional de TI trabajar y vivir en Suiza?</a></li>
<li><a href="../467785/index.html">C√≥mo optimizar pandas cuando se trabaja con grandes conjuntos de datos (ensayo)</a></li>
<li><a href="../467787/index.html">C√≥mo configurar la b√∫squeda de direcciones por coordenadas (y d√≥nde obtener el directorio necesario)</a></li>
<li><a href="../467789/index.html">Acaba de llegar Java 13. ZGC ha comenzado a compartir memoria, el propio CDS recuerda las clases y otras maravillas t√©cnicas.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>