<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≤ üîì üç© Prettier, ESLint, Husky, Lint-Staged und EditorConfig: Tools zum Schreiben von aufger√§umtem Code üç± üïê üå±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie m√∂chten sauberen Code schreiben, wissen aber nicht, wo Sie anfangen sollen ... Sie lesen die Styleguides wie diese von Airbnb und versuchen, den p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prettier, ESLint, Husky, Lint-Staged und EditorConfig: Tools zum Schreiben von aufger√§umtem Code</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/428173/">  Sie m√∂chten sauberen Code schreiben, wissen aber nicht, wo Sie anfangen sollen ... Sie lesen die Styleguides wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese</a> von Airbnb und versuchen, den praktischen Empfehlungen f√ºhrender Experten zu folgen ... M√ºssen Sie nicht verwendeten Code l√∂schen?  M√ºssen Sie nach unn√∂tigen Variablen suchen?  Versuchen Sie, schlechte Muster zu identifizieren, die in Ihren Programmen verwendet werden?  Zum Beispiel - Sie m√∂chten verstehen, indem Sie die Feinheiten des Codes einer bestimmten Funktion lesen, ob sie etwas zur√ºckgibt oder nicht.  Kommt Ihnen das bekannt vor?  Das Problem ist, dass es f√ºr einen Programmierer sehr schwierig ist, viel zu tun und viel zu lernen. <br><br>  Vielleicht sind Sie ein Teamleiter, unter dessen F√ºhrung ein Team von Entwicklern verschiedener Ebenen arbeitet?  Gibt es neue Leute in Ihrem Team?  St√∂rt es Sie, dass der von ihnen geschriebene Code nicht Ihren Standards entspricht?  Vergehen Ihre Tage bei Tests des Codes anderer Personen, wenn diese √úberpr√ºfungen haupts√§chlich die Einhaltung von Standards und nicht die Programmlogik betreffen? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/qg/vq/eo/qgvqeoxevihpbwwmwuogpsfc-ow.jpeg"></a> <br><br>  Der Autor dieses Materials sagt, dass er mit allem konfrontiert war, dem die gerade gestellten Fragen gewidmet sind.  Was ihm bevorsteht, ist anstrengend und anstrengend.  Hier m√∂chte er √ºber Werkzeuge sprechen, deren korrekte Anwendung es uns erm√∂glicht, die oben genannten Probleme zu l√∂sen. <br><br>  Wir werden hier n√§mlich √ºber Tools wie Prettier, ESLint, Husky, Lint-Staged, EditorConfig und √ºber die Automatisierung von Formatierung und Code-Flusen sprechen.  Dieses Material konzentriert sich haupts√§chlich auf die React-Entwicklung, aber die hier diskutierten Prinzipien k√∂nnen in jedem Webprojekt angewendet werden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> Repository, in dem unter anderem zusammengestellt wird, was hier besprochen wird. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Sch√∂ner</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prettier</a> ist ein Code-Formatierungswerkzeug, das fest codierte Regeln zum Entwerfen von Programmen verwenden soll.  Der Code wird automatisch formatiert.  So sieht es aus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/731/385/f28/731385f28d65452936073391d84ba02d.gif"></div><br>  <i><font color="#999999">H√ºbscher formatiert den Code gem√§√ü den Regeln</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç St√§rken sch√∂ner</font> </h3><br>  Hier sind die Funktionen von Prettier, mit denen wir √ºber die N√ºtzlichkeit dieses Tools sprechen k√∂nnen: <br><br><ul><li> Aufr√§umen der vorhandenen Codebasis.  Mit Prettier k√∂nnen Sie dies buchst√§blich mit nur einem Befehl tun.  Die manuelle Verarbeitung gro√üer Codemengen nimmt viel mehr Zeit in Anspruch.  Stellen Sie sich zum Beispiel die Arbeit vor, die erforderlich ist, um 20.000 Codezeilen manuell zu formatieren. </li><li>  Sch√∂ner ist einfach zu implementieren.  H√ºbscher verwendet beim Formatieren von Code den ‚Äûdurchschnittlichen‚Äú, am wenigsten kontroversen Ansatz f√ºr den Stil.  Da das Projekt Open Source ist, haben viele dazu beigetragen, es verbessert und scharfe Ecken gegl√§ttet. </li><li>  Mit Prettier k√∂nnen Sie sich darauf konzentrieren, Code zu schreiben, nicht ihn zu formatieren.  Viele wissen einfach nicht, wie viel Zeit und M√ºhe f√ºr die Formatierung des Codes aufgewendet wird.  Mit Prettier k√∂nnen Sie nicht √ºber die Formatierung nachdenken, sondern stattdessen programmieren.  In meinem Fall beispielsweise stieg die Arbeitseffizienz dank Prettier um 10%. </li><li>  Sch√∂ner hilft Anf√§ngern.  Wenn Sie ein Anf√§ngerprogrammierer sind, der mit seri√∂sen Fachleuten im selben Team arbeitet, und vor ihrem Hintergrund w√ºrdig aussehen m√∂chten, hilft Ihnen Prettier dabei. </li></ul><br><h3>  <font color="#3AC1EF">‚ñçKonfigurieren h√ºbscher</font> </h3><br>  Hier erfahren Sie, wie Sie Prettier in einem neuen Projekt verwenden.  Erstellen Sie den <code>app</code> Ordner, und f√ºhren Sie den folgenden Befehl in der Befehlszeile aus: <br><br><pre> <code class="hljs swift">npm <span class="hljs-keyword"><span class="hljs-keyword">init</span></span> -y</code> </pre> <br>  Dank dieses Befehls initialisiert <code>npm</code> ein neues Projekt im <code>app</code> Ordner, indem die Datei <code>package.json</code> darin erstellt wird. <br><br>  Ich werde in diesem Material <code>yarn</code> , aber hier k√∂nnen Sie <code>npm</code> .  Sch√∂ner kann auch mit einem bestehenden Projekt verbunden werden. <br><br>  Installieren Sie das <code>prettier</code> Paket als Entwicklungsabh√§ngigkeit unseres Projekts: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev prettier</span></span></code> </pre> <br>  Dank dieses Befehls wird <code>package.json</code> hinzugef√ºgt, der <code>package.json</code> aussieht: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Wir werden etwas sp√§ter dar√ºber sprechen, was die <code>"prettier": "prettier ‚Äî write src/**/*.js"</code> Zeile bedeutet <code>"prettier": "prettier ‚Äî write src/**/*.js"</code> .  Erstellen Sie in der Zwischenzeit den Ordner <code>src</code> im <code>app</code> Ordner.  Erstellen Sie in diesem Ordner die Datei <code>index.js</code> , obwohl Sie sie beliebig benennen k√∂nnen. <br><br>  Wir werden dieser Datei den folgenden Code hinzuf√ºgen (in dieser unansehnlichen Form): <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> person =                     { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"Yoda"</span></span>,               <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'Jedi Master '</span></span>               };             <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">trainJedi</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">jediWarrion</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (jediWarrion.name === <span class="hljs-string"><span class="hljs-string">'Yoda'</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'No need! already trained'</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Training </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${jediWarrion.name}</span></span></span><span class="hljs-string"> complete`</span></span>)             } trainJedi(person)             trainJedi({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Adeel'</span></span>,             <span class="hljs-attr"><span class="hljs-attr">designation</span></span>: <span class="hljs-string"><span class="hljs-string">'padawan'</span></span> });</code> </pre> <br>  Im Moment haben wir also die <code>src/app/index.js</code> , die einen ziemlich schlecht gestalteten Code enth√§lt. <br><br>  Wie kann ich das beheben?  Es gibt drei Ans√§tze, um mit schlecht formatiertem Code zu arbeiten: <br><br><ol><li>  Formatieren Sie diesen Code manuell. </li><li>  Verwenden Sie ein automatisiertes Tool. </li><li>  Lass es wie es ist und arbeite daran (ich bitte dich, diesen Ansatz nicht zu w√§hlen). </li></ol><br>  Ich werde die zweite Option w√§hlen.  In unserem Projekt gibt es jetzt eine entsprechende Abh√§ngigkeit, und au√üerdem gibt es im <code>package.json</code> Datei <code>package.json</code> einen Datensatz √ºber Prettier.  Es ist klar, dass wir dieses Tool verwenden werden, um den Code zu formatieren.  Erstellen Sie dazu die Datei <code>prettier.config.js</code> im <code>app</code> Ordner und f√ºgen Sie dort die Regeln f√ºr Prettier hinzu: <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = { printWidth: <span class="hljs-number"><span class="hljs-number">100</span></span>, singleQuote: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, trailingComma: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, bracketSpacing: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, jsxBracketSameLine: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, tabWidth: <span class="hljs-number"><span class="hljs-number">2</span></span>, semi: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, };</code> </pre> <br>  Lassen Sie uns diese Regeln analysieren: <br><br><ul><li>  <code>printWidth: 100</code> - Die Zeilenl√§nge sollte 100 Zeichen nicht √ºberschreiten. </li><li>  <code>singleQuote: true</code> - Alle doppelten Anf√ºhrungszeichen werden in einfache Anf√ºhrungszeichen konvertiert.  Weitere Informationen finden Sie im Airbnb Style <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Guide</a> .  Ich mag diesen Leitfaden sehr, ich benutze ihn, um die Qualit√§t meines Codes zu verbessern. </li><li>  <code>trailingComma: 'all'</code> - Gibt ein Komma nach der letzten Eigenschaft des Objekts an.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> guter Artikel zu diesem Thema. </li><li>  <code>bracketSpacing: true</code> - ist f√ºr das Einf√ºgen von Leerzeichen zwischen dem <code>bracketSpacing: true</code> und geschweiften Klammern in Objektliteralen verantwortlich.  Wenn diese Eigenschaft auf <code>true</code> , sehen Objekte, die mit Objektliteralen deklariert wurden, folgenderma√üen aus: <code>{ foo: bar }</code> .  Wenn Sie den Wert auf <code>false</code> , sehen solche Konstruktionen folgenderma√üen aus: <code>{foo: bar}</code> . </li><li>  <code>jsxBracketSameLine: false</code> - Dank dieser Regel wird das Symbol <code>&gt;</code> in mehrzeiligen JSX-Elementen in der letzten Zeile platziert.  So sieht der Code aus, wenn diese Regel auf <code>true</code> : </li></ul><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag">&gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Folgendes passiert, wenn es auf <code>false</code> : <br><br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-class"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prettier-id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span><span class="hljs-tag"> &gt;</span></span> Click Here <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><ul><li>  <code>tabWidth: 2</code> - <code>tabWidth: 2</code> die Anzahl der Leerzeichen pro Ausrichtungsebene fest. </li><li>  <code>semi: true</code> - Wenn diese Regel auf <code>true</code> , wird am Ende der Ausdr√ºcke ein Semikolon hinzugef√ºgt. </li></ul><br>  Hier finden Sie alle sch√∂neren Regeln. <br><br>  Nachdem die Regeln konfiguriert sind, sprechen wir √ºber dieses Skript: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier  ‚Äî write src/**/*.js"</span></span></code> </pre> <br>  Dank dieses Designs startet Prettier alle <code>.js</code> Dateien und findet <code>.js</code> im <code>src</code> Ordner.  Das Flag <code>--write</code> weist ihn an, formatierte Dateien w√§hrend der Verarbeitung zu speichern und die darin enthaltenen Formatierungsfehler zu korrigieren. <br><br>  F√ºhren Sie das Skript √ºber die Befehlszeile aus: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">yarn</span></span> prettier</code> </pre> <br>  Dies geschah danach mit dem oben gezeigten schlecht formatierten Code. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90a/7d3/969/90a7d3969ed2861181de76d899aed951.gif"></div><br>  <i><font color="#999999">Ergebnis der Formatierung des Codes mit Prettier</font></i> <br><br>  In diesem Zusammenhang gehen wir davon aus, dass wir es mit Prettier herausgefunden haben.  Sprechen wir √ºber Linters. <br><br><h2>  <font color="#3AC1EF">ESLint</font> </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Flusen</a> ist eine Art statischer Code-Analyse, die h√§ufig verwendet wird, um problematische Entwurfsmuster oder Code zu finden, die bestimmten Stilrichtlinien nicht entsprechen. <br><br>  Es gibt Linters, die f√ºr die meisten Programmiersprachen entwickelt wurden. Manchmal schlie√üen Compiler das Flusen beim Kompilieren von Code ein.  Diese Definition von Flusen stammt aus der Open-Source-Informationsseite f√ºr das Open-Source-JavaScript JavaScript ESLint, √ºber das wir sprechen werden. <br><br><h3>  <font color="#3AC1EF">‚ñçWarum brauche ich einen Linter f√ºr JavaScript?</font> </h3><br>  Da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JavaScript</a> eine dynamische Programmiersprache mit schwacher Typisierung ist, ist der darin geschriebene Code anf√§llig f√ºr Fehler von Entwicklern.  JavaScript ist eine interpretierte Sprache, daher werden Syntax und andere Fehler im Code normalerweise erst erkannt, nachdem dieser Code ausgef√ºhrt wurde. <br><br>  Mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lintern</a> wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ESLint</a> k√∂nnen Entwickler Probleme im Code finden, ohne ihn zu starten. <br><br><h3>  <font color="#3AC1EF">‚ñçWarum ist ESLint ein Spezialwerkzeug?</font> </h3><br>  Eine gute Frage wurde in den Titel dieses Abschnitts gestellt.  Der Punkt hier ist, dass ESLint Plugins unterst√ºtzt.  Code√ºberpr√ºfungsregeln sollten daher kein monolithisches Paket sein.  Alles, was Sie brauchen, kann nach Bedarf angeschlossen werden.  Jede dem System hinzugef√ºgte Flusenregel ist autonom und kann unabh√§ngig von den anderen ein- oder ausgeschaltet werden.  Jeder Regel kann je nach Wunsch des Entwicklers eine Warnstufe zugewiesen werden - dies kann eine Warnung (Warnung) oder ein Fehler (Fehler) sein. <br><br>  Wenn Sie ESLint verwenden, arbeiten Sie mit einem vollst√§ndig anpassbaren System, das Ihr Verst√§ndnis dar√ºber widerspiegeln kann, wie der richtige Code aussehen sollte, und erfassen kann, welche Regeln Sie befolgen. <br><br>  Unter den vorhandenen JavaScript-Stilrichtlinien sind die folgenden sehr beliebt: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Google JavaScript Style Guide</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Airbnb JavaScript Style Guide</a> </li></ul><br>  Wie bereits erw√§hnt, verwende ich den Airbnb-Styleguide.  Dieses Dokument hat mich von meinem Manager in dem Unternehmen beraten, in dem meine berufliche Laufbahn begann, und ich betrachte diesen Styleguide als mein wertvollstes Kapital. <br><br>  Dieses Handbuch wird aktiv gepflegt - werfen Sie einen Blick auf das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> auf GitHub.  Hier werde ich eine Reihe von Regeln verwenden, die darauf basieren. <br><br>  Lassen Sie uns nun an der Datei <code>package.json</code> und einige Abh√§ngigkeiten hinzuf√ºgen: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Bevor ich √ºber die Arbeit mit dieser Konfiguration spreche, m√∂chte ich auf die Projektabh√§ngigkeiten <code>package.json</code> , die zu <code>package.json</code> hinzugef√ºgt <code>package.json</code> .  Ich glaube, bevor Sie einige Abh√§ngigkeiten verwenden, sollten Sie wissen, welche Rolle sie spielen. <br><br>  Daher werden wir die Rolle der hier vorgestellten Pakete diskutieren: <br><br><ul><li>  <code>babel-eslint</code> - Erm√∂glicht die Verwendung von Flusen, um auf alles anzuwenden, was <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Babel</a> gibt.  Sie ben√∂tigen dieses Plugin nicht, wenn Sie keine Flow- oder experimentellen Funktionen verwenden, die ESLint noch nicht unterst√ºtzt. </li><li>  <code>eslint</code> ist das Hauptwerkzeug zum <code>eslint</code> Code. </li><li>  <code>eslint-config-airbnb</code> - Stellt Airbnb-Regeln als Konfiguration <code>eslint-config-airbnb</code> , die ge√§ndert werden kann. </li><li>  <code>eslint-plugin-babel</code> ist ein ESLint-Plugin, das das <code>babel-eslint</code> .  Es wurden die Regeln neu gestaltet, die bei Verwendung von <code>babel-eslint</code> Probleme bei der Verarbeitung experimenteller Funktionen verursachen. </li><li>  <code>eslint-plugin-import</code> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dieses</a> Paket unterst√ºtzt die Verkn√ºpfung neuer <code>import/export</code> <code>eslint-plugin-import</code> und hilft, Probleme zu vermeiden, die mit der falschen Schreibweise von Dateipfaden und Namen importierter Module verbunden sind. </li><li>  <code>eslint-plugin-jsx-a11y</code> - enth√§lt Regeln zur Verf√ºgbarkeit von JSX-Elementen f√ºr Menschen mit Behinderungen.  Die Barrierefreiheit im Internet ist sehr wichtig. </li><li>  <code>eslint-plugin-prettier</code> prettier - Hilft ESLint und Prettier bei der Zusammenarbeit.  Es sieht so aus: Wenn Prettier den Code formatiert, werden die ESLint-Regeln ber√ºcksichtigt. </li><li>  <code>eslint-plugin-react</code> - enth√§lt ESLint-Regeln f√ºr React. </li></ul><br>  In diesem Artikel geht es nicht um <code>package.json</code> , aber in der obigen <code>package.json</code> gibt es Abh√§ngigkeiten, die f√ºr <code>package.json</code> mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jest / Enzyme entwickelt wurden</a> .  Wenn Sie sich nun dazu entschlie√üen, diese Tools zum Testen zu verwenden, eine Beschreibung der relevanten Pakete. <br><br><ul><li>  <code>eslint-config-jest-enzyme</code> - Dieses Paket wurde f√ºr F√§lle entwickelt, in denen Sie <code>jest-environment-enzyme</code> , was dazu f√ºhrt, dass die Variablen React und Enzyme global sind.  Dank dessen gibt ESLint keine Warnungen √ºber solche Variablen aus. </li><li>  <code>eslint-plugin-jest ‚Äî</code> ESlint-Plugin f√ºr Jest. </li></ul><br>  Die Datei enth√§lt noch einige weitere Pakete, die wir sp√§ter erl√§utern und die Automatisierungsprobleme behandeln.  Dies ist <code>husky</code> und <code>lint-staged</code> . <br><br>  Nachdem wir unsere Tools allgemein besprochen haben, werden wir weiterarbeiten. <br>  Erstellen Sie die Datei <code>.eslintrc.js</code> im <code>app</code> Ordner: <br><br><pre> <code class="hljs powershell">module.exports = {   env: {       es6: true,       browser: true,       node: true,   },   extends: [<span class="hljs-string"><span class="hljs-string">'airbnb'</span></span>, <span class="hljs-string"><span class="hljs-string">'plugin:jest/recommended'</span></span>, <span class="hljs-string"><span class="hljs-string">'jest-enzyme'</span></span>],   plugins: [       <span class="hljs-string"><span class="hljs-string">'babel'</span></span>,       <span class="hljs-string"><span class="hljs-string">'import'</span></span>,       <span class="hljs-string"><span class="hljs-string">'jsx-a11y'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react'</span></span>,       <span class="hljs-string"><span class="hljs-string">'prettier'</span></span>,   ],   parser: <span class="hljs-string"><span class="hljs-string">'babel-eslint'</span></span>,   parserOptions: {       ecmaVersion: <span class="hljs-number"><span class="hljs-number">6</span></span>,       sourceType: <span class="hljs-string"><span class="hljs-string">'module'</span></span>,       ecmaFeatures: {           jsx: true       }   },   rules: {       <span class="hljs-string"><span class="hljs-string">'linebreak-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //    Windows.       <span class="hljs-string"><span class="hljs-string">'arrow-parens'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'object-curly-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-mixed-operators'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'arrow-body-style'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">'function-paren-newline'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'no-plusplus'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'space-before-function-paren'</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, //   prettier       <span class="hljs-string"><span class="hljs-string">'max-len'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, { <span class="hljs-type"><span class="hljs-type">ignoreUrls</span></span>: <span class="hljs-type"><span class="hljs-type">true</span></span>, }], // airbnb           <span class="hljs-string"><span class="hljs-string">'no-console'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-alert'</span></span>: <span class="hljs-string"><span class="hljs-string">'error'</span></span>, // airbnb         <span class="hljs-string"><span class="hljs-string">'no-param-reassign'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //  -   ?       <span class="hljs-string"><span class="hljs-string">"radix"</span></span>: <span class="hljs-string"><span class="hljs-string">"off"</span></span>, // parseInt, parseFloat  radix .    .       <span class="hljs-string"><span class="hljs-string">'react/require-default-props'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/forbid-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, // airbnb           <span class="hljs-string"><span class="hljs-string">'react/jsx-filename-extension'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>, { <span class="hljs-type"><span class="hljs-type">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }], // airbnb  .jsx       <span class="hljs-string"><span class="hljs-string">'prefer-destructuring'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-find-dom-node'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //           <span class="hljs-string"><span class="hljs-string">'react/no-did-mount-set-state'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">'react/no-unused-prop-types'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>, //            <span class="hljs-string"><span class="hljs-string">'react/jsx-one-expression-per-line'</span></span>: <span class="hljs-string"><span class="hljs-string">'off'</span></span>,       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/anchor-is-valid"</span></span>: [<span class="hljs-string"><span class="hljs-string">"error"</span></span>, { <span class="hljs-string"><span class="hljs-string">"components"</span></span>: [<span class="hljs-string"><span class="hljs-string">"Link"</span></span>], <span class="hljs-string"><span class="hljs-string">"specialLink"</span></span>: [<span class="hljs-string"><span class="hljs-string">"to"</span></span>] }],       <span class="hljs-string"><span class="hljs-string">"jsx-a11y/label-has-for"</span></span>: [<span class="hljs-number"><span class="hljs-number">2</span></span>, {           <span class="hljs-string"><span class="hljs-string">"required"</span></span>: {               <span class="hljs-string"><span class="hljs-string">"every"</span></span>: [<span class="hljs-string"><span class="hljs-string">"id"</span></span>]           }       }], //     htmlFor  label       <span class="hljs-string"><span class="hljs-string">'prettier/prettier'</span></span>: [<span class="hljs-string"><span class="hljs-string">'error'</span></span>],   }, };</code> </pre> <br>  <code>.eslintignore</code> nun die <code>.eslintignore</code> Datei zum <code>app</code> Ordner hinzu: <br><br><pre> <code class="hljs coffeescript"><span class="hljs-regexp"><span class="hljs-regexp">/.git /</span></span>.vscode node_modules</code> </pre> <br>  Lassen Sie uns nun dar√ºber sprechen, wie die Datei <code>.eslintrc.js</code> ist und welche Bedeutung die darin dargestellten Konstruktionen haben. <br><br>  Diese Datei hat folgende Struktur: <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = {  env:{},  extends: {},  plugin: {},  parser: {},  parserOptions: {},  rules: {}, };</code> </pre> <br>  Betrachten Sie die Bl√∂cke dieser Datei, die durch Objekte mit den entsprechenden Namen dargestellt werden: <br><br><ul><li>  <code>env</code> - Mit dieser <code>env</code> k√∂nnen Sie eine Liste von Umgebungen angeben, f√ºr die Sie den Code √ºberpr√ºfen m√∂chten.  In unserem Fall <code>node</code> Eigenschaften <code>es6</code> , <code>browser</code> und <code>node</code> auf <code>true</code> .  Der Parameter <code>es6</code> enth√§lt ES6-Funktionen mit Ausnahme von Modulen (diese Funktion setzt im Parameter <code>ecmaVersion</code> Parameter <code>ecmaVersion</code> automatisch auf <code>6</code> ).  Der <code>browser</code> Parameter <code>browser</code> globale Browservariablen wie <code>Windows</code> .  Der Parameter <code>node</code> f√ºgt globale Node.js-Umgebungsvariablen und -bereiche hinzu, z. B. <code>global</code> .  Details zu den Umgebungen finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </li><li>  <code>extends</code> - ist ein Array von Zeilen mit Konfigurationen, wobei jede zus√§tzliche Konfiguration die vorherige erweitert.  Hier werden Airbnb- <code>airbnb</code> verwendet, die zu <code>jest</code> und dann zu <code>jest-enzyme</code> erweitert werden. </li><li>  <code>plugins</code> - hier sind die Flusenregeln, die wir verwenden m√∂chten.  Wir wenden die Regeln <code>babel</code> , <code>import</code> , <code>jsx-a11y</code> , <code>react</code> , <code>prettier</code> , √ºber die wir bereits gesprochen haben. </li><li>  <code>parser</code> - ESLint verwendet standardm√§√üig den Espree- <code>parser</code> Da wir jedoch mit Babel arbeiten, m√ºssen wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Babel-ESLint verwenden</a> . </li><li>  <code>parserOptions</code> - Da wir den Standardparser in <code>babel-eslint</code> , m√ºssen wir auch die Eigenschaften in diesem Block festlegen.  Die auf <code>6</code> <code>ecmaVersion</code> Eigenschaft <code>ecmaVersion</code> zeigt ESLint an, dass der ES6-Code √ºberpr√ºft wird.  Da wir Code in <code>EcmaScript</code> Modulen schreiben, wird die Eigenschaft <code>sourceType</code> auf <code>module</code> .  Und schlie√ülich wird, da wir React verwenden, <code>jsx</code> JSX verwenden, ein Objekt mit dem auf <code>jsx</code> gesetzten <code>jsx</code> Schl√ºssel in die Eigenschaft <code>ecmaFeatures</code> . </li><li>  <code>rules</code> - Ich mag diesen Teil der <code>.eslintrc.js</code> Datei am meisten, da Sie damit ESLint-Regeln konfigurieren k√∂nnen.  Alle Regeln, die wir mithilfe von Plugins erweitert oder hinzugef√ºgt haben, k√∂nnen ge√§ndert oder neu definiert werden. Dies erfolgt im Regelblock.  Der Text der Datei enth√§lt Kommentare zu den Regeln. </li></ul><br>  Lassen Sie uns nun √ºber die <code>.eslintignore</code> Datei sprechen.  Diese Datei akzeptiert eine Liste von Pfaden, die Ordner darstellen, deren Inhalt nicht mit ESLint verarbeitet werden soll. <br><br>  Hier werden drei Ordner definiert: <br><br><ul><li>  <code>/.git</code> - Ich ben√∂tige ESLint nicht, um Dateien zu √ºberpr√ºfen, die sich auf Git beziehen. </li><li>  <code>/.vscode</code> - Das Projekt hat diesen Ordner, da ich VS-Code verwende.  Hier speichert der Editor Konfigurationsinformationen, die f√ºr jedes Projekt festgelegt werden k√∂nnen.  Diese Daten sollten auch nicht vom Linter verarbeitet werden. </li><li>  <code>node-modules</code> - Abh√§ngigkeitsdateien m√ºssen auch nicht mit einem Linter √ºberpr√ºft werden. </li></ul><br>  Schauen wir uns nun einige neue Skripte an, die in <code>package.json</code> erschienen <code>package.json</code> .  Hier sind sie: <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span> <span class="hljs-string"><span class="hljs-string">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span></code> </pre> <br>  Wenn Sie die erste davon mit dem Befehl <code>yarn lint</code> oder <code>npm run lint</code> der Linter alle Dateien im Verzeichnis <code>src</code> und zeigt einen detaillierten Bericht √ºber die Dateien an, in denen Fehler gefunden wurden.  Mit diesem Bericht k√∂nnen Sie diese Fehler korrigieren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/568/b35/9a5568b35f1d443687849ba93badea49.gif"></div><br>  <i><font color="#999999">Fusselskript ausf√ºhren</font></i> <br><br>  Wenn Sie das zweite Skript ausf√ºhren (Garnfussel <code>yarn lint:write</code> ), f√ºhrt ESLint dieselbe √úberpr√ºfung durch, die zuvor durchgef√ºhrt wurde.  Der einzige Unterschied besteht darin, dass das System in diesem Modus versucht, die erkannten Fehler zu beheben und den Code in die bestm√∂gliche Form zu bringen. <br><br><h2>  <font color="#3AC1EF">ESLint-Erweiterung f√ºr VS-Code</font> </h2><br>  Wir haben bereits Prettier und ESLint konfiguriert, aber um die Funktionen dieser Tools nutzen zu k√∂nnen, m√ºssen wir Skripte ausf√ºhren.  Dies ist nicht sehr praktisch, versuchen Sie es also zu beheben.  Wir m√∂chten n√§mlich sicherstellen, dass das Formatieren und Flusen des Codes durch den Befehl zum Speichern der Datei im Editor ausgef√ºhrt wird.  Dar√ºber hinaus m√∂chten wir den Code vor dem Festschreiben fusseln und formatieren. <br><br>  Wir verwenden als Beispiel den VS-Code-Editor.  Wir ben√∂tigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die ESLint-Erweiterung</a> f√ºr VS Code.  Um es zu installieren, k√∂nnen Sie das VS Code-Erweiterungsfenster √∂ffnen ( <code>ctrl+shift+x</code> ).  <code>eslint</code> hier im Suchfeld <code>eslint</code> .  Eine Liste der Erweiterungen wird angezeigt.  Was uns interessiert, ist derjenige, dessen Entwicklerinformationen Dirk Baeumer sind.  Starten Sie nach der Installation dieser Erweiterung den Editor neu. <br><br>  Erstellen <code>.vscode</code> nun im Stammordner des Projekts ( <code>app</code> ) den Ordner <code>.vscode</code> (achten Sie auf den Punkt am Anfang des Namens - dies ist wichtig).  Erstellen Sie in diesem Ordner eine Datei <code>settings.json</code> mit den folgenden Inhalten: <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"editor.formatOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint.autoFixOnSave"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre> <br>  Betrachten Sie den Inhalt. <br><br><ul><li>  Die auf <code>false</code> <code>editor.formatOnSave</code> Eigenschaft <code>editor.formatOnSave</code> gibt an, dass f√ºr die Dateiformatierung keine Standardkonfiguration erforderlich ist, da dies zu einem Konflikt mit ESLint und Prettier f√ºhren kann. </li><li>  Die Eigenschaft <code>eslint.autoFixOnSave</code> auf <code>true</code> , da das installierte Plug-in jedes Mal <code>eslint.autoFixOnSave</code> muss, wenn eine Datei gespeichert wird.  Da ESLint und Prettier in einem Projekt zusammenarbeiten, f√ºhrt das Speichern der Datei sowohl zu Formatierung als auch zu Code-Flusen. </li></ul><br>  Es ist wichtig zu beachten, dass jetzt, wenn das Skript <code>lint:write</code> ausgef√ºhrt wird, sowohl Flusen als auch Code formatiert werden. <br><br>  Stellen Sie sich Ihre Gef√ºhle vor, wenn Sie einen Projektcode von 20.000 Zeilen erhalten, den Sie √ºberpr√ºfen und verbessern m√ºssten.  Stellen Sie sich nun vor, Sie m√ºssten dies manuell tun.  Eine solche Arbeit w√ºrde wahrscheinlich einen Monat dauern.  Mit Hilfe der oben genannten Automatisierungstools ist dies alles in etwa 30 Sekunden erledigt. <br><br>  Nachdem Sie nun alles eingerichtet haben, was Sie ben√∂tigen, k√ºmmert sich der Editor jedes Mal, wenn Sie die Datei mit dem Code speichern, um die √úberpr√ºfung und Formatierung des Programmtextes.  Hier geht es jedoch um den VS-Code-Editor.  Es ist m√∂glich, dass jemand in Ihrem Team einen anderen Editor bevorzugt.  Daran ist nichts auszusetzen, aber damit jeder bequem arbeiten kann, m√ºssen wir etwas anderes ausarbeiten, um es zu automatisieren. <br><br><h2>  <font color="#3AC1EF">Husky</font> </h2><br>  Mit dem Husky-Paket k√∂nnen Sie Git-Hooks verwenden.  Dies bedeutet, dass Sie die M√∂glichkeit haben, bestimmte Aktionen auszuf√ºhren, bevor Sie den Repository-Code festschreiben oder senden. <br><br>  Um die Funktionen von Husky nutzen zu k√∂nnen, installieren Sie zun√§chst dieses Paket: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev husky</span></span></code> </pre> <br>  <code>package.json</code> Folgendes zu <code>package.json</code> : <br><br><pre> <code class="hljs objectivec"><span class="hljs-string"><span class="hljs-string">"husky"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"hooks"</span></span>: {         <span class="hljs-string"><span class="hljs-string">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>,    <span class="hljs-string"><span class="hljs-string">"pre-push"</span></span>: <span class="hljs-string"><span class="hljs-string">"YOUR_COMMAND_HERE"</span></span>    } },</code> </pre> <br>  Dies f√ºhrt dazu, dass vor dem Ausf√ºhren des <code>commit</code> oder <code>push</code> Befehls ein bestimmtes Skript aufgerufen wird, das beispielsweise Codetests oder Formatierungen durchf√ºhrt. <br><br>  Details zu Husky finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  <font color="#3AC1EF">Fussel inszeniert</font> </h2><br>  Mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lint-Staged-</a> Paket k√∂nnen Sie indizierte Dateien mit dem Linter √ºberpr√ºfen, um zu verhindern, dass Fehler an das Repository gesendet werden. <br><br>  Flusen ist sinnvoll, bevor Code festgeschrieben wird.  Auf diese Weise k√∂nnen Sie sicherstellen, dass Fehler nicht in das Repository eindringen, und den dort ankommenden Code einheitlich gestalten.  Das Flusen zur √úberpr√ºfung des gesamten Projekts kann jedoch eine zu lange Aufgabe sein, und die Ergebnisse einer solchen √úberpr√ºfung k√∂nnen bedeutungslos sein.  Letztendlich muss beim Flusen m√∂glicherweise Dateien verf√ºgbar gemacht werden, die Sie festschreiben m√∂chten. <br><br>  Mit Lint-Staged k√∂nnen Sie eine Reihe beliebiger Aufgaben f√ºr indizierte Dateien ausf√ºhren, die nach einem Suchmuster gefiltert werden.  Details dazu finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br>  Installieren Sie das Lint-Paket: <br><br><pre> <code class="hljs pgsql">yarn <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-comment"><span class="hljs-comment">--dev lint-staged</span></span></code> </pre> <br>  <code>package.json</code> dann in der Datei <code>package.json</code> Folgendes hinzu: <br><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>: {     <span class="hljs-string"><span class="hljs-string">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] },</code> </pre> <br>  Dank dieser Konstruktion wird zuerst der Befehl <code>lint:write</code> ausgef√ºhrt, der den Inhalt der Datei √ºberpr√ºft und Fehler behebt. Anschlie√üend werden die Dateien mit dem Befehl <code>git add</code> zum Index hinzugef√ºgt.  Dieser Befehl richtet sich <code>.js</code> an <code>.js</code> und <code>.jsx</code> Dateien, aber das Gleiche kann mit Dateien anderer Typen durchgef√ºhrt werden. <br><br><h2>  <font color="#3AC1EF">Husky- und Lint-inszeniertes Teilen</font> </h2><br>  Stellen Sie sich ein Aktionsdiagramm vor, mit dem Sie den n√§chsten Workflow organisieren k√∂nnen.  Jedes Mal, wenn Sie Dateien mit Code festschreiben, f√ºhrt das System vor dem Ausf√ºhren dieses Vorgangs das <code>lint-staged</code> Skript aus, das wiederum das <code>lint:write</code> ausf√ºhrt, das das Flusen und Formatieren des Codes ausf√ºhrt.  Danach werden die Dateien zum Index hinzugef√ºgt und anschlie√üend festgeschrieben.  Es scheint mir, dass es sehr bequem ist.  Tats√§chlich ist dies im zuvor pr√§sentierten Code der Datei <code>package.json</code> bereits implementiert. Wir haben zuvor nur nicht dar√ºber gesprochen. <br><br>  Hier ist noch einmal der Inhalt unserer <code>package.json</code> : <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-boiler-plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"A react boiler plate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">"Adeel Imran"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint:write"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --debug src/ --fix"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --write src/**/*.js"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: {     <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"lint-staged"</span></span>   } }, <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"*.(js|jsx)"</span></span>: [<span class="hljs-string"><span class="hljs-string">"npm run lint:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"git add"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^8.2.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.19.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-airbnb"</span></span>: <span class="hljs-string"><span class="hljs-string">"^17.0.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-config-jest-enzyme"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-babel"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.1.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.12.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^21.18.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-jsx-a11y"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.0.3"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.6.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.9.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.1.2"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"lint-staged"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.3.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.14.3"</span></span> } }</code> </pre> <br>  Nachdem Sie nun wissen, wie Husky und Lint inszeniert werden, k√∂nnen Sie deren Auswirkungen auf die Arbeit mit Git bewerten.  Angenommen, die folgenden Befehle wurden ausgef√ºhrt: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$</span></span> git add . <span class="hljs-variable"><span class="hljs-variable">$</span></span> git commit <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-string"><span class="hljs-string">"some descriptive message here"</span></span></code> </pre> <br>  Es ist klar, dass der Code vor dem <code>.eslintrc.js</code> auf √úbereinstimmung mit den in <code>.eslintrc.js</code> angegebenen Regeln <code>.eslintrc.js</code> und gegebenenfalls behoben wird.  Dank dessen gelangen Fehler niemals in das Repository eines Arbeitsprojekts. <br><br>  Jetzt wissen Sie, wie Sie Prettier, ESLint, Husky und Lint-inszeniert in Ihr Projekt integrieren k√∂nnen. <br><br>  Ich m√∂chte Sie daran erinnern, dass wir oben gesagt haben, dass nicht alle Mitglieder Ihres Teams meinen bevorzugten VS-Code verwenden.  Damit sie alle bequem funktionieren, m√ºssen wir uns mit der <code>.editorconfig</code> Datei befassen. <br><br><h2>  <font color="#3AC1EF">.Editorconfig-Datei</font> </h2><br>  Verschiedene Mitglieder Ihres Teams verwenden m√∂glicherweise unterschiedliche Editoren.  Sie werden gezwungen, einen beliebigen Editor f√ºr irgendetwas zu verwenden.  Damit jedoch alle dieselben Einstellungen verwenden k√∂nnen, z. B. Einr√ºckungen oder Zeilenvorsch√ºbe, verwenden wir die Datei.  <code>editorconfig</code> .         . <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>    ,    .  ,  ,  WebStorm, AppCode, Atom, Eclipse, Emacs, BBEdit  . <br><br>    <code>app</code>    <code>.editorconfig</code>      : <br><br><pre> <code class="hljs pgsql"># EditorConfig -  : http://EditorConfig.org #  EditorConfig   root = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> [*.md] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> [*.js] trim_trailing_whitespace = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> #     Unix       [*] indent_style = space indent_size = <span class="hljs-number"><span class="hljs-number">2</span></span> end_of_line = lf charset = utf<span class="hljs-number"><span class="hljs-number">-8</span></span> insert_final_newline = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> max_line_length = <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre> <br>  ,    : <br><br><ul><li> <code>trim_trailing_whitespace = false</code> ‚Äî       <code>.md</code> -  .    <code>.js</code> -   <code>false</code> . </li><li> <code>indent_style = space</code> ‚Äî       . </li><li> <code>indent_size = 2</code> ‚Äî     . </li><li> <code>end_of_line = lf</code> ‚Äî     <code>lf</code> .   ,      ,        .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> . </li><li> <code>insert_final_newline = true</code> ‚Äî       . </li><li> <code>max_line_length = 100</code> ‚Äî      100 . </li></ul><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br> ,   ,     ,         . ,  ,            . <br><br>  <b>Liebe Leser!</b>         ?    ? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428173/">https://habr.com/ru/post/de428173/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428159/index.html">Tableau aus der Teekanne oder Visualisierung der Analyse von PAMM-Konten</a></li>
<li><a href="../de428161/index.html">Reformen zur Subventionierung fossiler Brennstoffe, die durch harte Arbeit erreicht wurden, sind gef√§hrdet</a></li>
<li><a href="../de428165/index.html">Linux-Kernel-Podcast mit Open Source Summit Europe 2018</a></li>
<li><a href="../de428167/index.html">Die erste Roboterfabrik in Russland und was hat die Wurst damit zu tun?</a></li>
<li><a href="../de428169/index.html">DJI k√ºndigt Mavic 2 Enterprise an - ein leistungsstarkes Tool f√ºr Profis</a></li>
<li><a href="../de428175/index.html">Schlaue Pr√§fixbaum-C-Implementierung</a></li>
<li><a href="../de428177/index.html">Was ist also falsch an der Arbeitssuche / den Arbeitnehmern in der IT?</a></li>
<li><a href="../de428179/index.html">Bei einer japanischen Auktion wurde ein Prototyp eines Wii-Controllers f√ºr den GameCube entwickelt</a></li>
<li><a href="../de428181/index.html">Moralische Maschine: gnadenlos oder bedeutungslos?</a></li>
<li><a href="../de428183/index.html">Implementierung des Levenberg-Marquardt-Algorithmus zur Optimierung neuronaler Netze auf TensorFlow</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>