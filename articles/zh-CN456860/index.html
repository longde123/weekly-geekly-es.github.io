<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¸ğŸ¾ ğŸ™ğŸ½ ğŸ‘³ğŸ¿ è‡³å°Šç½‘ç»œæ´å¯Ÿäº¤æ¢æœº è¿˜æ˜¯ä¸ºä»€ä¹ˆåœ¨äº¤æ¢æœºä¸Šè™šæ‹Ÿæœº âœ´ï¸ ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ‘©ğŸ»â€ğŸ”§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Extreme Networks SLXï¼ŒVSPå’ŒEXOSäº¤æ¢æœºç³»åˆ—åŒ…æ‹¬å…·æœ‰ç‰¹æ®Šç¡¬ä»¶æ¶æ„çš„å‹å·ï¼Œç»Ÿç§°ä¸ºâ€œ Insightâ€ã€‚ ä¸æ ‡å‡†ç‰ˆæœ¬ä¸åŒï¼Œå½“ä»…é€šè¿‡PCIeæ€»çº¿è¿æ¥äº¤æ¢æœºçš„Contolå’ŒData Planeï¼ˆå…·æœ‰æ‰€æœ‰ç”±æ­¤äº§ç”Ÿçš„å¸¦å®½é™åˆ¶ï¼‰æ—¶ï¼Œâ€œ Insightâ€äº¤æ¢æœºå°†å¤šä¸ªData Planeæ¥å£ç›´...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è‡³å°Šç½‘ç»œæ´å¯Ÿäº¤æ¢æœº è¿˜æ˜¯ä¸ºä»€ä¹ˆåœ¨äº¤æ¢æœºä¸Šè™šæ‹Ÿæœº</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/extremenetworks/blog/456860/">  Extreme Networks SLXï¼ŒVSPå’ŒEXOSäº¤æ¢æœºç³»åˆ—åŒ…æ‹¬å…·æœ‰ç‰¹æ®Šç¡¬ä»¶æ¶æ„çš„å‹å·ï¼Œç»Ÿç§°ä¸ºâ€œ Insightâ€ã€‚ ä¸æ ‡å‡†ç‰ˆæœ¬ä¸åŒï¼Œå½“ä»…é€šè¿‡PCIeæ€»çº¿è¿æ¥äº¤æ¢æœºçš„Contolå’ŒData Planeï¼ˆå…·æœ‰æ‰€æœ‰ç”±æ­¤äº§ç”Ÿçš„å¸¦å®½é™åˆ¶ï¼‰æ—¶ï¼Œâ€œ Insightâ€äº¤æ¢æœºå°†å¤šä¸ªData Planeæ¥å£ç›´æ¥è¿æ¥åˆ°éƒ¨ç½²åœ¨Control Planeä¸Šçš„è™šæ‹Ÿæœºã€‚ è€ƒè™‘ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ä»¥åŠåˆ©ç”¨äº†å“ªäº›èµ„æºï¼š <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/fw/m_/hvfwm_k30novt0smnk42dyetzqa.jpeg"></div><br><a name="habracut"></a><br>  â€œ Insightâ€æ¥å£é€šå¸¸æ˜¯å‡ ä¸ªä¸“ç”¨çš„10GEé“¾æ¥ï¼Œè¿™äº›é“¾æ¥ä»ASICé€šè¿‡å¤šè·¯å¤ç”¨å™¨è¿æ¥åˆ°æ§åˆ¶å¹³é¢ã€‚ åœ¨é‚£é‡Œï¼Œå®ƒä»¬ä½œä¸ºéš”ç¦»çš„Ubuntu Linux 16.04è™šæ‹Ÿæœºï¼ˆç®€ç§°ä¸ºTPVMï¼‰ï¼ˆç¬¬ä¸‰æ–¹è™šæ‹Ÿæœºï¼‰çš„ä»¥å¤ªç½‘æ¥å£å®‰è£…ã€‚ è¿™ç§ç‰©ç†éš”ç¦»ä½¿æ‚¨èƒ½å¤Ÿä»¥æœ€å°çš„å»¶è¿Ÿä¼ è¾“å¤§é‡æµé‡ï¼Œè€Œä¸ä¼šå¯¼è‡´æ§åˆ¶å¹³é¢æˆ–æ•°æ®å¹³é¢çš„æ€§èƒ½ä¸‹é™ã€‚ è™šæ‹ŸåŒ–æœ¬èº«æ˜¯åŸºäºKVMæ„å»ºçš„ã€‚ åœ¨ä¸€èµ·ï¼Œè¿™ä½¿å¾—å¯ä»¥ç›´æ¥åœ¨è®¾å¤‡ä¸Šè¿è¡Œtcpdumpï¼Œp0fï¼Œsnortï¼Œåˆ†å¸ƒå¼DPIæˆ–åˆ†æä¹‹ç±»çš„å·¥å…·å’ŒæœåŠ¡ï¼Œä»¥åŠè®¸å¤šå…¶ä»–æœåŠ¡ï¼Œè€Œæ— éœ€éƒ¨ç½²å…¶ä»–ç½‘ç»œåŸºç¡€ç»“æ„ã€‚ ä¸ºäº†åŠ å¿«TVPMæœ¬èº«çš„éƒ¨ç½²ï¼Œè¯¥æ˜ åƒå·²é¢„å…ˆå®‰è£…äº†è®¸å¤šå¿…è¦çš„è½¯ä»¶åŒ…ï¼š <br><br><ul><li> å¿…è¦çš„ </li><li> æ£€æŸ¥å®‰è£… </li><li> ä¼Šç€å°”å¤« </li><li> å·¥å…· </li><li>  netperf </li><li> å®¢å®¢ä»£ç† </li><li> æ‰å…‹ </li><li> ç“¦å°”æ ¼æœ—å¾· </li><li> è™šæ‹Ÿä¾å„’ </li><li>  Wireshark </li><li>  xterm </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/tv/gh/r_tvghlnu_iz4grq0j7aoyddgeg.jpeg" width="480" height="640"></div><br><br> åœ¨â€œ Insightâ€äº¤æ¢æœºä¸Šï¼Œå®‰è£…äº†Intel XEON x86 CPUï¼Œå¢åŠ çš„RAMå’ŒSSDé©±åŠ¨å™¨ï¼Œåœ¨éƒ¨ç½²å¤šä¸ªVMçš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åˆ†é…èµ„æºã€‚ èµ„æºæœ¬èº«æ˜¯ä¸“ç”¨å’Œéš”ç¦»çš„ï¼Œä»¥å…ç ´åäº¤æ¢æœºæœ¬èº«çš„æ“ä½œç³»ç»Ÿã€‚ <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nb/xy/-1/nbxy-1_uzzie2ct4psuyql0mrys.jpeg" width="480" height="360"></div><br> è¦å°†TPVMç”¨äºé¢„æœŸç›®çš„ï¼Œåªéœ€æ‰§è¡Œå››ä¸ªæ­¥éª¤ï¼š <br><br><ol><li> ä¸‹è½½å¹¶å®‰è£…TVPM </li><li> é…ç½®Insightç•Œé¢ </li><li> å‘è¿™äº›æ¥å£æ·»åŠ ACLæˆ–æµé‡é•œåƒ </li><li> å¯åŠ¨TPVMåº”ç”¨ç¨‹åº </li></ol><br> ä¸‹é¢å®é™…ä¸Šæ˜¯ä¸€ä¸ªå°ä¾‹å­ï¼Œè¯´æ˜äº†å®ƒä»¬å¦‚ä½•å±•å¼€å’Œå·¥ä½œã€‚ é€šè¿‡scp2ä¸‹è½½TPVMæ˜ åƒåï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…VMï¼š <br><br><pre><code class="plaintext hljs">slx# show tpvm status TPVM is not installed slx# tpvm install Installation starts. To check the status use 'show tpvm status' command slx# show tpvm status TPVM is being installed now</code> </pre> <br>  TPVMå·²å¯åŠ¨åï¼Œæœ‰å‡ ç§è®¿é—®æ–¹å¼ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒVMå°†å°è¯•é€šè¿‡DCHPè·å–åœ°å€ï¼Œæˆ–è€…å¯ä»¥åˆ†é…ä¸€ä¸ªæœ¬åœ°é“¾æ¥çš„IPv6åœ°å€ï¼Œä¹‹åä¾¿å¯ä»¥è¿›è¡ŒSSHè®¿é—®ã€‚ è¿˜æœ‰ä¸€ä¸ªé€šè¿‡TTYä¸TPVMçš„æ§åˆ¶å°è¿æ¥ã€‚ <br><br><pre> <code class="plaintext hljs">slx# show tpvm ip-address IPv4: eth0 192.168.2.249 docker0 172.17.0.1 IPv6:2a02:0000:c000:0:da80:00ff:f00b:8800 eth0: fe80::da80:00ff:f00b:8800 slx# ssh 192.168.2.249 -l admin vrf mgmt-vrf admin@192.168.2.249's password: Welcome to Ubuntu 16.04.4 LTS (GNU/Linux 4.4.0â€“128-generic x86_64) Last login: Tue Apr 2 12:12:46 2019 admin@TPVM:~$ sudo -s [sudo] password for admin: root@TPVM:~# id uid=0(root) gid=0(root) groups=0(root)</code> </pre> <br>  eth0æ¥å£æ˜¯æˆ‘ä»¬çš„ç®¡ç†ï¼Œè€Œeth1æ˜¯æˆ‘ä»¬éœ€è¦é…ç½®çš„â€œ Insightâ€ã€‚ <br><br><pre> <code class="plaintext hljs">root@TPVM:~# ip -4 link 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether d8:00:00:00:00:04 brd ff:ff:ff:ff:ff:ff 3: eth1: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000 link/ether d8:00:00:00:00:02 brd ff:ff:ff:ff:ff:ff 4: docker0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default link/ether 02:42:28:2d:60:b9 brd ff:ff:ff:ff:ff:ff</code> </pre> <br> ä¸å †å æŠ€æœ¯ç±»ä¼¼ï¼Œäº¤æ¢æœºå‰é¢æ¿ä¸Šçš„æœ€åä¸€ä¸ªç«¯å£å…·æœ‰åŒé‡ç”¨é€”ï¼Œæˆ‘ä»¬éœ€è¦å°†å®ƒä»¬ä¼ è¾“åˆ°Insightæ¨¡å¼ï¼Œæ­¤åæš‚æ—¶æ— æ³•é€šè¿‡å®ƒä»¬è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚ <br><br><pre> <code class="plaintext hljs">slx# conf t slx(config)# hardware slx(config-hardware)#connector 0/48 slx(config-connector-0/48)# no breakout slx(config-connector-0/48)# insight mode</code> </pre> <br> ç³»ç»Ÿå°†åˆ›å»ºä¸€ä¸ªæ¥å£0/125ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒ <br><br><pre> <code class="plaintext hljs">slx(config)# interface Port-channel 22 slx(config-Port-channel-22)# insight enable slx(config-Port-channel-22)# no shutdown slx(config)# interface Ethernet 0/125 slx(conf-if-eth-0/125)# channel-group 22 mode on type standard slx(conf-if-eth-0/125)# no shutdown</code> </pre><br> æ£€æŸ¥äº¤æ¢æœºä¸Šçš„æ¥å£ï¼š <br><br><pre> <code class="plaintext hljs">slx(conf-if-eth-0/125)# do show interface ethernet 0/125 Ethernet 0/125 is up, line protocol is up (connected) slx(conf-if-eth-0/125)# do show interface port-channel 22 Port-channel 22 is up, line protocol is up</code> </pre> <br> åœ¨TPVMä¸Š <br><br><pre> <code class="plaintext hljs">root@TPVM:~#dmesg [ 2172.748418] ixgbe 0000:00:09.0 eth1: NIC Link is Up 10 Gbps [ 2172.748508] IPv6: eth1: link becomes ready</code> </pre> <br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨Insightä¸ŠæŒ‚èµ·ACLï¼Œé…ç½®VLANï¼ˆæˆ–å¤šä¸ªVLANï¼‰å¹¶æ£€æŸ¥æµé‡ã€‚ <br><br><pre> <code class="plaintext hljs">root@TPVM:~# tcpdump -i eth1 -n -v tcpdump: listening on eth1, link-type EN10MB (Ethernet), capture size 262144 bytes 02:38:38.107923 IP6 fe80::8802 &gt; ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28 02:38:39.059939 IP6 fe80::8802 &gt; ff02::16: HBH ICMP6, multicast listener report v2, 1 group record(s), length 28 02:38:39.119922 LLDP, length 111: slx 02:38:40.120076 LLDP, length 111: slx</code> </pre> <br> è¿›ä¸€æ­¥çš„ä½¿ç”¨ä»…å—å®¢æˆ·çš„è¦æ±‚æˆ–æƒ³è±¡åŠ›çš„é™åˆ¶ã€‚ è‡³å°Šç½‘ç»œå·¥ç¨‹å¸ˆï¼Œåˆä½œä¼™ä¼´å’Œå®¢æˆ·å·²ç»æµ‹è¯•äº†è®¸å¤šä¸åŒçš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚ï¼š <br><br><ul><li>  VNCæœåŠ¡å™¨ </li><li>  DHCPæœåŠ¡å™¨ </li><li>  AAAæœåŠ¡å™¨ï¼ˆRadiuså’ŒTACACSï¼‰ </li><li>  DNSæœåŠ¡å™¨ </li><li>  Ostinato-Ostinatoæ•°æ®åŒ…ç”Ÿæˆå™¨ï¼Œç½‘ç»œæµé‡ç”Ÿæˆå™¨å’Œå¸¦æœ‰GUIçš„åˆ†æå™¨ã€‚ </li><li>  SNMPé™·é˜±æ¥æ”¶å™¨ </li><li>  Surricata-å®æ—¶å…¥ä¾µæ£€æµ‹ï¼ˆIDSï¼‰ï¼Œå†…è”å…¥ä¾µé˜²å¾¡ï¼ˆIPSï¼‰ï¼Œç½‘ç»œå®‰å…¨ç›‘è§†ï¼ˆNSMï¼‰å’Œè„±æœºPCAPå¤„ç†ã€‚ </li><li>  SyslogæœåŠ¡å™¨ </li><li>  Google-chromeå’ŒcURL </li><li>  Arpsponge </li><li>  Perfsonar </li><li>  up </li><li>  Logstash </li><li>  Dockerå®¹å™¨ï¼ˆæ”¯æŒçš„ç‰ˆæœ¬ï¼šdocker-1.13.0ï¼‰ </li></ul><br> å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»æˆ‘ä»¬å½“åœ°çš„<a href="">æé™ç½‘ç»œ</a>ä»£è¡¨<a href="">ã€‚</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN456860/">https://habr.com/ru/post/zh-CN456860/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN456850/index.html">â€œå¹¼çŠ¬çš„çœ¼ç›â€ï¼š30,000å¹´çš„ç‹—ä¸äººç±»å…±åŒè¿›åŒ–</a></li>
<li><a href="../zh-CN456852/index.html">åœ¨Unityä¸­ç®€åŒ–ç»˜å›¾æšä¸¾æ ‡å¿—</a></li>
<li><a href="../zh-CN456854/index.html">ä»UIå·¥å…·åŒ…åˆ°è®¾è®¡ç³»ç»Ÿ</a></li>
<li><a href="../zh-CN456856/index.html">å¦‚ä½•é€‰æ‹©æœ€ä½³çš„ä½ç½®æ‰“å¼€åˆ†æ”¯å¹¶åœ¨åœ°å›¾ä¸Šå¯è§†åŒ–ç»“æœ</a></li>
<li><a href="../zh-CN456858/index.html">Ansibleï¼šæ›´æ–°å…³é”®è§£å†³æ–¹æ¡ˆä»¥å®ç°ä¸–ç•Œè‡ªåŠ¨åŒ–</a></li>
<li><a href="../zh-CN456862/index.html">æˆ‘ä»ç—›è‹¦çš„ç»éªŒä¸­å­¦åˆ°äº†ä»€ä¹ˆï¼ˆè¶…è¿‡30å¹´çš„è½¯ä»¶å¼€å‘ç»éªŒï¼‰</a></li>
<li><a href="../zh-CN456866/index.html">ä»–ä»¬ä½•æ—¶ä»Internetè¿›è¡Œâ€œ cheburnetâ€åˆ¶ä½œï¼šé¡¹ç›®æ¦‚è¿°</a></li>
<li><a href="../zh-CN456868/index.html">V16 Update 2 Betaä¸­çš„æ–°3CX SBCè¿œç¨‹è¿æ¥ç®¡ç†å™¨</a></li>
<li><a href="../zh-CN456870/index.html">å¦‚ä½•åœ¨æ²¡æœ‰æŠ•æœºçš„æƒ…å†µä¸‹èµšé’±ï¼š5å®¶é«˜åˆ†çº¢å…¬å¸</a></li>
<li><a href="../zh-CN456872/index.html">åœ¨è¾¹å¢ƒæ£€æŸ¥ç”µå­è®¾å¤‡-æ˜¯å¦éœ€è¦æˆ–ä¾µçŠ¯äººæƒï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>