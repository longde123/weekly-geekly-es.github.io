<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐺 🏻 🏇🏾 10 langkah untuk proyek Python yang sukses 👋🏾 🥗 👩🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bahan, terjemahan yang kami terbitkan hari ini, dikhususkan untuk alat yang memungkinkan melengkapi proyek Python dengan pemformatan kode, pengujian, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>10 langkah untuk proyek Python yang sukses</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/444344/">  Bahan, terjemahan yang kami terbitkan hari ini, dikhususkan untuk alat yang memungkinkan melengkapi proyek Python dengan pemformatan kode, pengujian, integrasi berkelanjutan dan alat analisis ketergantungan.  Ini membantu mempercepat proses pengembangan, membantu meningkatkan kualitas, keseragaman, dan keamanan kode.  Diasumsikan bahwa pembaca materi ini sudah memiliki beberapa pengalaman dalam pengembangan Python dan proyek Python yang dengannya, saat membaca, akan bereksperimen.  Jika Anda tidak memiliki proyek seperti itu, di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> Anda dapat mempelajari cara menyiapkan lingkungan pengembangan dan membuat paket Python.  Contoh-contoh yang akan diberikan di sini disiapkan menggunakan macOS dan Python 3.7. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/nn/pf/ir/nnpfirpitm1blak2m4jfuludveo.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Langkah 1. Memasang Hitam</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/00e/346/c01/00e346c01d193e87d70225c59cd191c3.png"></div><br>  Kode proyek harus mengikuti konvensi gaya kode.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Black</a> adalah paket Python yang secara otomatis memformat kode, membawa penampilannya ke standar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PEP 8</a> .  Hitam adalah proyek yang relatif baru, tetapi telah memperoleh lebih dari satu juta unduhan.  Penggunaannya dengan cepat menjadi tanda selera yang baik dalam pengembangan Python.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ini</a> adalah manual Hitam. <br><br>  Saya, sebagai editor kode, menggunakan Atom, jadi saya menambahkan paket <code>Python-Black</code> ke Atom.  Anda dapat mengetahui cara menginstalnya di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Setelah menginstal paket ini, Atom akan memformat ulang kode setelah menyimpan file. <br><br>  Sementara kita berbicara tentang Black - mari kita lengkapi alat ini dengan lingkungan pengembangan mereka yang bekerja dengan kami di proyek.  Akibatnya, semua orang yang bekerja di proyek akan menggunakan aturan pemformatan kode yang sama, jika tidak, permintaan tarikan mereka tidak akan diterima. <br><br>  Tambahkan <code>black==18.9b0</code> ke baris bebas pertama yang ditemukan dari file <code>requirements_dev.txt</code> dan jalankan perintah <code>install -r requirements_dev.txt</code> . <br><br>  Hitam, secara default, menetapkan panjang baris kode menjadi 88 karakter.  Beberapa panduan gaya, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sphinx</a> , membutuhkan panjang string 79 karakter.  Dalam pengaturan paket <code>Black-Atom</code> , Anda dapat mengatur panjang garis yang diinginkan. <br><br>  Sekarang kami telah memperoleh alat yang akan membantu menghemat waktu pada pemformatan kode, kami akan memikirkan cara mempercepat dan menyederhanakan pengiriman kode ke PyPI. <br><br><h2>  <font color="#3AC1EF">Langkah 2. Membuat File .pypirc</font> </h2><br>  Ketika benang digunakan untuk mengirim rakitan aplikasi ke TestPyPI dan PyPI, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Anda</a> harus memasukkan informasi login secara manual.  Jika Anda tidak terbiasa dengan benang, lihat bahan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> .  Sekarang kita akan mengotomatiskan proses ini. <br><br>  Twine dapat bekerja dengan file <code>.pypirc</code> , yang seharusnya ada di direktori home kami.  Alat ini, membongkar data, mengambil URL, nama pengguna, dan kata sandi dari file yang diberikan. <br><br>  Jadi, buat file <code>.pypirc</code> di direktori home Anda: <br><br><pre> <code class="python hljs">touch ~/.pypirc</code> </pre> <br>  Tambahkan teks berikut ke dalamnya: <br><br><pre> <code class="python hljs">[distutils] index-servers =   pypi   testpypi [testpypi] repository: https://test.pypi.org/legacy username = your_username password = your_pypitest_password [pypi] username = your_username password = your_pypi_password</code> </pre> <br>  Jelas bahwa di sini Anda harus memasukkan nama pengguna dan kata sandi Anda yang sebenarnya.  Juga, periksa apakah file ini disimpan di direktori home, dan bukan di direktori kerja saat ini.  Jika Anda ingin melindungi file ini dari pengguna lain, Anda bisa, menggunakan alat baris perintah, mengkonfigurasi izinnya: <br><br><pre> <code class="python hljs">chmod <span class="hljs-number"><span class="hljs-number">600</span></span> ~/.pypirc</code> </pre> <br>  Sekarang paket Anda dapat dimuat ke TestPyPI menggunakan perintah berikut: <br><br><pre> <code class="python hljs">twine upload -r testpypi dist/*</code> </pre> <br>  Dalam PyPI biasa, Anda bisa memuat paket seperti ini: <br><br><pre> <code class="python hljs">twine upload dist/*</code> </pre> <br>  Setelah Anda mendapatkan file <code>.pypirc</code> , Anda tidak perlu lagi memasukkan nama pengguna dan kata sandi secara manual. <br><br>  Sekarang mari kita tambahkan alat pengujian ke lingkungan pengembangan kami yang akan memungkinkan kami memverifikasi operasi yang benar dari paket yang kami buat. <br><br><h2>  <font color="#3AC1EF">Langkah 3. Instal dan konfigurasikan pytest</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/561/860/645/561860645caff54bbde0e568e9d319ab.jpg"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pytest</a> adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pustaka</a> yang paling populer dan mudah digunakan untuk menguji kode yang ditulis dengan Python.  Dalam contoh ini, kami akan menambahkan tes sederhana ke proyek.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sekarang</a> , jika Anda tertarik pada detail pytest, panduan pengantar yang bagus untuk alat ini. <br><br>  Tambahkan detail pytest ke <code>requirements_dev.txt</code> : <br><br><pre> <code class="python hljs">pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Mari kita instal paket: <br><br><pre> <code class="python hljs">pip install requirements_dev.txt</code> </pre> <br>  Sekarang jalankan perintah berikut, yang akan memungkinkan pytest menemukan paket kami: <br><br><pre> <code class="python hljs">pip install -e .</code> </pre> <br>  Jika Anda menonaktifkan lingkungan pengembangan virtual Anda, maka Anda perlu menjalankan kedua perintah <code>pip</code> lagi untuk menjalankan tes. <br><br><h2>  <font color="#3AC1EF">Langkah 4. Membuat Tes</font> </h2><br>  Tambahkan folder <code>test</code> ke direktori root proyek Anda.  Tempatkan file <code>test_your_package_name.py</code> di dalamnya.  File saya disebut <code>test_notebookc.py</code> .  Jika nama file dimulai dengan <code>test_</code> , pytest dapat secara otomatis mendeteksi file tersebut. <br><br>  Saya menambahkan tes berikut ke file <code>test_notebookc.py</code> , yang bertujuan memeriksa apakah fungsi menampilkan nama yang benar.  Ubah kode ini sehingga nama file dan fungsi yang digunakan di dalamnya cocok dengan Anda, jelaskan tes Anda sendiri di dalamnya. <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""Tests for `notebookc` package."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> notebookc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> notebookc <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_convert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(capsys)</span></span></span><span class="hljs-function">:</span></span>   <span class="hljs-string"><span class="hljs-string">"""Correct my_name argument prints"""</span></span>   notebookc.convert(<span class="hljs-string"><span class="hljs-string">"Jill"</span></span>)   captured = capsys.readouterr()   <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"Jall"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> captured.out</code> </pre> <br>  Apa yang sedang terjadi di sini? <br><br>  Pertama-tama kita mengimpor modul kita di sini.  Kemudian kita membuat fungsi yang namanya dibangun sesuai dengan template <code>test_my_function_name</code> .  Konvensi penamaan fungsi ini memungkinkan orang lain membaca kode proyek Anda dengan cepat memahami apa yang sebenarnya sedang diuji dalam tes.  Selain itu, ini diperlukan untuk paket yang membantu mengontrol cakupan kode dengan tes, yang akan kita bahas di bawah ini. <br><br>  Setelah itu, kita memanggil fungsi ( <code>convert</code> ), memberikannya nama <code>Jill</code> sebagai argumen.  Berikutnya - menangkap apa yang ditampilkan fungsi.  Di sini perlu dikatakan bahwa fungsi yang dimaksud sangat sederhana.  Dia mengambil parameter <code>my_name</code> dan melakukan yang berikut: <br><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">f"I'll convert a notebook for you some day, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{my_name}</span></span></span><span class="hljs-string">."</span></span>)</code> </pre> <br>  Pytest memeriksa untuk melihat apakah <code>Jall</code> dalam apa fungsi output.  Baris ini seharusnya tidak ada di sana, karena kita melewati fungsi <code>Jill</code> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut</a> adalah dokumentasi terbaik di mana Anda dapat menemukan informasi tentang penyadapan output. <br><br>  Jalankan tes dengan mengetik <code>pytest</code> di command prompt.  Tes ini seharusnya gagal.  Informasi kesalahan ditampilkan dalam warna merah. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61c/cfb/1f6/61ccfb1f6cff485d9cd90f8f68f2d33c.png"></div><br>  <i><font color="#999999">Kesalahan terdeteksi selama pengujian.</font></i> <br><br>  Dianjurkan untuk memeriksa tes untuk kebenaran, menggambarkannya sehingga, dalam kondisi tertentu, mereka akan berakhir dengan kesalahan.  Anda tidak boleh menulis tes yang hanya memberikan pesan hijau, karena jika tidak, tes tersebut mungkin tidak memeriksa apa yang ditulis untuk diverifikasi. <br><br>  Setelah kami memastikan bahwa tes gagal, ubah pernyataan <code>Jall</code> ke <code>Jill</code> dan jalankan tes lagi.  Sekarang seharusnya selesai dengan sukses. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/d72/bf5/c64d72bf51a42f3f209c00dc46e8ee52.png"></div><br>  <i><font color="#999999">Berhasil menyelesaikan tes.</font></i> <br><br>  Sekarang semuanya baik-baik saja.  Tes ini memungkinkan Anda untuk memastikan bahwa jika seseorang melewati garis ke fungsi kami, baris ini akan jatuh ke teks yang ditampilkan fungsi ini. <br><br>  Anda juga dapat menulis tes yang memeriksa fungsi tentang cara menangani data yang diteruskan ke sana.  Yaitu, jika menerima data yang tipenya berbeda dari string, itu harus menyebabkan kesalahan TypeError.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah</a> beberapa hal bagus tentang pengecualian dan penanganan kesalahan dengan Python. <br><br>  Ketika kami membuat tes sebelumnya, kami menulis kode yang mengarah pada keberhasilan penyelesaian tes.  Ini disebut Test-Driven Development (TDD).  TDD adalah pendekatan pemrograman terbukti yang membantu Anda menulis kode yang memiliki kesalahan lebih sedikit daripada tanpa TDD.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah beberapa</a> bahan TDD yang berguna. <br><br>  Sekarang, sebagai latihan, cobalah menulis tes yang memeriksa fungsi <code>convert()</code> sehingga ketika melewatkan sesuatu yang berbeda dari string ke sana, itu akan menimbulkan kesalahan, dan menerapkan mekanisme yang sesuai untuk fungsi ini.  Perhatikan bahwa bilangan bulat, daftar, dan kamus dikonversi menjadi string. <br><br>  Setelah paket berhasil lulus tes, kami siap untuk mengambil keuntungan dari sistem integrasi berkelanjutan. <br><br><h2>  <font color="#3AC1EF">Langkah 5. Pendaftaran di layanan Travis CI dan konfigurasinya</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36c/e18/b28/36ce18b28c14dd932d4194a7eb0031e6.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Travis CI</a> adalah "layanan web terdistribusi untuk membangun dan menguji perangkat lunak."  Baru-baru ini dibeli oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Idera</a> .  Ada sistem integrasi berkelanjutan lainnya, tetapi Travis CI adalah alat yang populer, sumber terbuka, dan terdokumentasi dengan baik, jadi kami akan menggunakannya. <br><br>  Travis CI memungkinkan Anda untuk mengintegrasikan ke dalam proyek Anda hanya kode yang lulus tes dan memenuhi standar.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda dapat membaca lebih lanjut tentang Travis CI, dan di sini tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">integrasi</a> berkelanjutan. <br><br>  Buat akun di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://travis-ci.org/</a> .  Selanjutnya, klik tautan <code>Review and add your authorized organizations</code> di halaman profil.  Anda akan dimintai kata sandi untuk mengakses GitHub.  Klik pada <code>Grant</code> di bagian <code>Organization access</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65e/6bd/d52/65e6bdd52e958c8335c999e971eec8ec.png"></div><br>  <i><font color="#999999">Siapkan akun Travis CI</font></i> <br><br>  Saya perlu menyinkronkan akun agar informasi tentang <code>notebooktoall</code> dan repositori <code>notebookc</code> muncul di akun.  Biasanya, untuk Travis CI bekerja dengan kode, dibutuhkan sekitar satu menit.  Setelah itu, Anda perlu mengaktifkan repositori menggunakan sakelar yang ditunjukkan pada gambar berikut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/046/54c/44404654c3d1a95209f1418e2b3ea543.png"></div><br>  <i><font color="#999999">Aktivasi Repositori</font></i> <br><br>  Sekarang klik tombol <code>Settings</code> .  Di sini Anda perlu menunjukkan apakah Travis dapat membangun berdasarkan permintaan tarik atau cabang yang dikirim ke repositori. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/361/1ed/b25/3611edb25ab1af3484db1d38b0eda38c.png"></div><br>  <i><font color="#999999">Penyiapan membangun proyek</font></i> <br><br>  Sekarang saatnya untuk mengatur proyek yang sedang kami kerjakan, yang akan memungkinkan Travis membangun proyek untuk setiap permintaan penarikan. <br><br><h2>  <font color="#3AC1EF">Langkah 6. Membuat file .travis.yml</font> </h2><br>  Di folder root proyek, buat file <code>.travis.yml</code> dengan konten berikut: <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: - pip install -r requirements_dev.txt - pip install -e . script: - pytest</code> </pre> <br>  <code>dist: xenial</code> diperlukan untuk memberi tahu Travis agar menggunakan Ubuntu Xenial 16.04 untuk mengatur lingkungan virtual.  Untuk menguji kode Python 3.7, diperlukan Ubuntu Xenial, perincian tentang ini dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Bagian <code>install</code> memungkinkan Anda untuk menginstal paket yang digunakan dalam pengembangan proyek.  Perintah <code>pip install -e .</code>  melakukan instalasi paket kami di lingkungan virtual Travis.  Setelah itu, Travis, mulai pytest, akan dapat menemukan paket kami. <br><br><h2>  <font color="#3AC1EF">Langkah 7. Menguji Travis CI</font> </h2><br>  Komit perubahan, serahkan ke GitHub, lakukan PR.  Travis akan mulai bekerja dalam hitungan detik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15a/32a/d3f/15a32ad3f0a601e6bf89c06932efc450.png"></div><br>  <i><font color="#999999">Travis sedang bekerja</font></i> <br><br>  Inilah yang dilakukan Travis dalam menangani proyek. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4a/b80/9a6/d4ab809a68ef70b62ad28121b055fc12.png"></div><br>  <i><font color="#999999">Tindakan yang dilakukan oleh Travis selama pemrosesan proyek</font></i> <br><br>  Jika PR tidak berhasil - Travis akan melaporkannya.  Harap dicatat bahwa jika permintaan tarik tidak berhasil, Anda dapat mengirim perubahan ke cabang yang sama dan Travis akan mulai bekerja secara otomatis. <br><br>  Buka halaman repositori Anda di situs web Travis dan lihat di sekitar sana.  Di sini Anda dapat menemukan banyak hal menarik tentang kebaktian.  Mungkin di masa mendatang Anda akan sering menjadi tamu halaman ini ketika Anda mencoba memahami apa yang menyebabkan majelis gagal. <br><br>  Jika kita menganggap bahwa semuanya berjalan dengan baik, jika halaman berisi label hijau, maka verifikasi dan perakitan proyek berhasil. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a6/bd0/7c4/6a6bd07c4f0a9c82e87b9fd1a71b9b10.png"></div><br>  <i><font color="#999999">Perakitan proyek selesai dengan sukses</font></i> <br><br>  Jika tidak ada label hijau atau merah pada halaman, buka menu <code>More options</code> dan pilih <code>Requests</code> .  Jika Anda melihat pesan kesalahan merah di sini, analisislah.  Jika Anda melihat file <code>Build config file is required</code> pesan kesalahan, itu berarti bahwa Travis tidak dapat menemukan file <code>.travis.yml</code> Anda di repositori.  Perbaiki dan kesalahan akan hilang. <br><br>  Travis mengirimkan email kepada pengguna jika perakitan proyek tidak berhasil, dan dalam kasus di mana dimungkinkan untuk memperbaikinya. <br><br>  Ingatlah bahwa Anda dapat mengirim komit untuk membuka PR dan Travis akan secara otomatis memulai kembali proses pembangunan proyek. <br><br>  Sekarang mari kita analisis proyek kami untuk mencakup kode dengan tes. <br><br><h2>  <font color="#3AC1EF">Langkah 8. Menilai cakupan kode dengan tes</font> </h2><br>  Laporan cakupan kode dengan tes memungkinkan Anda untuk mengetahui bagian mana dari kode proyek, meskipun kecil, telah diuji.  Untuk membuat laporan seperti itu, kami akan menggunakan paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pytest-cov</a> . <br><br>  Tambahkan baris berikut ke file <code>requirements_dev.txt</code> : <br><br><pre> <code class="python hljs">pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br>  Jalankan perintah berikut: <br><br><pre> <code class="python hljs">pytest --cov=my_project_name</code> </pre> <br>  Dalam kasus saya, setelah perintah <code>pytest --cov=notebookc</code> , laporan berikut ini ditampilkan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83c/566/d29/83c566d2942cbafcedd03de799b0eacd.png"></div><br>  <i><font color="#999999">Laporan Cakupan Kode</font></i> <br><br>  Ternyata, semua kode proyek dilengkapi dengan tes.  Indikator tersebut sangat mudah dicapai jika seluruh proyek terdiri dari beberapa baris kode. <br><br>  Sekarang mari kita bicara tentang alat yang memungkinkan Anda untuk menyimpan sejarah publik dari keadaan proyek dalam hal menutupi kodenya dengan tes. <br><br><h2>  <font color="#3AC1EF">Langkah 9. Menggunakan Baju</font> </h2><br>  Proyek Coveralls memungkinkan Anda untuk menjaga informasi historis tentang cakupan kode dengan tes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c0/616/ecd/8c0616ecddd054d1adabf0532c75f69b.png"></div><br>  <i><font color="#999999">Baju</font></i> <br><br>  Untuk memanfaatkan kemampuan proyek ini, Anda harus mendaftar di situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://coveralls.io/</a> menggunakan data akun GitHub Anda.  Maka Anda perlu menghubungkan repositori. <br><br>  Dalam file <code>requirements_dev.txt</code> , tambahkan <code>coveralls==1.6.0</code> baris <code>coveralls==1.6.0</code> .  File ini, omong-omong, pada tahap kerja proyek ini akan terlihat seperti ini: <br><br><pre> <code class="python hljs">pip==<span class="hljs-number"><span class="hljs-number">19.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> wheel==<span class="hljs-number"><span class="hljs-number">0.33</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> twine==<span class="hljs-number"><span class="hljs-number">1.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> coveralls==<span class="hljs-number"><span class="hljs-number">1.6</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  <code>.travis.yml</code> file <code>.travis.yml</code> , membawanya ke formulir ini (dalam kasus Anda, nama proyek Anda akan ada di sini): <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: — pip install -r requirements_dev.txt — pip install -e . script: — pytest --cov=my_package_name after_success: — coveralls</code> </pre> <br>  Sekarang, ketika Travis akan membangun proyek, dia akan menginstal paket yang diperlukan, menjalankan tes dan membuat laporan tentang cakupan kode dengan tes.  Kemudian laporan ini akan dikirim ke layanan Coveralls. <br><br>  Komit, kirim kode ke GitHub, dan lihat apa yang terjadi.  Mungkin perlu beberapa menit agar laporan uji cakupan kode masuk ke Coveralls. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7eb/19d/967/7eb19d96768a592ef21b611ab69e3509.png"></div><br>  <i><font color="#999999">Pemrosesan proyek, laporan cakupan uji</font></i> <br><br>  Sekarang, di antara pemeriksaan PR, ada juga pemeriksaan yang dilakukan oleh Coveralls. <br><br>  Pada halaman Coveralls, Anda dapat memverifikasi bahwa proyek ini 100% tercakup dalam tes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/f45/762/24af45762ed1b6f80a4b558ab24fcef1.png"></div><br>  <i><font color="#999999">Informasi Cakupan Tes</font></i> <br><br>  Sekarang mari kita lengkapi proyek kita dengan alat lain yang bermanfaat. <br><br><h2>  <font color="#3AC1EF">Langkah 10. Bekerja dengan PyUp</font> </h2><br>  Layanan PyUp.io memungkinkan pengembang untuk mengetahui apakah dependensi yang digunakan olehnya sudah usang dan apakah mereka memiliki kerentanan.  Layanan ini secara otomatis menjalankan permintaan tarikan yang bertujuan memperbarui paket di GitHub.  Untuk memanfaatkan kemampuan proyek ini, Anda harus mendaftar menggunakan akun GitHub, di situs webnya - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://pyup.io/</a> .  Saat menambahkan repositori, disarankan untuk mengatur <code>Update Schedules</code> ke <code>every week</code> .  Dengan pendekatan ini, jika proyek Anda memiliki banyak dependensi, Anda tidak akan menemui terlalu banyak permintaan tarikan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fe/4d5/14f/8fe4d514fe0efef8c8c0bea40451f4d3.png"></div><br>  <i><font color="#999999">Konfigurasikan Pembaruan</font></i> <br><br>  Inilah yang terlihat seperti informasi paket, beberapa di antaranya sudah ketinggalan zaman, di situs web PyUp.io. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/372/26a/e7a/37226ae7a12381601d7335b1ae935d17.png"></div><br>  <i><font color="#999999">Rincian Paket</font></i> <br><br>  Dengan menggunakan layanan ini, Anda akan selalu tahu kapan versi terbaru dari paket yang Anda gunakan keluar.  Pengetahuan, seperti yang mereka katakan, adalah setengah dari kemenangan.  Dan paruh kedua, tentu saja, permintaan tarik otomatis untuk memperbarui dependensi. <br><br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Dalam artikel ini, Anda belajar cara menggunakan alat seperti Hitam, pytest, Travis CI, Coveralls, dan PyUp saat mengembangkan proyek Python.  Mereka membantu mengontrol dependensi proyek, memformat dan menguji kode, dan memverifikasi dan membangun proyek.  Kami harap alat ini bermanfaat bagi Anda. <br><br>  <b>Pembaca yang budiman!</b>  Alat apa yang Anda gunakan saat mengembangkan proyek Python? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id444344/">https://habr.com/ru/post/id444344/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id444332/index.html">Keamanan dan katering informasi: bagaimana manajer berpikir tentang produk TI</a></li>
<li><a href="../id444336/index.html">Daftar tangkapan cepat: apa perbedaan antara tautan yang lemah, kuat dan tidak dimiliki?</a></li>
<li><a href="../id444338/index.html">Enkapsulasi dalam Python 3</a></li>
<li><a href="../id444340/index.html">Fitur menggunakan tipe data Simbol dalam JavaScript</a></li>
<li><a href="../id444342/index.html">Mengembangkan aplikasi JavaScript sederhana dan modern menggunakan Webpack dan teknologi web canggih</a></li>
<li><a href="../id444346/index.html">GraphQL dan Golang</a></li>
<li><a href="../id444348/index.html">Bagaimana komponen Bereaksi fungsional berbeda dari komponen berbasis kelas?</a></li>
<li><a href="../id444350/index.html">Untuk beberapa alasan MVP (produk minimum yang layak) tidak dimulai</a></li>
<li><a href="../id444352/index.html">Kontur.Kampus: kami mengundang Anda ke kemah mahasiswa gratis pengembangan industri dekat St. Petersburg</a></li>
<li><a href="../id444356/index.html">React Tutorial Bagian 24: Pelajaran Bentuk Kedua</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>