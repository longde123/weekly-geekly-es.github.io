<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤ ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ½ ğŸ‘©ğŸ¾â€ğŸ¤ Sensor untuk rumah pintar ğŸ§“ğŸ¾ ğŸˆ ğŸš£ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami membuat kabinet kontrol untuk rumah di sini , mengembangkan pengontrol di sini . 

 Lampu dapat dihidupkan / dimatikan dari telepon, pemberitahua...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sensor untuk rumah pintar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479760/">  Kami membuat kabinet kontrol untuk rumah di <a href="https://habr.com/ru/post/455321/">sini</a> , mengembangkan pengontrol di <a href="https://habr.com/ru/post/462259/">sini</a> . <br><br>  Lampu dapat dihidupkan / dimatikan dari telepon, pemberitahuan tentang kebocoran air, dimasukkannya penyiraman datang ke telegram dan Tuhan masih tahu apa. <br><br>  Tetapi seluruh sistem ini jauh dari sekadar rumah pintar, itu hanya perpanjangan tangan dan kaki Anda, dan satu-satunya bantuan dari itu adalah Anda tidak perlu bangun dari tempat tidur untuk mematikan lampu. <br><a name="habracut"></a><br>  Artikel ini adalah tentang apa yang dapat membuat rumah Anda lebih dekat dengan orang pintar, dan Anda dapat menebaknya dengan benar - ini adalah pengembangan sensor.  Ini adalah mata, telinga, dan sedikit lagi untuk rumah Anda.  Berdasarkan informasi dari sensor, sudah mungkin untuk menulis skrip otomatis yang akan merevitalisasi rumah dan diam-diam akan membantu Anda dan membuat hidup Anda lebih nyaman. <br><br>  Pasar sekarang memiliki berbagai macam perangkat seperti itu, baik dari produsen terkemuka dan asal tidak diketahui.  Dan jika Anda tidak terlalu repot, maka Anda dapat menggunakannya, tetapi ada satu, atau bahkan beberapa.  Pertama, kebanyakan dari mereka menggunakan protokol milik mereka dan hanya bekerja dengan hub mereka.  Dan setiap saat API dari hub ini dapat ditutup, dan kontrol hanya akan mungkin melalui aplikasi pabrikan (ingat cerita dari google nest), sehingga semua otomasi Anda akan macet pada satu titik. <br><br>  Kedua, semua pabrikan, tanpa kecuali, berusaha mendapatkan untung dari ini, dan karena ini bukan fenomena besar, Anda harus keluar, dan masing-masing sensor dibuat dalam wadah tersendiri dengan baterainya sendiri.  Dan sekarang mari kita hitung, Anda memiliki 5 kamar di masing-masing, saya ingin memiliki sensor suhu, gerakan, cahaya dan CO.  Bukan tikar yang rumit.  perhitungan menyebabkan 20 kotak di langit-langit.  Pertama, itu tidak indah, dan kedua, dalam satu atau dua tahun akan diperlukan untuk mengganti baterai dalam sensor ini dalam setengah hari dengan tangga dan obeng, kemungkinan besar merusak beberapa pengencang dan menjatuhkan obeng beberapa kali pada laminasi.  Ya, dan ketiga, ketika salah satu sensor rusak dalam beberapa tahun, maka Anda tidak akan dapat membeli yang sama, dan kemungkinan besar hub lama tidak akan mendukung sensor baru (keuntungan penting) dan Anda harus mengubah semua sensor dan mengintegrasikannya ke dalam sensor Anda. sistem.  Jalan keluarnya adalah dengan melihat sesuatu dari opensource, atau melakukannya sendiri, setidaknya kodenya akan selalu bersama Anda.  Jadi dalam terang yang dijelaskan, pengembangan kotaknya dengan sensor bukanlah tugas yang berlebihan. <br><br>  Jadi dalam mengembangkan sensor saya, saya mencoba untuk menghindari 'tetapi' yang dijelaskan di atas: <br><br><ol><li>  Kami menggabungkan semua sensor dalam satu rumah </li><li>  Kami melakukan daya kabel (membangun dari awal) </li><li>  Kami membuat antarmuka sesuai dengan protokol standar </li></ol><br>  Sekarang mari kita beralih ke bagaimana perangkat seperti itu seharusnya bekerja. <br><br>  Ada dua opsi yang memungkinkan, dan mereka bergantung pada lingkungan mana perangkat itu digunakan, dalam sistem dengan kontrol terpusat, dalam sistem terdistribusi, atau secara umum sebagai perangkat independen. <br><br>  Opsi pertama lebih sederhana karena  hanya data mentah dari sensor yang diperlukan, dan kemudian pengontrol pusat, yang menginterogasi perangkat, memutuskan apa yang harus dilakukan dengannya, contoh dari alat tersebut adalah sensor asap kantor.  Sebagai contoh, data dari sensor datang di atas ambang tertentu, sementara pengontrol pusat tahu bahwa mode bersenjata sekarang aktif dan karenanya perlu untuk meningkatkan alarm. <br><br>  Opsi kedua mengasumsikan bahwa perangkat itu sendiri harus tahu dalam mode apa sekarang, dapat mengkonversi data mentah dari sensor, membuat keputusan tentang memberi tahu pengguna.  Pengembangan perangkat semacam itu, tentu saja, membutuhkan lebih banyak upaya baik dalam hal menulis program dan dalam hal memanfaatkan kegunaan. <br><br>  Saya awalnya berencana untuk membuat perangkat sesuai dengan opsi kedua, dan meletakkan dua saluran komunikasi - mqtt dan modbus.  Mqtt via WIFI sehingga untuk bermain-main dan modbus via RS-485 untuk terhubung ke sistem kontrol rumah. <br><br>  Mqtt via WIFI tidak sulit dilakukan berkat pustaka ESP8266 lua dan algoritmenya cukup standar: <br><br><ol><li>  pada permulaan pertama atau jika Anda tidak dapat terhubung ke WIFI, Anda perlu membuat jalur akses dari ESP8266 </li><li>  menyebarkan server web kecil di atasnya dengan parameter WIFI dan parameter server mqtt (dapat dilakukan secara gratis di Amazon misalnya) </li><li>  simpan semua data yang dimasukkan dalam memori ESP8266 </li><li>  setelah reboot, coba sambungkan ke mqtt melalui WIFI rumah </li></ol><br>  Namun, ketika muncul pertanyaan untuk mengintegrasikan perangkat ke sistem rumah melalui modbus, saya mulai kehilangan data mentah dari sensor, dan akhirnya saya memasukkan semua data mentah dalam tabel modbus juga.  Sebagai contoh, akan tampak peristiwa yang tidak perlu dari sensor gerak, dalam mode dilucuti, bahkan dapat digunakan untuk semua jenis fungsi rumah pintar. <br><br>  Tabel modbus adalah sebagai berikut: <br>  Deskripsi tipe N <br>  0. -r - status sensortag (1 - mode idle / 2 - idle ke proteksi / 3 - mode proteksi) <br>  1. -r - alasan alarm bitfield (bit 1 - gas / 2 - temperature / 3 - motion) <br>  2. -r - deteksi gerakan dalam status siaga dan proteksi (0/1 - tidak ada gerakan / gerakan) <br>  3. -r - konsentrasi gas (nilai mentah dari adc) <br>  4. -r - suhu dalam C deg <br>  5. -r - nilai cahaya yang sudah diproses sebelumnya (ruang malam &lt;17 / kamar gelap &lt;50 / twilight &lt;150 cerah &lt;250) <br>  6. -r - nilai cahaya (nilai mentah dari adc) <br>  7. -r - jumlah acara alarm dalam siklus hidup ini <br>  8. -r - jumlah restart sensortag <br>  9. -r - tidak digunakan <br>  Aktivasi alarm 10-w- (0 - beralih ke siaga / 1 - beralih ke alarm) <br>  11. -wr- sensitivitas gerakan (0 - 100%, berarti 0 - paling sensitif) <br>  12. -w- batas konsentrasi gas <br><br>  Lebih jauh lagi, seperti biasa, ia datang ke pengembangan papan dan perangkat lunak.  Dan dalam hal ini, pengembangan dewan lebih sulit bagi saya, karena  ada bagian analog (daya, pengikatan sensor gerak dan CO) yang saya tidak terlalu ramah, dan tidak ada banyak yang harus ditulis tentang perangkat lunak, karena semuanya sangat sederhana di sana.  Yaitu  bukan hanya tapi biasa, saya membaca bacaan dari ADC, mengubahnya, memprosesnya (menggunakan metode sliding window pada semua saluran) dan meletakkannya di sebuah tabel.  Tidak buruk untuk membuat kompensasi suhu dari sinyal dari sensor PIR.  di musim panas, ketika suhu kamar di atas +30 derajat, sensor memiliki respons yang jauh lebih lemah.  Jadi, dalam artikel ini saya ingin menggambarkan pengembangan papan itu sendiri dan memperhatikan sedikit kegunaan. <br><br>  Mari kita mulai dengan forum, inilah yang perlu Anda lakukan untuk melakukan ini: <br><br><ol><li>  pilih mikrokontroler dan sensor (sensor pir, cahaya, suhu, CO) </li><li>  pilih driver rs-485 untuk komunikasi modbus </li><li>  ESP8266 untuk komunikasi mqtt (apa yang harus dipilih) </li><li>  pilih RGB LED untuk memvisualisasikan status perangkat </li><li>  mengembangkan modul daya </li><li>  mengembangkan diagram sirkuit, berkembang biak dan membuat papan </li></ol><br>  Pilihan mikrokontroler tidak sulit, Anda hanya perlu menjangkau kotak dengan devboards dan mendapatkan satu papan - itu akan dilakukan.  Tapi serius, saya tidak bisa membanggakan pengetahuan banyak keluarga mikrokontroler, jadi saya terbiasa dengan STM32, ATSAM, dan AVR.  Saya memilih yang terakhir, dan hanya karena saya hanya punya beberapa Arduino Leonardo tergeletak di sekitar dan kehilangan masa lalu MK2.  Saya tidak akan menyebutkan bahwa AVR menarik kakinya pada frekuensi kuarsa, dan ini berguna bagi saya, dan bahwa ia memiliki berbagai periferal dan ADC yang agak cepat, jauh lebih penting bagi saya bahwa ia memiliki paket TQFP dan saya dapat menyoldernya sendiri, tanpa mikroskop dan menari dengan rebana .  Jika pilihan mikrokontroler adalah masalah sepuluh menit, maka pilihan sensor bukanlah masalah sepele.  Pada awalnya kita harus berpikir tentang bagaimana menghubungkan mereka, bagaimana memproses sinyal mereka dan bagaimana mereka akan saling mempengaruhi.  Jika beberapa sensor dapat diambil dari set Arduino dan harganya satu sen, maka dengan yang lain, lebih jarang, Anda dapat bermain-main lebih lama dan menghabiskan lebih banyak.  Selain itu, pemilihan sensor juga dibatasi oleh kriteria tambahan saya: <br><br><ol><li>  Sensor dapat dihubungkan sesuka Anda, tetapi tidak melalui I2C.  Begitulah cara itu tidak berhasil bagi saya untuk mengimplementasikan I2C dengan andal pada mikrokontroler, di mana dukungan untuk bus ini setengah sebagai perangkat keras dan setengah sebagai perangkat lunak (seperti dalam AVR).  Kebetulan ia berfungsi, bekerja selama satu bulan, dan kemudian rusak, dan tidak ada urutan pemulihan yang membantu, jadi diputuskan untuk menggunakan sebanyak mungkin sensor analog yang terhubung ke ADC dan menggunakan SPI hanya untuk suhu (omong-omong, persahabatan itu kuat dan dapat diandalkan). </li><li>  Mereka cukup andal dan tidak mengubah karakteristik mereka selama masa kerja (saya definisikan sebagai 10 tahun) </li><li>  Mereka tersedia di pasar kami, agar tidak mengacaukan pesanan dari Mauser, dll. </li></ol><br>  Sebagai hasil dari semua penelitian, kami mendapatkan set ini: <br><br><ol><li>  Sensor PIR - D203S </li><li>  Sensor cahaya - GL5516 </li><li>  Sensor suhu - LM95071 </li><li>  Sensor CO - TGS5141 </li></ol><br>  Dan jika dengan tiga posisi pertama, saya pikir tidak ada yang akan memiliki pertanyaan, maka mengapa TGS5141 diperlukan segera tidak jelas.  Anda mungkin mengatakan - "mengapa hal itu mahal, karena ada sensor CO sen dari set Arduino tipe MQ-7."  Memang, saya bereksperimen dengan mereka, dan sebagai hasilnya saya menolak mereka karena beberapa alasan.  Pertama, ini adalah sensor katalitik, dan memanas, yang sangat memengaruhi suhu dalam casing perangkat dan tidak memungkinkan kompensasi suhu untuk sinyal dari sensor PIR.  Kedua, sensitivitas MQ-7 meninggalkan banyak yang harus diinginkan, bahkan dalam spesifikasi dikatakan 10 hingga 1000ppmm, tetapi pada kenyataannya itu masih lebih menyedihkan, ditambah lagi tidak ada stabilitas dari sensor ke sensor.  Ketiga, kehidupan sensor itu sendiri tidak jelas, saya berasumsi bahwa karakteristiknya akan sangat berubah selama bertahun-tahun karena bersifat katalitik.  Dan sekarang tentang kelebihan TGS5141 elektrokimia - tidak memanas, kepekaannya adalah 0 ~ 5000ppm (dengan karakteristik linier), kehidupan pelayanan terjamin 10 tahun, ukuran kecil dan banyak lagi plus.  Saya pikir pilihannya jelas jika Anda benar-benar ingin melakukan hal yang berharga, dan bukan kerajinan yang sembrono. <br><br>  Kami memilih mikrokontroler, sensor, sekarang saatnya mengurus bagaimana memberi tahu pengguna apa yang kami maksudkan.  Seperti yang saya tulis sebelumnya, saya memiliki dua saluran komunikasi untuk ini, rs-485 modbus dan mqtt via WIFI.  Apa yang memungkinkan untuk menggunakan sensororteg saya sebagai perangkat individu, dan karena itu, penting adalah indikasi negara, dalam beberapa cara, pada perangkat itu sendiri, misalnya, LED. <br><br>  Setelah memutuskan konsepnya, Anda dapat sedikit memperhatikan sisa elemen dasar.  485go driver Saya menggunakan ADM2587E, chip tidak hanya mencakup driver itu sendiri, tetapi juga isolasi transformator galvanik pada RX, TX dan DE, minus hanya dalam harga.  Kami akan menggunakan ESP-07 untuk komunikasi mqtt melalui WIFI, di sini, saya pikir, tidak ada komentar yang diperlukan, karena  hanya yang malas tidak melakukan sesuatu pada ESP8266.  Saya harus lebih mengutak-atik tampilan visual, untuk ini saya memutuskan untuk menggunakan sk6812 RGBW LED.  Ternyata dengan AVR, mengelola mereka tidak terlalu sederhana, timing mereka cukup sulit, jadi saya harus menambahkan beberapa bagian dari kode assembler, yang pada awalnya tidak direncanakan.  Tetapi hasilnya dibenarkan sendiri, ternyata secara informatif dan indah, terutama jika Anda bersinar dengan LED ini di ujung ring plexiglass.  Indikasi ini disarankan kepada saya oleh seorang karyawan yang sudah makan seekor anjing dalam hal ini (terima kasih kepada Sasha). <br><br><img src="https://habrastorage.org/webt/my/qa/cv/myqacvbiwdbonl_6t8xe5vzchpa.jpeg"><br><br>  Setelah bereksperimen sedikit dengan kecerahan, menjadi jelas bahwa satu tingkat kecerahan bukan keputusan saya - sulit untuk melihat di siang hari, dan sangat cerah di malam hari.  Oleh karena itu, saya harus membuat perubahan dalam kecerahan cahaya LED ini tergantung pada pencahayaan di ruangan.  Yah, itu saja, Anda tahu indikasinya, Anda berpikir, tetapi tidak, hal yang paling sulit bagi saya adalah menemukan pola cahaya dan timing untuk mereka. <br><br>  Saya berhenti di opsi ini: <br><br><ul><li>  biru lambat - idle, hanya komunikasi melalui wifi (modbus hilang) </li><li>  biru cepat - beralih dari mode siaga ke alarm, hanya komunikasi melalui wifi (modbus hilang) </li><li>  hijau lambat - idle (komunikasi modbus OK) </li><li>  hijau cepat - beralih dari mode siaga ke alarm (komunikasi modbus OK) </li><li>  merah lambat - mode alarm </li><li>  alarm gerakan cepat merah </li><li>  alarm gas cepat kuning </li></ul><br><img src="https://habrastorage.org/webt/nj/lt/ws/njltwsjartr_qqe4ypsdyx6k9cw.jpeg"><br><br>  Kami menemukan indikasinya, bagian selanjutnya adalah kekuatan. <br><br>  Seperti yang saya katakan sebelumnya, saya memiliki 24V tegangan rendah di rumah saya, sehingga kekuatan modul akan seperti itu.  Ke depan, saya akan mengatakan bahwa setelah saya membuat papan pertama saya harus mengulang banyak nutrisi.  Kemudian saya menjadi yakin bahwa Anda perlu membaca spesifikasi pada konverter step-down, terutama tempat-tempat di mana nuansa kabel dijelaskan.  Berdasarkan hasil penelitian, saya berhenti di step-down converter MCP16311 dan ternyata menjadi sangat pemilih, hanya setelah saya melakukan persis apa yang tertulis dalam spesifikasi - itu berhasil.  Tapi ini bukan masalah terbesar, karena ternyata kemudian, mengubah kecerahan LED menyebabkan penarikan daya kecil, yang akan cukup untuk merusak sinyal dari sensor D203S, adalah mungkin untuk mengatasi masalah ini dengan kapasitor tambahan di sirkuit operasi sensor dan di sirkuit step-down converter.  Setelah men-debug semuanya menggunakan mqtt (melalui ESP8266), saya menghubungkan rs-485 dan di sana lagi ada kegagalan yang menunggu saya, pada keluaran opamp di saluran sensor D203S saya kembali melihat sampah, dan sampah ini jelas berhubungan dengan pertukaran pada rs-485.  Secara umum, ternyata untuk mengatasi ini dengan konverter LDO tambahan untuk seluruh bagian analog, dan kemudian kebahagiaan datang. <br><br>  Dan jika Anda menggabungkan semuanya bersama, Anda mendapatkan gambar berikut: <br><br><img src="https://habrastorage.org/webt/q5/yd/is/q5ydisgqe5hwfqmcchcfdvtufeg.jpeg"><br><br>  Dan jika semua ini diambil dan disolder, maka akan terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/go/h0/_m/goh0_mo2-ew9qt8c416sqjqvaao.jpeg"><br><br>  Mereka menyolder papan, mencetak kasing, menyatukan semuanya, menggantungnya di langit-langit, data masuk ke sistem.  Jadi mari kita bayangkan bagaimana Anda dapat menerapkan data ini dalam sistem rumah pintar, selain tentu saja, Anda dapat mengirim alarm ke telegram.  Saya belum melakukan apa pun, kecuali untuk poin pertama, tetapi saya telah melemparkan skrip berikut: <br><br><ul><li>  Dimasukkannya cahaya di tangga, jika lampu ini tidak dinyalakan, jika gerakan muncul di ruangan mana pun, plus gelap sekarang, ditambah waktu malam </li><li>  pembukaan otomatis dari rana lantai pertama, jika ditutup, jika sudah pagi dan gerakan terdeteksi di ruang tamu untuk pertama kalinya dalam sehari </li><li>  membuka penutup ventilasi jika konsentrasi CO melebihi level apa pun, dan menutupnya jika level CO telah jatuh (sebenarnya di ruangan dengan perapian) </li><li>  buka ventilasi flaps jika suhunya telah melebihi batas tertentu dan dengan demikian tutuplah sebaliknya </li><li>  shutdown otomatis dari shutter lantai pertama jika daun jendela terbuka dan jika sensor gerak telah bekerja di jalan di malam hari dan rumah ada di penjaga malam. </li></ul><br>  Jadi pelengkap, kami akan membuat rumah lebih pintar ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id479760/">https://habr.com/ru/post/id479760/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id479746/index.html">Perangkat lunak perusahaan membuat karyawan Anda lebih dingin. Apakah kamu membutuhkannya?</a></li>
<li><a href="../id479748/index.html">GoLand 2019.3 dengan peningkatan kinerja, peningkatan dukungan untuk Modul Go dan banyak lagi</a></li>
<li><a href="../id479750/index.html">2. Fortinet Memulai v 6.0. Arsitektur Solusi</a></li>
<li><a href="../id479756/index.html">Buka data. Roscosmos. Mengejar Amerika</a></li>
<li><a href="../id479758/index.html">Pentest. Praktik pengujian penetrasi atau "peretasan etis". Kursus baru dari OTUS</a></li>
<li><a href="../id479762/index.html">6 kesalahan paling umum yang dibuat pengembang saat menulis HTML dan CSS</a></li>
<li><a href="../id479764/index.html">Jumlah investor swasta di Bursa Moskow melebihi 3,5 juta orang</a></li>
<li><a href="../id479768/index.html">Menginstal dan Mengkonfigurasi AlienVault SIEM (OSSIM)</a></li>
<li><a href="../id479774/index.html">Narasi melalui lingkungan atau mengapa adegan potong bukanlah obat mujarab</a></li>
<li><a href="../id479776/index.html">Perjalanan profesional: bagaimana pramugari hidup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>