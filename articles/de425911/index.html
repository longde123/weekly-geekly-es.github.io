<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§úüèª üë®üèø‚Äçüè≠ ü§∂üèΩ √úbertragen Sie Cloud CRM in die Box-Version üçµ üåÆ üêõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn die Funktionen des Cloud-Service bereits knapp werden und der √úbergang zur Box-Version als n√§chster logischer Schritt f√ºr die Weiterentwicklung d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√úbertragen Sie Cloud CRM in die Box-Version</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425911/">  Wenn die Funktionen des Cloud-Service bereits knapp werden und der √úbergang zur Box-Version als n√§chster logischer Schritt f√ºr die Weiterentwicklung des Unternehmensportals und des CRM-Systems angesehen wird, stellt sich f√ºr Unternehmen die Frage, wie dies zu tun ist, was sie erwartet und ob nach der √úbertragung alles √ºbrig bleibt. <br><a name="habracut"></a><br>  Es scheint, dass alles ganz einfach ist: <br><br><ul><li>  Erweitern Sie den Host mit der Box. </li><li>  Wir schreiben technischen Support. </li><li>  Wir bestellen ein Backup; </li><li>  Wir freuen uns darauf; </li><li>  Wir stellen das Backup bereit und genie√üen die vielf√§ltigen M√∂glichkeiten der Box-Version. </li></ul><br>  Die Praxis zeigt jedoch, dass der √úbergang von der Cloud zur Box-Version alles andere als trivial ist und einen klaren Aktionsplan, eine Analyse m√∂glicher Risiken und die Bereitschaft erfordert, dass alles schief geht. <br><br>  Wir wurden von einem gro√üen Entwickler mit einem hoch geladenen CRM-System angesprochen, das auf der Bitrix24-Cloud basiert.  Vertriebsleiter aus verschiedenen Unternehmensbereichen arbeiteten aktiv im CRM. Das Portal wurde in die Asterisk IP-Telefonie integriert, um automatisch Leads zu erstellen, Gespr√§che mit Kunden aufzuzeichnen und Anrufdaten auf einer Kundenkarte in CRM aufzuzeichnen.  Pro Tag wurden in CRM √ºber verschiedene Kan√§le mehr als 100 Leads erstellt. <br><br>  Es war klar, dass jede einfache Zeit w√§hrend der √úbertragung auf die Box-Version den Kunden mit enormen Verlusten bedroht.  Nachdem wir mit dem Kunden √ºber die Schwere des √úbergangs und die m√∂glichen Risiken gesprochen hatten, machten wir uns an die Arbeit. <br><br>  Zun√§chst analysierten wir die vorhandenen F√§lle und Ver√∂ffentlichungen zum √úbertragen der Cloud in die Box und erstellten eine detaillierte Checkliste mit Fehlern, auf die wir m√∂glicherweise sto√üen: <br><br><ul><li>  Anwendungen, die in der Cloud ausgef√ºhrt werden, befinden sich nicht in der Box. </li><li>  Die Kosten f√ºr Lizenzen f√ºr Anwendungen f√ºr die Cloud-Version und die Box k√∂nnen variieren. </li><li>  Das Risiko, Daten aufgrund einer Zeitverz√∂gerung w√§hrend der √úbertragung zu verlieren; </li><li>  Einige Benutzer aus verschiedenen Branchen arbeiten nach der √úbertragung weiterhin am Cloud-Dienst. Au√üerdem m√ºssen die von ihnen in CRM erstellten Entit√§ten zus√§tzlich gesucht und √ºbertragen werden. </li><li>  Auf dem geschlossenen Portal funktioniert die mobile Anwendung des Dienstes nicht. </li><li>  Nach der √úbertragung k√∂nnen sich einige Benutzer nicht mit ihrem alten Passwort anmelden. </li><li>  Es kann zu Fehlfunktionen in den Chat-Bots kommen. </li><li>  H√§ufiges Zur√ºcksetzen der Autorisierung bei der Arbeit am Portal; </li><li>  Es kann nur ein Teil der Aufgabenkommentare angezeigt werden. </li><li>  Die Datenbank wird ohne Suchindex sein. </li></ul><br>  Als n√§chstes wurde ein klarer Algorithmus f√ºr Aktionen mit einer Aufschl√ºsselung nach Rollen erstellt, der sowohl vom Auftragnehmer als auch vom Kunden ausgef√ºhrt werden musste: <br><br>  <b>1 Phase (Dringlichkeitsmedium)</b> <br><br><ul><li>  Bereitstellung der Produktionsumgebung (Auftragnehmer); </li><li>  Testen der bereitgestellten Umgebung (Auftragnehmer); </li><li>  Bereitstellung der Box-Version auf Hosts (Auftragnehmer); </li><li>  Kauf und Installation eines SSL-Zertifikats f√ºr Telefonie (Kundenkauf, Auftragnehmerinstallation); </li><li>  Testen der Box-Version - Leistung, Parameter, interne Tests (Auftragnehmer). </li><li>  Bereitstellung der Vorproduktionsumgebung - eine vollst√§ndige Kopie der Produktion (Auftragnehmer). </li></ul><br>  <b>2 Phasen (Dringlichkeit hoch)</b> <br><br><ul><li>  Anwendung zum Entladen von Backups.  Koordination mit dem technischen Support des Dienstes des Sicherungsdatums (Kunde); </li><li>  Informieren der Benutzer √ºber das Sicherungsdatum und Erstellen eines Plans f√ºr die vor√ºbergehende Speicherung von Informationen aus CRM (Kunde); </li><li>  Bereitstellung eines Backups in der Produktion (Auftragnehmer); </li><li>  Einrichten des Portals nach dem Backup (Auftragnehmer); </li><li>  Einrichten eines Telefonieservers f√ºr die Arbeit mit dem Portal (Kunde); </li><li>  Einrichten eines Telefoniemoduls (Auftragnehmer); </li><li>  Erste Telefonietests (Kunde); </li><li>  Eingehende Pr√ºfung von CRM-, Telefonie- und CRM-Gesch√§ftsprozessen (Kundenvertriebsabteilung); </li><li>  Gesundheitserkl√§rung.  L√∂schen von Testdaten (Kunde); </li><li>  Stoppen von Vertriebsleitern im Cloud-Service (Kunde); </li><li>  √úbertragung von Transaktionen, Leads und Kontakten ab dem Zeitpunkt der Erstellung des Backups von der Cloud-Version auf die Box (Auftragnehmer); </li><li>  Beginn der Arbeit der Vertriebsleiter an der Boxversion (Kunde). </li></ul><br>  <b>3 Phasen (Dringlichkeit niedrig)</b> <br><br><ul><li>  Testen der Box-Version innerhalb von 2-3 Tagen (Kunde); </li><li>  Genehmigung der vollen Leistung (Kunde); </li><li>  Aktualisieren der Vorproduktion - √úbertragen einer vollst√§ndigen Kopie der Produktion (Auftragnehmer). </li></ul><br>  Nachdem wir diesen Plan erstellt und eine Checkliste mit m√∂glichen Fehlern erstellt hatten, stellten wir fest, dass wir aufgrund der gro√üen Anzahl von Unsicherheiten zu viele Risiken haben: <br><br><ul><li>  Wie schnell wird der Dienst ein Backup bereitstellen? </li><li>  Wie lange dauert die Bereitstellung eines Backups, da die CRM-Datenbank sehr gro√ü ist? </li><li>  Wie schnell kann ich das Modul und den Telefonieserver neu konfigurieren, damit es ordnungsgem√§√ü mit CRM funktioniert? </li><li>  Welche spezifischen Fehler k√∂nnen im Portal auftreten, wie wichtig sind sie f√ºr die Arbeit der Benutzer und wie lange kann es dauern, sie zu beheben? </li></ul><br>  Wir haben festgestellt, dass wir eine unbestimmte Zeitverz√∂gerung haben, die mit zunehmender Zunahme dem Kunden immer mehr Verluste bringen w√ºrde.  Um die Zeitverz√∂gerung zu minimieren, musste verstanden werden, wie viel Zeit wir f√ºr das Portieren und Debuggen des Portals aufwenden. <br><br>  Wir sind daher zu dem Schluss gekommen, dass ein Backup aus der Cloud nicht ausreicht. Um Verluste zu minimieren, muss ein Backup bereitgestellt werden - um alle m√∂glichen Risiken zu identifizieren und die Zeitverz√∂gerung abzusch√§tzen, und dann ein zweites Backup, das wir so planen k√∂nnen, dass Verluste minimiert werden . <br><br>  Bitrix bietet nur ein Backup und nur einmal, da der Transfer von der Cloud in die Box technisch kompliziert ist.  Wenn wir uns dem technischen Support zuwenden und den Kunden mit diesem Problem verbinden, haben wir immer noch die M√∂glichkeit, zwei Backups aus der Cloud zu unterschiedlichen Zeiten bereitzustellen.  Der Zeitpunkt der ersten Sicherung wurde vereinbart und die √úbertragungsarbeiten begannen. <br><br><h3>  Volumen, Geschwindigkeit und defekte Teile </h3><br>  Um zu verstehen, wie viel und wie viel Zeit wir brauchen, haben wir begonnen, ein Tagebuch zu f√ºhren, in dem wir jeden Schritt aufgezeichnet haben. <br><br>  Daher begann das Portal am Donnerstagabend mit der Sicherung des Dienstes, dh das CRM verf√ºgte Ende Donnerstag √ºber die neuesten Daten und stellte uns am Freitagnachmittag einen Link zur Sicherung zur Verf√ºgung.  Hier stie√üen wir auf die erste Schwierigkeit: Das Backup wog ungef√§hr 30 GB, und die Download-Geschwindigkeit von den Amazon.com-Servern, auf denen die Cloud gehostet wurde, war alles andere als ideal (durchschnittlich 800 KBit / s).  Nachdem wir ungef√§hr die Zeit berechnet hatten, in der mehrere Teile des Backups geladen wurden, stellten wir fest, dass das Herunterladen nur des Backups insgesamt etwa 10 Stunden dauern w√ºrde. <br><br>  Das n√§chste Problem war das Auftreten von Fehlern beim Pumpen verschiedener Teile des Backups, die nur bei der Bereitstellung erkannt wurden.  Diese Teile verursachten in der Regel auch einen Hash-Mismatch-Fehler. Aus diesem Grund musste der fehlerhafte Teil des Archivs im Fehlertext identifiziert und manuell √ºber SSH √ºbertragen werden. Anschlie√üend wurde das Entpacken der gesamten Sicherung von Grund auf neu gestartet. <br><br>  Nachdem wir erfolgreich ein Backup auf unsere Hosts heruntergeladen und bereitgestellt hatten, erhielten wir eine Arbeitskopie der Cloud in der Box und fuhren mit dem n√§chsten Schritt fort - Testen und Debuggen des Portals. <br><br><h3>  Kleinere Fehler und heimt√ºckisches Dr√ºcken und Ziehen </h3><br>  Zu unserer √úberraschung verliefen die Box-Tests relativ reibungslos.  Wir haben CRM getestet, alle Tools des Dienstes durchgesehen, die Funktionalit√§t des Messenger √ºberpr√ºft, interne Tests durchgef√ºhrt und nur drei Fehler festgestellt: <br><br><ul><li>  Das Symbol f√ºr Dateianh√§nge im Messenger verschwand und das Senden von Dateien im Messenger als Ganzes funktionierte nicht. </li><li>  Links in Benachrichtigungen hatten eine Adresse ohne Domain, zum Beispiel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Firma / Personal / Benutzer / 1250 / Aufgaben / Aufgabe / Ansicht</a> funktionierten nicht; </li><li>  Einige Benutzer konnten sich nicht mit einem falschen Anmelde- / Kennwortfehler beim Portal anmelden. </li></ul><br>  Wir wussten, dass es nicht m√∂glich ist, sich nach der √úbertragung im Voraus anzumelden. Der Dienst warnt Sie sofort, wenn Sie ein Backup bereitstellen.  Leider kann dieses Problem nur dadurch gel√∂st werden, dass Benutzer das Kennwort wiederherstellen oder die Kennw√∂rter f√ºr jeden Benutzer vom Administrator manuell √§ndern, da die Kennw√∂rter von Bitrix24.Network nicht im Portal gespeichert sind. <br><br>  Der Fehler mit Links in Benachrichtigungen wurde schnell genug behoben - durch Registrieren der Portaldom√§ne in den Site-Einstellungen und den Einstellungen des Hauptmoduls. <br><br>  Das fehlende Symbol f√ºr Dateianh√§nge im Messenger sorgte jedoch f√ºr einige Sorgen.  Die Aufgabe dauerte weitere Stunden erfolgloser Versuche, den Grund f√ºr das fehlende Symbol zu verstehen.  Als Ergebnis stellten wir fest, dass der Grund weit davon entfernt war, wie urspr√ºnglich angenommen im Festplattenmodul zu liegen.  Der Grund lag im getrennten Push-Server in den Einstellungen des Push &amp; Pull-Moduls, das die Datei√ºbertragung im Messenger automatisch ausschaltete. <br><br><h3>  Abschlie√üende Pr√ºfung </h3><br>  Nach erfolgreichem Testen und Debuggen des Portals wurde ein detaillierter Bericht f√ºr den Kunden erstellt. Der n√§chste Schritt war ein gr√ºndliches Testen durch die Vertriebsabteilung des CRM-Kunden sowie das Einrichten des Telefonieservers f√ºr die Arbeit mit der Box und das Testen von Anrufen. <br><br>  W√§hrend des Tests wurden keine signifikanten Probleme festgestellt.  Wir haben einen Testhost bereitgestellt und eine vollst√§ndige Kopie des Kampfportals darauf gerollt, falls wir eine zu 100% funktionierende Version des Portals hatten, und gem√§√ü denen wir einen Vergleich in den Einstellungen durchf√ºhren konnten, wenn nicht standardm√§√üige Fehler auftraten, die beim Testen der ersten Sicherung nicht erkannt wurden. <br><br>  Nachdem wir eine Kopie des Portals bereitgestellt hatten, gingen wir zur Analyse des Journals √ºber, in der wir Fehler und die Zeit zu ihrer Behebung behoben haben.  Nach eingehender Analyse des Magazins haben wir den Plan f√ºr die √úbertragung des zweiten Backups aktualisiert, festgestellt, wie viel Leads wir w√§hrend der endg√ºltigen √úbertragung verlieren k√∂nnen, und zus√§tzliche Zeit f√ºr den manuellen Import verlorener Leads aus der Cloud-Version eingeplant.  Alle Details und Risiken wurden ebenfalls mit dem Kunden besprochen und ein Brief an den technischen Support des Dienstes mit der Bitte um Vorbereitung eines zweiten Backups gesendet. <br><br><h3>  Zweites Backup und warum kann alles schief gehen? </h3><br>  Nachdem wir uns auch am Donnerstag auf die Erstellung der Backups geeinigt hatten, bereiteten wir das Team am Freitag um 12.00 Uhr auf die operativen Ma√ünahmen vor.  Innerhalb von 12-13 Stunden haben wir den lang erwarteten Link erhalten und mit dem Download begonnen.  Ein paar Stunden sp√§ter war klar, dass das Archiv nicht f√ºr 10 Stunden abgepumpt werden w√ºrde, sondern f√ºr ungef√§hr 14!  Die Bandbreite des Kanals unseres Providers und der Amazon.com-Server an diesem Tag lie√ü zu w√ºnschen √ºbrig.  Wir bereiteten uns auf die Nachtarbeit vor, da die Leads weiter sanken und der Kunde auf einen Bericht wartete, um mit der Einrichtung des Telefonieservers zu beginnen. <br><br>  Wie so oft verlief nicht alles nach Plan.  Der n√§chste Schritt bestand darin, die akkumulierten Leads von der Cloud-Version in die Box zu √ºbertragen - der Prozess ist einfach und klar, hat aber seine eigenen Nuancen.  Wenn Sie in der Liste der Leads die Leads ausw√§hlen, die exportiert werden sollen, und auf "In CSV exportieren" klicken, werden alle vorhandenen Leads in CRM entladen, nicht nur die ausgew√§hlten.  Es ist logisch, dass bei einer gro√üen Lead-Datenbank die Cloud in einen Fehler geraten ist.  Die L√∂sung bestand darin, einen Filter zu verwenden, nur in diesem Fall wurden die Leitungen korrekt entladen. <br><br>  Weitere Tests verliefen ohne √úberraschungen, wie wir bereits wussten: Was wird nicht funktionieren, wie kann es behoben werden und wo.  Nachdem die Telefonie erfolgreich verbunden und getestet wurde, arbeiteten die Vertriebsleiter am Montag bereits vollst√§ndig mit CRM in der Box-Version.  Und bereits seit einer Woche in Betrieb, haben wir das Portal optimiert, gesichert und eine endg√ºltige Kopie des Portals f√ºr den Testhost erstellt. <br><br>  Der gesamte √úbertragungsprozess dauerte vom Planungszeitpunkt bis zu den endg√ºltigen Einstellungen etwa eine Woche. <br><br>  Infolgedessen m√∂chte ich darauf hinweisen, wie wichtig es ist, solche komplexen und riskanten Projekte zu planen, den Kunden in den Prozess einzubeziehen und m√∂gliche Risiken auszusprechen, obwohl Abweichungen vom Plan, wie die Praxis zeigt, keine Ausnahme darstellen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de425911/">https://habr.com/ru/post/de425911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425899/index.html">Ameisenh√ºgel oder Festung? Ich baue ein Haus zum Preis einer Wohnung. 1 Teil</a></li>
<li><a href="../de425901/index.html">Wetterstation auf Arduino von A bis Z. Teil 1</a></li>
<li><a href="../de425903/index.html">Urlaub kommt zu uns: SCRF hat das ISM-Band von 868 MHz verdoppelt</a></li>
<li><a href="../de425905/index.html">So schreiben Sie Assembler-Code mit √ºberlappenden Anweisungen (eine andere Technik zum Verschleiern von Bytecode)</a></li>
<li><a href="../de425907/index.html">Wir machen ein maschinelles Lernprojekt in Python. Teil 2</a></li>
<li><a href="../de425915/index.html">Wie grenz√ºberschreitende Kommunikation Ampeln ersetzen und den Weg zur Arbeit verk√ºrzen kann</a></li>
<li><a href="../de425917/index.html">Der Justizk√§mpfer verhindert, dass Waymo die Schl√ºssel-Lidar-Technologie patentiert</a></li>
<li><a href="../de425919/index.html">Hexagon-Karten in Unity: Speichern und Laden, Texturen, Entfernungen</a></li>
<li><a href="../de425921/index.html">.NET Community-Meeting auf CLRium # 4 + online</a></li>
<li><a href="../de425923/index.html">25 Jahre altes Schicksal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>