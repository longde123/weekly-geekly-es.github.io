<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèæ üë®üèæ‚Äçüç≥ üßëüèæ Caminh√£o de carrinho ROS - Parte 2. Software ü§∞üèº üßî üõèÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Posts da s√©rie: 
 8. N√≥s controlamos a partir do telefone-ROS Control, GPS-node 
 7. Localiza√ß√£o do rob√¥: gmapping, AMCL, pontos de refer√™ncia no mapa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Caminh√£o de carrinho ROS - Parte 2. Software</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461131/"> Posts da s√©rie: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">8. N√≥s controlamos a partir do telefone-ROS Control, GPS-node</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">7. Localiza√ß√£o do rob√¥: gmapping, AMCL, pontos de refer√™ncia no mapa da sala</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">6. Odometria com codificadores de roda, mapa da sala, lidar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">5. Trabalhamos em rviz e gazebo: xacro, novos sensores.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">4. Crie uma simula√ß√£o de rob√¥ usando os editores rviz e gazebo.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">3. Acelere, troque a c√¢mera, conserte a marcha</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2. Software</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1. Ferro</a> <br><br><h2>  Passando para o sorriso </h2><br>  Depois de montar o ‚Äúhamb√∫rguer‚Äù de acordo com o esquema da √∫ltima <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">postagem</a> , prosseguimos para o conte√∫do do software. <br><br>  Como estamos coletando um projeto j√° conclu√≠do, √© l√≥gico fornecer as instru√ß√µes indicadas nele.  Eles est√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Tudo √© muito conveniente e, no mesmo local, voc√™ pode baixar uma imagem pronta do Raspbian Stretch + ROS + OpenCV, grav√°-la em um cart√£o SD para framboesa.  (ROS Kinetic, OpenCV 3.4.1. Sim, existe um mais novo, mas √†s vezes √© melhor pegar e ir do que coletar tudo da fonte). <br><a name="habracut"></a><br>  No entanto, apesar da comodidade, ainda precisava corrigir um pouco a imagem.  Desde que saiu alguns detalhes desconfort√°veis ‚Äã‚Äãda imagem original: <br><br><ul><li>  sem GUI (interface gr√°fica).  Isso n√£o √© cr√≠tico, especialmente para o ROS, mas para rodar em uma linha, √© necess√°rio calibrar a c√¢mera na pr√≥pria framboesa e ver como ela (a c√¢mera) transmite cores (mais sobre isso abaixo); </li><li>  O assembly OpenCV n√£o exibe a imagem na tela, mesmo se voc√™ instalar a GUI.  Obviamente, no projeto rosbots, o opencv foi constru√≠do sem essa op√ß√£o. </li><li>  sem muletas pequenas (VNC, editor de texto para anota√ß√µes, mc). </li><li>  Portanto, o OpenCV foi reconstru√≠do com suporte para sa√≠da de imagem na GUI (compilada pelo openCV 3.4.3), uma GUI foi instalada, pequenas muletas. </li></ul><br>  A imagem final est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> e mais trabalhos ser√£o constru√≠dos com base. <br><br><h2>  Configurar a rede (wi-fi) e o ROS-master no raspberry pi </h2>  . <br>  Eu recomendo fortemente que experimentos usem um roteador separado com seu wi-fi.  Voc√™ pode simplesmente criar um ponto de acesso no seu telefone para esses fins.  Isso se deve ao fato de muitos pacotes passarem por wi-fi e, de prefer√™ncia, n√£o afundarem no tr√°fego geral. <br><br>  Depois de carregar a imagem no cart√£o SD raspberry, configure a rede.  As configura√ß√µes iniciais da rede s√£o as seguintes: <br><br><pre><code class="bash hljs">interface wlan0 static ip_address=192.168.43.174/24 static routers=192.168.43.1 static domain_name_servers=192.168.43.1</code> </pre> <br>  Encontrado em /etc/dhcpcd.conf <br><br>  Portanto, voc√™ n√£o pode conectar as mangueiras ao raspberry para alterar tudo, mas simplesmente crie um ponto de acesso com o nome do chefe e a senha 1234554321. O endere√ßo do raspberry ser√° 192.168.43.174.  Al√©m do ssh, voc√™ tamb√©m pode acessar este endere√ßo via VNC: login - pi, senha - 123qweasdzxcV. <br><br>  <b>Vamos configurar o mestre ROS</b> <br><br>  Uma pequena observa√ß√£o para aqueles que n√£o encontraram o ROS (sistema de opera√ß√£o rob√≥tica).  Um mestre de ROS √© um intermedi√°rio atrav√©s do qual n√≥s diferentes se comunicam em ros (n√≥s, servi√ßos, etc.) Se o mestre de ros n√£o estiver em execu√ß√£o ou em execu√ß√£o no endere√ßo errado, os n√≥s n√£o se ver√£o. <br><br>  Em nosso sistema ROS, o assistente inicia automaticamente com o carregamento do sistema operacional e tudo o que √© necess√°rio para n√≥s √© especificar o endere√ßo IP do assistente ROS no arquivo de sistema correspondente. <br><br>  Se voc√™ n√£o alterou as configura√ß√µes de rede listadas acima, n√£o precisar√° configurar nada. <br><br>  Caso contr√°rio, edite o bashrc: <br><br><pre> <code class="bash hljs">nano ~/.bashrc</code> </pre> <br>  No final do arquivo, corrija os endere√ßos IP (ambos) para o seu caso: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_MASTER_URI=http://192.168.43.174:11311 <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> ROS_HOSTNAME=192.168.43.174</code> </pre><br>  Reinicie. <br><br>  Agora, ao iniciar o terminal no carrinho, a sa√≠da ser√° assim (ou o que voc√™ especificou nas configura√ß√µes): <br><br><pre> <code class="plaintext hljs">For all slaves, "export ROS_MASTER_URI=http://192.168.43.174:11311"</code> </pre> <br>  Isso significa que o mestre do ROS funciona no endere√ßo IP especificado. <br><br><h2>  Controlamos o carrinho em wi-fi </h2><br>  Vamos verificar desde o in√≠cio que os n√≥s funcionam para n√≥s. <br><br>  No terminal: <br><br><pre> <code class="bash hljs">rosnode list</code> </pre> <br>  A sa√≠da ser√° assim: <br><br>  / rosout <br>  / uno_serial_node <br><br>  Se nada der resultado, verifique se voc√™ registrou o ROS-master nas configura√ß√µes descritas acima, se conectou a mangueira USB ao arduino, reiniciada. <br><br>  Ap√≥s a verifica√ß√£o, execute o 1¬∫ n√≥ respons√°vel pelo movimento: <br><br><pre> <code class="bash hljs">rosrun rosbots_driver part2_cmr.py</code> </pre> <br>  * comando ros especial lan√ßa o arquivo part2_cmr.py do pacote python rosbots_driver <br><br>  O sistema informar√° que o n√≥ est√° executando: <br><br><img src="https://habrastorage.org/webt/fd/pi/bh/fdpibhvndu-d6cxfonymmdcklsu.png"><br><br>  Aqui voc√™ pode ver que o raio das rodas e a dist√¢ncia entre elas s√£o determinados.  Voc√™ pode corrigir esses valores, bem como outros relacionados ao movimento no arquivo robot.py ao longo do caminho <br><br><pre> <code class="bash hljs">/home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/examples/coursera_control_of_mobile_robots/part2/full/controller</code> </pre> <br>  j√° que o pr√≥prio part2_cmr.py n√£o possui esses par√¢metros.  Abra o segundo terminal e entre na lista rost√≥pica: <br><br><img src="https://habrastorage.org/webt/5d/1v/4t/5d1v4tmlmyminhgqzkkciavcvq4.png"><br><br>  Aqui voc√™ pode ver que o t√≥pico / part2_cmr / cmd_vel apareceu.  Neste t√≥pico, / part2_cmr "escuta" o que outros n√≥s dir√£o a ele e, dependendo do que eles dizem, controlar√° o movimento.  O que exatamente "escuta", mas n√£o "fala" pode ser entendido usando o comando <br><br><pre> <code class="bash hljs">rostopic info /part2_cmr/cmd_vel</code> </pre> <br><img src="https://habrastorage.org/webt/ts/bp/pj/tsbppjpegozrwhekno2hebxtwte.png"><br><br>  Aqui voc√™ pode ver o assinante / part2_cmr (inscrito) no t√≥pico e ouvir. <br><br>  * Voc√™ pode "dizer" algo sobre o t√≥pico, sem n√≥s. <br><br>  Por exemplo: <br><br><pre> <code class="bash hljs">rostopic pub -1 /wheel_power_left std_msgs/Float32 <span class="hljs-string"><span class="hljs-string">'{data: 1.0}'</span></span></code> </pre> <br>  vire para a frente com a roda esquerda <br><br><pre> <code class="bash hljs">rostopic pub -1 /wheel_power_left std_msgs/Float32 <span class="hljs-string"><span class="hljs-string">'{data: 0.0}'</span></span></code> </pre> <br>  pare a roda esquerda <br><br><pre> <code class="bash hljs">rostopic pub -1 /wheel_power_left std_msgs/Float32 <span class="hljs-string"><span class="hljs-string">'{data: -1.0}'</span></span></code> </pre> <br>  Volte para tr√°s com uma roda <br><br><pre> <code class="bash hljs">rostopic pub -1 /wheel_power_left std_msgs/Float32 <span class="hljs-string"><span class="hljs-string">'{data: -0.5}'</span></span></code> </pre> <br>  Volte com a roda esquerda mais lenta. <br><br>  A sintaxe √©: pub rost√≥pico - desejo de falar no t√≥pico, -1 - desejo √∫nico, / wheel_power_left - t√≥pico em que dizemos, std_msgs / Float32 - idioma (formato da mensagem), '{data: -0.5}' - o que dizemos. <br><br>  Agora execute o que falar√° no t√≥pico / part2_cmr / cmd_vel.  Este ser√° o n√≥ de envio do comando do teclado. <br><br>  Sem fechar o terminal anterior com um n√≥ ativo, execute outro e digite: <br><br><pre> <code class="bash hljs">rosrun teleop_twist_keyboard teleop_twist_keyboard.py /cmd_vel:=/part2_cmr/cmd_vel</code> </pre> <br>  * Como a publica√ß√£o √© por padr√£o no t√≥pico / cmd_vel, n√≥s a redirecionamos usando <br>  / cmd_vel: = / part2_cmr / cmd_vel para que as mensagens sejam inseridas em / part2_cmr / cmd_vel. <br><br>  O n√≥ de controle foi iniciado e voc√™ pode montar pressionando as teclas do teclado: <br><br><img src="https://habrastorage.org/webt/fy/bz/fl/fybzflgbhdqykv-vvxhk72qy_hq.png"><br><br>  Se for imposs√≠vel dirigir ou houver um ru√≠do sutil por baixo das rodas, voc√™ precisar√° aumentar a velocidade clicando em "w" no terminal com o n√≥ em execu√ß√£o.  O mesmo (aumentar ou diminuir) pode ser feito com a velocidade de rota√ß√£o - o bot√£o ‚Äúe‚Äù.  Tamb√©m √© importante estar em um terminal com um n√≥ em execu√ß√£o se os bot√µes de controle n√£o funcionarem se voc√™ alternar para outro terminal.  O bot√£o "k" no terminal de controle √© uma parada. <br><br>  Em um terminal separado, observe o t√≥pico / part2_cmr / cmd_vel: <br><br><img src="https://habrastorage.org/webt/su/ab/cr/suabcrxmna11bzfmnxqsdzq0rxs.png"><br><br>  Agora, no t√≥pico / part2_cmr / cmd_vel, h√° um orador e um ouvinte. <br><br><h2>  Montando a linha no OpenCV </h2><br>  Antes de ir a algum lugar, voc√™ precisa garantir que o rob√¥ viaje com o controle do teclado.  Uma observa√ß√£o importante √© necess√°ria aqui.  Ao controlar a partir do teclado no exemplo acima, girar para a esquerda deve corresponder a pressionar a tecla j, para a direita l (latim l), avan√ßar i, voltar, (v√≠rgula).  Se esse n√£o for o seu caso, pode haver problemas com a viagem.  Para trazer tudo de volta ao normal, √© necess√°rio alterar os pares de fios provenientes do motorista do motor para as pernas do arduino em nosso hamb√∫rguer 4,5,6,7 arduino: 4,5 para trocar com 6,7 ou 4 e 5,6 e 7 cada um com outro dependendo de onde as rodas girar√£o.  Voc√™ tamb√©m pode fazer isso programaticamente ajustando o c√≥digo do arduino no caminho - /home/pi/gitspace/rosbots_driver/platformio/rosbots_firmware/examples/motor_driver/src/main.cpp <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#define M_LEFT_PWM 6 #define M_LEFT_FR 7 #define M_RIGHT_PWM 5 #define M_RIGHT_FR 4</span></span></code> </pre><br>  e recarregando-o no arduino com o comando: <br><br><pre> <code class="bash hljs">upload_firmware ~/gitspace/rosbots_driver/platformio/rosbots_firmware/examples/motor_driver</code> </pre> <br>  <b>Vamos trabalhar com flores</b> <br><br>  Nossa experi√™ncia em jardinagem ser√° destacar a linha no ch√£o que o rob√¥ percorrer√°, para determinar sua cor.  Por padr√£o, o rob√¥ n√£o o v√™.  Como uma linha, voc√™ pode usar fita adesiva (amarela) ou fita, ou qualquer outra coisa com uma cor caracter√≠stica e bastante ampla.  * √â improv√°vel que a fita adesiva transparente funcione, porque  ser√° dif√≠cil distinguir do plano de fundo. <br><br>  Vamos para a pasta e execute o script: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver python bgr-to-hsv.py</code> </pre> <br>  * Aten√ß√£o!  Se voc√™ usar a imagem original de rosbots, e n√£o a minha, este programa n√£o estar√° l√°. <br><br>  Duas janelas se abrir√£o: <br><br><img src="https://habrastorage.org/webt/_v/qy/lw/_vqylwcxaerfndl2h7fgomt2zcy.png"><br><br>  Aqui est√£o as faixas de cores em HSV.  O que √© hsv e por que n√£o rgb, pesquise no google voc√™ mesmo. <br><br>  h1, s1, v1 - inferior e h2, s2, v2 - respectivamente, a faixa superior. <br><br>  Agora voc√™ precisa selecionar uma linha com fita isolante (talvez n√£o fita, mas fita adesiva) no ch√£o movendo os controles deslizantes da janela.  Somente a linha de fita isolante deve permanecer na janela de resultado: <br><br><img src="https://habrastorage.org/webt/xv/4y/cs/xv4ycskbhskfqq-1pwzgc_-llgc.png"><br><br>  A linha de fita isolante √© estranhamente branca, todo o resto √© preto.  Este resultado √© necess√°rio. <br>  Grave, lembre-se dos n√∫meros das faixas HSV.  Meu caso √© 56.155,40 e 136.255.255.  As faixas HSV ser√£o diferentes sob diferentes condi√ß√µes de ilumina√ß√£o pr√≥ximas √† c√¢mera do rob√¥. <br><br>  Feche as janelas digitando ctrl + c no terminal e adicione os intervalos HSV ao arquivo follow_line_step_hsv.py: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver nano follow_line_step_hsv.py</code> </pre> <br>  Nas linhas: <br><br><pre> <code class="plaintext hljs">lower_yellow = np.array([21,80,160]) upper_yellow = np.array([255,255,255])</code> </pre> <br>  Colocamos os n√∫meros de nossas faixas HSV. <br><br>  <b>Hora de andar na linha</b> <br><br>  Iniciamos o n√≥ do motor no terminal 1: <br><br><pre> <code class="bash hljs">rosrun rosbots_driver part2_cmr.py</code> </pre> <br>  Inicie o n√≥ da c√¢mera no segundo terminal: <br><br><pre> <code class="bash hljs">sudo modprobe bcm2835-v4l2 roslaunch usb_cam usb_cam-test.launch</code> </pre><br>  Execute o n√≥ opencv no terceiro terminal: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver python follow_line_step_hsv.py</code> </pre><br>  Se tudo correu bem, o rob√¥ seguir√° a linha e uma janela adicional aparecer√°: <br><br><img src="https://habrastorage.org/webt/bk/ug/aj/bkugajoo0itqwwkbn8zckbm2mvy.png"><br><br>  Nesta janela, a fita el√©trica ser√° marcada com um c√≠rculo vermelho. <br><br>  O significado geral do c√≥digo √© destacar o segmento de cores a uma certa dist√¢ncia da c√¢mera, desenhar um c√≠rculo vermelho e ir para esse c√≠rculo, tentando mant√™-lo no centro. <br><br><h2>  Finalmente, sobre o importante - sobre gatos e sorrisos </h2><br>  Como nosso objetivo √© ir ao gato ou a uma pessoa sorridente, teremos que usar algo mais complicado em nosso c√≥digo.  Tamb√©m precisaremos de gatos e pessoas sorridentes.  O segundo agora √© mais dif√≠cil: poucas pessoas sorriem neste momento dif√≠cil e alarmante.  Ent√£o, vamos come√ßar com gatos. <br><br>  Para experimentos, fotos de gatos no rosto s√£o adequadas. <br><br>  Execute o n√≥ da c√¢mera no 1¬∫ terminal: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver python pi_camera_driver.py</code> </pre> <br>  No segundo terminal, o n√≥ do motor: <br><br><pre> <code class="bash hljs">rosrun rosbots_driver part2_cmr.py</code> </pre> <br>  No terceiro terminal do n√≥ de pesquisa de gato: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver python follow_cat2.py</code> </pre> <br>  O carrinho ir√° se mover gradualmente para o gato: <br><br><img src="https://habrastorage.org/webt/xj/yr/fm/xjyrfmqyd4lw2gv_neuscw7aus0.png"><br><br>  Agora voc√™ precisa de um volunt√°rio que saiba sorrir.  Tire um retrato de uma figura p√∫blica pouco conhecida em um pa√≠s pequeno. <br><br>  No terceiro terminal do n√≥ de pesquisa do gato, voc√™ pode fechar - ctrl + ce come√ßar a procurar um sorriso no rosto de uma pessoa p√∫blica pouco conhecida: <br><br><pre> <code class="bash hljs">python follow_smile.py</code> </pre> <br>  O carrinho ter√° que dirigir devagar, incr√©dulo, para o sorriso de uma pessoa pouco conhecida: <br><br><img src="https://habrastorage.org/webt/5z/01/tr/5z01tr6a1npd3gppcqotqn5item.png"><br><br>  Como muitos j√° devem ter adivinhado, os scripts que executamos usam as cascatas Haar.  Pelo mesmo princ√≠pio de uma viagem ao longo da linha, um quadrado da √°rea desejada √© destacado e o programa tenta mant√™-lo no centro movendo o rob√¥. <br><br>  Infelizmente, o desempenho no raspberry 3b deixa muito a desejar, apesar das configura√ß√µes da c√¢mera de 320x240 e 15 Fps.  Atrasos s√£o vis√≠veis com o aumento do tempo.  Nem todo gato aguenta. <br><br>  Como isso pode ser melhorado? <br><br>  Tente recriar o opencv otimizado, como recomenda Adrian (https://www.pyimagesearch.com/2017/10/09/optimizing-opencv-on-the-raspberry-pi/)?  Usar recursos externos do PC para processamento de imagem?  Tente n√£o compactar imagens em jpeg que voam para o manipulador Haar?  E mais um grande menos - os gatos devem ser grandes e na frente.  Dist√¢ncia de 15 cm em folha A4.  Ao se afastar da c√¢mera, o gato j√° √© irreconhec√≠vel e invulner√°vel.  Colocar um mon√≥culo de framboesa na c√¢mera com amplia√ß√£o de 8x? <br><br>  PS: Se voc√™ come√ßar suas experi√™ncias com a imagem fornecida no artigo, ainda poder√° andar por diferentes partes do corpo, iniciando em vez do n√≥ do gato: <br><br><pre> <code class="bash hljs">python follow_fullbody.py python follow_upperbody.py python follow_lowerbody.py</code> </pre><br>  face ou olho: <br><br><pre> <code class="bash hljs">python follow_face.py python follow_right_eye.py</code> </pre> <br>  Se voc√™ estiver interessado em como se afastar sem problemas para que o rob√¥ n√£o derrame ch√°, bem como em como oper√°-lo n√£o com a pr√≥pria framboesa, escreva. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt461131/">https://habr.com/ru/post/pt461131/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt461113/index.html">Cinco anos de uso do C ++ em projetos de microcontroladores em produ√ß√£o</a></li>
<li><a href="../pt461121/index.html">Pequenas experi√™ncias multitarefa em um microcontrolador</a></li>
<li><a href="../pt461125/index.html">A tarefa de criar c√≥digos num√©ricos seq√ºenciais para numerar mensagens no c√≥digo-fonte no Visual Studio (ex. C #)</a></li>
<li><a href="../pt461127/index.html">An√°lise de desempenho da VM no VMware vSphere. Parte 3: Armazenamento</a></li>
<li><a href="../pt461129/index.html">Sobre kote, esposa, dois filhos, a id√©ia ... e n√£o apenas. Hist√≥ria com continua√ß√£o</a></li>
<li><a href="../pt461133/index.html">Testando o c√≥digo do SQL Server com tSQLt</a></li>
<li><a href="../pt461137/index.html">Como desenvolvemos um dispositivo para monitorar a aten√ß√£o dos motoristas. Experimente o Yandex.Taxi</a></li>
<li><a href="../pt461141/index.html">Meu primeiro dia com o Haiku: ela √© inesperadamente boa</a></li>
<li><a href="../pt461143/index.html">Sobre quest√µes atuais de design de jogos e formas de resolv√™-las. Vista de baixo</a></li>
<li><a href="../pt461145/index.html">O que uma equipe deve liderar: pap√©is, responsabilidades e habilidades</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>