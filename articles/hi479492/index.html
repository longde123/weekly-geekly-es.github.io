<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯШИ ЁЯРЪ ЁЯШз OpenWhisk рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рднрд╛рдЧ 3 ЁЯОл ЁЯПп ЁЯСитАНЁЯСйтАНЁЯСзтАНЁЯСж</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рд▓реЗрдЦ рдкреНрд░реАрддрд┐ рджреЗрд╕рд╛рдИ рджреНрд╡рд╛рд░рд╛ рдУрдкрдирд╡рд┐рд╕реНрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рдиреЛрдЯреНрд╕ рдХреА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдЬрд╛рд░реА рд╣реИред рдЖрдЬ рд╣рдо рдЬрд╝рд┐рдк рдлрд╝рдВрдХреНрд╢рдВрд╕, GitHub рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenWhisk рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рднрд╛рдЧ 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/479492/"><p><img src="https://habrastorage.org/webt/yk/jd/cb/ykjdcbuozxj70sxwrtxebx0l6u8.png"></p><br><p>  рдпрд╣ рд▓реЗрдЦ <a href="https://medium.com/%40pdesai8">рдкреНрд░реАрддрд┐ рджреЗрд╕рд╛рдИ</a> рджреНрд╡рд╛рд░рд╛ рдУрдкрдирд╡рд┐рд╕реНрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рдиреЛрдЯреНрд╕ рдХреА рд╢реНрд░реГрдВрдЦрд▓рд╛ рдЬрд╛рд░реА рд╣реИред  рдЖрдЬ рд╣рдо рдЬрд╝рд┐рдк рдлрд╝рдВрдХреНрд╢рдВрд╕, GitHub рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рджреЗрдЦреЗрдВрдЧреЗ, рдФрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ OpenWhisk рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХрд╛ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрди рдХрд░реЗрдВрдЧреЗред </p><a name="habracut"></a><br><h2 id="zip-funkcii">  рдЬрд┐рдк рдХрд╛рд░реНрдп </h2><br><p> OpenWhisk рдПрдХрд▓ рд╕реНрд░реЛрдд рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ [рдкрд╣рд▓реЗ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛] ()ред  рдпрд╣ рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рд╕рд╛рде рдХрдИ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рднреА рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреИрдХреЗрдЬ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдЬрд┐рд╕ рдкрд░ рдлрд╝рдВрдХреНрд╢рди рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЗрд╕ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдХреЛ рдПрдХ рдЬрд╝рд┐рдк рдлрд╝рдВрдХреНрд╢рди рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЪрд▓реЛ <code>wskdeploy</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдЬрд╝рд┐рдк рдлрд╝рдВрдХреНрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><h3 id="shag-pervyy">  рдкрд╣рд▓рд╛ рдХрджрдо </h3><br><p>  рдПрдХ рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">packages: zipaction: actions: my-zip-action: function: actions/my-zip-action runtime: nodejs:6 inputs: name: Amy</code> </pre> <br><p>  рд╣рдо рдорд╛рдирддреЗ рд╣реИрдВ рдХрд┐ <code>my-zip-action</code> рдореЗрдВ рдРрд╕реА рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╕реНрд░реЛрдд рдХреЛрдб рд╣реЛрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">$ ls actions/my-zip-action index.js package.json</code> </pre> <br><p>  <strong>Index.js</strong> рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА: </p><br><pre> <code class="plaintext hljs">function helloworld(params) { var format = require('string-format'); var name = params.name || 'Stranger'; payload = format('Hello, {}!', name) return { message: payload }; } exports.main = helloworld;</code> </pre> <br><p>  <strong>Package.json</strong> рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА: </p><br><pre> <code class="plaintext hljs">{ "name": "my-zip-action", "description": "Node OpenWhisk zip action to demo Whisk Deploy", "license": "Apache-2.0", "version": "1.0.0", "main": "index.js", "dependencies": { "string-format": "0.5.0" } }</code> </pre> <br><h3 id="shag-vtoroy">  рджреВрд╕рд░рд╛ рдХрджрдо </h3><br><p>  рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкреНрд░рд╛рд░реВрдк рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП npm рд╕реНрдерд╛рдкрд┐рдд рд░рди: </p><br><pre> <code class="plaintext hljs">cd actions/my-action npm install --production</code> </pre> <br><h3 id="shag-tretiy">  рдЪрд░рдг рддреАрди </h3><br><p>  рдЬрд╝рд┐рдк рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">./wskdeploy -i -p actions/my-zip-action/ ____ ___ _ _ _ _ _ /\ \ / _ \ _ __ ___ _ __ | | | | |__ (_)___| | __ /\ /__\ \ | | | | '_ \ / _ \ '_ \| | | | '_ \| / __| |/ / / \____ \ / | |_| | |_) | __/ | | | |/\| | | | | \__ \ &lt; \ \ / \/ \___/| .__/ \___|_| |_|__/\__|_| |_|_|___/_|\_\ \___\/ |_| Packages: Name: zipaction bindings: * action: my-zip-action bindings: - name: name value: Amy Do you really want to deploy this? (y/N): y Deployment completed successfully.</code> </pre> <br><p>  рд╣рдордиреЗ рдбрд┐рдкреЗрдВрдбреЗрдВрдЯ рдореЙрдбреНрдпреВрд▓ <code>string-format</code> рд╕рд╛рде рдЬрд┐рдк рдлрдВрдХреНрд╢рди <strong>рдорд╛рдп-рдЬрд┐рдк-рдПрдХреНрд╢рди</strong> рдХреЛ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рд╣реИред  <code>function</code> рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдкреНрд░рдХрдЯ рдореЗрдВ рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╕рдордп, рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рдПрдХ рдЬрд╝рд┐рдк рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕ рд╕рдВрдЧреНрд░рд╣ рд╕реЗ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рднреА рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдЗрд╕реЗ рдЦреЛрдЬрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рддреИрдирд╛рддреА рдХреЗ рдмрд╛рдж, рдЖрдк рдирдП рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдЙрд╕реА рддрд░рд╣ рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдЕрдиреНрдп рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рдеред </p><br><h2 id="include-i-exclude-dlya-faylov-v-zip-funkciyah">  рдЬрд╝рд┐рдк рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ рдФрд░ рдмрд╣рд┐рд╖реНрдХреГрдд рдХрд░реЗрдВ </h2><br><p>  OpenWhisk рдЖрдкрдХреЛ рдПрдХ рдЬрд╝рд┐рдк рд╕рдВрдЧреНрд░рд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдлрд╛рдЗрд▓реЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ  рдЙрд╕рдХреЗ рд╕рднреА рд╡реНрдпрд╕рдиреЛрдВред  рдХрд╛рд░реНрдп рдХреЛ рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ <code>function</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреА рд╕рд╛рдордЧреНрд░реА рд╕реЗ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдлрд╝рдВрдХреНрд╢рди рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><h3 id="vklyuchenie-faylov">  рдлрд╝рд╛рдЗрд▓ рд╕рдорд╛рд╡реЗрд╢рди </h3><br><p>  рдкрд╣рд▓реЗ, рдЗрд╕рдореЗрдВ <code>include</code> рдХреБрдВрдЬреА рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдерд╛, рдЬреЛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ <code>import</code> рдХреЗ рд╕рдорд╛рди рд╣реА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХреЛрдб рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдХрд╛рд░реНрдп: </p><br><pre> <code class="plaintext hljs">$ cd actions/ $ ls -1 ./ common/ greeting1/ greeting2/ manifest.yaml $ ls -1 common/ utils.js $ ls -1 greeting1/ index.js package.json $ ls -1 greeting2/ index.js package.json</code> </pre> <br><p>  рдЖрдк <code>index.js</code> рдлрд╝рд╛рдЗрд▓ рдХреЛ <code>utils.js</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА <code>utils.js</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдПрдХ рдФрд░ <code>utils.js</code> , рдФрд░ рджреЛрдиреЛрдВ <code>utils.js</code> рдХреЛ рджреЗрдЦреЗрдВред </p><br><p>  Index.js рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА <code>actions/greeting1/</code> рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ: </p><br><pre> <code class="plaintext hljs">/** * Return a simple greeting message for someone. * * @param name A person's name. * @param place Where the person is from. */ var common = require('./common/utils.js') function main(params) { var name = params.name || params.payload || 'stranger'; var place = params.place || 'somewhere'; var hello = common.hello || 'Good Morning'; return {payload: hello + ', ' + name + ' from ' + place + '!'}; } exports.main = main;</code> </pre> <br><p>  Index.js рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА <code>actions/greeting2/</code> рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ: </p><br><pre> <code class="plaintext hljs">/** * Return a simple greeting message for someone. * * @param name A person's name. * @param place Where the person is from. */ var common = require('./common/utils.js') function main(params) { var name = params.name || params.payload || 'stranger'; var place = params.place || 'somewhere'; var hello = common.hello || 'Good Evening'; return {payload: hello + ', ' + name + ' from ' + place + '!'}; } exports.main = main;</code> </pre> <br><p>  рдЕрдВрджрд░ <code>include</code> рдХреБрдВрдЬреА рдореЗрдВ рдлрд╝рд╛рдЗрд▓реЛрдВ рдпрд╛ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рд╣реЛрддреА рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕ рд╕реВрдЪреА рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдореЗрдВ <code>source</code> рдФрд░ \ рдпрд╛ <code>destination</code> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="plaintext hljs">include: - [source] - [source, destination]</code> </pre> <br><p>  рдЯрд┐рдкреНрдкрдгреА: </p><br><ul><li>  <code>source</code> рдореЗрдВ <code>manimanifest.yaml</code> рдпреБрдХреНрдд рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдкрде рд╢рд╛рдорд┐рд▓ рд╣реИред  <code>destination</code> рддрд╛рддреНрдкрд░реНрдп рдлрд╝рдВрдХреНрд╢рди рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕реЗ рд╕рд╛рдкреЗрдХреНрд╖ рдкрде рд╕реЗ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <code>actions/greeting1</code> рдФрд░ <code>actions/greeting2</code> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВред </li><li>  рдпрджрд┐ <code>destination</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдпрд╣ <code>source</code> рдХреЗ рд╕рдорд╛рди рд╣реЛрдЧрд╛ред </li></ul><br><p>  рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА: </p><br><pre> <code class="plaintext hljs">packages: zipactionwithinclude: actions: greeting1: function: actions/greeting1 runtime: nodejs:6 include: - ["actions/common/utils.js", "common/utils.js"] greeting2: function: actions/greeting2 runtime: nodejs:6 include: - ["actions/common/utils.js", "common/utils.js"]</code> </pre> <br><p>  <code>source</code> рдФрд░ <code>destination</code> рд╡рд┐рднрд┐рдиреНрди рд╕рдВрдпреЛрдЬрдиреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдп <code>include</code> : </p><br><ul><li>  рдмрд╕ <code>source</code> : </li></ul><br><pre> <code class="plaintext hljs">include: - [actions/common/utils.js]</code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХреЗ рд╕рд╛рде, <code>utils.js</code> рдХреЛ <code>actions/greeting/actions/common/utils.js</code> рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ <code>index.js</code> рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">var utils = require('./actions/common/utils.js')</code> </pre> <br><ul><li>  рдирд╛рдо рдмрджрд▓рдиреЗ рдХреЗ рд╕рд╛рде <code>include</code> рдХрд░реЗрдВ: </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/common/utils.js", "./common/myUtils.js"]</code> </pre> <br><p>  рдЗрд╕ рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рд╕рд╛рде, <code>utils.js</code> рдХреЛ рдкрде <code>actions/greeting/common/myUtils.js</code> рд╕рд╛рде рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ <code>index.js</code> рдЗрд╕реЗ рдЗрд╕ рддрд░рд╣ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░реЗрдВрдЧреЗ: </p><br><pre> <code class="plaintext hljs">var utils = require('./common/myUtils.js')</code> </pre> <br><ul><li>  рджреВрд╕рд░реЗ рддрд░реАрдХреЗ рд╕реЗ рд╢рд╛рдорд┐рд▓ рдХрд░реЗрдВ: </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/common/utils.js", "./common/utility/utils.js"]</code> </pre> <br><p>  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, <code>utils.js</code> рдХреЛ <code>actions/greeting/common/utility/utils.js</code> рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдореЗрдВ <code>index.js</code> рд▓рд┐рдВрдХ рд╣реЛрдЧрд╛: </p><br><pre> <code class="plaintext hljs">var utils = require('./common/utility/utils.js')</code> </pre> <br><ul><li>  рдкреНрд░рддреАрдХ рдХреЗ рд╕рд╛рде <code>include</code> рдХрд░реЗрдВ <code>*</code> : </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/common/*.js", "./common/"]</code> </pre> <br><p>  рдЗрд╕ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, <code>utils.js</code> рдХреЗ рд╕рд╛рде рдЕрдиреНрдп рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде <code>utils.js</code> <code>.js</code> рдХреЛ <code>actions/greeting/common/</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ <code>index.js</code> рдЗрди рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛: </p><br><pre> <code class="plaintext hljs">var utils = require('./common/utils.js')</code> </pre> <br><h3 id="vklyuchenie-katalogov">  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рд╕рдорд╛рд╡реЗрд╢ </h3><br><p>  рдЗрд╕рдореЗрдВ <code>include</code> рдЖрдк рдПрдХ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╕рдВрдЧреНрд░рд╣ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реНрдерд╛рди рдкрд░ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>libs``   ,   </code> </p><br><pre> <code class="plaintext hljs">$ cd actions/ $ ls -1 libs/ greeting3/ manifest.yaml $ ls -1 libs/ lib1/ lib2/ lib3/ $ ls -1 libs/lib1/ utils.js $ ls -1 libs/lib2/ utils.js $ ls -1 libs/lib3/ utils.js $ ls -1 greeting3/ index.js package.json</code> </pre> <br><p>  Index.js рдХреА рд╕рд╛рдордЧреНрд░реА <code>actions/greeting3/</code> рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛: </p><br><pre> <code class="plaintext hljs">/** * Return a simple greeting message for someone. * * @param name A person's name. * @param place Where the person is from. */ var lib1 = require('./libs/lib1/utils.js') var lib2 = require('./libs/lib2/utils.js') var lib3 = require('./libs/lib3/utils.js') function main(params) { var name = params.name || params.payload || 'stranger'; var place = params.place || 'somewhere'; var hello = lib1.hello || lib2.hello || lib3.hello || 'Hello'; return {payload: hello + ', ' + name + ' from ' + place + '!'}; } exports.main = main;</code> </pre> <br><p>  рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рдХреА рд╕рд╛рдордЧреНрд░реА: </p><br><pre> <code class="plaintext hljs">packages: zipactionwithinclude: actions: greeting3: function: actions/greeting3 runtime: nodejs:6 include: - ["actions/libs/*", "libs/"]</code> </pre> <br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, <code>libs</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдкреВрд░реА рддрд░рд╣ рд╕реЗ <code>actions/greeting3/libs/</code> рдирдХрд▓ рдХреА рдЬрд╛рддреА рд╣реИред </p><br><p>  рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреЛ рдкреНрд░рддреАрдХ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ <code>*</code> : </p><br><ul><li>  рдЙрджрд╛рд╣рд░рдг 1: </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/libs/*/utils.js", "libs/"]</code> </pre> <br><p>  рдЗрд╕ рд▓реЗрдЦрди рдХреЗ рд╕рд╛рде рд╕рднреА рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдЬрд┐рдирдореЗрдВ <code>utils.js</code> рдХреЛ <code>utils.js</code> рд╕реЗ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  <code>index.js</code> рд▓рд┐рдВрдХ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдВрдЧреЗ: </p><br><pre> <code class="plaintext hljs">var lib1 = require('./libs/lib1/utils.js') var lib2 = require('./libs/lib2/utils.js') var lib3 = require('./libs/lib3/utils.js')</code> </pre> <br><ul><li>  рдЙрджрд╛рд╣рд░рдг 2: </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/*/*/utils.js"]</code> </pre> <br><p>  рдЗрд╕ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХреЗ рд╕рд╛рде, рдореБрдЦреМрдЯрд╛ рдФрд░ <code>utils.js</code> рдорд┐рд▓рд╛рди рд╡рд╛рд▓реЗ рд╕рднреА рдЙрдкрдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдПрдВ рдХреЙрдкреА рдХреА рдЬрд╛рдПрдВрдЧреАред  <code>index.js</code> рд╕реЗ рдкрд╣реБрдВрдЪ рдЗрд╕ рддрд░рд╣ рд╣реЛрдЧреА: </p><br><pre> <code class="plaintext hljs">var lib1 = require('./actions/libs/lib1/utils.js') var lib2 = require('./actions/libs/lib2/utils.js') var lib3 = require('./actions/libs/lib3/utils.js')</code> </pre> <br><ul><li>  рдЙрджрд╛рд╣рд░рдг 3: </li></ul><br><pre> <code class="plaintext hljs">include: - ["actions/*/*/utils.js", "actions/"]</code> </pre> <br><p>  рдпрд╣ рдЙрджрд╛рд╣рд░рдг рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рдм рдХреБрдЫ рдХрд╣рд╛рдВ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  <code>index.js</code> рд╕реЗ рдкрд╣реБрдВрдЪ рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рдорд╛рди рд╣реЛрдЧреАред </p><br><h3 id="isklyuchenie">  рдЕрдкрд╡рд╛рдж </h3><br><p>  <code>exclude</code> рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдФрд░ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛рдУрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕реЗ <code>*</code> рдЪрд░рд┐рддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рд╕реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред  рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="plaintext hljs">exclude: - actions/common/*.js - actions/libs/*/utils.js</code> </pre> <br><p>  рд╕рд╛рдЭрд╛ <code>include</code> рдФрд░ <code>exclude</code> рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЙрджрд╛рд╣рд░рдг рд╣реИ: </p><br><pre> <code class="plaintext hljs">packages: zipactionwithexclude: actions: greeting1: function: actions runtime: nodejs:6 exclude: - actions/* include: - ["actions/common/utils.js", "common/utils.js"] - ["actions/index.js", "index.js"] - ["actions/package.json", "package.json"]</code> </pre> <br><h2 id="funkcii-s-github-zavisimostyami">  GitHub рдирд┐рд░реНрднрд░рддрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдп </h2><br><p>  OpenWhisk рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдЕрдиреНрдп OpenWhisk рдкреИрдХреЗрдЬреЛрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред  рдЗрди рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЗ рд╕рд╛рде, OpenWhisk рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдирд┐рд░реНрднрд░ рдкреИрдХреЗрдЬреЛрдВ рдХреЛ рднреА рддреИрдирд╛рдд рдХрд░реЗрдЧрд╛ред  <code>manifest.yaml</code> рдФрд░ \ рдпрд╛ <code>deployment.yaml</code> рд╕рд╛рде рдХреЛрдИ рднреА рдкреИрдХреЗрдЬред <code>deployment.yaml</code> рдХреЛ рдПрдХ рдЖрд╢реНрд░рд┐рдд рдкреИрдХреЗрдЬ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдкреНрд░рдХрдЯрди рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдк <code>dependencies</code> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ рдкреНрд░рдХрдЯ рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">packages: RootProject: dependencies: helloworlds: location: github.com/apache/incubator-openwhisk-test/packages/helloworlds triggers: trigger1: trigger2: rules: rule1: trigger: trigger1 action: helloworlds/hello-js rule2: trigger: trigger2 action: helloworlds/helloworld-js</code> </pre> <br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, <code>helloworlds</code> рдПрдХ рдмрд╛рд╣рд░реА рдкреИрдХреЗрдЬ рд╣реИ рдЬрд┐рд╕реЗ GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ <a href="https://github.com/apache/incubator-openwhisk-test">https://github.com/apache/incubator-openwhisk-test</a> рдкрд░ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЬрдм рдЖрдк рд╣рдорд╛рд░реЗ <code>RootProject</code> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ <code>RootProject</code> <code>packages/helloworlds</code> рдореЗрдВ рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреА рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрд╢реНрд░рд┐рдд рдкреИрдХреЗрдЬ рдХрд╛ рдирд╛рдо рдмрджрд▓рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>ChildProject</code> рдмрдЬрд╛рдп <code>helloworlds</code> <code>ChildProject</code> рд╕реЗрдЯ <code>ChildProject</code> : </p><br><pre> <code class="plaintext hljs">packages: RootProject: dependencies: ChildProject: location: github.com/apache/incubator-openwhisk-test/packages/helloworlds triggers: trigger1: trigger2: rules: rule1: trigger: trigger1 action: ChildProject/hello-js rule2: trigger: trigger2 action: ChildProject/helloworld-js</code> </pre> <br><p>  рдЖрдк рдХрдИ рдкреИрдХреЗрдЬреЛрдВ рдореЗрдВ рдХрдИ рдирд┐рд░реНрднрд░рддрд╛рдПрдБ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">packages: RootProject: dependencies: ChildProject1: location: github.com/apache/incubator-openwhisk-test/packages/helloworlds ChildProject2: location: github.com/apache/incubator-openwhisk-test/packages/hellowhisk sequences: ChildProject1-series: actions: ChildProject1/hello-js, ChildProject1/helloworld-js ChildProject2-series: actions: ChildProject2/greeting, ChildProject2/httpGet triggers: trigger1: trigger2: rules: rule1: trigger: trigger1 action: ChildProject1-series rule2: trigger: trigger2 action: ChildProject2-series</code> </pre> <br><h2 id="kak-rabotaet-sinhronizaciya-proektov-openwhisk-mezhdu-klientom-i-serverom">  рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ OpenWhisk рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХрд╛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХреИрд╕реЗ рд╣реЛрддрд╛ рд╣реИ </h2><br><p>  рдЬрд╡рд╛рдм рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд░рд┐рдирд┐рдпреЛрдЬрди <code>managed deployment</code> рдореЛрдб рдореЗрдВ рдкреНрд░рд╛рд░рдВрдн рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕ рдореЛрдб рдореЗрдВ, OpenWhisk рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдкреНрд░рдХрдЯ рд╕реЗ рд╣рдЯрд╛рддрд╛ рд╣реИ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЫрд┐рдкрд╛ рд╣реБрдЖ рд╡рд┐рд╡рд░рдг рднреА рд╕рдВрд▓рдЧреНрди рдХрд░рддрд╛ рд╣реИ, рддрдерд╛рдХрдерд┐рдд  <code>managed</code> ред  рдпрд╣ рд╡рд┐рд╡рд░рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">managed: __OW_PROJECT_NAME: MyProjectName __OW_PROJECT_HASH: SHA1("OpenWhisk " + &lt;size_of_manifest_file&gt; + "\0" + &lt;contents_of_manifest_file&gt;) __OW_FILE: Absolute path of manifest file on file system</code> </pre> <br><p>  рдпрд╣рд╛рдБ, OpenWhisk рдПрдХ рдирд┐рд░рдВрддрд░ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИ, рдФрд░ "\ 0" NULL рд╡рд░реНрдг рд╣реИред  <em>size_of_manifest_file</em> рдФрд░ <em>content_of_manifest_file</em> рдлрд╝рд╛рдЗрд▓ рдирд┐рд░реНрднрд░ рд╣реИрдВред  <code>managed deployment</code> рдореЛрдб рдореЗрдВ рдЙрд╕реА рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдЕрдиреБрдХреНрд░рдо рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рдкреНрд░рддреНрдпреЗрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдП <code>__OW_PROJECT_HASH</code> рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╕рд░реНрд╡рд░ рдкрд░ рдЙрд╕реА рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ <code>__OW_PROJECT_HASH</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИред  рдиреАрдЪреЗ рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВред </p><br><p>  <strong>рд╡рд┐рдХрд▓реНрдк 1</strong> : рдпрджрд┐ <code>__OW_PROJECT_HASH</code> рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдкрд░ рдореЗрд▓ рдЦрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд  рдпрджрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреА рдУрд░ рд╕реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдХреЛрдИ рдкрд░рд┐рд╡рд░реНрддрди рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рд╕рд░реНрд╡рд░ рдкрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╡реИрд╕рд╛ рд╣реА рд░рд╣рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ <code>deployment.yaml</code> рдореЗрдВ рдХреЛрдИ рднреА рдкрд░рд┐рд╡рд░реНрддрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рд╕реЗ <code>wskdeploy</code> рдирдИ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ <code>deployment.yaml</code> рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛ред </p><br><p>  <strong>рд╡рд┐рдХрд▓реНрдк 2</strong> : рдпрджрд┐ <code>__OW_PROJECT_HASH</code> рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛рддрд╛, рдЕрд░реНрдерд╛рдд  рдпрджрд┐ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрдХреНрд╖ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ <code>wskdeploy</code> рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ рд╕реЗ рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ <code>wskdeploy</code> , рдФрд░ рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рд╕рд░реНрд╡рд░ рдкрд░ <code>__OW_PROJECT_HASH</code> рдЕрдкрдбреЗрдЯ рдХрд░рддрд╛ рд╣реИред  <code>wskdeploy</code> рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рднреА <code>wskdeploy</code> : рдЬрд┐рд╕рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди, рдЕрдиреБрдХреНрд░рдо рдФрд░ рд╕рд╢рд░реНрдд <code>__OW_PROJECT_NAME</code> рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕рдорд╛рди <code>__OW_PROJECT_NAME</code> , рдЕрд░реНрдерд╛рдд  рдПрдХ рд╣реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд, рд▓реЗрдХрд┐рди рдПрдХ рдЕрд▓рдЧ <code>__OW_PROJECT_HASH</code> рд╣реЛрдиреЗ рдХреЗ <code>__OW_PROJECT_HASH</code> , рдЙрдиреНрд╣реЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рдкреНрд░рдХрдЯ рд╣реЛрдиреЗ рд╕реЗ рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдореЗрдирд┐рдлрд╝реЗрд╕реНрдЯ рдореЗрдВ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рдирд╛рдо рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЗ рдмреАрдЪ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ: </p><br><pre> <code class="plaintext hljs">project: name: MyProjectName packages: package1: ....</code> </pre> <br><p>  OpenWhisk рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдЬреЛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рдЯреВрд▓ рдпрд╛ рдСрдЯреЛрдореЗрд╢рди рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рддреИрдирд╛рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рдЬрдм рд╡реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗ рд╣рдЯрд╛ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ рддреЛ рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рд╣рддреЗ рд╣реИрдВред  рдЙрдиреНрд╣реЗрдВ рдмрд╛рд╣рд░реА рд╡рд╕реНрддреБ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдЕрдзрд┐рд▓реЗрдЦрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЖрдк рдРрд╕реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ <code>wskdeploy</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>wskdeploy</code> рдХрд░ рд╕рдХрддреЗ <code>wskdeploy</code> , рдЗрд╕реЗ рдкреНрд░рдХрдЯ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдирд┐рд░реНрджреЗрд╢рд┐рдд рдХрд░ <code>wskdeploy</code> , рдЬрд┐рд╕рдореЗрдВ рдХреЗрд╡рд▓ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХрд╛ рдирд╛рдо рд╣реИ: </p><br><pre> <code class="plaintext hljs">project: name: MyProjectName</code> </pre> <br><p>  рдЖрдЗрдП <code>managed deployment</code> рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдореВрдирд╛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рджреЗрдЦреЗрдВред  <a href="https://github.com/apache/incubator-openwhisk-wskdeploy/tree/master/tests/src/integration/managed-deployment">рдЗрд╕ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ,</a> рдЖрдк рд╡рд┐рднрд┐рдиреНрди рдШреЛрд╖рдгрд╛рдкрддреНрд░реЛрдВ рдХреЗ рд╕рд╛рде рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ <code>managed deployment</code> рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред </p><br><h3 id="shag-pervyy-1">  рдкрд╣рд▓рд╛ рдХрджрдо </h3><br><p>  <code>managed deployment</code> рдореЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>MyFirstManagedProject</code> <code>managed deployment</code> рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">$wskdeploy -m tests/src/integration/managed-deployment/manifest.yaml --managed Deployment completed successfully.</code> </pre> <br><p><img src="https://habrastorage.org/webt/ax/be/_k/axbe_koglnzos01ssevcmmk9g_u.png"><br>  <em>рдПрдХ OpenWhisk рд╕рд░реНрд╡рд░ рдкрд░ рддреИрдирд╛рдд рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА</em> </p><br><p><img src="https://habrastorage.org/webt/ti/oa/qe/tioaqetzsdjcqc12la0vuesuwqe.png"><br>  <em>рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рд╡рд┐рд╡рд░рдг</em> </p><br><h3 id="shag-vtoroy-1">  рджреВрд╕рд░рд╛ рдХрджрдо </h3><br><p>  рд╣рдо рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ - рд╣рдо ManagedPackage-2 рдХреЛ рд╣рдЯрд╛рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">./wskdeploy -m tests/src/integration/managed-deployment/00-manifest-minus-second-package.yaml --managed Deployment completed successfully.</code> </pre> <br><p><img src="https://habrastorage.org/webt/o6/_p/92/o6_p92dnflbyzpvss9b4-4gh_os.png"><br>  <em>MyFirstManagedProject рдореЗрдВ рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА</em> </p><br><h3 id="shag-tretiy-1">  рдЪрд░рдг рддреАрди </h3><br><p>  рд╣рдо рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рд╕рд░реНрд╡рд░ рдХреЛ рд╕рд┐рдВрдХреНрд░реЛрдирд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ - рд╣рдо ManagedSequence-2 рдХреЛ рд╣рдЯрд╛рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">./wskdeploy -m tests/src/integration/managed-deployment/01-manifest-minus-sequence-2.yaml --managed Deployment completed successfully.</code> </pre> <br><p><img src="https://habrastorage.org/webt/kc/ek/w6/kcekw6zgqnyymwsfgujvqpchbdo.png"><br>  <em>рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА</em> </p><br><h3 id="shag-chetvertyy">  рдЪреМрдерд╛ рдЪрд░рдг </h3><br><p>  Helloworld-3 рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╣рдЯрд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">./wskdeploy -m tests/src/integration/managed-deployment/02-manifest-minus-action-3.yaml --managed Deployment completed successfully.</code> </pre> <br><p><img src="https://habrastorage.org/webt/yp/_k/mm/yp_kmmd9xzftrdtcedme75zqcyg.png"><br>  <em>рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА</em> </p><br><h3 id="shag-pyatyy">  рдкрд╛рдВрдЪрд╡рд╛рдВ рдЪрд░рдг </h3><br><p>  ManagedPackage-1 рдХреЛ рд╣рдЯрд╛рдПрдВ: </p><br><pre> <code class="plaintext hljs">./wskdeploy -m tests/src/integration/managed-deployment/04-manifest-minus-package.yaml --managed Deployment completed successfully.</code> </pre> <br><p><img src="https://habrastorage.org/webt/fr/i9/hl/fri9hlmidofria2oa5aj_5immg8.png"><br>  <em>MyFirstManagedProject рдореЗрдВ рдЕрдиреНрдп рдСрдмреНрдЬреЗрдХреНрдЯ</em> </p><br><h2 id="drugie-stati-cikla">  рдЕрдиреНрдп рдЪрдХреНрд░ рд▓реЗрдЦ </h2><br><p>  <a href="https://habr.com/ru/company/southbridge/blog/477336/">OpenWhisk рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рднрд╛рдЧ 1</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/477628/">OpenWhisk рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рднрд╛рдЧ 2</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/479492/">OpenWhisk рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ, рднрд╛рдЧ 3</a> <br>  <a href="https://habr.com/ru/company/southbridge/blog/481000/">рд╕рд░реНрд╡рд░рд▓реЗрд╕ рдХрдВрдкреНрдпреВрдЯрд┐рдВрдЧ OpenWhisk, рднрд╛рдЧ 4 рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi479492/">https://habr.com/ru/post/hi479492/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi479478/index.html">рдмрд┐рдирд╛ рджрд░реНрдж рдХреЗ рдЬрд╛рд╡рд╛ рдкреНрд▓рдЧ-рдЗрди</a></li>
<li><a href="../hi479480/index.html">SARIF SDK рдФрд░ рдЗрд╕рдХреЗ рддреНрд░реБрдЯрд┐рдпрд╛рдВ</a></li>
<li><a href="../hi479482/index.html">SARIF SDK рдФрд░ рдЗрд╕рдХреА рддреНрд░реБрдЯрд┐рдпрд╛рдВ</a></li>
<li><a href="../hi479486/index.html">рд╡рд┐рд╖рдо рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдФрд░ oneAPI рдЯреВрд▓рдХрд┐рдЯред рдЗрдВрдЯреЗрд▓ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдиреЗ рдЖрдкрдХреЗ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рдХрд╛ рдЙрддреНрддрд░ рджрд┐рдпрд╛</a></li>
<li><a href="../hi479488/index.html">рдПрдХ рд▓реИрдкрдЯреЙрдк рд╕реЗ тАЛтАЛ- рдорд┐рдХреНрд░реЛрдЯрд┐рдХ рд░рд╛рдЙрдЯрд░ рдХреЗ рд▓рд┐рдП рдирд┐рд░рд░реНрдердХ рд╢рдХреНрддрд┐ рд╡рд╛рд▓рд╛ рдПрдХ рд╣реЛрдо рд╕рд░реНрд╡рд░</a></li>
<li><a href="../hi479496/index.html">рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рдбрдмреНрд▓реНрдпреВрдЯреАрдПрдл рдЯрд╛рд╕реНрдХ</a></li>
<li><a href="../hi479498/index.html">рдХреИрд╕реЗ рд░реИрдЦрд┐рдХ рд╕рдордп рд╡рд┐рдВрдбреЛрдЬ рдореЗрдВ рдУ (n┬▓) рдореЗрдВ рдмрджрд▓ рдЬрд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi479502/index.html">рдкреГрдереНрд╡реА рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдореЗрдВ рд╕рдмрд╕реЗ рдЧрдВрднреАрд░ рд╣рд┐рдордпреБрдЧ рдХреИрд╕реЗ рдмрдЪ рд╕рдХрддрд╛ рд╣реИ?</a></li>
<li><a href="../hi479504/index.html">рдПрдХ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ-рдЖрдзрд╛рд░рд┐рдд RDP рдерд┐рди рдХреНрд▓рд╛рдЗрдВрдЯ рдмрдирд╛рдПрдБ</a></li>
<li><a href="../hi479508/index.html">PostgreSQL Antipatterns: рд╣рд╛рдирд┐рдХрд╛рд░рдХ рдЬреЙрдЗрди рдФрд░ рдУрдЖрд░рдПрд╕</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>