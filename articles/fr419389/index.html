<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè® üë©üèº‚Äçüéì üñ±Ô∏è Moteur de rendu Angular 6 et Ivy üë©üèΩ üë©üèæ‚Äçüöí üêµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, chers coll√®gues. Nous envisageons de mettre √† jour le livre de Jacob Fine et Anton Moiseev " Angular et TypeScript. Cr√©ation de site Web pour...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Moteur de rendu Angular 6 et Ivy</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/419389/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/wl/x_/u9/wlx_u9fwbjqm0in1o-f790lshsg.jpeg" align="left" alt="image"></a>  Bonjour, chers coll√®gues.  Nous envisageons de mettre √† jour le livre de Jacob Fine et Anton Moiseev " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Angular et TypeScript. Cr√©ation de site Web pour les professionnels</a> ".  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Une nouvelle √©dition</a> sortira cet automne et comprend du mat√©riel sur Angular 5 et 6. <br><br>  Au d√©but, nous pensions publier du mat√©riel sur le moteur Ivy, qui est probablement l'innovation la plus int√©ressante dans Angular 6, mais nous nous sommes ensuite arr√™t√©s sur une publication plus d√©taill√©e de Cedric Exbright (l'original a √©t√© publi√© en mai). <br><br>  Dans Angular 6, il y avait beaucoup d'innovations s√©rieuses, d'ailleurs, la plus importante d'entre elles, vous ne pouvez pas nommer de fonctionnalit√©s: c'est Ivy, un nouveau moteur de rendu.  Le moteur √©tant encore exp√©rimental, nous en parlerons √† la fin de cet article, et commencerons par d'autres nouvelles fonctionnalit√©s et changements r√©volutionnaires. <br><a name="habracut"></a><br>  <b>Fournisseurs pouvant √™tre bouscul√©s</b> <br><br>  Il existe maintenant une nouvelle m√©thode recommand√©e pour enregistrer le fournisseur directement dans le d√©corateur <code>@Injectable()</code> , en utilisant le nouvel attribut <code>@Injectable()</code> .  Il prend <code>'root'</code> comme valeur de n'importe quel module de votre application.  Lors de l'utilisation de <code>'root'</code> objet impl√©ment√© sera enregistr√© dans l'application en tant que solitaire, et vous n'aurez pas besoin de l'ajouter aux fournisseurs dans le module root.  De m√™me, lors de l'utilisation de <code>providedIn: UsersModule</code> objet impl√©ment√© est enregistr√© en tant <code>UsersModule</code> fournisseur <code>UsersModule</code> et n'est pas ajout√© aux fournisseurs de modules. <br><br><pre> <code class="javascript hljs">@Injectable({ <span class="hljs-attr"><span class="hljs-attr">providedIn</span></span>: <span class="hljs-string"><span class="hljs-string">'root'</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserService</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br>  Une telle nouvelle m√©thode a √©t√© introduite pour mieux supprimer le code non fonctionnel dans l'application (arborescence).  √Ä l'heure actuelle, la situation est telle que le service ajout√© aux fournisseurs du module se retrouvera dans l'ensemble final, m√™me s'il n'est pas utilis√© dans l'application - et le permettre est un peu triste.  Si vous utilisez le chargement paresseux, vous pouvez tomber dans plusieurs pi√®ges √† la fois ou vous retrouver dans une situation o√π le service sera entr√© dans le mauvais ensemble. <br><br>  Une telle situation dans les applications est peu susceptible de se produire souvent (si vous √©crivez un service, puis l'utilisez), mais les modules tiers offrent parfois des services dont nous n'avons pas besoin - en cons√©quence, nous avons tout un tas de JavaScript inutile. <br><br>  Cette fonctionnalit√© sera donc particuli√®rement utile pour les d√©veloppeurs de biblioth√®ques, mais il est maintenant recommand√© d'enregistrer les objets impl√©ment√©s de cette mani√®re - cela s'applique √©galement aux d√©veloppeurs d'applications.  La nouvelle CLI utilise d√©sormais m√™me l'√©chafaudage <code>providedIn: 'root'</code> par d√©faut lors de l'utilisation des services. <br><br>  Dans le m√™me esprit, vous pouvez d√©sormais d√©clarer un <code>InjectionToken</code> , l'enregistrer directement aupr√®s de <code>providedIn</code> et ajouter une <code>factory</code> ici: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> baseUrl = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InjectionToken&lt;string&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'baseUrl'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, { providedIn: </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'root'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, factory: (</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'http://localhost:8080/'</span></span> });</code> </pre> <br>  Remarque: cela simplifie √©galement les tests unitaires.  Aux fins de ces tests, ils sont utilis√©s pour enregistrer le service aupr√®s des fournisseurs du module de test.  Voici ce que nous avons fait auparavant: <br><br><pre> <code class="javascript hljs">beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> TestBed.configureTestingModule({ <span class="hljs-attr"><span class="hljs-attr">providers</span></span>: [UserService] }));</code> </pre><br>  Maintenant, si le UserService utilise <code>providedIn: 'root'</code> : <br><br><pre> <code class="javascript hljs">beforeEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> TestBed.configureTestingModule({}));</code> </pre> <br>  Ne vous inqui√©tez pas: tous les services enregistr√©s aupr√®s de <code>providedIn</code> ne sont pas charg√©s dans le test, mais sont instanci√©s paresseusement, uniquement dans les cas o√π ils sont vraiment n√©cessaires. <br><br>  <b>Rxjs 6</b> <br><br>  Angular 6 utilise d√©sormais RxJS 6 en interne, vous devez donc mettre √† jour l'application dans cet esprit. <br><br>  Et ... RxJS 6 change l'approche de l'importation! <br><br>  Dans RxJS 5, vous pouvez √©crire: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/Observable'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/observable/of'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/add/operator/map'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> squares$: Observable&lt;number&gt; = Observable.of(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) .map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> n * n);</code> </pre> <br>  Dans RxJS 5.5, des instructions canalisables sont apparues: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/Observable'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/observable/of'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { map } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> squares$: Observable&lt;number&gt; = <span class="hljs-keyword"><span class="hljs-keyword">of</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>).pipe( map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> n * n) );</code> </pre><br>  Et dans RxJS 6.0, les importations ont chang√©: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Observable, <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { map } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'rxjs/operators'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> squares$: Observable&lt;number&gt; = <span class="hljs-keyword"><span class="hljs-keyword">of</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>).pipe( map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function"> =&gt;</span></span> n * n) );</code> </pre> <br>  Ainsi, un jour, vous devrez modifier les importations dans l'ensemble de l'application.  J'√©cris ¬´une fois¬ª, et non ¬´pour l'instant¬ª, car la biblioth√®que compatible RxJS est sortie dans RxJS, ce qui permet de t√©l√©charger RxJS vers la version 6.0, m√™me si les anciennes versions sont toujours utilis√©es dans l'ensemble de votre application ou dans l'une des biblioth√®ques utilis√©es syntaxe. <br><br>  L'√©quipe Angular a √©crit un <a href="">document entier</a> sur ce sujet, et il est absolument n√©cessaire de le lire avant de migrer vers Angular 6.0. <br><br>  Remarque: voici un ensemble de r√®gles tslint tr√®s cool appel√© <code>rxjs-tslint</code> .  Il ne contient que 4 r√®gles, et si vous les ajoutez au projet, le syst√®me migre automatiquement toutes vos importations et votre code RxJS, et cela se fait par le plus simple <code>tslint --fix</code> !  Apr√®s tout, si vous ne savez toujours pas, dans <code>tslint</code> il y a une option de <code>fix</code> qui corrige automatiquement toutes les erreurs qu'il trouve!  Il peut √™tre utilis√© encore plus simplement: installez globalement <code>rxjs-tslint</code> et ex√©cutez <code>rxjs-5-to-6-migrate -p src/tsconfig.app.json</code> .  J'ai essay√© <code>rxjs-tslint</code> dans l'un de nos projets et cela a tr√®s bien fonctionn√© (ex√©cutez-le au moins deux fois pour <code>rxjs-tslint</code> √©galement toutes les importations).  Consultez le README de ce projet pour plus de d√©tails: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/ReactiveX/rxjs-tslint</a> . <br><br>  Si vous souhaitez en savoir plus sur RxJS 6.0, je recommande le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prochain rapport de</a> Ben Lesch sur ng-conf. <br><br>  <b>i18n</b> <br><br>  La perspective la plus importante associ√©e √† i18n est la possibilit√© de cr√©er ¬´i18n √† l'ex√©cution¬ª, sans avoir √† cr√©er l'application s√©par√©ment pour chaque point local.  Cette fonctionnalit√© n'est pas encore disponible (il n'y a que des prototypes), et le moteur Ivy sera n√©cessaire pour son fonctionnement (en savoir plus ci-dessous). <br><br>  Un autre changement li√© √† i18n a d√©j√† eu lieu et est disponible.  Le canal des devises est optimis√© de la mani√®re la plus efficace: il arrondit d√©sormais toutes les devises non pas √† 2 chiffres, comme auparavant, mais au nombre de chiffres souhait√© (par exemple, √† 3 dans le cas du dinar bahre√Øni ou √† 0 pour le peso chilien). <br><br>  Si n√©cessaire, cette valeur peut √™tre r√©cup√©r√©e par programme √† l'aide de la nouvelle fonction i18n <code>getNumberOfCurrencyDigits</code> . <br><br>  D'autres fonctions de formatage pratiques, telles que <code>formatCurrency</code> , <code>formatCurrency</code> , <code>formatPercent</code> et <code>formatNumber</code> √©galement apparues dans le <code>formatNumber</code> <code>formatPercent</code> . <br><br>  Assez commod√©ment, si vous souhaitez appliquer les m√™mes transformations que celles effectu√©es dans les canaux, mais faites-le √† partir du code TypeScript. <br><br>  <b>Des animations</b> <br><br>  Dans Angular 6.0, les animations sont d√©j√† possibles sans polyfill <code>web-animations-js</code> , sauf si vous utilisez <code>AnimationBuilder</code> .  Votre application peut gagner de pr√©cieux octets!  Dans le cas o√π le navigateur ne prend pas en charge l'API element.animate, Angular 6.0 revient √† l'utilisation des images cl√©s CSS. <br><br>  <b>√âl√©ments angulaires</b> <br><br>  Angular Elements est un projet qui vous permet d'encapsuler des composants Angular en tant que composants Web et de les incorporer dans une application qui n'utilise pas Angular.  Au d√©part, ce projet n'existait que dans le ¬´Angular Lab¬ª (c'est-√†-dire qu'il est encore exp√©rimental).  Avec la v6, il vient un peu au premier plan et est officiellement inclus dans le cadre.  C'est un gros sujet qui m√©rite un article s√©par√©. <br><br>  <b>ElementRef &lt;T&gt;</b> <br><br>  Si vous souhaitez prendre un lien d'√©l√©ment dans votre mod√®le, vous pouvez utiliser <code>@ViewChild</code> ou <code>@ViewChildren</code> , ou m√™me impl√©menter directement <code>ElementRef</code> .  L'inconv√©nient dans ce cas est le suivant: dans Angular 5.0 ou inf√©rieur, le <code>ElementRef</code> sp√©cifi√© obtiendra le type <code>any</code> pour la propri√©t√© <code>nativeElement</code> . <br><br>  Dans Angular 6.0, vous pouvez taper ElementRef plus strictement si vous le souhaitez: <br><br><pre> <code class="javascript hljs">@ViewChild(<span class="hljs-string"><span class="hljs-string">'loginInput'</span></span>) loginInput: ElementRef&lt;HTMLInputElement&gt;; ngAfterViewInit() { <span class="hljs-comment"><span class="hljs-comment">// nativeElement  `HTMLInputElement` this.loginInput.nativeElement.focus(); }</span></span></code> </pre> <br>  <b>Ce qui est reconnu comme ind√©sirable et ce qui change fondamentalement</b> <br><br>  Parlons de ce que vous devez garder √† l'esprit lorsque vous vous lancez dans la migration! <br><br>  <i><b><code>preserveWhitespaces</code> : <code>false</code> par d√©faut</b></i> <br><br>  Dans la section ¬´Probl√®mes pouvant survenir lors de la mise √† niveau¬ª, nous notons que reserveWhitespaces est d√©sormais <code>false</code> par d√©faut.  Cette option est apparue dans Angular 4.4, et si vous vous demandez √† quoi vous attendre en m√™me temps - voici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article entier</a> sur ce sujet.  Spoiler: tout peut faire, ou il peut compl√®tement casser vos mod√®les. <br><br>  <i><b><code>ngModel</code> et formes r√©actives</b></i> <br><br>  Auparavant, il √©tait possible de fournir le m√™me champ de formulaire avec <code>ngModel</code> et <code>formControl</code> , mais aujourd'hui cette pratique est consid√©r√©e comme ind√©sirable et ne sera plus prise en charge dans Angular 7.0. <br><br>  Il y a un peu de confusion ici, et tout le m√©canisme a fonctionn√©, peut-√™tre pas comme vous l' <code>ngModel</code> ( <code>ngModel</code> - c'√©tait une directive que vous ne connaissiez pas depuis longtemps, mais l'entr√©e / sortie de la directive <code>formControl</code> , qui effectue presque la m√™me t√¢che, mais pas la m√™me). <br><br>  Alors maintenant, si nous appliquons le code: <br><br><pre> <code class="javascript hljs">&lt;input [(ngModel)]=<span class="hljs-string"><span class="hljs-string">"user.name"</span></span> [formControl]=<span class="hljs-string"><span class="hljs-string">"nameCtrl"</span></span>&gt;</code> </pre> <br>  alors nous recevons un avertissement. <br><br>  Vous pouvez configurer l'application pour afficher un avertissement de <code>always</code> ( <code>once</code> ), <code>once</code> (une fois) ou <code>never</code> (jamais).  La valeur par d√©faut est <code>always</code> . <br><br><pre> <code class="javascript hljs">imports: [ ReactiveFormsModule.withConfig({ <span class="hljs-attr"><span class="hljs-attr">warnOnNgModelWithFormControl</span></span>: <span class="hljs-string"><span class="hljs-string">'never'</span></span> }); ]</code> </pre> <br>  D'une mani√®re ou d'une autre, en pr√©parant la transition vers Angular 7, vous devez adapter le code pour utiliser des formulaires orient√©s mod√®le ou des formulaires r√©actifs. <br><br>  <b>Projet Ivy: nouveau (nouveau) moteur de rendu dans Angular</b> <br><br>  Soooo ...  Il s'agit de la quatri√®me version angulaire majeure (2, 4, 5, 6), et le moteur de rendu est en cours de r√©√©criture pour la troisi√®me fois! <br><br>  N'oubliez pas: Angular compile vos mod√®les en code TypeScript √©quivalent.  Ensuite, ce TypeScript est compil√© avec le TypeScript que vous avez √©crit en JavaScript, et le r√©sultat est √† la disposition de l'utilisateur.  Et nous avons d√©j√† devant nous la 3e version de ce moteur de rendu dans Angular (la premi√®re √©tait dans la version initiale d'Angular 2.0, et la seconde dans Angular 4.0). <br><br>  Dans cette nouvelle version du moteur de rendu, l'approche de l'√©criture des mod√®les ne change pas, cependant, elle optimise un certain nombre d'indicateurs, notamment: <br><br><ul><li>  Construire le temps </li><li>  Taille du cadran </li></ul><br>  Tout cela est encore profond√©ment exp√©rimental, et le nouveau moteur de rendu Ivy est activ√© par une case √† cocher, que vous devez mettre dans les options du compilateur (dans le fichier <code>tsconfig.json</code> ) si vous voulez l'essayer. <br><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"angularCompilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"enableIvy"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }</code> </pre><br>  Veuillez noter que ce m√©canisme n'est peut-√™tre pas trop fiable, alors ne l'utilisez pas encore en production.  Peut-√™tre qu'il ne fonctionne toujours pas.  Mais dans un avenir proche, elle sera accept√©e comme option par d√©faut, vous devriez donc l'essayer une fois, voir si cela fonctionne dans votre application et ce que vous en retirez. <br><br>  Voyons plus en d√©tail en quoi Ivy diff√®re de l'ancien moteur de rendu. <br><br>  <b>Code g√©n√©r√© par l'ancien moteur</b> <br><br>  Regardons un petit exemple: ayons un composant <code>PonyComponent</code> qui prend le mod√®le <code>PonyModel</code> (avec les param√®tres de <code>name</code> et de <code>color</code> ) et affiche l'image du poney (selon la combinaison), ainsi que le nom du poney. <br><br>  Cela ressemble √† ceci: <br><br><pre> <code class="javascript hljs">@Component({ <span class="hljs-attr"><span class="hljs-attr">selector</span></span>: <span class="hljs-string"><span class="hljs-string">'ns-pony'</span></span>, <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">`&lt;div&gt; &lt;ns-image [src]="getPonyImageUrl()"&gt;&lt;/ns-image&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt;`</span></span> }) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PonyComponent</span></span></span><span class="hljs-class"> </span></span>{ @Input() ponyModel: PonyModel; getPonyImageUrl() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`images/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.ponyModel.color}</span></span></span><span class="hljs-string">.png`</span></span>; } }</code> </pre> <br>  Le moteur de rendu introduit dans Angular 4 a g√©n√©r√© une classe appel√©e <code>ngfactory</code> pour chaque mod√®le.  La classe contenait g√©n√©ralement (code simplifi√©): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">View_PonyComponent_0</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewDef(<span class="hljs-number"><span class="hljs-number">0</span></span>, [ elementDef(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">"div"</span></span>), elementDef(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"ns-image"</span></span>, View_ImageComponent_0), directiveDef(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">49152</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, i2.ImageComponent, { <span class="hljs-attr"><span class="hljs-attr">src</span></span>: [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"src"</span></span>] }), elementDef(<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"div"</span></span>), elementDef(<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, [<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>]) ], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">check, view</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> component = view.component; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currVal_0 = component.getPonyImageUrl(); check(view, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, currVal_0); }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">check, view</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> component = view.component; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currVal_1 = component.ponyModel.name; check(view, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, currVal_1); }); }</code> </pre> <br>  Il est difficile √† lire, mais les principales parties de ce code sont d√©crites comme suit: <br><br><ul><li>  La structure du DOM cr√©√©, qui contient les d√©finitions des √©l√©ments ( <code>figure</code> , <code>img</code> , <code>figcaption</code> ), leurs attributs et les d√©finitions des n≈ìuds de texte.  Chaque √©l√©ment de la structure DOM dans le tableau de d√©finitions de vues est repr√©sent√© par son propre index. </li><li>  Changer les fonctions de d√©tection;  le code qu'ils contiennent v√©rifie si les expressions utilis√©es dans le mod√®le donnent les m√™mes valeurs qu'auparavant.  Ici, le r√©sultat de la m√©thode <code>getPonyImageUrl</code> est <code>getPonyImageUrl</code> et, s'il change, la valeur d'entr√©e du composant image est mise √† jour.  La m√™me chose s'applique au surnom de poney: s'il change, le n≈ìud de texte qui contient ce surnom sera mis √† jour. </li></ul><br>  <b>Code g√©n√©r√© par Ivy</b> <br><br>  Si nous travaillons avec Angular 6 et que le drapeau <code>enableIvy</code> d√©fini sur <code>true</code> , une <code>ngfactory</code> distincte <code>ngfactory</code> sera pas g√©n√©r√©e dans le m√™me exemple;  Les informations seront directement int√©gr√©es dans le champ statique du composant lui-m√™me (code simplifi√©): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PonyComponent</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> ngComponentDef = defineComponent({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: PonyComponent, <span class="hljs-attr"><span class="hljs-attr">selector</span></span>: [[<span class="hljs-string"><span class="hljs-string">'ns-pony'</span></span>]], <span class="hljs-attr"><span class="hljs-attr">factory</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PonyComponent(), <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderFlag, component</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderFlag &amp; RenderFlags.Create</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementStart</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'figure'</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementStart</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'ns-image'</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementStart</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'div'</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">elementEnd</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">if</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">renderFlag &amp; RenderFlags.Update</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">property</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'src'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, component.getPonyImageUrl(</span></span></span><span class="hljs-function">)); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, interpolate(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span><span class="hljs-function"><span class="hljs-params">, component.ponyModel.name, </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">''</span></span></span></span></span><span class="hljs-function">)); } }, </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">inputs</span></span></span><span class="hljs-function">: { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ponyModel</span></span></span><span class="hljs-function">: '</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ponyModel</span></span></span><span class="hljs-function">' }, </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">directives</span></span></span><span class="hljs-function">: </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> [ImageComponent]; }); <span class="hljs-comment"><span class="hljs-comment">// ...   }</span></span></code> </pre> <br>  Maintenant, tout est contenu dans ce champ statique.  L'attribut <code>template</code> contient l'√©quivalent de la <code>ngfactory</code> famili√®re, avec une structure l√©g√®rement diff√©rente.  La fonction de <code>template</code> , comme pr√©c√©demment, sera lanc√©e √† chaque changement, mais elle a maintenant deux modes: <br><br><ul><li>  Mode de cr√©ation: le composant est en cours de cr√©ation, il contient les n≈ìuds DOM statiques √† cr√©er </li><li>  Le reste de la fonction est ex√©cut√© √† chaque modification (si n√©cessaire, met √† jour la source d'image et le n≈ìud de texte). </li></ul><br>  <b>Qu'est-ce que cela change?</b> <br><br>  D√©sormais, tous les d√©corateurs sont int√©gr√©s directement dans leurs classes (les m√™mes pour <code>@Injectable</code> , <code>@Pipe</code> , <code>@Directive</code> ), et pour les g√©n√©rer, il vous suffit de conna√Ætre le d√©corateur actuel.  Ce ph√©nom√®ne est appel√© par l'√©quipe Angular le ¬´principe de localit√©¬ª: pour recompiler un composant, il n'est pas n√©cessaire de r√©-analyser l'application. <br><br>  Le code g√©n√©r√© est l√©g√®rement r√©duit, mais plus important encore, il est possible d'√©liminer un certain nombre de d√©pendances, acc√©l√©rant ainsi la recompilation si l'une des parties de l'application change.  De plus, avec les collecteurs modernes, par exemple Webpack, tout se r√©v√®le beaucoup plus joli: le code non fonctionnel est coup√© en toute s√©curit√©, les parties du framework que vous n'utilisez pas.  Par exemple, si vous n'avez pas de canaux dans l'application, le cadre n√©cessaire √† leur interpr√©tation n'est m√™me pas inclus dans l'ensemble final. <br><br>  Nous sommes habitu√©s √† rendre le code angulaire lourd.  Parfois, ce n'est pas effrayant, mais Hello World pesant 37 ko apr√®s minification et compression est trop.  Quand Ivy est responsable de la g√©n√©ration du code, le code non fonctionnel est coup√© beaucoup plus efficacement.  Maintenant, Hello World apr√®s la minification est compress√© √† 7,3 ko, et apr√®s compression - seulement √† 2,7 ko, et c'est une grande diff√©rence.  Application TodoMVC apr√®s compression - seulement 12,2 ko.  Ce sont des donn√©es de l'√©quipe Angular, et d'autres n'ont pas pu fonctionner avec nous, car pour qu'Ivy fonctionne comme d√©crit ici, vous devez toujours le corriger manuellement. <br><br>  Pour plus de d√©tails, consultez cette pr√©sentation avec ng-conf. <br><br>  <b>Compatibilit√© avec les biblioth√®ques existantes</b> <br><br>  Vous pourriez √™tre int√©ress√© par: qu'adviendra-t-il des biblioth√®ques qui sont d√©j√† publi√©es dans l'ancien format si Ivy est utilis√© dans votre projet?  Ne vous inqui√©tez pas: le moteur fera une version compatible Ivy des d√©pendances de votre projet, m√™me si elles sont compil√©es sans Ivy.  Je n'exposerai pas l'int√©rieur pour le moment, mais tous les d√©tails doivent √™tre transparents. <br><br>  <i><b>De nouvelles fonctionnalit√©s</b></i> <br><br>  Examinons les nouvelles opportunit√©s que nous aurons en travaillant avec ce moteur d'affichage. <br><br>  <i>Propri√©t√©s priv√©es dans les mod√®les</i> <br><br>  Un nouveau moteur ajoute une nouvelle fonctionnalit√© ou un changement potentiel. <br>  Cette situation est directement li√©e au fait que la fonction mod√®le est int√©gr√©e dans le champ statique du composant: nous pouvons maintenant utiliser les propri√©t√©s priv√©es de nos composants dans les mod√®les.  Cela √©tait auparavant impossible, √† cause de quoi nous avons √©t√© oblig√©s de garder publics tous les champs et m√©thodes du composant utilis√© dans le mod√®le, et ils sont tomb√©s dans une classe s√©par√©e ( <code>ngfactory</code> ).  Lors de l'acc√®s √† une propri√©t√© priv√©e √† partir d'une autre classe, la compilation TypeScript √©chouait.  Maintenant, c'est du pass√©: la fonction de mod√®le √©tant dans un champ statique, elle a acc√®s aux propri√©t√©s priv√©es du composant. <br><br>  J'ai vu un commentaire des membres de l'√©quipe Angular sur le fait qu'il n'est pas recommand√© d'utiliser des propri√©t√©s priv√©es dans les mod√®les, bien que cela soit maintenant possible - car cela peut √™tre √† nouveau interdit √† l'avenir ... par cons√©quent, il est probablement plus sage de continuer √† utiliser uniquement des champs publics dans les mod√®les!  Dans tous les cas, l'√©criture de tests unitaires est maintenant plus facile, car le test peut v√©rifier l'√©tat d'un composant sans m√™me g√©n√©rer et v√©rifier le DOM pour cela. <br><br>  <i>i18n √† l'ex√©cution</i> <br><br>  Attention: le nouveau moteur de rendu nous ouvre enfin une opportunit√© tant attendue et donne ¬´i18n √† l'ex√©cution¬ª.  Au moment d'√©crire ces lignes, elle n'√©tait pas encore tout √† fait pr√™te, mais nous avons vu plusieurs commits √† la fois, et c'est bon signe! <br>  Ce qui est cool, c'est que vous n'avez pas √† changer √† peu pr√®s votre application si vous travaillez d√©j√† avec i18n.  Mais maintenant, vous n'avez pas besoin de reconstruire l'application pour chaque param√®tre r√©gional que vous pr√©voyez de prendre en charge - t√©l√©chargez simplement JSON avec des traductions pour chaque param√®tre r√©gional, et Angular se chargera du reste! <br><br>  <i>Biblioth√®ques AoT</i> <br><br>  Actuellement, une biblioth√®que publi√©e dans NPM doit publier le fichier metadata.json et ne peut pas publier le code AoT de ses composants.  C'est triste, car les co√ªts associ√©s √† un tel assemblage sont r√©percut√©s sur notre application.  Avec Ivy, aucun fichier de m√©tadonn√©es n'est n√©cessaire et les auteurs de biblioth√®que pourront d√©sormais publier leur code AoT directement dans NPM! <br><br>  <i>Pistes de pile am√©lior√©es</i> <br><br>  Maintenant, le code g√©n√©r√© devrait donner des traces de pile am√©lior√©es, si vous rencontrez un probl√®me avec vos mod√®les - entra√Ænez une erreur nette indiquant la ligne du mod√®le dans laquelle il s'est produit.  Vous pouvez m√™me d√©finir des points d'arr√™t dans les mod√®les et suivre ce qui se passe r√©ellement dans Angular. <br><br>  <i><code>NgModule</code> dispara√Ætre?</i> <br><br>  C'est encore une perspective lointaine, mais peut-√™tre qu'√† l'avenir il sera possible de se passer de NgModules.  Les premiers signes de tels changements sont des fournisseurs pouvant √™tre secou√©s dans les arbres, et il est logique de supposer qu'Ivy poss√®de tous les blocs de base n√©cessaires pour ceux qui sont pr√™ts √† abandonner progressivement les NgModules (ou, du moins, √† les rendre moins r√©actifs).  Certes, tout cela est encore √† l'avenir, nous serons patients. <br><br>  Il n'y aura pas beaucoup de nouvelles fonctionnalit√©s dans cette version, mais Ivy est certainement int√©ressant pour l'avenir.  Exp√©rimentez avec - je me demande comment vous l'aimerez! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419389/">https://habr.com/ru/post/fr419389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419379/index.html">Pourquoi Tesla et Deutsche Bank refusent les contrats papier</a></li>
<li><a href="../fr419381/index.html">Comment les gars de Storyline sont revenus de la Silicon Valley √† Minsk avec 770 000 $ pour une startup</a></li>
<li><a href="../fr419383/index.html">Nouvelle technique d'attaque WPA2 qui ne n√©cessite pas de client sur l'AP</a></li>
<li><a href="../fr419385/index.html">Chirurgie cardiaque: comment nous avons r√©√©crit le composant principal d'un syst√®me DLP</a></li>
<li><a href="../fr419387/index.html">Vuln√©rabilit√©s de OWASP Top 10. A1: 2017 - Injections (Part 1)</a></li>
<li><a href="../fr419391/index.html">Puissance, argent et open source. Expliquer comment la communaut√© fonctionne avec Apache Ignite</a></li>
<li><a href="../fr419393/index.html">Cr√©er une passerelle API simple dans ASP.NET Core</a></li>
<li><a href="../fr419395/index.html">Explication des expressions lambda</a></li>
<li><a href="../fr419399/index.html">OpenAI Five bat une √©quipe de personnes dans un match show Dota 2</a></li>
<li><a href="../fr419401/index.html">Interfaces de ligne de commande Java: picocli</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>