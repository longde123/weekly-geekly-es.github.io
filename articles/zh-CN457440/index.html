<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ”­ ğŸ‘‰ğŸ½ ğŸ‘ŒğŸ¼ ServiceLoaderï¼šæ‚¨å¯èƒ½ä»æœªå¬è¯´è¿‡çš„å†…ç½®DIæ¡†æ¶ ğŸ‘¨â€âœˆï¸ ğŸŒ™ ğŸ¤šğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ•¬ç¤¼ï¼Œæœ‹å‹ã€‚ è¿™ä¸ªæ˜ŸæœŸäº”å°†æ˜¯æ–°çš„Java Developerè¯¾ç¨‹ç»„ä¸­çš„ç¬¬ä¸€èŠ‚è¯¾ã€‚ æœ¬å‡ºç‰ˆç‰©å°†è‡´åŠ›äºæ­¤è¯¾ç¨‹ã€‚ 



 è®¸å¤šJavaå¼€å‘äººå‘˜ä½¿ç”¨Springæ¥å®ç°ä¾èµ–å…³ç³»ã€‚ æœ‰äº›äººå¯èƒ½å°è¯•è¿‡Google Guiceç”šè‡³OSGiæœåŠ¡ ã€‚ ä½†æ˜¯è®¸å¤šäººä¸çŸ¥é“Javaå·²ç»æœ‰ä¸€ä¸ªå†…ç½®çš„DIã€‚ æ‚¨è®¤ä¸ºå®ƒå‡ºç°åœ¨Ja...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ServiceLoaderï¼šæ‚¨å¯èƒ½ä»æœªå¬è¯´è¿‡çš„å†…ç½®DIæ¡†æ¶</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/457440/"> æ•¬ç¤¼ï¼Œæœ‹å‹ã€‚ è¿™ä¸ªæ˜ŸæœŸäº”å°†æ˜¯æ–°çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java Developer</a>è¯¾ç¨‹ç»„ä¸­çš„ç¬¬ä¸€èŠ‚è¯¾ã€‚ æœ¬å‡ºç‰ˆç‰©å°†è‡´åŠ›äºæ­¤è¯¾ç¨‹ã€‚ <br><br><img src="https://habrastorage.org/webt/zk/w3/ee/zkw3eebonzyvzqwgkqszu4ruwgm.png"><br><br> è®¸å¤šJavaå¼€å‘äººå‘˜ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Spring</a>æ¥å®ç°ä¾èµ–å…³ç³»ã€‚ æœ‰äº›äººå¯èƒ½å°è¯•è¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google Guice</a>ç”šè‡³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OSGiæœåŠ¡</a> ã€‚ ä½†æ˜¯è®¸å¤šäººä¸çŸ¥é“Javaå·²ç»æœ‰ä¸€ä¸ªå†…ç½®çš„DIã€‚ æ‚¨è®¤ä¸ºå®ƒå‡ºç°åœ¨Java 11æˆ–12ä¸­å—ï¼Ÿ ä¸ï¼Œå®ƒåœ¨Java 6ä¸­å¯ç”¨ã€‚ <a name="habracut"></a><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ServiceLoader</a>æä¾›äº†æœç´¢å’Œåˆ›å»ºæ¥å£æˆ–æŠ½è±¡ç±»çš„æ³¨å†Œå®ä¾‹çš„åŠŸèƒ½ã€‚ å¦‚æœæ‚¨ç†Ÿæ‚‰Springï¼Œé‚£ä¹ˆè¿™ä¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Bean</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Autowiredæ‰¹æ³¨</a>éå¸¸ç›¸ä¼¼ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä½¿ç”¨Springå’ŒServiceLoaderçš„ç¤ºä¾‹ã€‚ å¹¶è®¨è®ºå¼‚åŒã€‚ <br><br><h2> æ˜¥å¤© </h2><br> é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åœ¨Springä¸­åˆ¶ä½œä¸€ä¸ªç®€å•çš„DIã€‚ åˆ›å»ºä¸€ä¸ªç®€å•çš„ç•Œé¢ï¼š <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">echo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String value)</span></span></span></span>; }</code> </pre> <br> å¹¶æ‰§è¡Œæ¥å£ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Component; <span class="hljs-meta"><span class="hljs-meta">@Component</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleServiceImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">echo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } }</code> </pre> <br> æŸ¥çœ‹<code>@Component</code> ã€‚ è¯¥æ³¨é‡Šå°†åœ¨Springä¸Šä¸‹æ–‡ä¸­å°†æˆ‘ä»¬çš„ç±»æ³¨å†Œä¸ºBeanã€‚ <br><br> è¿˜æœ‰æˆ‘ä»¬çš„ä¸»è¦ç­çº§ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SpringExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CommandLineRunner</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger log = LoggerFactory.getLogger(SpringExample.class); <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> List&lt;SimpleService&gt; simpleServices; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(SpringExample.class, args); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String... strings)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (SimpleService simpleService : simpleServices) { log.info(<span class="hljs-string"><span class="hljs-string">"Echo: "</span></span> + simpleService.echo(strings[<span class="hljs-number"><span class="hljs-number">0</span></span>])); } } }</code> </pre> <br> è¯·æ³¨æ„<code>SimpleService</code>ç»„åˆ<code>SimpleService</code>ä¸Šçš„<code>@Autowired</code>æ‰¹æ³¨ã€‚ æ³¨é‡Š<code>@SpringBootApplication</code>æ—¨åœ¨è‡ªåŠ¨æœç´¢åŒ…ä¸­çš„beanã€‚ ç„¶ååœ¨å¯åŠ¨æ—¶ï¼Œå°†å®ƒä»¬è‡ªåŠ¨æ³¨å…¥åˆ°<code>SpringExample</code> ã€‚ <br><br><h2> æœåŠ¡åŠ è½½å™¨ </h2><br> æˆ‘ä»¬å°†ä½¿ç”¨ä¸Springç¤ºä¾‹ç›¸åŒçš„æ¥å£ï¼Œå› æ­¤åœ¨æ­¤ä¸å†é‡å¤ã€‚ ç›¸åï¼Œç«‹å³æŸ¥çœ‹æœåŠ¡çš„å®ç°ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.google.auto.service.AutoService; <span class="hljs-meta"><span class="hljs-meta">@AutoService</span></span>(SimpleService.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleServiceImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SimpleService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">echo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String value)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } }</code> </pre> <br> åœ¨å®ç°ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>@AutoService</code>æ‰¹æ³¨â€œæ³¨å†Œâ€æœåŠ¡çš„å®ä¾‹ã€‚ è¯¥æ³¨é‡Šä»…åœ¨ç¼–è¯‘æ—¶æ‰éœ€è¦ï¼Œå› ä¸ºjavacä½¿ç”¨å®ƒæ¥è‡ªåŠ¨ç”ŸæˆæœåŠ¡æ³¨å†Œæ–‡ä»¶ï¼ˆ <i>è¯‘è€…æ³¨ï¼šå¯¹äºåŒ…å«<code>@AutoService</code> mavenä¾èµ–<code>@AutoService</code> ï¼Œè¯·æŒ‡å®šæä¾›çš„ä½œç”¨åŸŸï¼‰</i> ï¼š <br><br> <code>META-INF/services/io.github.efenglu.serviceLoader.example.SimpleService</code> <br> <br> æ­¤æ–‡ä»¶åŒ…å«å®ç°æœåŠ¡çš„ç±»çš„åˆ—è¡¨ï¼š <br><br> <code>io.github.efenglu.serviceLoader.example.SimpleServiceImpl</code> <br> <br> æ–‡ä»¶åå¿…é¡»æ˜¯æœåŠ¡ï¼ˆæ¥å£ï¼‰çš„å…¨åã€‚ æ–‡ä»¶å¯ä»¥å…·æœ‰ä»»æ„æ•°é‡çš„å®ç°ï¼Œæ¯ä¸ªå®ç°éƒ½ä½äºå•ç‹¬çš„è¡Œä¸Šã€‚ <br><br> åœ¨å®ç°ä¸­ï¼Œ <b>å¿…é¡»</b>æœ‰ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ æ‚¨å¯ä»¥æ‰‹åŠ¨åˆ›å»ºè¿™æ ·çš„æ–‡ä»¶ï¼Œä½†æ˜¯ä½¿ç”¨æ³¨é‡Šè¦å®¹æ˜“å¾—å¤šã€‚ å’Œä¸»ç±»ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceLoaderExample</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String [] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> ServiceLoader&lt;SimpleService&gt; services = ServiceLoader.load(SimpleService.class); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (SimpleService service : services) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Echo: "</span></span> + service.echo(args[<span class="hljs-number"><span class="hljs-number">0</span></span>])); } } }</code> </pre> <br> è°ƒç”¨<code>ServiceLoader.load</code>æ–¹æ³•å¯è·å–<code>ServiceLoader</code> ï¼Œè¯¥æœåŠ¡å¯ç”¨äºè·å–æœåŠ¡å®ä¾‹ã€‚  ServiceLoaderå®ä¾‹ä¸ºæœåŠ¡ç±»å‹å®ç°<code>Iterable</code>æ¥å£ï¼Œå› æ­¤ï¼Œå¯ä»¥åœ¨<code>for each</code>å¾ªç¯ä¸­ä½¿ç”¨<code>services</code>å˜é‡ã€‚ <br><br><h2> é‚£åˆæ€æ · </h2><br> ä¸¤ç§æ–¹æ³•éƒ½ç›¸å¯¹è¾ƒå°ã€‚ ä¸¤è€…éƒ½å¯ä»¥ä¸æ³¨é‡Šä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤éå¸¸æ˜“äºä½¿ç”¨ã€‚ é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦ä½¿ç”¨ServiceLoaderè€Œä¸æ˜¯Springï¼Ÿ <br><br><h3> ä¾å­˜å…³ç³» </h3><br> è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘ä»¬ç®€å•çš„Springç¤ºä¾‹çš„ä¾èµ–å…³ç³»æ ‘ï¼š <br><br><pre> <code class="java hljs">[INFO] -----------&lt; io.github.efenglu.serviceLoader:spring-example &gt;----------- [INFO] Building spring-example <span class="hljs-number"><span class="hljs-number">1.0</span></span>.X-SNAPSHOT [INFO] --------------------------------[ jar ]--------------------------------- [INFO] [INFO] --- maven-dependency-plugin:<span class="hljs-number"><span class="hljs-number">3.1</span></span>.1:tree (<span class="hljs-keyword"><span class="hljs-keyword">default</span></span>-cli) @ spring-example --- [INFO] io.github.efenglu.serviceLoader:spring-example:jar:<span class="hljs-number"><span class="hljs-number">1.0</span></span>.X-SNAPSHOT [INFO] +- org.slf4j:slf4j-api:jar:<span class="hljs-number"><span class="hljs-number">1.7</span></span>.25:compile [INFO] +- org.springframework:spring-context:jar:<span class="hljs-number"><span class="hljs-number">4.3</span></span>.22.RELEASE:compile [INFO] | +- org.springframework:spring-aop:jar:<span class="hljs-number"><span class="hljs-number">4.3</span></span>.22.RELEASE:compile [INFO] | +- org.springframework:spring-core:jar:<span class="hljs-number"><span class="hljs-number">4.3</span></span>.22.RELEASE:compile [INFO] | | \- commons-logging:commons-logging:jar:<span class="hljs-number"><span class="hljs-number">1.2</span></span>:compile [INFO] | \- org.springframework:spring-expression:jar:<span class="hljs-number"><span class="hljs-number">4.3</span></span>.22.RELEASE:compile [INFO] +- org.springframework.boot:spring-boot-autoconfigure:jar:<span class="hljs-number"><span class="hljs-number">1.5</span></span>.19.RELEASE:compile [INFO] +- org.springframework.boot:spring-boot:jar:<span class="hljs-number"><span class="hljs-number">1.5</span></span>.19.RELEASE:compile [INFO] \- org.springframework:spring-beans:jar:<span class="hljs-number"><span class="hljs-number">4.3</span></span>.22.RELEASE:compile</code> </pre> <br> å¹¶ä¸ServiceLoaderè¿›è¡Œæ¯”è¾ƒï¼š <br><br><pre> <code class="java hljs">[INFO] io.github.efenglu.serviceLoader:serviceLoader-example:jar:<span class="hljs-number"><span class="hljs-number">1.0</span></span>.X-SNAPSHOT ## Only provided dependencies <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the auto service annotation [INFO] \- com.google.auto.service:auto-service:jar:<span class="hljs-number"><span class="hljs-number">1.0</span></span>-rc4:provided [INFO] +- com.google.auto:auto-common:jar:<span class="hljs-number"><span class="hljs-number">0.8</span></span>:provided [INFO] \- com.google.guava:guava:jar:<span class="hljs-number"><span class="hljs-number">23.5</span></span>-jre:provided [INFO] +- com.google.code.findbugs:jsr305:jar:<span class="hljs-number"><span class="hljs-number">1.3</span></span>.9:provided [INFO] +- org.checkerframework:checker-qual:jar:<span class="hljs-number"><span class="hljs-number">2.0</span></span>.0:provided [INFO] +- com.google.errorprone:error_prone_annotations:jar:<span class="hljs-number"><span class="hljs-number">2.0</span></span>.18:provided [INFO] +- com.google.j2objc:j2objc-annotations:jar:<span class="hljs-number"><span class="hljs-number">1.1</span></span>:provided [INFO] \- org.codehaus.mojo:animal-sniffer-annotations:jar:<span class="hljs-number"><span class="hljs-number">1.14</span></span>:provided</code> </pre> <br> å¦‚æœæˆ‘ä»¬ä¸æ³¨æ„æä¾›çš„ä¾èµ–å…³ç³»ï¼Œåˆ™ServiceLoader <b>æ²¡æœ‰ä»»ä½•</b>ä¾èµ–å…³ç³»ã€‚ æ²¡é”™ï¼Œä»–åªéœ€è¦Javaã€‚ <br><br> å¼€å‘åŸºäºSpringçš„åº”ç”¨ç¨‹åºå¹¶ä¸é‡è¦ï¼Œä½†æ˜¯å¦‚æœè¦ç¼–å†™å°†åœ¨è®¸å¤šä¸åŒæ¡†æ¶ä¸­ä½¿ç”¨çš„å†…å®¹ï¼Œæˆ–è€…å¦‚æœæ‚¨æœ‰å°å‹æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆè¿™å·²ç»éå¸¸é‡è¦ã€‚ <br><br><h3> é€Ÿåº¦ </h3><br> å¯¹äºæ§åˆ¶å°åº”ç”¨ç¨‹åºï¼ŒServiceLoaderçš„å¯åŠ¨æ—¶é—´æ¯”Spring Boot AppçŸ­å¾—å¤šã€‚ è¿™æ˜¯ç”±äºå¯ä¸‹è½½ä»£ç çš„æ•°é‡è¾ƒå°‘ï¼Œæ²¡æœ‰æ‰«æï¼Œæ²¡æœ‰åå°„ï¼Œæ²¡æœ‰å¤§å‹æ¡†æ¶ã€‚ <br><br><h3> è®°å¿† </h3><br>  Springä¸ä»¥èŠ‚çœå†…å­˜è€Œé—»åã€‚ å¦‚æœå†…å­˜ä½¿ç”¨å¯¹æ‚¨å¾ˆé‡è¦ï¼Œè¯·è€ƒè™‘ä½¿ç”¨ServiceLoader for DIã€‚ <br><br><h2>  Javaæ¨¡å— </h2><br>  Javaæ¨¡å—çš„å…³é”®æ–¹é¢ä¹‹ä¸€æ˜¯èƒ½å¤Ÿå®Œå…¨ä¿æŠ¤æ¨¡å—ä¸­çš„ç±»å…å—æ¨¡å—å¤–éƒ¨ä»£ç çš„å½±å“ã€‚  ServiceLoaderæ˜¯ä¸€ç§å…è®¸å¤–éƒ¨ä»£ç â€œè®¿é—®â€å†…éƒ¨å®ç°çš„æœºåˆ¶ã€‚  Javaæ¨¡å—å…è®¸æ‚¨æ³¨å†Œç”¨äºå†…éƒ¨å®ç°çš„æœåŠ¡ï¼ŒåŒæ—¶ä¿ç•™è¾¹ç•Œã€‚ <br><br> å®é™…ä¸Šï¼Œè¿™æ˜¯å”¯ä¸€æ­£å¼æ‰¹å‡†çš„Javaæ¨¡å—ä¾èµ–æ³¨å…¥æ”¯æŒæœºåˆ¶ã€‚  Springå’Œå¤§å¤šæ•°å…¶ä»–DIæ¡†æ¶ä½¿ç”¨åå°„æ¥æŸ¥æ‰¾å’Œè¿æ¥å…¶ç»„ä»¶ã€‚ ä½†è¿™ä¸Javaæ¨¡å—ä¸å…¼å®¹ã€‚ ç”šè‡³åå°„ä¹Ÿæ— æ³•æŸ¥çœ‹æ¨¡å—ï¼ˆé™¤éæ‚¨å…è®¸å®ƒï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆéœ€è¦å…è®¸å®ƒï¼‰ã€‚ <br><br><h2> ç»“è®º </h2><br> æ˜¥å¤©æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ å®ƒå…·æœ‰æ¯”ServiceLoaderä¸­æ›´å¤šçš„åŠŸèƒ½ã€‚ ä½†æ˜¯æœ‰æ—¶å€™ServiceLoaderæ˜¯æ­£ç¡®çš„é€‰æ‹©ã€‚ å®ƒç®€å•ï¼Œå°å·§ï¼Œå¿«é€Ÿä¸”å§‹ç»ˆå¯ç”¨ã€‚ <br><br> æˆ‘çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Git Repoä¸­</a>ç¤ºä¾‹çš„å®Œæ•´æºä»£ç ã€‚ <br><br> ä»…æ­¤è€Œå·²ã€‚ åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯¾ç¨‹ä¸­</a>è§ï¼ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN457440/">https://habr.com/ru/post/zh-CN457440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN457424/index.html">æ¿€å…‰æ ‡ç­¾æ¸¸æˆå¥—ä»¶ã€‚ çŒ®ç»™é‚£äº›ç©è¿‡æˆ˜äº‰æ¸¸æˆçš„äºº</a></li>
<li><a href="../zh-CN457430/index.html">æˆé•¿ï¼Œå›¢é˜Ÿè´Ÿè´£äººï¼Œå¤§å¤§å°å°çš„</a></li>
<li><a href="../zh-CN457434/index.html">å®‰å…¨å‘¨26ï¼šGoogleæœåŠ¡ä¸Šçš„åƒåœ¾é‚®ä»¶</a></li>
<li><a href="../zh-CN457436/index.html">Golang Meetupç¬¬4å·-6æœˆ27æ—¥ï¼Œä¸‹è¯ºå¤«å“¥ç½—å¾·</a></li>
<li><a href="../zh-CN457438/index.html">é€šè¿‡å®¢æˆ·ç«¯jsæˆ–.m3u8æ–‡ä»¶æ‰©å±•åä¸‹è½½VKontakteéŸ³é¢‘</a></li>
<li><a href="../zh-CN457442/index.html">Salmoné¡¹ç›®ï¼šå¦‚ä½•ä½¿ç”¨å…·æœ‰ç”¨æˆ·ä¿¡ä»»åº¦çš„ä»£ç†æœ‰æ•ˆæŠµå¾¡Internetå®¡æŸ¥</a></li>
<li><a href="../zh-CN457444/index.html">ARçœ¼é•œåœ¨è¡ŒåŠ¨ã€‚ å¢å¼ºç°å®å¦‚ä½•åœ¨å„ç§ä¸šåŠ¡é¢†åŸŸä¸­æ‰¾åˆ°åº”ç”¨çš„çœŸå®æ¡ˆä¾‹</a></li>
<li><a href="../zh-CN457446/index.html">å»ºç«‹å’Œè¿è¡Œå®¹é”™ä»»æ’­ç½‘ç»œ</a></li>
<li><a href="../zh-CN457450/index.html">æ ¹æ®Gartnerçš„æ•°æ®ï¼Œ2019å¹´æ•°æ®å¤„ç†å’Œåˆ†æçš„åå¤§æŠ€æœ¯è¶‹åŠ¿</a></li>
<li><a href="../zh-CN457458/index.html">ä¸­å›½æœºåºŠçš„ç§»åŠ¨æ”¯æ¶ã€‚ æˆ–è€…å¦‚ä½•å°†å®ƒä»¬æ”¾ç½®åœ¨å…¬å¯“ä¸­</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>