<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧚 🐩 🛰️ Poligon Dunia Lain 🙏🏾 ♉️ 💪🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada cara yang menarik untuk mempelajari arsitektur komputer masa lalu. Temukan program yang Anda kenal dan coba cari tahu bagaimana portingnya. 


 Pi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Poligon Dunia Lain</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482872/"><p>  Ada cara yang menarik untuk mempelajari arsitektur komputer masa lalu.  Temukan program yang Anda kenal dan coba cari tahu bagaimana portingnya. </p><br><p>  Pilihan yang bagus untuk ini adalah <em>DOOM</em> .  Megahit tahun 1994 dari id Software diporting ke segala kemungkinan.  Permainan ini dirancang di sekitar inti, jelas dibagi menjadi beberapa lapisan.  Biasanya mudah untuk menemukan dan membaca implementasi dari enam subsistem I / O. </p><br><p>  Pilihan lain adalah <em>Another World</em> 1991 dari Eric Chailly, yang lebih dikenal di Amerika Utara sebagai <em>Out Of This World</em> .  Saya akan mengatakan bahwa sebenarnya lebih menarik untuk dipelajari daripada DOOM, karena <a href="https://suvitruf.ru/2020/01/04/7384/another_world_polygons/" rel="nofollow">grafik poligonal yang cocok untuk optimisasi liar</a> .  Dalam beberapa kasus, aksi sulit memungkinkan game untuk bekerja pada peralatan yang dibuat lima tahun sebelum rilis game. </p><br><img src="https://habrastorage.org/webt/sh/2s/w3/sh2sw3mo8vzbdrxka62ru7ilkai.png"><br><a name="habracut"></a><br><ol><li>  Poligon Dunia Lain. </li><li>  <a href="https://habr.com/ru/post/483140/">Poligon Dunia Lain: Amiga 500</a> . </li><li>  <a href="https://habr.com/ru/post/484656/">Poligon Dunia Lain: Atari ST</a> . </li></ol><br><p>  Seri artikel ini adalah perjalanan melalui peralatan video game dari awal tahun 90-an.  Dari Amiga 500, Atari ST, IBM PC, Super Nintendo, hingga Sega Genesis.  Untuk setiap mesin, saya mencoba mencari tahu bagaimana Dunia Lain diterapkan. </p><br><p>  Dalam kasus terbaik, saya berhasil menghubungi pengembang asli.  Yang terburuk, saya harus mencari tahu kode yang dibongkar sendiri.  Itu adalah petualangan yang menyenangkan. </p><br><h2>  Dunia Lain 101 </h2><br><p> <em>Dunia lain memiliki</em> sedikit kode.  Versi awal untuk Amiga <a href="https://www.youtube.com/watch%3Fv%3Dtiq0OL8rzso" rel="nofollow">dilaporkan</a> hanya panjang 6.000 baris.  File yang dapat dieksekusi untuk DOS di bawah PC hanya 20 kB.  Anehnya untuk gim yang sangat besar, yang datang dengan satu floppy disk 1,44 MiB.  Itu karena sebagian besar logika bisnis diimplementasikan menggunakan bytecode.  Eksekusi Dunia Lain sebenarnya adalah host mesin virtual yang membaca dan menjalankan opcodes <code>uint8_t</code> . </p><br><img src="https://habrastorage.org/webt/cq/nr/an/cqnranf59jkla_0x6w6nl1pityg.png" width="100%"><br><br><p>  Mesin virtual di Dunia Lain mendefinisikan <a href="http://fabiensanglard.net/anotherWorld_code_review/index.php" rel="nofollow">256 variabel, 64 utas, 29 opcode, dan tiga framebuffer</a> ( <a href="https://habr.com/ru/post/324550/">terjemahan</a> dari <a href="https://habr.com/ru/users/patientzero/" class="user_link">PatientZero</a> ).  Itu saja.  Jika Anda membuat host untuk mesin virtual yang dapat menangani ini, Anda dapat memulai gim.  Jika Anda dapat membuat mesin virtual cukup cepat untuk berjalan pada 20 frame per detik, Anda sebenarnya dapat memainkan game. </p><br><p>  Sistem grafik mesin virtual menggunakan sistem koordinat 320x200 dengan palet 16 warna.  Batas palet mungkin mengejutkan, mengingat Amiga 500 mendukung hingga 32 warna.  Ini dilakukan dengan sengaja, yang memungkinkan untuk menggabungkan grafik dengan platform besar lainnya pada waktu itu - Atari ST, yang hanya mendukung 16 warna. </p><br><p>  Tapi tidak ada hikmahnya.  Keterbatasan ini menyebabkan gaya yang unik, yang, selama bertahun-tahun, masih menyenangkan mata. </p><br><img src="https://habrastorage.org/webt/gx/gx/x1/gxgxx1fiupw0e8zaviiq_bcbolw.gif" width="100%"><br><br><img src="https://habrastorage.org/webt/3u/n5/cr/3un5cru74qdxx6sz6thjhk6ozl4.png" width="100%"><br><br><img src="https://habrastorage.org/webt/y-/ih/ao/y-ihaoueidervlg26l-cbmzxqgo.gif" width="100%"><br><br><img src="https://habrastorage.org/webt/7h/9s/z7/7h9sz7iwjh8z0a-uwyjss72vetg.png" width="100%"><br><br><img src="https://habrastorage.org/webt/2j/9y/ha/2j9yhanqy44bry1p4kxkjmnnbrw.gif" width="100%"><br><br><img src="https://habrastorage.org/webt/az/nc/sb/azncsbnjj9qtq59q1pqvplbpsuo.png" width="100%"><br><br><p>  Bahkan ketika dimungkinkan untuk menggunakan palet khusus untuk adegan itu, Eric Shayi memutuskan untuk tidak melakukannya.  Selama tabrakan dengan the Beast, hanya tiga warna yang digunakan untuk itu: hitam untuk tubuh, merah untuk mata dan krem ​​untuk gigi.  Imajinasi melakukan sisanya. </p><br><img src="https://habrastorage.org/webt/j5/cg/hc/j5cghc0lsbqhpi5qqb5gxwo_hb0.gif" width="100%"><br><br><img src="https://habrastorage.org/webt/jr/bo/w6/jrbow6bmoo67picsvbpdjnjg6cg.png" width="100%"><br><br><p>  Sistem serupa untuk palet sepenuhnya terungkap dalam adegan awal.  Perubahan palet yang sangat murah membuatnya mudah untuk menggambarkan petir. </p><br><img src="https://habrastorage.org/webt/jq/d_/9l/jqd_9lq8yenjg40b-all02umgre.gif" width="100%"><br><br><img src="https://habrastorage.org/webt/8s/4c/ti/8s4ctify9ftixka1jkvmz5atvrq.png" width="100%"><br><br><img src="https://habrastorage.org/webt/ek/84/wb/ek84wbnycqm7iwgtdi20_kmnoie.png" width="100%"><br><br><img src="https://habrastorage.org/webt/dr/09/zj/dr09zjozovjoijmorwsousk54f0.gif" width="100%"><br><br><div class="scrollable-table"><table><tbody><tr><td><p>  Mesinnya juga mampu menciptakan efek tembus cahaya jika hanya ada delapan warna. </p><br></td><td><img src="https://habrastorage.org/webt/vl/ft/pd/vlftpdkf52yqawfqfetcprlgul8.png" width="100%"><br></td></tr><tr><td><p>  Di sini warna disimpan dalam [0x0.0x8]. </p><br></td><td><img src="https://habrastorage.org/webt/ha/dx/li/hadxlik11micnp3bnfsqnq6xzkw.png" width="100%"><br></td></tr></tbody></table></div><br><img src="https://habrastorage.org/webt/ms/xb/kz/msxbkz4j7um1esogudvitwpcstk.gif" width="100%"><br><br><p>  Sinar dari lampu depan Ferrari tembus cahaya.  Mereka dicat dengan warna <code>0x10</code> khusus yang tidak ada, karena hanya 16 warna yang tersedia.  Nilai khusus diartikan sebagai "baca indeks buffer bingkai, tambahkan <code>0x8</code> dan kembali."  Bagian terakhir dari trik ini adalah memilih dengan cerdas 8 warna berikutnya dalam palet. </p><br><div class="scrollable-table"><table><tbody><tr><td><p>  Transparansi tidak sering digunakan dalam game, </p><br><p>  tetapi dapat dilihat lagi selama percobaan, </p><br><p>  ketika kilat akan memindahkan Leicester ke Dunia Lain. </p><br></td><td><img src="https://habrastorage.org/webt/xq/rn/0r/xqrn0rwfhb7lrbpcjwxndcchane.png" width="300"><br></td></tr></tbody></table></div><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/yf/8g/sz/yf8gszp303yvkluepz7c4xvodmw.gif" width="100%"></a> <br><br><h2>  Tiga pembingkai bingkai </h2><br><p>  Dari ketiga pembingkai, dua digunakan untuk buffering ganda, sedangkan yang kedua digunakan untuk mempertahankan komposisi latar belakang (BKGD).  Optimalisasi ini menghindari menggambar ulang semua poligon latar belakang statis demi operasi penyalinan sederhana. </p><br><p>  Dalam video berikutnya, lihat bagaimana adegan baru diambil pertama di buffer BKGD.  Setiap frame BKGD baru sepenuhnya disalin ke buffer ganda.  Di sana elemen bergerak, seperti Leicester, ditarik.  Harap dicatat bahwa setelah mobil "diparkir", itu juga digambar di buffer BKGD untuk meminimalkan jumlah poligon yang akan ditarik dalam bingkai berikutnya. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/EZHHLjtjCLc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Juga perhatikan bagaimana komposisi menggunakan <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D1%2585%25D1%2583%25D0%25B4%25D0%25BE%25D0%25B6%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25B0" rel="nofollow">algoritma</a> sederhana <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D1%2585%25D1%2583%25D0%25B4%25D0%25BE%25D0%25B6%25D0%25BD%25D0%25B8%25D0%25BA%25D0%25B0" rel="nofollow">oleh artis</a> , yang, meskipun sederhana, menyebabkan penggambaran ulang yang tidak perlu.  Ini bukan masalah karena sebagian besar disusutkan oleh salinan BKGD. </p><br><h2>  Opcode mesin virtual </h2><br><p>  Tabel berikut menunjukkan 29 opcodes.  Di sini Anda dapat menemukan opcode untuk flow control (THRD), manajemen framebuffer (FB) dan semua operasi manajemen register.  Sebagian besar operasi “sederhana” untuk diterapkan, dengan pengecualian COPY FB, FILL, dan DRAW_POLY *, yang rumit dalam hal kinerja. </p><br><img src="https://habrastorage.org/webt/rh/t4/fr/rht4frln1iqs7qnsjahgqbjotag.png" width="100%"><br><br><p>  Kedua opcode DRAW_POLY_ * menjangkau lebih dari satu sel.  DRAW_POLY_BACKGROUND menempati setengah dari ruang opcode - dari <code>0x80</code> hingga <code>0xFF</code> .  Sangat boros, tetapi ini adalah trik untuk menghemat ruang.  Menggunakan semua operasi yang dimulai dengan bit "1" memungkinkan 7 bit lainnya ditransfer ke ruang opcode sebagai parameter rendering.  Karena opcode ini digunakan untuk latar belakang dan sinonim, menghemat ruang sangat penting. </p><br><p>  Versi SPRITE menggunakan semua opcode yang dimulai dengan bit "01", sedangkan 6 bit sisanya digunakan untuk menyandikan koordinat [x, y] dan memperbesar untuk menggambar "sprite" dari Leicester, teman dan musuh. </p><br><h2>  Apa selanjutnya </h2><br><p>  Seperti disebutkan sebelumnya, 26 dari 29 opcodes mudah diimplementasikan.  Masalah sebenarnya ketika porting game ini adalah memanipulasi piksel dalam batas-batas bus dan bandwidth prosesor.  Seri ini akan membahas bagaimana framebuffer dimanipulasi di pelabuhan dan bagaimana masalah opcode DRAW, FILL, dan COPY diselesaikan. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id482872/">https://habr.com/ru/post/id482872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id482860/index.html">Saya adalah kepala hubungan internasional di Google. Itu sebabnya saya pergi</a></li>
<li><a href="../id482862/index.html">Apakah ada GameDev di Sakhalin? 1.V</a></li>
<li><a href="../id482864/index.html">Video pengawasan rumah. Skema menjaga arsip video tanpa pendaftar rumah</a></li>
<li><a href="../id482866/index.html">Apakah layak membeli Bitcoin tahun depan dan berapa biayanya</a></li>
<li><a href="../id482870/index.html">Bagaimana saya membeli laptop yang terkunci di eBay dan mencoba membuat AntiTheft saya berdasarkan IntelAMT</a></li>
<li><a href="../id482874/index.html">Kematian Koshchei dalam daftar rekomendasi (dapatkah Anda membuat YouTube nyaman dan aman?)</a></li>
<li><a href="../id482876/index.html">Perhitungan biaya produksi listrik tenaga surya untuk kebutuhan rumah tangga sendiri di pusat Eropa</a></li>
<li><a href="../id482878/index.html">Bagaimana saya mencari definisi "produk"</a></li>
<li><a href="../id482882/index.html">Motor sebagai rem elektromagnetik</a></li>
<li><a href="../id482884/index.html">Pelajaran malam: menulis highlight sintaksis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>