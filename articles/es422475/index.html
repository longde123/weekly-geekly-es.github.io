<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåà üë©üèø‚Äçüíº üë®üèø‚Äçüé§ ¬øC√≥mo utilizar de manera efectiva las salas de reuniones usando Internet de las cosas? üì° üë©üèø üí∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En julio, abrimos nuestro propio centro de tecnolog√≠a y exhibici√≥n en Mosc√∫, el Centro de Liderazgo Digital. Esta es una nueva plataforma para eventos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo utilizar de manera efectiva las salas de reuniones usando Internet de las cosas?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sap/blog/422475/">  En julio, abrimos nuestro propio centro de tecnolog√≠a y exhibici√≥n en Mosc√∫, el Centro de Liderazgo Digital.  Esta es una nueva plataforma para eventos, demostraci√≥n de nuevos escenarios innovadores desarrollados conjuntamente con clientes y socios de SAP. <br><br><img src="https://habrastorage.org/webt/iy/sh/hj/iyshhjwysnjmzo_qn6o8aqir7g0.jpeg"><br><br>  Durante la construcci√≥n de nuestro propio Centro, decidimos que era necesario no solo mostrar las nuevas tecnolog√≠as como stands de demostraci√≥n, sino tambi√©n introducirlas en el Centro mismo. <br>  Por ejemplo, todas las salas y audiencias en el Centro pueden transformarse, dividirse en varias partes y reunirse en un solo espacio.  El sitio tambi√©n est√° equipado con una "oficina inteligente": soluciones de gesti√≥n de recursos, c√°maras con reconocimiento facial, sensores para Internet de las cosas. <br><br>  En el proceso, se nos ocurri√≥ un escenario simple y efectivo basado en la Plataforma SAP Cloud para monitorear c√≥mo se usan las salas de reuniones de manera efectiva.  En este art√≠culo, le diremos c√≥mo ensamblar tal escenario r√°pida y f√°cilmente en un d√≠a. <br><br>  <i>Adem√°s, sobre sensores, servicio IoT en SAP Cloud Platform y "calificaci√≥n de karma" para empleados.</i> <i><br></i> <a name="habracut"></a><br>  Comenzamos preparando servicios en la plataforma SAP Cloud para la integraci√≥n con sensores para Internet de las cosas.  Para desarrollar la soluci√≥n, utilizamos el servicio IoT en la plataforma SAP Cloud Platform (SCP) para automatizar la transferencia de datos, as√≠ como el entorno de desarrollo Cloud Foundry en SCP. <br><br>  Hicimos una demostraci√≥n con estos sensores: <br><br><ol><li>  Sensor de contacto magn√©tico, que funciona tanto en la apertura como en el cierre de puertas </li><li>  Sensor de movimiento infrarrojo para detectar penetraci√≥n en el √°rea protegida, y en nuestro caso tambi√©n en la sala de reuniones </li></ol><br>  El monitoreo de las salas de reuniones debe llevarse a cabo para verificar c√≥mo los empleados realmente usan las instalaciones: si la reuni√≥n tuvo lugar o si la sala de reuniones estaba vac√≠a en ese momento, cu√°ntas personas terminaron asistiendo a la reuni√≥n y otros detalles.  Como resultado, puede recopilar estad√≠sticas sobre c√≥mo los empleados han utilizado efectivamente las salas de reuniones durante un per√≠odo de tiempo. <br><br><img src="https://habrastorage.org/webt/du/nm/us/dunmusoraoz-1kkv3tfr8pbk0qi.png"><br>  <i>Figura 1. Arquitectura del servicio de Internet de las cosas en la plataforma SAP Cloud</i> <i><br></i> <br>  Utilizamos la plataforma SAP Cloud Platform y el servicio de Internet de las cosas como base para este ejemplo.  La arquitectura de la plataforma se muestra en la Fig. 1, admite funciones para combinar dispositivos individuales y puntos de acceso (Gateways) en una red com√∫n basada en el servicio de Internet de las cosas en la plataforma SAP Cloud. <br><br>  Para dispositivos sin protocolos HTTPS / MQTT, as√≠ como para dividir dispositivos en segmentos que consolidan mensajes y los env√≠an centralmente al SAP Cloud Internet of Things, se utiliza IoT GateWay Edge.  Este es un componente de software que puede comunicarse con dispositivos a trav√©s de protocolos: HTTPS, MQTT, Modbus (1), CoAP, Archivo (2), OPC UA (3), SigFox (4), SNMP (5).  Adem√°s, el desarrollador puede usar el SDK para expandir las capacidades de GateWay e implementar sus protocolos para intercambiar datos con dispositivos. <br><br><div class="spoiler">  <b class="spoiler_title">Notas</b> <div class="spoiler_text">  Notas de la documentaci√≥n de SAP Cloud Platform: <br><br>  1) Modus se implementa actualmente usando: <br>  ‚Ä¢ TCP / IP sobre Ethernet <br>  ‚Ä¢ Transmisi√≥n en serie as√≠ncrona a trav√©s de varios medios (cable: RS-232, RS-485; fibra, radio, etc.) <br>  ‚Ä¢ ModbusPLUS, una red de paso de token de alta velocidad. <br>  Modbus define una unidad de datos de protocolo simple que es independiente de las capas de comunicaci√≥n subyacentes.  La asignaci√≥n en buses o redes espec√≠ficos puede introducir algunos campos adicionales en la unidad de datos de la aplicaci√≥n.  El protocolo sigue un enfoque cliente-servidor, donde un cliente inicia una transacci√≥n Modbus para sondear un servidor en busca de datos. <br><br>  2) El flujo de trabajo t√≠pico del adaptador es el siguiente: <br>  1. Lea un determinado archivo, basado en un conjunto de par√°metros de configuraci√≥n. <br>  2. Revise el contenido del archivo y extraiga campos valiosos seg√∫n las instrucciones de un archivo de esquema de an√°lisis del adaptador. <br>  3. Asigne dichos campos a los conceptos y entidades del Servicio de Internet de las cosas (por ejemplo, metadatos de direccionamiento de dispositivos, mediciones, etc.), tambi√©n en funci√≥n del archivo de esquema de an√°lisis del adaptador. <br>  4. Transmita datos normalizados al Servicio b√°sico de Internet de las cosas. <br>  5. Elimine el archivo de destino de su ubicaci√≥n original y, opcionalmente, realice una copia de seguridad en otra carpeta. <br>  Los formatos de archivo admitidos son JSON, CSV y binario.  Para binario, el archivo se transfiere como una cadena codificada en Base64 al Servicio b√°sico de Internet de las cosas. <br><br>  3) Internet of Things Gateway integra los servidores OPC UA al actuar como un cliente OPC UA.  El adaptador puede conectarse al servidor para establecer una sesi√≥n de OPC UA;  en la primera conexi√≥n, el adaptador navega por el espacio de direcciones del servidor y crea un dispositivo correspondiente con un conjunto de sensores.  Luego, configura la recuperaci√≥n de datos, por dos opciones posibles: <br>  ‚Ä¢ Modo de extracci√≥n peri√≥dica: el adaptador sondea el servidor en busca de datos de forma peri√≥dica, con un intervalo de sondeo configurable <br>  ‚Ä¢ Modo de suscripci√≥n: el adaptador crea una suscripci√≥n en los nodos del servidor, para ser notificado por el propio servidor cada vez que cambia el valor de un nodo <br><br>  4) SigFox es una empresa francesa que emplea una tecnolog√≠a de radio basada en UNB (banda ultra estrecha) para conectar dispositivos IoT a su red.  Actualmente utiliza la banda ISM en 868MHz (seg√∫n lo definido por ETSI y CEPT) en Europa y en 902MHz en los EE. UU. (Seg√∫n lo definido por la FCC), dependiendo de las regulaciones regionales espec√≠ficas.  Para expandir el √°rea de cobertura del servicio, SigFox tiene alianzas con varios operadores de redes en todo el mundo.  Al utilizar la infraestructura UNB proporcionada por estos socios, SigFox permite la comunicaci√≥n entre dispositivos que operan con el protocolo de radio SigFox y la nube SigFox.  En este contexto, la infraestructura SigFox act√∫a como la capa de transporte que env√≠a los datos generados por los dispositivos a la nube.  Esta capa es independiente de los datos, lo que significa que no interpreta los datos, sino que simplemente los transfiere.  Teniendo esto en cuenta, los fabricantes de dispositivos que instalan el firmware SigFox en sus productos pueden usar el servicio SigFox para acceder a sus datos y un conjunto de API REST para crear aplicaciones basadas en estos datos.  El gr√°fico ilustra la red SigFox de manera simplificada. <br><br>  5) El flujo de datos sigue dos rutas: <br>  ‚Ä¢ Internet of Things Gateway emite un sondeo c√≠clico sobre todos los dispositivos, realizando un MIB-WALK completo para cada dispositivo conectado. <br>  ‚Ä¢ El portal de Internet de las cosas recibe trampas de los dispositivos, si los dispositivos pueden enviar las trampas. <br></div></div><br>  En la arquitectura de Internet de las cosas, el servicio GateWay se puede implementar como parte de la plataforma SAP Cloud y en el dispositivo final.  Una de las principales ventajas de GateWay es la integraci√≥n con SAP Cloud Platform, ya que resuelve el problema de transferir datos desde dispositivos a la plataforma en la nube.  Pero tambi√©n es posible integrarse con el servicio de Internet de las cosas sin GateWay, utilizando los protocolos MQTT / HTTPS. <br><br>  La arquitectura del servicio de Internet de las cosas se construye utilizando el entorno Cloud Foundry, que le permite implementar sus aplicaciones desarrolladas sobre la base de los lenguajes Python, JavaScript (Nodejs), Java (Tomcat), Go, Scala, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">etc.</a> en la plataforma SAP Cloud.  En este escenario, utilizamos el servidor de aplicaciones Nodejs para crear nuestro propio servicio para procesar mensajes de sensores en el entorno SAP Cloud Platform. <br><br><div class="spoiler">  <b class="spoiler_title">El c√≥digo de muestra para un servicio basado en Nodejs se puede ver aqu√≠</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> http = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'http'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hdb = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'hdb'</span></span>); http.createServer(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (req.method === <span class="hljs-string"><span class="hljs-string">'POST'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> body = <span class="hljs-string"><span class="hljs-string">''</span></span>; req.on(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, chunk =&gt; { body += chunk.toString(); <span class="hljs-comment"><span class="hljs-comment">// convert Buffer to string }); req.on('end', () =&gt; { var data = JSON.parse(body); var id = data.id; var data = data.payload; var timestamp = data.TIMESTAMP; var vcap_services = JSON.parse(process.env.VCAP_SERVICES); var db_cred = vcap_services["hana-db"]; var credentials = db_cred[0].credentials; var port = credentials.port; var host = credentials.host; var crt = credentials.certificate; var client = hdb.createClient({ host : host, port : port, user : 'user_name', password : 'password', useTLS: true }); client.on('error', function (err) { console.error('Network connection error', err); }); console.log(client.readyState); // new client.connect(function (err) { if (err) { return console.error('Error:', err); } console.log(client.readyState); // connected }); client.prepare('call NEW_EVENT (?, ?, ?)', function(err, statement){ if (err) { return console.error('Prepare error:', err); } statement.exec({ ID: id, PAYLOAD : data, TS: timestamp}, function(err, affectedRows) { if (err) { return console.error('Exec error:', err); } console.log('Number of affected rows:', affectedRows); }); }); res.write("OK"); res.end(); }</span></span></code> </pre> <br></div></div><br>  Para preparar el c√≥digo en Nodejs, utilizamos el m√≥dulo node-hdb, que proporciona comunicaci√≥n con HANA DBMS y ya est√° presente en el paquete de compilaci√≥n nodejs en CloudFoundry. <br><br>  En un entorno CloudFoundry, debe definir las dependencias entre la aplicaci√≥n y los m√≥dulos utilizados.  En este caso, Nodejs podr√° acceder al m√≥dulo e iniciar nuestra aplicaci√≥n, por lo que especificamos el enlace en el archivo package.json <br><br><div class="spoiler">  <b class="spoiler_title">dependencia</b> <div class="spoiler_text"> <code>"dependencies" : { <br> "hdb" : "0.xx" <br> }</code> <br> </div></div><br>  Como el principal almac√©n de datos y motor para crear consultas anal√≠ticas, utilizamos el DBMS de HANA.  Usando el m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">node-hdb</a> , puede usar las capacidades de Bulk Insert (para acelerar la inserci√≥n de datos), la gesti√≥n de transacciones (commit, rollback, autocommit), llamando a procedimientos almacenados de SQL. <br><br>  Los datos obtenidos mediante los sensores de Internet de las cosas llegan a trav√©s del Servicio de Internet de las Cosas a la Plataforma SAP Cloud, directamente a nuestro servicio basado en Nodejs.  Primero debe configurar el modelo de datos y el formato del mensaje en SAP Cloud Internet of Things. <br><br><h3>  ¬øC√≥mo crear r√°pidamente una interfaz de usuario y personalizar los componentes b√°sicos de SAP UI5? </h3><br>  Para mostrar el estado de la sala de reuniones en el servicio, utilizamos el componente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GenericTile</a> .  La Figura 2 muestra un ejemplo de un componente GenericTile personalizado para indicar el estado de la sala de reuniones. <br><br><img src="https://habrastorage.org/webt/yy/fp/ib/yyfpibdnrv_4dhqmh7juyfvkvlm.png"><br><br>  Para dibujar iconos y pantallas en color en el componente GenericTile, utilizamos la extensi√≥n de lienzo HTML5 y el m√©todo de representaci√≥n del modelo de objetos SAP UI5. <br><br><div class="spoiler">  <b class="spoiler_title">El c√≥digo de muestra se puede encontrar aqu√≠.</b> <div class="spoiler_text"><pre> <code class="javascript hljs">renderer: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">oRM, oControl</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> model; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> d; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> view = sap.ui.getCore().byId(<span class="hljs-string"><span class="hljs-string">"samplecontainer---mainview"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status) <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status = {<span class="hljs-string"><span class="hljs-string">"door"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"motion"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"color"</span></span>:<span class="hljs-string"><span class="hljs-string">"#2bbc2d"</span></span>,<span class="hljs-string"><span class="hljs-string">"busy"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (view != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>) model = view.getModel(<span class="hljs-string"><span class="hljs-string">"DT1"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (model != <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>){ d = <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(model.getJSON()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy = d.busy; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.door = d.door; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.motion = d.motion; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.color = d.color; } } oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;div"</span></span>); oRM.writeControlData(oControl); oRM.write(<span class="hljs-string"><span class="hljs-string">"&gt;"</span></span>); <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">spoiler</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy == <span class="hljs-number"><span class="hljs-number">0</span></span>){ oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;img id='iDT1' src='/iotex/images/room_empty.png' alt='Empty' height='64' width='70'&gt;"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;img id='iDT1' src='/iotex/images/room_booked.png' alt='Booked' height='64' width='70'&gt;"</span></span>); } oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;canvas id='cDT1' width='30' height='30'&gt;&lt;/canvas&gt;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"&lt;script&gt;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var canvas = document.getElementById('cDT1');"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var context = canvas.getContext('2d');"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var centerX = canvas.width / 2;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var centerY = canvas.height / 2;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"var radius = 12;"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"context.beginPath();"</span></span>); oRM.write(<span class="hljs-string"><span class="hljs-string">"context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.busy == <span class="hljs-number"><span class="hljs-number">1</span></span>)&amp;&amp;((<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.door != <span class="hljs-number"><span class="hljs-number">0</span></span>)||(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.status.motion != <span class="hljs-number"><span class="hljs-number">0</span></span>))){ oRM.write(<span class="hljs-string"><span class="hljs-string">"context.fillStyle = '#f46e41';"</span></span>);<span class="hljs-comment"><span class="hljs-comment">//red } else { oRM.write("context.fillStyle = '#ffff00';"); //yellow } if (this.status.busy == 0){ oRM.write("context.fillStyle = '#2bbc2d';"); //green } oRM.write("context.fill();"); oRM.write("&lt;/script&gt;"); oRM.write("&lt;/div&gt;"); }</span></span></code> </pre> <br></div></div><br>  <b>¬øC√≥mo puedo crear consultas anal√≠ticas y mostrar gr√°ficos en una interfaz de usuario en una aplicaci√≥n en SCP?</b> <br><br>  La forma m√°s f√°cil de acceder a los datos en SAP HANA desde UI5 ‚Äã‚Äães el protocolo OData.  Le permite usar un modelo de objeto listo para transferir datos a un elemento de visualizaci√≥n UI5.  Sin embargo, si se requiere una consulta anal√≠tica compleja para formar un conjunto de datos, SQLScript y los procedimientos almacenados en SAP HANA vienen al rescate.  Tampoco puede recurrir al complejo desarrollo de consultas en SQLScript, sino simplemente usar el editor Vista de c√°lculo en el IDE web de SAP. <br><br><img src="https://habrastorage.org/webt/f9/4r/un/f94runnzbafdsnd1cgmjd8ryxcm.png"><br>  <i>Figura 3. Un ejemplo de un gr√°fico circular de la biblioteca sap.viz.ui5</i> <br><br>  Ejemplo de c√≥digo Javascript y SAP UI5 para mostrar un gr√°fico circular <br><br><div class="spoiler">  <b class="spoiler_title">mostrado aqu√≠</b> <div class="spoiler_text"><pre> <code class="javascript hljs">$.ajax ({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"GET"</span></span>, <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-string"><span class="hljs-string">"/iotex/odatasource/rooms.xsodata/rooms?$format=json"</span></span>, <span class="hljs-attr"><span class="hljs-attr">dataType</span></span>: <span class="hljs-string"><span class="hljs-string">'json'</span></span>, <span class="hljs-attr"><span class="hljs-attr">async</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data, status</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> aData = data.d.results; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> UData = {<span class="hljs-attr"><span class="hljs-attr">Data</span></span>: aData}; room_model.setData(UData); } }); View.setModel(room_model,<span class="hljs-string"><span class="hljs-string">"Rooms"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oVizFrame = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.oVizFrame = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getView().byId(<span class="hljs-string"><span class="hljs-string">"idVizFrame"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oDataset = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.data.FlattenedDataset({ <span class="hljs-attr"><span class="hljs-attr">dimensions</span></span> : [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'Time'</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : <span class="hljs-string"><span class="hljs-string">"{Time}"</span></span>}], <span class="hljs-attr"><span class="hljs-attr">measures</span></span> : [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span> : <span class="hljs-string"><span class="hljs-string">'Usage'</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span> : <span class="hljs-string"><span class="hljs-string">'{Value}'</span></span>} ], <span class="hljs-attr"><span class="hljs-attr">data</span></span> : { <span class="hljs-attr"><span class="hljs-attr">path</span></span> : <span class="hljs-string"><span class="hljs-string">"/Data"</span></span> } }); oVizFrame.setDataset(oDataset); oVizFrame.setVizProperties({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">text</span></span> : <span class="hljs-string"><span class="hljs-string">"   "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">plotArea</span></span>: { <span class="hljs-attr"><span class="hljs-attr">colorPalette</span></span> : [<span class="hljs-string"><span class="hljs-string">'#2bbc2d'</span></span>,<span class="hljs-string"><span class="hljs-string">'#f46e41'</span></span>,<span class="hljs-string"><span class="hljs-string">'#c5f442'</span></span>], <span class="hljs-attr"><span class="hljs-attr">drawingEffect</span></span>: <span class="hljs-string"><span class="hljs-string">"glossy"</span></span> }}); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> feedSize = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.controls.common.feeds.FeedItem({ <span class="hljs-string"><span class="hljs-string">'uid'</span></span>: <span class="hljs-string"><span class="hljs-string">"size"</span></span>, <span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">"Measure"</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span>: [<span class="hljs-string"><span class="hljs-string">"Usage"</span></span>] }), feedColor = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> sap.viz.ui5.controls.common.feeds.FeedItem({ <span class="hljs-string"><span class="hljs-string">'uid'</span></span>: <span class="hljs-string"><span class="hljs-string">"color"</span></span>, <span class="hljs-string"><span class="hljs-string">'type'</span></span>: <span class="hljs-string"><span class="hljs-string">"Dimension"</span></span>, <span class="hljs-string"><span class="hljs-string">'values'</span></span>: [<span class="hljs-string"><span class="hljs-string">"Time"</span></span>] }); oVizFrame.addFeed(feedSize); oVizFrame.addFeed(feedColor);</code> </pre> <br></div></div><br>  Para mostrar correctamente los datos en el gr√°fico circular, debe verificar cuidadosamente la ruta de datos en el formato especificado en la propiedad Ruta del objeto FlattenedDataset.  En este caso, la propiedad Path apunta al objeto / Data, por lo que es necesario presentar la estructura JSON deseada en la forma que se muestra <br><br><div class="spoiler">  <b class="spoiler_title">aqui</b> <div class="spoiler_text"><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">var</span></span> datapiechart = { <span class="hljs-string"><span class="hljs-string">"Data"</span></span> : []}; var yellow = {<span class="hljs-string"><span class="hljs-string">"Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"Abused"</span></span>,<span class="hljs-string"><span class="hljs-string">"Value"</span></span>:<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class">.yellow}; var red = {"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Time</span></span></span><span class="hljs-class">":"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Occupied</span></span></span><span class="hljs-class">","</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">":</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">red</span></span></span><span class="hljs-class">}; var green = {"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Time</span></span></span><span class="hljs-class">":"</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Free</span></span></span><span class="hljs-class">","</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Value</span></span></span><span class="hljs-class">":</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">green</span></span></span><span class="hljs-class">}; datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yellow</span></span></span><span class="hljs-class">); datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">red</span></span></span><span class="hljs-class">); datapiechart.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Data</span></span></span><span class="hljs-class">.push(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">green</span></span></span><span class="hljs-class">); var mod = viz.getModel(); mod.setData(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">datapiechart</span></span></span><span class="hljs-class">); viz.setModel(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mod</span></span></span><span class="hljs-class">);</span></span></code> </pre> <br></div></div><br>  Para mostrar estad√≠sticas (ver Fig. 4) sobre los usuarios que reservan salas de reuniones, utilizamos un simple elemento de tabla UI5.  Muestra los "puntos" acumulados en funci√≥n del n√∫mero de "visitas" a los eventos.  Por lo tanto, es posible identificar empleados inescrupulosos que reservan salas de reuniones. <br><br><img src="https://habrastorage.org/webt/xo/4c/e9/xo4ce9mlpn1-614bazbu4zfbslw.png"><br>  <i>Fig. 4. Estad√≠sticas de visitas para un usuario espec√≠fico.</i> <br><br>  Con el servicio de Internet de las cosas, as√≠ como el entorno CloudFoundry en la plataforma SAP Cloud, puede crear r√°pidamente sus servicios IoT e integrarlos f√°cilmente con cualquier dispositivo.  Como fuente de informaci√≥n de referencia en el servicio de Internet de las cosas, puede utilizar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">enlace</a> donde se describe en detalle la arquitectura del servicio y se proporcionan ejemplos de c√≥digo. <br><br><img src="https://habrastorage.org/webt/rj/jl/12/rjjl12bkcija7bpkqnvkiz-lzi8.jpeg"><br><br>  Tambi√©n puede usar el acceso de prueba <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> para probar el entorno de Cloud Foundry presionando primero el bot√≥n Iniciar sesi√≥n y completando el procedimiento de registro. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422475/">https://habr.com/ru/post/es422475/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422463/index.html">Estudiamos el clima de las ciudades rusas usando Python</a></li>
<li><a href="../es422465/index.html">Usar slots en Vue como ejemplo de un fragmento de producto</a></li>
<li><a href="../es422467/index.html">Arquitectura de categorizaci√≥n de eventos - Varya</a></li>
<li><a href="../es422469/index.html">Conexi√≥n de Grandstream GXW4216, GXW4224, GXW4232, GXW4248 FXS Gateways a 3CX</a></li>
<li><a href="../es422473/index.html">Lanzamiento de GitLab 11.2: vista previa en IDE web e importaci√≥n de proyectos para Android</a></li>
<li><a href="../es422477/index.html">Qu√© tan malo UX ayuda a los desarrolladores a perder dinero</a></li>
<li><a href="../es422479/index.html">La certificaci√≥n no es para certificaci√≥n</a></li>
<li><a href="../es422483/index.html">MIS Inserciones y √≥rganos remotos.</a></li>
<li><a href="../es422485/index.html">C√≥mo ahorrar dinero al iniciar un negocio en los EE. UU .: registro de empresa, oficina, contabilidad y promoci√≥n</a></li>
<li><a href="../es422487/index.html">Gu√≠a de inicio r√°pido de variables CSS (casos de uso, sintaxis y ejemplos)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>