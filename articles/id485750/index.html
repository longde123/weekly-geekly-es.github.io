<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👦‍👦 👴🏻 🕺 API yang akhirnya layak ditingkatkan dari Java 8. Bagian 1 👩‍👧 🤸 🔂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Java 8 sejauh ini merupakan versi Java yang paling populer dan akan tetap bersamanya untuk beberapa waktu. Namun, lima versi baru Java telah dirilis s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>API yang akhirnya layak ditingkatkan dari Java 8. Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485750/"><p>  Java 8 sejauh ini merupakan versi Java yang paling populer dan akan tetap bersamanya untuk beberapa waktu.  Namun, lima versi baru Java telah dirilis sejak itu (9, 10, 11, 12, 13), dan segera Java 14 lainnya akan dirilis. Sejumlah besar fitur baru telah muncul di versi-versi baru ini.  Misalnya, jika Anda menghitung dalam JEP, maka total 141 diterapkan: </p><br><ul><li>  99 di <a href="https://openjdk.java.net/projects/jdk9/" rel="nofollow">JDK 9</a> </li><li>  12 di <a href="https://openjdk.java.net/projects/jdk/10/" rel="nofollow">JDK 10</a> </li><li>  17 di <a href="https://openjdk.java.net/projects/jdk/11/" rel="nofollow">JDK 11</a> </li><li>  8 di <a href="https://openjdk.java.net/projects/jdk/12/" rel="nofollow">JDK 12</a> </li><li>  5 di <a href="https://openjdk.java.net/projects/jdk/13/" rel="nofollow">JDK 13</a> </li><li>  (+14 hingga <a href="https://openjdk.java.net/projects/jdk/14/" rel="nofollow">JDK 14</a> ) </li></ul><br><p>  Namun, dalam seri artikel ini tidak akan ada daftar JEP kering.  Sebagai gantinya, saya hanya ingin berbicara tentang API menarik yang telah muncul di versi baru.  Setiap artikel akan berisi 10 API.  Dalam pilihan dan urutan API ini, tidak akan ada logika dan keteraturan tertentu.  Ini hanya akan menjadi 10 API acak, bukan TOP 10 dan tanpa memilah dari API yang paling penting ke yang paling tidak penting.  Mari kita mulai. </p><a name="habracut"></a><br>
<h3>  1. Metode <code>Objects.requireNonNullElse()</code> dan <code>Objects.requireNonNullElseGet()</code> </h3><br><h4>  Diperkenalkan di: Jawa 9 </h4><br><p>  Kita mulai daftar kita dengan dua metode yang sangat sederhana, tetapi sangat berguna di kelas <code>java.util.Objects</code> : <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Objects.html" rel="nofollow">requireNonNullElse()</a></code> dan <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Objects.html" rel="nofollow">requireNonNullElseGet()</a></code> .  Metode ini memungkinkan Anda untuk mengembalikan objek yang ditransmisikan, jika tidak <code>null</code> , dan jika itu <code>null</code> , maka kembalikan objek secara default.  Sebagai contoh: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyCoder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Charset charset; MyCoder(Charset charset) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.charset = Objects.requireNonNullElse( charset, StandardCharsets.UTF_8); } }</code> </pre> <br><p>  <code>requireNonNullElseGet()</code> tidak lebih dari versi malas dari <code>requireNonNullElse()</code> .  Mungkin berguna jika menghitung argumen default mahal: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyCoder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Charset charset; MyCoder(Charset charset) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.charset = Objects.requireNonNullElseGet( charset, MyCoder::defaultCharset); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Charset </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultCharset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// long operation... } }</span></span></code> </pre> <br><p>  Ya, tentu saja, dalam kedua kasus, seseorang dapat dengan mudah melakukan tanpa fungsi-fungsi ini, misalnya, menggunakan operator ternary biasa atau <code>Optional</code> , tetapi masih menggunakan fungsi khusus membuat kode sedikit lebih pendek dan lebih bersih.  Dan jika Anda menggunakan impor statis dan menulis cukup <code>requireNonNullElse()</code> alih-alih <code>Objects.requireNonNullElse()</code> , maka kode dapat dikurangi lebih banyak lagi. </p><br><br><h3>  2. Metode pabrik mengembalikan koleksi yang tidak berubah </h3><br><h4>  Diperkenalkan di: Jawa 9 </h4><br><p>  Jika dua metode sebelumnya hanya kosmetik, maka metode pengumpulan statis dapat benar-benar mengurangi kode dan bahkan meningkatkan keamanannya.  Ini adalah metode berikut yang <a href="https://openjdk.java.net/jeps/269" rel="nofollow">diperkenalkan</a> di Jawa 9: </p><br><ul><li>  <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html" rel="nofollow">List.of(E... elements)</a></code> (dan kelebihan) </li><li>  <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Set.html" rel="nofollow">Set.of(E... elements)</a></code> (dan kelebihan) </li><li>  <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html" rel="nofollow">Map.of(K k1, V v1, K k2, V v2, ...)</a></code> (dan kelebihan) </li><li> <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html" rel="nofollow">Map.ofEntries(Entry&lt;? extends K, ? extends V&gt;... entries)</a></code> </li> </ul><br><p>  Ke daftar yang sama, Anda bisa menambahkan metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html" rel="nofollow">Map.entry(K k, V v)</a></code> menyertainya, yang membuat <code>Entry</code> dari kunci dan nilai, serta menyalin metode untuk koleksi yang <a href="https://minijug.ru/unmodifiable_collections_enhancements_in_java_10.html" rel="nofollow">muncul</a> di Java 10: </p><br><ul><li> <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/List.html" rel="nofollow">List.copyOf(Collection&lt;? extends E&gt; coll)</a></code> </li> <li> <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Set.html" rel="nofollow">Set.copyOf(Collection&lt;? extends E&gt; coll)</a></code> </li> <li> <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html" rel="nofollow">Map.copyOf(Map&lt;? extends K,​? extends V&gt; map)</a></code> </li> </ul><br><p>  Metode pabrik statis memungkinkan Anda untuk membuat koleksi abadi dan menginisialisasi dalam satu tindakan: </p><br><pre> <code class="java hljs">List&lt;String&gt; imageExtensions = List.of(<span class="hljs-string"><span class="hljs-string">"bmp"</span></span>, <span class="hljs-string"><span class="hljs-string">"jpg"</span></span>, <span class="hljs-string"><span class="hljs-string">"png"</span></span>, <span class="hljs-string"><span class="hljs-string">"gif"</span></span>);</code> </pre> <br><p>  Jika Anda tidak menggunakan pustaka pihak ketiga, maka kode yang serupa di Java 8 terlihat jauh lebih rumit: </p><br><pre> <code class="java hljs">List&lt;String&gt; imageExtensions = Collections.unmodifiableList( Arrays.asList(<span class="hljs-string"><span class="hljs-string">"bmp"</span></span>, <span class="hljs-string"><span class="hljs-string">"jpg"</span></span>, <span class="hljs-string"><span class="hljs-string">"png"</span></span>, <span class="hljs-string"><span class="hljs-string">"gif"</span></span>));</code> </pre> <br><p>  Dan dalam kasus <code>Set</code> atau <code>Map</code> masih lebih menyedihkan, karena tidak ada analog dari <code>Arrays.asList()</code> untuk <code>Set</code> dan <code>Map</code> . </p><br><p>  Ketangkasan seperti itu memprovokasi banyak orang yang menulis di Java 8 untuk sepenuhnya meninggalkan koleksi abadi dan selalu menggunakan <code>ArrayList</code> , <code>HashSet</code> dan <code>HashMap</code> , bahkan di mana arti dari koleksi abadi diperlukan.  Akibatnya, ini mematahkan konsep immutable-by-default dan mengurangi keamanan kode. </p><br><p>  Jika Anda akhirnya memutakhirkan dari Java 8, maka bekerja dengan koleksi tidak berubah menjadi lebih mudah dan lebih menyenangkan berkat metode pabrik. </p><br><br><h3>  3. <code>Files.readString()</code> dan <code>Files.writeString()</code> </h3><br><h4>  Diperkenalkan di: Jawa 11 </h4><br><p>  Java selalu dikenal karena pengenalan metode siap pakai untuk operasi yang sering dilakukan.  Misalnya, untuk salah satu operasi paling populer dalam pemrograman, membaca file, untuk waktu yang sangat lama tidak ada metode yang sudah jadi.  Hanya 15 tahun setelah rilis Java 1.0, NIO muncul, di mana metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html" rel="nofollow">Files.readAllBytes()</a></code> diperkenalkan untuk membaca file ke dalam array byte. </p><br><p>  Tetapi ini masih belum cukup, karena orang sering harus bekerja dengan file teks dan untuk ini Anda perlu membaca string dari file, bukan byte.  Oleh karena itu, di Java 8, metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html" rel="nofollow">Files.readAllLines()</a></code> ditambahkan, mengembalikan <code>List&lt;String&gt;</code> . </p><br><p>  Namun, ini tidak cukup, karena orang bertanya betapa mudahnya untuk membaca seluruh file sebagai satu baris.  Sebagai hasilnya, untuk melengkapi gambar di Java 11, metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html" rel="nofollow">Files.readString()</a></code> ditunggu-tunggu <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html" rel="nofollow">Files.readString()</a></code> , sehingga akhirnya menutup pertanyaan ini.  Anehnya, jika metode serupa hadir dalam banyak bahasa lain sejak awal, maka Java membutuhkan waktu lebih dari 20 tahun untuk melakukan ini. </p><br><p>  Bersama dengan <code>readString()</code> tentu saja, metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Files.html" rel="nofollow">writeString()</a></code> simetris juga diperkenalkan.  Metode ini juga memiliki kelebihan yang memungkinkan Anda untuk menentukan <code>Charset</code> .  Bersama-sama, semua ini membuat bekerja dengan file teks menjadi sangat nyaman.  Contoh: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">/**        */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reencodeFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path path, Charset from, Charset to)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ String content = Files.readString(path, from); Files.writeString(path, content, to); }</code> </pre> <br><br><h3>  4. <code>Optional.ifPresentOrElse()</code> dan <code>Optional.stream()</code> </h3><br><h4>  Diperkenalkan di: Jawa 9 </h4><br><p>  Ketika <code>Optional</code> muncul di Java 8, mereka tidak memiliki cara yang nyaman untuk melakukan dua tindakan berbeda, tergantung pada apakah itu memiliki nilai atau tidak.  Akibatnya, orang harus menggunakan rantai yang biasanya <code>isPresent()</code> dan <code>get()</code> : </p><br><pre> <code class="java hljs">Optional&lt;String&gt; opt = ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (opt.isPresent()) { log.info(<span class="hljs-string"><span class="hljs-string">"Value = "</span></span> + opt.get()); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { log.error(<span class="hljs-string"><span class="hljs-string">"Empty"</span></span>); }</code> </pre> <br><p>  Atau Anda masih bisa mengelak dengan cara ini: </p><br><pre> <code class="java hljs">Optional&lt;String&gt; opt = ... opt.ifPresent(str -&gt; log.info(<span class="hljs-string"><span class="hljs-string">"Value = "</span></span> + str)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (opt.isEmpty()) { log.error(<span class="hljs-string"><span class="hljs-string">"Empty"</span></span>); }</code> </pre> <br><p>  Kedua opsi tersebut tidak sempurna.  Tetapi, dimulai dengan Java 9, ini dapat dilakukan secara elegan menggunakan metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Optional.html" rel="nofollow">Optional.ifPresentOrElse()</a></code> : </p><br><pre> <code class="java hljs">Optional&lt;String&gt; opt = ... opt.ifPresentOrElse( str -&gt; log.info(<span class="hljs-string"><span class="hljs-string">"Value = "</span></span> + str), () -&gt; log.error(<span class="hljs-string"><span class="hljs-string">"Empty"</span></span>));</code> </pre> <br><p>  Metode baru lain yang menarik di Java 9 adalah <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Optional.html" rel="nofollow">Optional.stream()</a></code> , yang mengembalikan <code>Stream</code> dari satu elemen jika nilainya hadir, dan <code>Stream</code> kosong jika tidak.  Metode seperti itu bisa sangat berguna dalam rantai dengan <code>flatMap()</code> .  Misalnya, dalam contoh ini, sangat mudah untuk mendapatkan daftar semua nomor telepon perusahaan: </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Optional&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPhoneNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Department</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Employee&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEmployees</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Company</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Department&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDepartments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } <span class="hljs-function"><span class="hljs-function">Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAllPhoneNumbers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getDepartments() .stream() .flatMap(d -&gt; d.getEmployees().stream()) .flatMap(e -&gt; e.getPhoneNumber().stream()) .collect(Collectors.toSet()); } }</code> </pre> <br><p>  Di Java 8, Anda harus menulis sesuatu seperti: </p><br><pre> <code class="plaintext hljs">e -&gt; e.getPhoneNumber().map(Stream::of).orElse(Stream.empty())</code> </pre> <br><p>  Terlihat tebal dan tidak mudah dibaca. </p><br><br><h3>  5. <code>Process.pid()</code> , <code>Process.info()</code> dan <code>ProcessHandle</code> </h3><br><h4>  Diperkenalkan di: Jawa 9 </h4><br><p>  Jika Anda masih dapat mengelola tanpa API sebelumnya, maka mengganti metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/Process.html" rel="nofollow">Process.pid()</a></code> di Java 8 akan cukup bermasalah, terutama lintas platform.  Metode ini mengembalikan ID proses asli: </p><br><pre> <code class="java hljs">Process process = Runtime.getRuntime().exec(<span class="hljs-string"><span class="hljs-string">"java -version"</span></span>); System.out.println(process.pid());</code> </pre> <br><p>  Menggunakan metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/Process.html" rel="nofollow">Process.info()</a></code> , Anda juga dapat menemukan informasi berguna tambahan tentang proses tersebut.  Ini mengembalikan objek bertipe <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.Info.html" rel="nofollow">ProcessHandle.Info</a></code> .  Mari kita lihat apa yang dia kembalikan kepada kita untuk proses di atas: </p><br><pre> <code class="java hljs">Process process = Runtime.getRuntime().exec(<span class="hljs-string"><span class="hljs-string">"java -version"</span></span>); ProcessHandle.Info info = process.info(); System.out.println(<span class="hljs-string"><span class="hljs-string">"PID = "</span></span> + process.pid()); System.out.println(<span class="hljs-string"><span class="hljs-string">"User = "</span></span> + info.user()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Command = "</span></span> + info.command()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Args = "</span></span> + info.arguments().map(Arrays::toString)); System.out.println(<span class="hljs-string"><span class="hljs-string">"Command Line = "</span></span> + info.commandLine()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Start Time = "</span></span> + info.startInstant()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Total Time = "</span></span> + info.totalCpuDuration());</code> </pre> <br><p>  Kesimpulan: </p><br><pre> <code class="plaintext hljs">PID = 174 User = Optional[orionll] Command = Optional[/usr/lib/jvm/java-13-openjdk-amd64/bin/java] Args = Optional[[-version]] Command Line = Optional[/usr/lib/jvm/java-13-openjdk-amd64/bin/java -version] Start Time = Optional[2020-01-24T05:54:25.680Z] Total Time = Optional[PT0.01S]</code> </pre> <br><p>  Bagaimana jika prosesnya tidak dimulai dari proses Java saat ini?  Untuk ini, <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.html" rel="nofollow">ProcessHandle</a></code> datang untuk <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.html" rel="nofollow">ProcessHandle</a></code> .  Sebagai contoh, mari kita dapatkan semua informasi yang sama untuk proses saat ini menggunakan metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.html" rel="nofollow">ProcessHandle.current()</a></code> : </p><br><pre> <code class="java hljs">ProcessHandle handle = ProcessHandle.current(); ProcessHandle.Info info = handle.info(); System.out.println(<span class="hljs-string"><span class="hljs-string">"PID = "</span></span> + handle.pid()); System.out.println(<span class="hljs-string"><span class="hljs-string">"User = "</span></span> + info.user()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Command = "</span></span> + info.command()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Args = "</span></span> + info.arguments().map(Arrays::toString)); System.out.println(<span class="hljs-string"><span class="hljs-string">"Command Line = "</span></span> + info.commandLine()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Start Time = "</span></span> + info.startInstant()); System.out.println(<span class="hljs-string"><span class="hljs-string">"Total Time = "</span></span> + info.totalCpuDuration());</code> </pre> <br><p>  Kesimpulan: </p><br><pre> <code class="plaintext hljs">PID = 191 User = Optional[orionll] Command = Optional[/usr/lib/jvm/java-13-openjdk-amd64/bin/java] Args = Optional[[Main.java]] Command Line = Optional[/usr/lib/jvm/java-13-openjdk-amd64/bin/java Main.java] Start Time = Optional[2020-01-24T05:59:17.060Z] Total Time = Optional[PT1.56S]</code> </pre> <br><p>  Untuk mendapatkan <code>ProcessHandle</code> untuk proses apa pun dengan PID-nya, Anda dapat menggunakan metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.html" rel="nofollow">ProcessHandle.of()</a></code> (ini akan mengembalikan <code>Optional.empty</code> jika prosesnya tidak ada). </p><br><p>  Juga di <code>ProcessHandle</code> ada banyak metode menarik lainnya, misalnya, <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ProcessHandle.html" rel="nofollow">ProcessHandle.allProcesses()</a></code> . </p><br><br><h3>  6. Metode <code>String</code> : <code>isBlank()</code> , <code>strip()</code> , <code>stripLeading()</code> , <code>stripTrailing()</code> , <code>repeat()</code> dan <code>lines()</code> </h3><br><h4>  Diperkenalkan di: Jawa 11 </h4><br><p>  Seluruh gunung metode yang berguna untuk string muncul di Jawa 11. </p><br><p>  Metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.isBlank()</a></code> memungkinkan Anda untuk mengetahui apakah string hanya terdiri dari spasi putih: </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">" \n\r\t"</span></span>.isBlank()); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre> <br><p>  Metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.stripLeading()</a></code> , <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.stripTrailing()</a></code> dan <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.strip()</a></code> menghapus karakter spasi di awal baris, di ujung baris, atau di kedua ujungnya: </p><br><pre> <code class="java hljs">String str = <span class="hljs-string"><span class="hljs-string">" \tHello, world!\t\n"</span></span>; String str1 = str.stripLeading(); <span class="hljs-comment"><span class="hljs-comment">// "Hello, world!\t\n" String str2 = str.stripTrailing(); // " \tHello, world!" String str3 = str.strip(); // "Hello, world!"</span></span></code> </pre> <br><p>  Perhatikan bahwa <code>String.strip()</code> tidak sama dengan <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.trim()</a></code> : yang kedua hanya menghapus karakter yang kodenya kurang dari atau sama dengan U + 0020, dan yang pertama juga menghilangkan spasi dari Unicode: </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"str\u2000"</span></span>.strip()); <span class="hljs-comment"><span class="hljs-comment">// "str" System.out.println("str\u2000".trim()); // "str\u2000"</span></span></code> </pre> <br><br><p>  Metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.repeat()</a></code> menggabungkan string itu sendiri <code>n</code> kali: </p><br><pre> <code class="java hljs">System.out.print(<span class="hljs-string"><span class="hljs-string">"Hello, world!\n"</span></span>.repeat(<span class="hljs-number"><span class="hljs-number">3</span></span>));</code> </pre> <br><p>  Kesimpulan: </p><br><pre> <code class="plaintext hljs">Hello, world! Hello, world! Hello, world!</code> </pre> <br><p>  Akhirnya, metode <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.lines()</a></code> memecah string menjadi beberapa baris.  Selamat Tinggal <code>String.split()</code> , yang membuat orang selalu bingung, argumen mana yang digunakan untuk itu, baik <code>"\n"</code> , atau <code>"\r"</code> atau <code>"\n\r"</code> (pada kenyataannya, yang terbaik adalah menggunakan regular ekspresi <code>"\R"</code> , yang mencakup semua kombinasi).  Selain itu, <code>String.lines()</code> seringkali lebih efisien karena mengembalikan baris dengan malas. </p><br><pre> <code class="java hljs">System.out.println(<span class="hljs-string"><span class="hljs-string">"line1\nline2\nline3\n"</span></span> .lines() .map(String::toUpperCase) .collect(Collectors.joining(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>)));</code> </pre> <br><p>  Kesimpulan: </p><br><pre> <code class="plaintext hljs">LINE1 LINE2 LINE3</code> </pre> <br><br><h3>  7. <code>String.indent()</code> </h3><br><h4>  Muncul di: Java 12 </h4><br><p>  Mari mencairkan cerita kita dengan sesuatu yang segar yang muncul baru-baru ini.  Meet: the <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/String.html" rel="nofollow">String.indent()</a></code> method, yang meningkatkan (atau mengurangi) indentasi setiap baris dalam baris yang diberikan oleh nilai yang ditentukan.  Sebagai contoh: </p><br><pre> <code class="java hljs">String body = <span class="hljs-string"><span class="hljs-string">"&lt;h1&gt;Title&lt;/h1&gt;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;p&gt;Hello, world!&lt;/p&gt;"</span></span>; System.out.println(<span class="hljs-string"><span class="hljs-string">"&lt;html&gt;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">" &lt;body&gt;\n"</span></span> + body.indent(<span class="hljs-number"><span class="hljs-number">4</span></span>) + <span class="hljs-string"><span class="hljs-string">" &lt;/body&gt;\n"</span></span> + <span class="hljs-string"><span class="hljs-string">"&lt;/html&gt;"</span></span>);</code> </pre> <br><p>  Kesimpulan: </p><br><pre> <code class="plaintext hljs">&lt;html&gt; &lt;body&gt; &lt;h1&gt;Title&lt;/h1&gt; &lt;p&gt;Hello, world!&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre> <br><p>  Perhatikan bahwa untuk baris terakhir, <code>String.indent()</code> sendiri memasukkan umpan baris, jadi kami tidak perlu menambahkan <code>'\n'</code> setelah <code>body.indent(4)</code> . </p><br><p>  Tentu saja, metode seperti itu akan sangat menarik dalam kombinasi dengan <a href="https://minijug.ru/text_blocks.html" rel="nofollow">blok teks</a> ketika mereka menjadi stabil, tetapi tidak ada yang menghalangi kita untuk menggunakannya sekarang tanpa blok teks. </p><br><br><h3>  8. Metode <code>Stream</code> : <code>takeWhile()</code> , <code>dropWhile()</code> , <code>iterate()</code> dengan predikat dan <code>ofNullable()</code> </h3><br><h4>  Diperkenalkan di: Jawa 9 </h4><br><p>  <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html" rel="nofollow">Stream.takeWhile()</a></code> mirip dengan <code>Stream.limit()</code> , tetapi membatasi <code>Stream</code> bukan oleh kuantitas, tetapi dengan predikat.  Kebutuhan akan pemrograman seperti itu sangat sering muncul.  Misalnya, jika kita perlu mendapatkan semua entri buku harian untuk tahun berjalan: </p><br><pre> <code class="plaintext hljs">[ { "date" : "2020-01-27", "text" : "..." }, { "date" : "2020-01-25", "text" : "..." }, { "date" : "2020-01-22", "text" : "..." }, { "date" : "2020-01-17", "text" : "..." }, { "date" : "2020-01-11", "text" : "..." }, { "date" : "2020-01-02", "text" : "..." }, { "date" : "2019-12-30", "text" : "..." }, { "date" : "2019-12-27", "text" : "..." }, ... ]</code> </pre> <br><p>  <code>Stream</code> catatan hampir tidak ada habisnya, jadi <code>filter()</code> tidak dapat digunakan.  Lalu <code>takeWhile()</code> datang untuk <code>takeWhile()</code> : </p><br><pre> <code class="plaintext hljs">getNotesStream() .takeWhile(note -&gt; note.getDate().getYear() == 2020);</code> </pre> <br><p>  Dan jika kita ingin mendapatkan catatan untuk 2019, maka kita bisa menggunakan <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html" rel="nofollow">dropWhile()</a></code> : </p><br><pre> <code class="plaintext hljs">getNotesStream() .dropWhile(note -&gt; note.getDate().getYear() == 2020) .takeWhile(note -&gt; note.getDate().getYear() == 2019);</code> </pre> <br><p>  Di Java 8, <code>Stream.iterate()</code> hanya bisa menghasilkan <code>Stream</code> tanpa batas.  Namun di Java 9, metode ini memiliki <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html" rel="nofollow"></a></code> yang membutuhkan predikat.  Berkat ini, banyak loop sekarang dapat diganti dengan <code>Stream</code> : </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java 8 for (int i = 1; i &lt; 100; i *= 2) { System.out.println(i); }</span></span></code> </pre> <br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java 9+ IntStream .iterate(1, i -&gt; i &lt; 100, i -&gt; i * 2) .forEach(System.out::println);</span></span></code> </pre> <br><p>  Kedua versi ini mencetak semua derajat deuce yang tidak melebihi <code>100</code> : </p><br><pre> <code class="plaintext hljs">1 2 4 8 16 32 64</code> </pre> <br><p>  Omong-omong, kode terakhir bisa ditulis ulang menggunakan <code>takeWhile()</code> : </p><br><pre> <code class="plaintext hljs">IntStream .iterate(1, i -&gt; i * 2) .takeWhile(i -&gt; i &lt; 100) .forEach(System.out::println);</code> </pre> <br><p>  Namun, opsi dengan tiga argumen <code>iterate()</code> masih lebih bersih (dan IntelliJ IDEA <a href="https://youtrack.jetbrains.com/issue/IDEA-214960" rel="nofollow">menyarankan untuk</a> memperbaikinya kembali). </p><br><p>  Akhirnya, <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/stream/Stream.html" rel="nofollow">Stream.ofNullable()</a></code> mengembalikan <code>Stream</code> dengan satu elemen jika bukan <code>null</code> , dan <code>Stream</code> kosong jika itu <code>null</code> .  Metode ini sempurna dalam contoh di atas dengan telepon perusahaan jika <code>getPhoneNumber()</code> akan mengembalikan <code>String</code> dibatalkan alih-alih <code>Optional&lt;String&gt;</code> : </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Employee</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPhoneNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Department</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Employee&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getEmployees</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Company</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">List&lt;Department&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDepartments</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ... } <span class="hljs-function"><span class="hljs-function">Set&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAllPhoneNumbers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getDepartments() .stream() .flatMap(d -&gt; d.getEmployees().stream()) .flatMap(e -&gt; Stream.ofNullable(e.getPhoneNumber())) .collect(Collectors.toSet()); } }</code> </pre> <br><br><h3>  9. <code>Predicate.not()</code> </h3><br><h4>  Muncul di: Jawa 11 </h4><br><p>  Metode ini tidak memperkenalkan sesuatu yang secara fundamental baru dan lebih kosmetik daripada fundamental.  Meskipun demikian, kemampuan untuk sedikit mempersingkat kode selalu sangat menyenangkan.  Menggunakan <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/function/Predicate.html" rel="nofollow">Predicate.not()</a></code> lambdas yang memiliki negasi dapat diganti dengan referensi metode: </p><br><pre> <code class="plaintext hljs">Files.lines(path) .filter(str -&gt; !str.isEmpty()) .forEach(System.out::println);</code> </pre> <br><p>  Dan sekarang menggunakan <code>not()</code> : </p><br><pre> <code class="plaintext hljs">Files.lines(path) .filter(not(String::isEmpty)) .forEach(System.out::println);</code> </pre> <br><p>  Ya, penghematannya tidak terlalu besar, dan jika Anda menggunakan <code>s -&gt; !s.isEmpty()</code> , maka jumlah karakter, sebaliknya, menjadi lebih besar.  Tetapi bahkan dalam kasus ini, saya masih lebih suka opsi kedua, karena lebih deklaratif dan tidak menggunakan variabel di dalamnya, yang berarti bahwa namespace tidak berantakan. </p><br><br><h3>  10. Pembersih </h3><br><h4>  Muncul di: Java 9 </h4><br><p>  Saya ingin mengakhiri cerita hari ini dengan API baru yang menarik yang muncul di Jawa 9 dan berfungsi untuk membersihkan sumber daya sebelum dibuang oleh pengumpul sampah.  <code><a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ref/Cleaner.html" rel="nofollow">Cleaner</a></code> adalah pengganti yang aman untuk metode <code>Object.finalize()</code> , yang itu sendiri menjadi usang di Jawa 9. </p><br><p>  Menggunakan <code>Cleaner</code> Anda dapat mendaftarkan pembersihan sumber daya yang akan terjadi jika Anda lupa melakukannya secara eksplisit (misalnya, Anda lupa memanggil metode <code>close()</code> atau Anda tidak menggunakan <code>try-with-resources</code> ).  Berikut adalah contoh sumber daya abstrak yang tindakan pembersihannya terdaftar di konstruktor: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Resource</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Closeable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Cleaner CLEANER = Cleaner.create(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Cleaner.Cleanable cleanable; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Resource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ cleanable = CLEANER.register(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, () -&gt; { <span class="hljs-comment"><span class="hljs-comment">//   // (,  ) }); } @Override public void close() { cleanable.clean(); } }</span></span></code> </pre> <br><p>  Dengan cara yang baik, pengguna harus membuat sumber daya seperti itu di blok <code>try</code> : </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> resource = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Resource()) { <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br><p>  Namun, mungkin ada pengguna yang lupa melakukan ini dan menulis hanya <code>var resource = new Resource()</code> .  Dalam kasus seperti itu, pembersihan tidak akan dilakukan segera, tetapi akan dipanggil nanti dalam salah satu siklus pengumpulan sampah berikut.  Itu lebih baik daripada tidak sama sekali. </p><br><p>  Jika Anda ingin mempelajari <code>Cleaner</code> lebih baik dan mencari tahu mengapa Anda tidak boleh menggunakan <code>finalize()</code> , maka saya sarankan Anda mendengarkan <a href="https://www.youtube.com/watch%3Fv%3DK5IctLPem0c" rel="nofollow">ceramah saya</a> tentang topik ini. </p><br><br><h3>  Kesimpulan </h3><br><p>  Jawa tidak tinggal diam dan secara bertahap berkembang.  Saat Anda duduk di Java 8, dengan setiap rilis ada semakin banyak API baru yang menarik.  Hari ini kami meninjau 10 API semacam itu.  Dan Anda dapat menggunakan semuanya jika Anda akhirnya memutuskan untuk bermigrasi dari Java 8. </p><br><p>  Lain kali kita akan melihat 10 API baru. </p><br>  <i>Jika Anda tidak ingin melewatkan bagian selanjutnya, saya sarankan Anda berlangganan <a href="https://tlg.name/miniJUG" rel="nofollow">saluran Telegram saya</a> , tempat saya juga menerbitkan berita Java.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id485750/">https://habr.com/ru/post/id485750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id485740/index.html">The Standoff at PHDays: Ikut serta dalam Anniversary Battle of Hacker and Defenders</a></li>
<li><a href="../id485742/index.html">Bagaimana kami membuat direktori alamat Rostelecom</a></li>
<li><a href="../id485744/index.html">Inteligensi - kemampuan suatu objek untuk menyesuaikan perilakunya dengan lingkungan untuk melestarikan (bertahan hidup)</a></li>
<li><a href="../id485746/index.html">Platform ke-4 berangkat dari server yang digunakan</a></li>
<li><a href="../id485748/index.html">Rantai opsional, penyatuan dengan nol, dan bagaimana mereka mengubah pendekatan kami dalam menulis kode</a></li>
<li><a href="../id485758/index.html">Raksasa modular dengan kontrol online, serta tekstil dan keyboard rajutan Joe Paradiso</a></li>
<li><a href="../id485760/index.html">Ekstensi di Kotlin. Atavisme berbahaya atau alat yang berguna?</a></li>
<li><a href="../id485764/index.html">Bereaksi Token Auth</a></li>
<li><a href="../id485766/index.html">Aturan makan</a></li>
<li><a href="../id485768/index.html">Tren Web 2020 Layak Dicoba</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>