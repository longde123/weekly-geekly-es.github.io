<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÖ üê° üëêüèæ Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 8 üë©üèæ‚Äçü§ù‚Äçüë®üèª üà¥ üíø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Movimento lateral 
 Links para todas as partes: 
 Parte 1. Obtendo Acesso Inicial (Acesso Inicial) 
 Parte 2. Execu√ß√£o 
 Parte 3. Fixa√ß√£o (Persist√™nci...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439026/"><h1>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Movimento lateral</a> </h1><br>  <b>Links para todas as partes:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1. Obtendo Acesso Inicial (Acesso Inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. Execu√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3. Fixa√ß√£o (Persist√™ncia)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4. Escalonamento de Privil√©gios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5. Evas√£o de Defesa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 6. Obtendo credenciais (acesso a credenciais)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 7. Descoberta</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 8. Movimento Lateral</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 9. Coleta de Dados (Cole√ß√£o)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 10 Exfiltra√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 11. Comando e Controle</a> <br><br>  <i>As</i> t√°ticas de <i>movimento lateral</i> ( <i>movimento lateral - movimento lateral, lateral e horizontal</i> ) incluem m√©todos para o inimigo obter acesso e controle sobre sistemas remotos conectados √† rede atacada, al√©m de, em alguns casos, lan√ßar ferramentas maliciosas em sistemas remotos conectados para a rede atacada.  O movimento lateral da rede permite que um invasor obtenha informa√ß√µes de sistemas remotos sem o uso de ferramentas adicionais, como utilit√°rios de acesso remoto (RAT). <br><a name="habracut"></a><br>  <i>O autor n√£o √© respons√°vel pelas poss√≠veis consequ√™ncias da aplica√ß√£o das informa√ß√µes contidas no artigo e tamb√©m se desculpa por poss√≠veis imprecis√µes feitas em algumas formula√ß√µes e termos.</i>  <i>As informa√ß√µes publicadas s√£o uma recontagem gratuita do conte√∫do do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MITRE ATT &amp; CK</a> .</i> <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AppleScript</a> </h3><br>  <i>Sistema:</i> macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o:</i> a linguagem AppleScript oferece a capacidade de trabalhar com o Apple Event - mensagens trocadas entre aplicativos como parte da comunica√ß√£o entre processos (IPC).  Usando o Apple Event, voc√™ pode interagir com quase qualquer aplicativo aberto local ou remotamente, acionar eventos como abrir janelas e pressionar teclas.  Os scripts s√£o executados usando o comando: <code>Osascript -e []</code> . <br>  Os invasores podem usar o AppleScript para abrir secretamente conex√µes SSH para hosts remotos, oferecendo aos usu√°rios di√°logos falsos.  O AppleScript tamb√©m pode ser usado em tipos mais comuns de ataques, como nas organiza√ß√µes Reverse Shell. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> verifica√ß√£o obrigat√≥ria da execu√ß√£o de scripts AppleScript para a assinatura de um desenvolvedor confi√°vel. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Software de implanta√ß√£o de aplicativos</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o: as</i> ferramentas de implanta√ß√£o de aplicativos usadas pelos administradores de rede corporativa podem ser usadas por usu√°rios mal-intencionados para instalar aplicativos mal-intencionados.  As permiss√µes necess√°rias para concluir essas etapas dependem da configura√ß√£o do sistema: certas credenciais de dom√≠nio podem ser necess√°rias para acessar o servidor de instala√ß√£o do software e privil√©gios locais podem ser suficientes, no entanto, uma conta de administrador pode ser necess√°ria para entrar no sistema de instala√ß√£o do aplicativo e iniciar o processo de implanta√ß√£o sistema  O acesso a um sistema centralizado de instala√ß√£o de aplicativos corporativos permite que um advers√°rio execute remotamente o c√≥digo em todos os sistemas da rede atacada.  Esse acesso pode ser usado para percorrer a rede, coletar informa√ß√µes ou causar um efeito espec√≠fico, por exemplo, limpar discos r√≠gidos em todos os hosts. <br><br>  <i>Recomenda√ß√µes de seguran√ßa:</i> permita apenas que um n√∫mero limitado de administradores autorizados acesse sistemas de implanta√ß√£o de aplicativos.  Forne√ßa isolamento confi√°vel e restrinja o acesso a sistemas cr√≠ticos de rede usando firewalls, restrinja privil√©gios de conta, configure pol√≠ticas de seguran√ßa de grupo e autentica√ß√£o multifator.  Verifique se os dados das contas que t√™m acesso ao sistema de implanta√ß√£o de software s√£o exclusivos e n√£o s√£o usados ‚Äã‚Äãem toda a rede.  Instale regularmente patches e atualiza√ß√µes nos sistemas de instala√ß√£o de aplicativos para impedir que eles obtenham acesso remoto n√£o autorizado atrav√©s da explora√ß√£o de vulnerabilidades.  Se o sistema de instala√ß√£o do aplicativo estiver configurado para distribuir apenas arquivos bin√°rios assinados, verifique se os certificados de assinatura confi√°veis ‚Äã‚Äãn√£o foram colocados nele, mas est√£o armazenados em um sistema que n√£o pode ser acessado ou limitado e controlado remotamente. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DCOM (modelo de objeto de componente distribu√≠do)</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Administrador, Sistema <br>  <i>Descri√ß√£o: o</i> DCOM √© um protocolo que estende a funcionalidade do COM (Component Object Model), permitindo que os componentes de software interajam n√£o apenas no sistema local, mas tamb√©m na rede, usando a tecnologia RPC (Remote Procedure Call), com componentes de aplicativos de outros sistemas.  COM √© um componente da API do Windows.  Por meio do COM, um objeto cliente pode chamar um m√©todo de objeto do servidor, geralmente DLLs ou arquivos .exe.  As permiss√µes para interagir com um objeto COM do servidor local ou remoto s√£o definidas usando ACLs no registro.  Por padr√£o, apenas administradores podem ativar e executar remotamente objetos COM por meio do DCOM. <br><br>  Os inimigos podem usar o DCOM para se mover lateralmente pela rede.  Por meio do DCOM, um invasor que trabalha no contexto de um usu√°rio com os privil√©gios apropriados pode executar remotamente c√≥digo arbitr√°rio por meio de aplicativos do Office e outros objetos do Windows que contenham m√©todos n√£o seguros.  O DCOM tamb√©m pode executar macros em documentos existentes, al√©m de chamar o DDE (Dynamic Data Exchange) diretamente por meio de um objeto COM criado no Microsoft Office, ignorando a necessidade de criar um documento malicioso.  O DCOM tamb√©m pode fornecer ao advers√°rio funcionalidades que podem ser usadas em outros est√°gios do ataque, como escala√ß√£o de privil√©gios ou acesso de fixa√ß√£o. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> Usando o registro, defina configura√ß√µes individuais de seguran√ßa para aplicativos COM: c√≥digo&gt; HKEY_LOCAL_MACHINE \ SOFTWARE \ Classes \ AppID. <br>  Considere desativar o suporte ao DCOM usando o utilit√°rio <i>dcomcnfg.exe</i> ou no registro: <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Ole\EnableDCOM=SZ:N</code> <br>  Habilite o Firewall do Windows, que por padr√£o impede a cria√ß√£o de inst√¢ncias do DCOM.  Ative a visualiza√ß√£o e notifica√ß√µes seguras sobre o lan√ßamento de objetos COM nos documentos do MS Office. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Explora√ß√£o de servi√ßos remotos</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o:</i> para executar c√≥digo arbitr√°rio, os invasores podem usar explora√ß√µes que usam erros em programas, servi√ßos, software de sistema operacional ou mesmo no kernel do sistema operacional.  O objetivo de explorar as vulnerabilidades dos servi√ßos remotos ap√≥s o comprometimento inicial √© fornecer acesso remoto aos sistemas para se mover pela rede. <br><br>  Anteriormente, o advers√°rio precisava identificar sistemas com vulnerabilidades.  Isso pode ser feito verificando os servi√ßos de rede ou outros m√©todos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">detec√ß√£o</a> , como a pesquisa de software vulner√°vel comum e as corre√ß√µes ausentes, o que indica a presen√ßa de vulnerabilidades, ou a pesquisa de ferramentas de seguran√ßa usadas para detectar e bloquear a explora√ß√£o remota de vulnerabilidades.  √â mais prov√°vel que os servidores sejam um destino valioso para uso na navega√ß√£o na rede, mas as esta√ß√µes de trabalho tamb√©m correm risco se fornecerem ao advers√°rio qualquer vantagem ou acesso a recursos adicionais. <br><br>  As vulnerabilidades s√£o conhecidas em servi√ßos compartilhados, como SMB, RDP, al√©m de aplicativos que podem ser usados ‚Äã‚Äãem redes internas, como MySQL e servi√ßos de servidor da web.  Dependendo das permiss√µes do servi√ßo vulner√°vel, um advers√°rio pode adicionalmente obter escalada de privil√©gios usando um movimento lateral. <br><br>  Dicas de <i>seguran√ßa:</i> segmente redes e sistemas para reduzir o acesso a sistemas e servi√ßos cr√≠ticos.  Minimize a disponibilidade dos servi√ßos, concedendo direitos apenas √†queles que precisam deles.  Verifique regularmente sua rede interna quanto a servi√ßos novos e potencialmente vulner√°veis.  Minimize as permiss√µes e o acesso √†s contas de servi√ßo para limitar a cobertura. <br><br>  Atualize regularmente o software, implemente o processo de gerenciamento da instala√ß√£o de patches de aplicativos em hosts e servidores internos.  Desenvolva procedimentos de an√°lise de amea√ßas cibern√©ticas para determinar os tipos e n√≠veis de amea√ßas durante os quais as explora√ß√µes podem ser usadas contra sua organiza√ß√£o, incluindo explora√ß√µes de vulnerabilidades de dia zero.  Use caixas de areia para dificultar a execu√ß√£o de opera√ß√µes por inimigos usando vulnerabilidades desconhecidas ou n√£o corrigidas.  Outros tipos de microssegmenta√ß√£o e virtualiza√ß√£o de aplicativos tamb√©m podem atenuar os efeitos de certos tipos de explora√ß√µes.  Softwares de seguran√ßa como o Windows Defender Exploit Guard (WDEG) e o EMET (Enhanced Mitigation Experience Toolkit), que t√™m como objetivo encontrar o comportamento usado durante a explora√ß√£o de vulnerabilidades, podem ser usados ‚Äã‚Äãpara proteger contra explora√ß√µes.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Verificar a integridade do fluxo de controle</a> √© outra maneira de identificar e bloquear a explora√ß√£o de vulnerabilidades de software.  Muitos dos recursos de seguran√ßa listados podem n√£o funcionar em todos os programas e servi√ßos; a compatibilidade depende da arquitetura e do arquivo bin√°rio do aplicativo de destino. <br><br>  Dependendo das ferramentas dispon√≠veis, a detec√ß√£o pela parte defensora da explora√ß√£o de vulnerabilidades pode ser dif√≠cil.  As explora√ß√µes de software nem sempre s√£o bem-sucedidas ou levam √† opera√ß√£o inst√°vel ou ao encerramento anormal do processo atacado.  Preste aten√ß√£o aos indicadores de comprometimento, por exemplo, comportamento anormal dos processos, apar√™ncia de arquivos suspeitos no disco, tr√°fego de rede incomum, sinais de acionamento das ferramentas de detec√ß√£o e inje√ß√£o de processos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Scripts de logon</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Descri√ß√£o: um</i> advers√°rio pode usar a capacidade de criar novos ou modificar scripts de logon existentes - scripts executados sempre que um usu√°rio ou grupo de usu√°rios espec√≠fico fizer logon no sistema.  Se um invasor obtiver acesso a um script de logon em um controlador de dom√≠nio, poder√° modific√°-lo para executar o c√≥digo em todos os sistemas no dom√≠nio, a fim de se mover lateralmente pela rede.  Dependendo das permiss√µes dos scripts de logon, credenciais locais ou administrativas podem ser necess√°rias. <br>  Em um Mac, os scripts de logon ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Gancho de Logon / Logout</a> ), diferentemente do Item de Logon, que s√£o executados no contexto do usu√°rio, podem ser executados como raiz. <br><br>  <i>Recomenda√ß√µes de seguran√ßa:</i> Restringindo privil√©gios de administrador para criar scripts de logon.  Identifica√ß√£o e bloqueio de software potencialmente perigoso que pode ser usado para modificar os cen√°rios de login.  O Windows AppLocker pode bloquear o lan√ßamento de programas desconhecidos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Passe o hash</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descri√ß√£o:</i> Pass the Hash (PtH) √© um m√©todo de autentica√ß√£o de um usu√°rio sem acesso √† sua senha de forma clara.  O m√©todo √© ignorar as etapas de autentica√ß√£o padr√£o que exigem uma senha e ir diretamente para a parte da autentica√ß√£o que usa o hash da senha.  Os hashes de senhas reais s√£o capturados pelo advers√°rio usando t√©cnicas de acesso a credenciais; depois, os hashes s√£o usados ‚Äã‚Äãpara autentica√ß√£o PtH, que pode ser usada para executar a√ß√µes em sistemas locais ou remotos. <br><br>  Para executar o ataque Passe o Hash no Windows 7 e superior com a atualiza√ß√£o <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">KB2871997</a></i> instalada, <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">voc√™</a></i> precisa de credenciais de usu√°rio de dom√≠nio v√°lidas ou hashes de administrador (RID 500). <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> monitore os logs do sistema e do dom√≠nio para identificar atividades incomuns dos logins da conta.  Impedir o acesso a contas existentes.  Nos sistemas Windows 7 e superior, instale o hotfix KB2871997 para restringir o acesso a contas nos grupos de administradores locais padr√£o. <br><br>  Para minimizar a possibilidade de implementar o Passe the Hash, desative o in√≠cio remoto do UAC quando um usu√°rio fizer logon pela rede editando a chave correspondente nas pol√≠ticas de registro ou grupo: <br> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System\LocalAccountTokenFilterPolice</code> <br> <br> <code>GPO:Computer Configuration &gt; [Policies] &gt; Administrative Templates &gt; SCM: Pass the Hash Mitigation: Apply UAC restriction to local accounts on network logons</code> <br> <br>  Limite a coincid√™ncia de contas em diferentes sistemas, a fim de impedir seu comprometimento e reduzir a capacidade do inimigo de se mover entre sistemas.  Verifique se as credenciais internas e criadas dos administradores locais t√™m senhas exclusivas complexas.  N√£o permita que um usu√°rio do dom√≠nio seja membro do grupo de administradores locais em v√°rios sistemas.  Para detectar ataques Pass the Hash, √© realizada uma auditoria de todos os eventos de logon e uso de credenciais com verifica√ß√£o de discrep√¢ncia (por exemplo, uma conta foi usada simultaneamente em v√°rios sistemas).  Logons incomuns associados a atividades suspeitas (por exemplo, cria√ß√£o e execu√ß√£o de arquivos bin√°rios) tamb√©m podem indicar atividades maliciosas.  Eventos de autentica√ß√£o do tipo NTLM LogonType 3 (entrada de rede) que n√£o est√£o relacionados a contas de dom√≠nio e n√£o an√¥nimas (usu√°rios com SID S-1-5-7) tamb√©m devem ser suspeitos. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Passe o ingresso</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descri√ß√£o:</i> Pass the Ticket (PtT) √© um m√©todo de autentica√ß√£o de ticket Kerberos sem acesso a uma senha de conta.  A autentica√ß√£o Kerberos pode ser usada como uma primeira etapa para mover um advers√°rio para um sistema remoto. <br>  Durante a PtT, os t√≠quetes Kerberos v√°lidos para contas existentes s√£o capturados pelo advers√°rio usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">t√©cnicas de dumping de credenciais</a> .  Dependendo do n√≠vel de acesso, √© poss√≠vel obter tickets de servi√ßo ao usu√°rio ou tickets de concess√£o de tickets (TGTs).  Um ticket de servi√ßo permite o acesso a um recurso espec√≠fico, enquanto um TGT pode ser usado para solicitar tickets de servi√ßo de um servi√ßo de ticket (TGS) para acessar qualquer recurso ao qual um usu√°rio tenha acesso. <br><br>  O Ticket de prata (TGS falso) pode ser obtido para servi√ßos que usam o Kerberos como um mecanismo de autentica√ß√£o e √© usado para gerar tickets para acesso a um recurso espec√≠fico e ao sistema no qual o recurso est√° localizado (por exemplo, SharePoint). <br><br>  O Golden Ticket (ticket Kerberos para acesso ilimitado aos recursos no contexto de qualquer usu√°rio, incluindo usu√°rios inexistentes) pode ser obtido usando o hash NTLM da conta do servi√ßo de distribui√ß√£o de chaves - KRBTGT, que possibilita a gera√ß√£o de TGT para qualquer conta no AD. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> monitore credenciais incomuns no sistema.  Limite a correspond√™ncia de credenciais nos sistemas, evitando danos no caso de um comprometimento.  Verifique se as contas do administrador local possuem senhas complexas e exclusivas.  N√£o permita que o usu√°rio seja o administrador local de v√°rios sistemas.  Limite as permiss√µes de conta de administrador de dom√≠nio para controladores de dom√≠nio e servidores restritos.  Delegar outras fun√ß√µes de administrador para contas individuais. <br><br>  Para neutralizar o Gold Ticket gerado anteriormente, redefina a senha da conta interna KRBTGT, que invalidar√° todos os Golden Tickets criados usando o hash de senha KRBTGT e outros tickets Kerberos recebidos do Golden Ticket. <br><br>  Usando ferramentas de lista de permiss√µes de aplicativos, como Applocker ou <a href="">Pol√≠ticas de Restri√ß√£o de Software,</a> tente identificar e bloquear software desconhecido ou mal-intencionado que pode ser usado para receber t√≠quetes Kerberos e autentica√ß√£o adicional. <br><br>  Para detectar ataques de PtT, recomendamos a auditoria de todos os eventos de autentica√ß√£o Kerberos e o uso de credenciais com an√°lise de discrep√¢ncia.  Eventos incomuns de autentica√ß√£o remota que se correlacionam com outras atividades suspeitas (como escrever e executar bin√°rios) podem servir como um indicador de atividade maliciosa. <br>  O evento ID4769 √© gerado em um controlador de dom√≠nio ao usar o Golden Ticket ap√≥s uma redefini√ß√£o dupla da senha KRBTGT.  O c√≥digo de status 0x1F indica uma verifica√ß√£o de integridade malsucedida do campo criptografado e indica uma tentativa de usar um Golden Ticket inv√°lido. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Protocolo de √Årea de Trabalho Remota</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Usu√°rios de √Årea de Trabalho Remota, Usu√°rios <br>  Descri√ß√£o: a √°rea de trabalho remota √© um recurso t√≠pico dos sistemas operacionais que permite ao usu√°rio fazer login em uma sess√£o interativa com uma interface gr√°fica em um computador remoto.  A Microsoft chama sua implementa√ß√£o do protocolo RDP como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Remote Desktop Servoce (RDS)</a> .  Existem outras implementa√ß√µes e ferramentas de terceiros que fornecem acesso gr√°fico a servi√ßos remotos como o RDS.  Os inimigos podem se conectar ao sistema remoto via RDP / RDS para expandir o acesso se o servi√ßo correspondente estiver ativado e permitir acesso com credenciais conhecidas ao invasor.  Anteriormente, o advers√°rio provavelmente usaria <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">t√©cnicas de acesso</a> a credenciais para obter credenciais que podem ser usadas com o RDP.  Os oponentes tamb√©m podem usar o RDP em combina√ß√£o com a t√©cnica de Abuso de Acessibilidade do Windows para se protegerem no sistema. <br><br>  Um invasor tamb√©m pode tentar seq√ºestrar sess√µes RDP envolvendo sess√µes remotas de usu√°rios leg√≠timos.  Normalmente, quando voc√™ tenta roubar uma sess√£o, o usu√°rio recebe uma notifica√ß√£o e uma solicita√ß√£o de confirma√ß√£o; no entanto, com permiss√µes no n√≠vel do sistema usando o console dos Servi√ßos de Terminal, √© poss√≠vel interceptar a sess√£o sem fornecer credenciais e confirmar o usu√°rio: <code>C:\Windows\system32\tscon.exe [ ,   ]</code> . <br>  Isso pode ser feito remotamente ou localmente com sess√µes ativas ou abortadas.  Tamb√©m pode levar √† escala√ß√£o de privil√©gios ao seq√ºestrar uma sess√£o de administrador de dom√≠nio ou um usu√°rio mais privilegiado.  Tudo isso pode ser feito usando os comandos internos do Windows, ou a funcionalidade correspondente pode ser adicionada √†s ferramentas para pentesting, por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RedSnarf</a> . <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> desative o servi√ßo RDP, se n√£o for necess√°rio, exclua contas e grupos desnecess√°rios do grupo <i>Usu√°rios da √°rea de trabalho remota</i> , ative a regra de bloqueio de tr√°fego RDP entre zonas de seguran√ßa no firewall.  Verifique regularmente os membros do grupo <i>Usu√°rios da √°rea de trabalho remota</i> .  Remova o grupo de administradores da lista de grupos que t√™m permiss√£o para efetuar login via RDP.  Se o acesso remoto for necess√°rio, restrinja os direitos do usu√°rio remoto.  Use <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gateways de √°rea de trabalho remota</a></i> e autentica√ß√£o multifator para logon remoto.  N√£o deixe o RDP acess√≠vel da Internet.  Modifique o GPO definindo tempos limite e o tempo m√°ximo em que uma sess√£o remota pode estar ativa.  Altere o GPO para indicar o tempo m√°ximo em que a sess√£o remota desconectada permanece ativa no servidor host. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o uso do RDP pode ser um processo completamente leg√≠timo, os indicadores de atividade maliciosa podem ser padr√µes de acesso e a√ß√µes que ocorrem ap√≥s um logon remoto, por exemplo, usu√°rios que efetuam logon em sistemas que geralmente n√£o acessam ou efetuam login em v√°rios sistemas durante quantidade relativamente curta de tempo. </font><font style="vertical-align: inherit;">A fim de evitar a intercep√ß√£o de sess√µes RDP √© recomendada para monitorar Tscon.exe uso e criar servi√ßos que o uso </font></font><code>cmd.exe /k</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>cmd.exe /c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em seus argumentos.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥pia remota de arquivo</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direitos: </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Descri√ß√£o do</font></i><font style="vertical-align: inherit;"> usu√°rio </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os arquivos podem ser copiados de um sistema para outro para implantar ferramentas inimigas ou outros arquivos durante uma opera√ß√£o. Os arquivos podem ser copiados de um sistema externo controlado por um invasor, atrav√©s do canal C&amp;C ou usando outras ferramentas usando protocolos alternativos, como FTP. Os arquivos tamb√©m podem ser copiados para Mac e Linux usando ferramentas internas como scp, rsync, sftp. Os inimigos tamb√©m podem copiar arquivos lateralmente entre os sistemas internos de v√≠timas para suportar o movimento da rede e a execu√ß√£o remota de comandos. Isso pode ser feito usando protocolos de compartilhamento de arquivos, conectando recursos de rede via SMB ou usando conex√µes autenticadas com compartilhamentos de administrador do Windows ou RDP. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O uso de sistemas IDS / IPS que usam assinaturas para identificar tr√°fego malicioso ou transfer√™ncia de dados incomuns por meio de ferramentas e protocolos conhecidos como FTP, que podem ser usados ‚Äã‚Äãpara reduzir a atividade no n√≠vel da rede. As assinaturas geralmente s√£o usadas para detectar indicadores de protocolo exclusivos e s√£o baseadas em uma t√©cnica de ofusca√ß√£o espec√≠fica usada por um invasor ou ferramenta espec√≠fica e provavelmente ser√£o diferentes para diferentes fam√≠lias e vers√µes de malware. √â prov√°vel que os invasores modifiquem a assinatura das ferramentas C2 ou criem protocolos de maneira a evitar a detec√ß√£o por ferramentas de seguran√ßa conhecidas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como meio de detec√ß√£o, √© recomend√°vel monitorar a cria√ß√£o e a transfer√™ncia de arquivos pela rede via SMB. </font><font style="vertical-align: inherit;">Processos incomuns com conex√µes de rede externas que criam arquivos no sistema podem ser suspeitos. </font><font style="vertical-align: inherit;">O uso at√≠pico de utilit√°rios como FTP tamb√©m pode ser suspeito. </font><font style="vertical-align: inherit;">Tamb√©m √© recomend√°vel analisar dados de rede para fluxos de dados incomuns; por exemplo, o cliente envia significativamente mais dados do que recebe do servidor. </font><font style="vertical-align: inherit;">Os processos de rede que normalmente n√£o t√™m conectividade de rede tamb√©m s√£o suspeitos. </font><font style="vertical-align: inherit;">Examine o conte√∫do do pacote para encontrar conex√µes que n√£o correspondem ao protocolo e √† porta usados.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servi√ßos remotos</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o: Os</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> invasores podem usar contas v√°lidas para efetuar login em um servi√ßo projetado para aceitar conex√µes de rede, como telnet, SSH ou VNC. Depois disso, o advers√°rio poder√° executar a√ß√µes em nome do usu√°rio que efetuou login no sistema. </font><font style="vertical-align: inherit;">Considera√ß√µes de </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguran√ßa:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> limite o n√∫mero de contas que os servi√ßos remotos podem usar. Use autentica√ß√£o multifator sempre que poss√≠vel. Limite as permiss√µes para contas com maior risco de comprometimento, por exemplo, configure o SSH para que os usu√°rios possam executar apenas determinados programas. Impedir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√©cnicas de acesso a credenciais</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isso pode permitir que um invasor adquira credenciais v√°lidas. </font><font style="vertical-align: inherit;">Relacione a atividade de logon associada aos servi√ßos remotos ao comportamento incomum ou outra atividade maliciosa ou suspeita. </font><font style="vertical-align: inherit;">Antes de tentar avan√ßar na rede, um invasor provavelmente precisar√° aprender sobre o ambiente e os relacionamentos entre sistemas usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√©cnicas de detec√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replica√ß√£o por meio de m√≠dia remov√≠vel</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o: A</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> t√©cnica envolve a execu√ß√£o de um programa malicioso usando a fun√ß√£o de execu√ß√£o autom√°tica no Windows. </font><font style="vertical-align: inherit;">Para enganar o usu√°rio, um arquivo ‚Äúleg√≠timo‚Äù pode ser pr√©-modificado ou substitu√≠do e, em seguida, copiado para um dispositivo remov√≠vel por um invasor. </font><font style="vertical-align: inherit;">Al√©m disso, a carga √∫til pode ser implementada no firmware do dispositivo remov√≠vel ou atrav√©s do programa inicial de formata√ß√£o de m√≠dia. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Desabilitando os recursos de execu√ß√£o autom√°tica no Windows. </font><font style="vertical-align: inherit;">Limitando o uso de dispositivos remov√≠veis no n√≠vel da pol√≠tica de seguran√ßa da organiza√ß√£o. </font><font style="vertical-align: inherit;">Aplica√ß√£o de software antiv√≠rus.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Captura SSH (seq√ºestro de SSH)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> macOS, Linux </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Secure Shell (SSH) √© uma ferramenta de acesso remoto padr√£o no Linux e macOS que permite ao usu√°rio conectar-se a outro sistema atrav√©s de um t√∫nel criptografado, geralmente com pares de chaves de senha, certificado ou criptografia assim√©trica. Para avan√ßar pela rede a partir de um host comprometido, os oponentes podem tirar proveito das rela√ß√µes de confian√ßa estabelecidas com outros sistemas por meio da autentica√ß√£o de chave p√∫blica em sess√µes SSH ativas, interceptando uma conex√£o existente com outro sistema. Isso pode ser devido a um comprometimento do pr√≥prio agente SSH ou ao acesso ao soquete do agente. Se o advers√°rio puder obter acesso root no sistema, a captura adicional de sess√µes SSH ser√° uma tarefa trivial. Comprometer um agente SSH tamb√©m intercepta credenciais SSH.A t√©cnica de seq√ºestro de SSH √© diferente de usar a t√©cnica de servi√ßos remotos porque se integra a uma sess√£o SSH existente, em vez de criar uma nova sess√£o usando contas v√°lidas.</font></font><br><br> <i>  :</i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certifique-se de que os pares de chaves SSH tenham senhas fortes e evite usar tecnologias de armazenamento de chaves, como ssh-agent, se n√£o estiverem protegidas adequadamente. Certifique-se de que todas as chaves privadas sejam armazenadas com seguran√ßa em locais que somente o propriet√°rio leg√≠timo possa acessar com uma senha complexa e frequentemente alterada. Verifique se as permiss√µes do arquivo est√£o corretas e fortale√ßa o sistema para impedir que privil√©gios de root sejam elevados. N√£o permita acesso remoto via SSH com privil√©gios de root ou outras contas privilegiadas. Verifique se o encaminhamento do agente est√° desativado em sistemas nos quais n√£o √© explicitamente necess√°rio. Considerando que o uso do SSH por si s√≥ pode ser leg√≠timo, dependendo do ambiente de rede e de como ele √© usado,indicadores de uso suspeito ou malicioso do SSH podem ser v√°rios padr√µes de acesso e comportamento subseq√ºente. Por exemplo, contas que fazem logon em sistemas aos quais geralmente n√£o acessam ou se conectam a v√°rios sistemas por um curto per√≠odo de tempo. Tamb√©m √© recomend√°vel que voc√™ rastreie os arquivos de soquete dos agentes SSH do usu√°rio que s√£o usados ‚Äã‚Äãpor usu√°rios diferentes.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webroot p√∫blico (Webroot compartilhado)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um advers√°rio pode colocar conte√∫do malicioso em um site que tenha um diret√≥rio p√∫blico de raiz da web ou outro diret√≥rio p√∫blico para veicular conte√∫do da Web no segmento interno da rede e, em seguida, navegue at√© esse conte√∫do usando um navegador da Web para for√ßar o servidor a execut√°-lo. Geralmente, o conte√∫do malicioso √© iniciado no contexto do processo do servidor da Web, geralmente, dependendo de como o servidor da Web est√° configurado, isso resulta em privil√©gios administrativos ou no sistema local. Esse mecanismo de compartilhamento e execu√ß√£o remota de c√≥digo pode ser usado para mudar para um sistema executando um servidor da web. Por exemplo, um servidor Web executando PHP com uma raiz p√∫blica da Web pode permitir que um invasor baixe ferramentas RAT para o SO do servidor Web quando visitar uma p√°gina espec√≠fica. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As redes nas quais os usu√°rios t√™m permiss√£o para realizar desenvolvimento aberto, teste de conte√∫do e iniciar seus pr√≥prios servidores da Web s√£o especialmente vulner√°veis ‚Äã‚Äãse os sistemas e servidores da Web n√£o estiverem adequadamente protegidos: o uso de contas privilegiadas √© ilimitado, o acesso aos recursos da rede √© poss√≠vel sem autentica√ß√£o e tamb√©m n√£o. isolamento de rede da rede / sistema. Verifique se as permiss√µes para diret√≥rios acess√≠veis pelo servidor da Web est√£o corretas. Negar acesso remoto ao diret√≥rio raiz (raiz da web) do site ou a outros diret√≥rios usados ‚Äã‚Äãpara fornecer conte√∫do da web. Desative a execu√ß√£o nos diret√≥rios webroot. Verifique se as permiss√µes do processo do servidor da web s√£o apenas as necess√°rias. N√£o use contas internas; em vez disso, crie contas espec√≠ficas para limitar o acesso desnecess√°rio ou para cruzar permiss√µes em v√°rios sistemas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use o monitoramento de processos para determinar quando os arquivos foram gravados em um servidor da Web por um processo que n√£o √© normal para um servidor da Web ou quando os arquivos foram gravados fora dos per√≠odos administrativos. </font><font style="vertical-align: inherit;">Use o monitoramento de processos para determinar processos normais e subsequentemente detectar processos anormais que geralmente n√£o s√£o executados no servidor da web.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manter Conte√∫do Compartilhado</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direitos: </font></font></i><font style="vertical-align: inherit;"></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usu√°rio </font><i><font style="vertical-align: inherit;">: O</font></i><font style="vertical-align: inherit;"> conte√∫do das unidades de rede p√∫blica e outros armazenamentos pode ser corrompido pela adi√ß√£o de programas, scripts ou c√≥digos maliciosos aos arquivos hospedados. Assim que o usu√°rio abre o conte√∫do corrompido, a parte maliciosa pode ser executada para iniciar o c√≥digo malicioso no sistema remoto. Os opositores podem usar o m√©todo acima para avan√ßar lateralmente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° outro tipo de t√©cnica que usa v√°rios outros m√©todos de dissemina√ß√£o de malware quando os usu√°rios obt√™m acesso a um diret√≥rio de rede compartilhado. Sua ess√™ncia √© modificar atalhos ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifica√ß√£o de Atalhos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) diret√≥rios (.lnk) usando mascaramento para que os r√≥tulos pare√ßam diret√≥rios reais que foram ocultados anteriormente. .Lnk malicioso possui um comando interno que executa um arquivo malicioso oculto e abre o diret√≥rio real esperado pelo usu√°rio. A implementa√ß√£o dessa t√©cnica em diret√≥rios de rede usados ‚Äã‚Äãcom freq√º√™ncia pode levar a infec√ß√µes repetidas e frequentes e, como resultado, um invasor obtendo amplo acesso aos sistemas e, possivelmente, a novas contas mais privilegiadas. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proteja pastas compartilhadas, minimizando o n√∫mero de usu√°rios com permiss√µes de grava√ß√£o. Use utilit√°rios que possam detectar ou impedir explora√ß√µes no primeiro sinal, como o Microsoft Mitigation Experience Toolkit (EMET). Reduza o risco potencial de promo√ß√£o lateral usando servi√ßos de colabora√ß√£o e gerenciamento de documentos baseados na Web que n√£o usam compartilhamento de arquivos e diret√≥rios. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identifique e bloqueie softwares potencialmente perigosos e mal-intencionados que podem ser usados ‚Äã‚Äãpara corromper o conte√∫do usando ferramentas como AppLocker ou </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠ticas de Restri√ß√£o de Software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda-se a verifica√ß√£o frequente de diret√≥rios de rede compartilhados em busca de arquivos maliciosos, arquivos .LNK ocultos e outros tipos de arquivos que n√£o s√£o t√≠picos de um diret√≥rio espec√≠fico. </font><font style="vertical-align: inherit;">A suspeita deve ser causada por processos que gravam ou sobrescrevem muitos arquivos em um diret√≥rio de rede comum, bem como processos executados a partir de m√≠dia remov√≠vel.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Software de terceiros (software de terceiros)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows, Linux, macOS </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direitos:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usu√°rio, administrador, </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sistema </font><i><font style="vertical-align: inherit;">:</font></i><font style="vertical-align: inherit;"> Sistemas de implanta√ß√£o de software e software de terceiros (SCCM, VNC, HBSS, Altris, etc.) usados ‚Äã‚Äãna rede para fins administrativos podem ser usados ‚Äã‚Äãpor um invasor para executar remotamente c√≥digo em todos os hosts conectados a esses sistemas. Os direitos necess√°rios para implementar esta t√©cnica dependem da configura√ß√£o espec√≠fica do sistema. As credenciais locais podem ser suficientes para acessar o servidor de implanta√ß√£o de software; no entanto, uma conta de administrador pode ser necess√°ria para iniciar a implanta√ß√£o do software. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verifique o n√≠vel de seguran√ßa dos seus sistemas de implanta√ß√£o de software. </font><font style="vertical-align: inherit;">Verifique se o acesso aos sistemas de gerenciamento de software √© limitado, controlado e protegido. </font><font style="vertical-align: inherit;">Use estritamente pol√≠ticas de pr√©-aprova√ß√£o obrigat√≥rias para implanta√ß√£o remota de software. </font><font style="vertical-align: inherit;">Forne√ßa acesso aos sistemas de implanta√ß√£o de software a um n√∫mero limitado de administradores, assegure o isolamento do sistema de implanta√ß√£o de software. </font><font style="vertical-align: inherit;">Verifique se as credenciais para acessar o sistema de implanta√ß√£o de software s√£o exclusivas e n√£o s√£o usadas em outros servi√ßos na rede corporativa. </font><font style="vertical-align: inherit;">Se o sistema de implanta√ß√£o de software estiver configurado para executar apenas arquivos bin√°rios assinados, verifique se os certificados confi√°veis ‚Äã‚Äãn√£o est√£o armazenados no pr√≥prio sistema de implanta√ß√£o de software, mas est√£o localizados em um sistema que n√£o pode ser acessado remotamente.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compartilhamentos de administra√ß√£o do Windows</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direitos: </font></font></i><font style="vertical-align: inherit;"></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o do</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usu√°rio </font><i><font style="vertical-align: inherit;">: Os</font></i><font style="vertical-align: inherit;"> sistemas Windows possuem pastas de rede ocultas que s√£o acess√≠veis apenas aos administradores e permitem copiar remotamente arquivos e outras fun√ß√µes administrativas. Exemplos de compartilhamentos de administra√ß√£o do Windows: C $, ADMIN $, IPC $. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os oponentes podem usar essa t√©cnica em combina√ß√£o com as contas existentes no n√≠vel de administrador para acesso remoto ao sistema via SMB (Server Messege Block), interagindo com sistemas usando RPC, transferir arquivos e executar arquivos bin√°rios migrados usando t√©cnicas de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Execu√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Exemplos de m√©todos de execu√ß√£o baseados em sess√µes autenticadas por meio do SMB / RPC s√£o tarefas agendadas, servi√ßos de inicializa√ß√£o e WMI. Os oponentes tamb√©m podem usar hashes NTLM para obter acesso a compartilhamentos de administrador por meio do passe-a-Hash. O comando net use, com credenciais v√°lidas, pode ser usado para conectar o sistema remoto aos compartilhamentos de administrador do Windows. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de prote√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o use as mesmas senhas para contas de administrador local em sistemas diferentes. Verifique se as senhas s√£o complexas e exclusivas para que n√£o possam ser adivinhadas ou decifradas. Desabilite o logon remoto na conta de administrador local interna. N√£o permita que as contas de usu√°rio sejam membros do grupo de administradores locais de v√°rios sistemas.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identifique e bloqueie o software potencialmente perigoso e mal-intencionado que pode ser usado para operar SMB e Admin Shares usando o AppLocker ou as </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠ticas de restri√ß√£o de software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forne√ßa coleta e armazenamento centralizados de credenciais de login. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Encaminhamento de Eventos do Windows</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite coletar dados sobre o uso bem-sucedido / malsucedido de contas que poderiam ser usadas para navegar na rede. </font><font style="vertical-align: inherit;">Acompanhe as a√ß√µes de usu√°rios remotos que se conectam aos compartilhamentos de administrador. </font><font style="vertical-align: inherit;">Acompanhe o uso de ferramentas e comandos usados ‚Äã‚Äãpara conectar-se a compartilhamentos de rede, como o utilit√°rio Net, ou procure sistemas acess√≠veis remotamente.</font></font><br><br><h3> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento Remoto do Windows (WinRM)</font></font></a> </h3><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direitos:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Usu√°rio, Administrador </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WinRM √© o nome de um servi√ßo e protocolo que permite a intera√ß√£o remota do usu√°rio com o sistema (por exemplo, iniciar um arquivo, alterar o registro, alterar um servi√ßo. Para iniciar, use o comando winrm e outros programas, como o PowerShell. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomenda√ß√µes de seguran√ßa:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> desative o servi√ßo WinRM, se necess√°rio, isole a infraestrutura com o WinRM com contas e permiss√µes separadas Siga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as diretrizes do WinRM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para definir m√©todos de autentica√ß√£o e usar firewalls </font><font style="vertical-align: inherit;">centenas para restringir o acesso ao WinRM e permitir o acesso somente a partir de determinados dispositivos.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439026/">https://habr.com/ru/post/pt439026/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439016/index.html">Tabelas gen√©ricas est√°ticas</a></li>
<li><a href="../pt439018/index.html">Configurar o Sphinx Search para uma loja online</a></li>
<li><a href="../pt439020/index.html">Bilhete de Passeio Europa - Aritm√©tica, Parte Dois</a></li>
<li><a href="../pt439022/index.html">CNC em uma oficina de hobby (parte 3)</a></li>
<li><a href="../pt439024/index.html">Resultado Slurm 3</a></li>
<li><a href="../pt439028/index.html">Como melhorar a prote√ß√£o do per√≠metro da rede? Recomenda√ß√µes pr√°ticas para o Check Point e n√£o apenas</a></li>
<li><a href="../pt439030/index.html">Muitos gerentes</a></li>
<li><a href="../pt439032/index.html">Amazon e Google planejam entrar no mercado de energia</a></li>
<li><a href="../pt439034/index.html">Webinar do Grupo-IB: ‚ÄúRed Team or Pentest‚Äù 12/02/2019</a></li>
<li><a href="../pt439036/index.html">O principal √© n√£o entrar no shopping sob a verifica√ß√£o de horas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>