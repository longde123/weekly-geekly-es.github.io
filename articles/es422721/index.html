<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ä üë©üèº‚Äçüíº üïØÔ∏è KivyMD - la vida contin√∫a ü•Å üôâ üßôüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saludos! 

 Hoy hablaremos sobre la interfaz de usuario en Android en aplicaciones escritas usando el marco de desarrollo multiplataforma de Kivy. Es ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>KivyMD - la vida contin√∫a</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422721/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zy/_8/5h/zy_85h73xt-wyxxnggpfd9zarii.png" width="350"></div><br>  Saludos! <br><br>  Hoy hablaremos sobre la interfaz de usuario en Android en aplicaciones escritas usando el marco de desarrollo multiplataforma de Kivy.  Es posible que no lo haya sabido, pero para Kivy existe la biblioteca KivyMD, que proporciona widgets de estilo de dise√±o de materiales para sus programas.  Desafortunadamente, nada de eso existe bajo la plataforma iOS.  Adem√°s, KivyMD, aparentemente, fue abandonado por su creador, ya que el √∫ltimo commit en el nabo fue hace aproximadamente un a√±o.  Qu√© hacer y c√≥mo vivir con √©l, sigue leyendo ... <br><a name="habracut"></a><br>  Ocasionalmente, al visitar el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio oficial de KivyMD</a> , lamentablemente descubr√≠ que nada estaba cambiando y que no iba a cambiar: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5r/3-/iq/5r3-iqlyvowlsxg7y1tfpfekzyi.png"></div><br><br>  En mis proyectos de Kivy, puedo implementar cualquier interfaz de usuario, lo que, de hecho, hago.  Pero recientemente descubr√≠ que estoy arrastrando una parte cada vez mayor de los m√≥dulos que he implementado de un proyecto a otro, lo cual es terriblemente inconveniente.  Algunas de estas soluciones se publican como repositorios separados en GitHub.  Sin embargo, todav√≠a no es conveniente compartir, administrar y usar todo esto, porque cada vez hay m√°s m√≥dulos de este tipo.  La decisi√≥n se tom√≥ relativamente recientemente: KivyMD, como un proyecto de c√≥digo abierto, queda bajo mi ala.  Ahora un tenedor de esta biblioteca est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Arregle los errores que sufr√≠an algunos widgets.  Por ejemplo, el widget MDDropDownMenu se vio privado de la funci√≥n de desplazamiento y selecci√≥n de un elemento.  Ahora se ve as√≠: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mn/p_/kn/mnp_knvriabsj9x6h72g83cknpg.gif"></div><br>  Adem√°s de un mont√≥n de otras correcciones, grandes y no tan grandes, se agregaron nuevos widgets y controles.  Adem√°s del <i>MDFlatButton</i> existente <i>, MDRaisedButton, MDIconButton MDFloatingActioButton</i> ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dw/px/dq/dwpxdq5pfxymfg0epuermv1fzsu.gif"></div><br>  ... Implement√© varios controles: <i>MDRectangleFlatButton, MDRectangleFlatIconButton, MDRoundFlatIconButton, MDRoundFlatButton, MDFillRoundFlatButton</i> , que claramente <i>faltaban</i> en el kit: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lb/ph/j3/lbphj31revc5wabc43w9koxkjbw.gif"></div><br>  Tambi√©n trato de simplificar el trabajo con KivyMD tanto como sea posible.  El uso de los nuevos controles descritos anteriormente en su marcado se ver√° as√≠: <br><br><pre><code class="xml hljs">MDRectangleFlatButton: text: "MDRectangleFlatButton" MDRectangleFlatIconButton: text: "I love Python" icon: "language-python" MDRoundFlatButton: text: "I love Python" icon: "language-python" MDRoundFlatIconButton: text: "I love Python" icon: "language-python" MDFillRoundFlatButton: text: "I love Python"</code> </pre> <br>  Recientemente, se agreg√≥ una publicaci√≥n a mi grupo VKontakte en el que una persona solicit√≥ ayuda con la implementaci√≥n de una tarjeta de contacto: <br><blockquote>  Saludos! <br><br>  Pregunta sobre dise√±o. <br><br>  Estoy haciendo una tarjeta de contacto y no puedo elegir el tipo de dise√±o para <br><br>  a) no se estir√≥, y los elementos se organizaron uno tras otro verticalmente <br><br>  b) no hubo brechas gigantes entre los elementos <br><br>  Acerca de probar BoxLayout, StackLayout, por alguna raz√≥n, las brechas entre los elementos.  Adjunto la pantalla del formulario y el c√≥digo kv. <br><br>  Se puede ver que despu√©s del primer bloque con un avatar hay una brecha, despu√©s de los bloques de texto tambi√©n.  ¬øC√≥mo arreglarlo para que haya espacios iguales en todas partes, para que todos los elementos sean de tipo valign: True? <br></blockquote>  Aqu√≠ est√° el resultado: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yf/y1/js/yfy1jss9wpaysruw8f_tpuwcg1i.jpeg"></div><br>  Correg√≠ el c√≥digo y, al mismo tiempo, agregu√© un widget de tarjeta a KivyMD - <i>MDUserAnimationCard</i> , que implementa este comportamiento: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gk/dr/kt/gkdrktjoyex0evccdre8goekjbk.gif"></div><br>  Todo lo que crea es contenido que se mostrar√° debajo de la tarjeta del usuario.  La funci√≥n de desplazamiento para el contenido se aplicar√° autom√°ticamente si su altura excede el espacio restante en la pantalla: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2t/a6/h8/2ta6h87phipvle0fkqoxqcxb164.png"></div><br>  Luego, simplemente agregue la clase del contenido que cre√≥ a la <i>MDUserAnimationCard</i> : <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">show_user_card</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> user_animation_card = MDUserAnimationCard( user_name=<span class="hljs-string"><span class="hljs-string">"Lion Lion"</span></span>, path_to_avatar=<span class="hljs-string"><span class="hljs-string">"./assets/african-lion-951778_1280.jpg"</span></span>, callback=main_back_callback) user_animation_card.box_content.add_widget(ContentForAnimCard()) user_animation_card.open()</code> </pre><br>  MDStackFloatingButtons, ya conocido por el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo</a> , migr√≥ a KivyMD: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xp/wy/ut/xpwyutclp1yrox6g5nj9tthmgz8.gif"></div><br>  El uso de este widget tambi√©n se ha simplificado al m√°ximo: <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">example_add_stack_floating_buttons</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_my_language</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(instance_button)</span></span></span><span class="hljs-function">:</span></span> toast(instance_button.icon) screen = self.main_widget.ids.scr_mngr.get_screen(<span class="hljs-string"><span class="hljs-string">'stack buttons'</span></span>) screen.add_widget(MDStackFloatingButtons( icon=<span class="hljs-string"><span class="hljs-string">'lead-pencil'</span></span>, floating_data={ <span class="hljs-string"><span class="hljs-string">'Python'</span></span>: <span class="hljs-string"><span class="hljs-string">'language-python'</span></span>, <span class="hljs-string"><span class="hljs-string">'Php'</span></span>: <span class="hljs-string"><span class="hljs-string">'language-php'</span></span>, <span class="hljs-string"><span class="hljs-string">'C++'</span></span>: <span class="hljs-string"><span class="hljs-string">'language-cpp'</span></span>}, callback=set_my_language))</code> </pre><br>  Se han implementado varias tarjetas listas para usar, por ejemplo, para una lista de publicaciones, etc. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xb/nm/jc/xbnmjcilarx9h9vn6q7k_64tgfw.gif"></div><br>  Ejemplo de uso: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sn/1d/er/sn1derwi1pazuqtzmgw5qsag9r8.png"></div><br><pre> <code class="python hljs">MDCardPost(text_post=<span class="hljs-string"><span class="hljs-string">'Card with text'</span></span>, swipe=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, callback=callback))</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iy/cp/ua/iycpua_erahjufjockzmodadyce.gif"></div><br><pre> <code class="python hljs">menu_items = [ {<span class="hljs-string"><span class="hljs-string">'viewclass'</span></span>: <span class="hljs-string"><span class="hljs-string">'MDMenuItem'</span></span>, <span class="hljs-string"><span class="hljs-string">'text'</span></span>: <span class="hljs-string"><span class="hljs-string">'Example item %d'</span></span> % i, <span class="hljs-string"><span class="hljs-string">'callback'</span></span>: self.callback_for_menu_items} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>) ] MDCardPost( right_menu=menu_items, swipe=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, callback=callback text_post=<span class="hljs-string"><span class="hljs-string">'Card with a button to open the menu MDDropDown'</span></span>))</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/sl/u-/naslu-_emolevq8xpsjg3fgrfeo.gif"></div><br><pre> <code class="python hljs">MDCardPost( likes_stars=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, callback=callback, swipe=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, text_post=<span class="hljs-string"><span class="hljs-string">'Card with asterisks for voting.'</span></span>))</code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f1/xh/aw/f1xhawejkrqsytqnseujitftzcy.png"></div><br><pre> <code class="python hljs">buttons = [<span class="hljs-string"><span class="hljs-string">'facebook'</span></span>, <span class="hljs-string"><span class="hljs-string">'vk'</span></span>, <span class="hljs-string"><span class="hljs-string">'twitter'</span></span>] text_post = \ <span class="hljs-string"><span class="hljs-string">"This is my favorite cat. He's only six months "</span></span> <span class="hljs-string"><span class="hljs-string">"old. He loves milk and steals sausages :) "</span></span> <span class="hljs-string"><span class="hljs-string">"And he likes to play in the garden."</span></span> MDCardPost( source=<span class="hljs-string"><span class="hljs-string">"./assets/kitten-1049129_1280.jpg"</span></span>, tile_text=<span class="hljs-string"><span class="hljs-string">"Little Baby"</span></span>, tile_font_style=<span class="hljs-string"><span class="hljs-string">"Headline"</span></span>, text_post=text_post, with_image=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, swipe=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, callback=callback, buttons=buttons))</code> </pre><br>  Progreso de la descarga de contenido del servidor, un administrador de archivos simple, widget PullToUpdate: <br><br><table><tbody><tr><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/px/hk/k0/pxhkk0zvd6vuxug8lu4xyate4ms.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/cb/_u/wp/cb_uwpp58thwy1er2jjrwthr4ps.gif"></div></td><td><div style="text-align:center;"><img src="https://habrastorage.org/webt/db/cv/z4/dbcvz4jlmpbnheisa7yrhdpztk4.gif"></div></td></tr></tbody></table><br>  Video completo de demostraci√≥n de widgets de la biblioteca: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Jbi20FGZ8KM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Volviendo al principio, dir√© que todo esto es bueno solo para Android, porque, por supuesto, no podemos usar Material Design en aplicaciones para la plataforma iOS.  Y me gustar√≠a mucho adaptar KivyMD para generar una interfaz de usuario que tambi√©n se vea nativa en iOS.  T√©cnicamente, no hay barreras para esta tarea.  El √∫nico inconveniente es que no tengo un dispositivo iOS, as√≠ que no s√© c√≥mo se ve la interfaz de usuario, la animaci√≥n y otros dise√±os.  Por supuesto, hay gu√≠as de dise√±o para iOS, pero las gu√≠as son gu√≠as, y me alegr√© si una persona interesada en desarrollar la biblioteca KivyMD envi√≥ docenas de capturas de pantalla y animaciones del dise√±o de referencia de aplicaciones bajo la plataforma iOS.  Suficiente, por ejemplo, de lo que ya est√° implementado actualmente en KivyMD, pero solo para una manzana.  Para sim d√©jame despedirme, llamar a la tarde, espero, como siempre, no fue in√∫til. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422721/">https://habr.com/ru/post/es422721/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422711/index.html">Lectura de fin de semana: recursos de infraestructura de nube y TI</a></li>
<li><a href="../es422713/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 269 (del 3 al 9 de septiembre)</a></li>
<li><a href="../es422715/index.html">La no discriminaci√≥n es el valor central del c√≥digo abierto</a></li>
<li><a href="../es422717/index.html">Desarrollo de un bot de chat con una personalidad determinada. Conferencia en Yandex</a></li>
<li><a href="../es422719/index.html">Los atacantes comprometieron a miles de enrutadores MikroTik para crear una botnet</a></li>
<li><a href="../es422723/index.html">GAN ense√±√≥ a crear caras con textura y geometr√≠a realistas</a></li>
<li><a href="../es422725/index.html">390k. sitios web con carpeta abierta .git</a></li>
<li><a href="../es422729/index.html">¬øC√≥mo puede un proveedor de la nube administrar licencias de software y qu√© soluciones blockchain pueden proporcionar aqu√≠?</a></li>
<li><a href="../es422731/index.html">DEFCON 17. Hackear 400,000 contrase√±as, o c√≥mo explicarle a un compa√±ero de cuarto por qu√© la factura de electricidad ha aumentado. Parte 1</a></li>
<li><a href="../es422735/index.html">DEFCON 17. Hackear 400,000 contrase√±as, o c√≥mo explicarle a un compa√±ero de cuarto por qu√© la factura de electricidad ha aumentado. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>