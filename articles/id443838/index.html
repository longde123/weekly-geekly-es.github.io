<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🏭 🤙 🔥 Secara otomatis membuat akun dari AD di Zimbra Collaboration Suite 🧓🏽 🛂 ⚫️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam salah satu artikel kami sebelumnya, kami berbicara tentang bagaimana Anda dapat “berteman” dengan Zimbra dan MS Active Directory, yang digunakan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Secara otomatis membuat akun dari AD di Zimbra Collaboration Suite</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/443838/">  Dalam salah satu artikel kami sebelumnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kami berbicara</a> tentang bagaimana Anda dapat “berteman” dengan Zimbra dan MS Active Directory, yang digunakan oleh sebagian besar perusahaan Rusia untuk mengelola akun pengguna.  Di dalamnya, kami menyarankan agar pengguna Zimbra menggunakan cara paling sederhana dan teraman untuk membuat kotak surat di Zimbra berdasarkan data dari AD yang disebut LAZY Mode.  Mode operasi ini memungkinkan Anda untuk secara otomatis membuat pengguna Zimbra baru dengan nama pengguna dan kata sandi dari AD tepat pada saat login pertamanya ke klien web Zimbra.  Namun, berkat diskusi yang terungkap dalam komentar, menjadi jelas bahwa tidak semua administrator akan menggunakan metode ini untuk menyetel otomatis pengguna Zimbra dari AD.  Karena itu, sekarang kita akan berbicara tentang cara alternatif untuk mengotomatisasi pembuatan akun pengguna berdasarkan data dari AD yang disebut Mode EAGER. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="gambar"><br><a name="habracut"></a><br>  Mode LAZY dan EAGER berbeda dalam pendekatan mereka untuk membuat akun baru.  Jika dalam kasus LAZY, sistem menunggu pengguna untuk masuk ke klien web Zimbra untuk membuat pengguna baru, dalam kasus c EAGER, sistem secara berkala melakukan polling server dengan AD untuk pengguna baru, dan, dalam hal jawaban afirmatif, membuat yang baru sendiri akun berdasarkan data yang disediakan oleh Active Directory.  Sekilas, perbedaan yang tidak signifikan dapat membuat penggunaan Mode LAZY sepenuhnya tidak dapat diterima oleh sejumlah manajer TI. <br><br>  Salah satu dari kasus ini dapat menjadi larangan langsung terhadap penggunaan klien web Zimbra.  Alasannya mungkin karena berkurangnya daya komputasi server (saat menggunakan klien web, server dengan Zimbra dapat menyediakan layanan berkualitas tinggi untuk 2500 pengguna, dan saat menggunakan klien desktop dan seluler hingga 5-6 ribu pengguna), atau kebijakan keamanan perusahaan yang secara langsung melarang penggunaan web Klien untuk bekerja dengan surat.  Kurangnya klien web membuatnya tidak mungkin untuk menggunakan Mode LAZY, yang hanya berfungsi di dalamnya, yang berarti bahwa manajer TI dari perusahaan tersebut tidak punya pilihan selain menggunakan Mode EAGER. <br><br>  Pertama-tama, kita perlu menghubungkan AD sebagai LDAP eksternal ke Zimbra.  Untuk melakukan ini, buka konsol administrasi, yang terletak di <b>mail.company.ru:7071/zimbraAdmin/</b> , lalu pilih <b>Konfigurasi</b> di panel sisi kiri dan kemudian sub-item <b>Domain</b> .  Dalam daftar domain sekarang Anda harus memilih yang akan kami gunakan bersama dengan AD dan, mengklik kanan pada domain yang dipilih, pilih <b>"Konfigurasi Otentikasi"</b> .  Setelah itu, dialog konfigurasi LDAP eksternal akan muncul di layar, di mana kami memasukkan semua data yang diperlukan untuk mengintegrasikan Zimbra dengan AD. <br><br>  Setelah memasukkan semua data yang diperlukan, Anda harus membuat file konfigurasi, misalnya, <b>sentuh ~ / Documents / autoprov.cfg</b> , di mana kami akan memasukkan serangkaian perintah yang harus dimasukkan untuk mengaktifkan konfigurasi otomatis akun dari AD dalam Mode EAGER.  Tidak seperti LAZY Mode, di mana proses konfigurasi sangat sederhana dan semua pengaturan dapat dimasukkan sebagai perintah di CLI, dalam kasus Mode EAGER lebih baik memainkannya dengan aman dan menyimpan semua pengaturan dalam file terpisah.  Jadi akan lebih mudah untuk membuat perubahan di dalamnya jika ada sesuatu yang tiba-tiba salah. <br><br>  Jadi, setelah membuat file <b>~ / Documents / autoprov.cfg</b> , Anda harus memasukkan baris berikut ke dalamnya, setelah mengadaptasinya ke infrastruktur Anda: <br><br><pre><code class="plaintext hljs">md company.ru zimbraAutoProvAccountNameMap "samAccountName" md company.ru +zimbraAutoProvAttrMap description=description md company.ru +zimbraAutoProvAttrMap displayName=displayName md company.ru +zimbraAutoProvAttrMap givenName=givenName md company.ru +zimbraAutoProvAttrMap cn=cn md company.ru +zimbraAutoProvAttrMap sn=sn md company.ru zimbraAutoProvAuthMech LDAP md company.ru zimbraAutoProvBatchSize 40 md company.ru zimbraAutoProvLdapAdminBindDn "CN=Administrator,CN=Users,DC=company,DC=ru" md company.ru zimbraAutoProvLdapAdminBindPassword ********* md company.ru zimbraAutoProvLdapBindDn "Administrator@company.ru" md company.ru zimbraAutoProvLdapSearchBase "CN=Users,dc=company,dc=ru" md company.ru zimbraAutoProvLdapSearchFilter "(cn=%u)" md company.ru zimbraAutoProvLdapURL "ldap://192.168.0.1:389" md company.ru zimbraAutoProvMode EAGER md company.ru zimbraAutoProvNotificationBody "     .     ${ACCOUNT_ADDRESS}." md company.ru zimbraAutoProvNotificationFromAddress Administrator@company.ru md company.ru zimbraAutoProvNotificationSubject "     " ms mail.company.ru zimbraAutoProvPollingInterval "1m" ms mail.company.ru +zimbraAutoProvScheduledDomains "company.ru"</code> </pre> <br>  Berkat pengaturan ini, kami memaksa server Zimbra untuk mengakses AD setiap menit dan menerima informasi tentang penampilan pengguna baru dalam database, dan jika mereka ditemukan, buat akun untuk mereka dan kirim pesan selamat datang. <br><br>  Seperti yang dicatat oleh pembaca kami, ketika mengatur, sangat penting untuk memperhatikan nuansa berikut: <br><br><ul><li>  Baris dari bentuk "md company.ru" - membuat perubahan pada domain, yang terletak di dalam server mail.  Mungkin ada beberapa domain di satu server email. </li><li>  Baris dari form "ms mail.company.ru" - buat perubahan pada server email itu sendiri. </li><li>  Dua metode untuk secara otomatis mengatur akun dari AD dapat hidup berdampingan di satu domain.  Artinya, Anda dapat menjalankan + zimbraAutoProvMode LAZY dan + zimbraAutoProvMode EAGER satu demi satu.  Karena ini, Anda dapat meningkatkan interval akses ke server hingga satu jam atau lebih. </li></ul><br>  Setelah semua perubahan pada file disimpan, akan diperlukan untuk menerapkan pengaturan yang ditentukan di dalamnya menggunakan perintah <b>zmprov &lt;~ / Documents / autoprov.cfg</b> .  Semua perubahan yang dilakukan akan segera bekerja, kebutuhan untuk me-restart server seharusnya tidak muncul. <br><br>  Jika konfigurasi otomatis akun dari Mode AD ke EAGER <b>berfungsi</b> , progres <b>konfigurasi</b> otomatis <b>akun</b> akan ditampilkan dalam file <b>/opt/zimbra/log/mailbox.log</b> sebagai berikut: <br><br><pre> <code class="plaintext hljs">[AutoProvision] [] autoprov - Auto provisioning accounts on domain company.ru [AutoProvision] [] autoprov - 1 external LDAP entries returned as search result [AutoProvision] [] autoprov - auto creating account in EAGER mode: example@company.ru, dn="CN=example,OU=zimbrausers,DC=company,DC=ru"</code> </pre> <br>  Jika penyetelan otomatis akun tidak berfungsi, maka masalahnya kemungkinan besar ada di sisi server AD.  Dalam hal ini, Anda perlu melihat kode kesalahan yang muncul.  Kami memberikan yang paling umum: <br><br><blockquote>  525 - Pengguna tidak ditemukan <br>  52e - Kredensial Tidak Valid <br>  530 - Tidak ada izin masuk saat ini <br>  531 - Tidak ada izin untuk masuk dari komputer ini <br>  532 - Kata sandi telah kedaluwarsa <br>  533 - Tindakan akun dihentikan <br>  534 - Pengguna tidak memiliki hak yang cukup untuk masuk dari komputer ini <br>  701 - Akun telah kedaluwarsa <br>  773 - Pengguna harus mengatur ulang kata sandi <br>  775 - Akun ini sementara dibatasi <br>  8350 - Format Nama Distinguished Tidak Valid </blockquote><br><br>  Untuk semua pertanyaan yang terkait dengan Zextras Suite, Anda dapat menghubungi perwakilan perusahaan "Zextras" Katerina Triandafilidi melalui email katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id443838/">https://habr.com/ru/post/id443838/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id443826/index.html">Mencegah keusangan bahan ajar</a></li>
<li><a href="../id443828/index.html">Asal Mula Budaya Startup: Bagaimana Kisah Sukses Awal Membentuk Keadaan Modern dari Industri Teknologi</a></li>
<li><a href="../id443830/index.html">Tesla memperkenalkan Model Y baru - detail, foto dari presentasi dan tayangan uji coba</a></li>
<li><a href="../id443834/index.html">Runet pada pergantian milenium: apa yang Anda ingat tentang itu?</a></li>
<li><a href="../id443836/index.html">Menggunakan Waves Akun Pintar dan Aset Cerdas di Instrumen Keuangan</a></li>
<li><a href="../id443840/index.html">Univention Corporate Server (UCS) - pemasangan server LDAP yang sederhana dan nyaman dengan panel web dan hubungannya dengan Nextcloud</a></li>
<li><a href="../id443842/index.html">Apakah kita gesit atau gesit?</a></li>
<li><a href="../id443844/index.html">Arsitektur Strategis OpenSSL</a></li>
<li><a href="../id443846/index.html">Akses ke server linux menggunakan bot Python Telegram</a></li>
<li><a href="../id443854/index.html">Desain RPG empat sumbu</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>