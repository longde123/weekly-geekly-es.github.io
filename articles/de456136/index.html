<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôçüèª üë©üèø‚Äçüíª üñïüèº Warum machen wir Enterprise Service Mesh? üîú üâë üë©üèæ‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Service Mesh ist ein bekanntes Architekturmuster f√ºr die Integration von Microservices und die Umstellung auf die Cloud-Infrastruktur. In der Cloud-Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Warum machen wir Enterprise Service Mesh?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/456136/">  Service Mesh ist ein bekanntes Architekturmuster f√ºr die Integration von Microservices und die Umstellung auf die Cloud-Infrastruktur.  In der Cloud-Container-Welt ist es heute ziemlich schwierig, darauf zu verzichten.  Auf dem Markt sind bereits mehrere Open-Source-Service-Mesh-Implementierungen verf√ºgbar, deren Funktionalit√§t, Zuverl√§ssigkeit und Sicherheit jedoch bei weitem nicht immer ausreichen, insbesondere wenn es um die Anforderungen gro√üer Finanzunternehmen im ganzen Land geht.  Aus diesem Grund haben wir bei Sbertech beschlossen, Service Mesh anzupassen und dar√ºber zu sprechen, was in Service Mesh cool ist, was nicht sehr ist und was wir damit machen werden. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/610/635/fbf/610635fbfe1b4214c5598679e06bf4aa.png"><br><a name="habracut"></a><br>  Die Popularit√§t der Service Mesh-Vorlage w√§chst mit der Popularit√§t der Cloud-Technologie.  Es handelt sich um eine dedizierte Infrastrukturschicht, die die Interaktion zwischen verschiedenen Netzwerkdiensten vereinfacht.  Moderne Cloud-Anwendungen bestehen aus Hunderten und sogar Tausenden solcher Dienste, von denen jeder Tausende von Kopien haben kann. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/394/a6f/ca9/394a6fca966e4ef70ad205c6eb79af34.png"><br><br>  Die Interaktion zwischen diesen Diensten und ihrer Verwaltung ist eine Schl√ºsselaufgabe von Service Mesh.  Tats√§chlich ist dies ein Netzwerkmodell vieler Proxys, die zentral verwaltet werden und eine Reihe sehr n√ºtzlicher Funktionen ausf√ºhren. <br><br>  <i>Auf Proxy-Ebene (Datenebene):</i> <br><br><ul><li>  Zuweisen und Verteilen von Routing- und Verkehrsausgleichsrichtlinien <br></li><li>  Verteilung von Schl√ºsseln, Zertifikaten, Token <br></li><li>  Telemetriesammlung, Bildung von √úberwachungsmetriken <br></li><li>  Integration in die Sicherheits- und √úberwachungsinfrastruktur <br></li></ul><br>  <i>Auf der Ebene der Steuerebene:</i> <br><br><ul><li>  Wenden Sie Routing- und Verkehrsausgleichsrichtlinien an <br></li><li>  Management von Wiederholungsversuchen und Zeit√ºberschreitungen, Definition von "toten" Knoten (Unterbrechung des Stromkreises), Management von Fehlersituationen (Injizieren von Fehlern) und Aufrechterhaltung der Ausfallsicherheit von Diensten durch andere Mechanismen <br></li><li>  Anrufauthentifizierung / -autorisierung <br></li><li>  Verwerfen von Metriken (Beobachtbarkeit) <br></li></ul><br>  Der Anwenderkreis, der an der Entwicklung dieser Technologie interessiert ist, ist sehr gro√ü - von kleinen Startups bis zu gro√üen Internetunternehmen, beispielsweise PayPal. <br><br><h2>  Wof√ºr ist Service Mesh im Unternehmenssektor? </h2><br>  Die Verwendung von Service Mesh bietet viele offensichtliche Vorteile.  Erstens ist es f√ºr Entwickler nur praktisch: Es wird <i>eine Technologieplattform</i> zum Schreiben von Code <i>angezeigt</i> , die die Integration in die Cloud-Infrastruktur erheblich vereinfacht, da die Transportschicht vollst√§ndig von der Anwendungslogik isoliert ist. <br><br>  Dar√ºber hinaus <i>vereinfacht Service Mesh die Beziehung zwischen Lieferanten und Verbrauchern.</i>  Heutzutage ist es f√ºr Anbieter und Verbraucher der API viel einfacher, Schnittstellen und Vertr√§ge selbst zu vereinbaren, ohne daf√ºr einen speziellen Integrationsvermittler und Schiedsrichter einzubeziehen - einen Corporate Service Bus.  Dieser Ansatz wirkt sich erheblich auf zwei Indikatoren aus.  Die Geschwindigkeit, mit der neue Funktionen auf den Markt gebracht werden (Time-to-Market), steigt, gleichzeitig steigen jedoch auch die Kosten f√ºr die L√∂sung, da die Integration unabh√§ngig erfolgen muss.  Die Verwendung von Service Mesh durch Gesch√§ftsentwicklungsteams tr√§gt hier zur Aufrechterhaltung des Gleichgewichts bei.  Infolgedessen k√∂nnen sich API-Anbieter ausschlie√ülich auf die Anwendungskomponente ihres Dienstes konzentrieren und diese einfach im Dienstnetz ver√∂ffentlichen. Die API wird sofort f√ºr alle Kunden verf√ºgbar, und die Integrationsqualit√§t ist produktionsbereit und erfordert keine einzige Zeile zus√§tzlichen Codes. <br><br>  Ein weiterer Vorteil ist, dass sich der <i>Entwickler, der das Service Mesh verwendet, ausschlie√ülich auf die Gesch√§ftsfunktionalit√§t konzentriert</i> - auf das Produkt und nicht auf die technologische Komponente seines Service.  Sie m√ºssen beispielsweise nicht daran denken, dass in einer Situation, in der der Dienst √ºber das Netzwerk aufgerufen wird, die Verbindung m√∂glicherweise unterbrochen wird.  Dar√ºber hinaus hilft Service Mesh dabei, den Datenverkehr zwischen Kopien desselben Dienstes auszugleichen: Wenn eine der Kopien "gestorben" ist, schaltet das System den gesamten Datenverkehr auf die verbleibenden Live-Kopien um. <br><br>  <i>Service Mesh</i> ist <i>eine gute Grundlage f√ºr die Erstellung verteilter Anwendungen</i> , die dem Kunden die Details der internen und externen Bereitstellung von Anrufen f√ºr seine Dienste verbirgt.  Alle Anwendungen, die Service Mesh verwenden, sind auf der Transportschicht sowohl vom Netzwerk als auch voneinander isoliert: Es besteht keine Verbindung zwischen ihnen.  In diesem Fall erh√§lt der Entwickler die volle Kontrolle √ºber seine Dienste. <br><br>  Es ist zu beachten, dass das <i>Aktualisieren verteilter Anwendungen in einer Umgebung, in der Service Mesh verwendet wird, immer einfacher wird.</i>  Beispiel: Blau / Gr√ºn-Bereitstellung, in der zwei Anwendungsumgebungen f√ºr die Installation verf√ºgbar sind, von denen eine nicht aktualisiert wird und sich im Standby-Modus befindet.  Das Rollback auf die vorherige Version im Falle einer nicht erfolgreichen Freigabe wird von einem speziellen Router ausgef√ºhrt, dessen Rolle Service Mesh perfekt bew√§ltigt <i>.</i>  Sie k√∂nnen die <i>kanarische Version verwenden</i> , um sie in der neuen Version auszuf√ºhren. Schalten Sie nur 10% des Datenverkehrs oder der Anforderungen der Pilot-Client-Gruppe auf die neue Version um.  Der Hauptverkehr geht zur alten Version, nichts bricht. <br><br>  <i>Service Mesh bietet uns auch Echtzeit-SLA-Kontrolle</i> .  Das System der verteilten Proxys erlaubt es nicht, den Dienst zu √ºberfluten, wenn einer der Clients das ihm erteilte Kontingent √ºberschreitet.  Wenn die API-Bandbreite begrenzt ist, kann niemand sie mit einer gro√üen Anzahl von Transaktionen erw√ºrgen: Das Service Mesh befindet sich vor dem Service und l√§sst keinen zus√§tzlichen Datenverkehr zu.  Es wird einfach in der Integrationsschicht abgeschaltet, und die Dienste selbst werden weiterhin funktionieren, ohne es zu bemerken. <br><br>  Wenn das Unternehmen die Kosten f√ºr die Entwicklung von Integrationsl√∂sungen senken m√∂chte, hilft Service Mesh ebenfalls: <i>Sie k√∂nnen von kommerziellen Produkten auf die Open-Source-Version umsteigen</i> .  Unser Enterprise Service Mesh basiert auf der Open-Source-Version von Service Mesh. <br><br>  Ein weiterer Vorteil ist die <i>Verf√ºgbarkeit eines einzigen vollwertigen Satzes von Integrationsdiensten</i> .  Da die gesamte Integration √ºber diese Zwischenschicht erfolgt, k√∂nnen wir den gesamten Integrationsverkehr und die Verbindungen zwischen den Anwendungen verwalten, die den Gesch√§ftskern des Unternehmens bilden.  Es ist sehr bequem. <br><br>  Schlie√ülich <i>treibt Service Mesh das Unternehmen zum √úbergang zu einer dynamischen Infrastruktur.</i>  Jetzt streben viele nach Containerisierung.  Wenn man einen Monolithen in Microservices zerlegt, ist es sch√∂n, alles zu implementieren - das Thema ist auf dem Vormarsch.  Wenn Sie jedoch versuchen, ein System, das seit vielen Jahren in Produktion ist, auf eine neue Spur zu √ºbertragen, treten sofort eine Reihe von Problemen auf: Es ist nicht einfach, alles in Container zu verschieben und auf der Plattform bereitzustellen.  Die Implementierung, Synchronisation und Interaktion dieser verteilten Komponenten ist ein weiteres schwieriges Thema.  Wie werden sie miteinander kommunizieren?  Wird es kaskadierende Fehler geben?  Mit Service Mesh k√∂nnen Sie einige dieser Probleme l√∂sen und die Migration von der alten auf die neue Architektur erleichtern, da Sie die Logik des Netzwerkaustauschs vergessen k√∂nnen. <br><br><h2>  Warum Service Mesh anpassen? </h2><br>  In unserem Unternehmen existieren Hunderte von Systemen und Modulen gleichzeitig, und die Laufzeit ist sehr voll.  Ein einfaches Muster, wenn ein System ein anderes anruft und eine Antwort erh√§lt, reicht also nicht aus, weil wir in der Produktion mehr wollen.  Was ben√∂tigen Sie mehr von einem Corporate Service Mesh? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca4/0e3/e24/ca40e3e2437875712025691aa5c340e3.png"><br><br><h3>  Ereignisverarbeitungsdienst </h3><br>  Stellen Sie sich vor, wir m√ºssen eine Echtzeit-Ereignisverarbeitung durchf√ºhren - ein System, das die Aktionen des Kunden in Echtzeit analysiert und ihm sofort ein relevantes Angebot unterbreiten kann.  Um diese Funktionalit√§t zu implementieren, wird ein <i>Architekturmuster verwendet, das als ereignisgesteuerte Architektur (EDA) bezeichnet wird</i> .  Keines der relevanten Service Mesh unterst√ºtzt solche Muster von Haus aus, aber dies ist sehr wichtig, insbesondere f√ºr die Bank! <br><br>  Es ist seltsam, dass der Remote Procedure Call (RPC) alle Versionen des Service Mesh unterst√ºtzt und sie nicht mit EDA befreundet sind.  Weil Service Mesh ein Anschein moderner verteilter Integration ist und EDA ein sehr relevantes Architekturmuster ist, mit dem Sie einzigartige Dinge in Bezug auf das Kundenerlebnis tun k√∂nnen. <br><br>  Unser Enterprise Service Mesh sollte dieses Problem l√∂sen.  Dar√ºber hinaus m√∂chten wir die Implementierung von garantierter Zustellung, Streaming und integrierter Ereignisverarbeitung unter Verwendung einer Vielzahl von Filtern und Vorlagen sehen. <br><br><h3>  Datei√ºbertragungsdienst </h3><br>  Neben EDA w√§re es sch√∂n, Dateien √ºbertragen zu k√∂nnen: Im Enterprise-Ma√üstab ist sehr oft nur die Dateiintegration m√∂glich.  Insbesondere wird das architektonische ETL-Muster verwendet (Extrahieren, Transformieren, Laden - ‚ÄûExtrahieren, Transformieren, Laden‚Äú).  Darin tauscht in der Regel jeder ausschlie√ülich Dateien aus: Sie verwenden Big Data, was unpraktisch ist, um separate Anforderungen einzugeben.  Die M√∂glichkeit, Datei√ºbertragungen im Enterprise Service Mesh nativ zu unterst√ºtzen, bietet Ihnen die Flexibilit√§t, die Sie f√ºr Ihr Unternehmen ben√∂tigen. <br><br><h3>  Orchestrierungsservice </h3><br>  In gro√üen Organisationen gibt es fast immer unterschiedliche Teams, die unterschiedliche Produkte herstellen.  In einer Bank arbeiten beispielsweise einige Teams mit Einlagen, w√§hrend andere mit Kreditprodukten arbeiten, und es gibt viele solcher F√§lle.  Dies sind verschiedene Personen, verschiedene Teams, die ihre Produkte herstellen, ihre APIs entwickeln und sie anderen zur Verf√ºgung stellen.  Und sehr oft besteht Bedarf an der Zusammensetzung dieser Dienste sowie an der Implementierung der komplexen Logik des sequentiellen Aufrufs des API-Satzes.  Um dieses Problem zu l√∂sen, wird in der Integrationsschicht eine L√∂sung ben√∂tigt, die die gesamte zusammengesetzte Logik vereinfacht (Aufrufen mehrerer APIs, Beschreiben der Route von Anforderungen usw.).  Dies ist der Orchestrierungsdienst im Enterprise Service Mesh. <br><br><h3>  AI und ML </h3><br>  Wenn Microservices √ºber eine einzige Integrationsschicht kommunizieren, wei√ü Service Mesh nat√ºrlich alles √ºber die Aufrufe der einzelnen Services.  Wir sammeln Telemetrie: Wer hat wen angerufen, wann, wie lange, wie oft und so weiter.  Wenn es Hunderttausende dieser Dienste und Milliarden von Anrufen gibt, sammelt sich all dies an und bildet Big Data.  Diese Daten k√∂nnen mithilfe von KI, maschinellem Lernen usw. analysiert werden und dann basierend auf den Ergebnissen der Analyse einige n√ºtzliche Dinge tun.  Es w√§re angebracht, die Verwaltung des gesamten in das Service Mesh integrierten Netzwerkverkehrs und der Anwendungsaufrufe zumindest teilweise auf die k√ºnstliche Intelligenz zu √ºbertragen. <br><br><h3>  API-Gateway-Dienst </h3><br>  In der Regel verf√ºgt Service Mesh √ºber Proxys und Services, die innerhalb des vertrauensw√ºrdigen Perimeters aufeinander zugreifen.  Es gibt aber auch externe Gegenparteien.  Die API-Anforderungen f√ºr diese Verbrauchergruppe sind viel schwerwiegender.  Wir teilen diese Aufgabe in zwei Hauptteile. <br><br><ul><li>  <i>Sicherheit</i>  Probleme im Zusammenhang mit ddos, Verwundbarkeit von Protokollen, Anwendungen, Betriebssystemen usw. <br></li><li>  <i>Die Skala</i> .  Wenn die API-Rechnung, die den Kunden ausgeh√§ndigt werden muss, an Tausende oder sogar Hunderttausende geht, sind einige Mittel zum Verwalten dieses Satzes von APIs erforderlich.  Sie m√ºssen die API st√§ndig √ºberwachen: Funktionieren sie oder nicht, in welchem ‚Äã‚ÄãStatus, welcher Datenverkehr l√§uft, welche Statistiken usw.  Das API-Gateway muss diese Aufgabe √ºbernehmen, damit der gesamte Prozess verwaltet und sicher ist.  Dank dieser Komponente lernt das Enterprise Service Mesh, sowohl die internen als auch die externen APIs ohne allzu gro√üe Schwierigkeiten zu ver√∂ffentlichen. <br></li></ul><br><h3>  Support-Service f√ºr bestimmte Protokolle und Datenformate (AS-Gateway) </h3><br>  Derzeit k√∂nnen die meisten Service Mesh-L√∂sungen nur nativ mit HTTP- und HTTP2-Verkehr oder im abgeschnittenen Modus auf TCP / IP-Ebene arbeiten.  Das Enterprise Service Mesh verf√ºgt √ºber viele andere sehr spezifische Daten√ºbertragungsprotokolle.  Einige Systeme verwenden m√∂glicherweise Nachrichtenbroker, andere sind auf Datenbankebene integriert.  Wenn das Unternehmen √ºber SAP verf√ºgt, kann es auch ein eigenes Integrationssystem verwenden.  Und das alles funktioniert und ist ein wichtiger Teil des Gesch√§fts. <br><br>  Sie k√∂nnen nicht einfach sagen: "Lassen Sie uns das Erbe aufgeben und neue Systeme erstellen, die das Service Mesh verwenden k√∂nnen."  Um mit allen alten Systemen neue zu finden (in Bezug auf die Microservice-Architektur), ben√∂tigen Systeme, die Service Mesh verwenden k√∂nnen, einen Adapter, einen Vermittler und ein Gateway.  Stimmen Sie zu, es w√§re sch√∂n, wenn es zusammen mit dem Service in einer Box geliefert w√ºrde.  Das AS-Gateway kann jede Integrationsoption unterst√ºtzen.  Stellen Sie sich vor, Sie installieren einfach das Enterprise Service Mesh und es ist bereit, mit allen ben√∂tigten Protokollen zu interagieren.  F√ºr uns ist dieser Ansatz sehr wichtig. <br><br>  <i>So pr√§sentieren wir die Unternehmensversion von Service Mesh (Enterprise Service Mesh).</i>  <i>Die beschriebene Anpassung l√∂st die meisten Probleme, die beim Versuch auftreten, vorgefertigte Open-Source-Versionen der Integrationsplattform zu verwenden.</i>  <i>Die Service Mesh-Architektur, die erst vor ein paar Jahren aufgetaucht ist, entwickelt sich weiter und wir sind froh, dass wir zu ihrer Entwicklung beitragen k√∂nnen.</i>  <i>Wir hoffen, dass unsere Erfahrung f√ºr Sie n√ºtzlich sein wird.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de456136/">https://habr.com/ru/post/de456136/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de456126/index.html">Z√§hlen Sie eine Menge Geld und erkunden Sie die Mine: Wie Roboter bereits einen Platz unter uns gefunden haben</a></li>
<li><a href="../de456128/index.html">MBLT19 :: return</a></li>
<li><a href="../de456130/index.html">Wie man NP-harte Probleme mit parametrisierten Algorithmen l√∂st</a></li>
<li><a href="../de456132/index.html">Informationen zum Aufzeichnen von Fehlern oder zum Finden einer Katze</a></li>
<li><a href="../de456134/index.html">Vertrauen, aber √ºberpr√ºfen! So testen Sie Ihr Modell mithilfe der IBM Cloud (Watson OpenScale)</a></li>
<li><a href="../de456140/index.html">Treffen Sie Codeception 3.0</a></li>
<li><a href="../de456144/index.html">KubeCon EU 2019: 10 wichtige Ergebnisse</a></li>
<li><a href="../de456146/index.html">DevOps in der Entwicklung: Automatisierung von Webanwendungscode</a></li>
<li><a href="../de456148/index.html">News der Woche: Facebook lehnt Huawei in Anwendungen ab, Aurora OS statt Android, Mining-Strafen</a></li>
<li><a href="../de456150/index.html">Kleine Freude # 4: Radon - Codequalit√§t gemessen in Zahlen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>