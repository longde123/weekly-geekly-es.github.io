<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍💻 😢 💅🏾 在Linux上发布数据库和Web服务来提升服务器1c 😙 🦖 ⛅️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今天，我想告诉您如何通过Web服务的发布在Linux debian 9上提高服务器1c。 

 什么是1s网络服务？ 

 Web服务是用于与其他信息系统集成的平台机制之一。 它是支持SOA（面向服务的体系结构）的一种方法，SOA是一种面向服务的体系结构，是用于集成应用程序和信息系统的现代标准。 本...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在Linux上发布数据库和Web服务来提升服务器1c</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462965/"><img src="https://habrastorage.org/webt/rl/ug/jg/rlugjgsbzt_idwrlr_gpbyu1go4.png" alt="图片"><br><br> 今天，我想告诉您如何通过Web服务的发布在Linux debian 9上提高服务器1c。 <br><br> 什么是1s网络服务？ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web服务</a>是用于与其他信息系统集成的平台机制之一。 它是支持SOA（面向服务的体系结构）的一种方法，SOA是一种面向服务的体系结构，是用于集成应用程序和信息系统的现代标准。 本质上，这是使用数据创建html页面的能力，然后您可以使用任何其他应用程序进行访问并进行选择。 <br><br> 优点-它工作迅速（即使有足够的数据量），也相对方便。 <br><br> 缺点-您的1s程序员会为您长时间抱怨很多，而他将为您的数据库编写Web服务。 这东西在写作上很特别。 <br><br> 我不会告诉您如何编写<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">网络服务</a> ……我会告诉您如何从服务器控制台在Linux上发布它，以及有关在Linux上安装1s服务器的一些知识。 <br><a name="habracut"></a><br> 因此，我们有debian 9 netinst，继续进行： <br><br> 安装PostgresPro（请注意，它不是免费的，并且仅作为熟悉功能的一部分分发）： <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get update -y</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get install -y wget gnupg2 || apt-get install -y gnupg</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># wget -O - http://repo.postgrespro.ru/keys/GPG-KEY-POSTGRESPRO | apt-key add -</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># echo deb http://repo.postgrespro.ru/pgpro-archive/pgpro-11.4.1/debian stretch main &gt; /etc/apt/sources.list.d/postgrespro-std.list</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get update -y</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt-get install -y postgrespro-std-11-server</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /opt/pgpro/std-11/bin/pg-setup initdb</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /opt/pgpro/std-11/bin/pg-setup service enable</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># service postgrespro-std-11 start</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># su - postgres</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /opt/pgpro/std-11/bin/psql -U postgres -c "alter user postgres with password '';"</span></span></code> </pre> <br> 假设postgresql监听所有地址，而不仅仅是本地主机 <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nano /var/lib/pgpro/std-11/data/postgresql.conf</span></span></code> </pre> <br><br> 取消注释并更改要收听的地址： <br><blockquote>  ... <br>  #listen_addresses ='本地主机' <br>  ... <br></blockquote><br> 开 <br><blockquote>  ... <br>  listen_addresses ='*' <br>  ... <br></blockquote><br><br> 接下来，让我们授权网络中的用户 <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nano /var/lib/pgpro/std-11/data/pg_hba.conf</span></span></code> </pre> <br> 变更： <br><blockquote>  ＃IPv4本地连接： <br> 托管所有所有127.0.0.1/32 md5 <br></blockquote><br> 在 <br><blockquote> 托管所有192.168.188.0/24 md5 <br> 托管所有所有127.0.0.1/32 md5 <br></blockquote><br><br> 您可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">在此处</a>阅读有关1s的各种Postgres安装的更多信息。 <br><br> 接下来，我们放置1s服务器。 <br><br> 我们将从站点1c下载的档案上传到服务器（在我的情况下为deb64_8_3_15_1534.tar.gz） <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># tar -xzf deb64_8_3_15_1534.tar.gz</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># dpkg -i *.deb</span></span></code> </pre> <br> 还有一些小事情： <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt install imagemagick unixodbc libgsf-bin</span></span></code> </pre> <br><br> 现在安装Apache2 <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># apt install apache2</span></span></code> </pre> <br><br> 通过管理控制台或客户端1c，我们创建数据库并填充我们的配置... <br><br> 现在，我们发布基础： <br><br> 用1s转到文件夹。 <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /opt/1C/v8.3/x86_64/</span></span></code> </pre> <br><br><pre> <code class="bash hljs">./webinst -publish -apache24 -wsdir Test -dir /var/www/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>/ -connstr <span class="hljs-string"><span class="hljs-string">"Srvr=10.7.12.108;Ref=test;"</span></span> -confPath /etc/apache2/apache2.conf</code> </pre> <br><br> 我们进入var / www / test /，看看那里出现了什么。 <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cd /var/www/test</span></span></code> </pre> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nano default.vrd</span></span></code> </pre> <br><br><blockquote>  ” <br>  &lt;？xml版本=“ 1.0”编码=“ UTF-8”？&gt; <br>  &lt;point xmlns =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">v8.1c.ru/8.2/virtual-resource-system</a> ” <br>  xmlns：xs =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.w3.org/2001/XMLSchema</a> ” <br>  xmlns：xsi =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.w3.org/2001/XMLSchema-instance</a> ” <br>  base =“ /测试” <br>  ib =“ Srvr = 192.168.188.150; Ref =测试；”&gt; <br>  &lt;standardOdata enable =“假” <br>  redirectSessions =“自动使用” <br>  sessionMaxAge =“ 20” <br>  poolSize =“ 10” <br>  poolTimeout =“ 5” /&gt; <br></blockquote>  ” <br><br> 这些是启动1s Web客户端所需的方案...现在，您可以从浏览器访问位于地址“ http：// ServerAddress / Test”的测试数据库（寄存器很重要！这是Linux！），或指定地址“ http：// ServerAddress / Test”，客户端将使用已发布的数据库。 <br><br> 但是 <br><br>  Web服务又如何呢？  （在我的测试配置中，有两个：WebBuh，用于通过记帐进行数据交换，以及与同一公司的wms系统进行toplog集成）。 <br><br> 好吧，在我们的vrd文件中添加几行... <br><br><blockquote>  &lt;？xml版本=“ 1.0”编码=“ UTF-8”？&gt; <br>  &lt;point xmlns =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">v8.1c.ru/8.2/virtual-resource-system</a> ” <br>  xmlns：xs =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.w3.org/2001/XMLSchema</a> ” <br>  xmlns：xsi =“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.w3.org/2001/XMLSchema-instance</a> ” <br>  base =“ / TestWeb” <br>  ib =“ Srvr = IP_addres; Ref = TestWebServ”&gt; <br>  &lt;standardOdata enable =“假” <br>  redirectSessions =“自动使用” <br>  sessionMaxAge =“ 20” <br>  poolSize =“ 10” <br>  poolTimeout =“ 5” /&gt; <br> <code><b><br> #       - <br> &lt;point name="WebBuh" #  -   <br> alias="Web_buh.1cws" # Web_buh.1cws -  -   <br> enable="true" #        <br> reuseSessions="autouse" <br> sessionMaxAge="20" <br> poolSize="10" <br> poolTimeout="5"/&gt; <br> &lt;point name="TopLog" #    <br> alias="toplog.1cws" # toplog.1cws <br> enable="true" <br> reuseSessions="autouse" <br> sessionMaxAge="20" <br> poolSize="10" <br> poolTimeout="5"/&gt; <br></b></code> <br></blockquote><br> 保存。 <br><br> 现在，我们的Web服务位于以下地址：“ http：//AddressServer/Test/Web_buh.1cws？” <br><br> 为什么要用手来做？ <br><br> 由于我们的服务器没有图形外壳，因此在其上运行配置器将失败，并因此使用标准工具进行发布。 客户端上的远程配置器不会在服务器上发布Web服务。 因此，我们必须根据上述模板手动编辑配置。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">生成.vrd的脚本</a> -感谢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TihonV</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462965/">https://habr.com/ru/post/zh-CN462965/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462955/index.html">现场人员培训和认证的数字化转型</a></li>
<li><a href="../zh-CN462957/index.html">利弊：.org的价格门槛仍被取消</a></li>
<li><a href="../zh-CN462959/index.html">在线支票的自然语言处理：针对普通猫和其他问题的魔术课程</a></li>
<li><a href="../zh-CN462961/index.html">数据科学文摘（2019年8月）</a></li>
<li><a href="../zh-CN462963/index.html">在React中使用Context API创建全局应用程序主题</a></li>
<li><a href="../zh-CN462967/index.html">处理大量小文件时会骇客</a></li>
<li><a href="../zh-CN462969/index.html">哈萨克斯坦当局如何通过引入证书来掩饰自己的失败</a></li>
<li><a href="../zh-CN462971/index.html">在JavaScript中使用变量的let声明和结果闭包的功能</a></li>
<li><a href="../zh-CN462977/index.html">使用RPA和BluePrism加快例行HR流程</a></li>
<li><a href="../zh-CN462979/index.html">学员备忘单：通过Google面试逐步解决问题</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>