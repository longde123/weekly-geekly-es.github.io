<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊🏿 🤟🏼 ☔️ Unwissenheit über die Grundlagen von React, die Sie möglicherweise zerstören 🎙️ 🥊 ♐️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Möchten Sie eine gute Vorstellung davon bekommen, was mit Komponenten passiert, wenn Sie mit React arbeiten? Lesen Sie die Übersetzung des Ohans Emman...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unwissenheit über die Grundlagen von React, die Sie möglicherweise zerstören</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/426197/"> Möchten Sie eine gute Vorstellung davon bekommen, was mit Komponenten passiert, wenn Sie mit React arbeiten?  Lesen Sie die Übersetzung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ohans Emmanuel-</a> Artikels, der auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">freeCodeCamp unter dem Schnitt veröffentlicht wurde</a> . <br><br><img src="https://habrastorage.org/webt/tc/do/3u/tcdo3ukjorqeior-t3qnyhzkkhc.png"><a name="habracut"></a><br><br>  Oft ist es unmöglich, einen bestimmten Fehler zu beseitigen, da Sie einige Grundlagen nicht kennen.  Aus dem gleichen Grund kann es schwierig sein, fortgeschrittenere Techniken zu beherrschen. <br><br>  In diesem Artikel werde ich versuchen, über einige der Prinzipien von React zu sprechen, die Sie meiner Meinung nach verstehen müssen. <br><br>  Wir werden diese Prinzipien nicht aus technischer Sicht analysieren.  Es gibt viele andere Artikel, in denen Konzepte wie Komponenteneigenschaften ( <code>props</code> ), Status ( <code>state</code> ), Kontext ( <code>context</code> ), Ändern des Status einer Komponente ( <code>setState</code> ) und andere behandelt werden. <br><br>  Ich möchte darüber sprechen, was den meisten technischen Vorgängen zugrunde liegt, die Sie mit React ausführen werden. <br><br>  Bist du bereit <br><br><h3>  Versteckte Reaktionsprozesse </h3><br>  Das erste, was jeder in React lernt, ist das Erstellen von Komponenten.  Ich bin sicher, dass Sie das auch gelernt haben. <br><br>  Zum Beispiel: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// functional component function MyComponent() { return &lt;div&gt; My Functional Component &lt;/div&gt; } // class based component class MyComponent extends React.Component { render() { return &lt;div&gt; My Class Component &lt;/div&gt; } }</span></span></code> </pre> <br>  Die meisten von Ihnen verschriebenen Komponenten geben einige Elemente an Sie zurück. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> My Functional Component </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">//span element } class MyComponent extends React.Component { render() { return &lt;div&gt; My Class Component &lt;/div&gt; //div element } }</span></span></code> </pre> <br>  Von innen sieht dieser Prozess folgendermaßen aus: Die meisten Komponenten geben einen Baum von Elementen zurück. <br><br><img src="https://habrastorage.org/webt/y_/z2/yp/y_z2ypz2oazgec7u4kgxjyyaras.jpeg">  <i>Nach einer internen Auswertung geben Komponenten häufig einen Artikelbaum zurück</i> <br><br>  Darüber hinaus erinnern Sie sich wahrscheinlich daran, dass Komponenten als Funktionen fungieren, die Werte basierend auf ihren <code>props</code> und Statuswerten zurückgeben. <br><br><img src="https://habrastorage.org/webt/kc/ox/cf/kcoxcf4j_4byaslxyotu32zkn6i.jpeg">  <i>Komponenten sind so etwas wie Funktionen mit Requisiten und Zustandsparametern</i> <br><br>  Daher wird immer dann, wenn sich die Werte der Eigenschaften ( <code>props</code> ) und der Status der Komponente ändern, ein neuer Elementbaum erstellt. <br><br><img src="https://habrastorage.org/webt/cy/h3/3y/cyh33yjvy_hunyzdyz3tizzr8q8.jpeg">  <i>Wenn sich die Requisiten oder Statuswerte ändern, wird der Elementbaum neu gezeichnet.</i>  <i>Als Ergebnis wird ein neuer Baum von Elementen angezeigt.</i> <br><br>  Wenn die Komponente auf Klassenvererbung basiert, gibt der Funktionsbaum einen Baum von Elementen zurück <pre> <code class="javascript hljs">&lt;code&gt;render&lt;<span class="hljs-regexp"><span class="hljs-regexp">/code&gt;. &lt;source lang="javascript"&gt;class MyComponent extends React.Component { render() { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/this function is invoked to return the tree of elements } }</span></span></code> </pre> <br>  Wenn die Komponente funktionsfähig ist, gibt ihr Rückgabewert einen Baum von Elementen an. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// the return value yields the tree of elements return &lt;div&gt; &lt;/div&gt; }</span></span></code> </pre> <br>  Warum ist das wichtig? <br><br>  Betrachten Sie die <code>&lt;MyComponent /&gt;</code> -Komponente, die <code>prop</code> akzeptiert, wie unten gezeigt. <br><br><pre> <code class="javascript hljs">&lt;MyComponent name=<span class="hljs-string"><span class="hljs-string">'Ohans'</span></span>/&gt;</code> </pre> <br>  Beim Rendern dieser Komponente wird ein Baum von Elementen zurückgegeben. <br><br><img src="https://habrastorage.org/webt/_y/3a/uo/_y3auopjwpzvkqdk6ybsgnw-wt0.jpeg"><br>  <i>Der Elementbaum wurde nach dem erneuten Zeichnen von &lt;MyComponent /&gt; zurückgegeben</i> <br><br>  Was passiert, wenn sich der <code>name</code> ändert? <br><br><pre> <code class="javascript hljs">&lt;MyComponent name=<span class="hljs-string"><span class="hljs-string">'Quincy'</span></span>/&gt;</code> </pre> <br>  Nun, der neue Elementbaum ist zurück! <br><br><img src="https://habrastorage.org/webt/4n/gz/ji/4ngzjinuntgqibvza9exckasmds.jpeg"><br>  <i>NEUER Artikelbaum, der zurückgegeben wurde, nachdem &lt;MyComponent /&gt; mit anderen Requisiten neu gezeichnet wurde</i> <br><br>  Gut. <br>  React hat jetzt zwei verschiedene Bäume - den vorherigen und den aktuellen Elementbaum. <br>  Zu diesem Zeitpunkt vergleicht React beide Bäume, um die Änderungen zu finden. <br><br><img src="https://habrastorage.org/webt/54/ns/l4/54nsl4ekzvcpklennalo-xirwdg.jpeg"><br>  <i>Zwei verschiedene Bäume.</i>  <i>Was genau hat sich geändert?</i> <br><br>  Der Baum hat sich nicht vollständig geändert, sondern nur teilweise aktualisiert (dies geschieht in den meisten Fällen). <br><br>  Nach dem Vergleich aktualisiert React das tatsächliche DOM, um Änderungen im neuen Elementbaum widerzuspiegeln. <br><br>  Es ist einfach, nicht wahr? <br><br>  Das Vergleichen von zwei Bäumen auf Änderungen wird als "Abstimmung" bezeichnet.  Sie und ich konnten diesen Prozess analysieren, obwohl er ziemlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kompliziert ist</a> . <br><br><h3>  Reagieren aktualisiert nur das Wesentliche, oder? </h3><br>  Noch bevor Sie mit React angefangen haben, haben Sie oft gehört, wie cool es ist, einschließlich der Tatsache, dass nur wichtige Änderungen am aktualisierten DOM-Modell vorgenommen werden. <br><br><img src="https://habrastorage.org/webt/ci/np/os/cinposam2j3r01k9xooqmgwbx1q.gif"><br>  <i>Aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Docs</a> : DOM-Inspektor mit Aktualisierungsdetails</i> <br><br>  Ist das alles <br><br>  Das ist alles. <br><br>  Denken Sie jedoch daran: Bevor Sie mit der Aktualisierung des DOM fortfahren, erstellt React einen Baum von Elementen für die verschiedenen Komponenten und führt den erforderlichen Vergleich durch.  Einfach ausgedrückt, werden die Unterschiede zwischen dem vorherigen und dem aktuellen Artikelbaum gefunden. <br><br>  Ich wiederhole dies, weil Neulinge in React möglicherweise keine Leistungsminderung ihrer Anwendungen bemerken, da sie glauben, dass React nur die erforderlichen Elemente im DOM aktualisiert. <br><br>  Dies ist natürlich richtig, aber die Leistungsprobleme der meisten React-Anwendungen beginnen bereits vor dem DOM-Update! <br><br><h3>  Unnötiges Rendern im Vergleich zu visuellen Updates </h3><br>  Selbst wenn der Komponentenbaum klein ist, dauert das Rendern einige Zeit (zumindest unbedeutend).  Je größer der Baum der Komponentenelemente ist, desto länger dauert das Rendern. <br><br>  Dies bedeutet, dass das Neuzeichnen der Komponentenbäume der Komponenten Ihrer Anwendung mit React redundant ist, wenn dies NICHT erforderlich ist. <br><br>  Lassen Sie mich dies anhand eines einfachen Beispiels zeigen. <br><br>  Stellen Sie sich eine Anwendung mit einer Komponentenstruktur vor, wie in der folgenden Abbildung dargestellt. <br><br><img src="https://habrastorage.org/webt/rg/u9/uo/rgu9uoiv_6f79jjdahkjkhuydsw.jpeg"><br>  <i>Anwendung mit übergeordneter Komponente A und untergeordneten Komponenten B, C und D.</i> <br><br>  Die generische Containerkomponente <code>A</code> erhält eine bestimmte Eigenschaft.  Dies erfolgt jedoch nur, um diese Eigenschaft an Komponente <code>D</code> <br><br><img src="https://habrastorage.org/webt/6f/e1/o_/6fe1o_xjvwjbiiu906fqn8wjefg.jpeg"><br>  <i>Die übergeordnete Komponente A empfängt einige Eigenschaften und gibt sie an die untergeordnete Komponente D weiter</i> <br><br>  Wenn sich nun der Wert der Eigenschaft in Komponente <code>A</code> ändert, werden alle untergeordneten Elemente von <code>A</code> neu gezeichnet, um einen neuen Elementbaum zu berechnen. <br><br><img src="https://habrastorage.org/webt/wm/su/bm/wmsubma56nla87wztcj8x025jbe.jpeg"><br><img src="https://habrastorage.org/webt/5x/ou/ba/5xoubasi0fpza771pgeybfatd74.jpeg"><br>  <i>Wenn die übergeordnete Komponente neue Eigenschaften erhält, wird jedes untergeordnete Element neu gezeichnet und ein neuer Baum zurückgegeben.</i> <br><br>  Dementsprechend werden auch die Komponenten <code>B</code> und <code></code> neu gerendert, auch wenn sie sich überhaupt nicht geändert haben!  Sie haben keine neuen Eigenschaften erhalten! <br><br>  Dieses Neuzeichnen ist kein unnötiges Rendern. <br><br>  In diesem Beispiel müssen die Komponenten <code>B</code> und <code>C</code> nicht neu gezeichnet werden, aber React ist sich dessen nicht bewusst. <br><br>  Es gibt viele Möglichkeiten, dieses Problem zu lösen, und ich habe sie in meinem kürzlich erschienenen Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">So beseitigen Sie Probleme mit der Reaktionsleistung beschrieben</a> . <br><br>  Mach weiter.  Schauen Sie sich die App unten an. <br><br><img src="https://habrastorage.org/webt/xv/re/uz/xvreuz22xxzpadhgtcb2kdet2he.gif"><br>  <i>Cardie in Aktion :)</i> <br><br>  Ich habe diese App <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Carde genannt</a> . <br><br>  Wenn ich auf die Schaltfläche klicke, um den Beruf des Benutzers zu ändern, kann ich Updates für das DOM markieren, wie unten gezeigt. <br><br><img src="https://habrastorage.org/webt/a3/yv/4q/a3yv4qeubwcgpprlrbxxk1nvdou.gif"><br>  <i>Aktivieren Sie die visuelle Anzeige von Updates (Paint Flashing) mit Chrome DevTools</i> <br><br>  Jetzt kann ich sehen, was im DOM aktualisiert wurde. <br><br>  Dies ist eine visuelle Möglichkeit, Elemente zu markieren, die im DOM aktualisiert werden müssen.  Beachten Sie die grüne Markierung um den Text Ich bin Bibliothekar („Ich bin Bibliothekar.“) <br><br>  Das ist natürlich alles großartig, aber ich bin besorgt über das anfängliche Rendern des React-Komponentenbaums von Elementen. <br><br>  Ich kann es überprüfen. <br><br><img src="https://habrastorage.org/webt/uk/jn/ei/ukjneicu8bwkhxnjti9zt_ypxq4.gif"><br>  <i>Aktivieren Sie React DevTools, um die Hervorhebung aktualisierter Elemente zu aktivieren.</i> <br><br>  Jetzt sehe ich, welche Komponenten tatsächlich neu gezeichnet werden, wenn ich auf diese Schaltfläche klicke. <br><br><img src="https://habrastorage.org/webt/dd/j0/j1/ddj0j1mwaqv5-2rdqgrgjjd_ule.gif"><br>  <i>Achten Sie auf die grüne Markierung um die Karte des Benutzers</i> <br><br>  Sehen Sie, wie unterschiedlich die visuelle Methode ist, um die Elemente zu markieren, die im DOM aktualisiert werden müssen, und die Rendering-Updates, die React selbst ausführt? <br><br>  React zeichnet die gesamte Benutzerkarte neu und nur der Kurztext wird aktualisiert. <br><br>  Und das ist wichtig. <br><br><h3>  Fazit </h3><br>  Ich denke, dass Sie jetzt eine bessere Vorstellung davon haben, was und wie mit Ihren Komponenten in React vor sich geht. <br><br>  Tatsächlich passiert viel mehr, als ich Ihnen hier gerade gesagt habe.  Dies ist jedoch ein guter Anfang. <br><br>  Freuen Sie sich auf coole Apps! <br><br>  Lernen Sie mit React / Redux zu arbeiten?  Wenn ja, habe ich eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">großartige Reihe von Büchern</a> über Redux.  Einige sagen, dies sei die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">beste technische Literatur, die</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sie lesen</a> ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426197/">https://habr.com/ru/post/de426197/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426179/index.html">Frühstücken Sie selbst, teilen Sie Ihre Arbeit mit der "Wolke"</a></li>
<li><a href="../de426183/index.html">Skillbox Friday Webinare: Freiberuflich und Programmierung</a></li>
<li><a href="../de426191/index.html">Freitag. Bullshit Programmer 2.0</a></li>
<li><a href="../de426193/index.html">Gemeinsamer Online-Hackathon von OpenGift und Philtech Initiative</a></li>
<li><a href="../de426195/index.html">Wie ich in Space Engineers einen Hexapod gebaut habe. Teil 1</a></li>
<li><a href="../de426201/index.html">Sub-Zero: Antiker mechanischer Taschenrechner. Wie man es benutzt (mit Grüßen aus dem 18. Jahrhundert)</a></li>
<li><a href="../de426203/index.html">Design für Front-End-Entwickler, Teil 1</a></li>
<li><a href="../de426205/index.html">Mit der Veröffentlichung von Chrome werden 70.000 Websites, die durch Symantec-Zertifikate geschützt sind, nicht mehr vertrauenswürdig</a></li>
<li><a href="../de426207/index.html">Es wird bald kalt: Lernen Sie Pekatherm kennen und wählen Sie beheizte Handschuhe</a></li>
<li><a href="../de426209/index.html">PeerTube 1.0: Video-Hosting ohne Rechenzentrum und Kapitalkosten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>