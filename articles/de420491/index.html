<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥗 🔲 🔪 Mein Weg als Krieger oder wie ich einen Antrag für das Leben in Sailfish vorbereitet habe 👨🏽‍🏭 🏇🏾 ☝🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Kunst eines Kriegers ist es, das Gleichgewicht zu halten 
 zwischen dem Schrecken, menschlich zu sein und dem Wunder, menschlich zu sein. 
 "Reise...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mein Weg als Krieger oder wie ich einen Antrag für das Leben in Sailfish vorbereitet habe</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/420491/">  <i>Die Kunst eines Kriegers ist es, das Gleichgewicht zu halten</i> <i><br></i>  <i>zwischen dem Schrecken, menschlich zu sein und dem Wunder, menschlich zu sein.</i> <i><br></i>  <i>"Reise nach Ixtlan"</i> <br><br>  Mein Weg des Kriegers - ein brutaler Frontend-Entwickler bei den Profis - bestand darin, ein Gleichgewicht zwischen der Entwicklung einer Anwendung, die auf Sailfish läuft, und einer plattformübergreifenden Anwendung zu finden. <br><br>  Vor kurzem habe ich bei Digital Design als Entwickler gearbeitet und manchmal muss ich mich mit Aufgaben befassen, die mir vorher noch nicht begegnet sind.  Es ist interessant und macht oft Spaß.  Jetzt schreibe ich zum Beispiel eine Unternehmensanwendung für Sailfish OS und möchte meine Erfahrungen mit Ihnen teilen - dies wird weiter unten erläutert.  Folgen Sie mir unter dem Strich, wenn Sie ein unerfahrener Entwickler sind oder genau wie ich vor der Aufgabe stehen, eine Unternehmensanwendung für OS Sailfish anzupassen, und nicht wissen, wo Sie anfangen sollen, sowie diejenigen, die noch nichts über Qt- und Sailfish-Funktionen gehört haben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/xh/si/zrxhsitmn-nk4wa5iic71hc7wfu.jpeg"></div><a name="habracut"></a><br><h3>  Ein kleiner Hintergrund oder warum ich es getan habe </h3><br>  Als das Unternehmen vor 5 Jahren die Areopad ISCO-Lösung für iPad (iOS) entwickelte, konnte niemand glauben, dass Kunden eine Anwendung benötigen würden, um auf einem Gerät mit Sailfish OS zu arbeiten (damals gehörte das Betriebssystem jedoch auch dem finnischen Unternehmen Jolla).  Im Jahr 2016 erwarb das russische Unternehmen Open Mobile Platform eine Lizenz für die Nutzung, Änderung, Verteilung und erinnerte daran: Es passte inländische mobile Geräte und Benutzer (hauptsächlich Unternehmen und Regierungsbehörden) an und registrierte Sailfish Mobile OS RUS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in der Registrierung</a> .  Und jetzt ist dies, könnte man sagen, das einzige offizielle russische Betriebssystem für mobile Geräte. <br><br>  Natürlich wollten wir es verstehen - wir haben bereits den Rest des Betriebssystems erobert, und Sailfish hat anscheinend eine große Zukunft (ja, ich spreche von Importsubstitution).  Daraus folgt, dass der Antrag für Sailfish sein soll!  Die erste Anwendung, die getestet wurde, war das Informationssystem für mobile Anwendungen für die Arbeit der Kollegialorgane Areopad (es befand sich gerade im Modernisierungsstadium). <br><br><h3>  Nun zu qt </h3><br>  Ein wunderbares plattformübergreifendes Tool, das eine Entwicklungsumgebung, eine Menge nützlicher und praktischer Bibliotheken und sogar Ihre eigene QML-Markup-Sprache enthält.  Ich werde nicht lange darauf eingehen, da viele Artikel über dieses Wunder am Habré geschrieben wurden und Sie auch die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> lesen können, die leicht und natürlich zu lesen ist. <br><br>  Nur für den Fall, ich werde klarstellen, dass Berechnungen und Zuordnungen in verschiedenen Sprachen in verschiedenen Modulen (C ++ und QML) stattfinden, die mit speziellen kniffligen Methoden (Eigenschaft, Signalschlitz) miteinander interagieren. <br><br>  Und Qt ist das Hauptframework für die Entwicklung von Software für Sailfish. <br><br><h3>  Lösungsansätze: Gehen Sie nach links - Sie erhalten eine Krücke, gehen Sie nach rechts - Sie verlieren Funktionen </h3><br>  Zuerst dachte ich, inspiriert von der Idee der plattformübergreifenden Idee und der Tatsache, dass ich sie implementieren werde, dass eine für Sailfish geschriebene Anwendung nicht starten würde, sondern gerne auf jedem anderen Betriebssystem, sogar einem Kühlschrank oder einem Wasserkocher, floppen würde.  Aber mein Glück hielt genau bis zu dem Moment an, als ich mich hinsetzte, um es auf Android auszuführen - dann war ich traurig.  Sailfish ist überhaupt nicht für dieses Geschäft geeignet und beabsichtigt definitiv nichts zu ändern. <br><br>  Wenn Sie mit Android oder iOS die bedingte Kompilierung verwenden und dafür ein Toolkit bereitstellen können, kann Sailfish nicht von Linux unterschieden werden (natürlich innerhalb von Qt). <br><br>  Als nächstes tritt das QML-Kompatibilitätsproblem auf: In Sailfish, der veralteten Version von Qt Quick (2.6 für Sailfish und bereits 2.11 für alle anderen), kennt Android Silica nicht, Sailfish kennt QtQuick.Controls nicht.  Daher müssen Sie für verschiedene Betriebssysteme dieselben Komponenten aus verschiedenen Bibliotheken abrufen, wodurch für jedes Betriebssystem fast dieselben Dateien erstellt werden. <br>  Gleichzeitig verfügt Silica wahrscheinlich über dieselben Funktionen wie QtQuick.Controls, weigert sich jedoch, auf einer anderen Plattform ausgeführt zu werden. <br><br><h3>  Sailfish Features </h3><br>  Als <s>fauler,</s> so kreativer wie möglich kreativer Mensch mit dem Wunsch, die Arbeitskosten zu optimieren, ging ich den Weg des geringsten funktionalen <s>Widerstands</s> und schrieb mein Meisterwerk in reinem Qt, ohne QtQuick.Controls und Silica zu verwenden.  Infolgedessen funktioniert auf Sailfish alles anständig und edel, aber auf Android ist die Hälfte der Elemente trotz meiner strengen Anweisung, still zu sitzen, für ihre wahrscheinlich wichtigen Angelegenheiten irgendwohin gegangen, sodass der nächste Schritt immer noch bei einem Erwachsenen und geschieden sein wird Markup-Dateien für jedes Betriebssystem in verschiedenen Winkeln.  [Was ich später tat, als ich einen Artikel zur Veröffentlichung vorbereitete.  Diese Geschichte stützt sich auf einen separaten Artikel.  Bitte denken Sie daran und akzeptieren Sie: Magische Konstanten sind böse (zum Beispiel Breite: 15).  Und auf zwei fast identischen Geräten können sie sich sogar mit demselben Betriebssystem um das Zweifache unterscheiden. <br><br>  Ich kann jedoch nur feststellen, dass die Sailfish-Version definitiv interessante Dinge enthält.  Natürlich ist es für eine so kurze Zeit, die ich mit ihm kenne, fast unmöglich, die gesamte reiche innere Welt von Sailfish zu kennen - unsere Beziehung zu ihm befindet sich im Stadium der „Süßigkeiten-Bouquet-Zeit“, und viele davon habe ich noch nicht in ihrem komplexen Charakter studiert.  Darüber hinaus wurde beschlossen, eine universelle Anwendung für alle Betriebssysteme zu erstellen, sodass ich nicht die Möglichkeit hatte, ausgefeiltere Mechanismen zu verwenden, um die Chance zu nutzen, aber ich werde Ihnen wahrscheinlich einige interessante Punkte erläutern. <br><br>  Wir werden nur über eine Bibliothek für die Implementierung der Silica-GUI sprechen, da der Rest, den ich gelernt und verstanden habe, sich nicht von der Standard-QML-Programmierung unterscheidet. <br><br><ul><li>  <b>Thema.</b> </li></ul><br>  Dieses Tool hat mich am meisten interessiert, da ich in anderen Betriebssystemen kein Analogon gesehen habe und es auch unkompliziert ist.  Das Fazit ist, dass das Anwendungsdesign keine Konstante ist, sondern vom gewählten Thema abhängt. <br><br>  Das Themenelement enthält Informationen zum aktuell ausgewählten Thema: Primärfarben, Schriftgrößen, Einrückungen und Komponenten.  Wenn Sie Anwendungen schreiben, müssen Sie die Farben nicht fest codieren, die Größe an den Bildschirm anpassen und im Allgemeinen das Layout betrachten (verzeihen Sie den Designern, Sie haben bereits viel Arbeit). Sie können einfach alles aus dem Design-Element aufrufen.  Na ist das nicht cool! <br><br><img src="https://habrastorage.org/webt/ak/pr/wa/akprwaderu8np2wpkch4j_qo9xa.png"><br><br><ul><li>  <b>Menü</b> </li></ul><br>  Auch eine Funktion von Sailfish (obwohl es in Android möglich sein kann, aber ich habe es nicht gesehen). <br><br>  Es gibt drei Arten von Menüs: <br>  <b>PullDownMenu - PushUpMenu - ContextMenu</b> <br><br><img src="https://habrastorage.org/webt/bu/y7/a5/buy7a5tkeexpsohiexbtm4oydfm.jpeg"><img src="https://habrastorage.org/webt/jk/sl/4n/jksl4n-kik82otj40tdtcn9q4jq.jpeg"><img src="https://habrastorage.org/webt/ny/ti/tw/nytitwwksf94j2c1oraw50qea7q.jpeg"><br><br>  Silica ... View - sie unterscheiden sich nicht von der Standard ... View (sie sind ± ein paar nicht sehr auffällige Eigenschaften), und die Button-Komponente macht Sie ziemlich nervös - die Höhe der Button kann nicht geändert werden, Sie müssen überall Rectangle und MouseArea schreiben.  Wenn ich nur eine Anwendung für Sailfish unter Verwendung des Standarddesigns dieses Betriebssystems erstellen würde, wäre es nicht erforderlich, die Höhe der Schaltfläche zu ändern, oder es wäre möglich, eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Komponente von Silica zu verwenden</a> .  Da ich jedoch eine Anwendung für alle Geräte schreibe, wurde beschlossen, das massivste Design (Android) zu verwenden, damit jeder vertraut und komfortabel ist.  Viele sind mit mir nicht einverstanden und sagen, dass Sie native UI-Elemente für jede Plattform verwenden müssen, aber dies ist ein völlig anderes Thema. Es ist seit vielen Jahren Gegenstand von Holivars. In dieser Zeit ist mehr als eine Generation von Entwicklern gewachsen. <br><br><h3>  Fliegen Sie in der Salbe zur mobilen Entwicklung auf Qt </h3><br><ul><li>  <b>Assychronismus</b> </li></ul><br>  In Qt reicht es nicht aus, eine Funktion aufzurufen, um mit dem Server zu kommunizieren. Sie müssen eine Anfrage senden und nach einem speziellen Objekt fragen, das für die Antwort des Servers verantwortlich ist. Rufen Sie die Antwortverarbeitungsfunktion auf (die wir natürlich selbst schreiben), wenn die Antwort empfangen wird: <br><br><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">QNetworkRequest </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"http://www.leningrad.spb.ru"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; QNetworkReply *reply = mngr-&gt;get(request); connect(reply, &amp;QNetworkReply::finished, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, &amp;Class:: onReplyFinished); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onReplyFinished</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ QNetworkReply *reply = (QNetworkReply*)sender(); QByteArray ans = reply-&gt;readAll(); qDebug() &lt;&lt; ans; }</code> </pre> <br>  Die Funktion onReplyFinished wird aufgerufen, wenn eine Antwort vom Server empfangen wird. Dies kann unabhängig von der Qualität der Verbindung und der Serverseite dauern.  Stellen Sie sich nun vor, wie dies alles mit 1500-2000 Anfragen organisiert wird, die in diesem Fall voneinander abhängen und in strenger Reihenfolge ausgeführt werden müssen.  Und wenn Sie sich daran erinnern, dass der gesamte Teil der Benutzeroberfläche von der Antwort abhängt, wird es völlig beängstigend. <br><br><ul><li>  <b>Krückenorientierte Programmierung oder ein kreativer Ansatz zur Lösung von Problemen</b> </li></ul><br>  Ein weiteres Thema ist ListView, ein sehr lokales Qt-Problem, das jedoch immer noch unangenehm ist. <br><br>  Jede ListView mit Selbstachtung muss eine Header-Komponente haben, die als erster Delegat ein Element einfügt, das sich grundlegend von den anderen unterscheidet.  Ja, er macht es, ja, er malt alles perfekt, wenn es nicht ein "aber" wäre: Mein Delegierter nimmt den gesamten Bildschirm ein und es muss gescrollt werden, aber sobald ich versuche, vom Nullindex nach links zum Header zu scrollen, lehnt er dies grundsätzlich ab Kopfzeile anzeigen.  Was tun?  Mit einer Krücke stopfen.  Ein Teil meines Modellbildungscodes für diese ListView im cpp-Teil, der beschreibt, was so genau wie möglich geschieht: <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (QVariant quest, QQuestions) { Questions.append(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Question(client, quest)); } kostilQuestions = Questions; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Questions.size() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) kostilQuestions.prepend(Questions[<span class="hljs-number"><span class="hljs-number">0</span></span>]);</code> </pre> <br>  Als Nächstes werden im Delegaten zwei unabhängige Elemente erstellt, deren Sichtbarkeit vom Index abhängt. <br>  Wenn der Index Null ist, sehen wir einen, ansonsten den anderen. <br><br><h4>  Zusammenfassung </h4><br>  Als Ergebnis habe ich eine Anwendung erhalten, die sowohl auf Android als auch auf iOS „fliegt“, und Sailfish, genauer gesagt eine flexible Anwendung, die sich an diese Betriebssysteme anpasst.  Und Magie hat nichts damit zu tun.  Ich habe einen Weg gefunden, Konflikte zu vermeiden und alle Betriebssysteme mit Sailfish anzufreunden, indem ich einige Dateien für Sailfish und alle anderen ersetzt habe.  Dies ermöglichte es uns, Benutzeroberflächenebenen für jedes Betriebssystem im Anwendungscode auszuwählen. <br><br>  Wir können davon ausgehen, dass wir den ersten Schritt getan haben - wir haben uns mit Sailfish angefreundet.  Die Arbeiten daran sind jedoch noch nicht abgeschlossen. Sailfish und ich gehen auf eine neue Ebene unserer Beziehung. Wir bereiten die Areopad CSIS-Anwendung für die Registrierung in der Registrierung vor (wie die Sailfish-Anwendung), was bedeutet, dass wir sie auch für die Registrierung anpassen müssen. <br><br>  Ich hoffe es war interessant.  Fortsetzung folgt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de420491/">https://habr.com/ru/post/de420491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de420475/index.html">Vergleich von Raylogic 11G- und Raylogic V12-Laserschneidmaschinen</a></li>
<li><a href="../de420477/index.html">HyperX Cloud Stinger Core-Test: Ein leichtes und robustes Charakter-Headset</a></li>
<li><a href="../de420479/index.html">Abhängigkeitsinjektion im Apache Ignite.NET-Dienst</a></li>
<li><a href="../de420487/index.html">Unternehmen bitten um das Recht auf personenbezogene Daten der Nutzer</a></li>
<li><a href="../de420489/index.html">Neue ARM-Prozessoren können mit Core i5 konkurrieren</a></li>
<li><a href="../de420493/index.html">Kann der amerikanische Bestellservice für Lebensmittel zu Amazon in der Welt der Restaurants werden?</a></li>
<li><a href="../de420495/index.html">Bildschirm Wasser Rendering</a></li>
<li><a href="../de420497/index.html">Gemüse-Singularität: Kroger bringt Robocouriers für Obst- und Gemüsekunden in Arizona auf den Markt</a></li>
<li><a href="../de420499/index.html">Anatomie von Empfehlungssystemen. Teil eins</a></li>
<li><a href="../de420501/index.html">Linux im RAM: Debirf Way 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>