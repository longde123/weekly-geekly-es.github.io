<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßíüèª üëÅÔ∏è ‚ôÇÔ∏è Puertas de enlace de protocolos de intercambio industrial en Linux. Re√∫nete üë®‚Äçüë©‚Äçüë¶ üÜô üë®üèª‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Me dedico al desarrollo, implementaci√≥n y operaci√≥n de sistemas autom√°ticos de control de procesos (ACS TP). Inicialmente, trabaj√≥ con sistemas SCADA....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Puertas de enlace de protocolos de intercambio industrial en Linux. Re√∫nete</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433282/">  Me dedico al desarrollo, implementaci√≥n y operaci√≥n de sistemas autom√°ticos de control de procesos (ACS TP).  Inicialmente, trabaj√≥ con sistemas SCADA.  Luego pas√≥ r√°pidamente a trabajar con protocolos para el intercambio de dispositivos industriales.  Tanto los controladores de auto escritura como la configuraci√≥n de sistemas de recolecci√≥n de datos.  En este momento, mi trabajo est√° pasando por la atm√≥sfera de Modbus-s, IEC-101/104-s, OPC y otros protocolos. <br><br><img src="https://habrastorage.org/webt/u2/se/9s/u2se9sycmvuyymqk6fjdukbofpg.png" alt="imagen"><br>  <i>Fig.</i>  <i>1. La variedad de protocolos de comunicaci√≥n utilizados en los sistemas de control industrial.</i> <br><a name="habracut"></a><br>  Brevemente sobre c√≥mo funciona un sistema t√≠pico de recolecci√≥n de datos (un poco simplificado). <br><br><img src="https://habrastorage.org/webt/fd/yf/yw/fdyfywlokjlqdu8s8p8-6s7rqhe.png" alt="imagen"><br>  <i>Fig.</i>  <i>2. Sistema de adquisici√≥n de datos</i> <br><br>  Un software especial llamado servidor OPC sondea los dispositivos conectados a la interfaz RS-485.  El servidor OPC es una especie de capa entre el sistema SCADA y los dispositivos, que traduce el idioma en el que los dispositivos se comunican a un idioma que es comprensible para el sistema SCADA.  El convertidor Ethernet / RS-485 se utiliza para convertir paquetes TCP / IP en paquetes que viajan a trav√©s del entorno f√≠sico de RS-485. <br><br>  Este esquema tiene varias desventajas: <br><br><ol><li>  Establezca, por ejemplo, en el servidor OPC un tiempo de espera de espera de una respuesta de 200 ms.  En el caso ideal, cuando los paquetes van a Ethernet sin demoras, la comunicaci√≥n con los dispositivos se realiza a una buena velocidad (intensidad).  Pero si el paquete que contiene la respuesta se retrasa, por ejemplo, 300 ms (esto es m√°s que el tiempo de espera de respuesta de 200 ms), entonces el servidor OPC considera que la respuesta a la solicitud no ha llegado y env√≠a la siguiente solicitud.  En este momento, llega la respuesta a la solicitud anterior, pero el servidor OPC piensa que esta es la respuesta a la solicitud actual y env√≠a los datos incorrectos al principio.  Como resultado, los datos en la estaci√≥n de trabajo "saltan".  Para alejarnos de tales situaciones, estableceremos un tiempo de espera m√°s.  Tomar con un margen de 3000 ms.  Si la respuesta llega antes de 3000 ms, entonces no esperamos el tiempo restante, procedemos a la siguiente solicitud.  Hasta ahora, todo va bien, pero tan pronto como varios dispositivos dejan de responder, hay retrasos de 3000 ms para cada dispositivo.  El tiempo de votaci√≥n est√° aumentando. </li><li>  La mayor√≠a de los protocolos utilizados en los sistemas de control de procesos (Modbus, medidores de electricidad) se basan en encuestas secuenciales de los mismos par√°metros.  Dado que la mayor√≠a de las veces los valores de los par√°metros permanecen sin cambios, la red de datos se utiliza para transmitir los mismos.  Esto es irracional si el medio de transmisi√≥n es GPRS y el tr√°fico cuesta dinero.  Adem√°s, en un medio de transmisi√≥n GPRS, los retrasos de paquetes pueden alcanzar varios segundos.  ¬øPor qu√© perder tiempo y recursos transfiriendo lo mismo? </li></ol><br>  Para las situaciones anteriores, un protocolo es m√°s adecuado en el que los datos se transmiten hacia arriba por cambio (espor√°dicamente) y se agrupan por varios valores en un paquete TCP.  Dichos protocolos son IEC-60870-5-104 y OPC UA.  ModBus-TCP tambi√©n es adecuado, no hay transferencia de cambio en √©l, pero luego, si no hay muchos datos, se pueden empaquetar en un solo paquete.  Ser√≠a bueno tener alg√∫n tipo de controlador que se pueda colgar en un riel DIN, conectar dispositivos a trav√©s de RS-485 y transferir datos a trav√©s de Ethernet al sistema SCADA. <br><br>  En general, hay algunas puertas de enlace de hardware en cantidades considerables.  Pero en forma de soluciones indivisibles ya hechas.  Todo en uno.  Y realmente no me gusta.  Una vez necesitaba una puerta de enlace que convirtiera los protocolos de los medidores SET-4TM en OPC UA con seis puertos RS-485 y dos Ethernet.  Un fabricante tiene una puerta de enlace que admite los protocolos de intercambio necesarios, pero pocos puertos RS-485, el otro tiene el n√∫mero correcto de puertos RS-485, pero no hay dos puertos Ethernet.  El tercero tiene dos puertos Ethernet, pero no todos los protocolos de comunicaci√≥n.  El cuarto tiene casi todo, pero no hay OPC UA, disponible a bordo del IEC-60870-5-104 o ModBus-TCP requiere un servidor OPC para estos protocolos. <br><br>  Y qu√© maravilloso ser√≠a: comprar un controlador o una mini PC con sistema operativo de un fabricante.  Compre software para el controlador de otro.  Si un fabricante de software no admite algo, compre uno del software de otro, combine los componentes de software a trav√©s de una interfaz de software est√°ndar.  ¬°Parece que aqu√≠ hay un futuro brillante! <br><br>  Es por eso que las puertas de enlace de protocolo se usan con menos frecuencia que el servidor OPC y el paquete de convertidor de Ethernet a RS-485 debido a su indivisibilidad en los componentes. <br><br>  Una de las razones por las cuales SCADA para Linux est√° subdesarrollada: SCADA est√° all√≠, hay pocos protocolos de intercambio compatibles y no hay servidores OPC para la comunicaci√≥n con el equipo.  SCADA deja el integrador uno a uno con el hardware. <br><br>  El lector ya puede hacer una pregunta: ¬øQu√© puede ofrecer?  ¬øQu√© hay ya all√≠?  Hay servidores OPC UA para Linux para los siguientes protocolos: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IEC 60870-5-104;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IEC 60870-5-101;</a> </li><li>  Contadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mercurio 230, 231, 233, 234, 236</a> ; </li><li>  Contadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">-4, -3, -4</a> ; </li><li>  Medidores de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">energ√≠a;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SNMP</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MQTT</a> ; </li><li>  Contadores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mercurio 200</a> . </li></ul><br>  Para transmitir datos al nivel superior no solo a trav√©s del protocolo OPC UA, se han creado el " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Convertidor OPC UA a Modbus e IEC 60870-5-104</a> ".  Adem√°s de la funci√≥n de transferencia de datos de estos protocolos, el "Convertidor" tiene un servidor web incorporado.  Con un editor especial, puede dibujar un diagrama, mostrar los valores de las etiquetas y luego abrirlo en un navegador.  Resulta mini-SCADA directamente en el controlador.  C√≥mo funciona la animaci√≥n del circuito, ya escrib√≠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> , sobre el editor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  En el futuro, se planea el "Convertidor OPC UA a MQTT". <br><br>  Los servidores y convertidores OPC UA funcionan en arquitecturas x64, ARMv7 y AARCH64. <br>  Por lo tanto, para el hardware, puede utilizar soluciones probadas en el tiempo basadas en mini computadoras industriales y todo tipo de minicomputadoras ARM "compatibles con raspberry pi".  C√≥mo instalar y configurar el software con ejemplos se puede leer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  En general, la estructura del complejo se ve as√≠: <br><br><img src="https://habrastorage.org/webt/4w/my/rr/4wmyrra7y9xz2iah4sthdq_mlyy.png" alt="imagen"><br><br>  El sistema es escalable.  Se utilizan los componentes necesarios solo para resolver el problema actual. <br><br>  Usando el servidor OPC UA, nuestro esquema se transforma: <br><br><img src="https://habrastorage.org/webt/g4/bp/nt/g4bpnttzmoq5fxjadms0qssfwua.png" alt="imagen"><br><br>  Tenemos lo siguiente: <br><br><ul><li>  El servidor OPC UA recopila datos de dispositivos a trav√©s de RS-485 sin grandes demoras entre las solicitudes; </li><li>  Los datos en SCADA se emiten en varias partes en un paquete TCP para cambio; </li><li>  Puede conectar varias estaciones de trabajo igualmente configuradas al servidor OPC UA.  √ötil si se necesita duplicaci√≥n. </li></ul><br>  Por lo tanto, en lugar de un paquete de servidor OPC y "Convertidor de Ethernet a RS-485", obtenemos un dispositivo que combina su funcionalidad.  Me gusta m√°s este esquema.  Que hay de ti </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es433282/">https://habr.com/ru/post/es433282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es433272/index.html">Entrevista con David Gobel</a></li>
<li><a href="../es433274/index.html">Oleg Dokuka sobre el desarrollo reactivo en jug.msk.ru</a></li>
<li><a href="../es433276/index.html">Sobre los beneficios de incrustar CSS en JS</a></li>
<li><a href="../es433278/index.html">WebGL-wind y programaci√≥n de GPU. Conferencia en FrontTalks 2018</a></li>
<li><a href="../es433280/index.html">Conferencia DEFCON 18. Ingenier√≠a inversa Trollim usando las matem√°ticas</a></li>
<li><a href="../es433286/index.html">10 reuniones inform√°ticas y hackatones m√°s cercanos en Mosc√∫</a></li>
<li><a href="../es433288/index.html">Seguridad web: Introducci√≥n a HTTP</a></li>
<li><a href="../es433292/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 279 (del 10 al 16 de diciembre)</a></li>
<li><a href="../es433294/index.html">Algunas recomendaciones simples de trabajo en equipo</a></li>
<li><a href="../es433296/index.html">Gesti√≥n financiera en una empresa de TI.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>