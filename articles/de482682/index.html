<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìè üåΩ üóÇÔ∏è Qt Tool Automation ‚è´ ü§öüèª üê°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo liebe Khabrovites, vor nicht allzu langer Zeit begann ich mich f√ºr das Programmieren mit Qt zu interessieren. Nachdem ich mehrere Programme gesc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Qt Tool Automation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482682/"><p>  Hallo liebe Khabrovites, vor nicht allzu langer Zeit begann ich mich f√ºr das Programmieren mit Qt zu interessieren. Nachdem ich mehrere Programme geschrieben hatte, stellte sich die Frage, wie man Programme auf anderen Computern bereitstellt.  Wie sich herausstellte, war dies nicht sehr bequem, und so entschied ich mich, ein einfaches kleines Programm mit einer sch√∂nen grafischen Oberfl√§che zu schreiben, in dem es auch ohne Grundkenntnisse einfach w√§re, ein Deployment- und Programminstallationsprogramm zu erstellen.  Ich frage alle Interessierten unter Katze. </p><br><img src="https://habrastorage.org/webt/dc/iq/f7/dciqf78gir_jddxhwgy6b7bbyuy.png"><br><p><a name="habracut"></a>  Alles begann mit der Tatsache, dass es notwendig war, viele verschiedene Projekte bereitzustellen und jedes Mal, wenn ich nicht viele Briefe in die Konsole schreiben wollte (hier ist es f√ºr die j√ºngere Generation!).  Da ich Erfahrung mit qt und qml hatte, entschloss ich mich, meine Anwendung zu leeren. </p><br><p>  Die grundlegenden Anforderungen waren sofort offensichtlich - das Programm sollte Bereitstellungen und Installationsprogramme f√ºr Windows vornehmen.  Qt hat windeployqt und das Qt Installer Framework f√ºr diese Aufgaben.  Au√üerdem wollte ich sofort die automatische Generierung der qmldir-Datei und der √úbersetzungsdateien hinzuf√ºgen. </p><br><p>  Anf√§nglich habe ich das Design nicht gezeichnet, sondern nur unterwegs nachgedacht, und es hat sich als Fehler herausgestellt, da es schwierig ist, alle Details und Funktionen des Programms zu ber√ºcksichtigen und im Auge zu behalten.  Aus diesem Grund erwies sich das erste Programm als schlecht entwickelt und praktisch nicht anpassbar.  Aber sie hat gearbeitet!  Um die Dienstprogramme auszuf√ºhren, erstelle ich eine bat-Datei und installiere die Arbeitsumgebung dort: </p><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">set</span></span> PATH=G:\Qt\5.13.2\mingw73_64/bin;G:\Qt\Tools\mingw730_64/bin;%PATH%\n</code> </pre> <br><p>  Und dann verschreibe ich das Dienstprogramm, das ich ben√∂tige, mit benutzerdefinierten Argumenten.  Mit QProcess f√ºhre ich diese Datei zur Ausf√ºhrung aus.  Dies geschieht mit dem Deployment, Installer und Lupdate (√úbersetzungsdateigenerierung), bei qmldir sind im Prinzip keine Prozesse erforderlich, da die Dateinamen einfach kopiert werden. </p><br><p>  Obwohl das Programm funktionierte, passte es mir nicht, es gab zu wenige Einstellungen, mit Fehlern in den Argumenten, das Programm zeigte dem Benutzer nichts an.  Es war notwendig, es zu wiederholen.  Dieses Mal habe ich beschlossen, alles in Figma zu zeichnen, alles zu sortieren und den Code zu brechen. </p><br><img src="https://habrastorage.org/webt/n3/23/xa/n323xa5onnyuv6salwxrxdgvywg.png"><br><p><br>  Infolgedessen ist es meiner Meinung nach ziemlich gut ausgefallen (ich bin weit entfernt von einem Designer).  Ich habe auch das Fenster des Dienstprogramms √ºberarbeitet, jetzt zeigt es alles an, was das Dienstprogramm auf die Konsole schreibt, und meldet den Abschluss der Arbeit mit einem netten Knopf. </p><br><img src="https://habrastorage.org/webt/fe/ce/oa/feceoaq_asdpjmddjyhah8-kyha.png"><br><p><br>  Nachdem er das Design fertiggestellt hatte, begann er, jedes Dienstprogramm nach und nach zu √ºberarbeiten.  Es gab fast keine √Ñnderungen im Windeployqt, nur die Einstellung eines weiteren Arguments wurde hinzugef√ºgt.  Qmldir f√ºgte Funktionen zur Auswahl von Modifikatoren f√ºr jede Datei- und Versionsauswahl sowie zur Dateigenerierung hinzu. * Qmltypen mit automatischer Aufzeichnung in qmldir.  Die meisten √Ñnderungen wurden am Installationsprogramm vorgenommen. Es gibt nur eine Reihe von Parametern, darunter die Auswahl und Konfiguration der einzelnen Pakete sowie die Datei config.xml mit den Remote-Repositorys.  Das Programm selbst erstellt die Struktur der Ordner, Konfigurationsdateien (config.xml und package.xml) und f√ºllt sie, auch die Pakete selbst werden in den Datenordner kopiert.  Sie k√∂nnen drei Arten von Installationsprogrammen erstellen: Nur offline, nur online und kombiniert. Es gibt auch vier Arten, bei denen bestimmte Pakete vom Installationsprogramm ausgeschlossen sind. Ich habe jedoch entschieden, dass diese Funktionalit√§t zun√§chst nicht so wichtig ist, und werde sie in zuk√ºnftigen Versionen hinzuf√ºgen.  F√ºr Remote-Installer m√ºssen Sie Repositorys mit repogen.exe erstellen. Das Programm wei√ü auch, wie das geht. </p><br><p>  Damit das Programm funktioniert, m√ºssen Sie den Qt-Ordner auf dem Computer, den Pfad zum Compiler in der Qt-Versionsnummer und den Pfad zum Compiler im Tools-Ordner angeben.  Ich verstehe, dass dies nicht die bequemste L√∂sung ist und daher werde ich in zuk√ºnftigen Versionen das Parsing des Qt-Ordners durchf√ºhren, wobei der Compiler √ºber die ComboBox ausgew√§hlt wird. </p><br><p>  Die Arbeit ist jedoch erst am Ende abgeschlossen. Es ist unpraktisch, jedes Mal dieselben Werte zu verwenden, und es ist falsch. Sie m√ºssen sie irgendwie automatisieren. Erstellen Sie beispielsweise einen Abschnitt "Skripte", in dem Daten f√ºr die Ausf√ºhrung von Dienstprogrammen gespeichert werden.  Ich m√∂chte auch macdeployqt und linuxdeployqt hinzuf√ºgen. </p><br><p>  <a href="https://github.com/zl0i/QtAutoTools" rel="nofollow">Github-Repository-Link</a> </p><br><p>  PS Dies ist mein erstes Programm, das der √ñffentlichkeit zug√§nglich gemacht wird. Ich freue mich √ºber alle Kommentare.  Gesunde Kritik ist wie immer willkommen.  Ich werde auch mit den Vorschl√§gen zur Verbesserung der Funktionalit√§t des Programms sehr zufrieden sein. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482682/">https://habr.com/ru/post/de482682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482672/index.html">Gesch√§ftsbericht Habrapost - 2019</a></li>
<li><a href="../de482674/index.html">‚ÄûUnmittelbar nach den Ferien‚Äú: Seminare, Meisterkurse und Technologiewettbewerbe an der ITMO University</a></li>
<li><a href="../de482676/index.html">Effektive Sortierung von Daten vom Typ Struct</a></li>
<li><a href="../de482678/index.html">Wie ich mich f√ºr eine SMS-Suche f√ºr iOS entschieden habe und was dabei herauskam</a></li>
<li><a href="../de482680/index.html">Crypt, XOR, Hacken von unverschl√ºsseltem ZIP und PRSP. Probleml√∂sung mit r0ot-mi Crypto. Teil 2</a></li>
<li><a href="../de482684/index.html">Ich habe in zwei Wochen mein eigenes Dipfake erstellt und $ 552</a></li>
<li><a href="../de482686/index.html">Wissenschaftler automatisieren Tierverhaltensforschung, um die Gehirnfunktion zu entschl√ºsseln</a></li>
<li><a href="../de482690/index.html">Erstellen Sie Ihren Publisher in Combine</a></li>
<li><a href="../de482692/index.html">Intel NUC Home f√ºr Arbeit und Virtualisierung</a></li>
<li><a href="../de482694/index.html">Gibt es ein Leben nach Windows oder wo kann man 2020 einen Windows-Systemadministrator / -ingenieur entwickeln?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>