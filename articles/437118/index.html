<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚Äç‚öïÔ∏è üë©üèª üì≤ AI y 2048. Parte 1: M√©todo Monte Carlo üîü üë®‚Äçüë©‚Äçüëß ü§æ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""2048" en unas pocas semanas marca 5 a√±os, lo que significa que es hora de escribir algo dedicado a este maravilloso juego. 

 El tema de un juego ind...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI y 2048. Parte 1: M√©todo Monte Carlo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/437118/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img width="690" height="313" src="https://habrastorage.org/webt/7u/sw/lm/7uswlmwcbpmdfhrcmk0-qgp38iu.png"></a> <br><br>  "2048" en unas pocas semanas marca 5 a√±os, lo que significa que es hora de escribir algo dedicado a este maravilloso juego. <br><br>  El tema de un juego independiente de inteligencia artificial en un rompecabezas es especialmente informativo.  Hay una variedad de formas de implementarlo y hoy analizaremos una relativamente f√°cil.  A saber, le ense√±aremos a la mente de la computadora a recolectar grados de dos usando el m√©todo Monte Carlo. <a name="habracut"></a><br><br><blockquote> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" title="Software EDISON - desarrollo web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="Software EDISON - desarrollo web"></a> <br clear="right">  Este art√≠culo fue escrito con el apoyo de EDISON Software, una compa√±√≠a que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desarrolla aplicaciones m√≥viles</a> y proporciona <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servicios de prueba de software</a> . </blockquote><br>  La inspiraci√≥n para este trabajo fue una discusi√≥n sobre stackoverflow, donde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">los tipos inteligentes sugirieron formas efectivas de un juego de computadora</a> .  Aparentemente, la mejor manera es el m√©todo minimax con recorte alfa-beta y en un par de d√≠as la pr√≥xima publicaci√≥n se dedicar√° a ello. <br><br>  M√©todo de casino sugerido por el usuario de stackoverflow <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img width="14" height="14" src="https://habrastorage.org/webt/eo/fj/at/eofjat4aio6bqe8i7xfdcg1iswo.png"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ronenz</a> como parte de la discusi√≥n anterior.  La siguiente secci√≥n completa es una traducci√≥n de su publicaci√≥n. <br><br><h1>  M√©todo Monte Carlo </h1><br>  Me interes√≥ la idea de IA para este juego, en el que <b>no hay inteligencia codificada</b> (es decir, no hay heur√≠stica, puntuaci√≥n, etc.).  La IA deber√≠a "conocer" solo las reglas del juego y "entender" el juego.  Esto lo distingue de la mayor√≠a de la IA (como en este hilo), porque el juego es, de hecho, la fuerza bruta controlada por la funci√≥n de puntuaci√≥n, lo que refleja la comprensi√≥n humana del juego. <br><br><h2>  Algoritmo AI </h2><br>  Encontr√© un algoritmo de juego simple pero sorprendentemente bueno: para determinar el pr√≥ximo movimiento para un estado dado del campo, la IA juega el juego en RAM, haciendo <b>movimientos aleatorios</b> hasta que el juego termina en derrota.  Esto se hace varias veces, y se rastrea el puntaje final.  Luego, el puntaje final promedio se calcula teniendo en cuenta el curso inicial.  El movimiento inicial que mostr√≥ el resultado promedio m√°s alto se selecciona como el movimiento ya elegido. <br><br>  Con 100 carreras por cada turno inicial, la IA llega a la casilla 2048 en el 80% de los casos y la ficha 4096 en el 50% de los casos.  Cuando se usan 10,000 corridas, se obtienen 2048 en el 100% de los casos, 70% para 4096 y aproximadamente 1% para 8192. <br><img align="right" width="352" height="524" src="https://habrastorage.org/webt/81/bo/mg/81bomgvnk-q3jy4jae0ux6ljutk.png"><br clear="left">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ver en acci√≥n</a> <br><br>  El mejor resultado logrado se muestra en la captura de pantalla: <br><br>  Un hecho interesante para este algoritmo es que, aunque se espera que los juegos con movimientos ejecutados aleatoriamente sean bastante malos, sin embargo, elegir el mejor movimiento (o menos malo, si lo desea) conduce a una jugabilidad muy buena: un juego t√≠pico de IA de Monte Carlo puede anotar 70,000 puntos por 3000 movimientos, pero los juegos con un juego arbitrario en la memoria desde cualquier posici√≥n dan un promedio de 340 puntos adicionales por aproximadamente 40 movimientos adicionales antes de perder.  (Puede verificar esto usted mismo iniciando la IA y abriendo la consola de depuraci√≥n). <br><br>  Este gr√°fico ilustra este concepto: la l√≠nea azul muestra el puntaje del juego despu√©s de cada movimiento.  La l√≠nea roja muestra el <b>mejor</b> resultado del algoritmo, haciendo movimientos arbitrarios desde esta posici√≥n hasta el final del juego.  De hecho, los valores rojos "tiran" hacia arriba de los azules, ya que son las mejores oraciones del algoritmo.  Curiosamente, la l√≠nea roja est√° ligeramente por encima de la l√≠nea azul en cada punto, pero la l√≠nea azul reduce la brecha cada vez m√°s. <br><br><div style="text-align:center;"><img width="666" height="425" src="https://habrastorage.org/webt/ws/u5/j4/wsu5j4-k1wxxdzuk9ambg9amtv0.png"></div><br>  Me resulta bastante sorprendente que el algoritmo no anticipe necesariamente una buena jugabilidad y, sin embargo, elija los movimientos que lo producen (un buen proceso). <br><br>  M√°s tarde descubr√≠ que este m√©todo se puede clasificar como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un algoritmo de b√∫squeda de √°rbol de Monte Carlo</a> . <br><br><h2>  Implementaci√≥n y enlaces </h2><br>  Primero, cre√© una versi√≥n de JavaScript que se puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ver en acci√≥n aqu√≠</a> .  Esta versi√≥n puede ejecutar 100 ejecuciones en un tiempo razonable.  Abre la consola para m√°s informaci√≥n.  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fuente</a> ) <br><br>  M√°s tarde, para jugar, utilic√© la infraestructura altamente optimizada de @nneonneo e implement√© mi versi√≥n en C ++.  Esta versi√≥n permite hasta 100,000 carreras por turno e incluso 1,000,000 si est√° listo para esperar.  Instrucciones de montaje incluidas.  Todo funciona en la consola, y tambi√©n tiene un control remoto para la reproducci√≥n en la versi√≥n web.  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fuente</a> ) <br><br><h2>  Resultados </h2><br>  Sorprendentemente, un aumento en el n√∫mero de carreras no mejora fundamentalmente la jugabilidad.  Parece que esta estrategia tiene un l√≠mite de 80,000 puntos con un mosaico de 4096 y todos los resultados m√°s peque√±os est√°n muy cerca de alcanzar el mosaico 8192. Un aumento en el n√∫mero de carreras de 100 a 100,000 aumenta las posibilidades de alcanzar este l√≠mite (del 5% al ‚Äã‚Äã40%), pero no lo supera <br><br>  Realizar 10,000 carreras con un aumento temporal de hasta 1,000,000 cerca de las posiciones cr√≠ticas hizo posible superar esta barrera en menos del 1% de los casos con el n√∫mero m√°ximo de puntos anotados 129892 y fichas 8192. <br><br><h2>  Mejoras y optimizaciones </h2><br>  Despu√©s de implementar este algoritmo, prob√© muchas mejoras, incluido el uso de calificaciones m√≠nimas o m√°ximas o una combinaci√≥n de valores m√≠nimos, m√°ximos y promedio.  Tambi√©n trat√© de usar la profundidad: en lugar de intentar completar K carreras por turno, prob√© K movimientos por lista de movimientos de una longitud determinada (por ejemplo, "arriba, arriba, izquierda") y eleg√≠ el primer movimiento de la lista de movimientos con la mejor victoria. <br><br>  M√°s tarde, implement√© un √°rbol de puntuaci√≥n que ten√≠a en cuenta la probabilidad condicional de que √©l pudiera completar un movimiento despu√©s de una lista dada de movimientos. <br><br>  Sin embargo, ninguna de estas ideas mostr√≥ una ventaja real sobre una primera idea simple.  Dej√© el c√≥digo comentado para estas ideas en la fuente de C ++. <br><br>  Agregu√© el mecanismo de B√∫squeda profunda, que aument√≥ temporalmente el n√∫mero de ejecuciones a 1,000,000 cuando cualquiera de las ejecuciones logr√≥ accidentalmente alcanzar el siguiente mosaico m√°s alto.  Esto condujo a una mejora en el rendimiento del tiempo. <br><br>  Me interesar√≠a saber si alguien tiene alguna otra idea de mejora que respalde la independencia de AI del √°rea tem√°tica. <br><br><h1>  Opciones y clones 2048 </h1><br>  Por diversi√≥n, tambi√©n implement√© la IA como un marcador, conect√°ndolo a los controles del juego.  Esto te permite trabajar tanto con el juego original como con muchas de sus variaciones. <br><br>  Esto es posible debido a la naturaleza independiente del dominio de AI.  Algunas de las opciones son bastante originales, como un clon hexagonal. <br><br><div class="scrollable-table"><table><tbody><tr><td>  La traducci√≥n se completa sobre esto, pero no solo por el bien de esta publicaci√≥n se ha iniciado.  Antes de los c√≥licos, yo mismo quer√≠a probar varias ideas para IA en 2048. Para este prop√≥sito, implement√© el juego en Excel escribiendo una aplicaci√≥n con macros.  La implementaci√≥n en VBA por s√≠ sola no es una haza√±a: al buscar en Google, puede descubrir r√°pidamente con una docena de manualidades de Excel diferentes.  Pero no solo para cocinar 2048 en forma de hojas de c√°lculo, sino tambi√©n para realizar un juego independiente de la computadora, todav√≠a no me he encontrado con esto. <br></td></tr></tbody></table></div><br><h1>  2048.xlsm </h1><br>  La propia aplicaci√≥n Excel se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">puede descargar de Google</a> . <br><br>  Se puede hacer clic en la imagen; se abrir√° una imagen a tama√±o completo. <br><br> <a href=""><img width="690" height="313" src="https://habrastorage.org/webt/7u/sw/lm/7uswlmwcbpmdfhrcmk0-qgp38iu.png"></a> <br><br>  Brevemente sobre la interfaz y la funcionalidad de la aplicaci√≥n. <br><br>  Para comenzar a jugar, debes hacer clic en el bot√≥n " <b>Usuario: iniciar juego</b> ".  Cuando presiona este bot√≥n nuevamente, la inscripci√≥n cambia de " <b>Usuario: iniciar el juego</b> " a " <b>Usuario: finalizar el juego</b> " y viceversa, es decir, en cualquier momento puede detener el juego y luego volver a iniciarlo.  Cuando el juego se detiene, puedes cambiar manualmente la alineaci√≥n en el campo, mejorando o empeorando tu posici√≥n para probar o verificar algunas ideas. <br><br>  Durante el juego en s√≠, puedes hacer movimientos de dos maneras: <br><br><ul><li>  <b>Teclado:</b> simplemente presionando las teclas "arriba", "abajo", "izquierda", "derecha". </li><li>  <b>Con el mouse:</b> haciendo clic en las celdas con flechas grandes que indican la direcci√≥n deseada. </li></ul><br>  El bot√≥n " <b>Nuevo campo</b> " borra el campo de juego y coloca aleatoriamente el "dos" y el "cuatro" en √©l. <br><br>  Lo m√°s interesante es que se implement√≥ el m√©todo Monte Carlo, exactamente en la forma en que fue propuesto por el tipo con stackoverflow.  En cada posici√≥n, la computadora en la memoria pasa por ramas aleatorias para cada primer movimiento ("arriba", "abajo", "izquierda", "derecha") hasta que conduce a una p√©rdida.  Estad√≠sticamente, la direcci√≥n m√°s favorable se resalta en rojo en una tabla especial a continuaci√≥n.  Puedes usarlo como una pista si ves que tu propio juego est√° parado y necesitas salvarte de alguna manera.  ;) <br><br>  Encima de la tabla hay casillas de verificaci√≥n con opciones de an√°lisis.  Por el momento, solo se ha decidido Monte Carlo, el resto se agregar√° en los pr√≥ximos d√≠as (como resultado, habr√° m√°s harastas con la actualizaci√≥n de la aplicaci√≥n de Excel y las explicaciones de la teor√≠a). <br><br>  Tambi√©n hay una <b>IA:</b> bot√≥n de <b>juego</b> .  Al hacer clic en √©l, el asistente de computadora har√° un movimiento de acuerdo con el m√©todo Monte Carlo o alg√∫n otro que est√© seleccionado en el grupo de conmutadores (minimax y red neuronal funcionar√°n en esta lista un poco m√°s adelante). <br><br><h3>  Todos los art√≠culos de la serie AI y 2048. </h3><br><ul><li>  <strong>Montecarlo</strong> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Recorte de minimax + alfa beta</a> </li><li>  Esperando el m√°ximo </li><li>  Red neuronal </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437118/">https://habr.com/ru/post/437118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437108/index.html">La mayor√≠a de los textos en Internet est√°n escritos por locos.</a></li>
<li><a href="../437110/index.html">Los nanomateriales est√°n cambiando nuestro mundo y todav√≠a no tenemos procedimientos para verificar su seguridad.</a></li>
<li><a href="../437112/index.html">DMA: mitos y realidad</a></li>
<li><a href="../437114/index.html">Seminario web abierto: "SSH / NC / Socat: consejos y trucos"</a></li>
<li><a href="../437116/index.html">AWS, MongoDB y las realidades econ√≥micas del c√≥digo abierto</a></li>
<li><a href="../437120/index.html">Silla de oficina coreana: sensaciones de milagro Harachair</a></li>
<li><a href="../437122/index.html">Nombrando cosas</a></li>
<li><a href="../437124/index.html">Una manera f√°cil de agregar varios idiomas a su sitio</a></li>
<li><a href="../437126/index.html">Art√≠culos con DevFest SPB 2018</a></li>
<li><a href="../437128/index.html">QtCreator y su uso como IDE para Rust</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>