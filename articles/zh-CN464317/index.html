<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏿 ♣️ 🐱 Konbanwa项目 ❄️ 🐴 🔉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KONBANWA（“晚上好”-Goodんはは）。 

 这是安装在窗户顶部的LED灯条，用于延长白天的时间。 由于日光和其他光源不会改变其位置，因此可以在室内获得舒适的照明。 此外，实际上，路灯窗帘无法让您看到房间内正在发生的事情。 

 konbanwa项目通过传输设备的纬度和经度来考虑天文暮光。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Konbanwa项目</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464317/"> KONBANWA（“晚上好”-Goodんはは）。 <br><br> 这是安装在窗户顶部的LED灯条，用于延长白天的时间。 由于日光和其他光源不会改变其位置，因此可以在室内获得舒适的照明。 此外，实际上，路灯窗帘无法让您看到房间内正在发生的事情。 <br><a name="habracut"></a><br>  konbanwa项目通过传输设备的纬度和经度来考虑天文暮光。 通过将纬度向南或向北移动，您可以控制黎明/日落的时间和持续时间。 <br><br> 对于每个天文暮光，您都可以设置照明的颜色和亮度。 <br> 从日落到民用日落，是工作最辉煌的时期。 这时，该人通常不睡觉。 您可以选择接近夕阳的颜色（红色阴影），并且亮度尽可能舒适。 当街道上有雪泥，雨水和墙壁上有夕阳的光线时，这是非常不寻常的。 在晚上，夜间模式被激活。 此时，亮度是最小的，最好选择蓝色或绿色的阴影。 黎明时，橙黄色的色调亮度最小。 下午-下车。 <br><br> 所有这些都在自动模式下起作用，只需调整一次亮度和颜色即可。 唯一的条件是wifi正常工作。 作为“大脑”应用的节点红色，可以在本地网络内部的Raspberry PI或外部服务器上安装。  mqtt代理mosquitto用于数据传输。 无法自动检测到地理位置。 此功能已分配给手动注册的红色节点服务器。 <br><br><div class="spoiler">  <b class="spoiler_title">节点红</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mn/wc/el/mnwcel-_401fam6lnwk4oto4lny.png" alt="图片"><br></div></div><br> 范围：从北部地区（冬季较早时开始变黑）到南部地区（几乎在日落后立即开始变黑）。 主要应用是窗口安装。 也可以将其安装在前门上，以自动照亮入口，以免在黑暗中寻找钥匙孔。 <br><br> 一段历史： <br> 在2018年，第一个原型组装完成，结果证明是可行的。 它是根据esp01和地址LED ws2812b组装的。 防护等级IP30。 灯光及时打开，包含物不断需要校正。 该设备已安装在托儿所中，仍用作夜灯。 <br><br>  esp01的第二个原型是为前门组装的，但是防护等级IP30不允许在街上工作，并且在冬天之后LED不再可用。 <br><br> 在2019年初，进行了重新思考，该项目得到了konbanwa 2.0的延续，该版本考虑了天文学的黄昏。 同样，黎明的亮度几乎降低到夜光模式。 <br><br>  Konbanwa 3.0安装在esp12e上，带有可选的DHT22温湿度传感器和每米60个LED的LED灯条。 正是在这个时候，磁带变得非常依赖于制造商。 并且它们具有不同的颜色再现。 <br><br>  Konbanwa 4.0在2019年仲夏继续进行。  DHT22已被BME280温度，湿度和大气压传感器取代。 连接2个LED灯条通道。 此外，还连接了两个具有单键开关控制且无闭锁的光学隔离继电器。 重写了固件，将印刷电路板离婚，并在JLCPCB上订购了电路板的生产。  esp12e模块已被NodeMCU v3取代。 <br><br><div class="spoiler">  <b class="spoiler_title">电路与PCB</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jt/ff/zd/jtffzdne1hyxaywqdbjppatsen4.png" alt="图片"><br><img src="https://habrastorage.org/webt/vv/jt/71/vvjt71rpxuxixp0_wbpcr-epj9o.png" alt="图片"><br></div></div><br> 将来，所有这些更改将使您可以轻松地将设备安装在吊顶或吊顶下方的天花板上或吊灯中。 在枝形吊灯的内部安装了一个5伏电源，从开关的一个通道不断向其供电。 使用单键开关，可以控制枝形吊灯的两个通道。  LED灯条通过六根细线（电缆）连接，可以轻松地将其粘贴到天花板上或从天花板上卸下。 每个通道三个导线的回路。  +5伏，-5伏和数据。 安装在窗户上的LED灯条。 通道数最多两个。 断路器的逻辑很简单。 单击-第一通道，单击-第二通道，单击-两个通道。 如果两次咔嗒之间已经过了10秒，则无论选择哪种操作模式，内部继电器都将断电。 点击之间的间隔至少应为500毫秒，且不得超过一秒。 所有工作均由mqtt经纪人控制。 数据，温度，湿度，大气压，这些颜色会在LED上点亮并通过哪个通道打开枝形吊灯。 所有这些都可以远程控制或读取。 通过将数据发送到代理，Bme280将进一步允许您控制系统的运行状况。 <br><br><div class="spoiler">  <b class="spoiler_title">照片背光</b> <div class="spoiler_text"> 天 <br><br><img src="https://habrastorage.org/webt/7x/tl/mo/7xtlmothd7yhawwj8rr16lyjidi.jpeg" alt="图片"><br><br> 落日 <br><br><img src="https://habrastorage.org/webt/ax/si/bc/axsibclpfsvbhtjqcqf-bmxcqr0.jpeg" alt="图片"><br><br> 民间暮光之城 <br><br><img src="https://habrastorage.org/webt/i6/am/td/i6amtdwfgkecgr_lljonwvighs8.jpeg" alt="图片"><br><br> 航海的暮光之城 <br><br><img src="https://habrastorage.org/webt/hi/id/r_/hiidr_ujug6e6t2e7hfzlsodgio.jpeg" alt="图片"><br><br></div></div><br> 源代码中没有有趣的东西。  mqtt主题中的标准订阅和出版物。 <br> 该项目基于家庭，因此我对它产生兴趣。 <br><br><div class="spoiler">  <b class="spoiler_title">资料来源。</b>  <b class="spoiler_title">不建议查看。</b>  <b class="spoiler_title">照顾好你的神经。</b> <div class="spoiler_text"> 可以在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github</a>上查看vscode（PlatfornIO）的源代码的早期版本。 <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">easyeda</a>上的第一个设备图 <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN464317/">https://habr.com/ru/post/zh-CN464317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN464303/index.html">关系DBMS中的时间序列数据。 PostgreSQL的TimescaleDB和PipelineDB扩展</a></li>
<li><a href="../zh-CN464305/index.html">小，是的。 爆竹微虚拟拆箱</a></li>
<li><a href="../zh-CN464307/index.html">在Scala上进行微服务的集成测试</a></li>
<li><a href="../zh-CN464309/index.html">DIY通话按钮。 Raspberry Pi，MajorDoMo，Freeswitch和Linphonec</a></li>
<li><a href="../zh-CN464315/index.html">有土壤的薄膜。 Yandex研究和按含义搜索的简要历史</a></li>
<li><a href="../zh-CN464325/index.html">Scrumban如何结合最好的看板和Scrum方法论</a></li>
<li><a href="../zh-CN464327/index.html">比较不同工具箱GUI的内存使用情况</a></li>
<li><a href="../zh-CN464331/index.html">无用的好处：腰果合成紫外线吸收剂</a></li>
<li><a href="../zh-CN464333/index.html">无需钳子和胶带即可跟踪用户的生命周期</a></li>
<li><a href="../zh-CN464335/index.html">DBMS中的单元测试-我们如何在Sportmaster中进行测试，第一部分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>