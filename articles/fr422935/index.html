<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéá üé© üì∏ 2GIS est √† port√©e de main. Comment nous avons ajout√© une carte √† l'Apple Watch üï£ ‚Ü©Ô∏è ü§ê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'Apple Watch a rapidement gagn√© en popularit√© et est devenue la montre la plus populaire au monde, devant Rolex et d'autres fabricants. L'id√©e de cr√©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>2GIS est √† port√©e de main. Comment nous avons ajout√© une carte √† l'Apple Watch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/422935/"><p><img src="https://habrastorage.org/webt/ut/d9/tb/utd9tb6vvq-zreaxgxkakez4gce.jpeg"></p><br><p>  L'Apple Watch a rapidement gagn√© en popularit√© et est devenue la montre la plus populaire au monde, devant Rolex et d'autres fabricants.  L'id√©e de cr√©er une application pour les montres est pr√©sente au bureau 2GIS depuis 2015. </p><br><p>  Avant nous, seule Apple elle-m√™me a publi√© une application √† part enti√®re avec une carte sur la montre.  L'application Yandex.Map n'affiche que les widgets trafic et le temps de trajet domicile-travail.  Yandex.Navigator, Google Maps, Waze et Maps.Me ne sont g√©n√©ralement pas disponibles sur la montre. </p><br><p>  En fait, en raison des nombreuses limites du syst√®me et de la complexit√© du d√©veloppement, les entreprises ne font pas du tout d'applications de surveillance ou les rendent tr√®s simples.  Vous ne pouvez pas simplement prendre et dessiner une carte sur la montre.  Mais nous pourrions. </p><br><p>  Jetez un ≈ìil sous le chat pour d√©couvrir comment le projet pour animaux de compagnie est devenu un produit complet. </p><br><p>  <strong>UPD.:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Https://github.com/teanet/DemoWatch</a> </p><a name="habracut"></a><br><h3 id="my-reshili-delat-kartu-chto-bylo-na-starte">  Nous avons d√©cid√© de faire une carte.  C'√©tait quoi au d√©part? </h3><br><ol><li>  Exp√©rience de d√©veloppement sous surveillance - 2 jours de travail sur un projet de test. </li><li>  Exp√©rience avec SpriteKit - 0 jours. </li><li>  Exp√©rience d'√©criture MapKit - 0 jours. </li><li>  Doute que quelque chose puisse mal tourner - ‚àû. </li></ol><br><h3 id="iteraciya-1--polet-mysli">  It√©ration 1 - Vol de pens√©e </h3><br><p>  Nous sommes des gens s√©rieux, donc pour commencer nous avons d√©cid√© d'√©laborer un plan de travail.  Nous avons pris en compte que nous travaillons dans un sprint bien planifi√©, nous avons cinq points d'histoire pour les ¬´t√¢ches de petits produits¬ª et une ignorance compl√®te de l'endroit o√π commencer. </p><br><p>  Une carte est une tr√®s grande image.  Nous pouvons afficher des images sur l'horloge, ce qui signifie que nous pouvons g√©rer l'affichage de la carte. </p><br><p>  Nous avons un service qui peut couper une carte en morceaux: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/or/kl/cuorkl7imghdolhexs7yb2qskr4.png"></div><br><p>  Si vous coupez une telle image et ins√©rez WKImage, nous obtenons le prototype le plus simple pour cinq cents. </p><br><p>  Et si vous ajoutez PanGesture √† cette image et installez une nouvelle image √† chaque coup, nous obtenons une simulation d'interaction avec la carte. </p><br><p>  / R√©jouis-toi / √áa a l'air horrible, √ßa a l'air √† peu pr√®s pareil, √ßa marche encore pire, mais en fait la t√¢che est termin√©e. </p><br><h3 id="iteraciya-2--minimalnyy-prototip">  It√©ration 2 - prototype minimum </h3><br><p> Le t√©l√©chargement d'images en continu co√ªte cher en quelques heures pour une batterie.  Oui, et le temps de d√©marrage lui-m√™me en souffre.  Nous voulions obtenir quelque chose de plus complet et r√©actif.  Du coin de l'oreille, nous avons entendu que la montre prend en charge SpriteKit - le seul cadre pour WatchOS, avec la possibilit√© d'utiliser des coordonn√©es, de zoomer et de personnaliser toute cette splendeur par vous-m√™me. </p><br><p>  Apr√®s quelques heures de d√©veloppement pilot√© par StackOverflow (SDD), nous obtenons la deuxi√®me it√©ration: <br>  Un SKSpriteNode, un WKPanGestureRecognizer. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/bi/ub/drbiubucg4xxcr7jbyccmmth71m.gif"></div><br><p>  / R√©jouissez-vous / Oui, c'est MapKit pour 6 kopecks, pleinement op√©rationnel.  Lib√©ration urgente! </p><br><h3 id="iteraciya-3-dobavlyaem-tayly-i-zum">  It√©ration 3 - Ajout de vignettes et zoom </h3><br><p>  Lorsque les √©motions √©taient endormies, ils se sont demand√© o√π aller ensuite. </p><br><p>  Compris que la chose la plus importante: </p><br><ul><li>  Remplacez l'image par des tuiles. </li><li>  Attachez 4 tuiles au bundle d'application et connectez-les ensemble. </li><li>  Fournissez des images zoom√©es. <br>  Laissons tomber 4 tuiles dans le bundle d'application, puis mettons-les sur une certaine: </li></ul><br><pre><code class="hljs objectivec">let rootNode = <span class="hljs-built_in"><span class="hljs-built_in">SKSpriteNode</span></span>()</code> </pre> <br><p>  √† l'aide de math√©matiques simples, nous les relierons. <br>  Nous zoomons sur WKCrownDelegate: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crownDidRotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> crownSequencer: WKCrownSequencer?, rotationalDelta: Double )</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.scale += <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(rotationalDelta * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.rootNode.setScale(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.scale) }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xf/zg/ws/xfzgwsd4wpsyappc4ehbejs8p2u.gif"></div><br><p>  / R√©jouis-toi / Eh bien, c'est s√ªr!  Quelques corrections et au ma√Ætre. </p><br><h3 id="iteraciya-4--optimiziruem-vzaimodeystvie-s-kartoy">  It√©ration 4 - optimiser l'interaction avec la carte </h3><br><p>  Le lendemain, il s'est av√©r√© que pour SpriteKit anchorPoint n'affecte pas le zoom.  Le zoom ignore compl√®tement anchorPoint et se produit par rapport au centre du rootNode.  Il s'av√®re que pour chaque √©tape de zoom, nous devons ajuster la position. </p><br><p>  Il serait √©galement int√©ressant de charger des tuiles √† partir du serveur, plut√¥t que de stocker le monde entier dans la m√©moire de la montre. <br>  N'oubliez pas que les tuiles doivent √™tre li√©es aux coordonn√©es afin qu'elles ne se trouvent pas au centre de SKScene, mais aux endroits appropri√©s sur la carte. </p><br><p>  Les tuiles ressemblent √† ceci: </p><br><p><img src="https://habrastorage.org/webt/zo/-s/7d/zo-s7dhq--jmie8vigvbdqyp0g0.jpeg"></p><br><p>  Chaque zoomLevel (ci-apr√®s ¬´z¬ª) a son propre jeu de tuiles.  Pour z = 1, nous avons 4 tuiles qui composent le monde entier. </p><br><p><img src="https://habrastorage.org/webt/oe/jl/6b/oejl6beiczhxnf09cj1oqyxr1-4.png"></p><br><p>  pour z = 2 - pour couvrir le monde entier, vous avez d√©j√† besoin de 16 tuiles, <br>  pour z = 3-64 tuiles. <br>  pour z = 18 ‚âà 68 * 10 ^ 9 tuiles. <br>  Maintenant, ils doivent √™tre plac√©s dans le monde de SpriteKit. </p><br><p>  La taille d'une tuile est de 256 * 256 pt, ce qui signifie <br>  pour z = 1, la taille du "monde" sera de 512 * 512 pt, <br>  pour z = 2, la taille du "monde" sera √©gale √† 1024 * 1024 pt. <br>  Pour faciliter le calcul, placez les tuiles dans le monde comme suit: </p><br><p><img src="https://habrastorage.org/webt/l_/_u/vp/l__uvp1_sli-cirdspcwi_y6zlm.png"></p><br><p>  Encodez la tuile: </p><br><pre> <code class="hljs julia"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> kTileLength: CGFloat = <span class="hljs-number"><span class="hljs-number">256</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> TilePath { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> z: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> }</code> </pre> <br><p>  D√©finissez les coordonn√©es de la tuile dans un tel monde: </p><br><pre> <code class="hljs objectivec">var position: <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span> { let x = <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.x) let y = <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.y) let offset: <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span> = pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.z - <span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>(x: kTileLength * ( -offset + x ), y: kTileLength * ( offset - y - <span class="hljs-number"><span class="hljs-number">1</span></span> )) } var center: <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.position + <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>(x: kTileLength, y: kTileLength) * <span class="hljs-number"><span class="hljs-number">0.5</span></span> }</code> </pre> <br><p>  L'emplacement est pratique, car il vous permet de tout mettre dans les coordonn√©es du monde r√©el: latitude / longitude = 0, qui est juste au centre du "monde". </p><br><p>  La latitude / longitude du monde r√©el est transform√©e en notre monde comme suit: </p><br><pre> <code class="hljs coffeescript">extension CLLocationCoordinate2D { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     ( <span class="hljs-number"><span class="hljs-number">-1</span></span> &lt; TileLocation &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> ) func tileLocation() -&gt; CGPoint { var siny = sin(self.latitude * .pi / <span class="hljs-number"><span class="hljs-number">180</span></span>) siny = min(max(siny, <span class="hljs-number"><span class="hljs-number">-1</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>) let y = CGFloat(log( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + siny )</span></span></span><span class="hljs-function"> / </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - siny )</span></span></span><span class="hljs-function">)) return CGPoint</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( x: kTileLength * ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + CGFloat(self.longitude) / </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">360</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ), y: kTileLength * ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - y / ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * .pi ) ) )</span></span></span><span class="hljs-function"> } //       zoomLevel func location</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z: Int)</span></span></span><span class="hljs-function"> -&gt;</span></span> CGPoint { let tile = self.tileLocation() let zoom: CGFloat = pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, CGFloat(z)) let offset = kTileLength * <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CGPoint( x: (tile.x - offset ) * zoom, y: (-tile.y + offset) * zoom ) } }</code> </pre> <br><p>  Avec le zoom nivellement des probl√®mes ratiss√©s.  J'ai d√ª passer quelques jours de repos pour assembler l'ensemble de l'appareil math√©matique et assurer la parfaite fusion des carreaux.  Autrement dit, la tuile pour z = 1 devrait id√©alement aller dans quatre tuiles pour z = 2 et vice versa, les quatre tuiles pour z = 2 devraient aller dans une tuile pour z = 1. </p><br><p><img src="https://habrastorage.org/webt/j_/62/0r/j_620racsivq_qnnj5euvweexlo.jpeg"></p><br><p>  De plus, il √©tait n√©cessaire de transformer le zoom lin√©aire en un zoom exponentiel, car les zooms varient de 1 &lt;= z &lt;= 18, et les √©chelles de carte comme 2 ^ z. </p><br><p>  Un zoom fluide est fourni en ajustant constamment la position des carreaux.  Il est important que les tuiles soient cousues exactement au milieu: c'est-√†-dire que la tuile de niveau 1 passe en 4 tuiles de niveau 2 avec un zoom de 1,5. </p><br><p>  SpriteKit utilise un flotteur sous le capot.  Pour z = 18, nous obtenons un √©talement des coordonn√©es (-33 554 432/33 554 432), et la pr√©cision de float est de 7 bits.  A la sortie, nous avons une erreur de l'ordre de 30 pt.  Pour √©viter l'apparition de ¬´lacunes¬ª entre les moiti√©s, nous pla√ßons la tuile visible aussi pr√®s que possible du centre de SKScene. </p><br><p>  / R√©jouissez-vous / Apr√®s tous ces gestes, nous avons pr√©par√© un prototype pour le test. </p><br><h3 id="reliz">  Date de sortie </h3><br><p>  √âtant donn√© que l'application n'avait pas vraiment de savoirs traditionnels, nous avons trouv√© quelques volontaires pour effectuer un petit test.  Ils n'ont trouv√© aucun probl√®me particulier et ont d√©cid√© de se mettre sur le c√¥t√©. </p><br><p>  Apr√®s la sortie, il s'est av√©r√© que sur l'horloge de la premi√®re s√©rie le processeur n'a pas le temps de dessiner la premi√®re trame de la carte en 10 secondes et tombe par timeout.  J'ai d'abord d√ª cr√©er une carte compl√®tement vide pour qu'elle tienne en 10 secondes, puis charger progressivement le substrat.  D√©veloppez d'abord tous les niveaux de la carte, puis chargez-y des tuiles. </p><br><p>  Il a fallu beaucoup de temps pour d√©boguer le r√©seau, configurer correctement le cache et une petite empreinte m√©moire afin que WatchOS n'essaye pas de tuer notre application aussi longtemps que possible. </p><br><p>  Apr√®s avoir profil√© l'application, nous avons d√©couvert qu'au lieu des tuiles habituelles, vous pouvez utiliser des tuiles Retina, presque sans nuire au temps de chargement et √† la consommation de m√©moire, et dans la nouvelle version, elles y √©taient d√©j√† pass√©es. </p><br><h3 id="itogi-i-plany-na-buduschee">  R√©sultats et plans pour l'avenir </h3><br><p>  Nous pouvons d√©j√† afficher sur la carte un itin√©raire avec des man≈ìuvres construites dans l'application principale.  La fonctionnalit√© sera disponible dans l'une des prochaines versions. </p><br><p>  Le projet, qui semblait initialement impossible, s'est av√©r√© extr√™mement utile pour moi personnellement.  J'utilise souvent l'application pour comprendre s'il est temps de descendre au bon arr√™t.  Je pense qu'en hiver ce sera encore plus utile. </p><br><p>  Dans le m√™me temps, il √©tait une fois de plus convaincu que la complexit√© du projet, la confiance des autres dans la r√©ussite de la t√¢che ou la disponibilit√© de temps libre au travail n'√©taient pas si importantes.  L'essentiel est le d√©sir de faire un projet et un mouvement ennuyeux et progressif vers le but.  En cons√©quence, nous avons un MapKit √† part enti√®re, qui est presque illimit√© et fonctionne avec 3 WatchOS.  Il peut √™tre modifi√© √† votre guise sans attendre qu'Apple d√©ploie l'API appropri√©e pour le d√©veloppement. </p><br><p>  <strong>PS</strong> Pour ceux qui sont int√©ress√©s, je peux pr√©senter un projet fini.  Le niveau de code y est loin d'√™tre produit.  Mais, selon le principe militaire, peu importe comment cela fonctionne, l'essentiel est que cela fonctionne! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422935/">https://habr.com/ru/post/fr422935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422921/index.html">De Kotlin √† Goblin: comment s'est pass√© TechTrain</a></li>
<li><a href="../fr422923/index.html">Comment marquer la journ√©e du programmeur sans d√©corer le ficus de bureau avec des z√©ros et des uns</a></li>
<li><a href="../fr422925/index.html">Entretien avec le pr√©sident de la conf√©rence RubyRussia Godfrey Chan</a></li>
<li><a href="../fr422929/index.html">Yandex Mail [√©tait] indisponible pendant environ une heure √† 12 h 16, heure de Moscou</a></li>
<li><a href="../fr422931/index.html">Nous regardons les outils de surveillance des applications distribu√©es</a></li>
<li><a href="../fr422937/index.html">Mise en cache disque des arbres de calcul paresseux</a></li>
<li><a href="../fr422939/index.html">Le livre "Kali Linux des d√©veloppeurs"</a></li>
<li><a href="../fr422941/index.html">¬´Trois dans un bateau, la pauvret√© et les chiens¬ª, ou comment l'antiplagiat cherche la paraphrase</a></li>
<li><a href="../fr422943/index.html">Un peu sur l'exploitation mini√®re industrielle</a></li>
<li><a href="../fr422945/index.html">27 septembre, Moscou - Mitap QIWI SERVER PARTY 3.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>