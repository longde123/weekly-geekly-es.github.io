<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÖ üöø üçç ICD Mobile Banking: historique du d√©veloppement üì¶ üîΩ üèÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oleg Ivanov, chef du Centre de comp√©tence des canaux de service √† distance, D√©partement du d√©veloppement informatique, Direction des technologies de l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ICD Mobile Banking: historique du d√©veloppement</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/467057/">  <b>Oleg Ivanov, chef du Centre de comp√©tence des canaux de service √† distance, D√©partement du d√©veloppement informatique, Direction des technologies de l'information, Banque de cr√©dit de Moscou (ICD)</b> <br><br>  Pour nous, le d√©veloppement d'une application mobile a commenc√© √† partir de z√©ro, donc dans cet article, nous partirons du tout d√©but: en d√©terminant ce qu'elle est et quelles fonctions devraient y figurer.  Et ensuite, nous irons jusqu'au bout - de l‚Äôachat de nouveaux gadgets pour tester l‚Äôapplication au lancement.  Nous raconterons l'histoire du d√©veloppement de notre application avec des indentations technologiques.  D√©crivons les probl√®mes que nous avons rencontr√©s.  Malheureusement, nous ne pourrons pas couvrir toutes les approches, les principes et les solutions technologiques qui ont √©t√© utilis√©s dans le d√©veloppement de cet article de revue, mais nous nous attarderons sur les points les plus int√©ressants. <br><a name="habracut"></a><br>  De plus, l'accent sera mis sur le d√©veloppement pour iOS.  Avant de commencer, d√©cidons de ce qu'est Mobile Bank. <br><br>  <b>Une banque mobile</b> est la gestion de comptes bancaires √† l'aide de l'application bancaire sur un smartphone (iPhone, etc.), une tablette (iPad, Samsung Galaxy Tab, etc.).  Pour les op√©rations bancaires, une confirmation en deux √©tapes est requise en utilisant des codes √† usage unique via des messages SMS. <br><br>  Les principales op√©rations bancaires de la Mobile Bank: <br><br><ul><li>  utilisation de produits bancaires (comptes, cartes, d√©p√¥ts, pr√™ts, packages de services, etc.) </li><li>  afficher le solde du compte </li><li>  d√©claration </li><li>  paiement des factures pour les services mobiles </li><li>  paiement des services de logement </li><li>  transf√©rer des fonds de carte en carte </li><li>  paiements r√©guliers </li><li>  remboursement de pr√™ts </li><li>  transfert de fonds √† d√©poser </li><li>  serrure de carte de paiement </li><li>  et d'autres. </li></ul><br>  Les applications bancaires mobiles sont des applications bancaires sur Internet adapt√©es aux petits √©crans de smartphones et aux syst√®mes d'exploitation (iOS d'Apple, Android de Google) install√©s sur les appareils mobiles.  Il convient de noter que la gamme de mod√®les d'appareils ex√©cutant le syst√®me d'exploitation Android est tr√®s large: Samsung, LG, Xiaomi, Huawei, etc., ce qui complique le d√©veloppement et le support de l'application pour Android. <br><br><h3>  Source - MKBMobile 1.0 </h3><br>  Le projet d'application Mobile Bank a √©t√© transf√©r√© √† notre √©quipe par une soci√©t√© tierce, il a √©t√© √©crit en Objectif C. <br><br>  Voici √† quoi ressemblait le projet aux yeux de l'utilisateur: <br><br><img src="https://habrastorage.org/webt/es/zm/r2/eszmr2iam-erg1otkrbbh_kekpw.jpeg"><br><br><img src="https://habrastorage.org/webt/cm/eq/o7/cmeqo7ykwnjydolf-q_pxtt0n3y.jpeg"><br><br>  Ce projet est devenu une startup et un test de nos capacit√©s.  Notre √©quipe a eu peu d'exp√©riences de d√©veloppement pour la plate-forme mobile iOS, mais nous avons audacieusement repris le projet. <br><br>  Par o√π commencer?  Lorsque nous pensons √† d√©velopper pour iOS, la premi√®re chose dont nous avons besoin: <br><br><h4>  1. Besoin d'iMac </h4><br>  Apple est c√©l√®bre pour le prix √©lev√© de ses produits.  Mais √©conomiser ne vaut pas la peine - c'est la vitesse de votre d√©veloppement! <br><br>  Une configuration approximative et optimale qui nous convient: <br><br><ul><li>  Processeur Intel Core i5 de septi√®me g√©n√©ration avec une vitesse d'horloge de 3,8 GHz (Turbo Boost jusqu'√† 4,2 GHz) </li><li>  32 Go DDR4 2400 MHz </li><li>  2 To Fusion Drive </li><li>  GPU Radeon Pro 580 avec 8 Go de VRAM </li></ul><br>  Le co√ªt approximatif d'une telle machine est de 190 000 roubles. <br><br>  Il y a une opinion - pour les programmeurs ont besoin d'iMac Pro.  C'est ainsi :) Mais le prix de ces piq√ªres, et si votre entreprise est pr√™te √† les acheter, cela augmentera la vitesse de votre d√©veloppement, et bien s√ªr, augmentera le niveau esth√©tique de votre bureau. <br><br><h4>  2. Besoin d'appareils iOS </h4><br>  "Combien et lequel?"  - la premi√®re question se pose.  Tout d√©pend de votre application. <br>  Si votre application ne prend en charge que l'iPhone, au moins 2 tailles diff√©rentes sont petites (par exemple iPhone SE) et grandes (par exemple iPhone 8 Plus). <br><br>  Si votre application prend √©galement en charge l'iPad, vous avez besoin d'un iPad. <br><br>  Vient ensuite le syst√®me d'exploitation - sa version.  Si votre application prend en charge la version minimale, par exemple, √† partir d'iOS 8.0, vous devez stocker sur l'appareil avec chaque num√©ro de s√©rie iOS et n'oubliez pas de ¬´conserver¬ª (ne pas mettre √† jour) cette version sur l'appareil et de surveiller l'apparence des nouvelles versions d'iOS, sans oublier de s√©lectionner un ensemble pour cela appareils. <br><br>  Bien s√ªr, pour la premi√®re fois, vous pouvez vous en tirer avec les simulateurs Xcode, mais les appareils physiques imposent leurs propres collisions qui n'apparaissent pas sur les simulateurs. <br><br>  Si vous ne souhaitez pas avoir votre propre batterie de p√©riph√©riques, vous pouvez vous adresser aux parties des entreprises offrant ce service: AWS Device Farm, Xamarin Test Cloud, etc. <br><br>  Comme d√©j√† mentionn√©, notre application est prise en charge √† la fois pour iPhone et iPad.  Au moment d'√©crire ces lignes, notre (()) ferme comprend environ 30 appareils de diff√©rents types et versions du syst√®me d'exploitation. <br><br><h4>  3. Vous devez d√©cider de l'approche de d√©veloppement pour iOS (native ou alternative). </h4><br>  Nous avons essay√© les options de d√©veloppement alternatives suivantes pour iOS: <br><br>  <b>Phonegap / Cordova</b> <br><br>  PhoneGap a √©t√© cr√©√© √† l'origine par Nitobi.  En 2011, Adobe a acquis Nitobi et la marque PhoneGap.  Adobe transf√®re ensuite une version de PhoneGap, appel√©e Cordova, √† la Fondation Apache, laissant la marque PhoneGap et le produit lui-m√™me.  En cons√©quence, Cordova peut √™tre consid√©r√© comme un moteur sous le capot de PhoneGap (ainsi que certains autres cadres hybrides).  PhoneGap, √† son tour, ajoute ses propres fonctionnalit√©s suppl√©mentaires aux capacit√©s de Cordova. <br><br>  PhoneGap est √† bien des √©gards tr√®s similaire √† Ionic.  Il donne √©galement aux d√©veloppeurs la possibilit√© de cr√©er des applications multiplateformes √† l'aide des technologies Web, et est √©galement construit sur la base d'Apache Codova.  Cependant, PhoneGap n'est li√© √† aucun framework Javascript sp√©cifique, donc les d√©veloppeurs ont plus de choix sur quoi et comment ils vont cr√©er leurs applications. <br><br>  H√©las, PhoneGap utilise WebView (qui est assez lent sur iOS), donc les choses ne sont pas toujours g√©niales avec la vitesse des applications construites sur la base de ce cadre. <br><br>  <b>Xamarin</b> <br><br>  Fond√©e en 2011, Xamarin, la famille de produits Xamarin, a √©t√© acquise par Microsoft apr√®s cinq ans d'existence.  Aujourd'hui, les produits Xamarin pr√©sentent une approche tr√®s int√©ressante pour d√©velopper des applications mobiles multiplateformes sur le march√©: les applications sont √©crites en C #, puis Xamarin les compile dans une application native pour iOS ou Android, tandis que Xamarin utilise Mono comme technologie sous-jacente, plut√¥t que multiplateforme. et est fourni.  Les d√©veloppeurs de Xamarin disent que les applications r√©sultantes utilisent l'API de plateforme native pour laquelle l'application est compil√©e, donc le comportement de l'application r√©sultante n'est pas diff√©rent du comportement de toute autre application sur la m√™me plateforme.  Le d√©veloppement, soit dit en passant, peut √™tre fait √† l'aide de Visual Studio (ce qui n'est pas surprenant). <br><br>  Malgr√© le fait que la plupart du code du projet peut √™tre utilis√© sans modifications sur chacune des plates-formes mobiles prises en charge, cependant, certains fragments devront √™tre √©crits sp√©cifiquement pour la version de l'application pour iOS et Android. <br><br>  Mais de telles approches donnent l'application dite "hybride". <br><br>  <b>Avantages des options alternatives:</b> <br><br><ul><li>  multiplateforme (ayant fait une seule application, elle peut √™tre export√©e pour n'importe quel OS); </li><li>  le temps de d√©veloppement est moins que natif. </li></ul><br>  <b>Inconv√©nients des alternatives:</b> <br><br><ul><li>  fonctionne plus lentement que les applications natives; </li><li>  n'a pas un acc√®s complet aux capacit√©s techniques de l'appareil; </li><li>  souvent les plugins existants sont obsol√®tes, donc parfois vous devez √©crire les v√¥tres; </li><li>  l'interface utilisateur est visualis√©e √† l'aide du navigateur int√©gr√©, ce qui cr√©e des difficult√©s pour obtenir des commentaires par rapport √† l'application native; </li><li>  tous les contr√¥les ne sont pas mis en ≈ìuvre. </li></ul><br>  Et nous avons d√©cid√© de poursuivre le d√©veloppement "natif" de notre projet. <br><br>  <b>Native Way d'Apple</b> <br><br><h4>  4. Tout d'abord, nous avons besoin d'un outil pour d√©velopper et √©crire du code - nous avons besoin d'un IDcode Xcode </h4><br>  Xcode est un environnement de d√©veloppement logiciel int√©gr√© (IDE) pour les plates-formes macOS, iOS, watchOS et tvOS d√©velopp√© par Apple.  La premi√®re version a √©t√© lanc√©e en 2001.  Les versions stables sont distribu√©es gratuitement via le Mac App Store.  Les d√©veloppeurs enregistr√©s ont √©galement acc√®s aux versions b√™ta via le site Web des d√©veloppeurs Apple. <br><br>  Voici √† quoi ressemble la cr√©ation et le travail sur une application simple comme Single View App dans Xcode: <br><br><img src="https://habrastorage.org/webt/ot/rn/oy/otrnoyg_r3psekm9kqt9hjboxa8.jpeg"><br><br><img src="https://habrastorage.org/webt/ej/8q/4f/ej8q4fbzcbta_iv7-i7vevdt7su.jpeg"><br><br>  <b>Quelques points int√©ressants sur Xcode:</b> <br><br>  Xcode offre une bo√Æte √† outils tr√®s pratique pour cr√©er une interface utilisateur (interface utilisateur) - Storyboard. <br><br><img src="https://habrastorage.org/webt/am/yl/m6/amylm6slsqtl_i7a2_hg_j8o7yg.jpeg"><br><br><img src="https://habrastorage.org/webt/4q/wd/jn/4qwdjneqzwgkwyfl2xavd83bbby.jpeg"><br><br>  Mais la plupart des projets (applications) pour iOS ne sont pas servis par un d√©veloppeur, mais par plusieurs (l'√©quipe de d√©veloppement), et lors de l'utilisation d'un Storyboard pour tous les √©crans d'application lors de l'utilisation de syst√®mes de contr√¥le de version distribu√©s (SVN, Mercurial, GIT, etc.), la fusion des d√©veloppements se transforme en vrai enfer. <br><br>  Notre √©quipe s'est mise d'accord sur une approche: <b>un Storyboard - un ViewController</b> . <br>  Avec cette approche, le probl√®me d√©crit ci-dessus dispara√Æt, car g√©n√©ralement un d√©veloppeur impl√©mente une fonctionnalit√©, c'est-√†-dire tous les √©crans de cette fonctionnalit√©. <br><br>  Pour r√©duire la charge dans le Storyboard lors de l'utilisation de Segue, vous pouvez utiliser la fonction <b>¬´Refactor to storyboard¬ª</b> .  Cette refactorisation du storyboard cr√©e un lien dans le storyboard parent, ce qui conduit √† un nouveau storyboard s√©par√©, o√π le ViewController souhait√© est impl√©ment√©. <br><br>  Il convient √©galement de noter l'outil de d√©bogage de Xcode - <b>Breakpoint</b> . <br>  Breakpoint est un outil de d√©bogage qui vous permet de suspendre l'ex√©cution du programme jusqu'√† un certain point.  Cela nous permettra d'examiner le code du programme (trouver les valeurs des variables √† ce moment, faire des calculs, etc.) pour savoir o√π les erreurs se produisent. <br><br><img src="https://habrastorage.org/webt/k4/gw/xd/k4gwxdcbh4wopoa00m3sz1msymg.jpeg"><br><br>  Cet outil est intelligent: nous avons des boutons de contr√¥le d'acc√®s (Step Over, Step Into), qui nous permettent de naviguer dans notre code.  Nous avons √©galement acc√®s √† l'analyse des valeurs des variables et √† l'utilisation des journaux dans la sortie de la console. <br>  Lorsque Ctrl-clic sur le point d'arr√™t de l'indicateur affiche un menu de commandes.  Ici, vous pouvez d√©finir des conditions suppl√©mentaires pour d√©clencher un point d'arr√™t, ajouter des actions, etc. <br>  Par exemple, nous d√©finissons une condition de d√©clenchement pour le point d'arr√™t: l'√©tape variable prendra la valeur 4. Et apr√®s le d√©marrage de l'application, le programme arr√™tera son ex√©cution √† ce point d'arr√™t uniquement lorsque la variable d'√©tape prendra la valeur 4 et pas plus t√¥t. <br><br><img src="https://habrastorage.org/webt/5a/qf/uk/5aqfukznzrumetfld57kj3urf9o.jpeg"><br><br>  Nous pouvons ajouter des expressions suppl√©mentaires (propri√©t√©s et m√™me calculs!). <br><br><h4>  5. Vous devez choisir le langage de programmation Objective-C ou le nouveau Swift </h4><br>  Le projet que nous avons obtenu a √©t√© √©crit en Objective-C, mais le nouveau langage de programmation Swift √©tait d√©j√† √† l'horizon. <br><br>  Quels sont ces langages de programmation? <br><br>  Objective-C est un langage de programmation compil√© et orient√© objet utilis√© par Apple, construit sur la base du langage C et du paradigme Smalltalk.  En particulier, le mod√®le d'objet est construit dans le style Smalltalk - c'est-√†-dire que les messages sont envoy√©s aux objets. <br><br>  Le langage Objective-C existe depuis 1989, la derni√®re fois qu'il a √©t√© mis √† jour en 2006, suite <br>  Il y a 10 ans.  La popularit√© d'iOS ne cesse de cro√Ætre, ce qui n√©cessite d'am√©liorer la qualit√© de l'application.  Pour travailler avec Objective-C, un d√©veloppeur hautement qualifi√© est requis. <br><br>  Tout cela est devenu une condition pr√©alable √† la cr√©ation du langage de programmation Swift. <br><br>  Apple a commenc√© √† d√©velopper Swift en 2010.  Le 2 juin 2014, ce langage a √©t√© officiellement d√©voil√© lors de la Conf√©rence mondiale des d√©veloppeurs Apple (WWDC).  Un guide gratuit de 500 pages sur son utilisation √©tait disponible sur l'iBook Store. <br><br>  Swift 1.0 est sorti le 9 septembre 2014 avec la version Gold Master de Xcode 6.0 pour iOS. <br>  Le 8 juin 2015, Apple a publi√© une nouvelle version de Swift 2.0 avec des performances am√©lior√©es et une nouvelle API de gestion des erreurs.  La syntaxe du langage s'est am√©lior√©e, une fonction de v√©rification de la disponibilit√© des fonctions Swift pour les OS cibles est apparue. <br><br>  Le 3 d√©cembre 2015, une version b√™ta de Swift 3.0 a √©t√© publi√©e avec prise en charge d'OS X, iOS et Linux, sous licence open source Apache 2.0. <br><br>  Le 19 septembre 2017, Swift 4.0 a √©t√© publi√©. <br><br>  En septembre 2018, avec la nouvelle version d'iOS 12, une nouvelle version stable du langage Swift 4.2 est sortie et une version b√™ta de Swift 5.0 est apparue.  La version 5.0 a finalement annonc√© le fonctionnement stable de l'ABI avec les biblioth√®ques standard (Swift Dynamic Library), la prise en charge des expressions r√©guli√®res et une solution de premi√®re classe pour le traitement parall√®le des donn√©es avec le mode de traitement asynchrone / attente. <br><br>  <b>Sur la base de ce qui pr√©c√®de, nous avons d√©cid√© d'utiliser uniquement Swift dans les nouveaux formulaires, pour prendre en charge les anciens formulaires, en les r√©√©crivant progressivement.</b> <br><br><h4>  6. Ensuite, vous devez comprendre l'architecture du projet - nous avons d√©cid√© de quitter l'architecture MVC d'Apple </h4><br>  Model-View-Controller (MVC) attribue l'un des trois r√¥les aux objets d'une application: mod√®le, vue ou contr√¥leur.  L'architecture d√©finit non seulement les r√¥les que les objets jouent dans l'application, mais √©galement la fa√ßon dont les objets interagissent les uns avec les autres.  Chacun des trois types d'objets est s√©par√© des autres par des bordures abstraites et interagit avec des objets d'autres types √† travers ces bordures (https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/MVC.html). <br><br><img src="https://habrastorage.org/webt/ft/mm/-u/ftmm-ulvbg7cig801mr1u2dqgok.jpeg"><br><br>  Mais, en appliquant cette approche, nous avons rencontr√© les probl√®mes suivants, que nous n'avons pu r√©soudre qu'en passant √† la nouvelle architecture de MKBMobile 3.0: <br><br><ul><li>  MVC ne fournit pas d'instructions claires sur les entit√©s et les classes que vous devez cr√©er et celles qui ne le sont pas.  La structure et l'architecture du mod√®le, ainsi que son interaction avec le contr√¥leur, restent enti√®rement sur la conscience et l'imagination du ou des d√©veloppeurs. </li><li>  Mauvaise compr√©hension de la zone du domaine.  C'est-√†-dire  lorsqu'un d√©veloppeur ajoute de nouvelles fonctionnalit√©s, au lieu de cr√©er de nouvelles entit√©s et de refactoriser l'architecture existante, de nouvelles fonctionnalit√©s sont ajout√©es au ViewController.  Ce qui a conduit au probl√®me suivant: Massive View Controller - beaucoup de code √† l'int√©rieur du ViewController. </li></ul><br><h4>  7. Et la chose la plus douce est le SDK iOS (https://developer.apple.com/documentation/) </h4><br>  Le SDK iOS fournit un grand nombre de cadres. <br><br>  Nous avons utilis√© la liste suivante de frameworks avec un enthousiasme particulier dans une application bancaire: <br><br><ul><li>  PushKit et UserNotifications pour travailler avec les notifications push; </li><li>  PassKit pour avoir travaill√© avec Apple Pay; </li><li>  CallKit (en collaboration avec WebRTC) pour travailler avec les services VoIP; </li><li>  AVFoundation pour travailler avec des ressources audio; </li><li>  Contacts pour acc√©der aux contacts des utilisateurs; </li><li>  CommonCrypto pour travailler avec des fonctions cryptographiques. </li></ul><br>  <b>Donc, nous avons d√©cid√© du n√©cessaire, nous sommes factur√©s et pr√™ts pour les r√©alisations ...</b> <br><br>  Pendant un certain temps, de nouvelles fonctionnalit√©s (fonctionnalit√© - nouveaux virements, paiements, produits bancaires (cartes, pr√™ts, etc.) ont √©t√© bien int√©gr√©es dans l'application. <br><br>  Mais ensuite, la demande est devenue <b>lourde et peu pratique</b> . <br><br>  <b>Le projet MKBMobile 2.0 est donc apparu avec une id√©e d'interface audacieuse - Trello Pages.</b> <br><br>  L'approche Trello Pages, en fait, est constitu√©e de panneaux attach√©s en haut de l'√©cran, dans notre version, √† la barre de navigation sup√©rieure.  L'approche vous permet de faire une navigation rapide entre les tableaux (pages). <br><br><img src="https://habrastorage.org/webt/-x/jm/2a/-xjm2airtlpo3vddxzdqfs0fi4a.jpeg"><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/sd/n_/iasdn_pyjgtd0ccih10ojxq16ra.jpeg" width="500"></div><br>  Les avantages de cette approche: <br><br><ul><li>  √©volutivit√©, espace infini gauche / droite et bas; </li><li>  s√©parabilit√©, chaque type de fonctionnalit√© a √©t√© plac√© sur une page distincte; </li><li>  Parfait pour iPad et iPhone. </li></ul><br>  Mais il y avait quelques inconv√©nients √† cette id√©e: <br><br><ul><li>  Les √©l√©ments du menu de navigation sup√©rieur √©taient difficiles d'acc√®s; </li><li>  les notifications push entrantes et les notifications SMS ont cr√©√© des difficult√©s suppl√©mentaires pour travailler avec le menu de navigation sup√©rieur; </li><li>  cette approche n'√©tait pas conforme aux directives d'interface humaine d'Apple. </li></ul><br>  <b>La version actuelle de la banque mobile ICD, MKBMobile 3.0, est donc n√©e.</b> <br><br>  Dans cette version, nous avons adopt√© le mod√®le de navigation classique d'Apple HIG (Human Interface Guidelines) TabBar inf√©rieur. <br><br><img src="https://habrastorage.org/webt/3d/xp/1v/3dxp1v-ubtrfws7civpzvprhlbo.jpeg"><br><br><img src="https://habrastorage.org/webt/fo/un/ju/founjuslokljcbzy0ozji8qqfue.jpeg"><br><br>  En passant √† cette version, nous avons acquis beaucoup d'exp√©rience n√©gative en utilisant l'architecture MVC classique d'Apple. <br><br>  Notre √©quipe s'est agrandie et nous avions besoin d'un seuil bas pour que de nouveaux employ√©s entrent dans le projet. <br>  De plus, un autre point ne nous a pas d√©rang√©: le test unitaire du comportement des √©l√©ments graphiques, pour lequel le test a √©t√© utilis√© via le test Xcode UI, qui √©tait un long processus de lancement d'une application sur un √©mulateur (appareil) avec √©mulation des actions de l'utilisateur. <br><br>  Toutes ces exigences ont abouti √† l'utilisation d'une nouvelle approche architecturale - VIPER. <br>  Mod√®le VIPER classique: <br><br><img src="https://habrastorage.org/webt/4q/0z/be/4q0zbeu8dlninirc7kxyfgwvtkm.jpeg"><br><br>  Mais, apr√®s avoir examin√© de nombreuses approches dans la mise en ≈ìuvre de VIPER pour iOS, nous avons opt√© pour la solution Rambler &amp; Co avec nos digressions. <br><br>  Comme base, nous avons mis un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">livre de Rambler &amp; Co.</a> <br><br><img src="https://habrastorage.org/webt/sa/bk/uv/sabkuvhq4djnpsf70abil0dcqqk.jpeg"><br><br>  Les principales t√¢ches que VIPER nous a aid√©es √† r√©soudre: <br><br><ul><li>  partition de grandes classes (Massive View Controllers) avec des limites de responsabilit√© plus ou moins clairement d√©finies; </li><li>  application des principes SOLIDES dans toute leur splendeur; </li><li>  seuil bas pour les nouveaux employ√©s entrant dans le projet; </li><li>  Tests unitaires de l'interface utilisateur. </li></ul><br>  Il est important de noter tout de suite que VIPER n'est en aucun cas un ensemble de mod√®les et de r√®gles stricts.  Il s'agit plut√¥t d'une liste de recommandations, √† la suite de laquelle vous pouvez cr√©er une architecture d'application mobile flexible et r√©utilisable. <br><br>  √Ä quoi ressemblait notre projet: <br><br><img src="https://habrastorage.org/webt/b3/qj/lu/b3qjlupkt2kxpxzimoer4h9a9t8.jpeg"><br><br>  La structure du module VIPER dans notre impl√©mentation: <br><br>  1. La plus ¬´principale¬ª est la classe Module, elle sait tout sur tout le monde, cr√©e les objets de services n√©cessaires pour Interactor, sait connecter toutes les parties les unes des autres avec View, Router, Presenter, etc. <br><br><img src="https://habrastorage.org/webt/hy/d_/ab/hyd_absdyigci8l6hmoa9ue9k5i.jpeg"><br><br>  Il assure √©galement la communication avec d'autres modules VIPER via les protocoles d'entr√©e et de sortie ModuleInput et ModuleOutput. <br><br>  Des protocoles d'entr√©e et de sortie similaires ont toutes les parties du module VIPER (View, Router, Presenter, etc.). <br><br>  Nous avons convenu: s'il n'y a pas besoin de protocoles ou de parties du module VIPER, nous ne les utilisons pas et ne leur r√©servons pas de classes vides. <br><br>  2. Interacteurs (Interactor) - masquer la logique m√©tier. <br><br>  Nous avons introduit une couche suppl√©mentaire de services.  Service - un objet charg√© de travailler avec son type de donn√©es sp√©cifique.  Par exemple, un service de syst√®me d'aide est responsable des r√©pertoires (fichiers d'accords, d√©tails, etc.) <br><br>  3. Pr√©sentateur - re√ßoit de View des informations sur les actions de l'utilisateur et les convertit en demandes de routeur, d'interacteur, et re√ßoit √©galement des donn√©es d'Interactor, les pr√©pare et envoie la vue pour affichage. <br><br>  4. Routeur - est responsable de la navigation entre les modules. <br><br>  5. Affichage - est responsable de l'affichage des donn√©es √† l'√©cran et informe le pr√©sentateur des actions de l'utilisateur.  Passif, il ne demande jamais de donn√©es, il ne les re√ßoit que de Presenter. <br><br>  <b>Nos modules peuvent √™tre composites.</b> <br><br>  C'est-√†-dire, inclure des modules VIPER ind√©pendants.  Par exemple, la page principale du produit se compose d'un ensemble de parties ind√©pendantes: solde, widget de mod√®le, sections de diff√©rents types de produits bancaires et taux de change. <br><br>  Toutes ces parties sont ind√©pendantes et peuvent vivre leur propre vie - elles ont leur propre API avec le serveur bancaire, elles ont des mod√®les de donn√©es ind√©pendants.  Pour les afficher sur la page principale, des conteneurs (vue parent) sont pr√©par√©s, o√π ces widgets (vue) sont ins√©r√©s. <br><br><img src="https://habrastorage.org/webt/2s/h9/md/2sh9md7cyl_f4wbtcwlzjfaaxcg.jpeg"><br><br><img src="https://habrastorage.org/webt/oc/bt/o6/ocbto67m6waevxvly_87td3s4gk.jpeg"><br><br>  <b>Notre application mobile pour iOS ne cesse de cro√Ætre et de se d√©velopper.</b>  <b>Il est utilis√© par de plus en plus de nos clients.</b> <b><br></b> <br><br><img src="https://habrastorage.org/webt/ow/wx/kd/owwxkdg4yjzlwxgapay60apmamw.jpeg"><br><br>  Quels sont les outils suivants que nous pr√©voyons d'introduire: <br><br><ul><li>  SwiftLint, un utilitaire des d√©veloppeurs Realm pour la v√©rification automatique du code Swift; </li><li>  CI complet bas√© sur fastlane; </li><li>  Utilisation compl√®te des instruments de Xcode (allocations, fuites, zombies, etc.) </li></ul><br>  Suivez nos articles!  A bient√¥t et merci de votre attention! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467057/">https://habr.com/ru/post/fr467057/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467041/index.html">Comment nous avons num√©ris√© le Kazakhstan</a></li>
<li><a href="../fr467043/index.html">Importez OpenStreetMap. De la source binaire √† la table de la base de donn√©es en quelques √©tapes</a></li>
<li><a href="../fr467047/index.html">Ph√©nom√®ne XY: √©viter les probl√®mes ¬´erron√©s¬ª</a></li>
<li><a href="../fr467049/index.html">Guide complet de Flexbox</a></li>
<li><a href="../fr467053/index.html">Comprendre les bases de la blockchain: le d√©fi des g√©n√©raux byzantins. partie 1</a></li>
<li><a href="../fr467061/index.html">Rang babylonien: 5 probl√®mes de s√©curit√© dans le secteur de la construction</a></li>
<li><a href="../fr467063/index.html">Surveillance du carburant pour les g√©n√©rateurs diesel du centre de donn√©es - comment le faire et pourquoi est-ce si important?</a></li>
<li><a href="../fr467065/index.html">Archive des probl√®mes d'olympiades en physique pour les √©coliers</a></li>
<li><a href="../fr467073/index.html">¬´En Occident, il n'y a pas de directeurs artistiques de moins de 40 ans. Avec nous, cela peut aller jusqu'√† 30. " Comment est-ce d'√™tre designer en informatique</a></li>
<li><a href="../fr467079/index.html">Carrousel CSS et Javascript Ant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>