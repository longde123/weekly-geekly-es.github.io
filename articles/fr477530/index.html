<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☹️ 👩‍👧‍👦 🤳🏾 Passerelle Internet logicielle pour une petite organisation 🍮 👩🏾‍🍳 🎳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tout homme d'affaires s'efforce de réduire ses coûts. Il en va de même pour l'infrastructure informatique. 

 Lorsque vous ouvrez un nouveau bureau, l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Passerelle Internet logicielle pour une petite organisation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477530/">  Tout homme d'affaires s'efforce de réduire ses coûts.  Il en va de même pour l'infrastructure informatique. <br><br>  Lorsque vous ouvrez un nouveau bureau, les cheveux de quelqu'un commencent à bouger.  Après tout, il faut organiser: <br><ul><li>  réseau local; </li><li>  Connexion Internet.  Mieux encore avec réservation auprès du deuxième prestataire; </li><li>  VPN au bureau central (ou à toutes les succursales); </li><li>  HotSpot pour les clients avec autorisation sms; </li><li>  filtrer le trafic afin que les employés ne s'assoient pas sur les réseaux sociaux et ne s'affichent pas sur Skype; </li><li>  protection du réseau contre les virus et les attaques.  Fournir une protection contre les intrusions (IDS / IPS); </li><li>  votre serveur de messagerie (si vous ne faites pas confiance à toutes sortes de pdd.yandex.ru) avec antivirus et antispam; </li><li>  corbeille de fichiers; </li><li>  Vous avez probablement besoin de téléphonie, c'est-à-dire  organiser un PBX, connecter d'autres petits pains au fournisseur SIP ... </li></ul><br><br>  Mais l'enikeyschik ne pourra pas augmenter le réseau de l'entreprise avec de telles exigences ... Embaucher un administrateur système coûteux? <br>  Un très grand nombre de roubles se profile. <br><br>  Mais ces coûts peuvent être considérablement réduits si vous prêtez attention aux <b>solutions UTM</b> , qui sont maintenant énormes.  Et puisque j'adhère à la stratégie «le plus simple est le mieux» pour résoudre mes problèmes, mes yeux sont tombés sur le <a href="https://xserver.a-real.ru/" rel="nofollow">serveur de contrôle Internet</a> UTM (IKS). <br><br><img src="https://habrastorage.org/webt/iw/rv/e4/iwrve4xuvgbol3pexom9mohycl8.png"><br><br>  Comment ce système contribuera à économiser le budget de l'entreprise et pourquoi un administrateur système coûteux n'est pas nécessaire pour sa maintenance - je vais vous le dire ci-dessous. <br><br>  Mais pour l’avenir, je dirai - c’est un produit spécifique et qui a ses limites.  Vous pouvez évaluer plus en détail les capacités de la passerelle en <a href="https://doc.a-real.ru/doku.php" rel="nofollow">examinant la documentation sur le site officiel</a> . <br>  J'ai mis en place l'article «en russe» pour l'article, c'est-à-dire sans chercher dans le mana pour comprendre à quel point tout est intuitivement clair. <br><a name="habracut"></a><br>  <b>Installation initiale</b> <br><br>  IKS peut être installé à la fois sur du matériel réel et dans l'hyperviseur.  Vous pouvez utiliser une sorte de PC sans ventilateur. <div class="spoiler">  <b class="spoiler_title">Par exemple ceci.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/o5/ve/nu/o5venur2uahcytuudm-bzo8oygy.png"><br></div></div><br>  Le système est basé sur <a href="https://www.freebsd.org/" rel="nofollow">FreeBSD 11.3</a> et devrait décoller sans problème sur la plupart des matériels. <br><br>  L'installation se fait sur un disque vierge. <div class="spoiler">  <b class="spoiler_title">Plus précisément, s'il y avait quelque chose, vous pouvez dire adieu à cela en toute sécurité.</b> <div class="spoiler_text">  Malheureusement, le programme d'installation ne prend en charge que l'anglais.  Mais après l'installation, l'interface principale peut être en russe. <br><img src="https://habrastorage.org/webt/je/ka/dy/jekady3fazrccvkf_z1fkkql5l0.png"><br><img src="https://habrastorage.org/webt/g4/vs/m6/g4vsm6h1-c3vv78v48y59mrnodw.png"><br><img src="https://habrastorage.org/webt/xb/z-/g7/xbz-g7yiibyssvo-m26wkhsdyqo.png"><br><img src="https://habrastorage.org/webt/x9/a6/zu/x9a6zut9wbads_fpifmgpcx0cv4.png"></div></div><br>  À propos de la tolérance aux fautes, nous n'avons pas oublié non plus. <div class="spoiler">  <b class="spoiler_title">S'il y a plusieurs disques dans le système, ils peuvent être combinés en un raid en utilisant ZFS.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ax/mp/mx/axmpmxtf7gqfxiorili91r-ue9s.png"><br><img src="https://habrastorage.org/webt/zr/qa/2m/zrqa2mcotzutkesun7olph36q5a.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">Nous sélectionnons l'interface réseau et attribuons ip à partir du réseau sélectionné.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mz/s_/fb/mzs_fbstxa6usgweyqx1qywobf4.png"><br><img src="https://habrastorage.org/webt/8s/gj/7o/8sgj7opwkd-7ltvuvnjpfzwhgam.png"><br>  Indiquez le vrai nom si vous envisagez de créer, par exemple, un serveur de messagerie.  S'il n'y a pas un tel besoin maintenant, vous pouvez écrire à partir du bulldozer.  Plus loin dans l'interface, il sera possible de corriger. <br><img src="https://habrastorage.org/webt/wo/hd/4v/wohd4vjxrbswqz4ccnz4bj3or-k.png"><br></div></div><br><br>  C’est tout!  Vous pouvez accéder à l'interface Web via ip, qui a été spécifié dans les paramètres, et le port 81. DHCP n'est pas encore activé à ce stade, vous devrez donc attribuer manuellement ip à partir du même réseau sur votre PC. <br><br><img src="https://habrastorage.org/webt/rv/0y/3i/rv0y3iofo08psjkbnlp2ryp7joe.png"><br><br><h2>  Nous nous connectons à Internet et connectons les bureaux. </h2><br>  La première fois que vous démarrez l'assistant, ce <b>qui</b> vous <b>oblige</b> à définir un mot de passe fort. <br><div class="spoiler">  <b class="spoiler_title">Le maître</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xp/_s/px/xp_spxlkh6ral_ttcu05kzjfclm.png"><br><img src="https://habrastorage.org/webt/ci/_9/az/ci_9azcxbetwmgxrnsxvpuv6pow.png"><br><img src="https://habrastorage.org/webt/vn/tw/83/vntw83qgm6o47tqymml80v-3vbq.png"><br><img src="https://habrastorage.org/webt/6r/nf/zc/6rnfzche8wzvtu_5wbixdvjizu0.png"><br></div></div><br>  Ensuite, nous montons dans les paramètres réseau <br><img src="https://habrastorage.org/webt/y-/wz/tk/y-wztk_rzlzxt2m4bpxxfet6eae.png"><br>  et configurer la connexion à notre fournisseur et le rôle de toutes les interfaces réseau. <br><img src="https://habrastorage.org/webt/i_/_c/9r/i__c9rqqqqkgr7_7alhxkp4mioc.png"><br><img src="https://habrastorage.org/webt/ig/sk/-9/igsk-9iqvpe29vfsf4gacfnliwo.png"><br><br>  Vous pouvez configurer plusieurs fournisseurs et organiser l'équilibrage. <br><br>  Soit dit en passant, si vous n'êtes pas à l'aise avec la langue anglaise de l'interface, elle peut facilement être modifiée ici. <br><img src="https://habrastorage.org/webt/2l/yj/zx/2lyjzxv75dd4cbssztxnm8psm14.png"><br><br>  Si vous souhaitez connecter un bureau, par exemple, au siège social. <div class="spoiler">  <b class="spoiler_title">Créez ensuite une nouvelle connexion</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/me/s6/qy/mes6qyfnsfk8rnbvjky0t4uhrp8.png"><br><img src="https://habrastorage.org/webt/ja/5s/py/ja5spyesmhifxeymx3sx0efizzo.png"><br></div></div><div class="spoiler">  <b class="spoiler_title">et configurer les itinéraires vers les ressources sur le réseau distant.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/nv/td/zf/nvtdzfkvkyhmcicqrkrpqacnwfg.png"></div></div><br><br>  Vous ne pouvez oublier que le routage dynamique - ce n'est pas ici. <br>  Peut-être que je trouve à redire, mais à mon humble avis, c'est un gros inconvénient ... <br><br><h2>  Accès Internet pour les employés </h2><br><br>  Le plus souvent, la tâche principale de la passerelle est de contrôler l'accès des employés à Internet. <br>  Vous pouvez identifier les employés par ip / mac, ou par login / mot de passe via un agent ou un portail captif. <br><img src="https://habrastorage.org/webt/3b/-z/25/3b-z25leyoohjoma1r6rn-wdble.png"><br><br>  De plus, si votre organisation utilise Active Directory, IKS peut y être intégré. <br><img src="https://habrastorage.org/webt/jq/p3/vh/jqp3vh7i3gaiag85oujl1pawqgu.png"><br><br>  Les paramètres de filtrage (là où l'employé peut et ne peut pas) sont très étendus. <br><img src="https://habrastorage.org/webt/tc/zv/pr/tczvprwqxookr06gn30lvt2dblm.png"><br><br>  Un grand nombre de modèles de règles prêts à l'emploi: <br><div class="spoiler">  <b class="spoiler_title">Vous pouvez autoriser youtube, mais interdire d'y mettre des vidéos.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/kn/68/hz/kn68hz76orsl_-eznv2u5-stv0o.png"><br><img src="https://habrastorage.org/webt/65/m9/nm/65m9nmryqzqpyldnrpz8fd-ncyu.png"><br><img src="https://habrastorage.org/webt/s6/xw/fb/s6xwfb6r3mzvu72rsnzh7numu_w.png"><br></div></div><br><br>  Mais vous ne pouvez pas le limiter, et l'ICS dira toujours où qui est allé et où avec leurs rapports détaillés: <br><img src="https://habrastorage.org/webt/mw/g8/z6/mwg8z6o96hniavmbb9qknyk2mps.png"><br><br><h2>  Mais qu'en est-il du Wi-Fi invité? </h2><br><br>  Et le Wi-Fi invité peut être organisé conformément aux exigences des lois de la Fédération de Russie sur l'identification obligatoire des utilisateurs. <br>  ICS prend en charge l'envoi de SMS via le protocole SMPP via n'importe quel fournisseur de SMS. <br><br><img src="https://habrastorage.org/webt/7o/vk/wt/7ovkwty1clpowvyqwnpcpybbuya.png"><br><br><h2>  Téléphonie. </h2><br><br>  Oui oui  Pas besoin d'installer un serveur séparé avec Asterisk.  Il est déjà en X. <br>  J'ai réussi à connecter SIP depuis un mégaphone (émotion, multiphone). <br><br><img src="https://habrastorage.org/webt/ea/vd/rc/eavdrccb7r8wzqgyaqp3mb-ygk8.png"><br><br>  Comment obtenir SIP de Megafon aux tarifs cellulaires des particuliers peut être trouvé dans l'article <a href="https://habr.com/ru/post/441888/">"SIP de Megaphone au tarif domestique"</a> . <br><br><h2>  La sécurité </h2><br>  Il existe de nombreux outils dans ICS qui vous permettront de configurer le niveau de sécurité selon vos besoins: des antivirus ClamAV gratuits et <a href="https://habr.com/ru/post/192884/">des systèmes de détection d'intrusion Suricata</a> aux produits d' <a href="https://www.kaspersky.ru/" rel="nofollow">Eugene Kaspersky</a> , en configurant uniquement via une interface Web claire. <br><br><img src="https://habrastorage.org/webt/9m/jo/xz/9mjoxzgg2tnj9nz_uocqcudq-5s.png"><br><br>  Même le même fail2Ban irremplaçable est configuré en quelques clics <br><img src="https://habrastorage.org/webt/ue/oy/hz/ueoyhzdpb3joiyb1avp-k3i-ngo.png"><br><br>  En outre, ICS peut surveiller le trafic à l'aide du protocole netflow à partir de l'équipement réseau, sans passer par lui-même. <br><br><h2>  Petits pains de communication </h2><br><br>  La communication des employés peut être organisée non seulement par téléphone et courrier <br><img src="https://habrastorage.org/webt/du/74/t_/du74t_xyhkzuxfkvnezpofnuscg.png"><br><br>  mais aussi par jabber.  Certes, peu de gens se souviennent déjà d'un tel protocole. <br><br>  <b>Serveur Web:</b> <br>  Sur IKS, il existe même un serveur Web avec support PHP.  Vous pouvez installer votre certificat HTTPS si vous en avez un ou spécifier que l'ICS reçoive gratuitement Let's Encrypt. <br><img src="https://habrastorage.org/webt/qa/nc/3f/qanc3fjchmccdxxqzr6-9olycnm.png"><br><br>  Cela suffit pour héberger un site de cartes de visite ou une page de destination publicitaire.  Mais vous ne pouvez pas passer par un portail lourd avec des modules personnalisés.  Et pour moi, c'est stupide.  Pourtant, la passerelle doit rester la passerelle. <br><br>  Paramètres de surveillance et de notification flexibles. <br>  Des alarmes peuvent même être envoyées à Telegram.  Et dans la réalité de la Fédération de Russie, il est même possible d'envoyer des messages via un proxy. <br><img src="https://habrastorage.org/webt/ao/2j/se/ao2jsergae_1i5g-t1ezutn00oe.png"><br><br><h2>  En conclusion </h2><br><br>  La passerelle Internet ICS contient presque tous les composants nécessaires au fonctionnement d'un petit bureau. <br>  Dans le même temps, un administrateur système novice peut configurer tout cela. <br><br>  Malgré le fait que le système n'est construit ni par FreeBSD, il n'y a pas d'accès ssh.  Autrement dit, sans béquilles, vous ne pouvez pas installer de modules PHP.  Nous devrons nous contenter de ce que nous avons ... Ou demander au support de le terminer. <br><br>  Dans tous les cas, au début, <a href="https://xserver.a-real.ru/download" rel="nofollow">téléchargez la version d'essai pendant 35 jours</a> et vérifiez dans quelle mesure cette passerelle vous convient. <br><br>  La licence n'a pas de date d'expiration, mais malgré cela, le coût est assez abordable <a href="https://xserver.a-real.ru/cost/" rel="nofollow">.</a> <br><br>  Au banc d'essai lors d'essais synthétiques, le système s'est avéré adéquat. <br><br>  Si le client approuve et qu'il sera intéressant pour vous de savoir comment ce système se comportera dans une «bataille», alors après 3 à 6 mois, j'écrirai une critique avec tous les problèmes et difficultés qui se sont posés.  Si possible, vérifiez la qualité du support technique. <br><br>  Dans les commentaires, j'attends des questions de votre part, qui devront se concentrer en détail sur l'utilisation au combat. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr477530/">https://habr.com/ru/post/fr477530/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr477518/index.html">La microarchitecture osseuse comme base de matériaux ultralégers et durables</a></li>
<li><a href="../fr477520/index.html">Rencontrez <détails></a></li>
<li><a href="../fr477522/index.html">Défi Tetris accepté</a></li>
<li><a href="../fr477524/index.html">Création d'un jeu pour SEGA Mega Drive / Genesis en 2019</a></li>
<li><a href="../fr477526/index.html">Processeurs de classe spatiale: comment envoyer plus de puissance de calcul à l'espace?</a></li>
<li><a href="../fr477532/index.html">Matériaux de la réunion de conception d'Atomic: lettres, couleurs, forme, équipe et argent</a></li>
<li><a href="../fr477534/index.html">Promotion d'une application sur l'App Store et Google Play</a></li>
<li><a href="../fr477538/index.html">Fonctionnement de l'assistance HP - bienvenue ou non autorisé</a></li>
<li><a href="../fr477540/index.html">L'intelligence artificielle est entrée dans un débat avec les gens, et convaincue qu'elle n'est pas dangereuse</a></li>
<li><a href="../fr477542/index.html">Carrière verticale et horizontale en Data Science</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>