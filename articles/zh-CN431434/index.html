<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧝🏼 👨🏽‍🎨 👩🏾‍🎨 数据中心现代化的三个故事 🎯 🏇🏻 🌺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="哈Ha！ 今年是我们第一个OST-1数据中心推出十周年。 在这段时间里，来自运营和基础建设服务部门的同事们设法对数据中心的工程基础设施进行了不止一次的现代化。 今天，我将告诉您最有趣的情况。 



 一台200吨的起重机将新的Stulz冷却器安装到机架上。 2015年对OST-1数据中心系统的冷却...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>数据中心现代化的三个故事</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/431434/">哈Ha！ 今年是我们第一个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OST-1数据中心</a>推出十周年。 在这段时间里，来自运营和基础建设服务部门的同事们设法对数据中心的工程基础设施进行了不止一次的现代化。 今天，我将告诉您最有趣的情况。 <br><br><img src="https://habrastorage.org/webt/gb/y-/dx/gby-dxztfu-hm50r0yp5p3stsnw.jpeg"><br><br>  <i>一台200吨的起重机将新的Stulz冷却器安装到机架上。</i>  <i>2015年对OST-1数据中心系统的冷却系统进行了现代化改造。</i> <a name="habracut"></a><br><br> 数据中心是一个生命有机体，它在成长，变化，崩溃：)可以归因于现代化的一切，我有条件地分享： <br><br><ul><li> 预定的更换和维修。 设备已过时，使用寿命到期。 我们会在方便的时候（例如，对UPS的“内部”进行全面升级或更换用完的电池）不加仓促地进行预算，计划和进行此类工作。 <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">设计错误</a> 。 根据正常运行时间的规定，所有内容都应同时花费并结束。 由于设计不当，可能会违反“冷-电-位”的平衡，例如：有放置机架的地方，但大厅不再受到电力或空调的牵引。 这些错误最令人不快的是，它们不会立即弹出，而是在数据中心达到其设计能力时弹出。 <br></li><li> 意外 发生设备完全，不可挽回和意外损坏的情况，因此需要进行更换。 <br></li></ul><br> 我不会谈论计划的更换/维修。 在那里，几乎一切都在我们的掌控之中。 我将告诉您有关设计错误和崩溃后升级的三个故事。 <br><br><h2> 历史1.机舱没有足够的寒冷 </h2><br> 这是一个关于我们在Borovaya的第一个大厅的故事。 他还在工作。 设计容量为80机架的5 kW大厅。 <br><br> 大厅里满满的时候，寒冷不再足够了：寒冷走廊的温度超过了必要的温度，局部过热不断出现。 直到后来，根据我们的经验，我们意识到我们在设计中犯了错误，因此，空调遭受了损失。 <br><br><table><tbody><tr><td>  <b>失误</b> <br></td><td>  <b>问题</b> <br></td></tr><tr><td> 一排长长的架子-连续超过20个 <br></td><td> 行中间停滞热风 <br></td></tr><tr><td> 低天花板-长达3米 <br></td><td> 没有足够的空间进行正确的空气交换。 有局部过热的区域 <br></td></tr><tr><td> 低层活动地板，下方有许多通讯装置 <br></td><td> 高架地板下冷空气流通的干扰 <br></td></tr></tbody></table><br><br><img src="https://habrastorage.org/webt/ch/y7/t_/chy7t_wikabcxa8covyxid93b5k.jpeg"><br>  <i>该行太长，几乎看不到另一端的空调。</i>  <i>2009年照片。</i> <br><br> 那时我们没有看到这些问题带来的任何“神奇药丸”，因此我们决定分阶段，全面地采取行动。 <br><br> 首先，我们检查了所有设备的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">安装是否正确</a>以及插头是否在空闲状态。 我们还仔细检查了多孔砖的布局，并去除了多余的砖，在活动地板下安装了额外的导风板。 我们试图找到并密封所有可能逸出冷气的孔。 我还建议您检查一下空调和墙壁之间的物品。  5-7厘米的间隙已经很大。 <br><br><img src="https://habrastorage.org/webt/or/v5/cs/orv5csif5nj-ddl3k7xmkrlelv4.png"><br>  <i>这是我们得到的结果，它为存根提供了简单的免费单元。</i> <br><br> 它变好了，但还不够好。 然后，我们决定隔离寒冷的走廊。 他们建造了一个屋顶，聚碳酸酯制成的门。 原来便宜又开朗。 结果，我们消除了冷热空气的寄生混合物，提高了冷气供应系统的效率。 <br><br><img src="https://habrastorage.org/webt/0i/b9/cq/0ib9cqpih7zkzibkzph-p2ukhcw.jpeg"><br>  <i>同一大厅的隔离冷走廊。</i> <br><br> 我们知道这足够一会儿。 随着IT工作负载的增加，电力不足将再次使人感到不适。 <br><br> 他们试图通过添加氟利昂空调来解决这个问题，尽管该大厅致力于乙二醇冷却。 我们非常关心空调的尺寸（它将穿过门，是否有足够的转向角度），因此我们选择了具有部分拆卸可能性的模型。 空调不是像通常那样从热走廊的侧面安装，而是在可以挤压的地方安装。 这为我们增加了80千瓦的冷却能力。 <br><br><img src="https://habrastorage.org/webt/8z/mg/mm/8zmgmm-1utbj0x_y8yyeake_7uc.jpeg"><br>  <i>这是同样的“ gutta-percha”空调艾默生。</i> <br><br> 整个故事变得很复杂：必须弄清楚如何将氟利昂履带带到外部设备，如何为这些空调器通电，在哪里放置外部空调器。 所有这些都在工作室里。 <br><br><img src="https://habrastorage.org/webt/od/yd/wf/odydwf6yvhjiqo796utourpfa0q.jpeg"><br>  <i>只是为了了解有多少空间。</i> <br><br> 经过所有这些操作后，我们摆脱了局部过热的局面，温度在冷热走廊中均匀分布。 事实证明，这增加了大厅的容量，并在其中放置了声明的五千瓦机架。 <br><br> 这个故事的寓意是，您不应该害怕一步一步地解决问题。 就其本身而言，每个动作似乎（然后在我们看来）都是无效的，但是总的来说，这是一个结果。 <br><br><h2> 历史2.机舱中的空调和电源耗尽 </h2><br> 一个客户房间设计用于100个5 kW的机架。 设计机架宽度为800毫米，每排10个机架。 然后，客户改变主意打进来，大厅被普遍租出。 在生活中，网络设备主要需要宽度为800毫米的机架，而其他所有设备则需要百分之六十。 结果，我们得到的是13个，而不是连续10个机架，仍然有空间。 但是电和冷还不够。 <br><br> 在现代化过程中，分配了一个新房间，用于另外两个300 kW UPS。 <br><br><img src="https://habrastorage.org/webt/an/w3/f6/anw3f6lwoikek4b4mqjbrmllo2w.jpeg"><br><br> 大厅中出现了其他配电板。 <br><br><img src="https://habrastorage.org/webt/n_/_y/wq/n__ywqzk8zuix54vtd8dby3sdnk.jpeg"><br><br> 新电源需要均匀分配。 为了分离新旧梁，在活动地板下铺设了单独的电缆桥架。 通过交替切换每个功率束，将部分可用的IT设备切换到新的配电盘。 <br><br> 为了解决冷气不足的问题，我们每100 kW冷气增加1台空调。 <br><br><img src="https://habrastorage.org/webt/e2/j6/eb/e2j6ebdxnriowza1mfgm5joxxoy.jpeg"><br><br> 在所有设备的装配，安装和调试过程中，大厅继续正常运行。 这是项目中最困难的时刻。 <br><br> 现代化的结果是，我们为另外30个5 kW的机架增加了一个电和冷室。 <br><br><img src="https://habrastorage.org/webt/tj/3g/ws/tj3gws90oukic4tkxdt9cbdwjxu.png"><br>  <i>设计能力和大厅容量增加了30％。</i> <br><br><h2> 历史记录3.关于更换冷却器 </h2><br> 有点背景。 一切始于2010年，当时OST数据中心的3台冷却器在飓风中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">严重受损</a> 。 然后，为了生存，有必要在没有保护的情况下驱动冷却器几天，然后压缩机迅速弯曲。 最初，它们已更改。 <br><br> 随着数据中心变满，IT负载也随之增加，而Emicon制冷机未达到声明的制冷能力。  2012年，他们在同一液压回路中安装了另一台Hiref冷却器。 所以我们又住了三年。 <br><br> 随着时间的流逝，Emicon制冷机加剧了运行问题。 他们的力量还不够，所以在加热时必须从Karcher倒水。 多年以来，热交换器中长满了钙质沉积物。 由于热交换器的特殊结构而无法清除的白杨绒毛和其他杂物填补了自然冷却热交换器和氟利昂冷凝器之间的缝隙。 一个真正的毡靴在那里形成，它不能让空气正常通过。 <br><br>  2015年，我们刚刚为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">NORD-4</a>购买了一批Stulz冷水机。 我们决定更换此业务下的三个Emicon制冷机中的两个。 现在了解详细信息。 <br><br>  <b>在不重新安装泵的情况下安装其他Hiref冷却器。</b>  IT负载不断增加，受飓风影响的冷水机组效率正在下降。 在夏天，保护区仅够了。 我们决定添加另一个冷却器以增加其总容量。 在工作期间，冷却系统应继续运行。 该操作中最困难的部分是乙二醇回路的组织。 我们进行了乙二醇捆扎：从每个冷却器中将一个乙二醇环分配给一个新的冷却器。 冷却器一一停运，乙二醇管被带到新的冷却器上。 <br><br><img src="https://habrastorage.org/webt/sc/de/pn/scdepnskwh09qw8k2cny27xxo9i.png"><br>  <i>液压系统概念的片段。</i>  <i>它显示了从三个冷却器中的每一个都分支到新的冷却器。</i> <br><br> 该冷水机组的主要任务是在夏季支持冷却系统。 感谢Hiref，在炎热的月份里我们保证有N +1的储备。 但是在飓风中损坏的冷却器逐渐开始变干，我们不得不考虑更换它们。 <br><br><img src="https://habrastorage.org/webt/vt/gc/oy/vtgcoyea6yljqqz01ddlufjfqsy.jpeg"><br>  <i>相同的“夏季” Hiref冷水机。</i> <br><br>  <b>用Stulz替换Emicon。</b> 最好在秋季或春季进行此类更换：在没有保护区的夏季，这完全是令人恐惧的，而在冬季，进行此工作实在令人不快。 该手术计划于2月/ 3月进行，但准备工作于10月开始。 <br><br> 在准备的几个月中，我们铺设了新电缆，对管道进行了熟化，制定了使用设备接近机器的计划（我们有一个紧凑的后院），并清理了起重机可以进入的区域。 必须在工作中的数据中心更换冷却器，大约1.5天后，他没有备用冷却器。 在准备阶段，我们进行了测试以了解数据中心在没有储备的情况下的感觉，发明了在工作中可能出问题的各种情况（例如，更换冷水机的长时间停电），并制定了行动计划。 这是这些作品的简要编年史。 <br> 一台冷水机在晚上到达。 成功将起重机检入数据中心区域后，就可以开始关闭旧的冷却器了。 <br><br><img src="https://habrastorage.org/webt/w5/4t/9s/w54t9s5hgxrbx2bwfjsjpuunefq.jpeg"><br>  <i>正在进行准备工作时，旧冷水机仍在使用中。</i>  <i>我们为新的冷水机做饭。</i> <br><br> 然后，应该将装有冷水机的汽车开到附近的工作地点。 温和地说，我们在那里有些拥挤。 我不得不出汗才能在有限的空间内适应所有这些复杂的转弯。 <br><br><img src="https://habrastorage.org/webt/7j/mh/bq/7jmhbqfn5obz0pzyg2z4falal-k.jpeg"><br><br><img src="https://habrastorage.org/webt/he/xi/c9/hexic9ouupy4otr5q4salkfw0wi.jpeg"><br><br> 拆下冷却器，将其锯成两半。 <br><br><img src="https://habrastorage.org/webt/3m/fp/hp/3mfphpw5rt9pmvkui4nwfmdu-ie.jpeg"><br><br> 新旧冷却器的尺寸不同。 准备金属框架花费了更多时间。 仍然可以抬起并安装冷却器。 <br><br><img src="https://habrastorage.org/webt/kb/zh/_s/kbzh_s6u_akaekxbtzfumvmv6sy.jpeg"><br><br> 在背景图中，照片显示新冷却器的乙二醇回路部分正在并行添加。 <br><br><img src="https://habrastorage.org/webt/2b/6m/bc/2b6mbcpfm0gxesnee6l473bf5ou.jpeg"><br><br><img src="https://habrastorage.org/webt/pk/6q/rg/pk6qrgxwnkxaddtnj5c9jzyhrhu.jpeg"><br><br> 安装后，所有液压装置均安装在机架上，冷却器已连接至电源。 晚上进行压接。 第二天，进行调试并连接到监视系统。 <br><br> 不到两天的时间就可以完成操作：早上关闭了旧冷水机，第二天结束时又打开了新冷水机。 <br><br> 两周后，更换了第二台冷却机。 看来您只需要按照经过验证的方案进行所有操作，但是出了点问题。 整夜都在下雪。 首先，我不得不花时间清理区域，以便起重机可以呼入。 我们开始拆除旧的冷水机，因为距我们两百米处的一辆汽车与新的冷水机发生故障。 不能返回的点已经过去，拖车车轮的货车（来自控制面板的货车）在货车上损坏了。 <br><br> 它没有在现场解决，我们去了另外一个遥控器，这个遥控器在周六奇迹般地出现在该公司的办公室里。 使用遥控器，我设法使汽车旋转。 结果，我们花了3个多小时才完成一个回合。 有了所有的后勤保障，这项工作一直持续到深夜。 我们考虑在黑暗中工作照明是一件好事。 其余工作照常进行，从星期一在数据中心开始，另一个新的冷却器开始工作。 <br><br> 今年三月，我的同事更换了第三台冷风机，这是飓风中幸存的最后一批。 现在Borova拥有3台Stulz制冷机和1台Hiref。 由于分阶段进行了现代化改造，我们现在有大量的冷气供应，而且我们不惧怕最热的天气和白杨蓬松。 新型冷水机在更宽的温度范围内支持冷冻模式，消耗的能量更少，并且运行非常安静。 由于压缩机室是分开的，它们的维护也非常方便：维修时无需完全停止冷却器。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN431434/">https://habr.com/ru/post/zh-CN431434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN431412/index.html">在安全和偏执之间：大型公司的趋势</a></li>
<li><a href="../zh-CN431418/index.html">如何教人工智能常识</a></li>
<li><a href="../zh-CN431424/index.html">Carbon M2 3D打印机和机器人：快速3D打印</a></li>
<li><a href="../zh-CN431428/index.html">完整的CMake指南。 第一部分：语法</a></li>
<li><a href="../zh-CN431430/index.html">参与开源项目可能对公司有利-原因和作用</a></li>
<li><a href="../zh-CN431436/index.html">为什么SRE文档很重要。 第二部分</a></li>
<li><a href="../zh-CN431438/index.html">朱莉娅 字符串和元编程</a></li>
<li><a href="../zh-CN431440/index.html">Timofey Bokarev，有趣的俄罗斯游戏设计师</a></li>
<li><a href="../zh-CN431442/index.html">更新的WD Black NVMe：3D NAND真正具备的功能是什么？</a></li>
<li><a href="../zh-CN431444/index.html">如何计划两周的冲刺</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>