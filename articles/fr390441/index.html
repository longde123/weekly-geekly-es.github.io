<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôíÔ∏è üë®üèø‚Äçüöí üëï Eclipse #include <Arduino.h> üéø üò∑ ü•à</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! 
 R√©cemment, quelques articles ont √©t√© publi√©s sur la GT contre et pour l' utilisation de l'Arduino pour quelque chose de plus rentabl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eclipse #include <Arduino.h></h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/390441/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour √† tous! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©cemment, quelques articles ont √©t√© publi√©s sur la GT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisation de l'Arduino pour quelque chose de plus rentable que les feux clignotants et la cr√©ation de stations m√©t√©orologiques domestiques. Le discours habituel du monde de la technologie, lorsque la technologie devient de plus en plus accessible au grand public, nageait, nous le savons. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ayant une formation technique et une sp√©cialit√© universitaire directement li√©e √† la programmation des microcontr√¥leurs, je comprends ceux qui sont contre. Et ayant de nombreuses ann√©es d'exp√©rience dans la commercialisation non seulement des miens, mais aussi dans une plus large mesure des connaissances et comp√©tences √©trang√®res, je comprends parfaitement ceux qui sont pour cela. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez raison, et vous avez √©galement raison, et la v√©rit√©, comme toujours, est quelque part </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√®s</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du milieu.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, vous devez comprendre de quoi parle l'argument. Arduino n'est pas seulement des microcontr√¥leurs magnifiquement emball√©s par des Italiens dans des cartes et des bo√Ætiers de circuits imprim√©s, et pas seulement l'environnement de d√©veloppement Arduino IDE. Tout d'abord, ce sont des biblioth√®ques pour un d√©veloppement rapide, et √† mon avis, elles sont de la plus grande valeur. Si vous regardez les sch√©mas de circuits des cartes Arduino, nous ne verrons rien de particuli√®rement impressionnant. Environnement de d√©veloppement ... Disons simplement </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu'il n'atteint pas tout √† fait le mod√®le Borland C ++ de 1994</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous le savons, ces biblioth√®ques sont distribu√©es sous licence GNU, elles peuvent √™tre prises et utilis√©es sans payer de redevances √† leurs cr√©ateurs. </font><font style="vertical-align: inherit;">Un tel mod√®le d'entreprise n√©cessite de gagner de l'argent sur autre chose que des redevances. </font><font style="vertical-align: inherit;">Ils gagnent donc en produisant et en vendant dans un bel emballage pour 20 dollars ce qu'un ing√©nieur en √©lectronique ach√®tera pour 20 cents. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et l'important ici n'est pas qu'ils soient une bourgeoisie aussi avide, volant les travailleurs et r√©pr√©hensible de toute l'humanit√© progressiste, mais pourquoi ils peuvent le faire. </font><font style="vertical-align: inherit;">Parce que:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ils √©taient au bon moment au bon endroit et ont vu les premi√®res opportunit√©s que d'autres ne voyaient pas;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ils ont mis √† la disposition du consommateur ce qui √©tait auparavant accessible √† un cercle restreint d'individus limit√©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout √©tait joliment emball√© et pr√©sent√© au consommateur sous une forme pr√™te √† l'emploi.</font></font></li>
</ul><br>
<br>
  ,              .     Arduino      ‚Äî  .<br>
 ‚Äî      .   ,        <b></b>               .<br>
<br>
,    ,    - -,           86%     .       :<br>
<ol>
<li>  ?</li>
<li>  ?</li>
</ol><br>
(        ¬´¬ª)<br>
<table>
<tbody><tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>    ,   ,                              .</td>
<td>    ,    ,    .      M    X  Y    Z .</td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de mon exp√©rience professionnelle, j'ose dire que le client choisira le chemin du </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fumeur de l'</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©couvrez comment utiliser Arduino √† leurs propres fins √©go√Østes, avec le </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blackjack et le</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©veloppement de groupe, le contr√¥le de version, la documentation du projet et d'autres cygnes en peluche du monde du d√©veloppement commercial. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, tout est tr√®s simple. Pour cela, outre les d√©veloppeurs, nous avons besoin d'un environnement de d√©veloppement et d'un stand sur lequel ils peuvent se d√©velopper. C ++, c'est en Afrique C ++, AVR et en Arduino reste AVR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant qu'environnement, consid√©rez Eclipse. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici un tr√®s bon article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la fa√ßon de configurer d'abord Eclipse pour fonctionner avec la cha√Æne d'outils AVR, puis de connecter les biblioth√®ques Arduino et de faire clignoter la LED sur Uno.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et ici c'est encore mieux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais en anglais. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais les compl√©ter avec quelques r√¢teaux sur lesquels j'ai march√©, peut-√™tre que cela fera gagner quelques heures √† quelqu'un. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les √©l√©ments suivants sont d√©crits pour Linux et Leonardo. </font><font style="vertical-align: inherit;">Pour Windows, vous devez d'abord installer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MinGW / msys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour construire toutes les sources incluses dans le noyau Arduino, vous devez d√©finir correctement les constantes du pr√©processeur. </font><font style="vertical-align: inherit;">Si vous regardez le code source des biblioth√®ques, vous pouvez voir de nombreuses structures de compilation conditionnelle #ifdef #else #endif. </font><font style="vertical-align: inherit;">Dans un article par r√©f√©rence, l'auteur a tout not√© en prenant un fichier .a pr√™t √† l'emploi compil√© par l'IDE Arduino. </font><font style="vertical-align: inherit;">Mais toutes les biblioth√®ques ne tombent pas dans le noyau, par exemple, SPI et Ethernet ne tombent pas dedans, et les m√™mes blagues avec compilation conditionnelle nous y attendent.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©couvrir quelles constantes et comment d√©finir peut √™tre tr√®s simple.</font></font><br>
<ol>
<li> Arduino IDE</li>
<li> ,     </li>
<li> ‚Äî  ‚Äî    ‚Äî </li>
<li>     ,   <br>
<pre><code class="bash hljs">*** avr-g++ -c -g -Os -w -std=gnu++11 -fno-exceptions -ffunction-sections -fdata-sections -fno-threadsafe-statics  -w -x c++ -E -CC -mmcu=atmega32u4 -DF_CPU=16000000L -DARDUINO=10607 -DARDUINO_AVR_LEONARDO -DARDUINO_ARCH_AVR  -DUSB_VID=0x2341 -DUSB_PID=0x8036 <span class="hljs-string"><span class="hljs-string">'-DUSB_MANUFACTURER="Unknown"'</span></span> <span class="hljs-string"><span class="hljs-string">'-DUSB_PRODUCT="Arduino Leonardo"'</span></span> ***
</code></pre><br>
,     -D ( F_CPU,  Eclipse  )       Eclipse.<br>
</li>
</ol><br>
<img src="https://habrastorage.org/files/b65/27d/dc8/b6527ddc8f374bd193b728fb70856b5b.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que le compilateur trouve tous les fichiers .h que nous voulons utiliser dans le projet, nous devons sp√©cifier leur chemin d'acc√®s dans les param√®tres. Il y a deux fa√ßons. Vous pouvez sp√©cifier des chemins absolus vers les dossiers IDE Arduino ou lier la biblioth√®que au projet et sp√©cifier le chemin relatif depuis {workspase} / {ProjName}. La deuxi√®me m√©thode vous permettra de compiler le noyau dans Eclipse, bien qu'il n'y ait pas de diff√©rence fondamentale, et dans Arduino IDE et Eclipse, avr-g ++ est responsable de la compilation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, sp√©cifiez le chemin d'acc√®s √† pins_arduino.h pour la carte que nous utilisons dans le projet.</font></font><br>
<img src="https://habrastorage.org/files/23d/006/16a/23d00616a5b04c96b3d33ade8789b44f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas violer la structure harmonieuse des fichiers de la biblioth√®que main.cpp, nous ne le modifierons pas. Il suffit de l'inclure tel qu'il est du noyau dans le projet, et nous appellerons notre fichier un autre nom. Il n'est pas n√©cessaire d'y d√©clarer la fonction main (), elle est d√©j√† dans main.cpp, initialise tout ce qui est n√©cessaire et appelle la fonction loop () dans une boucle infinie, l'√©diteur de liens collectera tout comme il se doit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'environnement est pr√™t √† partir. Nous √©crivons √† peu pr√®s de la m√™me mani√®re que dans l'IDE Arduino, mais ici, ils surveillent un peu plus strictement la conformit√© avec les canons C ++. Et √† tout moment, nous pouvons passer de la programmation de haut niveau √† l'√©tage inf√©rieur. Si la vitesse de travail avec les ports via digitalWrite n'est pas suffisante, nous √©crivons directement sur les ports. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√©las, l'habitude de raccrocher le processeur avec un appel</font></font><pre><code class="cpp hljs">delay(<span class="hljs-number"><span class="hljs-number">5000</span></span>);</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eclipse ne gu√©rit pas. Ceci est enseign√© quelque part au lyc√©e ou au coll√®ge, il p√©n√®tre la personnalit√© si profond√©ment qu'aucune moralisation ne peut conduire une personne sur la bonne voie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour remplir Arduino IDE et Eclipse, utilisez l'utilitaire de programmation AVRDude. Elle conna√Æt vraiment des planches comme Uno sous le nom de ¬´arduino¬ª, mais elle refuse cat√©goriquement d'en reconna√Ætre des moins ch√®res comme Leonardo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons sur boards.txt et d√©couvrons que pour le programmeur, le </font><font style="vertical-align: inherit;">
programmeur dans les param√®tres AVRDude s'appelle ¬´Atmel AppNote AVR109 Boot Loader¬ª, le voici: </font><font style="vertical-align: inherit;">
Un petit inconv√©nient est seulement qu'Eclipse ne le fera pas. Vous </font><font style="vertical-align: inherit;">
devrez appuyer sur reset avec les stylos avant le chargement. </font><font style="vertical-align: inherit;">
Eh bien, en conclusion, le m√™me projet, assembl√© dans l'IDE Arduino</font></font><br>
<code>leonardo.upload.protocol=avr109<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/files/a47/e6b/bd4/a47e6bbd4afe47da8374653d5c7792ed.png"><br><font style="vertical-align: inherit;"></font><br>
<code>leonardo.upload.use_1200bps_touch=true<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<code>  28&nbsp;432  (99%)  .   28&nbsp;672 .<br>
   1&nbsp;254  (48%)  ,  1&nbsp;306    . : 2&nbsp;560 .<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et dans Eclipse A </font><font style="vertical-align: inherit;">
bagatelle, mais pour finir c'est juste ces demi-kilos et pas assez.</font></font><br>
<code>Invoking: Print Size<br>
avr-size --format=avr --mcu=atmega32u4 EthernetController.elf<br>
AVR Memory Usage<br>
----------------<br>
Device: atmega32u4<br>
<br>
Program: 27834 bytes (84.9% Full)<br>
(.text + .data + .bootloader)<br>
<br>
Data: 1257 bytes (49.1% Full)<br>
(.data + .bss + .noinit)<br>
<br>
Finished building: sizedummy<br>
</code><br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr390441/">https://habr.com/ru/post/fr390441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr390429/index.html">Faire un simple bateau a√©rodynamique RC</a></li>
<li><a href="../fr390431/index.html">Projecteurs Epson EH-TW5210, EH-TW5300 et EH-TW5350 - meilleurs, plus rapides, plus lumineux</a></li>
<li><a href="../fr390435/index.html">Les math√©maticiens ont construit une carte des connexions dans l'univers de Star Wars</a></li>
<li><a href="../fr390437/index.html">Altim√®tre-variom√®tre √©lectronique fait maison avec signaux sonores et lumineux</a></li>
<li><a href="../fr390439/index.html">Reflets interbandes Andreev sur les contacts de van der Waals entre le graph√®ne et le s√©l√©niure de niobium</a></li>
<li><a href="../fr390447/index.html">Tendances technologiques auxquelles toutes les compagnies a√©riennes et les a√©roports devraient √™tre pr√©par√©s</a></li>
<li><a href="../fr390451/index.html">Concours de robotique scolaire de l'Illinois</a></li>
<li><a href="../fr390453/index.html">Mise √† niveau de la souris - ajout d'inclinaisons de roue, remplacement de l'√©lectronique</a></li>
<li><a href="../fr390455/index.html">Pendant que la bouilloire lit la t√©l√©commande</a></li>
<li><a href="../fr390457/index.html">–í–ø–µ—Ä–≤—ã–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–ª–Ω—ã: —Ç–µ–ø–µ—Ä—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>