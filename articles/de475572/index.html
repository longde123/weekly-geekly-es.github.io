<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçï üî¨ ü•Ñ Open-Source-Software f√ºr LMS: Wie kostenlose Software bei der Verwaltung kritischer Gesch√§ftssysteme bei VTB hilft üë®üèΩ‚Äçü§ù‚Äçüë®üèº üê£ ü•ö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Dokumentationsunterst√ºtzungssystem in unserer Bank wird st√§ndig weiterentwickelt und skaliert, w√§hrend die Anforderungen an Geschwindigkeit und Fe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Open-Source-Software f√ºr LMS: Wie kostenlose Software bei der Verwaltung kritischer Gesch√§ftssysteme bei VTB hilft</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/475572/">  Das Dokumentationsunterst√ºtzungssystem in unserer Bank wird st√§ndig weiterentwickelt und skaliert, w√§hrend die Anforderungen an Geschwindigkeit und Fehlertoleranz immer weiter steigen.  Irgendwann ist die Wartung des LMS ohne effektive zentrale √úberwachung zu riskant geworden.  Um die Gesch√§ftsprozesse bei VTB zu sichern und die Arbeit der Administratoren zu vereinfachen, haben wir eine L√∂sung implementiert, die auf einem Stapel offener Technologien basiert.  Damit k√∂nnen wir proaktiv auf Vorf√§lle reagieren und potenziellen Problemen vorbeugen.  Under the cut - eine Geschichte √ºber unsere Erfahrungen mit der Verwendung von freier Software zur √úberwachung gro√üer Unternehmenssysteme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b05/e47/4d9/b05e474d91c2dfee13074c81bad76950.jpg"><br><a name="habracut"></a><br><h2>  Warum ein Workflow-System √ºberwachen? </h2><br>  Seit 2005 wird das Dokumentationssystem der VTB Bank vom CompanyMedia-System ‚Äûverwaltet‚Äú.  Das SDO besch√§ftigt √ºber 60.000 Benutzer, die monatlich mehr als eine Million neue Dokumente erstellen.  Unsere Server sollten 24 Stunden am Tag funktionieren: Fast zu jeder Zeit sind 2500-3000 Personen im System, die landesweit eine Verbindung zwischen Petropawlowsk-Kamtschatski und Kaliningrad herstellen.  Jede Sekunde des Betriebs des LMS betr√§gt 10-15 √Ñnderungen. <br><br>  Damit das System die ihm zugewiesenen Aufgaben eindeutig erf√ºllen kann, haben wir eine fehlertolerante Infrastruktur bereitgestellt, die Proxyserver, Abfrageausgleich, Informationsschutz, Volltextsuche, Integrationsrouten und Sicherungen verwendet.  Enorme Ressourcen sind erforderlich, um ein Projekt dieser Gr√∂√üenordnung zu unterst√ºtzen und zu verwalten.  Administratoren √ºberwachen rund um die Uhr grundlegende Informationen √ºber den Betrieb von Servern, das Laden des Arbeitsspeichers, die Prozessorzeit, das Eingabe-Ausgabe-Subsystem usw.  Abgesehen davon sind jedoch subtilere Analysen erforderlich: <br><br><ul><li>  Berechnung des Zeitaufwands f√ºr die Ausf√ºhrung von Gesch√§ftsszenarien; <br></li><li>  Verfolgung der Dynamik der Systemleistung und Belastung; <br></li><li>  Suchen Sie nach Abweichungen in Systemkomponenten von genehmigten nicht-funktionalen Anforderungen. <br></li></ul><br>  11 Jahre nach Einf√ºhrung des LMS trat das Problem der proaktiven Reaktion auf verschiedene Arten von Fehlern besonders stark auf.  Die Bankleitung erkannte, dass das Arbeiten ohne Monitore und ohne die Konsole des Systemlebens mit dem Feuer zu spielen ist: Der geringste Fehler in einem Gesch√§ftssystem dieser Stufe ist mit Millionen von Verlusten behaftet. <br><br>  2016 haben wir damit begonnen, Tools zur raschen Identifizierung von Problemen in der Funktionsweise des LMS einzuf√ºhren, unter anderem zur √úberwachung von f√ºr uns interessanten Echtzeitparametern.  Zuvor wurde das Anwendungs√ºberwachungssystem im Rahmen der Unternehmensinfrastruktur von InterTrust bereitgestellt und getestet. <br><br><h2>  Wie alles begann </h2><br>  Heutzutage hilft ein zentrales Anwendungs√ºberwachungssystem f√ºr VTB SDO, das auf Open Source-Software basiert, die meisten Fehler im Zusammenhang mit der Dokumentenverwaltung zu vermeiden, Probleme schnell und genau zu klassifizieren und schnell auf Vorf√§lle zu reagieren.  Es umfasst zwei Subsysteme: <br><br><ul><li>  zur √úberwachung der IT-Infrastruktur von Systemdiensten; <br></li><li>  das Auftreten von Fehlern in der Arbeit des LMS zu √ºberwachen. <br></li></ul><br>  Alles begann mit der einzigen kostenlosen √úberwachungs-App.  Nachdem wir mehrere Optionen durchlaufen hatten, entschieden wir uns f√ºr Zabbix-freie Software, die urspr√ºnglich f√ºr Bankdienstleistungen und -ausr√ºstungen entwickelt wurde.  Dieses webbasierte PHP-System, das Daten in MySQL, PostgreSQL, SQLite oder Oracle Database speichern kann, entspricht genau unseren Anforderungen. <br><br>  Zabbix f√ºhrt seine Agenten auf jedem Server aus und sammelt Informationen zu den relevanten Metriken in Echtzeit in einer einzigen Datenbank.  Mit der Anwendung ist es bequem, Daten √ºber die Auslastung der Prozessoren und des Arbeitsspeichers, √ºber die Verwendung des Netzwerks und anderer Komponenten zu sammeln, die Verf√ºgbarkeit und Reaktion von Standarddiensten (SMTP oder HTTP) zu √ºberpr√ºfen, externe Programme auszuf√ºhren und die √úberwachung √ºber SNMP zu unterst√ºtzen. <br><br>  Durch die Bereitstellung von Zabbix haben wir Standardhardwaremetriken eingerichtet, und anfangs hat es gereicht.  Aber VTB SDO entwickelt sich st√§ndig weiter und w√§chst: 2016 nahm die Anzahl der Server merklich zu, Migrationsprozesse traten auf, die Bank of Moscow, VTB Capital, VTB24 schlossen sich an das System an.  Es gibt weniger Standardmetriken, und wir haben Zabbix beigebracht, Informationen √ºber das Vorhandensein von Warteschlangen auf jedem der mit dem Server verbundenen Volumes (im Zabbix-Feld wird nur die allgemeine Festplattenwarteschlange angezeigt) sowie √ºber die Zeit zu protokollieren, die f√ºr die Verarbeitung eines bestimmten Vorgangs erforderlich ist. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d3e/e05/b67/d3ee05b67fa8025031b1814ea975fbc5.jpg"><br><br>  Dar√ºber hinaus haben wir das System mit mehreren Triggern ausgestattet - den Bedingungen, unter denen eine Benachrichtigung an den Administrator gesendet wird (Nachricht an Telegramm, SMS an eine Telefonnummer oder E-Mail).  Trigger k√∂nnen f√ºr jeden Parametersatz angepasst werden.  Beispielsweise k√∂nnen Sie einen bestimmten Prozentsatz des freien Speicherplatzes angeben. Das System benachrichtigt den Administrator, wenn der festgelegte Schwellenwert erreicht ist, oder informiert ihn, wenn ein Hintergrundvorgang l√§nger als gew√∂hnlich dauert. <br><br><h2>  Java-Konnektivit√§t und Datenvisualisierung </h2><br>  Wir haben den Umfang der analysierten Daten erheblich erweitert, dies reichte jedoch bald nicht mehr f√ºr eine wirksame √úberwachung aus.  Ausgehend von der Tatsache, dass CompanyMedia DLS eine Java-Anwendung ist, haben wir uns √ºber die JMX-Schnittstelle mit der Java Virtual Machine verbunden und konnten Java-Metriken direkt erfassen.  Dar√ºber hinaus beziehen sich nicht nur die Standardfunktionen von Java Vital, wie die Intensit√§t des GC- oder Heap-Verbrauchs, sondern auch bestimmte Beispiele direkt auf den ausf√ºhrbaren Code der Anwendung. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/569/a2a/56d/569a2a56d9b7e7e6956a78d13ed6ab5d.jpg"><br><br>  Im Jahr 2017, etwa ein Jahr nach der Einf√ºhrung des √úberwachungssystems, wurde deutlich, dass es f√ºr die normale Arbeit mit dem in Zabbix gesammelten kolossalen Datenarray nicht gen√ºgend Visualisierungs-komplexe Bildschirme gibt.  Die beste L√∂sung f√ºr dieses Problem war erneut die kostenlose Software Grafana, ein praktisches Dashboard f√ºr Metriken, mit dem Sie alle Daten auf einem Bildschirm zusammenfassen k√∂nnen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/228/3c0/def/2283c0def9fc3f5209baa8ccaec6edea.jpg"><br><br>  Grafanas interaktive Oberfl√§che erinnert an ein OLAP-System.  Das Subsystem zeigt die Daten, die Zabbix empf√§ngt, auf einem einzigen Bildschirm an und pr√§sentiert die Informationen in Form von Grafiken und Diagrammen, die f√ºr die Analyse geeignet sind.  Der Administrator kann die von ihm ben√∂tigten Slices problemlos anpassen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/03e/e95/fe5/03ee95fe517f5ddead62e929160a685b.jpg"><br><br><h2>  √úberwachung und vorbeugende Fehlersuche im LMS-System </h2><br>  Das Filtern und Analysieren der w√§hrend der √úberwachung empfangenen Informationen hilft der Open Source-Softwareplattform von ELK.  Dieses Open Source-Produkt besteht aus drei leistungsstarken Tools zum Sammeln, Speichern und Analysieren von Daten: Elasticsearch, Logstash und Kibana.  Durch die Implementierung dieses Subsystems kann insbesondere in Echtzeit festgestellt werden, wie viele Fehler im System aufgetreten sind, auf welchen Servern und ob sich diese Fehler wiederholen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61d/478/2b4/61d4782b468e8914666ca6dcab2d251a.jpg"><br><br>  Jetzt kann der Administrator das Problem fr√ºhzeitig erkennen, noch bevor der Benutzer darauf st√∂√üt.  Eine solche proaktive √úberwachung beugt Systemfehlern vor, indem Fehler rechtzeitig beseitigt werden.  Dar√ºber hinaus k√∂nnen wir nachvollziehen, wie sich das Verhalten des Systems nach dem Update ge√§ndert hat, und neue Probleme erkennen, falls sie auftreten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ed/bed/860/4edbed860c81e8039f8ec8307e726d65.jpg"><br><br><h2>  √úberwachung des Gesch√§ftsbetriebs </h2><br>  Zus√§tzlich zu den grundlegenden Funktionen zur √úberwachung des Ressourcenverbrauchs bietet das System die M√∂glichkeit, Gesch√§ftsvorg√§nge zu analysieren und zu steuern. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1f4/475/45f/1f447545f2cc00b92a5e837d6405f20a.jpg"><br><br>  Durch die √úberwachung der Gesamtbetriebszeit k√∂nnen Sie neue Faktoren identifizieren und deren Auswirkungen auf das System nachvollziehen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc4/e6a/139/cc4e6a139580113d7b03d30a3ad4e2c2.jpg"><br><br>  Durch die √úberwachung des Ausf√ºhrungszeitpunkts von Anforderungen im Kontext jedes Gesch√§ftsdienstes k√∂nnen Vorg√§nge erkannt werden, die von der Norm abweichen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ab/fb5/1e5/8abfb51e549da3086fa87eb552c77d4c.jpg"><br><br>  Der Screenshot oben zeigt ein Beispiel f√ºr die √úberwachung einer Hintergrundaufgabe hinsichtlich ihrer Abweichung von der Norm. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fdd/d0d/89c/fddd0d89cfdbb25691925d9193174b36.jpg"><br><br>  Mithilfe der Liste der √ºberwachten Aufgaben in Bezug auf ihre Aktivit√§t auf einem bestimmten Server k√∂nnen Sie Fehler - einschlie√ülich der Duplizierung der Aufgabenausf√ºhrung - auf allen Servern identifizieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/034/353/c80/034353c80c96cd06f5228d37f7e51c24.jpg"><br><br>  Au√üerdem werden Trends in der Ausf√ºhrungszeit von Hintergrundprozeduren √ºberwacht. <br><br><h2>  Das System w√§chst, entwickelt und hilft, Probleme zu bew√§ltigen. </h2><br>  Mit der Implementierung des beschriebenen Systems wurde die √úberwachung des Betriebs von DLS-Servern stark vereinfacht.  Es treten jedoch regelm√§√üig verschiedene Konflikte auf, die die Geschwindigkeit des Workflows beeintr√§chtigen und Benutzerbeschwerden verursachen.  Wir haben erkannt, dass es notwendig ist, das Verhalten der Anwendung selbst und nicht nur der Server zu steuern. <br><br>  Um dieses Problem zu l√∂sen, wurde ein Balancer √ºber die API, die mit einem Cluster von Anwendungsservern zusammenarbeitet, mit dem √úberwachungssystem verbunden.  Dadurch kann der Administrator sehen, wie lange der Server f√ºr jede Benutzeranforderung zust√§ndig ist. <br><br>  Daten zu Serverantwortzeiten wurden f√ºr die Analyse verf√ºgbar, wodurch es m√∂glich wurde, die Verlangsamung des DLS mit den auf dem Server ablaufenden Prozessen zu verkn√ºpfen.  Insbesondere wurde eine interessante Situation aufgedeckt: Der Server ist langsam, obwohl er momentan nicht geladen ist.  Bei der Analyse der Anomalie haben wir Abweichungen im Betrieb des Garbage Collector Java festgestellt.  Am Ende stellte sich heraus, dass es der fehlerhafte Betrieb dieses Dienstes war, der zu dieser Situation f√ºhrte.  Wir haben die Kontrolle √ºber den Garbage Collector Java √ºbernommen und das Problem vollst√§ndig behoben. <br><br>  <i>Auf diese Weise hilft freie Software, ein Dokumentenverwaltungssystem im Bankensektor zu entwickeln und zu erweitern.</i>  <i>Wir haben nur die Hauptthemen in Bezug auf das √úberwachungssystem von VTB LMS angesprochen.</i>  <i>Wenn Sie an den Details interessiert sind - fragen Sie in den Kommentaren nach, wir teilen Ihnen gerne unsere Erfahrungen mit.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475572/">https://habr.com/ru/post/de475572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475558/index.html">IT-W√∂rterbuch oder was? Wo? Wohin Teil 1</a></li>
<li><a href="../de475560/index.html">KotlinConf 2019 Live: Sehen Sie vom 5. bis 6. Dezember live zu</a></li>
<li><a href="../de475562/index.html">MVC in Einheit mit skriptf√§higen Objekten. Teil 1</a></li>
<li><a href="../de475564/index.html">Kaizen in der Softwareentwicklung - aus eigener Erfahrung</a></li>
<li><a href="../de475568/index.html">Ist Hadoop tot? Teil 1</a></li>
<li><a href="../de475576/index.html">Programmcode im Auto</a></li>
<li><a href="../de475578/index.html">Was Sie √ºber die Olympiade ‚ÄûIch bin ein Profi‚Äú wissen m√ºssen: Wir sprechen √ºber die Bereiche Big Data und Robotik</a></li>
<li><a href="../de475580/index.html">Wie "Toy Story 2" Pixar zweimal gel√∂scht wurde: zuerst aus Versehen und dann wegen des Strebens nach Exzellenz</a></li>
<li><a href="../de475582/index.html">Das Monetarisierungsproblem: Warum der beliebte App Store Open Source-Dienstprogramme l√∂scht</a></li>
<li><a href="../de475584/index.html">Wie sind die Abschnitte zum maschinellen Lernen bei Yandex-Interviews?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>