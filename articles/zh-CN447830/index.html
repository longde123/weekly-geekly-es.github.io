<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›‘ï¸ ğŸ“¦ ğŸ‘¾ è¯¥ä»£ç æ˜¯æ´»çš„è¿˜æ˜¯æ­»çš„ã€‚ ç¬¬ä¸‰éƒ¨åˆ†ã€‚ æ–‡å­—ç¼–ç  ğŸ‘¶ğŸ¼ ğŸ‘ğŸ» ğŸ¤™ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¦ä¸è¯¥ç¨‹åºä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨å¿…é¡»é˜…è¯»ä»£ç ï¼Œå¹¶ä¸”æ‰§è¡Œèµ·æ¥è¶Šå®¹æ˜“ï¼Œå®ƒçœ‹èµ·æ¥å°±è¶Šåƒè‡ªç„¶è¯­è¨€-ç„¶åæ‚¨å°±å¯ä»¥å¿«é€Ÿæ·±å…¥å¹¶ä¸“æ³¨äºä¸»è¦å†…å®¹ã€‚ 


åœ¨æœ€åä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å±•ç¤ºäº†ç²¾å¿ƒé€‰æ‹©çš„å•è¯æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£æ‰€å†™å†…å®¹çš„æœ¬è´¨ï¼Œä½†ä»…æ€è€ƒå®ƒä»¬æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæ¯ä¸ªå•è¯éƒ½ä»¥ä¸¤ç§å½¢å¼å­˜åœ¨ï¼šæœ¬èº«å’Œä½œä¸ºå¥å­çš„ä¸€éƒ¨åˆ†ã€‚ ç›´åˆ°æˆ‘ä»¬åœ¨Thread....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è¯¥ä»£ç æ˜¯æ´»çš„è¿˜æ˜¯æ­»çš„ã€‚ ç¬¬ä¸‰éƒ¨åˆ†ã€‚ æ–‡å­—ç¼–ç </h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/447830/"><p> è¦ä¸è¯¥ç¨‹åºä¸€èµ·ä½¿ç”¨ï¼Œæ‚¨å¿…é¡»é˜…è¯»ä»£ç ï¼Œå¹¶ä¸”æ‰§è¡Œèµ·æ¥è¶Šå®¹æ˜“ï¼Œå®ƒçœ‹èµ·æ¥å°±è¶Šåƒè‡ªç„¶è¯­è¨€-ç„¶åæ‚¨å°±å¯ä»¥å¿«é€Ÿæ·±å…¥å¹¶ä¸“æ³¨äºä¸»è¦å†…å®¹ã€‚ </p><br><p>åœ¨æœ€åä¸¤ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å±•ç¤ºäº†ç²¾å¿ƒé€‰æ‹©çš„å•è¯æœ‰åŠ©äºæ›´å¥½åœ°ç†è§£æ‰€å†™å†…å®¹çš„æœ¬è´¨ï¼Œä½†<em>ä»…</em>æ€è€ƒå®ƒä»¬æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæ¯ä¸ªå•è¯éƒ½ä»¥ä¸¤ç§å½¢å¼å­˜åœ¨ï¼šæœ¬èº«å’Œä½œä¸ºå¥å­çš„ä¸€éƒ¨åˆ†ã€‚ ç›´åˆ°æˆ‘ä»¬åœ¨<code>Thread.CurrentThread</code>çš„ä¸Šä¸‹æ–‡ä¸­<em>è¯»å–</em> <code>CurrentThread</code>ä¹‹å‰ï¼Œå®ƒéƒ½ä¸ä¼šé‡å¤ã€‚ </p><br><p> å› æ­¤ï¼Œåœ¨éŸ³ç¬¦å’Œç®€å•æ—‹å¾‹çš„æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬ç°åœ¨å°†äº†è§£ä»€ä¹ˆæ˜¯éŸ³ä¹ã€‚ </p><a name="habracut"></a><br><h2 id="oglavlenie-cikla"> å¾ªç¯ç›®å½• </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¯¹è±¡</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŠ¨ä½œå’Œå±æ€§</a> </li><li> æ–‡å­—ç¼–ç  </li></ol><br><h2 id="kod-kak-tekst"> æ–‡å­—ç¼–ç  </h2><br><p> å¤§å¤šæ•°<em>æµç•…çš„</em>ç•Œé¢åœ¨è®¾è®¡æ—¶éƒ½ä¾§é‡äºå¤–éƒ¨è€Œä¸æ˜¯å†…éƒ¨ï¼Œå› æ­¤å®ƒä»¬éå¸¸æ˜“äºé˜…è¯»ã€‚ å½“ç„¶ï¼Œè¿™ä¸æ˜¯å…è´¹çš„ï¼šä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œå†…å®¹æ­£åœ¨å‡å¼±ã€‚ å‡è®¾ï¼Œåœ¨<code>FluentAssertions</code>åŒ…ä¸­ï¼Œ <code>FluentAssertions</code>å¯ä»¥ç¼–å†™ï¼š <code>(2 + 2).Should().Be(4, because: "2 + 2 is 4!")</code>å¹¶ä¸”ï¼Œç›¸å¯¹äºé˜…è¯»ï¼Œ <code>because</code>çœ‹èµ·æ¥å¾ˆä¼˜é›…ï¼Œä½†æ˜¯åœ¨<code>Be()</code> ï¼Œ <code>errorMessage</code>ä½¿ç”¨<code>error</code>æˆ–<code>errorMessage</code>å‚æ•°ã€‚ </p><br><p> æˆ‘è®¤ä¸ºï¼Œè¿™ç§è±å…å¹¶ä¸é‡è¦ã€‚ å½“æˆ‘ä»¬åŒæ„ä»£ç æ˜¯æ–‡æœ¬æ—¶ï¼Œå…¶ç»„æˆéƒ¨åˆ†ä¸å†å±äºè‡ªå·±ï¼šå®ƒä»¬ç°åœ¨æ˜¯æŸç§é€šç”¨çš„<em>â€œä»¥å¤ªâ€çš„ä¸€éƒ¨åˆ†</em> ã€‚ </p><br><p> æˆ‘å°†é€šè¿‡ç¤ºä¾‹å±•ç¤ºå¦‚ä½•å°†è¿™äº›è€ƒè™‘å˜ä¸ºç»éªŒã€‚ </p><br><h3 id="interlocked"> <code>Interlocked</code> </h3> <br><p> è®©æˆ‘æƒ³èµ·æ‚¨<code>Interlocked.CompareExchange(ref x, newX, oldX)</code>çš„<code>Interlocked</code>æƒ…å†µï¼Œæˆ‘ä»¬å°†<code>Interlocked.CompareExchange(ref x, newX, oldX)</code>è½¬æ¢ä¸º<code>Interlocked.CompareExchange(ref x, newX, oldX)</code> <code>Atomically.Change(ref x, from: oldX, to: newX)</code> ï¼Œä½¿ç”¨æ˜ç¡®çš„æ–¹æ³•å’Œå‚æ•°åç§°ã€‚ </p><br><h3 id="exceptwith"> <code>ExceptWith</code> </h3> <br><p>  <code>ISet&lt;&gt;</code>ç±»å‹å…·æœ‰ä¸€ä¸ªåä¸º<code>ExceptWith</code>çš„æ–¹æ³•ã€‚ å¦‚æœæ‚¨æŸ¥çœ‹ç±»ä¼¼äº<code>items.ExceptWith(other)</code>çš„å‘¼å«ï¼Œæ‚¨å°†ä¸ä¼šç«‹å³æ„è¯†åˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚ ä½†æ˜¯ï¼Œæ‚¨åªéœ€ç¼–å†™ï¼š <code>items.Exclude(other)</code> ï¼Œä¸€åˆ‡éƒ½å‡†å¤‡å°±ç»ªã€‚ </p><br><h3 id="getvalueordefault"> <code>GetValueOrDefault</code> </h3> <br><p> ä½¿ç”¨<code>Nullable&lt;T&gt;</code>å¦‚æœ<code>x</code>ä¸º<code>null</code> <code>Nullable&lt;T&gt;</code>è°ƒç”¨<code>x.Value</code>å°†å¼•å‘å¼‚å¸¸ã€‚ å¦‚æœä»ç„¶éœ€è¦è·å–<code>Value</code> ï¼Œè¯·ä½¿ç”¨<code>x.GetValueOrDefault</code> ï¼šå®ƒæ˜¯<code>Value</code>æˆ–é»˜è®¤å€¼ã€‚ å¤§å—å¤´ </p><br><p> è¡¨è¾¾å¼<em>â€œæˆ–xæˆ–é»˜è®¤å€¼â€</em>ä¸ç®€çŸ­çš„<code>x.OrDefault</code>åŒ¹é…ã€‚ </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span>? x = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = x.GetValueOrDefault(); <span class="hljs-comment"><span class="hljs-comment">// ,  .  . var b = x.OrDefault(); //  â€”  ,   . var c = x.Or(10); //     .</span></span></code> </pre> <br><p> ä½¿ç”¨<code>OrDefault</code>å’Œ<code>Or</code> ï¼Œéœ€è¦è®°ä½ä¸€ä»¶äº‹ï¼šä¸è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨æ—¶<code>.?</code> æ‚¨ä¸èƒ½ç¼–å†™ç±»ä¼¼<code>x?.IsEnabled.Or(false)</code> ï¼Œåªèƒ½ç¼–å†™<code>(x?.IsEnabled).Or(false)</code> ï¼ˆæ¢å¥è¯è¯´ï¼Œå¦‚æœå·¦ä¾§ä¸º<code>null</code> ï¼Œåˆ™<code>.?</code>è¿ç®—ç¬¦å°†å–æ¶ˆ<em>æ•´ä¸ª</em>å³ä¾§ï¼‰ã€‚ </p><br><p> ä½¿ç”¨<code>IEnumerable&lt;T&gt;</code>æ—¶å¯ä»¥åº”ç”¨æ¨¡æ¿ï¼š </p><br><pre> <code class="cs hljs">IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; numbers = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">// . var x = numbers ?? Enumerable.Empty&lt;int&gt;(); //   . var x = numbers.OrEmpty();</span></span></code> </pre> <br><h3 id="mathmin-i-mathmax">  <code>Math.Min</code>å’Œ<code>Math.Max</code> </h3><br><p> å¸¦æœ‰<code>Or</code>çš„æƒ³æ³•å¯ä»¥å‘å±•ä¸ºæ•°å­—ç±»å‹ã€‚ å‡è®¾æ‚¨è¦ä»<code>a</code>å’Œ<code>b</code>å–æœ€å¤§æ•°ã€‚ ç„¶åæˆ‘ä»¬å†™ï¼š <code>Math.Max(a, b)</code>æˆ–<code>a &gt; b ? a : b</code>  <code>a &gt; b ? a : b</code> ã€‚ è¿™ä¸¤ä¸ªé€‰é¡¹çœ‹èµ·æ¥éƒ½å¾ˆç†Ÿæ‚‰ï¼Œä½†æ˜¯çœ‹èµ·æ¥å´ä¸æ˜¯è‡ªç„¶è¯­è¨€ã€‚ </p><br><p> æ‚¨å¯ä»¥å°†å…¶æ›¿æ¢ä¸ºï¼š <code>a</code> <em>æˆ–</em> <code>a.Or(b).IfLess()</code> - <em>å¦‚æœ</em> <code>a</code> <em>å°äº</em> <em>åˆ™</em> <em>å–</em> <code>a</code> <em>æˆ–</em> <code>b</code> ã€‚ é€‚ç”¨äºä»¥ä¸‹æƒ…å†µï¼š </p><br><pre> <code class="cs hljs">Creature creature = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> damage = ...; <span class="hljs-comment"><span class="hljs-comment">//   . creature.Health = Math.Max(creature.Health - damage, 0); // Fluent. creature.Health = (creature.Health - damage).Or(0).IfGreater(); //   : creature.Health = (creature.Health - damage).ButNotLess(than: 0);</span></span></code> </pre> <br><h3 id="stringjoin"> <code>string.Join</code> </h3> <br><p> æœ‰æ—¶æ‚¨éœ€è¦å°†åºåˆ—ç»„è£…æˆå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨ç©ºæ ¼æˆ–é€—å·åˆ†éš”å…ƒç´ ã€‚ ä¸ºæ­¤ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨<code>string.Join</code> ï¼Œä¾‹å¦‚ï¼š <code>string.Join(", ", new [] { 1, 2, 3 }); //  "1, 2, 3".</code> <code>string.Join(", ", new [] { 1, 2, 3 }); //  "1, 2, 3".</code>  ã€‚ </p><br><p> ä¸€ä¸ªç®€å•çš„<em>â€œå°†é€—å·åˆ†éš”â€</em>å¯èƒ½çªç„¶å˜æˆ<em>â€œå°†é€—å·æ·»åŠ åˆ°åˆ—è¡¨ä¸­çš„æ¯ä¸ªæ•°å­—â€</em> â€“è¿™å½“ç„¶ä¸æ˜¯æ–‡æœ¬ä»£ç ã€‚ </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> numbers = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> [] { <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span> }; <span class="hljs-comment"><span class="hljs-comment">// ""    â€”  . var x = string.Join(", ", numbers); //    â€” ! var x = numbers.Separated(with: ", ");</span></span></code> </pre> <br><h3 id="regex"> <code>Regex</code> </h3> <br><p> ä½†æ˜¯ï¼Œä¸æœ‰æ—¶ä¸æ­£ç¡®åœ°ä½¿ç”¨<code>Regex</code>ä»¥åŠå°†å…¶ç”¨äºå…¶ä»–ç›®çš„ç›¸æ¯”ï¼Œ <code>string.Join</code>å®Œå…¨æ²¡æœ‰å®³å¤„ã€‚ å¯ä»¥é€šè¿‡ç®€å•æ˜“è¯»çš„æ–‡æœ¬è·å¾—å¸®åŠ©çš„åœ°æ–¹ï¼Œå‡ºäºæŸç§åŸå› ï¼Œé¦–é€‰è¿‡äºå¤æ‚çš„æ¡ç›®ã€‚ </p><br><p> è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„å¼€å§‹-ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²ä»£è¡¨ä¸€ç»„æ•°å­—ï¼š </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">// ,  . var x = Regex.IsMatch(id, "^[0-9]*$"); // . var x = id.All(x =&gt; x.IsDigit()); // ! var x = id.IsNumer();</span></span></code> </pre> <br><p> å¦ä¸€ç§æƒ…å†µæ˜¯ä»åºåˆ—ä¸­æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ï¼š </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> text = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = Regex.IsMatch(text, @"["&lt;&gt;[]'"); //   . ( .) var x = text.ContainsAnyOf('"', '&lt;', '&gt;', '[', ']', '\''); //  . var x = text.ContainsAny(charOf: @"["&lt;&gt;[]'");</span></span></code> </pre> <br><p> ä»»åŠ¡è¶Šå¤æ‚ï¼Œè§£å†³æ–¹æ¡ˆâ€œæ¨¡å¼â€å°±è¶Šå›°éš¾ï¼šå°†<code>"HelloWorld"</code>çš„è®°å½•æ‹†åˆ†ä¸ºå‡ ä¸ªè¯<code>"Hello World"</code> ï¼Œåˆ™æœ‰äººä¼šç”¨ä¸€ç§ç®€å•çš„ç®—æ³•æ¥ä»£æ›¿æ€ªç‰©ï¼š </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> text = ...; <span class="hljs-comment"><span class="hljs-comment">//   -   . var x = Regex.Replace(text, "([az](?=[AZ])|[AZ](?=[AZ][az]))", "$1 "); //  . var x = text.PascalCaseWords().Separated(with: " "); //   . var x = text.AsWords(eachStartsWith: x =&gt; x.IsUpper()).Separated(with: " ");</span></span></code> </pre> <br><p> æ¯«æ— ç–‘é—®ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯æœ‰æ•ˆä¸”é€šç”¨çš„ï¼Œä½†æ˜¯æˆ‘æƒ³ä¸€çœ¼å°±çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆã€‚ </p><br><h3 id="substring-i-remove">  <code>Substring</code>å¹¶<code>Remove</code> </h3><br><p> ç¢°å·§æ‚¨éœ€è¦ä»è¡Œçš„å¼€å¤´æˆ–ç»“å°¾åˆ é™¤éƒ¨åˆ†å†…å®¹ï¼Œä¾‹å¦‚ï¼Œä»<code>path</code> -æ‰©å±•å<code>.txt</code> ï¼ˆå¦‚æœæœ‰ï¼‰ä¸­åˆ é™¤ã€‚ </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> path = ...; <span class="hljs-comment"><span class="hljs-comment">//    . var x = path.EndsWith(".txt") ? path.Remove(path.Length - "txt".Length) : path; //   . var x = path.Without(".exe").AtEnd;</span></span></code> </pre> <br><p> åŒæ ·ï¼Œ <em>æ“ä½œ</em>å’Œ<em>ç®—æ³•ä¹Ÿ</em>æ¶ˆå¤±äº†ï¼Œ <em>åªå‰©ä¸‹äº†ä¸€è¡Œï¼Œç»“å°¾æ²¡æœ‰.exeæ‰©å±•å</em> ã€‚ </p><br><p> ç”±äº<code>Without</code>æ–¹æ³•åº”è¯¥è¿”å›ç‰¹å®šçš„<code>WithoutExpression</code> ï¼Œå› æ­¤å®ƒä»¬ä¼šè¯·æ±‚å¦ä¸€ä¸ªï¼š <code>path.Without("_").AtStart</code>å’Œ<code>path.Without("Something").Anywhere</code> ã€‚ åŒæ ·æœ‰è¶£çš„æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å•è¯æ„é€ å¦ä¸€ä¸ªè¡¨è¾¾å¼ï¼š <code>name.Without(charAt: 1)</code> -åˆ é™¤ç´¢å¼•1å¤„çš„å­—ç¬¦å¹¶è¿”å›æ–°è¡Œï¼ˆåœ¨è®¡ç®—æ’åˆ—ä¸­å¾ˆæœ‰ç”¨ï¼‰ã€‚ è€Œä¸”å¯è¯»æ€§å¼ºï¼ </p><br><h3 id="typegetmethods"> <code>Type.GetMethods</code> </h3> <br><p> è¦ä½¿ç”¨åå°„è·å–æŸç§ç±»å‹çš„æ–¹æ³•ï¼Œè¯·ä½¿ç”¨ï¼š </p><br><pre> <code class="cs hljs">Type type = ...; <span class="hljs-comment"><span class="hljs-comment">//   `Get` ,   `|`.     . var x = type.GetMethods(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance); // ,  . `Or`   , . var x = type.Methods(_ =&gt; _.Instance.Public.Or.NonPublic);</span></span></code> </pre> <br><p>  ï¼ˆå¯¹äº<code>GetFields</code>å’Œ<code>GetProperties</code> ã€‚ï¼‰ </p><br><h3 id="directorycopy"> <code>Directory.Copy</code> </h3> <br><p> æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„æ‰€æœ‰æ“ä½œé€šå¸¸è¢«æ¦‚æ‹¬ä¸º<code>DirectoryUtils</code> ï¼Œ <code>FileSystemHelper</code> ã€‚ å®ƒä»¬å®ç°æ–‡ä»¶ç³»ç»Ÿæ—è·¯ï¼Œæ¸…ç†ï¼Œå¤åˆ¶ç­‰ã€‚ ä½†æ˜¯åœ¨è¿™é‡Œæ‚¨å¯ä»¥æå‡ºæ›´å¥½çš„å»ºè®®ï¼ </p><br><p> æˆ‘ä»¬å°†æ–‡æœ¬<em>â€œå°†æ‰€æœ‰æ–‡ä»¶ä»'Dï¼š\ Source'å¤åˆ¶åˆ°'Dï¼š\ Target'â€æ˜¾ç¤º</em>ä¸ºä»£ç <code>"D:\\Source".AsDirectory().Copy().Files.To("D:\\Target")</code>  <code>AsDirectory()</code> -ä»<code>string</code>è¿”å›<code>DirectoryInfo</code> ï¼Œè€Œ<code>Copy()</code> -åˆ›å»ºä¸€ä¸ª<code>CopyExpression</code>å®ä¾‹ï¼Œè¯¥å®ä¾‹æè¿°ç”¨äºæ„é€ è¡¨è¾¾å¼çš„å”¯ä¸€APIï¼ˆä¾‹å¦‚ï¼Œæ‚¨ä¸èƒ½è°ƒç”¨<code>Copy().Files.Files</code> ï¼‰ã€‚ ç„¶åæœºä¼šæ‰“å¼€äº†ï¼Œä¸æ˜¯å¤åˆ¶æ‰€æœ‰æ–‡ä»¶ï¼Œè€Œæ˜¯<code>Copy().Files.Where(x =&gt; x.IsNotEmpty)</code>ä¸€äº›æ–‡ä»¶ï¼š <code>Copy().Files.Where(x =&gt; x.IsNotEmpty)</code> ã€‚ </p><br><h3 id="getorderbyid"> <code>GetOrderById</code> </h3> <br><p> åœ¨ç¬¬äºŒç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å†™é“<code>IUsersRepository.GetUser(int id)</code>æ˜¯å¤šä½™çš„ï¼Œæ›´å¥½çš„æ˜¯<code>IUsersRepository.User(int id)</code> ã€‚ å› æ­¤ï¼Œåœ¨ç±»ä¼¼çš„<code>IOrdersRepository</code>æˆ‘ä»¬æ²¡æœ‰<code>IOrdersRepository</code> <code>GetOrderById(int id)</code> ï¼Œè€Œæ˜¯<code>Order(int id)</code> ã€‚ ä½†æ˜¯ï¼Œåœ¨å¦ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œå»ºè®®å°†æ­¤ç±»å­˜å‚¨åº“çš„å˜é‡ç§°ä¸º<code>_ordersRepository</code>è€Œä¸æ˜¯<code>_orders</code> ã€‚ </p><br><p> ä¸¤ç§æ›´æ”¹æœ¬èº«éƒ½å¾ˆå¥½ï¼Œä½†æ˜¯å®ƒä»¬åœ¨é˜…è¯»ä¸Šä¸‹æ–‡ä¸­å¹¶æ²¡æœ‰åŠ åœ¨ä¸€èµ·ï¼šè°ƒç”¨<code>_orders.Order(id)</code>çœ‹èµ·æ¥å¾ˆå†—é•¿ã€‚  <code>_orders.Get(id)</code>æ˜¯å¯èƒ½çš„ï¼Œä½†æ˜¯è®¢å•å¤±è´¥ï¼Œæˆ‘ä»¬åªæƒ³æŒ‡å®š<em>ä¸€ä¸ªå…·æœ‰è¿™æ ·çš„æ ‡è¯†ç¬¦</em>çš„è®¢å•ã€‚ å› æ­¤ï¼Œ <em>ä¸€ä¸ª</em>ä¸º<code>One</code> ï¼š </p><br><pre> <code class="cs hljs">IOrdersRepository orders = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = orders.GetOrderById(id); //      : var x = orders.Order(id); //     ,    . var x = orders.One(id); //    : var x = orders.One(with: id);</span></span></code> </pre> <br><h3 id="getorders"> <code>GetOrders</code> </h3> <br><p> åœ¨è¯¸å¦‚<code>IOrdersRepository</code>å¯¹è±¡ä¸­ï¼Œç»å¸¸å‘ç°å…¶ä»–æ–¹æ³•ï¼š <code>AddOrder</code> ï¼Œ <code>RemoveOrder</code> ã€‚ å‰ä¸¤ä¸ªé‡å¤æ¶ˆå¤±ï¼Œå¹¶è·å¾—<code>Add</code>å’Œ<code>Remove</code> ï¼ˆå…·æœ‰ç›¸åº”çš„æ¡ç›®<code>_orders.Add(order)</code>å’Œ<code>_orders.Remove(order)</code> ï¼‰ã€‚ ä½¿ç”¨<code>GetOrders</code>æ›´éš¾ä»¥é‡å‘½å<code>Orders</code> ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ï¼š </p><br><pre> <code class="cs hljs">IOrdersRepository orders = ...; <span class="hljs-comment"><span class="hljs-comment">//   . var x = orders.GetOrders(); //  `Get`,  . var x = orders.Orders(); // ! var x = orders.All();</span></span></code> </pre> <br><p> åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨æ—§çš„<code>_ordersRepository</code>æˆ–<code>GetOrderById</code>è°ƒç”¨ä¸­çš„é‡å¤å¹¶ä¸æ˜¯é‚£ä¹ˆæ˜æ˜¾ï¼Œå› ä¸ºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨å­˜å‚¨åº“ï¼ </p><br><p> è¯¸å¦‚<code>One</code> ï¼Œ <code>All</code>ç±»çš„åç§°é€‚ç”¨äºè¡¨ç¤ºè®¸å¤šæ¥å£çš„è®¸å¤šæ¥å£ã€‚ è¯´ï¼Œåœ¨GitHub APIçš„è‘—åå®ç°ä¸­<code>octokit</code>è·å–æ‰€æœ‰ç”¨æˆ·å­˜å‚¨åº“çœ‹èµ·æ¥åƒ<code>gitHub.Repository.GetAllForUser("John")</code> ï¼Œå°½ç®¡æ›´åˆä¹é€»è¾‘<code>gitHub.Users.One("John").Repositories.All</code> ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè·å¾—<em>ä¸€ä¸ª</em>å­˜å‚¨åº“åˆ†åˆ«æ˜¯<code>gitHub.Repository.Get("John", "Repo")</code>è€Œä¸æ˜¯æ˜æ˜¾çš„<code>gitHub.Users.One("John").Repositories.One("Repo")</code> ã€‚ ç¬¬äºŒç§æƒ…å†µçœ‹èµ·æ¥æ›´é•¿ï¼Œä½†æ˜¯åœ¨å†…éƒ¨æ˜¯ä¸€è‡´çš„ï¼Œåæ˜ äº†å¹³å°ã€‚ å¦å¤–ï¼Œä½¿ç”¨æ‰©å±•æ–¹æ³•ï¼Œå¯ä»¥å°†å…¶ç¼©çŸ­ä¸º<code>gitHub.User("John").Repository("Repo")</code> ã€‚ </p><br><h3 id="dictionarytrygetvalue"> <code>Dictionary.TryGetValue</code> </h3> <br><p> ä»å­—å…¸ä¸­è·å–å€¼åˆ†ä¸ºå‡ ç§æƒ…å†µï¼Œä»…åœ¨æ‰¾ä¸åˆ°å¯†é’¥çš„æƒ…å†µä¸‹éœ€è¦åšçš„äº‹æƒ…ä¸åŒï¼š </p><br><ul><li> æŠ›å‡ºé”™è¯¯ï¼ˆ <code>dictionary[key]</code> ï¼‰ï¼› </li><li> è¿”å›é»˜è®¤å€¼ï¼ˆæœªå®ç°ï¼Œä½†é€šå¸¸å†™<code>GetValueOrDefault</code>æˆ–<code>TryGetValue</code> ï¼‰ï¼› </li><li> è¿”å›å…¶ä»–å†…å®¹ï¼ˆæœªå®ç°ï¼Œä½†æˆ‘å¸Œæœ›<code>GetValueOrOther</code> ï¼‰ï¼› </li><li> å°†æŒ‡å®šçš„å€¼å†™å…¥å­—å…¸å¹¶è¿”å›ï¼ˆæœªå®ç°ï¼Œä½†<code>GetOrAdd</code> ï¼‰ã€‚ </li></ul><br><p> è¡¨è¾¾å¼æ”¶æ•›äºâ€œ <em>å–ä¸€äº›Xï¼Œå¦‚æœä¸å–Xåˆ™å–Y</em> â€ã€‚ å¦å¤–ï¼Œä¸<code>_ordersRepository</code> ï¼Œæˆ‘ä»¬å°†å­—å…¸å˜é‡<code>itemsDictionary</code>è€Œä¸æ˜¯<code>itemsDictionary</code> ã€‚ </p><br><p> ç„¶åå¯¹äº<em>â€œå¸¦ä¸€äº›Xâ€éƒ¨åˆ†</em> ï¼Œè°ƒç”¨è¡¨<code>items.One(withKey: X)</code>ç†æƒ³çš„ï¼Œè¿”å›ä¸€ä¸ªå¸¦æœ‰å››ä¸ª<em>ç»“å°¾</em>çš„ç»“æ„ï¼š </p><br><pre> <code class="cs hljs">Dictionary&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, Item&gt; items = ...; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = ...; <span class="hljs-comment"><span class="hljs-comment">//  ,   : var x = items.GetValueOrDefault(id); var x = items[id]; var x = items.GetOrAdd(id, () =&gt; new Item()); //    : var x = items.One(with: id).OrDefault(); var x = items.One(with: id).Or(Item.Empty); var x = items.One(with: id).OrThrow(withMessage: $"Couldn't find item with '{id}' id."); var x = items.One(with: id).OrNew(() =&gt; new Item());</span></span></code> </pre> <br><h3 id="assemblygettypes"> <code>Assembly.GetTypes</code> </h3> <br><p> è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•åœ¨ç¨‹åºé›†ä¸­åˆ›å»ºæ‰€æœ‰ç°æœ‰çš„ç±»å‹<code>T</code>å®ä¾‹ï¼š </p><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// . var x = Assembly .GetAssembly(typeof(T)) .GetTypes() .Where(...) .Select(Activator.CreateInstance); // "" . var x = TypesHelper.GetAllInstancesOf&lt;T&gt;(); // . var x = Instances.Of&lt;T&gt;();</span></span></code> </pre> <br><p> å› æ­¤ï¼Œæœ‰æ—¶ï¼Œé™æ€ç±»çš„åç§°æ˜¯è¡¨è¾¾å¼çš„<em>å¼€å¤´</em> ã€‚ </p><br><p> åœ¨NUnitä¸­å¯ä»¥æ‰¾åˆ°ç±»ä¼¼çš„å†…å®¹ï¼š <code>Assert.That(2 + 2, Is.EqualTo(4))</code> - <code>Is</code>å¹¶ä¸”ä¸è¢«è®¤ä¸ºæ˜¯è‡ªç»™è‡ªè¶³çš„ç±»å‹ã€‚ </p><br><h3 id="argumentthrowifnull"> <code>Argument.ThrowIfNull</code> </h3> <br><p> ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å‰ææ¡ä»¶æ£€æŸ¥ï¼š </p><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//  . Argument.ThrowIfNull(x); Guard.CheckAgainstNull(x); // . x.Should().BeNotNull(); // ,  ...  ? Ensure(that: x).NotNull();</span></span></code> </pre> <br><p>  <code>Ensure.NotNull(argument)</code> -ä¸é”™ï¼Œä½†è‹±è¯­ä¸å¤ªå¥½ã€‚ å¦ä¸€ä»¶äº‹æ˜¯ä¸Šé¢ç¼–å†™çš„<code>Ensure(that: x).NotNull()</code> ã€‚ å¦‚æœåªæœ‰... </p><br><p> é¡ºä¾¿è¯´ä¸€å¥ï¼Œä½ å¯ä»¥ï¼ æˆ‘ä»¬ç¼–å†™<code>Contract.Ensure(that: argument).IsNotNull()</code>å¹¶<code>using static</code>å¯¼å…¥<code>Contract</code>çš„ç±»å‹ã€‚ è¿™æ ·å°±è·å¾—äº†<code>Ensure(that: type).Implements&lt;T&gt;()</code>çš„<code>Ensure(that: type).Implements&lt;T&gt;()</code> ï¼Œ <code>Ensure(that: number).InRange(from: 5, to: 10)</code>ç­‰ã€‚ </p><br><p> é™æ€å¯¼å…¥çš„æƒ³æ³•æ‰“å¼€äº†è®¸å¤šé—¨ã€‚ å‡ºäºä»¥ä¸‹åŸå› çš„ä¸€ä¸ªç¾ä¸½ç¤ºä¾‹ï¼šä»£æ›¿<code>items.Remove(x)</code>ç¼–å†™<code>Remove(x, from: items)</code> ã€‚ ä½†æ˜¯ä»¤äººå¥½å¥‡çš„æ˜¯å‡å°‘äº†è¿”å›å‡½æ•°çš„<code>enum</code>å’Œå±æ€§ã€‚ </p><br><pre> <code class="cs hljs">IItems items = ...; <span class="hljs-comment"><span class="hljs-comment">// . var x = items.All(where: x =&gt; x.IsWeapon); //  . // `ItemsThatAre.Weapons`  `Predicate&lt;bool&gt;`. var x = items.All(ItemsThatAre.Weapons); // `using static`  !  . var x = items.All(Weapons);</span></span></code> </pre> <br><h3 id="ekzoticheskiy-find"> å¼‚å›½<code>Find</code> </h3><br><p> åœ¨Cï¼ƒ7.1å’Œæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œæ‚¨ä¸èƒ½å†™<code>Find(1, @in: items)</code> ï¼Œè€Œä¸èƒ½å†™<code>Find(1, in items)</code> ï¼Œå…¶ä¸­<code>Find</code>å®šä¹‰ä¸º<code>Find&lt;T&gt;(T item, in IEnumerable&lt;T&gt; items)</code> ã€‚ è¿™ä¸ªä¾‹å­æ˜¯ä¸åˆ‡å®é™…çš„ï¼Œä½†æ˜¯è¡¨æ˜åœ¨åŠªåŠ›æé«˜å¯è¯»æ€§æ–¹é¢ï¼Œæ‰€æœ‰æ‰‹æ®µéƒ½æ˜¯å¥½çš„ã€‚ </p><br><h2 id="itogo"> åˆè®¡ </h2><br><p> åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ç ”ç©¶äº†æé«˜ä»£ç å¯è¯»æ€§çš„å‡ ç§æ–¹æ³•ã€‚ æ‰€æœ‰è¿™äº›éƒ½å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š </p><br><ul><li>  <strong>ä½œä¸ºè¡¨è¾¾å¼ä¸€éƒ¨åˆ†çš„å‘½åå‚æ•°ä¸º</strong> <code>Should().Be(4, because: "")</code> ï¼Œ <code>Atomically.Change(ref x, from: oldX, to: newX)</code> ã€‚ </li><li>  <strong>ä¸€ä¸ªç®€å•çš„åç§°è€Œä¸æ˜¯æŠ€æœ¯è¯¦ç»†ä¿¡æ¯</strong>æ˜¯<code>Separated(with: ", ")</code> ï¼Œ <code>Exclude</code> ã€‚ </li><li>  <strong>ä½œä¸ºå˜é‡ä¸€éƒ¨åˆ†çš„æ–¹æ³•</strong>æ˜¯<code>x.OrDefault()</code> ï¼Œ <code>x.Or(b).IfLess()</code> ï¼Œ <code>x.Or(b).IfLess()</code> <code>orders.One(with: id)</code> ï¼Œ <code>orders.All</code> ã€‚ </li><li>  <strong>ä½œä¸ºè¡¨è¾¾å¼ä¸€éƒ¨åˆ†çš„æ–¹æ³•</strong>æ˜¯<code>path.Without(".exe").AtEnd</code> ã€‚ </li><li>  <strong>ä½œä¸ºè¡¨è¾¾å¼ä¸€éƒ¨åˆ†çš„ç±»å‹</strong>æ˜¯<code>Instances.Of</code> ï¼Œ <code>Is.EqualTo</code> ã€‚ </li><li>  <strong>ä½œä¸ºè¡¨è¾¾å¼ä¸€éƒ¨åˆ†çš„æ–¹æ³•ï¼ˆ <code>using static</code> ï¼‰</strong>æ˜¯<code>Ensure(that: x)</code> ï¼Œ <code>items.All(Weapons)</code> ã€‚ </li></ul><br><p> å› æ­¤ï¼Œå¤–éƒ¨çš„å’Œé¢„æœŸçš„æˆä¸ºæœ€é‡è¦çš„ã€‚ é¦–å…ˆè€ƒè™‘ä¸€ä¸‹ï¼Œç„¶åè€ƒè™‘å…¶ç‰¹å®šçš„å½¢å¼ï¼Œåªè¦ä»£ç è¢«è¯»ä¸ºæ–‡æœ¬ï¼Œå°±æ²¡æœ‰é‚£ä¹ˆé‡è¦äº†ã€‚ ç”±æ­¤å¯è§ï¼Œæ³•å®˜ä¸å…¶è¯´æ˜¯<em>è¯­è¨€ï¼Œ</em>ä¸å¦‚è¯´æ˜¯ä»–çš„å“å‘³-ä»–ç¡®å®š<code>item.GetValueOrDefault</code>å’Œ<code>item.OrDefault</code>ä¹‹é—´çš„åŒºåˆ«ã€‚ </p><br><h2 id="epilog"> ç»“è¯­ </h2><br><p> å“ªä¸ªæ›´å¥½ï¼Œæ›´æ¸…æ¥šï¼Œä½†ä¸æ˜¯å¯è¡Œçš„æ–¹æ³•ï¼Œæˆ–è€…æ˜¯å¯è¡Œçš„ï¼Œå´éš¾ä»¥ç†è§£ï¼Ÿ æ²¡æœ‰å®¶å…·å’Œæˆ¿é—´çš„é›ªç™½åŸå ¡ï¼Œè¿˜æ˜¯è·¯æ˜“åå››é£æ ¼çš„å¸¦æ²™å‘æ£šï¼Ÿ æ²¡æœ‰å¼•æ“æˆ–oråŸçš„é©³èˆ¹ä»¥åŠæ²¡æœ‰äººèƒ½ä½¿ç”¨çš„é‡å­è®¡ç®—æœºçš„è±ªåæ¸¸è‰‡ï¼Ÿ </p><br><p> æåœ°ç­”æ¡ˆä¸é€‚åˆï¼Œä½†ä¹Ÿ<em>â€œåœ¨ä¸­é—´çš„æŸä¸ªåœ°æ–¹â€</em> ã€‚ </p><br><p> æˆ‘è®¤ä¸ºï¼Œè¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯å¯†ä¸å¯åˆ†çš„ï¼šä»”ç»†é€‰æ‹©ä¹¦ç±çš„å°é¢ï¼Œæˆ‘ä»¬ä¼šæ€€ç–‘æ–‡æœ¬ä¸­çš„é”™è¯¯ï¼Œåä¹‹äº¦ç„¶ã€‚ æˆ‘ä¸å¸Œæœ›<em>ç”²å£³è™«ä¹é˜Ÿ</em>æ’­æ”¾ä½è´¨é‡çš„éŸ³ä¹ï¼Œä½†ä¹Ÿ<em>åº”å°†</em>å®ƒä»¬ç§°ä¸º<em>MusicHelper</em> ã€‚ </p><br><p> å¦ä¸€ä»¶äº‹æ˜¯ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­å¤„ç†å•è¯æ˜¯ä¸€ä»¶è¢«ä½ä¼°çš„ï¼Œä¸å¯»å¸¸çš„äº‹æƒ…ï¼Œå› æ­¤ä»ç„¶éœ€è¦æŸç§æç«¯çš„åˆ¤æ–­åŠ›ã€‚ è¿™ä¸ªå‘¨æœŸæ˜¯å½¢å¼å’Œå›¾ç‰‡çš„æé™ã€‚ </p><br><p> è°¢è°¢å¤§å®¶çš„å…³æ³¨ï¼ </p><br><h2 id="ssylki"> å‚è€ƒæ–‡çŒ® </h2><br><p> ä»»ä½•æœ‰å…´è¶£æŸ¥çœ‹æ›´å¤šç¤ºä¾‹çš„äººéƒ½å¯ä»¥åœ¨æˆ‘çš„GitHubä¸Šæ‰¾åˆ°ï¼Œä¾‹å¦‚ï¼Œåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>Pocket.Common</code></a>åº“ä¸­ã€‚  <em>ï¼ˆä¸é€‚ç”¨äºå…¨çƒå’Œé€šç”¨ï¼‰</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN447830/">https://habr.com/ru/post/zh-CN447830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN447818/index.html">æ•æ·æ—¥2019</a></li>
<li><a href="../zh-CN447820/index.html">å°†3Dæ¨¡å‹å¯¼å…¥Unityå’Œé™·é˜±</a></li>
<li><a href="../zh-CN447822/index.html">å‡ ä¹è¢«è§£é›‡äº†ã€‚ æˆ‘å¦‚ä½•å»ºç«‹Yandexåˆ†æéƒ¨é—¨</a></li>
<li><a href="../zh-CN447826/index.html">æ‹›è˜äººå‘˜å¿…é¡»èƒ½å¤Ÿå‡ºå”®</a></li>
<li><a href="../zh-CN447828/index.html">æˆ‘ä»¬å¦‚ä½•ä¸ºRostelecomä¸­çš„äººä»¬æä¾›ITæœåŠ¡</a></li>
<li><a href="../zh-CN447832/index.html">ä¸ä¹…å‰</a></li>
<li><a href="../zh-CN447834/index.html">åœ¨9ç§’é’Ÿå†…é”€æ¯ã€‚ æœªçŸ¥ç®—æ³•å¦‚ä½•ç ´åIPO BATS</a></li>
<li><a href="../zh-CN447836/index.html">è¯•é©¾nanoCAD SPDS Metalwork 1.2ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN447838/index.html">ç‰©è”ç½‘æŠ€æœ¯å°†åœ¨æœªæ¥10å¹´æ”¹å˜ä¸–ç•Œ</a></li>
<li><a href="../zh-CN447842/index.html">å¾®ç”Ÿç‰©ç¾¤ã€‚ è¿™æ˜¯ä»€ä¹ˆå™¨å®˜ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å®ƒ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>