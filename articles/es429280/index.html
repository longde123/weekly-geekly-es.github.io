<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>そ   C贸mo una vulnerabilidad en REG.RU permiti贸 obtener datos de registro de cualquier dominio   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy quiero hablar sobre c贸mo, en 2012, encontr茅 una vulnerabilidad en el sistema de registro de dominios REG.RU. Muy a menudo, veo historias en las qu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C贸mo una vulnerabilidad en REG.RU permiti贸 obtener datos de registro de cualquier dominio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/poiskvps/blog/429280/"> Hoy quiero hablar sobre c贸mo, en 2012, encontr茅 una vulnerabilidad en el sistema de registro de dominios REG.RU.  Muy a menudo, veo historias en las que los autores cuentan sobre vulnerabilidades y mencionan que la compa帽铆a no prest贸 suficiente atenci贸n al error encontrado durante mucho tiempo o no lo solucion贸 en absoluto.  En mi caso, todo fue exactamente lo contrario, y la vulnerabilidad se elimin贸 muy r谩pidamente. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/bx/wh/kl/bxwhklvvnvkoktoq7zgcevrmbxq.jpeg"></a> <br><a name="habracut"></a><br>  En septiembre de 2012, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">REG.RU</a> comenz贸 a registrar dominios en la zona <b>ru.com</b> y envi贸 cartas a todos sus clientes ofreci茅ndoles obtener un dominio gratis durante el primer a帽o en una nueva zona con el nombre de un dominio ya registrado en las zonas <b>ru</b> , <b>rf</b> , <b>su</b> , <b>com</b> , <b>net</b> . <br><br>  La obtenci贸n de un dominio gratuito result贸 ser bastante simple: ten铆a que seguir el enlace de la carta, ingresar el c贸digo de activaci贸n del dominio y el dominio se registr贸 de forma gratuita durante un a帽o. <br><br><img src="https://habrastorage.org/webt/fw/h1/gp/fwh1gpaq6m27gl4ihvcknielwoq.png"><br><br>  Antes de registrar un dominio, el sistema ofreci贸 familiarizarse con los detalles de contacto del dominio "original" para el que se registrar谩 el dominio de regalo, pero estos datos estaban abiertos para su visualizaci贸n sin la posibilidad de editarlos, por lo que el significado de su visualizaci贸n no estaba claro.  Sin embargo, este fue el primer error: el registro de un nuevo dominio estaba disponible a trav茅s de un enlace del formulario <code>https://www.reg.ru/domain/new/get_free_ru_com?service_id=XXXX</code> , y la ID del servicio simplemente se pod铆a enumerar al ver en qui茅n estaba registrado uno u otro dominio <br><br>  Los especialistas de REG.RU hicieron que los contactos no se mostraran por completo, sino que solo se mostraran los primeros 7 caracteres de cada campo, que en teor铆a no deber铆an haber revelado completamente la informaci贸n sobre el propietario del dominio, sin embargo, por ejemplo, mi nombre y apellido ten铆an menos de 7 caracteres de longitud y apareci贸 por completo.  Bueno, adem谩s de todo, si muestra los primeros 7 caracteres del nombre, a menudo puede adivinar qu茅 caracteres necesita agregar, un ejemplo simple es "Vladimi". <br><br>  Este error se solucion贸 con bastante rapidez, y ahora el sistema mostraba solo los primeros 4 caracteres, lo cual era mucho mejor, aunque una persona con el nombre "Han Solo" no estar铆a muy contenta. <br><br><img src="https://habrastorage.org/webt/nd/t1/qf/ndt1qficctztgphltdk3ia2eb7y.png"><br><br>  El siguiente error es la capacidad de registrar un dominio sin ingresar un c贸digo de activaci贸n.  Para evitar que todos los propietarios de dominios se ejecuten para registrar dominios gratuitos a la vez, REG.RU decidi贸 enviar cartas no inmediatamente, sino dentro de un par de d铆as, por lo que la carga se distribuy贸 de manera uniforme.  Desde un punto de vista t茅cnico, era algo como esto: en la base de datos en la tabla con los dominios, se cre贸 una nueva columna "C贸digo de autorizaci贸n" con un valor vac铆o, y de vez en cuando se enviaban cartas a los usuarios con el mismo c贸digo que llenaba este campo.  Una b煤squeda simple podr铆a ir a un enlace como <code>https://www.reg.ru/domain/new/get_free_ru_com?service_id=XXXX</code> , aumentando el ID del servicio al valor cuando el sistema a煤n no hab铆a logrado emitir un c贸digo de autorizaci贸n a dicho dominio y registrar el dominio con un espacio en blanco c贸digo <br><br>  No hab铆a nada de malo en registrar un dominio de este tipo, pero despu茅s del registro se hizo posible ver los detalles de contacto completos (nombre, direcci贸n y n煤mero de tel茅fono) del propietario del dominio "original" sin caracteres ocultos.  No fue dif铆cil solucionar este error, simplemente agregando un cheque para un c贸digo de autorizaci贸n no vac铆o durante el registro, que los expertos de REG.RU tambi茅n repararon r谩pidamente. <br><br>  Despu茅s de un tiempo encontr茅 otro error, pero requiri贸 un poco m谩s de acci贸n que solo ordenar los ID de servicio.  Para simplificar el procedimiento para registrar dominios de regalo, REG.RU hizo posible registrar un dominio sin ingresar un c贸digo de autorizaci贸n de una carta si la cuenta de correo electr贸nico en el sistema reg.ru coincid铆a con la direcci贸n de correo electr贸nico especificada como contacto en el dominio original.  Fue bastante conveniente para el usuario, pero en t茅rminos de seguridad, no todo fue tan bueno. <br><br>  En 2012, no hab铆a una ley sobre la protecci贸n de datos personales en la edici贸n actual, y para muchos dominios en la zona <b>ru</b> , se pod铆a ver la direcci贸n de correo electr贸nico de contacto a trav茅s de Whois.  En el momento de encontrar este error, la direcci贸n de correo electr贸nico ya estaba oculta, pero a trav茅s de los servicios de visualizaci贸n del historial de Whois se pod铆a ver el correo electr贸nico y, con alta probabilidad, era relevante.  Despu茅s de eso, tuvo que intentar registrarse en el sistema REG.RU con esta direcci贸n de correo electr贸nico y luego, sin un c贸digo de autorizaci贸n, obtener un dominio gratuito, que a su vez abri贸 el acceso a la informaci贸n de contacto del dominio original. <br><br>  Para ser breve, el procedimiento es el siguiente: <br><br><ol><li>  Vamos a la p谩gina como <code>https://www.reg.ru/domain/new/get_free_ru_com?service_id=XXXX</code> y miramos el nombre de dominio con este ID, por ejemplo, <b>habr.ru.com</b> . </li><li>  A trav茅s del servicio de visor de historial Whois encontramos la direcci贸n de correo electr贸nico para el dominio <b>habr.ru.</b> </li><li>  Con esta direcci贸n de correo electr贸nico, creamos una cuenta en el sistema REG.RU (en ese momento no se requer铆a la confirmaci贸n de la propiedad de la direcci贸n de correo electr贸nico). </li><li>  Sin ingresar el c贸digo de verificaci贸n, registramos el dominio <b>habr.ru.com</b> y vemos los datos de contacto completos del propietario <b>habr.ru.</b> </li></ol><br>  Los errores cometidos por REG.RU podr铆an conducir a la p茅rdida de una gran cantidad de datos personales de los propietarios de dominios, pero todos los errores se corrigieron muy r谩pidamente.  Han pasado menos de dos d铆as desde el momento en que escrib铆 la primera carta (y la escrib铆 personalmente al director ejecutivo de REG.RU) y antes de corregir todas las vulnerabilidades, que, en mi opini贸n, es un tiempo bastante corto para una empresa de este tama帽o y los t茅rminos para corregir otras vulnerabilidades en otras corporaciones. <br><br><blockquote><div style="text-align:center;"><img src="https://habrastorage.org/webt/op/1d/zd/op1dzdczzwfxzcisazp6zysnoxg.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Eche un vistazo</a> a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">VPS.today</a> , un sitio para encontrar servidores virtuales.  1400 tarifas de 120 anfitriones, una interfaz conveniente y una gran cantidad de criterios para encontrar el mejor servidor virtual. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dd/ky/d6/ddkyd6kuoqn62p8il6p3oc4zilq.png"></div></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429280/">https://habr.com/ru/post/es429280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429270/index.html">Periodismo de adultos: de Rusia al Kremlin</a></li>
<li><a href="../es429272/index.html">Un breve resumen de un libro React y desarrollo web funcional de Redux: Cap铆tulo 1. Bienvenido a React</a></li>
<li><a href="../es429274/index.html">Startup: como vivir a la vuelta</a></li>
<li><a href="../es429276/index.html">Codificadores autom谩ticos variacionales: teor铆a y c贸digo de trabajo</a></li>
<li><a href="../es429278/index.html">Tecnolog铆a de grabaci贸n magn茅tica prospectiva MAMR: 驴qu茅 nos espera en el futuro cercano?</a></li>
<li><a href="../es429286/index.html">C贸mo acelerar el aprendizaje autom谩tico de GPU: se presenta una nueva plataforma de c贸digo abierto</a></li>
<li><a href="../es429288/index.html">Desarrollador! Deja de considerarte que no eres un especialista lo suficientemente bueno, eso no es cierto</a></li>
<li><a href="../es429290/index.html">Tesla construir谩 otra bater铆a gigante en Australia</a></li>
<li><a href="../es429292/index.html">Respuestas de soporte t茅cnico de 3CX: actualizaci贸n r谩pida y gratuita a la 煤ltima versi贸n de 3CX</a></li>
<li><a href="../es429296/index.html">Mierda y palo bicicleta el茅ctrica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>