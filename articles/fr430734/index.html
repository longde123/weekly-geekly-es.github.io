<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏻 ✊🏾 🅿️ Mises à jour intelligentes vs contrats intelligents 🏑 👨🏻‍🔧 🍔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qu'est-ce qu'un contrat intelligent et pourquoi était-il nécessaire? 

 Il y a longtemps, après l'apparition de Bitcoin - la première machine d'état r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mises à jour intelligentes vs contrats intelligents</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430734/"><h3>  Qu'est-ce qu'un contrat intelligent et pourquoi était-il nécessaire? <br></h3><br>  Il y a longtemps, après l'apparition de Bitcoin - la première machine d'état répliquée - les gens ont commencé à remarquer que la fonctionnalité incarnée dans le consensus était trop limitée.  Je ne parle pas d'ajouter des cryptocodes au trading, mais des cas d'utilisation réels - DNS où chaque domaine appartient à une clé publique et non à un registraire centralisé, toutes sortes de jetons et dérivés financiers (parce que vous voulez posséder des actions de la même manière que vous possédez du bitcoin), des échanges en chaîne (pour négocier de gros montants sans avoir confiance dans l'échange), les canaux de paiement (redistribuer rapidement le séquestre général entre deux comptes sans frais généraux de message de transaction en général) ... <br><br>  Il y avait trois façons d'ajouter des fonctions: <br><br>  1) le plus évident est de les saisir nativement dans le code de la blockchain elle-même. <br><br>  <b>La blockchain est essentiellement un site Web répliqué</b> , lorsque vous n'avez pas suffisamment de fonctions sur le site Web, que faites-vous?  <b>Ajoutez-le directement au code en tant que nouveau modèle ou contrôleur</b> .  Mais dans le cas d'un réseau décentralisé, il n'y a pas de processus pour un tel changement de modèles / contrôleurs - après tout, il peut être utilisé à leur avantage.  Seule une option hard fork, où tout le monde s'accorde en même temps sur les chats / forums. <br><br>  2) créez une autre blockchain avec cette fonctionnalité. <br><br>  C'est donc arrivé avec plusieurs "blockchains d'une même idée" ala namecoin.  On a rapidement remarqué que les gens ne veulent pas utiliser le nouveau réseau pour une fonction, ils ont également besoin d'interopérabilité et beaucoup de choses dépendent les unes des autres (les prêts, les identités et les actifs veulent eux-mêmes vivre dans le même espace d'adressage) <br><br>  3) implémenter des fonctions à l'aide de la machine virtuelle interne et des opcodes. <br><br>  Même Satoshi a posé Script dans Bitcoin précisément à cause du problème de mise à jour, ce qui a permis d'en faire beaucoup, mais ce n'était pas suffisant.  Par conséquent, un script étendu a été proposé par ether (maintenant terminé), et vous pouvez prétendument faire n'importe quoi avec lui (en théorie). <br><img src="https://habrastorage.org/getpro/habr/post_images/8b0/fce/f4f/8b0fcef4fa6a0ff2af4773725db2be52.png" alt="image"><br><a name="habracut"></a><br>  C'est donc le code exécuté par la machine virtuelle à l'intérieur de la blockchain qui est appelé le contrat intelligent, et il est nécessaire pour implémenter de nouvelles fonctions.  Vous pouvez l'appeler un «patch opcode», mais il ne se vend pas si bien :) <br><br><h3>  Qu'est-ce qu'une mise à jour intelligente? </h3><br>  En ce qui concerne les contrats intelligents au cours des deux dernières années, nous pouvons clairement dire qu'ils n'ont pas répondu aux attentes.  Oui, le boom de l'ICO n'était pas possible sur le bitcoin, mais introduire un EVM avancé uniquement pour les jetons erc20 était trop. <br><br>  Ecrire même un petit «patch» de solidité est extrêmement difficile.  Au niveau inférieur, vous trouverez une machine virtuelle brute qui a très peu d'opcodes (par conception) et une base de données clé-valeur simple.  Toutes les opérations sont extrêmement coûteuses (coût du gaz) et vous ne pouvez pas vous retourner du tout. <br><br>  <b>Les cas d'utilisateurs sophistiqués sont presque impossibles.</b>  Jetez un œil à <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/raiden-network/raiden-contracts/tree/master/raiden_contracts/contracts</a> - des milliers de lignes de code, en langage étranger brut (solidité), pour gérer un système financier complexe.  Nous avons vu plusieurs hacks de parité et DAO avec de simples attaques, quel genre d'attaques nous attendent sur une base de code aussi monstrueuse? <br><br>  Il n'y a pas de base de données SQL, NoSQL n'est pas présent, la base de données graphique n'est pas non plus prévue.  Itération clé, plusieurs à plusieurs?  ORM?  Rien de tout cela n'existe dans le contrat.  L'outillage est également très faible par rapport aux langages de programmation bien connus. <br><br>  95% du travail d'un projet de solidité moderne est précisément la lutte contre la solidité et non l'architecture de code.  La même idée peut être implémentée en javascript dix fois plus vite et plus fiable, tout simplement parce que nous savons et pouvons écrire javascript et que l'écosystème solidity n'est pas allé beaucoup plus loin que l'écosystème brainfuck. <br><br>  <b>Pour défendre EVM, je dirai toujours - l'image dans le monde du bitcoin est encore plus triste car leur réglage est encore plus faible et les opcodes sont encore plus petits</b> .  Les développeurs de Lightning mordent mais ont toujours un cactus - la complexité d'un canal bitcoin bidirectionnel sur Bitcoin est si folle que maintenir la base de code est encore plus difficile, et des choses pratiques comme les Sprites et la logique complexe à l'intérieur du canal d'état sont tout simplement impossibles. <br><br><h3>  Gouvernance Onchain = Smart Updates </h3><br>  Après en avoir marre du chagrin avec solidité, revenons à 2012 et rappelons la <b>première option</b> rejetée <b>avec l'ajout de cas d'utilisateurs natifs à la blockchain.</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/482/332/94a/48233294a835ff81c2d55348a9bf7acd.png" alt="image"><br>  Comme beaucoup l'ont remarqué, après la mise en œuvre d'EVM, EVM lui-même n'a pas cessé de mettre à jour comme il était censé le faire (le niveau de base ne change jamais, le nouveau code entier n'est qu'à l'intérieur d'EVM) - au contraire, <b>il forge régulièrement avec la dictature de l'éthereum.</b> <br><br>  C'est-à-dire  les mêmes œufs que de profil.  Un groupe de personnes décide comment changer la couche onchain de ses propres mains, place le code sur un github et tous les utilisateurs n'ont d'autre choix que de télécharger un nouveau code.  "Le hard fork est prévu pour vendredi, mise à niveau immédiate", nous disent-ils. <br><br>  Sous cette forme, l'idée de contrats intelligents est absolument un échec - nous avons <b>déjà</b> une autorité qui dicte le fonctionnement de la couche de consensus (compte github d'Ethereum), à quoi sert une abstraction supplémentaire et inefficace si nous ne pouvions pas nous débarrasser des mises à jour de la couche principale? <br><br>  <b>Puisque nous ne pouvons pas nous débarrasser des mises à jour, essayons au moins de savoir comment mettre à jour cette couche principale pour nous de la manière la plus décentralisée possible?</b> <br><br>  Nous pouvons offrir des correctifs logiciels directement à l'intérieur de la blockchain, les validateurs peuvent voter pour eux et les correctifs gagnants sont simplement mis en œuvre de manière synchrone pour tout le monde après une certaine période.  Cette idée de «gouvernance onchain» est dans l'air depuis un certain temps, mais Tezos a été la première à la décrire, si je ne me trompe pas.  Ce que les tezos ont perdu de vue, c'est que la gouvernance onchain est un concurrent direct des contrats intelligents <b>(c'est pourquoi j'appelle cela des mises à jour intelligentes).</b> <br><br>  Si vous disposez de mises à jour intelligentes, vous n'avez tout simplement pas besoin de contrats intelligents.  Tout cas d'utilisateur peut être implémenté plus rapidement, mieux, avec n'importe quelle base de données de votre choix (SQL / NoSQL / quoi que ce soit), dans n'importe quel langage de programmation (vous exécutez le code déjà au niveau de la machine et ne vous limitez à rien).  Liberté totale, moins les 95% de frais généraux que vous avez dépensés pour la solidité, et nous n'avons pas besoin de sculpter une nouvelle blockchain comme solution # 2. <br><br><h3>  Il y a exactement deux inconvénients pour les mises à jour intelligentes </h3><br>  1. Maintenant, tous les cas d'utilisateurs ne seront pas approuvés par les validateurs, car ils pensent et votent quel type de correctif sera utile pour le réseau (et coupent les portes dérobées franchement malveillantes).  Des choses comme les crypto-monnaies ne seront probablement jamais approuvées par la majorité (un thrashold de 67% ou 95%, configuré à l'intérieur du réseau lui-même) <br><br>  2. Les validateurs peuvent utiliser cette force pour passer à travers les correctifs qui leur sont directement bénéfiques (supprimer un utilisateur répréhensible, se permettre d'obtenir des actifs à partir de trois cases).  Pour résoudre ce problème, il existe un délai.  Une fois le patch approuvé, l'ensemble du réseau dispose de 2 à 6 semaines pour étudier.  Si les utilisateurs ordinaires ne l'aiment pas, les gens devraient se réunir, faire un hard fork et remplacer l'ensemble de validateurs par des plus adéquats (ou jeter les pires personnages). <br><br>  Cela semble effrayant, mais cela <b>fonctionne déjà comme ça</b> - athereum github peut offrir absolument n'importe quelle fourche dure et c'est la tâche des utilisateurs de réinitialiser la dictature s'ils n'aiment pas quelque chose.  <b>Cela ne va pas empirer.</b>  Nous formalisons simplement ce processus et donnons des steaks transparents à chaque développeur / validateur, au lieu du gouvernement «fantôme» existant avec le premier canal sous la forme d'un référentiel github. <br><br><h3>  Résumé </h3><br>  Ainsi, nous avons découvert que les contrats intelligents EVM sont un concept intéressant qui s'est avéré être un échec, un virage trop lourd dans la mauvaise direction, alors qu'il suffisait de mettre en œuvre un mécanisme transparent pour les mises à jour intelligentes afin de résoudre le problème des nouveaux cas d'utilisateurs. <br><br>  L'avenir est aux mises à jour intelligentes, et presque toutes les chaînes de blocs qui sont actuellement en développement les incluent dès le début (tezos, dfinity, polkadot, decred, tendermint, fairlayer, etc.).  Même dans les contrats intelligents eux-mêmes, ils essaient maintenant d'activer le mécanisme de mise à jour en eux-mêmes, se <b>rendant compte que le concept de set-in-stone ne fonctionne pas, et d'une manière ou d'une autre, il faudra tôt ou tard mettre à jour</b> . <br><br>  Voici un <a href="">wiki</a> plus <a href="">détaillé sur ce sujet</a> (en anglais. Je suis étonné de voir comment Vitalik et Vlad Zamfir essaient de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dénigrer les mises à jour intelligentes</a> , leur concurrent direct rendant EVM complètement obsolète. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430734/">https://habr.com/ru/post/fr430734/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430722/index.html">Performances PHP: planification, profilage, optimisation</a></li>
<li><a href="../fr430724/index.html">DEFCON 21. La conférence DNS peut être dangereuse pour votre santé. Partie 1</a></li>
<li><a href="../fr430728/index.html">Apprenez-moi à donner mon avis</a></li>
<li><a href="../fr430730/index.html">Que fait R&D ABBYY: NLP Advanced Research Group</a></li>
<li><a href="../fr430732/index.html">À la question de la division et de TI</a></li>
<li><a href="../fr430736/index.html">Développez votre navigateur à partir de zéro. Première partie: HTML</a></li>
<li><a href="../fr430738/index.html">Soyez un ninja de la sécurité: niveau secret</a></li>
<li><a href="../fr430740/index.html">Comment traire des vaches avec des robots et faire une startup industrielle dessus. Historique de développement de R-SEPT</a></li>
<li><a href="../fr430742/index.html">Olympiade étudiante "Je suis un professionnel": direction "Programmation et technologies de l'information"</a></li>
<li><a href="../fr430746/index.html">Pourquoi les batteries Tesla ne fonctionneront pas dans un taxi aérien</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>