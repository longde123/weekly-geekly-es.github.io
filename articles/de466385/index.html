<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ò¢Ô∏è ü§™ üóæ Nachrichtenbroker verstehen. Erlernen der Mechanismen des Messaging √ºber ActiveMQ und Kafka. Kapitel 1 üë©üèø‚Äçüé§ üë¨ üçî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! 

 Begann ein kleines Buch zu √ºbersetzen: 
 " Message Brokers verstehen ", 
 Autor: Jakub Korab, Herausgeber: O'Reilly Media, Inc., ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nachrichtenbroker verstehen. Erlernen der Mechanismen des Messaging √ºber ActiveMQ und Kafka. Kapitel 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466385/"> Hallo allerseits! <br><br>  Begann ein kleines Buch zu √ºbersetzen: <br>  " <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Message Brokers verstehen</a></b> ", <br>  Autor: Jakub Korab, Herausgeber: O'Reilly Media, Inc., Erscheinungsdatum: Juni 2017, ISBN: 9781492049296. <br><br>  Aus der Einleitung zum Buch: <br>  "... In <i>diesem Buch lernen Sie, √ºber Messaging-Systeme bei Brokern zu sprechen, indem Sie zwei beliebte Brokertechnologien vergleichen und gegen√ºberstellen: Apache ActiveMQ und Apache Kafka. Hier finden Sie Beispiele f√ºr Verwendungs- und Entwicklungsanreize, die ihre Entwickler dazu veranlasst haben, v√∂llig unterschiedliche Ans√§tze zu verwenden im gleichen Bereich - Messaging zwischen Systemen mit einem Zwischenbroker. Wir werden diese Technologien von Grund auf betrachten und den Einfluss verschiedener Designoptionen auf dem Weg hervorheben. Sie erhalten ein tiefes Verst√§ndnis f√ºr beide Produkte.</i>  <i>ein Verst√§ndnis daf√ºr, wie sie verwendet werden sollten und nicht, und ein Verst√§ndnis daf√ºr, worauf zu achten ist, wenn in Zukunft andere Messaging-Technologien in Betracht gezogen werden</i> ... " <br><br>  Bisher √ºbersetzte Teile: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kapitel 1. Einf√ºhrung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kapitel 2. ActiveMQ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kapitel 3. Kafka</a> <br><br>  <b>√úbersetzung abgeschlossen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tele.gg/middle_java</a></b> <br><br>  Ich werde die fertigen Kapitel ver√∂ffentlichen, sobald sie √ºbersetzt sind. <br><a name="habracut"></a><br><h2>  KAPITEL 1 </h2><br><h2>  Einf√ºhrung </h2><br>  Intersystem Messaging ist einer der am wenigsten verstandenen Bereiche der IT.  Als Entwickler oder Architekt sind Sie m√∂glicherweise mit verschiedenen Frameworks und Datenbanken vertraut.  Es ist jedoch wahrscheinlich, dass Sie nur vor√ºbergehend mit der Funktionsweise von Broker-basierten Messaging-Technologien vertraut sind.  Wenn Sie sich so f√ºhlen, machen Sie sich keine Sorgen, Sie sind in guter Gesellschaft. <br><br>  Menschen haben normalerweise nur sehr begrenzten Kontakt zur Messaging-Infrastruktur.  Oft stellen sie eine Verbindung zu einem System her, das vor langer Zeit erstellt wurde, oder laden ein Distributionskit aus dem Internet herunter, installieren es im PROM und beginnen, Code daf√ºr zu schreiben.  Nach dem Start der Infrastruktur in PROM k√∂nnen die Ergebnisse gemischt sein: Nachrichtenverlust bei Fehlern, Senden funktioniert nicht wie erwartet oder Broker "suspendieren" Ihre Produzenten oder senden keine Nachrichten an Ihre Verbraucher. <br><br>  Kommt Ihnen das bekannt vor? <br><br>  Ein h√§ufiges Szenario ist, wenn Ihr Messaging-Code vorerst einwandfrei funktioniert.  Bis es nicht mehr funktioniert.  Diese Zeit lindert die Wachsamkeit und vermittelt ein falsches Sicherheitsgef√ºhl, was zu noch mehr Code f√ºhrt, der auf falschen Vorstellungen √ºber das grundlegende Verhalten der Technologie basiert.  Wenn etwas schief geht, werden Sie mit einer unangenehmen Wahrheit konfrontiert: Sie haben das grundlegende Verhalten des Produkts oder die von den Autoren gew√§hlten Kompromisse wie Leistung versus Zuverl√§ssigkeit oder Transaktionsf√§higkeit versus horizontale Skalierbarkeit wirklich nicht verstanden. <br><br>  Ohne ein tiefes Verst√§ndnis der Funktionsweise von Brokern machen die Leute scheinbar vern√ºnftige Aussagen √ºber ihre Messagingsysteme, wie zum Beispiel: <br><br><ul><li>  Das System verliert niemals Nachrichten </li><li>  Nachrichten werden nacheinander verarbeitet </li><li>  Durch das Hinzuf√ºgen von Verbrauchern wird das System schneller </li><li>  Nachrichten werden nur einmal zugestellt. </li></ul><br>  Leider basieren einige dieser Aussagen auf Annahmen, die nur unter bestimmten Umst√§nden gelten, w√§hrend andere einfach falsch sind. <br><br>  In diesem Buch erfahren Sie, wie Sie √ºber Broker-basierte Messaging-Systeme sprechen, indem Sie zwei beliebte Broker-Technologien vergleichen und gegen√ºberstellen: Apache ActiveMQ und Apache Kafka.  Hier werden Beispiele f√ºr Nutzungs- und Entwicklungsanreize beschrieben, die ihre Entwickler dazu veranlassten, v√∂llig unterschiedliche Ans√§tze f√ºr dasselbe Feld zu verwenden - Messaging zwischen Systemen mit einem Zwischenbroker.  Wir werden diese Technologien von Grund auf betrachten und die Auswirkungen verschiedener Designoptionen auf dem Weg hervorheben.  Sie erhalten ein tiefes Verst√§ndnis f√ºr beide Produkte, ein Verst√§ndnis daf√ºr, wie sie verwendet werden sollten und nicht, und ein Verst√§ndnis daf√ºr, worauf Sie achten m√ºssen, wenn Sie in Zukunft andere Messaging-Technologien in Betracht ziehen. <br><br>  Bevor wir anfangen, gehen wir die Grundlagen durch. <br><br><h3>  Was ist ein Nachrichtensystem und warum wird es ben√∂tigt? </h3><br>  Damit zwei Anwendungen miteinander kommunizieren k√∂nnen, m√ºssen sie zun√§chst eine Schnittstelle definieren.  Die Definition dieser Schnittstelle umfasst die Auswahl eines Transports oder Protokolls wie HTTP, MQTT oder SMTP und die Aushandlung der Nachrichtenformate, die die Systeme austauschen.  Dies kann ein strenger Prozess sein, z. B. das Definieren eines XML-Schemas mit den Nutzlastanforderungen einer Nachricht, oder es kann viel weniger formal sein, z. B. eine Vereinbarung zwischen zwei Entwicklern, dass ein Teil der HTTP-Anforderung eine Client-ID enth√§lt . <br><br>  Solange das Nachrichtenformat und die Reihenfolge des Sendens zwischen den Systemen konsistent sind, k√∂nnen sie miteinander interagieren, ohne sich um die Implementierung eines anderen Systems sorgen zu m√ºssen.  Die Interna dieser Systeme, wie z. B. eine Programmiersprache oder ein verwendetes Framework, k√∂nnen sich im Laufe der Zeit √§ndern.  Solange der Vertrag selbst unterst√ºtzt wird, kann die Interaktion von der anderen Seite unver√§ndert fortgesetzt werden.  Die beiden Systeme werden durch diese Schnittstelle effektiv getrennt. <br><br>  Messaging-Systeme sehen in der Regel die Teilnahme eines Vermittlers zwischen zwei Systemen vor, die interagieren, um den Absender weiter vom Empf√§nger oder von den Empf√§ngern zu trennen (zu trennen).  Gleichzeitig erm√∂glicht das Nachrichtensystem dem Absender, eine Nachricht zu senden, ohne zu wissen, wo sich der Empf√§nger befindet, ob er aktiv ist oder wie viele von ihnen. <br><br>  Schauen wir uns einige Analogien der verschiedenen Probleme an, die ein Messaging-System l√∂st, und f√ºhren wir einige grundlegende Begriffe ein. <br><br><h4>  Punkt zu Punkt </h4><br><blockquote>  Alexandra geht zur Post, um Adam ein Paket zu schicken.  Sie geht zum Fenster und gibt dem Angestellten ein Paket.  Der Mitarbeiter holt das Paket ab und gibt Alexandra eine Quittung.  Adam muss zum Zeitpunkt des Versands des Pakets nicht zu Hause sein.  Alexandra ist zuversichtlich, dass das Paket irgendwann in der Zukunft an Adam geliefert wird und weiterhin ihr eigenes Ding machen kann.  Sp√§ter, irgendwann, erh√§lt Adam das Paket. </blockquote>  Dies ist ein Beispiel f√ºr ein <i>Punkt-zu-Punkt-</i> Messaging-Modell.  Die Post fungiert hier als Paketverteilungsmechanismus und stellt sicher, dass jedes Paket einmal zugestellt wird.  Die Nutzung der Post trennt den Versand des Pakets von der Zustellung des Pakets. <br>  In klassischen Messagingsystemen wird das Punkt-zu-Punkt-Modell √ºber <i>Warteschlangen</i> implementiert.  Die Warteschlange fungiert als FIFO-Puffer (First In, First Out), den ein oder mehrere Verbraucher abonnieren k√∂nnen.  Jede Nachricht wird nur an <i>einen der abonnierten Verbraucher</i> gesendet.  Warteschlangen versuchen normalerweise, Nachrichten fair zwischen Verbrauchern zu verteilen.  Nur ein Verbraucher erh√§lt diese Nachricht. <br><br>  Der Begriff "dauerhaft" wird auf Warteschlangen angewendet.  <i>Zuverl√§ssigkeit</i> ist eine Funktion des Dienstes, die sicherstellt, dass das Nachrichtensystem Nachrichten in Abwesenheit aktiver Teilnehmer speichert, bis der Verbraucher die Warteschlange f√ºr die Nachrichten√ºbermittlung abonniert. <br><br>  Zuverl√§ssigkeit wird oft mit <i>Persistenz</i> verwechselt, und obwohl die beiden Begriffe synonym verwendet werden, erf√ºllen sie unterschiedliche Funktionen.  Die Persistenz bestimmt, ob die Nachricht vom Nachrichtensystem in einem beliebigen Speicher zwischen dem Empfang und dem Senden an den Verbraucher ausgetauscht wird.  An die Warteschlange gesendete Nachrichten k√∂nnen dauerhaft sein oder nicht. <br>  Punkt-zu-Punkt-Nachrichten werden verwendet, wenn f√ºr einen Anwendungsfall eine einmalige Aktion mit einer Nachricht erforderlich ist.  Ein Beispiel ist das Einzahlen von Geldern auf ein Konto oder das Abschlie√üen eines Lieferauftrags.  Wir werden sp√§ter diskutieren, warum das Nachrichtensystem selbst keine einmalige Zustellung bereitstellen kann und warum Warteschlangen bestenfalls eine Zustellungsgarantie <i>mindestens einmal</i> bieten k√∂nnen. <br><br><h4>  Publisher-Abonnent </h4><br><blockquote>  Gabriella w√§hlt die Konferenznummer.  W√§hrend sie mit der Konferenz verbunden ist, h√∂rt sie alles, was der Sprecher sagt, zusammen mit den anderen Teilnehmern des Anrufs.  Wenn sie abschaltet, √ºberspringt sie das Gesagte.  Wenn sie wieder verbunden ist, h√∂rt sie weiter, was sie sagen. </blockquote>  Dies ist ein Beispiel f√ºr ein <i>Publish-Subscribe-</i> Messaging-Modell.  Konferenzen fungieren als Broadcast-Mechanismus.  Der sprechenden Person ist es egal, wie viele Personen gerade an dem Anruf teilnehmen - das System stellt sicher, dass jeder, der gerade verbunden ist, h√∂rt, was gesagt wird. <br>  In klassischen Messagingsystemen wird das Publish-Subscribe-Messaging-Modell thematisch implementiert.  Das Thema bietet dieselbe Broadcast-Methode wie der Konferenzmechanismus.  Wenn eine Nachricht an das Thema gesendet wird, wird sie <i>an alle abonnierten Benutzer verteilt</i> . <br><br>  Themen sind normalerweise <i>nicht zuverl√§ssig (nicht haltbar)</i> .  Wie ein Zuh√∂rer, der nicht h√∂rt, was in der Telefonkonferenz gesagt wird, √ºberspringen die Themenabonnenten beim Trennen der Verbindung alle Nachrichten, die gesendet werden, wenn sie offline sind.  Aus diesem Grund kann gesagt werden, dass Themen eine Zustellgarantie f√ºr jeden Verbraucher nur <i>einmal</i> bieten. <br><br>  Publikations-Abonnement-Nachrichten werden normalerweise verwendet, wenn Nachrichten informativer Natur sind und der Verlust einer Nachricht nicht besonders bedeutend ist.  Beispielsweise kann ein Thema einmal pro Sekunde Temperaturwerte von einer Gruppe von Sensoren √ºbertragen.  Ein System, das an der aktuellen Temperatur interessiert ist und das Thema abonniert, macht sich keine Sorgen, wenn eine Nachricht √ºbersehen wird - ein anderes wird in naher Zukunft eintreffen. <br><br><h4>  Hybridmodelle </h4><br><blockquote>  Auf der Website des Gesch√§fts werden Bestellnachrichten in die Nachrichtenwarteschlange gestellt.  Der Hauptkonsument dieser Nachrichten ist das Exekutivsystem.  Dar√ºber hinaus muss das Audit-System √ºber Kopien dieser Auftragsnachrichten f√ºr die sp√§tere Verfolgung verf√ºgen.  Beide Systeme k√∂nnen keine Nachrichten √ºberspringen, auch wenn die Systeme selbst f√ºr einige Zeit nicht verf√ºgbar sind.  Eine Website sollte keine Kenntnis von anderen Systemen haben. </blockquote>  Verwendungsszenarien erfordern h√§ufig die Kombination von Publish-Subscribe- und Point-to-Point-Messaging-Modellen, z. B. wenn mehrere Systeme eine Kopie der Nachricht ben√∂tigen und sowohl Zuverl√§ssigkeit als auch Persistenz erforderlich sind, um einen Nachrichtenverlust zu verhindern. <br><br>  In diesen F√§llen ist ein Ziel erforderlich (ein allgemeiner Begriff f√ºr Warteschlangen und Themen), das Nachrichten haupts√§chlich als Thema verteilt, sodass jede Nachricht an ein separates System gesendet wird, das an diesen Nachrichten interessiert ist, an dem jedoch jedes System mehrere definieren kann Verbraucher, die eingehende Nachrichten empfangen, was eher einer Warteschlange √§hnelt.  Die Art der Lesung ist in diesem Fall <i>f√ºr jeden Interessenten einmalig</i> .  Diese Hybridempf√§nger erfordern h√§ufig eine lange Lebensdauer. Wenn der Verbraucher die Verbindung trennt, werden Nachrichten, die zu diesem Zeitpunkt gesendet werden, nach dem erneuten Verbinden des Verbrauchers empfangen. <br><br>  Hybridmodelle sind nicht neu und k√∂nnen in den meisten Messagingsystemen verwendet werden, einschlie√ülich ActiveMQ (√ºber virtuelle oder zusammengesetzte Ziele, die Themen und Warteschlangen kombinieren) und Kafka (implizit als grundlegende Eigenschaft des Entwurfs des Adressaten). <br><br>  Nachdem wir einige grundlegende Begriffe und ein Verst√§ndnis daf√ºr haben, wof√ºr ein Messagingsystem n√ºtzlich sein k√∂nnte, gehen wir nun zu den Details √ºber. <br><br>  <b>√úbersetzung abgeschlossen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tele.gg/middle_java</a></b> <br><br>  N√§chster Teil: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kapitel 2. ActiveMQ</a> <br><br>  <i>Fortsetzung folgt...</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466385/">https://habr.com/ru/post/de466385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466373/index.html">Python TamTam Bot Entwicklung</a></li>
<li><a href="../de466375/index.html">Museum DataArt. KUVT2 - lernen und spielen</a></li>
<li><a href="../de466379/index.html">F√ºhren Sie die Desktop-Software auf dem Mikrocontroller aus</a></li>
<li><a href="../de466381/index.html">Wie sich Era LED-Lampen im Jahr 2019 ver√§ndert haben</a></li>
<li><a href="../de466383/index.html">Cryptocurrency Ocean: √úberpr√ºfung der 50 besten Projekte mit CoinMarketCap</a></li>
<li><a href="../de466397/index.html">Wir programmieren die Kassiererin neu und drucken darauf Keanu Reeves. Teil 2. PC-Software</a></li>
<li><a href="../de466401/index.html">Ein bisschen Finanzmathematik: Berechnung von Inflation und Zinsen</a></li>
<li><a href="../de466403/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 35. Dynamisches DTP-Trunking-Protokoll</a></li>
<li><a href="../de466405/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 36. Kanalprotokoll STP</a></li>
<li><a href="../de466407/index.html">Rekrutierungskultur bei gro√üen Glassdoor-Statistikunternehmen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>