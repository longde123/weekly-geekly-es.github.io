<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¢ üê† üçº Ist es schwierig, Ihr erstes VHDL-Programm zu schreiben? üÜì üìü üñáÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ist es schwierig, Ihr erstes VHDL-Programm zu schreiben? Es ist schwer zu sagen, aber die Hauptsache hier ist die Motivation ... 


 Vielleicht h√§tte ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ist es schwierig, Ihr erstes VHDL-Programm zu schreiben?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461621/">  Ist es schwierig, Ihr erstes VHDL-Programm zu schreiben?  Es ist schwer zu sagen, aber die Hauptsache hier ist die Motivation ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z2/bv/hn/z2bvhnb6ur4cnx35lh3rh-fj-ra.png"></div><br>  Vielleicht h√§tte ich es schaffen k√∂nnen, diesen Moment zu verz√∂gern, aber ein Nachbar bat mich, einen Rechteckimpulsgenerator herzustellen, damit er klar angezeigt und die Frequenz und Dauer des Impulses gesteuert werden kann. <br><br>  Und mit einer Genauigkeit von 0,1 Mikrosekunden ... <br><br>  Und meine Meinung fiel auf einen Schal mit CPLD (200 Rubel), auf dem sich Indikatoren und Kn√∂pfe befanden.  Sobald Sie anfangen sollten, mit so etwas zu arbeiten, dachte ich, und ... <br><a name="habracut"></a><br>  Die Wahl, was VHDL oder Verilog schreiben soll, war nicht - obwohl ich alles in C schreibe, aber ich liebe Ada immer noch - also ist VHDL einzigartig.  Nachdem ich die Einf√ºhrung in FPGA gelesen hatte, wurde mir klar, dass nichts kompliziert sein w√ºrde (zumindest f√ºr eine so einfache Aufgabe). <br><br>  Am <s>Anfang war das Wort</s> : Machen wir uns zu einem Generator.  Die Frequenz des nativen Shreds betr√§gt 50 MHz, das hei√üt, wir werden sie auf 10 reduzieren, so dass das Schalten der Taktleitung in der Mitte und am Ende erfolgt.  Folgendes ist passiert. <br><br><pre><code class="vhdl hljs"><span class="hljs-comment"><span class="hljs-comment">-- 100 ns signal generator process(clk) variable t:integer range 0 to 5 := 0; begin if rising_edge(clk) then t := t + 1; if t = 5 then t := 0; tact &lt;= not tact; end if; if t = 2 then tact &lt;= not tact; end if; end if; end process;</span></span></code> </pre> <br>  Dann m√ºssen Sie irgendwie anzeigen und verwalten.  Wir haben zwei Werte - die L√§nge der Periode und die L√§nge des Impulses, so dass wir f√ºr die L√§nge der Periode 3 Vertrautheiten (unter Ber√ºcksichtigung von Zehnteln) und f√ºr die L√§nge der Periode - 3 zuweisen. <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> period : <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> := <span class="hljs-number"><span class="hljs-number">500</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> duty : <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> := <span class="hljs-number"><span class="hljs-number">250</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> dig1:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> dig2:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0101"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> dig3:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> di1:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> di2:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">shared</span></span> <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> di3:<span class="hljs-built_in"><span class="hljs-built_in">std_logic_vector</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">downto</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>):=<span class="hljs-string"><span class="hljs-string">"0101"</span></span>;</code> </pre><br>  Nun, zur Steuerung sind Signale von den Tasten geeignet, die am unteren Rand der Platine sichtbar sind - es gibt nur 4 davon, <br>  Lassen Sie also zwei die √Ñnderung der Periode bzw. des Impulses steuern, einer setzt das Vorzeichen der √Ñnderung und ein anderer schaltet den Ausgang des Generators ein und aus ... <br><br><div class="spoiler">  <b class="spoiler_title">Hier ist das Management</b> <div class="spoiler_text"><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(key1) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(key1) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> ready &lt;= <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> ready; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(key3) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(key3) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key4 = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> inc_duty; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dec_duty; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(key2) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(key2) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> key4 = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> inc_period; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dec_period; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>;</code> </pre><br><br>  Im Management gibt es Inc / Dec-Verfahren, hier sind sie <br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> inc_duty <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> duty &lt; period <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> duty := duty + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dig1 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dig1 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dig2 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dig2 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dig3 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dig3 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dig3 := dig3 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dig2 := dig2 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dig1 := dig1 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> dec_duty <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> duty &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> duty := duty - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dig1 = <span class="hljs-string"><span class="hljs-string">"0000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dig1 := <span class="hljs-string"><span class="hljs-string">"1001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> dig2 = <span class="hljs-string"><span class="hljs-string">"0000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> dig2 := <span class="hljs-string"><span class="hljs-string">"1001"</span></span>; dig3 := dig3 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dig2 := dig2 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> dig1 := dig1 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> inc_period <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> period &lt; <span class="hljs-number"><span class="hljs-number">1000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> period := period + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di1 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di1 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di2 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di2 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di3 = <span class="hljs-string"><span class="hljs-string">"1001"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di3 := <span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di3 := di3 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di2 := di2 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di1 := di1 + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> dec_period <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> period &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> period := period - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di1 = <span class="hljs-string"><span class="hljs-string">"0000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di1 := <span class="hljs-string"><span class="hljs-string">"1001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di2 = <span class="hljs-string"><span class="hljs-string">"0000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di2 := <span class="hljs-string"><span class="hljs-string">"1001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> di3 = <span class="hljs-string"><span class="hljs-string">"0000"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> di3 := <span class="hljs-string"><span class="hljs-string">"1001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di3 := di3 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di2 := di2 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> di1 := di1 - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span>;</code> </pre><br></div></div><br>  Es ist etwas lang und kompliziert (deshalb wird es minimiert), aber es ist ziemlich verst√§ndlich. <br><br>  Nun, wir m√ºssen es irgendwie anzeigen - wir haben einen Sieben-Segment-Indikator, und es gibt 6 davon (tats√§chlich 8).  Wir werden die Zeit und, um nicht mit einem Punkt zu leiden, in Zehntelsekunden anzeigen. <br><br>  Lassen Sie sie durchlaufen und die aktuelle Ziffer anzeigen: <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(tactX) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> tactX <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"000"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11111110"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"001"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11111101"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"010"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11111011"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"011"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11110111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"100"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11101111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"101"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"11011111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"110"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"10111111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span><span class="hljs-string"><span class="hljs-string">"111"</span></span>=&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"01111111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-keyword"><span class="hljs-keyword">others</span></span> =&gt; en_xhdl&lt;=<span class="hljs-string"><span class="hljs-string">"01111111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(en_xhdl) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> en_xhdl <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11111110"</span></span>=&gt; data4&lt;=dig1; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11111101"</span></span>=&gt; data4&lt;=dig2; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11111011"</span></span>=&gt; data4&lt;=dig3; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11110111"</span></span>=&gt; data4&lt;=<span class="hljs-string"><span class="hljs-string">"1111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11101111"</span></span>=&gt; data4&lt;=di1; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"11011111"</span></span>=&gt; data4&lt;=di2; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"10111111"</span></span>=&gt; data4&lt;=di3; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-string"><span class="hljs-string">"01111111"</span></span>=&gt; data4&lt;=<span class="hljs-string"><span class="hljs-string">"0000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> <span class="hljs-keyword"><span class="hljs-keyword">others</span></span> =&gt; data4&lt;=<span class="hljs-string"><span class="hljs-string">"1111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(data4) <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> data4 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0000"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"11000000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0001"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"11111001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0010"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10100100"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0011"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10110000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0100"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10011001"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0101"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10010010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0110"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10000010"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"0111"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"11111000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"1000"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10000000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-string"><span class="hljs-string">"1001"</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"10010000"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OTHERS</span></span> =&gt; dataout_xhdl1 &lt;= <span class="hljs-string"><span class="hljs-string">"11111111"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCESS</span></span>;</code> </pre><br>  Ich gebe ehrlich zu, ich habe einen Teil des Codes aus den Quellen gezogen, die mit einem Schal geliefert wurden - er ist sehr cool und klar geschrieben!  en_xhdl - Dieses Signal steuert, welche Anzeige im Schaltzyklus leuchtet. dataout_xhdl1 - Dieses Signal schaltet die LEDs ein. Nun, data4 ist ein tempor√§res Register und speichert eine Ziffer. <br><br>  Es bleibt ein Herz zu schreiben, das alles ber√ºcksichtigt - den Generator selbst.  Hier ist taktX der Anzeigegenerator und cnt ist der Impulspositionsz√§hler.  Nun, lin ist das Signal des Generators selbst. <br><br><pre> <code class="vhdl hljs"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>(tact) <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> cntX : <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">variable</span></span> cnt : <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span> := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rising_edge(tact) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cntX = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> tactX &lt;= tactX + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; cntX := cntX + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt &gt; period <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> cnt := <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cnt := cnt + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cnt = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> lin &lt;= <span class="hljs-string"><span class="hljs-string">'0'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">elsif</span></span> cnt = duty <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> lin &lt;= <span class="hljs-string"><span class="hljs-string">'1'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">process</span></span>;</code> </pre><br>  Nun, es bleibt die Ausgabe der Daten - dies geschieht st√§ndig, daher sollte es sich im parallelen Ausf√ºhrungsblock befinden. <br><br><pre> <code class="vhdl hljs"> cat_led &lt;= dataout_xhdl1; en_led &lt;= en_xhdl; led1 &lt;= <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> ready; out1 &lt;= lin <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> ready = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>; out2 &lt;= <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> lin <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> ready = <span class="hljs-string"><span class="hljs-string">'1'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">'0'</span></span>;</code> </pre><br>  Am Ende alle Prozesse zusammen blind machen - die resultierende Quarus Prime-Datei wurde positiv aufgenommen, kompiliert und gemeldet <br><br><pre> <code class="markdown hljs">Top-level Entity Name v12 Family MAX II Device EPM240T100C5 Timing Models Final Total logic elements 229 / 240 ( 95 % ) Total pins 29 / 80 ( 36 % ) Total virtual pins 0 UFM blocks 0 / 1 ( 0 % )</code> </pre><br>  Die m√ºhsamste Phase bleibt bestehen, obwohl sie vollst√§ndig grafisch ist - um den Signalen bestimmte Pins zuzuweisen.  Und das ist alles - es bleibt alles in das Ger√§t zu f√ºllen und zu √ºberpr√ºfen!  Interessanterweise haben wir es geschafft, innerhalb von 229 Zellen zu bleiben, so dass bereits 11 √ºbrig waren - aber in Wirklichkeit wurde fast alles von den Schnittstellentasten und dem Display verschlungen.  Tats√§chlich kann der Generator in mehreren Zellen gestapelt werden - Intel hat ein Dokument, in dem beschrieben wird, wie man in 1 LUT stapelt - nat√ºrlich ohne Kontrolle ... <br><br>  Beantworten Sie also die Frage nach der √úberschrift - nein, es ist nicht schwierig, wenn Sie C oder Ada kennen und verstehen, wie digitale Elektronik funktioniert, und ja, es ist schwierig, wenn Sie keine Vorstellung von den grundlegenden Dingen haben ... Zumindest habe ich einen Tag gebraucht, um zu schreiben, und ich Ich habe mich sowohl √ºber den Entwicklungsprozess als auch √ºber ein funktionierendes Ger√§t sehr gefreut!  Und der Nachbar ist gl√ºcklich :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461621/">https://habr.com/ru/post/de461621/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461607/index.html">Funktionsweise des Apple Lightning-Videoadapters</a></li>
<li><a href="../de461611/index.html">Verilog-Cache-Implementierung</a></li>
<li><a href="../de461613/index.html">Untersuchung der Selbstentladung der Batterie</a></li>
<li><a href="../de461615/index.html">4 Tods√ºnden von TWS-Kopfh√∂rern: Warum ist True Wireless immer noch kein Chaos?</a></li>
<li><a href="../de461617/index.html">Theorie eines erfolgreichen Starts</a></li>
<li><a href="../de461623/index.html">Wie wir anderthalb Jahre lang die Engine und das Spiel darauf gemacht haben</a></li>
<li><a href="../de461625/index.html">Die Zusammenfassung interessanter Materialien f√ºr den mobilen Entwickler # 308 (22. - 28. Juli)</a></li>
<li><a href="../de461629/index.html">12 Schritte, um Remote-Arbeit zu finden</a></li>
<li><a href="../de461631/index.html">17 M√∂glichkeiten, in das interne Netzwerk des Unternehmens einzudringen</a></li>
<li><a href="../de461633/index.html">Digitale Veranstaltungen in Moskau vom 29. Juli bis 4. August</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>