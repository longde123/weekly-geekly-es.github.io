<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚆 👩🏻‍🤝‍👨🏽 🦇 杜洛夫兄弟的新项目：电报开放网络 🥓 🧕🏻 🤚🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="目前正在接近最受期待的加密项目的全面启动，这确实可以改变世界。 到11月初，TON网络将启动，每个人都将能够充分意识到其优势，并开始将其用于预期目的：开发人员-创建有用且有利可图的应用程序，用户-使用有用应用程序的功能，并在需要时轻松付费。 

 一个测试网络已经启动， 官方网站上有两个有趣的文档，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>杜洛夫兄弟的新项目：电报开放网络</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470844/">目前正在接近最受期待的加密项目的全面启动，这确实可以改变世界。 到11月初，TON网络将启动，每个人都将能够充分意识到其优势，并开始将其用于预期目的：开发人员-创建有用且有利可图的应用程序，用户-使用有用应用程序的功能，并在需要时轻松付费。 <br><br> 一个测试网络已经启动， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">官方网站</a>上有两个有趣的文档，阐明了该项目的运作方式。 这是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">对TON</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">描述，共132页</a> （括号中表示文本中<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面的</a>链接，（45）） <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">，对区块链</a>的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">描述，共120页</a> （中括号中指示<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">页面的</a>链接，[55]）。 本文将不考虑虚拟机和智能合约的编程语言；需要它的人将理解它，而不了解它的人将不需要它。 <br><br> 我为您阅读并尝试强调简单外行（me）的兴趣点，而忽略了非常重要但晦涩难懂的计算，公式和证明，所有这些都在上面的原始资料中提到。 我希望我的总结对那些没有时间或不想亲自研究这些有趣文档的人有用。 <br><br><h3> 那么什么是电报开放网络（TON）？ </h3><br><a name="habracut"></a>  <b>Telegram开放网络</b> （TON）是一个快速，安全且非常酷的基于区块链的网络项目，将立即对每个人都有好处。 如此庞大的“超级计算机”分布在数千台服务器上，或者说是“超级服务器”，在此基础上，可以启动大量有用的应用程序。 再加上您自己的GRAM令牌，对微交易的支持，恒定（理论上）的速率增长，以及成千上万的现有Telegram用户，他们将自动访问TON平台上的所有服务，以实现Durovs意图的全部力量。 <br><br> 首先要了解的是<b>TON不是区块链</b> 。 这是它自己的Internet版本，带有区块链和微交易。 如果项目成功，那么随着时间的流逝，就像您使用浏览器访问Internet一样，那里有各种站点和服务，您将使用某种TON浏览器访问新网络的方式相同（类似的已经以Tor-project或i2p的形式存在，在本文中有直接引用。 <br><br>  TON是以下组件的组合：（4） <br><br><ul><li>  TON P2P网络网络提供对区块链，存储系统的访问，并允许网络内的服务相互通信。 </li><li>  TON DNS <b>短名称服务，</b>以便您可以使用人类可读的字符串代替庞大的哈希地址。 </li><li>  TON Storage <b>分布式存储系统</b> ，基于torrent原则具有P2P访问权限，用于存储区块链数据以及所有用户文件。 </li><li>  TON服务<b>应用程序</b>执行各种有用的功能（并非如此）。 这些服务可以直接在区块链（链上）上和外部（链外）上定位和执行。 </li><li>  TON Payments <b>小额支付服务</b> ，该<b>服务</b>使应用程序作者可以轻松高效地从用户收取服务费用，并直接在TON用户之间进行付款，而无需支付网络佣金（类似于闪电网络）。 </li><li> 整个经济体系是围绕<b>GRAM令牌</b> （TON核心网络的本地令牌（id = 0））构建的。 </li><li> 最重要的是，具有无限带宽的<b>多功能区块链平台TON区块链</b> ，智能合约，自定义侧链以及许多其他值得单独撰写的文章。 </li></ul><br> 该项目的体系结构允许与第三方应用程序（例如即时通讯程序或社交网络）进行非常简单的集成。 在不久的将来，这种集成的一个例子是Telegram Messenger，在该站点上已经出现了使用钱包的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">许可协议</a> 。 <br><br> 更详细地考虑每个组件的要点： <br><br><h3>  TON网络：已实施协议 </h3><br> 就像已经为Telegram实现的MTProto协议一样，它只是对标准TCP / UDP的封装，该抽象为网络中的每个节点提供了自己的地址，并在它们之间设置消息标准（各种消息的详细信息，解决了潜在的流量跟踪问题，等等）。 尽管尚无规范，但测试网已经在该协议上运行，但除低级开发人员外，其他任何人都不需要它们。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">I2P</a>项目中已经实现了类似的功能。  （81） <br><br> 单独描述了一个附加的TON代理层，允许匿名访问TON网络。 在我看来，即使在白皮书阶段，对匿名领域中的细节的这种关注也表明，创作者计划在哪个方向上开发该项目，与监管机构合作或朝着权力下放和对网络上发生的一切事情放弃责任。  （84） <br><br><h3>  TON DNS：有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">竞争</a> </h3><br> 这项简单但非常重要的服务解决了服务和承包商的可读地址的问题，目前在开发智能合约方面存在竞争，因此实施细节尚不清楚，但TON网络上当然会有可读地址。  （106） <br><br><h3>  TON仓储：计划 </h3><br> 当一个小的哈希值可以对应一个任意大的文件时，此处便是经过时间检验的种子的概念。 确实，如果我们需要分发大量数据，为什么不使用种子呢？ 即使以目前的形式，该技术也是可行的：有些人准备完全免费提供磁盘和网络容量，以便您可以下载特定文件。 如果通过GRAM令牌将便利货币化应用到该技术，将会发生什么？ 会很棒的。  （102） <br><br> 更加令人兴奋的是，当创建市场时，需要资源（例如磁盘空间或处理器时间或网络流量）的人可以从想要以预定价格提供这些资源的人那里购买这些资源，从而在网络中引入“云服务”的概念。 通过这种方法，相同的TON Storage将变得完全分散和无限扩展。 类似的事情应该已经在Golem和Sonm之类的项目中实现了，但是最后还是保留在纸上，让我们看看这里发生了什么。  （103） <br><br><h3>  TON服务：计划 </h3><br> 需要使用区块链。 对于智能合约和各种应用程序的创建者而言，头痛始终在于与客户端的交互。 通常，您需要在某个地方启动自己的网站，要求用户安装浏览器扩展程序（例如Metamask）或其他恶臭程序，然后才能使用它。 当然，没有关于此类产品的广泛分销的讨论；人们已经习惯了一切都应该“正常运行”而对其他任何事情都没有达成共识的事实。 看到整个部分专门用于创建应用程序以及与应用程序进行交互，这真是令人高兴。 区分两种类型，第一种是服务，应用程序和其他服务与它们交互，实际上，实时用户会在其中敲击按钮的应用程序。  （99） <br><br> 标准接口的概念是在智能合约中引入的，因此它们可以从任何标准客户端与它们进行交互。 您可以从用户那里描述所需的数据，他只需要单击表单中的几个按钮即可形成表格并将交易发送到区块链并更改智能合约的状态。 问题仍然是，如何通过类似的方法来实现复杂的接口，但是，一切都将直接从Telegram或其他标准TON客户端完成的事实无疑是令人愉快的。  （110） <br><br> 再次以直接的文字告诉我们，有可能并且有必要创建一个新的TON-WWW，它具有已实施的支付系统，明确的验证或完全匿名（如您所愿），并且由于平台的去中心化而没有任何审查制度。 我们都梦想着这个互联网。  （112） <br><br><h3> 吨付款：有<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">竞争</a> </h3><br>  TON Payments是一个虚拟银行网络，每个用户都与至少一个交易对手建立关系。 这些关系由智能合约确定，该合约冻结了捐款额，以保证双方的诚实。 之后，您可以将钱转移给任何人，只有一条链将两个代理连接起来才是重要的。 例如，从Vasya向Petya汇款实际上看起来像是链Vasya-&gt;银行1-&gt;银行2-&gt;银行3-&gt; Petya，或者，如果Vasya-&gt;银行1-&gt; Petya，如果两者都是同一银行的客户（也就是说，他们签署了智能服务合同并提供了资金）。 为了避免通过频繁的微交易向网络发送垃圾邮件，而是仅在其中记录更新的余额（谁欠谁的钱），这是必要的。 例如，在合作开始之初，Vasya和Bank 1创建了自己的合同。  Vasya在其中投入了100个硬币，银行在合同中投入了10个硬币，可以将其退还给Vasya（例如，以利息或现金返还的形式）。 然后，Vasya开始发送付款请求，银行通过TON Payments通过其渠道将这些款项支付给其他银行，再支付给最终交易对手。 所有这数百笔交易都是链下记录的。 然后，在某个时候，Vasya的钱用完了，智能合约收到一条有关更新余额的消息，现在Vasya还剩20个硬币，银行有90个硬币，例如，银行取了80个硬币，Vasya又增加了100个硬币，用于后续费用。 现在只有余额变化记录在区块链上，现在是Vasya的120个硬币，而银行的10个硬币，一切都重新开始。 或Vasya收到一笔大笔转账，然后银行将其在智能合约中的份额增加所需的金额，以将这笔钱转给Vasya。 通过这一原则进行支付几乎是免费的，而如果是大型交易或重要交易，则没有人会直接通过区块链直接转移代币，而已支付了相应的网络佣金。  （120） <br><br><h3>  GRAM令牌：等待发布 </h3><br> 在GRAM中，网络的货币单位是为交易，场所，数据，成为验证者的机会等支付的费用。 总体而言，初始发行量为50亿枚硬币，其中约27亿枚是在两轮封闭交易中售出的（正负，各种来源的非官方估算）。 第一轮的销售额约为0.3美元，第二轮-尾部为1美元。 克有一个有趣的分配系统。 首批硬币直接卖给了一个狭窄的投资者圈子，共筹集了17亿美元。 此外，剩余一小部分开发商剩余的硬币和运营费用将根据取决于流通代币数量的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">公式</a>从TON Reserve出售。 从链接中可以看到，随着27亿枚代币的流通，销售价格将约为1.5美元，但是，它将成倍增长，并且在售出10亿枚代币之后，销售价格将增加至4美元。 这大约是目前在衍生品市场所能承受的价格，但是由于大多数组织者的不确定性，它们不能大举交易。 因此，代币的价格由两个参数决定：一方面，这是一个自由市场，其中有初始投资者，其中一些人希望获利;另一方面，它是TON储备，其中价格只能上涨。 没错，它还会减少，如果市场价格低于“官方”价格的一半，就会发生这种情况，在这种情况下，进行首次销售并拥有TON储备金的TON基金会TON有权开始从市场上回购代币，但要以收到的资金为代价较早地来自投资者。 然后流通的代币数量将下降，随之而来的是官方价格。 关于克价格的动态以及一般关于吨的经济性的猜测是值得写的，如果您感兴趣的话，我会尽快写。 目前，重要的是要了解，由于市场上有大型参与者，GRAM费率将受到“温和”监管，这将保护代币免受急剧下跌的影响，但同时也不允许价格急剧上涨。  （128） <br><br><h3>  TON区块链：测试进行中 </h3><br> 即使没有上述所有基础设施，也没有竞赛创建数十万美元的奖金池来创建这种基础设施，以及没有拥有数亿用户将自动获得对新区块链访问权限的平台，从技术角度来看很有趣。 他从字面上吸收了过去五年中积累的加密行业的所有经验，并计划实施以前只是纸上谈兵的大量技术创新。 <br><br> 我强烈建议阅读原始白皮书中的10页，以更好地了解什么是区块链。 如果您不希望/无法阅读，请至少观看带有概述的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">视频</a> 。  （62） <br><br> 然后是一些技术要点，在区块链的描述中有一个页面，以便您可以研究主要来源。 由尼古拉·杜罗夫（Nikolai Durov）于2019年8月20日签名，全新。 <br><br><ul><li> 所有数据均使用单元格进行描述。 每个单元代表1023位数据和最多四个对其他单元的引用。 这些数据块和它们之间的链接使用DAG（有向无环图）在一个袋子中链接，以组织它们之间的链接并防止循环链接。 区块链中的每个块及其当前状态本身只是一组有序数据，它们之间有明确定义的关系。 此外，对于每个单元格，都会计算SHA256哈希，这将唯一地确定该单元格的内容。 这些散列使除其他外，有可能引用当前块之外的一些数据，这为智能合约的创建者提供了许多机会。  [4] </li><li> 引入了无限分片范式的概念，这意味着每个帐户都在其自己的虚拟区块链中，并创建描述该帐户上每个操作的单元格。 之后，将这些细胞绑在袋子中并记录在一块。 从理论上讲，可以为每个帐户分别完成此操作，但实际上使用分链，每个分链服务于一组特定的帐户（取决于其标识符）。 同时，重要的是，该函数确定对于不同块可以将哪个分片更改为哪个帐户。 这意味着随着负载的增加，帐户将散布到更多的碎片中，如果减少，则散布到较小的碎片中，最终为横向扩展提供了无限的机会，预计网络将永远不会挂起（或极少出现）。  [7] </li><li> 此外，分片中的每个块也是一个小的区块链，如果有必要可以对其进行更改，则更改后的数据将保存在链接到旧块的新块中，并且与旧块相关联的所有块也将相应更改。 这是解决可能出现的问题而无需借助强制网络分离（硬分叉）的一种非常有效的潜在方法。  （6） </li><li>  TON区块链中的帐户（通常称为“钱包”或“地址”）由智能合约的代码（或指向代码的链接），智能合约的数据存储，合约命令的描述（对于服务）或关于所有者的信息（对于人）组成，记录有关代币余额的信息，以及有关网络中场所使用情况及其支付方式的统计信息。 也就是说，每个帐户始终是一个智能合约！ 甚至简单的钱包也是具有汇款功能的原始智能合约。 有趣的是，在所有“只是钱包”中，您都可以并且应该使用实现收款/汇款功能的相同标准合同代码。  [11] </li><li> 主链（主网络）包含有关所有分链的信息，以及其中最新块的数据。 在主网络中考虑了该块之后，它就变得“可靠”并可以参考。 此外，智能合约代码存储在主网络中以选择验证器（确定是否在区块链中包括新区块的服务器）并更改网络操作参数（交易所需的汽油价格，已发行代币数量的列表和记帐，包括GRAM和其他重要事项，例如选择新验证器的过程）。 一言以蔽之，当前的“游戏规则”存储在主网络中，网络在此基础上工作。 要更改这些规则，您需要至少2/3的验证者的同意。  [12] </li><li> 此外，有一定数量的工作链（简称为“网络”），每个工作链都有自己的工作规则，不同的地址格式，不同的智能合约虚拟机，不同的令牌等。 但是，所有这些区块链都具有相互通信的能力，因为它们需要使用指定的格式来发送消息。 我们已经在EOS中看到过类似的东西（能够相互通信的不同区块链）。 网络被分为1个或多个分片，以便更有效地为其中的所有帐户提供服务。 分片的数量和在它们之间分配帐户的原理是动态变化的，这允许仅通过增加处理请求的计算机的数量来解决负载增加的问题。      ,           2/3          (  ,    ). (5) </li><li>      TON ( ).     GRM     Telegram Virtual Machine    Fift   .  ,    ,       . (9) </li><li>       .  ,  ,   ,       -    .      3-4      ,   BFT ,   . (9) </li><li>        .     -        .     —     .      . [30] </li><li>  ,    -  -    ,       .     ,   «»,   ,   ,       .        ,       ,    ,  ,     . [70] </li><li>         .        ,     /.       «»,   -    ( ), , ,      ,    . [31] </li><li>       ,       ,             . [42] </li><li>     GRAM     ,      (5 )    ,      -       .       . [55] </li><li>     ,    Ethereum,            ().     ,     (  ledgers,    ),     ( ),          . [58] </li></ul><br>  ,          —      ,     ,      -  ,    ,      ! <br><br> Update:        GRM <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN470844/">https://habr.com/ru/post/zh-CN470844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN470826/index.html">矿工，潜水员和钴矿：我们如何为客户提供安全的互联网访问</a></li>
<li><a href="../zh-CN470828/index.html">Python链表：盒子里的猫</a></li>
<li><a href="../zh-CN470830/index.html">C＃中的异步/等待：概念，内部设计，有用的技巧</a></li>
<li><a href="../zh-CN470834/index.html">超级感染，抗生素和僵尸启示录模型</a></li>
<li><a href="../zh-CN470838/index.html">CI / CD中的容器安全性</a></li>
<li><a href="../zh-CN470852/index.html">使用Go以100美元在专用服务器上处理1000万个项目中的40 TB代码</a></li>
<li><a href="../zh-CN470856/index.html">电报GRAM钱包：服务条款</a></li>
<li><a href="../zh-CN470858/index.html">上古：第386个处理器和九十年代的基准</a></li>
<li><a href="../zh-CN470864/index.html">关于切换到面板的乐趣，而不仅仅是</a></li>
<li><a href="../zh-CN470868/index.html">第一个字节的时间：这是什么，为什么重要</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>