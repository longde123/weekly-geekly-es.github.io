<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤱 🚞 🔤 Zen des Unit Testing 👰🏼 👨‍🎤 🎴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Fähigkeit, gute Komponententests zu schreiben, ist ein wichtiges Merkmal eines jeden Entwicklers. Aber wie können Sie verstehen, dass Ihre Unit-Te...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen des Unit Testing</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439804/"><p><img src="https://habrastorage.org/webt/ih/ya/u6/ihyau61ji5s6cgg7f91-grwhr84.png"></p><br><p> Die Fähigkeit, gute Komponententests zu schreiben, ist ein wichtiges Merkmal eines jeden Entwicklers.  Aber wie können Sie verstehen, dass Ihre Unit-Tests korrekt sind?  Ein guter Unit-Test ist wie ein gutes Schachspiel.  In unserem Fall sind Schachfiguren die Ansätze, die wir in diesem Beitrag diskutieren werden.  Es gibt keinen besten Schachspieler in einem Schachspiel, da alles von den Positionen <em>(und einem Spieler)</em> abhängt.  Ebenso müssen Sie beim Unit-Test nicht nur einen Ansatz unterscheiden.  Mit anderen Worten, Sie sollten alle Ansätze zusammen verwenden, um das beste Ergebnis zu erzielen.  Also, wenn Sie dieses Spiel gewinnen möchten, dann begrüßen Sie unter dem Schnitt. </p><a name="habracut"></a><br><h2 id="dbut">  Debüt </h2><br><h3 id="why-should-i-write-unit-tests">  Warum sollte ich Unit-Tests schreiben? </h3><br><p>  Sie müssen keine Komponententests schreiben, es sei denn, Sie sind eine Person mit außersinnlicher Wahrnehmung, die Code ohne Fehler schreiben kann, Sie haben ein super Gedächtnis, können Ihren Code in Ihrem Kopf kompilieren oder Sie mögen einfach nur Schmerz.  Andernfalls müssen Sie auf jeden Fall Komponententests schreiben, da diese die Anzahl der Fehler in neuen und vorhandenen Funktionen verringern, die Kosten und die Angst vor Änderungen Ihrer Funktionen verringern und die Umgestaltung Ihres Codes ermöglichen.  Darüber hinaus sollten Sie immer vorhandene Tests durchführen, und ich empfehle Ihnen, auf kontinuierliche Testwerkzeuge zu achten. </p><br><h3 id="what-to-test">  Was zu testen? </h3><br><p>  Offensichtlich testen Sie im Komponententest das Verhalten einer einzelnen Einheit <em>(keine Aufrufe, da diese später geändert werden können)</em> .  Machen Sie es sich auch zur Regel, alle Fehler, die Sie gefunden haben, mit Unit-Tests abzudecken, um zu beweisen, dass sie behoben sind.  Was ist mit der Codeabdeckung?  Die Codeabdeckung ist kein Ziel, sondern nur eine Maßnahme, mit der Sie verstehen, welchen Teil der Logik Sie bei Komponententests vergessen haben.  Es wäre ein großer Fehler, wenn Sie sich entscheiden würden, jede Codezeile mit Unit-Tests abzudecken. </p><br><h2 id="mittelspiel">  Mittelspiel </h2><br><h3 id="test-only-one-thing">  Testen Sie nur eines </h3><br><p>  Verwechseln Sie Unit-Tests nicht mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Integrationstests, bei</a> denen das Testen von mehr als einer Sache normal ist.  Die Idee des Unit-Tests besteht darin, zu beweisen, dass ein separates Anwendungsmodul funktioniert oder nicht.  Sie müssen leicht und sicher verstehen, welches Verhalten in Ihrem Code fehlschlägt und wie Sie es beheben können.  <strong>Wie viele Asserts sollten Sie verwenden?</strong>  <strong>Eins!</strong>  Die Verwendung vieler Asserts kann der Codegeruch sein, dass Sie mehr als eine Sache testen.  Darüber hinaus besteht die Möglichkeit, dass jemand Ihrem Test eine neue Aussage hinzufügt, anstatt eine andere zu schreiben.  Und wie können Sie verstehen, wie Ihre anderen Behauptungen abgeschlossen wurden, als die erste fehlschlug? </p><br><h3 id="avoid-logic">  Vermeiden Sie Logik </h3><br><p> Fehler in Tests sind für Entwickler am schwierigsten zu finden.  Die Wahrscheinlichkeit, einen Fehler in Ihrem Testcode zu bekommen, steigt, wenn Sie sich dazu entschließen, Ihrem Test Logik hinzuzufügen.  Es wird schwieriger zu lesen, zu verstehen und zu pflegen.  Die Verwendung von <code>for</code> , <code>foreach</code> , <code>if</code> , <code>switch</code> und anderen Operatoren in einem Test kann auch ein Codegeruch sein, den Sie mehr als eine Sache testen. </p><br><h3 id="aaa">  AAA </h3><br><p>  Das <strong>Anordnen, Handeln, Bestätigen</strong> ist ein häufig verwendetes Muster, mit dem Sie Ihren <strong>Testcode</strong> entsprechend in drei Phasen organisieren können.  Es trennt klar, was getestet wird, von den Einrichtungs- und Überprüfungsschritten.  Dies ist eine der Best Practices und macht Ihren Testcode lesbarer und wartbarer.  Verwenden Sie jedoch keine AAA- <strong>Kommentare</strong> in Ihren Tests, wenn Sie Ihren Code sauber und lesbar halten möchten.  Kompetent erstellter Test drückt AAA-Idee auch ohne Kommentare aus. </p><br><h3 id="stick-to-the-naming-convention">  Halten Sie sich an die Namenskonvention </h3><br><p>  Testnamen sollten nicht nur für den Autor beschreibend und verständlich sein.  Es gibt viele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Testbenennungsstrategien</a> , aber ich mag die von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Roy Osherove</a> : <code>[MethodName_StateUnderTest_ExpectedBehavior]</code> .  Es enthält alle erforderlichen Informationen zum Test in formatierter Form.  Es ist für jeden Entwickler einfach, diese Strategie zu verfolgen. </p><br><p>  Beispiele: </p><br><pre> <code class="plaintext hljs">public void Sum_NegativeNumberAs2ndParam_ExceptionThrown () public void Sum_simpleValues_Calculated () public void Parse_OnEmptyString_ExceptionThrown() public void Parse_SingleToken_ReturnsEqualTokenValue ()</code> </pre> <br><p>  Beachten Sie jedoch, dass Sie möglicherweise eine Namenskonvention haben, die Sie bei Ihrem aktuellen Projekt befolgen müssen.  Verwechsle sie nicht. </p><br><h3 id="test-data-preparation">  Vorbereitung der Testdaten </h3><br><p>  Das Erstellen von Testdaten kann Unordnung und Leid in Ihren Testcode bringen.  Sie können mit dieser Situation konfrontiert werden, wenn: </p><br><ul><li>  Sie müssen den Konstruktor Ihres Modells in jedem Code ändern, in dem dieses Modell erstellt wird <em>(dies geschieht normalerweise, wenn Ihr Modell unveränderlich ist)</em> . </li><li>  Beim Erstellen Ihrer Testdaten sind viele Code-Duplikate vorhanden. </li><li>  Sie müssen viele "magische Daten" an Ihren Modellkonstruktor übergeben <em>(z. B. <code>new Device("Stub", 10, true, "http");</code> )</em> ; </li><li>  Sie haben das Gefühl, dass Sie eine Art Zufallsdatengenerator erstellen müssen. </li><li>  Es ist schwierig für Sie, Testdatensammlungen zu erstellen. </li></ul><br><p>  Vor diesem Hintergrund müssen Sie einige gängige Alternativen in Betracht ziehen: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Objektmutter</a> und [Fließendes Builder-Muster].  Diese Ansätze sind auch gute Teamplayer, so dass Sie sie zusammen verwenden können. </p><br><p>  Verwenden Sie keine zufälligen Daten, da Ihr Test möglicherweise auf bestimmte Werte anspricht.  Infolgedessen können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie</a> in Ihrem Test einen bösen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Heisenbug</a> bekommen, der schwer zu finden und zu reproduzieren ist. </p><br><h3 id="learn-your-testing-framework">  Lernen Sie Ihr Test-Framework kennen </h3><br><p>  Lernen Sie alle Attribute, Aussagen und anderen Funktionen Ihres Testframeworks kennen.  Es hilft Ihnen, Ihre Tests lesbarer und eleganter zu gestalten.  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NUnit-</a> Framework können Sie beispielsweise zwei Assertionsmodelle verwenden und eines auswählen, das Ihnen am besten gefällt: </p><br><pre> <code class="plaintext hljs">Assert.AreEqual(StatusCode.OK, response.StatusCode);</code> </pre> <br><p>  oder </p><br><pre> <code class="plaintext hljs">Assert.That(StatusCode.OK, Is.EqualTo(response.StatusCode));</code> </pre> <br><p>  Vergessen Sie nicht die Setup- und Teardown-Methoden, TestCase- und Category-Attribute sowie die Sammlungsbestätigungen.  Verwechseln Sie erwartete und tatsächliche Ergebnisparameter nicht mit Aussagen. </p><br><h2 id="endspiel">  Endspiel </h2><br><p>  Ihr Testcode hat das gleiche Privileg wie Ihr Produktionscode, den Sie schreiben und pflegen müssen. Vergessen Sie nicht die SOLID-Prinzipien.  Außerdem sollten Ihre Komponententests lesbar sein, und es gibt mehrere Gründe dafür.  Erstens sollte die Absicht Ihrer Tests verständlich und klar sein.  Dies bedeutet, dass Sie beim Lesen Ihrer Tests keine Zeit verschwenden müssen.  Zweitens sollte es einfach sein, Ihre Tests zu pflegen, Probleme zu erkennen und zu beseitigen, ohne sie zu debuggen. </p><br><p>  Unit Testing ist eine große Philosophie, die nicht nur in einem Beitrag diskutiert werden kann.  Hier erklärte ich allgemeine Ansätze und häufige Fragen im Zusammenhang mit Unit-Tests.  Wenn Sie tiefer tauchen möchten, finden Sie diese Links möglicherweise interessant: </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Roy Osherove Blog</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Roy Osherove Buch "Die Kunst des Unit Testing"</a> </p><br><blockquote>  Bleib ruhig und teste die Einheit </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439804/">https://habr.com/ru/post/de439804/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439788/index.html">Eine weitere Kuriosität bei den Algorithmen GOST Grasshopper und Stribog</a></li>
<li><a href="../de439790/index.html">Testen Sie JaCarta WebClient oder bewahren Sie Token in einem Safe auf</a></li>
<li><a href="../de439792/index.html">Die NASA sucht nach Partnern in der amerikanischen Industrie, um eine teilweise wiederverwendbare bemannte Landung zu schaffen</a></li>
<li><a href="../de439794/index.html">Rückenschmerzen - Verständnis aus Sicht der modernen Medizin</a></li>
<li><a href="../de439796/index.html">Spring Boot 2: Was sie nicht in Versionshinweisen schreiben</a></li>
<li><a href="../de439806/index.html">Gültige SSL-Domänennamen für lokale Docker-Container</a></li>
<li><a href="../de439808/index.html">Die größten Teleskope. Von Notebook und Augen bis hin zu 340-Megapixel-Kameras und Rechenzentren. Teil 1</a></li>
<li><a href="../de439810/index.html">Lernen Sie das Moleculer Microservice Framework kennen</a></li>
<li><a href="../de439812/index.html">Kaggle-Ansätze für CV in Prod: Sie können nicht implementieren, um zu schneiden</a></li>
<li><a href="../de439818/index.html">Merkmale von Designansätzen im realen Fertigungssektor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>