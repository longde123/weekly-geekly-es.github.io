<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëäüèø üë©üèø üë©üèº‚Äçüç≥ Sauvegarde, partie 1: objectif, vue d'ensemble des techniques et technologies üë©üèø‚Äçüíª üë©üèΩ‚Äçüíº üíæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pourquoi avez-vous besoin de faire des sauvegardes? Apr√®s tout, l'√©quipement est tr√®s, tr√®s fiable, en plus, il y a des ¬´clouds¬ª meilleurs que les ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sauvegarde, partie 1: objectif, vue d'ensemble des techniques et technologies</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/449282/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/945/c47/658945c47c79b468058bdfa05712bab1.jpg" alt="Sauvegarde? Je n'ai pas besoin de sauvegarde !!"></div><br>  Pourquoi avez-vous besoin de faire des sauvegardes?  Apr√®s tout, l'√©quipement est tr√®s, tr√®s fiable, en plus, il y a des ¬´clouds¬ª meilleurs que les serveurs physiques en termes de fiabilit√©: s'il est correctement configur√©, le serveur ¬´cloud¬ª survivra facilement √† la panne du serveur physique de l'infrastructure, et du point de vue des utilisateurs du service, il y aura un petit saut dans le temps √† peine perceptible service.  De plus, la duplication d'informations n√©cessite souvent le paiement du temps processeur "suppl√©mentaire", de la charge du disque et du trafic r√©seau. <br><a name="habracut"></a><br><blockquote>  Un programme id√©al s'ex√©cute rapidement, ne passe pas par la RAM, n'a pas de trous et n'existe pas. <br><br>  ‚ÄîInconnu </blockquote>  √âtant donn√© que les programmes sont toujours √©crits par des d√©veloppeurs de prot√©ines et que le processus de test est souvent absent, de plus, la livraison de programmes est extr√™mement rare avec l'utilisation de "meilleures pratiques" (qui sont √©galement des programmes en eux-m√™mes et donc imparfaits), les administrateurs syst√®me doivent souvent r√©soudre des probl√®mes qui sonnent bri√®vement mais succinctement: "revenir tel quel", "ramener la base √† un fonctionnement normal", "√ßa marche lentement - on recule", et aussi mon pr√©f√©r√© "je ne sais pas quoi, mais le r√©parer". <br><br>  En plus des erreurs logiques r√©sultant d'un travail n√©gligent des d√©veloppeurs ou d'une combinaison de circonstances, ainsi que d'une connaissance incompl√®te ou d'une mauvaise compr√©hension des petites fonctionnalit√©s des programmes de construction - y compris les classeurs et ceux du syst√®me, y compris les syst√®mes d'exploitation, les pilotes et le micrologiciel - il existe √©galement d'autres erreurs.  Par exemple, la plupart des d√©veloppeurs s'appuient sur le runtime, oubliant compl√®tement les lois physiques qui sont toujours impossibles √† contourner √† l'aide de programmes.  Cela inclut la fiabilit√© infinie du sous-syst√®me de disque et de tout sous-syst√®me de stockage de donn√©es en g√©n√©ral (y compris la RAM et le cache du processeur!), Et le temps de traitement nul sur le processeur, et l'absence d'erreurs lors de la transmission sur le r√©seau et pendant le traitement sur le processeur, et la latence du r√©seau, qui sont 0. Ne n√©gligez pas le d√©lai notoire, car si vous n‚Äôavez pas le temps, il y aura des probl√®mes plus propres que les nuances du r√©seau et du disque. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/171/855/c4d/171855c4dfec286b3624dd27efeb71e6.jpg" alt="Chef, tout est parti! bas√© sur k \ f Diamond hand"><br><br>  Mais qu'en est-il des probl√®mes qui surviennent en pleine croissance et qui p√®sent sur des donn√©es pr√©cieuses?  Il n'y a rien pour remplacer les d√©veloppeurs en direct, et pas le fait que ce sera possible dans un avenir proche.  D'autre part, pour prouver pleinement que le programme fonctionnera comme pr√©vu, jusqu'√† pr√©sent, seuls quelques projets ont r√©ussi, et il n'est pas du tout possible de prendre et d'appliquer les preuves √† d'autres projets similaires.  De plus, de telles preuves prennent beaucoup de temps et n√©cessitent des comp√©tences et des connaissances particuli√®res, ce qui minimise pratiquement la possibilit√© de leur application en tenant compte des d√©lais.  De plus, nous ne savons toujours pas comment utiliser une technologie ultrarapide, bon march√© et infiniment fiable pour stocker, traiter et transmettre des informations.  De telles technologies, si elles existent, se pr√©sentent alors sous forme de concepts, ou - le plus souvent - uniquement dans les livres et films de science-fiction. <br><blockquote>  Les bons artistes copient, les grands artistes volent. <br><br>  ‚ÄîPablo Picasso. </blockquote>  Les solutions les plus r√©ussies et les choses √©tonnamment simples se produisent g√©n√©ralement l√† o√π il y a absolument incompatibles, √† premi√®re vue, les concepts, les technologies, les connaissances, les domaines scientifiques. <br><br>  Par exemple, les oiseaux et les avions ont des ailes, mais malgr√© la similitude fonctionnelle - le principe de fonctionnement dans certains modes est le m√™me, et les probl√®mes techniques sont r√©solus de la m√™me mani√®re: os creux, utilisation de mat√©riaux solides et l√©gers, etc. - les r√©sultats sont compl√®tement diff√©rents, bien que tr√®s similaire.  Les meilleurs √©chantillons que nous observons dans notre technologie sont √©galement principalement emprunt√©s √† la nature: compartiments √©tanches √† l'air dans les navires et les sous-marins - une analogie directe avec les ann√©lides;  construction de tableaux de raid et v√©rification de l'int√©grit√© des donn√©es - duplication de la cha√Æne d'ADN;  ainsi que les organes appari√©s, l'ind√©pendance du travail de divers organes par rapport au syst√®me nerveux central (fonction cardiaque automatique) et les r√©flexes sont des syst√®mes autonomes sur Internet.  Bien s√ªr, prendre et appliquer des solutions toutes faites ¬´de front¬ª est sem√© d'emb√ªches, mais qui sait, il n'y a peut-√™tre pas d'autres solutions. <br><blockquote>  Si je savais o√π tu tomberais, je mettrais des pailles! <br><br>  ‚ÄîProverbe bi√©lorusse </blockquote>  Les sauvegardes sont donc vitales pour ceux qui veulent: <br><br><ul><li>  Pour pouvoir restaurer le fonctionnement de leurs syst√®mes avec un minimum de temps d'arr√™t, ou m√™me sans eux </li><li>  N'h√©sitez pas √† agir, car en cas d'erreur il y a toujours la possibilit√© d'un rollback </li><li>  Minimisez les effets de la corruption intentionnelle des donn√©es </li></ul><br><div class="spoiler">  <b class="spoiler_title">Voici un peu de th√©orie</b> <div class="spoiler_text"><blockquote>  Toute classification est arbitraire.  La nature ne classe pas.  Nous classons, car c'est plus pratique pour nous.  Et nous classons selon les donn√©es, que nous prenons √©galement arbitrairement. <br><br>  ‚ÄîJan Bruler </blockquote>  Quelle que soit la m√©thode de stockage physique, le stockage logique des donn√©es peut √™tre divis√© en 2 fa√ßons d'acc√©der √† ces donn√©es: bloc et fichier.  Cette division a r√©cemment √©t√© tr√®s floue, car les stockages logiques purement blocs, comme purement les fichiers, n'existent pas.  Cependant, pour simplifier, nous supposons qu'ils le sont. <br><br>  Le stockage en bloc des donn√©es implique qu'il existe un p√©riph√©rique physique o√π les donn√©es sont enregistr√©es dans certaines parties fixes, des blocs.  L'acc√®s aux blocs va √† une certaine adresse, chaque bloc a sa propre adresse dans l'appareil. <br><br>  Une sauvegarde se fait g√©n√©ralement en copiant des blocs de donn√©es.  Pour garantir l'int√©grit√© des donn√©es au moment de la copie, l'enregistrement des nouveaux blocs, ainsi que la modification des blocs existants, est suspendu.  Si nous prenons une analogie avec le monde ordinaire, le placard le plus proche est avec les m√™mes cellules num√©rot√©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac1/aa2/32f/ac1aa232faecb701dd3c82894239f34e.png" alt="Bloquer le stockage des donn√©es"><br><br>  Le stockage de fichiers de donn√©es par le principe d'un p√©riph√©rique logique est proche du stockage en bloc et est souvent organis√© en haut.  Les diff√©rences importantes sont l'existence d'une hi√©rarchie de stockage et de noms lisibles par l'homme.  L'abstraction est mise en √©vidence sous la forme d'un fichier - une zone de donn√©es nomm√©e, ainsi que d'un r√©pertoire - un fichier sp√©cial dans lequel les descriptions et les acc√®s √† d'autres fichiers sont stock√©s.  Les fichiers peuvent √™tre fournis avec des m√©tadonn√©es suppl√©mentaires: heure de cr√©ation, drapeaux d'acc√®s, etc.  Ils sauvegardent g√©n√©ralement de cette fa√ßon: ils recherchent les fichiers modifi√©s, puis les copient vers un autre stockage de fichiers avec la m√™me structure.  L'int√©grit√© des donn√©es est g√©n√©ralement mise en ≈ìuvre par l'absence des fichiers sur lesquels l'√©criture est effectu√©e.  Les m√©tadonn√©es des fichiers sont sauvegard√©es de la m√™me mani√®re.  L'analogie la plus proche est la biblioth√®que, qui a des sections avec diff√©rents livres, ainsi qu'un catalogue avec des noms de livres lisibles par l'homme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/752/454/8cc/7524548cc8ff235cf9284d49d1fab007.jpg" alt="Stockage de donn√©es de fichiers"><br><br>  R√©cemment, une autre option est parfois d√©crite, avec laquelle, en principe, le stockage de fichiers de donn√©es a commenc√©, et qui a les m√™mes caract√©ristiques archa√Øques: le stockage de donn√©es d'objets. <br><br>  Il diff√®re du stockage de fichiers en ce qu'il ne comporte pas plus d'une imbrication (disposition plate), et les noms de fichiers, bien que lisibles par l'homme, sont n√©anmoins plus adapt√©s au traitement par des machines.  Lors de la sauvegarde, les magasins d'objets sont le plus souvent trait√©s comme des stockages de fichiers, mais il existe parfois d'autres options. <br><blockquote>  - Il existe deux types d'administrateurs syst√®me, ceux qui ne font pas de sauvegardes et ceux qui le font d√©j√†. <br>  - En fait, il existe trois types: il y a aussi ceux qui v√©rifient que les sauvegardes peuvent √™tre restaur√©es. <br><br>  ‚ÄîInconnu </blockquote>  Il est √©galement utile de comprendre que le processus de sauvegarde des donn√©es est effectu√© par des programmes, il pr√©sente donc les m√™mes inconv√©nients qu'un autre programme.  Pour supprimer (pas exclure!) La d√©pendance √† l'√©gard du facteur humain, ainsi que des caract√©ristiques - qui individuellement n'influencent pas fortement, mais peuvent ensemble donner un effet tangible - appliquent ce que l'on appelle  r√®gle 3-2-1.  Il existe de nombreuses options pour le d√©crypter, mais je pr√©f√®re l'interpr√©tation suivante: vous devez stocker 3 ensembles des m√™mes donn√©es, 2 ensembles doivent √™tre stock√©s dans des formats diff√©rents et 1 ensemble doit √™tre stock√© dans un stockage g√©ographiquement distant. <br><br>  Le format de stockage doit √™tre compris comme suit: <br><br><ul><li>  S'il existe une d√©pendance √† la m√©thode de stockage physique, nous changeons la m√©thode physique. </li><li>  S'il existe une d√©pendance √† la m√©thode de stockage logique, nous changeons la m√©thode logique. </li></ul><br>  Pour obtenir l'effet maximal de la r√®gle 3-2-1, il est recommand√© de modifier le format de stockage dans les deux sens. <br><br>  Du point de vue de la pr√©paration de la sauvegarde √† sa destination - restauration de l'op√©rabilit√©, il existe des sauvegardes ¬´√† chaud¬ª et ¬´√† froid¬ª.  Le chaud du froid ne diff√®re que par une chose: ils sont imm√©diatement pr√™ts pour le travail, tandis que le froid pour la r√©cup√©ration n√©cessite des actions suppl√©mentaires: d√©chiffrement, extraction de l'archive, etc. <br><br>  Ne confondez pas les copies chaudes et froides avec les copies en ligne et hors ligne, ce qui implique l'isolement physique des donn√©es, et en fait, sont un autre signe de la classification des m√©thodes de sauvegarde.  Ainsi, une copie hors ligne - non connect√©e directement au syst√®me o√π elle doit √™tre restaur√©e - peut √™tre √† chaud ou √† froid (en termes de pr√©paration √† la r√©cup√©ration).  Une copie en ligne peut √™tre disponible directement l√† o√π elle doit √™tre restaur√©e, et le plus souvent elle est chaude, mais il y en a aussi des froides. <br><br>  En outre, n'oubliez pas que le processus de cr√©ation de sauvegardes ne se termine g√©n√©ralement pas par la cr√©ation d'une seule sauvegarde et qu'il peut y avoir beaucoup de copies.  Par cons√©quent, il est n√©cessaire de distinguer les sauvegardes compl√®tes, c'est-√†-dire  celles qui sont r√©cup√©rables ind√©pendamment des autres sauvegardes, ainsi que les copies diff√©rentielles (incr√©mentielles, diff√©rentielles, d√©cr√©mentielles, etc.) - celles qui ne peuvent pas √™tre restaur√©es seules et n√©cessitent la restauration pr√©alable d'une ou plusieurs autres sauvegardes. <br><br>  Sauvegardes incr√©mentielles diff√©rentielles - une tentative d'√©conomiser l'espace pour le stockage des sauvegardes.  Ainsi, seules les donn√©es modifi√©es de la sauvegarde pr√©c√©dente sont √©crites dans la sauvegarde. <br><br>  Les d√©cr√©mentiels de diff√©rence sont cr√©√©s dans le m√™me but, mais d'une mani√®re l√©g√®rement diff√©rente: une sauvegarde compl√®te est effectu√©e, mais seule la diff√©rence entre la nouvelle copie et la pr√©c√©dente est r√©ellement stock√©e. <br><br>  S√©par√©ment, il convient de consid√©rer le processus de sauvegarde au-dessus du stockage, qui prend en charge l'absence de stockage en double.  Ainsi, si vous √©crivez des sauvegardes compl√®tes par-dessus, en r√©alit√©, seule la diff√©rence entre les sauvegardes sera enregistr√©e, cependant, le processus de restauration des sauvegardes sera similaire √† la restauration √† partir d'une copie compl√®te et compl√®tement transparente. <br><br><blockquote>  Quis custodiet ipsos custodes? <br><br>  (Qui gardera les gardiens eux-m√™mes? - lat.) </blockquote><br><br>  C'est tr√®s d√©sagr√©able quand il n'y a pas de sauvegarde, mais c'est bien pire si la sauvegarde semble √™tre faite, mais pendant la restauration il s'av√®re qu'elle ne peut pas √™tre restaur√©e, car: <br><br><ul><li>  L'int√©grit√© des donn√©es source a √©t√© viol√©e. </li><li>  Le stockage de sauvegarde est corrompu. </li><li>  La r√©cup√©ration fonctionne tr√®s lentement, vous ne pouvez pas utiliser de donn√©es partiellement restaur√©es. </li></ul><br><br>  Un processus de sauvegarde correctement construit doit prendre en compte ces commentaires, en particulier les deux premiers. <br><br>  L'int√©grit√© des donn√©es source peut √™tre garantie de plusieurs mani√®res.  Les plus couramment utilis√©s sont: a) la cr√©ation d'instantan√©s du syst√®me de fichiers au niveau du bloc, b) le gel de l'√©tat du syst√®me de fichiers, c) un p√©riph√©rique de bloc sp√©cial avec stockage de version, d) l'enregistrement s√©quentiel des fichiers ou des blocs.  Les sommes de contr√¥le sont √©galement utilis√©es pour assurer la v√©rification des donn√©es pendant la r√©cup√©ration. <br><br>  Les dommages au stockage peuvent √©galement √™tre d√©tect√©s √† l'aide de sommes de contr√¥le.  Une autre m√©thode consiste √† utiliser des appareils ou des syst√®mes de fichiers sp√©cialis√©s dans lesquels il est impossible de modifier des donn√©es d√©j√† enregistr√©es, mais vous pouvez en ajouter de nouvelles. <br><br>  Pour acc√©l√©rer la r√©cup√©ration, la r√©cup√©ration de donn√©es est utilis√©e avec plusieurs processus de r√©cup√©ration - √† condition qu'il n'y ait pas de ¬´goulot d'√©tranglement¬ª sous la forme d'un r√©seau lent ou d'un syst√®me de disque lent.  Afin de contourner la situation avec des donn√©es partiellement restaur√©es, il est possible de diviser le processus de sauvegarde en sous-t√¢ches relativement petites, chacune √©tant ex√©cut√©e s√©par√©ment.  Ainsi, il devient possible de restaurer syst√©matiquement les performances avec une pr√©diction du temps de r√©cup√©ration.  Ce probl√®me se situe le plus souvent dans le plan organisationnel (SLA), nous ne nous attarderons donc pas l√†-dessus en d√©tail. <br><br><blockquote>  En sait beaucoup sur les √©pices non pas celui qui les ajoute √† chaque plat, mais celui qui n'y ajoute jamais rien de superflu. <br><br>  ‚ÄîB.  Sinyavsky </blockquote><br><br>  La pratique concernant les logiciels utilis√©s par les administrateurs syst√®me peut varier, mais les principes g√©n√©raux sont toujours les m√™mes, d'une mani√®re ou d'une autre, en particulier: <br><br><ul><li>  Des solutions toutes faites sont fortement recommand√©es. </li><li>  Les programmes devraient fonctionner de mani√®re pr√©visible, c'est-√†-dire  Il ne devrait pas y avoir de fonctionnalit√©s ou de goulots d'√©tranglement non document√©s. </li><li>  La configuration de chaque programme doit √™tre suffisamment simple pour que vous n'ayez pas √† lire le manuel ou le cheat sheet √† chaque fois. </li><li>  La solution devrait √™tre universelle, si possible.  les serveurs dans leurs sp√©cifications mat√©rielles peuvent varier tr√®s, tr√®s. </li></ul><br><br>  Les programmes courants suivants sont disponibles pour supprimer les sauvegardes des p√©riph√©riques de bloc: <br><br><ul><li>  dd, familier aux v√©t√©rans de l'administration syst√®me, des programmes similaires s'appliquent √©galement ici (le m√™me dd_rescue, par exemple). </li><li>  Utilitaires (utilitaires) int√©gr√©s √† certains syst√®mes de fichiers qui cr√©ent un vidage du syst√®me de fichiers. </li><li>  Utilitaires omnivores;  par exemple, clone partiel. </li><li>  D√©cisions propres, souvent exclusives;  par exemple NortonGhost et versions ult√©rieures. </li></ul><br><br>  Pour les syst√®mes de fichiers, la t√¢che de sauvegarde est partiellement r√©solue en utilisant des m√©thodes applicables aux p√©riph√©riques de bloc, cependant, le probl√®me peut √™tre r√©solu plus efficacement, en utilisant, par exemple: <br><br><ul><li>  Rsync, un programme et protocole universel pour synchroniser l'√©tat des syst√®mes de fichiers. </li><li>  Outils d'archivage int√©gr√©s (ZFS). </li><li>  Outils d'archivage tiers;  le repr√©sentant le plus populaire est le goudron.  Il y en a d'autres, par exemple, le remplacement du goudron par un accent sur les syst√®mes modernes. </li></ul><br>  S√©par√©ment, il convient de mentionner le logiciel de coh√©rence des donn√©es lors de la cr√©ation de sauvegardes.  Les options les plus couramment utilis√©es sont: <br><br><ul><li>  Montage du syst√®me de fichiers en mode lecture seule (ReadOnly) ou gel du syst√®me de fichiers (gel) - la m√©thode est limit√©e. </li><li>  Cr√©ation d'instantan√©s de l'√©tat d'un syst√®me de fichiers ou d'un p√©riph√©rique de bloc (LVM, ZFS). </li><li>  L'utilisation d'outils tiers pour organiser les conversions, m√™me dans les cas o√π les paragraphes pr√©c√©dents ne peuvent pas √™tre fournis pour une raison quelconque (des programmes tels que la copie √† chaud). </li><li>  La technique de copie sur modification (CopyOnWrite), cependant, elle est le plus souvent li√©e au FS utilis√© (BTRFS, ZFS). </li></ul><br></div></div><br>  Ainsi, pour un petit serveur, vous devez fournir un sch√©ma de sauvegarde qui r√©pond aux exigences suivantes: <br><br><ul><li>  Facile √† utiliser - aucune √©tape suppl√©mentaire sp√©ciale n'est requise lors du travail, √©tapes minimales pour cr√©er et restaurer des copies. </li><li>  Universel - fonctionne sur des serveurs petits et grands;  ceci est important lors de l'augmentation du nombre de serveurs ou de la mise √† l'√©chelle. </li><li>  Il est install√© par le gestionnaire de paquets, ou en une ou deux commandes de type "download and unzip". </li><li>  Stable - utilise un format de stockage standard ou √©tabli de longue date. </li><li>  Rapide au travail. </li></ul><br>  Candidats de ceux qui r√©pondent plus ou moins aux exigences: <br><br><ul><li>  rdiff-backup </li><li>  rsnapshot </li><li>  rots </li><li>  duplicati </li><li>  duplicit√© </li><li>  deja dup </li><li>  Dar </li><li>  zbackup </li><li>  restic </li><li>  borgbackup </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a62/7e9/237/a627e923770a18cff68471cb826ec2bd.jpg" alt="Lit procrustien"><br><br>  Une machine virtuelle (bas√©e sur XenServer) avec les caract√©ristiques suivantes sera utilis√©e comme banc de test: <br><br><ul><li>  4 c≈ìurs 2,5 GHz, </li><li>  16 Go de RAM </li><li>  50 Go de stockage hybride (stockage avec mise en cache sur SSD √† 20% de la taille du disque virtuel) en tant que disque virtuel s√©par√© sans partitionnement, </li><li>  Canal Internet 200 Mbps. </li></ul><br>  Presque la m√™me machine sera utilis√©e comme serveur de destination de sauvegarde, uniquement avec un disque dur de 500 Go. <br><br>  Syst√®me d'exploitation - Centos 7 x64: la panne est standard, une partition suppl√©mentaire sera utilis√©e comme source de donn√©es. <br><br>  Prenons un site wordpress comme donn√©es source, avec des fichiers multim√©dias de 40 Go, une base de donn√©es mysql.  √âtant donn√© que les serveurs virtuels varient consid√©rablement en termes de caract√©ristiques, ainsi que pour une meilleure reproductibilit√©, il existe <br><br><div class="spoiler">  <b class="spoiler_title">r√©sultats des tests du serveur √† l'aide de sysbench.</b> <div class="spoiler_text">  sysbench --threads = 4 --time = 30 --cpu-max-prime = 20,000 cpu run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Ex√©cution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du g√©n√©rateur de nombres al√©atoires √† partir de l'heure actuelle <br><br>  Limite du nombre premier: 20 000 <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commenc√©! <br><br>  Vitesse CPU: <br>  √©v√©nements par seconde: 836,69 <br><br>  D√©bit: <br>  √©v√©nements / s (eps): 836.6908 <br>  temps √©coul√©: 30.0039s <br>  nombre total d'√©v√©nements: 25104 <br><br>  Latence (ms): <br>  min: 2,38 <br>  moyenne: 4.78 <br>  max: 22.39 <br>  95e centile: 10,46 <br>  somme: 119923.64 <br><br>  √âquit√© des fils: <br>  √©v√©nements (avg / stddev): 6276.0000 / 13.91 <br>  temps d'ex√©cution (avg / stddev): 29.9809 / 0.01 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = read memory run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Ex√©cution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du g√©n√©rateur de nombres al√©atoires √† partir de l'heure actuelle <br><br>  Ex√©cution du test de vitesse de m√©moire avec les options suivantes: <br>  taille du bloc: 1 Ko <br>  taille totale: 102400MiB <br>  op√©ration: lire <br>  port√©e: globale <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commenc√©! <br><br>  Total op√©rations: 50900446 (1696677,10 par seconde) <br><br>  49707,47 Mio transf√©r√©s (1656,91 Mio / s) <br><br>  D√©bit: <br>  √©v√©nements / s (eps): 1696677.1017 <br>  temps √©coul√©: 30.0001s <br>  nombre total d'√©v√©nements: 50900446 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0.00 <br>  max: 24.01 <br>  95e centile: 0,00 <br>  somme: 39106.74 <br><br>  √âquit√© des fils: <br>  √©v√©nements (avg / stddev): 12725111.5000 / 137775.15 <br>  temps d'ex√©cution (avg / stddev): 9.7767 / 0.10 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = √©criture m√©moire ex√©cut√©e <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Ex√©cution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du g√©n√©rateur de nombres al√©atoires √† partir de l'heure actuelle <br><br>  Ex√©cution du test de vitesse de m√©moire avec les options suivantes: <br>  taille du bloc: 1 Ko <br>  taille totale: 102400MiB <br>  op√©ration: √©criture <br>  port√©e: globale <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commenc√©! <br><br>  Total des op√©rations: 35910413 (1197008,62 par seconde) <br><br>  35068,76 Mio transf√©r√©s (1168,95 Mio / s) <br><br>  D√©bit: <br>  √©v√©nements / s (eps): 1197008.6179 <br>  temps √©coul√©: 30.0001s <br>  nombre total d'√©v√©nements: 35910413 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0.00 <br>  max: 16.90 <br>  95e centile: 0,00 <br>  somme: 43604.83 <br><br>  √âquit√© des fils: <br>  √©v√©nements (avg / stddev): 8977603.2500 / 233905.84 <br>  temps d'ex√©cution (avg / stddev): 10.9012 / 0.41 <br><br>  sysbench --threads = 4 --file-test-mode = rndrw --time = 60 --file-block-size = 4K --file-total-size = 1G fileio run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Ex√©cution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du g√©n√©rateur de nombres al√©atoires √† partir de l'heure actuelle <br><br>  Indicateurs d'ouverture de fichier suppl√©mentaire: (aucun) <br>  128 fichiers, 8 Mo chacun <br>  Taille totale du fichier 1GiB <br>  Taille de bloc 4KiB <br>  Nombre de demandes d'E / S: 0 <br>  Rapport lecture / √©criture pour le test IO al√©atoire combin√©: 1,50 <br>  FSYNC p√©riodique activ√©, appelant fsync () toutes les 100 demandes. <br>  Appel de fsync () √† la fin du test, activ√©. <br>  Utilisation du mode d'E / S synchrone <br>  Faire un test R / W al√©atoire <br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commenc√©! <br><br>  D√©bit: <br>  lire: IOPS = 3868,21 15,11 MiB / s (15,84 Mo / s) <br>  √©criture: IOPS = 2578,83 10,07 Mio / s (10,56 Mo / s) <br>  fsync: IOPS = 8226,98 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0,27 <br>  max: 18.01 <br>  95e centile: 1,08 <br>  somme: 238469.45 <br></div></div><br>  Cette note commence grand <br><br><div class="spoiler">  <b class="spoiler_title">cycle d'articles de sauvegarde</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sauvegarde, partie 1: Pourquoi avez-vous besoin d'une sauvegarde, un aper√ßu des m√©thodes, des technologies</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  2:    rsync-based   </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  3:    duplicity, duplicati</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  4:    zbackup, restic, borgbackup</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  5:  Bacula  Veeam Backup for Linux</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> :    :  AMANDA, UrBackup, BackupPC</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  6:    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  7: </a> </li></ol><br></div></div><br><br> <u> </u> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Finnix</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449282/">https://habr.com/ru/post/fr449282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449270/index.html">Yandex a publi√© un aper√ßu du march√© des postes vacants en informatique</a></li>
<li><a href="../fr449274/index.html">Grand √©cran √† 7 segments avec n√©on sur l'ESP8266</a></li>
<li><a href="../fr449276/index.html">Changement de carri√®re √† 35 ans. Mon exp√©rience et mes premiers succ√®s</a></li>
<li><a href="../fr449278/index.html">Attaques de domaine</a></li>
<li><a href="../fr449280/index.html">Fonctionnement de la plateforme de jeu en nuage pour les clients B2B et B2C. Solutions pour une belle image et combattez avec le dernier kilom√®tre</a></li>
<li><a href="../fr449284/index.html">Je vends des oignons en ligne</a></li>
<li><a href="../fr449286/index.html">Make on go GraphQL API</a></li>
<li><a href="../fr449288/index.html">Quelle √©quipe est n√©cessaire pour cr√©er une tr√®s bonne boutique en ligne?</a></li>
<li><a href="../fr449290/index.html">Comment la num√©risation 3D r√©sout les probl√®mes de contr√¥le qualit√© de la production</a></li>
<li><a href="../fr449292/index.html">Test du stylo num√©rique MT6081 - Prenez vos notes directement sur votre ordinateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>