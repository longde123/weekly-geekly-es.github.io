<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👊🏿 👩🏿 👩🏼‍🍳 Sauvegarde, partie 1: objectif, vue d'ensemble des techniques et technologies 👩🏿‍💻 👩🏽‍💼 💾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pourquoi avez-vous besoin de faire des sauvegardes? Après tout, l'équipement est très, très fiable, en plus, il y a des «clouds» meilleurs que les ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sauvegarde, partie 1: objectif, vue d'ensemble des techniques et technologies</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/449282/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/945/c47/658945c47c79b468058bdfa05712bab1.jpg" alt="Sauvegarde? Je n'ai pas besoin de sauvegarde !!"></div><br>  Pourquoi avez-vous besoin de faire des sauvegardes?  Après tout, l'équipement est très, très fiable, en plus, il y a des «clouds» meilleurs que les serveurs physiques en termes de fiabilité: s'il est correctement configuré, le serveur «cloud» survivra facilement à la panne du serveur physique de l'infrastructure, et du point de vue des utilisateurs du service, il y aura un petit saut dans le temps à peine perceptible service.  De plus, la duplication d'informations nécessite souvent le paiement du temps processeur "supplémentaire", de la charge du disque et du trafic réseau. <br><a name="habracut"></a><br><blockquote>  Un programme idéal s'exécute rapidement, ne passe pas par la RAM, n'a pas de trous et n'existe pas. <br><br>  —Inconnu </blockquote>  Étant donné que les programmes sont toujours écrits par des développeurs de protéines et que le processus de test est souvent absent, de plus, la livraison de programmes est extrêmement rare avec l'utilisation de "meilleures pratiques" (qui sont également des programmes en eux-mêmes et donc imparfaits), les administrateurs système doivent souvent résoudre des problèmes qui sonnent brièvement mais succinctement: "revenir tel quel", "ramener la base à un fonctionnement normal", "ça marche lentement - on recule", et aussi mon préféré "je ne sais pas quoi, mais le réparer". <br><br>  En plus des erreurs logiques résultant d'un travail négligent des développeurs ou d'une combinaison de circonstances, ainsi que d'une connaissance incomplète ou d'une mauvaise compréhension des petites fonctionnalités des programmes de construction - y compris les classeurs et ceux du système, y compris les systèmes d'exploitation, les pilotes et le micrologiciel - il existe également d'autres erreurs.  Par exemple, la plupart des développeurs s'appuient sur le runtime, oubliant complètement les lois physiques qui sont toujours impossibles à contourner à l'aide de programmes.  Cela inclut la fiabilité infinie du sous-système de disque et de tout sous-système de stockage de données en général (y compris la RAM et le cache du processeur!), Et le temps de traitement nul sur le processeur, et l'absence d'erreurs lors de la transmission sur le réseau et pendant le traitement sur le processeur, et la latence du réseau, qui sont 0. Ne négligez pas le délai notoire, car si vous n’avez pas le temps, il y aura des problèmes plus propres que les nuances du réseau et du disque. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/171/855/c4d/171855c4dfec286b3624dd27efeb71e6.jpg" alt="Chef, tout est parti! basé sur k \ f Diamond hand"><br><br>  Mais qu'en est-il des problèmes qui surviennent en pleine croissance et qui pèsent sur des données précieuses?  Il n'y a rien pour remplacer les développeurs en direct, et pas le fait que ce sera possible dans un avenir proche.  D'autre part, pour prouver pleinement que le programme fonctionnera comme prévu, jusqu'à présent, seuls quelques projets ont réussi, et il n'est pas du tout possible de prendre et d'appliquer les preuves à d'autres projets similaires.  De plus, de telles preuves prennent beaucoup de temps et nécessitent des compétences et des connaissances particulières, ce qui minimise pratiquement la possibilité de leur application en tenant compte des délais.  De plus, nous ne savons toujours pas comment utiliser une technologie ultrarapide, bon marché et infiniment fiable pour stocker, traiter et transmettre des informations.  De telles technologies, si elles existent, se présentent alors sous forme de concepts, ou - le plus souvent - uniquement dans les livres et films de science-fiction. <br><blockquote>  Les bons artistes copient, les grands artistes volent. <br><br>  —Pablo Picasso. </blockquote>  Les solutions les plus réussies et les choses étonnamment simples se produisent généralement là où il y a absolument incompatibles, à première vue, les concepts, les technologies, les connaissances, les domaines scientifiques. <br><br>  Par exemple, les oiseaux et les avions ont des ailes, mais malgré la similitude fonctionnelle - le principe de fonctionnement dans certains modes est le même, et les problèmes techniques sont résolus de la même manière: os creux, utilisation de matériaux solides et légers, etc. - les résultats sont complètement différents, bien que très similaire.  Les meilleurs échantillons que nous observons dans notre technologie sont également principalement empruntés à la nature: compartiments étanches à l'air dans les navires et les sous-marins - une analogie directe avec les annélides;  construction de tableaux de raid et vérification de l'intégrité des données - duplication de la chaîne d'ADN;  ainsi que les organes appariés, l'indépendance du travail de divers organes par rapport au système nerveux central (fonction cardiaque automatique) et les réflexes sont des systèmes autonomes sur Internet.  Bien sûr, prendre et appliquer des solutions toutes faites «de front» est semé d'embûches, mais qui sait, il n'y a peut-être pas d'autres solutions. <br><blockquote>  Si je savais où tu tomberais, je mettrais des pailles! <br><br>  —Proverbe biélorusse </blockquote>  Les sauvegardes sont donc vitales pour ceux qui veulent: <br><br><ul><li>  Pour pouvoir restaurer le fonctionnement de leurs systèmes avec un minimum de temps d'arrêt, ou même sans eux </li><li>  N'hésitez pas à agir, car en cas d'erreur il y a toujours la possibilité d'un rollback </li><li>  Minimisez les effets de la corruption intentionnelle des données </li></ul><br><div class="spoiler">  <b class="spoiler_title">Voici un peu de théorie</b> <div class="spoiler_text"><blockquote>  Toute classification est arbitraire.  La nature ne classe pas.  Nous classons, car c'est plus pratique pour nous.  Et nous classons selon les données, que nous prenons également arbitrairement. <br><br>  —Jan Bruler </blockquote>  Quelle que soit la méthode de stockage physique, le stockage logique des données peut être divisé en 2 façons d'accéder à ces données: bloc et fichier.  Cette division a récemment été très floue, car les stockages logiques purement blocs, comme purement les fichiers, n'existent pas.  Cependant, pour simplifier, nous supposons qu'ils le sont. <br><br>  Le stockage en bloc des données implique qu'il existe un périphérique physique où les données sont enregistrées dans certaines parties fixes, des blocs.  L'accès aux blocs va à une certaine adresse, chaque bloc a sa propre adresse dans l'appareil. <br><br>  Une sauvegarde se fait généralement en copiant des blocs de données.  Pour garantir l'intégrité des données au moment de la copie, l'enregistrement des nouveaux blocs, ainsi que la modification des blocs existants, est suspendu.  Si nous prenons une analogie avec le monde ordinaire, le placard le plus proche est avec les mêmes cellules numérotées. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac1/aa2/32f/ac1aa232faecb701dd3c82894239f34e.png" alt="Bloquer le stockage des données"><br><br>  Le stockage de fichiers de données par le principe d'un périphérique logique est proche du stockage en bloc et est souvent organisé en haut.  Les différences importantes sont l'existence d'une hiérarchie de stockage et de noms lisibles par l'homme.  L'abstraction est mise en évidence sous la forme d'un fichier - une zone de données nommée, ainsi que d'un répertoire - un fichier spécial dans lequel les descriptions et les accès à d'autres fichiers sont stockés.  Les fichiers peuvent être fournis avec des métadonnées supplémentaires: heure de création, drapeaux d'accès, etc.  Ils sauvegardent généralement de cette façon: ils recherchent les fichiers modifiés, puis les copient vers un autre stockage de fichiers avec la même structure.  L'intégrité des données est généralement mise en œuvre par l'absence des fichiers sur lesquels l'écriture est effectuée.  Les métadonnées des fichiers sont sauvegardées de la même manière.  L'analogie la plus proche est la bibliothèque, qui a des sections avec différents livres, ainsi qu'un catalogue avec des noms de livres lisibles par l'homme. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/752/454/8cc/7524548cc8ff235cf9284d49d1fab007.jpg" alt="Stockage de données de fichiers"><br><br>  Récemment, une autre option est parfois décrite, avec laquelle, en principe, le stockage de fichiers de données a commencé, et qui a les mêmes caractéristiques archaïques: le stockage de données d'objets. <br><br>  Il diffère du stockage de fichiers en ce qu'il ne comporte pas plus d'une imbrication (disposition plate), et les noms de fichiers, bien que lisibles par l'homme, sont néanmoins plus adaptés au traitement par des machines.  Lors de la sauvegarde, les magasins d'objets sont le plus souvent traités comme des stockages de fichiers, mais il existe parfois d'autres options. <br><blockquote>  - Il existe deux types d'administrateurs système, ceux qui ne font pas de sauvegardes et ceux qui le font déjà. <br>  - En fait, il existe trois types: il y a aussi ceux qui vérifient que les sauvegardes peuvent être restaurées. <br><br>  —Inconnu </blockquote>  Il est également utile de comprendre que le processus de sauvegarde des données est effectué par des programmes, il présente donc les mêmes inconvénients qu'un autre programme.  Pour supprimer (pas exclure!) La dépendance à l'égard du facteur humain, ainsi que des caractéristiques - qui individuellement n'influencent pas fortement, mais peuvent ensemble donner un effet tangible - appliquent ce que l'on appelle  règle 3-2-1.  Il existe de nombreuses options pour le décrypter, mais je préfère l'interprétation suivante: vous devez stocker 3 ensembles des mêmes données, 2 ensembles doivent être stockés dans des formats différents et 1 ensemble doit être stocké dans un stockage géographiquement distant. <br><br>  Le format de stockage doit être compris comme suit: <br><br><ul><li>  S'il existe une dépendance à la méthode de stockage physique, nous changeons la méthode physique. </li><li>  S'il existe une dépendance à la méthode de stockage logique, nous changeons la méthode logique. </li></ul><br>  Pour obtenir l'effet maximal de la règle 3-2-1, il est recommandé de modifier le format de stockage dans les deux sens. <br><br>  Du point de vue de la préparation de la sauvegarde à sa destination - restauration de l'opérabilité, il existe des sauvegardes «à chaud» et «à froid».  Le chaud du froid ne diffère que par une chose: ils sont immédiatement prêts pour le travail, tandis que le froid pour la récupération nécessite des actions supplémentaires: déchiffrement, extraction de l'archive, etc. <br><br>  Ne confondez pas les copies chaudes et froides avec les copies en ligne et hors ligne, ce qui implique l'isolement physique des données, et en fait, sont un autre signe de la classification des méthodes de sauvegarde.  Ainsi, une copie hors ligne - non connectée directement au système où elle doit être restaurée - peut être à chaud ou à froid (en termes de préparation à la récupération).  Une copie en ligne peut être disponible directement là où elle doit être restaurée, et le plus souvent elle est chaude, mais il y en a aussi des froides. <br><br>  En outre, n'oubliez pas que le processus de création de sauvegardes ne se termine généralement pas par la création d'une seule sauvegarde et qu'il peut y avoir beaucoup de copies.  Par conséquent, il est nécessaire de distinguer les sauvegardes complètes, c'est-à-dire  celles qui sont récupérables indépendamment des autres sauvegardes, ainsi que les copies différentielles (incrémentielles, différentielles, décrémentielles, etc.) - celles qui ne peuvent pas être restaurées seules et nécessitent la restauration préalable d'une ou plusieurs autres sauvegardes. <br><br>  Sauvegardes incrémentielles différentielles - une tentative d'économiser l'espace pour le stockage des sauvegardes.  Ainsi, seules les données modifiées de la sauvegarde précédente sont écrites dans la sauvegarde. <br><br>  Les décrémentiels de différence sont créés dans le même but, mais d'une manière légèrement différente: une sauvegarde complète est effectuée, mais seule la différence entre la nouvelle copie et la précédente est réellement stockée. <br><br>  Séparément, il convient de considérer le processus de sauvegarde au-dessus du stockage, qui prend en charge l'absence de stockage en double.  Ainsi, si vous écrivez des sauvegardes complètes par-dessus, en réalité, seule la différence entre les sauvegardes sera enregistrée, cependant, le processus de restauration des sauvegardes sera similaire à la restauration à partir d'une copie complète et complètement transparente. <br><br><blockquote>  Quis custodiet ipsos custodes? <br><br>  (Qui gardera les gardiens eux-mêmes? - lat.) </blockquote><br><br>  C'est très désagréable quand il n'y a pas de sauvegarde, mais c'est bien pire si la sauvegarde semble être faite, mais pendant la restauration il s'avère qu'elle ne peut pas être restaurée, car: <br><br><ul><li>  L'intégrité des données source a été violée. </li><li>  Le stockage de sauvegarde est corrompu. </li><li>  La récupération fonctionne très lentement, vous ne pouvez pas utiliser de données partiellement restaurées. </li></ul><br><br>  Un processus de sauvegarde correctement construit doit prendre en compte ces commentaires, en particulier les deux premiers. <br><br>  L'intégrité des données source peut être garantie de plusieurs manières.  Les plus couramment utilisés sont: a) la création d'instantanés du système de fichiers au niveau du bloc, b) le gel de l'état du système de fichiers, c) un périphérique de bloc spécial avec stockage de version, d) l'enregistrement séquentiel des fichiers ou des blocs.  Les sommes de contrôle sont également utilisées pour assurer la vérification des données pendant la récupération. <br><br>  Les dommages au stockage peuvent également être détectés à l'aide de sommes de contrôle.  Une autre méthode consiste à utiliser des appareils ou des systèmes de fichiers spécialisés dans lesquels il est impossible de modifier des données déjà enregistrées, mais vous pouvez en ajouter de nouvelles. <br><br>  Pour accélérer la récupération, la récupération de données est utilisée avec plusieurs processus de récupération - à condition qu'il n'y ait pas de «goulot d'étranglement» sous la forme d'un réseau lent ou d'un système de disque lent.  Afin de contourner la situation avec des données partiellement restaurées, il est possible de diviser le processus de sauvegarde en sous-tâches relativement petites, chacune étant exécutée séparément.  Ainsi, il devient possible de restaurer systématiquement les performances avec une prédiction du temps de récupération.  Ce problème se situe le plus souvent dans le plan organisationnel (SLA), nous ne nous attarderons donc pas là-dessus en détail. <br><br><blockquote>  En sait beaucoup sur les épices non pas celui qui les ajoute à chaque plat, mais celui qui n'y ajoute jamais rien de superflu. <br><br>  —B.  Sinyavsky </blockquote><br><br>  La pratique concernant les logiciels utilisés par les administrateurs système peut varier, mais les principes généraux sont toujours les mêmes, d'une manière ou d'une autre, en particulier: <br><br><ul><li>  Des solutions toutes faites sont fortement recommandées. </li><li>  Les programmes devraient fonctionner de manière prévisible, c'est-à-dire  Il ne devrait pas y avoir de fonctionnalités ou de goulots d'étranglement non documentés. </li><li>  La configuration de chaque programme doit être suffisamment simple pour que vous n'ayez pas à lire le manuel ou le cheat sheet à chaque fois. </li><li>  La solution devrait être universelle, si possible.  les serveurs dans leurs spécifications matérielles peuvent varier très, très. </li></ul><br><br>  Les programmes courants suivants sont disponibles pour supprimer les sauvegardes des périphériques de bloc: <br><br><ul><li>  dd, familier aux vétérans de l'administration système, des programmes similaires s'appliquent également ici (le même dd_rescue, par exemple). </li><li>  Utilitaires (utilitaires) intégrés à certains systèmes de fichiers qui créent un vidage du système de fichiers. </li><li>  Utilitaires omnivores;  par exemple, clone partiel. </li><li>  Décisions propres, souvent exclusives;  par exemple NortonGhost et versions ultérieures. </li></ul><br><br>  Pour les systèmes de fichiers, la tâche de sauvegarde est partiellement résolue en utilisant des méthodes applicables aux périphériques de bloc, cependant, le problème peut être résolu plus efficacement, en utilisant, par exemple: <br><br><ul><li>  Rsync, un programme et protocole universel pour synchroniser l'état des systèmes de fichiers. </li><li>  Outils d'archivage intégrés (ZFS). </li><li>  Outils d'archivage tiers;  le représentant le plus populaire est le goudron.  Il y en a d'autres, par exemple, le remplacement du goudron par un accent sur les systèmes modernes. </li></ul><br>  Séparément, il convient de mentionner le logiciel de cohérence des données lors de la création de sauvegardes.  Les options les plus couramment utilisées sont: <br><br><ul><li>  Montage du système de fichiers en mode lecture seule (ReadOnly) ou gel du système de fichiers (gel) - la méthode est limitée. </li><li>  Création d'instantanés de l'état d'un système de fichiers ou d'un périphérique de bloc (LVM, ZFS). </li><li>  L'utilisation d'outils tiers pour organiser les conversions, même dans les cas où les paragraphes précédents ne peuvent pas être fournis pour une raison quelconque (des programmes tels que la copie à chaud). </li><li>  La technique de copie sur modification (CopyOnWrite), cependant, elle est le plus souvent liée au FS utilisé (BTRFS, ZFS). </li></ul><br></div></div><br>  Ainsi, pour un petit serveur, vous devez fournir un schéma de sauvegarde qui répond aux exigences suivantes: <br><br><ul><li>  Facile à utiliser - aucune étape supplémentaire spéciale n'est requise lors du travail, étapes minimales pour créer et restaurer des copies. </li><li>  Universel - fonctionne sur des serveurs petits et grands;  ceci est important lors de l'augmentation du nombre de serveurs ou de la mise à l'échelle. </li><li>  Il est installé par le gestionnaire de paquets, ou en une ou deux commandes de type "download and unzip". </li><li>  Stable - utilise un format de stockage standard ou établi de longue date. </li><li>  Rapide au travail. </li></ul><br>  Candidats de ceux qui répondent plus ou moins aux exigences: <br><br><ul><li>  rdiff-backup </li><li>  rsnapshot </li><li>  rots </li><li>  duplicati </li><li>  duplicité </li><li>  deja dup </li><li>  Dar </li><li>  zbackup </li><li>  restic </li><li>  borgbackup </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/a62/7e9/237/a627e923770a18cff68471cb826ec2bd.jpg" alt="Lit procrustien"><br><br>  Une machine virtuelle (basée sur XenServer) avec les caractéristiques suivantes sera utilisée comme banc de test: <br><br><ul><li>  4 cœurs 2,5 GHz, </li><li>  16 Go de RAM </li><li>  50 Go de stockage hybride (stockage avec mise en cache sur SSD à 20% de la taille du disque virtuel) en tant que disque virtuel séparé sans partitionnement, </li><li>  Canal Internet 200 Mbps. </li></ul><br>  Presque la même machine sera utilisée comme serveur de destination de sauvegarde, uniquement avec un disque dur de 500 Go. <br><br>  Système d'exploitation - Centos 7 x64: la panne est standard, une partition supplémentaire sera utilisée comme source de données. <br><br>  Prenons un site wordpress comme données source, avec des fichiers multimédias de 40 Go, une base de données mysql.  Étant donné que les serveurs virtuels varient considérablement en termes de caractéristiques, ainsi que pour une meilleure reproductibilité, il existe <br><br><div class="spoiler">  <b class="spoiler_title">résultats des tests du serveur à l'aide de sysbench.</b> <div class="spoiler_text">  sysbench --threads = 4 --time = 30 --cpu-max-prime = 20,000 cpu run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Exécution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du générateur de nombres aléatoires à partir de l'heure actuelle <br><br>  Limite du nombre premier: 20 000 <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commencé! <br><br>  Vitesse CPU: <br>  événements par seconde: 836,69 <br><br>  Débit: <br>  événements / s (eps): 836.6908 <br>  temps écoulé: 30.0039s <br>  nombre total d'événements: 25104 <br><br>  Latence (ms): <br>  min: 2,38 <br>  moyenne: 4.78 <br>  max: 22.39 <br>  95e centile: 10,46 <br>  somme: 119923.64 <br><br>  Équité des fils: <br>  événements (avg / stddev): 6276.0000 / 13.91 <br>  temps d'exécution (avg / stddev): 29.9809 / 0.01 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = read memory run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Exécution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du générateur de nombres aléatoires à partir de l'heure actuelle <br><br>  Exécution du test de vitesse de mémoire avec les options suivantes: <br>  taille du bloc: 1 Ko <br>  taille totale: 102400MiB <br>  opération: lire <br>  portée: globale <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commencé! <br><br>  Total opérations: 50900446 (1696677,10 par seconde) <br><br>  49707,47 Mio transférés (1656,91 Mio / s) <br><br>  Débit: <br>  événements / s (eps): 1696677.1017 <br>  temps écoulé: 30.0001s <br>  nombre total d'événements: 50900446 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0.00 <br>  max: 24.01 <br>  95e centile: 0,00 <br>  somme: 39106.74 <br><br>  Équité des fils: <br>  événements (avg / stddev): 12725111.5000 / 137775.15 <br>  temps d'exécution (avg / stddev): 9.7767 / 0.10 <br><br>  sysbench --threads = 4 --time = 30 --memory-block-size = 1K --memory-scope = global --memory-total-size = 100G --memory-oper = écriture mémoire exécutée <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Exécution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du générateur de nombres aléatoires à partir de l'heure actuelle <br><br>  Exécution du test de vitesse de mémoire avec les options suivantes: <br>  taille du bloc: 1 Ko <br>  taille totale: 102400MiB <br>  opération: écriture <br>  portée: globale <br><br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commencé! <br><br>  Total des opérations: 35910413 (1197008,62 par seconde) <br><br>  35068,76 Mio transférés (1168,95 Mio / s) <br><br>  Débit: <br>  événements / s (eps): 1197008.6179 <br>  temps écoulé: 30.0001s <br>  nombre total d'événements: 35910413 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0.00 <br>  max: 16.90 <br>  95e centile: 0,00 <br>  somme: 43604.83 <br><br>  Équité des fils: <br>  événements (avg / stddev): 8977603.2500 / 233905.84 <br>  temps d'exécution (avg / stddev): 10.9012 / 0.41 <br><br>  sysbench --threads = 4 --file-test-mode = rndrw --time = 60 --file-block-size = 4K --file-total-size = 1G fileio run <br>  sysbench 1.1.0-18a9f86 (en utilisant LuaJIT 2.1.0-beta3 fourni) <br>  Exécution du test avec les options suivantes: <br>  Nombre de fils: 4 <br>  Initialisation du générateur de nombres aléatoires à partir de l'heure actuelle <br><br>  Indicateurs d'ouverture de fichier supplémentaire: (aucun) <br>  128 fichiers, 8 Mo chacun <br>  Taille totale du fichier 1GiB <br>  Taille de bloc 4KiB <br>  Nombre de demandes d'E / S: 0 <br>  Rapport lecture / écriture pour le test IO aléatoire combiné: 1,50 <br>  FSYNC périodique activé, appelant fsync () toutes les 100 demandes. <br>  Appel de fsync () à la fin du test, activé. <br>  Utilisation du mode d'E / S synchrone <br>  Faire un test R / W aléatoire <br>  Initialisation des threads de travail ... <br><br>  Les discussions ont commencé! <br><br>  Débit: <br>  lire: IOPS = 3868,21 15,11 MiB / s (15,84 Mo / s) <br>  écriture: IOPS = 2578,83 10,07 Mio / s (10,56 Mo / s) <br>  fsync: IOPS = 8226,98 <br><br>  Latence (ms): <br>  min: 0,00 <br>  moyenne: 0,27 <br>  max: 18.01 <br>  95e centile: 1,08 <br>  somme: 238469.45 <br></div></div><br>  Cette note commence grand <br><br><div class="spoiler">  <b class="spoiler_title">cycle d'articles de sauvegarde</b> <div class="spoiler_text"><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sauvegarde, partie 1: Pourquoi avez-vous besoin d'une sauvegarde, un aperçu des méthodes, des technologies</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  2:    rsync-based   </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  3:    duplicity, duplicati</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  4:    zbackup, restic, borgbackup</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  5:  Bacula  Veeam Backup for Linux</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> :    :  AMANDA, UrBackup, BackupPC</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  6:    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,  7: </a> </li></ol><br></div></div><br><br> <u> </u> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Finnix</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449282/">https://habr.com/ru/post/fr449282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449270/index.html">Yandex a publié un aperçu du marché des postes vacants en informatique</a></li>
<li><a href="../fr449274/index.html">Grand écran à 7 segments avec néon sur l'ESP8266</a></li>
<li><a href="../fr449276/index.html">Changement de carrière à 35 ans. Mon expérience et mes premiers succès</a></li>
<li><a href="../fr449278/index.html">Attaques de domaine</a></li>
<li><a href="../fr449280/index.html">Fonctionnement de la plateforme de jeu en nuage pour les clients B2B et B2C. Solutions pour une belle image et combattez avec le dernier kilomètre</a></li>
<li><a href="../fr449284/index.html">Je vends des oignons en ligne</a></li>
<li><a href="../fr449286/index.html">Make on go GraphQL API</a></li>
<li><a href="../fr449288/index.html">Quelle équipe est nécessaire pour créer une très bonne boutique en ligne?</a></li>
<li><a href="../fr449290/index.html">Comment la numérisation 3D résout les problèmes de contrôle qualité de la production</a></li>
<li><a href="../fr449292/index.html">Test du stylo numérique MT6081 - Prenez vos notes directement sur votre ordinateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>