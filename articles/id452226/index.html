<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥦 🛃 🚄 Judulnya akan berbeda 👦🏽 🚴🏼 👩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jika Anda mengembangkan produk untuk pasar massal, maka kemungkinan besar orang dengan penglihatan rendah menggunakannya. Jika Anda berusaha membuat a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Judulnya akan berbeda</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/452226/">  Jika Anda mengembangkan produk untuk pasar massal, maka kemungkinan besar orang dengan penglihatan rendah menggunakannya.  Jika Anda berusaha membuat antarmuka yang ramah pengguna, maka Anda perlu melakukannya dengan nyaman untuk semua klien, termasuk orang-orang dengan penglihatan rendah.  Saya pikir kita sering melupakannya.  Dan sudah waktunya untuk memperbaikinya. <br><br><img src="https://habrastorage.org/webt/vl/d_/dg/vld_dgvbru6qn4h7vwhdjzhh2r0.png"><br><a name="habracut"></a><br>  Saya memasukkan permintaan "pengiriman pizza" dalam pencarian di App Store, mengunduh 24 aplikasi pertama dan memeriksa aplikasi mana yang menyediakan antarmuka untuk orang-orang dengan penglihatan rendah. <br><br><img src="https://habrastorage.org/webt/gc/g_/r-/gcg_r-5lktwzdhejhfqkcxlwkfm.png"><br><br>  <b>2 dari 24</b> .  Dan salah satu dari keduanya, tampaknya, melakukannya secara tidak sengaja: ketika ukuran font meningkat, seluruh antarmuka "mengambang" dan itu menjadi lebih sulit untuk digunakan.  Menyedihkan. <br><br>  550.000 orang menggunakan aplikasi Dodo Pizza iOS setiap bulan.  Bahkan jika 1% dari pengguna kami memiliki font yang diperbesar, itu adalah 5500 orang yang tidak nyaman menggunakan aplikasi kami.  Kami akan memperbaikinya. <br><br><h2>  Tambahkan Dukungan Tipe Dinamis </h2><br><ol><li>  Kami menggunakan gaya teks sistem dinamis alih-alih yang statis. </li><li> Secara opsional, aktifkan tanda centang Font Sesuaikan Otomatis pada label di storyboard.  Atau, jika label pada tombol atau dibuat melalui kode, kita ketuk parameternya <code>adjustsFontForContentSizeCategory</code> . </li><li>  Kami mengajarkan antarmuka untuk meregangkan ke berbagai ukuran font: <br>  - Kami menggunakan perhitungan otomatis ukuran sel di mana kami bisa. <br>  - Di mana kami tidak bisa - kami mendapatkan pengaturan ukuran font saat ini dan menanggapi perubahan dalam metode <code>traitCollectionDidChange</code> . </li><li>  Kami mendapatkan antarmuka yang tidak mungkin digunakan. </li></ol><br><br> <a href=""><img src="https://habrastorage.org/webt/vg/sj/qa/vgsjqakh4zfv-lcere3iv0rptk0.png"></a> <br><br><h2>  Kami mengubah antarmuka sehingga dapat digunakan </h2><br>  Kami mundur dan mulai berpikir bagaimana melakukan semuanya dengan baik. <br><br><h3>  Gunakan tempat dalam menu dengan benar </h3><br>  Sekarang ada banyak ruang kosong di bawah gambar pizza.  Mari kita coba letakkan gambar di atas namanya: dengan cara ini akan menjadi lebih besar, dan ruang kosong akan hilang.  Untuk melakukan ini, kami membungkus gambar dan <code>UIStackView</code> wadah dengan yang lainnya di <code>UIStackView</code> , dan kemudian kami akan mengalihkan arah tampilan tumpukan jika perlu. <br><br> <a href=""><img src="https://habrastorage.org/webt/dt/s_/vg/dts_vgharid2k9v5r9yvqxu1cto.png"></a> <br><br>  Kami tidak memiliki pemisah antara item menu, itulah sebabnya ketika ukurannya besar, sel-sel mulai "bersatu" dan label harga pizza terlalu dekat dengan gambar pizza berikutnya.  Mari kita coba tambahkan pemisah. <br><br> <a href=""><img src="https://habrastorage.org/webt/tl/8t/yf/tl8tyfcp3bir8nju3ziwcxcbozi.png"></a> <br><br>  Bukan itu.  Pertama, terlihat begitu-begitu saja.  Kedua, akan sulit untuk melihat orang dengan penglihatan rendah.  Bahkan jika dicat ulang dari abu-abu menjadi hitam. <br><br>  Kami menghapusnya kembali dan hanya mencoba meningkatkan Internet antar sel. <br><br> <a href=""><img src="https://habrastorage.org/webt/7b/kq/m8/7bkqm8wzzu5dayijekqfmik_0qw.png"></a> <br><br>  Nah sekarang. <br><br>  Subtotal: gunakan lebih banyak ruang, mata melompat lebih sedikit dari garis ke garis, membaca menjadi lebih mudah. <br><br><h3>  Kami meningkatkan peregangan dan melepas </h3><br>  Sekarang Anda dapat menambah lebar tombol tambah ke keranjang, jika tidak melayang ke kiri dan tidak di bawah jari Anda, meskipun ada banyak ruang kosong di sebelah kanan.  Anda tentu saja bisa, hanya memindahkannya ke sisi kanan, tetapi kemudian akan merepotkan bagi orang-orang kidal dan, secara umum, lebih baik daripada gerakan yang tidak terkompresi.  Dan kami akan membuat stroke lebih gemuk, dan sekarang tidak konsisten dengan font. <br><br> <a href=""><img src="https://habrastorage.org/webt/ew/en/c8/ewenc8ziqn0o7ffnkvvzbo5a7o4.png"></a> <br><br>  Saya melihat semua ini dan mengerti bahwa foto pizza, tentu saja, sangat besar.  Mari kita coba sembunyikan, mungkin tanpa gambar Anda bisa hidup. <br><br> <a href=""><img src="https://habrastorage.org/webt/pp/pk/1q/pppk1qwmxxbayqrk5kula3oxfgg.png"></a> <br><br>  Secara umum, menu tanpa foto tidak kehilangan banyak informasi, tetapi sekarang satu item menu hampir selalu mengganggu layar iPhone 6S.  Tapi itu menjadi kurang menarik, Air liur tidak mengalir saat menggulir.  Seperti itu  Untuk saat ini, biarkan seperti ini, pikirkan dengan hati-hati dan mungkin nanti kembalikan fotonya. <br><br><h3>  Jangan lupa centang "langsung" </h3><br>  Sekarang kategori.  Secara umum, bahkan dengan pendekatan pertama ternyata lumayan.  Nyalakan yang baru. <br><br> <a href=""><img src="https://habrastorage.org/webt/dj/5z/mi/dj5zmie3v-yr8jceovq9t5xmkhc.png"></a> <br><br>  Saya mencoba menelusuri menu dan beralih antar kategori.  Namun demikian, ternyata buruk: semuanya berantakan dalam tindakan.  Saat menggulir menu, kategori secara otomatis beralih, dan pada pin besar seperti itu menarik terlalu banyak perhatian. <br><br>  Mari kita ganti <code>UICollectionView</code> dengan tombol yang akan memanggil <code>UIActionSheet</code> . <br><br> <a href=""><img src="https://habrastorage.org/webt/re/c4/fr/rec4frqesfjg5_43ftutrekxw1u.png"></a> <br><br>  Voooot.  Sekarang Anda dapat mengambil panel atas, di mana kota, stok, alamat dan kode promosi. <br><br><h3>  Jangan lupa tentang garis yang sangat panjang </h3><br>  Pertama, mari kita pilih kota.  Tidak ada yang rumit dengan font di tombol, tetapi menarik untuk mengajarkan "segitiga" untuk tumbuh dengan font.  Dalam kasus kami, segitiga dibuat ikon di tombol, yang dipindahkan ke sisi kanan melalui <code>CGAffineTransform</code> .  Pilihan lain adalah mengumpulkan <code>NSAttributedString</code> dari teks dan ikon segitiga, dan kemudian mengumpankan semuanya ke tombol.  Untuk menormalkan ikon, Anda dapat menggunakan gambar vektor, yang harus dalam aset dengan tanda centang Preserve Vector Data. <br><br> <a href=""><img src="https://habrastorage.org/webt/r5/7k/fz/r57kfzbng-bwybworqlvbzunagk.png"></a> <br><blockquote>  Ikon segitiga berwarna hitam, dan dicat putih melalui kode.  Dan untuk beberapa alasan, dengan ukuran teks standar, keluar artefak dalam bentuk batas hitam.  Itu lucu  Tidak juga.  Dia disembuhkan dengan meletakkan ikon yang awalnya putih di aset. </blockquote><br>  Sekarang kita meregangkan dodo-rubel, semuanya sederhana: <br><br> <a href=""><img src="https://habrastorage.org/webt/ct/bh/7s/ctbh7styq51y9xt7c3reqc9wdg4.png"></a> <br><br>  Dan sekarang pertanyaannya adalah: apa yang akan terjadi jika nama kota ternyata panjang dan kami memiliki banyak rubel dodo?  Secara teori, Anda perlu mempersingkat nama kota.  Ingat apa yang saya katakan tentang opsi kedua untuk menambahkan ikon seperti itu ke tombol, melalui <code>NSAttributedString</code> ?  Saya mencoba dan sekarang ada masalah bahwa ketika kita mengurangi judul, ikon segitiga juga menghilang, karena sekarang itu adalah bagian dari judul.  Stosh.  Kita harus mengembalikan logika memindahkan ikon melalui transformasi. <br><blockquote>  Jika Anda tahu cara mudah untuk memindahkan ikon di tombol ke sisi kanan dan skala bersama-sama dengan font di header - tolong buang di komentar. </blockquote><br><h3>  Masuk </h3><br>  Akhirnya stok.  Di sini Anda perlu duduk dan berpikir.  Judulnya bisa panjang dan bahkan sekarang terkadang tidak muat pada satu baris.  Pada ukuran besar, dia tidak akan cocok sama sekali.  Jika Anda membuat karet panel oranye atas dan memungkinkan judul aksi dalam ukuran besar untuk menempati beberapa baris, maka blok atas akan memakan setengah layar bahkan pada iPhone besar, dan Anda tidak harus mengingat tentang 4S.  Ini bukan masalahnya.  Anda bisa bermain dengan tata letak di dalam kotak tindakan: buat kotak gambar, dan ambil tempat yang kosong sebagai tajuk.  Tetapi gambar untuk stok disesuaikan dengan format tertentu dan tidak akan ditampilkan dengan benar di format lain.  Ini tidak mungkin. <br><br>  Rumit <br><br>  Jadi, tetapi Anda dapat kembali menghapus gambar sepenuhnya dan mengambil seluruh tempat dengan judul. <br><br> <a href=""><img src="https://habrastorage.org/webt/pa/uu/q7/pauuq7hzrctfjqof3wt_7fh4x4g.png"></a> <br><br>  Ya itu.  Tangan gatal untuk mewarnai latar belakang di bawah judul tindakan, tetapi ini akan mempengaruhi keterbacaan.  Dan kami, seperti, berusaha memperbaikinya.  Jadi kami tidak melukis apa pun dan beralih ke dua tombol yang tersisa tentang alamat dan kode promosi. <br><br><h3>  Kami bekerja dengan batasan ketat </h3><br>  Judul pada tombol-tombol ini tidak dapat direduksi.  Tetapi jika tidak dikurangi, maka tombol akan saling merayap.  Dan ya, Anda tidak dapat menyembunyikan tombol-tombol ini. <br><br>  Ketika saya redid stock, saya tidak ingin menambah ketinggian panel oranye atas.  Sepertinya harus.  Bagus bahwa mereka tidak menambahnya pada waktu itu, kalau tidak sekarang akan ada aduha.  Secara umum, saya akan memilih satu baris untuk setiap tombol. <br><br> <a href=""><img src="https://habrastorage.org/webt/zj/nz/qg/zjnzqgtax6ep4jfk8y1_ogs3pgi.png"></a> <br><br>  Ufff, itu dia.  Adapun foto yang dimatikan dalam menu, saya masih tidak yakin.  Atau, Anda hanya dapat menampilkan setengah gambar pizza daripada lingkaran keseluruhan, tetapi kami memiliki setengah pizza langsung pada menu, sehingga tidak akan berhasil, kami dapat membingungkan pengguna. <br><br>  Mari kita bandingkan pendekatan pertama dengan hasil akhir: <br><br> <a href=""><img src="https://habrastorage.org/webt/tu/eh/m7/tuehm7kleeeivqqaoep4nljpsly.png"></a> <br><br>  Sekarang bandingkan "sebelum" dan "setelah" dengan simulasi penglihatan yang buruk: <br><br> <a href=""><img src="https://habrastorage.org/webt/y9/rw/re/y9rwrenclvvgw5yzf6ifgz5fu_0.png"></a> <br><br>  Jangan takut untuk mengubah antarmuka dan kontrol.  Tidak ada yang salah dengan seseorang melihat tombol lain atau, misalnya, slider.  Dan tidak fatal jika seseorang tidak melihat sesuatu atau jika judulnya berbeda. <br><blockquote>  Dan kami tidak menyentuh <code>UITabBarController</code> , karena dengan ukuran teks yang besar, itu keluar dari kotak pada keran panjang dapat menunjukkan ikon dan judul tab dengan cara yang sama seperti iOS menunjukkan perubahan volume. </blockquote><br><h2>  Kami menunjukkan bagaimana semuanya bekerja di dalam </h2><br>  Setiap komponen UI logis dalam aplikasi iOS Dodo Pizza dialokasikan ke <code>UIViewController</code> terpisah.  Setiap pengontrol tersebut memiliki <code>UIView</code> dialokasikan untuk file terpisah.  Anda dapat membaca lebih lanjut tentang ini di artikel kami: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kontroler, tenang saja!</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami mengeluarkan kode dalam UIView</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengontrol bawang.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kami memecah layar menjadi beberapa bagian</a> <br><br>  Menghapus komponen UI logis ke dalam <code>UIViewController</code> terpisah <code>UIViewController</code> sangat menyederhanakan tugas memodifikasi antarmuka ke berbagai negara.  Kami menyarankan Anda mencoba pendekatan ini, bahkan jika Anda tidak berencana untuk menambahkan dukungan untuk Jenis Dinamis - lebih mudah untuk mengontrol status layar: menanggapi perubahan otorisasi, hak, peran, dan sebagainya. <br><br>  Jadi disini.  Kami menambahkan lapisan tambahan antara komponen UI dan wadah induknya.  Kami menyebutnya <code>StateViewController</code> . <br><br><img src="https://habrastorage.org/webt/zt/2t/3q/zt2t3qd01qrlnmjiem-ihzgjb5u.png"><br>  Controller dengan menu mengintegrasikan state-controller, dan sudah menyematkan <code>collection</code> - atau <code>button</code> kontrol. <br><br>  <code>StateViewController</code> ini memperlihatkan komponen UI ini atau itu tergantung pada situasinya. <br><br>  Untuk melakukan ini, <code>StateViewController</code> perlu tahu tentang statusnya dan mengubahnya jika perlu. <br><br>  Dalam contoh ini, <code>StateViewController</code> akan mengaktifkan pemilihan kategori dalam menu dari koleksi ke tombol dan sebaliknya.  Dan dalam hal tampilan "normal", dan dalam kasus tampilan untuk orang-orang tunanetra, pemilih harus dapat melakukan hal yang sama: <br><br><ul><li>  Tampilkan daftar kategori. </li><li>  Sorot kategori yang dipilih. </li><li>  Perbarui daftar kategori. </li><li>  Laporkan bahwa kategori "keluar." </li></ul><br>  Rasakan aroma indah log kecil segar ini?  Dan, tidak, ini adalah tim pizza api yang dikirimkan ponsel.  5 menit istirahat. <br><br>  <i>2 iris kemudian</i> <br>  "... Yah, kita membungkus komponen kita seperti itu untuk memilih kategori dalam protokol, DAN MEREKA SEGERA!" <br><blockquote>  Petunjuk: Luncurkan Inspektur Aksesibilitas untuk dengan mudah memeriksa bagaimana antarmuka merespons perubahan dalam pengaturan ubin dinamis.  Untuk melakukan ini, di Xcode terbuka, klik Xcode → Buka Alat Pengembang → Inspektur Aksesibilitas, pilih simulator di perangkat dan pergi ke tab terakhir </blockquote><br><blockquote>  Petunjuk lain: keluarkan kontrol taip dinamo pada iPhone (bukan pada simulator) ke Pusat Kontrol untuk mengubah ukuran teks dengan mudah dan cepat.  Untuk melakukan ini, pada iPhone, buka Pengaturan → Pusat Kontrol → Sesuaikan Kontrol dan tambahkan Ukuran Teks. </blockquote><br>  Kami memanggil selektor kategori biasa, <code>CategoriesCollectionViewController</code> , dan untuk tunanetra - <code>CategoriesButtonViewController</code> .  Protokol umum mereka disebut <code>CategoriesPickerProtocol</code> .  Pengontrol keadaan umum adalah <code>CategoriesStateViewController</code> . <br><br>  Kami menjelaskan status yang mungkin ada di <code>CategoriesStateViewController</code> kami: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> collection, button }</code> </pre> <br>  Kami mengajarnya untuk menunjukkan pengontrol yang diinginkan untuk setiap negara: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> = .collection { <span class="hljs-keyword"><span class="hljs-keyword">didSet</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> state != oldValue { updateViewController(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: state) } } } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateViewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state: State)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> viewController = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.viewController(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: state) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateController(with: viewController) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">viewController</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state: State)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collection: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">CategoriesCollectionViewController</span></span>.instantiateFromStoryboard() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .button: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">CategoriesButtonViewController</span></span>.instantiateFromStoryboard() } }</code> </pre> <br>  <code>instantiateFromStoryboard()</code> - metode dari ekstensi yang ditulis sendiri ke view controller, membuat instance controller dari storyboard jika mereka memiliki nama yang sama.  Kode tersebut ada dalam kode sumber di akhir artikel. <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traitCollectionDidChange</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> previousTraitCollection: UITraitCollection?)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.traitCollectionDidChange(previousTraitCollection) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateStateToCurrentContentSize() } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateStateToCurrentContentSize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> contentSize = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.traitCollection.preferredContentSizeCategory <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.updateState(to: contentSize) } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(to contentSize: UIContentSizeCategory)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = contentSize.isAccessibilityCategory ? .button : .collection }</code> </pre> <br>  Kami menggambarkan protokol <code>CategoriesPickerProtocol</code> , secara bersamaan menambahkan dua protokol lagi: untuk delegasi dan untuk dataure. <br><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesPickerProtocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Self</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIViewController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> datasource: <span class="hljs-type"><span class="hljs-type">CategoriesDatasource?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> delegate: <span class="hljs-type"><span class="hljs-type">CategoriesDelegate?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">select</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> category: ProductCategoryModule.ProductCategoryViewModel)</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateCategories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> selectedCategory: <span class="hljs-type"><span class="hljs-type">ProductCategoryModule</span></span>.<span class="hljs-type"><span class="hljs-type">ProductCategoryViewModel?</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesDatasource</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> categories: [<span class="hljs-type"><span class="hljs-type">ProductCategoryModule</span></span>.<span class="hljs-type"><span class="hljs-type">ProductCategoryViewModel</span></span>] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(of category: Product.ProductCategory)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CategoriesDelegate</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">productCategoriesView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> categoriesPicker: CategoriesPickerProtocol, didSelect category: ProductCategoryModule.ProductCategoryViewModel)</span></span></span></span> }</code> </pre> <br>  Tidak ada gunanya menampilkan implementasinya, hanya saja setiap pengendara motor menampilkan kategori dan melaporkan perubahan ke atas. <br><br>  Contoh terperinci menggunakan pengontrol keadaan untuk taype dinamis dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repo</a> saya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di GitHub</a> . <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Omong-omong, kami berkembang</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id452226/">https://habr.com/ru/post/id452226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id452210/index.html">Bot untuk VK di Python dengan MySQL dalam satu jam, bagian 2</a></li>
<li><a href="../id452212/index.html">Cara pindah ke AS dengan startup Anda: 3 opsi visa nyata, fitur dan statistiknya</a></li>
<li><a href="../id452214/index.html">Magang adalah umpan meriam untuk menutup lubang, bukan “pengalaman dan prospek karier yang tak ternilai”</a></li>
<li><a href="../id452222/index.html">Menara telepon penerbangan, langkah berikutnya 5G</a></li>
<li><a href="../id452224/index.html">Panduan Cepat untuk Pengembang Web</a></li>
<li><a href="../id452228/index.html">Anna Boyarkina, Miro (sebelumnya RealtimeBoard): tentang pemikiran produk, budaya tim, keterampilan masa depan</a></li>
<li><a href="../id452230/index.html">Kami mempelajari dioda terowongan pada contoh 3I306M</a></li>
<li><a href="../id452232/index.html">ObjectRepository - .NET dalam memori repositori pola untuk proyek-proyek rumah Anda</a></li>
<li><a href="../id452234/index.html">Termometer & Hygrometer pada ATMEGA 328P-MU - Meningkatkan Level Pengembangan Arduino</a></li>
<li><a href="../id452236/index.html">Harmoni skrip di dalam aplikasi Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>