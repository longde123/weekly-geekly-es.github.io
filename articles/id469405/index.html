<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîá üë®üèº‚Äçüöí üñï Deep Learning sekarang ada di Jawa üôÖüèª ü§∂üèæ ü§¶üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tidak suka Java? Ya, Anda tidak tahu cara memasaknya! Mani Sarkar mengundang kami untuk berkenalan dengan alat Valohai, yang memungkinkan dilakukannya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deep Learning sekarang ada di Jawa</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469405/">  Tidak suka Java?  Ya, Anda tidak tahu cara memasaknya!  Mani Sarkar mengundang kami untuk berkenalan dengan alat Valohai, yang memungkinkan dilakukannya penelitian model di Jawa. <br><br><img src="https://habrastorage.org/webt/et/p-/se/etp-sezekre2qlznmvgdzlgds0a.png"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Penafian dari penerjemah</b> <div class="spoiler_text"> Saya harap ini bukan publikasi iklan.  Saya tidak berafiliasi dengan Valohai.  Saya baru saja menerjemahkan artikel yang saya tuju tautannya.  Jika diterjemahkan dengan ceroboh - tendang PM.  Jika perlu, saya dapat menghapus tautan dan menyebutkan sumber daya eksternal lainnya.  Terima kasih atas pengertian anda <br></div></div><br><h3>  Pendahuluan </h3><br>  Beberapa waktu lalu, saya menemukan layanan cloud bernama Valohai, dan saya senang dengan antarmuka penggunanya dan kesederhanaan desain dan tata letak.  Saya meminta layanan dari salah satu anggota Valohai dan menerima versi demo.  Sebelum itu, saya menulis pipa sederhana menggunakan GNU Parallel, JavaScript, Python dan Bash - dan yang lainnya hanya menggunakan GNU Parallel dan Bash. <br><br>  Saya juga berpikir tentang menggunakan alat manajemen tugas / alur kerja yang siap digunakan seperti Jenkins X, Jenkins Pipeline, Concourse atau Airflow, tetapi karena berbagai alasan saya memutuskan untuk tidak melakukannya. <br><br>  Saya perhatikan bahwa banyak contoh dan dokumentasi Valohai didasarkan pada Python dan R serta kerangka dan pustaka masing-masing.  Saya memutuskan untuk tidak melewatkan kesempatan dan ingin memperbaiki kekurangan contoh dan dokumentasi. <br><br>  Valohai mendorong saya untuk mengimplementasikan sesuatu menggunakan perpustakaan Java yang terkenal yang disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">DL4J - Deep Learning for Java</a> . <br><br>  Pengalaman pertama saya dengan Valohai membuat kesan yang baik pada saya setelah merasakan melalui desain, tata letak dan alur kerja.  Pembuat telah memperhitungkan berbagai aspek alur kerja pengembang dan infrastruktur.  Di dunia kita, proses pengembangan infrastruktur sebagian besar dikendalikan oleh tim DevOps atau SysOps, dan kita tahu nuansa dan titik sakit yang terkait dengannya. <br><br><h3>  Apa yang kita butuhkan dan bagaimana caranya? </h3><br>  Dalam setiap proyek pembelajaran mesin, ada dua komponen penting (dari sudut pandang tingkat tinggi) - kode yang akan bekerja dengan model, dan kode yang akan bekerja dengan infrastruktur, di mana seluruh siklus hidup proyek akan dieksekusi. <br><br>  Tentu saja, akan ada langkah-langkah dan komponen yang diperlukan sebelum, selama dan sesudahnya, tetapi untuk kesederhanaan, katakanlah, kita memerlukan kode dan infrastruktur. <br><br><h4>  Kode </h4><br>  Untuk kode, saya memilih contoh kompleks menggunakan DL4J, ini adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">proyek MNist</a> dengan set pelatihan 60.000 gambar dan satu set uji 10.000 gambar digit tulisan tangan.  Dataset ini tersedia melalui pustaka DL4J (seperti Keras). <br><br>  Sebelum Anda mulai, Anda disarankan untuk melihat kode sumber yang akan kami gunakan.  Kelas Java utama disebut <a href="">org.deeplearning4j.feedforward.mnist.MLPMnistSingleLayerRunner</a> . <br><br><h4>  Infrastruktur </h4><br>  Kami memutuskan untuk mencoba contoh Java menggunakan Valohai sebagai infrastruktur kami untuk melakukan eksperimen (pelatihan dan evaluasi model).  Valohai mengenali repositori git dan terhubung langsung ke mereka, memungkinkan kami untuk mengeksekusi kode kami terlepas dari platform atau bahasa - jadi kami akan melihat cara kerjanya.  Ini juga berarti bahwa jika Anda menggunakan GitOps atau Infrastructure-As-Code, semuanya akan bekerja untuk Anda juga. <br><br>  Untuk melakukan ini, kita hanya perlu akun di Valohai.  Setelah membuat akun gratis, kami mendapatkan akses ke beberapa contoh berbagai konfigurasi.  Untuk apa yang ingin kami lakukan, Free-Tier lebih dari cukup. <br><br><h4>  Pembelajaran yang mendalam untuk Jawa dan Valohai </h4><br>  Kami akan memberikan semua dependensi ke gambar Docker dan menggunakannya untuk mengkompilasi aplikasi Java kami, melatih model dan mengevaluasinya pada platform Valohai menggunakan file <a href="">valohai.yaml</a> sederhana yang terletak di folder root dari repositori proyek. <br><br><h4>  Pembelajaran Jauh untuk Java: DL4J </h4><br>  Bagian paling sederhana.  Kami tidak perlu berbuat banyak, cukup kumpulkan toples dan muat dataset ke dalam wadah Docker.  Kami memiliki gambar Docker yang dibuat sebelumnya yang berisi semua dependensi yang diperlukan untuk membuat aplikasi Java.  Kami meletakkan gambar ini di Docker Hub, dan Anda dapat menemukannya dengan mencari dl4j-mnist-single-layer (kami akan menggunakan tag khusus seperti yang didefinisikan dalam file YAML).  Kami memutuskan untuk menggunakan GraalVM 19.1.1 sebagai lingkungan Java build and runtime kami untuk proyek ini, dan itu dibangun ke dalam gambar Docker. <br><br>  Ketika tabung uber dipanggil dari baris perintah, kami membuat kelas MLPMnistSingleLayerRunner, yang memberi tahu kami tindakan yang dimaksud, tergantung pada parameter yang diteruskan ke: <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ MLPMnistSingleLayerRunner mlpMnistRunner = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MLPMnistSingleLayerRunner(); JCommander.newBuilder() .addObject(mlpMnistRunner) .build() .parse(args); mlpMnistRunner.execute(); }</code> </pre> <br>  Parameter yang diteruskan ke tabung uber diterima oleh kelas ini dan diproses dengan metode execute (). <br><br>  Kita dapat membuat model menggunakan parameter --action train dan mengevaluasi model yang dibuat menggunakan parameter --action evaluation yang diteruskan ke aplikasi Java. <br><br>  Bagian utama dari aplikasi Java yang melakukan pekerjaan ini dapat ditemukan di dua kelas Java yang disebutkan di bagian di bawah ini. <br><br><h3>  Pelatihan model </h3><br>  Panggil <br><br><pre> <code class="plaintext hljs">./runMLPMnist.sh --action train --output-dir ${VH_OUTPUTS_DIR} or java -Djava.library.path="" \ -jar target/MLPMnist-1.0.0-bin.jar \ --action train --output-dir ${VH_OUTPUTS_DIR}</code> </pre><br>  Perintah ini menciptakan model bernama mlpmnist-single-layer.pb di folder yang ditentukan oleh parameter --output-dir yang diteruskan pada awal eksekusi.  Dari sudut pandang Valohai, itu harus ditempatkan dalam $ {VH_OUTPUTS_DIR}, yang kita lakukan (lihat file <a href="">valohai.yaml</a> ). <br><br>  Untuk kode sumber, lihat kelas <a href="">MLPMNistSingleLayerTrain.java</a> . <br><br><h3>  Evaluasi Model </h3><br>  Panggil <br><br><pre> <code class="plaintext hljs">./runMLPMnist.sh --action evaluate --input-dir ${VH_INPUTS_DIR}/model or java -Djava.library.path="" \ -jar target/MLPMnist-1.0.0-bin.jar \ --action evaluate --input-dir ${VH_INPUTS_DIR}/model</code> </pre><br>  Diasumsikan bahwa model (dibuat selama fase pelatihan) dengan nama mlpmnist-single-layer.pb akan hadir dalam folder yang ditentukan dalam parameter --input-dir yang dilewati ketika aplikasi dipanggil. <br><br>  Untuk kode sumber, lihat kelas <a href="">MLPMNistSingleLayerEvaluate.java</a> . <br><br>  Saya harap ilustrasi singkat ini menjelaskan bagaimana aplikasi Java yang mengajarkan dan mengevaluasi suatu model bekerja. <br><br>  Ini semua yang diperlukan dari kami, tetapi jangan ragu untuk bermain dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber lainnya</a> (bersama dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">README.md</a> dan skrip bash) dan memuaskan rasa ingin tahu dan pemahaman Anda tentang bagaimana ini dilakukan! <br><br><h3>  Valohai </h3><br>  Valohai memungkinkan kami untuk secara bebas menautkan runtime, kode, dan dataset kami, seperti yang Anda lihat dari struktur file YAML di bawah ini.  Dengan demikian, berbagai komponen dapat berkembang secara independen satu sama lain.  Akibatnya, hanya komponen perakitan dan runtime yang dikemas dalam wadah Docker kami. <br><br>  Pada waktu berjalan, kami mengumpulkan Uber JAR dalam wadah Docker, memuatnya ke beberapa penyimpanan internal atau eksternal, dan kemudian menggunakan langkah eksekusi lainnya untuk memuat Uber JAR dan dataset dari penyimpanan (atau tempat lain) untuk memulai pelatihan.  Dengan demikian, dua langkah eksekusi terputus;  misalnya, kita dapat mengkompilasi sebuah toples sekali dan menyelesaikan ratusan langkah pelatihan pada satu stoples.  Karena lingkungan perakitan dan runtime tidak harus sering berubah, kita dapat menyimpannya, dan kode, kumpulan data, dan model dapat diakses secara dinamis saat runtime. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">valohai.yaml</a> <br>  Bagian utama dari mengintegrasikan proyek Java kami dengan infrastruktur Valohai adalah untuk menentukan urutan langkah-langkah Eksekusi dalam file valohai.yaml yang terletak di root folder proyek Anda.  Valohai.yaml kami terlihat seperti ini: <br><br><pre> <code class="xml hljs">--- - step: name: Build-dl4j-mnist-single-layer-java-app image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - cd ${VH_REPOSITORY_DIR} - ./buildUberJar.sh - echo "~~~ Copying the build jar file into ${VH_OUTPUTS_DIR}" - cp target/MLPMnist-1.0.0-bin.jar ${VH_OUTPUTS_DIR}/MLPMnist-1.0.0.jar - ls -lash ${VH_OUTPUTS_DIR} environment: aws-eu-west-1-g2-2xlarge - step: name: Run-dl4j-mnist-single-layer-train-model image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - echo "~~~ Unpack the MNist dataset into ${HOME} folder" - tar xvzf ${VH_INPUTS_DIR}/dataset/mlp-mnist-dataset.tgz -C ${HOME} - cd ${VH_REPOSITORY_DIR} - echo "~~~ Copying the build jar file from ${VH_INPUTS_DIR} to current location" - cp ${VH_INPUTS_DIR}/dl4j-java-app/MLPMnist-1.0.0.jar . - echo "~~~ Run the DL4J app to train model based on the the MNist dataset" - ./runMLPMnist.sh {parameters} inputs: - name: dl4j-java-app description: DL4J Java app file (jar) generated in the previous step 'Build-dl4j-mnist-single-layer-java-app' - name: dataset default: https://github.com/neomatrix369/awesome-ai-ml-dl/releases/download/mnist-dataset-v0.1/mlp-mnist-dataset.tgz description: MNist dataset needed to train the model parameters: - name: --action pass-as: '--action {v}' type: string default: train description: Action to perform ie train or evaluate - name: --output-dir pass-as: '--output-dir {v}' type: string default: /valohai/outputs/ description: Output directory where the model will be created, best to pick the Valohai output directory environment: aws-eu-west-1-g2-2xlarge - step: name: Run-dl4j-mnist-single-layer-evaluate-model image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - cd ${VH_REPOSITORY_DIR} - echo "~~~ Copying the build jar file from ${VH_INPUTS_DIR} to current location" - cp ${VH_INPUTS_DIR}/dl4j-java-app/MLPMnist-1.0.0.jar . - echo "~~~ Run the DL4J app to evaluate the trained MNist model" - ./runMLPMnist.sh {parameters} inputs: - name: dl4j-java-app description: DL4J Java app file (jar) generated in the previous step 'Build-dl4j-mnist-single-layer-java-app' - name: model description: Model file generated in the previous step 'Run-dl4j-mnist-single-layer-train-model' parameters: - name: --action pass-as: '--action {v}' type: string default: evaluate description: Action to perform ie train or evaluate - name: --input-dir pass-as: '--input-dir {v}' type: string default: /valohai/inputs/model description: Input directory where the model created by the previous step can be found created environment: aws-eu-west-1-g2-2xlarge</code> </pre><br><h4>  Bagaimana Build-dl4j-mnist-single-layer-java-app bekerja </h4><br>  Dari file YAML, kita melihat bahwa kita mendefinisikan langkah ini, pertama menggunakan gambar Docker, dan kemudian menjalankan skrip untuk membangun Uber JAR.  Gambar buruh pelabuhan kami memiliki kustomisasi dependensi lingkungan build (mis. GraalVM JDK, Maven, dll.) Untuk membuat aplikasi Java.  Kami tidak memberikan input atau parameter apa pun, karena ini adalah tahap perakitan.  Setelah build berhasil, kami menyalin toples uber bernama MLPMnist-1.0.0-bin.jar (nama asli) ke folder / valohai / outputs (direpresentasikan sebagai $ {VH_OUTPUTS_DIR}).  Segala sesuatu di folder ini secara otomatis disimpan dalam penyimpanan proyek Anda, misalnya, di tempat sampah AWS S3.  Akhirnya, kami mendefinisikan pekerjaan kami untuk AWS. <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Akun Valohai gratis tidak memiliki akses jaringan dari wadah Docker (ini dinonaktifkan secara default), silakan hubungi dukungan untuk mengaktifkan opsi ini (saya harus melakukan hal yang sama), kalau tidak kita tidak akan dapat mengunduh Maven kami dan dependensi lainnya selama perakitan. <br></div></div><br><h4>  Bagaimana cara kerja Run-dl4j-mnist-single-layer-train-model </h4><br>  Semantik definisi ini mirip dengan langkah sebelumnya, kecuali bahwa kami menetapkan dua input: satu untuk tabung uber (MLPMnist-1.0.0.jar), dan yang lain untuk kumpulan data (dibongkar ke folder $ {HOME} /. Deeplearning4j).  Kami akan melewati dua parameter - - kereta reaksi dan --output-dir / valohai / output.  Model yang dibuat pada langkah ini dibangun di / valohai / output / model (direpresentasikan sebagai $ {VH_OUTPUTS_DIR} / model). <br><br><div class="spoiler">  <b class="spoiler_title">Catatan</b> <div class="spoiler_text">  Di bidang input pada tab Jalankan dari antarmuka web Valohai, kita dapat memilih output dari proses sebelumnya dengan menggunakan nomor run, mis. # 1 atau # 2, selain menggunakan datum: // atau http: / URLs /, memasukkan beberapa huruf dari nama file juga membantu untuk mencari seluruh daftar. <br></div></div><br><h4>  Bagaimana cara kerja Run-dl4j-mnist-single-layer -valu-model </h4><br>  Sekali lagi, langkah ini mirip dengan langkah sebelumnya, kecuali bahwa kita akan melewati dua parameter - evaluasi aksi dan - input-dir / valohai / input / model.  Selain itu, kami sekali lagi ditunjukkan dalam input: bagian yang didefinisikan dalam file YAML dengan nama dl4j-java-app dan model tanpa default untuk keduanya.  Ini akan memungkinkan kita untuk memilih tabung uber dan model yang ingin kita evaluasi - yang dibuat menggunakan langkah Run-dl4j-mnist-single-layer-train-model menggunakan antarmuka web. <br><br>  Saya harap ini menjelaskan langkah-langkah dalam file definisi di atas, tetapi jika Anda memerlukan bantuan lebih lanjut, silakan lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tutorialnya</a> . <br><br><h3>  Valohai Web Interface </h3><br>  Setelah menerima akun, kita dapat masuk dan melanjutkan membuat proyek dengan nama mlpmnist-single-layer dan mengaitkan git repo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/valohai/mlpmnist-dl4j-contoh</a> dengan proyek dan menyimpan proyek. <br><br>  Sekarang Anda dapat menyelesaikan langkah dan melihat bagaimana hasilnya! <br><br><h4>  Membangun Aplikasi Java DL4J </h4><br>  Buka tab "Eksekusi" di antarmuka web dan salin eksekusi yang ada atau buat yang baru menggunakan tombol [Buat eksekusi].  Semua parameter standar yang diperlukan akan diisi.  Pilih Langkah Bangun-dl4j-mnist-single-layer-java-app. <br><br>  Untuk <i>Lingkungan,</i> saya memilih AWS eu-west-1 g2.2xlarge dan mengklik tombol [Buat eksekusi] di bagian bawah halaman untuk melihat awal eksekusi. <br><br><img src="https://habrastorage.org/webt/le/18/zo/le18zo_udbscmekflaux7kqfjcw.png"><br><br><h3>  Pelatihan model </h3><br>  Buka tab "Eksekusi" di antarmuka web dan lakukan hal yang sama seperti pada langkah sebelumnya, dan pilih Jalankan-dl4j-mnist-single-layer-train-model.  Anda harus memilih aplikasi Java (cukup masukkan toples di bidang) yang dibuat pada langkah sebelumnya.  Kumpulan data telah dipra-populasi menggunakan file valohai.yaml: <br><br><img src="https://habrastorage.org/webt/md/ls/ov/mdlsovhg3vw9zjnpoeqhxwzgk7w.png"><br><br>  Klik [Buat Eksekusi] untuk memulai. <br><br><img src="https://habrastorage.org/webt/6n/mr/wm/6nmrwmveck6cgdughud1xgx7qdg.png"><br><br>  Anda akan melihat hasilnya di konsol: <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:05 ======================================================================= 11:17:05 LayerName (LayerType) nIn,nOut TotalParams ParamsShape 11:17:05 ======================================================================= 11:17:05 layer0 (DenseLayer) 784,1000 785000 W:{784,1000}, b:{1,1000} 11:17:05 layer1 (OutputLayer) 1000,10 10010 W:{1000,10}, b:{1,10} 11:17:05 ----------------------------------------------------------------------- 11:17:05 Total Parameters: 795010 11:17:05 Trainable Parameters: 795010 11:17:05 Frozen Parameters: 0 11:17:05 ======================================================================= [&lt;--- snipped ---&gt;]</code> </pre><br>  Model yang dibuat dapat ditemukan pada tab "Output" dari tab utama "Eksekusi" selama dan setelah eksekusi: <br><br><img src="https://habrastorage.org/webt/pg/g2/-k/pgg2-kmsr85x87fedfoy24lreye.png"><br><br>  Anda dapat melihat beberapa artefak di sub-tab Output.  Ini karena kami mempertahankan titik kontrol di akhir setiap era.  Mari kita lihat ini di log: <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:14 odolCheckpointListener - Model checkpoint saved: epoch 0, iteration 469, path: /valohai/outputs/checkpoint_0_MultiLayerNetwork.zip [&lt;--- snipped ---&gt;]</code> </pre><br>  Pos pemeriksaan berisi keadaan model dalam tiga file: <br><br><pre> <code class="plaintext hljs">configuration.json coefficients.bin updaterState.bin</code> </pre><br><h3>  Pelatihan model.  Metadata </h3><br>  Anda mungkin telah memperhatikan entri ini di log eksekusi: <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:05 {"epoch": 0, "iteration": 0, "score (loss function)": 2.410047} 11:17:07 {"epoch": 0, "iteration": 100, "score (loss function)": 0.613774} 11:17:09 {"epoch": 0, "iteration": 200, "score (loss function)": 0.528494} 11:17:11 {"epoch": 0, "iteration": 300, "score (loss function)": 0.400291} 11:17:13 {"epoch": 0, "iteration": 400, "score (loss function)": 0.357800} 11:17:14 odolCheckpointListener - Model checkpoint saved: epoch 0, iteration 469, path: /valohai/outputs/checkpoint_0_MultiLayerNetwork.zip [&lt;--- snipped ---&gt;]</code> </pre><br>  Data ini memungkinkan Valohai untuk mendapatkan nilai-nilai ini (dalam format JSON), yang akan digunakan untuk membangun metrik yang dapat dilihat selama dan setelah eksekusi pada tab Metadata tambahan pada tab utama Eksekusi: <br><br><img src="https://habrastorage.org/webt/et/p-/se/etp-sezekre2qlznmvgdzlgds0a.png"><br><br>  Kami dapat melakukan ini dengan menghubungkan kelas ValohaiMetadataCreator ke model, sehingga Valohai merujuk ke kelas ini selama pelatihan.  Dalam kasus kelas ini, kami memperoleh beberapa era, jumlah iterasi dan Skor (nilai fungsi kerugian).  Berikut ini cuplikan kode dari kelas: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterationDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Model model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> epoch)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (printIterations &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) printIterations = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iteration % printIterations == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> score = model.score(); System.out.println(String.format( <span class="hljs-string"><span class="hljs-string">"{\"epoch\": %d, \"iteration\": %d, \"score (loss function)\": %f}"</span></span>, epoch, iteration, score) ); } }</code> </pre><br><h3>  Evaluasi Model </h3><br>  Setelah model berhasil dibuat pada langkah sebelumnya, itu harus dievaluasi.  Kami membuat Eksekusi baru dengan cara yang sama seperti sebelumnya, tetapi kali ini pilih langkah Run-dl4j-mnist-single-layer -valu-model.  Kita perlu memilih aplikasi Java (MLPMnist-1.0.0.jar) dan model yang dibuat (mlpmnist-single-layer.pb) lagi sebelum memulai eksekusi (seperti yang ditunjukkan di bawah): <br><br><img src="https://habrastorage.org/webt/e9/_b/am/e9_bamnlhownoo40utziaqazg8e.png"><br><br>  Setelah memilih model yang diinginkan sebagai input, klik tombol [Buat eksekusi].  Ini akan mengeksekusi lebih cepat dari yang sebelumnya, dan kita akan melihat hasil berikut: <br><br><img src="https://habrastorage.org/webt/gp/0i/co/gp0icomuurv7a0gt-niye5hyri4.png"><br><br>  Kami melihat bahwa "hello world" kami mengarah ke model yang akurasinya sekitar 97% berdasarkan kumpulan data uji.  Matriks kebingungan membantu menemukan kasus ketika digit diprediksi secara salah sebagai digit lain. <br><br>  Pertanyaannya tetap (dan di luar cakupan tulisan ini) - seberapa bagus model ketika dihadapkan dengan data nyata? <br><br>  Untuk mengkloning repositori git, inilah yang perlu Anda lakukan: <br><br><pre> <code class="plaintext hljs"> $ git clone https://github.com/valohai/mlpmnist-dl4j-example</code> </pre><br>  Maka kita perlu menautkan proyek Valohai kami, dibuat melalui antarmuka web pada bagian di atas, dengan proyek disimpan di mesin lokal kami (yang baru saja kami kloning).  Jalankan perintah berikut untuk melakukan ini: <br><br><pre> <code class="plaintext hljs">$ cd mlpmnist-dl4j-example $ vh project --help ### to see all the project-specific options we have for Valohai $ vh project link</code> </pre><br>  Anda akan ditampilkan sesuatu seperti ini: <br><br><pre> <code class="plaintext hljs">[ 1] mlpmnist-single-layer ... Which project would you like to link with /path/to/mlpmnist-dl4j-example? Enter [n] to create a new project.:</code> </pre><br>  Pilih 1 (atau yang cocok untuk Anda) dan Anda akan melihat pesan ini: <br><br><pre> <code class="plaintext hljs">Success! Linked /path/to/mlpmnist-dl4j-example to mlpmnist-single-layer.</code> </pre><br>  Satu hal lagi, sebelum melanjutkan, pastikan proyek Valohai Anda selaras dengan proyek git terbaru dengan melakukan ini: <br><br><pre> <code class="plaintext hljs"> $ vh project fetch</code> </pre><br><img src="https://habrastorage.org/webt/h0/l4/vb/h0l4vbe1eqis5kb9sd7gfslbozk.png"><br><br>  Sekarang kita bisa menyelesaikan langkah-langkah dari CLI dengan: <br><br><pre> <code class="plaintext hljs"> $ vh exec run Build-dl4j-mnist-single-layer-java-app</code> </pre><br>  Setelah Eksekusi selesai, kita dapat memeriksanya dengan: <br><br><pre> <code class="plaintext hljs">$ vh exec info $ vh exec logs $ vh exec watch</code> </pre><br><h3>  Kesimpulan </h3><br>  Seperti yang telah kita lihat, sangat nyaman untuk bekerja dengan DL4J dan Valohai bersama-sama.  Selain itu, kami dapat mengembangkan berbagai komponen yang membentuk eksperimen kami (penelitian), yaitu lingkungan build / runtime, kumpulan kode dan data, dan mengintegrasikannya ke dalam proyek kami. <br><br>  Contoh template yang digunakan dalam posting ini adalah cara yang baik untuk mulai membuat proyek yang lebih kompleks.  Dan Anda dapat menggunakan antarmuka baris perintah atau web untuk melakukan pekerjaan Anda dengan Valohai.  Dengan CLI, Anda juga dapat mengintegrasikannya dengan instalasi dan skrip Anda (atau bahkan dengan pekerjaan CRON atau CI / CD). <br><br>  Selain itu, jelas bahwa jika saya mengerjakan proyek yang terkait dengan AI / ML / DL, saya tidak perlu khawatir tentang membuat dan memelihara pipa end-to-end (yang banyak harus dilakukan di masa lalu). <br><br><h5>  Referensi </h5><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Proyek contoh mlpmnist-dl4j di GitHub</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber Daya AI / ML / DL Luar Biasa</a> </li><li>  <a href="">Sumber Daya AI / ML / DL Java</a> </li><li>  <a href="">Pembelajaran Jauh dan Sumber Daya DL4J</a> </li></ol><br>  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469405/">https://habr.com/ru/post/id469405/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469393/index.html">Flare-On 2019 menulis</a></li>
<li><a href="../id469395/index.html">Di mana dan bagaimana menggunakan multicolumns (Kolom CSS)</a></li>
<li><a href="../id469399/index.html">Wi-Fi di Estate-Museum Arkhangelskoye</a></li>
<li><a href="../id469401/index.html">Pembaruan Layanan 3CX WebMeeting, Elastix Online Converter dan Video Tutorial Baru</a></li>
<li><a href="../id469403/index.html">Kami sedang mewawancarai seorang kandidat untuk posisi Senior Software Developer</a></li>
<li><a href="../id469407/index.html">ARIES PLC110 [M02] -MS4, HMI, OPC dan SCADA, atau seberapa banyak seseorang membutuhkan teh Chamomile. Bagian 1</a></li>
<li><a href="../id469409/index.html">Linux Profiling dengan Performance Analyzer</a></li>
<li><a href="../id469411/index.html">RE: Nyeri dan Air Mata di Svelte 3</a></li>
<li><a href="../id469413/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 382 (22-29 September 2019)</a></li>
<li><a href="../id469415/index.html">Level isolasi transaksional untuk yang terkecil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>