<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüåæ üñ®Ô∏è ü§≤üèº SMPP - Peer-to-Peer-Kurznachrichtenprotokoll üëÆ üëö üóΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Obwohl Messenger und soziale Netzwerke jeden Tag traditionelle Kommunikationsmethoden verdr√§ngen, beeintr√§chtigt dies nicht die Popularit√§t von...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SMPP - Peer-to-Peer-Kurznachrichtenprotokoll</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452842/"> Hallo!  Obwohl Messenger und soziale Netzwerke jeden Tag traditionelle Kommunikationsmethoden verdr√§ngen, beeintr√§chtigt dies nicht die Popularit√§t von SMS.  Die √úberpr√ºfung auf einer beliebten Website oder die Transaktionsbenachrichtigung zeigt, dass sie leben und leben werden.  Haben Sie sich jemals gefragt, wie das alles funktioniert?  Sehr oft wird SMPP verwendet, um Massennachrichten zu senden, die unter der Katze besprochen werden. <br><a name="habracut"></a><br>  Es gab bereits Artikel √ºber Habr √ºber smpp, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2</a> , aber ihr Zweck war nicht, das Protokoll selbst zu beschreiben.  Nat√ºrlich k√∂nnen Sie sofort mit der prim√§ren Quelle beginnen - der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spezifikation</a> , aber ich denke, es w√§re sch√∂n, eine kurze Zusammenfassung zu haben.  Ich werde mit einem Beispiel v3.4 erkl√§ren. Ich freue mich √ºber Ihre objektive Kritik. <br><br>  SMPP ist ein Peer-to-Peer-Messaging-Protokoll.  Dies bedeutet, dass jeder Peer / Hub-Server gleich ist.  Im einfachsten Fall sieht das SMS-Nachrichtenschema folgenderma√üen aus: <br><br><img src="https://habrastorage.org/webt/pp/ed/if/ppedifjeooamgdvhshv8-8pccgw.jpeg" alt="Bild"><br><br>  Wenn der nationale Betreiber jedoch keine Route zu einer abgelegenen Region hat, fragt er nach diesem Vermittler - dem SMS-Hub.  Manchmal m√ºssen Sie zum Senden einer SMS eine Kette zwischen mehreren L√§ndern oder sogar Kontinenten aufbauen. <br><br><h4>  √úber das Protokoll </h4><br>  SMPP ist ein Protokoll der Anwendungsschicht, das auf dem <abbr title="Protokolldateneinheit">PDU-</abbr> Austausch basiert und √ºber TCP / IP- oder X25-Sitzungen zum Senden von SMS- und USD-Nachrichten √ºbertragen wird.  Normalerweise wird SMPP im konstanten Verbindungsmodus verwendet, um Zeit zu sparen.  SMPP verwendet ein Client-Server-Kommunikationsmodell. <br><br><h4>  Kommunikationsmodus </h4><br><img src="https://habrastorage.org/webt/za/i0/lg/zai0lgqtwd2gltfqklwt2ktluke.jpeg" alt="Bild"><br><br>  Der Nachrichtenaustausch zwischen dem Absender und <abbr title="SMS-Center">SMSC</abbr> √ºber SMPP kann in den folgenden Modi durchgef√ºhrt werden: <br><br>  Sender (Sender) - abwechselnd √úbertragung einer Nachricht in eine Richtung <br>  Empf√§nger (Empf√§nger) - Empf√§ngt nur Nachrichten von SMSC. <br>  Transreceiver (Transceiver) - Nachrichten zwischen SMSC und Benutzer <br><br><h3>  Struktur </h3><br><img src="https://habrastorage.org/webt/uc/qf/qp/ucqfqpfoz2hozxwpihaikhs450k.png" alt="Bild"><br><br><h3>  Nachrichtenl√§nge </h3><br>  Eine SMS-Nachricht kann bei Eingabe von Kyrillisch 70 Zeichen und nicht mehr als 157 lateinische Zeichen + 3 <abbr title="Benutzerdaten-Header">UDH enthalten.</abbr> Wenn gesendet.  SMS mit einer gro√üen Anzahl von Zeichen wird in mehrere Segmente unterteilt und im Empfangsger√§t kombiniert.  Bei der Segmentierung wird die Anzahl der Zeichen aufgrund der √úberschriften der Nachricht reduziert, in denen der Teil der Nachricht angegeben ist.  Daher enth√§lt eine gro√üe SMS-Nachricht maximal 153 lateinische oder 67 atypische Zeichen. <br><br><h3>  Datencodierungsschema </h3><br>  Zeichen m√ºssen jedoch codiert sein, um eine Nachricht zu √ºbertragen.  Im SMPP-Protokoll ist ein spezielles Feld f√ºr die Codierung verantwortlich - das Data Coding Scheme (DCS).  Dies ist ein Feld, das angibt, wie Nachrichten erkannt werden sollen.  Dar√ºber hinaus enth√§lt das DCS-Feld: <br><br><ul><li>  der Zeichensatz, der die Codierung definiert; </li><li>  Klassennachricht; </li><li>  Antrag auf automatische L√∂schung nach dem Lesen; </li><li>  Anzeige der Nachrichtenkomprimierung; </li><li>  Rundfunksprache; </li></ul><br>  Standard 7-Bit-Alphabet (GSM 03.38).  Es wurde f√ºr das GSM-Nachrichtensystem entwickelt.  Eine solche Codierung ist f√ºr Englisch und einige lateinische Sprachen geeignet.  Jedes Zeichen besteht aus 7 Bits und ist in einem Oktett codiert. <br><br>  UTF-16 (in GSM UCS2) Um fehlende Zeichen in die 7-Bit-Codierung einzubeziehen, wurde die UTF-16-Codierung entwickelt, die zus√§tzliche Zeichen (einschlie√ülich Kyrillisch) hinzuf√ºgt, indem die Nachrichtengr√∂√üe von 160 auf 70 reduziert wird. Diese Art der Codierung wird fast vollst√§ndig wiederholt Unicode <br><br>  Benutzerdefinierte 8-Bit-Daten.  Dazu geh√∂ren der KOI8-R und Windows-1251.  Obwohl diese L√∂sung im Vergleich zu derselben UTF-1 wirtschaftlicher zu sein scheint, ist zur Verwendung solcher Codierungen eine vorl√§ufige Konfiguration der Empfangs- und Sendevorrichtungen erforderlich.  Wenn auf einigen von ihnen die Codierungsdaten nicht unterst√ºtzt werden, wird die Meldung nicht korrekt angezeigt.  Da in diesem Fall beide Ger√§te im Voraus konfiguriert werden m√ºssen. <br><br><h3>  Klassennachrichten </h3><br><ul><li>  Class0 oder Flash, eine Nachricht, die auf Anfrage des Benutzers im Speicher des Telefons gespeichert wird. </li><li>  Klasse 1 oder im Telefon gespeicherte; </li><li>  Klasse 2 muss sicherstellen, dass die Nachricht im Speicher des mobilen Endger√§ts gespeichert ist, andernfalls muss sie SMSC-Warnungen √ºber die Unf√§higkeit zum Speichern geben. </li><li>  Klasse 3 - In diesem Fall sollte das Telefon eine Benachrichtigung senden, dass die Nachricht unabh√§ngig von der Speicherkapazit√§t im Ger√§t gespeichert werden kann.  Diese Art von Nachricht impliziert, dass die Nachricht ihr Ziel erreicht hat. </li></ul><br><h3>  Nachrichtentyp </h3><br>  Stille Nachricht (SMS0) Art der SMS-Nachricht ohne Inhalt.  Solche SMS kommen ohne Vorank√ºndigung und werden nicht auf dem Ger√§tebildschirm angezeigt. <br><br><h3>  PDU </h3><br>  Jede pdu-Operation ist gepaart und besteht aus einer Anfrage und einer Antwort.  Beispiel: Ein Befehl zum Herstellen einer Verbindung (bind_transmitter / bind_transmitter_resp) oder zum Senden der Nachricht (Deliver_sm / Deliver_sm_resp). <br><br><img src="https://habrastorage.org/webt/ut/lo/is/utloisn0bi6fjn_ah4loztajpee.png" alt="Bild"><br><br>  Jedes pdu-Paket besteht aus zwei Teilen - einem Header und einem Body.  Die Header-Struktur ist f√ºr jedes pdu-Paket gleich: Die Befehlsl√§nge ist die L√§nge des Pakets, id ist der Name des Pakets und der Statusbefehl zeigt eine erfolgreich √ºbertragene Nachricht oder mit einem Fehler an. <br><br><h3>  Erweiterte TLV-Optionen </h3><br>  TLV (Tag Length Value) oder optionale Felder.  Solche Parameter werden verwendet, um die Funktionen des Protokolls zu erweitern, und sind nicht erforderlich.  Dieses Feld wird am Ende des pdu-Feldes angezeigt.  Mit TLV dest_addr_np_information k√∂nnen Sie beispielsweise die √úbertragung von Informationen zum Portieren einer Nummer organisieren. <br><br><h3>  Ton und Npi </h3><br>  Der Parameter TON (Type of Number) informiert den SMSC √ºber das Adressierungsformat und den Netzwerktyp. <br>  NPI-Parameter (Numbering Plan Identification), der den Nummerierungsplan angibt. <br><br><img src="https://habrastorage.org/webt/2i/4w/qo/2i4wqos7rl1qp9i23nkoqwp0uby.png" alt="Bild"><br><br><h3>  Nachrichtenquellenadresse oder Alphaname </h3><br>  An das Telefon gesendete Nachrichten gibt es in zwei Varianten: digital und alphabetisch.  Digital kann lang (√§hnlich einer Telefonnummer) und kurz sein.  Manchmal haben Betreiber Einschr√§nkungen beim Senden von neutralen Namen, z. B. Infosms, Alert usw.  Manchmal erlauben Betreiber keinen Datenverkehr, wenn der Name nicht in ihrem Netzwerk registriert ist.  Es sind jedoch eher die Merkmale des Bedieners. <br><br><h3>  Versandstufen </h3><br><img src="https://habrastorage.org/webt/0v/2o/gi/0v2ogi1zis-dnkyyonmld7rjbx8.png" alt="Bild"><br><br>  <b>SMS-SUBMIT</b> sendet eine MO FSM-Nachricht (Kurznachricht von einem mobilen Endger√§t) <br>  <b>SMS-SUBMIT REPORT</b> - Best√§tigung, dass die Nachricht von SMSC gesendet wurde <br>  <b>SRI SM</b> (SendRoutingInfo) - SMSC empf√§ngt vom HLR Informationen bez√ºglich der MSC / VLR des Standortes des Teilnehmers <br>  <b>SRI SM RESP</b> - Antwort des HLR bez√ºglich des Teilnehmerpositionsfleischs <br>  <b>MT-FSM</b> - Nach dem Empfang des Standorts wird eine Nachricht mit der Operation "Kurznachricht weiterleiten" gesendet <br>  <b>MT-FSM ACK</b> - Antwort von SMSC, dass eine Nachricht gesendet wurde <br>  <b>SMS-STATUS-BERICHT</b> - SMSC sendet den Status der Nachrichten√ºbermittlung. <br><br><h3>  Status der Nachrichten√ºbermittlung </h3><br>  <b>SMS-STATUS REPORT</b> kann mehrere Werte annehmen: <br>  <b>DELIVRD-</b> Nachricht erfolgreich <b>zugestellt</b> <br>  <b>REJECTD</b> - Nachricht vom SMS-Center abgelehnt <br>  <b>ABGELAUFEN</b> - Die Nachricht wird nach dem Ende der TTL (Nachrichtenlebensdauer) aus der <b>Sendewarteschlange</b> entfernt. <br>  <b>UNDELIV</b> - andere F√§lle von Nichtlieferung <br>  <b>UNBEKANNT -</b> Keine Antwort <b>gesendet</b> . <br><br><h3>  √úbertragungsfehler </h3><br>  Manchmal werden Nachrichten nicht zugestellt.  Infolgedessen treten Fehler auf.  Fehler werden an PDUs_sms_resp zur√ºckgegeben.  Alle Fehler k√∂nnen in tempor√§re (tempor√§re) und permanente (permanente) Fehler unterteilt werden. <br><br>  Beispielsweise sind die tempor√§ren Abonnenten abwesend, der Abonnent ist nicht verf√ºgbar oder nicht im Netzwerk, und der permanente Abonnent existiert nicht.  Abh√§ngig von den auftretenden Fehlern wird eine Richtlinie zum Weiterleiten dieser Nachrichten erstellt. <br><br>  Wenn beispielsweise ein Teilnehmer mit dem Sprechen besch√§ftigt war und ein MT-Mobilteil empfangen wurde, kann die Nachricht in wenigen Minuten erneut gesendet werden. Wenn der Teilnehmer jedoch einen blockierten Nachrichtendienst hat, ist ein erneutes Senden nicht sinnvoll.  Die Liste der Fehler finden Sie beispielsweise auf den SMSC-Seiten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de452842/">https://habr.com/ru/post/de452842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de452832/index.html">Kompletter Plan f√ºr das neue Mondprogramm der NASA ‚ÄûArtemis‚Äú (Artemis)</a></li>
<li><a href="../de452834/index.html">Schlankes Mikroframework</a></li>
<li><a href="../de452836/index.html">Web-Tools oder wo man einen Pentester startet?</a></li>
<li><a href="../de452838/index.html">3CX-Integration mit Office 365 √ºber die Azure-API</a></li>
<li><a href="../de452840/index.html">VMware EMPOWER 2019 Konferenz: Wie war der erste Tag?</a></li>
<li><a href="../de452844/index.html">Transformation oder Obsz√∂nit√§t: Wie man Telekommunikationsbetreiber "digitalisiert"</a></li>
<li><a href="../de452846/index.html">Wie wir auf Patroni einen zuverl√§ssigen PostgreSQL-Cluster aufgebaut haben</a></li>
<li><a href="../de452848/index.html">Was wird am 1. Februar 2020 passieren?</a></li>
<li><a href="../de452850/index.html">Systeme in Kassetten: Wie Ingenieure die Funktionen von Spielekonsolen erweiterten</a></li>
<li><a href="../de452852/index.html">Fernarbeit: Mythen in der Nacht</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>