<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èèÔ∏è üò∑ ü§öüèΩ Comment Netflix Microservices g√®re les donn√©es Pub-Sub üë®üèø‚Äçüöí üßëüèø‚Äçü§ù‚Äçüßëüèæ üöπ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La traduction de l'article a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours ¬´High Load Architect¬ª . 
 



 Pr√©sentation 
 Dans l'architecture d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment Netflix Microservices g√®re les donn√©es Pub-Sub</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/479572/">  <i>La traduction de l'article a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours <a href="https://otus.pw/RCke/">¬´High Load Architect¬ª</a> .</i> <i><br></i> <br><br><img src="https://habrastorage.org/webt/ro/7u/1i/ro7u1is2mtzuzuuuzpdm07pgzc8.png"><br><hr><br><h3>  Pr√©sentation </h3><br>  Dans l'architecture de microservice Netflix, le transfert d'ensembles de donn√©es d'un √† plusieurs points de terminaison peut √™tre extr√™mement difficile.  Ces ensembles de donn√©es peuvent contenir tout, d'une configuration de service aux r√©sultats du traitement par lots.  Pour optimiser l'acc√®s, une base de donn√©es r√©sidente est souvent n√©cessaire et les modifications doivent √™tre envoy√©es imm√©diatement apr√®s la mise √† jour des donn√©es. <br><br>  Un exemple qui refl√®te le besoin de distribution distribu√©e d'un ensemble de donn√©es ressemble √† ceci: √† tout moment, Netflix effectue un grand nombre de tests A / B.  Ces tests couvrent plusieurs services et commandes, et les op√©rateurs de test devraient pouvoir se reconfigurer √† la vol√©e.  Cela n√©cessite √©galement la capacit√© de d√©tecter les n≈ìuds qui n'ont pas pu obtenir la derni√®re configuration de test et la possibilit√© de revenir aux anciennes versions en cas de probl√®me. <a name="habracut"></a><br><br>  Un autre exemple d'un ensemble de donn√©es qui doit √™tre distribu√© est la s√©quence de sortie d'un mod√®le d'apprentissage automatique: les r√©sultats de son travail peuvent √™tre utilis√©s par plusieurs √©quipes, mais les √©quipes ML ne sont pas n√©cessairement int√©ress√©es √† soutenir des services d'acc√®s ininterrompus dans une situation critique.  Au lieu de la situation o√π chaque √©quipe doit cr√©er des sauvegardes afin de pouvoir revenir en arri√®re de mani√®re succincte, une attention particuli√®re est accord√©e pour garantir que plusieurs √©quipes peuvent utiliser les r√©sultats d'une seule √©quipe. <br><br>  Sans assistance au niveau de l'infrastructure, chaque √©quipe essaie finalement de mettre en ≈ìuvre sa propre solution, mais cela se fait avec diff√©rentes √©quipes avec un succ√®s variable.  Les ensembles de donn√©es eux-m√™mes sont de tailles diff√©rentes, de quelques octets √† quelques gigaoctets.  Il est important de cr√©er la capacit√© de surveiller les performances des processus et de d√©tecter les dysfonctionnements √† l'aide d'outils sp√©ciaux afin que les op√©rateurs puissent rapidement apporter des modifications sans avoir √† cr√©er leur propre solution. <br><br><img src="https://habrastorage.org/webt/96/wa/uw/96wauwyjpxs3xx0kljnxvxcmk2i.png"><br>  <i>Diffusion des donn√©es</i> <br><br>  Chez Netflix, nous utilisons un syst√®me de donn√©es pub / sub interne appel√© Gutenberg.  Gutenberg vous permet de distribuer des ensembles de donn√©es avec gestion des versions - les destinataires s'abonnent aux donn√©es et re√ßoivent leurs derni√®res versions lors de leur publication.  Chaque version de l'ensemble de donn√©es reste inchang√©e et contient une repr√©sentation compl√®te des donn√©es, c'est-√†-dire qu'il n'y a aucune d√©pendance par rapport aux versions pr√©c√©dentes.  Gutenberg vous permet d'afficher d'anciennes versions de donn√©es au cas o√π vous auriez besoin, par exemple, de d√©boguer, de r√©soudre rapidement un probl√®me de donn√©es ou de recycler un mod√®le d'apprentissage automatique.  Dans cet article, nous parlerons de l'architecture de haut niveau de Gutenberg. <br><br><h4>  Mod√®le de donn√©es </h4><br><img src="https://habrastorage.org/webt/7g/7z/b6/7g7zb66okgkinf1xxzvlyxk-60w.png"><br>  <i>1 sujet -&gt; plusieurs versions</i> <br><br>  Le design de haut niveau de Gutenberg est le th√®me.  L'√©diteur publie des donn√©es dans le sujet et les destinataires en extraient.  La publication dans le sujet est ajout√©e en tant que version distincte.  Celles-ci sont caract√©ris√©es par une politique de stockage sp√©cifique qui d√©termine le nombre de versions, selon le cas d'utilisation.  Par exemple, vous pouvez configurer un th√®me pour stocker 10 versions ou les versions des 10 derniers jours. <br><br>  Chaque version contient des m√©tadonn√©es (cl√©s et valeurs) et un pointeur de donn√©es.  Le pointeur de donn√©es peut √™tre consid√©r√© comme des m√©tadonn√©es sp√©ciales indiquant o√π les donn√©es publi√©es sont r√©ellement stock√©es.  Aujourd'hui, Gutenberg prend en charge les pointeurs de donn√©es directs (si la charge utile est √©crite dans la valeur du pointeur de donn√©es lui-m√™me) et les pointeurs de donn√©es S3 (si la charge utile est stock√©e dans S3).  Les pointeurs de donn√©es directs sont g√©n√©ralement utilis√©s lorsque les donn√©es sont petites (moins de 1 Mo), et S3 est utilis√© comme stockage de sauvegarde au cas o√π le volume de donn√©es est important. <br><br><img src="https://habrastorage.org/webt/z7/we/mp/z7wemphye670skkx23aemtfkdyi.png"><br>  <i>1 sujet -&gt; de nombreux sets publi√©s</i> <br><br>  Gutenberg offre la possibilit√© d'envoyer une publication √† un ensemble sp√©cifique d'utilisateurs destinataires - par exemple, un ensemble peut √™tre group√© par r√©gion, application ou cluster sp√©cifique.  Cela peut √™tre utilis√© pour contr√¥ler la qualit√© des modifications de donn√©es ou pour limiter l'ensemble de donn√©es afin qu'un sous-ensemble d'applications puisse s'y abonner.  Les √©diteurs d√©terminent la zone de publication d'une version particuli√®re des donn√©es et peuvent ajouter des zones aux donn√©es pr√©c√©demment publi√©es.  Veuillez noter que cela signifie que le concept de la derni√®re version des donn√©es d√©pend d'un domaine sp√©cifique - les deux applications peuvent recevoir les derni√®res versions diff√©rentes des donn√©es en fonction de la zone de publication d√©finie par l'√©diteur.  Le service Gutenberg mappe les applications destinataires aux zones de publication avant de d√©cider quoi envoyer comme derni√®re version. <br><br><h3>  Cas d'utilisation </h3><br>  Le cas d'utilisation le plus courant pour Gutenberg est de distribuer des donn√©es de diff√©rentes tailles d'un √©diteur √† plusieurs destinataires.  Souvent, les donn√©es sont stock√©es dans la m√©moire du destinataire et utilis√©es comme ¬´cache partag√©¬ª, o√π elles restent toujours disponibles pendant l'ex√©cution du code du destinataire et sont remplac√©es atomiquement sous le capot si n√©cessaire.  Un grand nombre de ces cas d'utilisation peuvent √™tre regroup√©s en ¬´configurations¬ª, telles que la configuration du cache <a href="https://medium.com/netflix-techblog/distributing-content-to-open-connect-3e3e391d4dc9">Open Connect Appliance</a> , les ID de type d'appareil pris en charge, les m√©tadonn√©es de m√©thode de paiement prises en charge et les configurations de test A / B.  Gutenberg fournit une abstraction entre la publication et la r√©ception de ces donn√©es, permettant aux √©diteurs de parcourir librement leur application sans affecter les destinataires en aval.  Dans certains cas, la publication se fait √† l'aide d'une interface utilisateur g√©r√©e par Gutenberg, et les √©quipes n'ont pas du tout besoin de toucher leur propre application de publication. <br><br>  Une autre utilisation du syst√®me Gutenberg est un r√©f√©rentiel de donn√©es versionn√©es.  Ceci est utile pour les applications d'apprentissage automatique o√π les √©quipes construisent et forment des mod√®les bas√©s sur des donn√©es historiques, voient comment elles changent au fil du temps, puis modifient certains param√®tres et r√©ex√©cutent l'application.  Le plus souvent dans les calculs par lots, Gutenberg est utilis√© pour stocker et distribuer les r√©sultats de ces calculs sous diff√©rentes versions d'ensembles de donn√©es.  Les cas d'utilisation en ligne s'abonnent √† des rubriques pour fournir des donn√©es en temps r√©el √† partir des derniers ensembles de versions, tandis que les syst√®mes autonomes peuvent utiliser des donn√©es historiques des m√™mes rubriques, par exemple, pour enseigner un mod√®le d'apprentissage automatique. <br><br>  Il est important de noter que Gutenberg n'est pas con√ßu comme un syst√®me d'√©v√©nements, il est uniquement destin√© au contr√¥le de version et √† la distribution de donn√©es.  En particulier, des publications fr√©quentes ne signifient pas que l'abonn√© est tenu de recevoir chaque version.  Lorsqu'il demande une mise √† jour, il recevra la derni√®re version, m√™me si pour le moment sa version actuelle est loin derri√®re la version actuelle.  Les syst√®mes de pub-sub ou d'√©v√©nement traditionnels conviennent mieux aux petits messages qui sont envoy√©s s√©quentiellement.  Autrement dit, les destinataires peuvent cr√©er une id√©e de l'ensemble des donn√©es en consommant l'int√©gralit√© (compress√©e) du flux d'√©v√©nements.  Cependant, Gutenberg est destin√© √† publier et √† utiliser une repr√©sentation compl√®te et immuable d'un ensemble de donn√©es. <br><br><h3>  D√©veloppement et architecture </h3><br>  Gutenberg se compose d'un service gRPC et d'une API REST, ainsi que d'une biblioth√®que client Java qui utilise l'API gRPC. <br><br><img src="https://habrastorage.org/webt/lw/bz/m_/lwbzm_dd871-cgpebuwlmorejd4.png"><br>  <i>Architecture de haut niveau</i> <br><br><h3>  Client </h3><br>  La biblioth√®que cliente Gutenberg g√®re des t√¢ches telles que la gestion d'un abonnement, le chargement / d√©chargement S3, <a href="https://github.com/Netflix/atlas">les</a> m√©triques <a href="https://github.com/Netflix/atlas">Atlas</a> et les param√®tres qui peuvent √™tre configur√©s √† l'aide des propri√©t√©s <a href="https://github.com/Netflix/archaius">Archaius</a> .  Elle interagit avec le service Gutenberg via gRPC, en utilisant <a href="https://github.com/Netflix/eureka">Eureka</a> pour d√©couvrir les services. <br><br><h3>  Publication </h3><br>  Les √©diteurs utilisent g√©n√©ralement des API de haut niveau pour publier des cha√Ænes, des fichiers et des tableaux d'octets.  Selon la taille des donn√©es, elles peuvent √™tre publi√©es en tant que pointeur direct sur les donn√©es ou t√©l√©charg√©es sur S3, puis publi√©es en tant que pointeur de donn√©es S3.  Le client peut t√©l√©charger la charge utile vers S3 au nom de l'√©diteur ou publier uniquement les m√©tadonn√©es de charge utile d√©j√† pr√©sentes dans S3. <br><br>  Les pointeurs de donn√©es directs sont automatiquement r√©pliqu√©s globalement.  Les donn√©es publi√©es dans S3 sont, par d√©faut, t√©l√©charg√©es par l'√©diteur dans plusieurs domaines, bien que cela puisse √©galement √™tre personnalis√©. <br><br><h3>  Gestion des abonnements </h3><br>  La biblioth√®que cliente fournit la gestion des abonnements des destinataires.  Cela permet aux utilisateurs de cr√©er des abonnements pour certains sujets √† partir desquels la biblioth√®que extrait des donn√©es (par exemple, de S3) afin de les transf√©rer vers le destinataire d√©fini par l'utilisateur.  Les abonnements fonctionnent selon le mod√®le d'enqu√™te - ils demandent une nouvelle mise √† jour au service toutes les 30 secondes, en envoyant la version qu'ils ont re√ßue en dernier.  Les clients abonn√©s n'utiliseront pas une version plus ancienne des donn√©es que celle dont ils disposent actuellement si elle n'est pas corrig√©e (voir ¬´tol√©rance aux pannes¬ª ci-dessous).  La logique de demande r√©p√©t√©e est c√¢bl√©e et configurable.  Par exemple, les utilisateurs peuvent configurer Gutenberg pour utiliser des versions plus anciennes des donn√©es si le processus de t√©l√©chargement est interrompu ou pour traiter la derni√®re version des donn√©es au d√©marrage, le plus souvent afin de travailler avec des modifications de donn√©es incompatibles avec les commentaires.  Gutenberg fournit √©galement un abonnement pr√©configur√© qui stocke les derni√®res donn√©es et sous le capot les met √† jour atomiquement lorsque les changements arrivent.  Cela r√©pond √† la plupart des cas d'utilisation d'abonnement o√π les abonn√©s ne se soucient que de la valeur actuelle √† un moment donn√©, ce qui permet aux utilisateurs de sp√©cifier une valeur par d√©faut, par exemple, pour un sujet qui n'a jamais √©t√© publi√© auparavant (par exemple, si le th√®me est utilis√© pour la configuration), ou s'il y a une erreur selon le sujet (pour √©viter de bloquer le lancement du service quand il y a une valeur par d√©faut valide). <br><br><h3>  API du destinataire </h3><br>  Gutenberg fournit √©galement des API clientes de haut niveau, qui sous le capot ont des API gRPC de bas niveau et offrent des fonctionnalit√©s suppl√©mentaires et la transparence de l'ex√©cution des requ√™tes.  Un exemple est le t√©l√©chargement de donn√©es pour un th√®me et une version sp√©cifiques, qui sont largement utilis√©s par les composants connect√©s √† <a href="https://github.com/Netflix/hollow">Netflix Hollow</a> .  Un autre exemple est la r√©ception de la derni√®re version d'un sujet √† un certain moment - un cas d'utilisation courant pour le d√©bogage ou l'enseignement de mod√®les d'apprentissage automatique. <br><br><h3>  Durabilit√© et "transparence" du client </h3><br>  Gutenberg a √©t√© con√ßu dans le but de permettre aux services destinataires de d√©marrer avec succ√®s, plut√¥t que de garantir qu'ils commencent avec les donn√©es les plus r√©centes.  Pour cette raison, la biblioth√®que cliente a √©t√© construite avec une logique de sauvegarde pour g√©rer les √©tats lorsqu'elle ne peut pas interagir avec le service Gutenberg.  Si les requ√™tes HTTP √©chouent, le client charge le cache de m√©tadonn√©es de sauvegarde de la rubrique publi√©e √† partir de S3 et travaille avec lui.  Ce cache contient toutes les informations permettant de d√©cider d'appliquer ou non la mise √† jour et de r√©cup√©rer les donn√©es (√† partir des m√©tadonn√©es de publication elles-m√™mes ou de S3).  Cela permet aux clients de r√©cup√©rer des donn√©es (qui sont potentiellement obsol√®tes, selon l'√©tat actuel du cache de sauvegarde) sans utiliser le service. <br><br>  L'un des avantages de fournir une biblioth√®que cliente est la possibilit√© d'obtenir des m√©triques qui peuvent √™tre utilis√©es pour signaler des probl√®mes d'infrastructure en g√©n√©ral et des erreurs dans des applications sp√©cifiques.  Aujourd'hui, ces mesures sont utilis√©es par l'√©quipe de Gutenberg pour surveiller notre distribution SLI des publications et des alertes en cas de probl√®mes typiques.  Certains clients utilisent √©galement ces mesures pour signaler des erreurs sp√©cifiques √† l'application, par exemple, des √©checs de publication individuels ou un refus de sujet particulier. <br><br><h3>  Serveur </h3><br>  Gutenberg est une application <a href="https://github.com/Netflix/governator">Governator</a> / Tomcat qui fournit des points de terminaison gRPC et REST.  Il utilise le cluster Cassandra r√©pliqu√© √† l'√©chelle mondiale pour stocker et distribuer les m√©tadonn√©es de publication dans chaque r√©gion.  Les instances qui traitent les demandes des destinataires sont mises √† l'√©chelle s√©par√©ment des instances qui traitent les demandes de publication.  Il y a environ 1 000 fois plus de demandes de publication que de demandes de publication.  De plus, cela vous permet de supprimer la d√©pendance du fait de la publication √† la r√©ception, de sorte qu'une augmentation soudaine des publications n'affectera pas la r√©ception, et vice versa. <br><br>  Chaque instance du cluster de demandes de destinataires traite son propre cache en m√©moire des publications r√©centes, en le retirant de Cassandra toutes les quelques secondes.  Cela est n√©cessaire pour traiter un grand nombre de demandes de r√©ception provenant de clients sign√©s sans transf√©rer de trafic vers le cluster Cassandra.  De plus, les caches avec un petit pool de requ√™tes ttl prot√®gent contre les pics de requ√™te qui pourraient potentiellement ralentir Cassandra √† un point tel qu'il affecte toute la r√©gion.  Nous avons eu des situations o√π des erreurs soudaines co√Øncidant avec la redistribution de grands clusters ont provoqu√© des interruptions du service Gutenberg.  De plus, nous utilisons le <a href="https://github.com/Netflix/concurrency-limits">limiteur de concurrence</a> adaptatif trouv√© dans l'application d'origine pour supprimer les applications avec un comportement incorrect sans affecter les autres. <br><br>  Dans les cas o√π les donn√©es sont publi√©es dans S3 dans plusieurs r√©gions, le serveur d√©cide quel segment renvoyer au client pour t√©l√©chargement, en fonction de l'emplacement du client.  Il permet √©galement au service de fournir au client un segment dans la r√©gion ¬´la plus proche¬ª ou de forcer le client √† se d√©placer vers une autre r√©gion si la r√©gion actuelle est d√©connect√©e pour une raison ou une autre. <br><br>  Avant de renvoyer les donn√©es d'abonnement aux destinataires, Gutenberg v√©rifie d'abord la coh√©rence des donn√©es.  Si la v√©rification √©choue et que l'abonn√© a d√©j√† re√ßu des donn√©es, le service ne renvoie rien, ce qui signifie en fait que la mise √† jour n'est pas disponible.  Si le client abonn√© n'a pas encore re√ßu de donn√©es (cela signifie g√©n√©ralement qu'il vient de d√©marrer), le service demande l'historique du sujet et renvoie la derni√®re valeur qui r√©ussit le contr√¥le de coh√©rence.  Cela est d√ª au fait que nous observons des retards √©pisodiques dans la r√©plication au niveau de Cassandra, o√π au moment o√π les abonn√©s demandent de nouvelles donn√©es, les m√©tadonn√©es associ√©es √† la derni√®re version publi√©e n'√©taient que partiellement r√©pliqu√©es.  Cela peut amener le client √† recevoir des donn√©es incompl√®tes, ce qui entra√Ænera alors des erreurs de demande de donn√©es ou des erreurs dans la logique m√©tier.  La r√©alisation de ces v√©rifications de coh√©rence sur le serveur prot√®ge les destinataires des alertes de coh√©rence possibles qui accompagnent le choix d'un service d'entrep√¥t de donn√©es. <br><br>  La capacit√© de surveiller les publications de sujets et de sites qui utilisent ces sujets est une fonction importante pour l'audit et la collecte d'informations sur l'utilisation.  Pour collecter ces donn√©es, le service intercepte les demandes des √©diteurs et des destinataires (les deux demandes de mise √† jour des donn√©es des abonn√©s et des autres) et les indexe dans Elasticsearch √† l'aide du <a href="https://medium.com/netflix-techblog/keystone-real-time-stream-processing-platform-a3ee651812a">pipeline de</a> donn√©es <a href="https://medium.com/netflix-techblog/keystone-real-time-stream-processing-platform-a3ee651812a">Keystone</a> .  Nous avons donc la possibilit√© d'obtenir des donn√©es pour le suivi des sujets qui sont utilis√©s et qui ne sont plus l√†.  Nous publions des liens d√©taill√©s vers le tableau de bord Kibana √† partir de l'interface utilisateur interne afin que les propri√©taires de th√®mes puissent g√©rer ind√©pendamment leurs abonn√©s. <br><br>  Outre les clusters qui g√®rent les demandes des √©diteurs et des destinataires, le service Gutenberg lance un autre cluster qui traite les demandes p√©riodiques.  En particulier, il r√©sout deux probl√®mes: <br><br><ol><li>  Toutes les quelques minutes, toutes les derni√®res publications et m√©tadonn√©es sont collect√©es et envoy√©es √† S3.  Cela lance le d√©marrage du cache de sauvegarde, qui est utilis√© par le client, comme d√©crit ci-dessus. </li><li>  Le garbage collector supprime les versions des rubriques qui ne r√©pondent pas √† leurs politiques de r√©tention.  Il supprime √©galement les donn√©es qui lui sont associ√©es (par exemple, les objets S3) et contribue √† garantir un cycle de vie des donn√©es bien d√©fini. </li></ol><br><h3>  Tol√©rance aux pannes </h3><br><h4>  Snap </h4><br>  Les d√©ploiements infructueux se produisent dans le monde du d√©veloppement d'applications, et les restaurations aux versions ant√©rieures sont une strat√©gie courante pour r√©soudre de tels probl√®mes.  L'architecture pilot√©e par les donn√©es complique la situation, car le comportement est d√©termin√© par des donn√©es qui √©voluent avec le temps. <br><br>  Les donn√©es distribu√©es par Gutenberg influencent et dans de nombreux cas contr√¥lent le comportement du syst√®me.  Cela signifie qu'en cas de probl√®me, vous avez besoin d'un moyen de revenir √† une bonne version √©prouv√©e des donn√©es.  Pour att√©nuer la situation, Gutenberg permet de "lier" le th√®me √† une version sp√©cifique.  Les broches remplacent la derni√®re version des donn√©es et forcent le client √† mettre √† niveau vers cette version, ce qui vous permet de r√©soudre rapidement une situation critique, plut√¥t que d'essayer de comprendre comment publier la derni√®re version de travail.  Vous pouvez m√™me appliquer une liaison √† la zone de publication afin que seuls les destinataires de cette zone puissent utiliser les donn√©es.  Les broches remplacent √©galement les donn√©es publi√©es lors de la liaison active, mais lorsque la broche est supprim√©e, les clients recevront la derni√®re version, qui peut √™tre la derni√®re version √©pingl√©e ou une nouvelle version publi√©e alors que l'ancienne √©tait √©pingl√©e. <br><br><h3>  D√©ploiement s√©quentiel </h3><br>  Lors du d√©ploiement d'un nouveau code, il est souvent recommand√© de cr√©er de nouveaux assemblys avec un sous-ensemble de trafic, de les d√©ployer progressivement ou de r√©duire d'une autre mani√®re les risques de d√©ploiement en le ralentissant.  ,    ,    . <br><br>   ,   Gutenberg, ‚Äî         <a href="https://medium.com/netflix-techblog/global-continuous-delivery-with-spinnaker-2a6896c23ba7">Spinnaker</a> .       ,         .      ,            .     , ,       ,      ,      ,    . ,           AWS-  . <br><br><h4>  </h4><br> Gutenberg   Netflix     .    Gutenberg       ,              6 .      ‚Äì           ,        1-2   ,        12 . <br><br>    24-    ,      ,     .   ,         200,          7.    -    ,      ,      Hollow.     ,       ,      ,     ‚Äì 60,     ‚Äì 4. <br><br><h4>   </h4><br>   ,      Gutenberg: <br><br><ul><li> <b>  </b> :    Gutenberg   Java-,        Node.JS  Python-.       ,   REST API Gutenberg   .     ,       Node.JS  Python. </li><li> <b>   </b> :     Gutenberg               .        Gutenberg. </li><li> <b>  </b> :            ,     . ,                  . </li><li> <b> </b> : ,   Gutenberg,    Gutenberg     .            ,        . </li><li> <b> </b> :      ,     ,            .           ,   Elasticsearch. </li><li> <b>  </b> :   Netflix ‚Äì       .           ,    Gutenberg  ,           . </li></ul><br>  <i>C‚Äôest tout.</i> <i>    <a href="https://otus.pw/RCke/"></a> .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479572/">https://habr.com/ru/post/fr479572/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479562/index.html">Cr√©er la structure d'un bot multi-plateforme simple</a></li>
<li><a href="../fr479564/index.html">ClickHouse + Graphite: comment r√©duire consid√©rablement la consommation d'espace disque</a></li>
<li><a href="../fr479566/index.html">Syst√®me de suppression de potentiel ou reverse engineering de la Matrice + preuve de temps simultan√©</a></li>
<li><a href="../fr479568/index.html">Je travaille en tant que programmeur dans une entreprise, mais je veux rencontrer mes 50 ans diff√©remment</a></li>
<li><a href="../fr479570/index.html">Points d'entr√©e Python</a></li>
<li><a href="../fr479574/index.html">4 aspects de la gestion des services ITIL</a></li>
<li><a href="../fr479578/index.html">Externalisation de l'impression: comment v√©rifier que l'entrepreneur ne facture pas les montants des factures</a></li>
<li><a href="../fr479580/index.html">Golden canon grid: histoire d'horreur pour frontend</a></li>
<li><a href="../fr479584/index.html">Syst√®mes g√©n√©raux de d√©tection et de pr√©vention des intrusions</a></li>
<li><a href="../fr479586/index.html">Efros Config Inspector profite m√™me √† ceux qui ne l'utilisent pas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>