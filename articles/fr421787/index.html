<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèº üßòüèø üôãüèº D√©veloppement d'architecture de projet, vaisseaux et JavaScript ü¶Ä ‚úíÔ∏è üë†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une histoire sur ce que vous devez consid√©rer afin de construire une architecture de qualit√© pour votre projet. Comment le rendre insubmersible et sat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement d'architecture de projet, vaisseaux et JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/421787/">  Une histoire sur ce que vous devez consid√©rer afin de construire une architecture de qualit√© pour votre projet.  Comment le rendre insubmersible et satisfaire les clients. <br><br>  Ci-dessous, nous examinerons des exemples concrets et essaierons d'apprendre des erreurs des autres.  Et en cours de route, nous r√©digerons un livre de recommandations utiles pour l'architecte de la solution.  Dans toutes les histoires - des t√¢ches architecturales qui commencent par les principales exigences du client et sont accompagn√©es d'un nouveau d√©briefing. <br><br><img src="https://habrastorage.org/webt/tv/sn/wd/tvsnwdyyv5pp9d4iqsp1cxm-epe.jpeg"><br><br>  L'article est bas√© sur un rapport d'Alexey Bogachuk (architecte de solution d'EPAM) de la conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HolyJS 2018 Piter</a> .  Sous la cin√©matique - vid√©o et transcription du rapport. <br><br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/UVRi9LoFyfI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Approches de l'architecture du b√¢timent et r√¥le de l'architecte de projet </h2><br><h3>  Nag√© - nous savons </h3><br>  Ainsi ont dit les marins du navire su√©dois Vasa.  Ils viennent de naviguer, fuyant le navire qui coule, qui vient d'√™tre descendu dans l'eau par les cales.  Qu'est-ce que Vasa a √† voir avec √ßa? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a8a/fb7/362/a8afb73626950f3b336e4b2487b5386a.png"><br><br>  Commen√ßons par une courte histoire qui vous fait jeter un regard compl√®tement diff√©rent sur les approches de construction de l'architecture d'application et le r√¥le d'architecte de projet. <br><br>  Le roi de Su√®de a sign√© un contrat avec l'architecte constructeur naval Henrik Hubertsson.  Aux termes du contrat, Henrik devait construire un navire amiral - la beaut√© de la flotte su√©doise, le meilleur navire d'Europe.  En tant que principaux sponsors, le roi et le tr√©sor ont particip√© √† la coordination de toutes les principales caract√©ristiques du navire.En cons√©quence, l'ordre a √©t√© formul√© comme suit: <br><br><ul><li>  le navire devrait √™tre le plus grand de la flotte de la Baltique: 70 m√®tres de long, 10 de large; <br></li><li>  vous avez besoin de trois ponts, qui pourront accueillir 300 soldats; <br></li><li>  il doit avoir 64 fusils √† bord sur deux rang√©es; <br></li><li>  3 ans sont accord√©s pour la construction. <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/e0b/bd6/0a8/e0bbd60a886a250e840fb4ef9efa4f07.png"><br><br>  Les analogues d'un tel navire √† ce moment n'existaient pas.  Cependant, lui-m√™me n'a pas non plus dur√© longtemps, coulant au milieu de la c√©l√©bration de sa construction. <br><br>  Lorsqu'ils ont essay√© de comprendre pourquoi cela s'√©tait produit, il a √©t√© constat√© qu'il n'y avait aucun √©cart par rapport aux exigences.  La taille est la m√™me, le nombre d'armes √† feu est normal, les marins sur les ponts sont exactement le montant requis.  N√©anmoins, cela √©tait parfaitement combin√© avec le fait que les lois de la physique ne permettaient pas √† un tel navire de tenir longtemps sur l'eau. <br><br>  Les erreurs de calcul architecturales suivantes de Henryk sont √©videntes (ce qui, incidemment, aurait pu lui co√ªter la vie s'il avait surv√©cu √† la cour): <br><br><ul><li>  Toutes les restrictions conflictuelles n'√©taient pas √©quilibr√©es. <br></li><li>  Il n'y avait pas de gestion des risques, car personne n'avait construit de navires de cette ampleur auparavant. <br></li><li>  La gestion de la relation client √©tait √©galement absente - Henrik n'a pas eu le courage de discuter avec le roi. <br></li><li>  Technologies de construction incorrectes utilis√©es. <br></li><li>  L'architecte a accept√© des exigences impossibles. <br></li></ul><br>  √Ä la suite de ces erreurs de calcul, le navire "est tomb√©" m√™me au stade de la conception.  L'histoire est instructive, car elle refl√®te l'influence du cycle d'architecture sur l'application en cours de cr√©ation.  Il y a des parties int√©ress√©es qui formulent des objectifs et des exigences, sur la base de cela, l'architecture du projet est construite, puis le projet lui-m√™me.  Une erreur √† l'une de ces √©tapes peut valoir tout le projet, et parfois la t√™te / le travail, Henrik Hubertsson ne vous laissera pas mentir. <br><br><h2>  Des amis puissants </h2><br>  Combien d'applications avec la mauvaise architecture sont mortes avant d'√©crire la premi√®re ligne de code? <br>  Le cycle de l'influence de l'architecture sur le projet est le suivant: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/764/e02/aa9/764e02aa9ffe8b6b291258efe292eb49.png"><br><br>  De gauche √† droite: <br><br><ol><li>  Il y a des parties int√©ress√©es ou des parties prenantes (dans le cas du navire, il s'agit du roi et du tr√©sor). <br></li><li>  Ils ont leurs propres objectifs (le premier navire en Europe). <br></li><li>  Les objectifs dictent les exigences (caract√©ristiques sp√©cifiques du futur navire). <br></li><li>  Ensuite, des dessins, des diagrammes et des conceptions sont cr√©√©s. <br></li><li>  Construction sur le projet. <br></li></ol><br>  Une erreur √† l'une de ces √©tapes peut rayer l'avenir de votre projet. <br><br><h2>  Manuel de l'architecte de solution </h2><br>  Nous examinerons des exemples concrets et essaierons d'apprendre des erreurs des autres.  Dans le m√™me temps, nous compilerons un livre de recommandations utiles pour l'architecte de la solution.  Henrik Hubertsson a √©t√© √©puis√© par le fait qu‚Äôil n‚Äôen avait pas. <br><br>  Si nous vivions √† l'√©poque de notre h√©ros, lorsque les erreurs d'architecture √©taient passibles de la peine de mort, ce livre serait √©crit de sang. <br><br>  Dans toutes les histoires, des kata architecturaux (t√¢ches) seront donn√©s.  Ils contiendront une demande simplifi√©e avec les premi√®res exigences du client, l'essence du probl√®me et la conclusion. <br><br><h2>  L'histoire d'horlogerie de Jimmy </h2><br>  <b>Besoins du client</b> <br><br><ul><li>  Remplacer la solution d'interface utilisateur actuelle. <br></li><li>  Introduire une nouvelle approche pour le d√©veloppement et la mise en ≈ìuvre de cette solution. <br></li><li>  Besoin d'une meilleure exp√©rience utilisateur. <br></li><li>  En m√™me temps, suivez toutes les meilleures pratiques. <br></li><li>  Prise en charge de diverses plates-formes. <br></li></ul><br>  <b>Ce qui a √©t√© fait</b> <br><br>  Les exigences sont tr√®s g√©n√©rales, sans d√©tails.  On ne sait pas exactement ce que chacun doit faire avec cela.  Parall√®lement, l'√©quipe de d√©veloppement est situ√©e √† Minsk, et le client est √† Montr√©al.  √âtant donn√© qu'il y avait des sanctions entre le B√©larus et le Canada, il n'√©tait pas possible de travailler directement avec le Canada.  Il a √©t√© d√©cid√© de travailler avec le client via un bureau √† Dublin.  En raison de tous ces d√©lais et de la m√©diation, il n'a pas √©t√© possible de contacter le client et enfin de conna√Ætre les exigences, de faire des propositions de mise en ≈ìuvre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d2e/e37/6e0/d2ee376e053e8e66e96b0522ad64da2e.png"><br><br>  Apr√®s un certain temps, un certain Jimmy commen√ßa toujours √† r√©pondre aux questions et √† clarifier les exigences, le d√©veloppement du projet commen√ßa.  Jimmy a partag√© avec enthousiasme ses conseils, des contacts ont √©t√© pris avec lui et une correspondance a √©t√© entretenue avec lui directement.  √Ä la suite du travail, une pr√©sentation a √©t√© faite.  Il est temps de montrer les r√©sultats.  Une conf√©rence a √©t√© organis√©e avec des personnes importantes du client, mais, √©trangement, Jimmy n'√©tait pas parmi eux, et personne ne savait qui c'√©tait.  Bien s√ªr, tout s'est av√©r√© √™tre compl√®tement diff√©rent de ce que le client attendait.  Le fait √©tait que l'entreprise ne connaissait aucun Jimmy, il s'est av√©r√© qu'il √©tait un d√©veloppeur ordinaire et a simplement partag√© son exp√©rience et ses conseils.  Il n'a pas pris de d√©cision et, en g√©n√©ral, n'a eu aucun rapport avec le projet. <br><br>  Quelle est l'erreur?  Au tout premier stade de la d√©finition de l'architecture, les parties prenantes ont √©t√© mal d√©finies. <br><br>  <b>Conclusion</b> <br><br>  Toute architecture commence par l'identification des parties prenantes.  Afin de les identifier, il existe de nombreuses approches, nous en consid√©rerons une - nous allons construire une matrice RACI. <br><br><h3>  Raci </h3><br>  L'abr√©viation signifie: R - responsable, ceux qui mettront en ≈ìuvre;  A - des d√©cideurs responsables;  C - conseiller (gens d'affaires) conseiller;  Je - inform√©, les gens qui ont besoin d'√™tre inform√©s.  Chacune des parties int√©ress√©es doit √™tre affect√©e √† l'une ou l'autre cat√©gorie.  La matrice indique les r√¥les et les t√¢ches. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/109/f67/b70109f673841089adec320b7f6215c6.png"><br><br>  Ayant construit une telle matrice, nous pouvons comprendre qui sont les parties prenantes. <br><br>  De plus, il a √©t√© remarqu√© que parmi les parties prenantes, il y a des gens qui font de fausses d√©clarations qui mettent le projet de c√¥t√©.  Dans ce cas, il s'est av√©r√© qu'il s'agissait de repr√©sentants d'autres fournisseurs qui n'√©taient pas int√©ress√©s par le projet.  Mais la matrice RACI ne sait pas distinguer ces clients, pour cela il y a une approche Onion. <br><br><h3>  Oignon </h3><br><br>  L'approche de l'oignon est quelque peu diff√©rente des matrices RACI. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f4b/1c6/a11/f4b1c6a11597d09f3e356fe5902c04e2.png"><br><br>  Son essence est que des couches sont construites autour du syst√®me, √† l'int√©rieur desquelles certains visages de clients sont indiqu√©s.  Dans cet exemple, les d√©veloppeurs, DevOps, les gestionnaires de contenu communiqueront avec le syst√®me lui-m√™me.  Un peu plus haut dans l'abstraction sont les gens d'affaires.  Il existe √©galement des r√©gulateurs externes: m√©dias, lois, etc.  Par exemple, pour publier une application dans certains pays, vous devez passer un audit r√©alis√© par une soci√©t√© tierce, cela r√©v√©lera l'accessibilit√© et les autres qualit√©s requises du projet, ce sont les exigences des parties prenantes externes. <br><br>  Nous √©crivons donc dans notre manuel d‚Äôarchitecte que la premi√®re √©tape n√©cessaire est de d√©terminer les parties prenantes. <br><br><h2>  Histoire: pas assez rapide </h2><br>  La soci√©t√© avait un client de trading, dans ce domaine la vitesse de transaction est tr√®s importante.  Sur cette base, un certain nombre d'exigences ont √©t√© formul√©es. <br><br>  <b>Besoins du client</b> <br><ul><li>  Soyez plus rapide que vos concurrents <br></li></ul><br><ul><li>  Il est n√©cessaire de r√©aliser la transaction en moins de 0,5 seconde. <br></li></ul><br>  <b>Qu'est-ce que</b> <br><br>  Le projet a √©t√© achev√©, mais a √©chou√©.  Pourquoi?  Encore une fois, les exigences n'√©taient pas enti√®rement correctes.  L'objectif n'√©tait pas de faire des transactions √† une vitesse de 0,5 seconde, mais de les faire plus rapidement qu'un concurrent.  En cons√©quence, la vitesse a √©t√© port√©e √† 0,5 seconde, mais le concurrent √† ce moment-l√† a atteint un chiffre de 0,4 seconde.  Nous constatons une erreur dans la d√©termination de l'objectif commercial.  Pourquoi le client a-t-il besoin d'un syst√®me? <br><br>  Un objectif commercial n'est que la partie √©merg√©e de l'iceberg, derri√®re cela se cachent les moteurs commerciaux, les r√©gulateurs et les objectifs internes de l'entreprise.  Souvent, ils restent inconnus.  Nous nous int√©ressons davantage aux objectifs techniques, qui incluent un objectif commercial.  Ils sont r√©gis par des principes commerciaux, par exemple, personne ne veut sacrifier la qualit√© du travail lors de la mise en ≈ìuvre d'un objectif technique, car il s'agit d'une erreur de calcul √† long terme.  Tout cela, vous devez le savoir et le garder √† l'esprit lors de la construction d'une architecture.  Ainsi que le fait que les projets sans but sont morts au d√©part. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed6/4f2/9e8/ed64f29e8370c0dc4d5fc9bcbdba5169.png"><br><br>  <b>Conclusion</b> <br><br>  M√™me si vous travaillez dans des startups, dont le but est souvent de tester de nouvelles technologies, l'utilisation de nouvelles technologies dans le projet n'est de toute fa√ßon pas un objectif commercial.  Le probl√®me est que si l'objectif est d'utiliser de nouvelles technologies, le projet va cro√Ætre constamment et n√©cessitera de nouveaux investissements financiers et temporaires inutiles.  Les objectifs commerciaux ne doivent jamais √™tre n√©glig√©s lors de la conception d'une architecture. <br><br>  Vous pouvez trouver des recommandations utiles dans le livre "D√©couvrir les exigences", auteurs - Ian Alexander, Ljerka Beus-Dukic. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebd/c3f/7d1/ebdc3f7d11d3e2435924544eec241fdf.png"><br><br><h2>  L'histoire de la traite des pionniers du cheval </h2><br>  Une entreprise qui vend de l'assurance a son propre site Web.  Il fonctionne tr√®s bien et poss√®de de bonnes fonctionnalit√©s √©tablies.  Il a d√©j√† une logique m√©tier complexe en place. <br><br>  <b>Besoins du client</b> <br><br><ul><li>  En plus du site, vous devez cr√©er une application mobile que les employ√©s utiliseront sur leurs t√©l√©phones <br></li><li>  L'application doit avoir un mode hors ligne. <br></li></ul><br>  <b>Qu'est-ce que</b> <br><br>  En fonction des exigences, il a √©t√© d√©cid√© d'√©crire en React Native.  Le d√©veloppement a commenc√©.  Au cours du premier appel, des am√©liorations et des ajouts aux exigences ont √©t√© re√ßus: <br><br><ul><li>  L'entreprise d√©livre des t√©l√©phones aux employ√©s et ils travaillent tous sur Android. <br></li><li>  Le client n'est int√©ress√© que par le mode hors ligne. <br></li><li>  D√©lai - deux mois. <br></li></ul><br>  De toute √©vidence, la t√¢che de trier un produit tiers pr√™t √† l'emploi avec une logique m√©tier complexe et d'en √©crire un nouveau en deux mois ne correspond pas √† un tel d√©lai.  Il a √©t√© d√©cid√© d'utiliser PWA (Progressive Web Apps). <br><br>  J'avais d√©j√† de l'exp√©rience avec un tel travail.  Non seulement une application PWA a √©t√© √©crite, elle √©tait isomorphe.  Les services du serveur sur le client ont √©t√© r√©utilis√©s, des enveloppes sp√©ciales ont √©t√© √©crites avec lesquelles vous pouvez communiquer avec ces services.  Un routeur a √©t√© √©crit qui a redirig√© toutes les demandes vers la base de donn√©es MongoDB; sur le client, via l'adaptateur, ils ont travaill√© avec IndexedDB.  Sch√©ma ci-dessous. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/919/111/136/919111136359f0726ec3a78e027ab263.png"><br><br>  Les probl√®mes √©taient donc li√©s aux exigences, qui ne sont pas si simples.  Prenons un exemple de quelles sont les exigences: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c5/a7e/5c9/3c5a7e5c92d8526bf239f1d7eed536d8.png"><br><br>  Il y a un formulaire, et nous devons produire des erreurs de validation, si la mauvaise URL est entr√©e, nous devons afficher la page 404. Quel est le probl√®me avec les exigences?  Ils parlent de ce que le syst√®me devrait faire.  Mais pour l'architecte, quel syst√®me devrait √™tre plus important.  Si vous explorez ce que le syst√®me doit faire, vous pouvez aller trop loin dans les d√©tails et aller dans le mauvais sens.  Ces exigences sont appel√©es fonctionnelles, elles sont √©galement appel√©es exigences MoSCoW.  Mots souvent trouv√©s dans ces exigences: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/26d/86e/4b7/26d86e4b7d6ea893ad45da00cd7dbc3e.png"><br><br>  Toutes les exigences qui contiennent ces mots ne vous int√©ressent pas.  Si vous vous concentrez sur de telles exigences, un syst√®me monolithique sera construit sans aucune architecture sp√©ciale. <br><br>  <b>Conclusion</b> <br><br>  L'architecte doit se concentrer sur les exigences non fonctionnelles, en particulier sur les restrictions et les attributs de qualit√©.  Le prochain kata √† ce sujet. <br><br><h2>  L'histoire du corbeau blanc </h2><br>  <b>Besoins du client</b> <br><br><ul><li>  D√©veloppez un service distinct qui convertit et met en cache les donn√©es au format xml. <br></li><li>  Il doit le faire √† partir d'un syst√®me h√©rit√© tiers. <br></li></ul><br>  <b>Qu'est-ce que</b> <br><br>  Nous avons d√©velopp√© un bon service de travail, nous l'avons fait sur Node.js.  C'est ainsi que le syst√®me dans son ensemble a commenc√© √† ressembler sch√©matiquement avec le nouveau service introduit. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e16/0a4/914/e160a4914fea90c1b47823ca905dcac2.png"><br><br>  De toute √©vidence, Node.js est un mouton noir ici, malgr√© le fait que tout fonctionnait bien. <br><br>  L'erreur a √©t√© d√©couverte lors du transfert du service √† des clients qui ne connaissaient pas Node.js.  Cette situation montre parfaitement le r√¥le d'identification des contraintes du projet.  Quelles sont les limitations? <br><br><ul><li>  Technique <br></li><li>  Temps et budget <br></li><li>  Pile de d√©veloppeur client <br></li></ul><br>  <b>Conclusion</b> <br><br>  L'architecte est tenu de conna√Ætre toutes les restrictions existantes susceptibles d'affecter le produit final.  Les limitations sont des d√©cisions architecturales qui ont √©t√© prises avant et pour vous. <br><br>  Ensuite, nous nous tournons vers les attributs de qualit√©, nous y portons un int√©r√™t particulier. <br><br><h2>  Attributs de qualit√© </h2><br><h3>  Biblioth√®que tr√®s s√ªre </h3><br>  Il y a beaucoup d'attributs de qualit√©, il suffit de regarder la liste que Wikip√©dia nous donne. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a5/990/afe/3a5990afe95b511ab5c683b1409635f4.png"><br><br>  L'histoire est bas√©e sur l'attribut ¬´s√©curit√©¬ª.  Lorsque vous visitez la biblioth√®que, vous vous attendez √† peine, en utilisant un ordinateur, que vous devrez passer par une autorisation √† deux facteurs en entrant un e-mail, un t√©l√©phone et un code de v√©rification √† partir du t√©l√©phone.  N√©anmoins, cela se produit.  Nous constatons que l‚Äôapplication aveugle d‚Äôattributs de qualit√© peut √©galement √™tre lourde. <br><br><h3>  T√©l√©phone dans la for√™t </h3><br>  Et la performance?  Il est clair qu'il n'y a personne qui ne se soucie pas de la performance.  Voici le script.  Supposons qu'une personne souhaite utiliser une application mobile √† partir de son t√©l√©phone dans la for√™t.  Ainsi, cela affecte notre syst√®me, mais pas l'ensemble, mais l'interface Web.  Par exemple, il doit obtenir des donn√©es dans les trois secondes.  C'est le sc√©nario de performance que nous devrions obtenir. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/161/211/92f/16121192f05ed6ef27a691e92702d7e9.png"><br><br>  Ce sont de tels cas d'utilisation qu'un architecte doit collecter afin de construire un syst√®me de haute qualit√© en sortie.  Lorsque nous avons une liste d'exigences commerciales, d'attributs de qualit√©, de contraintes, nous reconnaissons toutes les parties prenantes, nous commen√ßons √† les aborder dans des diagrammes.  Cet adressage des attributs sur les diagrammes est appel√© tactique architecturale.  Quelles tactiques architecturales peuvent √™tre appliqu√©es √† un syst√®me t√©l√©phonique dans la for√™t en fonction des sc√©narios existants? <br><br><ul><li>  Am√©liorez l'UX pour qu'il semble √† une personne que la productivit√© est plus √©lev√©e. <br></li><li>  Optimiser les ressources (JS, CSS, images, polices, etc.). <br></li><li>  Effectuez la mise en cache. <br></li><li>  Ajouter des techniciens de service, chemin critique. <br></li><li>  Appliquez la compression. <br></li><li>  HTTP / 2. <br></li></ul><br>  Cependant, dans le cas d'un t√©l√©phone dans la for√™t, l'UX et le chemin critique ne nous conviennent pas imm√©diatement.  Et encore une fois, les tactiques doivent √™tre dict√©es par des scripts.  C'est le travail de l'architecte, de choisir parmi toutes les tactiques n√©cessaires dans un cas particulier.  Mais une application n'est pas seulement une interface.  Les performances sont √©galement affect√©es par le DNS, le backend, les bases de donn√©es, et tout cela peut √©galement √™tre optimis√©.  Il existe de nombreuses tactiques sur la fa√ßon de proc√©der, mais, encore une fois, l'application de l'une ou l'autre d√©pend du sc√©nario d'utilisation. <br><br>  Essayons d'utiliser le mod√®le CQRS (commande query separation segregation).  L'utilisation de ce mod√®le comme tactique affecte m√™me plusieurs couches de l'application: √† la fois le back-end et le front-end. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a3/2e2/dd5/5a32e2dd5270d547ec34fbfdb206bb1b.png"><br><br>  Supposons qu'il existe une base de donn√©es h√©rit√©e tr√®s lente, nous y envoyons une demande et apr√®s dix secondes, nous obtenons une r√©ponse.  De plus, il est r√©pliqu√© et vous devez effectuer des entr√©es dans les deux copies.  Nous dans la for√™t avec un t√©l√©phone voulons lire rapidement nos donn√©es de cette base de donn√©es.  Le mod√®le indique que nous devons s√©parer les demandes de lecture et d'√©criture.  Ajoutez une base de donn√©es √† lecture rapide.  Nous ajoutons tous les moyens pour synchroniser cette base de donn√©es avec une base existante. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd8/d28/2f4/fd8d282f4219643f20f6c1f165191120.png"><br><br>  L'utilisation de ce type de tactiques lourdes devrait √™tre tr√®s clairement dict√©e par les exigences. <br><br>  Nous avons donc utilis√© certaines tactiques.  Nous lan√ßons l'application et constatons que cela n'a pas aid√©, car il n'y a pas de connexion Internet.  Nous sommes donc arriv√©s √† la tol√©rance aux pannes dont l'architecte de la solution devrait s'occuper. <br><br><h3>  Soldat in√©branlable en √©tain </h3><br>  Personne ne veut que l'application tombe de mani√®re stable plusieurs fois par jour, tout le monde veut la tol√©rance aux pannes. <br><br>  Pour que l'application fonctionne de mani√®re stable, le principe de d√©faillance rapide peut √™tre appliqu√©: <br><br><ul><li>  V√©rifiez toujours les points d'int√©gration √† l'avance. <br></li><li>  √âvitez les connexions lentes. <br></li><li>  V√©rifiez vos entr√©es. <br></li></ul><br>  Pourquoi utiliser cela, regardons l'exemple de Lie Connection.  Il s'agit d'une connexion qui √©met peut-√™tre quelque chose, mais qui ne fonctionne pas.  Cela peut se produire entre le client et le serveur, la base de donn√©es et le serveur, entre les services.  Appliquez-y le motif du disjoncteur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d1e/d03/e80/d1ed03e8030f822ab8dac0def2815f2f.png"><br><br>  Alors que tout se passe bien, nous ne faisons rien.  D√®s que le d√©lai est d√©pass√©, nous nous d√©connectons et apr√®s un certain temps, nous faisons une nouvelle demande.  Si la demande se produit √† nouveau avec une erreur, nous restons √† nouveau en mode hors ligne avec un d√©lai d'attente augment√©.  Et si la demande s'est bien pass√©e, nous revenons au mode en ligne.  Ainsi, ce mod√®le permet de v√©rifier les points d'int√©gration et d'√©viter les connexions lentes. <br><br><h3>  Sous-marin </h3><br>  Il existe de nombreuses approches pour fournir une tol√©rance aux pannes.  L'un d'eux est la cloison (cloison, par exemple dans un sous-marin).  Cela signifie que l'application est √©crite de telle mani√®re qu'elle continue de fonctionner, m√™me lorsqu'une erreur est apparue dans l'un de ses composants. <br><br>  Nous avons une logique m√©tier dans laquelle nous envoyons des donn√©es et recevons une r√©ponse.  Nous commen√ßons √† l'encadrer avec nos tactiques, ajouter la validation, l'√©chelle.  Une erreur s'est produite dans la logique m√©tier.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous l'enregistrons. </font><font style="vertical-align: inherit;">En tant qu'informations d'erreur, nous avons besoin du contexte dans lequel elles se sont produites. </font><font style="vertical-align: inherit;">Le probl√®me est qu'avec un tel cadre logique, le contexte est peu susceptible de persister, par cons√©quent, nous devons effectuer un vidage de la m√©moire. </font><font style="vertical-align: inherit;">Un vidage de m√©moire est une chose assez volumineuse, et les erreurs JavaScript ne se produisent pas si rarement, par cons√©quent, c'est une strat√©gie assez co√ªteuse pour les ressources informatiques. </font><font style="vertical-align: inherit;">Nous devons diviser les erreurs en critiques et non ainsi, et ne vider que pour les premi√®res.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seau qui fuit </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une strat√©gie similaire √† celle d√©crite ci-dessus est utilis√©e dans le mod√®le Leaky Bucket. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/afb/44b/eab/afb44beabe8c16cb0595022d8ed59e48.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons des compteurs pour diff√©rents types d'erreurs. Lorsqu'une erreur se produit, un compteur d'erreurs de ce type est incr√©ment√©. Par timeout, ce compteur diminue. Mais si le nombre d'erreurs commence √† descendre de l'√©chelle, le compteur n'a pas le temps de diminuer et, au sens figur√©, d√©borde le bucket, apr√®s quoi on fait un vidage m√©moire. Ensuite, nous travaillons sur l'erreur qui a fait d√©border le compteur. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veuillez noter que le service qui impl√©mente ce mod√®le sera √©galement envelopp√© dans des tactiques, des validations et sera mis √† l'√©chelle. L'architecture se construit donc. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e8d/698/e87/e8d698e870d213a1a1e091c3f1e30cfb.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que signifient les fl√®ches vertes? Diff√©rents services interagissent entre eux via divers protocoles, bases de donn√©es et autres services.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ceux qui veulent en savoir plus sur les mod√®les de tol√©rance aux pannes, le livre Patterns for fault tol√©rant software de Robert S. Hanmer sera utile. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/83b/daf/9a3/83bdaf9a3db2414133b36739ce4fb999.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous recommandons √©galement le livre ¬´Software Architecture in Practice¬ª de Len Bass, Paul Clements, Rick Kazman. </font><font style="vertical-align: inherit;">Vous y d√©couvrirez d'autres attributs de qualit√© et des tactiques pour les suivre.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/244/492/499/244492499902e5c66187daea93b557ac.png"><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemple de dessert </font></font></h2><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cas</font></font></b> <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous voulons offrir aux clients existants des am√©liorations pour la plateforme actuelle. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Environ 400 sites statiques ont d√©j√† √©t√© √©crits sur cette plateforme. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le probl√®me est que c'est cher et long. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La gestion de contenu est √©galement co√ªteuse et longue. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La plateforme est √©crite en Drupal. </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supposons que vous puissiez utiliser les cadres suivants pour r√©soudre ces probl√®mes: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d20/b2f/27f/d20b2f27f8604c3c221d30131c208903.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons d√©j√† trouv√© des parties int√©ress√©es. </font><font style="vertical-align: inherit;">Besoin de d√©finir des objectifs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'objectif le plus global est de satisfaire le client. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'objectif commercial est d'optimiser les co√ªts clients (c'est d√©j√† un objectif int√©ressant pour le client). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les objectifs suivants sont plus priv√©s: r√©duire le temps n√©cessaire pour mettre un produit sur le march√©, r√©duire le temps de gestion du contenu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, les restrictions suivantes sont d√©couvertes:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous devez √©crire dans Drupal, car le client a achet√© une licence et un support depuis un certain temps. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le projet utilise ReactJS et VueJS, et le client souhaite qu'il se poursuive, l'entreprise n'est pas pr√™te √† envisager un autre framework. </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ayant d√©fini des attributs de qualit√©, nous avons d√©couvert: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il est important de laisser la capacit√© de prendre en charge les 400 sites (maintenabilit√©). </font></font><br></li><li>   ,      (testability). <br></li><li>     (re-usability). <br></li><li>    (performance). <br></li><li>      (accessibility). <br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque nous construisons une architecture, nous devons suivre un certain mod√®le. Prenons le mod√®le C4. Plusieurs diagrammes sont construits. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagramme de contexte: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc5/d91/234/bc5d91234504cb2f71a7cf44a4657aa7.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finissez les r√¥les des personnes qui travailleront avec la plateforme. Dans cet exemple, il s'agit des visiteurs, des d√©veloppeurs et des gestionnaires de contenu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous passons au diagramme de conteneur: en </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d46/d30/30d/d46d3030d700fdc68aa7a311f2c75b6a.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction du contexte commercial, il existe un site Web que les utilisateurs visitent. Les d√©veloppeurs travaillent avec le g√©n√©rateur de site, les gestionnaires de contenu travaillent dans le hub de contenu. Nous faisons l'int√©gration avec des syst√®mes tiers dans le processus de mise √† jour de la plateforme. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un diagramme de composants ressemble √† ceci:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/dbd/e73/399/dbde73399d8639ace1867c123c37312c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous voyons que les d√©veloppeurs cr√©ent des th√®mes et des composants, le service de mod√®les fonctionne √©galement pour eux, ce qui agr√®ge ces d√©veloppements. Il existe un point d'int√©gration entre le concentrateur de contenu et le g√©n√©rateur de site. Il existe √©galement un service de mod√®le qui prend les th√®mes, les composants et les connecte aux donn√©es transmises √† partir du concentrateur de contenu.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment acc√©l√©rer le workflow de gestion de contenu? Il est n√©cessaire de permettre aux gestionnaires de contenu de travailler directement avec le module de g√©n√©ration de site. En gardant √† l'esprit toutes les pratiques pr√©c√©dentes, nous ajoutons les approches n√©cessaires au module Template Service. Notez que Drupal est utilis√© uniquement dans le hub de contenu. Nous concluons que pour la g√©n√©ration statique, les frameworks NuxtJS ou Next.js, qui sont √©crits respectivement dans Vue.js et React.js, conviennent. En remplacement des points d'int√©gration, il est avantageux d'utiliser GitHub et les branches, nous arrivons donc √† l'approche JAM. D√©crypt√© en JavaScript, API, Markdown.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f85/e58/f88/f85e58f88a4a629fed4958e55eb5f908.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On peut voir que la pile qu'il a √©t√© d√©cid√© d'utiliser est diff√©rente de l'original. </font><font style="vertical-align: inherit;">D'une part, nous avons utilis√© Node.js et une sorte de framework moderne. </font><font style="vertical-align: inherit;">Nous quitterons Drupal pour la gestion de contenu, mais en l'organisant √† partir de notre syst√®me, nous pourrons int√©grer le nouveau CMS √† l'avenir, ce qui pourrait √™tre plus pratique et plus rapide. </font><font style="vertical-align: inherit;">Ainsi est venue une compr√©hension de Javascript, de l'API, de l'approche Markdown.</font></font><br><br>  <b>Conclusion</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous devez choisir soigneusement la pile technologique finale. </font><font style="vertical-align: inherit;">C'est ce que nous √©crivons dans notre livre de l'architecte.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Histoire finale </font></font></h2><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Case</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Architect a identifi√© toutes les parties prenantes, les exigences, les objectifs et les limites. </font><font style="vertical-align: inherit;">Puis un certain projet a √©t√© r√©alis√©. </font><font style="vertical-align: inherit;">Le d√©veloppement de l'application √©tait normal, mais finalement le projet a √©chou√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi est-ce arriv√©? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le fait est que les d√©veloppeurs du projet n'√©taient pas au courant des exigences, des parties prenantes, des limites et des attributs de qualit√©. </font><font style="vertical-align: inherit;">Le d√©veloppement a √©t√© r√©alis√© exclusivement sous forme de t√¢ches dans le tracker de t√¢ches, ce qui a finalement conduit √† l'effondrement de l'ensemble du projet.</font></font><br><br>  <b>Conclusion</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'architecte doit accompagner le d√©veloppement du projet au stade initial afin de s'assurer que le d√©veloppement est r√©alis√© conform√©ment √† l'architecture qu'il a con√ßue. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/764/e02/aa9/764e02aa9ffe8b6b291258efe292eb49.png"><br><br><h2>  R√©sum√© </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour r√©sumer, nous allons √©crire une liste de choses importantes pour l'architecture. </font><font style="vertical-align: inherit;">Imprimez-le et accrochez-le dans un endroit bien en vue. </font><font style="vertical-align: inherit;">Pour que les navires que vous avez construits restent sur l'eau et naviguent encore mieux dans la bonne direction:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Toute architecture commence par l'identification des parties prenantes. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous devez tenir compte des objectifs commerciaux lors de la conception de l'architecture. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'architecte doit se concentrer sur les exigences non fonctionnelles, en particulier sur les restrictions et les attributs de qualit√©. </font><font style="vertical-align: inherit;">Il doit comprendre quelle doit √™tre l'application qu'il con√ßoit.</font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les tactiques architecturales doivent √™tre dict√©es par des sc√©narios d'utilisation. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous devez choisir soigneusement la pile technologique finale. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il est n√©cessaire d'accompagner le d√©veloppement du projet au stade initial, afin qu'il soit r√©alis√© conform√©ment √† l'architecture con√ßue. </font></font><br></li></ul><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous avez aim√© le rapport, faites attention: du 24 au 25 novembre, un nouveau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HolyJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se tiendra √† Moscou </font><font style="vertical-align: inherit;">, et il y aura √©galement beaucoup de choses int√©ressantes. </font><font style="vertical-align: inherit;">Des informations d√©j√† connues sur le programme sont sur le site, et des billets peuvent y √™tre achet√©s.</font></font></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421787/">https://habr.com/ru/post/fr421787/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421773/index.html">Alors qu'une √©quipe de techniciens a cr√©√© leur entreprise, la saison 3 (a finalement vol√©!)</a></li>
<li><a href="../fr421775/index.html">R√©seau neuronal form√© pour reconna√Ætre la d√©pression par le discours arbitraire d'une personne sans contexte</a></li>
<li><a href="../fr421779/index.html">OceanLotus: nouvelle porte d√©rob√©e, anciens sch√©mas</a></li>
<li><a href="../fr421783/index.html">Cadre Huex Fun State Management</a></li>
<li><a href="../fr421785/index.html">La Californie est au bord de l'abstraction du carbone dans la production d'√©nergie</a></li>
<li><a href="../fr421789/index.html">Faire du backend un "backend" √† nouveau</a></li>
<li><a href="../fr421791/index.html">Probl√®mes √©thiques de l'intelligence artificielle</a></li>
<li><a href="../fr421793/index.html">√Ä la recherche du meilleur ou comment nous avons choisi le r√©seau blockchain pour le projet</a></li>
<li><a href="../fr421795/index.html">D√©cision bas√©e sur les donn√©es sur l'exemple de choix d'une couleur pour la peinture des murs</a></li>
<li><a href="../fr421797/index.html">Pourquoi avez-vous besoin de Splunk? Surveillance de l'infrastructure informatique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>