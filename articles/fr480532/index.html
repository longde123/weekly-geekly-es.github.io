<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèª üÜô ü§µüèº EDA sous un angle diff√©rent üë®üèº‚Äçüíº üë®üèΩ‚Äçü§ù‚Äçüë®üèº üîî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous ne parlerons pas de nourriture, mais d‚Äô analyse exploratoire des donn√©es (EDA ), qui est un pr√©lude obligatoire √† tout ML s√©v√®re. 

 Soyons honn√™...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>EDA sous un angle diff√©rent</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480532/"><img src="https://habrastorage.org/webt/zr/g9/ed/zrg9ed_nsynok9a9aa2st6s0vjo.jpeg" alt="image"><br><br>  Nous ne parlerons pas de nourriture, mais d‚Äô <a href="https://en.wikipedia.org/wiki/Exploratory_data_analysis">analyse exploratoire des donn√©es (EDA</a> ), qui est un pr√©lude obligatoire √† tout ML s√©v√®re. <br><br>  Soyons honn√™tes, le processus est plut√¥t ennuyeux et afin d'obtenir au moins quelques informations significatives sur nos donn√©es, vous devez passer suffisamment de temps √† utiliser activement votre biblioth√®que de visualisation pr√©f√©r√©e. <br><br>  Imaginez maintenant que nous sommes assez paresseux (mais curieux) et suivrons ce postulat tout au long de cet article. <br><a name="habracut"></a><br>  Sur cette base, nous nous posons la question suivante: existe-t-il un outil si d√©licat dans la nature qui permettrait simplement d'appuyer sur CTRL + ENTR√âE dans votre IDE pr√©f√©r√© et d'afficher sur un seul √©cran (sans faire d√©filer vers le bas et d'innombrables facettes microscopiques) une image compl√®te avec des informations utiles sur notre jeu de donn√©es? <br><br>  En m√™me temps, nous gardons √† l'esprit une pens√©e diff√©rente - si un tel instrument existe, il ne remplacera pas l'EDA classique, mais il nous sera d'une grande aide dans les cas o√π vous n'avez pas √† consacrer des heures √† la visualisation pour souligner rapidement les principaux mod√®les de nos donn√©es. <br><br>  La structure de cet article: <br><br><ol><li>  <a href="https://habr.com/ru/post/480532/">Petit pr√©traitement</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Visualisation des pr√©dicteurs</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Discr√©tisation des variables</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Correlationfunnel</a> </li><li>  <a href="https://habr.com/ru/post/480532/">Corr√©lations crois√©es class√©es</a> </li><li>  <a href="https://habr.com/ru/post/480532/">easyalluvial</a> </li></ol><br>  Nous terminons avec l'introduction et prenons comme base un exemple pratique. <br><br><div class="spoiler">  <b class="spoiler_title">Exemple d'approche</b> <div class="spoiler_text">  <sub><i>Au d√©part, je voulais prendre un tableau de donn√©es obscur, mais √† la fin j'ai r√©alis√© que, par exemple, ce ne serait pas tr√®s bon - les mod√®les trouv√©s peuvent sembler peu √©vidents et donc controvers√©s, mais notre objectif est de pr√©parer le tableau avec des algorithmes qui n'ont pas d'informations a priori et nous montreront ce que nous le savons d√©j√†, confirmant ainsi notre viabilit√©.</i></sub> <sub><br></sub> <br></div></div><br>  Le Titanic m'a paru le plus pratique √† titre d'exemple, sa taille n'est pas trop petite comme Iris, il a des variables non informatives, il est bien √©tudi√© et a des pr√©dicteurs clairs et, surtout, une base historique. <br><br>  De plus, j'ai trouv√© un article sur Habr√© o√π l'auteur a effectu√© un EDA plut√¥t m√©ticuleux de cet ensemble de donn√©es et sur la base des photos, j'ai d√©montr√© les r√©sultats.  Ce sera une sorte de r√©f√©rence. <br><br>  Lien vers l'article avec un grand nom pour notre "Baseline_EDA": <br>  <a href="https://habr.com/ru/company/mlclass/blog/270973/">Titanic sur Kaggle: Vous ne lirez pas cet article √† la fin</a> . <br><br>  Afin de ne pas se soucier de t√©l√©charger / lire des fichiers csv depuis le r√©seau, nous capturons imm√©diatement l'ensemble de donn√©es d'origine de CRAN <br><br><pre><code class="plaintext hljs">install.packages("titanic") data("titanic_train",package="titanic")</code> </pre> <br><h1><a name="preprocess"></a>  Bref pr√©traitement </h1><br>  Cet exemple est tellement encercl√© dans le r√©seau par le pr√©traitement de haut en bas que je ne vais pas particuli√®rement engloutir ce sujet, je fais des choses basiques: j'extrais le nom de la gonoratora (titre) comme un pr√©dicteur important et je l'utilise pour combler les √©carts d'√¢ge. <br><br><pre> <code class="plaintext hljs">library(tidyverse) titanic_train %&gt;% str d &lt;- titanic_train %&gt;% as_tibble %&gt;% mutate(title=str_extract(Name,"\\w+\\.") %&gt;% str_replace(fixed("."),"")) %&gt;% mutate(title=case_when(title %in% c('Mlle','Ms')~'Miss', #   title=='Mme'~ 'Mrs', title %in% c('Capt','Don','Major','Sir','Jonkheer', 'Col')~'Sir', title %in% c('Dona', 'Lady', 'Countess')~'Lady', TRUE~title)) %&gt;% mutate(title=as_factor(title), Survived=factor(Survived,levels = c(0,1),labels=c("no","yes")), Sex=as_factor(Sex), Pclass=factor(Pclass,ordered = T)) %&gt;% group_by(title) %&gt;% #  -      mutate(Age=replace_na(Age,replace = median(Age,na.rm = T))) %&gt;% ungroup #             table(d$title,d$Sex)</code> </pre><br><div class="scrollable-table"><table><tbody><tr><th>  titre </th><th>  m√¢le </th><th>  femme </th></tr><tr><td>  Monsieur </td><td>  517 </td><td>  0 </td></tr><tr><td>  Madame </td><td>  0 </td><td>  126 </td></tr><tr><td>  Mlle </td><td>  0 </td><td>  185 </td></tr><tr><td>  Ma√Ætre </td><td>  40 </td><td>  0 </td></tr><tr><td>  Monsieur </td><td>  8 </td><td>  0 </td></tr><tr><td>  Rev </td><td>  6 </td><td>  0 </td></tr><tr><td>  Dr </td><td>  6 </td><td>  1 </td></tr><tr><td>  Dame </td><td>  0 </td><td>  2 </td></tr></tbody></table></div><br><h1><a name="lessinform"></a>  Tous les yaourts ne sont pas √©galement sains ... </h1><br>  Habituellement, au d√©but de l'analyse, je mets de c√¥t√© les variables non informatives (je mets de c√¥t√© et ne supprime pas d√©finitivement, car lorsque j'obtiens le maximum du mod√®le, l'ing√©nierie pour certaines des variables en attente donne un certain pourcentage du gain de qualit√© du mod√®le). <br><br>  Les m√©triques pour √©valuer ¬´l'utilit√©¬ª d'une variable sont freqRatio (le rapport des fr√©quences de la valeur la plus populaire par rapport √† la deuxi√®me valeur en fr√©quence) et percentUnique (puissance ou cardinalit√© - la proportion d'un nombre unique de valeurs par rapport au nombre total de valeurs) <br>  Une aide d√©taill√©e peut √™tre vue √† partir du package caret <br> <code>?caret::nearZeroVar</code> <br> <br><pre> <code class="plaintext hljs">(feat.scan &lt;- caret::nearZeroVar(x = d,saveMetrics = T) %&gt;% rownames_to_column("featName") %&gt;% as_tibble)</code> </pre> <br><img src="https://habrastorage.org/webt/8q/hs/ji/8qhsji8_xsdpbtizf6bqvghdk3a.jpeg" alt="image"><br><br>  Il est plus pratique pour moi de surveiller les variables dans un plan bidimensionnel (en enregistrant les deux axes de sorte que les points ne se superposent pas dans un petit tas en raison de points aberrants). <br>  Je ne me suis jamais demand√© si cette √©tape √©tait l'EDA, mais en √©crivant cet article, j'ai pens√©: nous menons maintenant une analyse exploratoire de l'utilit√© des pr√©dicteurs, leur √©valuation visuelle, alors pourquoi n'est-ce pas l'EDA? <br><br><pre> <code class="plaintext hljs"># install.packages("ggrepel") library(ggrepel) ggplot(feat.scan,aes(x=percentUnique,y=freqRatio,label=featName,col=featName))+ geom_point(size=2)+ geom_text_repel(data = feat.scan,size=5)+scale_x_log10()+scale_y_log10()+theme_bw()</code> </pre><br><img src="https://habrastorage.org/webt/7v/fc/ec/7vfcecjnvcaog5hh93sbziy8ouc.jpeg" alt="image"><br><br>  Nous consid√©rons les pr√©dicteurs aberrants comme non informatifs en termes de puissance (axe X) ou de rapport de fr√©quence (axe Y) et, en cons√©quence, mis de c√¥t√©: <br>  PassengerId  Nom;  Ticket  Cabine <br><br><pre> <code class="plaintext hljs">useless.feature &lt;- c("PassengerId","Name","Ticket","Cabin") d &lt;- d %&gt;% select_at(vars(-useless.feature))</code> </pre><br><h1><a name="discret"></a>  Cet univers est discret </h1><br>  Afin de comprendre comment les biblioth√®ques r√©pertori√©es ci-dessous pr√©parent les donn√©es - dans cette section, nous montrons avec de petits exemples ce qui se passe dans ces biblioth√®ques au stade de la pr√©paration des donn√©es. <br><br>  √Ä la premi√®re √©tape, il est n√©cessaire de regrouper toutes les donn√©es dans un seul type - souvent, les donn√©es d'un m√™me ensemble peuvent √™tre cat√©goriques et num√©riques, de plus, les nombres peuvent avoir des valeurs aberrantes et les donn√©es cat√©gorielles peuvent √™tre des cat√©gories rares. <br><br>  Pour convertir des variables continues en variables cat√©gorielles, nous pouvons d√©composer nos nombres en bacs avec une certaine p√©riode d'√©chantillonnage. <br><br>  L'exemple le plus simple de d√©composition en 5 bacs: <br><br><pre> <code class="plaintext hljs">iris %&gt;% as_tibble %&gt;% mutate_if(is.numeric,.funs = ggplot2::cut_number,n=5)</code> </pre><br><img src="https://habrastorage.org/webt/mz/bf/wb/mzbfwb5-xy8iddrjy7gvh_4mfvk.jpeg" alt="image"><br><br>  Pour obtenir la force et la directivit√© des relations des √©l√©ments individuels entre les pr√©dicteurs, une deuxi√®me astuce est utilis√©e - <a href="https://hackernoon.com/what-is-one-hot-encoding-why-and-when-do-you-have-to-use-it-e3c6186d008f">un encodage √† chaud</a> <br><br><pre> <code class="plaintext hljs">library(recipes) iris %&gt;% as_tibble %&gt;% mutate_if(is.numeric,cut_number,n=5) %&gt;% recipe(x = .) %&gt;% step_dummy(all_nominal(),one_hot = T) %&gt;% prep %&gt;% juice %&gt;% glimpse</code> </pre><br>  Au lieu de 5 pr√©dicteurs, nous en avons maintenant 23, mais binaires: <br><br><img src="https://habrastorage.org/webt/tv/qw/c4/tvqwc4gibltq3lghux0zhjgzwhc.jpeg" alt="image"><br><br>  En g√©n√©ral, les astuces de conversion s'arr√™tent l√†, mais le travail de 2 biblioth√®ques sur 3 pour notre EDA ¬´non classique¬ª commence par ces √©tapes. <br><br>  Ensuite, je pr√©sente la fonctionnalit√© de 3 biblioth√®ques de visualisation: <br><br><ol><li>  <b>Correlationfunnel</b> - montre l'effet des valeurs individuelles des pr√©dicteurs sur une cible (c'est-√†-dire, vous pouvez l'appeler apprentissage supervis√© par l'EDA) </li><li>  <b>Lares</b> - montre l'effet des valeurs des pr√©dicteurs individuels sur les autres valeurs individuelles des autres pr√©dicteurs (c'est-√†-dire, vous pouvez l'appeler apprentissage non supervis√© EDA) </li><li>  <b>easyalluvial</b> - montre la relation cumulative des valeurs group√©es des pr√©dicteurs ¬´X¬ª sup√©rieurs par cible (c'est-√†-dire, vous pouvez l'appeler apprentissage supervis√© par l'EDA) </li></ol><br>  Il est √©vident que leur fonctionnalit√© est diff√©rente, par cons√©quent, en faisant la d√©monstration de ces biblioth√®ques, je citerai les conclusions de l'auteur de l' <a href="https://habr.com/ru/company/mlclass/blog/270973/">article de</a> notre "Baseline_EDA" en fonction de la fonctionnalit√© d√©crite ci-dessus de ce paquet.  (Par exemple, si l'auteur montre la d√©pendance de l'√¢ge √† la survie, je vais ins√©rer une telle citation dans le Correlationfunnel, si l'√¢ge est dans la classe, puis √† Lares, etc.) <br><br>  La premi√®re biblioth√®que est sur sc√®ne. <br><br><h1><a name="corfun"></a>  tunnel de corr√©lation </h1><br>  <a href="https://business-science.github.io/correlationfunnel/">correlationfunnel va acc√©l√©rer l'analyse exploratoire des donn√©es (EDA)</a> <br><img src="https://habrastorage.org/webt/j3/9t/zb/j39tzbul1cekgctjk7znwkdszhu.jpeg" alt="image"><br><br>  La m√©thodologie est bien d√©crite dans la <a href="https://cran.r-project.org/web/packages/correlationfunnel/vignettes/key_considerations.html">vignette de</a> la biblioth√®que; je vais donner un fragment de calcul de la corr√©lation par des valeurs binaires <br><br><img src="https://habrastorage.org/webt/hd/7d/li/hd7dliqgmjdcsufitigzylb7hvy.jpeg" alt="image"><br><br>  La biblioth√®que suppose la pr√©sence d'une cible (variable d√©pendante) dans nos donn√©es et imm√©diatement sur une image montre la force et la direction de la relation et se classe √©galement par ordre d√©croissant de cette force formant un entonnoir visuel (en fait, c'est de l√† que vient le nom). <br><br>  Les fonctions de binarisation int√©gr√©es √† la biblioth√®que vous permettent de r√©duire les petites cat√©gories en Autres. <br><br>  Comme la biblioth√®que ne fonctionne pas avec des variables enti√®res, nous les convertirons en num√©rique et reviendrons sur notre Titanic. <br><br><pre> <code class="plaintext hljs">#install.packages("correlationfunnel") library(correlationfunnel) d &lt;- d %&gt;% mutate_if(is.integer,as.numeric) d %&gt;% binarize(n_bins = 5,thresh_infreq = .02,one_hot = T) %&gt;% #    correlate(target = Survived__yes) %&gt;% plot_correlation_funnel() # "interactive = T" - plotly!</code> </pre><br><img src="https://habrastorage.org/webt/-t/wj/l-/-twjl-woesnakv9rnym9ndugn5i.jpeg" alt="image"><br><br>  Sur l'axe X, nous avons la force et la direction de la corr√©lation, sur l'axe Y, nos pr√©dicteurs sont class√©s par ordre d√©croissant.  Le premier refl√®te toujours l'objectif comme  il a la plus forte corr√©lation avec lui-m√™me (-1; 1). <br><br>  V√©rifions comment les conclusions de ce graphique se chevauchent avec les conclusions de l'auteur de notre "Baseline_EDA". <br><blockquote>  Le graphique suivant confirme la th√©orie selon laquelle plus la classe de cabine des passagers est √©lev√©e, plus les chances de survie sont grandes.  (Par "ci-dessus", je veux dire l'ordre inverse, car la premi√®re classe est plus √©lev√©e que la seconde et, surtout, la troisi√®me.) </blockquote>  L'entonnoir montre que la classe est le troisi√®me pr√©dicteur en termes de force de corr√©lation, et en effet, dans la 3√®me classe, la corr√©lation inverse, dans la 1√®re, le fort positif. <br><blockquote>  Comparez les chances de survie des hommes et des femmes.  Les donn√©es confirment la th√©orie exprim√©e pr√©c√©demment. <br><br>  (En g√©n√©ral, on peut d√©j√† dire que les principaux facteurs du mod√®le seront le sexe du passager) </blockquote><br>  L'entonnoir montre que le sexe du passager est le 2e selon le degr√© de corr√©lation, le sexe f√©minin est corr√©l√© √† la survie, le sexe masculin est corr√©l√© √† la mort. <br><blockquote>  Vous pouvez √©galement tester l'hypoth√®se que les plus jeunes survivent, car  ils se d√©placent plus vite, nagent mieux, etc. <br><br>  Comme vous pouvez le voir, une d√©pendance explicite n'est pas visible ici. </blockquote><br>  L'entonnoir parle vraiment de la faible signification de ce pr√©dicteur (je me souviens que le gonorant / titre contient l'√¢ge, c'est pourquoi l'√¢ge n'est pas si important), mais m√™me ici, l'entonnoir montre qu'il y a plus de chances de survivre dans les cat√©gories ¬´moins l'infini - 20 ans¬ª (c'est-√†-dire les enfants ) et 30-38 (personnes riches, √©ventuellement 1 classe). <br><blockquote>  Introduisons un indicateur tel que le pourcentage de survie et examinons sa d√©pendance √† l'√©gard des groupes qui se sont r√©v√©l√©s √† l'√©tape pr√©c√©dente </blockquote><br>  (le groupe de l'auteur signifie le titre). <br><br>  L'entonnoir confirme pleinement les conclusions de l'auteur <br><blockquote>  Examinons maintenant les informations qui peuvent √™tre obtenues √† partir du nombre de proches sur le navire. <br><br>  Il est tr√®s probable que l'absence de parents, ainsi qu'un grand nombre, affecte n√©gativement la survie. </blockquote><br>  SibSP dans l'entonnoir dit clairement la m√™me chose. <br><br>  Et bien s√ªr, en plus des conclusions de l'auteur, ici vous pouvez voir d'autres sch√©mas, je laisse le plaisir de la contemplation au lecteur <br><br><h1><a name="lrs"></a>  Lares </h1><br>  <a href="https://datascienceplus.com/find-insights-with-ranked-cross-correlations/">Trouvez des informations gr√¢ce aux corr√©lations crois√©es class√©es</a> <br><br><img src="https://habrastorage.org/webt/sd/yh/6g/sdyh6ghnnhtnjid9ay2k5s3d9we.png" alt="image"><br><br>  L'auteur de cette biblioth√®que est all√© encore plus loin - il montre les d√©pendances non seulement sur la cible, mais aussi sur tout. <br><br><blockquote>  Les corr√©lations crois√©es class√©es <u>expliquent non seulement les relations d'une entit√© cible sp√©cifique avec les autres, mais la relation de toutes les valeurs de vos donn√©es</u> dans un format tabulaire facile √† utiliser et √† comprendre. <br><br>  Il convertit automatiquement les colonnes cat√©gorielles en num√©riques avec un encodage √† chaud (1 et 0) et d'autres regroupements intelligents tels que des √©tiquettes ¬´autres¬ª pour les valeurs peu fr√©quentes et les nouvelles fonctionnalit√©s obsol√®tes. </blockquote><br><br>  En utilisant le lien ci-dessus, vous pouvez voir un exemple o√π l'auteur alimente le jeu de donn√©es Star Wars dans son package et montre les d√©pendances trouv√©es, je suis rest√© sur sa page, tr√®s bien. <br><br>  Essayons notre exemple. <br><br><pre> <code class="plaintext hljs"># ,     : # devtools::install_github("laresbernardo/lares") library(lares) corr_cross(df = d,top = 30)</code> </pre><br><img src="https://habrastorage.org/webt/wd/mu/pv/wdmupvkf00yjchynm1mmsj_nxog.jpeg" alt="image"><br><br>  En plus de l'intersection avec les conclusions bas√©es sur des citations, dans Correlationfunnell, nous pr√©sentons quelques citations que nous pouvons voir ici ind√©pendamment de la cible: <br><blockquote>  D'autres mod√®les peuvent √©galement √™tre trouv√©s.  Il existe une corr√©lation n√©gative entre l'√¢ge et la classe, ce qui est probablement d√ª aux passagers plus √¢g√©s qui pourraient plus souvent s'offrir une cabine plus ch√®re. </blockquote><br>  Dans la citation ci-dessus, l'auteur tire une telle conclusion sur l'analyse de corr√©lation de 2 champs au total, mais au vu de One-Hot-Encoding, cela est √©vident √† partir de la forte corr√©lation positive entre Age + P_Class_1. <br><blockquote>  De plus, le prix du billet et la classe sont √©troitement li√©s (coefficient de corr√©lation √©lev√©), ce qui est assez attendu. </blockquote><br>  Troisi√®me ligne ci-dessus: Tarif + P_Classe_1 <br><br>  En plus de recouper les conclusions de l'auteur, ici on peut souligner des choses beaucoup plus int√©ressantes, je laisserai aussi le plaisir de la contemplation au lecteur. <br><br>  En plus de la s√©lection facultative des X id√©es les plus puissantes, vous pouvez √©galement refl√©ter l'image enti√®re et la place de ces points importants dans la masse totale <br><br><pre> <code class="plaintext hljs">corr_cross(df = d,type=2)</code> </pre><br><img src="https://habrastorage.org/webt/us/pa/ud/uspaudtooaflobmfge5tgdi6h6q.jpeg" alt="image"><br><br><h1><a name="alluv"></a>  easyalluvial </h1><br>  <a href="https://www.datisticsblog.com/2018/10/intro_easyalluvial/">Exploration de donn√©es avec des parcelles alluviales</a> <br><br><img src="https://habrastorage.org/webt/gm/xg/fp/gmxgfpjhfzpqgqiulecylpd6fge.gif" alt="image"><br><br>  Ici, comme dans les 2 packages pr√©c√©dents, l'auteur effectue une binarisation des variables num√©riques au d√©but, mais ensuite ses chemins avec ces biblioth√®ques divergent: au lieu de {One-HotEncoding + correlation}, la biblioth√®que pr√©sente le X sup√©rieur des pr√©dicteurs les plus int√©ressants (l'utilisateur d√©cide lesquels transf√©rer) ) par valeurs, formant des flux dont la couleur d√©pend de la cible, et la largeur du flux sur le nombre d'observations dans ce flux. <br><br>  Les variables num√©riques sont d√©compos√©es en cat√©gories HH (High High), MH (Medium High), M (Medium), ML (Medium Low), LL (Low Low) <br><br>  Tout d'abord, prenons les pr√©dicteurs les plus significatifs bas√©s sur le graphique de correlationfunnel: <br><br><pre> <code class="plaintext hljs">cor.feat &lt;- c("title","Sex","Pclass","Fare")</code> </pre><br>  Ensuite, nous faisons un calendrier <br><br><pre> <code class="plaintext hljs"># install.packages("easyalluvial") library(easyalluvial) al &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") add_marginal_histograms(p = al,data_input = d,keep_labels = F)</code> </pre><br><img src="https://habrastorage.org/webt/p5/rd/xd/p5rdxduvi-21s-xhwhvzxh5og88.jpeg" alt="image"><br><br>  Pour les citations de l'auteur, nous redessinons le graphique en utilisant les pr√©dicteurs appropri√©s <br><br><pre> <code class="plaintext hljs">cor.feat &lt;- c("Sex","Pclass","Age") al &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") add_marginal_histograms(p = al,data_input = d,keep_labels = F)</code> </pre><br><img src="https://habrastorage.org/webt/yz/pb/o-/yzpbo-6q9x0relwi6ewtpyqwlke.jpeg" alt="image"><br><br><blockquote>  Par exemple, le graphique suivant montre clairement que les principaux groupes de survivants sont des femmes de premi√®re et deuxi√®me ann√©es de tous √¢ges. </blockquote><br>  Le graphique montre √©galement que les femmes survivantes de 3e ann√©e ne sont pas non plus un petit groupe <br><br><blockquote>  Et parmi les hommes, tous les gar√ßons de moins de 15 ans ont surv√©cu, sauf la troisi√®me classe de service et une petite proportion d'hommes plus √¢g√©s et principalement de la premi√®re classe. </blockquote><br>  Ce qui pr√©c√®de est confirm√©, mais encore une fois, nous voyons les flux d'hommes de classe 3 survivants dans la cat√©gorie d'√¢ge LL, ML. <br><br>  Tout ce qui pr√©c√®de concernait le paquet ¬´easyalluvial¬ª, mais l'auteur a √©crit un deuxi√®me paquet ¬´parcats¬ª qui, en haut de l'intrigue, rend le graphique ci-dessus interactif (comme dans le titre de cette section). <br>  Cela permet non seulement de voir le contexte de l'infobulle, mais aussi de r√©orienter les flux pour une meilleure perception visuelle.  (malheureusement, alors que la biblioth√®que n'est pas tr√®s optimis√©e et qu'elle ralentit sur titanic) <br><br><pre> <code class="plaintext hljs"># install.packages("parcats") library(parcats) cor.feat &lt;- c("title","Sex","Pclass","Fare") a &lt;- d %&gt;% select(Survived,cor.feat) %&gt;% alluvial_wide(fill_by = "first_variable") parcats(p = a,marginal_histograms = T,data_input = d)</code> </pre><br><img src="https://habrastorage.org/webt/bt/bc/c4/btbcc4rkdkc6b6jwh9it_mk1y0a.jpeg" alt="image"><br><br><h2>  Bonus </h2><br>  La biblioth√®que easyalluviale, en plus de l'analyse exploratoire des donn√©es, peut √©galement √™tre utilis√©e comme interpr√®te pour les mod√®les de bo√Æte noire (mod√®les analysant les param√®tres dont on ne peut pas comprendre - par quelle logique le mod√®le donne une r√©ponse bas√©e sur certains pr√©dicteurs). <br><br>  Lien vers l'article de l'auteur: <a href="https://www.datisticsblog.com/2019/04/visualising-model-response-with-easyalluvial/">Visualisez la r√©ponse du mod√®le avec des graphiques alluviaux</a> <br>  Et la particularit√© est que de toutes les biblioth√®ques que j'ai vues, le maximum sur un graphique expliquait la r√©ponse de la bo√Æte noire dans un syst√®me de coordonn√©es pas plus de 2 dimensions (une pour chaque pr√©dicteur), la couleur expliquait la r√©ponse. <br><br>  La biblioth√®que easyalluvial vous permet de faire cela sur plus de 2 pr√©dicteurs en m√™me temps (bien s√ªr, il vaut mieux ne pas se laisser emporter). <br><br>  Par exemple, entra√Ænons une for√™t al√©atoire sur notre tableau de donn√©es et refl√©tons l'explication d'une for√™t al√©atoire √† l'aide de 3 pr√©dicteurs. <br><br><pre> <code class="plaintext hljs">library(ranger) m &lt;- ranger(formula = Survived~.,data = d,mtry = 6,min.node.size = 5, num.trees = 600, importance = "permutation") library(easyalluvial) (imp &lt;- importance(m) %&gt;% as.data.frame %&gt;% easyalluvial::tidy_imp(imp = .,df=d)) #      #  N-     (   .  !)   dspace &lt;- get_data_space(df = d,imp,degree = 3) #     pred = predict(m, data = dspace) alluvial_model_response(pred$predictions, dspace, imp, degree = 3)</code> </pre><br>  De plus, l'auteur a un connecteur pour les mod√®les CARET (je ne sais pas dans quelle mesure cela consid√®re maintenant les tidymodels) <br><br><pre> <code class="plaintext hljs">library(caret) trc &lt;- trainControl(method = "none") m &lt;- train(Survived~.,data = d,method="rf",trControl=trc,importance=T) alluvial_model_response_caret(train = m,degree = 4,bins=5,stratum_label_size = 2.8)</code> </pre><br><img src="https://habrastorage.org/webt/qq/qf/iv/qqqfivwgoucmfoikmwhp9mdwelw.jpeg" alt="image"><br><br><h1>  Conclusion </h1><br>  Encore une fois, je r√©p√®te que je n'appelle pas au remplacement de l'EDA classique, mais je conviens que c'est bien quand il existe une alternative qui fait gagner beaucoup de temps, d'autant plus que les gens sont naturellement assez paresseux, et c'est, comme vous le savez, le moteur du progr√®s :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr480532/">https://habr.com/ru/post/fr480532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr480518/index.html">Tuteur de programmation: pourquoi vous devriez le devenir et comment le faire</a></li>
<li><a href="../fr480520/index.html">Programmation fonctionnelle du point de vue d'EcmaScript. R√©cursivit√© et ses types</a></li>
<li><a href="../fr480526/index.html">Les processeurs Intel crachent une cl√© priv√©e, si vous jouez avec la tension</a></li>
<li><a href="../fr480528/index.html">Pourquoi Facebook vous permettra de transf√©rer des donn√©es utilisateur vers d'autres services</a></li>
<li><a href="../fr480530/index.html">L'IoT n'est pas un jouet pour les enfants. Comment les attaques de pirates sur Internet des objets font peur non seulement aux grandes entreprises, mais aussi aux familles ordinaires</a></li>
<li><a href="../fr480534/index.html">16 conseils de d√©veloppement pour Android dans Kotlin. 2e partie</a></li>
<li><a href="../fr480538/index.html">Quoi de mieux pour les jeux: Intel Optane ou SSD?</a></li>
<li><a href="../fr480540/index.html">Sortie d'Umbraco 8.4: le CMS est encore plus pratique</a></li>
<li><a href="../fr480542/index.html">Sensibilisation √† la s√©curit√© des adultes: comment supprimer une vuln√©rabilit√© de phishing</a></li>
<li><a href="../fr480544/index.html">5 secrets cach√©s en Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>