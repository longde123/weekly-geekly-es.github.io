<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📫 🤦🏽 🍵 Quelques conseils simples mais utiles pour travailler avec des getters dans Vuex 🕌 💃 🚙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vuex fournit des outils pratiques pour travailler avec des données, mais certains développeurs ne les utilisent pas toujours aux fins prévues, ou crée...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quelques conseils simples mais utiles pour travailler avec des getters dans Vuex</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459034/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vuex</a> fournit des outils pratiques pour travailler avec des données, mais certains développeurs ne les utilisent pas toujours aux fins prévues, ou créent des constructions redondantes où il était possible d'écrire plus clairement et de manière succincte, cela se produit également lorsqu'un développeur ne se familiarise qu'avec ces outils.  Cet article fournira quelques directives pour l'organisation des getters que vous pouvez appliquer à votre travail. <a name="habracut"></a></p><br><p>  Les getters font partie du référentiel Vuex, les propriétés calculées, plus spécifiquement.  Ils vous permettent de recevoir, par exemple, des données filtrées par certains paramètres.  Mais certains développeurs prennent littéralement le nom de cet outil et commencent à l'utiliser comme un substitut pour obtenir des données directement de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">état</a> .  D'ici suit la première erreur d'utiliser des getters. </p><br><h3 id="ispolzovanie-getterov-dlya-prostogo-polucheniya-dannyh-iz-hranilischa">  Utilisation de getters pour récupérer facilement les données du stockage </h3><br><p>  Regardons un exemple de code simple: </p><br><pre><code class="javascript hljs">state: { <span class="hljs-attr"><span class="hljs-attr">films</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">' '</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">' 60'</span></span> }, ], }, <span class="hljs-attr"><span class="hljs-attr">getters</span></span>: { <span class="hljs-attr"><span class="hljs-attr">films</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> state.films, },</code> </pre> <br><p>  Cette utilisation des getters est assez courante et c'est mauvais.  Pour accéder à l'état de votre composant, faites simplement une valeur calculée en calcul, par exemple: </p><br><pre> <code class="javascript hljs">computed: { films() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.state.films; }, },</code> </pre> <br><p>  Ou une option encore plus pratique en utilisant mapState: </p><br><pre> <code class="javascript hljs">computed: { ...mapState([<span class="hljs-string"><span class="hljs-string">'films'</span></span>]), },</code> </pre> <br><p>  Adoptez une telle méthode pour obtenir des données, vous ne surchargerez pas votre code avec du code superflu. </p><br><p>  À mon humble avis: beaucoup se mélangent en utilisant mapState et en créant des valeurs calculées qui renvoient un état.  Pour créer un code uniforme, utilisez mapState et les autres outils même pour une valeur, car votre code deviendra plus uniforme et vous pourrez apporter des modifications beaucoup plus rapidement et plus facilement, par exemple, si vous devez afficher une valeur de plus. </p><br><h3 id="sozdavat-getter-dlya-edinstvennogo-sluchaya-ispolzovaniya-filtra">  Créer un getter pour un filtre de cas d'utilisation unique </h3><br><p>  Supposons que vous ayez besoin d'obtenir un film de James Bond, pour certains cas spécifiques, vous pouvez le faire: </p><br><pre> <code class="javascript hljs">getters: { <span class="hljs-attr"><span class="hljs-attr">bondFilm</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> state.films .find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function"> =&gt;</span></span> f.name === <span class="hljs-string"><span class="hljs-string">' '</span></span>) || {}, },</code> </pre> <br><p>  Pas besoin de le faire, il est préférable de se tourner à nouveau vers mapState et de procéder comme suit: </p><br><pre> <code class="javascript hljs">computed: { ...mapState({ <span class="hljs-attr"><span class="hljs-attr">bondFilm</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> state.films .find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f</span></span></span><span class="hljs-function"> =&gt;</span></span> f.name === <span class="hljs-string"><span class="hljs-string">' '</span></span>) || {}, }), },</code> </pre> <br><p>  En fait, vous transférez simplement un filtre spécifique à votre composant là où il est nécessaire, l'exemple est très abstrait, mais je l'ai souvent rencontré en pratique. </p><br><h3 id="sozdavat-gettery-s-parametrami">  Créer des getters avec des paramètres </h3><br><p>  Cette façon de travailler avec les getters est très pratique et courante, mais il ne faut pas oublier que les getters sont des propriétés calculées et mises en cache.  Cela ne signifie pas que vous ne pouvez pas l'utiliser du tout, mais il vaut mieux réfléchir à nouveau si c'est le cas.  Jetez un oeil à un exemple: </p><br><pre> <code class="javascript hljs">getters: { <span class="hljs-attr"><span class="hljs-attr">filmById</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function"> =&gt;</span></span> id =&gt; state.films .find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">film</span></span></span><span class="hljs-function"> =&gt;</span></span> film.id === id) || {}, },</code> </pre> <br><p>  Le fait est qu'avec un tel appel, vous dites en quelque sorte que vous devez à chaque fois recalculer le résultat du getter, puis vous le donner.  S'il est nécessaire d'assembler cette structure, vous pouvez faire quelque chose comme ceci: </p><br><pre> <code class="javascript hljs">getters: { <span class="hljs-attr"><span class="hljs-attr">filmsById</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = {}; state.films.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">film</span></span></span><span class="hljs-function">) =&gt;</span></span> { result[film.id] = film; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }, },</code> </pre> <br><p>  Dans ce cas, le recalcul ne se produira qu'en cas de modification des données, et vous pouvez faire référence à id comme clés de l'objet. </p><br><h3 id="podvedem-nebolshoy-itog">  Pour résumer </h3><br><ul><li>  N'utilisez pas de getters pour une récupération de données simple, pas besoin de compliquer votre code avec des wrappers pour des opérations simples </li><li>  Ne créez pas de getters pour des filtres spécifiques qui ne seront nécessaires qu'une seule fois, l'idée principale des getters est d'obtenir des états dérivés, mais vous n'avez pas besoin de transférer la logique du composant vers la logique de stockage </li><li>  Les getters paramétrés perdent leur propriété principale - la mise en cache, réfléchissez quelques fois avant de les utiliser de cette façon </li><li>  Tirez pleinement parti de mapState, n'oubliez pas que la plupart des tâches spécifiques d'un composant peuvent être effectuées à l'aide de celui-ci </li><li>  Utilisez mapGetters, cela a été dit indirectement, mais l'uniformité vaut mieux que de ne pas l'avoir </li></ul><br><p>  Cet article est écrit pour les développeurs débutants et confus, si vous n'avez pas encore ouvert la documentation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vue</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Vuex</a> , et la première chose que vous avez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regardée</a> les informations sur le problème sur le hub, puis suivez les liens ci-dessus et commencez à lire à partir d'eux, utilisez des conseils de diverses sources après cela. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459034/">https://habr.com/ru/post/fr459034/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459020/index.html">Pourquoi DFSR ne réplique pas certains fichiers et comment y faire face</a></li>
<li><a href="../fr459022/index.html">Communication vidéo dans les yeux: tente de résoudre le problème du manque de contact visuel</a></li>
<li><a href="../fr459024/index.html">Comment nous avons percé le grand pare-feu chinois (partie 3)</a></li>
<li><a href="../fr459028/index.html">Allocation de mémoire statique dans les microcontrôleurs</a></li>
<li><a href="../fr459030/index.html">Un aperçu de la boîte noire - un nouveau système du MIT montrera comment fonctionnent les algorithmes d'apprentissage automatique</a></li>
<li><a href="../fr459038/index.html">Le guidage vocal de la caméra est devenu plus accessible - la solution universelle de suivi vocal SmartCam A12</a></li>
<li><a href="../fr459046/index.html">Comment mettre en œuvre indépendamment (preuve d'existence) en 2 étapes</a></li>
<li><a href="../fr459050/index.html">Module de frappe puissant Vuex</a></li>
<li><a href="../fr459052/index.html">Comment comparer: «voiture incroyable» et «hutte laide», dans une enquête marketing et dans le big data</a></li>
<li><a href="../fr459054/index.html">Carte thermique des clics - comment les utilisateurs se comportent sur le site</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>