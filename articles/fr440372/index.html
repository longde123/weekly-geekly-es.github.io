<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèº üë®üèø‚Äç‚öïÔ∏è ü§πüèª Mon compilateur Pascal et l'art contemporain polonais üèø üëî üì±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Les origines 
 Il y a plusieurs ann√©es, j'ai √©crit un compilateur Pascal. La motivation √©tait simple: √† l'adolescence, j'avais appris de mes premiers ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mon compilateur Pascal et l'art contemporain polonais</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440372/"><h2>  Les origines </h2><br>  Il y a plusieurs ann√©es, j'ai √©crit un compilateur Pascal.  La motivation √©tait simple: √† l'adolescence, j'avais appris de mes premiers manuels de programmation qu'un compilateur √©tait une chose tr√®s sophistiqu√©e.  Cette affirmation est finalement devenue un d√©fi et devait √™tre test√©e par l'exp√©rience. <br><br><img src="https://habrastorage.org/webt/b2/ki/kn/b2kiknbgwl4rcqwjgtbex6ucfn8.jpeg" alt="image"><br>  <i>ha.art.pl</i> <br><br>  Tout d'abord, un compilateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PL / 0</a> simpliste a vu le jour, puis un compilateur Pascal presque enti√®rement fonctionnel pour MS-DOS en est issu.  Ma source d'inspiration √©tait le livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Compiler Construction</a> de Niklaus Wirth, l'inventeur du langage Pascal.  Peu m'importe si les vues de Wirth sont maintenant consid√©r√©es comme obsol√®tes et n'ont aucun lien direct avec le courant dominant de l'informatique, ou si la mode de conception du compilateur a chang√©.  Il suffit de savoir que ses techniques sont toujours simples, √©l√©gantes et - enfin et surtout - <i>tr√®s amusantes</i> , car il est plus attrayant d'analyser une source de programme avec un analyseur de descente r√©cursif manuscrit et de g√©n√©rer le code machine, plut√¥t que de appelez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yaccs</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bisons</a> et tous leurs descendants. <br><br>  Le destin de mon compilateur n'√©tait pas si trivial.  Il a v√©cu deux vies: la premi√®re entre mes mains et la seconde entre les mains d'antiquaires informatiques polonais. <br><a name="habracut"></a><br><h2>  Xd pascal </h2><br>  Mon compilateur nouveau-n√© s'appelait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">XD Pascal</a> .  Il supportait toutes les instructions Pascal sauf <code>goto</code> et <code>with</code> .  Le premier semble difficile √† mettre en ≈ìuvre, car il d√©truirait la structure parfaitement hi√©rarchis√©e du programme.  Ce dernier pourrait rendre ambigu√´ les r√®gles de port√©e simples. <br><br>  Tous les principaux types de donn√©es ont √©galement √©t√© pris en charge.  Au-del√† de la port√©e, il n'y avait que les entiers non sign√©s, les ensembles, les √©num√©rations et les enregistrements de variantes - mais tous ceux-ci ne sont √©videmment pas les n√©cessit√©s quotidiennes.  N√©anmoins, je ne pouvais pas me refuser le plaisir d'introduire des nombres √† virgule flottante et l'arithm√©tique 8087 FPU - c'√©tait l'impact de ma d√©pendance professionnelle aux calculs d'ing√©nierie. <br><br>  Lors de l'impl√©mentation de proc√©dures et de fonctions, j'avais peur que la r√©cursivit√© et le stockage des variables locales sur la pile soient un gros probl√®me.  Cependant, une vraie difficult√© sp√©cifique √† Pascal √©tait avec les sous-programmes imbriqu√©s.  On peut avoir un d√©sir innocent d'acc√©der √† la variable locale d'un sous-programme externe depuis l'int√©rieur.  Cependant, le sous-programme interne n'a pas l'adresse de trame de pile pour celui externe, en d'autres termes, il ne sait pas quelle origine utiliser avec l'offset variable.  Cette adresse doit √™tre transmise au sous-programme interne comme argument cach√© suppl√©mentaire.  Je suppose que c'est cette difficult√© qui a forc√© les concepteurs de C √† abandonner compl√®tement l'imbrication des sous-routines.  Mais Pascal les a toujours, et cette fonctionnalit√© ne peut pas √™tre ignor√©e. <br><br>  Le g√©n√©rateur de code a cr√©√© les ex√©cutables COM les plus simples pour MS-DOS en mode r√©el.  Les instructions machine ont √©t√© g√©n√©r√©es directement, sans assembleur ni √©diteur de liens externes.  J'ai utilis√© des registres 32 bits pour les donn√©es, mais l'adressage est rest√© 16 bits (une paire segment / d√©calage). <br><br>  Le mod√®le de m√©moire √©tait similaire au `` petit '' (si quelqu'un se souvient encore de cette terminologie de l'√®re 16 bits): le code, les donn√©es et la pile occupaient chacun un segment de 64 Ko. <br><br><img src="https://habrastorage.org/webt/do/fp/gt/dofpgtptjrx_eyw_b-pp81ig7dq.png" alt="image"><br>  <i>Utilisation de la m√©moire</i> <br><br>  La g√©n√©ration d'EXE et la commutation des segments √† la vol√©e semblaient √™tre trop difficiles, et les limitations strictes du ¬´petit¬ª mod√®le m'ont forc√© √† dire au revoir √† l'auto-compilation.  J'ai certainement vu des compilateurs auto-compilateurs dont le code cadrait bien dans un seul segment (par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Context</a> ).  Cependant, ils pouvaient rarement faire quelque chose d'utile en plus de cette capacit√© √† se compiler.  Au lieu de cela, je souhaitais rendre mon compilateur adapt√© aux calculs num√©riques et graphiques.  C'est pourquoi j'ai inclus, entre autres exemples, les fractales, la m√©thode de Gauss pour r√©soudre des √©quations lin√©aires, la transform√©e de Fourier rapide et m√™me le filtre de Kalman pour estimer les erreurs du syst√®me de navigation inertielle. <br><br><img src="https://habrastorage.org/webt/jc/ok/xi/jcokximzi3cwbsolsh3wtbomo20.png" alt="image"><br>  <i>Fragment de jeu de Mandelbrot</i> <br><br><img src="https://habrastorage.org/webt/ih/c9/a6/ihc9a64xrqc_alfhse2fwe4jrwo.png" alt="image"><br>  <i>Transformation de Fourier rapide</i> <br><br><img src="https://habrastorage.org/webt/hc/xy/f0/hcxyf0udd1gbkzkwtukw2-gkwis.png" alt="image"><br>  <i>Estimation des erreurs du syst√®me de navigation inertielle</i> <br><br>  Ce que j'ai finalement obtenu √©tait tr√®s similaire √† l'ancien Turbo Pascal 3.0 (sans OOP) et √† l'amateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BeRo Tiny Pascal</a> .  L'auteur de ce dernier a r√©ussi √† l'auto-compiler sous Windows, mais a sacrifi√© l'arithm√©tique √† virgule flottante et de nombreuses subtilit√©s de la grammaire, que je souhaitais conserver.  Parmi les fonctionnalit√©s plus modernes, mon XD Pascal a obtenu les commentaires sur une seule ligne de style Delphi ( <code>//</code> ) et la variable <code>Result</code> . <br><br>  N√©anmoins, depuis sa naissance, mon compilateur a √©t√© marqu√© pour la mort.  Pascal se d√©modait irr√©versiblement, et MS-DOS √©tait devenu archa√Øque bien avant.  Un jour o√π je suis pass√© d'un Windows XP 32 bits √† un Windows 7 64 bits sans machine virtuelle DOS, j'ai consid√©r√© que mon projet √©tait mort. <br><br><h2>  Revival </h2><br>  Puis quelque chose d'√©trange s'est produit.  Apr√®s trois ans d'oubli, une √©quipe de passionn√©s de r√©trocomputing polonais et de fans d'Atari a trouv√© mon compilateur.  Il semble qu'ils ne se soucient pas beaucoup des probl√®mes abstraits comme l'auto-compilation ou la rigueur grammaticale.  Ils avaient simplement besoin d'un outil de programmation pratique pour leur machine pr√©f√©r√©e.  √Ä l'aide de mon projet, ils ont construit leur propre compilateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mad Pascal</a> pour l'architecture 6502.  La grammaire du langage a √©t√© √©tendue, le support a √©t√© ajout√© pour les unit√©s s√©par√©es avec les sections d'interface et d'impl√©mentation, l' <code>goto</code> , les entiers non sign√©s, les ensembles et les √©num√©rations, le code d'assemblage en ligne.  Au lieu du code machine, le code assembleur a √©t√© g√©n√©r√©.  Il a ensuite √©t√© traduit par un assembleur homebrew. <br><br>  L'aspect ext√©rieur du langage est devenu beaucoup plus proche du standard de facto Pascal.  Les internes du compilateur sont quelque peu horribles, les mots r√©serv√©s sont m√©lang√©s avec les noms des sous-programmes standard, mais cela ne d√©range pas les d√©veloppeurs.  Quoi qu'il en soit, l'effort est √©tonnamment viable: pendant trois ans, Mad Pascal a √©t√© r√©guli√®rement mis √† jour, de nombreux jeux y sont √©crits, les auteurs participent chaque ann√©e √† la conf√©rence de retrocomputing <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Silly Venture</a> (le lien peut n√©cessiter un VPN).  Il semble que les traditions Atari soient tr√®s fortes en Pologne. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bFOVFtPFi_I" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Un √©v√©nement notable pour les fans polonais d'Atari s'est produit au printemps 2018: le livre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Robbo.</i></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Solucja</i></a> ( <i>Robbo. Walkthrough</i> ), un exemple de litt√©rature exp√©rimentale, a √©t√© publi√©.  Je dois souligner ici que le jeu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Robbo</i></a> pour Atari, qui a √©t√© publi√© il y a 30 ans, excite toujours les fans polonais plus √¢g√©s et les remplit d'une sorte de joie patriotique.  D'une mani√®re g√©n√©rale, il n'est pas surprenant qu'il soit apparu un livre inspir√© du jeu.  Mais le fait dr√¥le est que 60% du livre, comme le disent les auteurs, est le didacticiel pas √† pas g√©n√©r√© par l'ordinateur Atari lui-m√™me.  Le programme de g√©n√©ration de texte est √©crit en Mad Pascal. <br><br><img src="https://habrastorage.org/webt/sr/oj/qf/srojqfmkyrz87h8mnqvjoehm5ui.jpeg" alt="image"><br>  <i>graczpospolita.pl</i> <br><br>  Il semble que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">certaines personnes</a> consid√®rent le livre comme un excellent exemple de l'art contemporain: <br><blockquote>  Il serait trompeur de traiter ce livre comme un objet de collection pour les fans de <i>Robbo</i> , ou, plus g√©n√©ralement, pour les fans d'Atari.  Nous traitons d'un rare exemple d'interaction entre la culture du jeu vid√©o et la litt√©rature (dans ce cas, la litt√©rature √©lectronique), o√π le point de d√©part est le ¬´jeu¬ª et non la ¬´litt√©rature¬ª.  Pour certains, il s'agit d'un ¬´art pour l'art¬ª sans signification.  Pour d'autres, un tel croisement offre des opportunit√©s et une exp√©rience absolument nouvelles.  Rien ne vous emp√™che de cr√©er une version de <i>Robbo</i> que vous pouvez terminer d'utiliser la ¬´proc√©dure pas √† pas¬ª du livre.  Le livre correspond bien √† ma vision des jeux vid√©o comme de l'art.  Art, dans lequel le joueur peut √™tre √† la fois le destinataire et le cr√©ateur - si pendant le ¬´jeu¬ª il y a un ¬´public¬ª qui regarde le joueur cr√©er sa propre histoire de ¬´jeu¬ª.  Le contenu du livre peut √™tre adapt√© √† un spectacle de performance avec un acteur jouant <i>Robbo en</i> utilisant les √©l√©ments de la ¬´proc√©dure pas √† pas¬ª du livre.  Afin de ne pas rester sans fondement: la performance bas√©e sur <i>Robbo.</i>  <i>Solucja a</i> eu lieu le 11 mai 2018 √† la galerie d'art contemporain <i>Bunker</i> √† Cracovie, lors de la pr√©sentation du livre accompagnant l'exposition <i>Inexhaustibility</i> . </blockquote>  Un spectacle de performance √† Cracovie.  Cela vaut la peine d'avoir √©crit un compilateur. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr440372/">https://habr.com/ru/post/fr440372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr440360/index.html">Slap et production? Pourquoi pas</a></li>
<li><a href="../fr440362/index.html">Le scooter √©lectrique Xiaomi M365 est sensible au piratage avec la possibilit√© de contr√¥ler √† distance</a></li>
<li><a href="../fr440364/index.html">Vous savez kilo, m√©ga et concert. Et ronne et cuecca?</a></li>
<li><a href="../fr440366/index.html">Cycle de vie d'un article sur Habr√©: on √©crit un habraparser</a></li>
<li><a href="../fr440370/index.html">Conditions d'utilisation: 99% des utilisateurs ne les comprennent tout simplement pas</a></li>
<li><a href="../fr440374/index.html">Les fonctions Yandex envoient du courrier</a></li>
<li><a href="../fr440378/index.html">Retour aux microservices avec Istio. 2e partie</a></li>
<li><a href="../fr440382/index.html">200 est-il bon ou mauvais?</a></li>
<li><a href="../fr440386/index.html">Lib√©rer la gestion des erreurs en √©liminant les erreurs</a></li>
<li><a href="../fr440388/index.html">Intervalles: la prochaine √©volution C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>