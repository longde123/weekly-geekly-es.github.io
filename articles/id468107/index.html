<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍭 👨🏾‍🤝‍👨🏽 🐬 Cara membuat model lebih tepat daripada transfermarkt dan tidak memprediksi atau apa yang paling mempengaruhi biaya transfer 🤵🏼 👩🏽‍🤝‍👨🏻 🛌🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya akan mencoba memberi tahu Anda betapa mudahnya mendapatkan hasil yang menarik dengan hanya menerapkan pendekatan yang sepenuhnya standar dari tut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara membuat model lebih tepat daripada transfermarkt dan tidak memprediksi atau apa yang paling mempengaruhi biaya transfer</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468107/"><p>  Saya akan mencoba memberi tahu Anda betapa mudahnya mendapatkan hasil yang menarik dengan hanya menerapkan pendekatan yang sepenuhnya standar dari tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">kursus pembelajaran mesin ke</a> data yang bukan yang paling banyak digunakan dalam Pembelajaran Jauh.  Inti dari postingan saya adalah kita masing-masing, Anda hanya perlu melihat berbagai informasi yang Anda ketahui dengan baik.  Untuk melakukan ini, pada kenyataannya, jauh lebih penting untuk hanya memahami data Anda dengan baik daripada menjadi ahli dalam struktur terbaru dari jaringan saraf.  Artinya, menurut saya, kita berada pada titik emas dalam pengembangan DL, ketika di satu sisi itu sudah menjadi alat yang dapat digunakan tanpa perlu menjadi PhD, dan di sisi lain itu masih penuh dengan area di mana tidak ada yang benar-benar menggunakannya, jika Anda melihat Sedikit lebih jauh dari tema tradisional. </p><br><p><img src="https://habrastorage.org/webt/id/tl/1d/idtl1dxx4ixh6ycstgzi8nsn8ks.jpeg"></p><a name="habracut"></a><br><p>  Membaca artikel dan sambil melihat bagaimana pembelajaran mesin berkembang, Anda dan saya dapat dengan mudah mendapatkan perasaan bahwa kereta ini lewat.  Memang, jika Anda mengambil kursus paling terkenal (misalnya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Andrew Ng</a> ) atau sebagian besar artikel tentang Habré dari komunitas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Open Data Science yang</a> sangat baik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">, Anda</a> dengan cepat menyadari bahwa tidak ada yang dapat dilakukan di sini dari kedalaman memori pengetahuan lembaga dalam matematika yang lebih tinggi, yah, setidaknya beberapa hasil yang waras (bahkan dalam contoh ' <em>mainan</em> ') dapat dicapai hanya setelah beberapa minggu mempelajari teori terry dan berbagai cara penerapannya.  Tetapi seringkali Anda menginginkan yang lain, Anda ingin memiliki alat yang menjalankan fungsinya, yang memecahkan kelas masalah tertentu, sehingga, menerapkannya di bidang Anda, dapatkan hasilnya.  Memang, di area lain semuanya benar-benar demikian, jika Anda, misalnya, menulis permainan dan tugas Anda adalah memastikan transfer informasi dari pemain ke server, maka Anda tidak mempelajari teori grafik, tidak mencari tahu bagaimana mengoptimalkan konektivitas sehingga paket Anda mencapai lebih cepat - Anda mengambil alat (pustaka, kerangka kerja) yang melakukan ini untuk Anda dan fokus pada apa yang unik untuk tugas tertentu (misalnya, jenis informasi apa yang Anda perlukan untuk berpindah-pindah).  Mengapa ini tidak demikian untuk pembelajaran yang mendalam? </p><br><p>  Bahkan, sekarang kita berada di ambang waktu ketika menjadi <em>hampir seperti ini</em> .  Dan untuk diri saya sendiri, saya <em>hampir menemukan</em> alat oh - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">fast.ai.</a>  Perpustakaan yang sangat baik dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">bahkan lebih curam,</a> seluruh prinsip yang baru saja dibangun "top-down": pertama memecahkan masalah nyata, sering pada tingkat akurasi prediksi model State Of The Art, hingga struktur internal perpustakaan dan teori di baliknya. </p><br><div class="spoiler">  <b class="spoiler_title">Tentu saja, semuanya tidak begitu sederhana.</b> <div class="spoiler_text"><p>  Mengantisipasi tuduhan tidak profesionalisme dan kedangkalan pengetahuan saya (yang, tentu saja, lebih benar daripada tidak), saya ingin segera melakukan pemesanan.  Apakah perlu mempelajari teorinya, menonton kuliah yang sangat mendasar itu, mengingat kalkulus matriks, dll.?  Tentu saja.  Dan semakin Anda menyelami topik ini, semakin Anda membutuhkannya dan harus bergantung pada sumber-sumber utama.  Tetapi semakin sadar perendamannya, semakin mudah untuk memahami dengan tepat bagaimana hal-hal mendasar ini mempengaruhi hasilnya.  Inti dari prinsip top-down adalah tepatnya bahwa itu harus dilakukan setelahnya.  Setelah Anda telah menulis sesuatu yang nyata yang dapat Anda tunjukkan kepada teman-teman Anda.  Setelah Anda cukup terjun ke topik dan itu telah membuat Anda terpesona.  Dan teori yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">diketahui</a> akan menyusul Anda, itu hanya disajikan pada saat ketika akan lebih mudah bagi Anda untuk menghubungkannya dengan apa yang telah Anda lakukan.  Sebagai penjelasan mengapa dan bagaimana cara kerjanya. </p><br><p>  Saya lebih yakin bahwa seseorang lebih nyaman dengan pendekatan bottom-up tradisional.  Dan ada baiknya ada dua cara, yang utama adalah kita bertemu di tengah </p></div></div><br><p>  Dengan sekumpulan pengetahuan seperti itu, saya memutuskan untuk menerapkan DL pada suatu topik yang saya sendiri sudah lama tertarik dan melihat apa yang dapat menyebabkannya.  Dan, tentu saja, hal pertama yang muncul di benak saya adalah sepak bola.  Dan ketika saya menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">statistik</a> transfer yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">luar biasa ini</a> pada kaggle, pilihannya menjadi semakin jelas. </p><br><p>  Sedikit tentang data ini.  Mereka berisi informasi tentang siapa dan di mana telah pindah ke sepakbola Eropa selama 10 tahun terakhir.  Ada informasi tentang klub, statistik pemain, liga di mana mereka berpartisipasi, pelatih dan agen, dan banyak lagi (total ada lebih dari seratus bidang yang berbeda).  Data ini sangat menarik, tetapi apakah mungkin untuk menentukan berapa harga pemain dari mereka? </p><br><p><img src="https://habrastorage.org/webt/q9/n8/bb/q9n8bbmosrfwyf0bhzu7pio3o0u.jpeg"></p><br><p>  Jika Anda memikirkannya, maka harga seorang pemain tergantung pada sejumlah besar faktor.  Pada saat yang sama, itu hebat, <strong>dan</strong> saya (jika tidak sebagian besar) bagian mereka tidak dapat diformalkan.  Bagaimana memahami bahwa klub baru saja menjual pemain dengan harga tinggi, membutuhkan penyerang dan cukup siap untuk membayar lebih untuk itu;  bagaimana memahami bahwa pelatih baru telah datang dan perlu memperbarui daftar nama;  Bagaimana memahami bahwa bek utama klub memperhatikan grand dan dia mulai bermain dengan setengah hati, menuntut transfer?  Semua ini pada dasarnya mempengaruhi jumlah transaksi, tetapi tidak disajikan dalam data.  Dari situ, harapan awal saya tentang keakuratan ramalan seperti itu kecil. </p><br><div class="spoiler">  <b class="spoiler_title">Saya seorang programmer palsu</b> <div class="spoiler_text"><p> Pada titik ini, sudah waktunya untuk memasukkan penafian standar bahwa <code>#</code> bukan <code>#</code> , saya tidak menghasilkan uang dengan ini, jadi kode saya sangat buruk, dan kemungkinan besar dapat (dan harus?) Ditulis ulang jauh lebih baik, tetapi karena tugasnya adalah untuk menyelidiki ide dan (tidak ?) Konfirmasikan teorinya, lalu kodenya apa adanya :) </p></div></div><br><h4 id="model">  Model </h4><br><p>  Saya mulai dengan mengecualikan transfer yang lebih murah dari $ 1 juta, yang terlalu kacau.  Kemudian dia membawa semua data ke satu meja besar dengan satu setengah ratus bidang, di mana untuk setiap transfer ada semua informasi yang tersedia tentang dirinya (baik tentang transfer itu sendiri, pemain dan statistiknya, serta tentang klub yang berpartisipasi di dalamnya, liga, dll. ) </p><br><p>  Mari kita lihat langkah-langkah bagaimana saya membuat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">model</a> : </p><br><p>  Setelah kami menyelesaikan semua impor Python dan memuat tabel transfer yang didenormalisasi, hal pertama yang perlu kita tentukan adalah bidang mana yang akan kita pertimbangkan sebagai numerik dan mana yang kategorikal.  Ini adalah topik yang sangat menarik, Anda dapat membicarakannya di komentar, tetapi untuk menghemat waktu, saya hanya menjelaskan aturan yang saya gunakan: Saya, secara default, mempertimbangkan semua bidang yang dikategorikan, kecuali yang diwakili sebagai angka floating-point atau yang jumlah nilainya berbeda cukup besar. </p><br><p>  Dalam konteks ini, misalnya, saya mempertimbangkan tahun kategorisasi transfer, meskipun ini awalnya merupakan angka, karena jumlah nilai yang berbeda kecil di sini (10 - dari 2008 hingga 2018).  Tapi, misalnya, kinerja pemain di musim lalu (yang diwakili oleh jumlah rata-rata golnya per pertandingan) adalah pelampung dan dapat mengambil hampir semua nilai, jadi saya menganggapnya numerik. </p><br><pre> <code class="python hljs">cat_vars_tpl = (<span class="hljs-string"><span class="hljs-string">'season'</span></span>,<span class="hljs-string"><span class="hljs-string">'trs_year'</span></span>,<span class="hljs-string"><span class="hljs-string">'trs_month'</span></span>,<span class="hljs-string"><span class="hljs-string">'trs_day'</span></span>,<span class="hljs-string"><span class="hljs-string">'trs_till_deadline'</span></span>, <span class="hljs-string"><span class="hljs-string">'contract_left_months'</span></span>, <span class="hljs-string"><span class="hljs-string">'contract_left_years'</span></span>,<span class="hljs-string"><span class="hljs-string">'age'</span></span>, <span class="hljs-string"><span class="hljs-string">'is_midseason'</span></span>,<span class="hljs-string"><span class="hljs-string">'is_loan'</span></span>,<span class="hljs-string"><span class="hljs-string">'is_end_of_loan'</span></span>, <span class="hljs-string"><span class="hljs-string">'nat_national_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_position_main'</span></span>, <span class="hljs-string"><span class="hljs-string">'plr_other_positions'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_nationality_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'plr_other_nationality_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_place_of_birth_country_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'plr_foot'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_height'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_player_agent'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_club_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_club_is_first_team'</span></span>, <span class="hljs-string"><span class="hljs-string">'from_clb_place'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_qualified_to'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_is_champion'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_is_cup_winner'</span></span>, <span class="hljs-string"><span class="hljs-string">'from_clb_is_promoted'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_lg_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_lg_country'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_lg_group'</span></span>, <span class="hljs-string"><span class="hljs-string">'from_coach_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'from_sport_dir_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_club_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_club_is_first_team'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_place'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_clb_qualified_to'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_clb_is_champion'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_is_cup_winner'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_is_promoted'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_clb_lg_name'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_lg_country'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_clb_lg_group'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_coach_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'to_sport_dir_name'</span></span>, <span class="hljs-string"><span class="hljs-string">'plr_position_0'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_position_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_position_2'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_name_0'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_grp_0'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_name_1'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_grp_1'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_name_2'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_leag_grp_2'</span></span>) cont_vars_tpl = (<span class="hljs-string"><span class="hljs-string">'nat_months_from_debut'</span></span>,<span class="hljs-string"><span class="hljs-string">'nat_matches_played'</span></span>,<span class="hljs-string"><span class="hljs-string">'nat_goals_scored'</span></span>,<span class="hljs-string"><span class="hljs-string">'from_clb_pts_avg'</span></span>, <span class="hljs-string"><span class="hljs-string">'from_clb_goals_diff_avg'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_pts_avg'</span></span>,<span class="hljs-string"><span class="hljs-string">'to_clb_goals_diff_avg'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_apps_0'</span></span>, <span class="hljs-string"><span class="hljs-string">'plr_apps_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'plr_apps_2'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_made_goals_0'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_conc_gols_0'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_cards_0'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_minutes_0'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_team_points_0'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_made_goals_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_conc_gols_1'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_cards_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_minutes_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_team_points_1'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_made_goals_2'</span></span>, <span class="hljs-string"><span class="hljs-string">'stats_conc_gols_2'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_cards_2'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_minutes_2'</span></span>,<span class="hljs-string"><span class="hljs-string">'stats_team_points_2'</span></span>, <span class="hljs-string"><span class="hljs-string">'pop_log1p'</span></span>)</code> </pre> <br><p>  Kemudian, setelah secara eksplisit menunjukkan apa yang akan kami prediksi - jumlah transfer ( <code>fee</code> ), kami membagi data kami secara acak menjadi 2 bagian yaitu 80% dan 20%.  Pada yang pertama dari mereka, kami akan mengajarkan jaringan saraf kami, di sisi lain - untuk memeriksa keakuratan prediksi. </p><br><pre> <code class="python hljs">ln = len(df) valid_idx = np.random.choice(ln, int(ln*<span class="hljs-number"><span class="hljs-number">0.2</span></span>), replace=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>)</code> </pre> <br><p>  Pada tahap persiapan terakhir, kita perlu membuat pilihan bagaimana kita akan mengukur masuk akal prediksi kita.  Lalu saya memilih bukan metrik paling standar di bagian lokal alam semesta - Median kesalahan persen ( <code>MdAPE</code> ).  Atau, sederhananya, berapa persen (harga absolut dari suatu transfer dapat berbeda dengan urutan besarnya) kemungkinan besar kita akan membuat kesalahan dalam harga transfer yang diambil secara acak.  Sepertinya saya paling dekat dengan apa arti frasa “akurasi sistem prediksi transfer” bagi saya. </p><br><p>  Sekarang saatnya, sebenarnya, untuk mulai mempelajari jaringan. </p><br><pre> <code class="python hljs">data = (TabularList.from_df(df, path=path, cat_names=cat_vars, cont_names=cont_vars, procs=procs) .split_by_idx(valid_idx) .label_from_df(cols=dep_var, label_cls=FloatList, log=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) .databunch(bs=BS)) learn = tabular_learner(data, layers=layers, ps=layers_drop, emb_drop=emb_drop, y_range=y_range, metrics=exp_mmape, loss_func=MAELossFlat(), callback_fns=[CSVLogger]) learn.fit_one_cycle(cyc_len=cycles, max_lr=max_lr, wd=w_decay)</code> </pre> <br><h4 id="tochnost-predskazaniy">  Akurasi prediksi </h4><br><p><img src="https://habrastorage.org/webt/-z/kl/zj/-zklzjwczjcogqhqq93hrxjcfc8.png"></p><br><p>  <code>Validation Error = 0.3492</code> berarti bahwa setelah pelatihan tentang kumpulan data baru ( <code>validation set</code> , <code>validation set</code> ), model rata-rata (median) adalah 34% keliru relatif terhadap harga transfer riil.  Dan kami mendapatkannya hanya sebagai hasil dari beberapa baris kode yang diambil dari tutorial. </p><br><p>  34% kesalahan, apakah banyak atau sedikit?  Semuanya relatif.  Satu-satunya sumber yang sebanding, data yang dapat diambil sebagai " <em>prediksi</em> " jumlah transfer, tentu saja adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">transfermarkt</a> .  Untungnya, ada bidang dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">data dari kaggle</a> yang menunjukkan bagaimana situs ini memberi peringkat pemain pada saat transfer, dan ini dapat dibandingkan.  Perlu dicatat di sini bahwa transfermarkt tidak pernah mengklaim bahwa <code>market value</code> mereka adalah kemungkinan harga transfer.  Sebaliknya, mereka menekankan bahwa itu lebih merupakan " <em>nilai jujur</em> " dari satu atau pemain lain.  Dan berapa banyak uang yang klub akan bayar untuk itu dalam situasi tertentu adalah hal yang sangat individual dan dapat berfluktuasi dalam satu arah atau lainnya dalam batas yang sangat luas.  Tapi ini yang terbaik yang kita miliki, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">mari kita bandingkan</a> . </p><br><p><img src="https://habrastorage.org/webt/an/jz/4l/anjz4lvbdxlbqy5s26q8gd5_vig.png"></p><br><p>  Kesalahan transfermarkt - <strong>35%</strong> , model kami - <strong>35%</strong> .  Sangat aneh dan, jujur, sangat mencurigakan. <br>  Pada titik ini, saya mengusulkan untuk berpikir lagi.  Sebuah situs dengan sejarah besar, dibuat hanya untuk menunjukkan 'nilai' pemain, yang bergantung pada kekuatan penuh dari efek kerumunan (itu memperoleh nilai dari peringkat pengunjung biasa dan profesional pasar) dan pengetahuan para ahli di satu sisi, dan model, yang tidak tahu apa-apa tentang sepak bola, tidak melihat apa pun kecuali data yang kami berikan (dan di luar data ini di dunia nyata, masih ada banyak hal yang dipertimbangkan oleh orang dengan transfermarkt), di sisi lain, mereka <strong>menunjukkan kesalahan yang sama</strong> .  Selain itu, model kami juga memungkinkan memprediksi harga sewa pemain, yang nilai <code>market value</code> , untuk alasan yang jelas, tidak ditampilkan (dengan memperhitungkan transaksi tersebut, hasil dari transfermarkt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">bahkan lebih buruk</a> ). </p><br><p>  Jujur, saya masih berpikir bahwa saya memiliki semacam kesalahan di sini, semuanya terlalu bagus untuk menjadi kenyataan.  Namun, mari kita melangkah lebih jauh. </p><br><p>  Cara mudah untuk menguji diri sendiri adalah dengan mencoba menyamakan prediksi dari 2 sumber (model dan transfermarkt).  Jika prediksi benar-benar independen satu sama lain dan tidak ada kesalahan yang mengganggu, maka hasilnya akan membaik. </p><br><p><img src="https://habrastorage.org/webt/uu/f0/ut/uuf0uts7ak4xrbr95efffferqvu.png"></p><br><p>  Memang, rata-rata perkiraan mengurangi kesalahan prediksi menjadi 32% (!).  Ini mungkin tampak sedikit, tetapi kita harus memahami bahwa kita memfilter lebih banyak informasi dari data, yang sangat diperas. </p><br><p>  Tapi apa yang akan kita lakukan selanjutnya, menurut pendapat saya, bahkan lebih mengejutkan dan menarik, meskipun itu di luar cakupan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">tutorial fast.ai.</a> </p><br><h4 id="feature-importance">  Penting fitur </h4><br><p>  Jaringan saraf, tidak untuk mengatakan bahwa itu benar-benar tidak layak, sering dianggap sebagai "kotak hitam".  Kita tahu data apa yang bisa kita letakkan di sana, kita bisa mendapatkan prediksi model, kita bahkan bisa menilai seberapa besar prediksi itu benar.  Tetapi kita tidak dapat menjelaskan dengan kriteria apa model “membuat” keputusan ini atau itu.  Struktur internal jaringan itu sendiri sangat kompleks, dan yang lebih penting, non-linear, sehingga tidak mungkin untuk secara langsung melacak seluruh rantai pengambilan keputusan dan menarik kesimpulan yang signifikan dari dunia nyata dari sana.  Tapi sungguh ingin.  Saya ingin memahami apa yang paling mempengaruhi jumlah transfer. </p><br><p>  Ya, kami tidak akan naik ke dalam jaringan.  Tapi apa arti penting setiap bidang, sebut saja <strong>Fitur Pentingnya</strong> (FI)?  Salah satu opsi untuk memahami 'pentingnya' adalah menghitung berapa banyak hal akan menjadi lebih buruk jika kita tidak memiliki bidang ini.  Dan inilah tepatnya yang bisa kita ukur.  Kami sekarang memiliki alat yang memberikan prediksi pada set data apa pun.  Jadi, jika kita hanya menghitung seberapa besar kesalahan prediksi akan meningkat ketika kita mengganti data acak di lapangan, maka kita bisa memperkirakan seberapa besar (bidang) itu mempengaruhi hasil akhir, yang berarti betapa pentingnya itu.  Untuk tetap berada dalam distribusi data yang nyata, bidang tersebut akan diisi tidak hanya dengan angka acak, tetapi dengan nilai campuran acak (yaitu, kami hanya akan mencampur kolom, misalnya, 'tahun transfer', dalam tabel asli).  Untuk kesetiaan, proses ini dapat dilakukan beberapa kali untuk setiap bidang dengan rata-rata hasilnya.  Semuanya cukup sederhana.  Sekarang mari kita lihat bagaimana hal ini memberikan hasilnya: </p><br><p><img src="https://habrastorage.org/webt/ou/s8/4x/ous84xjkamb1mtigicrbsublki8.png"></p><br><p>  Naluriku berkata, "Ya dan tidak!" </p><br><p>  Di satu sisi, bidang yang Anda harapkan ada di atas: pelatih tim dari mana dan ke mana pemain pergi ( <code>from_coach_name</code> , <code>to_coach_name</code> ), klub-klub itu sendiri yang berpartisipasi dalam transfer ( <code>from_club_name</code> , <code>to_club_name</code> ), ketenaran agen ( <code>plr_player_agent</code> ), ketenarannya di jejaring sosial ( <code>pop_log1p</code> ) dll.  Tetapi di sisi lain ... Secara intuitif, sepertinya nama-nama pelatih seharusnya tidak memiliki bobot lebih dalam harga transfer daripada, misalnya, klub itu sendiri (kami tahu betul bahwa Benfica yang kondisional mampu menjual pemainnya dengan mahal).  Apakah merek pelatih lebih kuat mempengaruhi harga daripada merek klub.  Apakah kedatangan Mancini bersyarat begitu banyak memaksa klub untuk membayar lebih?  Apa itu, kasus ketika data memberi kita informasi baru, sedikit berlawanan dengan intuisi, atau hanya kesalahan dalam model? </p><br><p>  Mari kita perbaiki.  Dengan melihat dari dekat grafik, mata dengan cepat menempel pada hal yang aneh.  Tepat di bawah pusat ada 2 <code>trs_year</code> dan bidang <code>season</code> di <code>trs_year</code> , mereka mewakili tahun transfer dan musim di mana transisi akan dilakukan (secara umum, mereka mungkin tidak bertepatan, meskipun ini tidak sering terjadi).  Pertama, tampaknya mereka harus lebih tinggi, kita tahu berapa banyak harga untuk pemain sepak bola telah meningkat dalam beberapa tahun terakhir, dan kedua, mereka jelas memaksudkan hal yang sama.  Apa yang harus dilakukan?  Ringkas saja pentingnya mereka?  Bukan fakta bahwa ini bisa dilakukan!  Tapi yang bisa kita lakukan adalah menerapkan pendekatan yang sama (menggabungkan nilai) tidak secara terpisah untuk dua bidang ini, tetapi sebagai sebuah kelompok.  Artinya, ukur bagaimana kesalahan akan berubah jika ada nilai acak di 2 kolom ini sekaligus.  Yah, karena kita telah melakukan ini selama bertahun-tahun, kita perlu melihat apakah kita memiliki bidang lain yang sama-sama 'terhubung'. </p><br><p>  Misalnya, untuk klub, kami memiliki beberapa parameter: klub itu sendiri ( <code>club_name</code> ), serta serangkaian informasi tentangnya - dari liga, negara, dll.  ( <code>club_is_first_team</code> , <code>clb_lg_name</code> , <code>clb_lg_country</code> , <code>clb_lg_group</code> ).  Hanya dalam beberapa kasus kami tertarik untuk mengetahui seberapa besar pengaruhnya terhadap harga, misalnya, negara tempat pemain pergi secara terpisah ( <code>clb_lg_country</code> ), paling sering penting bagi kami untuk memahami berapa berat total bidang 'klub', yang sudah ada di negara tertentu, liga, dll. . </p><br><p>  Dengan demikian, kita dapat menggabungkan semua bidang menjadi grup sesuai dengan konten semantik.  Ini akan membantu kami hanya sebagai pengetahuan tentang area subjek dan akal sehat, serta 'kedekatan' fitur yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">dihitung</a> .  Yang terakhir hanya menunjukkan bagaimana bidang berkorelasi satu sama lain, yaitu, seberapa mungkin untuk menganggapnya sebagai satu kelompok. </p><br><p>  Menerapkan pendekatan ini, kami memperoleh grafik yang lebih intuitif tentang pentingnya bidang: </p><br><p><img src="https://habrastorage.org/webt/gu/mc/ma/gumcmafyqlu-ognduuxghf02xww.png"></p><br><p>  Itu dia.  Tepatnya klub apa yang dibeli pemain yang paling memengaruhi jumlah transfer, dengan margin yang sangat bagus.  Hi Man City, Barcelona, ​​Zenit dan, misalnya, Benfica yang sama (setelah semua, " <em>sangat mempengaruhi</em> " hal yang sama tentang fakta bahwa beberapa klub, sebaliknya, dapat membeli pemain berkualitas lebih murah daripada "pasar").  Sepertinya bagi saya bahwa hal yang paling menarik dalam bekerja dengan data adalah bahwa ketika diperoleh, kesimpulannya jelas di satu sisi (well, saya ragu bahwa pembeli klub memiliki pengaruh paling kuat pada jumlah transfer), dan di sisi lain, itu agak mengejutkan (dan kandidat untuk kandidat pertama) tempat, secara intuitif, bisa agak, dan pemisahan dari yang kedua sepertinya tidak begitu signifikan) </p><br><p>  Masih banyak hal menarik untuk dijelajahi.  Misalnya, nama pelatih dari mana pemain dibeli, dari sudut pandang model, masih lebih penting daripada klub ... Biarkan perbedaannya sangat berkurang.  Penjelasan logis untuk ini dapat ditemukan pada prinsipnya (meskipun kadang-kadang dapat ditemukan untuk apa pun).  Ada pelatih (Guardiola, Klopp, Benitez, Berdyev) yang mematuhi ideologi tertentu dari permainan di klub yang berbeda, yang lebih baik mengungkapkan atau sebaliknya membuat posisi tertentu di lapangan kurang cerah, dan visibilitas pemain sangat mempengaruhi harganya.  Tentang klub, bisa dikatakan, hampir mustahil.  Dan fakta bahwa kita melihat pelatih yang tidak secara radikal menyimpang dari prinsip permainan mereka jauh lebih sering daripada klub yang mengganti pelatih, tetapi tetap berada dalam filosofi yang sama (misalnya, begitu saja, kecuali bahwa Ajax muncul di pikiran, dan Barcelona sangat dipertanyakan), berbicara tentang bahwa, mungkin, manajer tertentu mengungkapkan pemain lebih stabil daripada klub.  Meskipun di sini saya tidak akan berpegang teguh pada pernyataan saya. </p><br><p>  Dari indikator statistik murni, jumlah tertinggi hanyalah jumlah waktu yang dihabiskan pemain di lapangan tahun lalu dalam kompetisi utamanya ( <code>stats_minutes_0</code> ).  Ini hanya, cukup logis, karena seberapa banyak pemain ini menjadi "utama" di klubnya musim lalu sepertinya indikator statistik yang lebih universal dari keberhasilannya daripada yang lain - misalnya, jumlah gol yang dicetak atau kartu yang diterima. </p><br><p>  Popularitas pemain ( <code>pop_log1p</code> ) menutup grup ini dari 8 parameter paling penting.  Perlu diingat bahwa data yang kami sajikan selama 10 tahun terakhir.  Saya pikir pentingnya bidang ini akan lebih tinggi jika kita mempertimbangkan 5 tahun terakhir, dan untuk nilai rata-rata selama dekade terakhir ini adalah hasil yang sepenuhnya dapat dimengerti, terutama jika kita memperhitungkan jarak dari tempat berikutnya. </p><br><p>  Nah, hal terakhir yang ingin saya perhatikan adalah pentingnya bidang agen ( <code>plr_player_agent</code> ).  Saya akan meninggalkan ini tanpa komentar, karena jika Anda dapat mematahkan margin salinan dalam perselisihan tentang (un) kebutuhan agen, maka tidak ada keraguan tentang tingkat pengaruhnya terhadap pasar transfer modern (walaupun model menyarankan untuk tidak melebih-lebihkan itu). </p><br><p><img src="https://habrastorage.org/webt/q2/al/i5/q2ali5al_krkgtsmdkn_mw5i6na.jpeg"></p><br><p>  Ngomong-ngomong, mungkin hal yang paling menarik dalam metode analisis ini adalah aksesibilitasnya: tidak perlu membuat <em>model</em> " <em>ideal</em> " untuk mendapatkan informasi tentang pentingnya parameter.  Dalam banyak kasus, itu cukup bahwa itu hanya memprediksi setidaknya, secara statistik berbeda secara signifikan dari melempar koin, dan Anda akan mendapatkan hasil yang sering berisi wawasan yang menarik atau memberi tahu Anda dari sisi baru mana Anda dapat melihat data. </p><br><p>  Maka sudah saatnya untuk membulatkan, agar tidak menambah begitu banyak teks.  Dalam perpisahan, saya ingin sekali lagi mendesak semua yang tertarik pada topik untuk mencoba (yang terbaik, menurut pendapat saya, untuk pemula) kursus Pembelajaran Mendalam - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">fast.ai</a> dan terapkan pengetahuan yang diperoleh dalam 'bidang keahlian Anda', kemungkinan Anda akan menjadi yang pertama di sana :) </p><br><p>  Dan jika Anda menyukainya, saya akan mencoba untuk menguasai bagian kedua dari teks tentang percobaan saya di mana model menggunakan alat yang sama kuatnya - <strong>Ketergantungan Partial</strong> akan memberi tahu Anda: klien agensi mana yang terbaik untuk menjadi pemain sepak bola, klub mana yang memiliki kebijakan transfer paling efektif, yang mana pelatih terbaik meningkatkan biaya pemain (selain calon yang jelas, ada banyak 'merek' yang tidak begitu dipromosikan yang jelas layak untuk dilihat lebih dekat) dan banyak lagi. </p><br><p>  Bagian 2 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Model transfer sepakbola: menggali lebih dalam</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id468107/">https://habr.com/ru/post/id468107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id468089/index.html">Redefinisi Berbasis Edisi: apakah mungkin dalam produksi?</a></li>
<li><a href="../id468091/index.html">RUU tentang penciptaan database tunggal dengan data warga diadopsi di Duma Negara dalam bacaan pertama</a></li>
<li><a href="../id468093/index.html">Nitrat dalam produk: toko Swiss vs toko Rusia vs pondok musim panas</a></li>
<li><a href="../id468097/index.html">Microsoft Edge - Generic XSS</a></li>
<li><a href="../id468099/index.html">C / C ++ dari Python (CFFI, pybind11)</a></li>
<li><a href="../id468109/index.html">Mereka mengatakan Samara adalah kota orang-orang Jawa, tetapi kami mengendarainya dengan PHP mit</a></li>
<li><a href="../id468111/index.html">PSD2 - tendangan untuk bank</a></li>
<li><a href="../id468117/index.html">Ethernet, FTP, Telnet, HTTP, Bluetooth - dasar-dasar analisis lalu lintas. Memecahkan masalah pada jaringan dengan r0ot-mi. Bagian 1</a></li>
<li><a href="../id468121/index.html">Bagaimana saya tidak menjadi programmer pada usia 35</a></li>
<li><a href="../id468125/index.html">Animasi dalam Asymptote</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>