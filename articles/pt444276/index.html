<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¥üèæ ü§Ωüèæ üêû Introdu√ß√£o √† arquitetura de fibra reativa üî∂ ‚ôæ üëñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Trago √† sua aten√ß√£o uma tradu√ß√£o do artigo "React Fiber Architecture", de Andrew Clark . 
 Entrada 


 O React Fiber √© uma implementa√ß√£o pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introdu√ß√£o √† arquitetura de fibra reativa</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444276/"><p> Ol√° Habr!  Trago √† sua aten√ß√£o uma tradu√ß√£o do artigo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"React Fiber Architecture",</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Andrew Clark</a> . </p><br><h2 id="vstuplenie">  Entrada </h2><br><p>  O React Fiber √© uma implementa√ß√£o progressiva do principal algoritmo React.  Este √© o culminar de um estudo de dois anos pela equipe de desenvolvimento do React. </p><br><p>  O objetivo do Fiber √© aumentar a produtividade ao desenvolver tarefas como anima√ß√£o, organizar elementos em uma p√°gina e mover elementos.  Sua principal caracter√≠stica √© a renderiza√ß√£o incremental: a capacidade de dividir o trabalho de renderiza√ß√£o em unidades e distribu√≠-las entre v√°rios quadros. </p><br><p>  Outros recursos importantes incluem a capacidade de pausar, cancelar ou reutilizar as atualiza√ß√µes recebidas da √°rvore DOM, a capacidade de priorizar diferentes tipos de atualiza√ß√µes e tamb√©m a coordena√ß√£o de primitivas. </p><a name="habracut"></a><br><p>  <em>Antes de ler este artigo, recomendamos que voc√™ se familiarize com os princ√≠pios b√°sicos do React:</em> </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reagir componentes, elementos e inst√¢ncias</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reconcilia√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Reagir - Conceitos Te√≥ricos B√°sicos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Princ√≠pios de design</a> </li></ul><br><h2 id="obzor">  Revis√£o </h2><br><h4 id="chto-takoe-sverka-reconciliation">  O que √© reconcilia√ß√£o? </h4><br><p>  <strong>Reconcilia√ß√£o</strong> √© um algoritmo React usado para distinguir uma √°rvore de elementos da outra para determinar as partes que precisam ser substitu√≠das. </p><br><p>  <strong>Uma atualiza√ß√£o</strong> √© uma altera√ß√£o nos dados usados ‚Äã‚Äãpara renderizar um aplicativo React.  Isso geralmente √© o resultado da chamada do m√©todo setState;  O resultado final da renderiza√ß√£o do componente. </p><br><p>  A id√©ia principal da API do React √© pensar nas atualiza√ß√µes como se elas pudessem levar a uma renderiza√ß√£o completa do aplicativo.  Isso permite que o desenvolvedor aja de maneira declarativa e n√£o se preocupe com a racionalidade da transi√ß√£o do aplicativo de um estado para outro (de A para B, B para C, C para A etc.). </p><br><p>  Em geral, a renderiza√ß√£o de todo o aplicativo para cada altera√ß√£o funciona apenas nos aplicativos mais tradicionais.  No mundo real, isso afeta negativamente o desempenho.  O ato inclui otimiza√ß√µes que criam uma visualiza√ß√£o de renderiza√ß√£o completa sem afetar uma grande parte do desempenho.  A maioria dessas otimiza√ß√µes envolve um processo chamado reconcilia√ß√£o. </p><br><p>  A reconcilia√ß√£o √© um algoritmo por tr√°s do que estamos acostumados a chamar de "DOM virtual".  A defini√ß√£o √© mais ou menos assim: quando voc√™ renderiza um aplicativo React, a √°rvore de elementos que descreve o aplicativo √© gerada na mem√≥ria reservada.  Essa √°rvore √© ent√£o inclu√≠da no ambiente de renderiza√ß√£o - usando o exemplo de um aplicativo de navegador, √© convertida em um conjunto de opera√ß√µes DOM.  Quando o estado do aplicativo √© atualizado (geralmente chamando setState), uma nova √°rvore √© gerada.  A nova √°rvore √© comparada com a anterior para calcular e habilitar exatamente as opera√ß√µes necess√°rias para redesenhar o aplicativo atualizado. </p><br><p>  Embora o Fiber seja uma implementa√ß√£o pr√≥xima do reconciliador, o algoritmo de alto n√≠vel explicado na documenta√ß√£o do React ser√° praticamente o mesmo. </p><br><h4 id="klyuchevye-ponyatiya">  Conceitos chave: </h4><br><ul><li>  Diferentes tipos de componentes sugerem a gera√ß√£o de √°rvores substancialmente diferentes.  O React n√£o tentar√° compar√°-los, mas simplesmente substitua completamente a √°rvore antiga. </li><li>  As listas s√£o distinguidas usando chaves.  As chaves devem ser "persistentes, previs√≠veis e √∫nicas". </li></ul><br><h2 id="sverka-protiv-renderinga">  Reconcilia√ß√£o vs. renderiza√ß√£o </h2><br><p>  A √°rvore DOM √© um dos ambientes que o React pode desenhar, o restante pode ser atribu√≠do √†s visualiza√ß√µes nativas do iOS e Android usando o React Native (√© por isso que o Virtual Dom √© um nome pouco inapropriado). </p><br><p>  A raz√£o pela qual o React suporta tantos objetivos √© porque o React √© constru√≠do para que a reconcilia√ß√£o e a renderiza√ß√£o sejam fases separadas.  O reconciliador, trabalhando, calcula quais partes da √°rvore foram alteradas; o renderizador posteriormente usa essas informa√ß√µes para atualizar a √°rvore renderizada anteriormente. </p><br><p>  Essa separa√ß√£o significa que o React DOM e o React Native podem usar seus pr√≥prios mecanismos de renderiza√ß√£o ao usar a mesma ferramenta de cache, localizada no React Core. </p><br><p>  A fibra √© uma implementa√ß√£o reprojetada do algoritmo de reconcilia√ß√£o.  Ele tem uma rela√ß√£o indireta com a renderiza√ß√£o, enquanto os mecanismos de renderiza√ß√£o (renderiza√ß√µes) podem ser alterados para suportar todas as vantagens da nova arquitetura. </p><br><p>  <strong>O planejamento</strong> √© um processo que determina quando o trabalho deve ser conclu√≠do. </p><br><p>  <strong>Trabalho</strong> - todos os c√°lculos que devem ser realizados.  O trabalho geralmente √© o resultado de uma atualiza√ß√£o (por exemplo, chamando setState). </p><br><p>  Os princ√≠pios da arquitetura React s√£o t√£o bons que s√≥ podem ser descritos com esta cita√ß√£o: </p><br><blockquote>  Na implementa√ß√£o atual do React, ele percorre a √°rvore recursivamente e chama as fun√ß√µes de renderiza√ß√£o em toda a √°rvore atualizada em um √∫nico tique (16 ms).  No entanto, no futuro, ele poder√° cancelar algumas atualiza√ß√µes para evitar saltos de quadros. <br>  Este √© um t√≥pico frequentemente discutido sobre o React Design.  Algumas bibliotecas populares implementam uma abordagem "push", onde os c√°lculos s√£o realizados quando novos dados est√£o dispon√≠veis.  No entanto, o React segue a abordagem pull, onde os c√°lculos podem ser cancelados quando necess√°rio. <br>  O React n√£o √© uma biblioteca para processamento de dados generalizados.  Esta √© uma biblioteca para criar interfaces de usu√°rio.  Pensamos que ele deveria ter uma posi√ß√£o √∫nica na aplica√ß√£o para determinar quais c√°lculos s√£o adequados e quais n√£o s√£o no momento. <br>  Se houver algo nos bastidores, podemos desfazer toda a l√≥gica associada a ele.  Se os dados chegarem mais r√°pido que a taxa de renderiza√ß√£o de quadros, podemos combinar as atualiza√ß√µes.  Podemos aumentar a prioridade do trabalho resultante da intera√ß√£o do usu√°rio (como a apar√™ncia de uma anima√ß√£o quando um bot√£o √© pressionado) contra trabalhos menos importantes em segundo plano (renderiza√ß√£o de novo conte√∫do carregado do servidor) para impedir downloads de quadros. </blockquote><br><h4 id="klyuchevye-ponyatiya-1">  Conceitos chave: </h4><br><ul><li>  Nas interfaces do usu√°rio, n√£o √© importante que cada atualiza√ß√£o seja aplicada imediatamente;  de fato, esse comportamento ser√° sup√©rfluo, contribuir√° para a queda de quadros e a deteriora√ß√£o do UX. </li><li>  Diferentes tipos de atualiza√ß√µes t√™m prioridades diferentes - as atualiza√ß√µes de anima√ß√£o devem terminar mais r√°pido do que, por exemplo, atualizar o armazenamento de dados. </li><li>  Uma abordagem baseada em envio exige que o aplicativo (voc√™, o desenvolvedor) decida como planejar o trabalho.  Uma abordagem baseada em pull permite que a estrutura tome decis√µes por voc√™. </li></ul><br><p>  Reagir no momento n√£o tem a vantagem de planejar uma extens√£o significativa;  os resultados da atualiza√ß√£o para toda a sub√°rvore ser√£o desenhados imediatamente.  Selecionar cuidadosamente os elementos no algoritmo React do kernel para aplicar o agendamento √© a principal ideia do Fiber. </p><br><h2 id="chto-zhe-takoe-fiber">  O que √© fibra? </h2><br><p>  Discutiremos o cora√ß√£o da arquitetura React Fiber.  A fibra √© uma abstra√ß√£o de n√≠vel inferior sobre o aplicativo do que os desenvolvedores est√£o acostumados a pensar.  Se voc√™ considerar suas tentativas de entend√™-lo sem esperan√ßa, n√£o se sinta desencorajado (voc√™ n√£o est√° sozinho).  Continue procurando e ele finalmente dar√° frutos. </p><br><p>  E assim! </p><br><p>  Atingimos esse objetivo principal da arquitetura Fiber - permitindo que o React aproveite o planejamento.  Especificamente, precisamos ser capazes de: </p><br><ul><li>  pare o trabalho e volte a ele mais tarde. </li><li>  priorizar diferentes tipos de trabalho. </li><li>  reutilize o trabalho feito anteriormente. </li><li>  cancele o trabalho se n√£o for mais necess√°rio. </li></ul><br><p>  Para fazer tudo isso, primeiro precisamos dividir o trabalho em unidades.  Em certo sentido, isso √© fibra.  Fibra representa uma unidade de trabalho. </p><br><p>  Para ir al√©m, vamos voltar ao conceito b√°sico de React <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"componentes como dados de fun√ß√£o"</a> , geralmente expressos como: </p><br><pre><code class="javascript hljs">v = f(d)</code> </pre> <br><p>  Com isso, resulta que renderizar um aplicativo React √© como chamar uma fun√ß√£o cujo corpo cont√©m chamadas para outras fun√ß√µes, e assim por diante.  Essa analogia √© √∫til quando se pensa em fibras. </p><br><p>  A maneira como os computadores basicamente verificam a ordem de execu√ß√£o de um programa √© chamada de pilha de chamadas.  Quando a fun√ß√£o √© conclu√≠da, o novo cont√™iner de pilha √© adicionado √† pilha.  Este cont√™iner de pilha representa o trabalho realizado por uma fun√ß√£o. </p><br><p>  Ao trabalhar com interfaces com o usu√°rio, muito trabalho √© feito imediatamente e isso √© um problema, pode levar a saltos na anima√ß√£o e parecer√° intermitente.  Al√©m disso, parte desse trabalho pode n√£o ser necess√°ria se for substitu√≠da pela atualiza√ß√£o mais recente.  Nesse ponto, a compara√ß√£o entre a interface do usu√°rio e a fun√ß√£o diverge, porque os componentes t√™m uma responsabilidade mais espec√≠fica do que as fun√ß√µes em geral. <br>  Os navegadores mais recentes e o React Native implementam APIs que ajudam a resolver esse problema: <br>  requestIdleCallback distribui tarefas para que fun√ß√µes com baixa prioridade sejam chamadas em um per√≠odo simples e requestAnimationFrame distribui tarefas para que fun√ß√µes com alta prioridade sejam chamadas no pr√≥ximo quadro.  O problema √© que, para usar essas APIs, √© necess√°rio dividir o trabalho de renderiza√ß√£o em unidades incrementais.  Se voc√™ confiar apenas na pilha de chamadas, o trabalho continuar√° at√© que a pilha esteja vazia. </p><br><p>  N√£o seria bom se pud√©ssemos personalizar o comportamento da pilha de chamadas para otimizar a exibi√ß√£o de partes da interface do usu√°rio?  Seria bom se pud√©ssemos quebrar a pilha de chamadas para manipular cont√™ineres manualmente? </p><br><p>  Esse √© o chamado da React Fiber.  Fiber √© uma nova implementa√ß√£o de pilha adaptada aos componentes React.  Voc√™ pode pensar em uma √∫nica fibra como um cont√™iner de pilha virtual. </p><br><p>  A vantagem dessa implementa√ß√£o da pilha √© que voc√™ pode salvar a pilha de cont√™ineres na mem√≥ria e executar (e onde) voc√™ desejar.  Esta √© uma defini√ß√£o crucial para alcan√ßar seus objetivos de planejamento. </p><br><p>  Al√©m do planejamento, as a√ß√µes manuais com a pilha revelam o potencial de conceitos como consist√™ncia (simultaneidade) e tratamento de erros (limites de erro). </p><br><p>  Na pr√≥xima se√ß√£o, veremos a estrutura das fibras. </p><br><h2 id="struktura-volokna">  Estrutura de fibra </h2><br><p>  Especificamente, uma ‚Äúfibra‚Äù √© um objeto JavaScript que cont√©m informa√ß√µes sobre um componente, sua entrada e sa√≠da. </p><br><p>  A fibra √© consistente com o recipiente da pilha, mas tamb√©m √© consistente com a ess√™ncia do componente. </p><br><p>  Aqui est√£o algumas propriedades importantes da "fibra" (esta lista n√£o √© completa): </p><br><p>  <strong>Tipo e chave</strong> </p><br><p>  O tipo e a chave servem √† fibra, bem como aos elementos React.  De fato, quando uma fibra √© criada, esses dois campos s√£o copiados diretamente para ela. </p><br><p>  O tipo de fibra descreve o componente ao qual corresponde.  Para composi√ß√£o de componentes, tipo √© uma fun√ß√£o ou classe de componente.  Para componentes de servi√ßo (div, span), o tipo √© uma sequ√™ncia. </p><br><p>  Conceitualmente, um tipo √© uma fun√ß√£o cuja execu√ß√£o √© rastreada por um cont√™iner de pilha. </p><br><p>  Juntamente com o tipo, a chave √© usada na compara√ß√£o de √°rvores para determinar se a fibra pode ser reutilizada. </p><br><p>  <strong>Crian√ßa e irm√£o</strong> <strong><br></strong> <br>  Esses campos apontam para outras fibras, descrevendo a estrutura recursiva das fibras. </p><br><p>  O filho da fibra corresponde ao valor retornado como resultado da chamada do m√©todo de renderiza√ß√£o no componente.  No exemplo abaixo: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Parent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Child</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><p>  Filho de fibra pai corresponde a filho. </p><br><p>  O campo relativo (ou vizinho) ser√° usado se render retornar v√°rios filhos (um novo recurso no Fiber): </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Parent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Child1</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Child2</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">] }</span></span></code> </pre> <br><p>  As fibras filhas s√£o uma lista vinculada unicamente no in√≠cio da qual √© o primeiro filho.  Portanto, neste exemplo, o filho Parent √© Child1 e os parentes de Child1 s√£o Child2. </p><br><p>  Voltando √† nossa analogia com as fun√ß√µes, voc√™ pode pensar em uma fibra filho como uma fun√ß√£o chamada no final (fun√ß√£o chamada cauda). </p><br><p>  Exemplo da Wikipedia: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ a(data); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b(data); }</code> </pre> <br><p>  Neste exemplo, a fun√ß√£o chamada de cauda √© b. </p><br><p>  <strong>Valor de retorno (retorno)</strong> </p><br><p>  A fibra de retorno √© a fibra √† qual o programa deve retornar ap√≥s o processamento da fibra atual.  √â o mesmo que retornar o endere√ßo do cont√™iner da pilha. <br>  Tamb√©m pode ser considerada uma fibra pai. </p><br><p>  Se uma fibra tiver v√°rias fibras filho, o retorno de cada fibra filho retornar√° a fibra pai.  No exemplo acima, a fibra de retorno de Child1 e Child2 √© Parent. </p><br><p>  <strong>Propriedades atuais e armazenadas em cache (pendingProps e memorizedProps)</strong> </p><br><p>  Conceitualmente, propriedades s√£o argumentos de fun√ß√£o.  As propriedades atuais da fibra s√£o um conjunto dessas propriedades no in√≠cio da execu√ß√£o, as em cache s√£o um conjunto no final da execu√ß√£o. </p><br><p>  Quando as propriedades de espera de entrada s√£o armazenadas em cache, isso significa que a sa√≠da de fibra anterior pode ser reutilizada sem nenhum c√°lculo. </p><br><p>  <strong>Prioridade do trabalho atual (pendingWorkPriority)</strong> </p><br><p>  A quantidade de trabalho determinante de prioridade √© exibida pela fibra.  O m√≥dulo de n√≠vel de prioridade no React <a href="">ReactPrioritylevel</a> inclui diferentes n√≠veis de prioridade e o que eles representam. </p><br><p>  Come√ßando com uma exce√ß√£o do tipo NoWork, que √© 0, um n√∫mero mais alto define a menor prioridade.  Por exemplo, voc√™ pode usar a seguinte fun√ß√£o para verificar se a prioridade da fibra √© maior que o n√≠vel especificado: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matchesPriority</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fiber, priority</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fiber.pendingWorkPriority !== <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; fiber.pendingWorkPriority &lt;= priority }</code> </pre> <br><p>  <em>Esta fun√ß√£o √© apenas para fins ilustrativos;</em>  <em>n√£o faz parte do banco de dados React Fiber.</em> </p><br><p>  O planejador usa o campo de prioridade para encontrar a pr√≥xima unidade de trabalho que pode ser executada.  Discutiremos esse algoritmo na pr√≥xima se√ß√£o. </p><br><p>  <strong>Alternativa (ou par)</strong> </p><br><p>  Atualiza√ß√£o de fibra (nivelada) - isso significa exibir sua sa√≠da na tela. </p><br><p>  Fibra em desenvolvimento (trabalho em andamento) - fibra que ainda n√£o foi constru√≠da;  em outras palavras, √© um cont√™iner de pilha que ainda n√£o foi retornado. </p><br><p>  A qualquer momento, a ess√™ncia do componente n√£o possui mais de dois estados para a fibra, o que corresponde a: fibra no estado atual, fibra atualizada ou fibra em desenvolvimento. </p><br><p>  A fibra atual √© seguida pela fibra que est√° sendo desenvolvida e, por sua vez, a fibra √© atualizada. </p><br><p>  O pr√≥ximo estado da fibra √© criado pregui√ßosamente usando a fun√ß√£o cloneFiber.  Quase sempre ao criar um novo objeto, o cloneFiber tentar√° reutilizar uma alternativa (par) de fibra, se houver, minimizando o custo dos recursos. </p><br><p>  Voc√™ deve pensar no campo de vapor (ou alternativo) como um detalhe de implementa√ß√£o, mas ele aparece com tanta frequ√™ncia na documenta√ß√£o que era simplesmente imposs√≠vel n√£o mencion√°-lo. </p><br><p>  Conclus√£o √© um elemento de servi√ßo (ou um conjunto de elementos de servi√ßo);  n√≥s de folha Reagir aplica√ß√µes.  Eles s√£o espec√≠ficos para cada ambiente de exibi√ß√£o (por exemplo, em um navegador, √© 'div', 'span' etc.).  No JSX, eles s√£o indicados como nomes de tags em min√∫sculas. </p><br><p>  Conclus√£o: recomendo experimentar os recursos da nova arquitetura React v16.0 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt444276/">https://habr.com/ru/post/pt444276/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt444264/index.html">Como se tornar um colaborador e voc√™ realmente precisa dele</a></li>
<li><a href="../pt444268/index.html">Semana 12 de seguran√ßa: ataques de teclado</a></li>
<li><a href="../pt444270/index.html">Webinar do Grupo-IB ‚ÄúA abordagem do Grupo-IB √† educa√ß√£o cibern√©tica: uma vis√£o geral dos programas atuais e casos pr√°ticos‚Äù</a></li>
<li><a href="../pt444272/index.html">PyDERASN: como escrevi a biblioteca ASN.1 com slots e blobs</a></li>
<li><a href="../pt444274/index.html">Uma resposta detalhada ao coment√°rio, bem como um pouco sobre a vida dos provedores na Federa√ß√£o Russa</a></li>
<li><a href="../pt444278/index.html">Como fazer o seu artigo em ingl√™s para Habr lido por dezenas de milhares de pessoas: 3 dicas simples</a></li>
<li><a href="../pt444282/index.html">7 extens√µes do Chrome para aprender ingl√™s</a></li>
<li><a href="../pt444284/index.html">conclus√£o do compositor e da linha de comando</a></li>
<li><a href="../pt444286/index.html">An√°lise de c√¢mera PTZ: o que h√° dentro e como funciona</a></li>
<li><a href="../pt444288/index.html">Novo aplicativo m√≥vel LampTest.ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>