<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî• üëÉüèø üë®‚Äçüë®‚Äçüëß‚Äçüëß CI / CD usando Jenkins no Kubernetes üíÄ üëåüèæ üë®üèø‚Äçü§ù‚Äçüë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Boa tarde 


 J√° existem v√°rios artigos sobre Habr√© sobre jenkins, ci / cd e kubernetes, mas nisto n√£o quero me concentrar em analisar os recursos des...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>CI / CD usando Jenkins no Kubernetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442614/"><p>  Boa tarde </p><br><p>  J√° existem v√°rios artigos sobre Habr√© sobre jenkins, ci / cd e kubernetes, mas nisto n√£o quero me concentrar em analisar os recursos dessas tecnologias, mas em sua configura√ß√£o mais simples para a constru√ß√£o do pipeline ci / cd. </p><br><p>  Quero dizer que o leitor tem um entendimento b√°sico do docker e n√£o vou me debru√ßar sobre os t√≥picos de instala√ß√£o e configura√ß√£o do kubernetes.  Todos os exemplos ser√£o mostrados no minikube, mas tamb√©m podem ser aplicados no EKS, GKE ou similares sem altera√ß√µes significativas. </p><br><p><img src="https://habrastorage.org/webt/ge/qo/ub/geqoubunc_7bpd9dwq5bpftps2m.png"></p><a name="habracut"></a><br><h2 id="okruzheniya">  Meio ambiente </h2><br><p>  Sugiro usar os seguintes ambientes: </p><br><ul><li>  test - para implanta√ß√£o manual e teste de ramifica√ß√£o </li><li>  teste - um ambiente em que todas as altera√ß√µes que se enquadram no mestre s√£o implantadas automaticamente </li><li>  produ√ß√£o - o ambiente usado por usu√°rios reais, onde as mudan√ßas s√≥ ser√£o efetuadas ap√≥s a confirma√ß√£o de sua operacionalidade no preparo </li></ul><br><p>  Os ambientes ser√£o organizados usando namespaces do kubernetes em um √∫nico cluster.  Essa abordagem √© o mais simples e r√°pida poss√≠vel no in√≠cio, mas tamb√©m tem suas desvantagens: os espa√ßos para nome n√£o s√£o completamente isolados um do outro nos kubernetes. </p><br><p>  Neste exemplo, cada espa√ßo para nome ter√° o mesmo conjunto de ConfigMaps com as configura√ß√µes deste ambiente: </p><br><pre><code class="plaintext hljs">apiVersion: v1 kind: Namespace metadata: name: production --- apiVersion: v1 kind: ConfigMap metadata: name: environment.properties namespace: production data: environment.properties: | env=production</code> </pre> <br><h2 id="helm">  Elmo </h2><br><p>  Helm √© um aplicativo que ajuda a gerenciar recursos instalados nos kubernetes. <br>  As instru√ß√µes de instala√ß√£o podem ser encontradas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">aqui</a> . <br>  Para come√ßar, voc√™ deve inicializar o pod do leme para usar o leme com o cluster: </p><br><pre> <code class="plaintext hljs">helm init</code> </pre> <br><h2 id="jenkins">  Jenkins </h2><br><p>  Usarei o Jenkins, pois √© uma plataforma bastante simples, flex√≠vel e popular para projetos de constru√ß√£o.  Ele ser√° instalado em um espa√ßo para nome separado para se isolar de outros ambientes.  Como pretendo usar o leme no futuro, posso simplificar a instala√ß√£o do Jenkins usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">gr√°ficos de c√≥digo aberto</a> existentes: </p><br><pre> <code class="plaintext hljs">helm install --name jenkins --namespace jenkins -f jenkins/demo-values.yaml stable/jenkins</code> </pre> <br><p>  demo-values.yaml cont√©m a vers√£o Jenkins, um conjunto de plug-ins pr√©-instalados, um nome de dom√≠nio e outras configura√ß√µes </p><br><div class="spoiler">  <b class="spoiler_title">demo-values.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Master: Name: jenkins-master Image: "jenkins/jenkins" ImageTag: "2.163-slim" OverwriteConfig: true AdminUser: admin AdminPassword: admin InstallPlugins: - kubernetes:1.14.3 - workflow-aggregator:2.6 - workflow-job:2.31 - credentials-binding:1.17 - git:3.9.3 - greenballs:1.15 - google-login:1.4 - role-strategy:2.9.0 - locale:1.4 ServicePort: 8080 ServiceType: NodePort HostName: jenkins.192.168.99.100.nip.io Ingress: Path: / Agent: Enabled: true Image: "jenkins/jnlp-slave" ImageTag: "3.27-1" #autoadjust agent resources limits resources: requests: cpu: null memory: null limits: cpu: null memory: null #to allow jenkins create slave pods rbac: install: true</code> </pre></div></div><br><p>  Essa configura√ß√£o usa admin / admin como nome de usu√°rio e senha para login, e pode ser reconfigurada posteriormente.  Uma das op√ß√µes poss√≠veis √© o SSO do google (o plugin google-login √© necess√°rio para isso, suas configura√ß√µes est√£o localizadas em Jenkins&gt; Gerenciar Jenkins&gt; Configurar seguran√ßa global&gt; Controle de acesso&gt; Dom√≠nio de seguran√ßa&gt; Efetuar login no Google). </p><br><p>  O Jenkins ser√° configurado imediatamente para criar automaticamente um escravo √∫nico para cada build.  Gra√ßas a isso, a equipe n√£o esperar√° mais um agente gratuito para montagem, e os neg√≥cios poder√£o economizar no n√∫mero de servidores necess√°rios. </p><br><p><img src="https://habrastorage.org/webt/it/8_/oo/it8_oo1aownty_iuuihofbo0q_4.png"></p><br><p>  Tamb√©m pronto para uso, o PersistenceVolume est√° configurado para salvar pipelines ao reiniciar ou atualizar. </p><br><p>  Para que os scripts de implanta√ß√£o autom√°tica funcionem corretamente, voc√™ precisa dar permiss√£o de administrador de cluster para Jenkins obter uma lista de recursos no kubernetes e manipul√°-los. </p><br><pre> <code class="plaintext hljs">kubectl create clusterrolebinding jenkins --clusterrole cluster-admin --serviceaccount=jenkins:default</code> </pre> <br><p>  No futuro, voc√™ pode atualizar o Jenkins usando o leme no caso de novas vers√µes de plug-ins ou altera√ß√µes na configura√ß√£o. </p><br><pre> <code class="plaintext hljs">helm upgrade jenkins stable/jenkins -f jenkins/demo-values.yaml</code> </pre> <br><p>  Isso pode ser feito atrav√©s da interface do pr√≥prio Jenkins, mas com o helm voc√™ ter√° a oportunidade de reverter para as revis√µes anteriores usando: </p><br><pre> <code class="plaintext hljs">helm history jenkins helm rollback jenkins ${revision}</code> </pre> <br><h2 id="sborka-prilozhenieya">  Compila√ß√£o de aplicativos </h2><br><p>  Como exemplo, vou construir e implantar o aplicativo de inicializa√ß√£o mais simples da primavera.  Da mesma forma com Jenkins, usarei o leme. </p><br><p>  A montagem ocorrer√° na seguinte sequ√™ncia: </p><br><ul><li>  checkout </li><li>  compila√ß√£o </li><li>  teste de unidade </li><li>  teste de integra√ß√£o </li><li>  montagem de artefato </li><li>  Implementa√ß√£o de Artefato no Registro do Docker </li><li>  implementando artefato na prepara√ß√£o (apenas para ramifica√ß√£o principal) </li></ul><br><p>  Para isso, eu uso o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">arquivo Jenkins</a> .  Na minha opini√£o, essa √© uma maneira muito flex√≠vel (mas, infelizmente, n√£o √© a mais f√°cil) de configurar a montagem do projeto.  Uma de suas vantagens √© a capacidade de manter a configura√ß√£o do conjunto do projeto no reposit√≥rio com o pr√≥prio projeto. </p><br><h3 id="checkout">  checkout </h3><br><p><img src="https://habrastorage.org/webt/tl/zi/is/tlziisqfairddgvaayk6atfuhhm.png"></p><br><p>  No caso da organiza√ß√£o bitbucket ou github, voc√™ pode configurar o Jenkins para verificar periodicamente a conta inteira quanto √† presen√ßa de reposit√≥rios com o Jenkinsfile e criar assemblies automaticamente para eles.  Jenkins coletar√° o mestre e os ramos.  Os pedidos de recebimento ser√£o exibidos em uma guia separada.  Existe uma op√ß√£o mais simples - adicione um reposit√≥rio git separado, independentemente de onde ele esteja hospedado.  Neste exemplo, farei exatamente isso.  Tudo o que √© necess√°rio est√° no menu Jenkins&gt; Novo item&gt; Multibranch Pipeline, selecione o nome do assembly e ligue o reposit√≥rio git. </p><br><h3 id="kompilyaciya">  Compila√ß√£o </h3><br><p>  Como o Jenkins cria um novo pod para cada montagem, no caso de usar coletores maven ou similares, as depend√™ncias ser√£o baixadas novamente a cada vez.  Para evitar isso, voc√™ pode alocar PersistenceVolume para caches .m2 ou similares e mont√°-lo no pod que cria o projeto. </p><br><pre> <code class="plaintext hljs">apiVersion: "v1" kind: "PersistentVolumeClaim" metadata: name: "repository" namespace: "jenkins" spec: accessModes: - ReadWriteMany resources: requests: storage: 10Gi</code> </pre> <br><p>  No meu caso, isso permitiu acelerar o pipeline de cerca de 4 para o 1¬∫ minuto. </p><br><h3 id="versionirovanie">  Versionamento </h3><br><p>  Para que o CI / CD funcione corretamente, cada compila√ß√£o precisa de uma vers√£o exclusiva. </p><br><p>  Uma op√ß√£o muito boa seria usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">controle de vers√£o sem√¢ntico</a> .  Isso permitir√° que voc√™ rastreie altera√ß√µes compat√≠veis e incompat√≠veis com vers√µes anteriores, mas esse controle de vers√£o √© mais dif√≠cil de automatizar. </p><br><p>  Neste exemplo, gerarei uma vers√£o do id e a data da confirma√ß√£o, bem como o nome da ramifica√ß√£o, se n√£o for mestre.  Por exemplo <em>56e0fbdc-201802231623</em> ou <em>b3d3c143-201802231548-PR-18</em> . </p><br><p>  Vantagens dessa abordagem: </p><br><ul><li>  facilidade de automa√ß√£o </li><li>  √© f√°cil obter o c√≥digo fonte e o tempo de cria√ß√£o da vers√£o </li><li>  visualmente, √© poss√≠vel distinguir a vers√£o de lan√ßamento do candidato (do assistente) ou experimental (do ramo) <br>  mas: </li><li>  esta vers√£o √© mais dif√≠cil de usar na comunica√ß√£o oral </li><li>  n√£o est√° claro se houve altera√ß√µes incompat√≠veis. </li></ul><br><p>  Como a imagem do docker pode ter v√°rias tags ao mesmo tempo, as abordagens podem ser combinadas: todos os lan√ßamentos usam as vers√µes geradas e as que caem na produ√ß√£o s√£o adicionalmente marcadas (manualmente) com o controle de vers√£o sem√¢ntico.  Isso, por sua vez, est√° associado a uma complexidade de implementa√ß√£o ainda maior e √† ambiguidade de qual vers√£o o aplicativo deve mostrar. </p><br><h3 id="artefakty">  Artefatos </h3><br><p>  O resultado da montagem ser√°: </p><br><ul><li>  imagem do Docker com um aplicativo que ser√° armazenado e carregado no registro do Docker.  O exemplo usar√° o registro interno do minikube, que pode ser substitu√≠do por um hub docker ou um registro privado da amazon (ecr) ou google (n√£o esque√ßa de fornecer credenciais a eles usando a constru√ß√£o withCredentials). </li><li>  gr√°ficos helm com uma descri√ß√£o da implanta√ß√£o do aplicativo (implanta√ß√£o, servi√ßo, etc.) no diret√≥rio helm.  Idealmente, eles devem ser armazenados em um reposit√≥rio separado de artefatos, mas, para simplifica√ß√£o, eles podem ser usados ‚Äã‚Äãverificando o commit necess√°rio do git. </li></ul><br><h3 id="jenkinsfile">  Jenkinsfile </h3><br><p>  Como resultado, o aplicativo ser√° criado usando o seguinte arquivo Jenkins: </p><br><div class="spoiler">  <b class="spoiler_title">Jenkinsfile</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">def branch def revision def registryIp pipeline { agent { kubernetes { label 'build-service-pod' defaultContainer 'jnlp' yaml """ apiVersion: v1 kind: Pod metadata: labels: job: build-service spec: containers: - name: maven image: maven:3.6.0-jdk-11-slim command: ["cat"] tty: true volumeMounts: - name: repository mountPath: /root/.m2/repository - name: docker image: docker:18.09.2 command: ["cat"] tty: true volumeMounts: - name: docker-sock mountPath: /var/run/docker.sock volumes: - name: repository persistentVolumeClaim: claimName: repository - name: docker-sock hostPath: path: /var/run/docker.sock """ } } options { skipDefaultCheckout true } stages { stage ('checkout') { steps { script { def repo = checkout scm revision = sh(script: 'git log -1 --format=\'%h.%ad\' --date=format:%Y%m%d-%H%M | cat', returnStdout: true).trim() branch = repo.GIT_BRANCH.take(20).replaceAll('/', '_') if (branch != 'master') { revision += "-${branch}" } sh "echo 'Building revision: ${revision}'" } } } stage ('compile') { steps { container('maven') { sh 'mvn clean compile test-compile' } } } stage ('unit test') { steps { container('maven') { sh 'mvn test' } } } stage ('integration test') { steps { container ('maven') { sh 'mvn verify' } } } stage ('build artifact') { steps { container('maven') { sh "mvn package -Dmaven.test.skip -Drevision=${revision}" } container('docker') { script { registryIp = sh(script: 'getent hosts registry.kube-system | awk \'{ print $1 ; exit }\'', returnStdout: true).trim() sh "docker build . -t ${registryIp}/demo/app:${revision} --build-arg REVISION=${revision}" } } } } stage ('publish artifact') { when { expression { branch == 'master' } } steps { container('docker') { sh "docker push ${registryIp}/demo/app:${revision}" } } } } }</code> </pre> </div></div><br><h2 id="dopolnitelnye-jenkins-pipelines-dlya-upravleniya-zhiznennym-ciklom-prilozheniya">  Pipelines adicionais da Jenkins para gerenciamento do ciclo de vida de aplicativos </h2><br><p>  Suponha que os reposit√≥rios estejam organizados para que: </p><br><ul><li>  cont√©m um aplicativo separado na forma de imagem de janela de encaixe </li><li>  pode ser implementado usando arquivos helm localizados no diret√≥rio helm </li><li>  s√£o versionados usando a mesma abordagem e possuem um arquivo helm / setVersion.sh para definir revis√µes nos gr√°ficos de helm </li></ul><br><p>  Em seguida, podemos construir v√°rios pipelines Jenkinsfile para gerenciar o ciclo de vida do aplicativo, a saber: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">implanta√ß√£o em qualquer ambiente</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">remo√ß√£o de qualquer ambiente</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">promover com estadiamento da produ√ß√£o</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">revers√£o para a vers√£o anterior</a> </li></ul><br><p>  No arquivo Jenkins de cada projeto, voc√™ pode adicionar uma chamada de pipeline de implanta√ß√£o que ser√° executada toda vez que a ramifica√ß√£o principal for compilada com √™xito ou quando a ramifica√ß√£o de implanta√ß√£o solicitar explicitamente o ambiente de teste. </p><br><div class="spoiler">  <b class="spoiler_title">Chamada de pipeline de implanta√ß√£o de arquivo Jenkins</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">... stage ('deploy to env') { when { expression { branch == 'master' || params.DEPLOY_BRANCH_TO_TST } } steps { build job: './../Deploy', parameters: [ [$class: 'StringParameterValue', name: 'GIT_REPO', value: 'habr-demo-app'], [$class: 'StringParameterValue', name: 'VERSION', value: revision], [$class: 'StringParameterValue', name: 'ENV', value: branch == 'master' ? 'staging' : 'test'] ], wait: false } } ...</code> </pre> </div></div><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Aqui</a> voc√™ pode encontrar o Jenkinsfile com todas as etapas. </p><br><p>  Assim, √© poss√≠vel construir uma implanta√ß√£o cont√≠nua no ambiente de teste ou combate selecionado, usando tamb√©m o jenkins ou suas notifica√ß√µes de email / slack / etc, fa√ßa uma auditoria de qual aplicativo, qual vers√£o, por quem, quando e onde foi instalado. </p><br><h2 id="zaklyuchenie">  Conclus√£o </h2><br><p>  Usando Jenkinsfile e helm, voc√™ pode simplesmente criar ci / cd para seu aplicativo.  Esse m√©todo pode ser mais relevante para equipes pequenas que come√ßaram recentemente a usar o kubernetes e n√£o podem (independentemente do motivo) usar servi√ßos que possam fornecer essa funcionalidade imediatamente. </p><br><p>  Voc√™ pode encontrar exemplos de configura√ß√£o para ambientes, Jenkins e pipeline para gerenciar o ciclo de vida do aplicativo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">aqui</a> e um aplicativo de exemplo com o Jenkinsfile <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">aqui</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt442614/">https://habr.com/ru/post/pt442614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt442602/index.html">A velocidade diminui a velocidade diminui?</a></li>
<li><a href="../pt442606/index.html">Objeto de dom√≠nio com Lombok: Battle Classic</a></li>
<li><a href="../pt442608/index.html">As carteiras frias da bolsa de criptomoedas QuadrigaCX, cujo fundador morreu, estavam vazias</a></li>
<li><a href="../pt442610/index.html">Bot de telegrama + Google Analytics</a></li>
<li><a href="../pt442612/index.html">Motor de papel√£o para um jogo de tabuleiro el√©trico. Como a aproximamos da realidade</a></li>
<li><a href="../pt442616/index.html">Aceleramos o processamento de eventos para 1,6 milh√µes por segundo</a></li>
<li><a href="../pt442618/index.html">N√£o para selfie: ensaio imunossorvente digital ligado a enzima usando um novo chip incorporado em um smartphone</a></li>
<li><a href="../pt442620/index.html">Aprendizado de m√°quina no monitoramento de TI</a></li>
<li><a href="../pt442622/index.html">Como tornar as corotinas no Unity um pouco mais convenientes</a></li>
<li><a href="../pt442624/index.html">O livro ‚ÄúAlgoritmo Perfeito. O b√°sico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>