<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® üå¶Ô∏è üßóüèø Intel Edison, Arduino, dan Twilio: Pesan SMS Smart Home üîô ü§öüèø ü§í</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Intel Edison ‚Äì , , , , . ‚Äì , Arduino. ++, Intel Edison ‚Äì , (sketch) Arduino. , Intel Edison . . Intel Edison , , . 
 
 Twilio SMS MMS- Twilio, , , . S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Intel Edison, Arduino, dan Twilio: Pesan SMS Smart Home</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/384761/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/867/a4f/7cd/867a4f7cd0d74902b2068fa5ca9f7730.jpg" align="left" width="265"></a> Intel Edison ‚Äì           ,       , ,  ,     .  ‚Äì     ,  Arduino.   ++,     Intel Edison ‚Äì    ,   (sketch)   Arduino.   , Intel Edison     .                  . Intel Edison          ,        ,        . <br>
<a name="habracut"></a><br>
 Twilio      SMS  MMS-     Twilio, , ,    .  SMS  MMS- ,  REST API Twilio,   SMS-   SMS-    .     SMS-      Twilio.<br>
<br>
      ,        SMS-   ,    Twilio.<br>
<br>
<h2><font color="#0071c5"> </font></h2><br>
  ,    SMS-,    :<br>
<br>
<ul>
<li>  Intel Edison</li>
<li>  Arduino</li>
<li> Grove ‚Äì Starter Kit Plus</li>
<li> Micro USB-     </li>
<li>  </li>
</ul><br>
 ,       Intel Edison,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/179/055/cf0/179055cf0d9d5c519c165781c54ed612.jpg"><br>
<em><font color="#999999">   </font></em><br>
<br>
<h2><font color="#0071c5">  </font></h2><br>
  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Intel Edison Board Software Downloads</a>  ,    ,  ,    IDE Arduino.<br>
<br>
<h2><font color="#0071c5">    Twilio</font></h2><br>
  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Twilio C++</a>       Arduino IDE,      C:\Arduino\arduino-1.5.3-Intel.1.0.4\libraries. Arduino  ,       ¬´‚Äì¬ª,   twilio-cplusplus  Twilio.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f25/c7f/039/f25c7f039ce9a9abf7c4c904b1b10ac9.png"><br>
<em><font color="#999999"> Twilio</font></em><br>
<br>
   Twilio    Example.cpp  Example.cpp.org,   Example.cpp     ,     Twilio.    Utils.h  :<br>
<br>
<b> Utils.h</b><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</code></pre><br>
<h2><font color="#0071c5">    USB Mass Storage  Intel Edison</font></h2><br>
Multifunction Composite Gadget (g_multi) ‚Äì   ,    composite framework    .  ,   USB-   USB Mass Storage,    ‚Äì  Ethernet (RNDIS  () CDC Ethernet)    (ACM). <br>
<br>
        ,    modprobe.    g_multi  ,    USB Mass Storage  Intel Edison.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0a9/268/5b3/0a92685b375ca78e87f5530d357e7ea9.png"><br>
<em><font color="#999999">  modprobe, Edison</font></em><br>
<br>
   .<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4fd/ad1/5ff/4fdad15ff8ef303a1bd9d5f928f19996.png"><br>
<em><font color="#999999">   , Edison</font></em><br>
<br>
  losetup  ,      ¬´update¬ª  loopback (/dev/loop0)   8192.  ,  ,  loopback   /mnt/transfer.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/457/436/1bc/4574361bcb9182b6d312988fdc9363f7.png"><br>
<em><font color="#999999">   Edison</font></em><br>
<br>
<h2><font color="#0071c5">   USB Mass Storage   </font></h2><br>
  ,  USB Mass Storage    Windows.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8d9/53e/633/8d953e633a1f29f5d9aa2fb0223cbff2.png"><br>
<em><font color="#999999"> USB Mass Storage</font></em><br>
<br>
     g_multi.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/814/007/ed2/814007ed222e4ccdfd6f4f382dd73b01.png"><br>
<em><font color="#999999"> </font></em><br>
<br>
<h2><font color="#0071c5"> Curl   </font></h2><br>
   ¬´    USB Mass Storage  Intel Edison¬ª  ,   libcurl     /usr/lib  Edison     Arduino IDE,   hardware\tools\edison\sysroots\core2-32-poky-linux\usr\lib:<br>
<br>
<ul>
<li>libcurl.so</li>
<li>libtasn1.so.6</li>
<li>libgcrypt.so.11</li>
<li>libgnutls.so.26</li>
<li>libgpg-error.so.0</li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/8d5/5ce/bdb/8d55cebdb52f9d2a28560888f8b3b41e.png"><br>
<em><font color="#999999"> Curl     Edison</font></em><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/062/557/5bd/0625575bda4de14bc46d0544120c1e3f.png"><br>
<em><font color="#999999">Curl     Windows</font></em><br>
<br>
,    ¬´    USB Mass Storage  Intel Edison¬ª  ,       /lib  Edison     Arduino IDE,   hardware\tools\edison\sysroots\core2-32-poky-linux\lib:<br>
<br>
<ul>
<li>libz.so.1</li>
<li>libcap.so.2</li>
<li>libcrypto.so</li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/a0a/ba4/608/a0aba4608dbad2b3e83f4e27ab0617e7.png"><br>
<em><font color="#999999">      Edison</font></em><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/448/ff1/a6d/448ff1a6d934c50ce2bd274aaf811436.png"><br>
<em><font color="#999999">     Windows</font></em><br>
<br>
<h2><font color="#0071c5">   Curl</font></h2><br>
  Curl       Arduino IDE   hardware\tools\edison\sysroots\core2-32-poky-linux\usr\include:<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c82/40b/9bb/c8240b9bb6d01c06c3d4e8d0e0a96d26.png"><br>
<em><font color="#999999">  Curl</font></em><br>
<br>
  OpenSSL       Arduino IDE   hardware\tools\edison\sysroots\core2-32-poky-linux\usr\include:<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/547/870/408/54787040889ac8f159a368669cc78cc1.png"><br>
<em><font color="#999999">  OpenSSL</font></em><br>
<br>
<h2><font color="#0071c5">  </font></h2><br>
   Arduino IDE,   hardware\arduino\edison,   platform.*.txt.   ,    ,    .     Arduino IDE  Microsoft Windows,   platform.win.txt.<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/83f/4ef/fae/83f4effae106de34b37cdf9573b82ab5.png"><br>
<em><font color="#999999"> platform.win.txt  Windows</font></em><br>
<br>
      ,     libcurl  libcrypto       ,  ‚Äìlcurl  ‚Äìlcrypto    ¬´recipe.c.combine.pattern¬ª.        .<br>
<br>
<b>  ‚Äì  platform.win.txt.</b><br>
<br>
<pre><code class="hljs swift">recipe.<span class="hljs-built_in">c</span>.combine.pattern=<span class="hljs-string">"{compiler.path}{compiler.c.elf.cmd}"</span> {compiler.<span class="hljs-built_in">c</span>.elf.flags} -march={build.mcu} -o <span class="hljs-string">"{build.path}/{build.project_name}.elf"</span> {object_files} <span class="hljs-string">"{build.path}/{archive_file}"</span> <span class="hljs-string">"-L{build.path}"</span> -lm -lpthread -lcurl ‚Äìlcrypto</code></pre><br>
<br>
<h2><font color="#0071c5">  Twilio</font></h2><br>
    SMS  MMS-     Twilio,     SMS.       ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   Twilio</a>.      ,    Hide API Credentials   Twilio    Account SID  Auth Token:<br>
<br>
<b>    Twilio       </b><br>
<br>
<pre><code class="hljs objectivec"><span class="hljs-comment">//  Twilio REST API </span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> API_VERSION[] = <span class="hljs-string">"2010-04-01"</span>;<font></font>
<font></font>
<span class="hljs-comment">//   Twilio   SMS</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> <span class="hljs-built_in">CALLER_ID</span>[] = <span class="hljs-string">"1480405xxxx"</span>;<font></font>
<font></font>
<span class="hljs-comment">// Account SID  Auth token     Twilio</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> ACCOUNT_SID[] = <span class="hljs-string">"AC9c55339a5a070ae81e782117xxxxxxxx"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> ACCOUNT_TOKEN[] = <span class="hljs-string">"59e8819f3f5b530b97b84baexxxxxxxx"</span>;</code></pre><br>
<br>
<h2><font color="#0071c5">POST- Twilio</font></h2><br>
    SMS-,   POST-  Twilio,  URL ¬´/SMS/Messages¬ª.      ¬´To¬ª, ¬´From¬ª  ¬´Body¬ª. ¬´To¬ª ‚Äî    , ,     SMS. ¬´From¬ª ‚Äî    Twilio,  ¬´Body¬ª ‚Äî   SMS-.<br>
<br>
<b>  SMS    Twilio</b><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-comment">// URL path = /API_VERSION/Accounts/ACCOUNT_SID/SMS/Messages</span>
<span class="hljs-keyword">char</span> postReqStr[<span class="hljs-number">150</span>];
<span class="hljs-built_in">strcpy</span>(postReqStr, twilioAcc);
<span class="hljs-built_in">strcat</span>(postReqStr, <span class="hljs-string">"/SMS/Messages"</span>);<font></font>
Serial.println(postReqStr);<font></font>
<font></font>
<span class="hljs-comment">//  SMS</span><font></font>
vars.clear();<font></font>
vars.push_back(Var(<span class="hljs-string">"To"</span>, <span class="hljs-string">"480-xxx-xxxx"</span>));<font></font>
vars.push_back(Var(<span class="hljs-string">"From"</span>, <span class="hljs-string">"480-405-xxxx"</span>));<font></font>
vars.push_back(Var(<span class="hljs-string">"Body"</span>, smsStr));
<span class="hljs-built_in">string</span> response = twilioRest.request(postReqStr, <span class="hljs-string">"POST"</span>, vars);</code></pre><br>
<br>
<h2><font color="#0071c5"> </font></h2><br>
,      SMS-,         .         ,       .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>.      .<br>
<br>
<b>   </b><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-comment">//       1</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> tempSensorPin = <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">float</span> degF = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-comment">//       ,  </span>
<span class="hljs-comment">//        .</span>
<span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">getTemperature</span><span class="hljs-params">()</span>
</span>{
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">int</span> analogValue = analogRead(tempSensorPin);<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//   ;</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">float</span> resistance = (<span class="hljs-keyword">float</span>)(<span class="hljs-number">1023</span> - analogValue) * <span class="hljs-number">10000</span>/analogValue;<font></font>
 <font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       ; </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">float</span> degKelvin = <span class="hljs-number">1</span>/(<span class="hljs-built_in">log</span>(resistance/<span class="hljs-number">10000</span>)/B_THERMISTOR + <span class="hljs-number">1</span>/<span class="hljs-number">298.15</span>);<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">float</span> degC = degKelvin - <span class="hljs-number">273.15</span>;<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
 &nbsp;&nbsp;&nbsp;degF = (degC * <span class="hljs-number">9.0</span>) / <span class="hljs-number">5.0</span> + <span class="hljs-number">32.0</span>;<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> degF;<font></font>
}</code></pre><br>
<h2><font color="#0071c5">  </font></h2><br>
      SMS-       ,       100   .       Galileo  Arduino IDE.<br>
<br>
<b> SMS     Twilio      </b><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"WString.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Utils.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;Rest.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;TwiML.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;math.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> twilio;<font></font>
<font></font>
<span class="hljs-built_in">vector</span>&lt;Var&gt; vars;<font></font>
<font></font>
<span class="hljs-comment">//  Twilio REST API </span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> API_VERSION[] = <span class="hljs-string">"2010-04-01"</span>;<font></font>
<font></font>
<span class="hljs-comment">//   Twilio   SMS</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> CALLER_ID[] = <span class="hljs-string">"1480405xxxx"</span>;<font></font>
<font></font>
<span class="hljs-comment">// Account SID  Auth token     Twilio</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> ACCOUNT_SID[] = <span class="hljs-string">" AC9c55339a5a070ae81e782117xxxxxxxx "</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> ACCOUNT_TOKEN[] = <span class="hljs-string">"59e8819f3f5b530b97b84baexxxxxxxx "</span>;<font></font>
<font></font>
<span class="hljs-comment">//   Twilio</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* responseStr;<font></font>
<font></font>
<span class="hljs-comment">//  ,  </span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> THRESHOLD_TEMP = <span class="hljs-number">100</span>;
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> WAIT = <span class="hljs-number">1000000</span>;<font></font>
<font></font>
<span class="hljs-comment">// B- </span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> B_THERMISTOR = <span class="hljs-number">3975</span>; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
<font></font>
<span class="hljs-keyword">int</span> analogValue = <span class="hljs-number">0</span>;
<span class="hljs-keyword">float</span> degKelvin = <span class="hljs-number">0</span>;
<span class="hljs-keyword">float</span> degC = <span class="hljs-number">0</span>;
<span class="hljs-keyword">float</span> degF = <span class="hljs-number">0</span>;
<span class="hljs-keyword">float</span> resistance = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-comment">//       1</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> tempSensorPin = <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{<font></font>
 &nbsp;&nbsp;&nbsp;Serial.begin(<span class="hljs-number">9600</span>); &nbsp;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//    : </span>
<span class="hljs-comment">// &nbsp;&nbsp;&nbsp;&nbsp;-  SMS-  </span>
<span class="hljs-comment">// &nbsp;&nbsp;&nbsp;&nbsp;-  URL-</span>
<span class="hljs-comment">// &nbsp;&nbsp;&nbsp;&nbsp;-  SMS-     Twilio-</span>
<span class="hljs-comment">// : float tempF ‚Äì     </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sendSMS</span><span class="hljs-params">( <span class="hljs-keyword">float</span> tempF )</span> </span>{ <font></font>
 <font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  tempF  </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">char</span> degFstr[<span class="hljs-number">20</span>];
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">sprintf</span>(degFstr, <span class="hljs-string">"%2f"</span>, degF);<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  THRESHOLD_TEMP  </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">char</span> thresholdStr[<span class="hljs-number">20</span>];
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">sprintf</span>(thresholdStr, <span class="hljs-string">"%d"</span>, THRESHOLD_TEMP);<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  SMS-</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">char</span> smsStr[<span class="hljs-number">100</span>] = <span class="hljs-string">"Current temperature is "</span>;
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(smsStr, degFstr);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(smsStr, <span class="hljs-string">" F greater than threshold temp "</span>);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(smsStr, thresholdStr);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(smsStr, <span class="hljs-string">" F."</span>);<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">// Twilio Account = /API_VERSION/Accounts/ACCOUNT_SID</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">char</span> twilioAcc[<span class="hljs-number">70</span>] = <span class="hljs-string">"/"</span>;
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(twilioAcc, API_VERSION);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(twilioAcc, <span class="hljs-string">"/Accounts/"</span>);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(twilioAcc, ACCOUNT_SID);<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">// URL path = /API_VERSION/Accounts/ACCOUNT_SID//SMS/Messages</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">char</span> postReqStr[<span class="hljs-number">150</span>];
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcpy</span>(postReqStr, twilioAcc);
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">strcat</span>(postReqStr, <span class="hljs-string">"/SMS/Messages"</span>);<font></font>
 &nbsp;&nbsp;&nbsp;Serial.println(postReqStr); <font></font>
 &nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">// Twilio REST</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-function">Rest <span class="hljs-title">rest</span><span class="hljs-params">(ACCOUNT_SID, ACCOUNT_TOKEN)</span></span>;<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  SMS</span><font></font>
 &nbsp;&nbsp;&nbsp;vars.clear();<font></font>
 &nbsp;&nbsp;&nbsp;vars.push_back(Var(<span class="hljs-string">"To"</span>, <span class="hljs-string">"480-xxx-xxxx"</span>));<font></font>
 &nbsp;&nbsp;&nbsp;vars.push_back(Var(<span class="hljs-string">"From"</span>, <span class="hljs-string">"480-405-xxxx"</span>));<font></font>
 &nbsp;&nbsp;&nbsp;vars.push_back(Var(<span class="hljs-string">"Body"</span>, smsStr));
 &nbsp;&nbsp;&nbsp;<span class="hljs-built_in">string</span> response = twilioRest.request(postReqStr, <span class="hljs-string">"POST"</span>, vars);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       ,  </span>
<span class="hljs-comment">//        .</span>
<span class="hljs-function"><span class="hljs-keyword">float</span> <span class="hljs-title">getTemperature</span><span class="hljs-params">()</span>
</span>{<font></font>
 &nbsp;&nbsp;&nbsp;analogValue = analogRead(tempSensorPin);<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//   ;</span>
 &nbsp;&nbsp;&nbsp;resistance = (<span class="hljs-keyword">float</span>)(<span class="hljs-number">1023</span> - analogValue) * <span class="hljs-number">10000</span>/analogValue;<font></font>
 <font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
 &nbsp;&nbsp;&nbsp;degKelvin = <span class="hljs-number">1</span>/(<span class="hljs-built_in">log</span>(resistance/<span class="hljs-number">10000</span>)/B_THERMISTOR + <span class="hljs-number">1</span>/<span class="hljs-number">298.15</span>);<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
 &nbsp;&nbsp;&nbsp;degC = degKelvin - <span class="hljs-number">273.15</span>;<font></font>
 &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">//       </span>
 &nbsp;&nbsp;&nbsp;degF = (degC * <span class="hljs-number">9.0</span>) / <span class="hljs-number">5.0</span> + <span class="hljs-number">32.0</span>;<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> degF;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//  ,        </span>
<span class="hljs-comment">// .   ,    , </span>
<span class="hljs-comment">//   SMS-.</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{ <font></font>
 &nbsp;&nbsp;&nbsp;degF = getTemperature();<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>(degF &gt; THRESHOLD_TEMP)<font></font>
 &nbsp;&nbsp;&nbsp;{<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sendSMS(degF);<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delay(WAIT);<font></font>
 &nbsp;&nbsp;&nbsp;}<font></font>
}</code></pre><br>
<h2><font color="#0071c5"></font></h2><br>
          SMS-    Twilio.           Grove Starter Kit Plus ‚Äì  ,      ‚Äì   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>. ,         Intel Edison.<br>
<br>
<h2><font color="#0071c5"> </font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">software.intel.com/en-us/iot/hardware/edison/downloads</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www-ssl.intel.com/content/www/us/en/do-it-yourself/edison.html</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">software.intel.com/en-us/iot/hardware/edison</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">software.intel.com/en-us/iot/library/edison-getting-started</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">software.intel.com/en-us/iot/hardware/devkit</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.seeedstudio.com/wiki/images/a/a1/NCP18WF104F03RC.pdf</a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id384761/">https://habr.com/ru/post/id384761/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id384747/index.html">Google mendengar lebih baik, pencarian lebih mudah</a></li>
<li><a href="../id384749/index.html">Metode yang dengannya Anda tidak lagi dapat mengingat kata sandi</a></li>
<li><a href="../id384753/index.html">Teknologi dan pertunjukan</a></li>
<li><a href="../id384755/index.html">RoboHunter - mitra robot umum 3D Print Expo</a></li>
<li><a href="../id384757/index.html">Paul Graham "Dua Jenis Penghakiman"</a></li>
<li><a href="../id384765/index.html">Kuliah di Sekolah Tinggi Hukum, ‚ÄúApa yang dilakukan industri game: pandangan dari dalam‚Äù</a></li>
<li><a href="../id384767/index.html">Domain Google.com dibeli selama satu menit</a></li>
<li><a href="../id384769/index.html">Pisau cukur laser Skarp: waktu dekat atau cheat lain?</a></li>
<li><a href="../id384771/index.html">Helikopter terkecil</a></li>
<li><a href="../id384773/index.html">Pendapat ahli: Tentang pemisahan dan konsentrasi nano / partikel mikro dan komponen yang dapat larut dari sampel alami dan teknologi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>