<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏻 👐🏻 🚑 Explication des expressions lambda 👨🏽 🤸🏿 👨🏻‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="J'ai des questions sur les expressions lambda et RxJava. Ces questions concernent principalement une compréhension incomplète des expressions lambda o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Explication des expressions lambda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419395/"><p><img src="https://habrastorage.org/webt/2x/qi/f3/2xqif3hsse_3zmiws7aqxapb1hq.jpeg" alt="Explication des expressions lambda"></p><br><p>  J'ai des questions sur les expressions lambda et RxJava.  Ces questions concernent principalement une compréhension incomplète des expressions lambda ou RxJava.  Je vais essayer d'expliquer les expressions lambda aussi simplement que possible.  RxJava je décrirai séparément. </p><a name="habracut"></a><br><h3 id="lyambda-vyrazheniya-i-rxjava">  Expressions Lambda et RxJava </h3><br><p>  Que sont les expressions lambda?  Les expressions lambda sont «juste» une nouvelle façon de faire la même chose que nous pourrions toujours faire, mais d'une nouvelle façon plus propre et moins verbeuse d'utiliser des classes internes anonymes. </p><br><p> Une classe interne anonyme en Java est une classe sans nom, elle doit être utilisée si vous devez remplacer les méthodes de classe ou d'interface.  Une classe interne anonyme peut être créée à partir d'une classe ou d'une interface. </p><br><p>  Par exemple: </p><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animal</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">speak</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; } Animal a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Animal() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">speak</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"Woff"</span></span>); } };</code> </pre> <br><p>  Sur Android, nous utilisons généralement une classe interne anonyme comme écouteur, par exemple, pour les boutons de ce type: </p><br><pre> <code class="java hljs">Button btn = findViewById(R.id.button); btn.setOnClickListener( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the view parameter. } } );</span></span></code> </pre> <br><p>  Revenons aux expressions lambda.  Il s'agit de la partie suivante, qui fait partie du code précédent, qui est considérée comme une classe interne anonyme. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the view parameter. } }</span></span></code> </pre> <br><p>  Les expressions lambda ne peuvent être utilisées que si vous devez remplacer au plus une méthode.  Heureusement pour nous, View.OnClickListener n'en contient qu'un.  Jetez un œil au code ci-dessous.  Quelle partie pensez-vous que nous devons supprimer? </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> View.OnClickListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the view parameter. } }</span></span></code> </pre> <br><p>  Après avoir supprimé presque tout le code, nous devons ajouter -&gt;, comme dans le code ci-dessous.  La vue des paramètres d'entrée peut être utilisée à l'intérieur de la fonction de la même manière qu'auparavant. </p><br><pre> <code class="java hljs">(view) -&gt; { <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the view parameter. }</span></span></code> </pre> <br><p>  Dans certains cas, vous devrez peut-être ajouter un type à un paramètre, si le compilateur ne peut pas le deviner, vous pouvez le faire en l'ajoutant avant le paramètre: </p><br><pre> <code class="java hljs">(View view) -&gt; { <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the view parameter. }</span></span></code> </pre> <br><p>  Vous pouvez également utiliser du code multiligne: </p><br><pre> <code class="java hljs">(view) -&gt; { Intent intent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Intent(context, AuthActivity.class); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); view.getContext().startActivity(intent); }</code> </pre> <br><p>  Si vous avez une interface avec une méthode qui prend deux paramètres ... </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; }</code> </pre> <br><p>  ... l'expression lambda ressemblera à ceci: </p><br><pre> <code class="java hljs">(a, b) -&gt; { <span class="hljs-comment"><span class="hljs-comment">// Do some fancy stuff with the a and b parameter. }</span></span></code> </pre> <br><p>  Si la méthode a un type de retour ... </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MySecondInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSecondMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span></span>; }</code> </pre> <br><p>  ... l'expression lambda ressemblera à ceci: </p><br><pre> <code class="java hljs">(a, b) -&gt; { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; }</code> </pre> <br><p>  Mais ce n'est pas tout, il y a des cas spéciaux qui rendent le code encore plus petit.  Si le corps de votre méthode ne contient qu'une seule ligne de code, vous pouvez supprimer les accolades <strong>{}</strong> .  Si vous supprimez des accolades, vous devez également supprimer le point-virgule, en laissant ce qui suit: </p><br><pre> <code class="java hljs">(a, b) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b</code> </pre> <br><p>  Il y a encore une chose que nous pouvons faire.  Si nous n'avons qu'une seule ligne de code, le compilateur peut comprendre si la partie retournée est nécessaire ou non, nous pouvons donc la laisser comme ceci: </p><br><pre> <code class="java hljs">(a, b) -&gt; a + b</code> </pre> <br><p>  Si nous avions du code multiligne, cela se résumerait à ce qui suit: </p><br><pre> <code class="java hljs">(a, b) -&gt; { a+=<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; }</code> </pre> <br><p>  Alors qu'avons-nous fait?  Nous avons pris ceci: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MySecondInterface() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSecondMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + b; } };</code> </pre> <br><p>  et l'a transformé en ceci: </p><br><pre> <code class="java hljs">(a, b) -&gt; a + b</code> </pre> <br><p>  Il ne reste qu'une chose, les références de méthode.  Supposons que nous ayons une interface, comme précédemment, et une méthode qui accepte cette interface comme paramètre: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Callback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> event)</span></span></span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Callback callback)</span></span></span></span>{ }</code> </pre> <br><p>  Sans expression lambda, cela ressemblerait à ceci: </p><br><pre> <code class="java hljs">myMethod(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Callback() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> state)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(state); } });</code> </pre> <br><p>  En ajoutant une expression lambda, comme nous l'avons fait auparavant, nous obtenons ce qui suit: </p><br><pre> <code class="java hljs">myMethod(state -&gt; System.out.println(state));</code> </pre> <br><p>  Mais ce n'est pas tout.  Si le code utilisé est sur une seule ligne et que la fonction appelée prend un paramètre, nous pouvons passer la référence de la méthode sous cette forme: </p><br><pre> <code class="java hljs">myMethod(System.out::println);</code> </pre> <br><p>  Le paramètre sera transmis automatiquement, sans avoir besoin d'un autre code!  Incroyable non?  J'espère que vous avez appris quelque chose de nouveau! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419395/">https://habr.com/ru/post/fr419395/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419385/index.html">Chirurgie cardiaque: comment nous avons réécrit le composant principal d'un système DLP</a></li>
<li><a href="../fr419387/index.html">Vulnérabilités de OWASP Top 10. A1: 2017 - Injections (Part 1)</a></li>
<li><a href="../fr419389/index.html">Moteur de rendu Angular 6 et Ivy</a></li>
<li><a href="../fr419391/index.html">Puissance, argent et open source. Expliquer comment la communauté fonctionne avec Apache Ignite</a></li>
<li><a href="../fr419393/index.html">Créer une passerelle API simple dans ASP.NET Core</a></li>
<li><a href="../fr419399/index.html">OpenAI Five bat une équipe de personnes dans un match show Dota 2</a></li>
<li><a href="../fr419401/index.html">Interfaces de ligne de commande Java: picocli</a></li>
<li><a href="../fr419405/index.html">Comment vont les choses avec IPv6, ou ce qui entrave la transition vers une nouvelle version du protocole - discuter de la situation</a></li>
<li><a href="../fr419407/index.html">Une analyse détaillée de la correspondance Dota 2 entre OpenAI et les gens au format 5x5. Les gens ont perdu</a></li>
<li><a href="../fr419409/index.html">Nouveaux NUC Intel basés sur les processeurs Coffee Lake</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>