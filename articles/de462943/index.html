<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∫ üòº üôåüèª Jagen Sie den Wumpus oder erleben Sie das Schreiben eines klassischen Android-Spiels üèÅ ‚è≠Ô∏è üî©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hast du jemals von Vampus geh√∂rt? Unabh√§ngig von der Antwort - willkommen zu seiner Amtszeit! 

 In diesem Artikel m√∂chte ich Ihnen meine Geschichte √º...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Jagen Sie den Wumpus oder erleben Sie das Schreiben eines klassischen Android-Spiels</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462943/"><img src="https://habrastorage.org/webt/hp/ja/ij/hpjaijkod2extsjskmvlmgv5f0w.jpeg" alt="Bild"><br><br>  <i>Hast du jemals von Vampus geh√∂rt?</i>  <i>Unabh√§ngig von der Antwort - willkommen zu seiner Amtszeit!</i> <br><br>  In diesem Artikel m√∂chte ich Ihnen meine Geschichte √ºber das Erstellen eines Spiels f√ºr Android erz√§hlen.  Je nach Kompetenz des Lesers sind die von mir √ºbermittelten Erfahrungen, Gedanken und Entscheidungen mehr oder weniger n√ºtzlich.  Ich hoffe jedoch, dass meine Geschichte zumindest interessant sein wird. <a name="habracut"></a><br><a name="toMenu"></a><br><h2>  Inhalt </h2><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einleitung</a> <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wahl der Mittel</a> <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Idee des Projekts</a> <br>  4. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ich rieche einen WUMPUS</a> <br>  5. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Basis der Grundlagen - die Struktur des Projekts</a> <br>  6. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Labyrinth des Vampus erzeugen und damit arbeiten</a> <br>  7. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speicherung von Spielnachrichten und deren Ausgabe an den Spieler</a> <br>  8. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das erste Ergebnis</a> <br>  9. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auch kleine Spiele sind der Geschichte wert.</a> <br>  10. Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vampus-Transformation und das Endergebnis</a> <br>  11. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schlussfolgerung</a> <br><a name="to1"></a><br><h2>  1. Einleitung </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Zuerst ein paar Worte √ºber dich.  Das Programmieren ist leider nicht meine Hauptt√§tigkeit, aber ich widme gerne meine Freizeit daf√ºr. <br><br>  Aus irgendeinem Grund habe ich mich f√ºr die Erstellung von Handyspielen entschieden.  Meine fr√ºheren Projekte f√ºr mobile Ger√§te wurden in der Qt-Umgebung in Verbindung mit den Sprachen QML und C ++ erstellt.  Ich habe mich sehr √ºber dieses Trio gefreut, aber als ich meine Ideen analysierte, wurde mir klar, dass es in Zukunft zu viel Zeit und M√ºhe kosten w√ºrde, einige Probleme mit den mir bekannten Mitteln zu l√∂sen.  Als ich √ºber das n√§chste Projekt nachdachte, beschloss ich, neue, besser geeignete Entwicklungswerkzeuge zu finden und Erfahrungen damit zu sammeln. <br><a name="to2"></a><br><h2>  2. Wahl der Mittel </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Fr√ºher habe ich nur auf Android geachtet, und in dem neuen Projekt habe ich beschlossen, mich auf dieses Betriebssystem zu konzentrieren, Android Studio kennenzulernen, das ihm eigen ist, neues Java f√ºr mich selbst auszuprobieren (und in Zukunft, wenn es Ihnen gef√§llt, auch Kotlin zu versprechen). <br><br>  Ich habe noch nie AS oder Java verwendet, und ich sah mich einer riesigen Arbeitsfront mit vielen neuen Aufgaben gegen√ºber, und ich war bereit, in die Schlacht zu eilen. Es blieb nur noch ein Projekt zu entwickeln. <br><a name="to3"></a><br><h2>  3. Die Idee des Projekts </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Es ist bekannt, dass das Training vor allem an realen Aufgaben stattfindet, insbesondere an solchen, die von Interesse sind.  F√ºr mich sollte ein solches Trainingsprojekt ein Spiel sein, f√ºr das ich eine Reihe von Anforderungen formulierte: <br><br><ol><li>  Wiederholungswert. </li><li>  Die Einfachheit der Spielmechanik. </li><li>  Minimaler Einsatz von Grafiken. </li><li>  Das Gameplay sollte den Spieler zum Nachdenken zwingen. </li><li>  Die Spielparty sollte nicht lang sein. </li><li>  Schnelle Umsetzung des Projekts (2 Monate). </li><li>  Einfachheit und Einfachheit der Benutzeroberfl√§che. </li></ol><br>  Nachdem ich viele Optionen durchgesehen und meine St√§rken objektiv bewertet hatte und mich daran erinnert hatte, dass es, egal wie viel Zeit und Ressourcen zu Beginn aufgewendet wurden, tats√§chlich viel mehr dauern w√ºrde, kam ich zu dem Schluss, dass es am besten ist, die getesteten Klassiker als Grundlage zu nehmen, anstatt sie zu erfinden etwas f√ºr sich.  Ich wollte absolut keine bedingte Schlange erschaffen und begann alte Spiele zu studieren.  Also entdeckte ich die neugierige Jagd auf den Wumpus. <br><a name="to4"></a><br><h2>  4. Ich rieche einen WUMPUS </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b48/769/35e/b4876935e124ffff57c7f718dda7a6bf.png" alt="Bild"></div><br>  Vampus Hunting ist ein klassisches Textspiel, das 1972 von Gregory Yob erfunden wurde. Im selben Jahr erhielt er in einem Zeitschriftenartikel eine Beschreibung des Spiels und des Quellcodes. <br><br>  Die Essenz des Spiels besteht darin, dass der Spieler das Dodekaeder-Labyrinth untersucht, in dem sich der b√∂se Vampus befindet, und versucht, anhand der im Spielprotokoll angezeigten Indikatormeldungen zu erraten, welche sich in den oberen R√§umen befinden.  Zus√§tzlich zu Vampus selbst (macht einen unangenehmen Geruch) gibt es Flederm√§use (Ger√§usche sind zu h√∂ren), die den Spieler in einen zuf√§lligen Raum transportieren, und Gruben (dringt ein), in die getroffen wird, was zum Ende des Spiels f√ºhrt.  Das Ziel des Spiels ist es, den Vampus zu t√∂ten, f√ºr den der Spieler 5 Pfeile hat, die gleichzeitig von 1 bis 5 R√§umen fliegen k√∂nnen (der Spieler selbst entscheidet, welche Art von "St√§rke" er f√ºr den Schuss verwendet).  Somit hat der Spieler zwei Aktionen: vom Bogen schie√üen, in den Raum gehen.  Was das Ergebnis sein wird, h√§ngt vom Anteil des Gl√ºcks und dem Grad des Bewusstseins ab. <br><br>  Im Allgemeinen hat mir die Mechanik gefallen: Sie ist einfach, aber gleichzeitig mit Risikoelementen.  Es gab keine interessanten Spiele auf Vampus bei Google Play (au√üer einem neuen Spiel zu dieser Zeit in der Lovecraft-Welt, in dem es, wie ich sp√§ter herausfand, auf derselben Vampus-Mechanik basierte. In diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel geht es jedoch</a> darum, ein Spiel auf Habr√© zu erstellen), daher wurde es akzeptiert die Entscheidung, Vampus als Grundlage zu nehmen.  Ich habe mir zum Ziel gesetzt, das klassische Spiel beizubehalten, es aber leicht zu aktualisieren und neue Funktionen hinzuzuf√ºgen. <br><a name="to5"></a><br><h2>  5. Die Basis der Grundlagen - die Struktur des Projekts </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Zun√§chst lernte ich die Regeln des klassischen Spiels und lernte verschiedene Vampus-Implementierungen kennen.  Dann habe ich ein Diagramm mit der Logik des Spiels erstellt (anklickbar): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q2/pp/is/q2ppisokkh-yozlyjshuw3mw6lw.jpeg"></div><br>  Das Schema war zun√§chst n√ºtzlich, weil  Erlaubt, die Mechanik des Spiels zu analysieren, Fehler zu beseitigen und etwas Eigenes zu machen.  Au√üerdem war dieses Schema n√ºtzlich, als ich sp√§ter mit dem K√ºnstler zusammenarbeitete, um die Essenz des Spiels zu erkl√§ren. <br><br>  Ich habe das Projekt in 4 Teile unterteilt, in denen jeweils unterschiedliche Aufgaben gel√∂st wurden.  Ich werde nur einige von ihnen geben. <br><br>  <b>1. Spielmechanik</b> <br><br><ul><li>  In welcher Form werden die Informationen √ºber den Dungeon gespeichert? </li><li>  Welchen Typ und wie viele Variablen ben√∂tigen Sie? </li><li>  Schreibalgorithmen: Bilden eines Dungeons, Boom-Flug, √úberpr√ºfen des Schie√üergebnisses, Boom-Flug mit einer falsch ausgew√§hlten Abfolge von R√§umen, Bewegen eines Spielers, √úberpr√ºfen eines Raums beim Bewegen, Bewegen eines Spielers mit Flederm√§usen usw. </li><li>  Wie werden Informationen im Spielprotokoll angezeigt und in welcher Reihenfolge? </li><li>  In welcher Reihenfolge soll der Raum √ºberpr√ºft werden? </li></ul><br>  <b>2. Benutzeroberfl√§che</b> <br><br><ul><li>  Welche Aktivit√§ten sollten in der Anwendung enthalten sein?  Wie sollten sie aussehen und welche Elemente sollten auf ihnen sein? </li><li>  Welche Parameter k√∂nnen in den Einstellungen ge√§ndert werden? </li><li>  Ben√∂tige ich Bilder im Spiel? </li><li>  Was sollte im Allgemeinen der Stil der Anwendung sein (Farben, Stimmung, Nachrichtenstil)? </li><li>  Welche Schriftarten sollen verwendet werden? </li></ul><br>  <b>3. Andere</b> <br><br><ul><li>  Stellen Sie eine Verbindung zu Google Play-Diensten her </li><li>  Arbeiten Sie mit XML-Dateien </li><li>  Welche Schriftarten sollen verwendet werden? </li></ul><br>  <b>4. Schreiben Sie Text f√ºr das Spiel</b> <br><br><ul><li>  Spielnachrichten </li><li>  Die Regeln </li><li>  Spielbeschreibung f√ºr Google Play </li></ul><br>  Es ist eher unn√∂tig als unm√∂glich, alles zu beschreiben, daher werde ich mich nur auf einige Punkte konzentrieren, wonach ich das erste erzielte Ergebnis zeigen werde. <br><a name="to6"></a><br><h2>  6. Das Labyrinth des Vampus erzeugen und damit arbeiten </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Das Vampuslabyrinth ist ein Dodekaeder, das als Matrix <b>G der</b> Dimension 20x20 dargestellt werden kann.  Wir nummerieren die Eckpunkte von 0 bis 19. Wenn das Matrixelement 1 ist, gibt es einen Durchgang zwischen den Eckpunkten (R√§umen), andernfalls nein. <br><br>  Wir f√ºhren auch die <b>N-</b> Matrix der Dimension 20x3 ein, in der die Indizes der Nachbarn f√ºr jeden Raum gespeichert sind.  Diese Matrix beschleunigt die Arbeit mit <b>G.</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rx/s3/4p/rxs34ps8u9pan8saswot4225uow.jpeg"></div><br>  Die Matrizen <b>G</b> und <b>N</b> sind in den Spielcode eingen√§ht und √§ndern sich nicht (nat√ºrlich ist das Speichern von <b>G</b> nicht erforderlich, da Sie nur mit <b>N arbeiten k√∂nnen</b> , aber lassen wir es vorerst so).  Dies sind die ‚Äûwahren‚Äú Scheitelpunktindizes eines bestimmten Dodekaeders ein f√ºr alle Mal.  F√ºr den Spieler werden "Spiel" -Indizes, die eine Art Maske der "wahren" sind, wie folgt zu einem Vektor <b>V der</b> Dimension 20 gebildet: <br><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">//  ""    for (byte i = 0; i &lt; 20; i++) { V[i] = i; } //    ""  for (int i = 0; i &lt; 20; i++) { int tmpRand = random.nextInt(20); byte tmpVar = V[i]; V[i] = V[tmpRand]; V[tmpRand] = tmpVar; }</span></span></code> </pre> <br>  So erh√§lt man folgendes Bild: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jo/4f/sy/jo4fsylsevqqvfz3vgjbzj0gtfe.jpeg"></div><br>  Vektor V wird bei jedem neuen Spiel gebildet, wodurch der Spieler einen "neuen" Dungeon erh√§lt. <br><br>  Um die Entsprechung zwischen dem <b>Raumindex</b> "true" und "game" <b>herzustellen</b> , wird die <b>indByNmb-</b> Konvertierungsmethode verwendet: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">byte</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">indByNmb</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> room)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> ind = -<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; V.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (V[i] == room) { ind = i; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ind; }</code> </pre><br>  Bei der Eingabe erh√§lt die <b>indByNmb-</b> Methode den "Spiel" -Index des <b>Raumraums</b> und bei der Ausgabe den "wahren" Index. <br><br>  Nachdem wir die Struktur des Dungeons erstellt haben, platzieren wir: 2 Fledermausherden, 2 L√∂cher, einen Vampus und einen Spieler: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] randomRooms = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-number"><span class="hljs-number">19</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">20</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> tmpRand = random.nextInt(<span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> tmpVar = randomRooms[i]; randomRooms[i] = randomRooms[tmpRand]; randomRooms[tmpRand] = tmpVar; } P = randomRooms[<span class="hljs-number"><span class="hljs-number">0</span></span>]; W = randomRooms[<span class="hljs-number"><span class="hljs-number">1</span></span>]; Pits[<span class="hljs-number"><span class="hljs-number">0</span></span>] = randomRooms[<span class="hljs-number"><span class="hljs-number">2</span></span>]; Pits[<span class="hljs-number"><span class="hljs-number">1</span></span>] = randomRooms[<span class="hljs-number"><span class="hljs-number">3</span></span>]; Bats[<span class="hljs-number"><span class="hljs-number">0</span></span>] = randomRooms[<span class="hljs-number"><span class="hljs-number">4</span></span>]; Bats[<span class="hljs-number"><span class="hljs-number">1</span></span>] = randomRooms[<span class="hljs-number"><span class="hljs-number">5</span></span>];</code> </pre><br>  Eine solche Platzierung stellt sicher, dass sich nicht zwei Bewohner in einem Raum befinden und der Spieler nicht von Anfang an in den Raum des Vampus geworfen wird. <br><br>  Die vollst√§ndige Dungeon-Generierung ist wie folgt: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] V = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[<span class="hljs-number"><span class="hljs-number">20</span></span>]; <span class="hljs-comment"><span class="hljs-comment">// ""  int P; //  , byte W; //   byte[] Bats = new byte[2]; //    , byte[] Pits = new byte[2]; //    public void generateDungeons() { resetVars(); //      for (int i = 0; i &lt; 20; i++) { int tmpRand = random.nextInt(20); byte tmpVar = V[i]; V[i] = V[tmpRand]; V[tmpRand] = tmpVar; } byte[] randomRooms = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19}; for (int i = 0; i &lt; 20; i++) { int tmpRand = random.nextInt(20); byte tmpVar = randomRooms[i]; randomRooms[i] = randomRooms[tmpRand]; randomRooms[tmpRand] = tmpVar; } P = randomRooms[0]; W = randomRooms[1]; Pits[0] = randomRooms[2]; Pits[1] = randomRooms[3]; Bats[0] = randomRooms[4]; Bats[1] = randomRooms[5]; }</span></span></code> </pre><br></div></div><br>  Jetzt k√∂nnen Sie alle Algorithmen der Spielmechanik implementieren.  So erfolgt beispielsweise die Ausgabe benachbarter R√§ume, wenn ein Spieler <b>den</b> Raum mit dem <b>currentRoom-</b> Index <b>betritt</b> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">printNearRooms</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params"> currentRoom)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> ind = indByNmb(currentRoom); appendText(V[N[ind][<span class="hljs-number"><span class="hljs-number">0</span></span>]], V[N[ind][<span class="hljs-number"><span class="hljs-number">1</span></span>]], V[N[ind][<span class="hljs-number"><span class="hljs-number">2</span></span>]]); }</code> </pre><br>  Bei der Eingabe <b>ruft</b> die <b>printNearRooms-</b> Methode den aktuellen "Spiel" -Index des <b>currentRoom-</b> Raums ab. <br><br>  Betrachten Sie die Mechanik eines Beispiels.  Lassen Sie den Spieler in einen neuen Raum ziehen und eine Meldung erscheint: "Jetzt bin ich in Raum 8".  Die Nummer 8 ist ein Spielindex.  Der "wahre" Raumindex ist 6 (siehe Screenshots oben).  Der Code arbeitet speziell mit dem "wahren" Index, d.h.  6. F√ºr 6 werden die Indizes der ‚Äûwahren‚Äú Nachbarn bestimmt: 2, 5, 7. Die ‚ÄûSpiel‚Äú -Innen sind jeweils: 10, 0, 7. Wir zeigen dem Spieler im Protokoll: ‚ÄûIch kann in die R√§ume 10, 0, 7 gehen‚Äú. <br><br>  Wenn Sie also f√ºr jedes neue Spiel den Vektor <b>V bilden</b> und mit den Indizes "true" und "game" des Labyrinthgraphen arbeiten, wird der Anschein erweckt, dass jedes Spiel einzigartig ist. <br><br>  Dank der Funktion <b>appendText</b> werden Nachrichten in einem bestimmten Intervall angezeigt.  Wir werden sie sp√§ter treffen. <br><br>  Hier ist ein Beispiel f√ºr die √úberpr√ºfung des Raums auf die N√§he von M√§usen: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isBatsNear</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> answer = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span> indP = indByNmb(P); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((V[N[indP][i]] == Bats[<span class="hljs-number"><span class="hljs-number">0</span></span>]) || (V[N[indP][i]] == Bats[<span class="hljs-number"><span class="hljs-number">1</span></span>])) { answer = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> answer; }</code> </pre><br><a name="to7"></a><br><h2>  7. Speicherung von Spielnachrichten und deren Ausgabe an den Spieler </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Das klassische Spiel war ein Prozess der Interaktion zwischen dem Spieler und der Konsole, d.h.  Das Spiel war rein textuell.  Ich wollte diese Funktion speichern, f√ºr die ich alle Spielnachrichten in Bl√∂cke unterteilt habe, zum Beispiel: <br><br><ul><li>  Die erste Nachricht des neuen Spiels. </li><li>  Eine Nachricht, wenn sich ein Spieler bewegt. </li><li>  Nachricht in der N√§he der Gruben. </li><li>  Nachricht beim Bewegen von Vampus. </li><li>  Nachricht beim Fallen in ein Loch. </li></ul><br>  Der Text wird in einer XML-Datei gespeichert.  Jeder Block verf√ºgt √ºber mehrere Nachrichtenoptionen f√ºr eine Vielzahl von Spielabl√§ufen. <br><br>  Ein Beispiel f√ºr einen Nachrichtenblock, der angezeigt wird, wenn sich in einem der benachbarten R√§ume ein Loch befindet: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear_1"</span></span></span><span class="hljs-tag">&gt;</span></span>‚Äî  \n<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear_2"</span></span></span><span class="hljs-tag">&gt;</span></span>‚Äî    \n<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear_3"</span></span></span><span class="hljs-tag">&gt;</span></span>‚Äî     \n<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear_4"</span></span></span><span class="hljs-tag">&gt;</span></span>‚Äî  , \n<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear_5"</span></span></span><span class="hljs-tag">&gt;</span></span>‚Äî   \n<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string-array</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"g_pitsNear"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span>@string/g_pitsNear_1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span>@string/g_pitsNear_2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span>@string/g_pitsNear_3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span>@string/g_pitsNear_4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span>@string/g_pitsNear_5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string-array</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Mit dieser Struktur k√∂nnen Sie problemlos vorhandene bearbeiten oder neue Nachrichten hinzuf√ºgen, ohne den Java-Code zu beeinflussen. <br><br>  Wenn zum Beispiel beim √úberpr√ºfen des Raums die <b>zuvor</b> gezeigte <b>isBatsNear-</b> Methode <b>true zur√ºckgegeben hat</b> , erhalten wir den gew√ºnschten Nachrichtenblock aus XML und nehmen dann zuf√§llig einen als Argument f√ºr <b>appendText</b> : <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isBatsNear()) { String[] g_batsNear = getResources().getStringArray(R.array.g_batsNear); appendText(g_batsNear[random.nextInt(g_batsNear.length)]); }</code> </pre><br>  <b>Spielnachrichten</b> werden an die Konsole ausgegeben, bei der es sich um ein <b>TextView-</b> Objekt handelt.  Schauen wir uns die <b>appendText-</b> Methode an. <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String str)</span></span></span><span class="hljs-function"> </span></span>{ msgBuffer.add(str); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isTimerGameMsgWork) { mTimerGameMsg.run(); isTimerGameMsgWork = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } }</code> </pre><br>  Wenn eine <b>Spielnachricht</b> angezeigt werden muss, wird die <b>appendText-</b> Methode <b>aufgerufen</b> , die sie als Argument verwendet.  In der Methode selbst wird zuerst eine Zeile zum <b>msgBuffer-</b> Puffer hinzugef√ºgt.  Anschlie√üend wird die boolesche Variable <b>isTimerGameMsgWork √ºberpr√ºft</b> .  Es akzeptiert <b>true</b> in F√§llen, in denen der <b>mTimerGameMsg-</b> Timer <b>gestartet wird</b> .  Wenn dieser Timer funktioniert, werden aus dem <b>msgBuffer-</b> Puffer gem√§√ü dem FIFO-Prinzip (First In First Out) Nachrichten in einem festgelegten Intervall <b>mIntervalGameMsg empfangen</b> und dem Spielprotokoll - <b>txtViewGameLog hinzugef√ºgt</b> . <br><br>  Der vollst√§ndige Nachrichtenausgabecode: <br><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="java hljs">ArrayList&lt;String&gt; msgBuffer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); Handler mHandlerGameMsg; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mIntervalGameMsg = <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> isTimerGameMsgWork = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendText</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String str)</span></span></span><span class="hljs-function"> </span></span>{ msgBuffer.add(str); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!isTimerGameMsgWork) { mTimerGameMsg.run(); isTimerGameMsgWork = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Runnable mTimerGameMsg = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Runnable() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (msgBuffer.size() == <span class="hljs-number"><span class="hljs-number">0</span></span>) { mHandlerGameMsg.removeCallbacks(mTimerGameMsg); isTimerGameMsgWork = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { txtViewGameLog.append(msgBuffer.get(<span class="hljs-number"><span class="hljs-number">0</span></span>)); msgBuffer.remove(<span class="hljs-number"><span class="hljs-number">0</span></span>); mHandlerGameMsg.postDelayed(mTimerGameMsg, mIntervalGameMsg); } } };</code> </pre><br></div></div><br><a name="to8"></a><br><h2>  8. Das erste Ergebnis </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Nach einem Monat Entwicklungszeit wurde die erste spielbare Version des Spiels mit vollst√§ndig implementierter Funktionalit√§t erhalten.  Ich f√ºge Screenshots bei: <br><br><div class="spoiler">  <b class="spoiler_title">Screenshots der ersten Version des Spiels</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zh/tq/fc/zhtqfcmbe0mrsyhzs8fkamiczcq.png" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1j/rp/pp/1jrpppw8ilbwgsqjeinxb0spkss.png" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sn/s7/rh/sns7rh_i4jxngizz-qwh-1fh-0a.png" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vo/ey/iz/voeyiz_ddei0p8o8lxxjdamzn18.png" width="300"></div><br></div></div><br>  Auf den dargestellten Screenshots sehen Sie: das Hauptmen√º, das Regelfenster, das Einstellungsfenster, das Spielfenster. <br><br>  Nat√ºrlich habe ich verstanden, dass das Ergebnis v√∂llig uninteressant war.  Die Hauptsache ist, dass ich praktische Erfahrungen in AS und Java gesammelt habe, was die erste Aufgabe war. <br><br>  Der Spieler musste wie im klassischen Spiel √ºber die Konsole interagieren: Geben Sie die Raumnummer f√ºr die Bewegung oder die Route f√ºr den Pfeil ein.  In den Einstellungen habe ich es m√∂glich gemacht, die Schriftgr√∂√üe und Transparenz des Hintergrunds zu √§ndern.  Ich nahm an, dass es f√ºr jedes Spielfenster einen eigenen Bildhintergrund gibt (um das Gameplay leicht zu diversifizieren, ha!). <br><br>  Als n√§chstes plante ich, die vorhandenen Bilder (die ich skrupellos aus dem Internet genommen hatte) durch diejenigen zu ersetzen, die der K√ºnstler zeichnen w√ºrde.  Dann w√ºrde ich das Spiel auf dem Play-Markt ver√∂ffentlichen und es sicher vergessen und die gesammelten Erfahrungen auf neue Projekte anwenden.  Und dann konnte ich mir nicht vorstellen, wie sehr sich Vampus ver√§ndern k√∂nnte ... <br><a name="to9"></a><br><h2>  9. Auch kleine Spiele sind der Geschichte wert. </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Wenn eine Person mit der Seele arbeitet, profitiert das Projekt nur davon.  Ich hatte Gl√ºck, dass sich die K√ºnstlerin <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anastasia Frolikova</a> als eine solche Person herausstellte.  Das hei√üt,  Anstatt nur zu zeichnen, was ich brauchte, interessierte sie sich f√ºr die Welt des Spiels und wollte verstehen, wie es funktioniert.  Und pl√∂tzlich stellte sich heraus, dass es im Gro√üen und Ganzen keinen Frieden gab!  Wer ist dieser Vampus?  Und warum sollte ein Spieler ihn t√∂ten?  Wie sehen Vampusr√§ume aus?  Und so weiter, so weiter, woran ich nicht gedacht habe und was ich dem Spieler nicht sagen wollte.  Infolgedessen waren wir uns einig, dass selbst ein so scheinbar kleines Spiel eine eigene Geschichte haben sollte.  Und sie erschien. <br><br>  Nach unserer Legende ist der Vampus zwar uralt, aber kein b√∂ses Fabelwesen, das es liebt, sich √ºber Menschen lustig zu machen.  Ja, er lebt in einem Labyrinth, aber dieses Labyrinth hat nicht die Form eines klassischen dunklen Verlieses, sondern die Form eines unvorstellbaren Hauses, das aus einem Haufen von R√§umen besteht, deren Inhalt Vampus charakterisiert.  So gibt es zum Beispiel in einem der R√§ume ein Kino, an dessen W√§nden Plakate seiner Lieblingsfilme h√§ngen, und in dem anderen seinen Schrank, in dem er seine "Streiche" vorbereitet. <br><br><div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/nz/n4/wt/nzn4wtiuursbcwufsw51ylpfuc4.jpeg"></div><br>  Der Spieler eines namenlosen J√§gers wurde zum Stammspieler im kryptozoologischen Forum, der die Existenz von Vampus beweisen will.  Wir haben den klassischen Pfeil und Bogen durch eine Kamera und einen Film ersetzt, und das Ziel des Spiels war nicht, Vampus zu t√∂ten, sondern sein Foto zu bekommen.  Das Hauptmen√º wurde √ºbrigens f√ºr ein Forum √ºberarbeitet, in dem Leute √ºber Vampus diskutieren, und aus der Diskussion kann der Spieler mehr dar√ºber erfahren. <br><br><div class="spoiler">  <b class="spoiler_title">Die erste Version des Hauptmen√ºs in Form eines Forums</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jj/m9/qi/jjm9qirjviamgd49jzag_p-edqq.jpeg" width="300"></div></div></div><br>  Die anderen Aspekte blieben nahezu unver√§ndert: Die M√§use verhalten sich genauso, und das Betreten der Grube f√ºhrte zu einem Absturz, einem Zusammenbruch der Kamera und dem Ende des Spiels (und nicht zum Tod des Spielers). <br><br><div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/oz/sm/v_/ozsmv_qxhdyepdscbqx5qs5jjoi.jpeg"></div><br>  Ein weiterer Moment √ºber die Kamera.  Im klassischen Spiel konnte der Spieler einen Pfeil in einer Entfernung von 1 bis 5 R√§umen abschie√üen und es sah logisch aus.  Wir haben eine Kamera anstelle eines Bogens (machen Fotos von 1 bis 3 R√§umen gleichzeitig, arbeiten aber wie ein klassischer Pfeil, der Vampus trifft).  Und das ... sieht komisch aus, nicht wahr?  Es gab die Idee, die Reichweite der Kamera auf 1 Raum zu reduzieren, damit Sie nur den benachbarten fotografieren k√∂nnen. Dies erschwert jedoch zum einen das Spiel, und zum anderen k√∂nnen Situationen auftreten, in denen das Spiel nicht gewonnen werden kann, was falsch ist.  Im Allgemeinen ist dies der Moment, der mich pers√∂nlich immer noch verfolgt, aber ich habe noch keine L√∂sung gefunden. <br><br>  In Bezug auf den Stil und die Stimmung des Spiels.  Fast alle Spiele √ºber Vampus sind in langweiligen Graut√∂nen gehalten, und Aktionen finden an dunklen Orten in Dungeons statt.  Deshalb haben wir beschlossen, dass unser Spiel anders sein sollte und mit Humor und in leuchtenden Farben gemacht werden sollte. <br><br><div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/tk/9l/dz/tk9ldz0tthvuxjyct602egaatoq.jpeg"></div><br><br><a name="to10"></a><br><h2>  10. Die Vampus-Transformation und das Endergebnis </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Dann warteten noch 2 Monate Arbeit am Spiel auf uns.  Da Vampus 20 Zimmer hat, hat jedes sein eigenes Interieur.  Dar√ºber hinaus wurden Symbole f√ºr Erfolge, Symbole im Spiel, Entscheidungen √ºber das Design im Allgemeinen und die Benutzeroberfl√§che getroffen.  Der gesamte Spieltext wurde ebenfalls hinzugef√ºgt, der Code wurde erg√§nzt und optimiert, neue Funktionen wurden hinzugef√ºgt (zum Beispiel erschien ein Notizblock zum Aufzeichnen von Informationen w√§hrend des Spiels).  Im Allgemeinen hat der Vampus gro√üe Ver√§nderungen erfahren. <br><br>  R√§ume wurden zum Beispiel wie folgt geschaffen: <br><br><img src="https://habrastorage.org/webt/in/q4/jc/inq4jcvrpg6vhfmmlcxvgumo1iq.jpeg" alt="Bild"><br>  Es gibt 20 R√§ume, alle sind einzigartig und der Spieler erh√§lt bei jedem Spiel ein ‚Äûneues‚Äú Labyrinth.  Wie mache ich jedes neue Spielbild mit neuen R√§umen?  Am einfachsten ist es, den gleichen Ansatz f√ºr "wahre" und "Spiel" -Indizes zu verwenden: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">changeImgOfRoom</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ ImageView img = findViewById(R.id.imgRoom); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ind = indByNmb(P); String imgName = <span class="hljs-string"><span class="hljs-string">"room_"</span></span> + ind; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id = getResources().getIdentifier(imgName, <span class="hljs-string"><span class="hljs-string">"drawable"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPackageName()); Glide.with(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) .load(id) .transition(DrawableTransitionOptions.withCrossFade()) .into(img); }</code> </pre><br>  Bilder im quadratischen Format (um Verzerrungen beim Anzeigen auf verschiedenen Bildschirmen zu verringern) werden in Ressourcen mit den Namen [room_0;  room_1;  ..., room_19].  Tats√§chlich sind sie mit den ‚Äûwahren‚Äú Dodekaederindizes verbunden, aber f√ºr den Spieler hat jedes neue Spiel f√ºr denselben Raum unterschiedliche Bilder.  Warum wird das ben√∂tigt?  Damit in einer bestimmten Spielparty Textinformationen mit dem Bild eines bestimmten Raums korreliert werden k√∂nnen ("Ja, ich erinnere mich, dass in Raum X, der das Wohnzimmer war, ein Entwurf vorhanden war") und dass es nicht geklappt hat, "warum ist es immer in meinem Raum?" X ist das gleiche Bild? "  Alles f√ºr Abwechslung und Hilfe f√ºr den Spieler (wie die Erfahrung gezeigt hat, gibt es keine Hilfe beim visuellen Auswendiglernen, es ist effizienter, mit Text zu arbeiten). <br><br>  Letztendlich haben wir eine neue Version des Spiels bekommen.  Und wei√üt du was?  Der Vampus ist verdammt attraktiv geworden, und vor allem ist er immer noch der gleiche klassische Vampus, aber in einem neuen gem√ºtlichen Haus! <br><br><div class="spoiler">  <b class="spoiler_title">Screenshots der zweiten Version des Spiels</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qp/9h/mb/qp9hmbsp51ktglkb7iod8tm9ysq.jpeg" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pe/wn/hn/pewnhnr7px4ejhf5ko1xw11dwlk.jpeg" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ll/cd/ch/llcdchk4835c5xxhkkoeajjbzvi.jpeg" width="300"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bw/ny/zobwnyzsxnrqs0-cnhvdlzag1zw.jpeg" width="300"></div><br></div></div><br>  Auf den Screenshots: das Hauptmen√º, das Regelfenster, das Einstellungsfenster, das Spielfenster. <br><br>  In Bezug auf die Mechanik wird es nur geringf√ºgig modifiziert und umbenannt (gibt es tats√§chlich einen Unterschied: eine Kamera oder einen Bogen, wenn Sie dasselbe tun m√ºssen?).  Die auff√§lligste √Ñnderung in der Mechanik besteht darin, den Prozess der Interaktion zwischen dem Spieler und dem Spiel zu vereinfachen - die klassische Eingabe von Raumnummern √ºber die Tastatur wurde entfernt.  Um zwischen den R√§umen zu wechseln, m√ºssen Sie im Popup-Fenster 1 von 3 Zahlen ausw√§hlen. Um die ‚ÄûRoute‚Äú f√ºr das Fotografieren zu bilden, scrollen Sie einfach mit den R√§dern auf der Trommel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_f/is/yj/_fisyjclhhj5unjkm9myeinpe0w.jpeg" width="300"></div><br>  Im Video unten sehen Sie das Endergebnis: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Yfa1x3a6Hcg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><a name="to11"></a><br><h2>  11. Schlussfolgerung </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br><br>  Die erste Version des Spiels wurde von mir in einem Monat der Entwicklung erhalten und 1-2 Stunden nach der Arbeit zugewiesen.  Gleichzeitig waren mir bisher weder AS noch Java bekannt.  Die zweite Version des Spiels dauerte weitere 2 Monate.  Somit arbeiten nur 3 Monate gem√§chlich. <br><br>  Nat√ºrlich ist das Spiel in dieser Form nicht f√ºr eine breite Palette, weil  F√ºr einen modernen Spieler mag es kompliziert und nicht aufregend erscheinen, aber was noch wichtiger ist, wahrscheinlich den Geist klassischer Spiele zu bewahren, finden Sie nicht? <br><br>  Bin ich mit dem Ergebnis zufrieden?  Auf jeden Fall ja.  Ich habe viel Erfahrung sowohl in der Programmierung als auch in der Teamarbeit gesammelt.  Ich mag sowohl die resultierende Mechanik des Spiels als auch seine visuelle Komponente.  Gibt es etwas, das ich √§ndern m√∂chte?  Nat√ºrlich sind der Perfektion keine Grenzen gesetzt und Sie k√∂nnen immer etwas hinzuf√ºgen / verbessern, aber Sie k√∂nnen dies nicht f√ºr immer tun! <br><br>  Ist dieses Spiel interessant?  Nun, es liegt nicht an mir zu entscheiden.  Aber lassen Sie Vampus sich in dem Haus, das wir f√ºr ihn gebaut haben, mit gro√üer Liebe und Aufmerksamkeit wohlf√ºhlen. <br><br>  Ich w√ºnsche Ihnen viel Erfolg! <br><br>  Danke und pass auf Vampus auf! <br><br>  PS St√§ndig entstehende Aufgaben und die Freude, sie zu l√∂sen, sind genau das, wof√ºr ich gerne programmiere.  Ich hoffe, dass Sie nicht weniger Freude haben. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462943/">https://habr.com/ru/post/de462943/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462929/index.html">Ich sehe dich: Taktik der Fledermausmaskierung</a></li>
<li><a href="../de462933/index.html">Funktionsweise der Internetblockierung: Ein √úberblick √ºber moderne Methoden anhand eines realen Beispiels</a></li>
<li><a href="../de462935/index.html">Wie kann man bei der Arbeit in einem Gro√üraumb√ºro konzentriert bleiben?</a></li>
<li><a href="../de462937/index.html">Das Konzept der persistenten Struktur zur Steuerung der IT-Infrastruktur</a></li>
<li><a href="../de462939/index.html">Top 10 C ++ Russia-Berichte und Open Access-Konferenz-Playlist</a></li>
<li><a href="../de462945/index.html">Generieren Sie Einmalkennw√∂rter f√ºr 2FA in JS mithilfe der Web Crypto API</a></li>
<li><a href="../de462947/index.html">Die Geschichte, wie PVS-Studio einen Fehler in der in ... PVS-Studio verwendeten Bibliothek gefunden hat</a></li>
<li><a href="../de462949/index.html">Die Geschichte, wie PVS-Studio einen Fehler in der in ... PVS-Studio verwendeten Bibliothek gefunden hat</a></li>
<li><a href="../de462951/index.html">Wo eine Person Formen sieht, sieht KI Texturen</a></li>
<li><a href="../de462955/index.html">Digitale Transformation der Schulung und Zertifizierung von Au√üendienstmitarbeitern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>