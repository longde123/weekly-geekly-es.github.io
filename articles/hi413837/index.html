<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪЩ ЁЯСйЁЯП┐тАНЁЯОи ЁЯУе рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдПрдХ рдПрдХрддрд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛ - рднрд╛рдЧ 1 ЁЯзУЁЯП╛ тЩОя╕П ЁЯСжЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рд▓реЛрдХрдкреНрд░рд┐рдпрддрд╛ рдореЗрдВ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдЖрд╢реНрдЪрд░реНрдп рдХреА рдмрд╛рдд рдирд╣реАрдВ рд╣реИ - рдЫреЛрдЯреЗ рджреБрд╢реНрдордиреЛрдВ рдХреА рд░рдХреНрд╖рд╛ рдХреА рдЕрдкрдиреА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреА рдЦреБрд╢реА рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХреА рдЬрд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдПрдХ рдПрдХрддрд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛ - рднрд╛рдЧ 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413837/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c5/894/e67/6c5894e675d3be7fedc6bf87038b2188.png" alt="рдЫрд╡рд┐"></div><br>  рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рд▓реЛрдХрдкреНрд░рд┐рдпрддрд╛ рдореЗрдВ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдЖрд╢реНрдЪрд░реНрдп рдХреА рдмрд╛рдд рдирд╣реАрдВ рд╣реИ - рдЫреЛрдЯреЗ рджреБрд╢реНрдордиреЛрдВ рдХреА рд░рдХреНрд╖рд╛ рдХреА рдЕрдкрдиреА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреА рдЦреБрд╢реА рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ рдЬреЛ рдмреБрд░реЗ рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдирд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ!  рдЗрд╕ рджреЛ-рднрд╛рдЧ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ, рд╣рдо <em>рдПрдХрддрд╛</em> рдЗрдВрдЬрди рдкрд░ рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдмрдирд╛рдПрдВрдЧреЗ! <br><br>  рдЖрдк рдирд┐рдореНрди рдХрд╛рд░реНрдп рдХрд░рдирд╛ рд╕реАрдЦреЗрдВрдЧреЗ: <br><br><ul><li>  рджреБрд╢реНрдордиреЛрдВ рдХреА рд▓рд╣рд░реЗрдВ рдкреИрджрд╛ рдХрд░реЛ </li><li>  рдЙрдиреНрд╣реЗрдВ рдорд╛рд░реНрдЧ рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВ </li><li>  рдЯрд╛рд╡рд░реЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдЙрдиреНрдирдпрди рдХрд░реЗрдВ, рдФрд░ рдЙрдиреНрд╣реЗрдВ рдпрд╣ рднреА рд╕рд┐рдЦрд╛рдПрдВ рдХрд┐ рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЫреЛрдЯреЗ рдкрд┐рдХреНрд╕реЗрд▓ рдореЗрдВ рдХреИрд╕реЗ рддреЛрдбрд╝рдирд╛ рд╣реИ </li></ul><br>  рдЕрдВрдд рдореЗрдВ, рд╣рдореЗрдВ рдЧреЗрдо рдХрд╛ рдлреНрд░реЗрдо рдорд┐рд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдЖрдЧреЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ! <br><a name="habracut"></a><br><blockquote>  <em>рдиреЛрдЯ</em> : рдЖрдкрдХреЛ рдмреБрдирд┐рдпрд╛рджреА рдПрдХрддрд╛ рдЬреНрдЮрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдпрд╣ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рд╕рдВрдкрддреНрддрд┐ рдФрд░ рдШрдЯрдХреЛрдВ рдХреЛ рдХреИрд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдкреНрд░реАрдлреИрдмреНрд╕ рдХреНрдпрд╛ рд╣реИрдВ) рдФрд░ <em>рд╕реА #</em> рдХреА рдореВрд▓ рдмрд╛рддреЗрдВред  рдпрд╣ рд╕рдм рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЖрдкрдХреЛ рдмреНрд░рд╛рдпрди рдореЙрдХрд▓реЗ рджреНрд╡рд╛рд░рд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпреВрдирд┐рдЯреА</a> рд╕реАрд░реАрдЬрд╝ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рде</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реАрди рдбрдлреА</a> рдпрд╛ рдж <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмрд┐рдЧрд┐рдирд┐рдВрдЧ рд╕реА #</a> рджреНрд╡рд╛рд░рд╛ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдкрд░ рдЬрд╛рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред </blockquote><br>  рдореИрдВ рдУрдПрд╕ рдПрдХреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХрддрд╛ рдореЗрдВ рдХрд╛рдо рдХрд░реВрдВрдЧрд╛, рд▓реЗрдХрд┐рди рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рд╡рд┐рдВрдбреЛрдЬ рдХреЗ рд▓рд┐рдП рднреА рдЙрдкрдпреБрдХреНрдд рд╣реИред <br><br><h2>  рд╣рд╛рдереА рджрд╛рдВрдд рдЯреЙрд╡рд░ рдХреА рдЦрд┐рдбрд╝рдХрд┐рдпреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ </h2><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рд╣рдо рдПрдХ рдЯреЙрд╡рд░ рдбрд┐рдлреЗрдВрд╕ рдЧреЗрдо рдмрдирд╛рдПрдВрдЧреЗ рдЬрд┐рд╕рдореЗрдВ рджреБрд╢реНрдорди (рдЫреЛрдЯреЗ рдХреАрдбрд╝реЗ) рдЖрдкрдХреЗ рдФрд░ рдЖрдкрдХреЗ рдирд╛рдмрд╛рд▓рд┐рдЧреЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдПрдХ рдХреБрдХреА рдХреЛ рдХреНрд░реЙрд▓ рдХрд░рддреЗ рд╣реИрдВ (рдмреЗрд╢рдХ, рдпреЗ рд░рд╛рдХреНрд╖рд╕ рд╣реИрдВ!)ред  рдЦрд┐рд▓рд╛рдбрд╝реА рд░рдгрдиреАрддрд┐рдХ рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдиреНрдирдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдХреБрдХреА рдХреЛ рдкрд╛рдиреЗ рддрдХ рд╕рднреА рдХреАрдбрд╝реЗ рдорд╛рд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рджреБрд╢реНрдордиреЛрдВ рдХреА рдкреНрд░рддреНрдпреЗрдХ рдирдИ рд▓рд╣рд░ рдХреЛ рд╣рд░рд╛рдирд╛ рдХрдард┐рди рд╣реЛрддрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИред  рдЬрдм рдЖрдк рд╕рднреА рд▓рд╣рд░реЛрдВ (рдЬреАрдд!) рд╕реЗ рдмрдЪ рдЬрд╛рддреЗ рд╣реИрдВ рдпрд╛ рдХреБрдХреАрдЬрд╝ (рд╣рд╛рдирд┐!) рдкрд░ рдкрд╛рдБрдЪ рджреБрд╢реНрдорди рд░реЗрдВрдЧрддреЗ рд╣реИрдВ, рддреЛ рдЦреЗрд▓ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдпрд╣рд╛рдБ рд╕рдорд╛рдкреНрдд рдЦреЗрд▓ рдХрд╛ рдПрдХ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/782/a94/fef/782a94fefd675365aba52fbfc4008ab6.png"></div><br>  <i>рд░рд╛рдХреНрд╖рд╕, рдПрдХрдЬреБрдЯ!</i>  <i>рдХреБрдХреА рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рдЦреЗрдВ!</i> <br><br><h2>  рдХрд╛рдо рдкрд░ рд▓рдЧрдирд╛ </h2><br>  рдЗрд╕ <a href="">рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдЦрд╛рд▓реА</a> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ, рдЗрд╕реЗ рдЕрдирдЬрд╝рд┐рдк рдХрд░реЗрдВ рдФрд░ рдпреВрдирд┐рдЯреА рдореЗрдВ <em>рдЯреЙрд╡рд░рдбрд┐рдлрд╝реЗрдВрд╕-рдкрд╛рд░реНрдЯ 1-рд╕реНрдЯрд╛рд░реНрдЯрд░</em> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдЦреЛрд▓реЗрдВред <br><br>  рдбреНрд░рд╛рдлреНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдФрд░ рд╕рд╛рдЙрдВрдб, рд░реЗрдбреА-рдореЗрдб рдПрдирд┐рдореЗрд╢рди рдФрд░ рдХрдИ рдЙрдкрдпреЛрдЧреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реИрдВред  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реАрдзреЗ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓реЛрдВ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдпрд╣рд╛рдВ рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдирд╣реАрдВ рдХрд░реВрдВрдЧрд╛ред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк рдПрдХрддрд╛ рдореЗрдВ 2D рдПрдирд┐рдореЗрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрдХрддрд╛ 2D рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓">рдПрдХрддрд╛ 2D рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреА</a> рдЬрд╛рдБрдЪ рдХрд░реЗрдВред <br><br>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдкреНрд░реАрдлреИрдм рднреА рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рдмрд╛рдж рдореЗрдВ рд╡рд░реНрдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреЛрдбрд╝ рджреЗрдВрдЧреЗред  рдЕрдВрдд рдореЗрдВ, рдкреГрд╖реНрдарднреВрдорд┐ рдФрд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдПрдХ рджреГрд╢реНрдп рд╣реИред <br><br>  <em>рджреГрд╢реНрдпреЛрдВ рдХреЗ</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдерд┐рдд <em>GameScene</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдЧреЗрдо рдореЛрдб рдХреЛ <em>4: 3 рдХреЗ</em> рдкрд╣рд▓реВ рдЕрдиреБрдкрд╛рдд рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ рддрд╛рдХрд┐ рд╕рднреА рд▓реЗрдмрд▓ рдкреГрд╖реНрдарднреВрдорд┐ рд╕реЗ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рдореЗрд▓ рдЦрд╛рдПрдВред  рдЧреЗрдо рдореЛрдб рдореЗрдВ, рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЗрдЦреЗрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb7/050/bda/fb7050bda1d91c148f65e70a7c217083.png"></div><br>  <em>рдЧреНрд░рдиреНрдердХрд╛рд░рд┐рддрд╛:</em> <br><br><ul><li>  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд▓рд┐рдП рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдореБрдлреНрдд рд╡рд┐рдХреА рд╡реЗрдВрдбрд░рд▓рд┐рдЪ рдкреИрдХ рд╕реЗ рд▓рд┐рдП рдЧрдП рд╣реИрдВ!  рдЙрд╕рдХреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="gameartguppy">рдЧреНрд░рд╛рдлрд┐рдХ</a> рд╡реЗрдмрд╕рд╛рдЗрдЯ рдкрд░ рдЕрдиреНрдп рдЧреНрд░рд╛рдлрд┐рдХ рдХрд╛рд░реНрдп <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="gameartguppy">рджреЗрдЦреЗ</a> рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="BenSound">рдмреЗрдирд╕рд╛рдЙрдВрдб</a> рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╢рд╛рдирджрд╛рд░ рд╕рдВрдЧреАрдд, рдЬрд┐рд╕рдореЗрдВ рдЕрдиреНрдп рднрдпрд╛рдирдХ рд╕рд╛рдЙрдВрдбрдЯреНрд░реИрдХ рд╣реИрдВ! </li><li>  рдореИрдВ рдорд╛рдЗрдХрд▓ рдЬреЗрд╕рдкрд░ рдХреЛ рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреИрдорд░рд╛ рд╢реЗрдХ">рдХреИрдорд░рд╛ рд╢реЗрдХ</a> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рднреА рдзрдиреНрдпрд╡рд╛рдж рджреЗрддрд╛ рд╣реВрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреИрдорд░рд╛ рд╢реЗрдХ">ред</a> </li></ul>  ред <br><h2>  рдЬрдЧрд╣ рдХреЛ рдПрдХ рдХреНрд░реЙрд╕ рдХреЗ рд╕рд╛рде рдЪрд┐рд╣реНрдирд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХрд╛ рд╕реНрдерд╛рди </h2><br>  рд░рд╛рдХреНрд╖рд╕ рдХреЗрд╡рд▓ рдПрдХ <em>рдПрдХреНрд╕</em> рдХреЗ рд╕рд╛рде рдЪрд┐рд╣реНрдирд┐рдд рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд░рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЙрдиреНрд╣реЗрдВ рджреГрд╢реНрдп рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд░</em> рд╕реЗ <em>рдЗрдореЗрдЬреЗрд╕ \ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдУрдкрдиреНрд╕рдкреЙрдЯ</em> рдХреЛ <em>рджреГрд╢реНрдп</em> рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЦреАрдВрдЪреЗрдВред  рдЬрдмрдХрд┐ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕реНрдерд┐рддрд┐ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред <br><br>  рдПрдХ рдмрд╛рд░ рдЬрдм рдЖрдк рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ <em>Openspot</em> рдХрд╛ рдЪрдпрди рдХрд░ <em>рд▓реЗрддреЗ</em> рд╣реИрдВ, рддреЛ <em><em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em></em> рдореЗрдВ <em>Add Component</em> рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ <em>Box Collider 2D рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  рджреГрд╢реНрдп рд╡рд┐рдВрдбреЛ рдореЗрдВ, рдПрдХрддрд╛ рдПрдХ рдЖрдпрддрд╛рдХрд╛рд░ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЛ рд╣рд░реА рд░реЗрдЦрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧреАред  рд╣рдо рдЗрд╕ рд╕реНрдерд╛рди рдкрд░ рдорд╛рдЙрд╕ рдХреНрд▓рд┐рдХ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХреЛрд▓рд╛рдЗрдбрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/271/6a9/3da/2716a93da69de6b5cf73a7edfc794210.png"></div><br>  рдЙрд╕реА рддрд░рд╣ рд╕реЗ <em>Openspot рдореЗрдВ</em> <em>Audio \ Audio рд╕реНрд░реЛрдд</em> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВред  рдСрдбрд┐рдпреЛ рд╕реНрд░реЛрдд рдШрдЯрдХ рдХреЗ <em>AudioClip</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП, <em>рдСрдбрд┐рдпреЛ</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдерд┐рдд <em>рдЯреЙрд╡рд░_рдкреНрд▓реЗ</em> рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ <em>Play On Awake рдХреЛ</em> рдЕрдХреНрд╖рдо рдХрд░реЗрдВред <br><br>  рд╣рдореЗрдВ 11 рдФрд░ рдмрд┐рдВрджреБ рдмрдирд╛рдиреЗ рд╣реЛрдВрдЧреЗред  рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЗрди рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХрд╛ рдПрдХ рдкреНрд░рд▓реЛрднрди рд╣реИ, рдПрдХрддрд╛ рдХреЗ рдкрд╛рд╕ рдПрдХ рдмреЗрд╣рддрд░ рдЙрдкрд╛рдп рд╣реИ: <em>рдкреНрд░реАрдлреИрдм</em> ! <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ</em> рдЕрдВрджрд░ <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдлрд╝реЛрд▓реНрдбрд░ рд╕реЗ <em>Prefabs</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ <em>Openspot</em> рдЦреАрдВрдЪреЗрдВред  рдЗрд╕рдХрд╛ рдирд╛рдо рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ рдиреАрд▓рд╛ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд░реАрдлрд╝реИрдм рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред  рдХреБрдЫ рдЗрд╕ рддрд░рд╣: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad3/cb2/6a0/ad3cb26a0d51c893dd040e8f4f5dfea6.gif"></div><br>  рдЕрдм рдЬрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреНрд░реАрдлреИрдм рд░рд┐рдХреНрдд рд╣реИ, рд╣рдо рдЬрд┐рддрдиреА рдЪрд╛рд╣реЗрдВ рдЙрддрдиреЗ рдкреНрд░рддрд┐рдпрд╛рдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ</em> рдЕрдВрджрд░ <em>Prefabs</em> рдлрд╝реЛрд▓реНрдбрд░ рд╕реЗ <em>Openspot</em> рдХреЛ рдХреЗрд╡рд▓ <em>рджреГрд╢реНрдп</em> рд╡рд┐рдВрдбреЛ рдореЗрдВ рдЦреАрдВрдЪреЗрдВ рдФрд░ рдЫреЛрдбрд╝реЗрдВред  рдЗрд╕реЗ 11 рдмрд╛рд░ рджреЛрд╣рд░рд╛рдПрдВ рдФрд░ рджреГрд╢реНрдп рдореЗрдВ 12 рдСрдкреНрд╕рдирдкреЙрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред <br><br>  рдЕрдм рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЗ рд╕рд╛рде рдЗрди 12 Openspot рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <br><br><ul><li>  (X: -5.2, Y: 3.5, Z: 0) </li><li>  (X: -2.2, Y: 3.5, Z: 0) </li><li>  (рдПрдХреНрд╕: 0.8, рд╡рд╛рдИ: 3.5, рдЬреЗрдб: 0) </li><li>  (X: 3.8, Y: 3.5, Z: 0) </li><li>  (X: -3.8, Y: 0.4, Z: 0) </li><li>  (рдПрдХреНрд╕: -0.8, рд╡рд╛рдИ: 0.4, рдЬреЗрдб: 0) </li><li>  (X: 2.2, Y: 0.4, Z: 0) </li><li>  (X: 5.2, Y: 0.4, Z: 0) </li><li>  (X: -5.2, Y: -3.0, Z: 0) </li><li>  (X: -2.2, Y: -3.0, Z: 0) </li><li>  (рдПрдХреНрд╕: 0.8, рд╡рд╛рдИ: -3.0, рдЬреЗрдб: 0) </li><li>  (X: 3.8, Y: -3.0, Z: 0) </li></ul><br>  рдЬрдм рдЖрдк рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рджреГрд╢реНрдп рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69e/248/fb2/69e248fb213cfee35ce43f5f9c14baeb.png"></div><br><h2>  рд╣рдо рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рд░рдЦрддреЗ рд╣реИрдВ </h2><br>  рдкреНрд▓реЗрд╕рдореЗрдВрдЯ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ <em>рдкреНрд░реАрдлрд╝реИрдм</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдПрдХ <em>рдореЙрдиреНрд╕реНрдЯрд░</em> рдкреНрд░реАрдлрд╝реИрдм рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c65/908/80a/c6590880acbdbac94bd15ec023311235.png"></div><br>  <i>рд░рд╛рдХреНрд╖рд╕ Prefab рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ</i> <br><br>  рдлрд┐рд▓рд╣рд╛рд▓, рдЗрд╕рдореЗрдВ рддреАрди рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕реНрдкреНрд░рд╛рдЗрдЯреНрд╕ рдФрд░ рдмрдЪреНрдЪреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╢реВрдЯрд┐рдВрдЧ рдПрдирд┐рдореЗрд╢рди рдХреЗ рд╕рд╛рде рдПрдХ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рд╕реНрддрд░реЛрдВ рдХреА рд╢рдХреНрддрд┐ рд╣реЛрддреА рд╣реИред  рдкреНрд░реАрдлрд╝реИрдм рдореЗрдВ <em>рдСрдбрд┐рдпреЛ рд╕реНрд░реЛрдд</em> рдШрдЯрдХ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬреЛ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рджреНрд╡рд╛рд░рд╛ рд▓реЗрдЬрд░ рдлрд╛рдпрд░ рдХрд░рдиреЗ рдкрд░ рдзреНрд╡рдирд┐ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЕрдм рд╣рдо рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ <em>рдореЙрдиреНрд╕рдЯрд░</em> рдХреЛ <em>рдУрдкрдиреНрд╕рдкреЙрдЯ</em> рдкрд░ <em>рд╣реЛрд╕реНрдЯ рдХрд░реЗрдЧреА</em> ред <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░</em> рдореЗрдВ, <em>Prefabs</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ <em>Openspot</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em> <em>рдПрдб рдХрдВрдкреЛрдиреЗрдВрдЯ</em> рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдФрд░ рдлрд┐рд░ <em>рдирдИ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ <em>рд╕реНрдХреНрд░рд┐рдкреНрдЯ</em> рдХрд╛ рдирд╛рдо <em>рд░рдЦреЗрдВ</em> ред  <em>C Sharp</em> рдХреЛ рднрд╛рд╖рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪреБрдиреЗрдВ рдФрд░ <em>Create and Add</em> рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдЪреВрдВрдХрд┐ рд╣рдордиреЗ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ <i>Openspot</i> рдХреЗ <i>рдкреНрд░реАрдлрд╝реИрдм рдореЗрдВ</i> рдЬреЛрдбрд╝рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рджреГрд╢реНрдп рдореЗрдВ рд╕рднреА Openspot рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдЕрдм рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╣реЛрдЧреАред  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛! <br><br>  рдЖрдИрдбреАрдИ рдореЗрдВ рдЗрд╕реЗ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдбрдмрд▓-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдлрд┐рд░ рджреЛ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject monsterPrefab; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject monster;</code> </pre> <br>  рд╣рдо рд░рд╛рдХреНрд╖рд╕ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>monsterPrefab</code> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╡рд╕реНрддреБ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдПрдВрдЧреЗ, рдФрд░ рдЗрд╕реЗ <code>monster</code> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗ рддрд╛рдХрд┐ рдЗрд╕реЗ рдЦреЗрд▓ рдХреЗ рджреМрд░рд╛рди рд╣реЗрд░рдлреЗрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред <br><br><h3>  рдкреНрд░рддрд┐ рдмрд┐рдВрджреБ рдПрдХ рд░рд╛рдХреНрд╖рд╕ </h3><br>  рддрд╛рдХрд┐ рдХреЗрд╡рд▓ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдХреЛ рдПрдХ рдмрд┐рдВрджреБ рдкрд░ рд░рдЦрд╛ рдЬрд╛ рд╕рдХреЗ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CanPlaceMonster</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> monster == <span class="hljs-literal"><span class="hljs-literal">null</span></span>; }</code> </pre> <br>  <code>CanPlaceMonster()</code> рд╣рдо рдЬрд╛рдВрдЪ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ <code>monster</code> рдЪрд░ рдЕрднреА рднреА <code>null</code> ред  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдмрд┐рдВрджреБ рдкрд░ рдХреЛрдИ рд░рд╛рдХреНрд╖рд╕ рдирд╣реАрдВ рд╣реИ, рдФрд░ рд╣рдо рдЗрд╕реЗ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЬрдм рдЦрд┐рд▓рд╛рдбрд╝реА рдЗрд╕ GameObject рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд░рд╛рдХреНрд╖рд╕ рдХреЛ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдм рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//1 void OnMouseUp() { //2 if (CanPlaceMonster()) { //3 monster = (GameObject) Instantiate(monsterPrefab, transform.position, Quaternion.identity); //4 AudioSource audioSource = gameObject.GetComponent&lt;AudioSource&gt;(); audioSource.PlayOneShot(audioSource.clip); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">   } }</span></span></code> </pre> <br>  рдЬрдм рдЖрдк рдорд╛рдЙрд╕ рдХреЛ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рд╕реНрдХреНрд░реАрди рдХреЛ рдЫреВрддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдХреЛрдб рд░рд╛рдХреНрд╖рд╕ рдХреЛ рдвреВрдВрдврддрд╛ рд╣реИред  рд╡рд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ? <br><br><ol><li>  рдЬрдм рдХреЛрдИ рдЦрд┐рд▓рд╛рдбрд╝реА рдлрд┐рдЬрд┐рдХрд▓ рдХреЛрд▓рд╛рдЗрдбрд░ GameObject рдХреЛ рдЯрдЪ рдХрд░рддрд╛ рд╣реИ, рддреЛ рдПрдХрддрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ <code>OnMouseUp</code> рдХрд╣рддреА рд╣реИред </li><li>  рдЬрдм рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╣ рд╡рд┐рдзрд┐ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдбрд╛рд▓рддрд╛ рд╣реИ рдпрджрд┐ <code>CanPlaceMonster()</code> <code>true</code> ред </li><li>  рд╣рдо <code>Instantiate</code> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдмрдирд╛рддреЗ рд╣реИрдВ, рдЬреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╕реНрдерд┐рддрд┐ рдФрд░ рд░реЛрдЯреЗрд╢рди рдХреЗ рд╕рд╛рде рджрд┐рдП рдЧрдП рдкреНрд░реАрдлреИрдм рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддрд╛ рд╣реИред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рд╣рдо <code>monsterPrefab</code> рдирдХрд▓ <code>monsterPrefab</code> , рдЗрд╕реЗ рд╡рд░реНрддрдорд╛рди рдЧреЗрдо рдСрдмрдЬреЗрдХреНрдЯ рд╕реНрдерд┐рддрд┐ рдФрд░ рдХреЛрдИ рд░реЛрдЯреЗрд╢рди рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВ, рдкрд░рд┐рдгрд╛рдо рдХреЛ <code>GameObject</code> рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ <code>monster</code> рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВред </li><li>  рдЕрдВрдд рдореЗрдВ, рд╣рдо <code>PlayOneShot</code> рдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ <code>AudioSource</code> рдШрдЯрдХ рд╕реЗ рдЬреБрдбрд╝реЗ рдзреНрд╡рдирд┐ рдкреНрд░рднрд╛рд╡ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВред </li></ol><br>  рдЕрдм рд╣рдорд╛рд░реА <code>PlaceMonster</code> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдПрдХ рдирдпрд╛ рдореЙрдиреНрд╕реНрдЯрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЕрднреА рднреА рдПрдХ <code>PlaceMonster</code> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред <br><br><h3>  рд░рд╛рдЗрдЯ рдкреНрд░реАрдлреИрдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h3><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред <br><br>  <em>рдореЙрдиреНрд╕реНрдЯрд░рдкреНрд░реИрдм</em> рдЪрд░ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╣рд▓реЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ <em>рдкреНрд░реАрдлрд╝реИрдмреНрд╕</em> рдлрд╝реЛрд▓реНрдбрд░ рд╕реЗ <em>рдУрдкрдиреНрд╕рдкреЙрдЯ</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдЪреБрдиреЗрдВред <br><br>  <em><em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em></em> <em>PlaceMonster (Script)</em> рдШрдЯрдХ рдХреЗ <em>рдореЙрдиреНрд╕реНрдЯрд░ рдкреНрд░реАрдлрд╝реИрдм</em> рдлрд╝реАрд▓реНрдб рдХреЗ рджрд╛рдИрдВ рдУрд░ рдХреЗ рдШреЗрд░реЗ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдкреНрд░рдХрдЯ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╡рд╛рдж рдмреЙрдХреНрд╕ рдореЗрдВ <em>рдореЙрдиреНрд╕реНрдЯрд░</em> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b87/8bc/9c7/b878bc9c77c6e7c63a54f4a87d2a7c42.gif"></div><br>  рд╡рд╣ рд╕рдм рд╣реИред  рджреГрд╢реНрдп рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ рдФрд░ рдорд╛рдЙрд╕ рдХреЛ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдпрд╛ рд╕реНрдХреНрд░реАрди рдХреЛ рдЫреВрдХрд░ рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рд░рд╛рдХреНрд╖рд╕ рдмрдирд╛рдПрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/095/f08/01d/095f0801ddbbc91ce0eca144a22d4f7b.png"></div><br>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛!  рдЕрдм рд╣рдо рд░рд╛рдХреНрд╖рд╕ рдкреИрджрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╡реЗ рдПрдХ рдЕрдЬреАрдм рдЧрдВрджрдЧреА рдХреА рддрд░рд╣ рджрд┐рдЦрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рд╕рднреА рдмрдЪреНрдЪреЗ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдЦреАрдВрдЪреЗ рдЬрд╛рддреЗ рд╣реИрдВред  рдЕрдм рд╣рдо рдЗрд╕реЗ рдареАрдХ рдХрд░ рджреЗрдВрдЧреЗред <br><br><h2>  рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ рд╕реНрддрд░ рдХреЛ рдмрдврд╝рд╛рдПрдВ </h2><br>  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЖрдВрдХрдбрд╝реЗ рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рд╕реНрддрд░ рдореЗрдВ рд╡реГрджреНрдзрд┐ рдХреЗ рд╕рд╛рде, рд░рд╛рдХреНрд╖рд╕ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рднрдпрд╛рд╡рд╣ рджрд┐рдЦрддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a92/23d/480/a9223d480dda51f941c3b0b82f9f0dd6.png"></div><br>  <i>рдХреНрдпрд╛ рдкреНрдпрд╛рд░реА!</i>  <i>рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдЙрд╕рдХреА рдХреБрдХреАрдЬрд╝ рдЪреБрд░рд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд░рд╛рдХреНрд╖рд╕ рдПрдХ рд╣рддреНрдпрд╛рд░реЗ рдореЗрдВ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ред</i> <br><br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рд░рд╛рдХреНрд╖рд╕ рд╕реНрддрд░реЛрдВ рдХреА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ рдкрд░ рд░рд╛рдХреНрд╖рд╕ рдХреА рд╢рдХреНрддрд┐ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд░рд╛рдХреНрд╖рд╕ рдХрд╛ рд╡рд░реНрддрдорд╛рди рд╕реНрддрд░ред <br><br>  рдЗрд╕ рд▓рд┐рдкрд┐ рдХреЛ рдЬреЛрдбрд╝реЗрдВред <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд░</em> рдореЗрдВ <em>рдкреНрд░реАрдлреИрдм / рдореЙрдиреНрд╕реНрдЯрд░ рдкреНрд░реАрдлреИрдм рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  рдПрдХ рдирдпрд╛ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВ, рдЬрд┐рд╕реЗ <em>MonsterData</em> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  IDE рдореЗрдВ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ рдиреАрдЪреЗ <i>рджрд┐рдП</i> рдЧрдП рдХреЛрдб рдХреЛ <code>MonsterData</code> рд╡рд░реНрдЧ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝реЗрдВред <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">System.Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MonsterLevel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cost; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject visualization; }</code> </pre> <br>  рдЗрд╕рд▓рд┐рдП рд╣рдо <code>MonsterLevel</code> рдмрдирд╛рддреЗ рд╣реИрдВред  рдпрд╣ рдореВрд▓реНрдп (рд╕реЛрдиреЗ рдореЗрдВ, рдЬрд┐рд╕реЗ рд╣рдо рдиреАрдЪреЗ рд╕рдорд░реНрдерди рдХрд░реЗрдВрдЧреЗ) рдФрд░ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рд╕реНрддрд░ рдХрд╛ рдПрдХ рджреГрд╢реНрдп рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╣рдо <code>[System.Serializable]</code> рд╢реАрд░реНрд╖ рдкрд░ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдирд┐рд░реАрдХреНрд╖рдХ рдореЗрдВ рд╡рд░реНрдЧ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдпрд╣ рд╣рдореЗрдВ рд╕реНрддрд░ рд╡рд░реНрдЧ рдХреЗ рд╕рднреА рдореВрд▓реНрдпреЛрдВ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рдЦреЗрд▓ рдЪрд▓ рд░рд╣рд╛ рд╣реЛред  рдпрд╣ рдЦреЗрд▓ рдХреЛ рд╕рдВрддреБрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИред <br><br><h3>  рд░рд╛рдХреНрд╖рд╕ рд╕реНрддрд░ рдХреА рд╕реНрдерд╛рдкрдирд╛ </h3><br>  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдирд┐рд░реНрджрд┐рд╖реНрдЯ <code>MonsterLevel</code> рдХреЛ <code>List&lt;T&gt;</code> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗред <br><br>  рдХреНрдпреЛрдВ рдирд╣реАрдВ рд╕рд┐рд░реНрдл <code>MonsterLevel[]</code> рдЙрдкрдпреЛрдЧ <code>MonsterLevel[]</code> ?  рд╣рдореЗрдВ рдХрдИ рдмрд╛рд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ <code>MonsterLevel</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд╕реВрдЪрдХрд╛рдВрдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреЛрдб рд▓рд┐рдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИ, рдлрд┐рд░ рднреА рд╣рдореЗрдВ <code>IndexOf()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬреЛ <code>Lists</code> рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдкрд╣рд┐рдпрд╛ рдХреЛ рд╕реБрджреГрдврд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aae/85f/785/aae85f7854f44c8f418c5fde22153a53.jpg"></div><br>  <i>рдмрд╛рдЗрдХ рдХреЛ рд░реАрдЗрдирд╡реЗрдВрдЯ рдХрд░рдирд╛ рдЖрдорддреМрд░ рдкрд░ рдПрдХ рдмреБрд░рд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИред</i> <br><br>  <em>MonsterData.cs</em> рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ <em>,</em> рдирд┐рд░реНрдорд╛рдг <code>using</code> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic;</code> </pre> <br>  рдпрд╣ рд╣рдореЗрдВ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╣рдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ <code>List&lt;T&gt;</code> рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВред <br><br><blockquote>  <em>рдиреЛрдЯ</em> : рд╕рд╛рдорд╛рдиреНрдпреАрдХрд░рдг рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА C # рдЕрд╡рдзрд╛рд░рдгрд╛ рд╣реИред  рд╡реЗ рдЖрдкрдХреЛ рдЯрд╛рдЗрдк рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдП рдмрд┐рдирд╛ рдЯрд╛рдЗрдк-рд╕реЗрдл рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдпрд╣ рдХрдВрдЯреЗрдирд░ рд╡рд░реНрдЧреЛрдВ рдЬреИрд╕реЗ рд╕реВрдЪрд┐рдпреЛрдВ рдФрд░ рд╕реЗрдЯреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИред  рдЬреЗрдиреЗрд░рд┐рдХ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="C # рдкреАрдврд╝реА рдХрд╛ рдкрд░рд┐рдЪрдп">рд╕реА # рдЬреЗрдирд░рд┐рдХ</a> рдкреБрд╕реНрддрдХ рдХрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="C # рдкреАрдврд╝реА рдХрд╛ рдкрд░рд┐рдЪрдп">рдкрд░рд┐рдЪрдп</a> рдкрдврд╝реЗрдВред </blockquote><br>  рдЕрдм <code>MonsterLevel</code> рд╕реВрдЪреА рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП <code>MonsterData</code> рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;MonsterLevel&gt; levels;</code> </pre> <br>  рд╕рд╛рдорд╛рдиреНрдпреАрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рд╣рдо рдЧрд╛рд░рдВрдЯреА рджреЗ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ <code>level</code> рд╕реЗ <code>List</code> рдХреЗрд╡рд▓ <code>MonsterLevel</code> рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрдВрдЧреЗред <br><br>  рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХрддрд╛ рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВред <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░</em> рдореЗрдВ <em>Prefabs / Monster рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  <em><em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em></em> рдЕрдм <em>рдореЛрдВрд╕реНрдЯрд░рдбреЗрдЯрд╛ (рд╕реНрдХреНрд░рд┐рдкреНрдЯ)</em> рдШрдЯрдХ рдХреЗ <em>рд╕реНрддрд░</em> рдХреНрд╖реЗрддреНрд░ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИред  <em>рдЖрдХрд╛рд░</em> <em>3 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/660/dda/a18/660ddaa185b824721453ca1c892eedff.png"></div><br>  рдЕрдЧрд▓рд╛, рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ рдХреЗ рд▓рд┐рдП <em>рд▓рд╛рдЧрдд</em> рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ: <br><br><ul><li>  <em>рддрддреНрд╡ реж</em> : <em>реирежреж</em> </li><li>  <em>рддрддреНрд╡ рез</em> : <em>резрезреж</em> </li><li>  <em>рддрддреНрд╡ реи</em> : <em>резреиреж</em> </li></ul><br>  рдЕрдм рд╣рдо рд╡рд┐рдЬрд╝реБрдЕрд▓ рдбрд┐рд╕реНрдкреНрд▓реЗ рдлрд╝реАрд▓реНрдб рдХреЗ рдорд╛рди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЕрдкрдиреЗ рдмрдЪреНрдЪреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ <em>Prefabs / Monster рдХрд╛</em> рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВред  рдмрдЪреНрдЪреЗ <em>Monster0</em> рдХреЛ <em>рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди</em> <em>рддрддреНрд╡ 0</em> рдлрд╝реАрд▓реНрдб рдореЗрдВ рдЦреАрдВрдЪреЗрдВред <br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, <em>Element 1</em> рдХреЛ <em>Monster1</em> , рдФрд░ <em>Element 2</em> рд╕реЗ <em>Monster2</em> рдкрд░ <em>рд╕реЗрдЯ рдХрд░реЗрдВ</em> ред  GIF рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/662/404/e30/662404e30bd808e1cf9a9d34b47d4d61.gif"></div><br>  рдЬрдм рдЖрдк <em>Prefabs / Monster рдХрд╛</em> рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдкреНрд░реАрдлрд╝реИрдм рдХреЛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80b/e4d/17e/80be4d17e9894cf291b7be8a44152044.png"></div><br><h3>  рд╡рд░реНрддрдорд╛рди рд╕реНрддрд░ рд╕реЗрдЯ рдХрд░реЗрдВ </h3><br>  IDE рдореЗрдВ <em>MonsterData.cs рдкрд░</em> рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ <em>MonsterData</em> рдореЗрдВ рдПрдХ рдФрд░ рдЪрд░ рдЬреЛрдбрд╝реЗрдВред <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MonsterLevel currentLevel;</code> </pre> <br>  рдирд┐рдЬреА рдЪрд░ <code>currentLevel</code> рд╣рдо рд░рд╛рдХреНрд╖рд╕ рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕реНрддрд░ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗред <br><br>  рдЕрдм <code>currentLevel</code> рд╕реЗрдЯ рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдЕрдиреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдпрдорд╛рди рдмрдирд╛рдПрдВред  <code>MonsterData</code> рдХреЗ рд╕рд╛рде рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рдЙрджрд╛рд╣рд░рдг рдЪрд░ рдХреА рдШреЛрд╖рдгрд╛ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//1 public MonsterLevel CurrentLevel { //2 get { return currentLevel; } //3 set { currentLevel = value; int currentLevelIndex = levels.IndexOf(currentLevel); GameObject levelVisualization = levels[currentLevelIndex].visualization; for (int i = 0; i &lt; levels.Count; i++) { if (levelVisualization != null) { if (i == currentLevelIndex) { levels[i].visualization.SetActive(true); } else { levels[i].visualization.SetActive(false); } } } } }</span></span></code> </pre> <br>  C # рдХреЛрдб рдХрд╛ рдмрд╣реБрдд рдмрдбрд╝рд╛ рд╣рд┐рд╕реНрд╕рд╛, рд╕рд╣реА?  рдЖрдЗрдП рдЗрд╕реЗ рдХреНрд░рдо рдореЗрдВ рд▓реЗрдВ: <br><br><ol><li>  рдирд┐рдЬреА рдЪрд░ <code>currentLevel</code> рдХреА <em>рд╕рдВрдкрддреНрддрд┐</em> рд╕реЗрдЯ рдХрд░реЗрдВред  рд╕рдВрдкрддреНрддрд┐ рд╕реЗрдЯ рдХрд░рдХреЗ, рд╣рдо рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдЪрд░ рдХреА рддрд░рд╣ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ: рдпрд╛ рддреЛ <code>CurrentLevel</code> (рдХреНрд▓рд╛рд╕ рдХреЗ рдЕрдВрджрд░) рдпрд╛ <code>monster.CurrentLevel</code> рд░реВрдк рдореЗрдВред <code>CurrentLevel</code> (рдмрд╛рд╣рд░)ред  рд╣рдо рдХрд┐рд╕реА рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдЧреЗрдЯреНрдЯрд░ рдпрд╛ рд╕реЗрдЯрд░ рд╡рд┐рдзрд┐ рдореЗрдВ рдХрд┐рд╕реА рднреА рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдХреЗрд╡рд▓ рдПрдХ рдЧреЗрдЯреНрдЯрд░, рд╕реЗрдЯрд░ рдпрд╛ рджреЛрдиреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдХреЗ, рд╣рдо рд╕рдВрдкрддреНрддрд┐ рдХреЗ рдЧреБрдгреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рдХреЗрд╡рд▓ рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓-рд▓рд┐рдЦрдиреЗ рдФрд░ рд▓рд┐рдЦрдиреЗ / рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдПред </li><li>  рдЧреЗрдЯреНрдЯрд░ рдореЗрдВ, рд╣рдо <code>currentLevel</code> рдХрд╛ рдорд╛рди рд▓реМрдЯрд╛рддреЗ рд╣реИрдВред </li><li>  рд╕реЗрдЯрд░ рдореЗрдВ, рд╣рдо <code>currentLevel</code> рдирдпрд╛ рдорд╛рди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред  рддрдм рд╣рдореЗрдВ рд╡рд░реНрддрдорд╛рди рд╕реНрддрд░ рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ рдорд┐рд▓рддрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, рд╣рдо рд╕рднреА <em>рд╕реНрддрд░реЛрдВ рдХреЗ</em> рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд╛рдЗрдХрд┐рд▓ <code>currentLevelIndex</code> рдФрд░ <code>currentLevelIndex</code> рдЖрдзрд╛рд░ рдкрд░ рджреГрд╢реНрдп рдкреНрд░рджрд░реНрд╢рди рдХреЛ рд╕рдХреНрд╖рдо / рдЕрдХреНрд╖рдо рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЬрдм <code>currentLevel</code> рдмрджрд▓рддрд╛ рд╣реИ, рддреЛ рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдбреЗрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рдЧреБрдг рдПрдХ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЪреАрдЬ рд╣реИрдВ! </li></ol><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд <code>OnEnable</code> рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnEnable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CurrentLevel = levels[<span class="hljs-number"><span class="hljs-number">0</span></span>]; }</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдордиреЗ <code>CurrentLevel</code> рд╕реЗрдЯ <code>CurrentLevel</code> рд╕рдордп рд░рдЦрд╛ рд╣реИред  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреЗрд╡рд▓ рд╡рд╛рдВрдЫрд┐рдд рд╕реНрдкреНрд░рд╛рдЗрдЯ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><blockquote>  <em>рдиреЛрдЯ</em> : <code>OnEnable</code> рдореЗрдВ рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдФрд░ <code>OnStart</code> рдореЗрдВ рдирд╣реАрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо <code>OnEnable</code> рддрд░реАрдХреЛрдВ рдХреЛ рдХрд╣рддреЗ рд╣реИрдВред <br><br>  <code>OnEnable</code> рдмрдирдиреЗ рдкрд░ (рдпрджрд┐ <code>OnEnable</code> рдХреЛ рд╕рдХреНрд╖рдо рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЧрдпрд╛ рдерд╛) <code>OnEnable</code> рдХреЛ рддреБрд░рдВрдд рдХреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рджреГрд╢реНрдп рдХреЗ рднрд╛рдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд╛рд▓реВ рд╣реЛрдиреЗ рддрдХ <code>OnStart</code> рдирд╣реАрдВ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рд╣рдореЗрдВ рд░рд╛рдХреНрд╖рд╕ рд░рдЦрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕реЗ <code>OnEnable</code> рдЖрд░рдВрдн рдХрд░рддреЗ рд╣реИрдВред </blockquote><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдЪрд▓рд╛рдПрдВ рдФрд░ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рд░рдЦреЗрдВ;  рдЕрдм рд╡реЗ рд╕рдмрд╕реЗ рдирд┐рдЪрд▓реЗ рд╕реНрддрд░ рдХреЗ рд╕рд╣реА рд╕реНрдкреНрд░рд╛рдЗрдЯ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08e/16e/549/08e16e5498d12f78d106d873d34c8d1b.png"></div><br><h3>  рд░рд╛рдХреНрд╖рд╕ рдЕрдкрдЧреНрд░реЗрдб </h3><br>  IDE рдкрд░ рд▓реМрдЯреЗрдВ рдФрд░ <code>MonsterData</code> рдореЗрдВ рдирд┐рдореНрди рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MonsterLevel </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetNextLevel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentLevelIndex = levels.IndexOf (currentLevel); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxLevelIndex = levels.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentLevelIndex &lt; maxLevelIndex) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> levels[currentLevelIndex+<span class="hljs-number"><span class="hljs-number">1</span></span>]; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } }</code> </pre> <br>  <code>GetNextLevel</code> рд╣рдореЗрдВ <code>currentLevel</code> рдЗрдВрдбреЗрдХреНрд╕ рдФрд░ рдЙрдЪреНрдЪрддрдо рд╕реНрддрд░ рдЗрдВрдбреЗрдХреНрд╕ рдорд┐рд▓рддрд╛ рд╣реИ;  рдпрджрд┐ рд░рд╛рдХреНрд╖рд╕ рдЕрдзрд┐рдХрддрдо рд╕реНрддрд░ рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪрд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓реЗ рд╕реНрддрд░ рдкрд░ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдиреНрдпрдерд╛, <code>null</code> рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдЖрдк рдЗрд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд░рд╛рдХреНрд╖рд╕ рдЕрдкрдЧреНрд░реЗрдб рд╕рдВрднрд╡ рд╣реИред <br><br>  рд░рд╛рдХреНрд╖рд╕ рдХреЗ рд╕реНрддрд░ рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IncreaseLevel</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentLevelIndex = levels.IndexOf(currentLevel); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentLevelIndex &lt; levels.Count - <span class="hljs-number"><span class="hljs-number">1</span></span>) { CurrentLevel = levels[currentLevelIndex + <span class="hljs-number"><span class="hljs-number">1</span></span>]; } }</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдореЗрдВ рд╡рд░реНрддрдорд╛рди рд╕реНрддрд░ рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ рдорд┐рд▓рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдпрд╣ рдЕрдзрд┐рдХрддрдо рд╕реНрддрд░ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдЬрд╛рдБрдЪ рдХрд░ рдХрд┐ рдпрд╣ <code>levels.Count - 1</code> рд╕реЗ рдХрдо рд╣реИ <code>levels.Count - 1</code> ред  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ <code>CurrentLevel</code> рдХреЛ рдЕрдЧрд▓реЗ рд╕реНрддрд░ рдкрд░ <code>CurrentLevel</code> ред <br><br><h3>  рдХрд╛рд░реНрдпрд╛рддреНрдордХрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ </h3><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ IDE рдореЗрдВ <em>PlaceMonster.cs</em> рдкрд░ <em>рд▓реМрдЯреЗрдВ</em> ред  рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CanUpgradeMonster</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (monster != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { MonsterData monsterData = monster.GetComponent&lt;MonsterData&gt;(); MonsterLevel nextLevel = monsterData.GetNextLevel(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextLevel != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  рдкрд╣рд▓реЗ рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рд╣реИ рдЬрд┐рд╕реЗ <code>null</code> рд╕рд╛рде <code>monster</code> рдЪрд░ рдХреА рддреБрд▓рдирд╛ рдХрд░рдХреЗ рд╕реБрдзрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрджрд┐ рдпрд╣ рд╕рдЪ рд╣реИ, рддреЛ рд╣рдо рдЗрд╕рдХреЗ <code>MonsterData</code> рд╕реЗ рд╡рд░реНрддрдорд╛рди рд░рд╛рдХреНрд╖рд╕ рд╕реНрддрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдлрд┐рд░ рд╣рдо <code>GetNextLevel()</code> рдХрд┐ рдЕрдЧрд▓рд╛ рд╕реНрддрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ рдпрд╛ рдирд╣реАрдВ, рдХреНрдпрд╛ <code>GetNextLevel()</code> <code>null</code> рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рдПрдХ рд╕реНрддрд░ рдХреА рд╡реГрджреНрдзрд┐ рд╕рдВрднрд╡ рд╣реИ, рддреЛ рд╣рдо <code>true</code> рд▓реМрдЯрддреЗ <code>true</code> ;  рдЕрдиреНрдпрдерд╛ <code>false</code> рд▓реМрдЯрддреЗ рд╣реИрдВред <br><br><h3>  рд╣рдо рд╕реЛрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрдзрд╛рд░ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ </h3><br>  рдЙрдиреНрдирдпрди рд╡рд┐рдХрд▓реНрдк рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, <code>else if</code> рд╢рд╛рдЦрд╛ <code>OnMouseUp</code> <code>else if</code> рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CanPlaceMonster()) { <span class="hljs-comment"><span class="hljs-comment">//      } else if (CanUpgradeMonster()) { monster.GetComponent&lt;MonsterData&gt;().IncreaseLevel(); AudioSource audioSource = gameObject.GetComponent&lt;AudioSource&gt;(); audioSource.PlayOneShot(audioSource.clip); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">   }</span></span></code> </pre> <br>  рд╣рдо <code>CanUpgradeMonster()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдЧреНрд░реЗрдб рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рд╕рдВрднрд╡ рд╣реЛ, рддреЛ рд╣рдо <code>GetComponent()</code> рдФрд░ <code>GetComponent()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <code>MonsterData</code> рдШрдЯрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рд╕реНрддрд░ рдХреЛ рдмрдврд╝рд╛рддрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, рд╣рдо рдореЙрдиреНрд╕реНрдЯрд░ <em>рдСрдбрд┐рдпреЛ рд╕реЛрд░реНрд╕</em> рд▓реЙрдиреНрдЪ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  рдЧреЗрдо рдХреЛ рдЪрд▓рд╛рдПрдВ, <i>рдХрд┐рд╕реА рднреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ</i> рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЙрдиреНрдирдд рдХрд░реЗрдВ рдФрд░ рдЕрдкрдЧреНрд░реЗрдб рдХрд░реЗрдВ (рд▓реЗрдХрд┐рди рдЕрднреА рдХреЗ рд▓рд┐рдП)ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cb7/495/bed/cb7495bed8ebcd3993439de25a08a0e7.png"></div><br><h2>  рдкреЗрдЗрдВрдЧ рдЧреЛрд▓реНрдб - рдЧреЗрдо рдореИрдиреЗрдЬрд░ </h2><br>  рдЬрдмрдХрд┐ рд╣рдо рддреБрд░рдВрдд рдХрд┐рд╕реА рднреА рд░рд╛рдХреНрд╖рд╕ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдФрд░ рд╕реБрдзрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рдпрд╣ рдЦреЗрд▓ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛрдЧрд╛? <br><br>  рд╕реЛрдиреЗ рдХреЗ рдореБрджреНрджреЗ рдкрд░ рдирдЬрд░ рдбрд╛рд▓рддреЗ рд╣реИрдВред  рдЗрд╕реЗ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдмреАрдЪ рдЬрд╛рдирдХрд╛рд░реА рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреА рд╣реЛрдЧреАред <br><br>  рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдЖрдВрдХрдбрд╝рд╛ рдЙрди рд╕рднреА рд╡рд╕реНрддреБрдУрдВ рдХреЛ рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЗрд╕рдореЗрдВ рднрд╛рдЧ рд▓реЗрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e35/8cd/6f4/e358cd6f461c75385f61f1c12862a16b.png"></div><br>  <i>рд╕рднреА рдЪрдпрдирд┐рдд рдЦреЗрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рдХрд┐рддрдирд╛ рд╕реЛрдирд╛ рд╣реИред</i> <br><br>  рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рд╡рд╕реНрддреБ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ рдЬреЛ рдЕрдиреНрдп рд╡рд╕реНрддреБрдУрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддреА рд╣реИред <br><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ <em>Create Empty</em> рдЪреБрдиреЗрдВред  рдирдИ <em>GameManager</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдирд╛рдо <em>рджреЗрдВ</em> ред <br><br>  <em>GameManagerBehavior</em> рдирд╛рдордХ рдПрдХ рдирдИ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ <em>GameManager рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ</em> , рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ IDE рдореЗрдВ рдЦреЛрд▓реЗрдВред  рд╣рдо рд▓реЗрдмрд▓ рдореЗрдВ рдкреНрд▓реЗрдпрд░ рдЧреЛрд▓реНрдб рдХреА рдХреБрд▓ рдорд╛рддреНрд░рд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдирд┐рдореНрди рдкрдВрдХреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine.UI;</code> </pre> <br>  рдпрд╣ рд╣рдореЗрдВ <code>Text</code> рдЬреИрд╕реЗ рдпреВрдЖрдИ рдХрдХреНрд╖рд╛рдУрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓реЗрдмрд▓ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдм рдирд┐рдореНрди рдЪрд░ рдХреЛ рд╡рд░реНрдЧ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Text goldLabel;</code> </pre> <br>  рдпрд╣ рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рд╕реЛрдиреЗ рдХреА рдорд╛рддреНрд░рд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ <code>Text</code> рдШрдЯрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдЧрд╛ред <br><br>  рдЕрдм рдЬрдм <code>GameManager</code> рдХреЛ рд▓реЗрдмрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЪрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╕реЛрдиреЗ рдХреА рдорд╛рддреНрд░рд╛ рдФрд░ рд▓реЗрдмрд▓ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдореВрд▓реНрдп рдХреЛ рдХреИрд╕реЗ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╣реИрдВ?  рд╣рдо рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдмрдирд╛рдПрдВрдЧреЗред <br><br>  <code>GameManagerBehavior</code> рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> gold; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Gold { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gold; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { gold = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; goldLabel.GetComponent&lt;Text&gt;().text = <span class="hljs-string"><span class="hljs-string">"GOLD: "</span></span> + gold; } }</code> </pre> <br>  рдХреНрдпрд╛ рд╡рд╣ рдкрд░рд┐рдЪрд┐рдд рд▓рдЧрддрд╛ рд╣реИ?  рдХреЛрдб <code>CurrentLevel</code> рд╕рдорд╛рди рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо <code>Monster</code> рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдкрд╣рд▓реЗ рд╣рдо <code>gold</code> рдХреА рд╡рд░реНрддрдорд╛рди рдорд╛рддреНрд░рд╛ рдХреЛ рдзрд╛рд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рдЬреА рдЪрд░ <code>gold</code> рдмрдирд╛рддреЗ рд╣реИрдВред  рддрдм рд╣рдо <code>Gold</code> рдкреНрд░реЙрдкрд░реНрдЯреА (рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ, рд╕рд╣реА?) рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЧреЗрдЯреНрдЯрд░ рдФрд░ рд╕реЗрдЯрд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдкрд╛рдиреЗрд╡рд╛рд▓рд╛ рдмрд╕ <code>gold</code> рдХрд╛ рдореВрд▓реНрдп рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рд╕реЗрдЯрд░ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИред  рдЪрд░ рдХреЗ рдореВрд▓реНрдп рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ <code>goldLabel</code> рд▓рд┐рдП рдирдП рд╕реЛрдиреЗ рдХреЗ рдореВрд▓реНрдп рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>text</code> рдХреНрд╖реЗрддреНрд░ рднреА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  рд╣рдо рдХрд┐рддрдиреЗ рдЙрджрд╛рд░ рд╣реЛрдВрдЧреЗ?  рдпрджрд┐ рдЖрдк рдкреИрд╕реЗ рдХреЗ рд▓рд┐рдП рдЦреЗрдж рдорд╣рд╕реВрд╕ рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ <em>1000</em> рд╕реНрд╡рд░реНрдг, рдпрд╛ рдЙрд╕рд╕реЗ рдХрдо рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП <code>Start()</code> рдореЗрдВ рдирд┐рдореНрди рдкрдВрдХреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs">Gold = <span class="hljs-number"><span class="hljs-number">1000</span></span>;</code> </pre> <br><h3>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рд▓реЗрдмрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдЕрд╕рд╛рдЗрди рдХрд░рдирд╛ </h3><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  <em>рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ,</em> <em>GameManager рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  <em><em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em></em> <em>рдЧреЛрд▓реНрдб рд▓реЗрдмрд▓</em> рдХреЗ рджрд╛рдИрдВ рдУрд░ рд╕рд░реНрдХрд▓ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  <em>рдкрд╛рда</em> рдХрд╛ <em>рдЪрдпрди рдХрд░реЗрдВ</em> рд╕рдВрд╡рд╛рдж рдмреЙрдХреНрд╕ рдореЗрдВ, <em>рджреГрд╢реНрдп</em> рдЯреИрдм рдЪреБрдиреЗрдВ рдФрд░ <em>рдЧреЛрд▓реНрдбрд▓реИрдм</em> рдЪреБрдиреЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/05e/82e/956/05e82e95690113e0086020a817e2718c.png"></div><br>  рджреГрд╢реНрдп рдЪрд▓рд╛рдПрдВ рдФрд░ рд▓реЗрдмрд▓ <em>рдЧреЛрд▓реНрдб: 1000</em> рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдЧрд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a97/b8f/b45/a97b8fb455f50659176371e484a280e6.png"></div><br><h3>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ "рд╡реЙрд▓реЗрдЯ" рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ </h3><br>  IDE рдореЗрдВ <em>PlaceMonster.cs</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрди рдЙрджрд╛рд╣рд░рдг рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameManagerBehavior gameManager;</code> </pre> <br>  рд╣рдо рджреГрд╢реНрдп <em>рдореЗрдВ</em> <code>GameManagerBehavior</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ <code>GameManagerBehavior</code> рдШрдЯрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>gameManager</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рдЗрд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ <code>Start()</code> : <br><br><pre> <code class="cs hljs">gameManager = GameObject.Find(<span class="hljs-string"><span class="hljs-string">"GameManager"</span></span>).GetComponent&lt;GameManagerBehavior&gt;();</code> </pre> <br>  рд╣рдо <code>GameObject.Find()</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧреЗрдо рдореИрдирдЬрд░ рдирд╛рдордХ рдЧреЗрдордСрдмрдЬреЗрдХреНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЙрд╕ рдирд╛рдо рд╕реЗ рдорд┐рд▓реА рдкрд╣рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рдлрд┐рд░ рд╣рдо рдЗрд╕рдХреЗ рдШрдЯрдХ <code>GameManagerBehavior</code> рдкреНрд░рд╛рдкреНрдд <code>GameManagerBehavior</code> рдФрд░ рдЗрд╕реЗ рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рд┐рдП рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВред <br><br><blockquote>  <em>рдиреЛрдЯ</em> : рдЖрдк рдпреВрдирд┐рдЯреА рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдПрдХ рдлрд╝реАрд▓реНрдб рд╕реЗрдЯ рдХрд░рдХреЗ рдпрд╛ <code>GameManager</code> рд▓рд┐рдП рдПрдХ рд╕реНрдЯреИрдЯрд┐рдХ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝рдХрд░ рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдХрд┐ рд╕рд┐рдВрдЧрд▓рдЯрди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рд╣рдо <code>GameManagerBehavior</code> рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдКрдкрд░ рджрд┐рдЦрд╛рдП рдЧрдП рдХреЛрдб рдХреЗ рдмреНрд▓реЙрдХ рдореЗрдВ рдПрдХ рдЕрдВрдзреЗрд░рд╛ рдШреЛрдбрд╝рд╛ рд╣реИ: рд╡рд┐рдзрд┐ <code>Find</code> , рдЬреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдЕрдзрд┐рдХ рдзреАрд░реЗ-рдзреАрд░реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ;  рд▓реЗрдХрд┐рди рдпрд╣ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ рдФрд░ рдЗрд╕реЗ рдореЙрдбрд░реЗрд╢рди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </blockquote><br><h3>  рдореЗрд░реЗ рдкреИрд╕реЗ рд▓реЗ рд▓реЛ! </h3><br>  рд╣рдордиреЗ рдЕрднреА рддрдХ рд╕реЛрдиреЗ рдХреЛ рдШрдЯрд╛рдпрд╛ рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕ рд▓рд╛рдЗрди рдХреЛ <em>рджреЛ рдмрд╛рд░</em> <code>OnMouseUp()</code> , рдкреНрд░рддреНрдпреЗрдХ рдЯрд┐рдкреНрдкрдгреА рдХреА рдЬрдЧрд╣ <code>// TODO:  </code> : <br><br><pre> <code class="cs hljs">gameManager.Gold -= monster.GetComponent&lt;MonsterData&gt;().CurrentLevel.cost;</code> </pre> <br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ, рдХреБрдЫ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░реЗрдВ рдФрд░ рдЧреЛрд▓реНрдб рд╡реИрд▓реНрдпреВ рдХреЗ рдЕрдкрдбреЗрдЯ рдХреЛ рджреЗрдЦреЗрдВред  рдЕрдм рд╣рдо рд╕реЛрдиреЗ рдореЗрдВ рдХрдЯреМрддреА рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЦрд┐рд▓рд╛рдбрд╝реА рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдЙрдирдХреЗ рдкрд╛рд╕ рдкрд░реНрдпрд╛рдкреНрдд рд╕реНрдерд╛рди рд╣реИ;  рд╡реЗ рд╕рд┐рд░реНрдл рдкреИрд╕реЗ рдЙрдзрд╛рд░ рд▓реЗрддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/581/2fe/eaf/5812feeafd4b9d316f8294db56d55789.png"></div><br>  <i>рдЕрдирдВрдд рд╢реНрд░реЗрдп?</i>  <i>рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛!</i>  <i>рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗ рд╕рдХрддреЗред</i>  <i>рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдкрд░реНрдпрд╛рдкреНрдд рд╕реНрд╡рд░реНрдг рд╣реЛрдиреЗ рдкрд░ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рджрд╛рдВрд╡ рдкрд░ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред</i> <br><br><h3>  рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реЛрдиреЗ рдХреА рдЬрд╛рдБрдЪ </h3><br>  IDE рдореЗрдВ <em>PlaceMonster.cs рдкрд░</em> рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЗ <code>CanPlaceMonster()</code> рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> cost = monsterPrefab.GetComponent&lt;MonsterData&gt;().levels[<span class="hljs-number"><span class="hljs-number">0</span></span>].cost; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> monster == <span class="hljs-literal"><span class="hljs-literal">null</span></span> &amp;&amp; gameManager.Gold &gt;= cost;</code> </pre> <br>  рд╣рдореЗрдВ рдЗрд╕рдХреЗ <code>MonsterData</code> рдореЗрдВ <code>levels</code> рд╕реЗ рд░рд╛рдХреНрд╖рд╕ рдкреНрд▓реЗрд╕рдореЗрдВрдЯ рдХреА рдХреАрдордд <code>MonsterData</code> ред  рдлрд┐рд░ рд╣рдо <code>gameManager.Gold</code> рдХрд┐ <code>monster</code> <code>null</code> рдирд╣реАрдВ рд╣реИ, рдФрд░ рд╡рд╣ <code>gameManager.Gold</code> ред рдЗрд╕ рдХреАрдордд рд╕реЗ рдХрдИ <code>gameManager.Gold</code> рдЕрдзрд┐рдХ рд╣реИред <br><br>  рдЖрдкрдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдп: рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ <code>CanUpgradeMonster()</code> рдЬрд╛рдБрдЪ рдХрд░реЗрдВ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рдкрд░реНрдпрд╛рдкреНрдд рд╕реЛрдирд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВред <br><br><div class="spoiler">  <b class="spoiler_title">рдЕрдВрджрд░ рд╕рдорд╛рдзрд╛рди</b> <div class="spoiler_text">  рд▓рд╛рдЗрди рдмрджрд▓реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br>  рдЗрд╕ рдкрд░: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> gameManager.Gold &gt;= nextLevel.cost;</code> </pre> <br>  рдпрд╣ рдЬрд╛рдВрдЪ рдХрд░реЗрдЧрд╛ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдкрд╛рд╕ рдЕрдкрдЧреНрд░реЗрдб рдореВрд▓реНрдп рд╕реЗ рдЕрдзрд┐рдХ <em>рдЧреЛрд▓реНрдб рд╣реИ рдпрд╛</em> рдирд╣реАрдВред </div></div><br>  рдПрдХрддрд╛ рдореЗрдВ рджреГрд╢реНрдп рдХреЛ рдмрдЪрд╛рдПрдВ рдФрд░ рдЪрд▓рд╛рдПрдВред  рдЕрдм рдЙрди рд▓реЛрдЧреЛрдВ рдХреЛ рдХреИрд╕реЗ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЕрд╕реАрдорд┐рдд рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24b/f58/b6a/24bf58b6a0a1d4258295902f5d05c6bd.png"></div><br>  <i>рдЕрдм рд╣рдо рдХреЗрд╡рд▓ рд╕реАрдорд┐рдд рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</i> <br><br><h2>  рдЯреЙрд╡рд░ рдиреАрддрд┐: рджреБрд╢реНрдорди, рд▓рд╣рд░реЗрдВ рдФрд░ рд░рд╛рд╕реНрддрд╛ </h2><br>  рдпрд╣ рд╣рдорд╛рд░реЗ рджреБрд╢реНрдордиреЛрдВ рдХреЛ "рдорд╛рд░реНрдЧ рдкреНрд░рд╢рд╕реНрдд" рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред  рдорд╛рд░реНрдЧ рдХреЗ рдкрд╣рд▓реЗ рдмрд┐рдВрджреБ рдкрд░ рджреБрд╢реНрдорди рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВ, рдЕрдЧрд▓реЗ рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рджреЛрд╣рд░рд╛рддреЗ рд╣реИрдВ рдЬрдм рддрдХ рдХрд┐ рд╡реЗ рдХреБрдХреА рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪрддреЗред <br><br>  рдЖрдк рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЗрд╕ рддрд░рд╣ рдЖрдЧреЗ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><ol><li>  рджреБрд╢реНрдорди рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд╕рдбрд╝рдХ рд╕реЗрдЯ рдХрд░реЗрдВ </li><li>  рджреБрд╢реНрдорди рдХреЛ рд╕рдбрд╝рдХ рдХреЗ рдХрд┐рдирд╛рд░реЗ рд▓реЗ рдЬрд╛рдПрдВ </li><li>  рджреБрд╢реНрдорди рдХреЛ рдореЛрдбрд╝реЛ рддрд╛рдХрд┐ рд╡рд╣ рдЖрдЧреЗ рджрд┐рдЦреЗ </li></ol><br><h3>  Waypoint рд╕реЗ рдПрдХ рд╕рдбрд╝рдХ рдмрдирд╛рдирд╛ </h3><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдкрд░ рд░рд╛рдЗрдЯ-рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдПрдХ рдирдпрд╛ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ <em>рд▓рд┐рдП Empty</em> рдЪреБрдиреЗрдВред  рдЗрд╕реЗ <em>рд╕рдбрд╝рдХ рдХрд╛</em> рдирд╛рдо рджреЗрдВ рдФрд░ рдЗрд╕реЗ <em>(0, 0, 0) рдкрд░ рд░рдЦреЗрдВ</em> ред <br><br>  рдЕрдм <em>Hierarchy</em> рдореЗрдВ <em>рд░реЛрдб</em> рдкрд░ рд░рд╛рдЗрдЯ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рд░реЛрдб рдХреЗ рдмрдЪреНрдЪреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдФрд░ рдЦрд╛рд▓реА рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред  рдЗрд╕реЗ <em>Waypoint0</em> рдирд╛рдо рджреЗрдВ рдФрд░ рдмрд┐рдВрджреБ <em>(-12, 2, 0) рдкрд░ рд░рдЦреЗрдВ</em> - рдпрд╣рд╛рдВ рд╕реЗ рджреБрд╢реНрдорди рдЕрдкрдиреЗ рдЖрдВрджреЛрд▓рди рдХреЛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78a/21a/044/78a21a0443e9b71b4c28064196cd0f8f.png"></div><br>  рдЗрд╕реА рдкреНрд░рдХрд╛рд░, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирд╛рдореЛрдВ рдФрд░ рдкрджреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╛рдБрдЪ рдФрд░ рдорд╛рд░реНрдЧ рдмрд┐рдВрджреБ рдмрдирд╛рдПрдБ: <br><br><ul><li>  Waypoint1: (X: 7, Y: 2, Z: 0) </li><li>  Waypoint2: (X: 7, Y: -1, Z: 0) </li><li>  Waypoint3: (X: -7.3, Y: -1, Z: 0) </li><li>  Waypoint4: (X: -7.3, Y: -4.5, Z: 0) </li><li>  Waypoint5: (X: 7, Y: -4.5, Z: 0) </li></ul><br>  рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдорд╛рд░реНрдЧ рдХреЗ рдмрд┐рдВрджреБ рдФрд░ рдкрд░рд┐рдгрд╛рдореА рдорд╛рд░реНрдЧ рджрд┐рдЦрд╛рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c5/894/e67/6c5894e675d3be7fedc6bf87038b2188.png"></div><br><h2>  рд╢рддреНрд░реБ рдмрдирд╛рдирд╛ </h2><br>  рдЕрдм рдХреБрдЫ рджреБрд╢реНрдорди рдкреИрджрд╛ рдХрд░реЗрдВ рддрд╛рдХрд┐ рд╡реЗ рд╕рдбрд╝рдХ рдХреЗ рдХрд┐рдирд╛рд░реЗ-рдХрд┐рдирд╛рд░реЗ рдЪрд▓ рд╕рдХреЗрдВред  <em>Prefabs</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рдПрдХ <em>рд╢рддреНрд░реБ</em> prefab рд╣реИред  рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ <em>(-20, 0, 0) рд╣реИ</em> , рдЗрд╕рд▓рд┐рдП рдирдП рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдСрдл-рд╕реНрдХреНрд░реАрди рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдЕрдиреНрдп рд╕рднреА рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╣ рд▓рдЧрднрдЧ рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдореЙрдиреНрд╕реНрдЯрд░ <code>AudioSource</code> рдореЗрдВ <code>AudioSource</code> рдФрд░ <code>Sprite</code> рдмрдЪреНрдЪрд╛ рд╣реИ, рдФрд░ рд╣рдо рдЗрд╕ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдХреЛ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдХреЛ рдЪрд╛рд▓реВ рдХрд┐рдП рдмрд┐рдирд╛ рдШреБрдорд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d46/5c7/b09/d465c7b0950d7c718abcb8869263753c.png"></div><br><h3>  рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рд╕рдбрд╝рдХ рдкрд░ рдШреБрдорд╛рддреЗ рд╣реИрдВ </h3><br>  <em>Prefabs \ Enemy prefab рдореЗрдВ</em> <em>MoveEnemy</em> рдирд╛рдордХ рдПрдХ рдирдпрд╛ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВред  рдЖрдИрдбреАрдИ рдореЗрдВ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">HideInInspector</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject[] waypoints; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> currentWaypoint = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lastWaypointSwitchTime; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">1.0f</span></span>;</code> </pre> <br>  <code>[HideIn <em>inspector</em> ]</code> , рд░реВрдЯ рдкреЙрдЗрдВрдЯреНрд╕ рдХреА рдПрдХ рдХреЙрдкреА рдПрд░реЗ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ <code>[HideIn <em>inspector</em> ]</code> рдКрдкрд░ <code>[HideIn <em>inspector</em> ]</code> рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рд╣рдо рдЧрд▓рддреА рд╕реЗ рдЗрд╕ рдлреАрд▓реНрдб рдХреЛ <em><em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em></em> рдореЗрдВ рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддреЗ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдЕрдиреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рддрдХ рдЗрд╕рдХреА рдкрд╣реБрдВрдЪ рд╣реЛрдЧреАред <br><br>  <code>currentWaypoint</code> рдкрд░ рдирдЬрд╝рд░ рд░рдЦрддрд╛ рд╣реИ рдХрд┐ рдореМрдЬреВрджрд╛ рд╕рдордп рдореЗрдВ рджреБрд╢реНрдорди рдХрд╛ рдорд╛рд░реНрдЧ рдХрд╣рд╛рдБ рд╕реЗ рд╣реИ, рдФрд░ <code>lastWaypointSwitchTime</code> рдЙрд╕ рд╕рдордп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рджреБрд╢реНрдорди рдЧреБрдЬрд░рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рджреБрд╢реНрдорди рдХреА <code>speed</code> рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕ рд▓рд╛рдЗрди рдХреЛ <code>Start()</code> рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs">lastWaypointSwitchTime = Time.time;</code> </pre> <br>  рдЗрд╕рд▓рд┐рдП рд╣рдо рд╡рд░реНрддрдорд╛рди рд╕рдордп рдХреЗ рдореВрд▓реНрдп рдХреЗ рд╕рд╛рде <code>lastWaypointSwitchTime</code> рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ <code>lastWaypointSwitchTime</code> ред <br><br>  рджреБрд╢реНрдорди рдХреЛ рдорд╛рд░реНрдЧ рдореЗрдВ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, <code>Update()</code> рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ <code>Update()</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 Vector3 startPosition = waypoints [currentWaypoint].transform.position; Vector3 endPosition = waypoints [currentWaypoint + 1].transform.position; // 2 float pathLength = Vector3.Distance (startPosition, endPosition); float totalTimeForPath = pathLength / speed; float currentTimeOnPath = Time.time - lastWaypointSwitchTime; gameObject.transform.position = Vector2.Lerp (startPosition, endPosition, currentTimeOnPath / totalTimeForPath); // 3 if (gameObject.transform.position.Equals(endPosition)) { if (currentWaypoint &lt; waypoints.Length - 2) { // 3.a currentWaypoint++; lastWaypointSwitchTime = Time.time; // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">     } else { // 3.b Destroy(gameObject); AudioSource audioSource = gameObject.GetComponent&lt;AudioSource&gt;(); AudioSource.PlayClipAtPoint(audioSource.clip, transform.position); // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment">   } }</span></span></code> </pre> <br>  рдЪрд▓реЛ рдЪрд░рдг рджрд░ рдЪрд░рдг рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ: <br><br><ol><li>  рд░реВрдЯ рдкреЙрдЗрдВрдЯреНрд╕ рдХреА рд╕рд░рдгреА рд╕реЗ рд╣рдореЗрдВ рд╡рд░реНрддрдорд╛рди рд░реВрдЯ рд╕реЗрдЧрдореЗрдВрдЯ рдХреА рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдВрдд рдХреА рд╕реНрдерд┐рддрд┐ рдорд┐рд▓рддреА рд╣реИред </li><li>  рд╣рдо рд╕реВрддреНрд░ <em>рд╕рдордп = рджреВрд░реА / рдЧрддрд┐</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреВрд░реА рджреВрд░реА рдХреЛ рдХрд╡рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдордп рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдорд╛рд░реНрдЧ рдкрд░ рд╡рд░реНрддрдорд╛рди рд╕рдордп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред  <code>Vector2.Lerp</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ <code>Vector2.Lerp</code> , рд╣рдо рд╢реБрд░реВ рдФрд░ рдЕрдВрдд рд╕рдЯреАрдХ рдЦрдВрдб рдХреЗ рдмреАрдЪ рджреБрд╢реНрдорди рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВред </li><li>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рджреБрд╢реНрдорди <code>endPosition</code> рддрдХ рдкрд╣реБрдВрдЪ <code>endPosition</code> ред  рдпрджрд┐ рд╣рд╛рдБ, рддреЛ рд╣рдо рджреЛ рд╕рдВрднрд╛рд╡рд┐рдд рдкрд░рд┐рджреГрд╢реНрдпреЛрдВ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд░рддреЗ рд╣реИрдВ: <br><ol><li>  рджреБрд╢реНрдорди рдЕрднреА рддрдХ рдорд╛рд░реНрдЧ рдХреЗ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП <code>currentWaypoint</code> рдХрд╛ рдорд╛рди <code>currentWaypoint</code> рдФрд░ <code>currentWaypoint</code> рдХреЛ рдЕрдкрдбреЗрдЯ <code>lastWaypointSwitchTime</code> ред  рдмрд╛рдж рдореЗрдВ рд╣рдо рджреБрд╢реНрдорди рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреЛрдб рдЬреЛрдбрд╝реЗрдВрдЧреЗ рддрд╛рдХрд┐ рд╡рд╣ рдЕрдкрдиреЗ рдЖрдВрджреЛрд▓рди рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рджрд┐рдЦреЗред </li><li>  рджреБрд╢реНрдорди рдорд╛рд░реНрдЧ рдХреЗ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рдкрд░ рдкрд╣реБрдВрдЪ рдЧрдпрд╛ рд╣реИ, рдлрд┐рд░ рд╣рдо рдЗрд╕реЗ рдирд╖реНрдЯ рдХрд░ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдзреНрд╡рдирд┐ рдкреНрд░рднрд╛рд╡ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рдмрд╛рдж рдореЗрдВ рд╣рдо рдПрдХ рдХреЛрдб рдЬреЛрдбрд╝реЗрдВрдЧреЗ рдЬреЛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ <code>health</code> рдХрдо рдХрд░реЗрдЧрд╛ред </li></ol></li></ol><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред <br><br><h3>  рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЖрдВрджреЛрд▓рди рдХреА рджрд┐рд╢рд╛ рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреЗрддреЗ рд╣реИрдВ </h3><br>  рдЕрдкрдиреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдорд╛рд░реНрдЧ рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдХреНрд░рдо рдирд╣реАрдВ рдкрддрд╛ рд╣реИред <br><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╕рдбрд╝рдХ</em> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдПрдХ рдирдИ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВ, рдЬрд┐рд╕реЗ <em>SpawnEnemy</em> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЗрд╕реЗ IDE рдореЗрдВ рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрди рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject[] waypoints;</code> </pre> <br>  рд╣рдо рд╡рд╛рдВрдЫрд┐рдд рдХреНрд░рдо рдореЗрдВ рджреГрд╢реНрдп рдореЗрдВ рд╡реЗрдирдкреЙрдЗрдВрдЯ рдХреЗ рд╕рдВрджрд░реНрднреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>waypoints</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╕рдбрд╝рдХ</em> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ <em>рд╡реЗрдкрд╛рдЗрдиреНрд╕</em> рд╕рд░рдгреА рдХреЗ <em>рдЖрдХрд╛рд░</em> рдХреЛ <em>6 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред <br><br>  <em>рддрддреНрд╡ 0</em> рдореЗрдВ <em>Waypoint0</em> , <em>рддрддреНрд╡ 1</em> рдореЗрдВ <em>Waypoint1</em> рдХреЛ рдЪрд┐рдкрдХрд╛рдХрд░, рд╕рдбрд╝рдХ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдмрдЪреНрдЪреЛрдВ рдХреЛ рдЦреЗрддреЛрдВ рдореЗрдВ рдЦреАрдВрдЪреЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95a/1e3/251/95a1e3251247a04f62f8a618b681c052.gif"></div><br>  рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕рд░рдгреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рд╣реА рдХреНрд░рдо рдореЗрдВ рдорд╛рд░реНрдЧ рдмрд┐рдВрджреБ рд╣реИрдВ - рдЖрдк рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ, рджреБрд╢реНрдорди рдХрднреА рднреА рдкреАрдЫреЗ рдирд╣реАрдВ рд╣рдЯрддреЗ рд╣реИрдВ, рд╡реЗ рд▓рдЧрд╛рддрд╛рд░ рдПрдХ рдорд┐рдард╛рдИ рдЗрдирд╛рдо рдХреЗ рд▓рд┐рдП рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдпрд╣ рд╕рдм рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ </h3><br>  IDE рдореЗрдВ <em>SpawnEnemy</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject testEnemyPrefab;</code> </pre> <br>  рдпрд╣ <em>рд╢рддреНрд░реБ</em> <code>testEnemyPrefab</code> рд╕рдВрджрд░реНрдн рдХреЛ <code>testEnemyPrefab</code> рдореЗрдВ <code>testEnemyPrefab</code> ред <br><br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЪрд▓рд╛рддреЗ рд╕рдордп рджреБрд╢реНрдорди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, <code>Start()</code> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ <code>Start()</code> : <br><br><pre> <code class="cs hljs">Instantiate(testEnemyPrefab).GetComponent&lt;MoveEnemy&gt;().waypoints = waypoints;</code> </pre> <br>  рдЗрд╕рд▓рд┐рдП рд╣рдо <code>testEnemy</code> рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд <code>testEnemy</code> рдХреА рдПрдХ рдирдИ рдкреНрд░рддрд┐ <code>testEnemy</code> рдФрд░ рдЗрд╕реЗ рдПрдХ рдорд╛рд░реНрдЧ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВрдЧреЗред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд░реЛрдб</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ <em>рдЯреЗрд╕реНрдЯ рд╢рддреНрд░реБ</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд▓рд┐рдП <em>рд╢рддреНрд░реБ</em> prefab рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рджреБрд╢реНрдорди рд╕рдбрд╝рдХ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдЪрд▓рддрд╛ рд╣реИ (рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП GIF рдореЗрдВ, рдЧрддрд┐ 20 рдЧреБрдирд╛ рдмрдврд╝ рдЬрд╛рддреА рд╣реИ)ред </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b6/b10/384/0b6b1038491a74c27d6b42860e44365e.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдХрд┐ рд╡рд╣ рд╣рдореЗрд╢рд╛ рдирд╣реАрдВ рджреЗрдЦрддрд╛ рдХрд┐ рд╡рд╣ рдХрд╣рд╛рдБ рдЬрд╛ рд░рд╣рд╛ рд╣реИ? </font><font style="vertical-align: inherit;">рдпрд╣ рдордЬрд╝реЗрджрд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдПрдХ рдкреЗрд╢реЗрд╡рд░ рдЦреЗрд▓ рдмрдирд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рджреВрд╕рд░реЗ рднрд╛рдЧ рдореЗрдВ рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЖрдЧреЗ рджреЗрдЦрдирд╛ рд╕рд┐рдЦрд╛рдПрдВрдЧреЗред</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдЧреЗ рдХрд╣рд╛рдБ рдЬрд╛рдирд╛ рд╣реИ? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдкрд╣рд▓реЗ рд╣реА рдмрд╣реБрдд рдХреБрдЫ рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ рдФрд░ рдЬрд▓реНрджреА рд╕реЗ рдЕрдкрдирд╛ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдмрдирд╛рдиреЗ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝ рд░рд╣реЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реАрдорд┐рдд рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд░рд╛рдХреНрд╖рд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рджреБрд╢реНрдорди рд╕рдбрд╝рдХ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ, рд╣рдорд╛рд░реЗ рдХреБрдХреА рдХреА рдУрд░ рдмрдврд╝ рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЦрд┐рд▓рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЗ рдкрд╛рд╕ рд╕реЛрдирд╛ рд╣реИ рдФрд░ рд╡реЗ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЙрдиреНрдирдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреИрдпрд╛рд░ рдкрд░рд┐рдгрд╛рдо </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдпрд╣рд╛рдВ рд╕реЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбрд╛рдЙрдирд▓реЛрдб </font><a href=""><font style="vertical-align: inherit;">рдХрд░реЗрдВ</font></a><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░реЗ рднрд╛рдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЗ рд╡рд┐рд╢рд╛рд▓ рд▓рд╣рд░реЛрдВ рдмрдирд╛рдиреЗ рдХреЛ рджреЗрдЦреЛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдирд╖реНрдЯ рдХрд░ рджреЗрдЧрд╛ред </font><font style="vertical-align: inherit;">рдЬрд▓реНрдж рдорд┐рд▓рддреЗ рд╣реИрдВ!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi413837/">https://habr.com/ru/post/hi413837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi413817/index.html">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рд╡рд┐рд╖рдо рдкреНрд░рддрд┐рд╕реНрдкрд░реНрдзреА рдбреЗрдЯрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕рдЦреНрддреА рд╕реЗ рдПрдХ рдмрд╛рд░</a></li>
<li><a href="../hi413819/index.html">рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рд░реВрд╕ рдореЗрдВ рдЖрдИрдЯреА рдмрд╛рдЬрд╛рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a></li>
<li><a href="../hi413823/index.html">рд╡реНрдпрд░реНрде рд░реЛрдЬрдЧрд╛рд░ рдХрд╛ рдЙрдЫрд╛рд▓</a></li>
<li><a href="../hi413827/index.html">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ 4 рд╕рд╛рд▓ рдкреБрд░рд╛рдирд╛ рд╣реИ</a></li>
<li><a href="../hi413831/index.html">рдЯреЗрд╕реНрд▓рд╛ рдСрдЯреЛрдкрд╛рдпрд▓рдЯ рдХрд╛ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рдЕрдЧрд╕реНрдд рдореЗрдВ "рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрд╡рд╛рдпрддреНрдд рдбреНрд░рд╛рдЗрд╡рд┐рдВрдЧ рд╕реБрд╡рд┐рдзрд╛рдУрдВ" рдХреЗ рд╕рд╛рде рдкрд╣рд▓реА рдмрд╛рд░ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред</a></li>
<li><a href="../hi413839/index.html">рдПрдЖрдИ, рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкрд╛рдареНрдпрдХреНрд░рдоред рдЪрд┐рддреНрд░реЛрдВ рдХрд╛ рд╕рдВрдЧреНрд░рд╣ рдФрд░ рдЕрдиреБрд╕рдВрдзрд╛рди</a></li>
<li><a href="../hi413841/index.html">Google рдЙрддреНрдкрд╛рджреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд▓реНрдк</a></li>
<li><a href="../hi413843/index.html">рдмрд╛рдХреА рдХреЗ рдЖрдЧреЗ рд╡реЗрдореЛ: рдХрдВрдкрдиреА рдХреЗ рд░реЛрдмреЛрдореЛрдмрд╛рдЗрд▓реНрд╕ рдиреЗ 11 рдорд┐рд▓рд┐рдпрди рдХрд┐рд▓реЛрдореАрдЯрд░ рдХреА рджреВрд░реА рддрдп рдХреА рд╣реИ</a></li>
<li><a href="../hi413847/index.html">"рд▓рд┐рд╡рд┐рдВрдЧ" рдЯреНрд░рд┐рдЧрд░ рд╕реНрдорд╛рд░рдХ</a></li>
<li><a href="../hi413849/index.html">рд╕реЗрдирд╣рд╛рдЗрдЬрд░ рдмреНрд░рд╛рдВрдб рд╣рд┐рд╕реНрдЯреНрд░реА: рдлреНрд░реАрдбрдо рдПрдВрдб рд╡рд┐рдЬрдирд┐рдВрдЧ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>