<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥üèø üçû üÜí Die modalen Fenster, die wir verdienen üëß üçê üë©üèø‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Fangen wir an 
 In verschiedenen Kriterien und Qualit√§tsmanifesten gibt es ein Element wie das Blockieren des Bildlaufs, wenn ein modales Fenster ge√∂f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die modalen Fenster, die wir verdienen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483114/"><h2>  Fangen wir an </h2><br>  In verschiedenen Kriterien und Qualit√§tsmanifesten gibt es ein Element wie das Blockieren des Bildlaufs, wenn ein modales Fenster ge√∂ffnet ist.  Ein modales Fenster impliziert nur die Interaktion mit ihm. <br><br>  Viele werden die Frage stellen: ‚ÄûWarum nicht fertige L√∂sungen verwenden?‚Äú.  Das Problem ist, dass diese Funktionalit√§t entweder gar nicht oder nur sehr schlecht implementiert ist.  Sie k√∂nnen die einfachste und schlechteste L√∂sung verwenden: <br><a name="habracut"></a><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: hidden;}</code> </pre> <br>  Hier bekommen wir ein leichtes Zucken der Seite.  <a href="https://codepen.io/Den4ink3424/pen/MWYORaZ">Code</a>  Es ist erw√§hnenswert, dass das Problem nur auftritt, wenn das Scrollen auf der Seite stattfindet. In Safari gibt es ein solches Problem beispielsweise nicht. <br><br><div class="spoiler">  <b class="spoiler_title">Animationsproblem (Gif)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/xz/_i/yj/xz_iyjxnkeepdyap3maqz8d-g4m.gif"><br></div></div><br>  Einige L√∂sungen in den offenen Bereichen von npm bieten das Ersetzen eines Bildlaufs durch einen Einzug oder Block, der als Bildlauf (ein einfacher grauer Balken) gestaltet ist, viel Magie, aber sie beheben das Problem nicht. <br><br>  Wir werden den anf√§nglichen Code ein wenig optimieren und alles funktioniert: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">position</span></span>:fixed; <span class="hljs-attribute"><span class="hljs-attribute">overflow-y</span></span>: scroll; }</code> </pre> <br>  Nun ist ein weiteres Problem aufgetreten: Die Seite springt hoch.  <a href="https://codepen.io/Den4ink3424/pen/povdBOm">Code</a>  Die L√∂sung durch js ist einfach: Wenn Sie die Seite √∂ffnen, nehmen Sie den Wert, zu dem die Seite gescrollt wird, und setzen Sie diesen Wert auf die Eigenschaft <i>top</i> des &lt;body&gt; <a href="https://codepen.io/Den4ink3424/pen/MWYORLW">-Code-</a> Tags. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBodyScrollTop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.pageYOffset || (<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement.ScrollTop) || (<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.scrollTop); } openModalButton.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, e =&gt; { e.preventDefault() body.dataset.scrollY = getBodyScrollTop() <span class="hljs-comment"><span class="hljs-comment">//    body.style.top = `-${body.dataset.scrollY}px` modal.classList.add('modal--open') body.classList.add('body-lock') }) closeModalButton.addEventListener('click', e =&gt; { e.preventDefault() modal.classList.remove('modal--open') body.classList.remove('body-lock') window.scrollTo(0, body.dataset.scrollY) //  ,   })</span></span></code> </pre><br>  Manchmal gibt es auf der Website eine Seite mit wenig Inhalt und ohne Bildlauf. Wenn Sie jedoch ein modales Fenster √∂ffnen, wird es durch unseren Code hinzugef√ºgt.  Lassen Sie uns die Schriftrolle ein wenig modifizieren.  <a href="https://codepen.io/Den4ink3424/pen/NWPwZyj">Fertige L√∂sung</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">existVerticalScroll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.offsetHeight &gt; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.innerHeight } openModalButton.addEventListener(<span class="hljs-string"><span class="hljs-string">'click'</span></span>, e =&gt; { e.preventDefault() body.dataset.scrollY = getBodyScrollTop() modal.classList.add(<span class="hljs-string"><span class="hljs-string">'modal--open'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(existVerticalScroll()) { <span class="hljs-comment"><span class="hljs-comment">//   body.classList.add('body-lock') body.style.top = `-${body.dataset.scrollY}px` } }) closeModalButton.addEventListener('click', e =&gt; { e.preventDefault() modal.classList.remove('modal--open') if(existVerticalScroll()) { //   body.classList.remove('body-lock') window.scrollTo(0,body.dataset.scrollY) } })</span></span></code> </pre><br><h2>  Verf√ºgbarkeit </h2><br>  Wenn Sie nicht dar√ºber nachdenken, wird m√∂glicherweise eine Bewegung √ºber eine Registerkarte au√üerhalb des Modalfensters ausgef√ºhrt.  Dr√ºcke auf gif einfach <b>ein</b> paar Mal die <b>Tabulatortaste</b> . <br><br><div class="spoiler">  <b class="spoiler_title">Animationsproblem (Gif)</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/or/np/nd/ornpndssncfzcqbdnl6dat329tu.gif"><br></div></div><br>  Im Internet gibt es keine einfache L√∂sung f√ºr dieses Problem, und das Schreiben Ihres <s>Kr√ºckenfahrrads</s> ist nicht sehr rational, wenn es eine <a href="https://github.com/davidtheclark/focus-trap">focus-trap.js-Bibliothek gibt</a> .  <a href="https://habr.com/ru/post/338130/">Hier ging der Autor n√§her auf das Thema Bibliotheken und deren Probleme ein</a> . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     const modalFocusTrap = createFocusTrap(".modal"); //      openModalButton.addEventListener('click', e =&gt; { e.preventDefault() body.dataset.scrollY = getBodyScrollTop() modal.classList.add('modal--open') modalFocusTrap.activate(); //  .   if(existVerticalScroll()) { body.classList.add('body-lock') body.style.top = `-${body.dataset.scrollY}px` } }) closeModalButton.addEventListener('click', e =&gt; { e.preventDefault() modal.classList.remove('modal--open') modalFocusTrap.deactivate(); //  .   if(existVerticalScroll()) { body.classList.remove('body-lock') window.scrollTo(0,body.dataset.scrollY) } })</span></span></code> </pre><br><h2>  Zusammenfassung </h2><br>  Selbst wenn die Seite mehrere modale Fenster enth√§lt, k√∂nnen Sie den gesamten Code in eine Funktion einschlie√üen und den Klassennamen des modalen Fensters √ºbergeben. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initModal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">className</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// ,        } initModal('modalName1') initModal('modalName2')</span></span></code> </pre><br>  Das Problem ist auf den ersten Blick einfach, aber es gibt so viele nicht offensichtliche Momente.  Ich denke, dieser Artikel wird Ihnen helfen, bessere modale Fenster zu erstellen.  <a href="https://codesandbox.io/embed/purple-tree-3rdnr%3Ffontsize%3D14%26hidenavigation%3D1%26theme%3Ddark">Bereit Code</a> <br><br><h2>  N√ºtzliche Materialien </h2><br><ul><li>  <a href="https://allyjs.io/data-tables/focusable.html">Fokussierbare Elemente - Browser-Kompatibilit√§tstabelle</a> </li><li>  <a href="https://developer.mozilla.org/ru/docs/Web/API/HTMLElement/dataset">Links f√ºr Anf√§nger, die den Datensatz zum ersten Mal getroffen haben</a> </li><li>  <a href="https://developer.mozilla.org/ru/docs/Web/HTML/Element/dialog">√úber das &lt;dialog&gt; -Tag</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483114/">https://habr.com/ru/post/de483114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483084/index.html">Kamera mit Tracking-Funktion</a></li>
<li><a href="../de483086/index.html">Ergebnisse von 2019: Welche Verm√∂genswerte erwiesen sich f√ºr russische Investoren als die rentabelsten</a></li>
<li><a href="../de483094/index.html">Wie ich meinen Traum verwirklichte, als ich das russische B√ºro von Microsoft besuchte</a></li>
<li><a href="../de483110/index.html">Rostow am Don: IT-Unternehmen, Communities und Veranstaltungen im Jahr 2019</a></li>
<li><a href="../de483112/index.html">Verwendung von Clickhouse als Ersatz f√ºr ELK, Big Query und TimescaleDB</a></li>
<li><a href="../de483116/index.html">Zu Hause ein Teleskoprohr bauen</a></li>
<li><a href="../de483118/index.html">Was wird im Jahr 2020 zu JavaScript hinzugef√ºgt</a></li>
<li><a href="../de483120/index.html">Wie verbinde ich Karten in einer Ellipsoidprojektion, wenn dies nicht vorgesehen ist?</a></li>
<li><a href="../de483124/index.html">Das massivste Gadget in naher Zukunft (kein Smartphone)</a></li>
<li><a href="../de483126/index.html">Kryogene Effekte k√∂nnen den sicheren Transport besch√§digter Elektrofahrzeugbatterien gew√§hrleisten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>