<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìû ü§¶üèΩ ‚ÜóÔ∏è C√≥mo arregl√© una base rota y qu√© sali√≥ de ella üë©üèΩ‚Äçüç≥ ü§úüèº ‚ô®Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Una vez me pidieron que ayudara a "arreglar" una base de datos. CHECKDB durante la verificaci√≥n dio una lista de errores, algunos de los cuales fueron...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo arregl√© una base rota y qu√© sali√≥ de ella</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485144/">  Una vez me pidieron que ayudara a "arreglar" una base de datos.  CHECKDB durante la verificaci√≥n dio una lista de errores, algunos de los cuales fueron marcados como "incorregible".  La aplicaci√≥n funcion√≥, pero todav√≠a estaba de alguna manera inquieta. <br><br>  S√≠, la soluci√≥n correcta en tal situaci√≥n ser√≠a hacer una copia de seguridad desde el momento en que los errores a√∫n no aparecen, localizar los datos corruptos y sobrescribirlos desde una copia limpia.  Pero ... como suele suceder, el error se detect√≥ demasiado tarde, por lo que realmente no hab√≠a nada de qu√© recuperarse.  Por otro lado, habr√≠a una copia de seguridad, no habr√≠a esta historia. <br><a name="habracut"></a><br><h2>  Anamnesis </h2><br>  El primer paso es lanzar DBCC CHECKDB para comprender la magnitud de la tragedia.  El equipo honestamente revis√≥ todas las tablas, en su mayor parte sin encontrar ning√∫n problema.  En la misma conclusi√≥n, hubo cientos de informes de errores "corregibles".  Algo como esto: <br><br><pre><code class="plaintext hljs">Index row (1:386974:44) with values (C_FK_6bb5032ec2f94557a7d4a9d39a356168 = '04DA7FC4-B8F2-4D97-B8D2-B207A918D3DF' and C_PK_dd87d9cad5504a1199d4ddaf511ea6a9 = 'F44E8C34-862D-4952-8821-D0E87143A74E') pointing to the data row identified by (C_PK_dd87d9cad5504a1199d4ddaf511ea6a9 = 'F44E8C34-862D-4952-8821-D0E87143A74E').</code> </pre> <br>  Y algunos errores m√°s graves: <br><br><pre> <code class="plaintext hljs">Table error: Object ID 1333579789, index ID 1, partition ID 72057609974841344, alloc unit ID 72057610075701248 (type In-row data). Page (1:20426) is missing a reference from previous page (1:267203). Possible chain linkage problem.</code> </pre> <br>  Pues bien.  La escala de trabajo se describe, ¬°comencemos! <br><br><h2>  Errores corregibles </h2><br>  Para comprender por qu√© algunos errores pueden repararse f√°cilmente de forma autom√°tica, recordemos c√≥mo se organizan los √≠ndices en MS SQL.  Puede dividirlos en 2 tipos: agrupados y (sorprendentemente) no agrupados.  (No profundizaremos en asuntos especiales como los √≠ndices de almac√©n de columnas; este no es el caso).  Ambos son un √°rbol equilibrado, lo cual es muy conveniente para encontrar datos. <br><br>  Es importante que los √≠ndices de cl√∫ster en su nivel de "hoja" almacenen directamente el contenido de las filas de la tabla.  Pero los √≠ndices no agrupados almacenan solo los datos clave (y, si est√°n disponibles, los campos "incluidos"), as√≠ como un enlace a la fila del √≠ndice del grupo.  Es decir, si tenemos un problema en un √≠ndice no agrupado, simplemente podemos tomar y sobrescribir los datos da√±ados del √≠ndice agrupado.  Bueno, o simplemente reconstruir el √≠ndice batido: es bueno, se conoce la composici√≥n de los campos y los datos de origen est√°n cerca, intactos. <br><br>  La tarea no es completamente creativa, por lo que puede confiarla con seguridad a un autom√≥vil sin alma.  Ejecutar el comando <br><br><pre> <code class="plaintext hljs">DBCC CHECKDB (&lt; &gt;, REPAIR_REBUILD)</code> </pre> <br>  y estudiar el informe de progreso. <br><br>  Tanto el registro de origen como el registro despu√©s de la "correcci√≥n" presentan las direcciones de las p√°ginas da√±adas.  Comparamos estas direcciones y nos aseguramos de que todos los errores marcados como "corregibles" se resolvieron correctamente. <br><br><h2>  Trastorno de conectividad de datos </h2><br>  Ahora algo m√°s serio.  Despu√©s de corregir los √≠ndices no agrupados y borrar el registro de los mensajes de informaci√≥n, el informe contiene tres registros de errores "fatales" <br><br>  Por supuesto, puede darse por vencido y cortar con el comando DBCC CHECKDB (&lt;DB name&gt;, REPAIR_ALLOW_DATA_LOSS).  Pero ... simplemente no quiero perder los datos.  Quiero restaurar todo lo que sea posible al m√°ximo.  Por lo tanto, veamos con m√°s detalle lo que el informe de error nos dice en general. <br><br><pre> <code class="plaintext hljs">Table error: Object ID 1333579789, index ID 1, partition ID 72057609974841344, alloc unit ID 72057610075701248 (type In-row data). Page (1:20426) is missing a reference from previous page (1:267203). Possible chain linkage problem. Table error: Object ID 1333579789, index ID 1, partition ID 72057609974841344, alloc unit ID 72057610075701248 (type In-row data). The previous link (1:267203) on page (1:267204) does not match the previous page (1:20426) that the parent (1:218898), slot 213 expects for this page. Table error: Object ID 1333579789, index ID 1, partition ID 72057609974841344, alloc unit ID 72057610075701248 (type In-row data). B-tree chain linkage mismatch. (1:20426)-&gt;next = (1:267204), but (1:267204)-&gt;Prev = (1:267203).</code> </pre> <br>  El informe contiene una historia turbia de que una p√°gina espera ver a un vecino, pero el vecino no sabe nada al respecto.  Alg√∫n marinero pelevinsky Zheleznyak: subi√≥ a cubierta, pero no cubierta. <br><br>  Para una comprensi√≥n completa, se necesitan m√°s detalles y tendr√°n que ir directamente al contenido de las p√°ginas.  Pero antes de eso, descubriremos c√≥mo se relacionan las p√°ginas de √≠ndice de SQL Server en general. <br><br>  Obviamente, las p√°ginas tienen enlaces jer√°rquicos "verticales", que forman el √°rbol B.  La p√°gina superior contiene enlaces a p√°ginas de un nivel inferior y as√≠ sucesivamente hasta las mismas hojas.  Como ya dije, esto es muy conveniente para encontrar valores: desea encontrar ‚ÄúVasya Pupkin‚Äù y despu√©s de un par de p√°ginas (‚Äúde B a G‚Äù ‚Üí ‚Äúde Ba a Bb‚Äù ‚Üí ‚ÄúVasya Pupkin‚Äù) encuentra el deseado. <br><br>  Pero hay situaciones en las que una consulta necesita seleccionar inmediatamente rangos enteros de l√≠neas ("De Vasya a Grisha").  En este caso, cada vez que baja del √°rbol de arriba a abajo, se topa con √©l.  Para cumplir con tales solicitudes, las p√°ginas almacenan enlaces "horizontales": cada p√°gina conoce el n√∫mero vecino "antes" y "despu√©s".  Con estas relaciones, los escaneos de √≠ndice son mucho m√°s f√°ciles de realizar. <br><br>  A juzgar por el registro de errores, tuvimos una falta de coincidencia de las conexiones horizontales y verticales.  Pero para finalmente estar convencido de esto, echemos un vistazo a las p√°ginas en s√≠. <br><br><h2>  ¬°Necesitamos ir m√°s profundo! </h2><br>  Para ver las p√°ginas, utilizaremos el antiguo, bien merecido e indocumentado equipo DBCC PAGE.  Toma 4 par√°metros: <br><br><ul><li>  Eid Base </li><li>  ID del archivo base </li><li>  ID de p√°gina </li><li>  Nivel de detalle (0 a 3) </li></ul><br>  Dependiendo del √∫ltimo par√°metro, puede ver solo el encabezado del servicio (0), o el contenido completo de la p√°gina (3), o el encabezado y alguna parte del contenido (1 y 2) <br><br>  Por cierto, en SQL Server 2019, finalmente apareci√≥ una vista documentada <a href="https://docs.microsoft.com/en-us/sql/relational-databases/system-dynamic-management-views/sys-dm-db-page-info-transact-sql%3Fview%3Dsql-server-ver15">sys.db_db_page_info</a> , que realiza tareas similares.  Desafortunadamente, solo muestra los datos del encabezado (an√°logo al desglose 0), por lo que a√∫n no responde nuestras tareas por completo. <br><br>  Entonces, para empezar, ejecute el comando <br><br><pre> <code class="sql hljs">DBCC TRACEON (3604, 1)</code> </pre> <br>  para que la salida de los comandos DBCC restantes llegue a nuestra consola y no a ErrorLog <br><br>  Despu√©s de eso, mira el t√≠tulo de la p√°gina 20426: <br><br><pre> <code class="sql hljs">DBCC PAGE (11, 1, 20426, 0)</code> </pre> <br><img src="https://habrastorage.org/webt/q9/sk/db/q9skdbv1yyn36mc3ch4c_ecobfu.jpeg" alt="imagen"><br><br>  Ya veo  La p√°gina quiere estar en el medio entre las p√°ginas 267203 y 267204. Pero ¬øqu√© pasa con estas mismas p√°ginas? <br><br><img src="https://habrastorage.org/webt/gm/f-/tq/gmf-tqwjc6dhcxqxal5oxty2jn4.jpeg" alt="imagen"><br><br><img src="https://habrastorage.org/webt/d-/rp/zp/d-rpzpniwp9siohorqo-hgynp14.jpeg" alt="imagen"><br><br>  ¬°Sin dormir, sin esp√≠ritu!  Est√°n bien sin invitados no invitados. <br>  Bueno, veamos la pr√≥xima tabla de contenido: <br><br><img src="https://habrastorage.org/webt/qi/em/-n/qiem-nxa_e4vfnkysraukw4kifs.jpeg" alt="imagen"><br><br>  El rompecabezas se desarrolla gradualmente: <br><br><ul><li>  En t√©rminos de enlaces "verticales" (estructura de √°rbol de √≠ndice), la p√°gina 20426 debe estar entre 267203 y 267204 </li><li>  Las conexiones horizontales contradicen esto y dicen que no hay nadie entre 267203 y 267204. </li></ul><br>  Ahora intentemos comprender qu√© tipo de datos sufri√≥ el error. <br><br>  Las l√≠neas dentro de la p√°gina se ordenan por clave de √≠ndice.  En consecuencia, conociendo el primer y √∫ltimo valor clave en la p√°gina, puede encontrar el rango de registros "afectados". <br><br>  La clave se puede ver simplemente en la descripci√≥n del √≠ndice.  Usaremos el comando <a href="https://docs.microsoft.com/en-US/sql/relational-databases/system-stored-procedures/sp-helpindex-transact-sql%3Fview%3Dsql-server-ver15">sp_helpindex</a> para esto.  En este caso, la clave es solo una columna, incl.  ponle toda la atenci√≥n a ella. <br><br><img src="https://habrastorage.org/webt/9t/6q/ao/9t6qaomdml8lcbre3lv5mpknaaq.jpeg" alt="imagen"><br><br>  Para encontrar las claves que aparecen en la p√°gina, utilizamos DBCC PAGE con un m√°ximo de 3 niveles de detalle.  Si se desplaza por el registro de salida, puede ver el contenido "en bruto" de cada l√≠nea y un desglose para cada campo: <br><br><img src="https://habrastorage.org/webt/nz/ag/wc/nzagwchaipe2uq0rgennpakg2om.jpeg" alt="imagen"><br><br>  Por cierto, los valores de l√≠mite clave (el primer valor en la p√°gina) tambi√©n se pueden ver en la salida de P√ÅGINA DBCC para la p√°gina de √≠ndice superior (218898, vea la captura de pantalla anterior).  Se muestran en la columna que sigue inmediatamente al n√∫mero de p√°gina. <br><br>  Un examen de las p√°ginas muestra que la p√°gina 20426 contiene exactamente la mitad de las l√≠neas de la p√°gina 267203. La naturaleza de la falla se vuelve clara.  Cuando la p√°gina de la base de datos est√° llena y no tiene m√°s espacio para insertar datos nuevos, se divide por la mitad en 2 p√°ginas nuevas.  Aparentemente, cuando la p√°gina 267203 se llen√≥, se cre√≥ el problema p√°gina 20426. El DBMS comenz√≥ a reconstruir sus enlaces: logr√≥ escribir una nueva p√°gina en la estructura del √≠ndice.  Pero por alguna raz√≥n, los registros horizontales no se pudieron actualizar y la nueva p√°gina se "colg√≥" en un estado indefinido. <br><br><h2>  ¬øQu√© ser√° todo esto para nosotros? </h2><br>  Ciertamente no hay mucho bien.  Obviamente, los enlaces de p√°gina son necesarios para acceder a los datos.  Al ejecutar la consulta, el DBMS determina independientemente de qu√© manera llegar a estos datos.  Pero la regla general (de la cual son posibles las excepciones) es esta: <br><br><ul><li>  Las selecciones "anchas" (por ejemplo, para informes) se realizan utilizando registros horizontales.  Es m√°s f√°cil desplazarse por varias p√°ginas secuencialmente, eligiendo un amplio rango </li><li>  Las consultas de "punto" (actualizar un registro espec√≠fico) se realizan mediante una b√∫squeda de "tabla de contenido". </li></ul><br>  Resulta que cuando cambian registros espec√≠ficos, el DBMS llega a la p√°gina "problema" 20426. Y cuando ejecuta el informe, lee los datos "horizontalmente" y no ve los cambios realizados.  Una vez m√°s: en la pr√°ctica, el algoritmo puede ser m√°s complicado, pero la clase de posibles problemas a√∫n es comprensible. <br><br><h2>  Las eternas preguntas del intelectual ruso </h2><br>  Para ser honesto, todav√≠a no est√° claro para m√≠ c√≥mo podr√≠a suceder esto.  Un DBMS moderno es en realidad una cosa bastante confiable.  Todos los cambios en el archivo de la base de datos (incluido el ajuste en las relaciones horizontales y verticales) se realizan en una transacci√≥n.  Estas operaciones se registran en el registro de transacciones y, si no hay confirmaci√≥n de una operaci√≥n exitosa en este registro, todas las operaciones se revierten.  Aqu√≠ puede ver que la transacci√≥n se complet√≥ con √©xito, pero algunos de los cambios a lo largo de la ruta al archivo de datos se "perdieron". <br><br>  La √∫nica explicaci√≥n plausible que se me ocurri√≥ fue una falla de la cach√© del subsistema de disco.  Todos los datos se almacenaron en la memoria cach√©, luego parte de los registros del archivo de datos y del registro se escribieron en el disco, y luego alguien presion√≥ el interruptor.  Como resultado, los registros "horizontales" modificados no lograron ser registrados, pero la base de datos ya no sab√≠a nada al respecto.  (Y aqu√≠, muchos lectores deber√≠an apresurarse a revisar las bater√≠as de sus controladores de disco industriales) <br><br>  Qu√© hacer es mucho m√°s claro.  Para restaurar la conectividad de una tabla, es suficiente copiar sus datos a otra tabla para que se use la lectura horizontal al copiar.  Para fidelidad, puede especificar expl√≠citamente el m√©todo de acceso DBMS correcto utilizando la sugerencia FORCESCAN <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> T_bca79e9e77c24cdc8bbb7cfd0ddc16fd_BKP <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T_bca79e9e77c24cdc8bbb7cfd0ddc16fd <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (FORCESCAN)</code> </pre> <br>  Despu√©s de eso, puede borrar la tabla de origen y devolver all√≠ los datos copiados. <br><br>  Pero luego se perder√°n los cambios realizados en la p√°gina 20426. <b>Por lo tanto, antes de hacer una copia de la tabla, debe copiar las filas con identificadores de la p√°gina 20426.</b> Y despu√©s de restaurar la tabla, corrija las entradas necesarias.  El acceso a los registros de la p√°gina 20426 es necesario expl√≠citamente mediante identificadores: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> T_bca79e9e77c24cdc8bbb7cfd0ddc16fd <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> C_PK_bca79e9e77c24cdc8bbb7cfd0ddc16fd = <span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre> <br>  Los identificadores se pueden obtener leyendo el contenido de la p√°gina con la misma P√ÅGINA DBCC.  Como ya escrib√≠, hab√≠a exactamente la mitad de estas p√°ginas 267203, es decir, 15 enlaces. <br><br>  Haga una copia de seguridad de las p√°ginas da√±adas, vuelva a cargar la tabla y coincida con los registros coincidentes: despu√©s de un par de decenas de minutos, la tabla se restaur√≥. <br><br><h2>  ¬°Hurra, ganamos!  Pero es verdad? </h2><br>  La verdad es que  Los datos fueron restaurados, CHECKDB dej√≥ de verter errores, incluso el sol mir√≥ por la ventana.  Puede elogiarse con seguridad, levantar un merecido vaso de bebida de h√∫sar y ... recuerde que los datos en la base de datos est√°n conectados no solo con enlaces a p√°ginas.  Entonces, es hora de recoger <a href="https://docs.microsoft.com/en-US/sql/t-sql/database-console-commands/dbcc-checkconstraints-transact-sql%3Fview%3Dsql-server-ver15">DBCC CHECKCONSTRAINTS</a> y sumergirse de <a href="https://docs.microsoft.com/en-US/sql/t-sql/database-console-commands/dbcc-checkconstraints-transact-sql%3Fview%3Dsql-server-ver15">lleno</a> en la lista de claves for√°neas rotas.  Pero esta es una historia completamente diferente ... <br><br><h2>  ¬øQu√© m√°s leer sobre el tema? </h2><br><ul><li>  Sintaxis del comando <a href="https://docs.microsoft.com/en-us/sql/t-sql/database-console-commands/dbcc-checkdb-transact-sql%3Fview%3Dsql-server-ver15">CHECKDB</a> (¬°Preste atenci√≥n a las advertencias sobre los posibles riesgos de usar el comando!) </li><li>  La descripci√≥n no oficial de <a href="https://www.sqlskills.com/blogs/paul/inside-the-storage-engine-using-dbcc-page-and-dbcc-ind-to-find-out-if-page-splits-ever-roll-back/">DBCC PAGE</a> </li><li>  Un buen <a href="https://habr.com/en/post/247373/">art√≠culo</a> sobre √≠ndices MS SQL que explica muchas cosas interesantes.  Incluyendo c√≥mo se almacenan f√≠sicamente los √≠ndices en la base de datos </li></ul></div></div><p>Source: <a href="https://habr.com/ru/post/485144/">https://habr.com/ru/post/485144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485126/index.html">Mu-mu, woof-woof, quack-quack: evoluci√≥n de la comunicaci√≥n ac√∫stica</a></li>
<li><a href="../485128/index.html">Ahorre en licencias Mikrotik CHR</a></li>
<li><a href="../485132/index.html">√önete al Festival de juegos independientes de Google Play</a></li>
<li><a href="../485136/index.html">Rastreo y monitoreo de Istio: microservicios y el principio de incertidumbre</a></li>
<li><a href="../485138/index.html">Localizaci√≥n de aplicaciones: c√≥mo hicimos amigos traducci√≥n y desarrollo</a></li>
<li><a href="../485148/index.html">Este adorable Unicode</a></li>
<li><a href="../485152/index.html">Pasant√≠a de primavera para desarrolladores m√≥viles en Redmadrobot</a></li>
<li><a href="../485154/index.html">C√≥mo hacer que una marca sea geek de un desarrollador: un sistema de motivaci√≥n de programador</a></li>
<li><a href="../485156/index.html">C√≥mo ser un crowdfunder dom√©stico (primera parte)</a></li>
<li><a href="../485158/index.html">Nikolay Vavilov. El hombre que quer√≠a alimentar al mundo entero y muri√≥ de hambre en una celda de la prisi√≥n.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>