<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§• ğŸŒ¾ ğŸ”Š Ketika "ZoÃ«"! == "ZoÃ«", atau mengapa Anda perlu menormalkan string Unicode âš±ï¸ â›³ï¸ ğŸ¤˜ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pernah mendengar normalisasi Unicode? Kamu tidak sendiri Tetapi semua orang perlu tahu tentang ini. Normalisasi dapat menghemat banyak masalah. Cepat ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ketika "ZoÃ«"! == "ZoÃ«", atau mengapa Anda perlu menormalkan string Unicode</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/445274/">  Pernah mendengar normalisasi Unicode?  Kamu tidak sendiri  Tetapi semua orang perlu tahu tentang ini.  Normalisasi dapat menghemat banyak masalah.  Cepat atau lambat, sesuatu yang mirip dengan yang ditunjukkan pada gambar berikut terjadi pada pengembang mana pun. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aed/667/54c/aed66754c254c8eb6c077d2a418f1db6.png"></div>  <i><font color="#999999">ZoÃ« bukan ZoÃ«</font></i> <br><a name="habracut"></a><br>  Dan ini, omong-omong, bukan contoh dari JavaScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aneh</a> lainnya.  Penulis materi, terjemahan yang kami terbitkan hari ini, mengatakan bahwa ia dapat menunjukkan bagaimana masalah yang sama memanifestasikan dirinya ketika menggunakan hampir setiap bahasa pemrograman yang ada.  Secara khusus, kita berbicara tentang skrip Python, Go, dan bahkan shell.  Bagaimana cara mengatasinya? <br><br><h2>  <font color="#3AC1EF">Latar belakang</font> </h2><br>  Saya pertama kali mengalami masalah Unicode beberapa tahun yang lalu ketika saya menulis sebuah aplikasi (di Objective-C) yang mengimpor daftar kontak dari buku alamat pengguna dan dari jejaring sosialnya, setelah itu saya menghilangkan duplikat.  Dalam situasi tertentu, ternyata beberapa orang ada di daftar dua kali.  Ini terjadi karena fakta bahwa nama mereka, menurut program, bukan string yang sama. <br><br>  Meskipun dalam contoh di atas dua baris terlihat persis sama, cara mereka disajikan dalam sistem, byte di mana mereka disimpan pada disk berbeda.  Dengan nama depan, <code>"ZoÃ«"</code> karakter Ã« (e with umlaut) mewakili satu titik kode Unicode.  Dalam kasus kedua, kita berurusan dengan dekomposisi, dengan pendekatan untuk mewakili karakter menggunakan beberapa karakter.  Jika Anda, dalam aplikasi Anda, bekerja dengan string Unicode, Anda perlu mempertimbangkan fakta bahwa karakter yang sama dapat direpresentasikan dengan cara yang berbeda. <br><br><h2>  <font color="#3AC1EF">Bagaimana kami sampai pada emoji: secara singkat tentang pengkodean karakter</font> </h2><br>  Komputer bekerja dengan byte, yang hanya angka.  Agar dapat memproses teks pada komputer, orang-orang setuju pada korespondensi karakter dan angka, dan mencapai kesepakatan tentang bagaimana representasi visual karakter harus terlihat. <br><br>  Perjanjian tersebut diwakili oleh pengkodean ASCII (American Standard Code for Information Interchange).  Pengkodean ini menggunakan 7 bit dan dapat mewakili 128 karakter, termasuk alfabet Latin (huruf besar dan kecil), angka dan tanda baca dasar.  ASCII juga menyertakan banyak karakter "tidak dapat dicetak", seperti umpan baris, tab, carriage return, dan lainnya.  Misalnya, dalam ASCII, huruf Latin M (huruf besar m) dikodekan sebagai 77 (4D dalam notasi heksadesimal). <br><br>  Masalah dengan ASCII adalah meskipun 128 karakter mungkin cukup untuk mewakili semua karakter yang biasanya digunakan orang-orang yang menggunakan teks berbahasa Inggris, jumlah karakter ini tidak cukup untuk mewakili teks dalam bahasa lain dan berbagai karakter khusus seperti emoji. <br><br>  Solusi untuk masalah ini adalah adopsi standar Unicode, yang ditujukan untuk kemungkinan mewakili setiap karakter yang digunakan dalam semua teks modern dan kuno, termasuk karakter seperti emoji.  Misalnya, dalam standar Unicode 12.0 terbaru, ada lebih dari 137.000 karakter. <br><br>  Standar Unicode dapat diimplementasikan menggunakan berbagai metode pengkodean karakter.  Yang paling umum adalah UTF-8 dan UTF-16.  Perlu dicatat bahwa dalam ruang web yang paling umum adalah standar untuk pengkodean teks UTF-8. <br><br>  Standar UTF-8 menggunakan 1 hingga 4 byte untuk mewakili karakter.  UTF-8 adalah superset dari ASCII, jadi 128 karakter pertamanya cocok dengan karakter yang diwakili dalam tabel kode ASCII.  Standar UTF-16, di sisi lain, menggunakan 2 hingga 4 byte untuk mewakili 1 karakter. <br><br>  Mengapa keduanya ada standar?  Faktanya adalah teks dalam bahasa Barat biasanya paling efisien dikodekan menggunakan standar UTF-8 (karena sebagian besar karakter dalam teks tersebut dapat direpresentasikan sebagai kode ukuran 1 byte).  Jika kita berbicara tentang bahasa oriental, maka kita dapat mengatakan bahwa file yang menyimpan teks yang ditulis dalam bahasa ini biasanya berkurang ketika menggunakan UTF-16. <br><br><h2>  <font color="#3AC1EF">Poin Kode Unicode dan Pengkodean Karakter</font> </h2><br>  Setiap karakter dalam standar Unicode diberikan nomor identifikasi yang disebut titik kode.  Misalnya, emoji titik kode <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png">  adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">U + 1F436</a> . <br><br>  Saat menyandikan ikon ini, ini dapat direpresentasikan sebagai berbagai urutan byte: <br><br><ul><li>  UTF-8: 4 byte, <code>0xF0 0x9F 0x90 0xB6</code> </li><li>  UTF-16: 4 byte, <code>0xD83D 0xDC36</code> </li></ul><br>  Dalam kode JavaScript di bawah ini, ketiga perintah mencetak karakter yang sama ke konsol browser. <br><br> <code>//         <br> console.log(' <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png"> ') // =&gt; <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png"> <br> //     Unicode (ES2015+) <br> console.log('\u{1F436}') // =&gt; <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png"> <br> //        UTF-16 <br> //      ( 2  ) <br> console.log('\uD83D\uDC36') // =&gt; <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png"></code> <br><br>  Mekanisme internal sebagian besar penerjemah JavaScript (termasuk Node.js dan browser modern) menggunakan UTF-16.  Ini berarti bahwa ikon anjing yang kami pertimbangkan disimpan menggunakan dua unit kode UTF-16 (masing-masing 16 bit).  Oleh karena itu, apa yang dihasilkan oleh kode berikut ini seharusnya tidak dapat dimengerti oleh Anda: <br><br> <code>console.log(' <img src="https://habrastorage.org/webt/j9/wk/dp/j9wkdpjar2e6a4ixmkb6oo4upii.png"> '.length) // =&gt; 2</code> <br> <br><h2>  <font color="#3AC1EF">Kombinasi karakter</font> </h2><br>  Sekarang kembali ke tempat kita mulai, yaitu, mari kita bicara tentang mengapa simbol yang terlihat sama untuk seseorang memiliki representasi internal yang berbeda. <br><br>  Beberapa karakter Unicode dirancang untuk memodifikasi karakter lain.  Mereka disebut menggabungkan karakter.  Mereka berlaku untuk karakter dasar, misalnya: <br><br><ul><li> <code>n + Ëœ = Ã±</code> </li> <li> <code>u + Â¨ = Ã¼</code> </li> <li> <code>e + Â´ = Ã©</code> </li> </ul><br>  Seperti yang dapat Anda lihat dari contoh sebelumnya, karakter yang dapat dikombinasikan memungkinkan Anda untuk menambahkan diakritik ke karakter dasar.  Tetapi kemampuan transformasi karakter Unicode tidak terbatas pada ini.  Misalnya, beberapa urutan karakter dapat direpresentasikan sebagai ligatur (sehingga Anda dapat berubah menjadi Ã¦). <br><br>  Masalahnya adalah karakter khusus dapat direpresentasikan dengan berbagai cara. <br><br>  Misalnya, huruf Ã© dapat direpresentasikan dalam dua cara: <br><br><ul><li>  Menggunakan titik kode tunggal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">U + 00E9</a> . </li><li>  Menggunakan kombinasi huruf e dan tanda akut, yaitu, menggunakan dua titik kode - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">U + 0065</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">U + 0301</a> . </li></ul><br>  Karakter yang dihasilkan dari penggunaan salah satu dari cara-cara ini mewakili huruf Ã© akan terlihat sama, tetapi ketika dibandingkan, ternyata karakternya berbeda.  Garis yang berisi mereka akan memiliki panjang yang berbeda.  Anda dapat memverifikasi ini dengan menjalankan kode berikut di konsol browser. <br><br><pre> <code class="plaintext hljs">console.log('\u00e9') // =&gt; Ã© console.log('\u0065\u0301') // =&gt; Ã© console.log('\u00e9' == '\u0065\u0301') // =&gt; false console.log('\u00e9'.length) // =&gt; 1 console.log('\u0065\u0301'.length) // =&gt; 2</code> </pre> <br>  Ini dapat menyebabkan kesalahan yang tidak terduga.  Misalnya, mereka dapat diekspresikan dalam kenyataan bahwa program, untuk alasan yang tidak diketahui, tidak dapat menemukan beberapa entri dalam database, di mana pengguna, memasukkan kata sandi yang benar, tidak dapat masuk ke sistem. <br><br><h2>  <font color="#3AC1EF">Normalisasi garis</font> </h2><br>  Masalah di atas memiliki solusi sederhana, yang terdiri dari normalisasi string, dalam membawa mereka ke "representasi kanonik". <br><br>  Ada empat bentuk standar (algoritma) normalisasi: <br><br><ul><li>  NFC: Normalisasi dari Komposisi Canonical. </li><li>  NFD: Normalisasi Membentuk Dekomposisi Canonical. </li><li>  NFKC: Komposisi Kompatibilitas Bentuk Normalisasi. </li><li>  NFKD: Dekomposisi Kompatibilitas Bentuk Normalisasi. </li></ul><br>  Bentuk normalisasi yang paling umum digunakan adalah NFC.  Saat menggunakan algoritma ini, semua karakter didekomposisi terlebih dahulu, setelah itu semua urutan penggabungan disusun kembali dalam urutan yang ditentukan oleh standar.  Untuk penggunaan praktis, Anda dapat memilih bentuk apa pun.  Yang utama adalah menerapkannya secara konsisten.  Akibatnya, penerimaan data yang sama pada input program akan selalu mengarah pada hasil yang sama. <br><br>  Dalam JavaScript, dimulai dengan standar ES2015 (ES6), ada metode bawaan untuk menormalkan string - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">String.prototype.normalize ([form])</a> .  Anda dapat menggunakannya di lingkungan Node.js dan di hampir semua browser modern.  Argumen <code>form</code> dari metode ini adalah pengidentifikasi string dari bentuk normalisasi.  Standarnya adalah bentuk NFC. <br><br>  Kami kembali ke contoh yang dipertimbangkan sebelumnya, menerapkan normalisasi kali ini: <br><br><pre> <code class="plaintext hljs">const str = '\u0065\u0301' console.log(str == '\u00e9') // =&gt; false const normalized = str.normalize('NFC') console.log(normalized == '\u00e9') // =&gt; true console.log(normalized.length) // =&gt; 1</code> </pre> <br><h2>  <font color="#3AC1EF">Ringkasan</font> </h2><br>  Jika Anda mengembangkan aplikasi web dan menggunakan apa yang dimasukkan pengguna di dalamnya, selalu menormalkan data teks yang diterima.  Dalam JavaScript, Anda dapat menggunakan metode string standar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">normalisasi ()</a> untuk melakukan normalisasi. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda mengalami masalah dengan string yang dapat diselesaikan dengan normalisasi? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445274/">https://habr.com/ru/post/id445274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445264/index.html">Pra-muat, prefetch, dan tag lainnya</a></li>
<li><a href="../id445266/index.html">GeekBrains bersama dengan Rostelecom akan melakukan IoT Hackathon</a></li>
<li><a href="../id445268/index.html">Detail GraphQL: Apa, Bagaimana, dan Mengapa</a></li>
<li><a href="../id445270/index.html">[bookmark] Bash untuk pemula: 21 perintah yang berguna</a></li>
<li><a href="../id445272/index.html">JavaScript adalah bahasa pemrograman terbaik untuk pemula. Jadi atau tidak?</a></li>
<li><a href="../id445276/index.html">Panduan UseEffect Lengkap</a></li>
<li><a href="../id445278/index.html">Cara membuat game jika Anda tidak pernah seorang artis</a></li>
<li><a href="../id445280/index.html">Profitabilitas situs dan layanan</a></li>
<li><a href="../id445284/index.html">VKontakte Analisis Produk ClickHouse</a></li>
<li><a href="../id445286/index.html">Pijakan kaki untuk otak: Platform Pendaftaran Terdistribusi Hedera Hashgraph</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>