<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🈺 👾 🤵🏾 Pesca inteligente en FishSensor 🛶 ♿️ 👉🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Un mal día de pesca es mejor que un buen día de trabajo". Hay una gran cantidad de alarmas electrónicas de mordida. Mi versión se distingue por la pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pesca inteligente en FishSensor</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462043/"><img src="https://habrastorage.org/webt/4w/hy/jh/4whyjhfwrcjydimnfvipw90pwn0.jpeg"><br><br>  "Un mal día de pesca es mejor que un buen día de trabajo".  Hay una gran cantidad de alarmas electrónicas de mordida.  Mi versión se distingue por la presencia de WiFi con una aplicación WEB, un acelerómetro y carga inalámbrica, clase de protección IP68.  El cerebro del dispositivo es la computadora más pequeña de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vocore2</a> Linux, acelerómetro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MPU6050</a> , carga Qi basada en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BQ51050BRHLT</a> .  Las fuentes se pueden descargar aquí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> . <br><a name="habracut"></a><br>  Especificaciones FishSensor: <br><br><ul><li>  Sistema operativo OpenWrt 15.05.1 "Chaos Calmer"; </li><li>  Conexión WiFi con dispositivos móviles; </li><li>  rango de comunicación 30-50 m; </li><li>  control de mordida - sonido (solo Android), visual; </li><li>  ajuste remoto de sensibilidad, melodía, volumen; </li><li>  Internet es opcional; </li><li>  3 horas de duración de la batería (batería LiPo 500mAH) </li><li>  carga inalámbrica Qi (hasta 1.5 horas completas) </li><li>  clase de protección IP68; </li><li>  dimensiones totales 60 x 30 x 11 mm; </li><li>  peso 22 g </li></ul><br>  El dispositivo es estructuralmente una placa en la que se encuentran la antena del receptor y el controlador de carga Qi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BQ51050BRHLT</a> , acelerómetro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MPU6050</a> , conector <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vocore2</a> , batería.  Estanqueidad al polvo y al agua debido a un tubo termocontraíble, desde los extremos se rellena con compuesto de silicona Rexant PK-68.  Tire del cable de pesca a través de un tubo de plástico con un diámetro interno de 2 mm. <br><br><img src="https://habrastorage.org/webt/1r/rq/ka/1rrqka03ks4yof4iyeng6uaizew.jpeg"><br><br><h3>  Fabricación de PCB </h3><br>  La pregunta era si sería posible hacer una bobina de inductancia del receptor Qi con un tamaño de 25 x 25 mm, 14 vueltas, un grosor de pista de 0,3 mm, un espacio de 0,2 mm, y cuál sería la inductancia real de la bobina.  Los datos calculados se confirmaron y dieron una inductancia de 4 μH. <br><br><img src="https://habrastorage.org/webt/oj/ot/2z/ojot2zptbzxvlftz5xbhasns58w.jpeg"><br><br><img src="https://habrastorage.org/webt/hd/f6/-0/hdf6-0ypfjytp0zicxxkl_9xbek.jpeg"><br><br><img src="https://habrastorage.org/webt/ai/hx/5m/aihx5mxntv4yhij4l0dfwt8acby.jpeg"><br><br><h3>  Elementos de soldadura </h3><br><img src="https://habrastorage.org/webt/mf/rz/e0/mfrze0ykhy7sc9diubuvydd92so.jpeg"><br><br><img src="https://habrastorage.org/webt/wq/sv/1_/wqsv1_dj76xjl6wkxkxjy6ec-li.jpeg"><br><br><h3>  Configuración de carga Qi </h3><br>  Un punto interesante fue la sintonización de la resonancia del circuito oscilatorio.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Se</a> confirmaron las recomendaciones y las fórmulas de cálculo de la hoja de datos sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">BQ51050BRHLT</a> .  Inductancia 4 µH, inductancia con una pantalla de ferrita 7 µH, condensador en paralelo 6.5 nF, condensador en serie con bobina 422 nf.  El factor de calidad del circuito resultó ser muy bajo 22 debido a la gran resistencia de la bobina de 1,7 ohmios (una hoja de datos recomendó un factor de calidad de más de 500).  Sin embargo, todo funcionó perfectamente, resonancia estable a una distancia de 10 mm de la bobina del transmisor. <br><br><img src="https://habrastorage.org/webt/ee/ix/7x/eeix7x6ux18buiz2oodmlraeqx0.jpeg"><br><br>  Error de cálculo constructivo: el indicador de carga se encuentra en el costado de la antena, es decir  no es visible cuando FishSensor está en el transmisor del cargador.  Pero el proceso de carga es visible en el indicador del transmisor Qi mismo. <br><br><h3>  Configuración del acelerómetro </h3><br><img src="https://habrastorage.org/webt/ro/4n/vz/ro4nvz4oep7r8utyryg-3cv24yg.jpeg"><br><br><h3>  Software </h3><br>  Vocore2 a bordo de fábrica instalado OC OpenWrt 15/05/1 "Chaos Calmer".  Se puede acceder al dispositivo a través de WiFi a través de un navegador gracias al Luci preinstalado.  Usamos el modo de punto de acceso AP. <br>  Instalé el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">php5</a> y todas las bibliotecas necesarias para formar la interfaz web.  Instaló un paquete para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MPU6050</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">leon0516</a> .  Al inicio, coloqué los archivos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ejecución automática</a> del controlador MPU6050 y mi script escrito en el 6050.sh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bash</a> .  El controlador MPU6050 genera un archivo de texto de lecturas de acelerómetro /tmp/mpu6050.txt.  6050.sh analiza solo los cambios en el eje Z en el archivo /tmp/mpu6050.txt y escribe su registro en /www/mess.log.  Las páginas de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configuración y visualización</a> están escritas en php. <br><br>  Conectamos el teléfono inteligente a FishSensor como punto de acceso.  Instalar en el escritorio desde el navegador como una aplicación web.  Para Android, en la configuración del navegador, habilitamos la reproducción automática de archivos de audio (en iOs, una política de seguridad prohíbe dicha finta). <br><br><img src="https://habrastorage.org/webt/sb/ps/gw/sbpsgwz0d3arxgevc9kkw6zx6km.jpeg"><br><br>  Enfrentó el problema de almacenamiento en caché de datos escritos en un archivo de texto por el sistema operativo OpenWrt.  Las lecturas del acelerómetro se escriben en un archivo cuando la memoria caché está llena, a veces los retrasos alcanzan hasta 1 segundo.  Un parche existente para desactivar el almacenamiento en caché de archivos está roto.  Pensé que para mi tarea esto no es muy relevante y decidí dejar el problema hasta tiempos mejores. <br><br><h3>  Demo </h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BgH4hMPE99U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Las pruebas a gran escala aún no se han llevado a cabo, están previstas para este mes. <br><br>  PD El desarrollo de la idea puede ser un destornillador inalámbrico con un Vocore instalado para enganchar el equipo en el momento de la mordida.  En el máximo desarrollo, el servicio Yandex.Fishing. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/462043/">https://habr.com/ru/post/462043/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../462029/index.html">19 características útiles del archivo .htaccess</a></li>
<li><a href="../462031/index.html">¡Como si leyeras los registros !: inicia Hotspot 2.0 en la red Wi-Fi en el metro</a></li>
<li><a href="../462033/index.html">La última cena de desarrolladores</a></li>
<li><a href="../462035/index.html">Python Vs R - Ciencia de datos</a></li>
<li><a href="../462041/index.html">Enfoques de segmentación móvil - Traducción</a></li>
<li><a href="../462045/index.html">Otra opinión sobre la diferencia entre bin, sbin, usr / bin, usr / sbin</a></li>
<li><a href="../462047/index.html">Blockchain como plataforma de transformación digital</a></li>
<li><a href="../462049/index.html">Cómo convertirse en un especialista más buscado en el campo de la ciencia de datos en 2019</a></li>
<li><a href="../462051/index.html">Análisis: cómo ganar dinero con inversiones en índices bursátiles y ETF</a></li>
<li><a href="../462055/index.html">Experiencia traduciendo un gran proyecto de Flow a TypeScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>