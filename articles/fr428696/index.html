<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîè üè° üîª Commentaires sur Telegram Channel üë¥üèª üëÉüèº üí®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La connaissance des robots t√©l√©grammes s'est r√©v√©l√©e d√©routante - au travail, il √©tait n√©cessaire de devancer une √©quipe de coll√®gues, et, connaissant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Commentaires sur Telegram Channel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428696/">  La connaissance des robots t√©l√©grammes s'est r√©v√©l√©e d√©routante - au travail, il √©tait n√©cessaire de devancer une √©quipe de coll√®gues, et, connaissant bien l'API interne, le bot a √©t√© √©crit en quelques jours (r√©vis√© et re√ßu par la suite, <i>tel badge de v√©rification du t√©l√©gramme</i> ) <br><br>  En cons√©quence, deux bots ont √©t√© √©crits (le principal et celui de distribution), sur lesquels la direction s'est calm√©e, et j'ai commenc√© le samizdat. <br><br>  Une fois de plus, en jouant avec le prototype, je voulais trouver quoi d'autre int√©ressant peut √™tre rapidement √©crit dans la pile des t√©l√©grammes.  Le choix est tomb√© sur les commentaires. <br><a name="habracut"></a><br><blockquote>  <i>Bot @CommentsUserBot pour les commentaires dans le canal de t√©l√©gramme</i> </blockquote><br>  Il y a des canaux dans le t√©l√©gramme, mais ils ne peuvent pas √™tre comment√©s, et il y a des chats o√π vous ne pouvez pas √©crire de nouvelles - vous recevrez soit tous les messages de spam, soit rien si vous passez en mode <i>silencieux</i> . <br><blockquote>  <i>Cependant, si vous cr√©ez une √©pingle avec une notification dans le chat, vous pouvez √©muler la publication de aka dans #channel.</i> </blockquote><img src="https://habrastorage.org/getpro/habr/post_images/9bb/465/515/9bb4655152f573aa3c1b5020d6f7fb8b.jpg" alt="image"><br><br>  Apr√®s r√©flexion, je suis all√© lire la documentation de <i>telegra.ph</i> .  J'ai d√©j√† d√ª √©crire un analyseur de nouvelles pour le site d'entreprise pour IV, et j'avais une id√©e des widgets qui existent sur la plate-forme ( <i>cependant, certains n'ont pas d√©marr√©</i> ).  De plus, dans la communaut√© des d√©veloppeurs de bots, j'ai eu quelques API non publiques qui m'ont √©t√© utiles plus tard. <br><br>  Tout semblait clair, et au cours du week-end, j'ai √©labor√© un prototype du bot de commentaires pour la cha√Æne de t√©l√©gramme - un bouton accroch√© au message, avec une transition vers le bot pour √©crire du texte, puis la g√©n√©ration de la page de commentaires dans le t√©l√©graphe.  Dans le canal lui-m√™me, le bouton doit afficher le nombre de commentaires. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eb3/3b7/fc4/eb33b7fc45c35ba6dae070eaec1815bf.jpg" alt="image"><br><blockquote>  <i>Techniquement, le serveur ne fonctionne que lorsqu'un commentaire est publi√©.</i>  <i>Tout le reste - texte et graphiques - est stock√© et mis en cache par le t√©l√©graphe lui-m√™me.</i> </blockquote><br>  Apr√®s avoir bourr√© les d√©veloppeurs pour les tests, j'ai recueilli des commentaires, esquiss√© un plan et commenc√© √† d√©poser silencieusement les modifications.  Ainsi, au d√©part, le mode de mise √† jour automatique de la cha√Æne a √©t√© remplac√© par les param√®tres (manuel ou automatique, remplacement de la publication d'origine ou publication d'une publication de commentaire).  Les commentaires eux-m√™mes ont √©t√© remplis de widgets, de graphiques et de vid√©os ( <i>merci √† Oleg O. pour avoir test√© les vuln√©rabilit√©s. Au fait, il a √©galement un bon bot de commentaires @CommentsBot</i> ). <br><blockquote>  <i>√Ä ce moment-l√†, j'ai install√© telegram-x, et l'une des mises √† jour importantes √©tait que, une fois enregistr√© dans le bot, vous n'avez pas besoin d'appuyer sur start √† chaque fois que vous entrez √† partir du lien profond.</i> </blockquote>  Commentaires, car un chat plat existe d√©j√†, il a √©t√© d√©cid√© de faire un arbre.  Je n'avais pas √©crit un tel stockage auparavant, mais apr√®s quelques articles googl√©, la base de donn√©es a pu les dig√©rer.  La limitation actuelle de la profondeur des branches est de 10 niveaux.  Le nombre de commentaires en page 20, avec le pr√©-affichage des r√©ponses dans les branches, le nombre de commentaires et la pagination. <br><br>  Oui, le t√©l√©graphe ne permet pas de se retourner avec la conception de la page, mais c'√©tait exactement ce qu'il fallait - un bot dans <i>l'√©cosyst√®me des t√©l√©grammes</i> - il n'y a pas d'autorisations suppl√©mentaires et d'acc√®s aux sites.  Les polices ne s'envolent pas et les pages de commentaires elles-m√™mes fonctionnent via <i>Instant View</i> .  L'utilisateur lui-m√™me fourre ensuite un commentaire au format habituel, dans un t√©l√©gramme - avec des √©motic√¥nes, des autocollants, des liens et plus encore. <br><br>  L'√©dition est remplac√©e par l'ajout du commentaire actuel.  En g√©n√©ral, cela suffit, car vous pouvez supprimer vos propres commentaires ( <i>directement depuis la page des</i> commentaires). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a6/0d4/b98/5a60d4b98a9c85e6bd09199d68c45cbe.jpg" alt="image"><br><br>  Puis, lorsque le bot a voulu utiliser de grandes cha√Ænes ( <i>&gt; 100 000 abonn√©s</i> ), la question de l'administration s'est pos√©e.  La suppression des commentaires r√©pr√©hensibles et des interdictions d'utilisateurs a √©t√© ajout√©e.  En outre, en raison de l'hostilit√© personnelle au spam, la notification des r√©ponses est d√©sactiv√©e par d√©faut pour l'utilisateur, mais les param√®tres vous permettent de vous abonner √† tous les commentaires ainsi que de canaliser / publier des commentaires, ainsi que le choix du niveau de commentaire.  Tout cela provient d'un bot-spammeur s√©par√©, donc en le bloquant par un dunno de l'interface de t√©l√©gramme, vous pouvez toujours √©crire des commentaires sur d'autres canaux. <br><br>  L'ic√¥ne con√ßue dans le gimp est peinte pour toutes les entit√©s du projet - bot, bot de notification, actualit√©s du projet et chat de support. <br><br>  √Ä propos des interfaces linguistiques: pages t√©l√©graphiques en <i>fr</i> et bots en <i>fr / ru</i> (travaux de d√©tection automatique). <br><blockquote>  <i>Les commentaires sont all√©s tr√®s loin en Am√©rique du Sud.</i>  <i>Maintenant, les bons Samaritains traduisent des fichiers sur le github pour plus de localisation.</i> </blockquote>  Au printemps (en √©t√©?), Lorsque l'ILV a commenc√© √† bloquer les acc√®s, il est devenu un peu g√™nant pour moi de d√©velopper (dans le train, sur la route des travaux / c - le double ssh vers le serveur tombe p√©riodiquement), de sorte que le rythme de d√©veloppement (d√©j√† faible) a √©t√© r√©duit.  Maintenant, je recueille des commentaires, √©labore un plan d'am√©lioration et j'√©cris de temps en temps un autre bot, dont j'aurai besoin dans le cadre du projet en cours. <br><br>  Le bot @CommentsUserBot pour les commentaires dans le canal de t√©l√©gramme. <br><br>  Connectez-vous, √©crivez, discutez) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428696/">https://habr.com/ru/post/fr428696/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428680/index.html">Cr√©ation et int√©gration de bot VK dans un groupe via VkBotLongPoll [Python]</a></li>
<li><a href="../fr428682/index.html">Fallout 76 auto-destructeur</a></li>
<li><a href="../fr428688/index.html">Configuration de l'environnement de travail dans Docker pour l'application yii-framework</a></li>
<li><a href="../fr428690/index.html">Comment enseigner √† votre petite amie comment programmer si vous n'√™tes pas professeur, mais elle croit en vous</a></li>
<li><a href="../fr428694/index.html">L'histoire d'un jeu unique ou d'une strat√©gie 4x qui a commenc√© il y a 20 ans et qui est toujours vivante</a></li>
<li><a href="../fr428698/index.html">The Insaisissable Space Pirate: cachez-vous dans le frigo des flics, battez la guerre des dro√Ødes et crachez dans les yeux de Sauron</a></li>
<li><a href="../fr428700/index.html">Comment l'apprentissage automatique chez YouDo se transforme en production. Conf√©rence √† Yandex</a></li>
<li><a href="../fr428702/index.html">Des √©chos de magie au service des sciences exactes</a></li>
<li><a href="../fr428704/index.html">Entra√Ænements de prologue</a></li>
<li><a href="../fr428706/index.html">Crypt Bugs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>