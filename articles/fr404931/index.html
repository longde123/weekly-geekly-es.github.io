<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåí üßöüèº üßëüèª Comment Petya est-il distribu√©? üàπ üíú üíÖüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Encore une fois, bri√®vement sur la derni√®re √©pid√©mie 


- Si vous √™tes infect√©, ne payez pas la ran√ßon - l'adresse wowsmith123456@posteo.net est bloqu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment Petya est-il distribu√©?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/404931/"><h1 id="esche-raz-korotko-o-posledney-epidemii">  Encore une fois, bri√®vement sur la derni√®re √©pid√©mie </h1><br><ul><li>  Si vous √™tes infect√©, ne payez pas la ran√ßon - l'adresse wowsmith123456@posteo.net est bloqu√©e par le fournisseur, ce qui rend impossible l'obtention d'une cl√© de d√©cryptage.  <em>(ce que l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> a d√©j√† √©t√© - environ.)</em> </li><li>  La distribution a lieu sur les ordinateurs dot√©s du dernier syst√®me Windows du domaine. </li><li>  La cr√©ation d'un fichier dans C: \ Windows \ perfc bloque le vecteur d'attaque via WMIC. </li><li>  Si CHKDSK appara√Æt √† l'√©cran apr√®s le red√©marrage de l'ordinateur, vous devez imm√©diatement √©teindre l'ordinateur - √† ce moment, les fichiers sont crypt√©s. </li></ul><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/e12/10a/b89/e1210ab8950fcd75a15dcdaa250c90a0.png" alt="image"></p><br><p>  Ainsi que dans le cas de la derni√®re attaque WannaCry, il est recommand√© d'installer la mise √† jour de Microsoft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MS17-010</a> d√®s que possible.  Si pour une raison quelconque, il est impossible d'installer un correctif, il est recommand√© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©sactiver le protocole SMBv1</a> . </p><a name="habracut"></a><br><h1 id="rasprostranenie-virusa">  Propagation du virus </h1><br><p>  Petya &amp; Mischa, contrairement √† WannaCry, sont distribu√©s au sein du r√©seau local (par d√©faut, un environnement s√©curis√©).  Dans les cas √©tudi√©s, les m√©canismes de distribution via Internet n'√©taient pas int√©gr√©s. </p><br><p>  Apr√®s avoir d√©marr√© le ran√ßongiciel, l'ordinateur infect√© analyse le sous-r√©seau local (/ 24) pour les partages r√©seau ADMIN $ pour copier payloadu sur un autre ordinateur et l'ex√©cuter √† l'aide de PsExec. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/db4/ac2/98f/db4ac298f58767c3ceb47e8ac3764871.png" alt="image"></p><br><p>  L'√©tape suivante consistait √† ex√©cuter la commande WMIC (appel de processus create \ ‚ÄùC: \ Windows \ System32 \ rundll32.exe \\‚Äù C: \ Windows \ perfc.dat \) sur les ordinateurs trouv√©s.  Cette connexion a √©t√© obtenue en utilisant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Mimikatz</a> . </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/6fb/c0b/770/6fbc0b770c724c08cb108f951590641e.png" alt="image"></p><br><p>  La derni√®re m√©thode de distribution utilisait la vuln√©rabilit√© EternalBlue. </p><br><h1 id="kak-rabotaet-virus">  Comment fonctionne le virus </h1><br><p>  Le ransomware n'a analys√© que les disques locaux.  Le r√©seau et les disques externes n'√©taient pas la cible de l'attaque. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/930/5ba/bb1/9305babb130104e37e717266bbb09294.png" alt="image"></p><br><p>  Les fichiers avec les extensions suivantes ont √©t√© chiffr√©s: </p><br><p>  <em>.3ds .7z .accdb .ai .asp .asp .aspx .avhd .back .bak .c .cfg .conf .cpp .cs .ctl .dbf .disk .djvu .doc .docx .dwg .eml .fdb .gz .h .hdd .kdbx .mail .mdb .msg .nrg .ora .ost .ova .ovf .pdf .php .pmf .ppt .pptx .pst .pvi .py .pyc .rar .rtf .sln .sql .tar .vbox .vbs .vcb .vdi .vfd .vmc .vmdk .vmsd .vmx .vsdx .vsv .work .xls .xlsx .xvd .zip</em> </p><br><p>  Il n'y a eu aucun changement significatif dans le m√©canisme de r√©√©criture du secteur d'amor√ßage MBR par rapport √† la campagne de l'ann√©e derni√®re.  Apr√®s l'infection, les journaux syst√®me sont effac√©s (Configuration, Syst√®me, S√©curit√©, Application). </p><br><p>  Le calendrier des t√¢ches ajoute √©galement une commande pour red√©marrer l'ordinateur <strong>une heure apr√®s l'infection</strong> .  Petya utilise √©galement la fonction non document√©e de la fonction WinAPI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NtRaiseHardError</a> pour red√©marrer la machine. </p><br><p><img src="https://habrastorage.org/getpro/geektimes/post_images/037/ed9/71a/037ed971af5b8750037f4a0779668c3f.png" alt="image"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr404931/">https://habr.com/ru/post/fr404931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr404921/index.html">Instructions pour contourner le blocage des t√©l√©grammes. Comment activer SOCKS 5</a></li>
<li><a href="../fr404923/index.html">Comment les bureaux d'enregistrement russes d√©veloppent AdvoCam</a></li>
<li><a href="../fr404925/index.html">Nvidia et ASUS ont d√©velopp√© des cartes vid√©o sp√©cialis√©es pour l'extraction de crypto-monnaie</a></li>
<li><a href="../fr404927/index.html">Les voitures √©lectriques et le ¬´pic du p√©trole¬ª. La v√©rit√© dans le mod√®le - 3</a></li>
<li><a href="../fr404929/index.html">Exp√©rience avec un Atmotube et un moniteur de qualit√© de l'air avec diff√©rentes concentrations de CO2</a></li>
<li><a href="../fr404933/index.html">Programme interplan√©taire SpaceX: une analyse d√©taill√©e du moteur-fus√©e Raptor</a></li>
<li><a href="../fr404937/index.html">PaySend: transferts d'argent de carte en carte dans le monde entier pour 49 roubles</a></li>
<li><a href="../fr404939/index.html">Six r√®gles pour choisir un centre de donn√©es</a></li>
<li><a href="../fr404941/index.html">Comment les passionn√©s restaurent les bandes magn√©tiques √† l'aide de la torr√©faction</a></li>
<li><a href="../fr404943/index.html">Fraude des administrateurs de zone de domaine .Feedback</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>