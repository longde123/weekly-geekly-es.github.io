<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ£Ô∏è üéã üë©‚Äçüíº Nous d√©ployons une machine virtuelle Windows avec un transfert de carte vid√©o virtuelle utilisant QEMU et Intel GVT-g ü§Ω üëé üìû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Comment faire fonctionner Intel GVT-g 


 Bonjour √† tous! Intel a offert une excellente solution au probl√®me √©ternel: "J'ai un ordinateur portable sou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous d√©ployons une machine virtuelle Windows avec un transfert de carte vid√©o virtuelle utilisant QEMU et Intel GVT-g</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437270/"><h1 id="kak-zastavit-intel-gvt-g-rabotat">  Comment faire fonctionner Intel GVT-g </h1><br><p>  Bonjour √† tous!  Intel a offert une excellente solution au probl√®me √©ternel: "J'ai un ordinateur portable sous Linux et je dois ex√©cuter Windows avec une acc√©l√©ration mat√©rielle, mais je n'ai pas un ordinateur portable lourd avec deux GPU et un refroidissement liquide."  En utilisant leur architecture GPU ou autre chose, ils ont r√©ussi √† faire en sorte que vous puissiez diviser votre GPU Intel int√©gr√© en deux ou plusieurs GPU. </p><br><p>  Malheureusement, ce n'est pas si simple ... La documentation est un peu d√©pass√©e, et certaines choses se brisent de mani√®re incompr√©hensible sans raison apparente.  Par cons√©quent, dans cet article, je vais vous expliquer comment configurer une machine virtuelle Windows avec acc√©l√©ration mat√©rielle avec des pilotes rapides virtio et Intel GVT-g. </p><br><p>  Pour ce faire, vous aurez besoin d'un GPU plus ou moins moderne ( <em>Note du traducteur</em> : <em>selon la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation officielle</a> , GVT-g prend en charge les cartes vid√©o int√©gr√©es, √† commencer par la cinqui√®me g√©n√©ration d'Intel Core et la quatri√®me g√©n√©ration de Xeon</em> ). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/760/a80/d5e/760a80d5edea70d7ba2eb33458205f89.jpg" alt="Capture d'√©cran Windows"></p><a name="habracut"></a><br><h2 id="shag-1-nastraivaem-yadro">  √âtape 1: configurer le noyau </h2><br><p>  V√©rifiez que vous disposez d'une nouvelle version du noyau.  Il semble que les options pour GVT-g aient √©t√© incluses avant la version 4.8, mais elles ont d√©finitivement fonctionn√© de fa√ßon pire, donc je recommande d'utiliser le dernier noyau disponible.  Si vous √™tes assez original pour construire votre noyau, activez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ces options</a> .  D√©sactivez √©galement la suppression des ksymes inutilis√©s, car cette option <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">provoque un bogue</a> . </p><br><p>  Vous devez maintenant corriger les arguments de la ligne de commande du noyau.  Les options importantes sont: </p><br><pre><code class="plaintext hljs">i915.enable_gvt=1 kvm.ignore_msrs=1 intel_iommu=on i915.enable_guc=0</code> </pre> <br><p>  Assurez-vous de ne pas remplacer <code>enable_guc=0</code> par quelque chose qui permettra le chargement de GuC, car cela entra√Ænerait une panne d√©primante du pilote i915.  Lorsque vous d√©marrez, acc√©dez √† votre environnement de travail et consultez le r√©pertoire <code>/sys/bus/pci/devices/0000:00:02.0/mdev_supported_types/</code> .  S'il n'existe pas, GVT-g ne fonctionne pas.  V√©rifiez les b√ªches et / ou pleurez dans l'oreiller. </p><br><p>  Pour r√©soudre le probl√®me, vous pouvez ajouter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ces</a> modules √† initramfs et en retirer le i915. </p><br><p>  Pour une journalisation plus d√©taill√©e, vous pouvez d√©finir la variable <code>drm.debug</code> sur une certaine valeur, par exemple, la d√©finir sur 0x02 inclura les messages des pilotes. </p><br><h2 id="shag-2-sozdayom-virtualnogo-druga">  √âtape 2: cr√©ez un ami virtuel </h2><br><p>  Dans <code>mdev_supported_types</code> vous pouvez trouver un ensemble complet de r√©pertoires.  Cet ensemble est d√©termin√© par la quantit√© de votre m√©moire graphique, chaque sous-r√©pertoire correspond √† un certain type de GPU virtuel.  Le fichier de <code>description</code> qu'il contient contient des informations sur la m√©moire et les r√©solutions prises en charge par ce GPU virtuel.  Si la cr√©ation d'un GPU virtuel avec une grande m√©moire √† l'aide de la sortie UUID dans le fichier <code>/create</code> vous donne une erreur incompr√©hensible, alors vous avez plusieurs options.  Tout d'abord, allez dans le BIOS et ajoutez de la m√©moire vid√©o, si possible.  Si cela ne fonctionne pas, vous pouvez arr√™ter votre DM, basculer vers le framebuffer, cr√©er le vGPU souhait√© √† partir de l√†, puis revenir √† x11.  Malheureusement, cette m√©thode entra√Æne de nombreux bugs et ne permet pas d'atteindre 60 FPS sur mon ordinateur portable.  Une alternative consiste √† cr√©er un vGPU plus petit et √† utiliser un programme sp√©cial pour augmenter la r√©solution (CRU).  De cette fa√ßon, j'ai r√©ussi √† atteindre 60 FPS, et il y avait beaucoup moins de bugs et de gels. </p><br><p>  Vous pouvez cr√©er vGPU avec cette commande: </p><br><pre> <code class="plaintext hljs">$ echo ${vGPU_UUID} | sudo tee /sys/bus/pci/devices/0000:00:02.0/mdev_supported_types/${vGPU_TYPE}/create</code> </pre> <br><p>  Et supprimez - ceci: </p><br><pre> <code class="plaintext hljs">$ echo 1 | sudo tee /sys/bus/mdev/devices/${vGPU_UUID}/remove</code> </pre> <br><p>  <em>Note du traducteur</em> : <br>  <em>Vous pouvez g√©n√©rer un UUID pour vGPU √† l'aide de la commande <code>uuidgen</code> sans arguments.</em>  <em>La variable $ {vGPU_TYPE} d√©signe l'un des types r√©pertori√©s dans le r√©pertoire <code>mdev_supported_types</code> .</em>  <em>Il convient √©galement de noter que le vGPU doit √™tre recr√©√© √† chaque red√©marrage, il n'est pas enregistr√© entre les lancements du syst√®me d'exploitation.</em> </p><br><h2 id="shag-3-cortana-krichit-na-vas">  √âtape 3: Cortana vous crie dessus </h2><br><p>  La prochaine √©tape est beaucoup mieux prise en charge et chose beaucoup plus lente et douloureuse - l'installation de Windows 10. N'utilisez pas de torrents ou de t√©l√©chargements non officiels, ou l'ancienne version de Windows, le lien correct est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Il vaut √©galement la peine de t√©l√©charger l'image disque avec des pilotes virtio con√ßus sp√©cifiquement pour acc√©l√©rer les invit√©s <a href="">ici</a> .  Installez <code>libvirt</code> et <code>virt-manager</code> et ex√©cutez <code>libvirtd</code> : </p><br><pre> <code class="plaintext hljs"># systemctl start libvirtd</code> </pre> <br><p>  Ex√©cutez <code>virt-manager</code> et assurez-vous que vous √™tes connect√© √† la session syst√®me <code>libvirt</code> , pas √† la session utilisateur: <br><img src="https://habrastorage.org/getpro/habr/post_images/8e3/ca9/b29/8e3ca9b29bd86d43d7a79a2aecdaadd9.png" alt="Fen√™tre Virt-manager"></p><br><p>  <em>Note du traducteur</em> : <br>  <em>Pour que virt-manager puisse se connecter √† la session syst√®me, vous pouvez l'ex√©cuter en tant que root, mais il est pr√©f√©rable de configurer l'autorisation, par exemple, comme sugg√©r√© sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Arch Wiki</a> .</em> </p><br><p>  Une fois cela fait, vous pouvez commencer √† cr√©er une machine virtuelle.  Dans la bo√Æte de dialogue des param√®tres, s√©lectionnez le t√©l√©chargement √† partir de l'iso-image locale et recherchez l'image t√©l√©charg√©e.  Si <code>virt-manager</code> ne le reconna√Æt pas comme une image Windows 10, s√©lectionnez-le manuellement, car cela acc√©l√©rera Windows, car <code>virt-manager</code> dans ce cas fournit certaines interfaces de virtualisation de Microsoft.  Cr√©ez une image disque ou une partition LVM et configurez-la selon vos besoins.  L'interface de configuration avant l'installation est tr√®s limit√©e, donc je d√©marre g√©n√©ralement l'installation et l'arr√™te imm√©diatement pour tout configurer compl√®tement.  Voici quelques param√®tres: <br><img src="https://habrastorage.org/getpro/habr/post_images/a55/104/cca/a55104cca39b9a94e2ec55fb5248a6c0.png" alt="Param√®tres CPU de la machine virtuelle"><br><img src="https://habrastorage.org/getpro/habr/post_images/256/bde/55c/256bde55c4d6f438667ca75458ba1ab3.png" alt="Param√®tres r√©seau de la machine virtuelle"></p><br><p>  <em>Note du traducteur</em> : <br>  <em>Malgr√© le fait que l'article sur la configuration d'une machine virtuelle sur un ordinateur portable, pour une raison quelconque, la question de la distribution du r√©seau √† l'aide d'un adaptateur sans fil est omise.</em>  <em>Le fait est que les param√®tres r√©seau par d√©faut de virt-manager ne conviennent pas √† un r√©seau sans fil.</em>  <em>Dans cette situation, la r√©ponse √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cette</a> question et ses commentaires peuvent aider.</em>  <em>L'auteur sugg√®re √©galement d'utiliser le BIOS au lieu d'UEFI, probablement en raison du fait qu'UEFI n√©cessite une configuration suppl√©mentaire.</em>  <em>De plus, il semble que tianocore ne fonctionne pas encore avec GVT-g, voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bug 935</a> .</em>  <em>Dans mon cas, cependant, la machine virtuelle a d√©marr√©, mais Windows n'a pas reconnu le moniteur auquel la carte vid√©o int√©gr√©e √©tait connect√©e.</em> </p><br><p>  Si vous avez besoin d'un acc√®s rapide au disque ou m√™me de la capacit√© de la machine virtuelle √† compresser l'image disque lors de la suppression des fichiers de la machine virtuelle (sondage TRIM, pour cela, vous devez cr√©er l'image avec la commande <code>qemu-img create -f qcow2 -o preallocation=metadata,lazy_refcounts</code> , l'instruction compl√®te est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ), configurer le lecteur principal pour utiliser SCSI.  Vous aurez besoin de pilotes pour la machine virtuelle pour Windows pour comprendre ce format, alors branchez le disque du pilote virtio pr√©c√©demment t√©l√©charg√© pour Windows 10. Par d√©faut, ils utilisent un IDE, mais vous pouvez acc√©l√©rer l'installation plusieurs fois et utiliser moins de code h√©rit√© si vous utilisez √† la place pour les DVD SCSI.  Windows prend cela en charge d√®s le d√©part.  Vous pouvez √©galement: </p><br><ul><li>  Forcer USB √† utiliser USB 3.0 </li><li>  Ajoutez des canaux spice, spice-webdav et qemu-ga pour que le copier-coller et le partage de fichiers entre la machine virtuelle et l'h√¥te fonctionnent </li><li>  Supprimer le mat√©riel virtuel inutilis√© </li><li>  Basculez la carte vid√©o √©mul√©e sur QXL et basculez l'affichage sur SPICE, sans √©couter le r√©seau (m√™me en boucle) ( <em>Note du traducteur: sinon la VM se bloque simplement</em> ). </li><li>  Basculez le type de puce sur Q35, √† c√¥t√© des param√®tres du BIOS. </li><li>  Nourrir le chien </li></ul><br><p>  Vous pouvez √©galement vous habituer √† votre nouvel ami <code>virsh edit</code> .  Si vous l'ex√©cutez en utilisant <code>sudo -E</code> , vos variables d'environnement, en particulier EDITOR, seront utilis√©es pour l'√©dition, et vous utiliserez la session syst√®me libvirt, pas celle utilisateur.  Dans ce fichier, par exemple, vous pouvez affecter une correspondance entre les processeurs physiques et virtuels, gr√¢ce √† laquelle les caches de processeur sont plus coh√©rents et le planificateur ne se comporte pas si √©trangement.  Voici un exemple XML que vous pouvez y mettre: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placement</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'static'</span></span></span><span class="hljs-tag">&gt;</span></span>6<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpu</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cputune</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'0'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'5'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'4'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'6'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vcpupin</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vcpu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'5'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cpuset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'7'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cputune</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">features</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hyperv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">relaxed</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vapic</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">spinlocks</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">retries</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'8191'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">runtime</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">synic</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">stimer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">state</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hyperv</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">features</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'host-passthrough'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">check</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'none'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">topology</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sockets</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cores</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'3'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">threads</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'2'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">cpu</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dans cet extrait de code, je configure la machine virtuelle afin qu'elle voit un processeur avec trois c≈ìurs physiques, chacun ayant deux hyperthreads.  De plus, chaque processeur / hyper-thread s'attache √† son propre hyper-thread, et cette correspondance ne change pas.  Windows Scheduler conna√Æt les hyperthreads et peut les utiliser correctement, sans les compter comme des processeurs distincts.  J'active √©galement certaines interfaces Hyper-V qui sont d√©sactiv√©es par d√©faut et peuvent ne pas avoir d'effet.  Si vous utilisez SPICE, vous pouvez ajouter les lignes suivantes pour d√©sactiver la compression, car le r√©seau externe n'est toujours pas utilis√© pour acc√©der √† la machine virtuelle. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graphics</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'spice'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">listen</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'none'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">image</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jpeg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'never'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">zlib</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'never'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">playback</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">compression</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">streaming</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'off'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- &lt;gl enable='yes' rendernode='/dev/dri/by-path/pci-0000:00:02.0-render'/&gt;     ,     libvirt --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">graphics</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Vous pouvez maintenant configurer l'ordre de d√©marrage et d√©marrer l'installation de Windows.  Si vous utilisez un lecteur <code>virtio</code> ou SCSI, Windows ne le trouvera pas.  Vous devrez installer le pilote SCSI √† partir du lecteur que vous avez connect√©, ils se trouvent dans le <code>virtscsi/amd64</code> .  Tout devrait bien se passer et Windows devrait d√©marrer dans un mode lent et mis√©rable non acc√©l√©r√©.  Cortana commencera √† vous crier dessus et votre r√©seau ne fonctionnera pas.  Parcourez tout cela sur le bureau.  L√†, lancez le gestionnaire de p√©riph√©riques, recherchez tous les p√©riph√©riques non identifi√©s et mettez √† jour leurs pilotes √† partir du disque que vous avez connect√©.  Vous obtiendrez un Windows l√©g√®rement plus rapide. </p><br><h2 id="shag-4-vesyolaya-chast">  √âtape 4: La partie amusante </h2><br><p>  Il existe trois fa√ßons d'obtenir l'affichage acc√©l√©r√© de la machine virtuelle virtuelle √† partir de Windows sur l'√©cran de votre machine. </p><br><ul><li>  VNC ou un autre protocole d'acc√®s √† distance (g√©n√©ralement c'est une tr√®s mauvaise solution).  Dans cette option, il vous suffit de connecter vGPU et de d√©sactiver tous les autres √©crans et cartes vid√©o.  R√©glez √©galement le param√®tre <code>display='off'</code> .  Vous n'avez pas besoin de l'option <code>igd-opregion</code> pr√©sent√©e plus loin. </li><li>  SPICE (je ne pouvais pas atteindre 30 FPS ou plus, mais le transfert g√©n√©ral du presse-papiers et des fichiers entre la machine virtuelle et l'h√¥te fonctionne). </li><li>  Interface QEMU int√©gr√©e sur GTK + (le presse-papiers partag√© et le transfert de fichiers ne fonctionnent pas, mais vous pouvez atteindre 60 FPS avec un patch). </li></ul><br><p>  Quoi que vous ayez l'intention d'utiliser, vous devez toujours utiliser la deuxi√®me option pour installer les pilotes du GPU.  Les pilotes int√©gr√©s de Microsoft ne fonctionnent pas tr√®s bien avec GVT-g au moment de la r√©daction et cassent souvent.  Avant de connecter le vGPU √† la machine virtuelle, il est conseill√© de t√©l√©charger le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dernier pilote d'Intel</a> (Apparemment, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Intel change son approche de la distribution des pilotes</a> , donc √† l'avenir cette √©tape peut √™tre diff√©rente ou pas du tout n√©cessaire).  Assurez-vous maintenant que vous avez cr√©√© vGPU.  Ouvrez <code>virt-manager</code> et remplacez le bon QXL rapide par un Cirrus lent pour √©viter les conflits.  Pour connecter vGPU √† la machine virtuelle, vous devez ouvrir <code>virsh edit</code> et ajouter le fragment suivant quelque part: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">domain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'kvm'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:qemu</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'http://libvirt.org/schemas/domain/qemu/1.0'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hostdev</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'subsystem'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'mdev'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">managed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'no'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'vfio-pci'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">display</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'on'</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><pre> <code class="plaintext hljs">&lt;address uuid='fff6f017-3417-4ad3-b05e-17ae3e1a4615'/&gt;</code> </pre> <br><pre> <code class="plaintext hljs"> &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x09' function='0x0'/&gt; &lt;rom enabled='no'/&gt; &lt;/hostdev&gt; &lt;graphics type='spice'&gt; &lt;listen type='none'/&gt; &lt;image compression='off'/&gt; &lt;jpeg compression='never'/&gt; &lt;zlib compression='never'/&gt; &lt;playback compression='off'/&gt; &lt;streaming mode='off'/&gt; &lt;gl enable='yes' rendernode='/dev/dri/by-path/pci-0000:00:02.0-render'/&gt; &lt;!--      , virt-manager     ,        GL. ,      ,   auto. --&gt; &lt;/graphics&gt; &lt;qemu:commandline&gt; &lt;qemu:arg value='-set'/&gt; &lt;qemu:arg value='device.hostdev0.x-igd-opregion=on'/&gt; &lt;!-- libvirt     ,      --&gt; &lt;/qemu:commandline&gt; &lt;/domain&gt;</code> </pre> <br><p>  Remarque: Lorsque je fournis un extrait XML comme celui-ci, vous devez l'ajouter √† l'actuel si possible, sans rien remplacer. </p><br><p>  V√©rifiez que vous avez cr√©√© des UUID uniques pour tous les vGPU que vous utilisez et que les num√©ros d'emplacement ne sont en conflit avec aucun des autres p√©riph√©riques PCI.  Si le num√©ro d'emplacement est apr√®s le GPU Cirrus, la machine virtuelle se bloque.  Vous pouvez maintenant d√©marrer la machine virtuelle.  <strong>Vous devez installer <code>virt-viewer</code> pour voir les deux √©crans!</strong>  Vous pouvez vous connecter √† une machine virtuelle √† l'aide de la commande </p><br><pre> <code class="plaintext hljs">$ sudo -E virt-viewer --attach</code> </pre> <br><p>  L'un des affichages sera vide ou non initialis√©, le second est un affichage familier, petit et non acc√©l√©r√©.  D√©veloppez-le et, apr√®s avoir entr√©, installez le pilote du GPU.  Si vous avez de la chance, tout fonctionnera imm√©diatement.  Sinon, vous devez √©teindre et red√©marrer la machine virtuelle (ne pas red√©marrer) √† l'aide de l'√©cran de travail.  Il est maintenant temps d'ouvrir un terminal et d'ex√©cuter <code>dmesg -w</code> int√©rieur.  Cette commande vous donnera des informations utiles sur les probl√®mes et la progression globale de l'utilisation de vGPU.  Par exemple, au d√©marrage, KVM se plaindra des MSR bloqu√©s, alors vous devriez obtenir des messages d'acc√®s incorrects lorsque vGPU est initialis√©.  S'il y en a trop, quelque chose ne va pas. </p><br><p>  Si le syst√®me d√©marre, vous pouvez ouvrir les param√®tres d'affichage et d√©sactiver l'√©cran non acc√©l√©r√©.  Un √©cran vierge peut √™tre masqu√© via le menu <em>Affichage</em> dans <code>virt-viewer</code> .  En principe, les machines virtuelles peuvent d√©j√† √™tre utilis√©es, mais il y a quelques choses qui peuvent √™tre faites pour obtenir une r√©solution et une vitesse plus √©lev√©es. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'utilitaire CRU est</a> tr√®s utile.  Vous pouvez jouer avec, et m√™me si vous tombez sur des artefacts graphiques ou m√™me presque sur un √©cran compl√®tement noir, comme cela s'est av√©r√© pour moi, vous pouvez ex√©cuter le fichier <code>Restart64.exe</code> fourni avec le programme pour red√©marrer le sous-syst√®me graphique Windows.  Personnellement, j'utilise cet utilitaire pour utiliser une r√©solution plus √©lev√©e sur un vGPU plus modeste. </p><br><p>  Pour obtenir un excellent 60 FPS, vous devez basculer vers le moniteur QEMU int√©gr√© sur GTK + sans prendre en charge un presse-papiers partag√© avec l'h√¥te et des petits pains similaires, ainsi que changer une ligne et reconstruire QEMU.  Vous devrez √©galement ajouter un tas d'arguments de ligne de commande d√©sagr√©ables √† votre XML.  Supprimez l'√©cran SPICE et la carte graphique Cirrus et <code>off</code> attribut d' <code>display</code> de votre vGPU (libvirt ne prend pas en charge l'affichage sur GTK + et ne permettra pas le d√©marrage √† partir de <code>display='on'</code> sans affichage). </p><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:commandline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-set'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'device.hostdev0.x-igd-opregion=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-set'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'device.hostdev0.display=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'-display'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:arg</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'gtk,gl=on'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:env</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'DISPLAY'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">':1'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:env</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'GDK_SCALE'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'1.0'</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">qemu:commandline</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  La mise √† l'√©chelle de HiDPI sur le moniteur QEMU fonctionne tr√®s mal, nous allons donc la d√©sactiver.  De plus, vous devrez d√©finir la variable <code>DISPLAY</code> sur le num√©ro d'affichage que vous utilisez.  Pour donner √† l'utilisateur ex√©cutant qemu un acc√®s au serveur X, utilisez la commande: </p><br><pre> <code class="plaintext hljs"># xhost si:localuser:nobody</code> </pre> <br><p>  Si cela ne fonctionne pas, essayez <code>xhost +</code> , mais assurez-vous que vous utilisez un pare-feu.  Sinon, essayez une m√©thode plus s√ªre. </p><br><p>  Avec de telles astuces, vous n'obtiendrez toujours pas au-dessus de 30 FPS √† cause de ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">stupide bug</a> dans QEMU, si vous ne le corrigez pas en changeant la ligne, comme indiqu√© dans le lien de commentaire.  Assurez-vous que vous construisez uniquement QEMU pour x86-64, sauf si vous avez l'intention de l'utiliser sur une autre plate-forme.  J'ai attach√© mon PKGBUILD, ce qui ne change pas la ligne, mais ne collecte ici que QEMU pour x86_64 sans prise en charge du stockage r√©seau. </p><br><p>  Si vous vous perdez quelque part en cours de route, vous pouvez voir mon <a href="">XML</a> actuel <a href="">pour libvirt</a> . </p><br><h2 id="poleznye-ssylki">  Liens utiles </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide de r√©glage officiel GVT-g</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Guide de l'utilisateur Dma-buf</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article sur la configuration d'Intel GVT-g sur le wiki NixOS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Article d'Arch Wiki sur libvirt</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Configuration du r√©seau dans KVM sur l'interface sans fil</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Site Web Intel GVT-g</a> </p><br><p>  PS: Merci <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">aNNiMON</a> pour son aide dans la relecture du texte de traduction et la correction des erreurs. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437270/">https://habr.com/ru/post/fr437270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437256/index.html">Validation des adresses m√©moire sur un Cortex-M0 / M3 / M4 / M7</a></li>
<li><a href="../fr437258/index.html">Projet unique de l'√©quipe CATIA DESIGN: concept car Bleu</a></li>
<li><a href="../fr437260/index.html">Windows Phone 8.1: d√©veloppement post-nostalgie. Historique d'une seule application</a></li>
<li><a href="../fr437262/index.html">Comment l'eau de rivi√®re devient-elle potable?</a></li>
<li><a href="../fr437264/index.html">√âpuisement professionnel en informatique (r√©sultats de l'√©tude My Circle)</a></li>
<li><a href="../fr437274/index.html">Une vision vers l'observabilit√© dans la pratique</a></li>
<li><a href="../fr437276/index.html">Lampes de table Remilicht avec LED Sunlike</a></li>
<li><a href="../fr437280/index.html">Logistique facile √† faire soi-m√™me</a></li>
<li><a href="../fr437282/index.html">Une introduction √† Kubernetes pour les utilisateurs de VMware. Partie 2. Pratique</a></li>
<li><a href="../fr437284/index.html">Professions zoologiques li√©es √† l'industrie audio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>