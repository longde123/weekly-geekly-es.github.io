<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯФС ЁЯдУ ЁЯС╡ рджреЛрд╖-рд╕рд╣рд┐рд╖реНрдгреБ рдЖрдИрдЯреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдгред рднрд╛рдЧ 2. OVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ ЁЯЩЗ ЁЯХЛ ЁЯЖЩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рд▓реЗрдЦ рдкрд┐рдЫрд▓реЗ рдПрдХ рдХрд╛ рдПрдХ рдирд┐рд░рдВрддрд░рддрд╛ рд╣реИ - тАЬ рдПрдХ рджреЛрд╖-рд╕рд╣рд┐рд╖реНрдгреБ рдЖрдИрдЯреА рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдгред рднрд╛рдЧ 1 - oVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреА рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рдХрд░ рд░рд╣рд╛ рд╣реИ ред тАЭ 


 рдпрд╣ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рджреЛрд╖-рд╕рд╣рд┐рд╖реНрдгреБ рдЖрдИрдЯреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдгред рднрд╛рдЧ 2. OVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lenvendo/blog/485208/"><p>  рдпрд╣ рд▓реЗрдЦ рдкрд┐рдЫрд▓реЗ рдПрдХ рдХрд╛ рдПрдХ рдирд┐рд░рдВрддрд░рддрд╛ рд╣реИ - тАЬ <a href="https://habr.com/ru/company/lenvendo/blog/483980/">рдПрдХ рджреЛрд╖-рд╕рд╣рд┐рд╖реНрдгреБ рдЖрдИрдЯреА рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдгред</a>  <a href="https://habr.com/ru/company/lenvendo/blog/483980/">рднрд╛рдЧ 1 - oVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреА рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░реА рдХрд░ рд░рд╣рд╛ рд╣реИ</a> ред тАЭ </p><br><p>  рдпрд╣ рдЕрддреНрдпрдзрд┐рдХ рд╕реБрд▓рдн рдЖрднрд╛рд╕реА рдорд╢реАрдиреЛрдВ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХреЗ рд▓рд┐рдП oVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдмреБрдирд┐рдпрд╛рджреА рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛, рдЗрд╕ рддрдереНрдп рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдХрд┐ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд╕рднреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЪрд░рдг рдкрд╣рд▓реЗ рд╣реА рдкреВрд░реЗ рд╣реЛ рдЪреБрдХреЗ рд╣реИрдВред </p><a name="habracut"></a><br><h2 id="vvodnaya-chast">  рдкреНрд░рд╛рдердорд┐рдХ рдЕрдерд╡рд╛ рдкреНрд░рд╛рд░рдореНрднрд┐рдХ рд▓рдХреНрд╖рдг </h2><br><p>  рд▓реЗрдЦ рдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп " <strong>рдЕрдЧрд▓рд╛</strong> -&gt; <strong>рд╣рд╛рдВ</strong> -&gt; <strong>рд╕рдорд╛рдкреНрдд</strong> " рдлреЙрд░реНрдо рдХреЗ рдЪрд░рдг-рджрд░-рдЪрд░рдг рдирд┐рд░реНрджреЗрд╢ рджреЗрдирд╛ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдЗрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп рдХреБрдЫ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рджрд┐рдЦрд╛рдирд╛ рд╣реИред  рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдФрд░ рдкрд░реНрдпрд╛рд╡рд░рдг рдХреА рдЦрд╝рд╛рд╕рд┐рдпрдд рдХреЗ рдХрд╛рд░рдг, рдЖрдкрдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣рдореЗрд╢рд╛ рдЗрд╕рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рд╕реА рдХреЗ рд╕рд╛рде рдореЗрд▓ рдирд╣реАрдВ рдЦрд╛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рдорд╛рдиреНрдп рд╕рд┐рджреНрдзрд╛рдВрдд рд╕рдорд╛рди рд╣реЛрдВрдЧреЗред </p><br><p>  рдПрдХ рд╡реНрдпрдХреНрддрд┐рдкрд░рдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, <a href="https://www.ovirt.org/">oVirt 4.3</a> VMware vSphere рд╕рдВрд╕реНрдХрд░рдг 5.x рдХреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдореЗрдВ рд╕рдорд╛рди рд╣реИ, рд▓реЗрдХрд┐рди рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рдСрдкрд░реЗрд╢рди рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рд╕рд╛рдеред </p><br><p>  рдЬреЛ рд▓реЛрдЧ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдЙрдирдХреЗ рд▓рд┐рдП RHEV (рдЙрд░реНрдл oVirt) рдФрд░ VMware vSphere рдХреЗ рдмреАрдЪ рдХреЗ рд╕рднреА рдЕрдВрддрд░ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдореИрдВ рдХрднреА-рдХрднрд╛рд░ рдЙрдирдХреЗ рдХреБрдЫ рдЕрдВрддрд░ рдпрд╛ рд╕рдорд╛рдирддрд╛рдПрдВ рдиреЛрдЯ рдХрд░реВрдВрдЧрд╛, рдЬреИрд╕рд╛ рдХрд┐ рд▓реЗрдЦ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдЕрд▓рдЧ-рдЕрд▓рдЧ, рдореИрдВ рдЖрднрд╛рд╕реА рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд╕рд╛рде рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдХрд╛рдо рдХреА рддреБрд▓рдирд╛ рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред  OVirt рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдкреНрд░рдмрдВрдзрди рдХреЗ рдПрдХ рд╕рдорд╛рди рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ (рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рд╡реАрдПрдо рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ), рдЬреИрд╕реЗ рдХрд┐ VMware рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ: </p><br><ul><li>  рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рдЪрд▓рдиреЗ рд╡рд╛рд▓реЗ рдорд╛рдирдХ рд▓рд┐рдирдХреНрд╕ рдмреНрд░рд┐рдЬ (рд╡реАрдПрдорд╡реЗрдпрд░ рдореЗрдВ - <em>рдорд╛рдирдХ vSwitch</em> ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛; </li><li>  Open vSwitch (OVS) (VMware, <em>рдбрд┐рд╕реНрдЯреНрд░рд┐рдмреНрдпреВрдЯреЗрдб vSwitch рдореЗрдВ</em> ) рдПрдХ рд╡рд┐рддрд░рд┐рдд рд╡рд░реНрдЪреБрдЕрд▓ рд╕реНрд╡рд┐рдЪ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рджреЛ рдореБрдЦреНрдп рдШрдЯрдХ рд╣реЛрддреЗ рд╣реИрдВ: рдПрдХ рдХреЗрдВрджреНрд░реАрдп OVN рд╕рд░реНрд╡рд░ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рд╣реЛрд╕реНрдЯ рдкрд░ OVN рдирд┐рдпрдВрддреНрд░рдХред </li></ul><br><p> рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рд╕рд╛рджрдЧреА рдХреЗ рдХрд╛рд░рдг, рдЖрд▓реЗрдЦ рдорд╛рдирдХ рд▓рд┐рдирдХреНрд╕ рдмреНрд░рд┐рдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реАрдПрдо рдХреЗ рд▓рд┐рдП рдУрд╡реАрдЖрдИрдЖрд░рдЯреА рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдЧрд╛, рдЬреЛ рдХрд┐ рдХреЗрд╡реАрдПрдо рд╣рд╛рдЗрдкрд░рд╡рд╛рдЗрдЬрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдорд╛рдирдХ рд╡рд┐рдХрд▓реНрдк рд╣реИред </p><br><p>  рдЗрд╕ рд╕рдВрдмрдВрдз рдореЗрдВ, рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдмреБрдирд┐рдпрд╛рджреА рдирд┐рдпрдо рд╣реИрдВ рдЬреЛ рдЙрд▓реНрд▓рдВрдШрди рдирд╣реАрдВ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реИрдВ: </p><br><ul><li>  IP рдкрддреЗ рдХреЛ рдЫреЛрдбрд╝рдХрд░, рд╕рднреА рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ oVirt рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╕рдорд╛рди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдЬрдм рдореЗрдЬрдмрд╛рди рдХреЛ oVirt рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдореЗрдВ рд▓реЗ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдкрдиреЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдкреВрд░реНрдг рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХреЗ рдмрд┐рдирд╛, рдЕрдкрдиреЗ рд╣рд╛рдереЛрдВ рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХреБрдЫ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддреНрдпрдзрд┐рдХ рд╣рддреЛрддреНрд╕рд╛рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ oVirt рдПрдЬреЗрдВрдЯ рд╣реЛрд╕реНрдЯ рдпрд╛ рдПрдЬреЗрдВрдЯ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдЙрдиреНрд╣реЗрдВ рдкрд┐рдЫрд▓реЗ рд╡рд╛рд▓реЗ рдХреЛ рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░реЗрдЧрд╛ред </li><li>  VM рдХреЗ рд▓рд┐рдП рдПрдХ рдирдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдЗрд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реБрдП рдЗрд╕реЗ рдХреЗрд╡рд▓ OVirt рдкреНрд░рдмрдВрдзрди рдХрдВрд╕реЛрд▓ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ul><br><p>  рдПрдХ рдФрд░ <u>рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ</u> - рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд╛рддрд╛рд╡рд░рдг (рдзрди рд╣рд╛рдирд┐ рдХреЗ рдкреНрд░рддрд┐ рд╕рдВрд╡реЗрджрдирд╢реАрд▓) рдХреЗ рд▓рд┐рдП, рдпрд╣ рдЕрднреА рднреА рднреБрдЧрддрд╛рди рдХрд┐рдП рдЧрдП рд╕рдорд░реНрдерди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдФрд░ <a href="https://access.redhat.com/products/red-hat-virtualization">рд░реЗрдб рд╣реИрдЯ рд╡рд░реНрдЪреБрдЕрд▓реА 4.3</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рдПрдЧреАред  рдУрд╡рд┐рд░реНрдЯ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рджреМрд░рд╛рди, рдХреБрдЫ рдмрд┐рдВрджреБ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕ рдкрд░ рд╕реНрд╡рдпрдВ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреЗ рдмрдЬрд╛рдп, рдЬрд▓реНрдж рд╕реЗ рдЬрд▓реНрдж рдпреЛрдЧреНрдп рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╣реИред </p><br><p>  рдФрд░ рдЕрдВрдд рдореЗрдВ, <u>рдпрд╣ рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐</u> рдУрд╡рд┐рд░реНрдЯ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдХрдо рд╕реЗ рдХрдо рдмреБрдирд┐рдпрд╛рджреА рдЕрд╡рдзрд╛рд░рдгрд╛рдУрдВ рдФрд░ рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рд╕реЗ рдЕрд╡рдЧрдд рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://www.ovirt.org/documentation/">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ</a> рд╕реЗ рдЦреБрдж рдХреЛ рдкрд░рд┐рдЪрд┐рдд рдХрд░рд╛рдПрдВ, рдЕрдиреНрдпрдерд╛ рд▓реЗрдЦ рдХреЛ рдЖрдЧреЗ рдкрдврд╝рдирд╛ рдереЛрдбрд╝рд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛрдЧрд╛ред </p><br><p>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджрд╕реНрддрд╛рд╡реЗрдЬ рд▓реЗрдЦ рдФрд░ oVirt рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдмреБрдирд┐рдпрд╛рджреА рд╣реИрдВ: </p><br><ul><li>  <a href="https://www.ovirt.org/documentation/install-guide/Installation_Guide/">oVirt рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдЧрд╛рдЗрдб</a> </li><li>  <a href="https://www.ovirt.org/documentation/self-hosted/Self-Hosted_Engine_Guide/">oVirt рд╕реЗрд▓реНрдл-рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рдЧрд╛рдЗрдб</a> </li><li>  <a href="https://www.ovirt.org/documentation/admin-guide/administration-guide/">oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдб</a> <a href="https://www.ovirt.org/documentation/admin-guide/administration-guide/"><br></a> </li></ul><br><p>  рд╡рд╣рд╛рдБ рдорд╛рддреНрд░рд╛ рдмрд╣реБрдд рдмрдбрд╝реА рдирд╣реАрдВ рд╣реИ, рдПрдХ рдпрд╛ рджреЛ рдШрдВрдЯреЗ рдореЗрдВ рдореВрд▓ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░рдирд╛ рдХрд╛рдлреА рд╕рдВрднрд╡ рд╣реИ, рдФрд░ рд╡рд┐рд╡рд░рдг рдХреЗ рдкреНрд░рд╢рдВрд╕рдХреЛрдВ рдХреЗ <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/">рд▓рд┐рдП Red Hat рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди 4.3 рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрд╛рдж рдкреНрд░рд▓реЗрдЦрди</a> рдХреЛ рдкрдврд╝рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ - RHEV рдФрд░ oVirt рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рд╣реА рдЪреАрдЬ рд╣реИрдВред </p><br><p>  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдореЗрдЬрдмрд╛рдиреЛрдВ, рд╕реНрд╡рд┐рдЪ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рдкрд░ рд╕рднреА рдмреБрдирд┐рдпрд╛рджреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдкреВрд░реА рд╣реЛ рдЬрд╛рддреА рд╣реИрдВ, рддреЛ рд╣рдо рд╕реАрдзреЗ oVirt рдХреА рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред </p><br><h2 id="chast-2-ustanovka-i-nastroyka-klastera-ovirt-43">  рднрд╛рдЧ 2. OVirt 4.3 рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ </h2><br><p>  рдЕрднрд┐рд╡рд┐рдиреНрдпрд╛рд╕ рдореЗрдВ рдЖрд╕рд╛рдиреА рдХреЗ рд▓рд┐рдП, рдореИрдВ рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореБрдЦреНрдп рд╡рд░реНрдЧреЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░реВрдБрдЧрд╛, рдЬрд┐рдиреНрд╣реЗрдВ рдмрджрд▓реЗ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><ol><li>  OVirt рдкреНрд░рдмрдВрдзрди рд╕рд░реНрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </li><li>  рдирдП рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг </li><li>  рдПрдХ рдирдпрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдмрдирд╛рдПрдБ </li><li>  рдПрдХ рд╕реНрд╡рдпрдВ-рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрд╕реНрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </li><li>  рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░ рдпрд╛ рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди рдмрдирд╛рдПрдБ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдмрдирд╛рдПрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреА рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдЗрдореЗрдЬ рдмрдирд╛рдирд╛ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдмрдирд╛рдирд╛ </li></ol><br><h3 id="ustanovka-upravlyayuschego-servera-ovirt">  OVirt рдкреНрд░рдмрдВрдзрди рд╕рд░реНрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h3><br><p>  <strong>OVirt рдкреНрд░рдмрдВрдзрди рд╕рд░реНрд╡рд░</strong> , OVirt рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рддрддреНрд╡ рд╣реИ, рдЬреЛ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди, рд╣реЛрд╕реНрдЯ рдпрд╛ рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ, рдЬреЛ рд╕рдВрдкреВрд░реНрдг oVirt рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдХреА рджреБрдирд┐рдпрд╛ рд╕реЗ рдЗрд╕рдХреЗ рдХрд░реАрдм рдПрдирд╛рд▓реЙрдЧреНрд╕: </p><br><ul><li>  VMware vSphere - vCenter рд╕рд░реНрд╡рд░ </li><li>  Microsoft рд╣рд╛рдЗрдкрд░- V - рд╕рд┐рд╕реНрдЯрдо рд╕реЗрдВрдЯрд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдореИрдиреЗрдЬрд░ (VMM)ред </li></ul><br><p>  OVirt рдкреНрд░рдмрдВрдзрди рд╕рд░реНрд╡рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: </p><br><p>  <u>рд╡рд┐рдХрд▓реНрдк 1</u> <br>  рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡реАрдПрдо рдпрд╛ рд╣реЛрд╕реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╕рд░реНрд╡рд░ рдХреА рддреИрдирд╛рддреАред </p><br><p>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдмрд╢рд░реНрддреЗ рдХрд┐ рдРрд╕рд╛ рд╡реАрдПрдо рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреНред  рдХреЗрд╡реАрдПрдо рдЪрд▓рд╛рдиреЗ рд╡рд╛рд▓реА рдирд┐рдпрдорд┐рдд рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд░реВрдк рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдХрд┐рд╕реА рднреА рд╣реЛрд╕реНрдЯ рдкрд░ рдирд╣реАрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реИред </p><br><p>  рдЖрдк рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯ рдкрд░ рдРрд╕реЗ VM рдХреЛ рдХреНрдпреЛрдВ рдирд╣реАрдВ рддреИрдирд╛рдд рдХрд░ рд╕рдХрддреЗ? </p><br><p>  OVirt рдкреНрд░рдмрдВрдзрди рд╕рд░реНрд╡рд░ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рджреБрд╡рд┐рдзрд╛ рд╣реИ - рдЖрдкрдХреЛ рдкреНрд░рдмрдВрдз VM рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрд▓рд╕реНрдЯрд░ рд╕реНрд╡рдпрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЕрднреА рддрдХ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЖрдк рдЕрднреА рдХреНрдпрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ?  рднрд╡рд┐рд╖реНрдп рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдиреЛрдб рдкрд░ KVM рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдЕрдзрд┐рдХрд╛рд░ рд╣реИ, рдлрд┐рд░ рдЙрд╕ рдкрд░ рдПрдХ рдЖрднрд╛рд╕реА рдорд╢реАрди рдмрдирд╛рдПрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, CentOS OS рдХреЗ рд╕рд╛рде рдФрд░ рдЗрд╕рдореЗрдВ oVirt рдЗрдВрдЬрди рдХреЛ рддреИрдирд╛рдд рдХрд░реЗрдВред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдРрд╕реЗ рд╡реАрдПрдо рдкрд░ рдкреВрд░реНрдг рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рдХрд╛рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдЧрд▓рдд рдЗрд░рд╛рджрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдирд┐рдпрдВрддреНрд░рд┐рдд рд╡реАрдПрдо рдХреЗ рд╕рд╛рде 100% рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реЛрдВрдЧреА: </p><br><ul><li>  рдЗрд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╣реЛрд╕реНрдЯреНрд╕ (рдиреЛрдбреНрд╕) рдХреЗ рдмреАрдЪ OVirt рдХрдВрд╕реЛрд▓ рдореЗрдВ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ; </li><li>  рдЬрдм рдХреЗрд╡реАрдПрдо рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╛рдпрд░рд╢реЗрдЯ <em>рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХреЗ</em> рдорд╛рдзреНрдпрдо рд╕реЗ <em>рдХрд░рддреЗ рд╣реИрдВ</em> , рддреЛ рдпрд╣ рд╡реАрдПрдо рдУрд╡рд░реНрдЯ рдХрдВрд╕реЛрд▓ рд╕реЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рджреБрд░реНрдЧрдо рд╣реЛрдЧрд╛ред </li><li>  рдпрджрд┐ рдЖрдк рдЗрд╕ VM рдХреЛ рд╣реЛрд╕реНрдЯ рд╕реЗ рд╣реЛрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <em>virsh рдорд╛рдЗрдЧреНрд░реЗрдЯ</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╣реЛрд╕реНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯреНрд╕ рдХреЛ <strong>рд░рдЦрд░рдЦрд╛рд╡ рдореЛрдб</strong> рдореЗрдВ рдирд╣реАрдВ рд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li></ul><br><p>  рддреЛ рд╕рдм рдХреБрдЫ рдирд┐рдпрдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд░реЗрдВ - рдУрд╡рд░реНрдЯ рдХрдВрдЯреНрд░реЛрд▓ рд╕рд░реНрд╡рд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рд╣реЛрд╕реНрдЯ рдпрд╛ рдЙрд╕ рдкрд░ рдЪрд▓ рд░рд╣реЗ рдПрдХ рд╕реНрд╡рддрдВрддреНрд░ рд╡реАрдПрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рдпрд╛ рдЬреИрд╕рд╛ рдХрд┐ рджреВрд╕рд░реЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ рд╡реИрд╕рд╛ рд╣реА рдХрд░реЗрдВред </p><br><p>  <u>рд╡рд┐рдХрд▓реНрдк 2</u> <br>  рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ oVirt рдЗрдВрдЬрди рдЙрдкрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдпрд╣ рдкреНрд░рдмрдВрдзрд┐рдд рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рд╣реИ рдХрд┐ рдиреАрдЪреЗ рдорд╛рдирд╛ рдЬрд╛рдПрдЧрд╛, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЕрдзрд┐рдХ рд╕рд╣реА рдФрд░ рдЙрдкрдпреБрдХреНрдд рд╣реИред <br>  рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рд╡реАрдПрдо рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдиреАрдЪреЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдореИрдВ рдХреЗрд╡рд▓ рдпрд╣ рдЬреЛрдбрд╝рддрд╛ рд╣реВрдВ рдХрд┐ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдореЗрдВ рдХрдо рд╕реЗ рдХрдо рджреЛ рд╣реЛрд╕реНрдЯ рдХрд░рдиреЗ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдкреНрд░рдмрдВрдзрди рд╡реАрдПрдо рдХреЛ рдЗрд╕реЗ рджреЛрд╖-рд╕рд╣рд┐рд╖реНрдгреБ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдореИрдВ рд╡рд╣ рдЬреЛрдбрд╝рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛, рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдкрд╣рд▓реЗ рд╣реА рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рд▓рд┐рдЦрд╛ рдерд╛, рдореИрдВ рджреЛ рд╣реЛрд╕реНрдЯ рд╕реЗ рдУрд╡рд░реНрдЯ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░ <em>рд╡рд┐рднрд╛рдЬрд┐рдд</em> рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рдерд╛, рдЙрди рдкрд░ рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рд╡реАрдПрдо рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд╕рд╛рдеред </p><br><h4 id="ustanovka-ovirt-engine-appliance-na-pervyy-host-klastera">  рдкрд╣рд▓реЗ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯ рдкрд░ oVirt рдЗрдВрдЬрди рдЙрдкрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </h4><br><p>  рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рд╕реЗ рд▓рд┐рдВрдХ - <a href="https://www.ovirt.org/documentation/self-hosted/Self-Hosted_Engine_Guide/">oVirt рд╕реЗрд▓реНрдл-рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рдЧрд╛рдЗрдб</a> , рдЕрдзреНрдпрд╛рдп " <a href="https://www.ovirt.org/documentation/self-hosted/chap-Deploying_Self-Hosted_Engine.html">рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рдпрдВ-рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЛ рддреИрдирд╛рдд рдХрд░рдирд╛</a> " </p><br><p>  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рд╡реАрдПрдо рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдорд┐рд▓рдиреЗ рд╡рд╛рд▓реЗ рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рдУрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рджреЛрд╣рд░рд╛рддреЗ рд╣реБрдП рд╢рдмреНрджрд╢рдГ рдЕрдзрд┐рдХ рдЕрд░реНрде рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдХреБрдЫ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╡рд░рдгреЛрдВ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><ul><li>  рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореЗрдЬрдмрд╛рди рдкрд░ BIOS рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рд╕рдорд░реНрдерди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВред </li><li>  рд╣реЛрд╕реНрдЯ рдкрд░ рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </li></ul><br><pre><code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm yum -y install epel-release yum install screen ovirt-hosted-engine-setup</code> </pre> <br><ul><li>  рд╣рдо рд╣реЛрд╕реНрдЯ рдкрд░ рд╕реНрдХреНрд░реАрди рдореЗрдВ oVirt рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ (рдЖрдк рдЗрд╕реЗ Ctrl-A + D рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ Ctrl-D рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрдВрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ): </li></ul><br><pre> <code class="plaintext hljs">screen hosted-engine --deploy</code> </pre> <br><p>  рдпрджрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╣реИ, рддреЛ рдЖрдк рддреИрдпрд╛рд░ рдЙрддреНрддрд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">hosted-engine --deploy --config-append=/var/lib/ovirt-hosted-engine-setup/answers/answers-ohe.conf</code> </pre> <br><ul><li>  рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рдХреА рддреИрдирд╛рддреА рдХреЗ рджреМрд░рд╛рди, рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ: </li></ul><br><pre> <code class="plaintext hljs">-   -  vCPU  vRAM ( 4 vCPU  16 ) -  -    hosted engine  тАУ    FC -  LUN   hosted engine -       hosted engine тАУ     Local (  PostgreSQL    )  . .</code> </pre> <br><ul><li>  рдПрдХ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдЕрддреНрдпрдзрд┐рдХ рд╕реБрд▓рдн рд╡реАрдПрдо рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ LUN рдирдВрдмрд░ 4 рдФрд░ 150 GB рдЖрдХрд╛рд░ рдореЗрдВ рдмрдирд╛рдпрд╛, рдЬрд┐рд╕реЗ рдмрд╛рдж рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ - <a href="https://habr.com/ru/company/lenvendo/blog/483980/">рдкрд┐рдЫрд▓рд╛ рд▓реЗрдЦ рджреЗрдЦреЗрдВ</a> ред </li></ul><br><p>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рд╣рдордиреЗ рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рдЗрд╕рдХреА рджреГрд╢реНрдпрддрд╛ рдХреА рднреА рдЬрд╛рдБрдЪ рдХреА: </p><br><pre> <code class="plaintext hljs">multipath -ll тАж 3600a098000e4b4b3000003c95d171065 dm-3 DELL , MD38xxf size=150G features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw |-+- policy='service-time 0' prio=14 status=active | `- 15:0:0:4 sdc 8:32 active ready running `-+- policy='service-time 0' prio=9 status=enabled `- 18:0:0:4 sdj 8:144 active ready running</code> </pre> <br><ul><li>  рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдХреБрдЫ рднреА рдЬрдЯрд┐рд▓ рдирд╣реАрдВ рд╣реИ, рдЕрдВрдд рдореЗрдВ рд╣рдореЗрдВ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП: </li></ul><br><pre> <code class="plaintext hljs">[ INFO ] Generating answer file '/var/lib/ovirt-hosted-engine-setup/answers/answers-20191129131846.conf' [ INFO ] Generating answer file '/etc/ovirt-hosted-engine/answers.conf' [ INFO ] Stage: Pre-termination [ INFO ] Stage: Termination [ INFO ] Hosted Engine successfully deployed</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">рд╣реЛрд╕реНрдЯ рдкрд░ oVirt рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛:</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/qv/kd/c8/qvkdc8tkfhqkxar1v13jxt4ozxs.png"></p></div></div><br><p>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рд╕реНрдерд╛рдкрдирд╛ рдкреВрд░реНрдг рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рд╡реЗрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рдХреЗ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ <em><a href="https://ovirt_hostname/ovirt-engine">https: // ovirt_hostname / ovirt- рдЗрдВрдЬрди</a></em> рдкрд░ рдЬрд╛рдПрдВ рдФрд░ [ <strong>рдкреНрд░рд╢рд╛рд╕рди рдкреЛрд░реНрдЯрд▓</strong> ] рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ "рдкреНрд░рд╢рд╛рд╕рди рдкреЛрд░реНрдЯрд▓"</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/m7/sq/xp/m7sqxpd7qkl3dugl4oj7_5bga5g.png"></p></div></div><br><p>  рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд┐рдВрдбреЛ рдореЗрдВ рд▓реЙрдЧрд┐рди рдФрд░ рдкрд╛рд╕рд╡рд░реНрдб (рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рд╕реЗрдЯ) рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдУрдкрди рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдореИрдиреЗрдЬрд░ рдХрдВрдЯреНрд░реЛрд▓ рдкреИрдирд▓ рдорд┐рд▓рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЖрдк рд╡рд░реНрдЪреБрдЕрд▓ рдЗрдВрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХреЗ рд╕рд╛рде рд╕рднреА рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ol><li>  рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдЬреЛрдбрд╝реЗрдВ </li><li>  рдХреНрд▓рд╕реНрдЯрд░ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ </li><li>  рдореЗрдЬрдмрд╛рди рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░ рдпрд╛ рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди рдЬреЛрдбрд╝реЗрдВ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ </li><li>  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди, рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдЗрдореЗрдЬ, рд╡реАрдПрдо рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ </li></ol><br><p><img src="https://habrastorage.org/webt/4r/t_/qg/4rt_qg6irvl-mf6bsorclnmr36e.png"></p><br><p>  рдЗрди рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдмрд╛рдж рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛рдПрдЧрд╛, рдПрдХ рдмрдбрд╝реА рд╕реЗрд▓ рдореЗрдВ рдХреБрдЫ, рдХреБрдЫ рдФрд░ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдФрд░ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рдеред <br>  рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ, рдореИрдВ рдЗрд╕ рдРрдб-рдСрди рдХреЛ рдкрдврд╝рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреВрдВрдЧрд╛, рдЬреЛ рд╢рд╛рдпрдж рдмрд╣реБрдд рдХрд╛рдо рдЖ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  <strong>рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛</strong> </p><br><p>  <strong>1)</strong> рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдЕрдЧрд░ рдРрд╕реА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдХреБрдЫ рднреА рдЖрдкрдХреЛ <strong><em>libvirt</em></strong> рдФрд░ <strong><em>qemu-kvm</em></strong> (рдпрд╛ <strong><em>qemu-kvm-ev</em></strong> ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдиреЛрдбреНрд╕ рдкрд░ KVM рд╣рд╛рдЗрдкрд░рд╡рд╛рдЗрдЬрд░ рдХреЛ рдкреНрд░реА-рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдкреИрдХреЗрдЬ рдХреЛ рд╕рдВрдХреБрд▓рд┐рдд рдХрд░рддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЬрдм oVirt рдХреНрд▓рд╕реНрдЯрд░ рдиреЛрдб рдХреЛ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рдЦреБрдж рдХрд░реЛред </p><br><p>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ <strong><em>libvirt</em></strong> рдФрд░ <strong><em>qemu-kvm</em></strong> рдХреЛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЖрдк рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреА рддреИрдирд╛рддреА рдХреЗ рджреМрд░рд╛рди рдРрд╕реА рддреНрд░реБрдЯрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">error: unsupported configuration: unknown CPU feature: md-clear</code> </pre> <br><p>  рдпрд╛рдиреА  рдЖрдкрдХреЗ рдкрд╛рд╕ <a href="https://wiki.ubuntu.com/SecurityTeam/KnowledgeBase/MDS">MDS</a> рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд╕рд╛рде <strong><em>libvirt</em></strong> <a href="https://centos.pkgs.org/7/centos-updates-x86_64/libvirt-4.5.0-10.el7_6.12.x86_64.rpm.html">рдХрд╛ рдПрдХ рдЕрджреНрдпрддрди рд╕рдВрд╕реНрдХрд░рдг</a> рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЬреЛ рдЗрд╕ рдиреАрддрд┐ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">&lt;feature policy='require' name='md-clear'/&gt;</code> </pre> <br><p>  Md-clear рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде libvirt v.4.5.0-10.el7_6.12 рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_ yum install centos-release-qemu-ev yum update yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client systemctl enable libvirtd systemctl restart libvirtd &amp;&amp; systemctl status libvirtd</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Md-clear рд╕рдорд░реНрдерди рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░реЗрдВ:</b> <div class="spoiler_text"><br><pre> <code class="plaintext hljs">virsh domcapabilities kvm | grep require &lt;feature policy='require' name='ss'/&gt; &lt;feature policy='require' name='hypervisor'/&gt; &lt;feature policy='require' name='tsc_adjust'/&gt; &lt;feature policy='require' name='clflushopt'/&gt; &lt;feature policy='require' name='pku'/&gt; &lt;feature policy='require' name='md-clear'/&gt; &lt;feature policy='require' name='stibp'/&gt; &lt;feature policy='require' name='ssbd'/&gt; &lt;feature policy='require' name='invtsc'/&gt;</code> </pre> </div></div><br><p>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдЖрдк рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  <strong>2)</strong> oVirt 4.3 рдореЗрдВ, рдлрд╝рд╛рдпрд░рд╡реЙрд▓ <strong>рдлрд╝рд╛рдпрд░рд╡реЙрд▓</strong> рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдФрд░ рдЙрдкрдпреЛрдЧ рдПрдХ рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдпрджрд┐ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЗ рд▓рд┐рдП VM рдХреА рддреИрдирд╛рддреА рдХреЗ рджреМрд░рд╛рди рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ:</b> <div class="spoiler_text"><br><pre> <code class="plaintext hljs">[ ERROR ] fatal: [localhost]: FAILED! =&gt; {"changed": false, "msg": "firewalld is required to be enabled and active in order to correctly deploy hosted-engine. Please check, fix accordingly and re-deploy.\n"} [ ERROR ] Failed to execute stage 'Closing up': Failed executing ansible-playbook [https://bugzilla.redhat.com/show_bug.cgi?id=1608467</code> </pre> </div></div><br><p>  рдлрд┐рд░ рдЖрдкрдХреЛ рдПрдХ рдФрд░ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдмрдВрдж рдХрд░рдирд╛ рд╣реЛрдЧрд╛ (рдпрджрд┐ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ), рдФрд░ <strong>рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЛ</strong> рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдЪрд▓рд╛рдПрдВ: </p><br><pre> <code class="plaintext hljs">yum install firewalld systemctl enable firewalld systemctl start firewalld firewall-cmd --state firewall-cmd --get-default-zone firewall-cmd --get-active-zones firewall-cmd --get-zones</code> </pre> <br><p>  рдмрд╛рдж рдореЗрдВ, рдЬрдм рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдирдП рд╣реЛрд╕реНрдЯ рдкрд░ рдУрд╡реЗрд░реЗрдЯ рдПрдЬреЗрдВрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рдкреЛрд░реНрдЯ рдХреЛ <strong>рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдореЗрдВ</strong> рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдЧрд╛ред </p><br><p>  <strong>3)</strong> рдПрдХ рд╣реЛрд╕реНрдЯ рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдЙрд╕ рдкрд░ рдЪрд▓ рд░рд╣реЗ рд╡реАрдПрдо рдХреЗ рд╕рд╛рде рдПрдХ рдореЗрдЬрдмрд╛рди рдХреЛ рд░рд┐рдмреВрдЯ рдХрд░рдирд╛ред </p><br><p>  рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рдорд╛рд░реНрдЧрджрд░реНрд╢рди рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЗ рд▓рд┐рдП <a href="https://www.ovirt.org/documentation/self-hosted/chap-Maintenance_and_Upgrading_Resources.html">рд╕рдВрджрд░реНрдн 1</a> рдФрд░ <a href="https://www.ovirt.org/documentation/self-hosted/chap-Troubleshooting.html">рд╕рдВрджрд░реНрдн 2</a> ред </p><br><p>  рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди VM рдХрд╛ рд╕рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрди рд╣реЛрд╕реНрдЯ рдкрд░ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП <strong>рдЗрдВрдЬрди</strong> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЖрдкрдХреЛ <strong>рд╡рд╛рдпрд░ рдХреЗ</strong> рдмрд╛рд░реЗ рдореЗрдВ рднреВрд▓рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рд╣реИ, рд╕рд╛рде рд╣реА рдЗрд╕ рддрдереНрдп рдХреЛ рднреА рдХрд┐ рдЖрдк рдПрд╕рдПрд╕рдПрдЪ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕ рд╡реАрдПрдо рд╕реЗ рдЬреБрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП " <strong>рд╢рдЯрдбрд╛рдЙрди</strong> " <strong>рдХрдорд╛рдВрдб</strong> рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">VM рдХреЛ рд╕реЗрд╡рд╛ рдореЛрдб рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛:</b> <div class="spoiler_text"><br><pre> <code class="plaintext hljs">hosted-engine --set-maintenance --mode=global hosted-engine --vm-status !! Cluster is in GLOBAL MAINTENANCE mode !! --== Host host1.test.local (id: 1) status ==-- conf_on_shared_storage : True Status up-to-date : True Hostname : host1.test.local Host ID : 1 Engine status : {"health": "good", "vm": "up", "detail": "Up"} Score : 3400 stopped : False Local maintenance : False crc32 : dee1a774 local_conf_timestamp : 1821 Host timestamp : 1821 Extra metadata (valid at timestamp): metadata_parse_version=1 metadata_feature_version=1 timestamp=1821 (Sat Nov 29 14:25:19 2019) host-id=1 score=3400 vm_conf_refresh_time=1821 (Sat Nov 29 14:25:19 2019) conf_on_shared_storage=True maintenance=False state=GlobalMaintenance stopped=False hosted-engine --vm-shutdown</code> </pre> </div></div><br><p>  рд╣рдо рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдПрдЬреЗрдВрдЯ рдХреЗ рд╕рд╛рде рдореЗрдЬрдмрд╛рди рдХреЛ рд░рд┐рдмреВрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╣рдореЗрдВ рдЗрд╕рдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИред </p><br><p>  рд░реАрдмреВрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде VM рдХреА рд╕реНрдерд┐рддрд┐ рдЬрд╛рдВрдЪреЗрдВ: </p><br><pre> <code class="plaintext hljs">hosted-engine --vm-status</code> </pre> <br><p>  рдпрджрд┐ рд╣реЛрд╕реНрдЯреЗрдб-рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рд╣рдорд╛рд░рд╛ рд╡реАрдПрдо рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрджрд┐ рд╣рдореЗрдВ рд╕реЗрд╡рд╛ рд▓реЙрдЧ рдореЗрдВ рд╕рдорд╛рди рддреНрд░реБрдЯрд┐рдпрд╛рдВ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рд╕реЗрд╡рд╛ рд▓реЙрдЧ рдореЗрдВ рддреНрд░реБрдЯрд┐:</b> <div class="spoiler_text"><br><pre> <code class="plaintext hljs">journalctl -u ovirt-ha-agent ... Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.hosted_engine.HostedEngine ERROR Failed to start necessary monitors Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Traceback (most recent call last):#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 131, in _run_agent#012 return action(he)#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 55, in action_proper#012 return he.start_monitoring()#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 413, in start_monitoring#012 self._initialize_broker()#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 537, in _initialize_broker#012 m.get('options', {}))#012 File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/lib/brokerlink.py", line 86, in start_monitor#012 ).format(t=type, o=options, e=e)#012RequestError: brokerlink - failed to start monitor via ovirt-ha-broker: [Errno 2] No such file or directory, [monitor: 'ping', options: {'addr': '172.20.32.32'}] Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Trying to restart agent</code> </pre> </div></div><br><p>  рдлрд┐рд░ рд╣рдо рд╕реНрдЯреЛрд░реЗрдЬ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдПрдЬреЗрдВрдЯ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">hosted-engine --connect-storage systemctl restart ovirt-ha-agent systemctl status ovirt-ha-agent hosted-engine --vm-start hosted-engine --vm-status</code> </pre> <br><p>  VM рдХреЛ рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЗрд╕реЗ рд░рдЦрд░рдЦрд╛рд╡ рдореЛрдб рд╕реЗ рд╣рдЯрд╛ рджреЗрддреЗ рд╣реИрдВ: </p><br><div class="spoiler">  <b class="spoiler_title">рдПрдХ рд╡реАрдПрдо рдХреЛ рд░рдЦрд░рдЦрд╛рд╡ рдореЛрдб рд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛:</b> <div class="spoiler_text"><br><pre> <code class="plaintext hljs">hosted-engine --check-liveliness hosted-engine --set-maintenance --mode=none hosted-engine --vm-status --== Host host1.test.local (id: 1) status ==-- conf_on_shared_storage : True Status up-to-date : True Hostname : host1.test.local Host ID : 1 Engine status : {"health": "good", "vm": "up", "detail": "Up"} Score : 3400 stopped : False Local maintenance : False crc32 : 6d1eb25f local_conf_timestamp : 6222296 Host timestamp : 6222296 Extra metadata (valid at timestamp): metadata_parse_version=1 metadata_feature_version=1 timestamp=6222296 (Fri Jan 17 11:40:43 2020) host-id=1 score=3400 vm_conf_refresh_time=6222296 (Fri Jan 17 11:40:43 2020) conf_on_shared_storage=True maintenance=False state=EngineUp stopped=False</code> </pre> </div></div><br><p>  <strong>4)</strong> рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдФрд░ рдЙрд╕рд╕реЗ рдЬреБрдбрд╝реА рд╣рд░ рдЪреАрдЬ рдХреЛ рд╣рдЯрд╛рдирд╛ред </p><br><p>  рдХрднреА-рдХрднреА рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрд╕реНрдЯ рдЗрдВрдЬрди рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ - рдПрдХ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╛ <a href="https://www.ovirt.org/documentation/self-hosted/chap-Troubleshooting.html">рд▓рд┐рдВрдХ</a> ред </p><br><p>  рдмрд╕ рд╣реЛрд╕реНрдЯ рдкрд░ рдХрдорд╛рдВрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">/usr/sbin/ovirt-hosted-engine-cleanup</code> </pre> <br><p>  рдЕрдЧрд▓рд╛, рдЕрдирд╛рд╡рд╢реНрдпрдХ рд╕рдВрдХреБрд▓ рдХреЛ рд╣рдЯрд╛ рджреЗрдВ, рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдЙрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХреБрдЫ рд╡рд┐рдиреНрдпрд╛рд╕ рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрдВ: </p><br><pre> <code class="plaintext hljs">yum autoremove ovirt* qemu* virt* libvirt* libguestfs</code> </pre> <br><h4 id="sozdanie-novogo-datacentra">  рдирдП рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг </h4><br><p>  рд╕рдВрджрд░реНрдн рдкреНрд░рд▓реЗрдЦрди - oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдбред  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Data_Centers.html">рдЕрдзреНрдпрд╛рдп 4: рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░</a> </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ <strong>рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░</strong> рдХреНрдпрд╛ <strong>рд╣реИ</strong> (рдореИрдВ рдорджрдж рд╕реЗ рдЙрджреНрдзреГрдд рдХрд░рддрд╛ рд╣реВрдВ) - рдпрд╣ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдЗрдХрд╛рдИ рд╣реИ рдЬреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдПрдХ рдХрдВрдЯреЗрдирд░ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: </p><br><ul><li>  рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ рд╣реЛрд╕реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рддрд╛рд░реНрдХрд┐рдХ рд╕рдВрд╕рд╛рдзрди </li><li>  рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рддрд╛рд░реНрдХрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рднреМрддрд┐рдХ рдПрдбреЗрдкреНрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдиреЗрдЯрд╡рд░реНрдХ рд╕рдВрд╕рд╛рдзрди, </li><li>  рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░реЛрдВ (рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди) рдХреЗ рд░реВрдк рдореЗрдВ рднрдВрдбрд╛рд░рдг рд╕рдВрд╕рд╛рдзрди (рд╡реАрдПрдо рдбрд┐рд╕реНрдХ, рдЯреЗрдореНрдкреНрд▓реЗрдЯ, рдЪрд┐рддреНрд░ рдХреЗ рд▓рд┐рдП)ред </li></ul><br><p>  рдПрдХ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдХрдИ рд╣реЛрд╕реНрдЯ рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдЪрд▓ рд░рд╣реА рд╣реИ, рдЗрд╕рдореЗрдВ рдХрдИ рд╕реНрдЯреЛрд░реЗрдЬ рдПрд░рд┐рдпрд╛ рднреА рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдХрдИ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд╡реЗ рдПрдХ-рджреВрд╕рд░реЗ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  Ovirt рдореЗрдВ рднреВрдорд┐рдХрд╛ рджреНрд╡рд╛рд░рд╛ рд╢рдХреНрддрд┐рдпреЛрдВ рдХрд╛ рдкреГрдердХреНрдХрд░рдг рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЖрдк рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ, рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рд╕реНрддрд░ рдкрд░ рдФрд░ рдЗрд╕рдХреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рддрд╛рд░реНрдХрд┐рдХ рддрддреНрд╡реЛрдВ рдкрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░, рдпрд╛ рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░, рдпрджрд┐ рдХрдИ рд╣реИрдВ, рддреЛ рдПрдХ рд╣реА рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдХрдВрд╕реЛрд▓ рдпрд╛ рдкреЛрд░реНрдЯрд▓ рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдкреЛрд░реНрдЯрд▓ рдкрд░ рдЬрд╛рдПрдБ рдФрд░ рдПрдХ рдирдпрд╛ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдмрдирд╛рдПрдБ: <br>  <strong>рдХрдореНрдкреНрдпреВрдЯ</strong> &gt;&gt; <strong>рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░</strong> &gt;&gt; <strong>рдирдпрд╛</strong> </p><br><p>  рдЪреВрдВрдХрд┐ рд╣рдо рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓реА рдкрд░ рд╕рд╛рдЭрд╛ рднрдВрдбрд╛рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рднрдВрдбрд╛рд░рдг рдкреНрд░рдХрд╛рд░ рд╕рд╛рдЭрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: </p><br><div class="spoiler">  <b class="spoiler_title">рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЗ рд╕рд╛рде рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bf/eg/id/bfegid-tcvqsfjjxa1oqzop_9iw.png"></p></div></div><br><p>  рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╕рдордп, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ рдбреЗрдЯрд╛рд╕реЗрдВрдЯрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - <strong>Datacenter1</strong> , рдФрд░ рдлрд┐рд░, рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЖрдк рд╕рдВрдЧреНрд░рд╣рдг рдкреНрд░рдХрд╛рд░ рдХреЛ рджреВрд╕рд░реЗ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдмрдирд╛рдирд╛ рдПрдХ рд╕рд░рд▓ рдХрд╛рд░реНрдп рд╣реИ, рдмрд┐рдирд╛ рдХрд┐рд╕реА рдмрд╛рд░реАрдХ рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЗ, рдФрд░ рдЗрд╕рдХреЗ рд╕рд╛рде рд╕рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рдХреНрд░рд┐рдпрд╛рдПрдВ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рд╡рд░реНрдгрд┐рдд рд╣реИрдВред  рдореИрдВ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рд╣реА рдзреНрдпрд╛рди рджреВрдВрдЧрд╛ рдХрд┐ VM рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рд╣реЛрд╕реНрдЯ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдХрд▓ рд╣реЛрд╕реНрдЯ (рдбрд┐рд╕реНрдХ) рд╕реНрдЯреЛрд░реЗрдЬ рдЯрд╛рдЗрдк - рд╕рд╛рдЭрд╛ (рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╡рд╣рд╛рдВ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХрддреЗ) рдХреЗ рд╕рд╛рде рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЙрдирдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдПрдХ рдЕрд▓рдЧ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдЕрд░реНрдерд╛рдд  рд╕реНрдерд╛рдиреАрдп рднрдВрдбрд╛рд░рдг рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпреЗрдХ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрд╕реНрдЯ рдХреЛ рдЕрдкрдиреЗ рдЕрд▓рдЧ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </p><br><h4 id="sozdanie-novogo-klastera">  рдПрдХ рдирдпрд╛ рдХреНрд▓рд╕реНрдЯрд░ рдмрдирд╛рдПрдБ </h4><br><p>  рдкреНрд░рд▓реЗрдЦрди рд▓рд┐рдВрдХ - oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдбред  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Clusters.html">рдЕрдзреНрдпрд╛рдп 5: рдХреНрд▓рд╕реНрдЯрд░</a> </p><br><p>  рдЕрдирд╛рд╡рд╢реНрдпрдХ рд╡рд┐рд╡рд░рдг рдХреЗ рдмрд┐рдирд╛, рдПрдХ <strong>рдХреНрд▓рд╕реНрдЯрд░</strong> рдореЗрдЬрдмрд╛рдиреЛрдВ рдХрд╛ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдЖрдо рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ (рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓реА рдкрд░ рд╕рд╛рдЭрд╛ рдбреНрд░рд╛рдЗрд╡ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ) рд╣реИред  рдпрд╣ рднреА рд╡рд╛рдВрдЫрдиреАрдп рд╣реИ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╣реЛрд╕реНрдЯ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдореЗрдВ рд╕рдорд╛рди рд╣реИрдВ рдФрд░ рдПрдХ рд╣реА рдкреНрд░реЛрд╕реЗрд╕рд░ рдкреНрд░рдХрд╛рд░ (рдЗрдВрдЯреЗрд▓ рдпрд╛ рдПрдПрдордбреА) рд╣реИрдВред  рдпрд╣ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ рдХрд┐ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рд░реНрд╡рд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдорд╛рди рд╣реИрдВред </p><br><p>  рдХреНрд▓рд╕реНрдЯрд░ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ (рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рдХрд╛рд░ рдХреЗ рднрдВрдбрд╛рд░рдг рдХреЗ рд╕рд╛рде - <em>рд╕реНрдерд╛рдиреАрдп</em> рдпрд╛ <em>рд╕рд╛рдЭрд╛</em> ), рдФрд░ рд╕рднреА рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЛ рдЖрд╡рд╢реНрдпрдХ рд░реВрдк рд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╣ рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ рдПрдХ рдЖрдо рднрдВрдбрд╛рд░рдг рд╣реИ рдпрд╛ рдирд╣реАрдВред </p><br><p>  рд╣реЛрд╕реНрдЯ рдкрд░ рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╕рдордп, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - <strong>Datacenter1</strong> , рдПрдХ рд╕рд╛рде рдХреНрд▓рд╕реНрдЯрд░ - <strong>Cluster1</strong> , рдФрд░ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЖрдк рдЗрд╕рдХреЗ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд┐рдХрд▓реНрдк рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рдореЗрдВ рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рдЖрджрд┐ред </p><br><p>  рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рд╕рднреА рдХреНрд▓рд╕реНрдЯрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╣реИред  рдХреНрд▓рд╕реНрдЯрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рдХреБрдЫ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдореЗрдВ, рдореИрдВ рдХреЗрд╡рд▓ рдЗрддрдирд╛ рдЬреЛрдбрд╝реВрдВрдЧрд╛ рдХрд┐ рдЗрд╕реЗ рдмрдирд╛рддреЗ рд╕рдордп, <strong><em>рд╕рд╛рдорд╛рдиреНрдп</em></strong> рдЯреИрдм рдкрд░ рдХреЗрд╡рд▓ рдореВрд▓ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред </p><br><p>  рдореИрдВ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреВрдВрдЧрд╛: </p><br><ul><li>  <em>рдкреНрд░реЛрд╕реЗрд╕рд░ рдкреНрд░рдХрд╛рд░</em> - рдпрд╣ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯ рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рд╡реЗ рдХрд┐рд╕ рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╣реИрдВ, рдФрд░ рдХреМрди рд╕рд╛ рдкреНрд░реЛрд╕реЗрд╕рд░ рдореЗрдЬрдмрд╛рди рдкрд░ рд╕рдмрд╕реЗ рдкреБрд░рд╛рдирд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рднреА рдЙрдкрд▓рдмреНрдз рдкреНрд░реЛрд╕реЗрд╕рд░ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  <em>рд╕реНрд╡рд┐рдЪ рдкреНрд░рдХрд╛рд░</em> - рд╣рдорд╛рд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╣рдо рдХреЗрд╡рд▓ рд▓рд┐рдирдХреНрд╕ рдмреНрд░рд┐рдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕реЗ рдЪреБрдирддреЗ рд╣реИрдВред </li><li>  <em>рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдкреНрд░рдХрд╛рд░</em> - рдпрд╣рд╛рдВ рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИ, рдпрд╣ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╣реИ, рдЬрд┐рд╕реЗ рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рд╕рдХреНрд╖рдо рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ul><br><div class="spoiler">  <b class="spoiler_title">рдХреНрд▓рд╕реНрдЯрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/os/vn/qy/osvnqyj3srg8vjpflkdy9l4e84e.png"></p></div></div><br><h4 id="ustanovka-dopolnitelnyh-hostov-v-self-hosted-okruzhenii">  рдПрдХ рд╕реНрд╡рдпрдВ-рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрд╕реНрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ </h4><br><p>  рдкреНрд░рд▓реЗрдЦрди рдХреЗ рд▓рд┐рдП <a href="https://www.ovirt.org/documentation/self-hosted/chap-Installing_Additional_Hosts_to_a_Self-Hosted_Environment.html">рд▓рд┐рдВрдХ</a> ред </p><br><p>  рд╕реЗрд▓реНрдл-рд╣реЛрд╕реНрдЯреЗрдб рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЛ рдПрдХ рдирд┐рдпрдорд┐рдд рд╣реЛрд╕реНрдЯ рдХреА рддрд░рд╣ рд╣реА рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдПрдХ рд╣реЛрд╕реНрдЯ рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде рд╡реАрдПрдо рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдмрд┐рдВрджреБ - <strong><em>рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреНрд░рд┐рдпрд╛ рдЪреБрдиреЗрдВ</em></strong> &gt; <strong><em>рдкрд░рд┐рдирд┐рдпреЛрдЬрд┐рдд рдХрд░реЗрдВ</em></strong> ред  рдЪреВрдВрдХрд┐ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде VM рдХреЗ рд▓рд┐рдП LUN рдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рднреА рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕ рд╣реЛрд╕реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрд╕ рдкрд░ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдХреЗ рд╕рд╛рде VM рдХреЛ рд╣реЛрд╕реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br>  рдЧрд▓рддреА рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдХрдо рд╕реЗ рдХрдо рджреЛ рдореЗрдЬрдмрд╛рди рд╣реЛрдВ рдЬрд┐рди рдкрд░ рдПрдХ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рд╡реАрдПрдо рдХреЛ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрд╕реНрдЯ рдкрд░, iptables рдЕрдХреНрд╖рдо рдХрд░реЗрдВ (рдпрджрд┐ рд╕рдХреНрд╖рдо рд╣реИ), рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ </p><br><pre> <code class="plaintext hljs">systemctl stop iptables systemctl disable iptables systemctl enable firewalld systemctl start firewalld</code> </pre> <br><p>  KVM рдХреЗ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ): </p><br><pre> <code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_ yum install centos-release-qemu-ev yum update yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client systemctl enable libvirtd systemctl restart libvirtd &amp;&amp; systemctl status libvirtd virsh domcapabilities kvm | grep md-clear</code> </pre> <br><p>  рдЖрд╡рд╢реНрдпрдХ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдФрд░ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рдЗрдВрдЬрди рдЗрдВрд╕реНрдЯреЙрд▓рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm yum -y install epel-release yum update yum install screen ovirt-hosted-engine-setup</code> </pre> <br><p>  рдЗрд╕рдХреЗ рдмрд╛рдж, <strong><em>рдУрдкрди рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдореИрдиреЗрдЬрд░ рдХрдВрд╕реЛрд▓ рдкрд░ рдЬрд╛рдПрдВ</em></strong> , рдПрдХ рдирдпрд╛ рд╣реЛрд╕реНрдЯ рдЬреЛрдбрд╝реЗрдВ, рдФрд░ рдЪрд░рдгрдмрджреНрдз рддрд░реАрдХреЗ рд╕реЗ рд╕рдм рдХреБрдЫ рдХрд░реЗрдВ, рдЬреИрд╕рд╛ рдХрд┐ <a href="https://www.ovirt.org/documentation/self-hosted/chap-Installing_Additional_Hosts_to_a_Self-Hosted_Environment.html">рджрд╕реНрддрд╛рд╡реЗрдЬ</a> рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдирддреАрдЬрддрди, рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЛрд╕реНрдЯ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдХрдВрд╕реЛрд▓ рдореЗрдВ рд▓рдЧрднрдЧ рдПрдХ рдЪрд┐рддреНрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреИрд╕рд╛ рдХрд┐ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдореЗрдВ рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдкреЛрд░реНрдЯрд▓ рдХрд╛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ - рд╣реЛрд╕реНрдЯ</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wh/hr/nc/whhrnchajorr5ogqxinvecjdxi0.png"></p></div></div><br><p>  рд╣реЛрд╕реНрдЯ рдЬрд┐рд╕ рдкрд░ рд╣реЛрд╕реНрдЯ-рдЗрдВрдЬрди VM рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕рдХреНрд░рд┐рдп рд╣реИ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдПрдХ рд╕реЛрдиреЗ рдХрд╛ рдореБрдХреБрдЯ рд╣реИ рдФрд░ рд╢рд┐рд▓рд╛рд▓реЗрдЦ " <em>рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рд╡реАрдПрдо рд░рдирд┐рдВрдЧ</em> " рд╣реИ, рдЬрд┐рд╕ рдкрд░ рдпрд╣ рд╡реАрдПрдо рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рд╢рд┐рд▓рд╛рд▓реЗрдЦ " <em>рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рд╡реАрдПрдо рдЪрд▓рд╛ рд╕рдХрддрд╛ рд╣реИ</em> "ред </p><br><p>  рд╣реЛрд╕реНрдЯ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЬрд┐рд╕ рдкрд░ " <em>рд╣реЛрд╕реНрдЯреЗрдб рдЗрдВрдЬрди рд╡реАрдПрдо рд░рдирд┐рдВрдЧ</em> ", рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рджреВрд╕рд░реЗ рд╣реЛрд╕реНрдЯ рдкрд░ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕ рд╡реАрдПрдо рдХреЛ рд╕рдХреНрд░рд┐рдп рд╣реЛрд╕реНрдЯ рд╕реЗ рдмреИрдХрдЕрдк рд╡рди рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рд░рдЦрд░рдЦрд╛рд╡ рдХреЗ рд▓рд┐рдПред </p><br><p>  <u>OVirt рд╣реЛрд╕реНрдЯ рдкрд░ рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди / рдмрд╛рдбрд╝ рд▓рдЧрд╛рдирд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</u> </p><br><p>  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓рд┐рдВрдХ: </p><br><ul><li>  Red Hat рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди 4.3 -&gt; рддрдХрдиреАрдХреА рд╕рдВрджрд░реНрдн -&gt; <a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.3/html/technical_reference/chap-power_management">рдЕрдзреНрдпрд╛рдп 4. рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди</a> </li><li>  oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдб -&gt; <a href="https://www.ovirt.org/documentation/admin-guide/chap-Hosts.html">рдЕрдзреНрдпрд╛рдп 7: рдореЗрдЬрдмрд╛рди</a> </li></ul><br><p>  рдпрджреНрдпрдкрд┐ рдРрд╕рд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╣реЛрд╕реНрдЯ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдкреВрд░рд╛ рд╣реЛ рдЧрдпрд╛ рд╣реИ, рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕рдЪ рдирд╣реАрдВ рд╣реИред <br>  рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдХреЗ рд╕рд╛рде рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ / рд╕рдорд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди / рдмрд╛рдбрд╝ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </p><br><p>  <strong>рдмрд╛рдбрд╝</strong> , рдпрд╛ рдмрд╛рдбрд╝реЗ, рдПрдХ рдХреНрд▓рд╕реНрдЯрд░ рд╕реЗ рдПрдХ рдЕрд╕рдлрд▓ рдпрд╛ рдЕрд╕рдлрд▓ рдореЗрдЬрдмрд╛рди рдХреЛ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рджреМрд░рд╛рди рдпрд╛ рддреЛ рдЙрд╕ рдкрд░ рдУрд╡реАрдЖрд░рдЯреА рд╕реЗрд╡рд╛рдПрдВ рдпрд╛ рдореЗрдЬрдмрд╛рди рдЦреБрдж рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдкреЙрд╡рд░ рдореИрдиреЗрдЬрдореЗрдВрдЯ / рдлреЗрдВрд╕рд┐рдВрдЧ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛рдУрдВ рдФрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рд╕рднреА рд╡рд┐рд╡рд░рдг рджрд┐рдП рдЧрдП рд╣реИрдВ, рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ, рдореИрдВ рдХреЗрд╡рд▓ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛ рдХрд┐ iDRAC 9 рдХреЗ рд╕рд╛рде рдбреЗрд▓ R640 рд╕рд░реНрд╡рд░ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рдкрд░ рдЗрд╕ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдХреИрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><ol><li>  рд╣рдо рдкреНрд░рд╢рд╛рд╕рдирд┐рдХ рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рдЬрд╛рддреЗ рд╣реИрдВ, <strong>рдХрдВрдкреНрдпреВрдЯ</strong> &gt;&gt; <strong>рд╣реЛрд╕реНрдЯ рдкрд░</strong> рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ <strong>, рд╣реЛрд╕реНрдЯ рдХрд╛</strong> рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВред </li><li>  <strong>рд╕рдВрдкрд╛рджрд┐рдд рдХрд░реЗрдВ рдкрд░</strong> рдХреНрд▓рд┐рдХ <strong>рдХрд░реЗрдВ</strong> ред </li><li>  <strong>рдкрд╛рд╡рд░ рдореИрдиреЗрдЬрдореЗрдВрдЯ</strong> рдЯреИрдм рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </li><li>  <strong>рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди</strong> рд╡рд┐рдХрд▓реНрдк <strong>рд╕рдХреНрд╖рдо рдХрд░реЗрдВ рдХреЗ</strong> рдмрдЧрд▓ рдореЗрдВ рд╕реНрдерд┐рдд рдмреЙрдХреНрд╕ рдХреЛ рдЪреЗрдХ <strong>рдХрд░реЗрдВ</strong> ред </li><li>  рд╣рдо <em>Kdump рдПрдХреАрдХрд░рдг</em> рд╡рд┐рдХрд▓реНрдк рдХреЗ рдмрдЧрд▓ рдореЗрдВ рд╕реНрдерд┐рдд рдмреЙрдХреНрд╕ рдХреЛ рдЪреЗрдХ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд╣реЛрд╕реНрдЯ рдХрд░реНрдиреЗрд▓ рдХреНрд░реИрд╢ рдбрдВрдк рд▓рд┐рдЦрддреЗ рд╕рдордп рдлрд╝реЗрдВрд╕рд┐рдВрдЧ рдореЛрдб рдореЗрдВ рди рдЬрд╛рдПред </li></ol><br><div class="spoiler">  <b class="spoiler_title">рдиреЛрдЯред</b> <div class="spoiler_text"><p>  рдкрд╣рд▓реЗ рд╕реЗ рдЪрд▓ рд░рд╣реЗ рд╣реЛрд╕реНрдЯ рдкрд░ Kdump рдПрдХреАрдХрд░рдг рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЗрд╕реЗ OVirt рд╡реНрдпрд╡рд╕реНрдерд╛рдкрди рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛ -&gt; <a href="https://www.ovirt.org/documentation/admin-guide/chap-Hosts.html">рдЕрдзреНрдпрд╛рдп 7: рд╣реЛрд╕реНрдЯреНрд╕</a> -&gt; рдкреБрдирд░реНрд╕реНрдерд╛рдкрдирд╛ рд╣реЛрд╕реНрдЯреНрд╕ рдореЗрдВ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреБрдирдГ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p></div></div><br><ol><li>  рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдЖрдк <em>рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди</em> рдЪреЗрдХ рдмреЙрдХреНрд╕ рдХреА <em>рдЕрдХреНрд╖рдо рдиреАрддрд┐ рдирд┐рдпрдВрддреНрд░рдг рдХреА</em> рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐ рд╣рдо рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рдХрд┐ рдореЗрдЬрдмрд╛рди рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди рдХреНрд▓рд╕реНрдЯрд░ рдХреА рдирд┐рд░реНрдзрд╛рд░рдг рдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред </li><li>  рдПрдХ рдирдпрд╛ рдкрд╛рд╡рд░ рдкреНрд░рдмрдВрдзрди рдЙрдкрдХрд░рдг рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП ( <em>+</em> ) рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ, рдПрдЬреЗрдВрдЯ рдХреЗ рдЧреБрдгреЛрдВ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдВрдбреЛ рдЦреБрд▓ рдЬрд╛рдПрдЧреАред <br>  IDRAC9 рдХреЗ рд▓рд┐рдП, рдЦреЗрддреЛрдВ рдореЗрдВ рднрд░реЗрдВ: <br><ul><li>  <em>рдкрддрд╛</em> - iDRAC9 рдкрддрд╛ </li><li>  <em>рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдирд╛рдо / рдкрд╛рд╕рд╡рд░реНрдб</em> - рдХреНрд░рдорд╢рдГ рдкреНрд░рд╡реЗрд╢ рдХрд░реЗрдВ рдФрд░ iDRAC9 рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рд╕рд╡рд░реНрдб </li><li>  <em>рдкреНрд░рдХрд╛рд░</em> - drac5 </li><li>  <em>рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд░реЗрдВ</em> </li><li>  рдирд┐рдореНрди рд╡рд┐рдХрд▓реНрдк рдЬреЛрдбрд╝реЗрдВ: <em>cmd_prompt =&gt;, login_timeout = 30</em> </li></ul></li></ol><br><div class="spoiler">  <b class="spoiler_title">рд╣реЛрд╕реНрдЯ рдЧреБрдгреЛрдВ рдореЗрдВ "рдкрд╛рд╡рд░ рдореИрдиреЗрдЬрдореЗрдВрдЯ" рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/kz/be/ky/kzbekyoxr6cromqq0epltd2cjbo.png"></p></div></div><br><h4 id="sozdanie-oblasti-hraneniya-ili-storage-domains">  рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░ рдпрд╛ рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди рдмрдирд╛рдПрдБ </h4><br><p>  рдкреНрд░рд▓реЗрдЦрди рд▓рд┐рдВрдХ - oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдб, <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">рдЕрдзреНрдпрд╛рдп 8: рднрдВрдбрд╛рд░рдг</a> ред </p><br><p>  <strong>рдПрдХ рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди</strong> , рдпрд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░, рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдбрд┐рд╕реНрдХ, рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди рдЗрдореЗрдЬ, рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдФрд░ рд╕реНрдиреИрдкрд╢реЙрдЯ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреЗрдВрджреНрд░реАрдХреГрдд рд╕реНрдерд╛рди рд╣реИред </p><br><p>  рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдХреНрд▓рд╕реНрдЯрд░ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  OVirt рдореЗрдВ рддреАрди рдкреНрд░рдХрд╛рд░ рдХреЗ рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ рд╣реИрдВ: </p><br><ul><li>  <strong>рдбреЗрдЯрд╛ рдбреЛрдореЗрди</strong> - рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди (рдбрд┐рд╕реНрдХ, рдЯреЗрдореНрдкреНрд▓реЗрдЯ) рд╕реЗ рдЬреБрдбрд╝реЗ рд╕рднреА рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдбреЗрдЯрд╛ рдбреЛрдореЗрди рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  <strong>рдЖрдИрдПрд╕рдУ рдбреЛрдореЗрди</strong> (рдкрджрд╛рд╡рдирдд рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░ рдкреНрд░рдХрд╛рд░) - OS рд╕рдВрд╕реНрдерд╛рдкрди рдЪрд┐рддреНрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред  рдЖрдИрдПрд╕рдУ рдбреЛрдореЗрди рдХреЛ рд╡рд┐рднрд┐рдиреНрди рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рд╕рд╛рдЭрд╛ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  <strong>рдирд┐рд░реНрдпрд╛рдд рдбреЛрдореЗрди</strong> (рдЕрдкреНрд░рдЪрд▓рд┐рдд рдкреНрд░рдХрд╛рд░ рдХрд╛ рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░) - рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░реЛрдВ рдХреЗ рдмреАрдЪ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдЫрд╡рд┐рдпреЛрдВ рдХреЗ рдЕрд╕реНрдерд╛рдпреА рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдПред </li></ul><br><p>  рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдореЗрдВ, рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓реА рдкрд░ LUN рд╕реЗ рдЬреБрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░рдХрд╛рд░ рдбреЗрдЯрд╛ рдбреЛрдореЗрди рдХрд╛ рдПрдХ рд╕реНрдЯреЛрд░реЗрдЬ рдбреЛрдореЗрди рдлрд╛рдЗрдмрд░ рдЪреИрдирд▓ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ (FCP) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред </p><br><p>  OVirt рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ (FC рдпрд╛ iSCSI) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ, рд╕реНрдиреИрдкрд╢реЙрдЯ рдпрд╛ рдЯреЗрдореНрдкрд▓реЗрдЯ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдбрд┐рд╕реНрдХ рд╣реИред <br>  рдЦрдВрдб рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рд╡реЙрд▓реНрдпреВрдо рд╕рдореВрд╣ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдПрдХрд▓ рдЗрдХрд╛рдИ (рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯ рдкрд░) рдореЗрдВ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╡реАрд╡реАрдПрдо рдХреЛ рд╡реАрдПрдо рдХреЗ рд▓рд┐рдП рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рддрд╛рд░реНрдХрд┐рдХ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдЗрди рд╕рднреА рд╕рдореВрд╣реЛрдВ рдФрд░ рдХрдИ LVM рд╡реЙрд▓реНрдпреВрдо рдХреЛ <strong>vgs</strong> рдФрд░ <strong>lvs</strong> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рд╣реЛрд╕реНрдЯ рдкрд░ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдЗрд╕ рддрд░рд╣ рдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде рд╕рднреА рдХреНрд░рд┐рдпрд╛рдПрдВ рдХреЗрд╡рд▓ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЛрдВ рдХреЛ рдЫреЛрдбрд╝рдХрд░, рдУрд╡рд┐рд░реНрдЯ рдХрдВрд╕реЛрд▓ рд╕реЗ рдХреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдПред </p><br><p>  VMs рдХреЗ рд▓рд┐рдП рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ рджреЛ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ - QCOW2 рдпрд╛ RAWред  рдбрд┐рд╕реНрдХ <em>рдкрддрд▓реА</em> рдпрд╛ <em>рдореЛрдЯреА</em> рд╣реЛ рд╕рдХрддреА рд╣реИред  рд╕реНрдиреИрдкрд╢реЙрдЯ рд╣рдореЗрд╢рд╛ <em>рдкрддрд▓реЗ</em> рдХреЗ рд░реВрдк рдореЗрдВ рдмрдирд╛рдП рдЬрд╛рддреЗ рд╣реИрдВред </p><br><p>  рдПрдлрд╕реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЧрдП рд╕реНрдЯреЛрд░реЗрдЬ рдбреЛрдореЗрди, рдпрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдХрд╛рдлреА рддрд╛рд░реНрдХрд┐рдХ рд╣реИ - рд╡реАрдПрдо рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рд▓реЙрдЬрд┐рдХрд▓ рд╡реЙрд▓реНрдпреВрдо рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ рдПрдХ рд╣реЛрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рд░рд╛рдЗрдЯ рд╣реИред  FC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, oVirt рдХреНрд▓рд╕реНрдЯрд░ LVM рдХреА рддрд░рд╣ рдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдПрдХ рд╣реА рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ рдкрд░ рд╕реНрдерд┐рдд рдЖрднрд╛рд╕реА рдорд╢реАрдиреЛрдВ рдХреЛ рдПрдХ рд╣реА рдХреНрд▓рд╕реНрдЯрд░ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрд╕реНрдЯ рдХреЗ рдмреАрдЪ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╡рд┐рд╡рд░рдг рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, oVirt рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░, VMware vSphere рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рддрд░рд╣ рдпрд╛ рд╣рд╛рдЗрдкрд░- V рдореЗрдВ, рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рд╣реА рдорддрд▓рдм рд╣реИ - рдпрд╣ рдореЗрдЬрдмрд╛рдиреЛрдВ рдХрд╛ рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣ рд╣реИ, рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдореЗрдВ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд╕рдорд╛рди рд╣реИ, рдФрд░ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрдо рднрдВрдбрд╛рд░рдг рд╣реИред </p><br><p>  рд╣рдо рд╕реАрдзреЗ рдбреЗрдЯрд╛ (VM рдбрд┐рд╕реНрдХ) рдХреЗ рд▓рд┐рдП рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХреЗ рдмрд┐рдирд╛ рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░ рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br>  рдЖрдкрдХреЛ рдпрд╛рдж рджрд┐рд▓рд╛ рджреВрдВ рдХрд┐ рд╕реНрдЯреЛрд░реЗрдЬ рдкрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рд╕рднреА LUN рдЙрдиреНрд╣реЗрдВ " <strong>рдорд▓реНрдЯреАрдкрд╛рде -ll</strong> " рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рджрд┐рдЦрд╛рдИ рджреЗрдиреА рдЪрд╛рд╣рд┐рдПред </p><br><p>  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреЗ</a> рдЕрдиреБрд╕рд╛рд░, рдкреЛрд░реНрдЯрд▓ рдкрд░ рдЬрд╛рдПрдВ, <strong><em>рд╕реНрдЯреЛрд░реЗрдЬ</em></strong> &gt;&gt; <strong><em>рдбреЛрдореЗрди</em></strong> -&gt; <strong><em>рдирдП рдбреЛрдореЗрди рдкрд░ рдЬрд╛рдПрдВ</em></strong> рдФрд░ "рдЬреЛрдбрд╝рдирд╛ FCP рд╕рдВрдЧреНрд░рд╣рдг" рдЕрдиреБрднрд╛рдЧ рд╕реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред </p><br><p>  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрд╡рд╢реНрдпрдХ рдлрд╝реАрд▓реНрдб рднрд░реЗрдВ: </p><br><ul><li>  <em>рдирд╛рдо</em> - рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдирд╛рдо рд╕реЗрдЯ рдХрд░реЗрдВ </li><li>  <em>рдбреЛрдореЗрди рдлрд╝рдВрдХреНрд╢рди</em> - рдбреЗрдЯрд╛ </li><li>  <em>рднрдВрдбрд╛рд░рдг рдкреНрд░рдХрд╛рд░</em> - рдлрд╛рдЗрдмрд░ рдЪреИрдирд▓ </li><li>  <em>рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯ</em> - рд╡рд╣ рд╣реЛрд╕реНрдЯ рдЪреБрдиреЗрдВ рдЬрд╣рд╛рдВ рдЖрд╡рд╢реНрдпрдХ LUN рдЙрдкрд▓рдмреНрдз рд╣реИред </li></ul><br><p>  LUN рдХреА рд╕реВрдЪреА рдореЗрдВ, рд╣рдо рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ, <em>рдЬреЛрдбрд╝реЗрдВ рдкрд░</em> рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ <em>рдареАрдХ рдкрд░</em> рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЖрдк <em>рдЙрдиреНрдирдд рдкреИрд░рд╛рдореАрдЯрд░</em> рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░ рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">"рд╕рдВрдЧреНрд░рд╣рдг рдбреЛрдореЗрди" рдРрдб-рдЗрди рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХрд╛ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/tk/tz/gq/tktzgqwyqioqf45ere-qi2ll6bc.png"></p></div></div><br><p>  рд╡рд┐рдЬрд╝рд╛рд░реНрдб рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╣рдореЗрдВ рдПрдХ рдирдпрд╛ рд╕рдВрдЧреНрд░рд╣рдг рдХреНрд╖реЗрддреНрд░ рдорд┐рд▓рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рд╕реЗрдВрдЯрд░ рдХреЛ <strong>рдпреВрдкреА рдХреА</strong> рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ: </p><br><div class="spoiler">  <b class="spoiler_title">рдЗрд╕рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░ рдФрд░ рднрдВрдбрд╛рд░рдг рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЗ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ:</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/dj/4j/zm/dj4jzmtuzoyu4ustvkcaqxgywoo.png"></p><br><p><img src="https://habrastorage.org/webt/5l/tn/gd/5ltngdb3ipqfrfkkvktqriegwzq.png"></p></div></div><br><h4 id="sozdanie-i-nastroyka-setey-dlya-virtualnyh-mashin">  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдмрдирд╛рдПрдВ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ </h4><br><p>  рдкреНрд░рд▓реЗрдЦрди рд▓рд┐рдВрдХ - oVirt рдкреНрд░рд╢рд╛рд╕рди рдЧрд╛рдЗрдб, <a href="https://www.ovirt.org/documentation/admin-guide/chap-Logical_Networks.html">рдЕрдзреНрдпрд╛рдп 6: рддрд╛рд░реНрдХрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ</a> </p><br><p>  рдиреЗрдЯрд╡рд░реНрдХ, рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ, рдХрд╛ рдЙрдкрдпреЛрдЧ OVirt рд╡рд░реНрдЪреБрдЕрд▓ рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рддрд╛рд░реНрдХрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд╕рдореВрд╣ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдПрдбрд╛рдкреНрдЯрд░ рдХреЗ рд╕рд╛рде рд╣реЛрд╕реНрдЯ рдкрд░ рднреМрддрд┐рдХ рдПрдбреЗрдкреНрдЯрд░ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдЗрдВрдЯрд░рдлреЗрд╕ рдЬреИрд╕реЗ рддрд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдмреАрдЪ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рд╕рдореВрд╣ рдФрд░ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡реАрдПрд▓рдПрдПрди рдХреЛ рд╕реНрд╡рд┐рдЪ рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>         oVirt,     ,   VLAN  ,        ,        . </p><br><p>                <a href="https://habr.com/ru/company/lenvendo/blog/483980/"> </a> тАУ    <strong>bond1</strong> ,           oVirt. </p><br><p>     hosted-engine,      ,           тАУ <strong>ovritmgmt</strong> ,      . </p><br><p>        <strong>ovritmgmt</strong>   ,    ,      oVirt. </p><br><div class="spoiler"> <b class="spoiler_title">   ovritmgmt</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/li/ym/4o/liym4ottpmognydqgsc7mi3lvfi.png"></p></div></div><br><p>        ,      <strong><em>Network</em></strong> &gt;&gt; <strong><em>Networks</em></strong> &gt;&gt; <strong><em>New</em></strong> ,    <strong><em>General</em></strong>      VLAN,      ┬л <em>VM Network</em> ┬╗,          . </p><br><div class="spoiler"> <b class="spoiler_title">    VLAN32</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/gx/3x/nd/gx3xndfoeo-cniaf-cjlnjcefq4.png"></p></div></div><br><p>   <strong><em>Cluster</em></strong> ,       <strong>Cluster1</strong> . </p><br><p>     <strong><em>Compute</em></strong> &gt;&gt; <strong><em>Hosts</em></strong> ,      ,   <strong><em>Network interfaces</em></strong> ,    <em>Setup host networks</em> ,       . </p><br><div class="spoiler"> <b class="spoiler_title">  ┬лSetup host networks┬╗</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/l8/87/me/l887meiynekpssdplkxid4_11yo.png"></p></div></div><br><p>  oVirt         тАУ  VLAN  BRIDGE. </p><br><div class="spoiler"> <b class="spoiler_title">       :</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">cat ifcfg-bond1 # Generated by VDSM version 4.30.17.1 DEVICE=bond1 BONDING_OPTS='mode=1 miimon=100' MACADDR=00:50:56:82:57:52 ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no cat ifcfg-bond1.432 # Generated by VDSM version 4.30.17.1 DEVICE=bond1.432 VLAN=yes BRIDGE=ovirtvm-vlan432 ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no cat ifcfg-ovirtvm-vlan432 # Generated by VDSM version 4.30.17.1 DEVICE=ovirtvm-vlan432 TYPE=Bridge DELAY=0 STP=off ONBOOT=yes MTU=1500 DEFROUTE=no NM_CONTROLLED=no IPV6INIT=no</code> </pre> </div></div><br><p>   ,     <u> </u>      <strong>ifcfg-bond1.432</strong>  <strong>ifcfg-ovirtvm-vlan432</strong> . </p><br><p>            c hosted engine,      . </p><br><h4 id="sozdanie-ustanovochnogo-obraza-dlya-razvyortyvaniya-virtualnoy-mashiny">        </h4><br><p>    тАФ oVirt Administration Guide, <a href="https://www.ovirt.org/documentation/admin-guide/chap-Storage.html">Chapter 8: Storage</a> ,  Uploading Images to a Data Storage Domain. </p><br><p>    ,     ,       ,    , , <a href="https://cobbler.github.io/">Cobbler</a>    . </p><br><p>      ,        oVirt. ,     ISO Domain,     oVirt    ,         Storage domain   . </p><br><p>      <strong>Storage</strong> &gt;&gt; <strong>Disks</strong> &gt;&gt; <strong>Upload</strong> &gt;&gt; <strong>Start</strong> <br>       ISO ,     ,    " <em>Test connection</em> ". </p><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/mf/f6/mq/mff6mqownqd8xt9zhyesnobmt2y.png"></p></div></div><br><div class="spoiler"> <b class="spoiler_title">    :</b> <div class="spoiler_text"><p> <code>Unable to upload image to disk d6d8fd10-c1e0-4f2d-af15-90f8e636dadc due to a network error. Ensure that ovirt-imageio-proxy service is installed and configured and that ovirt-engine's CA certificate is registered as a trusted CA in the browser. The certificate can be fetched from https://ovirt.test.local/ovirt-engine/services/pki-resource?resource=ca-certificate&amp;format=X509-PEM-CA`</code> </p> </div></div><br><p>     oVirt  ┬л <strong>  </strong> ┬╗ (Trusted Root CA)    ,    . </p><br><p>     Trusted Root CA,   " <em>Test connection</em> ",  : </p><br><pre> <code class="plaintext hljs">Connection to ovirt-imageio-proxy was successful.</code> </pre> <br><p>     ,      ISO  Storage Domain. </p><br><p>  ,    Storage Domain   Data,         ,      Storage Domain  hosted engine,      . </p><br><div class="spoiler"> <b class="spoiler_title">   ISO  Storage Domain  hosted engine</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/1c/eg/vl/1cegvlrj_jio2lyrw8bzwwxqik0.png"></p></div></div><br><h4 id="sozdanie-virtualnoy-mashiny">    </h4><br><p>   : <br> oVirt Virtual Machine Management Guide тАУ&gt; <a href="https://www.ovirt.org/documentation/vmm-guide/chap-Installing_Linux_Virtual_Machines.html">Chapter 2: Installing Linux Virtual Machines <br> Console Clients Resources</a> </p><br><p>    oVirt    ,       .    ,       ,       тАУ        .       тАУ      -   ,   . </p><br><p>      CentOS 7,       . </p><br><p>    ,   <strong>Compute</strong> &gt;&gt; <strong>Virtual Machines</strong> ,     .     ,   <em></em> .   ,   . </p><br><p>   ,       ,   ,   ,      : </p><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/b-/ax/5r/b-ax5rq6w4tfzjp26f0x_oassb8.png"></p><br><p><img src="https://habrastorage.org/webt/zf/og/yc/zfogycv0ghsys-pjj6xl4f6uj64.png"></p><br><p><img src="https://habrastorage.org/webt/da/k9/9s/dak99sg1l7ktd-_kujmswznaveq.png"></p><br><p><img src="https://habrastorage.org/webt/ej/ra/rr/ejrarrisp1wubzm2-cdsawkq0kq.png"></p><br><p><img src="https://habrastorage.org/webt/ka/gi/mv/kagimvvhxi2bei9i-n6gp-ozbse.png"></p></div></div><br><p>     ,  ,        . <br>          : </p><br><div class="spoiler"> <b class="spoiler_title">        </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ph/lz/vv/phlzvvb-isibuzvomxhg-ligxtm.png"></p></div></div><br><p>     ,        . </p><br><div class="spoiler"> <b class="spoiler_title">  ,  ┬лConsole┬╗</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ay/w8/7h/ayw87h-2eubjlamhixkkap2j2ag.png"></p></div></div><br><p>       , , <a href="https://virt-manager.org/">Virtual Machine Viewer</a> . </p><br><p>         ,       : </p><br><p><img src="https://habrastorage.org/webt/wu/yj/nm/wuyjnmj_wk_qm_hmzffxkrji0dw.png"></p><br><p>     ,   oVirt guest agent: </p><br><pre> <code class="plaintext hljs">yum -y install epel-release yum install -y ovirt-guest-agent-common systemctl enable ovirt-guest-agent.service &amp;&amp; systemctl restart ovirt-guest-agent.service systemctl status ovirt-guest-agent.service</code> </pre> <br><p>  ,    ,    , ..     ,    , oVirt      .           ,   . </p><br><h4 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h4><br><p> ,     ,  oVirt тАУ       ,       тАФ      ,    ,    . </p><br><p> -          ,           ,   - ,  ..          ,     , -         .   тАУ   ,     ,             . </p><br><p>     ,           : ,  ,  ,     . </p><br><p>           ,       тАФ     VyOS      (  ,           oVirt). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi485208/">https://habr.com/ru/post/hi485208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi485198/index.html">.NET рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдорд╛рдкрдиреЗ рдХрд╛ рдПрдХ рдФрд░ рддрд░реАрдХрд╛ рд╣реИ</a></li>
<li><a href="../hi485200/index.html">рд╢реБрд░реБрдЖрдд рдореЗрдВ рдореЗрд╕: рдПрдХ iOS рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рд▓реЙрдиреНрдЪ рдЧрддрд┐ рдкрд░ рдкреЛрд╕реНрдЯрдорд╛рд░реНрдЯрдо</a></li>
<li><a href="../hi485202/index.html">рджрдорди рдкреНрд░рдгрд╛рд▓реА</a></li>
<li><a href="../hi485204/index.html">рд╢реАрд░реНрд╖ рдкрд░ рд╡рд╛рдкрд╕ рд▓реМрдЯреЗрдВ: рдХреНрдпреЛрдВ рдЕрдореЗрдЬрд╝реЕрди рдХрд╛ рдкреВрдВрдЬреАрдХрд░рдг рдЬрд▓реНрдж рд╣реА рдлрд┐рд░ рд╕реЗ $ 1 рдЯреНрд░рд┐рд▓рд┐рдпрди рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдЧрд╛</a></li>
<li><a href="../hi485206/index.html">рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдиреЗ рдореБрдЭреЗ рдХреИрд╕реЗ рдирд┐рд░рд╛рд╢ рдХрд┐рдпрд╛ рдФрд░ рдХреНрдпрд╛ рдпрд╣ рдЗрд╕рдХреЗ рд▓рд╛рдпрдХ рд╣реИ?</a></li>
<li><a href="../hi485210/index.html">рдПрдХрддрд╛ рдкрд░ рд╕рд░рд▓ рдЬрд╝реЛрдВрдмреА рд╢реВрдЯрд░</a></li>
<li><a href="../hi485214/index.html">CLRium # 7: рдкреНрд░реИрдХреНрдЯрд┐рдХрд▓ред рд╕рдВрдЧреЛрд╖реНрдареА, рд╕рддреНрдпрд╛рдкрди рдХреЗ рд╕рд╛рде рд╣реЛрдорд╡рд░реНрдХ, рд╕рд▓рд╛рд╣</a></li>
<li><a href="../hi485218/index.html">рд╕реА # рдореЗрдВ рд╕реНрдерд┐рд░рд╛рдВрдХ рдФрд░ рдЧрд┐рдЯ рд╣реБрдХ рдХрд╛ рдирд┐рд░реНрдорд╛рдг</a></li>
<li><a href="../hi485220/index.html">рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдХрд╛ рд╡рд┐рдХрд╛рд╕: рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рд╕реЗ рд▓реЗрдХрд░ рдорд╢реАрди-рд▓рд░реНрдирд┐рдВрдЧ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рд╕реБрд░рдХреНрд╖рд╛ рдкреНрд░рдгрд╛рд▓реА</a></li>
<li><a href="../hi485222/index.html">рдХреИрд╕реЗ рдЪреАрди рдореЗрдВ рд░рд╛рдп рдиреЗрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП? рдкрд╛рдБрдЪ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд╕реБрдЭрд╛рд╡</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>