<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê´ üíÜüèΩ üë©üèæ‚Äçüé® Relat√≥rio de problemas e disponibilidade da Internet 2018‚Äì2019 üë© ‚ÑπÔ∏è üåñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Enquanto trabalhamos no relat√≥rio anual deste ano, decidimos evitar recontar as manchetes do ano anterior e, embora seja quase imposs√≠vel ignorar abso...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Relat√≥rio de problemas e disponibilidade da Internet 2018‚Äì2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qrator/blog/440058/"><img src="https://habrastorage.org/getpro/habr/post_images/d68/1a6/5d9/d681a65d935ae4d30521b881b9d68149.jpg" alt="imagem"><br><br>  Enquanto trabalhamos no relat√≥rio anual deste ano, decidimos evitar recontar as manchetes do ano anterior e, embora seja quase imposs√≠vel ignorar absolutamente as mem√≥rias, queremos compartilhar com voc√™ o resultado de um pensamento claro e uma vis√£o estrat√©gica para o ponto em que todos n√≥s vamos chegar no tempo mais pr√≥ximo - o presente. <br><br>  Deixando as palavras de introdu√ß√£o para tr√°s, aqui est√£o nossas principais conclus√µes: <br><br><ul><li>  A dura√ß√£o m√©dia do ataque DDoS caiu para 2,5 horas; </li><li>  Durante 2018, a capacidade apareceu para ataques a centenas de gigabits por segundo em um pa√≠s ou regi√£o, levando-nos √† beira da "teoria qu√¢ntica da relatividade da largura de banda"; </li><li>  A frequ√™ncia dos ataques DDoS continua a crescer; </li><li>  O crescimento cont√≠nuo de ataques habilitados para HTTPS (SSL); </li><li>  O PC est√° morto: a maior parte do tr√°fego leg√≠timo hoje vem de smartphones, o que √© um desafio para os atores de DDoS hoje e seria o pr√≥ximo desafio para as empresas de mitiga√ß√£o de DDoS; </li><li>  O BGP finalmente se tornou um vetor de ataque, 2 anos depois do que esper√°vamos; </li><li>  A manipula√ß√£o do DNS se tornou o vetor de ataque mais prejudicial; </li><li>  Outros novos vetores de amplifica√ß√£o s√£o poss√≠veis, como o memcached &amp; CoAP; </li><li>  N√£o existem mais "ind√∫strias seguras" que sejam invulner√°veis ‚Äã‚Äãa ataques cibern√©ticos de qualquer tipo. </li></ul><br>  Neste artigo, tentamos escolher todas as partes mais interessantes do nosso relat√≥rio, embora, se voc√™ quiser ler a vers√£o completa em ingl√™s, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF esteja dispon√≠vel</a> . <br><a name="habracut"></a><br><h3>  Retrospectiva </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/ed2/0f2/08f/ed20f208f1694e39ac26d3546a62f0a6.jpg" alt="imagem"><br><br>  Em 2018, nossa empresa comemorou dois ataques recordes em sua rede.  Os ataques de amplifica√ß√£o do Memcached, que descrevemos em detalhes durante o final de fevereiro de 2018, atingiram 500 Gbps no caso da plataforma de pagamento Qiwi, um cliente do Qrator Labs.  Ent√£o, no final de outubro, recebemos um ataque de amplifica√ß√£o de DNS altamente concentrado em um de nossos clientes na Federa√ß√£o Russa. <br><br>  A amplifica√ß√£o de DNS √© um vetor de ataque DDoS antigo e conhecido, que √© principalmente volum√©trico e levanta dois problemas. No caso de um ataque de centenas de gigabits por segundo, h√° uma grande chance de sobrecarregar nosso canal upstream.  Como combater isso?  Obviamente, temos que distribuir essa carga entre muitos canais, o que leva √† segunda quest√£o - lat√™ncia adicionada que resulta da altera√ß√£o do fluxo de tr√°fego para o nosso ponto de processamento.  Felizmente, mitigamos com sucesso esse ataque espec√≠fico com apenas balanceamento de carga. <br><br>  √â aqui que o balanceamento de carga flex√≠vel demonstra seu verdadeiro valor e, como o Qrator Labs gerencia uma rede BGP anycast, o Radar est√° modelando a propaga√ß√£o do tr√°fego em nossa rede depois de ajustar o balan√ßo de carga.  O BGP √© um protocolo de vetor de dist√¢ncia e conhecemos esses estados porque o gr√°fico de dist√¢ncia permanece est√°tico.  Analisando essas dist√¢ncias e considerando os LCPs e o Multipath de custo igual, podemos estimar o AS_path do ponto A ao ponto B com alta confian√ßa. <br><br>  Isso n√£o quer dizer que a amplifica√ß√£o seja a amea√ßa mais perigosa - n√£o, os ataques na camada de aplicativos permanecem os mais eficazes, nervosos e invis√≠veis, pois a maioria deles √© de baixa largura de banda. <br><br>  Esse √© o principal motivo pelo qual o Qrator Labs atualiza as conex√µes com os operadores com base em pontos de presen√ßa, al√©m de ampliar as √°reas de presen√ßa.  Hoje √© um passo natural para qualquer operadora de rede, assumindo que seus n√∫meros estejam crescendo.  No entanto, da perspectiva dos atacantes, acreditamos que √© comum coletar uma botnet med√≠ocre e s√≥ depois nos concentrar em procurar a mais rica variedade de amplificadores dispon√≠veis para atacar de todas as armas poss√≠veis, na maior taxa de recarga poss√≠vel.  Os ataques h√≠bridos est√£o aqui, crescendo em largura de banda, taxa de pacotes e frequ√™ncia. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28d/bf2/5ac/28dbf25ac83b3daad9798da4749faa3b.jpg" alt="imagem"><br><br>  As botnets evolu√≠ram significativamente em 2018 e seus mestres encontraram um novo emprego para elas - clique em fraude.  Com o surgimento do aprendizado de m√°quina e dos mecanismos de navega√ß√£o sem cabe√ßalho, a fraude de cliques se tornou muito mais f√°cil de realizar do que apenas alguns anos atr√°s. <br><br>  Um site m√©dio de hoje recebe de 50% a 65% de seu tr√°fego de dispositivos m√≥veis, navegadores de smartphones e aplicativos.  Para alguns servi√ßos da Web, esse n√∫mero √© pr√≥ximo de 90% ou 100%, enquanto um site somente para desktop atualmente √© algo raro encontrado principalmente em ambientes corporativos ou em alguns casos lim√≠trofes. <br><br>  O PC est√° basicamente morto em 2019, o que torna algumas das abordagens usadas como perfeitas, como rastreamento de movimentos do mouse, totalmente in√∫teis para rastreamento e filtragem de bots.  De fato, n√£o apenas o PC (com todos os laptops brilhantes e as m√°quinas multifuncionais) raramente √© a fonte de um grande compartilhamento de tr√°fego com determinados sites, mas muitas vezes est√° se tornando apenas um criminoso.  √Äs vezes, apenas negar acesso ao que n√£o √© um navegador de smartphone adequado √© suficiente para mitigar um ataque de botnet, causando ao mesmo tempo um impacto negativo nulo nos principais indicadores de desempenho dos neg√≥cios. <br><br>  Os autores de botnet s√£o usados ‚Äã‚Äãpara implementar ou imitar o comportamento dos navegadores de desktop em seu c√≥digo malicioso, assim como os propriet√°rios de sites acreditam que os navegadores de PC s√£o realmente importantes.  O √∫ltimo mudou recentemente; portanto, dentro de alguns anos, tamb√©m dever√° ocorrer uma mudan√ßa no primeiro. <br><br>  J√° dissemos que nada mudou significativamente durante 2018, mas as mudan√ßas e o progresso mantiveram um ritmo constante.  Um dos exemplos mais significativos √© o Aprendizado de M√°quina, onde as melhorias foram especialmente evidentes, principalmente na √°rea de Redes Advers√°rias Generativas.  Lenta, mas constantemente, a ML est√° alcan√ßando o mercado de massa.  O mundo do aprendizado de m√°quina tornou-se mais acess√≠vel e, at√© o final do ano, n√£o est√° mais restrito aos acad√™micos. <br><br>  Esper√°vamos ver os primeiros ataques DDoS baseados em ML (ou de outra forma relacionados) at√© o in√≠cio de 2019, mas ainda n√£o aconteceu.  Esperamos esse desenvolvimento por causa do baixo custo dos dados gerados por ML no momento, mas aparentemente n√£o √© baixo o suficiente. <br><br>  Se voc√™ pensa no estado atual da ind√∫stria "humana automatizada", colocar a neuro-rede em cima disso n√£o √© uma m√° id√©ia.  Essa rede aprenderia o comportamento humano real no contexto do gerenciamento do conte√∫do da p√°gina da web.  Isso √© algo que todos chamariam de "experi√™ncia do usu√°rio de IA" e, √© claro, uma rede equipada com um mecanismo de navegador poderia produzir um arsenal muito interessante para os dois lados, ataque e defesa. <br><br>  Certamente, ensinar a rede √© caro, mas distribuir e terceirizar esse sistema pode ser muito acess√≠vel e, possivelmente, gratuito, especialmente se forem considerados malware, aplicativos invadidos e assim por diante.  Potencialmente, essa mudan√ßa poderia afetar todo o setor, da mesma forma que os GANs transformaram o que pensamos em "realidade visual" e "confiabilidade". <br><br>  Como essa tamb√©m √© uma corrida entre os mecanismos de pesquisa com o Google e todos os outros que tentam fazer engenharia reversa dos algoritmos, poderia chegar a uma situa√ß√£o em que um bot imitaria n√£o um ser humano aleat√≥rio, mas uma pessoa espec√≠fica, como normalmente sentado atr√°s de um computador vulner√°vel selecionado.  Vers√µes do Captcha e Recaptcha podem servir como exemplos de como os invasores aprimoram suas ferramentas e t√©cnicas de ataque. <br><br>  Depois do memcached, houve muita conversa sobre a possibilidade de uma nova classe de arma de ataque DDoS - uma vulnerabilidade, um bot, um servi√ßo comprometido, algo que poderia enviar eternamente dados espec√≠ficos para um endere√ßo espec√≠fico escolhido pelo atacante.  Um comando do invasor pode liberar um fluxo cont√≠nuo e perp√©tuo de tr√°fego, como syslog ou uma inunda√ß√£o maci√ßa.  Isso √© apenas uma teoria.  N√£o podemos dizer se esses servidores ou dispositivos realmente existem, mas se existirem, seria um eufemismo dizer que eles poderiam representar uma arma extremamente perigosa nas m√£os erradas. <br><br>  Em 2018, tamb√©m vimos um interesse crescente na governan√ßa da Internet e nos servi√ßos associados de todos os tipos de governos e organiza√ß√µes sem fins lucrativos em todo o mundo.  Vemos isso como um desenvolvimento neutro at√© o ponto em que as liberdades fundamentais podem ser suprimidas, o que esperamos que n√£o aconte√ßa, especialmente nos pa√≠ses desenvolvidos. <br><br>  Ap√≥s anos coletando e analisando tr√°fego globalmente, o Qrator Labs agora est√° implementando o primeiro bloco de solicita√ß√£o.  Os modelos que usamos para prever comportamentos maliciosos nos permitem determinar com alta confian√ßa se um usu√°rio √© leg√≠timo ou n√£o.  Aderimos √† nossa filosofia central de experi√™ncia ininterrupta do usu√°rio, sem desafios ou captchas de JavaScript e, em 2019, esperamos alcan√ßar a capacidade de impedir que a primeira solicita√ß√£o maliciosa viole nossas defesas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/67b/f03/e26/67bf03e26039018f4c8a52edf7d90482.jpg" alt="imagem"><br><br><h3>  Mellanox </h3><br>  Escolhemos os switches 100G Mellanox como resultado de nossos testes internos nos anos anteriores.  Ainda selecionamos equipamentos que atendem √†s nossas necessidades em situa√ß√µes espec√≠ficas.  Antes de tudo, os switches n√£o devem descartar pacotes pequenos enquanto trabalham na taxa de linha - n√£o pode haver nenhuma degrada√ß√£o.  Segundo, gostamos do pre√ßo.  No entanto, isso n√£o √© tudo.  O custo √© sempre justificado pela maneira como o fornecedor reage √†s suas especifica√ß√µes. <br><br>  Os switches Mellanox funcionam no Switchdev, transformando suas portas em interfaces Linux comuns.  Como parte do kernel Linux principal, o Switchdev √© descrito na documenta√ß√£o como "um modelo de driver no kernel para dispositivos de switch que descarregam o plano de encaminhamento de dados do kernel".  Essa abordagem √© muito conveniente, pois todas as ferramentas que utilizamos est√£o dispon√≠veis em uma API extremamente natural para todo programador, desenvolvedor e engenheiro de rede moderno.  Qualquer programa que use a API de rede padr√£o do Linux pode ser executado no switch.  Todas as ferramentas de monitoramento e controle de rede criadas para servidores Linux, incluindo os caseiros, est√£o dispon√≠veis.  Por exemplo, implementar altera√ß√µes na tabela de rotas √© muito mais confort√°vel em compara√ß√£o com o modo como foi feito antes do Switchdev.  At√© o n√≠vel do chip de rede, todo o c√≥digo √© vis√≠vel e transparente, possibilitando aprender e fazer modifica√ß√µes, at√© o momento espec√≠fico em que voc√™ precisa saber exatamente como o chip √© constru√≠do, ou pelo menos a interface externa. <br><br>  Um dispositivo Mellanox sob controle do Switchdev √© a combina√ß√£o que achamos mais adequada para as nossas necessidades, pois a empresa fornece suporte completo ao sistema operacional de c√≥digo aberto j√° robusto pronto para uso. <br><br>  Ao testar o equipamento antes de execut√°-lo na produ√ß√£o, descobrimos que algum tr√°fego encaminhado foi descartado.  Nossa investiga√ß√£o mostrou que foi causado pelo tr√°fego em uma interface e foi roteada atrav√©s do processador de controle, o que, obviamente, n√£o era capaz de lidar com grandes volumes dele.  N√£o sab√≠amos a causa exata desse comportamento, mas supusemos que ele estivesse vinculado ao tratamento de redirecionamentos do ICMP.  Mellanox confirmou a causa do problema e pedimos que fizessem algo sobre isso.  A Mellanox reagiu rapidamente, fornecendo uma solu√ß√£o funcional a curto prazo. <br><br>  Bom trabalho, Mellanox! <br><br><h3>  Protocolos e c√≥digo aberto </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/298/5d9/b9c/2985d9b9c37410d4c57f1f88c1218812.jpg" alt="imagem"><br>  O DNS sobre HTTPS √© uma tecnologia mais complexa que o DNS sobre TLS.  Vemos o primeiro florescendo e o √∫ltimo sendo lentamente esquecido.  √â um exemplo claro de que "mais complexo" significa "mais eficiente", pois o tr√°fego de DoH √© indistingu√≠vel de qualquer outro HTTPS.  J√° vimos isso com a integra√ß√£o de dados RPKI, quando foi inicialmente posicionada como uma solu√ß√£o anti-seq√ºestro e n√£o acabou bem, mas depois reapareceu como uma arma poderosa contra erros como vazamentos est√°ticos e configura√ß√µes incorretas de roteamento.  Ru√≠do transformado em sinal e agora o RPKI √© suportado nos maiores IXs, o que √© uma √≥tima not√≠cia. <br><br>  O TLS 1.3 chegou.  O Qrator Labs, assim como o setor de TI em geral, acompanhou de perto o processo de desenvolvimento, desde o rascunho inicial at√© todas as etapas da IETF, para se tornar um protocolo compreens√≠vel e gerenci√°vel que estamos prontos para oferecer suporte em 2019. O suporte j√° √© evidente no mercado e queremos acompanhar a implementa√ß√£o desse protocolo de seguran√ßa robusto e comprovado.  N√£o sabemos como os produtores de hardware de mitiga√ß√£o de DDoS se adaptar√£o √†s realidades do TLS 1.3, mas, devido √† complexidade t√©cnica do suporte ao protocolo, isso poder√° levar algum tempo. <br><br>  Tamb√©m estamos seguindo o HTTP / 2.  Por enquanto, o Qrator Labs n√£o suporta a vers√£o mais recente do protocolo HTTP, devido √† base de c√≥digo existente em torno deste protocolo.  Erros e vulnerabilidades ainda s√£o encontrados com bastante frequ√™ncia no novo c√≥digo;  como provedor de servi√ßos de seguran√ßa, ainda n√£o estamos prontos para oferecer suporte a esse protocolo nos termos do SLA que concordamos com nossos consumidores. <br><br>  A verdadeira quest√£o de 2018 para o Qrator Labs era: ‚ÄúPor que as pessoas querem tanto o HTTP / 2?  E foi objeto de intenso debate ao longo do ano.  As pessoas ainda tendem a pensar no d√≠gito "2" como a vers√£o "mais r√°pida, mais forte e melhor", o que n√£o √© necessariamente o caso em todos os aspectos desse protocolo em particular.  No entanto, o DoH recomenda HTTP / 2 e √© aqui que os dois protocolos podem ter muito impulso. <br><br>  Uma preocupa√ß√£o com o desenvolvimento dos conjuntos e recursos de protocolos da pr√≥xima gera√ß√£o √© que geralmente depende muito de pesquisas acad√™micas, e o estado disso para o setor de mitiga√ß√£o de DDoS √© bastante fraco.  A Se√ß√£o 4.4 do rascunho da IETF ‚ÄúGerenciabilidade do QUIC‚Äù, que faz parte do futuro conjunto de protocolos do QUIC, pode ser vista como um exemplo perfeito disso: afirma que ‚Äúas pr√°ticas atuais de detec√ß√£o e mitiga√ß√£o de [ataques DDoS] geralmente envolvem passivas medi√ß√£o usando dados de fluxo de rede ‚Äù, sendo este √∫ltimo muito raramente um caso em ambientes empresariais da vida real (e apenas parcialmente para configura√ß√µes de ISP) - e de alguma forma dificilmente um‚Äú caso geral ‚Äùna pr√°tica - mas definitivamente um caso geral em trabalhos de pesquisa acad√™mica que, na maioria das vezes, n√£o s√£o apoiados por implementa√ß√µes adequadas e testes no mundo real contra toda a gama de poss√≠veis ataques DDoS, incluindo os da camada de aplicativos (que, devido ao progresso na implanta√ß√£o mundial do TLS, obviamente nunca poderiam ser manuseado com qualquer tipo de medi√ß√£o passiva).  Definir tend√™ncia de pesquisa acad√™mica adequada √© outro desafio para os operadores de mitiga√ß√£o de DDoS em 2019. <br><br>  O Switchdev atendeu plenamente √†s expectativas que expressamos um ano atr√°s.  Esperamos que o trabalho cont√≠nuo para tornar o Switchdev ainda melhor se fortale√ßa nos pr√≥ximos anos, pois a comunidade √© forte e est√° crescendo. <br><br>  O Qrator Labs est√° acompanhando a ativa√ß√£o do Linux XDP para ajudar a aumentar ainda mais a efici√™ncia do processamento de pacotes.  O descarregamento de alguns padr√µes de filtragem de tr√°fego mal-intencionado da CPU para a NIC e at√© mesmo para o comutador de rede parece bastante promissor, e esperamos continuar nossa pesquisa e desenvolvimento nessa √°rea. <br><br><h3>  Mergulho profundo com bots </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/3d7/6b5/4d5/3d76b54d5035506cde3e798f344170bf.jpg" alt="imagem"><br><br>  Muitas empresas buscam prote√ß√£o contra bot, e n√£o √© surpresa que vimos grupos trabalhando em diferentes √°reas desse campo em 2018. O que achamos interessante √© que uma grande parte dessas empresas nunca sofreu um ataque DDoS direcionado, pelo menos uma nega√ß√£o t√≠pica de tentativa de servi√ßo de drenar recursos finitos, como largura de banda ou capacidade da CPU.  Eles se sentem amea√ßados pelos bots, mas n√£o conseguem distingui-los dos usu√°rios reais ou determinar o que est√£o realmente fazendo.  Eles apenas sabem que querem se livrar dos bots percebidos. <br><br>  Os problemas com bots e raspadores tamb√©m t√™m um importante componente econ√¥mico.  Se 30% do tr√°fego √© ileg√≠timo e originado por m√°quina, 30% dos custos de suporte a esse tr√°fego s√£o desperdi√ßados.  Hoje, isso pode ser visto como um imposto adicional inevit√°vel sobre os neg√≥cios na Internet.  √â dif√≠cil diminuir o n√∫mero exatamente para zero, mas os empres√°rios preferem v√™-lo o mais baixo poss√≠vel. <br><br>  A identifica√ß√£o se torna um problema significativo na internet de hoje, pois os melhores bots n√£o precisam mais imitar os seres humanos - eles ocupam o mesmo espa√ßo, como parasitas.  H√° algum tempo, repetimos que qualquer informa√ß√£o dispon√≠vel publicamente, sem autoriza√ß√£o ou autentica√ß√£o, √© e terminaria como propriedade comum - ningu√©m poderia impedir isso. <br><br>  Em 2018, nos concentramos em quest√µes de identidade e gerenciamento de bot.  No entanto, o escopo mais amplo aqui √© diferente;  vivemos em uma √©poca em que n√£o h√° maneira exata de saber o motivo pelo qual um cliente solicita a resposta do servidor.  Voc√™ leu certo: em √∫ltima an√°lise, toda empresa deseja que um cliente compre alguma coisa, esse √© o motivo da exist√™ncia e do objetivo; portanto, algumas empresas desejam examinar mais profundamente quem solicita o qu√™ do servidor - se houver uma pessoa real por tr√°s. <br><br>  N√£o √© de admirar que os propriet√°rios de empresas aprendam com os t√©cnicos que uma parte significativa do tr√°fego de seus sites √© originada por bots, n√£o por clientes. <br><br>  Os seres humanos automatizados que mencionamos anteriormente tamb√©m podem ter como alvo algum recurso de rede espec√≠fico com um complemento de navegador instalado - e acreditamos que a maioria dessas extens√µes s√£o instaladas propositadamente, para perseguir um objetivo espec√≠fico, conhecido apenas pelos criadores dessas redes.  Fraude de clique, manipula√ß√£o de an√∫ncios, an√°lise - essas tarefas s√£o realizadas com efici√™ncia com a ajuda de seres humanos reais no ponto em que a automa√ß√£o falha.  Imagine como a situa√ß√£o mudaria se o aprendizado de m√°quina fosse aplicado ao elo certo da cadeia. <br><br>  Analisadores e raspadores, que fazem parte do problema mais amplo de bots, se tornaram um problema em que mergulhamos durante 2018, primeiramente gra√ßas aos nossos clientes, que nos abordaram com suas experi√™ncias e forneceram a op√ß√£o de investigar mais o que estava acontecendo com seus recursos.  Esses bots podem nem se registrar em m√©tricas t√≠picas, como a largura de banda ou a carga da CPU do servidor.  No momento, estamos testando uma variedade de abordagens, mas, em √∫ltima an√°lise, est√° claro o que os clientes precisam - bloquear esses invasores em sua primeira solicita√ß√£o. <br><br>  Durante a epidemia de raspagem que vimos na R√∫ssia e na CEI, ficou claro que os bots envolvidos s√£o capazes de criptografia.  Uma solicita√ß√£o por minuto √© uma taxa que pode facilmente passar despercebida sem a an√°lise de solicita√ß√£o do tr√°fego recebido.  Na nossa humilde opini√£o, o cliente deve decidir o pr√≥ximo passo depois de obter nossa an√°lise e marca√ß√£o.  Quer bloque√°-los, deix√°-los passar ou enganar (enganar) eles - n√£o cabe a n√≥s decidir. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/20f/383/fba/20f383fbacf5bb155d0d122b4d5dc0a5.jpg" alt="imagem"><br><br>  No entanto, existem certos problemas com automa√ß√µes puras, ou "bots", como estamos acostumados a cham√°-los.  Se voc√™ tem certeza de que o bot mal-intencionado gerou uma solicita√ß√£o espec√≠fica, a primeira coisa que voc√™ decide fazer √© bloque√°-la, sem enviar resposta do servidor.  Chegamos √† conclus√£o de que isso n√£o faz sentido porque essas a√ß√µes apenas fornecem mais feedback √† automa√ß√£o, permitindo que ela se adapte e encontre uma solu√ß√£o alternativa.  A menos que os bots tentem um ataque de nega√ß√£o de servi√ßo, recomendamos n√£o bloquear essas automa√ß√µes imediatamente, pois o resultado de tais jogos de gato e rato pode ser apenas uma grande perda de tempo e esfor√ßo. <br><br>  Esse √© o principal motivo pelo qual a Qrator Labs escolhe marcar tr√°fego suspeito e / ou malicioso e deixar a decis√£o sobre as pr√≥ximas etapas para o propriet√°rio do recurso, levando em considera√ß√£o seu p√∫blico, servi√ßo e objetivos de neg√≥cios.  Um exemplo √© a extens√£o do navegador de bloqueio de an√∫ncios.  A maioria dos an√∫ncios s√£o scripts e, ao bloquear scripts, voc√™ n√£o est√° necessariamente bloqueando an√∫ncios e pode bloquear outra coisa, como um desafio de javascript.  √â f√°cil imaginar como isso poderia aumentar, resultando em perda de renda para um grande grupo de empresas da Internet. <br><br>  Quando os atacantes s√£o bloqueados e recebem o feedback de que precisam, eles podem se adaptar, aprender e atacar rapidamente.  As tecnologias da Qrator Labs s√£o constru√≠das com base na filosofia simples de que a automa√ß√£o n√£o pode receber nenhum feedback que possa usar: voc√™ n√£o deve bloque√°-las nem passar por elas, apenas marc√°-las.  Depois que essas marcas s√£o feitas, voc√™ deve considerar o objetivo real delas - O que elas querem?  e Por que eles est√£o visitando esse recurso ou p√°gina da web espec√≠fica?  Talvez voc√™ possa alterar levemente o conte√∫do da p√°gina da web de uma maneira que nenhum humano sentiria a diferen√ßa, mas a realidade do bot ficaria de cabe√ßa para baixo?  Se forem analisadores, poder√£o obter informa√ß√µes de an√°lise enganosas na forma de dados incorretos. <br><br>  Ao discutir esses problemas ao longo de 2018, rotulamos esses ataques como ataques simples de m√©tricas de neg√≥cios.  Seu site e servidores podem parecer bons, sem queixas dos usu√°rios, mas voc√™ sente algo mudando ... como o pre√ßo de CPA de um an√∫ncio que voc√™ recebe de alguma plataforma program√°tica lentamente, mas direciona constantemente os anunciantes para outros lugares. <br><br>  Matar os incentivos dos agressores √© a √∫nica maneira de combater isso.  Tentar parar os bots resulta apenas em perda de tempo e dinheiro.  Se eles clicarem em algo de que voc√™ se beneficia, torne esses cliques ineficientes;  se eles analisarem voc√™, forne√ßa informa√ß√µes n√£o confi√°veis ‚Äã‚Äãque n√£o ser√£o distinguidas de dados leg√≠timos e confi√°veis. <br><br><h3>  Clickhouse </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/8d1/a25/64a/8d1a2564af21d878b7e6237d11a5b0f6.jpg" alt="imagem"><br><br>  Em geral, o servi√ßo de filtragem do Qrator Labs envolve dois est√°gios: primeiro, avaliamos imediatamente se uma solicita√ß√£o √© maliciosa com a ajuda de verifica√ß√µes sem estado e sem estado e, em segundo lugar, decidimos se manteremos ou n√£o a fonte na lista negra e por quanto tempo.  A lista negra resultante pode ser representada como a lista de endere√ßos IP exclusivos. <br><br>  Na primeira etapa desse processo, listamos t√©cnicas de aprendizado de m√°quina para entender melhor o fluxo natural de tr√°fego de um determinado recurso, pois parametrizamos o servi√ßo para cada cliente individualmente com base nos dados que coletamos. <br><br>  √â a√≠ que entra a Clickhouse.  Para entender precisamente por que um endere√ßo IP foi proibido de se comunicar com um recurso, precisamos seguir o modelo de aprendizado de m√°quina para o Clickhouse DB.  Ele funciona muito r√°pido com grandes blocos de dados (considere um ataque DDoS de 500 Gbps, continuando por algumas horas entre pausas) e os armazena de uma maneira que √© naturalmente compat√≠vel com as estruturas de aprendizado de m√°quina que usamos no Qrator Labs.  Mais logs e mais tr√°fego de ataque levam a resultados melhores e mais robustos de nossos modelos para refinar ainda mais o servi√ßo em tempo real, sob os ataques mais perigosos. <br><br>  Usamos o banco de dados Clickhouse para armazenar todos os logs de tr√°fego de ataques (ileg√≠timos) e padr√µes de comportamento de bot.  Implementamos esta solu√ß√£o espec√≠fica porque prometeu uma capacidade impressionante para processar conjuntos de dados em massa em um estilo de banco de dados, rapidamente.  Usamos esses dados para an√°lise e para construir os padr√µes que usamos na filtragem DDoS e, para aplicar o aprendizado de m√°quina, para melhorar os algoritmos de filtragem. <br><br>  Uma vantagem significativa da Clickhouse, em compara√ß√£o com outros bancos de dados, √© que ele n√£o l√™ toda a cadeia de dados - pode levar apenas o segmento necess√°rio, muito menor, se voc√™ estiver armazenando tudo de acordo com as diretrizes. <br><br><h3>  Conclus√£o </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/355/30b/e00/35530be00fce4297fd79909c97528105.jpg" alt="imagem"><br><br>  H√° algum tempo, convivemos com ataques multifatoriais que exploram v√°rios protocolos de ataque para tornar um alvo indispon√≠vel. <br><br>  As medidas de higiene digital e seguran√ßa atualizadas devem e realmente podem cobrir 99% dos riscos reais que uma entidade individual provavelmente encontrar√°, exceto casos extremos ou direcionados propositadamente, e evitar que um servi√ßo ‚Äúm√©dio‚Äù da Internet enfrente problemas. <br><br>  Por outro lado, os ataques DDoS s√£o capazes de cortar a conex√£o √† Internet de qualquer pa√≠s do mundo, embora apenas alguns possam ser efetivamente direcionados externamente.  Esse n√£o √© o caso no BGP, onde √© poss√≠vel desligar apenas alguns pontos em qualquer mapa que voc√™ queira desenhar. <br><br>  O conhecimento da seguran√ßa da rede continua a crescer, o que √© excelente.  No entanto, uma vez que voc√™ olha para os n√∫meros vinculados a amplificadores em redes ou op√ß√µes para falsificar algu√©m - eles n√£o est√£o diminuindo!  Isso ocorre porque a cada ano a quantidade de tempo que os alunos passam na escola de seguran√ßa da Internet, ou seja, as pessoas que come√ßam a se preocupar com a forma como escrevem c√≥digo e criam seus aplicativos, n√£o corresponde √† quantidade de tempo necess√°ria para garantir que n√£o estejam criando vulnerabilidades que permita que algu√©m use esses recursos para organizar um ataque DDoS bem-sucedido ou pior. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/322/98f/f34/32298ff34eed0995d1765a98aa84c2bf.jpg" alt="imagem"><br><br>  Uma das descobertas mais significativas de 2018 foi que a maioria das pessoas ainda espera substancialmente mais da tecnologia do que pode ser entregue atualmente.  Nem sempre foi esse o caso, mas agora vemos uma forte tend√™ncia a pedir demais, independentemente dos recursos de software ou hardware.  As pessoas continuam esperando mais, o que provavelmente n√£o mudar√° por causa das promessas feitas nas campanhas de marketing.  No entanto, as pessoas est√£o comprando essas promessas, e as empresas acham que devem trabalhar para cumpri-las. <br><br>  Talvez seja essa a natureza do progresso e da evolu√ß√£o.  Atualmente, as pessoas se sentem frustradas e desapontadas por n√£o terem o que estavam "garantidas" e o que pagavam.  Portanto, √© aqui que os problemas atuais se originam, onde n√£o podemos comprar ‚Äútotalmente‚Äù um dispositivo e todo o software que far√° o que queremos, ou onde os servi√ßos ‚Äúgratuitos‚Äù t√™m um pre√ßo alto em termos de dados pessoais . <br><br>  O consumismo nos diz que queremos algo e devemos pagar por isso com nossas vidas.  Precisamos dos tipos de produtos ou servi√ßos que se atualizam para nos vender melhores neg√≥cios no futuro com base nos dados que eles coletaram sobre n√≥s de maneiras que talvez n√£o gostemos?  Poder√≠amos antecipar que, em 2019, ap√≥s os casos Equifax e Cambridge Analytica, poderemos ver uma explos√£o final de aquisi√ß√£o e abuso de dados pessoais. <br><br>  Ap√≥s dez anos, n√£o mudamos nossas cren√ßas fundamentais sobre a arquitetura da rede interconectada.  Essa √© a raz√£o pela qual continuamos apoiando os princ√≠pios mais fundamentais da rede de filtragem do Qrator Labs - BGP-anycast, a capacidade de processar tr√°fego criptografado, evitar captchas e outros obst√°culos, mais visibilidade para usu√°rios leg√≠timos em compara√ß√£o com os bots atacantes. <br><br>  Observando o que continua acontecendo com especialistas e empresas de seguran√ßa cibern√©tica no campo, queremos enfatizar outra quest√£o: quando se trata de seguran√ßa, nenhuma abordagem ing√™nua, simples ou r√°pida √© aplic√°vel. <br><br>  Essa √© a principal raz√£o pela qual o Qrator Labs n√£o possui centenas ou mesmo dezenas de pontos de presen√ßa, em compara√ß√£o com as CDNs.  Ao manter um n√∫mero menor de centros de lavagem, todos conectados aos ISPs da classe 1, obtemos uma verdadeira descentraliza√ß√£o do tr√°fego.  Essa tamb√©m √© a raz√£o pela qual n√£o tentamos criar firewalls, que s√£o totalmente diferentes do que o Qrator Labs faz - conectividade. <br><br>  Contamos hist√≥rias sobre captchas e testes e verifica√ß√µes de javascript h√° algum tempo e aqui estamos - as redes neurais est√£o se tornando extremamente √∫teis na solu√ß√£o do primeiro, e o √∫ltimo nunca foi um problema para o invasor qualificado e persistente. <br><br>  Este ano tamb√©m sentimos uma mudan√ßa bastante empolgante: durante anos, o DDoS foi um problema para apenas um n√∫mero limitado de √°reas de neg√≥cios, geralmente aquelas onde o dinheiro est√° acima do n√≠vel da √°gua: com√©rcio eletr√¥nico, negocia√ß√£o / a√ß√µes, sistemas banc√°rios / de pagamento.  No entanto, com o crescimento cont√≠nuo da Internet, observamos agora ataques DDoS sendo aplicados a todos os outros servi√ßos de Internet dispon√≠veis.  A era do DDoS come√ßou com o aumento da largura de banda e o n√∫mero de computadores pessoais em uso em todo o mundo;  n√£o √© surpresa que em 2018, com microchips de sil√≠cio em todos os dispositivos ao nosso redor, o cen√°rio de ataques esteja evoluindo muito r√°pido. <br><br>  Se algu√©m espera que essa tend√™ncia mude, provavelmente est√° enganado.  Assim como n√≥s, talvez, tamb√©m somos.  Ningu√©m pode dizer como a Internet realmente evoluir√° e espalhar√° seu impacto e poder nos pr√≥ximos anos, mas, de acordo com o que vimos em 2018 e continuamos observando em 2019, tudo vai se multiplicar.  At√© 2020, o n√∫mero de dispositivos conectados na Internet deve exceder 30 bilh√µes, al√©m do fato de que j√° ultrapassamos o ponto em que a humanidade gerou mais tr√°fego do que a automa√ß√£o criada.  Ent√£o, em breve, teremos que decidir como gerenciar toda essa "intelig√™ncia", artificial ou n√£o, uma vez que ainda estamos vivendo no mundo em que apenas um ser humano pode ser respons√°vel por algo estar certo e errado. <br><br>  2018 foi um ano de oportunidades para quem est√° do lado escuro.  Vemos crescimento em ataques e hacks em termos de complexidade, volume e frequ√™ncia.  Os bandidos obtiveram algumas ferramentas poderosas e aprenderam como us√°-las.  Os mocinhos fizeram pouco mais do que apenas assistir a esses desenvolvimentos.  Esperamos ver essa mudan√ßa este ano, pelo menos nas quest√µes mais dolorosas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/73a/1ac/e4e/73a1ace4ef8bf3407c349c5eb42eb111.png" alt="imagem"></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440058/">https://habr.com/ru/post/pt440058/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440046/index.html">Li√ß√£o aberta "Criando clientes REST no Spring"</a></li>
<li><a href="../pt440048/index.html">M√©tricas favoritas: 5 indicadores que toda equipe de vendas deve seguir</a></li>
<li><a href="../pt440050/index.html">Proxies DNS do tipo Fa√ßa Voc√™ Mesmo no Node.JS</a></li>
<li><a href="../pt440052/index.html">An√°lise est√°tica do BIOS / UEFI ou como obter um gr√°fico de depend√™ncia</a></li>
<li><a href="../pt440054/index.html">Transferir servi√ßo da web para o Yandex.Cloud com a AWS</a></li>
<li><a href="../pt440060/index.html">TensorFlow no Apache Ignite</a></li>
<li><a href="../pt440062/index.html">Planejando com prazer. Como configuramos processos sem gerentes</a></li>
<li><a href="../pt440064/index.html">Data centers √† sua escolha: Londres, Moscou, Zurique, S√£o Petersburgo</a></li>
<li><a href="../pt440066/index.html">Extens√µes VSCode para facilitar o desenvolvimento de JavaScript e Vue</a></li>
<li><a href="../pt440070/index.html">Julia, descida de gradiente e m√©todo simplex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>