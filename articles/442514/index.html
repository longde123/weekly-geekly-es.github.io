<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçª üë©‚Äçüöí üí™üèΩ Sistemas distribuidos. Patrones de dise√±o. Rese√±a del libro üî• üï† ü§öüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola colegas Hoy publicamos una traducci√≥n de la pr√≥xima rese√±a del sitio de Ben Neidel: este sitio seguramente le interesar√° en el original. Esta vez...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sistemas distribuidos. Patrones de dise√±o. Rese√±a del libro</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/442514/"> Hola colegas  Hoy publicamos una traducci√≥n de la pr√≥xima rese√±a del sitio de Ben Neidel: este sitio seguramente le interesar√° en el original.  Esta vez hablaremos del libro " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sistemas distribuidos. Patrones de dise√±o</a> ", que complementa el libro " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Master Kubernetes</a> " que se public√≥ a principios de este a√±o y, en esencia, es un an√°logo de GoF para el dise√±o de sistemas distribuidos. <br><br><img src="https://habrastorage.org/webt/kv/we/4c/kvwe4cf94jbziiik3j87ywbjgyi.png"><br><br>  Que tengas una buena lectura. <br><a name="habracut"></a><br>  Durante el fin de semana, le√≠ el libro Sistemas distribuidos.  Patrones de dise√±o, por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Brendan Burns</a> .  Realmente me gust√≥ el libro, aunque, debo admitirlo, esperaba encontrar un poco de material diferente en √©l.  Entonces, en la descripci√≥n de los contenedores de libros se mencionan solo de pasada.  Al mismo tiempo, aunque los patrones descritos en el libro son aplicables no solo para la contenedorizaci√≥n, casi todos los patrones descritos aqu√≠ se dan en el contexto del contenedor, y despu√©s de eso se consideran en la tuber√≠a de implementaci√≥n de Kubernetes.  Result√≥ por cierto.  Estoy empezando a familiarizarme con el desarrollo y la implementaci√≥n orientados a contenedores, y discutir los patrones arquitect√≥nicos desde un punto de vista de "contenedor" fue una revelaci√≥n para m√≠.  Este enfoque me ayud√≥ a comprender bien c√≥mo en el panorama de microservicios se distinguen correctamente los peque√±os servicios, cada uno de los cuales tiene una oportunidad espec√≠fica. <br><br>  El autor del libro, Brendan Burns, es el cofundador del proyecto de c√≥digo abierto Kubernetes.  Por lo tanto, no es sorprendente que todos sus ejemplos de aplicaciones se construyan alrededor de la implementaci√≥n de contenedores basados ‚Äã‚Äãen archivos de configuraci√≥n de Kubernetes.  En el momento de leer el libro, estaba un poco versado en Docker y no sab√≠a nada sobre Kubernetes.  Por lo tanto, trat√© de averiguar el "prop√≥sito" de los archivos de configuraci√≥n de Kubernetes simplemente ley√©ndolos.  Sin embargo, creo que el libro ser√° m√°s √∫til si el lector tiene al menos algo de experiencia con Kubernetes. <br><br>  Al leer el libro, no pude deshacerme de las asociaciones con el trabajo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Plantillas de integraci√≥n para aplicaciones empresariales</a> " de Gregor Hope y Bobby Wolf.  Muchos de los patrones discutidos por Burns son muy similares a los patrones de cola de mensajes discutidos por Hope y Wolfe.  De hecho, debo decir que muchos patrones incluso se mencionan en ambos libros de la misma manera (por ejemplo, Scatter / Gather).  Esto es l√≥gico, ya que el tema de ambos libros es la partici√≥n de sistemas monol√≠ticos complejos en un conjunto de servicios reutilizables peque√±os y ajustados.  Creo que incluso se puede argumentar que Burns establece enfoques espec√≠ficos que ser√°n √∫tiles para implementar los servicios Productor y los Servicios al consumidor involucrados en el funcionamiento de los flujos de trabajo basados ‚Äã‚Äãen mensajes, los mismos que se describen en el libro "Plantillas de integraci√≥n de aplicaciones empresariales". <br><br>  Nuevamente, creo que los paralelos trazados entre estos dos libros dan testimonio del poder de los patrones de dise√±o.  Tanto en lo bien que nos llevan a soluciones probadas, como en el hecho de que los patrones de dise√±o facilitan la comunicaci√≥n t√©cnica, ya que nos permiten razonar en un lenguaje com√∫n. <br><br>  Al mismo tiempo, uno de los enfoques que m√°s me gust√≥ se describe en el libro "Sistemas distribuidos.  Patrones de dise√±o ‚Äùest√° relacionado precisamente con el consumo de la cola de mensajes.  Burns aconseja no forzar al contenedor de trabajo a extraer mensajes directamente del sistema (de forma similar a como se hace en el sistema Simple Queue Service (SQS) de Amazon), sino crear un "embajador" (patr√≥n de embajador).  Dicho contenedor de "embajador" se desplegar√° junto con el contenedor de trabajo y proporcionar√° una API generalizada para manipular las colas.  El contenedor Ambassador le permite abstraer detalles de implementaci√≥n relacionados con el almacenamiento permanente de elementos en la cola de mensajes, de modo que el contenedor de trabajo sea completamente independiente de cualquier soluci√≥n tecnol√≥gica espec√≠fica. <br><br>  ‚ÄúEl embajador de la fuente del contenedor de la cola de trabajo‚Äù es solo un ejemplo de un tema transversal que recorre el libro como un hilo rojo: use colecciones de contenedores peque√±os para que cada contenedor individual pueda enfocarse en una tarea espec√≠fica y ser lo m√°s reutilizable posible.  Burns explora este concepto a nivel de contenedor individual, hablando sobre la parametrizaci√≥n de contenedores utilizando argumentos de l√≠nea de comando y variables de entorno.  Luego sube un nivel, habla sobre los modelos de vagones laterales y embajadores de contenedores m√∫ltiples en un contexto de nodo √∫nico.  Finalmente, muestra c√≥mo crear una poderosa arquitectura de microservicios utilizando patrones de contenedores m√∫ltiples. <br><br>  Creo que Burns pudo articular perfectamente el "sue√±o" de todo el panorama de microservicios: <br><br><blockquote>  El enfoque de microservicio tiene muchas ventajas, muchas de las cuales est√°n relacionadas con la fiabilidad y la flexibilidad.  Los microservicios dividen la aplicaci√≥n en partes peque√±as, cada una de las cuales es responsable de la prestaci√≥n de un servicio espec√≠fico.  Al reducir el alcance de los servicios, cada servicio puede desarrollar y mantener un equipo que se puede alimentar con dos pizzas. <br><br>  Reducir el tama√±o del equipo tambi√©n reduce el costo de mantener sus actividades. <br><br>  Adem√°s, la aparici√≥n de una interfaz formal entre microservicios debilita la interdependencia de los equipos y establece un contrato confiable entre los servicios.  Tal contrato formal reduce la necesidad de una estrecha sincronizaci√≥n de los equipos, ya que el equipo que proporciona la API comprende hasta qu√© punto es necesario para garantizar la compatibilidad, y el equipo que consume la API puede contar con un servicio estable sin preocuparse por los detalles de la implementaci√≥n del servicio consumido.  Dicha descomposici√≥n permite a los equipos controlar de forma independiente el ritmo de desarrollo y el cronograma para el lanzamiento de nuevas versiones, lo que les da la oportunidad de iterar, mejorando as√≠ el c√≥digo de servicio. <br><br>  Finalmente, dividir en microservicios aumenta la escalabilidad.  Dado que cada componente se asigna a un servicio separado, se puede escalar independientemente de los dem√°s </blockquote><br>  (p. 79-80 en traducci√≥n rusa) <br><br>  Estoy hablando del "sue√±o" porque, como admite el propio Burns, es dif√≠cil dise√±ar un sistema de microservicio y dise√±ar su arquitectura.  Y monitorear y depurar dicho sistema es mucho m√°s complicado que monitorear y depurar un an√°logo monol√≠tico.  Solo con esto puedo estar de acuerdo f√°cilmente.  De acuerdo con mi propia experiencia limitada trabajando con microservicios, confirmo que los servicios compartidos se conectan r√°pidamente y que los "contratos confiables" entre los servicios se convierten r√°pidamente en un objetivo m√≥vil, experimentando m√°s y m√°s cambios nuevos. <br><br>  En conclusi√≥n, me gustar√≠a referirme al concepto de FaaS: "funciones como servicios".  Sistemas como el servicio Lambda de Amazon me hacen sentir mezclado.  En un sentido extremadamente abstracto, me gustan tales sistemas, pero no tengo idea de c√≥mo se manifiestan en una aplicaci√≥n particular.  Burns toca FaaS en la Parte II sobre "Patrones de dise√±o de sistemas de servicio", pero desafortunadamente no me aclara completamente el problema de Faas. <br><br>  Realmente me gust√≥ que Burns recomienda usar FaaS para resolver solo un subconjunto de los problemas conocidos: <br><br><blockquote>  Al igual que con otras herramientas para desarrollar sistemas distribuidos, es posible que desee utilizar una soluci√≥n particular (por ejemplo, procesamiento orientado a eventos) como herramienta universal.  La verdad es que una soluci√≥n particular generalmente resuelve problemas particulares.  En cierto contexto, demostrar√° ser una herramienta poderosa, pero al tirar de ella para resolver problemas comunes se crean arquitecturas complejas y fr√°giles. </blockquote><br>  (p. 135 en traducci√≥n rusa) <br><br>  Adem√°s, muchas gracias a √©l por mencionar las dificultades que surgen al usar FaaS: <br><br><blockquote>  Como se mencion√≥ en la secci√≥n anterior, el desarrollo del sistema utilizando el enfoque FaaS lo obliga a hacer que los componentes del sistema se acoplen libremente.  Cada funci√≥n es independiente por definici√≥n.  Toda la interacci√≥n se lleva a cabo a trav√©s de la red.  Las instancias de funci√≥n no tienen su propia memoria; por lo tanto, requieren almacenamiento compartido para almacenar el estado.  El debilitamiento forzado de la conectividad de los elementos del sistema puede aumentar la flexibilidad y la velocidad del desarrollo del servicio, pero al mismo tiempo puede complicar significativamente su soporte. <br>  En particular, es bastante dif√≠cil ver la estructura integral del servicio, determinar c√≥mo se integran las funciones entre s√≠, comprender qu√© y por qu√© sali√≥ mal en caso de falla.  Adem√°s, la naturaleza de las funciones orientada a consultas y sin servidor significa que algunos problemas ser√°n dif√≠ciles de detectar. </blockquote><br>  (p. 136-137 en traducci√≥n rusa) <br><br>  Nuevamente, me sorprendi√≥ el hecho de que la mayor√≠a de los sistemas FaaS no son demasiado buenos para resolver tareas que requieren un procesamiento activo: <br><br><blockquote>  ... adem√°s, debido a la implementaci√≥n de servicios sin servidor, el tiempo de ejecuci√≥n de una instancia de funci√≥n generalmente es limitado.  Esto significa que el enfoque FaaS generalmente no es adecuado para aplicaciones que requieren un procesamiento prolongado de datos en segundo plano.  (P. 138 en traducci√≥n rusa) <br>  Finalmente, me complaci√≥ la observaci√≥n de que los FaaS se est√°n volviendo econ√≥micamente inexpertos si es imposible garantizar un funcionamiento prolongado e ininterrumpido del procesador: <br>  Pero si tiene tantas solicitudes que la funci√≥n est√° constantemente activa, es probable que pague de m√°s por la cantidad de solicitudes procesadas. <br><br>  ... a medida que el servicio crece, el n√∫mero de solicitudes procesadas aumenta a tal nivel que el procesador est√° constantemente ocupado proces√°ndolas.  En este punto, la tarifa por el n√∫mero de solicitudes comienza a dejar de ser rentable.  El costo por unidad de tiempo de CPU de las m√°quinas virtuales en la nube disminuye a medida que se agregan n√∫cleos, as√≠ como al reservar recursos y descuentos para uso a largo plazo.  El costo de pagar la cantidad de solicitudes generalmente aumenta con la cantidad de solicitudes. </blockquote><br>  (p. 139-140 en traducci√≥n rusa) <br><br>  Como resultado, todav√≠a no entend√≠a: ¬øcu√°ndo es mejor usar "funciones como servicios"?  Observo que Burns describe brevemente el trabajo con tareas a corto plazo orientadas a eventos que no cargan mucho el procesador, como la autenticaci√≥n de dos factores (2FA).  Sin embargo, dado que estamos hablando de peque√±as tareas a corto plazo con bajos costos, surge la pregunta: ¬øpor qu√© deber√≠an escalarse independientemente?  ¬øPor qu√© no incluir estas caracter√≠sticas en otro servicio contenedor que est√° estrechamente relacionado con el primero? <br><br>  Espero lidiar mejor con estos problemas cuando empiece a usar las tecnolog√≠as FaaS en la pr√°ctica. <br><br>  Adem√°s de cierta confusi√≥n con FaaS, me gust√≥ mucho el libro.  Se lee r√°pidamente, f√°cilmente percibido.  Una vez m√°s nos recuerda el enorme potencial de debilitar la conexi√≥n entre componentes en todos los niveles de desarrollo de aplicaciones.  Finalmente, ahora ser√° mucho m√°s f√°cil para m√≠ mantener una conversaci√≥n con mis colegas sobre temas como "Contenedores de sidecar". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/442514/">https://habr.com/ru/post/442514/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../442502/index.html">Transformamos el lugar de trabajo en un titular por $ 200</a></li>
<li><a href="../442504/index.html">Proxy PHP Xdebug: cuando las caracter√≠sticas est√°ndar de Xdebug no son suficientes</a></li>
<li><a href="../442506/index.html">¬øSe castiga a Rusia por el comercio ilegal de datos personales?</a></li>
<li><a href="../442508/index.html">C√≥mo udalenka acelera la innovaci√≥n en GitLab</a></li>
<li><a href="../442512/index.html">Personalizaci√≥n de Django ORM en el ejemplo de ZomboDB</a></li>
<li><a href="../442516/index.html">Pandas Guide to Big Data Analysis</a></li>
<li><a href="../442518/index.html">Las 10 mejores t√©cnicas de pirater√≠a web 2018</a></li>
<li><a href="../442520/index.html">Caso. Ahorro de 300 000 p. por mes en publicidad contextual</a></li>
<li><a href="../442522/index.html">Intuitivo RL (aprendizaje de refuerzo): Introducci√≥n a Advantage-Actor-Critic (A2C)</a></li>
<li><a href="../442524/index.html">C√≥mo aumentar la seguridad en la identificaci√≥n personal y los sistemas de control de acceso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>