<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🎤 🍠 🌁 Om-yum-yum und Datenvalidierung 👩🏻‍🏭 🤶🏽 🦍</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo allerseits! Lassen Sie uns ein wenig über die Datenvalidierung sprechen. Was ist kompliziert und warum sollte es beispielsweise in einem in Typo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Om-yum-yum und Datenvalidierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473026/"><p> Hallo allerseits!  Lassen Sie uns ein wenig über die Datenvalidierung sprechen.  Was ist kompliziert und warum sollte es beispielsweise in einem in Typoskript geschriebenen Projekt überhaupt benötigt werden?  Typoskript steuert ziemlich gut alles, es bleibt die maximale Benutzereingabe zu überprüfen.  Das heißt, ein Dutzend Stammgäste in das Projekt zu werfen und alles, so scheint es, kann das Thema schließen, aber ... Weit davon entfernt, immer und im Falle des Webs fast nie, befindet sich das gesamte Projekt in einer einzigen Codebasis und verwendet dieselben Typen.  An der Kreuzung solcher Codebasen entstehen Situationen, in denen das Warten nicht der Realität entspricht und das Typoskript hier kein Assistent mehr ist.  Einige Beispiele: </p><a name="habracut"></a><br><ul><li> Der Client-Teil der Anwendung empfängt Daten von der API und validiert sie.  Erstens kann sich die API plötzlich und manchmal ohne vorherige Ankündigung ändern, und zweitens wissen die "Server-Leute" selbst manchmal nicht, was ihre API tun kann, zum Beispiel in einem bestimmten Bereich, anstatt eines garantierten Arrays, selbst wenn es leer ist, kann der Vollmond <code>null</code> .  Bei der Beschreibung der Daten auf dem Client scheinen Programmierer zu bestimmen, mit was der Client zu arbeiten weiß. Wenn etwas schief geht, ist es viel angenehmer, sofort eine Meldung in der Konsole über die Ursache des Problems zu sehen, als einen unverständlichen Fehler zu erkennen, der bereits in der Ansichtsebene aufgetreten ist (und es ist gut, wenn es sofort bemerkt wird).  Auch jetzt gibt es bereits Lösungen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2</a> ), mit denen Typen vom Server zum Client übertragen werden können.  Ich habe es noch nicht versucht, aber es ist durchaus möglich, dass dies die Zukunft ist. </li><li>  Die umgekehrte Situation ist, wenn der Server die gesendeten Parameter überprüft, um die Verarbeitung der Anforderung sofort zu beenden, wenn sie nicht den erwarteten entsprechen.  Ich denke, es sind keine Details erforderlich, warum dies wichtig ist. </li><li>  Die Validierung von Daten vor dem Speichern in der Datenbank ist ebenfalls nicht überflüssig.  Zum Beispiel können Sie sehen, wie es in einem meiner Motorräder organisiert ist: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MaraquiaORM # Validation</a> . </li></ul><br><p>  Ich denke, die Beispiele sind ziemlich überzeugend und jetzt gibt es kein Gefühl, dass Sie mit einfachen Stammgästen umgehen können, da es nicht nur um Benutzereingaben geht, sondern um die Validierung komplexer, normalerweise auf mehreren Datenebenen verschachtelter Daten.  Hier wird bereits eine spezielle Bibliothek benötigt.  Und natürlich gibt es!  Es kommt einfach so vor, dass ich in den letzten 10 Jahren jedes Mal, wenn ich ein neues Projekt starte, versuche, eine andere solche Bibliothek darin zu verwenden und sie an meine Bedürfnisse anzupassen.  Und jedes Mal, wenn etwas schief geht, führt dies manchmal dazu, dass die Testperson mitten in der aktiven Entwicklung ausgetauscht wird.  Ich werde nicht über alle Optionen sprechen, die ich studiert habe, sondern nur über die im aktuellen Projekt getesteten. </p><br><h4 id="type-check">  Typprüfung </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> </p><br><p>  Kleine und recht praktische Bibliothek.  Die Schaltung wird als String beschrieben.  Mit mehrzeiligen Zeichenfolgen können Sie ziemlich komplexe Strukturen beschreiben: </p><br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">`{ ID: String, creator: { fname: String | Null, mname: String | Null, lname: String | Null, email: [String] } | Undefined, sender: Maybe { name: String, email: String }, type: Number, subject: String, ... }`</span></span></code> </pre> <br><p>  Es gibt ziemlich schwerwiegende Nachteile: </p><br><ul><li>  Die IDE hilft in keiner Weise bei einer Reihe von Schemata, was besonders beim Wechsel zu Typoskript ärgerlich war. </li><li>  Fast nutzlose Fehlermeldungen.  Ich habe diese Bibliothek seit mehr als einem Jahr nicht mehr benutzt und vielleicht hat sich etwas geändert (nach dem Code zu urteilen, nein).  Nachrichten hatten den Stil "Erwartete Zeichenfolge, null erhalten".  Stellen Sie sich nun vor, Sie haben eine Reihe von Teilen für 200 Objekte, von denen jedes Felder mit Zeichenfolgen enthält, und in nur einem Objekt ist eines der Felder gebrochen.  Wie finde ich dieses Feld?  Alle 200 Artikel anzeigen?  Ich habe so oft gelitten und es hat <s>mein Leben</s> wirklich <s>gebrochen und</s> den Eindruck der Bibliothek ruiniert.  Normalerweise möchte ich nicht wissen, was dort erwartet und empfangen wurde, aber ich möchte das Datenschema öffnen und das darin benötigte Feld und dasselbe in den Daten selbst finden.  Mit anderen Worten, in der Fehlermeldung ist es wichtig, den Schlüsselpfad an der richtigen Stelle in den Daten / im Schema zu haben, und was dort erwartet wurde und überhaupt angekommen ist, kann weggelassen werden. </li><li>  Natürlich eine Kleinigkeit, aber die Einrückung im obigen Beispiel verschwindet nicht, wenn der Code komprimiert wird. </li></ul><br><h4 id="joi">  Joi </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Browserversion</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">joi-browser</a> </p><br><p>  Wahrscheinlich die bekannteste Bibliothek zu diesem Thema mit einer Reihe von Funktionen und einer endlosen API.  Zuerst habe ich es auf dem Server benutzt und es hat sich perfekt gezeigt.  Irgendwann habe ich beschlossen, es durch eine <code>type-check</code> auf dem Client zu ersetzen.  Zu diesem Zeitpunkt hatte ich fast keine Kontrolle über die Größe des Bundles, es gab einfach keine Probleme damit.  Aber im Laufe des Jahres ist es schnell gewachsen und im mobilen Internet war der erste Anwendungsdownload überhaupt nicht bequem.  Es wurde beschlossen, ein verzögertes Laden von Komponenten zu organisieren.  Der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webpack-Bundle-Analyzer-</a> Bericht zeigte eine Reihe von Riesen im Bundle, und alle gingen problemlos zu den vom Webpack erstellten Blöcken.  Alle außer <code>Joi</code> .  Viele Komponenten kommunizieren mit dem Server und alle Serverantworten werden validiert. Das heißt, es ist nicht sinnvoll, <code>Joi</code> in eine Art Block zu stecken. Es wird einfach immer direkt nach dem Hauptblock geladen.  Irgendwann sah das Hauptbündel so aus: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tyts</a> .  Natürlich entstand ein anhaltender Wunsch, etwas dagegen zu unternehmen.  Ich wollte die gleiche praktische Bibliothek, aber viel weniger. </p><br><h4 id="yup">  Ja </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> </p><br><p>  In der Readme-Version versprechen sie ungefähr das gleiche <code>Joi</code> , aber in der für das Frontend geeigneten Größe.  Tatsächlich ist es nur etwa zweimal kleiner, <code>Yup</code> war immer noch die größte Bibliothek im Hauptpaket.  Darüber hinaus traten zusätzliche Nachteile auf: </p><br><ul><li>  Die Standardbibliothek überspringt alle <code>undefined</code> .  Ständig <code>.required()</code> schreiben <code>.required()</code> nicht sehr angenehm, und ich mag es besser, wenn anfangs alles unmöglich ist und wo es erlaubt ist.  <code>Joi</code> hat eine Option <code>presence: 'required'</code> , um dieses Verhalten zu konfigurieren.  Ich habe eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anfrage mit der höllischen Nummer 666 erstellt</a> , aber bisher schweigen die Autoren. </li><li>  Es gibt keine Möglichkeit, die Werte eines Objekts zu überprüfen, da alle Schlüssel zulässig sind.  <code>Joi</code> verwendet dazu <a href="">object.pattern</a> , wobei das erste Argument <a href="">eine</a> beliebige Zeichenfolge <a href="">akzeptiert</a> .  Wahrscheinlich wäre es immer noch möglich, irgendwie herauszukommen, und die Autoren können das erste Minus korrigieren, aber angesichts der Größe wollte ich nicht warten oder etwas selbst bearbeiten. </li></ul><br><h4 id="ow">  Ow </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> </p><br><p>  Der nächste Bewerber erwies sich schließlich als sehr klein, und er ließ ihn nicht ständig schreiben <code>()</code> wo Sie darauf verzichten können.  Sie können beispielsweise einen Validator schreiben, der eine Zeichenfolge zulässt oder wie folgt <code>undefined</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> optionalStringValidator = ow.optional.string; ow(optionalStringValidator, <span class="hljs-string"><span class="hljs-string">'1'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Ok ow(optionalStringValidator, undefined); // Ok</span></span></code> </pre> <br><p>  Großartig!  Was ist mit <code>null</code> ?  Beim Umblättern der gesamten Dokumentation fand ich die folgende Methode: </p><br><pre> <code class="javascript hljs">ow.any(ow.optional.string, ow.null);</code> </pre> <br><p>  Oh Horror!  Als ich versuchte, einen Teil der Validierung im Projekt neu zu schreiben, habe ich mir beim Tippen fast die Finger gebrochen.  Ich habe <code>ow.nullable</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Problem</a> mit dem Hinzufügen von <code>ow.nullable</code> , das hier gesendet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde</a> .  Kurz gesagt, sie sagen, dass <code>null</code> nicht benötigt wird.  Die dort angegebenen Argumente sind auch in Anbetracht der ersten Zeile in ihrer Readme-Datei völlig ausreichend: </p><br><blockquote>  Funktionsargumentvalidierung für Menschen </blockquote><p>  Das heißt, diese Bibliothek dient zum Überprüfen der Werte, die als Argumente für die Funktion dienen.  Anscheinend haben sie nicht wirklich mit riesigen verschachtelten Strukturen vom Server gerechnet. <br>  Weitere Studien und Verwendungsversuche ergaben mehrere weitere Funktionen, die wiederum durch dieselbe Zeile in der Readme-Datei gut erklärt wurden, aber nicht sehr gut zu mir passten.  Dies ist eigentlich eine ziemlich gute Bibliothek, nur für ein paar andere Zwecke. </p><br><hr><br><p>  Hier hatte ich es schon satt aufzugeben und beschloss, meine Bibliothek mit Blackjack und Jungfrauen zu schreiben.  Ja, ja, ich bin mit dem nächsten Fahrrad wieder bei dir :).  Treffen: </p><br><h2 id="omyumyum">  Omyumyum </h2><br><p>  Einige Beispiele: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> om <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'omyumyum'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isOptionalNumber = om.number.or.undefined; isOptionalNumber(<span class="hljs-string"><span class="hljs-string">'1'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// =&gt; false isOptionalNumber(1); // =&gt; true isOptionalNumber(undefined); // =&gt; true</span></span></code> </pre> <br><p>  <code>.or</code> kann beliebig <code>.or</code> verwendet werden, indem Sie die Optionen erweitern: </p><br><pre> <code class="javascript hljs">om.number.or.string.or.null.or.undefined;</code> </pre> <br><p>  In diesem Fall wird ständig eine fast gewöhnliche Funktion generiert, die jedes Argument <code>boolean</code> und einen <code>boolean</code> zurückgibt. <br>  Wenn die Funktion einen Fehler auslösen soll, wenn der Test fehlschlägt: </p><br><pre> <code class="javascript hljs">om(om.number, <span class="hljs-string"><span class="hljs-string">'1'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  TypeError</span></span></code> </pre> <br><p>  Oder mit Curry: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isNumberOrThrow = om(om.number); isNumberOrThrow(<span class="hljs-string"><span class="hljs-string">'1'</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  TypeError</span></span></code> </pre> <br><p>  Die resultierende Funktion ist nicht ganz normal, da sie zusätzliche Methoden enthält.  <code>.or</code> bereits angezeigt, ein Teil der Methoden hängt vom ausgewählten Typ ab (siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API</a> ). Beispielsweise kann eine Zeichenfolge mit einem regulären Ausdruck erweitert werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isNonEmptyString = om.string.pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\S/</span></span>); <span class="hljs-comment"><span class="hljs-comment">// == `om.string.nonEmpty` isNonEmptyString(' '); // =&gt; false isNonEmptyString('1'); // =&gt; true</span></span></code> </pre> <br><p>  Und für das Objekt können Sie seine Form angeben: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isUserData = om.object.shape({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: om.string, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: om.number.or.vacuum <span class="hljs-comment"><span class="hljs-comment">// `.or.vacuum` == `.or.null.or.undefined` }); isUserData({}); // =&gt; false isUserData({ age: 20 }) // =&gt; false isUserData({ name: '' }); // =&gt; true isUserData({ name: '', age: null }); // =&gt; true isUserData({ name: '', age: 20 }); // =&gt; true</span></span></code> </pre> <br><p>  Der versprochene Schlüsselweg zum Problempunkt: </p><br><pre> <code class="javascript hljs">om(om.array.of(om.object.shape({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: om.string })), [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }]); <span class="hljs-comment"><span class="hljs-comment">//  TypeError('Type mismatch at "[1].name"')</span></span></code> </pre> <br><p>  Wenn die integrierten Funktionen nicht ausreichen, können Sie immer <code>.custom(validator: (value: any) =&gt; boolean)</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isEmailOrPhone = om.custom(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'is-email'</span></span>)).or.custom(<span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'is-phone'</span></span>)); isEmailOrPhone(<span class="hljs-string"><span class="hljs-string">'test@test.test'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// =&gt; true</span></span></code> </pre> <br><p>  Auf Lager ist auch die erwartete <code>.and</code> verwendet, um Typen zu kombinieren und zu verbessern: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isNonZeroString = om.string.and.custom(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function"> =&gt;</span></span> str.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// == `om.string.nonZero` isNonZeroString(''); // =&gt; false isNonZeroString('1'); // =&gt; true</span></span></code> </pre> <br><p>  <code>.and</code> hat Vorrang vor <code>.or</code> , aber da <code>.custom()</code> den Validator mit genau der Form akzeptiert, die von der Bibliothek erstellt wurde, kann dies umgangen werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//      `age`,   `birthday` om.object.shape({ name: om.string }).and.custom( om.object.shape({ age: om.number }) .or.object.shape({ birthday: om.date })] );</span></span></code> </pre> <br><p>  Sie können zuvor erstellte Validatoren weiter verbessern.  Die alten verderben überhaupt nicht.  Versuchen <code>isUserData</code> die zuvor erstellten <code>isUserData</code> zu verbessern: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isImprovedUserData = isUserData.and.object.shape({ <span class="hljs-attr"><span class="hljs-attr">friends</span></span>: om.array.of(isUserData).or.vacuum }); isImprovedUserData({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-attr"><span class="hljs-attr">friends</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">18</span></span> }] }); <span class="hljs-comment"><span class="hljs-comment">// =&gt; true</span></span></code> </pre> <br><p>  Nun, blieb <code>.not</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> isNotVacuum = om.not.null.and.not.undefined; <span class="hljs-comment"><span class="hljs-comment">// == `om.not.vacuum` isNotVacuum(1); // =&gt; true isNotVacuum(null); // =&gt; false isNotVacuum(undefined); // =&gt; false</span></span></code> </pre> <br><p>  Weitere verfügbare Methoden finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der</a> Bibliotheks- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API</a> . </p><br><h4 id="plyusy-biblioteki">  Vorteile der Bibliothek: </h4><br><ul><li>  Lakonische Syntax mit <code>.or</code> , <code>.or</code> , <code>.or</code> und einem Minimum an Klammern.  In Kombination mit dem Autocomplete-Typoskript wird das Set zum Vergnügen. </li><li>  Winziges Gewicht sogar im Vergleich zu <code>Ow</code> (fast 10-mal weniger (minify + gzip)) und im Vergleich zu <code>Joi</code> Bibliothek wie eine Feder neben einem Berg. </li><li>  Schöner Name :) </li></ul><br><h4 id="minusy-biblioteki">  Nachteile der Bibliothek: </h4><br><ul><li>  Weniger Typen und ihre Modifikatoren.  Und es ist unwahrscheinlich, dass es noch viel mehr geben wird.  Alle drei am Anfang des Artikels angegebenen Verwendungsszenarien (etwas über Junctions und Codebasen) setzen die Übertragung von Klartextdaten voraus, in den meisten Fällen handelt es sich um JSON.  Das heißt, meiner Meinung nach sollte eine solche Bibliothek die in JSON möglichen Typen sowie <code>undefined</code> und einige häufig verwendete Typen unterstützen.  Aus irgendeinem Grund ist derselbe <code>Ow</code> mit Unterstützung für alle Arten von typisierten Arrays und anderem Unsinn vollgestopft.  Ich finde das überflüssig. </li><li>  Kann keine Daten wie <code>Joi</code> konvertieren.  Ich denke, <code>Joi</code> ist auch ziemlich schlecht darin.  Zumindest habe ich nicht genug von seinen Fähigkeiten und mache bei Bedarf Transformationen mit völlig anderen Werkzeugen.  Vielleicht ist dies eine weitere Entwicklungsrichtung für <code>omyumyum</code> . </li></ul><br><p>  Das ist alles!  Wenn Ihnen der Artikel gefallen hat, abonnieren Sie den Kanal und viel Glück)). </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de473026/">https://habr.com/ru/post/de473026/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de473012/index.html">Ergebnisse der Advantech-Partnerkonferenz in Moskau</a></li>
<li><a href="../de473014/index.html">Einführung in die Kubernetes-Autorisierung von Hashicorp Consul</a></li>
<li><a href="../de473016/index.html">Top-profitable Geschäftsmodelle, die von wachsenden Uber-ähnlichen Taxi-Apps implementiert werden</a></li>
<li><a href="../de473018/index.html">Tipps für Kandidaten eines Programmierers, der Interviews auf Facebook führt</a></li>
<li><a href="../de473024/index.html">Was Sie über das Internet der Dinge wissen müssen: grundlegendes Bildungsprogramm</a></li>
<li><a href="../de473028/index.html">In Russland begann radioaktive Abfälle aus Europa zu importieren? Sortiert</a></li>
<li><a href="../de473030/index.html">Wir berechnen potenzielle "böse" Bots und blockieren sie durch IP</a></li>
<li><a href="../de473032/index.html">"Hoffnung ist eine schlechte Strategie." SRE intensiv in Moskau, 3.-5. Februar</a></li>
<li><a href="../de473034/index.html">Wie man timlid sitzt</a></li>
<li><a href="../de473036/index.html">Android Camera2 API aus der Teekanne, Teil 3. Media Codec und Video-Streaming über UDP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>