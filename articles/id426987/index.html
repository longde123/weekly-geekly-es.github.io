<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>▶️ 👨🏿‍🤝‍👨🏾 👴🏾 Pelajari OpenGL. Pelajaran 6.3 - Pencahayaan Berbasis Gambar. Iradiasi difus 🏘️ 📅 🏐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pencahayaan berdasarkan gambar atau IBL ( Image Based Lighting ) adalah kategori metode pencahayaan berdasarkan bukan pada akuntansi untuk sumber caha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pelajari OpenGL. Pelajaran 6.3 - Pencahayaan Berbasis Gambar. Iradiasi difus</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426987/"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" align="left" width="300">  Pencahayaan berdasarkan gambar atau <i>IBL</i> ( <i>Image Based Lighting</i> ) adalah kategori metode pencahayaan berdasarkan bukan pada akuntansi untuk sumber cahaya analitis (dibahas dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran sebelumnya</a> ), tetapi mempertimbangkan seluruh lingkungan objek yang diterangi sebagai satu sumber cahaya kontinu.  Dalam kasus umum, dasar teknis dari metode tersebut terletak pada pemrosesan peta kubik lingkungan (disiapkan di dunia nyata atau dibuat berdasarkan adegan tiga dimensi) sehingga data yang disimpan dalam peta dapat langsung digunakan dalam perhitungan pencahayaan: pada kenyataannya, setiap texel dari peta kubik dianggap sebagai sumber cahaya .  Secara umum, ini memungkinkan Anda untuk menangkap efek pencahayaan global dalam adegan, yang merupakan komponen penting yang menyampaikan "nada" keseluruhan dari pemandangan saat ini dan membantu objek yang diterangi menjadi lebih baik "tertanam" di dalamnya. <br><br>  Karena algoritma IBL memperhitungkan pencahayaan akun dari lingkungan "global" tertentu, hasilnya dianggap sebagai simulasi pencahayaan latar belakang yang lebih akurat atau bahkan perkiraan kasar pencahayaan global.  Aspek ini membuat metode IBL menarik dalam hal memasukkan PBR ke dalam model, karena menggunakan cahaya sekitar dalam model pencahayaan memungkinkan objek terlihat jauh lebih benar secara fisik. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Isi</b> <div class="spoiler_text">  Bagian 1. Memulai <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pembuatan jendela</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halo jendela</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halo segitiga</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Shader</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tekstur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Transformasi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sistem koordinat</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kamera</a> </li></ol><br>  Bagian 2. Pencahayaan dasar <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Warna</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dasar-dasar pencahayaan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Material</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peta tekstur</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber cahaya</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berbagai Sumber Penerangan</a> </li></ol><br>  Bagian 3. Unduh model 3D <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perpustakaan Assimp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kelas Polygon Mesh</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kelas Model 3D</a> </li></ol><br>  Bagian 4. Fitur OpenGL Lanjutan <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tes kedalaman</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tes stensil</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pencampuran warna</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memotong wajah</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Buffer bingkai</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kartu kubik</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penanganan data tingkat lanjut</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GLSL tingkat lanjut</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Shader geometris</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instancing</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menghaluskan</a> </li></ol><br>  Bagian 5. Pencahayaan Lanjut <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pencahayaan tingkat lanjut.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Model Blinn-Fong.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Koreksi gamma</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kartu bayangan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peta bayangan omnidirectional</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pemetaan normal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pemetaan paralaks</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HDR</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bloom</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Render yang ditangguhkan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SSAO</a> </li></ol><br>  Bagian 6. PBR <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Teori</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber Cahaya Analitik</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Iradiasi difus.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Paparan cermin.</a> </li></ol><br></div></div><br>  Untuk memasukkan pengaruh IBL ke dalam sistem PBR yang sudah dijelaskan, kami kembali ke persamaan reflektansi yang sudah dikenal: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">p</span><span class="MJXp-mo" id="MJXp-Span-7" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-8">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">g</span><span class="MJXp-msubsup" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-15" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-18">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">t</span><span class="MJXp-mtext" id="MJXp-Span-22">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">i</span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-36" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-39" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-40">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">c</span><span class="MJXp-mrow" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">c</span></span><span class="MJXp-mrow" id="MJXp-Span-47"><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">i</span></span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-54" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-55">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">c</span><span class="MJXp-mrow" id="MJXp-Span-60"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">G</span></span><span class="MJXp-mrow" id="MJXp-Span-64"><span class="MJXp-mn" id="MJXp-Span-65">4</span><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-67">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">g</span><span class="MJXp-msubsup" id="MJXp-Span-72"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-74" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-75">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">n</span><span class="MJXp-mo" id="MJXp-Span-81" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">g</span><span class="MJXp-msubsup" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-90" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-91">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">n</span><span class="MJXp-mo" id="MJXp-Span-97" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-98" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-99"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-101" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-102" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">p</span><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-105">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">g</span><span class="MJXp-msubsup" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-112" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">n</span><span class="MJXp-mtext" id="MJXp-Span-115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mtext" id="MJXp-Span-120">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">g</span><span class="MJXp-msubsup" id="MJXp-Span-125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-127" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">d</span><span class="MJXp-mtext" id="MJXp-Span-129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">g</span><span class="MJXp-msubsup" id="MJXp-Span-134"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-136" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="132.756ex" height="2.78ex" viewBox="0 -832 57158.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="963" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="1124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="1514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2C" x="2017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="2712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="3198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="4076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="4543" y="0"></use><g transform="translate(5023,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="5996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-3D" x="6664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="7970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="8315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="8916" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6C" x="9527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="9826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="10171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="11050" y="0"></use><g transform="translate(11395,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="2942" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="14312" y="0"></use><g transform="translate(14701,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-66" x="15943" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-72" x="16494" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="16945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="17475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="17908" y="0"></use><g transform="translate(18342,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2B" x="19663" y="0"></use><g transform="translate(20664,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-66" x="21867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-72" x="22418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="22869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="23399" y="0"></use><g transform="translate(23832,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(26197,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-34" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="2970" y="0"></use><g transform="translate(3451,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="4673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="5107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="5630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="6116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="6477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="7078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="7467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="8107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="8592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="9471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="9937" y="0"></use><g transform="translate(10418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="11542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="11975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="12499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="12984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="13346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="13946" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="40533" y="0"></use><g transform="translate(40922,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="963" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="41948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="42337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2C" x="42841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="43536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="44022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="44900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="45367" y="0"></use><g transform="translate(45847,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="46721" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="47110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="47961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="48394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="48918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="49403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="50015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="50500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="51379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="51845" y="0"></use><g transform="translate(52326,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="53200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="53973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="54459" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="55337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="55804" y="0"></use><g transform="translate(56284,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> L_o (p, \ omega_o) = \ int \ limit _ {\ Omega} (k_d \ frac {c} {\ pi} + k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n )}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br>  Seperti dijelaskan sebelumnya, tujuan utamanya adalah menghitung integral untuk semua arah radiasi yang masuk <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-137"><span class="MJXp-msubsup" id="MJXp-Span-138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-140" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> w_i </script>  belahan bumi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-141"><span class="MJXp-mtext" id="MJXp-Span-142">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-144">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.824ex" height="2.419ex" viewBox="0 -780.1 3368.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="1013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="1892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="2358" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="2839" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ Omega </script>  .  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran terakhir,</a> perhitungan integral tidak membebani, karena kita tahu sebelumnya jumlah sumber cahaya, dan, oleh karena itu, semua beberapa arah kejadian cahaya yang sesuai dengan mereka.  Pada saat yang sama, integral tidak dapat diselesaikan dengan snap: vektor jatuh <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-148"><span class="MJXp-msubsup" id="MJXp-Span-149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-151" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> w_i </script>  dari lingkungan dapat membawa kecerahan energi non-nol.  Akibatnya, untuk penerapan praktis dari metode ini diperlukan untuk memenuhi persyaratan berikut: <br><ul><li>  Anda harus menemukan cara untuk mendapatkan kecerahan energi adegan untuk vektor arah sewenang-wenang <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-152"><span class="MJXp-msubsup" id="MJXp-Span-153"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-155" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> w_i </script>  ; </li><li>  Perlu bahwa solusi integral dapat terjadi secara real time. </li></ul><br>  Nah, poin pertama diselesaikan dengan sendirinya.  Sebuah petunjuk solusi telah menyelinap di sini: salah satu metode untuk mewakili iradiasi pemandangan atau lingkungan adalah peta kubik yang telah mengalami pemrosesan khusus.  Setiap texel dalam peta semacam itu dapat dianggap sebagai sumber pemancar yang terpisah.  Dengan mengambil sampel dari peta semacam itu menurut vektor sembarang <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-156"><span class="MJXp-msubsup" id="MJXp-Span-157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-159" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> w_i </script>  kita dengan mudah mendapatkan kecerahan energi pemandangan ke arah ini. <br><br>  Jadi, kita mendapatkan kecerahan energi adegan untuk vektor yang berubah-ubah <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-160"><span class="MJXp-msubsup" id="MJXp-Span-161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-163" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.464ex" height="1.817ex" viewBox="0 -520.7 1060.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="1013" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> w_i </script>  : <br><br><pre><code class="plaintext hljs">vec3 radiance = texture(_cubemapEnvironment, w_i).rgb;</code> </pre> <br>  Hebatnya, bagaimanapun, menyelesaikan integral mengharuskan kita untuk membuat sampel dari peta lingkungan bukan dari satu arah, tetapi dari semua kemungkinan di belahan bumi.  Dan - untuk setiap fragmen yang diarsir.  Jelas, untuk tugas waktu nyata ini praktis tidak praktis.  Metode yang lebih efektif adalah dengan menghitung bagian dari operasi integrand terlebih dahulu, bahkan di luar aplikasi kita.  Tetapi untuk ini, Anda harus menyingsingkan lengan baju Anda dan menyelam lebih dalam ke esensi ekspresi reflektifitas: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-164"><span class="MJXp-msubsup" id="MJXp-Span-165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-167" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">p</span><span class="MJXp-mo" id="MJXp-Span-170" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-171">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">g</span><span class="MJXp-msubsup" id="MJXp-Span-176"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-178" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-179" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-181">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">t</span><span class="MJXp-mtext" id="MJXp-Span-185">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">i</span><span class="MJXp-msubsup" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-192" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-193">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-199" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-202" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">c</span><span class="MJXp-mrow" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">c</span></span><span class="MJXp-mrow" id="MJXp-Span-210"><span class="MJXp-mtext" id="MJXp-Span-211">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">i</span></span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-217" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-218">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">c</span><span class="MJXp-mrow" id="MJXp-Span-223"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">G</span></span><span class="MJXp-mrow" id="MJXp-Span-227"><span class="MJXp-mn" id="MJXp-Span-228">4</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-230">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">g</span><span class="MJXp-msubsup" id="MJXp-Span-235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-237" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-238">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243">n</span><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-245" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-246">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">g</span><span class="MJXp-msubsup" id="MJXp-Span-251"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-253" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-254">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">n</span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-262"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-264" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">p</span><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-268">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">g</span><span class="MJXp-msubsup" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-275" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">n</span><span class="MJXp-mtext" id="MJXp-Span-278">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">t</span><span class="MJXp-mtext" id="MJXp-Span-283">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">g</span><span class="MJXp-msubsup" id="MJXp-Span-288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-290" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-291">d</span><span class="MJXp-mtext" id="MJXp-Span-292">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">g</span><span class="MJXp-msubsup" id="MJXp-Span-297"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-299" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="132.756ex" height="2.78ex" viewBox="0 -832 57158.5 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="963" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="1124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="1514" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2C" x="2017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="2712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="3198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="4076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="4543" y="0"></use><g transform="translate(5023,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="5996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-3D" x="6664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="7970" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="8315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="8916" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6C" x="9527" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="9826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="10171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="11050" y="0"></use><g transform="translate(11395,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4F" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="1117" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="1995" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="2462" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="2942" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="14312" y="0"></use><g transform="translate(14701,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-66" x="15943" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-72" x="16494" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="16945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="17475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="17908" y="0"></use><g transform="translate(18342,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="753" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2B" x="19663" y="0"></use><g transform="translate(20664,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-73" x="737" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-66" x="21867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-72" x="22418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="22869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="23399" y="0"></use><g transform="translate(23832,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-46" x="828" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-47" x="1578" y="0"></use></g><g transform="translate(26197,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-34" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="1140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="2970" y="0"></use><g transform="translate(3451,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="4673" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="5107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="5630" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="6116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="6477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="7078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="7467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="8107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="8592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="9471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="9937" y="0"></use><g transform="translate(10418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="11542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="11975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="12499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="12984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="13346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="13946" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="40533" y="0"></use><g transform="translate(40922,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-4C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="963" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-28" x="41948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-70" x="42337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-2C" x="42841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="43536" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="44022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="44900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="45367" y="0"></use><g transform="translate(45847,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMAIN-29" x="46721" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6E" x="47110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-63" x="47961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="48394" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="48918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-74" x="49403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="50015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="50500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="51379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="51845" y="0"></use><g transform="translate(52326,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="53200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6F" x="53973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6D" x="54459" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-65" x="55337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-67" x="55804" y="0"></use><g transform="translate(56284,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-69" x="748" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> L_o (p, \ omega_o) = \ int \ limit _ {\ Omega} (k_d \ frac {c} {\ pi} + k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n )}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  Dapat dilihat bahwa bagian-bagian dari ekspresi berhubungan dengan difus <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-300"><span class="MJXp-msubsup" id="MJXp-Span-301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-303" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.303ex" height="2.419ex" viewBox="0 -780.1 991.7 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-64" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> k_d </script>  dan cermin <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-304"><span class="MJXp-msubsup" id="MJXp-Span-305"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-307" style="vertical-align: -0.4em;">s</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.215ex" height="2.419ex" viewBox="0 -780.1 953.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/426987/&amp;usg=ALkJrhhcStLCVB_z3gqO1MO6LQeS6nhZug#MJMATHI-73" x="737" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> k_s </script>  Komponen BRDF bersifat independen.  Anda dapat membagi integral menjadi dua bagian: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-308"><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-311" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-312" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">p</span><span class="MJXp-mo" id="MJXp-Span-314" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-315">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">g</span><span class="MJXp-msubsup" id="MJXp-Span-320"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-322" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-324" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-325">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">t</span><span class="MJXp-mtext" id="MJXp-Span-329">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">i</span><span class="MJXp-msubsup" id="MJXp-Span-334"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-336" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-337">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-339">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-346" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-347">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">c</span><span class="MJXp-mrow" id="MJXp-Span-352"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">c</span></span><span class="MJXp-mrow" id="MJXp-Span-354"><span class="MJXp-mtext" id="MJXp-Span-355">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">i</span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-359"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-361" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-362" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">p</span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-365">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">g</span><span class="MJXp-msubsup" id="MJXp-Span-370"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-372" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">n</span><span class="MJXp-mtext" id="MJXp-Span-375">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">t</span><span class="MJXp-mtext" id="MJXp-Span-380">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">g</span><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-387" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">d</span><span class="MJXp-mtext" id="MJXp-Span-389">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">g</span><span class="MJXp-msubsup" id="MJXp-Span-394"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-396" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-398">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">t</span><span class="MJXp-mtext" id="MJXp-Span-402">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">i</span><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-409" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-410">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">a</span></span></span><span class="MJXp-mo" id="MJXp-Span-416" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-419" style="vertical-align: -0.4em;">s</span></span><span class="MJXp-mtext" id="MJXp-Span-420">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">c</span><span class="MJXp-mrow" id="MJXp-Span-425"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">G</span></span><span class="MJXp-mrow" id="MJXp-Span-429"><span class="MJXp-mn" id="MJXp-Span-430">4</span><span class="MJXp-mo" id="MJXp-Span-431" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-432">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">g</span><span class="MJXp-msubsup" id="MJXp-Span-437"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-439" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mtext" id="MJXp-Span-440">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">n</span><span class="MJXp-mo" id="MJXp-Span-446" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-447" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-448">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-452">g</span><span class="MJXp-msubsup" id="MJXp-Span-453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-455" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mtext" id="MJXp-Span-456">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">n</span><span class="MJXp-mo" id="MJXp-Span-462" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mo" id="MJXp-Span-463" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-464"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-466" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">p</span><span class="MJXp-mo" id="MJXp-Span-469" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-470">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">g</span><span class="MJXp-msubsup" id="MJXp-Span-475"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-477" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-478" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">n</span><span class="MJXp-mtext" id="MJXp-Span-480">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">t</span><span class="MJXp-mtext" id="MJXp-Span-485">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">g</span><span class="MJXp-msubsup" id="MJXp-Span-490"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-492" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-493">d</span><span class="MJXp-mtext" id="MJXp-Span-494">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">g</span><span class="MJXp-msubsup" id="MJXp-Span-499"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-501" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> L_o (p, \ omega_o) = \ int \ limit _ {\ Omega} (k_d \ frac {c} {\ pi}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i + \ int \ limit_ { \ Omega} (k_s \ frac {DFG} {4 (\ omega_o \ cdot n) (\ omega_i \ cdot n)}) L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  Pembagian seperti itu menjadi beberapa bagian akan memungkinkan kita untuk berurusan dengan masing-masing secara individual, dan dalam pelajaran ini kita akan membahas bagian yang bertanggung jawab untuk pencahayaan difus. <br><br>  Setelah menganalisis bentuk integral atas komponen difus, kita dapat menyimpulkan bahwa komponen difusi Lambert pada dasarnya konstan (warna). <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-502"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">s</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-12"> s </script>  indeks bias <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-504"><span class="MJXp-msubsup" id="MJXp-Span-505"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-507" style="vertical-align: -0.4em;">d</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-13"> k_d </script>  dan <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-508"><span class="MJXp-mtext" id="MJXp-Span-509">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-14"> \ pi </script>  konstan dalam kondisi integrand) dan tidak tergantung pada variabel lain.  Mengingat fakta ini, kita dapat menempatkan konstanta di luar tanda integral: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-512"><span class="MJXp-msubsup" id="MJXp-Span-513"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-515" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-516" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">p</span><span class="MJXp-mo" id="MJXp-Span-518" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-519">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">g</span><span class="MJXp-msubsup" id="MJXp-Span-524"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-526" style="vertical-align: -0.4em;">o</span></span><span class="MJXp-mo" id="MJXp-Span-527" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-528" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-529"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530" style="margin-right: 0.05em;">k</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-531" style="vertical-align: -0.4em;">d</span></span><span class="MJXp-mtext" id="MJXp-Span-532">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">c</span><span class="MJXp-mrow" id="MJXp-Span-537"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">c</span></span><span class="MJXp-mrow" id="MJXp-Span-539"><span class="MJXp-mtext" id="MJXp-Span-540">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">i</span></span><span class="MJXp-mtext" id="MJXp-Span-543">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">t</span><span class="MJXp-mtext" id="MJXp-Span-547">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">i</span><span class="MJXp-msubsup" id="MJXp-Span-552"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-554" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">a</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562" style="margin-right: 0.05em;">L</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-563" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-564" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">p</span><span class="MJXp-mo" id="MJXp-Span-566" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-567">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">g</span><span class="MJXp-msubsup" id="MJXp-Span-572"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-574" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-575" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">n</span><span class="MJXp-mtext" id="MJXp-Span-577">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">t</span><span class="MJXp-mtext" id="MJXp-Span-582">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">g</span><span class="MJXp-msubsup" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-589" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">d</span><span class="MJXp-mtext" id="MJXp-Span-591">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">g</span><span class="MJXp-msubsup" id="MJXp-Span-596"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-598" style="vertical-align: -0.4em;">i</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> L_o (p, \ omega_o) = k_d \ frac {c} {\ pi} \ int \ limit _ {\ Omega} L_i (p, \ omega_i) n \ cdot \ omega_i d \ omega_i </script></p><br><br>  Jadi kita mendapatkan integral yang hanya bergantung pada <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-599"><span class="MJXp-msubsup" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-602" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> w_i </script>  (Diasumsikan itu <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-603"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> p </script>  sesuai dengan pusat peta kubik lingkungan).  Berdasarkan rumus ini, Anda dapat menghitung atau, bahkan lebih baik, melakukan pra-perhitungan peta kubik baru yang menyimpan hasil perhitungan integral komponen difus untuk setiap arah sampel (atau peta texel) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-605"><span class="MJXp-msubsup" id="MJXp-Span-606"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-608" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> w_o </script>  menggunakan operasi konvolusi. <br><br>  Konvolusi adalah operasi penerapan beberapa perhitungan untuk setiap elemen dalam set data, dengan mempertimbangkan data semua elemen lain dalam set.  Dalam hal ini, data tersebut adalah kecerahan energi dari pemandangan atau peta lingkungan.  Jadi, untuk menghitung satu nilai di setiap arah sampel di peta kubik, kita harus memperhitungkan nilai yang diambil dari semua arah sampel yang mungkin di belahan bumi yang terletak di sekitar titik sampel. <br><br>  Untuk menggabungkan peta lingkungan, Anda harus menyelesaikan integral untuk setiap arah yang dihasilkan dari sampel <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-609"><span class="MJXp-msubsup" id="MJXp-Span-610"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-612" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> w_o </script>  dengan melakukan beberapa sampel terpisah di sepanjang arah <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-613"><span class="MJXp-msubsup" id="MJXp-Span-614"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-616" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> w_i </script>  milik belahan bumi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-617"><span class="MJXp-mtext" id="MJXp-Span-618">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ Omega </script>  , dan rata-rata kecerahan energi total.  Belahan, atas dasar pengambilan sampel arah <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-624"><span class="MJXp-msubsup" id="MJXp-Span-625"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-627" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> w_i </script>  berorientasi sepanjang vektor <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-628"><span class="MJXp-msubsup" id="MJXp-Span-629"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-631" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> w_o </script>  mewakili arah tujuan yang konvolusi saat ini sedang dihitung.  Lihatlah gambar untuk pemahaman yang lebih baik: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pr/yl/ql/prylqltlmqjlvfhpaswbes8bmg8.png"></div><br><br>  Peta kubik yang sudah dihitung sebelumnya yang menyimpan hasil integrasi untuk setiap arah sampel <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-632"><span class="MJXp-msubsup" id="MJXp-Span-633"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-635" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> w_o </script>  juga dapat dianggap sebagai menyimpan hasil penjumlahan semua iluminasi difus tidak langsung dalam adegan, insiden pada permukaan tertentu yang berorientasi sepanjang arah <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-636"><span class="MJXp-msubsup" id="MJXp-Span-637"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-639" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> w_o </script>  .  Dengan kata lain, peta kubik seperti itu disebut peta irradiansi, karena peta lingkungan kubik pra-konvolusional memungkinkan Anda untuk langsung mencicipi besarnya iradiasi pemandangan, yang datang dari arah yang sewenang-wenang. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-640"><span class="MJXp-msubsup" id="MJXp-Span-641"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-643" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> w_o </script>  , tanpa perhitungan tambahan. <br><blockquote>  Ekspresi yang menentukan kecerahan energi juga tergantung pada posisi titik pengambilan sampel <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-644"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> p </script>  yang kami ambil tergeletak tepat di tengah peta iradiasi.  Asumsi ini membebankan batasan dalam arti bahwa sumber dari semua pencahayaan difus tidak langsung juga akan menjadi peta lingkungan tunggal.  Dalam adegan yang heterogen dalam pencahayaan, ini dapat menghancurkan ilusi realitas (terutama dalam adegan dalam ruangan).  Mesin rendering modern memecahkan masalah ini dengan menempatkan objek bantu khusus di tempat - <i>probe refleksi</i> .  Setiap objek tersebut terlibat dalam satu tugas: ia membentuk peta iradiasinya sendiri untuk lingkungan terdekatnya.  Dengan teknik ini, iradiasi (dan kecerahan energi) pada titik arbitrer <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">p</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> p </script>  akan ditentukan oleh interpolasi sederhana antara sampel refleksi terdekat.  Tetapi untuk tugas saat ini, kami setuju bahwa peta lingkungan diambil dari pusatnya, dan kami akan menganalisis sampel refleksi dalam pelajaran selanjutnya. </blockquote>  Di bawah ini adalah contoh peta kubik lingkungan dan peta iradiasi (berdasarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mesin gelombang</a> ) yang berasal darinya, yang rata-rata kecerahan energi lingkungan untuk setiap arah keluaran <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-648"><span class="MJXp-msubsup" id="MJXp-Span-649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-651" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> w_o </script>  . <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8c/qz/yg/8cqzygcmwfdkdcadui_iqrtj4rw.png"></div><br>  Jadi, kartu ini menyimpan hasil konvolusi pada setiap texel (sesuai dengan arahnya <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-652"><span class="MJXp-msubsup" id="MJXp-Span-653"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-655" style="vertical-align: -0.4em;">o</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> w_o </script>  ), dan secara lahiriah peta seperti itu tampak seperti menyimpan warna rata-rata peta lingkungan.  Sampel ke segala arah dari peta tersebut akan mengembalikan nilai iradiasi yang berasal dari arah ini. <br><br><h2>  PBR dan HDR </h2><br>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran sebelumnya</a> , telah disebutkan secara singkat bahwa untuk operasi yang benar dari model pencahayaan PBR, sangat penting untuk mempertimbangkan kisaran kecerahan HDR dari sumber cahaya yang ada.  Karena model PBR pada input menerima parameter dengan satu atau lain cara berdasarkan kuantitas dan karakteristik fisik yang sangat spesifik, masuk akal untuk mengharuskan kecerahan energi dari sumber cahaya sesuai dengan prototip aslinya.  Tidak masalah bagaimana kami menjustifikasi nilai spesifik dari fluks radiasi untuk setiap sumber: kami membuat perkiraan rekayasa kasar atau beralih ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kuantitas fisik</a> - perbedaan karakteristik antara lampu ruang dan matahari akan sangat besar dalam hal apa pun.  Tanpa menggunakan rentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HDR</a> , tidak mungkin untuk secara akurat menentukan kecerahan relatif dari berbagai sumber cahaya. <br><br>  Jadi, PBR dan HDR adalah teman selamanya, ini bisa dimengerti, tetapi bagaimana fakta ini berhubungan dengan metode pencahayaan berbasis gambar?  Dalam pelajaran terakhir, ditunjukkan bahwa mengubah PBR ke kisaran rendering HDR mudah.  Masih ada satu "tetapi": karena penerangan tidak langsung dari lingkungan didasarkan pada peta kubik lingkungan, diperlukan cara untuk melestarikan karakteristik HDR dari pencahayaan latar belakang ini di peta lingkungan. <br><br>  Sampai sekarang, kami telah menggunakan peta lingkungan yang dibuat dalam format LDR (seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skybox</a> ).  Kami menggunakan sampel warna dari mereka dalam rendering apa adanya dan ini cukup dapat diterima untuk bayangan langsung objek.  Dan sama sekali tidak cocok ketika menggunakan peta lingkungan sebagai sumber pengukuran yang dapat diandalkan secara fisik. <br><br><h4>  RGBE - format gambar HDR </h4><br>  Kenali format file gambar RGBE.  File dengan ekstensi " <i>.hdr</i> " digunakan untuk menyimpan gambar dengan rentang dinamis yang luas, mengalokasikan satu byte untuk setiap elemen triad warna dan satu byte lagi untuk eksponen umum.  Format ini juga memungkinkan Anda untuk menyimpan peta lingkungan kubik dengan rentang intensitas warna di luar kisaran LDR [0., 1.].  Ini berarti bahwa sumber cahaya dapat mempertahankan intensitas mereka yang sebenarnya, diwakili oleh peta lingkungan seperti itu. <br><br>  Jaringan ini memiliki cukup banyak peta lingkungan gratis dalam format RGBE, diambil dalam berbagai kondisi nyata.  Ini adalah contoh dari situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">arsip sIBL</a> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fa/ua/aq/fauaaqkw63r9dnghjofu83o-h2i.png"></div><br>  Anda mungkin akan terkejut dengan apa yang Anda lihat: setelah semua, gambar yang terdistorsi ini sama sekali tidak terlihat seperti peta kubik biasa dengan rincian yang diuraikan menjadi 6 wajah.  Penjelasannya sederhana: peta lingkungan ini diproyeksikan dari bola ke pesawat - <i>pemindaian sama persegi panjang</i> diterapkan.  Ini dilakukan untuk dapat menyimpan dalam format yang tidak mendukung mode penyimpanan kartu kubik apa adanya.  Tentu saja, metode proyeksi ini memiliki kekurangan: resolusi horizontal jauh lebih tinggi daripada vertikal.  Dalam kebanyakan kasus aplikasi dalam rendering, ini adalah rasio yang dapat diterima, karena biasanya detail menarik dari lingkungan dan pencahayaan terletak persis di bidang horizontal, dan bukan di bidang vertikal.  Nah, plus untuk semuanya, kita perlu kode konversi kembali ke peta kubik. <br><br><h4>  Mendukung format RGBE di stb_image.h </h4><br>  Mengunduh format gambar ini sendiri membutuhkan pengetahuan tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">spesifikasi format</a> , yang tidak sulit, tetapi masih melelahkan.  Untungnya bagi <a href="">kami</a> , perpustakaan pemuatan gambar <a href="">stb_image.h</a> , diimplementasikan dalam satu file header, mendukung memuat file RGBE, mengembalikan array angka floating-point - apa yang kita butuhkan untuk keperluan kita!  Menambahkan perpustakaan ke proyek Anda, memuat data gambar sangat sederhana: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"stb_image.h"</span></span></span><span class="hljs-meta"> [...] stbi_set_flip_vertically_on_load(true); int width, height, nrComponents; float *data = stbi_loadf(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"newport_loft.hdr"</span></span></span><span class="hljs-meta">, &amp;width, &amp;height, &amp;nrComponents, 0); unsigned int hdrTexture; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (data) { glGenTextures(1, &amp;hdrTexture); glBindTexture(GL_TEXTURE_2D, hdrTexture); glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB16F, width, height, 0, GL_RGB, GL_FLOAT, data); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR); stbi_image_free(data); } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> { std::cout &lt;&lt; </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Failed to load HDR image."</span></span></span><span class="hljs-meta"> &lt;&lt; std::endl; }</span></span></code> </pre> <br>  Perpustakaan secara otomatis mengonversi nilai dari format HDR internal ke angka 32-bit real biasa, dengan tiga saluran warna secara default.  Cukup untuk menyimpan data gambar HDR asli dalam tekstur titik-mengambang 2D normal. <br><br><h4>  Ubah pemindaian dengan sudut yang sama menjadi peta kubik </h4><br>  Pemindaian empat persegi panjang yang sama dapat digunakan untuk secara langsung memilih sampel dari peta lingkungan, namun, ini akan membutuhkan operasi matematika yang mahal, sementara mengambil dari peta kubik normal akan praktis bebas dalam kinerja.  Justru dari pertimbangan ini bahwa dalam pelajaran ini kita akan membahas konversi gambar persegi panjang yang sama menjadi peta kubik, yang akan digunakan nanti.  Namun, metode pengambilan sampel langsung dari peta sama-sama persegi panjang menggunakan vektor tiga dimensi juga akan ditampilkan di sini, sehingga Anda dapat memilih metode kerja yang cocok untuk Anda. <br><br>  Untuk mengkonversi, Anda perlu menggambar kubus berukuran unit, mengamatinya dari dalam, memproyeksikan peta sama persegi panjang di wajahnya, dan kemudian mengekstrak enam gambar dari wajah sebagai wajah peta kubik.  Vertex shader pada tahap ini cukup sederhana: ia hanya memproses simpul dari kubus sebagaimana adanya, dan juga meneruskan posisi yang tidak direformasi ke shader fragmen untuk digunakan sebagai vektor sampel tiga dimensi: <br><br><pre> <code class="plaintext hljs">#version 330 core layout (location = 0) in vec3 aPos; out vec3 localPos; uniform mat4 projection; uniform mat4 view; void main() { localPos = aPos; gl_Position = projection * view * vec4(localPos, 1.0); }</code> </pre> <br>  Dalam shader fragmen, kami menaungi setiap wajah kubus seolah-olah kami mencoba membungkus kubus dengan lembut dengan lembaran dengan peta persegi panjang yang sama.  Untuk melakukan ini, arah sampel ditransfer ke shader fragmen diambil, diproses oleh sihir trigonometri khusus, dan, pada akhirnya, pemilihan dibuat dari peta sama-persegi panjang seolah-olah itu sebenarnya peta kubik.  Hasil seleksi langsung disimpan sebagai warna fragmen dari permukaan kubus: <br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform sampler2D equirectangularMap; const vec2 invAtan = vec2(0.1591, 0.3183); vec2 SampleSphericalMap(vec3 v) { vec2 uv = vec2(atan(vz, vx), asin(vy)); uv *= invAtan; uv += 0.5; return uv; } void main() { // localPos   vec2 uv = SampleSphericalMap(normalize(localPos)); vec3 color = texture(equirectangularMap, uv).rgb; FragColor = vec4(color, 1.0); }</code> </pre> <br>  Jika Anda benar-benar menggambar kubus dengan shader ini dan peta lingkungan HDR terkait, Anda mendapatkan sesuatu seperti ini: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wi/xl/u2/wixlu2m9jwpr9d6oakhw7_nqcqa.png"></div><br>  Yaitu  dapat dilihat bahwa sebenarnya kami memproyeksikan tekstur persegi panjang ke sebuah kubus.  Hebat, tapi bagaimana ini akan membantu kami dalam membuat peta kubik nyata?  Untuk mengakhiri tugas ini, perlu merender kubus yang sama 6 kali dengan kamera melihat masing-masing wajah, sambil menulis output ke objek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">frame buffer</a> terpisah: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> captureFBO, captureRBO; glGenFramebuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;captureFBO); glGenRenderbuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;captureRBO); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, <span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>); glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, captureRBO);</code> </pre> <br>  Tentu saja, kami tidak akan lupa untuk mengatur memori untuk menyimpan masing-masing dari enam wajah peta kubik masa depan: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> envCubemap; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;envCubemap); glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; ++i) { <span class="hljs-comment"><span class="hljs-comment">//  ,     // 16     glTexImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, GL_RGB16F, 512, 512, 0, GL_RGB, GL_FLOAT, nullptr); } glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</span></span></code> </pre><br>  Setelah persiapan ini, tetap hanya untuk secara langsung melakukan transfer bagian-bagian dari peta yang sama persegi panjang di ambang peta kubik. <br><br>  Kami tidak akan membahas terlalu banyak detail, terutama karena kode berulang banyak terlihat dalam pelajaran pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">frame buffer</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bayangan omnidirectional</a> .  Pada prinsipnya, semuanya bermuara pada persiapan enam matriks tampilan terpisah yang mengorientasikan kamera secara ketat ke masing-masing permukaan kubus, serta matriks proyeksi khusus dengan sudut pandang 90 ° untuk menangkap seluruh permukaan kubus.  Kemudian, hanya enam kali, rendering dilakukan, dan hasilnya disimpan dalam framebuffer floating-point: <br><br><pre> <code class="cpp hljs">glm::mat4 captureProjection = glm::perspective(glm::radians(<span class="hljs-number"><span class="hljs-number">90.0f</span></span>), <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.1f</span></span>, <span class="hljs-number"><span class="hljs-number">10.0f</span></span>); glm::mat4 captureViews[] = { glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)), glm::lookAt(glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>), glm::vec3( <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>), glm::vec3(<span class="hljs-number"><span class="hljs-number">0.0f</span></span>, <span class="hljs-number"><span class="hljs-number">-1.0f</span></span>, <span class="hljs-number"><span class="hljs-number">0.0f</span></span>)) }; <span class="hljs-comment"><span class="hljs-comment">//  HDR        equirectangularToCubemapShader.use(); equirectangularToCubemapShader.setInt("equirectangularMap", 0); equirectangularToCubemapShader.setMat4("projection", captureProjection); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_2D, hdrTexture); //         glViewport(0, 0, 512, 512); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); for (unsigned int i = 0; i &lt; 6; ++i) { equirectangularToCubemapShader.setMat4("view", captureViews[i]); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, envCubemap, 0); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); renderCube(); //    } glBindFramebuffer(GL_FRAMEBUFFER, 0);</span></span></code> </pre><br>  Di sini kita menggunakan lampiran warna buffer bingkai, dan secara bergantian mengubah wajah yang terhubung dari peta kubik, yang mengarah ke output langsung dari render ke salah satu wajah dari peta lingkungan.  Kode ini perlu dieksekusi hanya sekali, setelah itu kita <i>masih</i> akan <i>memiliki</i> peta lingkungan <i>envCubemap yang</i> lengkap yang berisi hasil konversi versi asli sama dengan persegi panjang dari peta lingkungan HDR. <br><br>  Kami akan menguji peta kubik yang dihasilkan dengan membuat sketsa shader skybox paling sederhana: <br><br><pre> <code class="plaintext hljs">#version 330 core layout (location = 0) in vec3 aPos; uniform mat4 projection; uniform mat4 view; out vec3 localPos; void main() { localPos = aPos; //         mat4 rotView = mat4(mat3(view)); vec4 clipPos = projection * rotView * vec4(localPos, 1.0); gl_Position = clipPos.xyww; }</code> </pre><br>  Perhatikan trik dengan komponen-komponen vektor <i>clipPos</i> : kita menggunakan <i>xyww</i> tetrad ketika merekam koordinat vertex yang diubah untuk memastikan bahwa semua fragmen skybox memiliki kedalaman maksimum 1,0 (pendekatan itu sudah digunakan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran yang sesuai</a> ).  Jangan lupa untuk mengubah fungsi perbandingan ke <i>GL_LEQUAL</i> : <br><br><pre> <code class="cpp hljs">glDepthFunc(GL_LEQUAL);</code> </pre> <br>  Shader fragmen hanya memilih dari peta kubik: <br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform samplerCube environmentMap; void main() { vec3 envColor = texture(environmentMap, localPos).rgb; envColor = envColor / (envColor + vec3(1.0)); envColor = pow(envColor, vec3(1.0/2.2)); FragColor = vec4(envColor, 1.0); }</code> </pre> <br>  Pemilihan dari peta didasarkan pada koordinat lokal yang diinterpolasikan dari simpul-simpul kubus, yang merupakan arah yang benar dari pemilihan dalam kasus ini (sekali lagi, dibahas dalam pelajaran tentang skybox, <i>sekitar Per.</i> ).  Karena komponen transportasi dalam matriks tampilan diabaikan, render skybox tidak akan bergantung pada posisi pengamat, menciptakan ilusi latar belakang yang sangat jauh.  Karena di sini kita langsung mengeluarkan data dari kartu HDR ke framebuffer default, yang merupakan penerima LDR, perlu untuk memanggil kembali kompresi nada.  Dan akhirnya, hampir semua kartu HDR disimpan dalam ruang linier, yang berarti bahwa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">koreksi gamma</a> harus diterapkan sebagai chord pemrosesan akhir. <br><br>  Jadi, ketika mengeluarkan skybox yang diperoleh, bersama dengan array bola yang sudah akrab, sesuatu yang serupa diperoleh: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s8/-3/vx/s8-3vxu5dhzhrwm1adtb5uwffga.png"></div><br>  Yah, banyak upaya yang dihabiskan, tetapi pada akhirnya kami berhasil membiasakan membaca peta lingkungan HDR, mengubahnya dari sama sisi menjadi peta kubik, dan mengeluarkan peta kubik HDR sebagai skybox di tempat kejadian.  Selain itu, kode untuk mengkonversi ke peta kubik dengan merender ke enam wajah peta kubik berguna bagi kita lebih lanjut dalam tugas <i>konvolusi peta lingkungan</i> .  Kode untuk seluruh proses konversi ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br><h2>  Konvolusi kartu kubik </h2><br>  Seperti yang dikatakan di awal pelajaran, tujuan utama kami adalah untuk menyelesaikan integral untuk semua arah yang mungkin dari pencahayaan difus tidak langsung, dengan mempertimbangkan iradiasi yang diberikan dari pemandangan itu dalam bentuk peta kubik lingkungan.  Diketahui bahwa kita bisa mendapatkan nilai kecerahan energi dari pemandangan <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-656"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657">L</span><span class="MJXp-mo" id="MJXp-Span-658" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">p</span><span class="MJXp-mo" id="MJXp-Span-660" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-661"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-663" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-664" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> L (p, w_i) </script>  untuk arah yang sewenang-wenang <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-665"><span class="MJXp-msubsup" id="MJXp-Span-666"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-668" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> w_i </script>  dengan mengambil sampel dari HDR, sebuah peta kubik lingkungan ke arah itu.  Untuk memecahkan integral, perlu untuk sampel kecerahan energi adegan dari semua arah yang mungkin di belahan bumi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-669"><span class="MJXp-mtext" id="MJXp-Span-670">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-671">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \ Omega </script>  masing-masing fragmen yang ditinjau. <br>  Jelas, tugas pengambilan sampel pencahayaan dari lingkungan dari semua kemungkinan arah di belahan bumi <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-676"><span class="MJXp-mtext" id="MJXp-Span-677">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ Omega </script>  tidak praktis secara komputasi - ada banyak arah seperti itu.  Namun, dimungkinkan untuk menerapkan perkiraan dengan mengambil sejumlah arah terbatas yang dipilih secara acak atau terletak secara seragam di dalam belahan bumi.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini akan memungkinkan kami untuk mendapatkan perkiraan yang cukup baik untuk iradiasi sejati, yang pada dasarnya menyelesaikan integral yang menarik bagi kami dalam bentuk jumlah yang terbatas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi untuk tugas waktu nyata, bahkan pendekatan seperti itu masih sangat dipaksakan, karena sampel diambil untuk setiap fragmen, dan jumlah sampel harus cukup tinggi untuk hasil yang dapat diterima. </font><font style="vertical-align: inherit;">Dengan demikian, akan lebih baik untuk </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mempersiapkan terlebih dahulu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data untuk langkah ini, di luar proses rendering. </font><font style="vertical-align: inherit;">Karena orientasi belahan bumi menentukan dari wilayah mana kita menangkap iradiasi, maka dimungkinkan untuk menghitung terlebih dahulu iradiasi untuk setiap kemungkinan orientasi belahan bumi berdasarkan semua kemungkinan arah keluar</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-683"><span class="MJXp-msubsup" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-686" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35">w_o</script>  : <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-687"><span class="MJXp-msubsup" id="MJXp-Span-688"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-690" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-693" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-694"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-696" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-697" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-699"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-701" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-702" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-705"><span class=""><span class="MJXp-mo" id="MJXp-Span-706" style="margin-left: 0em; margin-right: 0.111em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-707" style="margin-left: 0px;"><span class="MJXp-mi" id="MJXp-Span-708"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-709"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-711" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-712" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-714" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-717" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-718" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></span><span class="MJXp-mo" id="MJXp-Span-720" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⋅</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-721"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-723" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-725"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ω</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-727" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36">L_o(p,\omega_o) = k_d\frac{c}{\pi} \int\limits_{\Omega} L_i(p,\omega_i) n \cdot \omega_i d\omega_i</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Akibatnya, untuk vektor yang diberikan sewenang-wenang </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-728"><span class="MJXp-msubsup" id="MJXp-Span-729"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-731" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kita dapat sampel dari peta iradiasi yang dihitung untuk mendapatkan iradiasi difus dalam arah ini. </font><font style="vertical-align: inherit;">Untuk menentukan besarnya radiasi difus tidak langsung pada titik fragmen saat ini, kami mengambil total iradiasi dari orientasi belahan bumi sepanjang normal ke permukaan fragmen. </font><font style="vertical-align: inherit;">Dengan kata lain, mendapatkan iradiasi dari sebuah adegan datang ke seleksi sederhana:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37">w_i</script><font style="vertical-align: inherit;"></font><br><br><pre> <code class="plaintext hljs"> vec3 irradiance = texture(irradianceMap, N);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selanjutnya, untuk membuat peta iradiasi, perlu untuk melilitkan peta lingkungan, dikonversi menjadi peta kubik. </font><font style="vertical-align: inherit;">Kita tahu bahwa untuk setiap fragmen belahannya dianggap berorientasi sepanjang normal ke permukaan</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-732"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> N </script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dalam hal ini, lilitan peta kubik dikurangi untuk menghitung jumlah rata-rata kecerahan energi dari semua arah </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-734"><span class="MJXp-msubsup" id="MJXp-Span-735"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-737" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam belahan bumi</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39">w_i</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-738"><span class="MJXp-mi" id="MJXp-Span-739"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berorientasi sepanjang normal</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40">\Omega</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-740"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> N </script>  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yc/ip/a2/ycipa25cnkcvhxdqcvrfbqqozvg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untungnya, pekerjaan awal yang memakan waktu yang kami lakukan di awal pelajaran sekarang akan membuatnya cukup mudah untuk mengubah peta lingkungan menjadi peta kubik dalam shader fragmen khusus, output yang akan digunakan untuk membentuk peta kubik baru. </font><font style="vertical-align: inherit;">Untuk ini, bagian kode yang digunakan untuk menerjemahkan peta lingkungan yang sama-persegi panjang menjadi peta kubik berguna. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetap hanya untuk mengambil shader pemrosesan lain:</font></font><br><br><pre> <code class="plaintext hljs">#version 330 core out vec4 FragColor; in vec3 localPos; uniform samplerCube environmentMap; const float PI = 3.14159265359; void main() { //       vec3 normal = normalize(localPos); vec3 irradiance = vec3(0.0); [...] //   FragColor = vec4(irradiance, 1.0); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di sini, sampler </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">environmentMap</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah peta lingkungan HDR kubik yang sebelumnya berasal dari yang sama sisi. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ada banyak cara untuk berbelit-belit peta lingkungan.Dalam kasus ini, untuk setiap texel dari peta kubik, kita akan menghasilkan beberapa vektor sampel belahan bumi</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-742"><span class="MJXp-mi" id="MJXp-Span-743"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , berorientasi sepanjang arah sampel, dan rata-rata hasilnya. </font><font style="vertical-align: inherit;">Jumlah vektor sampel akan diperbaiki, dan vektor itu sendiri akan didistribusikan secara merata di dalam belahan bumi. </font><font style="vertical-align: inherit;">Saya perhatikan bahwa integand adalah fungsi kontinu, dan perkiraan diskrit dari fungsi ini hanya akan menjadi perkiraan. </font><font style="vertical-align: inherit;">Dan semakin banyak vektor pengambilan sampel yang kita ambil, semakin dekat dengan solusi analitis integral kita. </font><font style="vertical-align: inherit;">Integrand ekspresi untuk reflektifitas tergantung pada sudut yang solid</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42">\Omega</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-744"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nilai yang dengannya sangat tidak nyaman untuk bekerja. </font><font style="vertical-align: inherit;">Alih-alih mengintegrasikan lebih dari sudut yang solid</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43">dw</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-747"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari w</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami mengubah ekspresi, yang mengarah ke integrasi dalam koordinat bola</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44">dw</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-750"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45">\theta</script>  dan <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-752"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46">\phi</script>  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vx/8c/_r/vx8c_rphv4hhjo4xwhbduqhoslu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sudut Phi akan mewakili azimuth di bidang dasar belahan bumi, bervariasi dari 0 hingga </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-754"><span class="MJXp-mn" id="MJXp-Span-755"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47">2\pi</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sudut </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-757"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan mewakili sudut elevasi, bervariasi dari 0 hingga</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48">\theta</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-759"><span class="MJXp-mfrac" id="MJXp-Span-760" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-761"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-762"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-763"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49">\frac{1}{2}\pi</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ekspresi yang dimodifikasi untuk reflektivitas dalam istilah-istilah tersebut adalah sebagai berikut: </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-764"><span class="MJXp-msubsup" id="MJXp-Span-765"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-767" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-768" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-770" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-772" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-773" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-774" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-775"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-777" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-778" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-779" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-782" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-783" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-785"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-786"><span class="MJXp-mo" id="MJXp-Span-787" style="margin-left: 0em; margin-right: 0.05em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span><span class="MJXp-script-box" style="height: 2.1em; vertical-align: -0.7em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-792"><span class="MJXp-mn" id="MJXp-Span-793"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-788"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mo" id="MJXp-Span-790"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mn" id="MJXp-Span-791"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-795"><span class="MJXp-mo" id="MJXp-Span-796" style="margin-left: 0em; margin-right: 0.05em;"><span class="MJXp-largeop MJXp-int"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ∫</font></font></span></span><span class="MJXp-script-box" style="height: 2.66em; vertical-align: -0.7em;"><span class=" MJXp-script"><span><span style="margin-bottom: -1.05em;"><span class="MJXp-mrow" id="MJXp-Span-801"><span class="MJXp-mfrac" id="MJXp-Span-802" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-803"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-804"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> π</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -1.55em;"><span class="MJXp-mrow" id="MJXp-Span-797"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mo" id="MJXp-Span-799"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-800"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-806"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-808" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-812"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-814" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-815" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-816"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-818" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-819" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi" id="MJXp-Span-820"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-824" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi" id="MJXp-Span-825"><font style="vertical-align: inherit;">sin</font></span><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-829" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831"><font style="vertical-align: inherit;">ϕ</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833"><font style="vertical-align: inherit;">θ</font></span></font><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-822" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-824" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi" id="MJXp-Span-825"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-826" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-829" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-50">L_o(p,\phi_o, \theta_o) = k_d\frac{c}{\pi} \int_{\phi = 0}^{2\pi} \int_{\theta = 0}^{\frac{1}{2}\pi} L_i(p,\phi_i, \theta_i) \cos(\theta) \sin(\theta) d\phi d\theta</script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Solusi integral seperti itu akan membutuhkan pengambilan sampel dalam jumlah terbatas di belahan bumi </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-834"><span class="MJXp-mi" id="MJXp-Span-835"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ω</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan rata-rata hasilnya. </font><font style="vertical-align: inherit;">Mengetahui jumlah sampel</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51">\Omega</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-836"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-838"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52">n1</script>  dan <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-839"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-841"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk masing-masing koordinat bola, kita dapat menerjemahkan integral ke</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">jumlah Riemannian</font></a><font style="vertical-align: inherit;">:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53">n2</script><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-842"><span class="MJXp-msubsup" id="MJXp-Span-843"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-845" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-846" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mo" id="MJXp-Span-848" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-849"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-851" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-852" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-853"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-855" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-856" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-857" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-858"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-860" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span></span><span class="MJXp-mfrac" id="MJXp-Span-861" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">π</font></font></span></span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-864" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-865"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-867"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-869"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-870"><span><span class="MJXp-over"><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-876" style="margin-right: 0px; margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-877"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mn" id="MJXp-Span-878"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-871" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∑</font></font></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-872" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ϕ</font></font></span><span class="MJXp-mo" id="MJXp-Span-874"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-875"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MJXp-munderover" id="MJXp-Span-879"><span><span class="MJXp-over"><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-885" style="margin-right: 0px; margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n </font></font></span><span class="MJXp-mn" id="MJXp-Span-887"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></span></span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-880" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∑</font></font></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-881" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> θ</font></font></span><span class="MJXp-mo" id="MJXp-Span-883"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><span class="MJXp-mn" id="MJXp-Span-884"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-888"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-890" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-891" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span><span class="MJXp-mo" id="MJXp-Span-893" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-894"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ϕ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-896" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-897" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-898"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-900" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-901" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi" id="MJXp-Span-902"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos</font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-906" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi" id="MJXp-Span-907"><font style="vertical-align: inherit;">sin</font></span><span class="MJXp-mo" id="MJXp-Span-909" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">(</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910"><font style="vertical-align: inherit;">θ</font></span><span class="MJXp-mo" id="MJXp-Span-911" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;">)</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913"><font style="vertical-align: inherit;">ϕ</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914"><font style="vertical-align: inherit;">d</font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915"><font style="vertical-align: inherit;">θ</font></span></font><span class="MJXp-mo" id="MJXp-Span-903" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-906" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi" id="MJXp-Span-907"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-908" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-909" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo" id="MJXp-Span-911" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915"><font style="vertical-align: inherit;"></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54">L_o(p,\phi_o, \theta_o) = k_d\frac{c}{\pi} \frac{1}{n1 n2} \sum_{\phi = 0}^{n1} \sum_{\theta = 0}^{n2} L_i(p,\phi_i, \theta_i) \cos(\theta) \sin(\theta) d\phi d\theta</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karena kedua koordinat bola berubah secara terpisah, maka pada setiap saat, pengambilan sampel dilakukan dengan area rata-rata tertentu di belahan bumi, seperti yang dapat dilihat pada gambar di atas. </font><font style="vertical-align: inherit;">Karena sifat permukaan bola, ukuran area pengambilan sampel diskrit pasti berkurang dengan meningkatnya sudut elevasi</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-916"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan mendekati puncaknya. </font><font style="vertical-align: inherit;">Untuk mengimbangi efek pengurangan area ini, kami menambahkan koefisien bobot pada ekspresi</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55">\theta</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-918"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-919"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-920"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">θ</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56">sin\theta</script>  . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Akibatnya, penerapan pengambilan sampel diskrit di belahan bumi berdasarkan koordinat bola untuk setiap fragmen dalam bentuk kode adalah sebagai berikut: </font></font><br><br><pre> <code class="plaintext hljs">vec3 irradiance = vec3(0.0); vec3 up = vec3(0.0, 1.0, 0.0); vec3 right = cross(up, normal); up = cross(normal, right); float sampleDelta = 0.025; float nrSamples = 0.0; for(float phi = 0.0; phi &lt; 2.0 * PI; phi += sampleDelta) { for(float theta = 0.0; theta &lt; 0.5 * PI; theta += sampleDelta) { //   .   (  -) vec3 tangentSample = vec3(sin(theta) * cos(phi), sin(theta) * sin(phi), cos(theta)); //      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * N; irradiance += texture(environmentMap, sampleVec).rgb * cos(theta) * sin(theta); nrSamples++; } } irradiance = PI * irradiance * (1.0 / float(nrSamples));</code> </pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SampleDelta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> variabel </font><font style="vertical-align: inherit;">menentukan ukuran langkah diskrit di sepanjang permukaan belahan bumi. Dengan mengubah nilai ini, Anda dapat menambah atau mengurangi keakuratan hasil. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di dalam kedua siklus, vektor sampel 3 dimensi biasa dibentuk dari koordinat bola, dipindahkan dari garis singgung ke ruang dunia, dan kemudian digunakan untuk sampel peta lingkungan kubik dari HDR. Hasil sampel diakumulasikan dalam variabel </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irradiansi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang pada akhir pemrosesan akan dibagi dengan jumlah sampel yang dibuat untuk mendapatkan nilai rata-rata iradiasi. Perhatikan bahwa hasil pengambilan sampel dari tekstur dimodulasi oleh dua kuantitas: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cos (theta)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - untuk memperhitungkan redaman cahaya pada sudut besar, dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin (theta)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- untuk mengkompensasi pengurangan area sampel saat mendekati zenith. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetap hanya berurusan dengan kode yang merender dan menangkap hasil konvolusi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lingkungan </font><i><font style="vertical-align: inherit;">envCubemap</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pertama, buat peta kubik untuk menyimpan iradiasi (Anda harus melakukannya sekali, sebelum memasuki siklus render utama):</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> irradianceMap; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;irradianceMap); glBindTexture(GL_TEXTURE_CUBE_MAP, irradianceMap); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">6</span></span>; ++i) { glTexImage2D(GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB16F, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>); } glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_WRAP_R, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MIN_FILTER, GL_LINEAR); glTexParameteri(GL_TEXTURE_CUBE_MAP, GL_TEXTURE_MAG_FILTER, GL_LINEAR);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karena peta iradiasi diperoleh dengan rata-rata sampel yang terdistribusi secara merata dari kecerahan energi dari peta lingkungan, secara praktis tidak mengandung bagian dan elemen frekuensi tinggi - tekstur resolusi yang cukup kecil (32x32 di sini) dan penyaringan linier yang diaktifkan akan cukup untuk menyimpannya. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selanjutnya, atur framebuffer pengambilan ke resolusi ini:</font></font><br><br><pre> <code class="cpp hljs">glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); glBindRenderbuffer(GL_RENDERBUFFER, captureRBO); glRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT24, <span class="hljs-number"><span class="hljs-number">32</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>);</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kode untuk menangkap hasil konvolusi mirip dengan kode untuk mentransfer peta lingkungan dari yang sama sisi ke yang kubik, hanya shader konvolusi yang digunakan: </font></font><br><br><pre> <code class="cpp hljs">irradianceShader.use(); irradianceShader.setInt(<span class="hljs-string"><span class="hljs-string">"environmentMap"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); irradianceShader.setMat4(<span class="hljs-string"><span class="hljs-string">"projection"</span></span>, captureProjection); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_CUBE_MAP, envCubemap); <span class="hljs-comment"><span class="hljs-comment">//        glViewport(0, 0, 32, 32); glBindFramebuffer(GL_FRAMEBUFFER, captureFBO); for (unsigned int i = 0; i &lt; 6; ++i) { irradianceShader.setMat4("view", captureViews[i]); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_CUBE_MAP_POSITIVE_X + i, irradianceMap, 0); glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); renderCube(); } glBindFramebuffer(GL_FRAMEBUFFER, 0);</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah menyelesaikan tahap ini, kami akan memiliki peta iradiasi yang sudah dihitung sebelumnya di tangan kami yang dapat langsung digunakan untuk menghitung iluminasi difus tidak langsung. </font><font style="vertical-align: inherit;">Untuk memeriksa bagaimana konvolusi berjalan, kami akan mencoba mengganti tekstur skybox dari peta lingkungan dengan peta iradiasi:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mt/gc/cs/mtgccsxl0h80cdo1gg8wgl3tp9m.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jika, sebagai hasilnya, Anda melihat sesuatu yang tampak seperti peta lingkungan yang sangat buram, maka, kemungkinan besar, konvolusi berhasil. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PBR dan iluminasi tidak langsung </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peta iradiasi yang dihasilkan digunakan pada bagian difus dari ekspresi reflektifitas yang terbagi dan mewakili akumulasi kontribusi dari semua arah yang mungkin dari iluminasi tidak langsung. </font><font style="vertical-align: inherit;">Karena dalam hal ini cahaya tidak berasal dari sumber tertentu, tetapi dari lingkungan secara keseluruhan, kami menganggap pencahayaan tidak langsung difus dan cermin sebagai latar belakang ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ambient</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), menggantikan nilai konstan yang sebelumnya digunakan. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk memulai, jangan lupa untuk menambahkan sampler baru dengan peta iradiasi:</font></font><br><br><pre> <code class="plaintext hljs">uniform samplerCube irradianceMap;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memiliki peta iradiasi yang menyimpan semua informasi tentang radiasi difusi tidak langsung dari pemandangan dan normal ke permukaan, memperoleh data tentang iradiasi fragmen tertentu semudah membuat satu sampel dari tekstur: </font></font><br><br><pre> <code class="plaintext hljs">// vec3 ambient = vec3(0.03); vec3 ambient = texture(irradianceMap, N).rgb;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namun, karena radiasi tidak langsung mengandung data untuk komponen difus dan cermin (seperti yang kita lihat dalam versi komponen dari ekspresi reflektifitas), kita perlu memodulasi komponen difus dengan cara khusus. </font><font style="vertical-align: inherit;">Seperti dalam pelajaran sebelumnya, kami menggunakan ekspresi Fresnel untuk menentukan tingkat pantulan cahaya untuk permukaan tertentu, di mana kami memperoleh tingkat refraksi cahaya atau koefisien difus:</font></font><br><br><pre> <code class="plaintext hljs">vec3 kS = fresnelSchlick(max(dot(N, V), 0.0), F0); vec3 kD = 1.0 - kS; vec3 irradiance = texture(irradianceMap, N).rgb; vec3 diffuse = irradiance * albedo; vec3 ambient = (kD * diffuse) * ao;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Karena pencahayaan latar belakang jatuh dari semua arah di belahan bumi berdasarkan yang normal ke permukaan </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-923"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tidak mungkin untuk menentukan satu-satunya median (</font><i><font style="vertical-align: inherit;">setengah jalan)</font></i></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> N </script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) vektor untuk menghitung koefisien Fresnel. Untuk mensimulasikan efek Fresnel dalam kondisi seperti itu, perlu untuk menghitung koefisien berdasarkan sudut antara normal dan vektor pengamatan. Namun, sebelumnya, sebagai parameter untuk menghitung koefisien Fresnel, kami menggunakan vektor median yang diperoleh atas dasar model microsurfaces dan tergantung pada kekasaran permukaan. Karena dalam kasus ini, kekasaran tidak termasuk dalam parameter perhitungan, tingkat pantulan cahaya oleh permukaan akan selalu ditaksir terlalu tinggi. Pencahayaan tidak langsung secara keseluruhan harus berperilaku sama dengan pencahayaan langsung, yaitu dari permukaan kasar kami mengharapkan tingkat pantulan yang lebih rendah di tepinya. Tapi karena kekasarannya tidak diperhitungkan,maka tingkat pantulan specular menurut Fresnel untuk penerangan tidak langsung terlihat tidak realistis pada permukaan non-logam yang kasar (pada gambar di bawah, efek yang dijelaskan berlebihan untuk kejelasan yang lebih besar):</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q2/oc/ly/q2oclypt9x6lcg5yyaqr4d8hu9i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat mengatasi gangguan ini dengan memperkenalkan kekasaran ke dalam ekspresi Fremlin-Schlick, sebuah proses yang dijelaskan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sébastien Lagarde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">vec3 fresnelSchlickRoughness(float cosTheta, vec3 F0, float roughness) { return F0 + (max(vec3(1.0 - roughness), F0) - F0) * pow(1.0 - cosTheta, 5.0); }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mengingat kekasaran permukaan saat menghitung set Fresnel, kode untuk menghitung komponen latar belakang mengambil bentuk berikut: </font></font><br><br><pre> <code class="plaintext hljs">vec3 kS = fresnelSchlickRoughness(max(dot(N, V), 0.0), F0, roughness); vec3 kD = 1.0 - kS; vec3 irradiance = texture(irradianceMap, N).rgb; vec3 diffuse = irradiance * albedo; vec3 ambient = (kD * diffuse) * ao;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ternyata, penggunaan pencahayaan berbasis gambar pada dasarnya bermuara pada satu sampel dari peta kubik. </font><font style="vertical-align: inherit;">Semua kesulitan terutama terkait dengan persiapan awal dan transfer peta lingkungan ke peta iradiasi. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengambil pemandangan yang akrab dari pelajaran tentang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sumber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cahaya </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">analitik yang</font></a><font style="vertical-align: inherit;"> mengandung berbagai bola dengan berbagai tingkat logam dan kekasaran, dan menambahkan pencahayaan latar belakang difus dari lingkungan, Anda mendapatkan sesuatu seperti ini:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vd/b1/y1/vdb1y1xddczspcyl-7exei76lxw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini masih terlihat aneh, karena bahan dengan tingkat logam yang tinggi masih </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memerlukan</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> refleksi agar benar-benar terlihat, hmm, logam (bagaimana pun juga, logam tidak memantulkan pencahayaan difus). </font><font style="vertical-align: inherit;">Dan dalam hal ini, satu-satunya refleksi diperoleh dari sumber cahaya analitik titik. </font><font style="vertical-align: inherit;">Namun, sekarang kita dapat mengatakan bahwa bola terlihat lebih terbenam di lingkungan (terutama terlihat ketika beralih peta lingkungan), karena permukaan sekarang merespons dengan benar pencahayaan latar belakang dari lingkungan pemandangan. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode sumber lengkap untuk pelajaran ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dalam pelajaran berikutnya, kita akhirnya akan membahas bagian kedua dari ekspresi reflektifitas, yang bertanggung jawab atas pencahayaan specular tidak langsung. </font><font style="vertical-align: inherit;">Setelah langkah ini, Anda akan benar-benar merasakan kekuatan pendekatan PBR dalam pencahayaan.</font></font><br><br><h2>  Bahan tambahan </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coding Labs: Render berbasis fisik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : pengantar model PBR bersama dengan penjelasan tentang bagaimana peta irradiance dibangun dan mengapa.</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Matematika Shading</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Tinjauan singkat oleh ScratchAPixel pada beberapa teknik matematika yang digunakan dalam pelajaran ini, khususnya tentang koordinat kutub dan integral.</font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Kami punya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telegram conf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk koordinasi transfer. </font><font style="vertical-align: inherit;">Jika Anda memiliki keinginan serius untuk membantu penerjemahan, maka Anda dipersilakan!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426987/">https://habr.com/ru/post/id426987/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426977/index.html">LibreOffice: mimpi buruk akuntan</a></li>
<li><a href="../id426979/index.html">Cara belajar bahasa Inggris secara gratis: 3 alat umum dan instruksi terperinci untuk masing-masingnya</a></li>
<li><a href="../id426981/index.html">10 trik untuk dasbor tingkat lanjut di Splunk. Bagian 1</a></li>
<li><a href="../id426983/index.html">Baru di SObjectizer-5.5.23: keinginan terpenuhi atau kotak Pandora?</a></li>
<li><a href="../id426985/index.html">kubebox dan cangkang konsol lainnya untuk Kubernetes</a></li>
<li><a href="../id426991/index.html">Startup Digest: 10 acara IT mendatang di Moskow</a></li>
<li><a href="../id426993/index.html">Apakah saya perlu belajar C untuk memahami cara kerja komputer?</a></li>
<li><a href="../id426995/index.html">Daur ulang membahayakan produk dan karyawan</a></li>
<li><a href="../id426997/index.html">Cara membuat bentuk khusus menggunakan MaterialShapeDrawable</a></li>
<li><a href="../id426999/index.html">Mengikuti tren, atau bergerak menuju RxJava dan LiveData</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>