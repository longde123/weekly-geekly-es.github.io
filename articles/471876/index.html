<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí± ü§æüèº üë®üèΩ‚Äçüéì PDU y All-All-All: distribuci√≥n de energ√≠a en rack üîç üèÆ üÜî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uno de los bastidores de virtualizaci√≥n interna. Confundido con la indicaci√≥n de color de los cables: naranja indica una entrada impar para la aliment...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PDU y All-All-All: distribuci√≥n de energ√≠a en rack</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/471876/"><img src="https://habrastorage.org/webt/eq/r1/yo/eqr1yo6q0xgzlqde_yrkplaj1hg.jpeg"><br>  <i>Uno de los bastidores de virtualizaci√≥n interna.</i>  <i>Confundido con la indicaci√≥n de color de los cables: naranja indica una entrada impar para la alimentaci√≥n, verde, incluso.</i> <br><br>  Aqu√≠ hablamos m√°s a menudo sobre el "krupnyak": enfriadores, grupos electr√≥genos diesel, cuadros de distribuci√≥n principales.  Hoy hablaremos de las "peque√±as cosas": enchufes en bastidores, tambi√©n son la Unidad de Distribuci√≥n de Energ√≠a (PDU).  En nuestros centros de datos hay m√°s de 4 mil racks obstruidos con equipos de TI, por lo que en la pr√°ctica vi muchas cosas: PDU cl√°sicas, "inteligentes" con monitoreo y control, bloques de z√≥calos comunes.  Hoy les dir√© qu√© PDU est√°n disponibles y qu√© es mejor elegir en una situaci√≥n espec√≠fica. <a name="habracut"></a><br><br><h3>  ¬øQu√© son las PDU? </h3><br>  <b>Un simple bloque de puntos de venta.</b>  S√≠, el que vive en cada hogar u oficina. <br>  Formalmente, esto no es exactamente una PDU en el sentido de uso industrial en bastidores con equipos de TI, pero estos dispositivos tambi√©n tienen sus ventiladores.  La √∫nica ventaja de esta soluci√≥n es su bajo costo (el costo comienza desde 2 mil rublos).  Tambi√©n pueden ayudarlo si usa racks abiertos, donde no puede empujar una PDU est√°ndar de ninguna manera, y no desea perder unidades para una PDU horizontal.  Esto es nuevamente a la cuesti√≥n del ahorro. <br><br>  Hay muchos m√°s inconvenientes: tales dispositivos no siempre tienen protecci√≥n interna contra cortocircuitos y sobrecargas, indicadores de monitoreo y a√∫n m√°s, no logran administrar los enchufes.  La mayor√≠a de las veces se colocar√°n en la parte inferior del estante.  Esta no es la posici√≥n m√°s conveniente para enchufes para desconectar equipos. <br><br>  En general, los "pilotos" se pueden usar si: <br><br><ul><li>  tienes miles de servidores y necesitas guardar </li><li>  puede permitirse el lujo de conectar equipos ciegamente sin comprender lo que sucede all√≠ con el consumo real </li><li>  Listo para el tiempo de inactividad del equipo. </li></ul><br>  No usamos esto, pero tenemos clientes que lo practican con bastante √©xito.  Es cierto que construyen la infraestructura para sus servicios de tal manera que la falla de docenas de servidores no afecta el rendimiento de la aplicaci√≥n cliente. <br><br><img src="https://habrastorage.org/webt/c2/wb/2s/c2wb2se3kwviqykqus9qfqopfdi.jpeg"><br>  <i>Barato y alegre.</i> <br><br><img src="https://habrastorage.org/webt/l8/yh/xz/l8yhxzzq2chj5wjvbu0uufl6rdg.jpeg"><br>  <i>Colocaci√≥n vertical.</i> <br><br>  <b>PDU tontas.</b>  En realidad, esta es una PDU cl√°sica para usar en racks con equipos de TI, y esto ya es bueno.  Tienen el factor de forma apropiado para la colocaci√≥n en los lados del bastidor, por lo que es conveniente conectar el equipo a ellos.  Hay protecci√≥n interna.  Dichas PDU no tienen monitoreo, lo que significa que no sabremos qu√© equipo consume cu√°nto y qu√© est√° sucediendo dentro.  Casi no nos quedan tales PDU, y en general se est√°n retirando gradualmente del uso masivo. <br><br>  Dichas PDU cuestan desde 25 mil rublos. <br><br><img src="https://habrastorage.org/webt/gj/ok/xn/gjokxnk_xkfiyqkyee9wjzj2ygs.jpeg"><br><br>  <b>PDU inteligentes con monitoreo.</b>  Estos dispositivos tienen cerebro y pueden rastrear los par√°metros de consumo de energ√≠a.  Hay una pantalla donde se muestran los principales indicadores: voltaje, corriente y potencia.  Puede rastrearlos por grupos separados de puntos de venta: secciones o bancos.  Puede conectarse a dicha PDU de forma remota, configurar el env√≠o de datos al sistema de monitoreo.  Escriben registros mediante los cuales puede ver todo lo que le sucedi√≥, por ejemplo, cuando la PDU se apag√≥. <br><br>  Tambi√©n saben c√≥mo calcular el consumo (kW * h) para la contabilidad t√©cnica con el fin de comprender cu√°nto consume el bastidor en un determinado per√≠odo de tiempo. <br><br>  Estas son PDU est√°ndar que ofrecemos a nuestros clientes en alquiler, y la mayor√≠a de estas PDU se encuentran en nuestros centros de datos. <br><br>  Si compra, prep√°rese para pagar desde 75 mil rublos cada uno. <br><br><img src="https://habrastorage.org/webt/hm/2z/_r/hm2z_r5hlfaha5fcwcc8hm4jxnq.jpeg"><br><br><img src="https://habrastorage.org/webt/te/be/fm/tebefmn6gpd4neghnidr880se4c.jpeg"><br><br><img src="https://habrastorage.org/webt/-v/bx/j_/-vbxj_jf7hc00z00dhbj21sxwfm.jpeg"><br>  <i>Gr√°fico de nuestro monitoreo interno de PDU.</i> <br><br>  <b>PDU inteligentes con control.</b>  Estas habilidades se complementan con controles para las habilidades anteriores.  Las PDU m√°s frescas controlan y monitorean cada tomacorriente: puede encender / apagar, lo que sucede en situaciones en las que hay una tarea de reiniciar el servidor de forma remota en el momento de la alimentaci√≥n.  Este es el encanto y el peligro de tales PDU: un usuario com√∫n, por ignorancia, puede iniciar sesi√≥n en la interfaz web, presionar algo y reiniciar / apagar todo el sistema de una sola vez.  S√≠, el sistema advertir√° dos veces sobre las consecuencias, pero la pr√°ctica muestra que incluso las alarmas no siempre protegen contra las acciones precipitadas del usuario. <br><br>  El gran problema con las PDU inteligentes es el sobrecalentamiento y la falla del controlador y la pantalla.  Las PDU generalmente se montan en la parte posterior del bastidor donde se sopla aire caliente.  Hace calor all√≠, y los controladores no pueden soportarlo.  En este caso, la PDU no necesita cambiarse por completo, el controlador puede cambiarse a caliente. <br><br>  Bueno, a un costo bastante alto, de 120 mil rublos. <br><br><img src="https://habrastorage.org/webt/sc/ww/2i/scww2i2gmyjqwfs1saspc7hhg3i.jpeg"><br>  <i>Las PDU controladas se pueden identificar mediante las indicaciones debajo de cada salida.</i> <br><br>  En mi opini√≥n, la funci√≥n de gesti√≥n en la PDU es una cuesti√≥n de gustos, pero la supervisi√≥n es imprescindible.  De lo contrario, no ser√° posible rastrear el consumo y la carga.  Por qu√© esto es importante, lo contar√© un poco m√°s tarde. <br><br><h3>  ¬øC√≥mo calcular la potencia de PDU requerida? </h3><br>  A primera vista, todo es bastante simple aqu√≠: la potencia de la PDU se selecciona de acuerdo con la potencia del bastidor, pero hay matices.  Digamos que necesita un rack de 10 kW.  Los fabricantes de PDU ofrecen modelos de 3, 7, 11 y 22 kW.  Elija 11 kW y, desafortunadamente, se equivocar√°.  Tendremos que elegir 22 kW.  ¬øPor qu√© necesitamos un suministro tan grande?  Explicar√© todo ahora. <br><br>  En primer lugar, los fabricantes a menudo indican el poder de las PDU en kilovatios en lugar de kilovoltios-amperios, lo cual es m√°s correcto, pero no obvio para la persona promedio. <br>  A veces, los propios fabricantes agregan confusi√≥n adicional: <br><br>  Aqu√≠ primero dice unos 11 kW, <br><br><img src="https://habrastorage.org/webt/d5/d4/u9/d5d4u9lgwwimtjvkzb8r5v8p70i.png"><br><br>  Y en la descripci√≥n detallada estamos hablando de 11000 VA: <br><br><img src="https://habrastorage.org/webt/ly/zo/zi/lyzozicxuuealtfgc7im7gwo-fm.png"><br><br>  Si se trata de maniqu√≠es y consumidores similares, entonces no habr√° diferencia entre kW y kVA.  Un bastidor de 10 kW con calderas consumir√° 10 kVA.  Pero si tenemos equipos de TI, entonces el coeficiente (cos œÜ) aparece all√≠: cuanto m√°s nuevo es el equipo, m√°s cercano es este coeficiente a la unidad.  El costo hospitalario promedio para el equipo de TI es de 0.93 a 0.95.  Por lo tanto, un rack de 10 kW con TI consumir√° 10.7 kVA.  Aqu√≠ est√° la f√≥rmula por la cual recibimos 10.7 kVA. <br><br>  <i>Pfull = Pacto./ Cos (œÜ)</i> <i><br></i>  <i>10 / 0.93 = 10.7 kVA</i> <br><br>  Bien, usted hace una pregunta razonable, 10.7 es menor que 11. ¬øPor qu√© necesitamos un control remoto de 22 kW?  Hay un segundo punto: el nivel de consumo de energ√≠a del equipo variar√° seg√∫n la hora del d√≠a, el d√≠a de la semana.  Al distribuir la fuente de alimentaci√≥n, este momento debe tenerse en cuenta y ~ 10% debe reservarse para fluctuaciones y saltos, de modo que al momento de aumentar el consumo de PDU no entren en sobrecarga y no dejen equipos sin energ√≠a. <br><br><img src="https://habrastorage.org/webt/mx/je/jg/mxjejgs7lu3oi9zt2amthe0mxtu.jpeg"><br>  <i>El horario de consumo de un rack de 10 kW en 4 d√≠as.</i> <br><br>  Resulta que debemos agregar otro 10% a nuestros 10.7 kW, y como resultado, el control remoto para 11 kW ya no es adecuado para nosotros. <br><br><div class="scrollable-table"><table><tbody><tr><td>  Modelo de control remoto <br></td><td>  Fase <br></td><td>  Poder del fabricante, kVA <br></td><td>  Potencia DtLN, kW <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AP8858</a> <br></td><td>  1 f <br></td><td>  3,7 <br></td><td>  3 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AP8853</a> <br></td><td>  1 f <br></td><td>  7.4 <br></td><td>  6 6 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AP8881</a> <br></td><td>  3 f <br></td><td>  11 <br></td><td>  9 9 <br></td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AP8886</a> <br></td><td>  3 f <br></td><td>  22 <br></td><td>  18 a√±os <br></td></tr></tbody></table></div><br>  <i>Un fragmento de la tabla de potencia de modelos de PDU espec√≠ficos seg√∫n DataLine.</i>  <i>Teniendo en cuenta la conversi√≥n de kVA a kW y la reserva para carreras de caballos durante el d√≠a.</i> <br><br><h3>  Caracter√≠sticas de montaje </h3><br>  Es m√°s conveniente trabajar con la PDU cuando est√° montada verticalmente, a la izquierda y a la derecha del bastidor.  En este caso, no ocupa espacio utilizable.  Regularmente, se pueden instalar hasta cuatro PDU en el bastidor: dos a la izquierda y dos a la derecha.  Muy a menudo, ponen una PDU en cada lado.  Cada PDU recibe una entrada de energ√≠a. <br><br><img src="https://habrastorage.org/webt/15/xt/sx/15xtsx1ezymyuudgqccv4hmpchu.jpeg"><br>  <i>Los bastidores est√°ndar de "kit de carrocer√≠a": 2 PDU y 1 ATS.</i> <br><br>  Algunas veces en un rack no hay lugar para PDU verticales, por ejemplo, si es un rack abierto.  Luego, las PDU horizontales vienen al rescate.  Lo √∫nico es que, en este caso, deber√° aceptar la p√©rdida de 2 a 4 unidades en el bastidor, seg√∫n el modelo de PDU. <br><br><img src="https://habrastorage.org/webt/rl/zr/3q/rlzr3qasnvs2jz1rlcovcry8xym.jpeg"><br>  <i>Aqu√≠ la PDU comi√≥ 4 unidades.</i>  <i>Este tipo de PDU tambi√©n se usa cuando necesita distinguir entre dos clientes en el mismo rack.</i>  <i>En este caso, cada cliente tendr√° un par separado de PDU.</i> <br><br>  Sucede que el bastidor no est√° seleccionado lo suficientemente profundo y el servidor sobresale, bloqueando la PDU.  Lo m√°s triste aqu√≠ no es que parte de las salidas est√© inactiva, sino que si una PDU se rompe, tendr√° que enterrarla en el rack, o desconectar y extraer todo el equipo que interfiere. <br><br><img src="https://habrastorage.org/webt/1z/wh/_p/1zwh_putdsjdkgr5da4af3fgpfq.jpeg"><br>  <i>No lo hagas - 1.</i> <br><br><img src="https://habrastorage.org/webt/1t/fc/an/1tfcanom9tsxn-khlhyb3e8awxc.jpeg"><br>  <i>No hagas esto - 2.</i> <br><br><h3>  Conexi√≥n del equipo </h3><br>  Incluso la PDU m√°s sofisticada no ayudar√° si el equipo no est√° conectado correctamente y no hay forma de controlar el consumo. <br><br>  ¬øQu√© podr√≠a salir mal?  Un poco de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">equipo</a> .  Dos entradas de alimentaci√≥n llegan a cada rack, dos PDU en un rack est√°ndar.  Resulta que cada PDU tiene su propia entrada.  Si algo le sucede a una de las entradas (lea la PDU), el bastidor contin√∫a viviendo en la segunda.  Para que este esquema funcione, debe seguir algunas reglas.  Aqu√≠ est√°n los principales (puede encontrar una lista completa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ): <br><br>  <b>El equipo debe estar conectado a diferentes PDU.</b>  Si el equipo tiene una unidad de fuente de alimentaci√≥n y un enchufe, est√° conectado a la PDU a trav√©s de ATS (interruptor de transferencia autom√°tica) o ATS (interruptor de transferencia autom√°tica).  En caso de problemas con una de las entradas o la propia PDU, el ATS cambia el equipo a una PDU / entrada en buen estado.  El equipo no sentir√° nada. <br><br>  <b>Carga emparejada en dos entradas / PDU.</b>  La entrada de respaldo solo se guardar√° si puede soportar la carga de una entrada ca√≠da.  Para hacer esto, debe dejar un margen: cargue cada entrada menos de la mitad de la potencia nominal, y la carga total en las dos entradas fue inferior al 100% del valor nominal.  Solo en este caso, la entrada restante resistir√° la doble carga.  Si no lo hace, entonces el enfoque con el cambio a la reserva no tendr√° lugar: el equipo permanecer√° sin energ√≠a.  Para evitar lo peor, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">monitoreamos</a> este par√°metro. <br><br>  <b>Equilibrio de carga entre secciones de PDU.</b>  Los z√≥calos de PDU se agrupan en secciones.  Por lo general, 2 o 3 piezas.  Cada secci√≥n tiene su propio l√≠mite de potencia.  Es importante no excederlo y distribuir la carga de manera uniforme en todas las secciones.  Bueno, la historia con cargas emparejadas, que se discuti√≥ anteriormente, tambi√©n funciona aqu√≠. <br><br>  <b>Para resumir</b> <br><br><ol><li>  Si es posible, elija una PDU con una funci√≥n de monitoreo. </li><li>  Al elegir un modelo de PDU, deje un margen de potencia. </li><li>  Monte la PDU para poder reemplazarla sin molestar al equipo de TI. </li><li>  Con√©ctese correctamente: conecte el equipo a dos PDU, no sobrecargue las secciones y recuerde las cargas del par. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/471876/">https://habr.com/ru/post/471876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../471864/index.html">Generador de analizador PEG</a></li>
<li><a href="../471866/index.html">Visualizaci√≥n del analizador PEG</a></li>
<li><a href="../471868/index.html">Gen√©tica del amor: conflicto entre g√©neros como base para la cooperaci√≥n en parejas de p√°jaros mon√≥gamos</a></li>
<li><a href="../471870/index.html">Uso efectivo de libdispatch</a></li>
<li><a href="../471874/index.html">C√≥mo pasamos por alto las pautas de revisi√≥n y lanzamos un servidor en el tel√©fono</a></li>
<li><a href="../471878/index.html">¬øC√≥mo escribir un contrato inteligente para WebAssembly en una red Ontology? Parte 1: √≥xido</a></li>
<li><a href="../471880/index.html">Idea para Geek Halloween, o tiempo para elegir GeekMask</a></li>
<li><a href="../471884/index.html">10 utilidades gratuitas de ApexSQL para administrar bases de datos de Microsoft SQL Server</a></li>
<li><a href="../471886/index.html">VMmanager 6: presentaci√≥n de la caja y comparaci√≥n con la generaci√≥n anterior</a></li>
<li><a href="../471890/index.html">Inferencia variacional: ¬øqu√© es y qu√© come?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>