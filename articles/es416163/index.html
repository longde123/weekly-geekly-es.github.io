<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶è üñêüèΩ ‚ôêÔ∏è Aprende OpenGL. Lecci√≥n 5.6 - Mapeo de paralaje ‚ö´Ô∏è ü•Ñ ü§ô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mapeo de paralaje 
 La t√©cnica de texturizado de Mapeo de paralaje es algo similar en efecto al Mapeo normal , pero se basa en un principio diferente....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprende OpenGL. Lecci√≥n 5.6 - Mapeo de paralaje</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416163/"><img src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" align="left" width="300"><h2>  Mapeo de paralaje </h2><br>  La t√©cnica de texturizado de <i>Mapeo de paralaje</i> es algo similar en efecto al <i>Mapeo normal</i> , pero se basa en un principio diferente.  La similitud es que, al igual que el mapeo normal, esta t√©cnica aumenta significativamente la complejidad visual y los detalles de la superficie con la textura aplicada al mismo tiempo creando una ilusi√≥n plausible de la presencia de diferencias de altura en la superficie.  Parallax Mapping funciona muy bien en combinaci√≥n con Normal Mapping para crear resultados muy confiables: la t√©cnica descrita transmite el efecto de alivio mucho mejor que Normal Mapping, y Normal Mapping lo complementa para una simulaci√≥n plausible de iluminaci√≥n din√°mica.  El mapeo de paralaje dif√≠cilmente puede considerarse una t√©cnica directamente relacionada con los m√©todos de simulaci√≥n de iluminaci√≥n, pero eleg√≠ esta secci√≥n para considerarlo, ya que el m√©todo es un desarrollo l√≥gico de las ideas del mapeo normal.  Tambi√©n noto que para analizar este art√≠culo, se requiere una buena comprensi√≥n del algoritmo de Mapeo Normal, especialmente el concepto de espacio <i>tangente</i> o <i>espacio tangente</i> . <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Contenido</b> <div class="spoiler_text">  Parte 1. Comenzando <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Opengl</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Creaci√≥n de ventanas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hola ventana</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hola triangulo</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sombreadores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Texturas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Transformaciones</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sistemas de coordenadas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√°mara</a> </li></ol><br>  Parte 2. Iluminaci√≥n b√°sica <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Colores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Conceptos b√°sicos de iluminaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Materiales</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapas de textura</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuentes de luz</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">M√∫ltiples fuentes de iluminaci√≥n</a> </li></ol><br>  Parte 3. Descargar modelos 3D <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Biblioteca Assimp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Clase de pol√≠gono de malla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Clase de modelo 3D</a> </li></ol><br>  Parte 4. Caracter√≠sticas avanzadas de OpenGL <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prueba de profundidad</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Prueba de plantilla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mezcla de colores</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Caras de recorte</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buffer de trama</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tarjetas c√∫bicas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Manejo avanzado de datos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GLSL avanzado</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sombreador geom√©trico</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Instancia</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Suavizado</a> </li></ol><br>  Parte 5. Iluminaci√≥n avanzada <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Iluminaci√≥n avanzada.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Modelo Blinn-Fong.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Correcci√≥n gamma</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cartas de sombra</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapas de sombras omnidireccionales</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapeo normal</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapeo de paralaje</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HDR</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bloom</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Renderizado diferido</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SSAO</a> </li></ol><br>  Parte 6. PBR <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Teor√≠a</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fuentes de luz analiticas</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Radiaci√≥n difusa.</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Exposici√≥n al espejo.</a> </li></ol><br></div></div><br>  El mapeo de paralaje pertenece a la familia de <i>mapeo</i> de <i>desplazamiento</i> o t√©cnicas de textura en relieve que <i>compensan los</i> v√©rtices de una geometr√≠a en funci√≥n de los valores almacenados en los mapas de textura especiales.  Por ejemplo, imagine un plano compuesto del orden de mil v√©rtices.  Cada uno de ellos puede desplazarse seg√∫n el valor le√≠do de la textura, que representa la altura del plano en un punto dado.  Dicha textura, que contiene los valores de altura en cada texel, se denomina <i>mapa de altura</i> .  Un ejemplo de dicho mapa, obtenido sobre la base de las caracter√≠sticas geom√©tricas de la superficie del ladrillo, es la siguiente imagen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ii/no/ie/iinoiejzmk64kssow31hqnm4bd4.png"></div><br>  Al tomar muestras de este mapa y cambiar cada v√©rtice de acuerdo con el valor de altura, es posible obtener una superficie convexa a partir de un plano ideal que repite los par√°metros geom√©tricos de la superficie original.  Entonces, tomando un plano con un n√∫mero suficiente de v√©rtices y aplicando un mapa de altura del ejemplo, puede obtener el siguiente resultado: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uu/bu/pw/uubupwg7tnqbjpv3rhf2p5xjw4y.png"></div><br>  El enfoque descrito es simple y f√°cil de implementar, pero requiere una alta densidad de v√©rtices en el objeto procesado, de lo contrario, el resultado del cambio ser√° demasiado grueso.  Y si en cada superficie plana comenzamos a liberar mil v√©rtices o m√°s, entonces muy pronto simplemente no tendremos tiempo para procesar todo lo que necesitamos.  ¬øQuiz√°s haya un algoritmo que le permita simular cualitativamente la calidad del ingenuo algoritmo de Mapeo de desplazamiento, pero sin requerir tales costos de geometr√≠a?  Si te paras, si√©ntate, ¬°porque en la imagen de arriba solo hay seis v√©rtices (dos tri√°ngulos)!  El relieve del ladrillo se imita perfectamente gracias al uso de Mapeo de paralaje, una t√©cnica de textura de relieve que no requiere muchos v√©rtices para transmitir fielmente el relieve de la superficie, pero, como el Mapeo normal, que utiliza un enfoque original para enga√±ar a los ojos del observador. <br><br>  La idea principal de la implementaci√≥n es distorsionar las coordenadas de textura para el fragmento actual en funci√≥n de la direcci√≥n de la mirada y los datos del mapa de altura para crear la ilusi√≥n de que este fragmento pertenece a una parte de la superficie que se encuentra m√°s arriba o m√°s abajo de lo que realmente es.  Para una mejor comprensi√≥n del principio, mire el diagrama de nuestro ejemplo con ladrillos: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rw/ab/tl/rwabtldbgzyc-rsarcgipyteab0.png"></div><br>  Aqu√≠, la l√≠nea roja aproximada representa los valores del mapa de altura, reflejando las caracter√≠sticas geom√©tricas de la superficie de mamposter√≠a simulada.  Vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">r</span><span class="MJXp-mrow" id="MJXp-Span-8"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">e</span></span><span class="MJXp-mrow" id="MJXp-Span-15"><span class="MJXp-mtext" id="MJXp-Span-16">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">r</span><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ color {orange} {\ bar {V}} </script>  representa la direcci√≥n desde la superficie hasta el observador ( <i>viewDir</i> ).  Si el avi√≥n estuviera realmente en relieve, entonces el observador ver√≠a un punto en la superficie <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">r</span><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.69ex" height="2.057ex" viewBox="0 -780.1 5033 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-7A" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-75" x="998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1570" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-42" x="4273" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ color {azul} B </script>  .  Sin embargo, de hecho tenemos un plano ideal y el rayo en la direcci√≥n de la vista cruza el plano en un punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mtext" id="MJXp-Span-36">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">r</span><span class="MJXp-mrow" id="MJXp-Span-42"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ color {verde} A </script>  Eso es obvio.  Tarea de mapeo de paralaje para cambiar las coordenadas de textura en un punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-49"><span class="MJXp-mtext" id="MJXp-Span-50">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">r</span><span class="MJXp-mrow" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ color {verde} A </script>  para que se vuelvan id√©nticas a las coordenadas correspondientes al punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mtext" id="MJXp-Span-64">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">r</span><span class="MJXp-mrow" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.69ex" height="2.057ex" viewBox="0 -780.1 5033 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-7A" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-75" x="998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1570" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-42" x="4273" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ color {azul} B </script>  .  Adem√°s para el fragmento actual (corresponde al punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">r</span><span class="MJXp-mrow" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> \ color {verde} A </script>  ) usamos las coordenadas obtenidas del punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mtext" id="MJXp-Span-91">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">r</span><span class="MJXp-mrow" id="MJXp-Span-97"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-99">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.69ex" height="2.057ex" viewBox="0 -780.1 5033 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-7A" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-75" x="998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1570" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-42" x="4273" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> \ color {azul} B </script>  el muestreo de textura es necesario para todos, lo que crea la ilusi√≥n de que el observador ve un punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-103"><span class="MJXp-mtext" id="MJXp-Span-104">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">r</span><span class="MJXp-mrow" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.69ex" height="2.057ex" viewBox="0 -780.1 5033 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-7A" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-75" x="998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1570" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-42" x="4273" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> \ color {azul} B </script>  . <br><br>  La principal dificultad radica en c√≥mo calcular las coordenadas de textura de un punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mtext" id="MJXp-Span-117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">r</span><span class="MJXp-mrow" id="MJXp-Span-123"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.69ex" height="2.057ex" viewBox="0 -780.1 5033 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-7A" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-75" x="998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1570" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-42" x="4273" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> \ color {azul} B </script>  estar en el punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-129"><span class="MJXp-mtext" id="MJXp-Span-130">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">r</span><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> \ color {verde} A </script>  .  Parallax Mapping ofrece una soluci√≥n aproximada usando una escala simple del vector de direcci√≥n desde la superficie <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-143"><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">e</span></span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mtext" id="MJXp-Span-158">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">r</span><span class="MJXp-mrow" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-11"> \ color {orange} {\ bar {V}} </script>  al observador por la altura del fragmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-164"><span class="MJXp-mtext" id="MJXp-Span-165">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-169">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">r</span><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> \ color {verde} A </script>  .  Es decir  solo cambia la longitud <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-178"><span class="MJXp-mtext" id="MJXp-Span-179">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">r</span><span class="MJXp-mrow" id="MJXp-Span-185"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">e</span></span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mtext" id="MJXp-Span-193">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-196">r</span><span class="MJXp-mrow" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.229ex" height="2.419ex" viewBox="0 -780.1 7848.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6E" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-67" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="2547" y="0"></use></g><g transform="translate(5418,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-61" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-56" x="1660" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-13"> \ color {orange} {\ bar {V}} </script>  para que coincida con el tama√±o de la muestra del mapa de altura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-199"><span class="MJXp-mtext" id="MJXp-Span-200">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">r</span><span class="MJXp-mrow" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">e</span></span><span class="MJXp-mrow" id="MJXp-Span-212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">H</span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-215">A</span><span class="MJXp-mo" id="MJXp-Span-216" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.76ex" height="2.66ex" viewBox="0 -832 7216 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><g transform="translate(4798,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMAIN-28" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMAIN-29" x="2028" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-14"> \ color {verde} {H (A)} </script>  correspondiente al fragmento <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-217"><span class="MJXp-mtext" id="MJXp-Span-218">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-221">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-223">r</span><span class="MJXp-mrow" id="MJXp-Span-224"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-225">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-228">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.887ex" height="2.057ex" viewBox="0 -780.1 5548.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-63" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6C" x="1169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-6F" x="1467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="1953" y="0"></use><g transform="translate(2404,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-76" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="485" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-72" x="952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-64" x="1403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-65" x="1927" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/416163/&amp;usg=ALkJrhi8klFd1V0Ic2KZQ6xnXJfM03SloQ#MJMATHI-41" x="4798" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> \ color {verde} A </script>  .  El siguiente diagrama muestra el resultado de la escala - vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-231"><span class="MJXp-mtext" id="MJXp-Span-232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">r</span><span class="MJXp-mrow" id="MJXp-Span-238"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-242">r</span><span class="MJXp-mrow" id="MJXp-Span-243"><span class="MJXp-mo" id="MJXp-Span-244" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">n</span></span><span class="MJXp-mrow" id="MJXp-Span-246"><span class="MJXp-mtext" id="MJXp-Span-247">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-250">r</span><span class="MJXp-mrow" id="MJXp-Span-251"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-16"> \ color {marr√≥n} {\ bar {P}} </script>  : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/p7/ka/zl/p7kazlkvcdvy53_r05zpmwedros.png"></div><br>  Luego, el vector resultante <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-253"><span class="MJXp-mtext" id="MJXp-Span-254">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">r</span><span class="MJXp-mrow" id="MJXp-Span-260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">r</span><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">n</span></span><span class="MJXp-mrow" id="MJXp-Span-268"><span class="MJXp-mtext" id="MJXp-Span-269">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">r</span><span class="MJXp-mrow" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-17"> \ color {marr√≥n} {\ bar {P}} </script>  descompuesto en componentes de acuerdo con el sistema de coordenadas del plano en s√≠, que se utilizan como compensaciones para las coordenadas de textura originales.  Adem√°s, desde el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-275"><span class="MJXp-mtext" id="MJXp-Span-276">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">r</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">r</span><span class="MJXp-mrow" id="MJXp-Span-287"><span class="MJXp-mo" id="MJXp-Span-288" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289">n</span></span><span class="MJXp-mrow" id="MJXp-Span-290"><span class="MJXp-mtext" id="MJXp-Span-291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-294">r</span><span class="MJXp-mrow" id="MJXp-Span-295"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-18"> \ color {marr√≥n} {\ bar {P}} </script>  se calcula utilizando el valor del mapa de altura, cuanto m√°s corresponda el valor de altura al fragmento actual, m√°s fuerte ser√° el desplazamiento para √©l. <br><br>  Esta t√©cnica simple da buenos resultados en algunos casos, pero sigue siendo una estimaci√≥n muy aproximada de la posici√≥n de un punto. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-297"><span class="MJXp-mtext" id="MJXp-Span-298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">r</span><span class="MJXp-mrow" id="MJXp-Span-304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-19"> \ color {azul} B </script>  .  Si el mapa de altura contiene √°reas con valores que cambian bruscamente, el resultado del desplazamiento se vuelve incorrecto: lo m√°s probable es que el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-310"><span class="MJXp-mtext" id="MJXp-Span-311">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">r</span><span class="MJXp-mrow" id="MJXp-Span-317"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">r</span><span class="MJXp-mrow" id="MJXp-Span-322"><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">n</span></span><span class="MJXp-mrow" id="MJXp-Span-325"><span class="MJXp-mtext" id="MJXp-Span-326">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">r</span><span class="MJXp-mrow" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-20"> \ color {marr√≥n} {\ bar {P}} </script>  incluso cerca no caer√° en las proximidades del punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-332"><span class="MJXp-mtext" id="MJXp-Span-333">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">r</span><span class="MJXp-mrow" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-21"> \ color {azul} B </script>  : <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mb/bq/ts/mbbqtsva5kzyzpj8ettleqrdxr4.png"></div><br>  Basado en lo anterior, queda otra pregunta: c√≥mo determinar c√≥mo proyectar correctamente un vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-345"><span class="MJXp-mtext" id="MJXp-Span-346">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">r</span><span class="MJXp-mrow" id="MJXp-Span-352"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">r</span><span class="MJXp-mrow" id="MJXp-Span-357"><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">n</span></span><span class="MJXp-mrow" id="MJXp-Span-360"><span class="MJXp-mtext" id="MJXp-Span-361">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">r</span><span class="MJXp-mrow" id="MJXp-Span-365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-22"> \ color {marr√≥n} {\ bar {P}} </script>  a una superficie orientada arbitrariamente para obtener componentes para compensar las coordenadas de textura?  Ser√≠a bueno realizar c√°lculos en un determinado sistema de coordenadas, donde la expansi√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-367"><span class="MJXp-mtext" id="MJXp-Span-368">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-373">r</span><span class="MJXp-mrow" id="MJXp-Span-374"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">r</span><span class="MJXp-mrow" id="MJXp-Span-379"><span class="MJXp-mo" id="MJXp-Span-380" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">n</span></span><span class="MJXp-mrow" id="MJXp-Span-382"><span class="MJXp-mtext" id="MJXp-Span-383">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">r</span><span class="MJXp-mrow" id="MJXp-Span-387"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-23"> \ color {marr√≥n} {\ bar {P}} </script>  en los componentes <i>x</i> e <i>y</i> siempre corresponder√≠an a la base del sistema de coordenadas de textura.  Si trabaj√≥ cuidadosamente la lecci√≥n sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mapeo Normal</a> , entonces ya adivin√≥ que estamos hablando de c√°lculos en el espacio tangente. <br><br>  Transferencia del vector de la superficie al observador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-389"><span class="MJXp-mtext" id="MJXp-Span-390">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-391">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-392">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">r</span><span class="MJXp-mrow" id="MJXp-Span-396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">e</span></span><span class="MJXp-mrow" id="MJXp-Span-403"><span class="MJXp-mtext" id="MJXp-Span-404">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">r</span><span class="MJXp-mrow" id="MJXp-Span-408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-24"> \ color {orange} {\ bar {V}} </script>  en el espacio tangente obtenemos un vector modificado <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-410"><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">r</span><span class="MJXp-mrow" id="MJXp-Span-417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">r</span><span class="MJXp-mrow" id="MJXp-Span-422"><span class="MJXp-mo" id="MJXp-Span-423" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">n</span></span><span class="MJXp-mrow" id="MJXp-Span-425"><span class="MJXp-mtext" id="MJXp-Span-426">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">r</span><span class="MJXp-mrow" id="MJXp-Span-430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-25"> \ color {marr√≥n} {\ bar {P}} </script>  , cuya descomposici√≥n de componentes siempre se llevar√° a cabo de acuerdo con los vectores tangente y bi-tangente para una superficie dada.  Dado que la tangente y la bi-tangente siempre est√°n alineadas con los ejes del sistema de coordenadas de textura de la superficie, entonces, independientemente de la orientaci√≥n de la superficie, puede usar con seguridad los componentes <i>x</i> e <i>y</i> del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-432"><span class="MJXp-mtext" id="MJXp-Span-433">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">r</span><span class="MJXp-mrow" id="MJXp-Span-439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-443">r</span><span class="MJXp-mrow" id="MJXp-Span-444"><span class="MJXp-mo" id="MJXp-Span-445" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">n</span></span><span class="MJXp-mrow" id="MJXp-Span-447"><span class="MJXp-mtext" id="MJXp-Span-448">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">r</span><span class="MJXp-mrow" id="MJXp-Span-452"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ color {marr√≥n} {\ bar {P}} </script>  como compensaciones para las coordenadas de textura. <br><br>  Sin embargo, la teor√≠a es suficiente y, despu√©s de remangarnos, pasamos a la implementaci√≥n inmediata. <br><br><h3>  Mapeo de paralaje </h3><br>  Para la implementaci√≥n, usaremos un plano simple con tangentes y tangentes de sesgo calculadas para ello; ya podemos hacerlo desde la lecci√≥n sobre Mapeo normal.  Asignamos varios planos a los planos de textura: <a href="">difusos</a> , <a href="">normales</a> y <a href="">desplazamientos</a> , cada uno de los cuales est√° disponible en el enlace apropiado.  En la lecci√≥n, tambi√©n utilizaremos el mapeo normal, ya que el mapeo de paralaje crea la ilusi√≥n de una topograf√≠a de superficie, que se rompe f√°cilmente si la iluminaci√≥n no cambia de acuerdo con la topograf√≠a.  Dado que los mapas normales a menudo se crean sobre la base de mapas de elevaci√≥n, su uso combinado garantiza la conexi√≥n correcta de la iluminaci√≥n, teniendo en cuenta el terreno. <br><br>  Probablemente ya haya notado que el mapa de desplazamiento que se muestra en el enlace de arriba es, de hecho, el inverso del mapa que se muestra al comienzo de la lecci√≥n.  La implementaci√≥n del mapeo Parallax generalmente se lleva a cabo utilizando solo esos mapas, que son inversos a los mapas de altura - <i>mapas de profundidad</i> .  Esto sucede porque la imitaci√≥n de los recesos en el plano es algo m√°s f√°cil que la imitaci√≥n de la elevaci√≥n.  De acuerdo con este cambio, el esquema de trabajo de Mapeo de Parallax tambi√©n cambia: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oq/zr/y5/oqzry5trs2lyfbwhe6puu0u04y8.png"></div><br>  De nuevo vemos puntos familiares <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-454"><span class="MJXp-mtext" id="MJXp-Span-455">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-459">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">r</span><span class="MJXp-mrow" id="MJXp-Span-461"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> \ color {verde} A </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-468"><span class="MJXp-mtext" id="MJXp-Span-469">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">r</span><span class="MJXp-mrow" id="MJXp-Span-475"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-28"> \ color {azul} B </script>  sin embargo, esta vez el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-481"><span class="MJXp-mtext" id="MJXp-Span-482">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-487">r</span><span class="MJXp-mrow" id="MJXp-Span-488"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">r</span><span class="MJXp-mrow" id="MJXp-Span-493"><span class="MJXp-mo" id="MJXp-Span-494" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">n</span></span><span class="MJXp-mrow" id="MJXp-Span-496"><span class="MJXp-mtext" id="MJXp-Span-497">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">r</span><span class="MJXp-mrow" id="MJXp-Span-501"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \ color {marr√≥n} {\ bar {P}} </script>  obtenido restando el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-503"><span class="MJXp-mtext" id="MJXp-Span-504">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">r</span><span class="MJXp-mrow" id="MJXp-Span-510"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-512">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">e</span></span><span class="MJXp-mrow" id="MJXp-Span-517"><span class="MJXp-mtext" id="MJXp-Span-518">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">r</span><span class="MJXp-mrow" id="MJXp-Span-522"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> \ color {orange} {\ bar {V}} </script>  de coordenadas de textura en un punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-524"><span class="MJXp-mtext" id="MJXp-Span-525">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">r</span><span class="MJXp-mrow" id="MJXp-Span-531"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">e</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">A</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> \ color {verde} A </script>  .  Las profundidades en lugar de las alturas se pueden obtener simplemente restando la muestra de profundidad de la unidad o invirtiendo los colores de textura en cualquier editor de im√°genes. <br><br>  El mapeo de paralaje se implementa en el sombreador de fragmentos, ya que los datos de elevaci√≥n son diferentes para cada fragmento dentro del tri√°ngulo.  El c√≥digo del sombreador de fragmentos requerir√° el c√°lculo del vector desde el fragmento hasta el observador <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-538"><span class="MJXp-mtext" id="MJXp-Span-539">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">r</span><span class="MJXp-mrow" id="MJXp-Span-545"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">e</span></span><span class="MJXp-mrow" id="MJXp-Span-552"><span class="MJXp-mtext" id="MJXp-Span-553">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">r</span><span class="MJXp-mrow" id="MJXp-Span-557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> \ color {orange} {\ bar {V}} </script>  , por lo que debe transmitirle la posici√≥n del fragmento y el observador en el espacio tangente.  De acuerdo con los resultados de la lecci√≥n sobre el mapeo normal, todav√≠a tenemos el sombreador de v√©rtices en nuestras manos, que transfiere todos estos vectores ya reducidos al espacio tangente, lo usaremos: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core layout (location = 0) in vec3 aPos; layout (location = 1) in vec3 aNormal; layout (location = 2) in vec2 aTexCoords; layout (location = 3) in vec3 aTangent; layout (location = 4) in vec3 aBitangent; out VS_OUT { vec3 FragPos; vec2 TexCoords; vec3 TangentLightPos; vec3 TangentViewPos; vec3 TangentFragPos; } vs_out; uniform mat4 projection; uniform mat4 view; uniform mat4 model; uniform vec3 lightPos; uniform vec3 viewPos; void main() { gl_Position = projection * view * model * vec4(aPos, 1.0); vs_out.FragPos = vec3(model * vec4(aPos, 1.0)); vs_out.TexCoords = aTexCoords; vec3 T = normalize(mat3(model) * aTangent); vec3 B = normalize(mat3(model) * aBitangent); vec3 N = normalize(mat3(model) * aNormal); mat3 TBN = transpose(mat3(T, B, N)); vs_out.TangentLightPos = TBN * lightPos; vs_out.TangentViewPos = TBN * viewPos; vs_out.TangentFragPos = TBN * vs_out.FragPos; }</span></span></code> </pre> <br>  De las cosas importantes, solo notar√© que espec√≠ficamente para las necesidades de Mapeo de Parallax, es necesario transferir el positionPoser en el espacio tangente al sombreador de fragmentos <i>aPos</i> . <br><br>  Dentro del sombreador, implementamos el algoritmo de mapeo Parallax, que se parece a esto: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out vec4 FragColor; in VS_OUT { vec3 FragPos; vec2 TexCoords; vec3 TangentLightPos; vec3 TangentViewPos; vec3 TangentFragPos; } fs_in; uniform sampler2D diffuseMap; uniform sampler2D normalMap; uniform sampler2D depthMap; uniform float height_scale; vec2 ParallaxMapping(vec2 texCoords, vec3 viewDir); void main() { vec3 viewDir = normalize(fs_in.TangentViewPos - fs_in.TangentFragPos); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//       Parallax Mapping vec2 texCoords = ParallaxMapping(fs_in.TexCoords, viewDir); //      //     vec3 diffuse = texture(diffuseMap, texCoords); vec3 normal = texture(normalMap, texCoords); normal = normalize(normal * 2.0 - 1.0); //  ‚Äì     [...] }</span></span></span></span></code> </pre> <br>  Anunciamos la funci√≥n ParallaxMapping, que toma las coordenadas de textura del fragmento y el vector del fragmento al observador. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-559"><span class="MJXp-mtext" id="MJXp-Span-560">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">r</span><span class="MJXp-mrow" id="MJXp-Span-566"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">e</span></span><span class="MJXp-mrow" id="MJXp-Span-573"><span class="MJXp-mtext" id="MJXp-Span-574">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">r</span><span class="MJXp-mrow" id="MJXp-Span-578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33"> \ color {orange} {\ bar {V}} </script>  en el espacio tangente  El resultado de la funci√≥n son coordenadas de textura desplazadas, que ya se utilizan para muestras de una textura difusa y un mapa normal.  Como resultado, el color difuso del p√≠xel y su normalidad corresponden correctamente a la "geometr√≠a" cambiada del plano. <br><br>  ¬øQu√© se esconde dentro de la funci√≥n ParallaxMapping? <br><br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-function">vec2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParallaxMapping</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec2 texCoords, vec3 viewDir)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> height = texture(depthMap, texCoords).r; vec2 p = viewDir.xy / viewDir.z * (height * height_scale); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> texCoords - p; }</code> </pre> <br>  Esta funci√≥n relativamente simple es una implementaci√≥n literal del m√©todo, cuyos puntos principales discutimos anteriormente.  Se toman las coordenadas de textura iniciales de TexCoords, con la ayuda de las cuales se selecciona la altura (o profundidad) <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-580"><span class="MJXp-mtext" id="MJXp-Span-581">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-586">r</span><span class="MJXp-mrow" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">e</span></span><span class="MJXp-mrow" id="MJXp-Span-593"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">H</span><span class="MJXp-mo" id="MJXp-Span-595" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">A</span><span class="MJXp-mo" id="MJXp-Span-597" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-34"> \ color {verde} {H (A)} </script>  from <i>depthMap</i> para el fragmento actual.  Para calcular el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-598"><span class="MJXp-mtext" id="MJXp-Span-599">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">r</span><span class="MJXp-mrow" id="MJXp-Span-605"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">r</span><span class="MJXp-mrow" id="MJXp-Span-610"><span class="MJXp-mo" id="MJXp-Span-611" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">n</span></span><span class="MJXp-mrow" id="MJXp-Span-613"><span class="MJXp-mtext" id="MJXp-Span-614">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">r</span><span class="MJXp-mrow" id="MJXp-Span-618"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> \ color {marr√≥n} {\ bar {P}} </script>  el vector <i>viewDir</i> se <i>toma</i> en espacio tangente y el par de sus componentes <i>x</i> e <i>y</i> se divide por el componente <i>z</i> , y el resultado se escala por el valor de desplazamiento de lectura de la <i>altura</i> .  El <i>uniforme</i> height_scale tambi√©n se ha introducido para proporcionar un control adicional sobre la gravedad del efecto de Mapeo de paralaje, ya que el efecto de desplazamiento suele ser demasiado fuerte.  Para obtener el resultado, restamos el vector resultante <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-620"><span class="MJXp-mtext" id="MJXp-Span-621">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">r</span><span class="MJXp-mrow" id="MJXp-Span-627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-631">r</span><span class="MJXp-mrow" id="MJXp-Span-632"><span class="MJXp-mo" id="MJXp-Span-633" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">n</span></span><span class="MJXp-mrow" id="MJXp-Span-635"><span class="MJXp-mtext" id="MJXp-Span-636">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">r</span><span class="MJXp-mrow" id="MJXp-Span-640"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> \ color {marr√≥n} {\ bar {P}} </script>  de las coordenadas de textura originales. <br><br>  Nos <i>ocuparemos</i> del momento de dividir <i>viewDir.xy</i> en <i>viewDir.z</i> .  Como el vector <i>viewDir est√°</i> normalizado, su componente <i>z se</i> encuentra en el intervalo [0, 1].  Cuando el vector es casi paralelo a la superficie del componente <i>z</i> est√° cerca de cero, y la operaci√≥n de divisi√≥n devuelve el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-642"><span class="MJXp-mtext" id="MJXp-Span-643">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">r</span><span class="MJXp-mrow" id="MJXp-Span-649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-652">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653">r</span><span class="MJXp-mrow" id="MJXp-Span-654"><span class="MJXp-mo" id="MJXp-Span-655" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">n</span></span><span class="MJXp-mrow" id="MJXp-Span-657"><span class="MJXp-mtext" id="MJXp-Span-658">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-660">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">r</span><span class="MJXp-mrow" id="MJXp-Span-662"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> \ color {marr√≥n} {\ bar {P}} </script>  mucho m√°s tiempo que si <i>viewDir</i> est√° cerca de la perpendicular a la superficie.  En otras palabras, escalamos el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-664"><span class="MJXp-mtext" id="MJXp-Span-665">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">r</span><span class="MJXp-mrow" id="MJXp-Span-671"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-672">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">r</span><span class="MJXp-mrow" id="MJXp-Span-676"><span class="MJXp-mo" id="MJXp-Span-677" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">n</span></span><span class="MJXp-mrow" id="MJXp-Span-679"><span class="MJXp-mtext" id="MJXp-Span-680">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">r</span><span class="MJXp-mrow" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> \ color {marr√≥n} {\ bar {P}} </script>  para que aumente cuando mira la superficie en √°ngulo, esto le permite obtener un resultado m√°s realista en tales casos. <br><br>  Algunos desarrolladores prefieren eliminar la escala dividiendo por <i>viewDir.z</i> , porque, en ciertos casos, este enfoque da resultados incorrectos cuando se ve desde un √°ngulo.  Esta modificaci√≥n de la t√©cnica se llama <i>Mapeo de paralaje con limitaci√≥n de compensaci√≥n</i> .  La elecci√≥n de una opci√≥n de enfoque, en su mayor parte, sigue siendo una cuesti√≥n de preferencia personal; por ejemplo, soy m√°s leal a los resultados del algoritmo de mapeo Parallax habitual. <br><br>  Las coordenadas de textura alteradas resultantes se utilizan en √∫ltima instancia para seleccionar del mapa difuso y el mapa normal, lo que nos da un efecto de distorsi√≥n de superficie bastante bueno (el par√°metro <i>height_scale</i> aqu√≠ se elige cerca de 0.1): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/1h/1z/f81h1z2wjj_pxbmj0xl9aglfu4s.png"></div><br>  En la imagen, puede comparar los efectos de las t√©cnicas de Mapeo normal y Mapeo de paralaje.  Dado que el Mapeo de Parallax simula las irregularidades de la superficie, esta t√©cnica permite situaciones en las que los ladrillos se superponen, dependiendo de la direcci√≥n del ojo. <br><br>  Extra√±os artefactos tambi√©n son visibles a lo largo de los bordes del plano texturizado.  Aparecen debido al hecho de que las coordenadas de textura desplazadas por el algoritmo de Mapeo de Parallax pueden quedar fuera del intervalo de la unidad y, dependiendo del <i>modo de ajuste</i> , pueden causar resultados no deseados.  Una forma simple de deshacerse de tales artefactos es simplemente descartar todos los fragmentos para los que las coordenadas de textura est√°n fuera del intervalo de la unidad: <br><br><pre> <code class="cpp hljs">texCoords = ParallaxMapping(fs_in.TexCoords, viewDir); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(texCoords.x &gt; <span class="hljs-number"><span class="hljs-number">1.0</span></span> || texCoords.y &gt; <span class="hljs-number"><span class="hljs-number">1.0</span></span> || texCoords.x &lt; <span class="hljs-number"><span class="hljs-number">0.0</span></span> || texCoords.y &lt; <span class="hljs-number"><span class="hljs-number">0.0</span></span>) discard;</code> </pre> <br>  Como resultado, todos los fragmentos con coordenadas de textura desplazadas que caen fuera del intervalo [0, 1] se descartar√°n y visualmente el resultado de la acci√≥n de Mapeo de paralaje ser√° aceptable.  Obviamente, este m√©todo de rechazo no es universal y puede no ser aplicable a algunas superficies o casos de texturas.  Pero en el ejemplo de un avi√≥n, funciona perfectamente y ayuda a fortalecer el efecto de cambiar el relieve del avi√≥n: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xe/se/ab/xeseabwomzyadc0soh18onuvfry.png"></div><br>  Las fuentes de muestra est√°n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Se ve bien, y el rendimiento del m√©todo es excelente: ¬°todo lo que tom√≥ fue una muestra adicional de la textura!  Pero la simplicidad del m√©todo tiene inconvenientes significativos: el efecto de alivio se destruye f√°cilmente cuando se mira el plano en √°ngulo (lo que tambi√©n es cierto para el mapeo normal) o si hay secciones en el mapa de altura con cambios bruscos en los valores: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bn/oo/ar/bnooaruo0ssus2vhu24usfkfe3a.png"></div><br>  La raz√≥n de la destrucci√≥n de la ilusi√≥n radica en el hecho de que el algoritmo es una aproximaci√≥n muy aproximada del mapeo de desplazamiento real.  Sin embargo, varios trucos adicionales pueden ayudarnos, lo que nos permite obtener resultados casi perfectos incluso al mirar un √°ngulo o al usar mapas de altura con cambios bruscos.  Por ejemplo, podemos usar varias muestras de un mapa de altura para encontrar el punto m√°s cercano al punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-686"><span class="MJXp-mtext" id="MJXp-Span-687">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">r</span><span class="MJXp-mrow" id="MJXp-Span-693"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> \ color {azul} B </script>  . <br><br><h3>  Mapeo de paralaje empinado </h3><br>  La t√©cnica Steep Parallax Mapping es un desarrollo l√≥gico del cl√°sico Parallax Mapping: se utiliza el mismo enfoque en el algoritmo, pero en lugar de una sola selecci√≥n, se toman varios, para una mejor aproximaci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-699"><span class="MJXp-mtext" id="MJXp-Span-700">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">r</span><span class="MJXp-mrow" id="MJXp-Span-706"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">r</span><span class="MJXp-mrow" id="MJXp-Span-711"><span class="MJXp-mo" id="MJXp-Span-712" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">n</span></span><span class="MJXp-mrow" id="MJXp-Span-714"><span class="MJXp-mtext" id="MJXp-Span-715">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">r</span><span class="MJXp-mrow" id="MJXp-Span-719"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> \ color {marr√≥n} {\ bar {P}} </script>  usado para calcular el punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-721"><span class="MJXp-mtext" id="MJXp-Span-722">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">r</span><span class="MJXp-mrow" id="MJXp-Span-728"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ color {azul} B </script>  .  Debido a estas muestras adicionales, el resultado del algoritmo es visualmente mucho m√°s plausible, incluso cuando se observan √°ngulos agudos en la superficie. <br><br>  La base del enfoque Steep PM es tomar un cierto rango de profundidades y dividirlo en capas de igual tama√±o.  A continuaci√≥n, iteramos a trav√©s de las capas mientras cambiamos simult√°neamente las coordenadas de textura originales en la direcci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-734"><span class="MJXp-mtext" id="MJXp-Span-735">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">r</span><span class="MJXp-mrow" id="MJXp-Span-741"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-743">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">r</span><span class="MJXp-mrow" id="MJXp-Span-746"><span class="MJXp-mo" id="MJXp-Span-747" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">n</span></span><span class="MJXp-mrow" id="MJXp-Span-749"><span class="MJXp-mtext" id="MJXp-Span-750">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-753">r</span><span class="MJXp-mrow" id="MJXp-Span-754"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> \ color {marr√≥n} {\ bar {P}} </script>  y hacer muestras del mapa de profundidad, deteni√©ndose en el momento en que la profundidad de la muestra es menor que la profundidad de la capa actual.  Mira el diagrama: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vg/3c/be/vg3cbeeaq_tkhsed4cdxiytzacq.png"></div><br>  Como puede ver, nos movemos a trav√©s de las capas de arriba a abajo y para cada capa comparamos su profundidad con el valor del mapa de profundidad.  Si la profundidad de la capa es menor que el valor del mapa de profundidad, esto significa que el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-756"><span class="MJXp-mtext" id="MJXp-Span-757">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-760">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">r</span><span class="MJXp-mrow" id="MJXp-Span-763"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">r</span><span class="MJXp-mrow" id="MJXp-Span-768"><span class="MJXp-mo" id="MJXp-Span-769" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770">n</span></span><span class="MJXp-mrow" id="MJXp-Span-771"><span class="MJXp-mtext" id="MJXp-Span-772">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-773">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-774">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">r</span><span class="MJXp-mrow" id="MJXp-Span-776"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ color {marr√≥n} {\ bar {P}} </script>  correspondiente a esta capa se encuentra por encima de la superficie.  Este proceso se repite hasta que la profundidad de la capa es mayor que la selecci√≥n del mapa de profundidad: en este momento, el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-778"><span class="MJXp-mtext" id="MJXp-Span-779">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-783">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784">r</span><span class="MJXp-mrow" id="MJXp-Span-785"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-786">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">r</span><span class="MJXp-mrow" id="MJXp-Span-790"><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792">n</span></span><span class="MJXp-mrow" id="MJXp-Span-793"><span class="MJXp-mtext" id="MJXp-Span-794">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797">r</span><span class="MJXp-mrow" id="MJXp-Span-798"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> \ color {marr√≥n} {\ bar {P}} </script>  apunta a un punto debajo de la topograf√≠a de superficie simulada. <br>  El ejemplo muestra que la selecci√≥n del mapa de profundidad en la segunda capa ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-800"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">D</span><span class="MJXp-mo" id="MJXp-Span-802" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-803">2</span><span class="MJXp-mo" id="MJXp-Span-804" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-805" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-806">0.73</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> D (2) = 0.73 </script>  ) a√∫n se encuentra "m√°s profundo" con respecto a la profundidad de la segunda capa igual a 0.4, lo que significa que el proceso de b√∫squeda contin√∫a.  En la pr√≥xima pasada, una profundidad de capa de 0.6 finalmente resulta estar "por encima" del valor de la muestra del mapa de profundidad ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808">D</span><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-810">3</span><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-812" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-813">0.37</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> D (3) = 0.37 </script>  )  De aqu√≠ concluimos que el vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-814"><span class="MJXp-mtext" id="MJXp-Span-815">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">r</span><span class="MJXp-mrow" id="MJXp-Span-821"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">r</span><span class="MJXp-mrow" id="MJXp-Span-826"><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">n</span></span><span class="MJXp-mrow" id="MJXp-Span-829"><span class="MJXp-mtext" id="MJXp-Span-830">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">r</span><span class="MJXp-mrow" id="MJXp-Span-834"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> \ color {marr√≥n} {\ bar {P}} </script>  obtenido para la tercera capa es la posici√≥n m√°s confiable para la geometr√≠a de superficie distorsionada.  Puedes usar coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-836"><span class="MJXp-msubsup" id="MJXp-Span-837"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-839" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> T_3 </script>  derivado del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-840"><span class="MJXp-mtext" id="MJXp-Span-841">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-842">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">r</span><span class="MJXp-mrow" id="MJXp-Span-847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-849">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">r</span><span class="MJXp-mrow" id="MJXp-Span-852"><span class="MJXp-mo" id="MJXp-Span-853" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854">n</span></span><span class="MJXp-mrow" id="MJXp-Span-855"><span class="MJXp-mtext" id="MJXp-Span-856">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">r</span><span class="MJXp-mrow" id="MJXp-Span-860"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> \ color {marr√≥n} {\ bar {P}} </script>  , para compensar las coordenadas de textura del fragmento actual.  Obviamente, la precisi√≥n del m√©todo crece con el n√∫mero de capas. <br><br>  Los cambios en la implementaci√≥n afectar√°n solo a la funci√≥n ParallaxMapping, ya que ya contiene todas las variables necesarias para que el algoritmo funcione: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">vec2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ParallaxMapping</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(vec2 texCoords, vec3 viewDir)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    const float numLayers = 10; //    float layerDepth = 1.0 / numLayers; //    float currentLayerDepth = 0.0; //         //     P vec2 P = viewDir.xy * height_scale; vec2 deltaTexCoords = P / numLayers; [...] }</span></span></code> </pre> <br>  Primero, inicializamos: establecemos el n√∫mero de capas, calculamos la profundidad de cada una de ellas y, finalmente, encontramos el tama√±o del desplazamiento de las coordenadas de textura a lo largo de la direcci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-862"><span class="MJXp-mtext" id="MJXp-Span-863">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">r</span><span class="MJXp-mrow" id="MJXp-Span-869"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">r</span><span class="MJXp-mrow" id="MJXp-Span-874"><span class="MJXp-mo" id="MJXp-Span-875" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">n</span></span><span class="MJXp-mrow" id="MJXp-Span-877"><span class="MJXp-mtext" id="MJXp-Span-878">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881">r</span><span class="MJXp-mrow" id="MJXp-Span-882"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> \ color {marr√≥n} {\ bar {P}} </script>  , que deber√° desplazarse en cada capa. <br><br>  El siguiente es un pasaje a trav√©s de las capas, comenzando desde la parte superior, hasta que se encuentra una selecci√≥n del mapa de profundidad que se encuentra "por encima" del valor de profundidad de la capa actual: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   vec2 currentTexCoords = texCoords; float currentDepthMapValue = texture(depthMap, currentTexCoords).r; while(currentLayerDepth &lt; currentDepthMapValue) { //      P currentTexCoords -= deltaTexCoords; //          currentDepthMapValue = texture(depthMap, currentTexCoords).r; //     currentLayerDepth += layerDepth; } return currentTexCoords;</span></span></code> </pre> <br>  En este c√≥digo, atravesamos todas las capas de profundidad y cambiamos las coordenadas de textura originales hasta que la selecci√≥n del mapa de profundidad sea menor que la profundidad de la capa actual.  El desplazamiento se lleva a cabo restando de las coordenadas de textura originales del delta en funci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-884"><span class="MJXp-mtext" id="MJXp-Span-885">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">r</span><span class="MJXp-mrow" id="MJXp-Span-891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">r</span><span class="MJXp-mrow" id="MJXp-Span-896"><span class="MJXp-mo" id="MJXp-Span-897" style="margin-left: 0em; margin-right: 0em;">√≥</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">n</span></span><span class="MJXp-mrow" id="MJXp-Span-899"><span class="MJXp-mtext" id="MJXp-Span-900">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-903">r</span><span class="MJXp-mrow" id="MJXp-Span-904"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905">P</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ color {marr√≥n} {\ bar {P}} </script>  .  El resultado del algoritmo es un vector de desplazamiento de coordenadas de textura, definido con mucha mayor precisi√≥n que el mapeo de Parallax cl√°sico. <br><br>  Usando aproximadamente 10 muestras, el ejemplo de ladrillo se vuelve mucho m√°s realista, incluso cuando se ve desde un √°ngulo.  Pero lo mejor de todo, las ventajas de Steep PM son visibles en superficies con un mapa de profundidad, que tiene cambios bruscos en los valores.  Por ejemplo, como en este juguete de madera, ya demostrado anteriormente: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vr/to/7z/vrto7zfnycbrcu2jcf_qv0tc77e.png"></div><br>  Puede mejorar el algoritmo un poco m√°s si analiza un poco las caracter√≠sticas de la t√©cnica de Mapeo de Parallax.  Si miras la superficie aproximadamente normal, entonces no hay necesidad de cambiar fuertemente las coordenadas de textura, mientras que cuando miras un √°ngulo, el cambio tiende al m√°ximo (imagina mentalmente la direcci√≥n de la vista en ambos casos).  Si parametriza el n√∫mero de muestras dependiendo de la direcci√≥n de su mirada, puede ahorrar bastante cuando no se necesitan muestras adicionales: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> minLayers = <span class="hljs-number"><span class="hljs-number">8.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> maxLayers = <span class="hljs-number"><span class="hljs-number">32.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> numLayers = mix(maxLayers, minLayers, <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(dot(vec3(<span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>), viewDir)));</code> </pre> <br>  El resultado del producto escalar del vector <i>viewDir</i> y el semieje positivo Z se usa para determinar el n√∫mero de capas en el intervalo [ <i>minSamples</i> , <i>maxSamples</i> ], es decir  la direcci√≥n de la mirada determina el n√∫mero requerido de iteraciones del efecto (en el espacio tangente, el semieje positivo Z se dirige normal a la superficie).  Si miramos en paralelo a la superficie, el efecto usar√≠a las 32 capas. <br><br>  El c√≥digo fuente modificado est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Tambi√©n propongo descargar la textura de un juguete de madera: <a href="">mapa</a> <a href="">difuso</a> , <a href="">normal</a> <a href="">, mapa de profundidad</a> . <br><br>  No sin un enfoque y desventajas.  Dado que el n√∫mero de muestras es todo el mismo finito, la aparici√≥n de efectos de aliasing es inevitable, lo que hace que las transiciones entre capas sean sorprendentes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zk/ss/4y/zkss4ywet2bhtqtctuf-dz5phdc.png"></div><br>  Puede reducir la gravedad del artefacto al aumentar el n√∫mero de muestras utilizadas, pero r√°pidamente consume todo el rendimiento del procesador de video disponible.  Hay varias adiciones al m√©todo, que devuelven como resultado no el primer punto que apareci√≥ bajo el relieve imaginario de la superficie, sino el valor interpolado de las dos capas m√°s cercanas, lo que nos permite aclarar a√∫n m√°s la posici√≥n del punto. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-906"><span class="MJXp-mtext" id="MJXp-Span-907">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-912">r</span><span class="MJXp-mrow" id="MJXp-Span-913"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915">z</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">l</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">B</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> \ color {azul} B </script>  . <br><br>  De estos m√©todos, dos se usan con mayor frecuencia: <i>Relief Parallax Mapping</i> y <i>Parallax Occlusion Mapping</i> , con Relief PM dando los resultados m√°s confiables, pero tambi√©n es un poco m√°s exigente en cuanto al rendimiento en comparaci√≥n con Parallax Occlusion Mapping.  Dado que Parallax Occlusion Mapping sigue siendo bastante similar en calidad a Relief PM y al mismo tiempo funciona m√°s r√°pido, prefieren usarlo con mayor frecuencia.  A continuaci√≥n, se considerar√° la implementaci√≥n del mapeo de oclusi√≥n Parallax. <br><br><h3>  Mapeo de oclusi√≥n de paralaje </h3><br>  El m√©todo de mapeo de oclusi√≥n de Parallax funciona con los mismos principios b√°sicos que Steep PM, pero en lugar de usar las coordenadas de textura de la primera capa, donde se encontr√≥ una intersecci√≥n con un relieve imaginario, el m√©todo usa interpolaci√≥n lineal entre dos capas: la capa despu√©s y antes de la intersecci√≥n.  El coeficiente de ponderaci√≥n para la interpolaci√≥n lineal se basa en la relaci√≥n entre la profundidad de relieve actual y las profundidades de ambas capas en consideraci√≥n.  Eche un vistazo al diagrama para comprender mejor c√≥mo funciona todo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/q5/yj/sq/q5yjsqbgr445gh3hnznqbxoewje.png"></div><br>  Como puede ver, todo es muy similar a Steep PM, solo se agrega un paso adicional de interpolar las coordenadas de textura de las dos capas de profundidad adyacentes al punto de intersecci√≥n.  Por supuesto, este m√©todo es solo una aproximaci√≥n, pero mucho m√°s preciso que Steep PM. <br><br>  El c√≥digo de mapeo de oclusi√≥n de Parallax se suma al c√≥digo Steep PM y no es demasiado complicado: <br><br><pre> <code class="cpp hljs">[...] <span class="hljs-comment"><span class="hljs-comment">// ,    Steep PM //       , // ..  " " vec2 prevTexCoords = currentTexCoords + deltaTexCoords; //         //      float afterDepth = currentDepthMapValue - currentLayerDepth; float beforeDepth = texture(depthMap, prevTexCoords).r - currentLayerDepth + layerDepth; //    float weight = afterDepth / (afterDepth - beforeDepth); vec2 finalTexCoords = prevTexCoords * weight + currentTexCoords * (1.0 - weight); return finalTexCoords;</span></span></code> </pre> <br>  En el momento de encontrar la capa situada despu√©s del punto de intersecci√≥n con el relieve imaginario, tambi√©n determinamos las coordenadas de textura de la capa situada antes del punto de intersecci√≥n.  A continuaci√≥n, encontramos los desplazamientos de la profundidad de relieve imaginaria en relaci√≥n con las profundidades de las dos capas consideradas y utilizamos su relaci√≥n como el coeficiente de peso de una mayor interpolaci√≥n lineal de las coordenadas de textura correspondientes a las dos capas consideradas.  El resultado de la interpolaci√≥n es devuelto por la funci√≥n para uso futuro. <br><br>  El mapeo de oclusi√≥n de Parallax ofrece resultados sorprendentemente visualmente confiables, aunque con peque√±os defectos y artefactos de alias.  Pero para comprometer la velocidad y la calidad, son insignificantes y solo aparecen con una observaci√≥n cercana de la superficie cerca de la c√°mara o con √°ngulos de visi√≥n muy n√≠tidos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/40/-o/ju40-o2ktwtwzsxnytaf4pmi_3e.png"></div><br>  Un c√≥digo de ejemplo est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Parallax Mapping es realmente una excelente t√©cnica que le permite aumentar dr√°sticamente los detalles visuales de su escena, pero, por supuesto, tiene sus inconvenientes en forma de artefactos, que vale la pena recordar al implementar la t√©cnica en el proyecto.  En su mayor parte, el mapeo de paralaje se usa en superficies planas como paredes o pisos, donde no es tan f√°cil determinar el contorno de todo el objeto y el √°ngulo de visi√≥n de la superficie a menudo est√° cerca de la perpendicular.  En este caso, los defectos de Mapeo de Parallax son casi invisibles, en el contexto de un mayor detalle de la superficie. <br><br><h2>  Bonificaciones del traductor: </h2><br><h3>  Mapeo de paralaje en relieve </h3><br>  Como el autor mencion√≥ dos m√©todos para aclarar el resultado de Steep PM, para completar, describir√© el segundo de los enfoques. <br><br>  Al igual que Parallax Occlusion Mapping, el resultado de la ejecuci√≥n de Steep PM se usa aqu√≠, es decir.  sabemos las profundidades de dos capas entre las cuales se encuentra el punto real de intersecci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-919"><span class="MJXp-mtext" id="MJXp-Span-920">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">r</span><span class="MJXp-mrow" id="MJXp-Span-926"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-927">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">e</span></span><span class="MJXp-mrow" id="MJXp-Span-933"><span class="MJXp-mtext" id="MJXp-Span-934">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937">r</span><span class="MJXp-mrow" id="MJXp-Span-938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> \ color {orange} {\ bar {V}} </script>  con relieve, as√≠ como las correspondientes coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-940"><span class="MJXp-msubsup" id="MJXp-Span-941"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-943" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> T_2 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-944"><span class="MJXp-msubsup" id="MJXp-Span-945"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-947" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> T_3 </script>  .  El refinamiento de la estimaci√≥n del punto de intersecci√≥n en este m√©todo se debe al uso de la b√∫squeda binaria. <br><br>  Algoritmo de refinamiento pasos: <br><br><ul><li>  Realice el c√°lculo Steep PM y obtenga coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-948"><span class="MJXp-msubsup" id="MJXp-Span-949"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-951" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> T_2 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-952"><span class="MJXp-msubsup" id="MJXp-Span-953"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-955" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-57"> T_3 </script>  - en este intervalo se encuentra el punto de intersecci√≥n del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-956"><span class="MJXp-mtext" id="MJXp-Span-957">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">r</span><span class="MJXp-mrow" id="MJXp-Span-963"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">n</span></span><span class="MJXp-mrow" id="MJXp-Span-969"><span class="MJXp-mtext" id="MJXp-Span-970">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973">r</span><span class="MJXp-mrow" id="MJXp-Span-974"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> \ color {green} {\ bar {V}} </script>  con topograf√≠a de superficie.  La verdadera intersecci√≥n est√° marcada con una cruz roja. </li><li>  Divida en dos valores actuales para el desplazamiento de las coordenadas de textura y la altura de la capa de profundidad. </li><li>  Mover coordenadas de textura desde el punto <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-976"><span class="MJXp-msubsup" id="MJXp-Span-977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-979" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-59"> T_3 </script>  en la direcci√≥n opuesta al vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-980"><span class="MJXp-mtext" id="MJXp-Span-981">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">r</span><span class="MJXp-mrow" id="MJXp-Span-987"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">n</span></span><span class="MJXp-mrow" id="MJXp-Span-993"><span class="MJXp-mtext" id="MJXp-Span-994">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-995">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">r</span><span class="MJXp-mrow" id="MJXp-Span-998"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> \ color {green} {\ bar {V}} </script>  por la cantidad de desplazamiento.  Reduzca la profundidad de la capa por el valor de tama√±o de capa actual. </li><li>  B√∫squeda directa binaria.  Se repite el n√∫mero especificado de iteraciones: </li><li><ol><li>  Seleccione del mapa de profundidad.  Divida el desplazamiento de textura actual y el tama√±o de la capa de profundidad en dos valores actuales. </li><li>  Si el tama√±o de la muestra es mayor que la profundidad de la capa actual, aumente la profundidad de la capa por el tama√±o de la capa actual y cambie las coordenadas de textura a lo largo del vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1000"><span class="MJXp-mtext" id="MJXp-Span-1001">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1003">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1004">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1006">r</span><span class="MJXp-mrow" id="MJXp-Span-1007"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1010">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">n</span></span><span class="MJXp-mrow" id="MJXp-Span-1013"><span class="MJXp-mtext" id="MJXp-Span-1014">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1017">r</span><span class="MJXp-mrow" id="MJXp-Span-1018"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> \ color {green} {\ bar {V}} </script>  al desplazamiento actual. </li><li>  Si el tama√±o de la muestra es menor que la profundidad de la capa actual, reduzca la profundidad de la capa por el tama√±o de la capa actual y cambie las coordenadas de textura a lo largo del vector inverso <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1020"><span class="MJXp-mtext" id="MJXp-Span-1021">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1024">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">r</span><span class="MJXp-mrow" id="MJXp-Span-1027"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1030">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032">n</span></span><span class="MJXp-mrow" id="MJXp-Span-1033"><span class="MJXp-mtext" id="MJXp-Span-1034">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1037">r</span><span class="MJXp-mrow" id="MJXp-Span-1038"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1039">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> \ color {green} {\ bar {V}} </script>  al desplazamiento actual. </li></ol><br></li><li>  Las √∫ltimas coordenadas de textura obtenidas son los resultados de Relief PM. </li></ul><div style="text-align:center;"><img src="https://habrastorage.org/webt/n1/ec/r-/n1ecr-vyphcwbescgvzyvyylkze.png"></div><br>  La imagen muestra que despu√©s de encontrar los puntos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1040"><span class="MJXp-msubsup" id="MJXp-Span-1041"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1043" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63"> T_2 </script>  y <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1044"><span class="MJXp-msubsup" id="MJXp-Span-1045"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046" style="margin-right: 0.05em;">T</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1047" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64"> T_3 </script>  reducimos a la mitad el tama√±o de la capa y el tama√±o del desplazamiento de las coordenadas de textura, lo que nos da el primer punto de iteraci√≥n de la b√∫squeda binaria (1).  Dado que el tama√±o de la muestra result√≥ ser mayor que la profundidad actual de la capa, reducimos a la mitad los par√°metros nuevamente y avanzamos <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1048"><span class="MJXp-mtext" id="MJXp-Span-1049">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054">r</span><span class="MJXp-mrow" id="MJXp-Span-1055"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060">n</span></span><span class="MJXp-mrow" id="MJXp-Span-1061"><span class="MJXp-mtext" id="MJXp-Span-1062">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">r</span><span class="MJXp-mrow" id="MJXp-Span-1066"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">V</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65"> \ color {green} {\ bar {V}} </script>  obteniendo punto (2) con coordenadas de textura <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1068"><span class="MJXp-msubsup" id="MJXp-Span-1069"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1071" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> T_p </script>  que ser√° el resultado de Steep PM para dos iteraciones de la b√∫squeda binaria. <br><br>  C√≥digo de sombreador: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  : inTexCoords -   , // inViewDir -      - //  : lastDepthValue ‚Äì      //      vec2 reliefPM(vec2 inTexCoords, vec3 inViewDir, out float lastDepthValue) { // ====== // ,   Steep PM // ====== const float _minLayers = 2.; const float _maxLayers = 32.; float _numLayers = mix(_maxLayers, _minLayers, abs(dot(vec3(0., 0., 1.), inViewDir))); float deltaDepth = 1./_numLayers; // uDepthScale ‚Äì     PM vec2 deltaTexcoord = uDepthScale * inViewDir.xy/(inViewDir.z * _numLayers); vec2 currentTexCoords = inTexCoords; float currentLayerDepth = 0.; float currentDepthValue = depthValue(currentTexCoords); while (currentDepthValue &gt; currentLayerDepth) { currentLayerDepth += deltaDepth; currentTexCoords -= deltaTexcoord; currentDepthValue = depthValue(currentTexCoords); } // ====== //   Relief PM // ====== //         deltaTexcoord *= 0.5; deltaDepth *= 0.5; //      ,   Steep PM currentTexCoords += deltaTexcoord; currentLayerDepth -= deltaDepth; //    ‚Ä¶ const int _reliefSteps = 5; int currentStep = _reliefSteps; while (currentStep &gt; 0) { currentDepthValue = depthValue(currentTexCoords); deltaTexcoord *= 0.5; deltaDepth *= 0.5; //       , //       if (currentDepthValue &gt; currentLayerDepth) { currentTexCoords -= deltaTexcoord; currentLayerDepth += deltaDepth; } //       else { currentTexCoords += deltaTexcoord; currentLayerDepth -= deltaDepth; } currentStep--; } lastDepthValue = currentDepthValue; return currentTexCoords; }</span></span></code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Auto-sombreado </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n una peque√±a adici√≥n sobre agregar sombreado de una fuente de luz seleccionada al algoritmo de c√°lculo. </font><font style="vertical-align: inherit;">Decid√≠ agregar, porque t√©cnicamente el m√©todo de c√°lculo es id√©ntico a los considerados anteriormente, pero el efecto sigue siendo interesante y agrega detalles. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De hecho, se aplica el mismo Steep PM, pero la b√∫squeda no se profundiza en la superficie simulada a lo largo de la l√≠nea de visi√≥n, sino desde la superficie, a lo largo del vector hasta la fuente de luz</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1072"><span class="MJXp-mstyle" id="MJXp-Span-1073" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1074"><span class="MJXp-munderover" id="MJXp-Span-1075"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1077" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67">\color{green}{\bar{L}}</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este vector tambi√©n se transfiere al espacio tangente y se usa para determinar la cantidad de desplazamiento de las coordenadas de textura. </font><font style="vertical-align: inherit;">A la salida del m√©todo, se obtiene un coeficiente de iluminaci√≥n del material en el intervalo [0, 1], que se utiliza para modular los componentes difusos y espejos en los c√°lculos de iluminaci√≥n. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para definir el sombreado con bordes afilados, simplemente camine a lo largo del vector</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1078"><span class="MJXp-mstyle" id="MJXp-Span-1079" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1080"><span class="MJXp-munderover" id="MJXp-Span-1081"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1083" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hasta que un punto se encuentre debajo de la superficie. </font><font style="vertical-align: inherit;">Tan pronto como se encuentre dicho punto, tomamos el coeficiente de iluminaci√≥n 0. Si alcanzamos la profundidad cero sin encontrar un punto debajo de la superficie, entonces tomamos el coeficiente de iluminaci√≥n igual a 1.</font><font style="vertical-align: inherit;">Para determinar el sombreado con bordes suaves, es necesario verificar varios puntos que se encuentran en el vector</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-68">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1084"><span class="MJXp-mstyle" id="MJXp-Span-1085" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1086"><span class="MJXp-munderover" id="MJXp-Span-1087"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1089" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y ubicado debajo de la superficie. El factor de sombreado se toma igual a la diferencia entre la profundidad de la capa actual y la profundidad del mapa de profundidad. Tambi√©n se tiene en cuenta la eliminaci√≥n del siguiente punto del fragmento en cuesti√≥n en forma de un coeficiente de peso igual a (</font><i><font style="vertical-align: inherit;">1.0 - stepIndex / numberOfSteps</font></i><font style="vertical-align: inherit;">). En cada paso, un coeficiente parcial de iluminaci√≥n se determina como:</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1090"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1093"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1095" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1096" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mo" id="MJXp-Span-1097" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1108"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1110" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1111" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1119"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1121"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1126"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1130" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1131" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-1132" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àó </font></font></span><span class="MJXp-mo" id="MJXp-Span-1133" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mn" id="MJXp-Span-1134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0 </font></font></span><span class="MJXp-mo" id="MJXp-Span-1135" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1136" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1141"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1146" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-70">PSF_i=(layerHeight_i - heightFromtexture_i)*(1.0-\frac{i}{numSteps})</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El resultado final es el factor de luz m√°ximo de todo parcial: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1148"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mo" id="MJXp-Span-1150" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span class="MJXp-mo" id="MJXp-Span-1154" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1159" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1160" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-71">SF=max(PSF_i)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El esquema del m√©todo: </font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wl/-p/10/wl-p10aqqmrz8v9qlaxu2sciapk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El progreso del m√©todo para tres iteraciones en este ejemplo: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inicializamos el factor de luz total a cero. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Da un paso a lo largo del vector </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1161"><span class="MJXp-mstyle" id="MJXp-Span-1162" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1163"><span class="MJXp-munderover" id="MJXp-Span-1164"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1166" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1165"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , llegando al punto</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1167"><span class="MJXp-msubsup" id="MJXp-Span-1168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1170" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73">H_a</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La profundidad del punto es claramente menor que la selecci√≥n del mapa. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-1173" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1174"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1176" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mn" id="MJXp-Span-1178"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1179" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : est√° debajo de la superficie. </font><font style="vertical-align: inherit;">Aqu√≠ realizamos el primer control y, recordando el n√∫mero total de controles, encontramos y guardamos el primer factor de luz parcial: (1.0 - 1.0 / 3.0).</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74">H(T_{L1})</script><font style="vertical-align: inherit;"></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Da un paso a lo largo del vector </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1180"><span class="MJXp-mstyle" id="MJXp-Span-1181" style="color: green;"><span class="MJXp-mrow" id="MJXp-Span-1182"><span class="MJXp-munderover" id="MJXp-Span-1183"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.92em;"><span class="MJXp-mo" id="MJXp-Span-1185" style="margin-left: 0px; margin-right: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Àâ </font></font></span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1184"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L</font></font></span></span></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , llegando al punto</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-75">\color{green}{\bar{L}}</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1186"><span class="MJXp-msubsup" id="MJXp-Span-1187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1189" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76">H_b</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La profundidad del punto es claramente menor que la selecci√≥n del mapa. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mo" id="MJXp-Span-1192" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1194" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1195" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1196"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mn" id="MJXp-Span-1197"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1198" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : est√° debajo de la superficie. </font><font style="vertical-align: inherit;">La segunda verificaci√≥n y el segundo coeficiente parcial: (1.0 - 2.0 / 3.0).</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77">H(T_{L2})</script><font style="vertical-align: inherit;"></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Damos un paso m√°s a lo largo del vector y llegamos a la profundidad m√≠nima de 0. Detenga el movimiento. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definici√≥n del resultado: si no se encontraron puntos debajo de la superficie, entonces devolvemos un coeficiente igual a 1 (sin sombreado). </font><font style="vertical-align: inherit;">De lo contrario, el coeficiente resultante se convierte en el m√°ximo de los parciales calculados. </font><font style="vertical-align: inherit;">Para usar en los c√°lculos de iluminaci√≥n, restamos este valor de la unidad.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ejemplo de c√≥digo de sombreador: </font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  : inTexCoords -   , // inLightDir -       - //  : inLastDepth ‚Äì    , //      PM //       //    float getParallaxSelfShadow(vec2 inTexCoords, vec3 inLightDir, float inLastDepth) { float shadowMultiplier = 0.; //      , //    float alignFactor = dot(vec3(0., 0., 1.), inLightDir); if (alignFactor &gt; 0.) { //   :  ,  //  ,     const float _minLayers = 16.; const float _maxLayers = 32.; float _numLayers = mix(_maxLayers, _minLayers, abs(alignFactor)); float _dDepth = inLastDepth/_numLayers; vec2 _dtex = uDepthScale * inLightDir.xy/(inLightDir.z * _numLayers); //  ,    int numSamplesUnderSurface = 0; //       //     L float currentLayerDepth = inLastDepth - _dDepth; vec2 currentTexCoords = inTexCoords + _dtex; float currentDepthValue = depthValue(currentTexCoords); //    float stepIndex = 1.; // ,       ‚Ä¶ while (currentLayerDepth &gt; 0.) { //     ,     //       if (currentDepthValue &lt; currentLayerDepth) { numSamplesUnderSurface++; float currentShadowMultiplier = (currentLayerDepth - currentDepthValue)*(1. - stepIndex/_numLayers); shadowMultiplier = max(shadowMultiplier, currentShadowMultiplier); } stepIndex++; currentLayerDepth -= _dDepth; currentTexCoords += _dtex; currentDepthValue = depthValue(currentTexCoords); } //      ,   //      1 if (numSamplesUnderSurface &lt; 1) shadowMultiplier = 1.; else shadowMultiplier = 1. - shadowMultiplier; } return shadowMultiplier; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El coeficiente resultante se utiliza para modular el resultado del modelo de iluminaci√≥n Blinn-Fong utilizado en los ejemplos: </font></font><br><br><pre> <code class="cpp hljs">[...] <span class="hljs-comment"><span class="hljs-comment">//      vec3 fullColorADS = ambientTerm + attenuation * (diffuseTerm + specularTerm); //     -  fullColorADS *= pmShadowMultiplier; return fullColorADS;</span></span></code> </pre><br> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaci√≥n de todos los m√©todos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en un collage, volumen de 3 MB. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n una comparaci√≥n de video:</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Materiales adicionales </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapeo de oclusi√≥n de paralaje en GLSL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : una gran lecci√≥n de mapeo de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paralaje</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><b><font style="vertical-align: inherit;">sunandblackcat.com</font></b><font style="vertical-align: inherit;"> .</font></font></li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo funciona el mapeo de desplazamiento de Parallax</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : un video tutorial que explica los detalles del mapeo de Parallax de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TheBennyBox</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li></ul><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Tenemos un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telegrama conf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para la coordinaci√≥n de transferencias. </font><font style="vertical-align: inherit;">Si tiene un serio deseo de ayudar con la traducci√≥n, ¬°de nada!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es416163/">https://habr.com/ru/post/es416163/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es416153/index.html">¬øLos aviones se volver√°n m√°s confiables? Los fabricantes de aviones presentan robots a las empresas</a></li>
<li><a href="../es416155/index.html">WebSockets en Angular: cree un servicio angular para trabajar con sockets web</a></li>
<li><a href="../es416157/index.html">En los brazos de Python (solo mujeres)</a></li>
<li><a href="../es416159/index.html">C√≥mo nos encargaron comparar un erizo con una serpiente</a></li>
<li><a href="../es416161/index.html">10 razones [para no] usar k8s</a></li>
<li><a href="../es416167/index.html">Peter Norwig: Aprenda programaci√≥n en ... 10 a√±os</a></li>
<li><a href="../es416169/index.html">Contenedores para adultos (Parte 01): una gu√≠a pr√°ctica de terminolog√≠a</a></li>
<li><a href="../es416171/index.html">Pruebas de IU codificadas de Visual Studio: teor√≠a y pr√°ctica de aplicaci√≥n en nuestra empresa</a></li>
<li><a href="../es416175/index.html">Resultados de la competencia de j√≥venes desarrolladores de aplicaciones AR Epson Moverio BT-300</a></li>
<li><a href="../es416177/index.html">F√≥rmula Tupper e implementaci√≥n del algoritmo en Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>