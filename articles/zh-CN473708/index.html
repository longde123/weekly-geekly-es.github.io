<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍣 🔷 😨 自制电动车-一切都不是您想的 🐙 ✋🏿 ⏸️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好 在大学学习期间，我收集了一辆小型电动汽车，油井或卡片。 他的诀窍是将电驱动的所有控制（包括制动器）都交给了一个临时控制器。 关于我如何做这辆小汽车，以及我在建造过程中遇到的陷阱-我想在这份材料中讲述。 这些材料并不声称是独特的，但是对我而言，这是一次很棒而有趣的经历。 



 故事的主题是...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>自制电动车-一切都不是您想的</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473708/"> 大家好 在大学学习期间，我收集了一辆小型电动汽车，油井或卡片。 他的诀窍是将电驱动的所有控制（包括制动器）都交给了一个临时控制器。 关于我如何做这辆小汽车，以及我在建造过程中遇到的陷阱-我想在这份材料中讲述。 这些材料并不声称是独特的，但是对我而言，这是一次很棒而有趣的经历。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0d7/ba5/bcd/0d7ba5bcd39361bb01bdd48e517dfef1.jpg" alt="图片"><br><a name="habracut"></a><br> 故事的主题是硬件和软件方面的交集。 在控制器的固件中，我不是在处理一些抽象的概念或数据，而是在处理非常真实的“物理”设备：继电器，电动机，晶体管等。 因此，我将简要介绍技术部分，即所有手鼓跳舞时的构成。 <br><br><h2> 主要节点 </h2><br> 牵引电机-通用集电器。 它既可以使用直流电也可以使用交流电。 工作电压220伏。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e16/7d7/b68/e167d7b689f2550e86b9952e6a642125.jpg" alt="图片"><br><br> 该电池是由Casil制造的25个6伏铅酸电池，串联连接，结果得到了150-160伏的电池。 它安装在背面，并用蓝色胶带缠绕，一切都应按其应做的:) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c0f/c4f/b13/c0fc4fb132bc5363c231df22b9ecb5c7.jpg" alt="图片"><br><br> 发动机通过齿轮比i = 10的蜗轮驱动车轮。 照片显示，发动机是使用小型滚轮连接到变速箱的，该滚轮是经过特殊加工的。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/38c/a83/d6f38ca83b6009735c06a4f0355ce1b4.jpg" alt="图片"><br><br> 原则上不是制动系统，即带有制动钳的制动盘。 当时物理制动没有用。 因此，发动机制动仍然是唯一的实际选择，因此控制器还必须控制机器的制动。 <br><br><h2> 控制单元控制器 </h2><br> 原则上，用于电动车辆的简单控制器也可以组装在“松散床”上。 但是，我希望它能够在21世纪的帮助下，借助该程序完美地配置所有内容。 在晚餐上经过长时间的高度科学讨论之后，我决定以微芯片pic16f877a作为控制器的基础，以下是其简要特征： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3d4/775/d75/3d4775d758648f5590a09594e4c5389a.jpg" alt="图片"><br><br> 那时，我并不是真的对电子产品感到迷惑，起初我想让电路愚蠢地变拙-引擎已打开或引擎已关闭，但是没有继电器，而是放置了晶体管键，因此没有咔嗒声并且不会燃烧。 但是我认为风险是合理的，我没有损失任何东西，我只是想做点有价值的事情。 因此，我决定将一堆微控制器+功率场效应晶体管作为关键。 油门和倒档按钮带到方向盘上。 <br><br><h2> 电路特征 </h2><br> 在选择晶体管时，我没有did漏，而是选择了IRFP4227PBF-N沟道场效应晶体管（以正脉冲打开），电压为200伏，最大电流为130安培。 案例TO-247AC。 但是，展望未来，我会说-我能够燃烧它。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c72/18c/3ea/c7218c3ea988d6fbb05736a0d83b1f57.jpg" alt="图片"><br><br><h2>  PWM-它是什么？ </h2><br> 由于我将微控制器与场效应晶体管配合使用，因此不尝试在电路中使用pwm / pWM是一个罪过。 什么是垫片？ 脉冲宽度调制（PWM）是通过对设备进行开和关脉动的方法进行功率控制的过程。  -多亏了Wikipedia。 <br><br> 这种控制晶体管的方法的优点是：在工作期间，它处于两种状态-要么完全闭合，没有电流，什么都没有加热，要么完全断开，并且其电阻分别为几英里，一部分瓦特的热量耗散到晶体管本身的热量中，即瓦特，在这种操作模式下，电路几乎不发热。 而这样的过程-打开/关闭每秒发生数千次。 这称为PWM频率。 还有一种叫做“占空比”的东西。 翻译成人类语言-此图显示了晶体管打开的时间。 如果我们更深入一点-假设我们的PWM信号频率为1000赫兹。 因此，晶体管每秒打开和关闭1000次，导通和关断之间的切换过程仅为1/1000的十分之一秒。 值1/1000是频率的周期。 在占空比的帮助下，我们显示了从晶体管打开到有电流流过这段时间的那部分时间。 例如：在程序中，占空比255是最大功率，127-50％，0-晶体管关闭。 <br><br> 为了产生这样的频率，虽然有软件实现的可能性，但使用了内置于芯片中的“物理”控制器，但是在这种情况下，控制器将仅执行在指定的周期和占空比上产生频率的操作。 使用MK外围的控制器，可以生成信号，以便程序可以执行其他操作。 <br><br> 进入森林越远，狼就越生气-电驱动的效果如何取决于PWM频率。 每次以编程方式更改时，我都尝试了2至15 kHz的不同频率。 老实说，我没注意到太大的区别，但我敢肯定。 不幸的是，无法获得足够数量的有关此问题的数据。 我唯一注意到的是机器在运行过程中以不同的频率发出吱吱声。 顺便说一句，如果有人在地铁，电动公交车和火车中发现，在开始时您会听到隆隆声，吱吱声，how叫声-由于在控制器频率下工作，这与电动机绕组的吱吱声相同。 这在火车“燕子”上非常明显，该火车在起步时沿着MCC行驶。 <br><br><h2> 工作算法中的陷阱 </h2><br> 下一个问题是发动机倒车。 发动机是一个集电器，它有两个绕组-静止不动-定子在机体上，旋转-转子。 为了改变旋转方向，有必要在一个绕组中分配电流方向，而不是在另一个绕组中分配电流。 为此，使用了两个继电器，它们同时工作，在向它们供电时将电路“掷回”到反向。 但是在固件的第一个版本中，出现了错误-继电器在负载下切换。 在负载下进行测试的结果是，有两个烧断的继电器，因为电动机是感性负载，并且继电器触点上有很强的电弧，因此触点在开关过程中容易熔化并烧毁。 <br><br> 摆脱这种情况的方法是将程序引入条件，即在关闭电源之前，我们通过将PWM信号的占空比旋为0来释放负载，然后释放继电器，然后将功率恢复到设定水平。 这正是汽车刹车的工作方式-后退。 只有铁杆-没有传感器和编码器，什么也没有。 这是继电器的照片，有点像来自拉达的起动继电器。 如果您在无负载的情况下切换它们，它们也可以在高电压下工作，它们在15安培时保持160伏特的电压，但是我承认，由于横截面小，触点被加热了。 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1b/358/156/f1b35815670bb9af015657ad127eb8aa.jpg" alt="图片"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3b7/773/5c6/3b77735c6de9a2be1be39ce765877dd5.jpg" alt="图片"><br><br> 完成固件后，电源平稳地上升到给定的水平。 这已经消除了节点上的传输和负载冲击。 这就是程序中的一行可以增加设备寿命的方式。 <br><br><h2> 我们将控制器与晶体管正确连接 </h2><br> 只剩下将晶体管与控制器正确连接。 我直接通过光纤对这样做有些不正确。 但是，当在低电压下工作时，该电路会滚动，在高工作电压下，晶体管的快门会不断燃烧，因此需要推挽驱动器进行控制。 正常电路如下所示。 但是，一次有一个光学对的电路就足够了，这真是个奇迹，它可以用于试驾，并且在烧毁之后立即开始烧坏。 这是“正确”驱动器的示意图，仅在我的版本中，光学器件仍然与控制器分离。 从Drive2拍摄的图像： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/723/f64/92d/723f6492daa996d517a83d2ad563376e.jpg" alt="图片"><br><br><h2> 一些有趣的观点 </h2><br><ul><li> 启动时，即使没有负载，电动机也会消耗更多的电能。 当转子在启动过程中制动时，石墨电刷开始冒烟。 </li><li> 在那一刻，当晶体管在机器上烧坏时，它开始自行消失，因为只有晶体管将电池与发动机分开。 因此，如果您不想追赶汽车并祈祷它不会撞到任何人，那么引入保护方案是合理的。 </li><li> 我使用的引擎来自洗衣机。 空载时的营业额为14,000，这令人难以置信，但这个数字已印在铭牌上。 尽管他完美地“从底部”拉。 </li><li> 在没有负载的情况下，电池上的电压会下降，我大约有150伏，如果负载太低，它可以平静地变为140伏；如果电池电压太低，则为130伏，因此，在最初的几分钟内，当新电池耗尽时，汽车可以很好地行驶在大约20％至30％的能量中，开始或多或少地开始了运行模式，汽车行驶速度越来越慢，加速速度也越来越慢，但并不是那么明显。 当电池消耗了大约70％的电量时，骑行变成了乌龟路线。 </li><li> 由于百叶窗上的过电压，我什至设法烧毁了一个功能强大的晶体管。 为了防止这种情况，您需要使用一个二极管将晶体管栅极旁路至晶体管驱动器的+电源。 </li><li> 使用小田鼠上的低功率晶体管开关将继电器连接到MK。 </li></ul><br><h2> 最后，视频发生了什么 </h2><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3tFyz7RdQ7k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 通常，我对电驱动器的实验是从学校开始的，我尝试了许多不同的设计，但这是当时最成功的方案。 如果您喜欢这种材料，我会写一篇关于整个史诗的单独文章。 <br><br>  UPD：感谢所有人的答复，更改了本文中的错误 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473708/">https://habr.com/ru/post/zh-CN473708/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473692/index.html">Ennoble Phicomm K3C Wi-Fi路由器</a></li>
<li><a href="../zh-CN473694/index.html">俄罗斯是全球CAD开发中心。 你知道吗</a></li>
<li><a href="../zh-CN473702/index.html">terahash区块链中的分片是什么</a></li>
<li><a href="../zh-CN473704/index.html">兄弟VS. 不兄弟</a></li>
<li><a href="../zh-CN473706/index.html">Zoia：轻型反应式CMS，可快速开发网站</a></li>
<li><a href="../zh-CN473710/index.html">文档和本地化的原则，或如何以最小的成本获得良好的本地化</a></li>
<li><a href="../zh-CN473714/index.html">我是如何使用F＃编写RISC-V处理器的正式规范的</a></li>
<li><a href="../zh-CN473716/index.html">鼠标驱动的小部件。 在窗口内拖放</a></li>
<li><a href="../zh-CN473718/index.html">如何在不编写任何Go代码的情况下将检查添加到NoVerify</a></li>
<li><a href="../zh-CN473720/index.html">进行可靠的单元测试的两种方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>