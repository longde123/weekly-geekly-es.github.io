<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚Ñ¢Ô∏è üë©üèª‚Äçüè≠ üë©üèæ‚ÄçüöÄ Keybase und echte TOFU üè∫ üöÖ üëßüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei Messenger mit End-to-End-Verschl√ºsselung (E2E) ist der Benutzer f√ºr seine Schl√ºssel verantwortlich. Wenn er sie verliert, muss er sein Konto zur√ºc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keybase und echte TOFU</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449350/">  Bei Messenger mit End-to-End-Verschl√ºsselung (E2E) ist der Benutzer f√ºr seine Schl√ºssel verantwortlich.  Wenn er sie verliert, muss er sein Konto zur√ºcksetzen. <br><br>  Das Zur√ºcksetzen eines Kontos ist gef√§hrlich.  Sie l√∂schen die √∂ffentlichen Schl√ºssel und werden in allen Gespr√§chen zu einem kryptografischen Fremden.  Sie m√ºssen Ihre Identit√§t wiederherstellen. In fast allen F√§llen bedeutet dies ein pers√∂nliches Treffen und einen Vergleich der ‚ÄûSicherheitsnummern‚Äú mit jedem der Kontakte.  Wie oft durchlaufen Sie wirklich einen solchen Test, der der einzige Schutz vor MiTM ist? <br><br>  Selbst wenn Sie es mit Sicherheitsnummern ernst meinen, sehen Sie auf einer Konferenz nur einmal im Jahr viele Chat-Partner, sodass Sie nicht weiterkommen. <br><a name="habracut"></a><br>
<h1>  Aber das kommt selten vor, oder? </h1><br>  Wie oft erfolgt ein Reset?  Antwort: In den meisten E2E-Chat-Anwendungen st√§ndig. <br><br>  In diesen Instant Messenger l√∂schen Sie die Kryptografie und vertrauen einfach dem Server: (1) wenn Sie zu einem neuen Telefon wechseln;  (2) wann immer ein Gespr√§chspartner zu einem neuen Telefon wechselt;  (3) beim Zur√ºcksetzen auf die Werkseinstellungen des Telefons;  (4) wenn ein Gespr√§chspartner die Werkseinstellungen zur√ºcksetzt;  (5) wann immer Sie die Anwendung deinstallieren und neu installieren oder (6) wann immer eine Person, mit der Sie sprechen, sie deinstalliert und neu installiert.  Wenn Sie Dutzende von Kontakten haben, wird alle paar Tage ein Reset durchgef√ºhrt. <br><br>  Das Zur√ºcksetzen erfolgt so regelm√§√üig, dass diese Anwendungen so tun, als sei dies kein Problem: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbe/046/a7f/dbe046a7fde23783eff076ae8a59084a.png"></div><br>  <i>Es sieht so aus, als h√§tten wir ein Sicherheitsupgrade!</i>  <i>(Aber nicht wirklich)</i> <br><br><h1>  Ist es wirklich TOFU? </h1><br>  In der Kryptographie beschreibt der Begriff TOFU ("Vertrauen bei der ersten Verwendung") ein Gl√ºcksspiel, wenn zwei Parteien zum ersten Mal miteinander sprechen.  Anstatt sich pers√∂nlich zu treffen, ist der Mediator f√ºr jede Seite verantwortlich ... und nachdem die Parteien sich pr√§sentiert haben, √ºberwacht jede Seite sorgf√§ltig die Schl√ºssel, um sicherzustellen, dass sich nichts ge√§ndert hat.  Wenn sich der Schl√ºssel ge√§ndert hat, gibt jede Seite einen Alarm aus. <br><br>  Wenn sich der Schl√ºssel des Remote-Hosts in einer solchen Situation in SSH √§ndert, funktioniert er nicht nur, sondern wird vollst√§ndig kriegerisch: <br><br><blockquote><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> @ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @ <br> @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> <br> IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! <br> Someone could be eavesdropping on you right now (man-in-the-middle attack)! <br> It is also possible that a host key has just been changed. <br> The fingerprint for the RSA key sent by the remote host is <br> 00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff <br> Please contact your system administrator. <br> Add correct host key in /Users/rmueller/.ssh/known_hosts to get rid of this message. <br> Offending RSA key in /Users/rmueller/.ssh/known_hosts:12 <br> RSA host key for 8.8.8.8 has changed and you have requested strict checking. <br> Host key verification failed.</code> </blockquote> <br>  Hier ist das richtige Verhalten.  Und denken Sie daran: <b>Dies ist kein TOFU, wenn Sie mit einer kleinen Warnung weiterarbeiten k√∂nnen.</b>  <b>Sie sollten einen riesigen Sch√§del mit gekreuzten Knochen sehen</b> . <br><br>  Nat√ºrlich werden diese Instant Messenger behaupten, dass alles in Ordnung ist, weil der Benutzer gewarnt wird.  Wenn er will, <i>kann er</i> die Sicherheitsnummern √ºberpr√ºfen.  Deshalb sind wir uns nicht einig: <br><br><ol><li>  Die √úberpr√ºfung wird nicht durchgef√ºhrt, da dies zu oft vorkommt. <br></li><li>  √úberpr√ºfen Sie saugt. <br></li><li>  Selbst eine fl√ºchtige Umfrage unter unseren Freunden, die sich um die Sicherheit sorgen, ergab, dass sich niemand Sorgen um diesen Test macht. <br></li><li>  Es geht also nur darum, dem Server zu vertrauen und SMS zu vertrauen (na ja!). <b>Immer wieder</b> . <br></li><li>  Schlie√ülich sollten diese Anwendungen nicht auf diese Weise funktionieren.  Besonders beim Ger√§tewechsel.  Ein typischer Normalfall kann reibungslos und sicher behandelt werden. Je seltener die Situation, desto schlechter sollte sie aussehen.  Zeigen Sie in einer Minute die Keybase-L√∂sung. </li></ol><br><h1>  H√∂r auf, es TOFU zu nennen </h1><br>  Es gibt einen sehr effektiven Angriff.  Angenommen, Eve m√∂chte in das bestehende Gespr√§ch von Alice und Bob einbrechen und zwischen ihnen stehen.  Alice und Bob sind seit vielen Jahren in Kontakt, nachdem sie TOFU l√§ngst bestanden haben. <br><br>  Eva l√§sst Alice nur denken, dass Bob ein neues Telefon gekauft hat: <br><br><blockquote>  <b>Bob (Eva):</b> Hey, hey! <br><br>  <b>Alice:</b> Yo, Bob!  Es sieht so aus, als h√§tten Sie neue Sicherheitsnummern. <br><br>  <b>Bob (Eva):</b> Ja, ich habe das iPhone XS gekauft, ein gutes Telefon, sehr zufrieden damit.  Lassen Sie uns die Sicherheitsnummern des RWC 2020 austauschen. Hey, haben Sie Ihre aktuelle Caroline-Adresse?  Ich m√∂chte sie √ºberraschen, w√§hrend ich in San Francisco bin. <br><br>  <b>Alice: Ich</b> kann es nicht vergleichen, Android 4 Leben!  Ja, Cosy Street 555. </blockquote><br>  Daher ist es unwahrscheinlich, dass die meisten verschl√ºsselten Messenger die TOFU-Konformit√§t erreichen.  Dies √§hnelt eher TADA - Vertrauen nach dem Hinzuf√ºgen von Ger√§ten.  Dies ist ein reales, kein fiktives Problem, da es die M√∂glichkeit einer b√∂swilligen Implementierung in einer bereits vorhandenen Konversation bietet.  In einer echten TOFU kann jemand, der sich f√ºr Ihr Gespr√§ch interessiert, es nicht infiltrieren.  Mit TADA ist dies m√∂glich. <br><br>  In Gruppenchats ist die Situation noch schlimmer.  Je mehr Personen im Chat sind, desto h√§ufiger wird das Konto neu installiert.  In einem Unternehmen mit nur 20 Mitarbeitern wird dies nach unserer Sch√§tzung ungef√§hr alle zwei Wochen geschehen.  Und jede Person im Unternehmen muss diese Person treffen.  Pers√∂nlich.  Andernfalls wird der gesamte Chat von einem Maulwurf oder Hacker kompromittiert. <br><br><h1>  L√∂sung </h1><br>  Gibt es eine gute L√∂sung, die kein Vertrauen in private Schl√ºsselserver impliziert?  Wir glauben, dass es Folgendes gibt: echte Unterst√ºtzung f√ºr mehrere Ger√§te.  Dies bedeutet, dass Sie eine Kette von Ger√§ten verwalten, die Ihre Identit√§t darstellen.  Wenn Sie ein neues Ger√§t (Telefon, Laptop, Desktop-Computer, iPad usw.) erhalten, generiert es ein eigenes Schl√ºsselpaar und Ihr vorheriges Ger√§t signiert es.  Wenn Sie das Ger√§t verlieren, l√∂schen Sie es von einem der verbleibenden Ger√§te.  Technisch gesehen ist ein solches L√∂schen ein R√ºckruf, und in diesem Fall gibt es auch eine Art Schl√ºsselumkehr, die automatisch erfolgt. <br><br>  Daher m√ºssen <b>Sie dem Server nicht vertrauen oder sich pers√∂nlich treffen, wenn der Gespr√§chspartner oder Kollege ein neues Ger√§t erh√§lt</b> .  Ebenso m√ºssen Sie dem Server nicht vertrauen oder sich pers√∂nlich treffen, wenn er das Ger√§t entfernt, wenn es nicht das letzte war.  Sie m√ºssen nur dann eine Warnung sehen, wenn jemand wirklich den Zugriff auf alle Einstellungen verliert.  Und in diesem Fall sehen Sie eine ernsthafte Warnung, wie es sein sollte: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b52/c11/c30/b52c11c30705695088a044658f3fb608.png"></div><br>  <i><font color="gray">Besonders maximal h√§sslich</font></i> <br><br>  Infolgedessen werden viel weniger Konten zur√ºckgesetzt und neu installiert.  In der Vergangenheit betrug die Gesamtzahl der Ger√§te-Add-Ons und -Bewertungen auf Keybase das Zehnfache der Anzahl der Kontoentladungen (Sie m√ºssen nicht unser Wort daf√ºr nehmen, dies ist in unserem Merkle-Baum √∂ffentlich verf√ºgbar).  Im Gegensatz zu anderen Messenger k√∂nnen wir eine wirklich erschreckende Warnung anzeigen, wenn Sie mit jemandem sprechen, der k√ºrzlich die Schl√ºssel neu installiert hat. <br><br>  Das Ger√§te-Management ist ein komplexer Engineering-Vorgang, den wir mehrfach verfeinert haben.  Das vorhandene Ger√§t signiert die √∂ffentlichen Schl√ºssel des neuen Ger√§ts und verschl√ºsselt alle wichtigen geheimen Daten f√ºr den √∂ffentlichen Schl√ºssel des neuen Ger√§ts.  Dieser Vorgang sollte schnell (innerhalb einer Sekunde) ausgef√ºhrt werden, da es sich um den Aufmerksamkeitsbereich des Benutzers handelt.  Infolgedessen verwendet Keybase eine Schl√ºsselhierarchie, sodass das neue Ger√§t beim √úbertragen von 32 Byte geheimer Daten von einem alten Ger√§t alle langlebigen kryptografischen Daten anzeigen kann (weitere Informationen finden Sie in den FAQ unten).  Dies mag ein wenig √ºberraschend erscheinen, aber <i>genau das ist der Punkt der Kryptographie</i> .  Es l√∂st nicht Ihre Probleme bei der Verwaltung von Geheimnissen, sondern macht das System nur skalierbarer. <br><br><h1>  Das vollst√§ndige Bild der Sicherheit </h1><br>  Jetzt k√∂nnen wir vier grundlegende Sicherheitseigenschaften f√ºr die Keybase-Anwendung formulieren: <br><br><ol><li>  Langlebige geheime Schl√ºssel verlassen niemals die Ger√§te, auf denen sie erstellt wurden <br></li><li>  Die vollst√§ndige Unterst√ºtzung mehrerer Ger√§te minimiert das L√∂schen von Konten <br></li><li>  Der Schl√ºsselentzug kann nicht b√∂swillig verz√∂gert oder r√ºckg√§ngig gemacht werden <br></li><li>  direkte Geheimhaltung durch kurzlebige Zeitnachrichten </li></ol><br>  Die ersten beiden scheinen verst√§ndlich.  Ein dritter wird wichtig in einem Design, bei dem ein Ger√§te-R√ºckruf erwartet und als normal angesehen wird.  Das System muss √ºberpr√ºfen, ob b√∂swillige Server Ger√§te√ºberpr√ºfungen nicht verz√∂gern k√∂nnen, √ºber die wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zuvor geschrieben haben</a> . <br><br>  Weitere Informationen zum vierten Sicherheitsmerkmal finden Sie in unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel zu kurzlebigen Nachrichten</a> . <br><br><h1>  Viel neue Kryptographie, ist alles richtig implementiert? </h1><br>  Keybase hat die grundlegenden Sicherheitsfunktionen noch nie implementiert und sie noch nie in wissenschaftlichen Artikeln beschrieben.  Wir mussten selbst einige kryptografische <i>Protokolle</i> erfinden.  Gl√ºcklicherweise gibt es viele handels√ºbliche, standardisierte und weit verbreitete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kryptografische <i>Algorithmen</i></a> f√ºr jede Situation.  Unser gesamter Kundencode ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offen</a> .  Theoretisch kann jeder Design- oder Implementierungsfehler finden.  Wir wollten jedoch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die interne Struktur demonstrieren</a> und stellten die beste Sicherheitspr√ºfungsfirma f√ºr eine vollst√§ndige Analyse ein. <br><br>  Heute pr√§sentieren wir den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bericht</a> der NCC Group und sind von den Ergebnissen √§u√üerst ermutigt.  Keybase gab √ºber 100.000 US-Dollar f√ºr Audits aus, und die NCC Group stellte hochrangige Sicherheits- und Kryptografieexperten ein.  Sie haben zwei wichtige Fehler in unserer Implementierung gefunden und wir haben sie schnell behoben.  Diese Fehler konnten nur auftreten, wenn unsere Server b√∂swillig gehandelt haben.  Wir k√∂nnen versichern, dass sie nicht so handeln werden, aber Sie haben keinen Grund, uns zu glauben.  <i>Das ist die Sache!</i> <br><br>  Wir glauben, dass das NCC-Team hervorragende Arbeit geleistet hat.  Respektieren Sie die Zeit, die sie aufgewendet haben, um unsere Architektur und Implementierung vollst√§ndig zu verstehen.  Sie fanden subtile Fehler, die die Aufmerksamkeit unserer Entwickler auf sich zogen, obwohl wir diesen Teil der Codebasis k√ºrzlich wiederholt angesehen haben.  Wir empfehlen Ihnen, den Bericht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> anzusehen oder unsere FAQ zu lesen. <br><br><h1>  FAQ </h1><br><h3>  Wie k√∂nnen Sie es wagen, ein XYZ-Produkt anzugreifen? </h3><br>  Wir haben bereits Verweise auf bestimmte Produkte aus dem Artikel entfernt. <br><br><h3>  Was sonst? </h3><br>  Wir sind stolz darauf, dass Keybase keine Telefonnummern ben√∂tigt und die IDs von Twitter, HackerNews, Reddit und Github kryptografisch √ºberpr√ºfen kann, wenn Sie jemanden kennen. <br><br>  Und ... sehr bald ... wird Mastodon unterst√ºtzt. <br><br><h3>  Was ist mit Telefonumleitungsangriffen? </h3><br>  Viele Anwendungen sind anf√§llig f√ºr Umleitungsangriffe.  Eve betritt einen Kiosk in einem Einkaufszentrum und √ºberredet Bob, den Mobilfunkbetreiber, Bobs Telefonnummer an ihr Ger√§t weiterzuleiten.  Oder sie √ºberzeugt den Vertreter telefonisch.  Jetzt kann sich Eve auf den Messenger-Servern authentifizieren und behauptet, sie sei Bob.  Das Ergebnis sieht so aus, als ob unser Beispiel f√ºr Alice, Bob und Eve h√∂her ist, aber Eve muss keine Server durchdringen.  Einige Anwendungen bieten "Registrierungsblockierung" zum Schutz vor diesem Angriff an, sind jedoch standardm√§√üig √§rgerlich. <br><br><h3>  Ich habe geh√∂rt, dass Keybase einige private Schl√ºssel an den Server sendet. </h3><br>  In den fr√ºhen Tagen (2014 und Anfang 2015) arbeitete Keybase als PGP-Webanwendung, und der Benutzer konnte die Funktion zum Speichern seiner privaten PGP-Schl√ºssel auf unseren Servern ausw√§hlen, die mit Passphrasen verschl√ºsselt waren (die Keybase nicht kannte). <br><br>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">September 2015 haben</a> wir das neue Keybase-Modell vorgestellt.  PGP-Schl√ºssel werden im Keybase-Chat oder im Dateisystem niemals verwendet (und nie verwendet). <br><br><h3>  Wie werden alte Chats sofort auf neuen Handys angezeigt? </h3><br>  In einigen anderen Anwendungen sehen neue Ger√§te keine alten Nachrichten, da die Synchronisierung alter Nachrichten √ºber den Server der direkten Geheimhaltung widerspricht.  Mit der Keybase-App k√∂nnen Sie bestimmte Nachrichten - oder ganze Konversationen - als "kurzlebig" festlegen.  Sie werden nach einer bestimmten Zeit zerst√∂rt und zweimal verschl√ºsselt: einmal mit langlebigen Chat-Verschl√ºsselungsschl√ºsseln und einmal mit h√§ufig wechselnden kurzlebigen Schl√ºsseln.  Daher bieten kurzlebige Nachrichten direkte Geheimhaltung und k√∂nnen nicht zwischen Telefonen synchronisiert werden. <br><br>  Nicht kurzlebige Nachrichten bleiben bestehen, bis der Benutzer sie explizit l√∂scht und E2E mit neuen Ger√§ten im Slack-Stil synchronisiert, nur mit Verschl√ºsselung!  Wenn Sie jemanden zu einem Team hinzuf√ºgen oder ein neues Ger√§t f√ºr sich selbst hinzuf√ºgen, werden Nachrichten daher entsperrt. <br><br>  Mehr zur Synchronisation im n√§chsten Absatz. <br><br><h3>  Erz√§hl uns von PUKs! </h3><br>  Vor zwei Jahren haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schl√ºssel f√ºr Benutzer (PUK) eingef√ºhrt</a> .  Die √∂ffentliche H√§lfte der PUK wird in der √∂ffentlichen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sigchain der</a> Benutzer beworben.  Die geheime H√§lfte wird f√ºr den √∂ffentlichen Schl√ºssel jedes Ger√§ts verschl√ºsselt.  Wenn Alice ein neues Ger√§t vorbereitet, kennt ihr altes Ger√§t die geheime H√§lfte ihres PUK und den √∂ffentlichen Schl√ºssel des neuen Ger√§ts.  Es verschl√ºsselt die geheime H√§lfte der PUK f√ºr den √∂ffentlichen Schl√ºssel des neuen Ger√§ts, und das neue Ger√§t l√§dt diesen Chiffretext √ºber den Server herunter.  Das neue Ger√§t entschl√ºsselt die PUK und kann sofort auf alle langlebigen Chat-Nachrichten zugreifen. <br><br>  Immer wenn Alice ein Ger√§t zur√ºckruft, √§ndert sie ihre PUK, sodass alle ihre Ger√§te mit Ausnahme der zuletzt zur√ºckgerufenen eine neue PUK erhalten. <br><br>  Dieses Synchronisationsschema unterscheidet sich grundlegend vom fr√ºhen Keybase-PGP-System.  Hier haben alle beteiligten Schl√ºssel 32 Bytes echte Entropie, sie brechen im Falle eines Server-Hacks nicht mit brutaler Gewalt.  Richtig, wenn der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Curve25519</a> oder der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PRNG</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von Go</a> kaputt ist, bricht alles.  Die PUK-Synchronisation macht jedoch keine anderen signifikanten kryptografischen Annahmen. <br><br><h3>  Was ist mit Chats in gro√üen Gruppen? </h3><br>  <b>tL; dr</b> Gruppen haben ihre eigenen gepr√ºften Signaturketten zum √Ñndern von Rollen, Hinzuf√ºgen und Entfernen von Mitgliedern. <br><br>  Sicherheitsforscher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schrieben</a> √ºber Phantom-User-Angriffe auf Gruppen-Chats.  Wenn die Clients der Benutzer die Gruppenmitgliedschaft nicht kryptografisch √ºberpr√ºfen k√∂nnen, k√∂nnen b√∂swillige Server Spyware und Maulw√ºrfe in Gruppenchats einbetten.  Keybase verf√ºgt √ºber ein sehr zuverl√§ssiges System in Form einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">speziellen</a> Gruppenfunktion, √ºber die wir in Zukunft schreiben werden. <br><br><h3>  K√∂nnen Sie √ºber NCC-KB2018-001 sprechen? </h3><br>  Wir glauben, dass dieser Fehler der wichtigste Befund des NCC-Audits ist.  Keybase verwendet aktiv unver√§nderliche Datenstrukturen, um die Server-Mehrdeutigkeit vor dem Anh√§ngen zu sch√ºtzen.  Im Falle eines Fehlers kann ein ehrlicher Server ausweichen: "Ich habe Ihnen A fr√ºher gesagt, aber ein Fehler ist aufgetreten, ich meinte B".  Unsere Kunden haben jedoch die gemeinsame Richtlinie, dem Server keine solche Flexibilit√§t zu gew√§hren: Sie haben <a href="">fest codierte Ausnahmen</a> im Falle von Fehlern. <br><br>  K√ºrzlich haben wir auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sigchain V2 eingef√ºhrt</a> : Dieses System l√∂st die Skalierbarkeitsprobleme, die wir in der ersten Version nicht richtig vorhergesagt haben.  Jetzt sind Clients mit kryptografischen Daten, die sie vom Server abrufen, wirtschaftlicher und erhalten nur eine Signatur vom Ende der Signaturkette anstelle der Signatur jedes Zwischenglieds.  Daher haben Kunden die M√∂glichkeit verloren, zyklisch nach einem bestimmten Signatur-Hash zu suchen. Wir haben diese Hashes jedoch zuvor verwendet, um in dieser Liste fest codierter Ausnahmen nach fehlerhaften Kettenlinks zu suchen.  Wir bereiteten uns auf die Ver√∂ffentlichung von Sigchain V2 vor und verga√üen dieses Detail, das unter mehreren Abstraktionsebenen verborgen war, sodass das System dem Feld aus der Serverantwort einfach vertraute. <br><br>  Nachdem der NCC diesen Fehler entdeckt hatte, war die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Korrektur</a> einfach genug: Suche nach fest codierten Ausnahmen mit einem Kettenglied-Hash anstelle eines Kettenglied-Signatur-Hash.  Der Client kann diese Hashes immer direkt berechnen. <br><br>  Wir k√∂nnen diesen Fehler auch auf die zus√§tzliche Komplexit√§t zur√ºckf√ºhren, die erforderlich ist, um Sigchain V1 und Sigchain V2 gleichzeitig zu unterst√ºtzen.  Moderne Clients schreiben Sigchain V2-Links, aber alle Clients m√ºssen √§ltere v1-Links unbegrenzt unterst√ºtzen.  Denken Sie daran, dass Kunden f√ºr jedes Ger√§t Links mit ihren privaten Schl√ºsseln signieren.  Wir k√∂nnen nicht alle Kunden koordinieren, die historische Daten in angemessener Zeit √ºberschreiben, da diese Kunden einfach offline sein k√∂nnen. <br><br><h3>  K√∂nnen Sie √ºber NCC-KB2018-004 sprechen? </h3><br>  Wie in 001 (siehe oben) wurden wir durch eine bestimmte Kombination aus gleichzeitiger Unterst√ºtzung f√ºr veraltete L√∂sungen und Optimierung entt√§uscht, was wichtig schien, da wir mehr Erfahrung mit dem System gesammelt haben. <br><br>  In Sigchain V2 reduzieren wir die Gr√∂√üe der Ketten in Bytes, um die f√ºr die Suche nach Benutzern erforderliche Bandbreite zu verringern.  Diese Einsparung ist besonders bei Mobiltelefonen wichtig.  Daher codieren wir Chainlinks mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MessagePack</a> , nicht mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSON</a> , was zu guten Einsparungen f√ºhrt.  Im Gegenzug signieren und √ºberpr√ºfen Kunden Signaturen in diesen Ketten.  Forscher am NCC haben knifflige Wege gefunden, um ‚ÄûSignaturen‚Äú zu erstellen, die gleichzeitig wie JSON und MessagePack aussehen und zu einem Konflikt f√ºhren.  Wir haben diese Mehrdeutigkeit der Decodierung w√§hrend der Optimierung unfreiwillig eingef√ºhrt, als wir JSON-Parser vom Standard-Go-Parser auf einen effizienteren umgestellt haben.  Dieser schnelle Parser √ºbersprang leise eine Menge M√ºll, bevor er den eigentlichen JSON fand, der diese polyglotte Angriffsfunktion enthielt.  Der Fehler wird durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zus√§tzliche Eingabe√ºberpr√ºfung</a> behoben. <br><br>  In Sigchain V2 haben wir auch den Vorschlag von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adam Langley</a> akzeptiert, dass Unterzeichner ihren Paketen Signaturen mit dem Kontextzeilenpr√§fix und Byte <code>\0</code> voranstellen, damit Verifizierer nicht durch die Absichten des Unterzeichners verwirrt werden.  Auf der √úberpr√ºfungsseite dieser Kontextpr√§fix-Idee gab es Fehler, die zu anderen polyglotten Angriffen f√ºhren konnten.  Wir haben diesen Fehler schnell <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit einer Whitelist</a> behoben. <br><br>  Nachdem beide Fehler behoben wurden, weist der Server die b√∂swilligen Lasten des Polyglot-Angriffs zur√ºck, sodass die Ausnutzung dieser Sicherheitsanf√§lligkeiten nur mit Hilfe eines gef√§hrdeten Servers m√∂glich ist. <br><br><h3>  Wo ist die Dokumentation? </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://keybase.io/docs</a> <br><br>  In den kommenden Monaten werden wir mehr Zeit f√ºr die Dokumentation aufwenden. <br><br><h3>  Sie k√∂nnen mehr √ºber diese Aussage von NCC erz√§hlen: "Ein Angreifer kann jedoch die Aktualisierung der Sigchain verweigern oder die Sigchain eines Benutzers auf einen vorherigen Status zur√ºcksetzen, indem er nachfolgende Glieder in der Kette abschneidet." </h3><br>  Keybase verwendet in gro√üem Umfang unver√§nderliche √∂ffentliche Datenstrukturen, die nur Anh√§nge enthalten und die Serverinfrastruktur dazu zwingen, eine echte Darstellung von Benutzerkennungen zu erfassen.  Wir k√∂nnen den R√ºckruf von Ger√§ten und das Entfernen von Gruppenmitgliedern so garantieren, dass ein gef√§hrdeter Server nicht zur√ºckgesetzt werden kann.  Wenn der Server eine inkonsistente Ansicht anzeigt, wird diese Abweichung Teil des unver√§nderlichen √∂ffentlichen Datensatzes.  Keybase-Kunden oder ein Auditor eines Drittanbieters k√∂nnen jederzeit nach dem Angriff eine Nicht√ºbereinstimmung feststellen.  Wir glauben, dass diese Garantien die Garantien konkurrierender Produkte bei weitem √ºbertreffen und nahezu optimal sind, wenn man die praktischen Einschr√§nkungen von Mobiltelefonen und Kunden mit begrenzter Rechenleistung ber√ºcksichtigt. <br><br>  Einfach ausgedr√ºckt, Keybase kann nicht die Signaturen anderer erfinden.  Wie jeder Server kann er Daten enthalten.  Unser transparenter Merkle-Baum ist jedoch so konzipiert, dass er sie f√ºr einen sehr kurzen Zeitraum aufbewahrt und immer auffindbar ist. <br><br><h3>  Wie behandelt Keybase das Zur√ºcksetzen von Konten? </h3><br>  Wenn Keybase-Benutzer tats√§chlich alle ihre Ger√§te verlieren (anstatt neue hinzuzuf√ºgen oder einige zu verlieren), m√ºssen sie zur√ºckgesetzt werden.  Nach dem Zur√ºcksetzen des Kontos ist der Benutzer grunds√§tzlich neu, hat jedoch denselben Benutzernamen.  Er kann die "Reset-Anweisung" nicht unterschreiben, da er alle seine Schl√ºssel verloren hat.  Stattdessen schreibt der Keybase-Server die nicht l√∂schbare Anweisung an den Merkle-Baum, was Zur√ºcksetzen bedeutet.  Kunden erzwingen die Unm√∂glichkeit, diese Anweisungen zur√ºckzusetzen.  In einem zuk√ºnftigen Artikel werden spezifische Mechanismen ausf√ºhrlich beschrieben. <br><br>  Dieser Benutzer muss Identit√§tspr√ºfungen (Twitter, Github usw.) mit den neuen Schl√ºsseln erneut hinzuf√ºgen. <br><br><h3>  Kann ein Server einfach das Merkle-Baumblatt einer anderen Person austauschen, um f√ºr einen v√∂llig anderen Schl√ºsselsatz zu werben? </h3><br>  NCC-Autoren erw√§gen einen feindlichen Keybase-Server, der das Merkle-Baumblatt vollst√§ndig austauscht und Bobs wahren Schl√ºsselsatz durch einen v√∂llig neuen gef√§lschten Satz ersetzt.  Ein angreifender Server hat zwei M√∂glichkeiten.  Erstens kann er den Zustand der Welt teilen, indem er Bob in eine Gabel legt und diejenigen, die er in eine andere t√§uschen m√∂chte.  Zweitens kann er "schummeln", indem er eine Version des Merkle-Baums mit dem richtigen Satz von Bob-Schl√ºsseln und andere Versionen mit einem gef√§lschten Satz ver√∂ffentlicht.  Benutzer, die regelm√§√üig mit Bob interagieren, werden diesen Angriff entdecken, da sie √ºberpr√ºfen, ob zuvor heruntergeladene Versionen des Bob-Verlaufs g√ºltige Pr√§fixe der neuen Versionen sind, die sie vom Server herunterladen.  Validatoren von Drittanbietern, die alle Keybase-Updates scannen, bemerken diesen Angriff ebenfalls.  Wenn Sie einen Keybase-Validator eines Drittanbieters schreiben, den wir m√∂gen, k√∂nnen wir eine signifikante Belohnung anbieten.  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>max</code></a> auf Keybase.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ansonsten hoffen wir, bald die Schaffung eines autonomen Validators zu planen. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kannst du glauben, was ich bis zum Ende gelesen habe? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lesen oder einfach nach unten scrollen? </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449350/">https://habr.com/ru/post/de449350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449340/index.html">Block Orakel basiertes zuf√§lliges Orakel basierend auf digitaler Signatur</a></li>
<li><a href="../de449342/index.html">Zuf√§lliges Orakel basierend auf der digitalen Blockchain-Signatur</a></li>
<li><a href="../de449344/index.html">Kodim - Pizza</a></li>
<li><a href="../de449346/index.html">MODX Digest # 4 (8. - 22. April 2019)</a></li>
<li><a href="../de449348/index.html">Buildroot - Teil 2. Erstellen der Konfiguration Ihres Boards; Anwendung von externen Baum-, Rootfs-Overlay- und Post-Build-Skripten</a></li>
<li><a href="../de449352/index.html">Wie wir die √úberwachung auf Prometheus, Clickhouse und ELK aufgebaut haben</a></li>
<li><a href="../de449356/index.html">Gesch√§ftsprozesse. BPMN-Modellextraktion aus dem Dokument. Teil 1</a></li>
<li><a href="../de449358/index.html">Neue Grenzen in der Physik</a></li>
<li><a href="../de449360/index.html">Microsoft hat die virtuelle Realit√§t f√ºr sehbehinderte Menschen angepasst</a></li>
<li><a href="../de449362/index.html">UPS im Gesundheitswesen: Delta Electronics Health Experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>