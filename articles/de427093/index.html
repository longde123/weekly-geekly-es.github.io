<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛣️ 🖱️ 🅾️ MIT-Kurs "Computer Systems Security". Vorlesung 12: Netzwerksicherheit, Teil 3 🏦 👩🏻‍🔧 👨‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 12: Netzwerksicherheit, Teil 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427093/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vorträge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gefährden, und Sicherheitstechniken, die auf jüngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen gehören Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: „Einführung: Bedrohungsmodelle“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: „Kontrolle von Hackerangriffen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: „Pufferüberläufe: Exploits und Schutz“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: „Trennung von Privilegien“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: „Woher kommen Sicherheitssysteme?“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: „Chancen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: „Native Client Sandbox“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: „Netzwerksicherheitsmodell“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 9: „Sicherheit von Webanwendungen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 10: „Symbolische Ausführung“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 11: „Ur / Web-Programmiersprache“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 12: Netzwerksicherheit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  <b>Student:</b> Gibt es irgendeine Art von Signatur für nicht existierende Top-Level-Domains? <br><br>  <b>Professor:</b> Ich denke schon.  Eine Punktdomäne ist nur eine andere Domäne und implementiert denselben Mechanismus.  Daher verwenden die Domänen "dot" und "dot.kom" heutzutage die DNS-SEC, und es gibt all diese Einträge, die beispielsweise besagen, dass .in der vorhandene Domainname ist und der Name "dot" auch existiert. und da ist nichts mehr zwischen ihnen.  In den Top-Level-Domains sind all diese Dinge vorhanden. <br><br><img src="https://habrastorage.org/webt/2u/gs/44/2ugs448d0swpqq4xpdcq7qrzo5e.jpeg"><br><br>  <b>Student:</b> Warum ist uns neben der Gefahr von DoS-Angriffen die Wiederholung von Domain-Namen in mit.edu so wichtig? <br><br>  <b>Professor: Ich</b> weiß es nicht genau.  Auf jeden Fall verfügt AFS über eine Textdatei, in der alle diese MIT-Domänennamen aufgelistet sind.  Ich denke jedoch, dass sich einige Unternehmen in diesem Sinne im Allgemeinen etwas unbehaglich fühlen, da sie häufig interne Namen haben, die im DNS enthalten sind und die nicht an Außenstehende weitergegeben werden können.  Ich denke, dass dies tatsächlich ein unscharfer Bereich ist, der nie formalisiert wurde und der nicht genau erklärt, was DNS-Benutzer garantieren.  Normalerweise wird angenommen, dass ein vertraulicher Name im Falle von DNS nicht bekannt gegeben wird. <br><br>  Ich denke, dies ist ein weiterer Ort, an dem dieses System keine klare Spezifikation dafür hat, was es bieten sollte oder nicht. <br><br>  <b>Student: Ist</b> es möglich, die Gültigkeitsdauer einer Signatur durch Hervorheben festzulegen? <br><br>  <b>Professor:</b> Diese Dinge haben ein Ablaufdatum. Sie können beispielsweise unterschreiben, dass dieser Namenssatz eine Woche lang gültig ist, und dann können Clients, wenn sie eine synchronisierte Uhr haben, alte signierte Nachrichten ablehnen. <br><br>  Wir können also davon ausgehen, dass wir Angriffe durch Erraten der TCP-SYN-Sequenznummern diskutiert haben.  Ein weiteres interessantes Problem in Bezug auf TCP ist der DDoS-Angriff, bei dem die Tatsache ausgenutzt wird, dass sich der Server in einem bestimmten Zustand befindet.  Wenn Sie sich diesen Handshake ansehen, der zuvor auf der Karte gezeichnet wurde, werden Sie feststellen, dass sich der Server beim Herstellen einer Verbindung zum Server die Seriennummer des SNc-Clients merken muss.  Daher muss der Server eine Datenstruktur in einem separaten Block unterstützen, was zeigt, dass diese Sequenznummer für diese Verbindung verwendet wird. <br><br><img src="https://habrastorage.org/webt/lf/_t/al/lf_tald10iu_psgepzhjfretcr0.jpeg"><br><br>  Dies ist eine Art Tabelle, in der die SN-Sequenznummer gespeichert ist und die Client-Server-Verbindung die SNc-Sequenznummer hat.  Der Grund, warum der Server diese Tabelle beibehalten sollte, besteht darin, dass der Server herausfinden muss, wie die richtige SNc-Sequenznummer später aussehen soll, z. B. SNc + 1.  Darüber hinaus muss der Server auch SN-Nummern speichern, die viel wichtiger sind, da sie dem Server zeigen, dass die Verbindung mit dem „richtigen Mann“ hergestellt wurde. <br><br>  Das Problem ist, dass diese Tabelle keinen echten Rand hat.  Auf diese Weise können Sie Pakete von einem Computer abrufen, ohne zu wissen, wer sie sendet.  Sie erhalten nur ein Paket, das wie C-&gt; S aussieht, mit einer Quelladresse, die behauptet, C zu sein. Um diese Verbindung möglicherweise von dieser IP-Adresse zu akzeptieren, müssen Sie einen Eintrag in der Tabelle erstellen.  Darüber hinaus existieren diese Datensätze für eine lange Zeit, weil möglicherweise jemand von einem sehr entfernten Ort aus eine Verbindung zu Ihnen herstellt und gleichzeitig viele Pakete verloren gehen.  Im schlimmsten Fall kann es beispielsweise eine Minute dauern, bis jemand diesen TCP-Handshake beendet.  Sie müssen diesen Status also relativ lange auf dem TCP-Stapel belassen, und es gibt keine Möglichkeit zu erraten, ob er gültig ist oder nicht. <br><br>  Daher ist der häufigste DoS-Angriff gegen die meisten TCP-Stapel, die von Menschen entwickelt wurden, die einfache Übertragung einer großen Anzahl von Paketen.  Wenn ich ein Angreifer bin, sende ich einfach eine große Anzahl von SYN-Paketen an einen bestimmten Server und lasse diese Tabelle überlaufen. <br><br>  Das Problem ist, dass ein Angreifer bestenfalls dieselbe Quell-IP-Adresse verwendet.  In diesem Fall können Sie einfach sagen, dass jedem Client nur zwei Einträge oder ähnliches gestattet sind.  Und dann kann der Angreifer maximal 2 zwei Einträge in der Tabelle verwenden. <br><br>  Das Problem ist natürlich, dass ein Angreifer IP-Adressen von Clients fälschen und sie zufällig aussehen lassen kann.  Dann wird es für den Server sehr schwierig sein zu unterscheiden, wer versucht, eine Verbindung mit ihm herzustellen - ein Angreifer oder ein Client, von dem der Server noch nie zuvor gehört hat. <br><br>  Wenn Sie sich also eine Site ansehen, die Verbindungen von überall auf der Welt akzeptieren sollte, ist dies ein großes Problem.  Weil Sie entweder den Zugriff auf alle Personen verweigern oder den Status für die meisten gefälschten Verbindungsversuche speichern sollten. <br><br>  Dies ist also ein Problem sowohl für TCP als auch für die meisten Protokolle, die eine Art Verbindungsinitiierung ermöglichen, bei der der Server den Status speichern muss.  In TCP sind jedoch einige Korrekturen implementiert, über die wir gleich sprechen werden, und sie werden versuchen, dieses Problem zu beheben, das in TCP als SYN Flooding bezeichnet wird. <br><br><img src="https://habrastorage.org/webt/ds/iv/2l/dsiv2l98atlrnyqwfzc3pg2-jma.jpeg"><br><br>  Im Allgemeinen ist dies ein Problem, das Sie kennen und in jedem Protokoll, das Sie entwickeln, vermeiden sollten.  Sie müssen angeben, dass der Server den Status erst speichern soll, wenn er den Client authentifizieren und identifizieren kann.  Denn erst nach der Clientauthentifizierung kann entschieden werden, ob eine Verbindung beispielsweise nur einmal hergestellt werden darf. In diesem Fall muss der Server den Status für diese Verbindung nicht speichern. <br><br>  Das Problem ist, dass Sie die Erhaltung des Staates garantieren, noch bevor Sie wissen, wer sich mit Ihnen verbindet.  Mal sehen, wie wir dem SYN-Flooding-Flood-Angriff entgegenwirken können, bei dem der Server zu viel Status ansammelt. <br><br>  Sie können TCP beispielsweise erneut ändern, es ganz einfach mit Kryptografie oder etwas anderem reparieren oder ändern, was für das Speichern eines bestimmten Status verantwortlich ist.  Tatsache ist jedoch, dass wir TCP so verwenden müssen, wie es ist.  Könnten wir dieses Problem lösen, ohne das vorhandene TCP-Protokoll zu ändern? <br><br>  Dies ist wiederum eine Übung, um herauszufinden, welche Tricks wir ausführen können oder welche Annahmen wir in Ruhe lassen und bei der Arbeit mit ihnen immer noch das vorhandene TCP-Header-Format einhalten können. <br><br>  Der Trick besteht darin, einen intelligenten Weg zu finden, um einen zustandslosen Server zu erstellen, damit er diese Tabelle nicht im Speicher speichern muss.  Dies kann durch sorgfältige Auswahl von SNs erfolgen, dh anstelle der zuvor berücksichtigten Formel und wo wir diese Funktion hinzufügen mussten, werden wir Seriennummern auf eine völlig andere Weise auswählen.  Ich werde Ihnen die genaue Formel geben, und dann werden wir darüber sprechen, warum es wirklich interessant ist und welche guten Eigenschaften es hat. <br><br>  Wenn der Server feststellt, dass er einem solchen Angriff ausgesetzt ist, wechselt er in den Modus, in dem er SNs anhand der Formel mit derselben Funktion F auswählt, die wir zuvor betrachtet haben. <br><br><img src="https://habrastorage.org/webt/ai/u5/2u/aiu52uoadhfflnvhgntwy_bedju.jpeg"><br><br>  Diese Funktion hat die Quell-IP-Adresse, die Ziel-IP-Adresse, die gleichen Dinge wie zuvor - Quellport, Zielport, Zeitstempel und Schlüssel.  Und wir werden diese Funktion mit einem Zeitstempel kombinieren, der einige Minuten lang eher „grobkörnig“ ist.  Es gibt eine Trennung zwischen diesen beiden Teilen des Headers - der Funktion und dem Zeitstempel, die nicht viele Bits benötigen.  Ich habe vergessen, wie genau dieses Protokoll auf einem realen Computer funktioniert, aber Sie können sich vorstellen, dass der Zeitstempel 8 Bit benötigt und der Rest der Sequenznummernformel 24 Bit beträgt. <br><br>  Warum ist das ein guter Plan?  Was ist hier los?  Warum wird diese seltsame Formel benötigt?  Sie müssen sich daran erinnern, was wir versucht haben, aus Seriennummern zu erhalten.  Hier passieren zwei Dinge. <br><br>  Der erste ist der Schutz vor doppelten Paketen.  Auf der Platine blieb eine Schaltung mit dieser Seriennummer im alten Stil, zu der wir eine Funktion hinzufügen, um das Duplizieren von Paketen aus früheren Verbindungen zu verhindern. <br><br><img src="https://habrastorage.org/webt/sw/06/2g/sw062gymfw2nxnff7rciprvtjsy.jpeg"><br><br>  Es stellt sich heraus, dass Menschen keinen besseren Weg finden könnten, sich vor Angriffen wie SYN Flooding zu schützen, als diesen Aktionsplan zu verwenden, der in einigen Situationen gut funktioniert.  Es war ein Plan, aber ein anderer Plan war eine zeitgestempelte Funktion, bei der wir diese Komponente des alten Stils aufgaben.  Stattdessen konzentrieren wir uns darauf, sicherzustellen, dass diese Person der „richtige“ Client ist, wenn uns jemand diese ACK-Sequenznummer (SNs) als Antwort auf das Paket zur Verfügung stellt. <br><br>  Sie erinnern sich, dass wir uns auf diesen Wert (SNs) verlassen, um IP-Spoofing-Angriffe zu verhindern.  Wenn der Server diesen SN-Wert im zweiten Schritt an den Client sendet, erwarten wir, dass nur dieser Client uns im dritten Schritt den korrigierten SN-Wert senden kann, um die Verbindung herzustellen. <br><br>  Aus diesem Grund mussten Sie diese Seriennummer in einer Tabelle speichern, denn wie würden Sie sonst wissen, ob dies eine echte Antwort oder eine Fälschung ist?  Der Grund für die Verwendung dieser F-Funktion ist, dass wir diese Tabelle jetzt nicht im Speicher speichern können. <br><br>  Wenn stattdessen der Verbindungsversuch angezeigt wird, der im ersten Schritt angezeigt wird, berechnen wir im zweiten Schritt die SNs mithilfe dieser Formel und senden sie einfach an den Client zurück, der uns kontaktieren möchte, und vergessen dann diese Verbindung. <br><br><img src="https://habrastorage.org/webt/u7/uh/ml/u7uhml0zefpx1udtmt4j5xnaqxw.jpeg"><br><br>  Wenn dann das dritte Paket eintrifft und sein Wert (SNs) dem entspricht, was wir erwarten, bedeutet dies, dass jemand unsere Antwort im zweiten Schritt erhalten und schließlich an uns gesendet hat.  Nach diesem dritten Schritt können wir schließlich den eigentlichen Datensatz für diese TCP-Verbindung in den Speicher stellen.  Auf diese Weise können Sie die Persistenz des Servers verschieben, bis der Client den genauen Wert der Seriennummer sendet.  Die Konstruktion einer solchen Konstruktion ermöglicht es zu überprüfen, ob der Client dem Server genau die Antwort gesendet hat, die von ihm erwartet wird, und keinen beliebigen Wert. <br><br>  <b>Student:</b> Hält SNc nur eine begrenzte Zeit? <br><br>  <b>Professor:</b> Ja, der Server speichert den SNc-Wert nicht dauerhaft, und das ist nicht so gut.  Ich habe dies im Diagramm nicht gezeigt, aber hier am Ende der dritten Zeile befindet sich ein Feld, das zeigt, dass dieses Paket keine Daten enthält, aber die SNc-Sequenznummer nur enthält, weil es dieses Feld enthält. <br><br><img src="https://habrastorage.org/webt/bv/5t/xz/bv5txzbklzepqcnw7bmu9n9ykki.jpeg"><br><br>  Somit kann der Server den Wert von SNc wiederherstellen, da der Client ihn ohnehin in dieses Paket aufnehmen wird.  Früher war es egal, aber jetzt ist es so, als ob es relevant wäre.  Wir werden hier nichts überprüfen, aber die Existenz eines solchen Feldes ist an sich schon eine gute Sache.  Es hat jedoch einige traurige Konsequenzen.  Zum Beispiel, wenn Sie einige komplizierte Dinge verwenden, die hier missbraucht werden können.  Dies ist jedoch nicht so schlimm wie das Überlaufen des Serverspeichers mit Clientanforderungen. <br><br>  Denn das einzige, was uns Sorgen macht, ist die Freigabe des Speichers dieser Tabelle und das Vertrauen, dass die Verbindungen zu echten Kunden hergestellt werden.  Und wenn dieser Kunde eine Million Verbindungen zu mir aufbaut, höre ich einfach auf, Anfragen von ihm anzunehmen. Das ist ganz einfach.  Das Problem ist, dass gefälschte Adressen schwer von echten Kundenadressen zu unterscheiden sind. <br><br>  <b>Student:</b> Muss ich einen Zeitstempel behalten? <br><br>  <b>Professor:</b> Ja, da ist eine kluge Sache!  Wenn wir im dritten Schritt den Wert der SNs erhalten, müssen wir herausfinden, wie die Eingabedaten für diese Funktion F berechnet werden, um zu überprüfen, ob dieser Wert korrekt ist.  Daher nehmen wir den Zeitstempel am Ende des Pakets und verwenden ihn zur Berechnung innerhalb der Funktion.  Alles andere können wir wiederherstellen.  Wir wissen, wer uns gerade den dritten Schritt und das dritte Paket geschickt hat, wir haben alle diese Felder und unseren Schlüssel, der wiederum noch geheim ist, und den Zeitstempel der letzten 8 Bits der Sequenz.  In diesem Fall kann es vorkommen, dass wir zu alte Zeitstempel ausschließen, indem wir einfach alte Verbindungen verbieten. <br><br>  <b>Student:</b> Ich glaube, dass Sie dies verwenden, wenn Sie angegriffen werden, nur weil Sie 8 Sicherheitsbits verlieren oder aus einem anderen Grund? <br><br>  <b>Professor:</b> Ja, das ist nicht sehr gut, es hat viele schlechte Eigenschaften.  In gewisser Weise verlieren wir wirklich 8 Sicherheitsbits.  Denn jetzt ist der unbestreitbare Teil nur noch 24 Bit statt 32. <br><br>  Ein weiteres Problem ist, was passiert, wenn Sie bestimmte Pakete verlieren?  In TCP wird allgemein angenommen, dass der Client möglicherweise auf nichts wartet, wenn das dritte Paket verloren geht.  Oder entschuldigen Sie, vielleicht ist das Protokoll, das wir über diese TCP-Verbindung ausführen, ein Protokoll, das davon ausgeht, dass der Server zunächst etwas sagen möchte, also verbinde ich mich damit und höre einfach auf die Antwort.  Und in SMTP sollte mir der Server zum Beispiel so etwas wie eine Begrüßung über das Protokoll senden.  Angenommen, ich stelle eine Verbindung zum SMTP-Server her, sende das dritte Paket. Ich glaube, ich habe alles getan und warte nur darauf, dass der Server mir antwortet, zum Beispiel: <br><br>  "Hallo, dies ist ein SMTP-Server, bitte senden Sie mir Ihre E-Mail!" <br><br>  Dieses dritte Paket kann also verloren gehen.  In echtem TCP merkt sich der Server, dass er im zweiten Schritt auf den Client geantwortet hat, aber nie ein drittes Antwortpaket von ihm erhalten hat.  Daher sendet der Server dem Client erneut ein zweites Paket, um das dritte Paket neu zu starten.  Wenn der Server keinen Status speichert, hat er natürlich keine Ahnung, was er senden soll.  Dies macht das Herstellen einer Verbindung etwas problematisch, da beide Seiten einen gegenseitigen Schritt voneinander erwarten.  Der Server weiß nicht einmal, dass der Client auf eine Antwort von ihm wartet, und der Client wartet auf die Antwort des Servers, obwohl er nicht antworten wird, weil er den Status nicht speichert.  Daher ist dies ein weiterer Grund, warum Sie den Produktivmodus des Servers nicht ständig verwenden. <br><br>  <b>Student:</b> Sie können auch Datenverlust haben, wenn Sie zwei sehr kurzlebige Verbindungen von einem Host unmittelbar nacheinander herstellen. <br><br>  <b>Professor:</b> Ja natürlich.  Eine andere Sache ist, dass wir uns geweigert haben, diesen alten Stil der ISN-Sequenznummer zu verwenden, was die Unabhängigkeit dieser mehreren Verbindungen in kurzer Zeit voneinander erhöht hat.  Ich denke, hier gibt es eine Reihe von Kompromissen, wir haben gerade über drei davon gesprochen, daher gibt es noch ein paar Gründe zur Besorgnis. <br><br>  Wenn wir ein Protokoll von Grund auf neu entwickeln könnten, um das Beste zu erreichen, könnten wir nur ein separates gutes 64-Bit-Volume für die F-Funktion und ein 64-Bit-Volume für den Zeitstempel haben und es dann ständig verwenden, ohne aufzugeben all diese schönen Dinge. <br><br>  <b>Student:</b> Sollten die SNs im zweiten und dritten Schritt gleich sein? <br><br>  <b>Professor:</b> Natürlich, weil der Server sonst nicht zu dem Schluss kommen kann, dass dieser Client unser Paket erhalten hat.  Wenn der Server nicht überprüft, ob diese SNs dieselbe Bedeutung wie zuvor haben, kann dies sogar noch schlimmer sein, da ich im ersten Schritt eine Verbindung von einer beliebigen IP-Adresse fälschen und im zweiten Schritt diese Antwort erhalten könnte.  Oder ich würde diese Antwort nicht einmal bekommen, weil sie an eine andere IP-Adresse gerichtet ist.  Dann stelle ich im dritten Schritt eine Verbindung von einer anderen IP-Adresse her.  In diesem Fall würde der Server die hergestellte Verbindung unterstützen, auf das Senden von Daten warten und so weiter. <br><br><img src="https://habrastorage.org/webt/4l/ta/ju/4ltajum6836awmvn0sgd43vygee.jpeg"><br><br>  <b>Student:</b> aber der Zeitstempel wird anders sein, oder?  Wie kann der Server dies mithilfe eines neuen Zeitstempels nachzählen, wenn er den Status nicht speichert? <br><br>  <b>Professor:</b> Wie gesagt, diese Zeitstempel sind ziemlich "grobkörnig" und werden in Minuten bewertet.  Wenn Sie sich zur gleichen Minute verbinden, ist alles in Ordnung, wenn Sie sich am Rand der Minute verbinden - das ist schade. <br><br>  Ein weiteres Problem bei dieser Schaltung ist, dass sie in vielerlei Hinsicht unvollkommen ist.  Die meisten funktionierenden Systeme, einschließlich Linux, haben jedoch Möglichkeiten, zu viele Einträge in dieser Tabelle zu erkennen.  Und wenn die Gefahr eines Überlaufs besteht, wechselt das System zu einem anderen Schema. <br><br>  <b>Student:</b> Wenn ein Angreifer eine große Anzahl von IP-Adressen kontrolliert und das tut, was Sie gesagt haben, auch wenn Sie wechseln ... <br><br>  <b>Professor:</b> Ja, Sie können wirklich wenig tun.  Der Grund, warum sich dieses Schema so um uns kümmerte, war, dass wir die Angreifer und die „Guten“ herausfiltern oder irgendwie unterscheiden wollten.  Wenn ein Angreifer mehr IP-Adressen hat und nur mehr Computer kontrolliert als die Guten, kann er sich mit unserem Server verbinden, mehrere Webseiten anfordern oder in Kontakt bleiben. <br><br>  Und dann wird es für den Server sehr schwierig sein festzustellen, ob Anforderungen von legitimen Clients empfangen werden oder ob es nur ein Angreifer ist, der die Serverressourcen bindet.  Sie haben also absolut Recht.  Dieses Schema funktioniert nur, wenn der Angreifer eine geringe Anzahl von IP-Adressen hat und einen Effekt erzielen möchte. <br><br>  Dies gibt Anlass zur Sorge, da einige Angreifer heute eine große Anzahl gehackter Computer von normalen Benutzern kontrollieren.  Dies ermöglicht es ihnen, DoS mit einer Flotte von Maschinen auf der ganzen Welt zu erstellen, und es ist ziemlich schwierig, sich dagegen zu verteidigen. <br><br>  Ich möchte noch eine interessante Sache erwähnen - die Verweigerung des DoS-Dienstes ist an sich schlecht, aber noch schlimmer, wenn die Protokolle selbst zu einem solchen Angriff beitragen.  Der Angreifer weiß davon und greift vor allem Systeme mit Protokollen wie DNS an.  Das DNS-Protokoll enthält einen Client, der eine Anforderung an den Server sendet, und der Server sendet eine Antwort an den Client zurück.  In vielen Fällen ist die Antwortgröße in Byte viel größer als das Anforderungsvolumen. <br><br><img src="https://habrastorage.org/webt/sy/gv/mq/sygvmq26-ayo8twvl0f6lkxnkja.jpeg"><br><br>  Sie haben nach dem Server mit.edu gefragt.  ,        ,     mit.edu —   ,    mit.edu,  ,    DNS SEC,   . <br><br>      100 ,   —  1000 . ,    «» -            .        ,        DNS-    .      100   - DNS-,  ,      ,       1000    . <br><br>     ,        .      ,       TCP SYN Flooding, DNS-      ,       .           , ,     « ». <br><br>        DNS.             .       ,           DNS-.        ,        .       . <br><br> <b>:</b>        DNS-     … <br><br> <b>:</b> ,     DNS-  ,    - . <br><br> <b>:</b>         ,      ? <br><br> <b>:</b>  ,       DNS-,    .     DNS-,     .      10    DNS-,      ,      ,  , ,      .    . ,  ,      DNS-,        . <br><br>     ,    DNS    ,     ,     ,           .       ,          . <br><br>  ,   ,       ,       –    ,   ,   ,   .    ,       ,   .       . <br><br>     DNS-         ,        .      ,           ,          . <br><br>        ,   : «,      ,   »!  ,  ,  DNS-            . <br><br>   ,         .   -  -,        .    DoS    ,                   .          ,    ,       ,  ,       . <br><br><img src="https://habrastorage.org/webt/ub/2r/rc/ub2rrcc5_hvwg939goz50wj08ve.jpeg"><br><br>    ,     ,   .     ,            ,      ,  . <br><br>      ,        ,      .        . <br><br> ,      DHCP,         .    , ,   IP-.  , , MIT  DHCP,   ,   , ,   IP-,    ,  DNS-,    ,         . <br><br>    ,    DHCP          DHCP-,         ,    DHCP-.           ,      ,     . ,          DHCP      IP-, : «,     DNS-  »!        DNS     . <br><br>   ,      .     ,  BGP,        IP-,       .    ,   ,   BGP, : «,         IP-!»,       : „, ,     “. <br><br><img src="https://habrastorage.org/webt/z2/tv/1u/z2tv1u_2r9qcpdqgfpgtf22xxgq.jpeg"><br><br> ,     ,     ,    IP-     .      IP-  ,  ,  IP-   .       IP-  ,      .      ,     .    ,   ,   ,     IP-.                ,     ,    . <br><br>       DNS SEC.  ,  ,     DNS,      ,       .    ,     ,  , ,        DNS SEC. <br><br> ,  ,       ,       .         :              ,      ,      ,  ,   ,      DoS — .             . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daher sollten Sie sich bemühen, solche Dinge wie SYN Flooding-Angriffe und RST-Angriffe zu vermeiden, mit denen Sie einen beliebigen Netzwerkbenutzer trennen können. </font><font style="vertical-align: inherit;">Dies sind Dinge, die auf niedrigem Niveau wirklich schädlich sind und auf hohem Niveau schwer zu beheben sind. </font><font style="vertical-align: inherit;">Sie gewährleisten jedoch mehr oder weniger die Integrität und Vertraulichkeit von Daten mithilfe von Verschlüsselung. </font><font style="vertical-align: inherit;">Wir werden in der nächsten Vorlesung über Cerberus darüber sprechen, wie das geht.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BZTWXl9QNK8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Vollversion des Kurses finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie für einen Zeitraum von sechs Monaten bezahlen, können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427093/">https://habr.com/ru/post/de427093/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427077/index.html">Laplace-Unschärfe - Ist es möglich, Laplace anstelle von Gauß zu blubbern, wie oft ist es schneller und ist es den Verlust von 1/32 Genauigkeit wert?</a></li>
<li><a href="../de427079/index.html">NetApp Insight 2018</a></li>
<li><a href="../de427081/index.html">Kriterien des menschlichen Geistes aus der Sicht eines Programmierers</a></li>
<li><a href="../de427087/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 12: Netzwerksicherheit, Teil 2</a></li>
<li><a href="../de427091/index.html">Numerische Überprüfung der abc-Hypothese (ja, diese)</a></li>
<li><a href="../de427095/index.html">Antimon - CAD aus einer Parallelwelt</a></li>
<li><a href="../de427097/index.html">Die mobile App hilft, Depressionen und andere psychische Probleme in den frühesten Stadien zu erkennen.</a></li>
<li><a href="../de427101/index.html">Google plant, Herstellern von Mobilgeräten bis zu 40 US-Dollar für jedes verkaufte Gerät in Rechnung zu stellen</a></li>
<li><a href="../de427105/index.html">Lernen zu lernen: Weiterbildung ist der Schlüssel zur Wettbewerbsfähigkeit im Zeitalter der digitalen Wirtschaft</a></li>
<li><a href="../de427107/index.html">Parsim X12 "auf dem Knie"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>