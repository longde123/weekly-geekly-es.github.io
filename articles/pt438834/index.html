<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥üèø ü§∏üèº üíÖüèΩ O designer tem uma nova ideia? O que poderia ser mais f√°cil üë®üèΩ‚Äçüíº ‚¨õÔ∏è ü•å</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°, habrovchanin! Designers s√£o pessoas ideol√≥gicas e clientes, especialmente com seus requisitos de neg√≥cios. 

 Imagine que voc√™ empilhou o seu mel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O designer tem uma nova ideia? O que poderia ser mais f√°cil</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/438834/"> Ol√°, <i>habrovchanin!</i>  Designers s√£o pessoas ideol√≥gicas e clientes, especialmente com seus requisitos de neg√≥cios. <br><br>  Imagine que voc√™ empilhou o seu melhor kit de interface do usu√°rio no mundo, com a% melhor inser√ß√£o de sua estrutura% JS.  Parece que h√° tudo o que o projeto precisa.  Agora voc√™ pode tomar caf√© e fechar todas as novas tarefas lan√ßando componentes na p√°gina.  Melhor ainda, se voc√™ encontrou esse kit de interface <s>do</s> usu√°rio <s>em um dep√≥sito de lixo</s> nos espa√ßos abertos do NPM e ele combina perfeitamente com o UX / UI atual e suas necessidades.  Fic√ß√£o! <br><br>  E realmente ... com quem estou brincando?  Sua felicidade provavelmente ter√° vida curta.  Afinal, quando o designer vem executando o Talmud de novas solu√ß√µes de interface do usu√°rio para a pr√≥xima p√°gina ou "projeto especial", algo vai dar errado de qualquer maneira. <br><br>  Neste ponto, o desenvolvedor se depara com a pergunta <i>"DRY or not DRY"</i> ?  De alguma forma, devo personalizar os componentes existentes?  Sim, para n√£o atrasar a regress√£o nos casos existentes.  Ou aja de acordo com o princ√≠pio "funciona - n√£o toque" e escreva novos componentes do zero.  Ao mesmo tempo, aumenta o UIkit e complica o suporte. <br><br>  Se voc√™, como muitos, esteve em tal situa√ß√£o, olhe por baixo! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pg/zi/h1/pgzih1gaphuoow-4dtwabbwl7he.png"></div><br><a name="habracut"></a><br>  Apesar da extensa introdu√ß√£o, a id√©ia de escrever este artigo veio a mim depois de ler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um dos t√≥picos de coment√°rios</a> sobre Habr√©.  L√°, os caras ficaram seriamente interessados ‚Äã‚Äãem como personalizar o componente do bot√£o no React.  Bem, depois de assistir alguns desses hol√≠voros no Telegram, a necessidade de escrever sobre isso foi finalmente refor√ßada. <br><br>  Para come√ßar, vamos tentar imaginar quais ‚Äúpersonaliza√ß√µes‚Äù precisaremos aplicar ao componente. <br><br><h2>  Estilos </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ab/bi/ti/abbitiyyrsgmek-31gm13vo3bpw.png"></div><br>  Primeiro de tudo, essa √© a personaliza√ß√£o dos estilos de componentes.  Um exemplo comum √© um bot√£o cinza, mas √© necess√°rio um azul.  Ou um bot√£o sem cantos arredondados e de repente eles s√£o necess√°rios.  Com base nos hol√≠voros que li, conclu√≠ que existem aproximadamente 3 abordagens para isso: <br><br><h4>  1. Estilos globais </h4><br>  Use <s>todo o poder dos</s> estilos globais de CSS, bastante redirecionados por <b>! Important</b> , para que, externamente, tente sobrepor os estilos do componente original.  A decis√£o, para dizer o m√≠nimo, √© controversa e direta demais.  Al√©m disso, essa op√ß√£o nem sempre √© poss√≠vel e, ao mesmo tempo, viola desesperadamente qualquer encapsulamento de estilos.  A menos que, √© claro, seja usado em seus componentes. <br><br><h4>  2. Passando classes (estilos) do contexto pai </h4><br>  Tamb√©m uma decis√£o bastante controversa.  Acontece que estamos criando um <i>suporte</i> especial, por exemplo, vamos cham√°-lo de <b>classes</b> e logo acima imergimos as classes necess√°rias no componente. <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">classes</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"btn-red btn-rounded"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  Naturalmente, essa abordagem funcionar√° apenas se o componente suportar a aplica√ß√£o de estilos ao seu conte√∫do dessa maneira.  Al√©m disso, se o componente for um pouco mais complexo e consistir em uma estrutura aninhada de elementos HTML, obviamente a aplica√ß√£o de estilos a todos ser√° problem√°tica.  Portanto, eles ser√£o aplicados ao elemento raiz do componente e, usando as regras CSS, eles se espalhar√£o de alguma forma.  Infelizmente. <br><br><h4>  3. Configurando o componente usando adere√ßos </h4><br>  Parece a solu√ß√£o mais sensata, mas ao mesmo tempo a menos flex√≠vel.  Simplificando, esperamos que o autor do componente seja algum tipo de g√™nio e tenha pensado em todas as op√ß√µes com anteced√™ncia.  Ou seja, tudo o que precisamos e determinamos todos os acess√≥rios necess√°rios para todos os resultados desejados: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bgColor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"red"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rounded</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre><br>  Isso n√£o parece muito prov√°vel, n√£o √©?  Talvez. <br><br><h2>  Comportamento </h2><br><img src="https://habrastorage.org/webt/dr/dp/9o/drdp9opsq9i-y99s-11yywrlok0.jpeg"><br><br>  Aqui √© ainda mais amb√≠guo.  Primeiro de tudo, porque as dificuldades em personalizar o comportamento de um componente v√™m da tarefa.  Quanto mais complexo o componente e a l√≥gica nele, e tamb√©m mais complexa a mudan√ßa que queremos fazer, mais dif√≠cil √© fazer essa altera√ß√£o.  Algum tipo de tautologia acabou ... Em suma, voc√™ entende!  ;-) <br><br>  No entanto, mesmo aqui, h√° um conjunto de ferramentas que nos ajudam a personalizar o componente ou n√£o.  Como estamos falando especificamente sobre a abordagem de componentes, eu destacaria as seguintes ferramentas √∫teis: <br><br><h4>  1. Trabalho conveniente com adere√ßos </h4><br>  Antes de tudo, √© necess√°rio poder imitar um conjunto de adere√ßos de componente sem ter que re-descrever esse conjunto e convenientemente procur√°-los ainda mais. <br><br>  Al√©m disso, se tentarmos adicionar algum comportamento ao componente, provavelmente, precisaremos usar um conjunto adicional de adere√ßos que n√£o s√£o necess√°rios pelo componente original.  Portanto, √© bom poder cortar parte dos acess√≥rios e transferir apenas o necess√°rio para o componente original.  Ao mesmo tempo, mantendo todas as propriedades sincronizadas. <br><br>  O outro lado √© quando queremos implementar um caso especial de comportamento de componentes.  De alguma forma, consertar parte de seu estado em uma tarefa espec√≠fica. <br><br><h4>  2. Rastreando o ciclo de vida e os eventos dos componentes </h4><br>  Em outras palavras, tudo o que acontece dentro de um componente n√£o deve ser um livro completamente fechado.  Caso contr√°rio, isso realmente complica a personaliza√ß√£o de seu comportamento. <br><br>  N√£o quero dizer viola√ß√£o do encapsulamento e interfer√™ncia n√£o controlada no interior.  O componente deve ser gerenciado por meio de sua API p√∫blica (geralmente s√£o adere√ßos e / ou m√©todos).  Mas ser capaz de "descobrir" de alguma forma o que est√° acontecendo por dentro e acompanhar a mudan√ßa em seu estado ainda √© necess√°rio. <br><br><h4>  3. Gest√£o imperativa </h4><br>  Vamos supor que eu n√£o contei isso a voc√™.  E, no entanto, √†s vezes, √© bom poder obter uma inst√¢ncia de um componente e imperativamente "puxar as cordas".  √â melhor evitar isso, mas em casos particularmente complexos, voc√™ n√£o pode ficar sem ele. <br><br>  Ok, meio que resolvi a teoria.  Em geral, tudo √© √≥bvio, mas nem tudo √© claro.  Portanto, vale considerar pelo menos algum caso real. <br><br><h2>  Case </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cn/ws/mj/cnwsmjfceo5s8vmfo4tgrs6nnfq.jpeg"></div><br><br>  Mencionei acima que a id√©ia de escrever um artigo surgiu por causa do holivar sobre a personaliza√ß√£o de um bot√£o.  Por isso, pensei que seria simb√≥lico resolver esse caso.  Mudar estupidamente de cor ou arredondar cantos seria muito f√°cil, ent√£o tentei criar um caso um pouco mais complexo. <br><br>  Imagine que temos um determinado componente do bot√£o b√°sico, usado na pris√£o de locais de aplicativos.  Al√©m disso, implementa algum comportamento b√°sico para todos os bot√µes do aplicativo, bem como um conjunto de estilos b√°sicos encapsulados que, de tempos em tempos, s√£o sincronizados com os guias da interface do usu√°rio e tudo mais. <br><br>  Al√©m disso, torna-se necess√°rio ter um componente adicional para o bot√£o enviar para o servidor (bot√£o enviar), que, al√©m das altera√ß√µes de estilo, requer comportamento adicional.  Por exemplo, pode ser um desenho do progresso do envio, bem como uma representa√ß√£o visual do resultado dessa a√ß√£o - com ou sem √™xito. <br><br>  Pode ser algo como isto: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_p/wd/rv/_pwdrvup0bf3wiuq6mnawmchopg.jpeg"></div><br><br>  N√£o √© dif√≠cil adivinhar que o bot√£o base est√° localizado √† esquerda e o bot√£o enviar √† direita est√° em um estado de conclus√£o bem-sucedida da solicita√ß√£o.  Bem, se o caso estiver claro - vamos come√ßar! <br><br><h3>  Solu√ß√£o </h3><br>  Eu ainda n√£o conseguia descobrir o que exatamente causou o holivar na decis√£o sobre o React.  Aparentemente, n√£o √© t√£o simples.  Portanto, n√£o tentarei a sorte e usarei a ferramenta mais familiar - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b>SvelteJS</b></a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma estrutura de desaparecimento de nova gera√ß√£o</a> que √© quase perfeita para resolver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esses problemas</a> . <br><br>  Concordaremos imediatamente, n√£o interferiremos de forma alguma com o c√≥digo do bot√£o base.  Assumimos que n√£o foi escrito por n√≥s e seu c√≥digo est√° fechado para corre√ß√µes.  Nesse caso, o componente do bot√£o base ser√° mais ou menos assim: <br><br>  <b>Button.html</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">} {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">} {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">} {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag">} {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">autofocus</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { data() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">type</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'button'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">disabled</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">autofocus</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">value</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">name</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript"> }; } }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/* scoped styles */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  E usado desta maneira: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cancel()"</span></span></span><span class="hljs-tag">&gt;</span></span>Cancel<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Observe que o componente do bot√£o √© realmente muito b√°sico.  Ele n√£o cont√©m absolutamente nenhum elemento auxiliar ou suporte que possa ajudar na implementa√ß√£o da vers√£o estendida do componente.  Esse componente nem suporta a transfer√™ncia de estilos por objetos ou pelo menos algum tipo de personaliza√ß√£o integrada, e todos os estilos s√£o estritamente isolados e n√£o vazam. <br><br>  Criar com base nesse componente outro, com funcionalidade aprimorada e mesmo sem fazer altera√ß√µes, pode parecer uma tarefa f√°cil.  Mas n√£o quando voc√™ usa o <b>Svelte</b> . <br><br>  Agora vamos determinar o que o bot√£o enviar deve ser capaz de fazer: <br><br><ol><li>  Primeiro de tudo, o quadro e o texto do bot√£o devem estar verdes.  Ao passar o mouse, o fundo tamb√©m deve ser verde em vez de cinza escuro. </li><li>  Al√©m disso, quando um bot√£o √© pressionado, ele deve "bater" em um indicador de progresso redondo. </li><li>  Ap√≥s a conclus√£o do processo (que √© controlado externamente), √© necess√°rio que o status do bot√£o possa ser alterado para bem-sucedido (sucesso) ou n√£o-bem-sucedido (erro).  Ao mesmo tempo, o bot√£o do indicador deve se transformar em um crach√° verde com um daw ou um crach√° vermelho com uma cruz. </li><li>  Tamb√©m √© necess√°rio poder definir o tempo ap√≥s o qual o emblema correspondente se tornar√° novamente um bot√£o em seu estado original (inativo). </li><li>  E, √© claro, voc√™ precisa fazer tudo isso em cima do bot√£o base, salvando e aplicando todos os estilos e acess√≥rios a partir da√≠. </li></ol><br>  Fuh, n√£o √© uma tarefa f√°cil.  Vamos primeiro criar um novo componente e envolv√™-lo com o bot√£o base: <br><br>  <b>SubmitButton.html</b> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Button </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./Button.html'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">components</span></span></span><span class="javascript">: { Button } }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Embora este seja exatamente o mesmo bot√£o, apenas pior - ele nem sabe como adotar proxy.  Isso n√£o importa, voltaremos a isso mais tarde. <br><br><h4>  Estilizar </h4><br>  Enquanto isso, vamos pensar em como podemos estilizar um novo bot√£o, ou seja, mudar as cores, de acordo com a tarefa.  Infelizmente, parece que n√£o podemos usar nenhuma das abordagens descritas acima. <br><br>  Como os estilos s√£o isolados dentro de um bot√£o, podem ocorrer problemas com estilos globais.  Tamb√©m √© imposs√≠vel incluir estilos - o bot√£o b√°sico simplesmente n√£o suporta esse recurso.  Al√©m de personalizar a apar√™ncia com a ajuda de adere√ßos.  Al√©m disso, gostar√≠amos que todos os estilos escritos para o novo bot√£o tamb√©m fossem encapsulados dentro desse bot√£o e n√£o vazassem. <br><br>  A solu√ß√£o √© incrivelmente simples, mas apenas se voc√™ j√° estiver usando o <b>Svelte</b> .  Ent√£o, basta escrever os estilos para o novo bot√£o: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="css"> </span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:global(button)</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">2px</span></span></span><span class="css"> solid </span><span class="hljs-number"><span class="css"><span class="hljs-number">#1ECD97</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#1ECD97</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="css"> </span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:global(button</span></span></span><span class="hljs-selector-pseudo"><span class="css"><span class="hljs-selector-pseudo">:hover)</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">background-color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#1ECD97</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">color</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">#fff</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Uma das notas principais do <b>Svelte</b> - coisas simples devem ser resolvidas com simplicidade.  O modificador especial <b>: global</b> nesta vers√£o gerar√° CSS de tal maneira que somente os bot√µes dentro do bloco com a classe de <b>envio</b> que est√£o neste componente receber√£o os estilos especificados. <br><br>  Mesmo que a marca√ß√£o do mesmo tipo apare√ßa repentinamente em qualquer outro local do aplicativo: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span>Button<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Os estilos do componente <b>SubmitButton de</b> forma alguma ‚Äúvazam‚Äù l√°. <br><br>  Usando esse m√©todo, o <b>Svelte</b> facilita a personaliza√ß√£o f√°cil dos estilos dos componentes aninhados, preservando o encapsulamento dos estilos dos dois componentes. <br><br><h4>  Jogamos adere√ßos e corrigimos o comportamento </h4><br>  Bem, lidamos com o estilo quase instantaneamente e sem adere√ßos adicionais e passando diretamente as classes CSS.  Agora voc√™ precisa fazer o proxy de todos os acess√≥rios do componente <b>Button</b> por meio do novo componente.  No entanto, eu n√£o gostaria de descrev√™-los novamente.  No entanto, para iniciantes, vamos decidir quais propriedades o novo componente ter√°. <br><br>  A julgar pela tarefa, o <b>SubmitButton</b> deve monitorar o status, al√©m de oferecer uma oportunidade para especificar o tempo decorrido entre a altera√ß√£o autom√°tica de um estado de sucesso / erro no estado inicial: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... export </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">default</span></span></span><span class="actionscript"> { ... data() { </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">return</span></span></span><span class="actionscript"> { delay: </span><span class="hljs-number"><span class="actionscript"><span class="hljs-number">1500</span></span></span><span class="actionscript">, status: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'idle'</span></span></span><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// loading, success, error }; } }; </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Portanto, nosso novo bot√£o ter√° 4 estados: descanso, download, sucesso ou erro.  Al√©m disso, por padr√£o, os dois √∫ltimos estados ser√£o alterados automaticamente para o estado ocioso ap√≥s 1,5 segundos. <br><br>  Para lan√ßar todos os objetos transmitidos no componente <b>Button</b> , mas ao mesmo tempo cortar o <i>status</i> e o <i>atraso</i> obviamente inv√°lidos, escreveremos uma propriedade calculada especial.  Depois disso, simplesmente usamos o operador de <i>espalhamento</i> para "manchar" os adere√ßos restantes no componente incorporado.  Al√©m disso, como estamos fazendo exatamente o bot√£o de envio, precisamos corrigir o tipo de bot√£o para que n√£o possa ser alterado externamente: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...attrs</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... computed: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">attrs</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">data</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> { delay, status, ...attrs } = data; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> attrs; } }, }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Muito simples e elegante. <br><br>  Como resultado, obtivemos uma vers√£o totalmente funcional do bot√£o b√°sico com estilos modificados.  √â hora de implementar o novo comportamento do bot√£o. <br><br><h4>  Mudamos e acompanhamos o status </h4><br>  Portanto, quando voc√™ clica no bot√£o <b>SubmitButton,</b> n√£o devemos apenas jogar o evento fora, para que o c√≥digo do usu√°rio possa process√°-lo (como √© feito no <b>Button</b> ), mas tamb√©m implementar uma l√≥gica comercial adicional - defina o estado do download.  Para fazer isso, basta pegar o evento no bot√£o base em seu pr√≥prio manipulador, fazer o que voc√™ precisa e envi√°-lo ainda mais: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...attrs</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"click(event)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ... export </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">default</span></span></span><span class="actionscript"> { ... methods: { click(e) { </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">this</span></span></span><span class="actionscript">.set({ status: </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'loading'</span></span></span><span class="actionscript"> }); </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">this</span></span></span><span class="actionscript">.fire(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'click'</span></span></span><span class="actionscript">, e); } }, }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Al√©m disso, o componente pai deste bot√£o, que controla o processo de envio de dados, pode definir o status de envio correspondente ( <i>√™xito / erro</i> ) por meio de adere√ßos.  Ao mesmo tempo, o bot√£o deve rastrear essa altera√ß√£o no status e, ap√≥s um tempo especificado, alterar automaticamente o estado para <i>ocioso</i> .  Para fazer isso, use o gancho de <b>atualiza√ß√£o do</b> <i>ciclo de</i> <b>vida</b> : <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... onupdate({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">current</span></span></span><span class="javascript">: { status, delay }, changed }) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (changed.status &amp;&amp; [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'success'</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'error'</span></span></span><span class="javascript">].includes(status)) { setTimeout(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.set({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">status</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'idle'</span></span></span><span class="javascript"> }), delay); } }, }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><h4>  Toques finais </h4><br>  Existem mais 2 pontos que n√£o s√£o √≥bvios na tarefa e surgem durante a implementa√ß√£o.  Primeiramente, para que a anima√ß√£o das metamorfoses dos bot√µes seja suave, voc√™ precisar√° alterar o pr√≥prio bot√£o com os estilos, e n√£o com algum outro elemento.  Para fazer isso, podemos usar o mesmo <b>: global</b> , para que n√£o haja problemas.  Al√©m disso, √© necess√°rio que a marca√ß√£o dentro do bot√£o esteja oculta em todos os status, exceto <i>ocioso</i> . <br><br>  Vale ressaltar separadamente que a marca√ß√£o dentro do bot√£o pode ser qualquer e √© lan√ßada no componente original do bot√£o base atrav√©s de slots aninhados.  No entanto, embora pare√ßa amea√ßador, a solu√ß√£o √© mais do que primitiva - voc√™ s√≥ precisa envolver o slot dentro do novo componente em um elemento adicional e aplicar os estilos necess√°rios: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...attrs</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">on:click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"click(event)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> ... </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">span</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">transition</span></span></span><span class="css">: opacity </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.3s</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0.1s</span></span></span><span class="css">; } </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.loading</span></span></span><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">span</span></span></span><span class="css">, </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.success</span></span></span><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">span</span></span></span><span class="css">, </span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.submit</span></span></span><span class="hljs-selector-class"><span class="css"><span class="hljs-selector-class">.error</span></span></span><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">span</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">opacity</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; } ... </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Al√©m disso, como o bot√£o n√£o se oculta da p√°gina, mas se transforma em conjunto com os status, seria bom desativ√°-lo no momento do envio.  Em outras palavras, se o bot√£o enviar foi definido como <i>desativado</i> usando acess√≥rios, ou se o status n√£o estiver <i>ocioso</i> , voc√™ dever√° desativar o bot√£o.  Para resolver esse problema, escrevemos outra pequena propriedade computada <i>isDisabled</i> e aplicamos ao componente aninhado: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...attrs</span></span></span><span class="hljs-tag">} </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{isDisabled}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... computed: { ... isDisabled: </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">{ status, disabled }</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> disabled || status !== </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'idle'</span></span></span><span class="javascript"> }, }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Tudo ficaria bem, mas o bot√£o b√°sico tem um estilo que o torna transl√∫cido no estado desativado, mas n√£o precisamos disso se o bot√£o estiver apenas temporariamente desativado devido a uma altera√ß√£o no status.  O mesmo acontece com o resgate <b>: global</b> : <br><br><pre> <code class="css hljs"> <span class="hljs-selector-class"><span class="hljs-selector-class">.submit</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.loading</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:global(button</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[disabled]</span></span>), <span class="hljs-selector-class"><span class="hljs-selector-class">.submit</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.success</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:global(button</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[disabled]</span></span>), <span class="hljs-selector-class"><span class="hljs-selector-class">.submit</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.error</span></span> <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:global(button</span></span><span class="hljs-selector-attr"><span class="hljs-selector-attr">[disabled]</span></span>) { <span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>; }</code> </pre><br>  Isso √© tudo!  O novo bot√£o √© lindo e pronto para come√ßar! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qj/6d/lb/qj6dlbps1kko_nq4gmyoftezyzc.gif"></div><br><br>  Omitirei intencionalmente detalhes da implementa√ß√£o de anima√ß√µes e tudo isso.  N√£o apenas porque n√£o est√° diretamente relacionado ao t√≥pico do artigo, mas tamb√©m porque nesta parte a demonstra√ß√£o n√£o saiu como gostar√≠amos.  N√£o compliquei minha tarefa e implementei uma solu√ß√£o completamente pronta para usar como um bot√£o e, de maneira est√∫pida, mostrei um exemplo encontrado na Internet. <br><br>  Portanto, n√£o aconselho usar esta implementa√ß√£o no trabalho.  Lembre-se, isso √© apenas uma demonstra√ß√£o deste artigo. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Demonstra√ß√£o interativa e c√≥digo de exemplo completo</a> <br><br>  Se voc√™ gostou do artigo e quis saber mais sobre o <b>Svelte</b> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">leia</a> outros <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos</a> .  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">"Como fazer uma pesquisa de usu√°rio no GitHub sem React + RxJS 6 + Recompose"</a> .  Ou√ßa o podcast <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RadioJS # 54</a> do Ano Novo, onde conversei com alguns detalhes sobre o que <b>√© Svelte</b> , como "desaparece" e por que n√£o √© "mais uma estrutura js". <br><br>  Confira o canal de telegrama em russo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SvelteJS</a> .  J√° existem mais de duzentos de n√≥s e teremos o maior prazer em v√™-lo! <br><br>  <b>P / s</b> <br><br>  De repente, as diretrizes da interface do usu√°rio foram alteradas.  Agora os r√≥tulos em todos os bot√µes do aplicativo devem estar em mai√∫sculas.  No entanto, n√£o temos medo dessa mudan√ßa de eventos.  Adicionar <b>transforma√ß√£o de texto: mai√∫scula;</b>  nos estilos do bot√£o base e continue tomando caf√©. <br><br>  Tenha um bom dia de trabalho! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438834/">https://habr.com/ru/post/pt438834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438820/index.html">Gerenciamento de conhecimento: quais documentos s√£o necess√°rios e o que corrigir neles</a></li>
<li><a href="../pt438824/index.html">Curso de Gerenciamento Remoto</a></li>
<li><a href="../pt438826/index.html">Aperte o ingl√™s para uma entrevista - metodologia e custos trabalhistas</a></li>
<li><a href="../pt438828/index.html">Lazarus - escrevendo um componente para anima√ß√£o de sprites</a></li>
<li><a href="../pt438832/index.html">Como n√£o perder o or√ßamento para a produ√ß√£o em s√©rie de casos: 20 exemplos da pr√°tica do Bureau of Engineering Design</a></li>
<li><a href="../pt438836/index.html">Monitoramento da temperatura do servidor fa√ßa voc√™ mesmo</a></li>
<li><a href="../pt438838/index.html">Eventos digitais em Moscou, de 4 a 10 de fevereiro</a></li>
<li><a href="../pt438840/index.html">Orgulho e paix√£o, a hist√≥ria de transformar um sonho em um projeto espacial</a></li>
<li><a href="../pt438842/index.html">Organize a lista de reprodu√ß√£o de torrent-TV (Super Wash)</a></li>
<li><a href="../pt438850/index.html">Moscow JS 44 - an√∫ncio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>