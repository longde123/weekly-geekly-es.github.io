<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ–¤ ğŸ˜› ğŸ’¸ 9 Vueæ€§èƒ½æŠ€å·§ ğŸ‘©ğŸ¾â€âœˆï¸ ğŸ’ƒğŸ¼ â›¹ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ¬æ–‡æœ‰ä¹ä¸ªæŠ€å·§ï¼Œä»‹ç»å¦‚ä½•æé«˜Vueåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œæé«˜æ˜¾ç¤ºé€Ÿåº¦å¹¶å‡å°æ†ç»‘åŒ…çš„å¤§å°ã€‚ 

 ä½¿ç”¨ç»„ä»¶ 
 åŠŸèƒ½ç»„ä»¶ 
 å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„å°ç»„ä»¶ã€‚ ä»–æ‰€åšçš„åªæ˜¯æ ¹æ®ä¼ é€’çš„å€¼æ˜¾ç¤ºä¸€ä¸ªç‰¹å®šçš„æ ‡ç­¾ï¼š 



<template> <div> <div v-if="value"></div> <sectio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>9 Vueæ€§èƒ½æŠ€å·§</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483042/"> æœ¬æ–‡æœ‰ä¹ä¸ªæŠ€å·§ï¼Œä»‹ç»å¦‚ä½•æé«˜Vueåº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œæé«˜æ˜¾ç¤ºé€Ÿåº¦å¹¶å‡å°æ†ç»‘åŒ…çš„å¤§å°ã€‚ <br><a name="habracut"></a><br><h2> ä½¿ç”¨ç»„ä»¶ </h2><br><h3> åŠŸèƒ½ç»„ä»¶ </h3><br> å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç®€å•çš„å°ç»„ä»¶ã€‚ ä»–æ‰€åšçš„åªæ˜¯æ ¹æ®ä¼ é€’çš„å€¼æ˜¾ç¤ºä¸€ä¸ªç‰¹å®šçš„æ ‡ç­¾ï¼š <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"value"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-else</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'value'</span></span></span><span class="javascript">] } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> å¯ä»¥é€šè¿‡æ·»åŠ <b>åŠŸèƒ½</b>å±æ€§æ¥ä¼˜åŒ–æ­¤ç»„ä»¶ã€‚ åŠŸèƒ½ç»„ä»¶ç¼–è¯‘ä¸ºç®€å•å‡½æ•°ï¼Œå¹¶ä¸”æ²¡æœ‰å±€éƒ¨çŠ¶æ€ã€‚ å› æ­¤ï¼Œå®ƒçš„æ€§èƒ½è¦é«˜å¾—å¤šï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">functional</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"props.value"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-else</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'value'</span></span></span><span class="javascript">] } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  <a href="">Vue v3.0ä¸­çš„åŠŸèƒ½ç»„ä»¶å¤–è§‚ç¤ºä¾‹</a> <br><br><h3> åˆ†ç¦»ä¸ºå­ç»„ä»¶ </h3><br> æƒ³è±¡ä¸€ä¸‹è¦æ˜¾ç¤ºæ‰§è¡ŒæŸäº›å¤æ‚ä»»åŠ¡æ‰€éœ€çš„ç»„ä»¶ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ opacity: number / 300 }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>{{ heavy() }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'number'</span></span></span><span class="javascript">], </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">methods</span></span></span><span class="javascript">: { heavy () { </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">/*   */</span></span></span><span class="javascript"> } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼ŒVueæ¯æ¬¡é‡æ–°æ¸²æŸ“ç»„ä»¶æ—¶ï¼ˆå³ï¼Œæ¯æ¬¡propså€¼æ›´æ”¹æ—¶ï¼‰éƒ½å°†æ‰§è¡Œheavyï¼ˆï¼‰æ–¹æ³•ã€‚ <br><br> å¦‚æœå°†é‡å‹æ–¹æ³•åˆ†ä¸ºå­ç»„ä»¶ï¼Œåˆ™å¯ä»¥è½»æ¾ä¼˜åŒ–æ­¤ç±»ç»„ä»¶ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ opacity: number / 300 }"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ChildComp</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'number'</span></span></span><span class="javascript">], </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">components</span></span></span><span class="javascript">: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">ChildComp</span></span></span><span class="javascript">: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">methods</span></span></span><span class="javascript">: { heavy () { </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">/*   */</span></span></span><span class="javascript"> } }, render (h) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> h(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'div'</span></span></span><span class="javascript">, </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.heavy()) } } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> æ€ä¹ˆäº†  Vueè‡ªåŠ¨è·³è¿‡æœªæ›´æ”¹ç›¸å…³æ•°æ®çš„ç»„ä»¶çš„å‘ˆç°ã€‚ å› æ­¤ï¼Œå½“åœ¨çˆ¶ç»„ä»¶ä¸­æ›´æ”¹propsæ—¶ï¼Œå°†é‡æ–°ä½¿ç”¨å­ç»„ä»¶ï¼Œå¹¶ä¸”ä¸ä¼šé‡æ–°å¯åŠ¨heavyï¼ˆï¼‰æ–¹æ³•ã€‚ <br><br> è¯·æ³¨æ„ï¼Œè¿™ä»…åœ¨å­ç»„ä»¶åœ¨çˆ¶ç»„ä»¶ä¸­ä¸å…·æœ‰æ•°æ®ä¾èµ–æ€§çš„æƒ…å†µä¸‹æ‰æœ‰æ„ä¹‰ã€‚ å¦åˆ™ï¼Œå°†ä¸çˆ¶ä»£ä¸€èµ·é‡æ–°åˆ›å»ºå­ä»£ï¼Œç„¶åè¿›è¡Œè¿™ç§ä¼˜åŒ–æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ <br><br><h3>  Getteræœ¬åœ°ç¼“å­˜ </h3><br> ä»¥ä¸‹ç»„ä»¶å…·æœ‰åŸºäºç¬¬äºŒä¸ªè®¡ç®—å±æ€§çš„æŸç§è®¡ç®—å±æ€§ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ opacity: start / 300 }"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ result }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'start'</span></span></span><span class="javascript">], </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">computed</span></span></span><span class="javascript">: { base () { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">42</span></span></span><span class="javascript"> }, result () { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> result = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.start </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">for</span></span></span><span class="javascript"> (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> i = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">; i &lt; </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1000</span></span></span><span class="javascript">; i++) { result += </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.base } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> result } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> è¿™é‡Œé‡è¦çš„æ˜¯ï¼ŒåŸºå±æ€§åœ¨å¾ªç¯ä¸­è¢«è°ƒç”¨ï¼Œè¿™å¯¼è‡´äº†å¤æ‚æ€§ã€‚ æ¯æ¬¡è®¿é—®ååº”æ€§æ•°æ®æ—¶ï¼ŒVueéƒ½ä¼šè¿è¡Œä¸€äº›é€»è¾‘æ¥ç¡®å®šå¦‚ä½•ä»¥åŠå¦‚ä½•è®¿é—®å“ªäº›æ•°æ®ä»¥å»ºç«‹ä¾èµ–å…³ç³»ç­‰ç­‰ã€‚ å¦‚æˆ‘ä»¬çš„ç¤ºä¾‹æ‰€ç¤ºï¼Œå¦‚æœæœ‰å¤§é‡çš„å‘¼å«ï¼Œé‚£ä¹ˆå°†æ±‡æ€»è¿™äº›å°çš„å¼€é”€ã€‚ <br><br> è¦è§£å†³æ­¤é—®é¢˜ï¼Œåªéœ€è®¿é—®ä¸€æ¬¡baseå¹¶å°†å€¼ä¿å­˜åˆ°å±€éƒ¨å˜é‡ä¸­å³å¯ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{ opacity: start / 300 }"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ result }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'start'</span></span></span><span class="javascript">], </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">computed</span></span></span><span class="javascript">: { base () { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">42</span></span></span><span class="javascript"> }, result () { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> base = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.base </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">// &lt;-- let result = this.start for (let i = 0; i &lt; 1000; i++) { result += base } return result } } } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3> åœ¨v-showä¸­é‡ç”¨DOM </h3><br> çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">functional</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"props.value"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-else</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> è¿™é‡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…è£…å™¨ç»„ä»¶ï¼Œè¯¥ç»„ä»¶ä½¿ç”¨v-ifå’Œv-elseæ¥åˆ‡æ¢æŸäº›å­ç»„ä»¶ã€‚ <br><br> äº†è§£v-ifçš„å·¥ä½œåŸç†å¾ˆé‡è¦ã€‚ æ¯æ¬¡åˆ‡æ¢çŠ¶æ€æ—¶ï¼Œä¸€ä¸ªå­ç»„ä»¶å°†è¢«å®Œå…¨é”€æ¯ï¼ˆè°ƒç”¨destroyï¼ˆï¼‰é’©å­ï¼Œå°†ä»DOMä¸­åˆ é™¤æ‰€æœ‰èŠ‚ç‚¹ï¼‰ï¼Œç¬¬äºŒä¸ªå­ç»„ä»¶å°†è¢«å®Œå…¨åˆ›å»ºå¹¶å†æ¬¡å®‰è£…ã€‚ è€Œä¸”ï¼Œå¦‚æœè¿™äº›ç»„ä»¶â€œå¾ˆé‡â€ï¼Œé‚£ä¹ˆåœ¨åˆ‡æ¢æ—¶æ‚¨å°†æŒ‚èµ·ä¸€ä¸ªæ¥å£ã€‚ <br><br> æ›´å…·ç”Ÿäº§åŠ›çš„è§£å†³æ–¹æ¡ˆ-ä½¿ç”¨v-show <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">functional</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"props.value"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"!props.value"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10000"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">section</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <b>ä¸¤ä¸ª</b>å­ç»„ä»¶å°†ç«‹å³åˆ›å»ºå¹¶å®‰è£…ï¼Œå¹¶åŒæ—¶å­˜åœ¨ã€‚ å› æ­¤ï¼ŒVueåœ¨åˆ‡æ¢æ—¶ä¸éœ€è¦ç ´åå’Œåˆ›å»ºç»„ä»¶ã€‚ ä»–æ‰€åšçš„åªæ˜¯éšè—å…¶ä¸­ä¸€ä¸ªï¼Œå¹¶ä½¿ç”¨CSSæ˜¾ç¤ºç¬¬äºŒä¸ªã€‚ å› æ­¤ï¼Œåˆ‡æ¢çŠ¶æ€ä¼šæ›´å¿«ï¼Œä½†æ˜¯æ‚¨åº”è¯¥äº†è§£è¿™å°†å¯¼è‡´é«˜æ˜‚çš„å†…å­˜æˆæœ¬ã€‚ <br><br><h3> ä½¿ç”¨&lt;keep-alive&gt; </h3><br> å› æ­¤ï¼Œä¸€ä¸ªç®€å•çš„ç»„ä»¶æ˜¯<a href="https://router.vuejs.org/ru/">è·¯ç”±å™¨ä¸Š</a>çš„åŒ…è£…å™¨ç»„ä»¶ã€‚ <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">router-view</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> é—®é¢˜ä¸å‰é¢çš„ç¤ºä¾‹ç›¸ä¼¼-è·¯ç”±å™¨ä¹‹é—´çš„æ‰€æœ‰ç»„ä»¶éƒ½å°†åœ¨è·¯ç”±ä¹‹é—´çš„è½¬æ¢æœŸé—´åˆ›å»ºï¼Œå®‰è£…å’Œé”€æ¯ã€‚ <br><br> è€Œä¸”è¿™é‡Œçš„è§£å†³æ–¹æ¡ˆå¾ˆç›¸ä¼¼-å‘Šè¯‰Vueä¸è¦ç ´åè€Œæ˜¯è¦ç¼“å­˜å’Œé‡ç”¨ç»„ä»¶ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„å†…ç½®<a href="https://ru.vuejs.org/v2/api/">&lt;keep-alive&gt;</a>ç»„ä»¶æ‰§è¡Œæ­¤æ“ä½œï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keep-alive</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">router-view</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keep-alive</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> è¿™ç§ä¼˜åŒ–å°†å¯¼è‡´å†…å­˜æ¶ˆè€—å¢åŠ ï¼Œå› ä¸ºVueå°†æ”¯æŒæ›´å¤šâ€œå­˜æ´»â€çš„ç»„ä»¶ã€‚ å› æ­¤ï¼Œä¸è¦åœ¨æ‰€æœ‰è·¯çº¿ä¸Šéƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå°¤å…¶æ˜¯å½“å®ƒä»¬å¾ˆå¤šæ—¶ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨includeå’Œexcludeå±æ€§æ¥è®¾ç½®è§„åˆ™ï¼Œå“ªäº›è·¯ç”±åº”è¯¥è¢«ç¼“å­˜ï¼Œå“ªäº›ä¸åº”è¯¥ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"app"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keep-alive</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"home,some-popular-page"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">router-view</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">keep-alive</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3> å»¶è¿Ÿæ¸²æŸ“ </h3><br> ä»¥ä¸‹ç¤ºä¾‹æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªéå¸¸ç¹é‡çš„å­ç»„ä»¶çš„ç»„ä»¶ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>I'm an heavy page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n in 10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"super-heavy"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9999999"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> é—®é¢˜åœ¨äºï¼Œç»„ä»¶å¤„ç†æ˜¯ä¸»çº¿ç¨‹ä¸­çš„åŒæ­¥æ“ä½œã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæµè§ˆå™¨å°†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å†…å®¹ï¼Œç›´åˆ°æ‰€æœ‰çˆ¶çº§å’Œå­çº§ç»„ä»¶çš„å¤„ç†å®Œæˆã€‚ è€Œä¸”ï¼Œå¦‚æœè¦èŠ±è´¹å¤§é‡æ—¶é—´æ¥å¤„ç†å­å…¬å¸ï¼Œé‚£ä¹ˆæ‚¨å°†åœ¨ç•Œé¢æˆ–ç©ºç™½å±å¹•ä¸­æ»åä¸€æ®µæ—¶é—´ã€‚ <br><br> æ‚¨å¯ä»¥é€šè¿‡å»¶è¿Ÿå­ç»„ä»¶çš„æ¸²æŸ“æ¥æ”¹å–„è¿™ç§æƒ…å†µï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>I'm an heavy page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"defer(2)"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n in 10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"defer(3)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"super-heavy"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9999999"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> Defer </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'@/mixins/Defer'</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">mixins</span></span></span><span class="javascript">: [ Defer() ] } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> åœ¨è¿™é‡Œï¼Œdeferï¼ˆnï¼‰å‡½æ•°è¿”å›é”™è¯¯çš„nå¸§ã€‚ ä¹‹åï¼Œå®ƒæ€»æ˜¯è¿”å›trueã€‚ å®ƒç”¨äºå°†æ¨¡æ¿çš„ä¸€éƒ¨åˆ†å¤„ç†æ¨è¿Ÿå‡ å¸§ï¼Œä»è€Œä½¿æµè§ˆå™¨å¯ä»¥ç»˜åˆ¶ç•Œé¢ã€‚ <br><br> å¦‚ä½•è¿ä½œï¼Ÿ å¦‚æˆ‘ä¸Šé¢æ‰€è¿°ï¼Œå¦‚æœv-ifæŒ‡ä»¤ä¸­çš„æ¡ä»¶ä¸ºfalseï¼Œåˆ™Vueä¼šå®Œå…¨å¿½ç•¥æ¨¡æ¿çš„ä¸€éƒ¨åˆ†ã€‚ <br><br> åœ¨åŠ¨ç”»çš„ç¬¬ä¸€å¸§ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>I'm an heavy page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n in 10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"super-heavy"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9999999"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Vueåªæ˜¯ç®€å•åœ°å®‰è£…äº†æ ‡é¢˜ï¼Œç„¶åæµè§ˆå™¨æ˜¾ç¤ºå®ƒå¹¶è¯·æ±‚ç¬¬äºŒå¸§ã€‚ æ­¤æ—¶ï¼Œdeferï¼ˆ2ï¼‰å°†å¼€å§‹è¿”å›true <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>I'm an heavy page<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n in 10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"n"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Heavy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">v-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"super-heavy"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:n</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9999999"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Vueå°†åˆ›å»º10ä¸ªå­ç»„ä»¶å¹¶å°†å…¶å®‰è£…ã€‚ æµè§ˆå™¨å°†æ˜¾ç¤ºå®ƒä»¬å¹¶è¯·æ±‚ä¸‹ä¸€å¸§ï¼Œåœ¨æ­¤ä¸‹ä¸€å¸§deferï¼ˆ3ï¼‰å°†è¿”å›trueã€‚ <br><br> å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªé€æ¸å¤„ç†çš„æ²‰é‡ç»„ä»¶ï¼Œä½¿æµè§ˆå™¨èƒ½å¤Ÿæ˜¾ç¤ºæ¨¡æ¿ä¸­å·²å®‰è£…çš„éƒ¨åˆ†ï¼Œè¿™å°†å¤§å¤§æ”¹å–„UXï¼Œå› ä¸ºè¯¥ç•Œé¢çœ‹èµ·æ¥ä¸ä¼šåƒæŒ‚èµ·ä¸€æ ·ã€‚ <br><br> æ··éŸ³å™¨å»¶è¿Ÿä»£ç ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">count = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { data () { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">displayPriority</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } }, mounted () { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.runDisplayPriority() }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { runDisplayPriority () { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> step = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { requestAnimationFrame(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.displayPriority++ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.displayPriority &lt; count) { step() } }) } step() }, defer (priority) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.displayPriority &gt;= priority } } } }</code> </pre><br><h3> æƒ°æ€§ç»„ä»¶åŠ è½½ </h3><br> ç°åœ¨è®©æˆ‘ä»¬æ¥è°ˆè°ˆå¯¼å…¥å­ç»„ä»¶ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Heavy <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'Heavy.js'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">components</span></span>: { Heavy } }</code> </pre><br> åœ¨ä¼ ç»Ÿå¯¼å…¥ä¸­ï¼Œå­ç»„ä»¶åœ¨æµè§ˆå™¨åˆ°è¾¾importè¯­å¥æ—¶ç«‹å³åŠ è½½ã€‚ æˆ–è€…ï¼Œå¦‚æœæ‚¨ä½¿ç”¨æ”¶é›†å™¨ï¼Œåˆ™æ‚¨çš„å­ç»„ä»¶å°†åŒ…å«åœ¨å¸¸è§„æ†ç»‘åŒ…ä¸­ã€‚ <br><br> ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„å­ç»„ä»¶å¾ˆå¤§ï¼Œåˆ™å¯ä»¥å¼‚æ­¥åŠ è½½å®ƒã€‚ <br> è¿™å¾ˆå®¹æ˜“åšåˆ°ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Heavy = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'Heavy.js'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { <span class="hljs-attr"><span class="hljs-attr">components</span></span>: { Heavy } }</code> </pre><br>  <b>è¿™å°±æ˜¯æ‚¨æ‰€éœ€è¦çš„</b> ã€‚  Vueå¯ä»¥ç«‹å³ä½¿ç”¨å»¶è¿ŸåŠ è½½ç»„ä»¶ã€‚ ä»–å°†åœ¨éœ€è¦æ—¶è‡ªå·±ä¸‹è½½è¯¥ç»„ä»¶ï¼Œå¹¶åœ¨å‡†å¤‡å¥½åç«‹å³æ˜¾ç¤ºã€‚ æ‚¨å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œå»¶è¿ŸåŠ è½½ã€‚ <br><br> å¦‚æœä½¿ç”¨æ”¶é›†å™¨ï¼Œé‚£ä¹ˆæœ‰å…³Heavy.jsçš„æ‰€æœ‰å†…å®¹éƒ½å°†åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­åˆ é™¤ã€‚ å› æ­¤ï¼Œæ‚¨å°†å‡å°‘åˆå§‹ä¸‹è½½æœŸé—´æ–‡ä»¶çš„é‡é‡ï¼Œå¹¶æé«˜æ˜¾ç¤ºé€Ÿåº¦ã€‚ <br><br><h4> å»¶è¿ŸåŠ è½½è§†å›¾ </h4><br> å¯¹äºç”¨äºè·¯ç”±çš„ç»„ä»¶ï¼Œå»¶è¿ŸåŠ è½½éå¸¸æœ‰ç”¨ã€‚ ç”±äºæ‚¨ä¸éœ€è¦åŒæ—¶ä¸‹è½½è·¯ç”±çš„æ‰€æœ‰ç»„ä»¶ï¼Œå› æ­¤å»ºè®®æ‚¨<b>å§‹ç»ˆ</b>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Home = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'Home.js'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> About = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'About.js'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Contacts = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'Contacts.js'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> VueRouter({ <span class="hljs-attr"><span class="hljs-attr">routes</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: Home }, { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/about'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: About }, { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/contacts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: Contacts }, ] })</code> </pre><br> ä»…å½“ç”¨æˆ·é¦–æ¬¡è¯·æ±‚æŒ‡å®šçš„è·¯ç”±æ—¶ï¼Œæ‰ä¼šåŠ è½½è¿™äº›ç»„ä»¶ä¸­çš„æ¯ä¸ªç»„ä»¶ã€‚ è€Œä¸æ˜¯ä¹‹å‰ã€‚ <br><br><h4> åŠ¨æ€ç»„ä»¶ </h4><br> åŒæ ·ï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°å¯¹åŠ¨æ€ç»„ä»¶ä½¿ç”¨å»¶è¿ŸåŠ è½½ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:is</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"componentToShow"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">props</span></span></span><span class="javascript">: [</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'value'</span></span></span><span class="javascript">], </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">computed</span></span></span><span class="javascript">: { componentToShow() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">.value) { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> </span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript">(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'TrueComponent.js'</span></span></span><span class="javascript">) } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> </span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript">(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'FalseComponent.js'</span></span></span><span class="javascript">) } } } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> åŒæ ·ï¼Œæ¯ä¸ªç»„ä»¶ä»…åœ¨éœ€è¦æ—¶åŠ è½½ã€‚ <br><br><h2> ä¸Vuexåˆä½œ </h2><br><h3> é¿å…å¤§ç¬”é’± </h3><br> å‡è®¾æ‚¨éœ€è¦åœ¨å­˜å‚¨ä¸­å­˜å‚¨å¤§é‡æ•°æ®ï¼š <br><br><pre> <code class="javascript hljs">fetchItems ({ commit }, { items }) { commit(<span class="hljs-string"><span class="hljs-string">'clearItems'</span></span>) commit(<span class="hljs-string"><span class="hljs-string">'addItems'</span></span>, items) <span class="hljs-comment"><span class="hljs-comment">//   10000  }</span></span></code> </pre><br> é—®é¢˜æ˜¯è¿™æ ·çš„ã€‚ æ‰€æœ‰æäº¤éƒ½æ˜¯åŒæ­¥æ“ä½œã€‚ è¿™æ„å‘³ç€å¤„ç†å¤§å‹æ•°ç»„å°†åœ¨æ•´ä¸ªå·¥ä½œæœŸé—´é˜»å¡æ‚¨çš„æ¥å£ã€‚ <br><br> è¦è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥å°†æ•°ç»„æ‹†åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œç„¶åä¸€æ¬¡æ·»åŠ ä¸€ä¸ªï¼Œè¿™æ ·æµè§ˆå™¨å°±æœ‰æ—¶é—´ç»˜åˆ¶æ–°æ¡†æ¶äº†ï¼š <br><br><pre> <code class="javascript hljs">fetchItems ({ commit }, { items, splitCount }) { commit(<span class="hljs-string"><span class="hljs-string">'clearItems'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> queue = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JobQueue() splitArray(items, splitCount).forEach( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">chunk</span></span></span><span class="hljs-function"> =&gt;</span></span> queue.addJob(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">done</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//       requestAnimationFrame(() =&gt; { commit('addItems', chunk) done() }) }) ) //      await queue.start() }</span></span></code> </pre> <br> æ‚¨å°†æ•°æ®æ·»åŠ åˆ°å­˜å‚¨ä¸­çš„å‚ä¸è€…è¶Šå°ï¼Œç•Œé¢å°†è¶Šå¹³æ»‘ï¼Œå®Œæˆä»»åŠ¡çš„æ€»æ—¶é—´å°±è¶Šé•¿ã€‚ <br><br> æ­¤å¤–ï¼Œä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œæ‚¨å¯ä»¥ä¸ºç”¨æˆ·æ˜¾ç¤ºä¸‹è½½æŒ‡ç¤ºç¬¦ã€‚ è¿™ä¹Ÿå°†å¤§å¤§æ”¹å–„ä»–çš„åº”ç”¨ç¨‹åºä½“éªŒã€‚ <br><br><h3> åœ¨ä¸éœ€è¦çš„åœ°æ–¹å…³é—­ååº”æ€§ </h3><br> è¿˜æœ‰ä»Šå¤©çš„æœ€åä¸€ä¸ªä¾‹å­ã€‚ æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»ä¼¼çš„ä»»åŠ¡ï¼šæˆ‘ä»¬å‘å­˜å‚¨ä¸­æ·»åŠ ä¸€ä¸ªéå¸¸å¤§çš„å¯¹è±¡æ•°ç»„ï¼Œå¹¶å¸¦æœ‰ä¸€ç³»åˆ—åµŒå¥—çº§åˆ«ï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = items.map( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uid++, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: item, <span class="hljs-comment"><span class="hljs-comment">// &lt;--    vote: 0 }) )</span></span></code> </pre> <br> äº‹å®æ˜¯ï¼ŒVueå°†é€’å½’éå†æ‰€æœ‰åµŒå¥—å­—æ®µå¹¶ä½¿å®ƒä»¬å…·æœ‰ååº”æ€§ï¼Œå¦‚æœæ‚¨æœ‰å¤§é‡æ•°æ®ï¼Œè¿™å¯èƒ½ä¼šå¾ˆæ˜‚è´µï¼Œä½†æ›´é‡è¦çš„æ˜¯-ä¸å¿…è¦ã€‚ <br><br> å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä»¥ä»…ä¾èµ–äºé¡¶çº§å¯¹è±¡çš„æ–¹å¼æ„å»ºï¼Œå¹¶ä¸”ä¸å¼•ç”¨ä»¥ä¸‹å‡ ä¸ªçº§åˆ«çš„ååº”æ€§æ•°æ®ï¼Œåˆ™å¯ä»¥å…³é—­ååº”æ€§ï¼Œä»è€Œä»å¤§é‡çš„é¢å¤–å·¥ä½œä¸­èŠ‚çœäº†Vueï¼š <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> data = items.map( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function"> =&gt;</span></span> optimizeItem(item) ) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">optimizeItem</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> itemData = { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: uid++, <span class="hljs-attr"><span class="hljs-attr">vote</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(itemData, <span class="hljs-string"><span class="hljs-string">'data'</span></span>, { <span class="hljs-comment"><span class="hljs-comment">//    "-" configurable: false, value: item }) return itemData }</span></span></code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN483042/">https://habr.com/ru/post/zh-CN483042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN483030/index.html">è®©ä½ å“­æ³£çš„API</a></li>
<li><a href="../zh-CN483032/index.html">ä»ç‹¬è”ä½“åˆ°æ·å…‹å…±å’Œå›½ï¼Œè‡ªå·±çš„ç»éªŒï¼ˆç¬¬2éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN483036/index.html">n-çš‡åå®Œæˆé—®é¢˜-çº¿æ€§è§£ç®—æ³•</a></li>
<li><a href="../zh-CN483038/index.html">ç†Ÿç»ƒåœ°é‡æ–°å¯åŠ¨æ¸¸æˆä¸–ç•Œ</a></li>
<li><a href="../zh-CN483040/index.html">è¿œä¸œç»„è£…Excel 97çš„é­”æœ¯èµ·å­</a></li>
<li><a href="../zh-CN483048/index.html">ç»ˆæä¹è¶£ï¼š10ä¸ªç»å…¸çš„æ§åˆ¶å°ç¬‘è¯</a></li>
<li><a href="../zh-CN483050/index.html">å‰5ä¸ªReactJSå¼€å‘å…¬å¸</a></li>
<li><a href="../zh-CN483052/index.html">é‡‘å­—å¡”è€Œä¸æ˜¯çƒä½“ï¼šé‡‘åŸå­çš„éæ ‡å‡†èšé›†</a></li>
<li><a href="../zh-CN483054/index.html">â€œå°†ä¸ä¼šå‘ç”Ÿå¤§å± æ€â€-The Wormç¿»è¯‘çš„æ•…äº‹</a></li>
<li><a href="../zh-CN483056/index.html">æ•°æ®åº“ä¸­çš„é€»è¾‘å­—æ®µï¼Œæ˜¯å¦æœ‰è§£è¯ï¼Ÿ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>