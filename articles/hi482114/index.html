<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзСЁЯП╜тАНЁЯдЭтАНЁЯзСЁЯП╝ ЁЯСиЁЯП╜тАНЁЯЪА ЁЯТЭ рдПрдХ Django рдЖрд╡реЗрджрди рд╕реЗ asyncio рдФрд░ aiohttp рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдИрдореЗрд▓ рднреЗрдЬреЗрдВ ЁЯРм ЁЯРЦ ЁЯЖО</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕рднреА рдХреЛ рдирдорд╕реНрдХрд╛рд░! 

 рдореИрдВ Ostrovok.ru рдореЗрдВ рдПрдХ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рд╕реЗрд╡рд╛ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдФрд░ рд╕рдорд░реНрдерди рдХрд░ рд░рд╣рд╛ рд╣реВрдВред рд╕реЗрд╡рд╛ Python3 рдФрд░ Django рдореЗрдВ рд▓рд┐рдЦреА рдЧрдИ рд╣реИред рд▓реЗрди-рджреЗрди рдкрддреНрд░, рдзрдХреНрдХрд╛ рдФрд░ рд╕...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХ Django рдЖрд╡реЗрджрди рд╕реЗ asyncio рдФрд░ aiohttp рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдИрдореЗрд▓ рднреЗрдЬреЗрдВ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ostrovok/blog/482114/">  рд╕рднреА рдХреЛ рдирдорд╕реНрдХрд╛рд░! <br><br>  рдореИрдВ <a href="https://www.ostrovok.ru/%3Futm_source%3Dhabr%26utm_medium%3Dpr%26utm_campaign%3Dporyvaev_dec19%26utm_content%3Darticle">Ostrovok.ru</a> рдореЗрдВ рдПрдХ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рд╕реЗрд╡рд╛ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдФрд░ рд╕рдорд░реНрдерди рдХрд░ рд░рд╣рд╛ рд╣реВрдВред  рд╕реЗрд╡рд╛ Python3 рдФрд░ Django рдореЗрдВ рд▓рд┐рдЦреА рдЧрдИ рд╣реИред  рд▓реЗрди-рджреЗрди рдкрддреНрд░, рдзрдХреНрдХрд╛ рдФрд░ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рд╕реЗрд╡рд╛ рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рднреА рдХрд╛рдо рдХрд░рддреА рд╣реИ рдЬреЛ рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ рдСрдлрд╝рд░ рдХреЗ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдореЗрд▓рд┐рдВрдЧ рдХрд░рддреЗ рд╣реИрдВ (рд╕реНрдкреИрдо рдирд╣реАрдВ! рдореБрдЭ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░реЗрдВ, рд╕рджрд╕реНрдпрддрд╛ рд░рджреНрдж рдХрд░реЗрдВ рд╕рджрд╕реНрдпрддрд╛ рд╕реЗ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ) рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдЗрд╕ рдкрд░ рд╕рд╣рдорддрд┐ рджреА рд╣реИред  рд╕рдордп рдХреЗ рд╕рд╛рде, рд╕рдХреНрд░рд┐рдп рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛рдУрдВ рдХрд╛ рдЖрдзрд╛рд░ рдПрдХ рдорд┐рд▓рд┐рдпрди рд╕реЗ рдЕрдзрд┐рдХ рдкрддреЗ рддрдХ рдмрдврд╝ рдЧрдпрд╛, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдореЗрд▓ рд╕реЗрд╡рд╛ рддреИрдпрд╛рд░ рдирд╣реАрдВ рдереАред  рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдХреИрд╕реЗ рдирдП рдкрд╛рдпрдерди рдлреАрдЪрд░реНрд╕ рдиреЗ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдореЗрд▓рд┐рдВрдЧ рдХреЛ рддреЗрдЬ рдХрд░рдиреЗ рдФрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрднрд╡ рдмрдирд╛рдпрд╛ рдФрд░ рдЙрдирдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рд╣рдореЗрдВ рдХрд┐рди рд╕рдорд╕реНрдпрд╛рдУрдВ рд╕реЗ рдЬреВрдЭрдирд╛ рдкрдбрд╝рд╛ред <br><br><img src="https://habrastorage.org/webt/qj/b-/xa/qjb-xaiilstmnucwa2xko6onw34.png"><br><a name="habracut"></a><br><h3>  рд╕реНрд░реЛрдд рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </h3><br>  рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдореЗрд▓ рдХреЛ рд╕рдмрд╕реЗ рд╕рд░рд▓ рддрд░реАрдХреЗ рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛: рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП, рдПрдХ рдХрд╛рд░реНрдп рдПрдХ рдХрддрд╛рд░ рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рдерд╛ рдЬрд┐рд╕реЗ 60 рдорд╛рд╕ рд╢реНрд░рдорд┐рдХреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ (рд╣рдорд╛рд░реА рдХрддрд╛рд░ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ), рдЗрд╕рдХреЗ рд▓рд┐рдП рд╕рдВрджрд░реНрдн рддреИрдпрд╛рд░ рдХрд┐рдпрд╛, рдЯреЗрдореНрдкрд▓реЗрдЯ рдкреНрд░рджрд╛рди рдХрд┐рдпрд╛, рднреЗрдЬрд╛ рдПрдХ рдкрддреНрд░ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП Mailgun рдХреЗ рд▓рд┐рдП рдПрдХ HTTP рдЕрдиреБрд░реЛрдз рдФрд░ рдкрддреНрд░ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рд░рд┐рдХреЙрд░реНрдб рдмрдирд╛рдпрд╛ред  рд╕рдВрдкреВрд░реНрдг рдореЗрд▓рд┐рдВрдЧ рдореЗрдВ 12 рдШрдВрдЯреЗ рддрдХ рдХрд╛ рд╕рдордп рд▓рдЧрд╛, рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рд╕реЗ рд▓рдЧрднрдЧ 0.3 рдЕрдХреНрд╖рд░ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рднреЗрдЬрдиреЗ рдФрд░ рдЫреЛрдЯреЗ рдЕрднрд┐рдпрд╛рдиреЛрдВ рдХреЗ рдореЗрд▓рд┐рдВрдЧ рдХреЛ рдЕрд╡рд░реБрджреНрдз рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред <br><br><img src="https://habrastorage.org/webt/qk/7p/sg/qk7psgslwi6wa0vyhjaafg7bqkq.png"><br><br><h3>  рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рд╕рдорд╛рдзрд╛рди </h3><br>  рддреНрд╡рд░рд┐рдд рд░реВрдкрд░реЗрдЦрд╛ рдиреЗ рджрд┐рдЦрд╛рдпрд╛ рдХрд┐ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рдордп рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдореЗрд▓рдЧреБрди рдХреЗ рд╕рд╛рде рд╕рдВрдмрдВрдз рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдкрд░ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдЪрдВрдХ рдХрд░рдХреЗ рд╕рдореВрд╣ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╢реБрд░реВ рдХрд┐рдпрд╛ред  рд╢реНрд░рдорд┐рдХреЛрдВ рдиреЗ рдореЗрд▓рдЧреБрди рдХреЗ рд╕рд╛рде рдПрдХ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛, рдЬрд┐рд╕рд╕реЗ рдореЗрд▓рд┐рдВрдЧ рдХрд╛ рд╕рдордп 9 рдШрдВрдЯреЗ рддрдХ рдХрдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓реА, рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЛ рдФрд╕рддрди 0.5 рдЕрдХреНрд╖рд░ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рднреЗрдЬрд╛ рдЧрдпрд╛ред  рдмрд╛рдж рдореЗрдВ рдлрд┐рд░ рд╕реЗ рдкреНрд░реЛрдлрд╛рдЗрд▓рд┐рдВрдЧ рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рдЕрднреА рднреА рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИ, рдЬрд┐рд╕рдиреЗ рд╣рдореЗрдВ рдПрд╕рд┐рдВрдХреЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ред <br><br>  рд╕рднреА рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЛ рдПрд╕рд┐рдВрд╕реАрдУ рдЪрдХреНрд░ рдореЗрдВ рдбрд╛рд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдХрдИ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реЛрдЪрдирд╛ рдерд╛: <br><br><ol><li>  Django ORM рдЕрднреА рддрдХ asyncio рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реИ, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдХреНрд╡реЗрд░реА рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди GIL рдХреЛ рд░рд┐рд▓реАрдЬрд╝ рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдереНрд░реЗрдб рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдореБрдЦреНрдп рд▓реВрдк рдХреЛ рдмреНрд▓реЙрдХ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  рдЖрдИрдУрдПрдЪрдЯреАрдЯреАрдкреА рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рдкрд╛рдпрдерди рд╕рдВрд╕реНрдХрд░рдг 3.6 рдФрд░ рдЙрдЪреНрдЪрддрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕рдордп рдореЗрдВ рдбреЙрдХрдЯрд░ рдЫрд╡рд┐ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдПрдиреЛрд╣реЙрдЯрдк рдФрд░ рдкрд╛рдпрдерди 3.5 рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рдкреНрд░рдпреЛрдЧ рд╕реЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдЗрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдкрд░ рднреЗрдЬрдиреЗ рдХреА рдЧрддрд┐ рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмрд╣реБрдд рдХрдо рд╣реИ, рдФрд░ рдЕрдиреБрдХреНрд░рдорд┐рдХ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рддреБрд▓рдиреАрдп рд╣реИред </li><li>  рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рдПрд╕рд┐рдВрд╕реАрдУ рдХреЛрд░реБрдЯрд┐рди рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рд╕реЗ рд╕рднреА рдореЗрдореЛрд░реА рдХрд╛ рдЦрд░реНрдЪ рд╣реЛрддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рд╕рднреА рдХреЛрд░рдЖрдЙрдЯ рдХреЛ рдкрддреНрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдкреВрд░реНрд╡-рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЕрд╕рдВрднрд╡ рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрдХреНрд░ рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИ, рдбреЗрдЯрд╛ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЧрдард┐рдд рдкрддреНрд░ рднреЗрдЬрддреЗ рд╣реИрдВред </li></ol><br>  рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП, рд╣рдо рдЕрдкрдиреЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд░реНрдордЪрд╛рд░реА рдХреЛ рдереНрд░реЗрдбрдкреВрд▓ рдкреИрдЯрд░реНрди рдХреА рд╕рдорд╛рдирддрд╛ рдХреЗ рд╕рд╛рде рд╣рдорд╛рд░реЗ рдПрд╕рд┐рдиреЛрд╕рд┐рдпреЛ рдЪрдХреНрд░ рдХреЗ рдЕрдВрджрд░ рдмрдирд╛рдПрдВрдЧреЗ, рдЬрд┐рд╕рдореЗрдВ рдирд┐рдореНрди рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: <br><br><ul><li>  рдПрдХ рдпрд╛ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдЙрддреНрдкрд╛рджрдХреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЕрд▓рдЧ рдереНрд░реЗрдб рдореЗрдВ Django ORM рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде asyncio.ThreadPoolExecutor рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред  рдирд┐рд░реНрдорд╛рддрд╛ рдЫреЛрдЯреЗ рдмреИрдЪреЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдЕрдзрд┐рдЧреНрд░рд╣рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рдиреНрдЬрд╛ 2 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд╛рд░реНрдп рдХрддрд╛рд░ рдореЗрдВ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рддрд╛ рд╣реИред </li></ul><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_campaign_send_data</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ids: Iterable[int])</span></span></span><span class="hljs-function"> -&gt; Iterable[Mapping[str, Any]]:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ,     Django ORM   ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [{<span class="hljs-string"><span class="hljs-string">'id'</span></span>: id} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> id <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ids] <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail_campaign_producer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ids: Iterable[int], task_queue: asyncio.Queue)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""           ,    .      ,     ThreadPoolExecutor. """</span></span> loop = asyncio.get_event_loop() total = len(ids) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> subchunk_start <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">0</span></span>, total, PRODUCER_SUBCHUNK_SIZE): subchunk_ids = ids[subchunk_start : min(subchunk_start + PRODUCER_SUBCHUNK_SIZE, total)] send_tasks = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> loop.run_in_executor(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, get_campaign_send_data, subchunk_ids) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> task <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> send_tasks: <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> task_queue.put(task)</code> </pre> <br><ul><li>  рдЕрдХреНрд╖рд░реЛрдВ рдХреЗ рдХрдИ рд╕реМ рдкреНрд░реЗрд╖рдХ - рдПрд╕рд┐рдВрд╕реАрдУ рдХреЛрд░рдЯрд╛рдЗрди, рдЬреЛ рдПрдХ рдЕрдВрддрд╣реАрди рдЪрдХреНрд░ рдореЗрдВ рдХрд╛рд░реНрдп рдХрддрд╛рд░ рд╕реЗ рдбреЗрдЯрд╛ рдкрдврд╝рддреЗ рд╣реИрдВ, рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рдиреЗрдЯрд╡рд░реНрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╣реИрдВ рдФрд░ рд░рд┐рдкреЛрд░реНрдЯ рдХрддрд╛рд░ рдореЗрдВ рдкрд░рд┐рдгрд╛рдо (рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛, рдпрд╛ рдЕрдкрд╡рд╛рдж) рдбрд╛рд▓рддреЗ рд╣реИрдВред <br></li></ul><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_mail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: Mapping[str, Any], session: aiohttp.ClientSession)</span></span></span><span class="hljs-function"> -&gt; Union[Mapping[str, Any], Exception]:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> session.post(REQUEST_URL, data=data) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> response: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> response.status_code != <span class="hljs-number"><span class="hljs-number">200</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail_campaign_sender</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( task_queue: asyncio.Queue, result_queue: asyncio.Queue, session: aiohttp.ClientSession )</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""        .     task_done,    ,   . """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: task_data = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> task_queue.get() result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> send_mail(task_data, session) <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> result_queue.put(result) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> asyncio.CancelledError: <span class="hljs-comment"><span class="hljs-comment">#     raise except Exception as exception: #     await result_queue.put(exception) finally: task_queue.task_done()</span></span></code> </pre><br><ul><li>  рдПрдХ рдпрд╛ рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдЬреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрддрд╛рд░ рд╕реЗ рдбреЗрдЯрд╛ рд╕рдореВрд╣ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде рдмрд▓реНрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдПрдХ рдкрддреНрд░ рднреЗрдЬрдиреЗ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдбрд╛рд▓рддреЗ рд╣реИрдВред </li></ul><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process_campaign_results</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(results: Iterable[Union[Mapping[str, Any], Exception]])</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  :         """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail_campaign_reporter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(task_queue: asyncio.Queue, result_queue: asyncio.Queue)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""          ThreadPoolExecutor,        . """</span></span> loop = asyncio.get_event_loop() results_chunk = [] <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: results_chunk.append(<span class="hljs-keyword"><span class="hljs-keyword">await</span></span> result_queue.get()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(results_chunk) &gt;= REPORTER_BATCH_SIZE: <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> loop.run_in_executor(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, process_campaign_results, results_chunk) results_chunk.clear() <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> asyncio.CancelledError: <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> loop.run_in_executor(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, process_campaign_results, results_chunk) results_chunk.clear() <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>: result_queue.task_done()</code> </pre><br><ul><li>  рдХрд╛рд░реНрдп рдХрддрд╛рд░, рдЬреЛ asyncio.Queue рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИ, рддрддреНрд╡реЛрдВ рдХреА рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реИ рддрд╛рдХрд┐ рдирд┐рд░реНрдорд╛рддрд╛ рдЗрд╕реЗ рдУрд╡рд░рдлрд┐рд▓ рди рдХрд░реЗрдВ, рд╕рднреА рдореЗрдореЛрд░реА рдЦрд░реНрдЪ рдХрд░реЗрдВред </li><li>  рд░рд┐рдкреЛрд░реНрдЯ рдХрддрд╛рд░реЛрдВ, рднреА asyncio.Queue рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдЕрдзрд┐рдХрддрдо рдЖрдЗрдЯрдо рдХреА рд╕реАрдорд╛ рдХреЗ рд╕рд╛рдеред </li><li>  рдПрдХ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд╡рд┐рдзрд┐ рдЬреЛ рдХрддрд╛рд░реЛрдВ, рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЛ рдмрдирд╛рддреА рд╣реИ, рдФрд░ рдЙрдиреНрд╣реЗрдВ рд░реЛрдХрдХрд░ рд╡рд┐рддрд░рдг рдкреВрд░рд╛ рдХрд░рддреА рд╣реИред </li></ul><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_mail_campaign</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( recipient_ids: Iterable[int], session: aiohttp.ClientSession, loop: asyncio.AbstractEventLoop = None )</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""       .    ,       . """</span></span> executor = ThreadPoolExecutor(max_workers=PRODUCERS_COUNT + <span class="hljs-number"><span class="hljs-number">1</span></span>) loop = loop <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> asyncio.get_event_loop() loop.set_default_executor(executor) task_queue = asyncio.Queue(maxsize=<span class="hljs-number"><span class="hljs-number">2</span></span> * SENDERS_COUNT, loop=loop) result_queue = asyncio.Queue(maxsize=<span class="hljs-number"><span class="hljs-number">2</span></span> * SENDERS_COUNT, loop=loop) producers = [ asyncio.ensure_future(mail_campaign_producer(recipient_ids, task_queue)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(PRODUCERS_COUNT) ] consumers = [ asyncio.ensure_future(mail_campaign_sender(task_queue, result_queue, session)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(SENDERS_COUNT) ] reporter = asyncio.ensure_future(mail_campaign_reporter(task_queue, result_queue)) <span class="hljs-comment"><span class="hljs-comment"># ,      done, _ = await asyncio.wait(producers) #    ,   await task_queue.join() while consumers: consumers.pop().cancel() #    ,     await result_queue.join() reporter.cancel()</span></span></code> </pre><br><ul><li>  рд╕рдордХрд╛рд▓рд┐рдХ рдХреЛрдб рдЬреЛ рд▓реВрдк рдмрдирд╛рддрд╛ рд╣реИ рдФрд░ рд╡рд┐рддрд░рдг рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИред </li></ul><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close_session</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(future: asyncio.Future, session: aiohttp.ClientSession)</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  ,    .  aiohttp      . """</span></span> <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> asyncio.wait([future]) <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> asyncio.sleep(<span class="hljs-number"><span class="hljs-number">0.250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> session.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mail_campaign_send_chunk</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recipient_ids: Iterable[int])</span></span></span><span class="hljs-function"> -&gt; </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">None</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""     .   ,  asyncio     . """</span></span> loop = asyncio.new_event_loop() asyncio.set_event_loop(loop) <span class="hljs-comment"><span class="hljs-comment"># Session connector = aiohttp.TCPConnector(limit_per_host=0, limit=0) session = aiohttp.ClientSession( connector=connector, auth=aiohttp.BasicAuth('api', API_KEY), loop=loop, read_timeout=60 ) send_future = asyncio.ensure_future(send_mail_campaign(recipient_ids, session, loop=loop)) cleanup_future = asyncio.ensure_future(close_session(send_future, session)) loop.run_until_complete(asyncio.wait([send_future, cleanup_future])) loop.close()</span></span></code> </pre><br>  рдЗрд╕ рд╕рдорд╛рдзрд╛рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдПрдХ рд╣реА рдореЗрд▓рд┐рдВрдЧ рд╡реЙрд▓реНрдпреВрдо рдФрд░ 12 рд╢рд╛рдорд┐рд▓ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдореВрд╣рд┐рдХ рдбрд╛рдХ рднреЗрдЬрдиреЗ рдХрд╛ рд╕рдордп рдПрдХ рдШрдВрдЯреЗ рддрдХ рдХрдо рд╣реЛ рдЧрдпрд╛ рдерд╛ред  рдпрд╣реА рд╣реИ, рдкреНрд░рддреНрдпреЗрдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 20-25 рдкрддреНрд░ рднреЗрдЬрддрд╛ рд╣реИ, рдЬреЛ рдореВрд▓ рд╕рдорд╛рдзрд╛рди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ 50-80 рдЧреБрдирд╛ рдЕрдзрд┐рдХ рдЙрддреНрдкрд╛рджрдХ рд╣реИред  рд╢реНрд░рдорд┐рдХреЛрдВ рдХреА рд╕реНрдореГрддрд┐ рдЦрдкрдд рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд╕реНрддрд░ рдкрд░ рдмрдирд╛рдП рд░рдЦреА рдЧрдИ рдереА, рдкреНрд░реЛрд╕реЗрд╕рд░ рд▓реЛрдб рдереЛрдбрд╝рд╛ рдмрдврд╝ рдЧрдпрд╛, рдиреЗрдЯрд╡рд░реНрдХ рдЙрдкрдпреЛрдЧ рдХрдИ рдмрд╛рд░ рдмрдврд╝ рдЧрдпрд╛, рдЬреЛ рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреНрд░рднрд╛рд╡ рд╣реИред  рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдХрдиреЗрдХреНрд╢рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рднреА рд╡реГрджреНрдзрд┐ рд╣реБрдИ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛-рдирд┐рд░реНрдорд╛рддрд╛ рдФрд░ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рд╡рд╛рд╣, рдЬреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХреЛ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ, рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред  рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ, рдореБрдлреНрдд рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдЫреЛрдЯреЗ рдореЗрд▓рд┐рдВрдЧ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдмрдХрд┐ рдПрдХ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдЕрднрд┐рдпрд╛рди рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/xl/uh/uk/xluhuk6q37flgfyywloujb40eda.png"><br><br>  рд╕рднреА рд▓рд╛рднреЛрдВ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдЗрд╕ рддрд░рд╣ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдХрдИ рдХрдард┐рдирд╛рдЗрдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><ol><li>  рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рддреЗ рд╕рдордп рд╕рд╛рд╡рдзрд╛рдиреА рдмрд░рддрдиреА рдЪрд╛рд╣рд┐рдПред  рдПрдХ рдЕрдирд┐рдпрдВрддреНрд░рд┐рдд рдЕрдкрд╡рд╛рдж рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЕрднрд┐рдпрд╛рди рд╕реНрдерд┐рд░ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред </li><li>  рдЬрдм рднреЗрдЬрдирд╛ рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдЙрди рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛рдУрдВ рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ рди рдЦреЛрдПрдВ рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдЕрдВрдд рддрдХ рдЪрдВрдХ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдЙрдиреНрд╣реЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВред </li><li>  рдЕрднрд┐рдпрд╛рдиреЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдЬрдмрд░рди рд░реЛрдХрдиреЗ рдХрд╛ рддрд░реНрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реЛ рд░рд╣рд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рднреЗрдЬрдиреЗ рд╡рд╛рд▓реЗ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рдмрд╛рдж, рдпрд╣ рддреБрд▓рдирд╛ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдкрддреНрд░ рднреЗрдЬреЗ рдЧрдП рдереЗ рдФрд░ рдХреМрди рд╕реЗ рдирд╣реАрдВ рдереЗред </li><li>  рдХреБрдЫ рд╕рдордп рдмрд╛рдж, Mailgun рд╕рдкреЛрд░реНрдЯ рд╕реНрдЯрд╛рдл рдиреЗ рд╣рдорд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд┐рдпрд╛ рдФрд░ рд╣рдореЗрдВ рднреЗрдЬрдиреЗ рдХреА рдЧрддрд┐ рдХреЛ рдзреАрдорд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛, рдХреНрдпреЛрдВрдХрд┐ рдореЗрд▓ рд╕реЗрд╡рд╛рдУрдВ рдиреЗ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдИрдореЗрд▓ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдерд╛ рдпрджрд┐ рдЙрдирдХреЗ рднреЗрдЬрдиреЗ рдХреА рдЖрд╡реГрддреНрддрд┐ рдереНрд░реЗрд╢реЛрд▓реНрдб рдорд╛рди рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛред  рд╢реНрд░рдорд┐рдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрдо рдХрд░рдХреЗ рдРрд╕рд╛ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред </li><li>  рдЕрдЧрд░ рдПрд╕реЗрдВрд╕-рдбрд┐рдорд╛рдВрдб рдСрдкрд░реЗрд╢рдВрд╕ рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЗрдЯрд░ рднреЗрдЬрдиреЗ рдХреЗ рдХреБрдЫ рдЪрд░рдгреЛрдВ рдореЗрдВ рдПрд╕рд┐рдВрдХреЛ рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  Jinja2 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЯреЗрдореНрдкреНрд▓реЗрдЯрд┐рдВрдЧ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рдВрд╕рд╛рдзрди-рдЧрд╣рди рд╕рдВрдЪрд╛рд▓рди рдирд╣реАрдВ рд╣реИ рдФрд░ рдЗрд╕рдХрд╛ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рднреЗрдЬрдиреЗ рдХреА рдЧрддрд┐ рдкрд░ рдХреЛрдИ рдкреНрд░рднрд╛рд╡ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рд╣реИред </li><li>  рдореЗрд▓рд┐рдВрдЧ рд╕реВрдЪрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдПрд╕рд┐рдВрдХреЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рддрд░рдг рдХрддрд╛рд░ рд╕рдВрдЪрд╛рд▓рдХреЛрдВ рдХреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </li></ol><br>  рдореБрдЭреЗ рдЖрд╢рд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░рд╛ рдЕрдиреБрднрд╡ рдЖрдкрдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрдЧрд╛!  рдпрджрд┐ рдЖрдкрдХреЗ рдХреЛрдИ рдкреНрд░рд╢реНрди рдпрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИрдВ, рддреЛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рд▓рд┐рдЦреЗрдВ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi482114/">https://habr.com/ru/post/hi482114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi482102/index.html">рд╣рдмрд░ рдХреНрдпреВ рдПрдВрдб рдП 2019: рд╡рд░реНрд╖ рдХреЗ рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi482104/index.html">рдХреНрд░рдордмрджреНрдз рд▓реЛрдЧреЛрдВ рдХреА рдЖрджрддреЛрдВ рд╕реЗ рдХреИрд╕реЗ рдирд┐рдкрдЯрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi482106/index.html">рд╣реЗрдмрд░ рдлреНрд░реАрд▓рд╛рдВрд╕ 2019: рд╡рд░реНрд╖ рдХреЗ рдкрд░рд┐рдгрд╛рдо</a></li>
<li><a href="../hi482108/index.html">рд╢рд╛рдВрдд рдмреБрджреНрдзрд┐ред рд╕рдВрднрд╛рд╡рд┐рдд WEB рдХрдордЬреЛрд░рд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреА рд╡рд┐рдзрд┐</a></li>
<li><a href="../hi482110/index.html">рд▓рд┐рдирдХреНрд╕ рдореЗрд░реЗ рд╡реНрдпрд╡рд╕рд╛рдп рдХрд╛рд░реНрдб рдкрд░ рдЪрд▓рддрд╛ рд╣реИ</a></li>
<li><a href="../hi482126/index.html">TensorFlow рдХреЗ рд▓рд┐рдП рдХреЗрд░ рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi482128/index.html">gReebok рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ред рддреНрд╡рдЪрд╛ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдЦреБрдж</a></li>
<li><a href="../hi482130/index.html">рд╡рд┐рднрд┐рдиреНрди рдЬрдВрдЧрд▓реЛрдВ рд╕реЗ рдбреЛрдореЗрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ</a></li>
<li><a href="../hi482132/index.html">рдЯреЗрд╕реНрд▓рд╛ рд╕рд┐рдмрд░реНрдЯреНрд░реБрдХ рдХреА рдкреНрд░рддрд┐ рдореЙрд╕реНрдХреЛ рдореЗрдВ рджреЗрдЦреА рдЧрдИ рдереАред рдпрд╣ рдПрдХ рд╕реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реИ ... рд░реВрд╕реА рд▓рд╛рдбрд╛ рд╕рдорд╛рд░рд╛</a></li>
<li><a href="../hi482136/index.html">рдЦреЛрдЬ рдЗрдВрдЬрдиреЛрдВ рдХреЗ рдПрдЧреНрд░реАрдЧреЗрдЯрд░ рдФрд░ рдЖрдВрддрд░рд┐рдХ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╣рд░рд╛рдХрд░ рдПрдХ рдореЛрдиреЛрдмреНрд░реИрдВрдб рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреИрд╕реЗ рдЯреЙрдк рдореЗрдВ рдЖ рд╕рдХрддреА рд╣реИ?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>