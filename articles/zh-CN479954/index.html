<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ––ğŸ¼ ğŸ ğŸ•› Spring Bootç®¡ç†å‘˜æ•™ç¨‹ ğŸ‘†ğŸ¿ ğŸ†— ğŸ“’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨Spring Boot Actuatorç«¯ç‚¹ä¹‹ä¸Šï¼Œé€šè¿‡æ¼‚äº®çš„ç”¨æˆ·ç•Œé¢æ§åˆ¶å’Œç®¡ç†Spring Bootåº”ç”¨ç¨‹åºã€‚ 

 å¼¹ç°§å¯åŠ¨å™¨ 
 Actuatoræ˜¯ä¸€ä¸ªSpring Bootæ¨¡å—ï¼Œå®ƒå°†REST / JMXç«¯ç‚¹æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è½»æ¾è·Ÿè¸ªå’Œç®¡ç†å®ƒã€‚ ç«¯ç‚¹æä¾›è¿è¡ŒçŠ¶å†µæ£€æŸ¥ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Spring Bootç®¡ç†å‘˜æ•™ç¨‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479954/"><img src="https://habrastorage.org/webt/o-/i8/f4/o-i8f4wpni2vnz-qzgulvjpucyg.png"><br><br> åœ¨Spring Boot Actuatorç«¯ç‚¹ä¹‹ä¸Šï¼Œé€šè¿‡æ¼‚äº®çš„ç”¨æˆ·ç•Œé¢æ§åˆ¶å’Œç®¡ç†Spring Bootåº”ç”¨ç¨‹åºã€‚ <br><br><h3> å¼¹ç°§å¯åŠ¨å™¨ </h3><br>  Actuatoræ˜¯ä¸€ä¸ªSpring Bootæ¨¡å—ï¼Œå®ƒå°†REST / JMXç«¯ç‚¹æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå› æ­¤æ‚¨å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è½»æ¾è·Ÿè¸ªå’Œç®¡ç†å®ƒã€‚ ç«¯ç‚¹æä¾›è¿è¡ŒçŠ¶å†µæ£€æŸ¥ï¼ŒæŒ‡æ ‡ç›‘è§†ï¼Œå¯¹æ—¥å¿—ï¼Œçº¿ç¨‹è½¬å‚¨ï¼Œå †è½¬å‚¨ï¼Œç¯å¢ƒä¿¡æ¯ç­‰çš„è®¿é—®ã€‚ åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œä½œè€…è¯¦ç»†ä»‹ç»äº†æ‰§è¡Œå™¨ï¼š <br><blockquote>  <a href="https://www.vojtechruzicka.com/spring-boot-actuator/">æ‰§è¡Œå™¨ï¼šå¼¹ç°§é´ç”Ÿäº§ç›‘æ§å’Œç®¡ç†</a> <br> ä½¿ç”¨Spring Boot Actuator 2.xç›‘è§†å’Œç®¡ç†æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ æ”¶é›†æŒ‡æ ‡æˆ–æ£€æŸ¥åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µã€‚ <br></blockquote><a name="habracut"></a><br>  <u><i>è¯‘è€…æ³¨æ„ã€‚</i></u> å…³äºå“ˆå¸ƒé›·æœ‰ç±»ä¼¼çš„æ–‡ç« ï¼š <br>  <a href="https://habr.com/ru/company/otus/blog/452624/">å¼¹ç°§å¯åŠ¨æ‰§è¡Œå™¨ç®€ä»‹</a> <br><br><h3> æ˜¥å­£å¯åŠ¨ç®¡ç†å‘˜ </h3><br>  Actuatoræ˜¯ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼Œæ­¤å¤–ï¼Œå®ƒçš„ç«¯ç‚¹æ˜“äºä¸å…¶ä»–åº”ç”¨ç¨‹åºä¸€èµ·ä½¿ç”¨-æ‚¨åªéœ€ä½¿ç”¨RESTæœåŠ¡è°ƒç”¨å³å¯ã€‚ ä½†æ˜¯ï¼Œä½¿ç”¨æ‰§è¡Œå™¨å¯¹äººæ¥è¯´ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ ç”¨æˆ·æ‹¥æœ‰ä¸€ä¸ªè‰¯å¥½çš„ç”¨æˆ·ç•Œé¢éå¸¸å®¹æ˜“ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥æŸ¥çœ‹æ‰€æœ‰ç›‘è§†æ•°æ®å’Œç®¡ç†æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ è¿™æ­£æ˜¯Spring Boot AdminæœåŠ¡çš„å†…å®¹ã€‚ å®ƒåœ¨Actuatorç«¯ç‚¹çš„é¡¶éƒ¨ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„ç”¨æˆ·ç•Œé¢å±‚ï¼Œå¹¶åœ¨æ­¤ä¹‹ä¸Šæä¾›äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ã€‚ <br><br>  Spring Boot Adminä¸æ˜¯Springå›¢é˜Ÿæä¾›çš„æ¨¡å—ï¼Œå®ƒæ˜¯ç”±ä¸€å®¶åä¸º<a href="https://blog.codecentric.de/en/">Codecentric</a>çš„å…¬å¸åˆ›å»ºçš„ã€‚ ä½†æ˜¯ï¼Œå…¶ä»£ç å¯åœ¨<a href="https://github.com/codecentric/spring-boot-admin">Github</a>ä¸Šå…¬å¼€è·å¾—ï¼Œå¹¶ä¸”æ˜¯å…è´¹çš„ã€‚ <br><br><h3> å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ </h3><br> ä¸Actuatorä¸åŒï¼ŒSpring Boot Adminå®é™…ä¸Šç”±ä¸¤éƒ¨åˆ†ç»„æˆ-å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚ <br><br> æœåŠ¡å™¨éƒ¨åˆ†åŒ…å«ç®¡ç†å‘˜ç”¨æˆ·ç•Œé¢ï¼Œå¹¶ä¸”ç‹¬ç«‹äºå—ç›‘è§†çš„åº”ç”¨ç¨‹åºå·¥ä½œã€‚ å®¢æˆ·ç«¯éƒ¨åˆ†ä½äºå—ç›‘è§†çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¯¥åº”ç”¨ç¨‹åºå·²åœ¨æœåŠ¡å™¨éƒ¨åˆ†ä¸­æ³¨å†Œã€‚ <br><br> å› æ­¤ï¼Œå³ä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ— æ³•è¿è¡Œæˆ–æ— æ³•æ­£å¸¸è¿è¡Œï¼Œç›‘è§†æœåŠ¡å™¨ä»åœ¨è¿è¡Œã€‚ ç°åœ¨ï¼Œå‡è®¾æ‚¨æœ‰å¤šä¸ªåº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚Spring Bootå¾®æœåŠ¡ï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½å¯ä»¥åœ¨å¤šä¸ªå®ä¾‹ä¸­å·¥ä½œã€‚ ä½¿ç”¨ä¼ ç»Ÿçš„æ‰§è¡Œå™¨ç›‘è§†ï¼Œè¿™å¾ˆå›°éš¾ï¼Œå› ä¸ºæ‚¨éœ€è¦åˆ†åˆ«è®¿é—®æ¯ä¸ªæ‰§è¡Œå™¨ï¼Œå¹¶ä¸”éœ€è¦è·Ÿè¸ªå¤šå°‘ä¸ªå®ä¾‹ä»¥åŠå®ƒåœ¨å“ªé‡Œè¿è¡Œã€‚ <br><br> ä½¿ç”¨Spring Boot Adminæ—¶ï¼Œå—ç›‘è§†çš„åº”ç”¨ç¨‹åºï¼ˆå®¢æˆ·ç«¯ï¼‰çš„æ¯ä¸ªå®ä¾‹åœ¨å¯åŠ¨åéƒ½ä¼šåœ¨æœåŠ¡å™¨ä¸Šæ³¨å†Œã€‚ ç„¶åï¼Œæ‚¨åªæœ‰ä¸€ä¸ªç‚¹ï¼ˆAdmin Serverï¼‰ï¼Œå¯ä»¥åœ¨å…¶ä¸­æ£€æŸ¥æ‰€æœ‰è¿™äº›ç‚¹ã€‚ <br><br><img src="https://habrastorage.org/webt/-3/cd/le/-3cdle9y_1pgxlg0yz_rc8mitnk.png"><br><br><h3> æºä»£ç  </h3><br> å¯ä»¥åœ¨<a href="https://github.com/vojtechruz/spring-boot-admin">æ­¤Githubå­˜å‚¨åº“ä¸­</a>æ‰¾åˆ°å®Œæˆçš„åº”ç”¨ç¨‹åºçš„æºä»£ç ã€‚ <br><br><h3> æœåŠ¡å™¨è®¾ç½® </h3><br> é¦–å…ˆè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•é…ç½®Spring Boot Admin Serverã€‚ è®©æˆ‘ä»¬ä»æ–°çš„Spring Bootåº”ç”¨ç¨‹åºå¼€å§‹ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨<a href="https://start.spring.io/">Spring Initializr</a>è½»æ¾åˆ›å»ºå®ƒã€‚ ç¡®ä¿å¯ç”¨<b><i>Web</i></b>æ¨¡å—ã€‚ <br><br> åˆ›å»ºé¡¹ç›®åï¼Œæˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯æ·»åŠ Spring Boot Admin Serverä¾èµ–é¡¹ï¼š <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>de.codecentric<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-admin-starter-server<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> è¯·æ³¨æ„ï¼Œå°½ç®¡è¯¥é¡¹ç›®ä¸æ˜¯ç”±Pivotalåˆ›å»ºçš„ï¼Œä½†æ˜¯æ‚¨å¯ä»¥åœ¨Spring Initializrä¸­æ‰¾åˆ°Spring Boot Adminçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¨¡å—ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä½¿ç”¨<b>@EnableAdminServer</b>æ‰¹æ³¨æ³¨é‡Šä¸»åº”ç”¨ç¨‹åºç±»æ¥å¯ç”¨Admin Serverï¼š <br><br><img src="https://habrastorage.org/webt/nb/d_/ih/nbd_ihnpyds0zna87jk_iovu364.png"><br><br> ä»…æ­¤è€Œå·²ã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”åœ¨æ‰“å¼€é¡µé¢ä¹‹åï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„å±å¹•ï¼š <br><br><img src="https://habrastorage.org/webt/pp/hb/-n/pphb-nntvvnfgchobk6tjsxecxa.png"><br><br> æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œä½†æ˜¯å®¢æˆ·ç«¯å°šæœªæ³¨å†Œã€‚ è®©æˆ‘ä»¬ä¿®å¤å®ƒã€‚ <br><br><h3> å®¢æˆ·ç«¯è®¾ç½® </h3><br> ä¸æœåŠ¡å™¨è®¾ç½®ä¸€æ ·ï¼Œç¬¬ä¸€æ­¥æ˜¯å‘ç°æœ‰åº”ç”¨ç¨‹åºæ·»åŠ æ­£ç¡®çš„ä¾èµ–é¡¹ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>de.codecentric<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-admin-starter-client<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> ç„¶åï¼Œæ‚¨éœ€è¦ç¡®å®šAdmin Serverè¿è¡Œæ‰€åœ¨çš„URLã€‚ å°†æ­¤è¡Œæ·»åŠ åˆ°<b>application.properties</b>æ–‡ä»¶ä¸­ï¼š <br><br><pre> <code class="java hljs">spring.boot.admin.client.url=http:<span class="hljs-comment"><span class="hljs-comment">//localhost:8080</span></span></code> </pre> <br><h3> æ·»åŠ æ‰§è¡Œå™¨ </h3><br> ç°åœ¨ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿå¯åŠ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚ åªéœ€ç¡®ä¿æ²¡æœ‰ç«¯å£å†²çªï¼Œå› ä¸ºä¸¤ä¸ªåº”ç”¨ç¨‹åºé»˜è®¤éƒ½ä½¿ç”¨8080ï¼Œä¸ºäº†è¿›è¡Œæµ‹è¯•ï¼Œå¯ä»¥åœ¨<b>application.propertiesä¸­</b>è®¾ç½®<b>server.port = 0</b> ï¼Œä»¥ä¾¿å®¢æˆ·ç«¯åœ¨å¯åŠ¨æ—¶ä½¿ç”¨éšæœºç«¯å£ã€‚ å› æ­¤ï¼Œæ‚¨å¯ä»¥æµ‹è¯•åœ¨ä¸åŒç«¯å£ä¸Šè¿è¡Œçš„å¤šä¸ªå®ä¾‹çš„å¯åŠ¨ã€‚ <br><br> æ‰“å¼€Admin Serverç”¨æˆ·ç•Œé¢æ—¶ï¼Œåº”è¯¥ä¼šçœ‹åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ å½“æ‚¨å•å‡»åº”ç”¨ç¨‹åºçš„åç§°æ—¶ï¼Œå°†å‡ºç°ä¸€ä¸ªåŒ…å«æœ‰å…³åº”ç”¨ç¨‹åºä¿¡æ¯çš„é¡µé¢ã€‚ <br><br><img src="https://habrastorage.org/webt/nj/nm/xa/njnmxagxupsllg_eqy6nr85n9hq.png"><br><br> å¦‚æœæ‚¨çœ‹åˆ°çš„å±å¹•ä¸ä¸Šè¿°å±å¹•ç›¸ä¼¼ï¼Œä¸”ä¿¡æ¯é‡å¾ˆå°‘ï¼Œåˆ™è¡¨æ˜æ‚¨çš„é¡¹ç›®æ²¡æœ‰æ‰§è¡Œå™¨ã€‚ è¯·è®°ä½ï¼ŒSpring Boot Adminåœ¨åå°ä½¿ç”¨Actuatorç«¯ç‚¹ã€‚ å¹¸è¿çš„æ˜¯ï¼Œæ‚¨åªéœ€è¦æ·»åŠ ä¸€ä¸ªç®€å•çš„ä¾èµ–é¡¹ï¼Œå…¶ä½™éƒ¨åˆ†å°±ç”±è‡ªåŠ¨é…ç½®å®Œæˆã€‚ <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-actuator<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> ä½†æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¤§å¤šæ•°ç«¯ç‚¹ä¸ä¼šæ˜¾ç¤ºåœ¨Actuatorä¸­ã€‚ æ‚¨éœ€è¦åœ¨<b>application.propertiesä¸­</b>æ›´æ”¹é…ç½®ä»¥å…¬å¼€å®ƒä»¬ï¼š <br><br><pre> <code class="xml hljs">management.endpoints.web.exposure.include=*</code> </pre> <br> æä¾›äº†Actuatorç«¯ç‚¹ä¹‹åï¼Œæ‚¨åº”è¯¥åœ¨ç®¡ç†ç•Œé¢ä¸­çœ‹åˆ°æ›´å¤šä¿¡æ¯ï¼š <br><br><img src="https://habrastorage.org/webt/hn/q9/x7/hnq9x7dgzha1sakqiclkruuxyig.png"><br><br> å¯ä»¥<a href="https://www.vojtechruzicka.com/spring-boot-actuator/">åœ¨æœ¬æ–‡ä¸­</a>æ‰¾åˆ°æœ‰å…³å¦‚ä½•é…ç½®Spring Boot Actuatorçš„è¯¦ç»†æŒ‡å—ã€‚ <br>  <u><i>è¯‘è€…æ³¨æ„ã€‚</i></u> åœ¨<a href="https://habr.com/ru/company/otus/blog/452624/">æœ‰å…³å“ˆå¸ƒé›·</a>çš„<a href="https://habr.com/ru/company/otus/blog/452624/">æ–‡ç« ä¸­</a> ã€‚ <br><br><h3> å®‰å…¨æ€§ </h3><br> ç°åœ¨ä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿å¹¶éæ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®æˆ‘ä»¬çš„Actuatorç«¯ç‚¹å’Œç®¡ç†ç•Œé¢ã€‚ <br><br><h3> å®¢æˆ·å®‰å…¨ </h3><br> å¦‚æœæ‚¨å·²ç»åœ¨ä½¿ç”¨Spring Securityï¼Œé‚£ä¹ˆä»¥ä¸Šå†…å®¹å°†å¯¹æ‚¨ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹é©±åŠ¨å™¨ç«¯ç‚¹å—ä¿æŠ¤ï¼Œå¹¶ä¸”æ‚¨çš„ç®¡ç†å‘˜æœåŠ¡å™¨å°†æ— æ³•è®¿é—®å®ƒä»¬ã€‚ å¦‚æœå°šæœªä½¿ç”¨Spring Securityï¼Œåˆ™é¦–å…ˆéœ€è¦æ·»åŠ ä¾èµ–é¡¹ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-security<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> ä¸ºäº†è¿›è¡Œæµ‹è¯•ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<b>management.security.enabled = false</b>æš‚æ—¶ç¦ç”¨Actuatorç«¯ç‚¹å®‰å…¨æ€§ã€‚ ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›å¯ç”¨å®‰å…¨æ€§ã€‚ å¦‚æœä½¿ç”¨åŸºæœ¬èº«ä»½éªŒè¯ï¼Œåˆ™åªéœ€åœ¨å±æ€§æ–‡ä»¶ä¸­æŒ‡å®šç”¨æˆ·åå’Œå¯†ç ã€‚ ç®¡ç†æœåŠ¡å™¨å°†ä½¿ç”¨è¿™äº›å‡­æ®åœ¨å®¢æˆ·ç«¯é©±åŠ¨å™¨çš„ç«¯ç‚¹è¿›è¡Œèº«ä»½éªŒè¯ï¼š <br><br><pre> <code class="java hljs">spring.boot.admin.client.instance.metadata.user.name=joe spring.boot.admin.client.instance.metadata.user.password=my-secret-password</code> </pre> <br> é»˜è®¤æƒ…å†µä¸‹ï¼Œé™¤éå¦æœ‰é…ç½®ï¼Œå¦åˆ™Spring Booté»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ç”¨æˆ·<b>ç”¨æˆ·ï¼Œ</b>å¹¶åœ¨æ¯æ¬¡åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨ç”Ÿæˆå¯†ç ã€‚ æ‚¨å¯ä»¥åœ¨å¯åŠ¨æœŸé—´åœ¨æ§åˆ¶å°ä¸­éªŒè¯å¯†ç ã€‚ å¦‚æœè¦æ˜¾å¼æŒ‡å®šåº”ç”¨ç¨‹åºæ‰€éœ€çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œåˆ™å¯ä»¥åœ¨å±æ€§ä¸­æŒ‡å®šå®ƒä»¬ï¼š <br><br><pre> <code class="xml hljs">spring.security.user.name=joe spring.security.user.password=my-secret-password</code> </pre><br><h3> æœåŠ¡å™¨å®‰å…¨æ€§ </h3><br> ä¸å®¢æˆ·ç«¯ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªSpring Securityä¾èµ–é¡¹ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-security<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨<b>application.propertiesä¸­</b>é…ç½®ç™»å½•åˆ°Admin Serveræ‰€éœ€çš„ç”¨æˆ·åå’Œå¯†ç ï¼š <br><br><pre> <code class="xml hljs">spring.security.user.name=admin spring.security.user.password=admin-password</code> </pre> <br> ç°åœ¨ï¼Œåœ¨æ‚¨çš„å®¢æˆ·ç«¯ä¸Šï¼Œæ‚¨è¿˜éœ€è¦æ·»åŠ ä»¥ä¸‹å‡­æ®ï¼Œå¦åˆ™ä»–å°†æ— æ³•åœ¨æœåŠ¡å™¨ä¸Šæ³¨å†Œï¼š <br><br><pre> <code class="xml hljs">spring.boot.admin.client.username=admin spring.boot.admin.client.password=admin-password</code> </pre> <br> ç°åœ¨å›åˆ°æœåŠ¡å™¨ç«¯ã€‚ æˆ‘ä»¬éœ€è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯æ·»åŠ Spring Securityé…ç½®ä»¥ä¿æŠ¤ç®¡ç†å‘˜ç”¨æˆ·ç•Œé¢ï¼š <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Configuration</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SecurityConfig</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WebSecurityConfigurerAdapter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HttpSecurity http)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ SavedRequestAwareAuthenticationSuccessHandler successHandler = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SavedRequestAwareAuthenticationSuccessHandler(); successHandler.setTargetUrlParameter(<span class="hljs-string"><span class="hljs-string">"redirectTo"</span></span>); successHandler.setDefaultTargetUrl(<span class="hljs-string"><span class="hljs-string">"/"</span></span>); http.authorizeRequests() .antMatchers(<span class="hljs-string"><span class="hljs-string">"/assets/**"</span></span>).permitAll() .antMatchers(<span class="hljs-string"><span class="hljs-string">"/login"</span></span>).permitAll() .anyRequest().authenticated().and() .formLogin().loginPage(<span class="hljs-string"><span class="hljs-string">"/login"</span></span>) .successHandler(successHandler).and() .logout().logoutUrl(<span class="hljs-string"><span class="hljs-string">"/logout"</span></span>).and() .httpBasic().and() .csrf() .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()) .ignoringAntMatchers( <span class="hljs-string"><span class="hljs-string">"/instances"</span></span>, <span class="hljs-string"><span class="hljs-string">"/actuator/**"</span></span> ); } }</code> </pre> <br> è¿™ä»…æä¾›ä½¿ç”¨åŸºæœ¬HTTPèº«ä»½éªŒè¯ç™»å½•çš„ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·å¯¹ç®¡ç†å‘˜ç•Œé¢çš„è®¿é—®ã€‚ ç™»å½•é¡µé¢æœ¬èº«ä»¥åŠåŒ…æ‹¬javascriptï¼ŒHTMLå’ŒCSSåœ¨å†…çš„é™æ€ç”¨æˆ·ç•Œé¢èµ„æºå‡å¤„äºæ‰“å¼€çŠ¶æ€ã€‚ å¦åˆ™ï¼Œæ‚¨å°†æ— æ³•ç™»å½•ã€‚ ç„¶åï¼Œå¯ä»¥é˜²æ­¢åŸºäºcookieçš„è·¨ç«™ç‚¹è¯·æ±‚ï¼ˆCSRFï¼Œè·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼‰çš„ä¼ªé€ ã€‚ æ‚¨å¯ä»¥çœ‹åˆ°CSRFä¿æŠ¤ä¸­çš„æŸäº›è·¯å¾„è¢«å¿½ç•¥äº†-è¿™æ˜¯å› ä¸ºAdmin Serverå½“å‰<a href="http://codecentric.github.io/spring-boot-admin/current/">æ²¡æœ‰é€‚å½“çš„æ”¯æŒ</a> ã€‚ <br><br> ç°åœ¨ï¼Œé‡æ–°å¯åŠ¨åï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„ç™»å½•å±å¹•ï¼Œå¯ä»¥ä¿æŠ¤æ‚¨çš„Admin Serverï¼š <br><br><img src="https://habrastorage.org/webt/l2/t-/7q/l2t-7qwz6ixjclwzwwwow9agagi.png"><br><br><h3> äº‘å‘ç° </h3><br>  Spring Boot Adminå®¢æˆ·ç«¯ä¸æ˜¯åœ¨æœåŠ¡å™¨ä¸Šæ³¨å†Œåº”ç”¨ç¨‹åºçš„å”¯ä¸€æ–¹æ³•ã€‚  Admin Serverè¿˜æ”¯æŒSpring Cloud Service Discoveryã€‚ æ‚¨å¯ä»¥åœ¨<a href="http://codecentric.github.io/spring-boot-admin/current/">å®˜æ–¹æ–‡æ¡£ä¸­</a>æˆ–åœ¨æ–‡ç« â€œ <a href="https://zoltanaltfatter.com/2018/05/15/spring-cloud-discovery-with-spring-boot-admin/">ä½¿ç”¨Spring Boot Adminè¿›è¡ŒSpring Cloud Discovery</a> â€ä¸­é˜…è¯»æ›´å¤šå†…å®¹ã€‚ <br><br><h3> é€šçŸ¥äº‹é¡¹ </h3><br> ä¸€æ—¦å¼€å§‹ç›‘è§†ï¼Œæ‚¨å¸Œæœ›åœ¨å‡ºç°é—®é¢˜æ—¶å¾—åˆ°é€šçŸ¥ã€‚ å¥½æ¶ˆæ¯æ˜¯ï¼ŒSpring Adminæä¾›äº†å¤šç§é€šçŸ¥é€‰é¡¹ã€‚ <br><br> å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡è®¿é—®â€œç®¡ç†æœåŠ¡å™¨â€é¡µé¢ï¼Œå®ƒä¼šè¦æ±‚æ‚¨åœ¨è®¡ç®—æœºä¸Šæ˜¾ç¤ºæ¨é€é€šçŸ¥çš„æƒé™ã€‚ æ¯å½“å‡ºç°é—®é¢˜æ—¶ï¼Œæ‚¨éƒ½ä¼šæ”¶åˆ°ä¸€æ¡å¼¹å‡ºæ¶ˆæ¯ã€‚ <br><br><img src="https://habrastorage.org/webt/he/9u/6a/he9u6aqe3_wfpj-g3ijn74gmhzu.png"><br><br> å…¶ä»–é€šçŸ¥éœ€è¦è½»æ¾è®¾ç½®ã€‚ è¿™é€šå¸¸æ„å‘³ç€ä»…åœ¨<b>application.propertiesä¸­</b>æä¾›ä¸€äº›æ¡ç›®ã€‚ å½“å‰æ”¯æŒä»¥ä¸‹æœåŠ¡ï¼š <br><br><ul><li> é‚®å¯„ </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">æ¾å¼›</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">å³æ—¶é€šè®¯</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">å¯»å‘¼æœºèŒè´£</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">Opsgenie</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">èŠå§</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">ç”µæŠ¥</a> </li><li>  <a href="https://codecentric.github.io/spring-boot-admin/current/">å¾®è½¯å›¢é˜Ÿ</a> <br></li></ul><br><h3> è®¾ç½®ç”µå­é‚®ä»¶é€šçŸ¥ </h3><br> å¦‚æœè¦å¯ç”¨ç”µå­é‚®ä»¶é€šçŸ¥ï¼Œåˆ™éœ€è¦å°†Springç”µå­é‚®ä»¶ä¾èµ–é¡¹æ·»åŠ åˆ°æœåŠ¡å™¨ç«¯ï¼š <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.springframework.boot<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>spring-boot-starter-mail<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br> ç„¶åï¼Œæ‚¨éœ€è¦ç¡®å®šæ‚¨çš„SMTPæœåŠ¡å™¨ï¼Œè¯¥æœåŠ¡å™¨å°†ç”¨äºé€šè¿‡ç”µå­é‚®ä»¶å‘é€é€šçŸ¥å’Œå‡­æ®ã€‚ æ›´æ–°ç®¡ç†æœåŠ¡å™¨çš„<b>application.properties</b> ã€‚ <br><br><pre> <code class="xml hljs">spring.mail.host=smtp.foo.com spring.mail.username=smtp-server-user spring.mail.password=smtp-server-password</code> </pre> <br> ç„¶åï¼Œæ‚¨éœ€è¦ç¡®å®šæ”¶ä»¶äººå’Œå‘ä»¶äººã€‚ <br><br><pre> <code class="java hljs"># Sender email address spring.boot.admin.notify.mail.from=<span class="hljs-string"><span class="hljs-string">"Spring Boot Admin &lt;noreply@foo.com&gt;"</span></span> # Comma-delimited list of recipient email addresses spring.boot.admin.notify.mail.to=alice<span class="hljs-meta"><span class="hljs-meta">@foo</span></span>.com,bob<span class="hljs-meta"><span class="hljs-meta">@bar</span></span>.com # Comma-delimited list of carbon copy recipient email addresses spring.boot.admin.notify.mail.cc=joe<span class="hljs-meta"><span class="hljs-meta">@foo</span></span>.com</code> </pre> <br><h3> ç»“è®º </h3><br>  Spring Boot Adminåœ¨Actuatorç«¯ç‚¹çš„é¡¶éƒ¨æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿å®ç”¨çš„ç”¨æˆ·ç•Œé¢å±‚ã€‚ æ­¤å¤–ï¼Œå®ƒè¿˜å…è®¸æ‚¨é€šè¿‡å¤šä¸ªå®ä¾‹é›†ä¸­æ§åˆ¶å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œè¿™åœ¨äº‘å’Œå¾®æœåŠ¡ä¸­å·¥ä½œæ—¶éå¸¸å®è´µã€‚ ä½†æ˜¯ï¼Œè¯·ç¡®ä¿æ‚¨å·²å……åˆ†ä¿æŠ¤å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚ æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="http://codecentric.github.io/spring-boot-admin/current/">å®˜æ–¹æ–‡æ¡£</a> ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN479954/">https://habr.com/ru/post/zh-CN479954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN479940/index.html">å¦‚ä½•ä»å¦ä¸€ä¸“ä¸šè½¬å‘å‘å±•å¹¶åœ¨æ–°çš„åœ°æ–¹å¿«é€Ÿæˆé•¿</a></li>
<li><a href="../zh-CN479942/index.html">[æ›´æ–°äº19/12/14 10:52]åœ¨NginxåŠå…¬å®¤è¿›è¡Œäº†æœç´¢ã€‚ Kopeikoï¼šâ€œ Nginxç”±Sysoevç‹¬ç«‹å¼€å‘â€</a></li>
<li><a href="../zh-CN479948/index.html">æ‰‹åŠ¿ç®¡ç†ï¼šè¾¹åˆ°è¾¹ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN479950/index.html">è§†é¢‘å¤„ç†å™¨å†å²ï¼Œç¬¬4éƒ¨åˆ†ï¼šé€šç”¨GPUå‡ºç°</a></li>
<li><a href="../zh-CN479952/index.html">æ²™ç“¦ç›å†…éƒ¨æ˜¯ä»€ä¹ˆï¼šå¾®æœåŠ¡ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿå’ŒKafkaã€‚ åˆ†äº«æ¥è‡ªåç«¯è”åˆï¼ƒ5çš„èµ„æ–™</a></li>
<li><a href="../zh-CN479958/index.html">å›ºä»¶å’Œå¤„ç†å™¨æ¼æ´</a></li>
<li><a href="../zh-CN479960/index.html">åœ¨çº¿å•†åº—çš„åª’ä½“å¹¿å‘Šæœ‰æ•ˆæ€§æ¨¡å‹</a></li>
<li><a href="../zh-CN479966/index.html">Playrix CI / CDï¼šæˆ‘ä»¬å¦‚ä½•æ„å»ºå’Œæµ‹è¯•æ¸¸æˆ</a></li>
<li><a href="../zh-CN479968/index.html">ç”±äºRambler Groupçš„è¯‰è®¼ï¼Œæ­£åœ¨æœå¯»Nginxçš„åŠå…¬å®¤ã€‚ æŠ•è¯‰äººæ–°é—»æœåŠ¡ç¡®è®¤è¯‰è®¼</a></li>
<li><a href="../zh-CN479970/index.html">ä¸€åƒä¸ªUIé”™è¯¯ï¼Œæˆ–å¦‚ä½•å¸®åŠ©å¼€å‘äººå‘˜é¿å…å¸¸è§çš„UIé”™è¯¯</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>