<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¥ üõåüèΩ üòè Comment tester des hypoth√®ses et gagner de l'argent sur Swift √† l'aide de tests fractionn√©s üò¨ üç° üèÇüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous! Je m'appelle Sasha Zimin, je travaille en tant que d√©veloppeur iOS dans le bureau londonien de Badoo . Badoo a une relation tr√®s √©troi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment tester des hypoth√®ses et gagner de l'argent sur Swift √† l'aide de tests fractionn√©s</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/416841/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/p_/4h/88/p_4h88dfy1rma6ntwfmegcvawk8.jpeg" height="450"></div><br>  Bonjour √† tous!  Je m'appelle Sasha Zimin, je travaille en tant que d√©veloppeur iOS dans le bureau londonien de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Badoo</a> .  Badoo a une relation tr√®s √©troite avec les chefs de produit, et j'ai pris l'habitude de tester toutes les hypoth√®ses que j'ai sur le produit.  J'ai donc commenc√© √† √©crire des tests fractionn√©s pour mes projets. <br><br>  Le cadre qui sera discut√© dans cet article a √©t√© √©crit √† deux fins.  Premi√®rement, afin d'√©viter d'√©ventuelles erreurs, il est pr√©f√©rable de ne pas avoir de donn√©es dans le syst√®me d'analyse que des donn√©es incorrectes (ou m√™me des donn√©es qui peuvent √™tre mal interpr√©t√©es et cass√©es en bois de chauffage).  Deuxi√®mement, pour simplifier la mise en ≈ìuvre de chaque test ult√©rieur.  Mais commen√ßons par ce que sont les tests fractionn√©s. <br><a name="habracut"></a><br>  De nos jours, il existe des millions d'applications qui r√©pondent √† la plupart des besoins des utilisateurs, il devient donc chaque jour plus difficile de cr√©er de nouveaux produits comp√©titifs.  Cela a conduit de nombreuses entreprises et startups √† mener diverses recherches et exp√©riences dans un premier temps pour d√©couvrir quelles fonctionnalit√©s am√©lioraient leur produit et lesquelles pouvaient √™tre supprim√©es. <br><br>  L'un des principaux outils pour mener de telles exp√©riences est le test fractionn√© (ou test A / B).  Dans cet article, je dirai comment il peut √™tre impl√©ment√© sur Swift. <br><br>  Toutes les d√©mos de projets sont disponibles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Si vous avez d√©j√† une id√©e sur les tests A / B, vous pouvez acc√©der directement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">au code</a> . <br><br><h1>  Une br√®ve introduction aux tests fractionn√©s </h1><br>  Le test fractionn√©, ou test A / B (ce terme n'est pas toujours correct, car vous pouvez avoir plus de deux groupes de participants), est un moyen de v√©rifier diff√©rentes versions d'un produit sur diff√©rents groupes d'utilisateurs afin de comprendre quelle version est meilleure.  Vous pouvez en lire plus sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> ou, par exemple, dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet</a> article avec de vrais exemples. <br><br>  Chez Badoo, nous effectuons beaucoup de tests fractionn√©s en m√™me temps.  Par exemple, une fois que nous avons d√©cid√© que la page de profil utilisateur de notre application √©tait obsol√®te, nous voulions √©galement am√©liorer l'interaction des utilisateurs avec certaines banni√®res.  Par cons√©quent, nous avons lanc√© des tests fractionn√©s avec trois groupes: <br><br><ol><li>  Ancien profil <br></li><li>  Nouveau profil version 1 <br></li><li>  Nouveau profil version 2 <br></li></ol><br>  Comme vous pouvez le voir, nous avions trois options, plus comme les tests A / B / C (et c'est pourquoi nous pr√©f√©rons utiliser le terme ¬´tests fractionn√©s¬ª). <br><br>  Ainsi, diff√©rents utilisateurs ont vu leurs profils: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/mv/jv/tymvjv0mki0eyt7lcprt0skicy0.png" height="350"></div><br><br>  Dans la console Product Manager, nous avions quatre groupes d'utilisateurs form√©s au hasard et ayant le m√™me nombre: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/7r/bx/lw7rbxdfgiuybwr6jk1mjlkz7wq.png" height="300"></div><br><br>  Vous demandez peut-√™tre pourquoi nous avons control et control_check (si control_check est une copie de la logique du groupe de contr√¥le)?  La r√©ponse est tr√®s simple: tout changement affecte de nombreux indicateurs, nous ne pouvons donc jamais √™tre absolument s√ªrs qu'un changement particulier est le r√©sultat d'un test fractionn√©, et non d'autres actions. <br><br>  Si vous pensez que certains indicateurs ont chang√© en raison du test de fractionnement, vous devez v√©rifier √† nouveau qu'ils sont les m√™mes dans les groupes control et control_check. <br><br>  Comme vous pouvez le voir, les opinions des utilisateurs peuvent diff√©rer, mais les preuves empiriques sont des preuves claires.  L'√©quipe de chefs de produit analyse les r√©sultats et comprend pourquoi une option est meilleure qu'une autre. <br><a name="split-test"></a><br><h1>  Tests fractionn√©s et Swift </h1><br>  Objectifs: <br><br><ol><li>  Cr√©ez une biblioth√®que c√¥t√© client (sans utiliser de serveur). <br></li><li>  Enregistrez l'option utilisateur s√©lectionn√©e dans le stockage permanent apr√®s sa g√©n√©ration accidentelle. <br></li><li>  Envoyez des rapports sur les options s√©lectionn√©es pour chaque test fractionn√© au service d'analyse. <br></li><li>  Tirez le meilleur parti des capacit√©s de Swift. <br></li></ol><br>  PS L'utilisation d'une telle biblioth√®que pour les tests fractionn√©s de la partie client a ses avantages et ses inconv√©nients.  Le principal avantage est que vous n'avez pas besoin d'avoir une infrastructure de serveur ou un serveur d√©di√©.  Et l'inconv√©nient est que si quelque chose se passe mal pendant l'exp√©rience, vous ne pouvez pas revenir en arri√®re sans t√©l√©charger la nouvelle version dans l'App Store. <br><br>  Quelques mots sur l'impl√©mentation: <br><br><ol><li>  Au cours de l'exp√©rience, l'option pour l'utilisateur est choisie au hasard selon le principe √©galement probable. </li><li>  Le service de test fractionn√© peut utiliser: </li></ol><br><ul><li>  Tout magasin de donn√©es (par exemple, UserDefaults, Realm, SQLite ou Core Data) en tant que d√©pendance et y enregistre la valeur attribu√©e √† l'utilisateur (la valeur de sa variante). </li><li>  Tout service d'analyse (par exemple, Amplitude ou Facebook Analytics) en tant que d√©pendance et envoyer la version actuelle au moment o√π l'utilisateur rencontre un test fractionn√©. </li></ul><br>  Voici un sch√©ma des futures classes: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gn/ie/mj/gniemjgg02pn4cmatwtcmfsh-h4.png" height="350"></div><br><br>  Tous les tests fractionn√©s seront pr√©sent√©s √† l'aide de <b>SplitTestProtocol</b> , et chacun d'eux aura plusieurs options (groupes) qui seront pr√©sent√©es dans <b>SplitTestGroupProtocol</b> . <br><br>  Le test fractionn√© devrait √™tre en mesure d'informer l'analyste de la version actuelle, par cons√©quent, il aura <b>AnalyticsProtocol</b> comme d√©pendance. <br><br>  Le service <b>SplitTestingService</b> enregistre, g√©n√®re des options et g√®re tous les tests de fractionnement.  C'est lui qui t√©l√©charge la version actuelle de l'utilisateur √† partir du stockage, qui est d√©termin√© par <b>StorageProtocol</b> , et transmet √©galement <b>AnalyticsProtocol</b> √† <b>SplitTestProtocol</b> . <br><hr><br>  Commen√ßons √† √©crire du code avec les <b>d√©pendances</b> <b>AnalyticsProtocol</b> et <b>StorageProtocol</b> : <br><br><pre><code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnalyticsServiceProtocol</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setOnce</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value: String, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key: String)</span></span></span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StorageServiceProtocol</span></span></span><span class="hljs-class"> </span></span>{    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string: String?, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key: String)</span></span></span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">String?</span></span> }</code> </pre> <br>  Le r√¥le de l'analytique est d'enregistrer un √©v√©nement une seule fois.  Par exemple, pour r√©soudre le probl√®me, l'utilisateur <b>A se</b> trouve dans le groupe <b>bleu</b> lors du <b>test de</b> division <b>bouton_couleur</b> , lorsqu'il voit un √©cran avec ce bouton. <br><br>  Le r√¥le du r√©f√©rentiel est d'enregistrer une option sp√©cifique pour l'utilisateur actuel (apr√®s que le <b>SplitTestingService a</b> g√©n√©r√© cette option), puis de la relire chaque fois que le programme acc√®de √† ce test de fractionnement. <br><br>  <b>Jetons donc</b> un coup d'≈ìil √† <b>SplitTestGroupProtocol</b> , qui caract√©rise un ensemble d'options pour un test de fractionnement sp√©cifique: <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestGroupProtocol</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawRepresentable</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RawValue</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> testGroups: [<span class="hljs-type"><span class="hljs-type">Self</span></span>] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } }</code> </pre> <br>  √âtant donn√© que <b>RawRepresentable o√π RawValue</b> est une cha√Æne, vous pouvez facilement cr√©er une variante √† partir d'une cha√Æne ou la reconvertir en cha√Æne, ce qui est tr√®s pratique pour travailler avec l'analyse et le stockage.  <b>SplitTestGroupProtocol</b> contient √©galement un tableau de testGroups, qui peut indiquer la composition des options actuelles (ce tableau sera √©galement utilis√© pour une g√©n√©ration al√©atoire √† partir des options disponibles). <br><br>  Voici le prototype de base du <b>test de</b> fractionnement <b>SplitTestProtocol lui</b> - <b>m√™me</b> : <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">associatedtype</span></span> <span class="hljs-type"><span class="hljs-type">GroupType</span></span>: <span class="hljs-type"><span class="hljs-type">SplitTestGroupProtocol</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> identifier: <span class="hljs-type"><span class="hljs-type">String</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentGroup: <span class="hljs-type"><span class="hljs-type">GroupType</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> analytics: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(currentGroup: <span class="hljs-type"><span class="hljs-type">GroupType</span></span>, analytics: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span>) } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hitSplitTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.analytics.setOnce(value: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.currentGroup.rawValue, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">Self</span></span>.analyticsKey)   }   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> analyticsKey: <span class="hljs-type"><span class="hljs-type">String</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"split_test-\(self.identifier)"</span></span>   }   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataBaseKey: <span class="hljs-type"><span class="hljs-type">String</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"split_test_database-\(self.identifier)"</span></span>   } }</code> </pre> <br>  <b>SplitTestProtocol</b> contient: <br><br><ol><li>  Un type <i>GroupType</i> qui impl√©mente le protocole <b>SplitTestGroupProtocol</b> pour repr√©senter un type qui d√©finit un ensemble d'options. <br></li><li>  <i>Identificateur de</i> valeur de cha√Æne pour les cl√©s d'analyse et de stockage. <br></li><li>  La variable <i>currentGroup</i> pour enregistrer une instance sp√©cifique de <i>SplitTestProtocol</i> . <br></li><li>  D√©pendance <i>Analytics</i> pour la m√©thode <i>hitSplitTest</i> . <br></li><li>  Et la m√©thode <i>hitSplitTest</i> , qui informe l'analyste que l'utilisateur a vu le r√©sultat du test de fractionnement. <br></li></ol><br><blockquote>  La m√©thode hitSplitTest vous permet de vous assurer que les utilisateurs ne sont pas seulement dans une version particuli√®re, mais ont √©galement vu le r√©sultat du test.  Si vous marquez un utilisateur qui n'a pas visit√© la section shopping comme "saw_red_button_on_purcahse_screen", cela faussera les r√©sultats. </blockquote><br>  Nous sommes maintenant pr√™ts pour <b>SplitTestingService</b> : <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">protocol</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestingServiceProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchSplitTest</span></span></span><span class="hljs-function">&lt;Value: SplitTestProtocol&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> splitTestType: Value.</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Type</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Value</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestingService</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestingServiceProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> analyticsService: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> storage: <span class="hljs-type"><span class="hljs-type">StorageServiceProtocol</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(analyticsService: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span>, storage: <span class="hljs-type"><span class="hljs-type">StorageServiceProtocol</span></span>) {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.analyticsService = analyticsService       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.storage = storage   }   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchSplitTest</span></span></span><span class="hljs-function">&lt;Value: SplitTestProtocol&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> splitTestType: Value.</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Type</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Value</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.getGroup(splitTestType) {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Value</span></span>(currentGroup: value, analytics: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.analyticsService)       }       <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> randomGroup = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.randomGroup(<span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>)       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.saveGroup(splitTestType, group: randomGroup)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Value</span></span>(currentGroup: randomGroup, analytics: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.analyticsService)   }   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveGroup</span></span></span><span class="hljs-function">&lt;Value: SplitTestProtocol&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> splitTestType: Value.</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Type</span></span></span></span><span class="hljs-function"><span class="hljs-params">, group: Value.GroupType)</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.storage.save(string: group.rawValue, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">Value</span></span>.dataBaseKey)   }   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getGroup</span></span></span><span class="hljs-function">&lt;Value: SplitTestProtocol&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> splitTestType: Value.</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Type</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-type"><span class="hljs-type">GroupType?</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> stringValue = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.storage.getString(<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-type"><span class="hljs-type">Value</span></span>.dataBaseKey) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">nil</span></span>       }       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-type"><span class="hljs-type">GroupType</span></span>(rawValue: stringValue)   }   <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randomGroup</span></span></span><span class="hljs-function">&lt;Value: SplitTestProtocol&gt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> splitTestType: Value.</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Type</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-type"><span class="hljs-type">GroupType</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> = <span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-type"><span class="hljs-type">GroupType</span></span>.testGroups.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> random = <span class="hljs-type"><span class="hljs-type">Int</span></span>.random(lower: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Value</span></span>.<span class="hljs-type"><span class="hljs-type">GroupType</span></span>.testGroups[random]   } }</code> </pre> <br>  PS Dans cette classe, nous utilisons la fonction Int.random, tir√©e de <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> , mais dans Swift 4.2, il est d√©j√† int√©gr√© par d√©faut. <br><br>  Cette classe contient une m√©thode publique <i>fetchSplitTest</i> et trois m√©thodes priv√©es: <i>saveGroup</i> , <i>getGroup</i> , <i>randomGroup</i> . <br><br>  La m√©thode randomGroup g√©n√®re une variante al√©atoire pour le test de division s√©lectionn√©, tandis que getGroup et saveGroup vous permettent d'enregistrer ou de charger la variante pour un test de division sp√©cifique pour l'utilisateur actuel. <br><br>  La fonction principale et publique de cette classe est fetchSplitTest: elle essaie de renvoyer la version actuelle du stockage persistant et, si elle ne r√©ussit pas, g√©n√®re et enregistre une version al√©atoire avant de la renvoyer. <br><br><hr><br>  Nous sommes maintenant pr√™ts √† cr√©er notre premier test fractionn√©: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ButtonColorSplitTest</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> identifier: <span class="hljs-type"><span class="hljs-type">String</span></span> = <span class="hljs-string"><span class="hljs-string">"button_color"</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> currentGroup: <span class="hljs-type"><span class="hljs-type">ButtonColorSplitTest</span></span>.<span class="hljs-type"><span class="hljs-type">Group</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> analytics: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">init</span></span>(currentGroup: <span class="hljs-type"><span class="hljs-type">ButtonColorSplitTest</span></span>.<span class="hljs-type"><span class="hljs-type">Group</span></span>, analytics: <span class="hljs-type"><span class="hljs-type">AnalyticsServiceProtocol</span></span>) {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.currentGroup = currentGroup       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.analytics = analytics   }   <span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> <span class="hljs-type"><span class="hljs-type">GroupType</span></span> = <span class="hljs-type"><span class="hljs-type">Group</span></span>   <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Group</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplitTestGroupProtocol</span></span></span><span class="hljs-class"> </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> red = <span class="hljs-string"><span class="hljs-string">"red"</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> blue = <span class="hljs-string"><span class="hljs-string">"blue"</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> darkGray = <span class="hljs-string"><span class="hljs-string">"dark_gray"</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> testGroups: [<span class="hljs-type"><span class="hljs-type">ButtonColorSplitTest</span></span>.<span class="hljs-type"><span class="hljs-type">Group</span></span>] = [.red, .blue, .darkGray]   } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ButtonColorSplitTest</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Group</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> color: <span class="hljs-type"><span class="hljs-type">UIColor</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .blue:           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .blue       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .red:           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .red       <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .darkGray:           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .darkGray       }   } }</code> </pre> <br>  Cela semble impressionnant, mais ne vous inqui√©tez pas: d√®s que vous impl√©mentez SplitTestProtocol en tant que classe distincte, le compilateur vous demandera d'impl√©menter toutes les propri√©t√©s n√©cessaires. <br><br>  La partie importante ici est le type de <i>groupe enum</i> .  Vous devez y mettre tous vos groupes (dans notre exemple, rouge, bleu et darkGray) et d√©finir des valeurs de cha√Æne ici pour garantir le transfert correct vers l'analyse. <br><br>  Nous avons √©galement une extension <i>ButtonColorSplitTest.Group</i> , vous permettant d'utiliser tout le potentiel de Swift.  Cr√©ons maintenant les objets pour <b>AnalyticsProtocol</b> et <b>StorageProtocol</b> : <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserDefaults</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StorageServiceProtocol</span></span></span><span class="hljs-class"> </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string: String?, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key: String)</span></span></span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(string, forKey: key)   }   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> key: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">String?</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.object(forKey: key) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>? <span class="hljs-type"><span class="hljs-type">String</span></span>   } }</code> </pre> <br>  Pour <b>StorageProtocol,</b> nous utiliserons la classe UserDefaults car elle est facile √† impl√©menter, mais dans vos projets, vous pouvez travailler avec n'importe quel autre stockage persistant (par exemple, j'ai choisi le trousseau pour moi-m√™me, car il enregistre le groupe pour l'utilisateur m√™me apr√®s la suppression). <br><br>  Dans cet exemple, je vais cr√©er une classe d'analyse fictive, mais vous pouvez utiliser de vraies analyses dans votre projet.  Par exemple, vous pouvez utiliser le service <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amplitude</a> . <br><br><pre> <code class="hljs sql">// Dummy class for example, <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> something <span class="hljs-built_in"><span class="hljs-built_in">real</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> Amplitude <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Analytics {   func logOnce(property: NSObject, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>) {       let storageKey = <span class="hljs-string"><span class="hljs-string">"example.\(key)"</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> UserDefaults.standard.object(forKey: storageKey) == nil {           print(<span class="hljs-string"><span class="hljs-string">"Log once value: \(property) for key: \(key)"</span></span>)           UserDefaults.standard.set(<span class="hljs-string"><span class="hljs-string">""</span></span>, forKey: storageKey) // <span class="hljs-keyword"><span class="hljs-keyword">String</span></span> because <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> simulator bug       }   } } extension Analytics: AnalyticsServiceProtocol {   func setOnce(<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">String</span></span>) {       self.logOnce(property: <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> NSObject, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>)   } }</code> </pre> <br>  Nous sommes maintenant pr√™ts √† utiliser notre test de fractionnement: <br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> splitTestingService = <span class="hljs-type"><span class="hljs-type">SplitTestingService</span></span>(analyticsService: <span class="hljs-type"><span class="hljs-type">Analytics</span></span>(),                                                      storage: <span class="hljs-type"><span class="hljs-type">UserDefaults</span></span>.standard) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> buttonSplitTest = splitTestingService.fetchSplitTest(<span class="hljs-type"><span class="hljs-type">ButtonColorSplitTest</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.button.backgroundColor = buttonSplitTest.currentGroup.color buttonSplitTest.hitSplitTest()</code> </pre> <br>  Cr√©ez simplement votre propre instance, extrayez le test fractionn√© et utilisez-le.  Les g√©n√©ralisations vous permettent d'appeler <code>buttonSplitTest.currentGroup.color.</code> <br><br>  Lors de la premi√®re utilisation, vous pouvez voir quelque chose comme ( <b>valeur Log once</b> ) <b>: split_test-button_color pour key: dark_gray</b> , et si vous ne supprimez pas l'application de l'appareil, le bouton sera le m√™me √† chaque d√©marrage. <br><br><hr><br>  Le processus de mise en ≈ìuvre d'une telle biblioth√®que prend un certain temps, mais apr√®s cela, chaque nouveau test fractionn√© √† l'int√©rieur de votre projet sera cr√©√© en quelques minutes. <br><br>  Voici un exemple d'utilisation du moteur dans une application r√©elle: en analytique, nous avons segment√© les utilisateurs par le coefficient de complexit√© et la probabilit√© d'achat de la monnaie du jeu. <br><br><img src="https://habrastorage.org/webt/gn/3l/p1/gn3lp1pzinn6ghktn0hrb6rg5pu.png"><br><br>  Les personnes qui n'ont jamais rencontr√© ce facteur de difficult√© (aucun) ne jouent probablement pas du tout et n'ach√®tent rien dans les jeux (ce qui est logique), c'est pourquoi il est important d'envoyer le r√©sultat (version g√©n√©r√©e) du test fractionn√© au serveur √† un moment o√π les utilisateurs rencontrent vraiment votre test. <br><br>  Sans facteur de difficult√©, seulement 2% des utilisateurs ont achet√© de la monnaie de jeu.  Avec un petit ratio, les achats ont d√©j√† √©t√© effectu√©s √† 3%.  Et avec un facteur de difficult√© √©lev√©, 4% des joueurs ont achet√© la devise.  Cela signifie que vous pouvez continuer √† augmenter le coefficient et observer les chiffres.  :) <br><br>  Si vous souhaitez analyser les r√©sultats avec une fiabilit√© maximale, je vous conseille d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cet outil</a> . <br><br>  Merci √† la merveilleuse √©quipe qui m'a aid√© √† travailler sur cet article (en particulier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Igor</a> , <a href="">Kelly</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Hiro</a> ). <br><br>  Le projet de d√©monstration complet est disponible sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce lien</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416841/">https://habr.com/ru/post/fr416841/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416829/index.html">ABI Model Pattern v0.5.6 Beta</a></li>
<li><a href="../fr416831/index.html">L'acheminement externe du trafic int√©rieur russe sera r√©duit √† 5%</a></li>
<li><a href="../fr416833/index.html">Bienvenue dans le Meetup MskDotNet # 24</a></li>
<li><a href="../fr416837/index.html"># Dashanalune 0</a></li>
<li><a href="../fr416839/index.html">Cours MIT "S√©curit√© des syst√®mes informatiques". Conf√©rence 3: Buffer Overflows: Exploits and Protection, Part 1</a></li>
<li><a href="../fr416843/index.html">Moteurs de fus√©es nucl√©aires et syst√®mes de propulsion √©lectrique de fus√©es nucl√©aires</a></li>
<li><a href="../fr416845/index.html">10 raisons d'utiliser itracking ou de l'abandonner pour toujours</a></li>
<li><a href="../fr416847/index.html">Le site d'administration d'Ammyy √† nouveau compromis</a></li>
<li><a href="../fr416849/index.html">Oh mon code. Comment devenir administrateur syst√®me</a></li>
<li><a href="../fr416851/index.html">Hibernate - de quoi les didacticiels sont muets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>