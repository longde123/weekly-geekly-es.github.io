<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∑üèø ‚òùüèº üè¶ Vis√£o geral da tecnologia IPMI üß† üë©üèº‚Äçüè≠ üç∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para gerenciar remotamente o estado da plataforma do servidor, os administradores e engenheiros de sistema usam a tecnologia IPMI, o que simplifica ba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Vis√£o geral da tecnologia IPMI</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/439834/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/73/nq/c6/73nqc65bgrd3ghytnkkexqrihyk.png" title="Vis√£o geral da tecnologia IPMI"></div><br>  Para gerenciar remotamente o estado da plataforma do servidor, os administradores e engenheiros de sistema usam a tecnologia IPMI, o que simplifica bastante sua vida √∫til.  Agora voc√™ n√£o precisa correr para o servidor todas as vezes para pressionar o bot√£o de redefini√ß√£o - voc√™ pode responder a problemas cr√≠ticos em tempo h√°bil enquanto est√° sentado em casa em uma cadeira confort√°vel.  Este artigo abordar√° os componentes b√°sicos do IPMI e os detalhes de como a tecnologia funciona. <br><a name="habracut"></a><br><h2>  O que √© IPMI? </h2><br>  O acr√¥nimo IPMI significa Intelligent Platform Management Interface.  Atrav√©s do IPMI, voc√™ pode conectar-se remotamente ao servidor e gerenciar sua opera√ß√£o: <br><br><ul><li>  Monitore o estado f√≠sico do equipamento, por exemplo, verifique a temperatura dos componentes individuais do sistema, n√≠veis de tens√£o, velocidade do ventilador </li><li>  Restaurar o servidor no modo autom√°tico ou manual (reinicializa√ß√£o remota do sistema, ligar / desligar, carregar imagens ISO e atualizar o software) </li><li>  Gerenciar perif√©ricos </li><li> Mantenha um log de eventos </li><li>  Armazene informa√ß√µes sobre o equipamento usado </li></ul><br>  Suponha que um engenheiro reconfigure a rede no servidor, cometa um erro de configura√ß√£o e perca o acesso via SSH.  Como "alcan√ßar" o servidor agora?  Voc√™ pode se conectar via IPMI e alterar as configura√ß√µes. <br><br>  IPMI √© bom porque as fun√ß√µes acima est√£o dispon√≠veis, independentemente do processador, BIOS ou sistema operacional (SO) da plataforma gerenciada.  Por exemplo, voc√™ pode reiniciar o servidor remotamente se o SO congelar ou procurar o motivo da falha da CPU no log de eventos do sistema.  Voc√™ pode at√© gerenciar um servidor desligado - basta que o servidor esteja conectado √† rede el√©trica. <br><br>  Depois que o servidor √© montado e conectado √† rede, os engenheiros da Selectel configuram o BIOS e o IPMI.  Em seguida, voc√™ pode sair da sala barulhenta do servidor e continuar a configurar o equipamento remotamente.  Ap√≥s a conclus√£o da instala√ß√£o inicial, os clientes Selectel podem gerenciar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servidores de configura√ß√£o</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dedicados</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arbitr√°rios</a> atrav√©s do IPMI. <br><br><blockquote><h4>  Antecedentes hist√≥ricos </h4><br>  A primeira vers√£o da especifica√ß√£o IPMI v1.0 foi desenvolvida em conjunto pela Intel, Dell, NEC e Hewlett-Packard em 1998.  Na pr√°tica, foram descobertas vulnerabilidades e fraquezas corrigidas nas vers√µes subseq√ºentes do IPMI v1.5 e v2.0. <br></blockquote><br>  A especifica√ß√£o IPMI padroniza a interface de comunica√ß√£o, e n√£o uma implementa√ß√£o espec√≠fica no hardware; portanto, o IPMI n√£o requer o uso de dispositivos patenteados especiais e certos microcontroladores.  Os fabricantes, aderindo √†s especifica√ß√µes, desenvolvem seu pr√≥prio equipamento IPMI incorporado em plataformas de servidor: <br><div class="scrollable-table"><table><tbody><tr><th align="left">  Fabricante </th><th align="left">  Tecnologia baseada em IPMI </th></tr><tr><td>  Cisco </td><td>  Cisco IMC (Integrated Management Controller) </td></tr><tr><td>  Dell </td><td>  iDRAC (cart√£o de acesso remoto integrado da Dell) </td></tr><tr><td>  HP </td><td>  iLO (luzes apagadas integradas) </td></tr><tr><td>  Ibm </td><td>  IMM (M√≥dulo de Gerenciamento Integrado) </td></tr><tr><td>  Lenovo </td><td>  IMM (M√≥dulo de Gerenciamento Integrado) </td></tr><tr><td>  Supermicro </td><td>  SIM (Supermicro Intelligent Management) </td></tr></tbody></table></div>  As empresas estabelecem seus pre√ßos para a tecnologia fornecida.  Se o custo da implementa√ß√£o do IPMI aumentar, o pre√ßo do aluguel do servidor aumentar√°, pois depende diretamente do custo dos consum√≠veis. <br><br>  As solu√ß√µes dos fabricantes diferem entre si: <br><br><ul><li>  Visibilidade das informa√ß√µes de status do equipamento </li><li>  Um conjunto exclusivo de aplicativos para restaurar a integridade do servidor se algum componente falhar </li><li>  A capacidade de coletar estat√≠sticas sobre todos os componentes do servidor, incluindo aqueles conectados via placas de expans√£o PCI, NVM, etc. </li><li>  Usando a tecnologia n√£o apenas no hardware do servidor, mas tamb√©m com computadores comuns atrav√©s de placas de expans√£o PCI-Express </li></ul><br>  De fato, para um trabalho confort√°vel com o console remoto e a notifica√ß√£o oportuna de problemas, a funcionalidade b√°sica do IPMI √© suficiente. <br><br>  Embora os fabricantes forne√ßam um IPMI modificado e revisado, a implementa√ß√£o de sua arquitetura permanece semelhante.  Vamos ver no que a tecnologia consiste, com base nas especifica√ß√µes oficiais da Intel. <br><br><h2>  Os componentes b√°sicos de qualquer IPMI </h2><br><h3>  Controladores </h3><br>  No centro da arquitetura est√° o "c√©rebro" do IPMI, o microcontrolador BMC (Baseboard Management Controller).  Por meio dele, o controle do servidor remoto ocorre.  De fato, o BMC √© um computador separado com seu software e interface de rede, que √© soldado √† placa-m√£e ou conectado como uma placa de expans√£o via barramento de gerenciamento PCI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/9b/nl/cg9bnlv-oaiucugc4ugqqtbla6q.png" title="Arquitetura principal do IPMI"></div><br>  O BMC √© alimentado pela tens√£o de espera da placa-m√£e, ou seja, ela sempre funciona, independentemente do status do servidor. <br><br>  Voc√™ pode conectar controladores de gerenciamento (MCs) adicionais ao BMC para expandir os recursos do gerenciamento b√°sico.  Por exemplo, enquanto o sistema principal √© controlado pelas fun√ß√µes do BMC, os MCs s√£o conectados para monitorar v√°rios subsistemas: fontes de alimenta√ß√£o redundantes, unidades RAID, perif√©ricos. <br><br>  Os MCs v√™m com placas independentes, separadas do BMC central, e √© por isso que tamb√©m s√£o chamadas de Controladores de sat√©lite.  Pode haver v√°rios controladores adicionais, mas o BMC central √© um. <br><br>  Os controladores s√£o conectados ao BMC por meio da interface IPMB (Barramento de gerenciamento de plataforma inteligente - Barramento de gerenciamento de plataforma inteligente).  O IPMB √© um barramento baseado no I2C (circuito integrado), atrav√©s do qual o BMC redireciona os comandos de controle para v√°rias partes da arquitetura: <br><br><ul><li>  Comunica-se com controladores adicionais (MCs) </li><li>  L√™ dados do sensor (Sensores) </li><li>  Acessa armazenamento n√£o vol√°til </li></ul><br>  A arquitetura IPMI √© implementada para que o administrador remoto n√£o tenha acesso direto aos componentes do sistema.  Por exemplo, para receber dados dos sensores, o administrador remoto envia um comando para o BMC, e o BMC, por sua vez, refere-se aos sensores. <br><br>  Al√©m de enviar comandos para o BMC, voc√™ pode configurar a execu√ß√£o autom√°tica de a√ß√µes pelo controlador usando os seguintes mecanismos: <br><div class="scrollable-table"><table><tbody><tr><td width="150">  <strong>PEF (Filtragem de Eventos da Plataforma)</strong> </td><td>  O BMC armazena uma tabela de eventos com informa√ß√µes sobre quais eventos responder e quais a√ß√µes executar.  Quando o BMC recebe uma mensagem de evento, ele compara os dados com a tabela e escolhe como responder ao evento. <br>  A rea√ß√£o inclui a√ß√µes como desligar, reiniciar o sistema, gerar um alerta <br></td></tr><tr><td width="150">  <strong>Temporizador de c√£o de guarda</strong> </td><td>  O cron√¥metro est√° configurado para executar uma a√ß√£o ap√≥s um per√≠odo especificado.  As a√ß√µes incluem desligar, reiniciar o servidor, interromper processos.  Se voc√™ definir o valor do tempo limite como 0, a a√ß√£o ser√° executada imediatamente. <br>  Dependendo da implementa√ß√£o, o Watchdog pode interrogar o sistema sobre o estado uma vez em um determinado intervalo de tempo.  Se o sistema n√£o responder (por exemplo, quando travar), uma a√ß√£o ser√° acionada <br></td></tr><tr><td width="150">  <strong>Firewall de Firmware</strong> </td><td>  Algumas a√ß√µes do BMC implementadas em um servidor independente podem interromper a opera√ß√£o de plataformas modulares (por exemplo, um servidor blade).  Para evitar poss√≠veis problemas, o firewall permite que o BMC bloqueie configura√ß√µes, comandos IPMI e opera√ß√µes de grava√ß√£o atrav√©s da interface do sistema. <br>  O firewall tamb√©m cont√©m um conjunto de comandos atrav√©s dos quais voc√™ pode descobrir quais comandos e fun√ß√µes de gerenciamento est√£o dispon√≠veis para uma plataforma espec√≠fica <br></td></tr></tbody></table></div><div style="text-align:center;"><img src="https://habrastorage.org/webt/a1/wo/_d/a1wo_diiljezc-ouxrb45ualrng.png" title="Configura√ß√µes de PEF e Watchdog Timer no BIOS do servidor"></div><br><h3>  Armazenamento n√£o vol√°til </h3><br>  O armazenamento n√£o vol√°til permanece dispon√≠vel mesmo se a CPU do servidor falhar, por exemplo, atrav√©s de uma rede local;  consiste em tr√™s √°reas: <br><br><ul><li>  Registro de Eventos do Sistema (SEL) - Registro de Eventos do Sistema </li><li>  Reposit√≥rio SDR (Sensor Data Record) - um reposit√≥rio que armazena dados do sensor </li><li>  Informa√ß√µes sobre unidades substitu√≠veis em campo (FRUs) - informa√ß√µes de invent√°rio sobre os m√≥dulos do sistema </li></ul><br>  Os m√≥dulos do sistema geram (gerador de eventos) ou recebem (receptor de eventos) eventos.  Os MCs atuam como geradores de eventos, e os BMCs em uma arquitetura podem desempenhar os dois pap√©is.  O BMC recebe mensagens de eventos por meio da interface do sistema e do IPMB e as registra no SEL (Log de Eventos do Sistema). <br><br>  Existem requisitos obrigat√≥rios para a implementa√ß√£o do SEL: <br><br><ul><li>  SEL armazena pelo menos 16 eventos na mem√≥ria </li><li>  As informa√ß√µes armazenadas no SEL podem ser acessadas independentemente do acesso do BMC e do estado da plataforma gerenciada </li></ul><br>  Os comandos IPMI leem e excluem o SEL.  Como a mem√≥ria SEL √© limitada, periodicamente o log precisa ser verificado e limpo para que novos eventos sejam registrados.  Nas configura√ß√µes do BMC, voc√™ pode configurar a limpeza autom√°tica do SEL.  A limpeza autom√°tica em plataformas diferentes acontece de maneiras diferentes - apagando registros antigos para preencher novos ou limpando toda a hist√≥ria. <br><br>  A mensagem do evento carrega informa√ß√µes das √°reas Reposit√≥rio SDR e Informa√ß√µes da FRU. <br><br>  Registros SDR s√£o dados sobre os tipos e n√∫mero de sensores, sua capacidade de gerar eventos e tipos de leituras.  Os SDRs tamb√©m cont√™m registros do n√∫mero e tipos de dispositivos conectados ao IPMB.  Os registros SDR s√£o armazenados em uma √°rea de mem√≥ria denominada Reposit√≥rio SDR (Sensor Data Records Repository). <br><br>  Os registros da FRU cont√™m informa√ß√µes sobre n√∫meros de s√©rie e modelos de pe√ßas de v√°rios m√≥dulos do sistema - processador, cart√£o de mem√≥ria, cart√£o de E / S, controladores. <br><br>  As informa√ß√µes da FRU podem ser fornecidas atrav√©s do MC (comandos IPMI) ou atrav√©s do acesso a chips de mem√≥ria n√£o vol√°teis SEEPROM (mem√≥ria somente leitura program√°vel apag√°vel eletricamente em s√©rie) conectada atrav√©s do barramento de gerenciamento privado.  Os controladores se comunicam por esse barramento por meio de comandos I2C de baixo n√≠vel com dispositivos que n√£o suportam comandos IPMI. <br><br><blockquote><h4>  Aplica√ß√£o pr√°tica </h4><br><p>  Suponha que um cliente se queixe de congelamentos no servidor, mas tudo esteja em ordem nos logs do sistema operacional.  Observamos o SEL - vemos erros em um dos slots de RAM, indicando as informa√ß√µes sobre o slot em que est√° localizado.  Mudan√ßa - o servidor come√ßa a funcionar como um rel√≥gio. </p></blockquote><br>  Acima, examinamos os m√≥dulos b√°sicos da arquitetura IPMI.  Agora vamos ver a estrutura dos comandos transmitidos e ver quais interfaces s√£o usadas para conex√£o remota. <br><br><h2>  Estrutura de comando IPMI </h2><br>  IPMI envia mensagens de solicita√ß√£o-resposta.  Pedidos s√£o comandos.  Os comandos iniciam a√ß√µes e definem valores.  O formato de solicita√ß√£o-resposta possibilita a comunica√ß√£o simult√¢nea de v√°rios controladores no mesmo barramento. <br><br>  As mensagens IPMI cont√™m um conjunto b√°sico de campos comuns a todos os comandos: <br><br><ul><li>  <strong>A fun√ß√£o de rede (NetFn)</strong> atribui ao comando o valor do cluster ao qual o comando pertence (comandos de chassi, eventos, armazenamento etc.) </li><li>  O campo <strong>Identificador de Solicita√ß√£o / Resposta</strong> √© necess√°rio para distinguir entre solicita√ß√µes e respostas </li><li>  <strong>ID do solicitante</strong> - informa√ß√µes sobre a origem da mensagem.  Por exemplo, para o IPMB, essas informa√ß√µes cont√™m o LUN (n√∫mero da unidade l√≥gica) do dispositivo </li><li>  <strong>O ID do respondente</strong> endere√ßa a solicita√ß√£o ao respondente desejado </li><li>  <strong>Comando</strong> - exclusivo dentro da equipe de Fun√ß√£o de Rede </li><li>  <strong>Dados</strong> - par√¢metros adicionais (por exemplo, dados retornados na resposta) </li></ul><br>  Al√©m disso, a resposta sempre passa o C√≥digo de conclus√£o, que relata o resultado do comando.  Se ocorrer um erro durante a execu√ß√£o da solicita√ß√£o, um c√≥digo diferente de zero correspondente ao evento ser√° enviado. <br><br>  Os canais pelos quais as mensagens s√£o transmitidas podem ser divididos em tr√™s categorias com as interfaces correspondentes: <br><br><ul><li>  BMC - MCs, sensores, armazenamento (IPMB) </li><li>  BMC - Plataforma Gerenciada (Interface do Sistema) </li><li>  BMC - Administrador Remoto (LAN, Interface Serial) </li></ul><br>  Nesse modelo, o BMC pode ser visto como um comutador que interconecta as interfaces do sistema (na terminologia da especifica√ß√£o - Bridging): <br><br><ul><li>  Serial ‚Üî IPMB </li><li>  Interface serial do sistema </li><li>  LAN ‚Üî IPMB </li><li>  Interface do sistema LAN </li><li>  Barramento de gerenciamento serial ‚Üî PCI </li><li>  Barramento de Gerenciamento LAN ‚Üî PCI </li><li>  Outras combina√ß√µes, incluindo Serial ‚Üî LAN </li></ul><br>  Quando entregue atrav√©s de v√°rias interfaces de arquitetura, o conjunto b√°sico de campos √© complementado por n√∫meros e quadros de canais.  Por exemplo, o protocolo IPMB adiciona campos de endere√ßo e campos para verificar a integridade dos dados transmitidos, e a LAN encapsula comandos IPMI em pacotes UDP / IP. <br><br><h2>  Interfaces de acesso remoto </h2><br>  Na vers√£o inicial do IPMI, o console remoto foi conectado ao m√≥dulo BMC atrav√©s de uma interface serial (Interface Serial).  A especifica√ß√£o IPMI v2.0 √© baseada no uso de uma interface de rede (LAN Interface). <br><br>  A interface da LAN √© fornecida atrav√©s de uma porta de rede BMC dedicada com seu endere√ßo IP.  Ao transmitir mensagens IPMI via LAN, existem v√°rios est√°gios de encapsulamento: <br><br><ul><li>  As mensagens IPMI s√£o geradas nos pacotes da sess√£o IPMI (mais adiante neste artigo, examinaremos mais de perto a forma√ß√£o da sess√£o IPMI) </li><li>  Pacotes de sess√£o IPMI s√£o encapsulados usando RMCP (Remote Management Control Protocol) </li><li>  Pacotes RMCP s√£o formados em datagramas UDP </li><li>  Quadros Ethernet s√£o adicionados </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cp/ev/be/cpevbegml2-h-adycf_s_rb0b0g.png" title="Encapsulando mensagens IPMI pela LAN"></div><br>  A interface serial para conectar um console remoto ao BMC n√£o √© mais usada, mas √© necess√°ria para implementar duas fun√ß√µes: <br><br><ul><li>  Compartilhamento de porta serial </li><li>  Serial-over-LAN (SoL) </li></ul><br>  O compartilhamento de porta serial √© a capacidade de usar um conector serial comum entre BMCs seriais e um sistema gerenciado.  Normalmente, o compartilhamento de porta serial √© usado para implementar o redirecionamento do console do BIOS, ou seja, redirecionar o console do BIOS para o m√≥dulo BMC. <br><br>  Serial-over-LAN √© necess√°rio para interagir com os componentes do sistema que entendem apenas uma interface de comunica√ß√£o serial.  Voc√™ tamb√©m pode enviar comandos do console do servidor diretamente para os dispositivos do servidor (chips, cart√µes, discos e assim por diante).  O SoL √© implementado para funcionar em conjunto com o recurso Serial Port Sharing. <br><br><h2>  Sess√£o e autentica√ß√£o </h2><br>  Para LAN e interface serial, o in√≠cio da transmiss√£o de mensagens IPMI √© precedido pelo estabelecimento de uma sess√£o durante a qual os pacotes de dados da sess√£o IPMI s√£o gerados. <br><br>  O estabelecimento da sess√£o √© a autentica√ß√£o de um usu√°rio espec√≠fico.  A sess√£o deve ser ativada antes de enviar mensagens IPMI de acordo com o seguinte algoritmo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vn/wx/xb/vnwxxbr_mrmg2czetphqhhdo8ha.png" title="Algoritmo de ativa√ß√£o de sess√£o"></div><br><ol><li>  O console remoto solicita dados de autentica√ß√£o do BMC </li><li>  O BMC envia uma resposta sobre os tipos de autentica√ß√£o suportados (nenhum, senha, algoritmos MD2 e MD5, etc.) </li><li>  O console remoto envia um comando sobre o tipo de autentica√ß√£o selecionado e envia o login do usu√°rio </li><li>  Se o usu√°rio tiver privil√©gios de acesso ao canal, o BMC enviar√° uma resposta contendo o ID da sess√£o.  Gra√ßas √† atribui√ß√£o do ID, v√°rias sess√µes podem trabalhar simultaneamente em um canal (de acordo com os requisitos da especifica√ß√£o - pelo menos quatro sess√µes simult√¢neas) </li><li>  O console remoto envia uma solicita√ß√£o de ativa√ß√£o da sess√£o.  A solicita√ß√£o cont√©m um ID da sess√£o e informa√ß√µes de autentica√ß√£o (nome de usu√°rio, senha, chaves - depende do tipo de autentica√ß√£o selecionado) </li><li>  O BMC verifica as informa√ß√µes do usu√°rio, aprova o ID da sess√£o e envia uma resposta de ativa√ß√£o </li></ol><br>  As sess√µes s√£o encerradas automaticamente se nenhuma a√ß√£o for tomada durante o intervalo especificado ou se a conex√£o for desconectada. <br><br>  O acesso ao BMC pode ser bloqueado enviando v√°rias solicita√ß√µes de ativa√ß√£o de sess√£o ao mesmo tempo; todos os recursos ser√£o usados ‚Äã‚Äãpara rastrear as sess√µes que requerem ativa√ß√£o.  Para evitar um poss√≠vel ataque, √© recomend√°vel usar o algoritmo LRU (Last Used Used) na implementa√ß√£o do BMC.  O algoritmo afirma um ID da sess√£o para a solicita√ß√£o de ativa√ß√£o da sess√£o mais antiga.  Por exemplo, um console remoto √© iniciado por meio de um navegador em uma sess√£o noVNC.  Se voc√™ abrir v√°rias guias com sess√µes em execu√ß√£o, a entrada de texto estar√° dispon√≠vel na guia aberta mais antiga. <br><br><h2>  Quando o IPMI se torna indispon√≠vel </h2><br>  O IPMI ajuda a restaurar a integridade do servidor se ele falhar.  No entanto, pode acontecer que o sistema de controle remoto fique indispon√≠vel.  O mau funcionamento do IPMI pode ser dividido em quatro categorias: <br><br><ul><li>  <strong>No n√≠vel da rede.</strong>  Portas quebradas, equipamento que n√£o funciona, defeito no cabo, par tran√ßado mal cravado </li><li>  <strong>No n√≠vel do software.</strong>  Erro do sistema, bloqueio do m√≥dulo BMC, necessidade de atualiza√ß√£o do firmware do m√≥dulo </li><li>  <strong>No n√≠vel do hardware.</strong>  Superaquecimento, falha de componentes cr√≠ticos (mem√≥ria, processador), defeitos na arquitetura do sistema </li><li>  <strong>No n√≠vel nutricional.</strong>  Problemas de falta de energia do BMC ou de alimenta√ß√£o do servidor </li></ul><br>  Esses fatores afetam a opera√ß√£o do IPMI e o pr√≥prio servidor.  O m√≥dulo BMC √© um chip independente do servidor e uma falha deste microcontrolador indica uma falha do servidor em 90% dos casos. <br><br><h2>  IPMI na pr√°tica </h2><br>  Voc√™ pode gerenciar o servidor via IPMI atrav√©s de um navegador da web, utilit√°rios fornecidos pelos fabricantes e utilit√°rios de c√≥digo aberto. <br><br>  Cada implementa√ß√£o de IPMI possui uma interface da web, mas o princ√≠pio de acesso permanece o mesmo: <br><br><ol><li>  Digite o endere√ßo IP da porta BMC na barra de endere√ßos </li><li>  Digite o nome de usu√°rio e a senha.  √Äs vezes, essas informa√ß√µes s√£o indicadas diretamente no equipamento. </li></ol><br>  Na Selectel, trabalhamos com m√≥dulos IPMI da Intel, Asus e Supermicro.  Como um exemplo, veja a interface da web Supermicro: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vu/co/lk/vucolkwodmrg15iebjkl203onve.png" title="Interface da Web de hardware Supermicro"></div><br>  Os recursos da interface da web tamb√©m s√£o implementados no utilit√°rio gr√°fico Supermicro IPMIView: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4j/3j/ui/4j3juibaq0voyqkg-2szb0g1z1k.png" title="Interface Supermicro IPMIView"></div><br>  Para gerenciar o equipamento atrav√©s do console do Linux, o utilit√°rio correspondente √© instalado (por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ipmitool</a> para gerenciamento local e remoto ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">IPMICFG</a> para local).  Em seguida, usando comandos do console, um dispositivo IPMI √© adicionado e o BMC √© configurado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pl/qr/dy/plqrdy29gepw_xsjbqjfv9hp8og.png" title="Trabalhar com o utilit√°rio IPMICFG"></div><br>  Os clientes Selectel t√™m IPMI dispon√≠vel para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">configura√ß√µes de servidor</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dedicadas</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">personalizadas</a> .  O IPMI √© implementado como um console KVM, que √© executado em uma sess√£o noVNC atrav√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">do painel de controle</a> .  Para fazer isso, no cart√£o com informa√ß√µes sobre o servidor, clique no √≠cone do console no canto superior direito: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fz/4t/cs/fz4tcs6ukqpac3dvceah2vr26re.png" title="Cart√£o de Informa√ß√µes do Servidor"></div><br>  O console √© aberto no navegador e ajusta-se ao tamanho da tela.  Se desejar, o console pode ser usado mesmo atrav√©s de um telefone ou tablet. <br><br>  A sess√£o √© interrompida se voc√™ sair do painel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/em/yz/mx/emyzmxitdb2egavs-w-oh2cjgve.png" title="Console KVM em execu√ß√£o na sess√£o noVNC"></div><br><h2>  Conclus√£o </h2><br>  IPMI √© um componente totalmente aut√¥nomo da plataforma do servidor, que n√£o depende do sistema operacional, BIOS ou CPU do servidor. <br><br>  Gra√ßas √† IPMI, o custo de manuten√ß√£o dos sistemas de servidor √© reduzido e a vida dos administradores de sistema se torna mais simples.  N√£o h√° necessidade de presen√ßa permanente perto do equipamento - seu trabalho √© controlado remotamente pela rede. <br><br>  Neste artigo, abordamos os componentes b√°sicos do IPMI.  No entanto, os detalhes da tecnologia s√£o vastos.  Desenvolvedores talentosos, confiando na especifica√ß√£o, podem criar seus equipamentos IPMI e ferramentas de c√≥digo aberto, eliminando simultaneamente as defici√™ncias da especifica√ß√£o atual e abrindo novas possibilidades para o controle remoto. <br><br>  Materiais utilizados no artigo: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Especifica√ß√£o IPMI v2.0</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Supermicro white papers</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439834/">https://habr.com/ru/post/pt439834/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439818/index.html">Caracter√≠sticas das abordagens de design no setor de fabrica√ß√£o real</a></li>
<li><a href="../pt439822/index.html">Criando uma tela alternativa para o sintetizador / amostrador Ensoniq EPS16 + e ASR10</a></li>
<li><a href="../pt439824/index.html">Quando as estruturas JavaScript desaparecer√£o?</a></li>
<li><a href="../pt439826/index.html">Desativando o anal√≥gico. O que acontecer√° com a televis√£o?</a></li>
<li><a href="../pt439830/index.html">Inside Quake: sempre considere alternativas</a></li>
<li><a href="../pt439838/index.html">Aritm√©tica do mel: adi√ß√£o e subtra√ß√£o pelas abelhas</a></li>
<li><a href="../pt439840/index.html">Confer√™ncia DUMP-2019: convidamos voc√™ a falar nas se√ß√µes Design, Gerenciamento e Teste</a></li>
<li><a href="../pt439844/index.html">Por que os desenvolvedores do Dodo Pizza 250?</a></li>
<li><a href="../pt439848/index.html">Nem uma √∫nica VPN. Folha de dicas sobre como se proteger e seus dados</a></li>
<li><a href="../pt439850/index.html">Detec√ß√£o de emo√ß√£o contextual em conversas textuais usando redes neurais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>