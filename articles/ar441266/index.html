<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จ โฃ๏ธ ููู ูุนูู ุฅุทุงุฑ tiOPF ูุฏููู / ูุงุฒุงุฑูุณ. ูุงูุจ ุฒุงุฆุฑ ๐ค โ๏ธ โ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงููุชุฑุฌู 
 ููุงู ุณุจุจุงู ูุฑุงุก ุชุนูุฏู ุจุชุฑุฌูุฉ ุงูุนุฏูุฏ ูู ุงูููุงุฏ ุนูู ุงูุฅุทุงุฑ ุงูุฐู ุชู ุชุทููุฑู ููุฐ ุนุดุฑูู ุนุงููุง ูุจูุฆุฉ ุงูุจุฑูุฌุฉ ุบูุฑ ุงูุดุงุฆุนุฉ: 

 1. ูุจู ุจุถุน ุณููุงุช ุ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ูุนูู ุฅุทุงุฑ tiOPF ูุฏููู / ูุงุฒุงุฑูุณ. ูุงูุจ ุฒุงุฆุฑ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441266/" style=";text-align:right;direction:rtl"><h3 style=";text-align:right;direction:rtl">  ูู ุงููุชุฑุฌู </h3><br>  ููุงู ุณุจุจุงู ูุฑุงุก ุชุนูุฏู ุจุชุฑุฌูุฉ ุงูุนุฏูุฏ ูู ุงูููุงุฏ ุนูู ุงูุฅุทุงุฑ ุงูุฐู ุชู ุชุทููุฑู ููุฐ ุนุดุฑูู ุนุงููุง ูุจูุฆุฉ ุงูุจุฑูุฌุฉ ุบูุฑ ุงูุดุงุฆุนุฉ: <br><br>  1. ูุจู ุจุถุน ุณููุงุช ุ ุจุนุฏ ุฃู ุชุนููุช ุงููุซูุฑ ูู ูุณุฑุงุช ุงูุนูู ูุน Entity Framework ุจุงุนุชุจุงุฑู ORM ูููุตุฉ .Net ุ ุจุญุซุช ุนุจุซูุง ุนู ูุธุงุฆุฑูุง ุงูุฎุงุตุฉ ุจุจูุฆุฉ Lazarus ุ ูุจุตูุฉ ุนุงูุฉ ุนู freepascal. <br>  ูุงููุซูุฑ ููุฏูุดุฉ ุ ุฃู ORMs ุฌูุฏุฉ ููููุฏุฉ ููุง.  ูู ูุง ุชู ุงูุนุซูุฑ ุนููู ุขูุฐุงู ูู ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ูุณูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tiOPF</a> ุ ุชู ุชุทููุฑู ูู ุฃูุงุฎุฑ ุงูุชุณุนูููุงุช ูู ุฃุฌู ุฏููู ุ ูุชู ูููู ูุงุญููุง ุฅูู freepascal.  ููุน ุฐูู ุ ูุฅู ูุฐุง ุงูุฅุทุงุฑ ูุฎุชูู ุงุฎุชูุงููุง ุฌุฐุฑููุง ุนู ุงูุดูู ุงููุนุชุงุฏ ููุฃุฌูุงุก ุงููุจูุฑุฉ ุงููุซููุฉ. <br><br>  ูุง ุชูุฌุฏ ุทุฑู ูุฑุฆูุฉ ูุชุตููู ุงููุงุฆูุงุช (ูู ุงูููุงู - ุงููููุฐุฌ ุฃููุงู) ูุชุนููู ุงููุงุฆูุงุช ุฅูู ุงูุญููู ูู ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุนูุงุฆููุฉ (ูู ุงูููุงู - ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃููุงู) ูู tiOPF.  ูุถุน ุงููุทูุฑ ููุณู ูุฐู ุงูุญูููุฉ ููุงุญุฏ ูู ุฃูุฌู ุงููุตูุฑ ูู ุงููุดุฑูุน ุ ููุน ุฐูู ุ ูููุฒุฉ ุ ููู ููุฏู ุชูุฌููุงู ูุงููุงู ุนูู ูุฌู ุงูุชุญุฏูุฏ ููููุฐุฌ ุฃุนูุงู ุงููุงุฆู ุ ุฅูู ูุณุชุญู ููุท ุฑูุฒ ุซุงุจุช ... <br><a name="habracut"></a><br>  ููุฏ ูุงูุช ูุฏู ูุดููุฉ ุนูู ูุณุชูู ุงููุฑุต ุงูุซุงุจุช ุงูููุชุฑุญ.  ูู ุฐูู ุงูููุช ุ ูู ุฃูู ุนูู ุฏุฑุงูุฉ ุฌูุฏุฉ ุจูุฐู ุงูููุงุฐุฌ ูุงูุฃุณุงููุจ ุงูุชู ุงุณุชุฎุฏููุง ูุทูุฑ ุงูุฅุทุงุฑ ุจุงููุงูู ูุงููุฐููุฑุฉ ูู ุงููุซุงุฆู ุนุฏุฉ ูุฑุงุช ููู ููุฑุฉ (ุฃููุงุท ุงูุชุตููู ููุฒุงุฆุฑ ุ ุงูุฑุงุจุท ุ ุงููุฑุงูุจ ุ ุนุฏุฉ ูุณุชููุงุช ูู ุงูุชุฌุฑูุฏ ูุงุณุชููุงู ููุงุนุฏ ุงูุจูุงูุงุช ุ ููุง ุฅูู ุฐูู. .).  ูุงู ูุดุฑูุนู ุงููุจูุฑ ุงูุฐู ูุงู ูุนูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฐูู ุงูููุช ูุฑูุฒ ุจุงููุงูู ุนูู ุงูููููุงุช ุงููุฑุฆูุฉ ููุนุงุฒุฑ ูุทุฑููุฉ ุงูุนูู ูุน ููุงุนุฏ ุงูุจูุงูุงุช ุงูุชู ุชููุฑูุง ุงูุจูุฆุฉ ุงูุจุตุฑูุฉ ุ ููุชูุฌุฉ ูุฐูู ุ ุฃุทูุงู ูู ุงูููุฏ ููุณู: ุซูุงุซุฉ ุฌุฏุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง ูุน ููุณ ุงูุจููุฉ ูุงูุจูุงูุงุช ุงููุชุฌุงูุณุฉ ุชูุฑูุจูุง ุ ุซูุงุซุฉ ุฃุดูุงู ูุชุทุงุจูุฉ ููุนุฑุถ ุ ูุซูุงุซุฉ ุฃุดูุงู ููุงุซูุฉ ููุชุญุฑูุฑ ุ ูุซูุงุซุฉ ุฃุดูุงู ูุชุทุงุจูุฉ ููุชูุงุฑูุฑ ุ ููู ุดูุก ุขุฎุฑ ูู ุงูุฌุฒุก ุงูุนููู ูู ุงูุนููุงู "ููู ูุง ูุชู ุชุตููู ุงูุจุฑุงูุฌ". <br><br>  ุจุนุฏ ูุฑุงุกุฉ ูุง ูููู ูู ุงููุชุงุจุงุช ุญูู ูุจุงุฏุฆ ุงูุชุตููู ุงูุตุญูุญ ูููุงุนุฏ ุงูุจูุงูุงุช ูุฃูุธูุฉ ุงููุนูููุงุช ุ ุจูุง ูู ุฐูู ุฏุฑุงุณุฉ ุงูููุงูุจ ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชุนุฑู ุนูู ุฅุทุงุฑ ุนูู ุงูููุงู ุ ูุฑุฑุช ุฃู ุฃููู ุจุนูููุฉ ุฅุนุงุฏุฉ ููููุฉ ูุงููุฉ ููู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุณูุง ูุชุทุจููู.  ูุฅุฐุง ุชุนุงููุช ูุน ุงููููุฉ ุงูุฃููู ุชูุงููุง ุ ูุนูุฏ ุชูููุฐ ุงููููุฉ ุงูุซุงููุฉ ุ ูุงู ููุงู ุทุฑููุงู ูุณูุฑุงู ูู ุงุชุฌุงููู ูุฎุชูููู: ุฅูุง ุงูุฐูุงุจ ุชูุงููุง ุฅูู ุงูุฏุฑุงุณุฉ .net ู C # ู Entity Framework ุ ุฃู ุงูุนุซูุฑ ุนูู ORM ุงูููุงุณุจ ููุธุงู Lazarus ุงููุฃููู.  ูุงู ููุงู ุฃูุถูุง ูุณุงุฑ ุซุงูุซ ุบูุฑ ูุงุถุญ ููุฏุฑุงุฌุงุช - ููุชุงุจุฉ ORM ูููุงุณุจ ุงุญุชูุงุฌุงุชู ุจููุณู ุ ููู ูุฐุง ููุณ ูู ุงููุฏู ุงูุขู. <br><br>  ูู ูุชู ุงูุชุนููู ุนูู ุงูููุฏ ุงููุตุฏุฑู ููุฅุทุงุฑ ุ ููู ุงููุทูุฑูู ุฃุนุฏูุง (ุนูู ูุง ูุจุฏู ูู ุงููุชุฑุฉ ุงูุฃูููุฉ ููุชุทููุฑ) ูุฏุฑุง ูุนููุง ูู ุงููุซุงุฆู.  ูู ูุฐุง ุ ุจุทุจูุนุฉ ุงูุญุงู ุ ูุชุญุฏุซ ุงูุฅูุฌููุฒูุฉ ุ ูุชูุธูุฑ ุงูุชุฌุฑุจุฉ ุฃูู ุนูู ุงูุฑุบู ูู ููุฑุฉ ุงูููุฏ ูุงูุฑุณูู ุงูุจูุงููุฉ ูุนุจุงุฑุงุช ุจุฑูุฌุฉ ุงูููุงูุจ ุ ูุฅู ุงูุนุฏูุฏ ูู ุงููุจุฑูุฌูู ุงููุงุทููู ุจุงูุฑูุณูุฉ ูุง ูุฒุงููู ูุชูุฌููู ุจุดูู ุณูุก ูู ูุซุงุฆู ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ.  ููุณ ุฏุงุฆููุง ูููุณ ูุฏู ุงูุฌููุน ุฑุบุจุฉ ูู ุชุฏุฑูุจ ุงููุฏุฑุฉ ุนูู ููู ุงููุต ุงูุชููู ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฃู ูุชุฑุฌูู ุงูุนูู ุฅูู ุงููุบุฉ ุงูุฑูุณูุฉ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅู ุงูุชุฏููู ุงููุบูู ุงููุชูุฑุฑ ูููุต ููุชุฑุฌูุฉ ูุชูุญ ูู ุฑุคูุฉ ูุง ูุงุชูู ุนูุฏูุง ุงูุชููุช ุจุงููุซุงุฆู ูุฃูู ูุฑุฉ ุ ููู ุฃููููุง ุชูุงููุง ุฃู ุบูุฑ ุตุญูุญ.  ููุฐุง ูู ุ ููุฐุง ูู ูููุณู ูุฑุตุฉ ูุชุนูู ุฃูุถู ุฅุทุงุฑ ููุฏ ุงูุฏุฑุงุณุฉ. <br><br>  2. ูู ุงููุซุงุฆู ุ ูุชุฎุทู ุงููุคูู ุนูุฏุงู ุฃู ูุง ููุตุฏ ุจุนุถ ุงูููุฏ ุ ุฑุจูุง ูููู ูุงุถุญุงู ูู ุฑุฃูู.  ูุธุฑูุง ูุชูููุฏ ูุชุงุจุชูุง ุ ุชุณุชุฎุฏู ุงููุซุงุฆู ุขููุงุช ููุงุฆูุงุช ุนูุง ุนูููุง ุงูุฒูู ูุฃูุซูุฉ ุ ุชู ุญุฐููุง ุฃู ูู ุชุนุฏ ุชุณุชุฎุฏู ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฌุฏูุฏุฉ ูู ุงูุฅุทุงุฑ (ููู ูู ุฃูู ุฃููุง ุงุณุชูุฑุช ูู ุงูุชุทูุฑุ).  ุฃูุถูุง ุ ุนูุฏูุง ูุฑุฑุช ุงูุฃูุซูุฉ ุงููุทูุฑุฉ ุจููุณู ุ ูุฌุฏุช ุจุนุถ ุงูุฃุฎุทุงุก ุงูุชู ูุฌุจ ุฅุตูุงุญูุง.  ูุฐูู ุ ูู ุงูุฃูุงูู ุณูุญุช ูููุณู ููุณ ููุท ุจุชุฑุฌูุฉ ุงููุต ุ ูููู ุฃูุถูุง ูุงุณุชููุงูู ุฃู ูุฑุงุฌุนุชู ุจุญูุซ ูุธู ุฐุง ุตูุฉ ุ ููุงูุช ุงูุฃูุซูุฉ ูุงุฌุญุฉ. <br><br>  ุฃุฑูุฏ ุฃู ุฃุจุฏุฃ ุชุฑุฌูุฉ ุงูููุงุฏ ูู ููุงู ุจูุชุฑ ููุฑููุณูู ุญูู "ุงูุญูุช" ุงูุฃูู ุงูุฐู ููู ุนููู ุงูุฅุทุงุฑ ุจุฃูููู - ูููุฐุฌ ุงูุฒุงุฆุฑ.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุต ุงูุฃุตูู ูุดุฑ ููุง</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ูุงูุจ ุงูุฒุงุฆุฑ ู tiOPF </h2><br>  ุงูุบุฑุถ ูู ูุฐู ุงูููุงูุฉ ูู ุชูุฏูู ูุงูุจ ุงูุฒุงุฆุฑ ุ ูุงูุฐู ูุนุฏ ุงุณุชุฎุฏุงูู ุฃุญุฏ ุงูููุงููู ุงูุฑุฆูุณูุฉ ูุฅุทุงุฑ tiOPF (ุฅุทุงุฑ ุนูู ุงุณุชูุฑุงุฑูุฉ ูุงุฆู TechInsite).  ุณููุธุฑ ูู ุงููุดููุฉ ุจุงูุชูุตูู ุ ุจุนุฏ ุชุญููู ุงูุญููู ุงูุจุฏููุฉ ูุจู ุงุณุชุฎุฏุงู ุงูุฒุงุฆุฑ.  ูู ุนูููุฉ ุชุทููุฑ ููููู ุงูุฒุงุฆุฑ ุงูุฎุงุต ุจูุง ุ ุณููุงุฌู ุชุญุฏููุง ุขุฎุฑ: ุงูุญุงุฌุฉ ุฅูู ุงูุชูุฑุงุฑ ูู ุฎูุงู ุฌููุน ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงููุฌููุนุฉ.  ูุณูุชู ุฃูุถุง ุฏุฑุงุณุฉ ูุฐู ุงููุณุฃูุฉ. <br><br>  ุชุชูุซู ุงููููุฉ ุงูุฑุฆูุณูุฉ ูู ุงูุชูุตู ุฅูู ุทุฑููุฉ ูุนููุฉ ูุชูููุฐ ูุฌููุนุฉ ูู ุงูุทุฑู ุฐุงุช ุงูุตูุฉ ุนูู ุจุนุถ ุงููุงุฆูุงุช ูู ุงููุฌููุนุฉ.  ูุฏ ุชุฎุชูู ุงูุทุฑู ุงูููุฌุฒุฉ ุงุนุชูุงุฏูุง ุนูู ุงูุญุงูุฉ ุงูุฏุงุฎููุฉ ูููุงุฆูุงุช.  ูุง ูููููุง ุชูููุฐ ุงูุฃุณุงููุจ ุนูู ุงูุฅุทูุงู ุ ูููู ูููููุง ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูุทุฑู ุนูู ููุณ ุงููุงุฆูุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุณุชูู ุงููุงุฒู ูู ุงูุชุฏุฑูุจ </h3><br>  ูุฌุจ ุฃู ูููู ุงููุงุฑุฆ ูุนุชุงุฏูุง ุนูู ูุงุฆู pascal ููุชูู ุงููุจุงุฏุฆ ุงูุฃุณุงุณูุฉ ููุจุฑูุฌุฉ ุงูููุฌูุฉ ูููุงุฆูุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ูููุฉ ุงูุนูู ูู ูุฐู ุงูููุงูุฉ </h3><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุณูููู ุจุชุทููุฑ ุฏูุชุฑ ุนูุงููู ูุชูุญ ูู ุฅูุดุงุก ุณุฌูุงุช ููุฃุดุฎุงุต ููุนูููุงุช ุงูุงุชุตุงู ุงูุฎุงุตุฉ ุจูู.  ูุน ุงูุฒูุงุฏุฉ ูู ุทุฑู ุงูุงุชุตุงู ุงูููููุฉ ุจูู ุงูุฃุดุฎุงุต ุ ูุฌุจ ุฃู ูุณูุญ ูู ุงูุชุทุจูู ุจูุฑููุฉ ุจุฅุถุงูุฉ ูุซู ูุฐู ุงูุฃุณุงููุจ ุฏูู ูุนุงูุฌุฉ ุฑูุฒ ูููุฉ (ุฃุชุฐูุฑ ุฃูู ุจูุฌุฑุฏ ุงูุงูุชูุงุก ูู ูุนุงูุฌุฉ ุงูุฑูุฒ ูุฅุถุงูุฉ ุฑูู ูุงุชู ุ ุงุญุชุฌุช ุนูู ุงูููุฑ ุฅูู ูุนุงูุฌุชู ูุฑุฉ ุฃุฎุฑู ูุฅุถุงูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู).  ูุญุชุงุฌ ุฅูู ุชูุฏูู ูุฆุชูู ูู ุงูุนูุงููู: ุญููููุฉ ุ ูุซู ุนููุงู ุงูููุฒู ูุงูุจุฑูุฏ ูุงูุนูู ูุงูุฅููุชุฑูููุฉ: ุงููุงุชู ุงูุซุงุจุช ูุงููุงูุณ ูุงูุฌูุงู ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงููููุน ุงูุฅููุชุฑููู. <br><br>  ุนูู ูุณุชูู ุงูุนุฑุถ ุงูุชูุฏููู ุ ูุฌุจ ุฃู ูุจุฏู ุชุทุจูููุง ูุซู Explorer / Outlook ุ ุฃู ุ ูู ุงูููุชุฑุถ ุฃู ูุณุชุฎุฏู ุงูููููุงุช ุงูููุงุณูุฉ ูุซู TreeView ู ListView.  ูุฌุจ ุฃู ูุนูู ุงูุชุทุจูู ุจุณุฑุนุฉ ููุง ูุนุทู ุงูุทุจุงุนูุง ุนู ุจุฑูุงูุฌ ุงูุฎุงุฏู ุงูุนููู ุงูุถุฎู. <br><br>  ูุฏ ูุจุฏู ุชุทุจูู ูุง ูุดุจู ูุฐุง: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18a/fa8/773/18afa8773d4df14f7c08b3e4ae5ec204.png"><br><br>  ูู ูุงุฆูุฉ ุณูุงู ุงูุดุฌุฑุฉ ุ ููููู ุงุฎุชูุงุฑ ุฅุถุงูุฉ / ุฅุฒุงูุฉ ุฌูุฉ ุงุชุตุงู ุดุฎุต ุฃู ุดุฑูุฉ ุ ูุงูููุฑ ุจุฒุฑ ุงููุงูุณ ุงูุฃููู ุนูู ูุงุฆูุฉ ุจูุงูุงุช ุฌูุฉ ุงูุงุชุตุงู ูุงุณุชุฏุนุงุก ูุฑุจุน ุญูุงุฑ ุงูุชุญุฑูุฑ ุฃู ุญุฐู ุงูุจูุงูุงุช ุฃู ุฅุถุงูุชูุง. <br><br>  ูููู ุญูุธ ุงูุจูุงูุงุช ุจุฃุดูุงู ูุฎุชููุฉ ุ ููู ุงููุณุชูุจู ุณููุธุฑ ูู ููููุฉ ุงุณุชุฎุฏุงู ูุฐุง ุงููุงูุจ ูุชูููุฐ ูุฐู ุงูููุฒุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุจู ุฃู ุชุจุฏุฃ </h3><br>  ุณูุจุฏุฃ ุจูุฌููุนุฉ ุจุณูุทุฉ ูู ุงููุงุฆูุงุช - ูุงุฆูุฉ ุจุงูุฃุดุฎุงุต ุงูุฐูู ูุฏููู ุจุฏูุฑูู ุฎุงุตูุชุงู - ุงูุงุณู (ุงูุงุณู) ูุงูุนููุงู (EmailAdrs).  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณูุชู ููุก ุงููุงุฆูุฉ ุจุงูุจูุงูุงุช ูู ุงูููุดุฆ ุ ูุจุนุฏ ุฐูู ุณูุชู ุชุญููููุง ูู ููู ุฃู ูุงุนุฏุฉ ุจูุงูุงุช.  ุจุงูุทุจุน ุ ูุฐุง ูุซุงู ูุจุณุท ููุบุงูุฉ ุ ูููู ูููู ูุชูููุฐ ูุงูุจ ุงูุฒุงุฆุฑ ุจุงููุงูู. <br><br>  ูู ุจุฅูุดุงุก ุชุทุจูู ุฌุฏูุฏ ูุฅุถุงูุฉ ูุฆุชูู ูู ูุณู ูุงุฌูุฉ ุงููุญุฏุฉ ุงูุฑุฆูุณูุฉ: TPersonList (ุงูููุฑูุซุฉ ูู TObjectList ููุชุทูุจ ูููููุง ุฅุถุงูููุง ูู ุงููุญุฏุฉ ุงูููุทูุฉ contnrs) ู TPerson (ุงูููุฑูุซุฉ ูู TObject): <br><br><pre style=";text-align:right;direction:rtl"><code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TPersonList</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObjectList)  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;  <span class="hljs-title"><span class="hljs-title">TPerson</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject)  <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>    FEMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>;    FName: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>;  <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FName <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FName;    <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> EMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FEMailAdrs <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FEMailAdrs;  <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูู ูููุดุฆ TPersonList ุ ูููู ุจุฅูุดุงุก ุซูุงุซุฉ ูุงุฆูุงุช TPerson ููุถูููุง ุฅูู ุงููุงุฆูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TPersonList</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lData: TPerson; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span>; lData := TPerson.Create; lData.<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> := <span class="hljs-string"><span class="hljs-string">'Malcolm Groves'</span></span>; lData.EMailAdrs := <span class="hljs-string"><span class="hljs-string">'malcolm@dontspamme.com'</span></span>;  <span class="hljs-comment"><span class="hljs-comment">// (ADUG Vice President) Add(lData); lData := TPerson.Create; lData.Name := 'Don MacRae';  // (ADUG President) lData.EMailAdrs := 'don@dontspamme.com'; Add(lData); lData := TPerson.Create; lData.Name := 'Peter Hinrichsen';  // (Yours truly) lData.EMailAdrs := 'peter_hinrichsen@dontspamme.com'; Add(lData); end;</span></span></code> </pre> <br>  ุฃููุงู ุ ุณูุชุทุฑู ุฅูู ุงููุงุฆูุฉ ููููุฐ ุนูููุชูู ูู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ุงููุงุฆูุฉ.  ุงูุนูููุงุช ูุชุดุงุจูุฉ ุ ูููููุง ููุณุช ูุชุดุงุจูุฉ: ุงุณุชุฏุนุงุก ShowMessage ุจุณูุท ูุนุฑุถ ูุญุชููุงุช ุฎุตุงุฆุต ุงูุงุณู ู EmailAdrs ููุงุฆูุงุช TPerson.  ุฃุถู ุฒุฑูู ุฅูู ุงููููุฐุฌ ูุงุณููููุง ุดูุฆูุง ูุซู ูุฐุง: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/201/819/5ce/2018195cee6acbb2348e3ceb78abeaea.png"><br><br>  ูู ุงููุทุงู ุงูููุถู ููููุฐุฌู ุ ูุฌุจ ุนููู ุฃูุถูุง ุฅุถุงูุฉ ุฎุงุตูุฉ (ุฃู ูุฌุฑุฏ ุญูู) FPersonList ูู ุงูููุน TPersonList (ุฅุฐุง ุชู ุงูุฅุนูุงู ุนู ุงูููุน ุฃุณูู ุงููููุฐุฌ ุ ุฅูุง ุชุบููุฑ ุงูุชุฑุชูุจ ุฃู ุฅุตุฏุงุฑ ุฅุนูุงู ููุน ุฃููู) ุ ูุงุชุตู ุจุงูููุดุฆ ูู ูุนุงูุฌ ุงูุฃุญุฏุงุซ onCreate: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">FPersonList := TPersonList.Create;</code> </pre> <br>  ูุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุจุดูู ุตุญูุญ ูู ูุนุงูุฌ ุฃุญุฏุงุซ onClose ูููููุฐุฌ ุ ูุฌุจ ุฅุชูุงู ูุฐุง ุงููุงุฆู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">FPersonList.Free.</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 1. ุงูุชูุฑุงุฑ ุงูุซุงุจุช </h3><br>  ูุฅุธูุงุฑ ุฃุณูุงุก ูู ูุงุฆูุงุช TPerson ุ ุฃุถู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุฅูู ูุนุงูุฌ ุฃุญุฏุงุซ onClick ููุฒุฑ ุงูุฃูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button1Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FPersonList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   ShowMessage(TPerson(FPersonList.Items[i]).<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุจุงููุณุจุฉ ููุฒุฑ ุงูุซุงูู ุ ุณูููู ุฑูุฒ ุงููุนุงูุฌ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button2Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FPersonList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   ShowMessage(TPerson(FPersonList.Items[i]).EMailAdrs); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูููุง ููู ุงูููุงู ุงูุถุญูุฉ ููุฐุง ุงูุฑูุฒ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุทุฑููุชูู ุงูุชู ุชูุนู ุงูุดูุก ููุณู ุชูุฑูุจุง.  ูู ุงูุงุฎุชูุงู ูู ููุท ูู ุงุณู ุฎุงุตูุฉ ุงููุงุฆู ุงูุฐู ุชุธูุฑู ุ <br></li><li style=";text-align:right;direction:rtl">  ุณูููู ุงูุชูุฑุงุฑ ูููุงู ุ ุฎุงุตุฉู ุนูุฏูุง ุชุถุทุฑ ุฅูู ูุชุงุจุฉ ุญููุฉ ููุงุซูุฉ ูู ูุงุฆุฉ ููุงู ูู ุงูููุฏ ุ <br></li><li style=";text-align:right;direction:rtl">  ูููู ุงูุตุนุจ ูู TPerson ูุญูููุฉ ููุงูู ุงุณุชุซูุงุฆูุฉ.  ูุงุฐุง ูู ูุงู ููุงู ูุซูู ูู TAnimal ูู ุงููุงุฆูุฉ ุจุฏูู ุฎุงุตูุฉ ุนููุงูุ  ูุง ุชูุฌุฏ ุขููุฉ ูุฅููุงู ุงูุฎุทุฃ ูุงูุฏูุงุน ุถุฏู ูู ูุฐุง ุงูุฑูุฒ. <br></li></ul><br>  ุฏุนูุง ูุชุนุฑู ุนูู ููููุฉ ุชุญุณูู ุงูููุฏ ุนู ุทุฑูู ุฅุฏุฎุงู ุงูุชุฌุฑูุฏ: ูููู ุจุชูุฑูุฑ ููุฏ ุงูุชูุฑุงุฑ ุฅูู ุงููุตู ุงูุฃุตู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 2. ุฎูุงุตุฉ ุงูุชูุฑุงุฑ </h3><br>  ูุฐูู ุ ูุฑูุฏ ููู ููุทู ุงูุชูุฑุงุฑ ุฅูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ.  ูุงุฆูุฉ ุงูุชูุฑุงุฑ ููุณูุง ุจุณูุทุฉ ููุบุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-comment"><span class="hljs-comment">// -    โฆ</span></span></code> </pre> <br>  ูุจุฏู ุฃููุง ูุฎุทุท ูุงุณุชุฎุฏุงู ูุงูุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Iterator</a> .  ูู ุงููุชุงุจ ุงูููุฌูุฏ ูู ูุชุงุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃููุงุท ุชุตููู Gang-of-Four</a> ุ ูู ุงููุนุฑูู ุฃู Iterator ูููู ุฃู ูููู ุฎุงุฑุฌููุง ูุฏุงุฎูููุง.  ุนูุฏ ุงุณุชุฎุฏุงู ููุฑุฑ ุฎุงุฑุฌู ุ ูุชุญูู ุงูุนููู ุจุดูู ุตุฑูุญ ูู ุงูุงุฌุชูุงุฒ ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุทุฑููุฉ ุงูุชุงููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุงูุชุญูู ูู ุชุนุฏุงุฏ ุนูุงุตุฑ TCollection ุจูุงุณุทุฉ ุงูุฃุณุงููุจ ุงูุฃููู ุ ุงูุชุงููุฉ ุ ุงูุฃุฎูุฑุฉ).  ุณูุณุชุฎุฏู ุงูููุฑุฑ ุงูุฏุงุฎูู ููุง ุ ูุฃูู ูู ุงูุฃุณูู ุชุทุจูู ุงุฌุชูุงุฒ ุงูุฃุดุฌุงุฑ ุจูุณุงุนุฏุชู ุ ููู ูุฏููุง.  ุณูุถูู ุทุฑููุฉ Iterate ุฅูู ูุฆุฉ ูุงุฆูุชูุง ูุณููุฑุฑ ุทุฑููุฉ ุฑุฏ ุงูุงุชุตุงู ุจูุง ุ ูุงูุชู ูุฌุจ ุฅุฌุฑุงุคูุง ุนูู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ุงููุงุฆูุฉ.  ูุชู ุงูุฅุนูุงู ุนู ุฑุฏ ุงูุงุชุตุงู ูู ูุงุฆู pascal ูููุน ุฅุฌุฑุงุฆู ุ ุณูููู ูุฏููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ TDoSomethingToAPerson. <br><br>  ูุฐูู ุ ูุนูู ุนู ููุน ุฅุฌุฑุงุฆู TDoSomethingToAPerson ุ ูุงูุฐู ูุฃุฎุฐ ูุนููุฉ ูุงุญุฏุฉ ูู ุงูููุน TPerson.  ูุชูุญ ูู ุงูููุน ุงูุฅุฌุฑุงุฆู ุงุณุชุฎุฏุงู ุงูุทุฑููุฉ ููุนููุฉ ูุทุฑููุฉ ุฃุฎุฑู ุ ุฃู ุชุทุจูู ุฑุฏ ุงูุงุชุตุงู.  ุจูุฐู ุงูุทุฑููุฉ ุ ุณูููู ุจุฅูุดุงุก ุทุฑููุชูู ุ ูุงุญุฏุฉ ูููุง ุณุชุธูุฑ ุฎุงุตูุฉ ุงุณู ุงููุงุฆู ุ ูุงูุขุฎุฑ - ุฎุงุตูุฉ EmailAdrs ุ ูุณูุชู ุชูุฑูุฑูุง ูู ููุณูุง ููุนููุฉ ุฅูู ุงูุชูุฑุงุฑ ุงูุนุงู.  ุฃุฎูุฑูุง ุ ูุฌุจ ุฃู ูููู ูุณู ุฅุนูุงู ุงูููุน ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-comment"><span class="hljs-comment">{ TPerson }</span></span> <span class="hljs-title"><span class="hljs-title">TPerson</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FEMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>;   FName: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FName <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FName;   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> EMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FEMailAdrs <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FEMailAdrs; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; TDoSomethingToAPerson = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">of</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-comment"><span class="hljs-comment">{ TPersonList }</span></span> <span class="hljs-title"><span class="hljs-title">TPersonList</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObjectList) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function">   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pMethod: TDoSomethingToAPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;   DoSomething: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TPersonList</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoSomething</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pMethod: TDoSomethingToAPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   pMethod(TPerson(Items[i])); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุงูุขู ุ ูุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ุนูู ุนูุงุตุฑ ุงููุงุฆูุฉ ุ ูุญุชุงุฌ ุฅูู ุงูููุงู ุจุฃูุฑูู.  ุฃููุงู ุ ูู ุจุชุญุฏูุฏ ุงูุนูููุงุช ุงููุงุฒูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃุณุงููุจ ุงูุชู ุชุญุชูู ุนูู ุงูุชูููุน ุงููุญุฏุฏ ุจูุงุณุทุฉ TDoSomethingToAPerson ุ ูุซุงููุงู ุ ูู ุจุงุณุชุฏุนุงุก ููุงููุงุช DoSomething ูุน ุงููุคุดุฑุงุช ุงูุชู ุชู ุชูุฑูุฑูุง ุฅูู ูุฐู ุงูุทุฑู ููุนููุฉ.  ูู ูุณู ูุตู ุงููููุฐุฌ ุ ุฃุถู ุฅุนูุงููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FPersonList: TPersonList;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoShowName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoShowEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br>  ูู ุชูููุฐ ูุฐู ุงูุฃุณุงููุจ ุ ูุดูุฑ ุฅูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoShowName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ShowMessage(pData.<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoShowEmail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> ShowMessage(pData.EMailAdrs); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูุชู ุชุบููุฑ ุฑูุฒ ูุนุงูุฌุงุช ุงูุฃุฒุฑุงุฑ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button1Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> FPersonList.DoSomething(@DoShowName); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button2Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> FPersonList.DoSomething(@DoShowEmail); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุจุงููุนู ุฃูุถู.  ูุฏููุง ุงูุขู ุซูุงุซุฉ ูุณุชููุงุช ูู ุงูุชุฌุฑูุฏ ูู ุงูููุฏ.  ุงูุชูุฑุงุฑ ุงูุนุงู ูู ุทุฑููุฉ ููุฆุฉ ุชููุฐ ูุฌููุนุฉ ูู ุงููุงุฆูุงุช.  ูุชู ูุถุน ููุทู ุงูุฃุนูุงู (ุญุชู ุงูุขู ูุฌุฑุฏ ุฅุฎุฑุงุฌ ุฑุณุงูุฉ ูุง ุชูุชูู ูู ุฎูุงู ShowMessage) ุจุดูู ูููุตู.  ูู ูุณุชูู ุงูุนุฑุถ ุงูุชูุฏููู (ุงููุงุฌูุฉ ุงูุฑุณูููุฉ) ุ ูุชู ุงุณุชุฏุนุงุก ููุทู ุงูุนูู ูู ุณุทุฑ ูุงุญุฏ. <br><br>  ูู ุงูุณูู ุฃู ูุชุฎูู ููู ูููู ุงุณุชุจุฏุงู ููุงููุฉ ShowMessage ุจุฑูุฒ ูุญูุธ ุจูุงูุงุชูุง ูู TPerson ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ุจุงุณุชุฎุฏุงู ุงุณุชุนูุงู SQL ูููุงุฆู TQuery.  ุนูู ุณุจูู ุงููุซุงู ุ ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SavePerson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lQuery: TQuery; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> lQuery := TQuery.Create(<span class="hljs-keyword"><span class="hljs-keyword">nil</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>   lQuery.SQL.Text := <span class="hljs-string"><span class="hljs-string">'insert into people values (:Name, :EMailAdrs)'</span></span>;   lQuery.ParamByName(<span class="hljs-string"><span class="hljs-string">'Name'</span></span>).AsString := pData.<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>;   lQuery.ParamByName(<span class="hljs-string"><span class="hljs-string">'EMailAdrs'</span></span>).AsString := pData.EMailAdrs;   lQuery.Datababase := gAppDatabase;   lQuery.ExecSQL; <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>   lQuery.Free; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุจุงูููุงุณุจุฉ ุ ููุฏู ูุฐุง ูุดููุฉ ุฌุฏูุฏุฉ ูู ุงูุญูุงุธ ุนูู ุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูู ุทูุจูุง ุ ูุชู ุฅุฌุฑุงุก ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฎูุงู ุจุนุถ ูุงุฆูุงุช gAppDatabase ุงูุนุงูููุฉ.  ูููู ุฃูู ุณูููู ูููุนูุง ูููู ุชุนููุ  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุญู ูุนุฐูุจ ูู ูู ุฎุทูุฉ ูู ุฎุทูุงุช ุงูุชูุฑุงุฑ ูุฅูุดุงุก ูุงุฆูุงุช TQuery ุ ูุชูููู ุงูุงุชุตุงู ุ ูุชูููุฐ ุงูุงุณุชุนูุงู ุ ููุง ุชูุณ ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ.  ุณูููู ูู ุงูุฃูุถู ุงูุชูุงู ูุฐุง ุงูุฑูุฒ ูู ูุตู ุฏุฑุงุณู ูุชุถูู ุบูุงููุง ูุฅูุดุงุก ุงุณุชุนูุงูุงุช SQL ูุชูููุฐูุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฅุนุฏุงุฏ ุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุญุงูุธุฉ ุนููู. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 3. ุชูุฑูุฑ ูุงุฆู ุจุฏูุงู ูู ุชูุฑูุฑ ูุคุดุฑ ุฅูู ุฑุฏ ุงุชุตุงู </h3><br>  ุชูุฑูุฑ ุงููุงุฆู ุฅูู ุฃุณููุจ ุงูุชูุฑุงุฑ ูููุฆุฉ ุงูุฃุณุงุณูุฉ ุณูุคุฏู ุฅูู ุญู ูุดููุฉ ุตูุงูุฉ ุงูุญุงูุฉ.  ุณูููู ุจุฅูุดุงุก ูุฆุฉ ุงูุฒูุงุฑ ุงูุชุฌุฑูุฏูุฉ TPersonVisitor ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุชูููุฐ ูุงุญุฏุฉ ูููุฑุฑ ุงููุงุฆู ุฅูู ูุฐู ุงูุทุฑููุฉ ููุนููุฉ.  ููุฑุฏ ูุงุฌูุฉ ุงูุฒูุงุฑ ูุฌุฑุฏุฉ ุฃุฏูุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">  <span class="hljs-title"><span class="hljs-title">TPersonVisitor</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pPerson: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ุฃุถู ุฃุณููุจ Iterate ุฅูู ุตู TPersonList ูุฏููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TPersonList</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObjectList) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TPersonVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุณูุชู ุชูููุฐ ูุฐู ุงูุทุฑููุฉ ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TPersonList</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TPersonVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   pVisitor.Execute(TPerson(Items[i])); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูุชู ุชูุฑูุฑ ูุงุฆู ูู ุงูุฒุงุฆุฑ ุงูุฐู ุชู ุชุทุจููู ูู ูุฆุฉ TPersonVisitor ุฅูู ุทุฑููุฉ Iterate ุ ูุนูุฏ ุงูุชูุฑุงุฑ ุนุจุฑ ุนูุงุตุฑ ุงููุงุฆูุฉ ููู ูููู ุ ูุชู ุงุณุชุฏุนุงุก ุงูุฒุงุฆุฑ ุงููุญุฏุฏ (ุฃุณููุจ ุงูุชูููุฐ) ุงูุฎุงุต ุจู ูุน ูุซูู TPerson ููุนููุฉ. <br><br>  ุฏุนูุง ููุดุฆ ุชุทุจูููู ููุฒุงุฆุฑ - TShowNameVisitor ู TShowEmailVistor ุ ุงููุฐูู ุณูููุฐุงู ุงูุนูู ุงููุทููุจ.  ูููุง ููู ููููุฉ ุชุฌุฏูุฏ ูุณู ูุงุฌูุงุช ุงููุญุฏุฉ ุงูููุทูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-comment"><span class="hljs-comment">{ TShowNameVisitor }</span></span> <span class="hljs-title"><span class="hljs-title">TShowNameVisitor</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TPersonVisitor) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pPerson: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-comment"><span class="hljs-comment">{ TShowEmailVisitor }</span></span> <span class="hljs-title"><span class="hljs-title">TShowEmailVisitor</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TPersonVisitor) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pPerson: TPerson)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูู ุฃุฌู ุงูุจุณุงุทุฉ ุ ุณูุธู ุชูููุฐ ุฃุณุงููุจ ุงูุชูููุฐ ุนูููุง ุนุจุงุฑุฉ ุนู ุณุทุฑ ูุงุญุฏ - ShowMessage (pPerson.Name) ู ShowMessage (pPerson.EMailAdrs). <br><br>  ููู ุจุชุบููุฑ ุงูููุฏ ุงูุฎุงุต ุจููุฑุฉ ุฒุฑ ุงููุนุงูุฌุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button1Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lVis: TPersonVisitor; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> lVis := TShowNameVisitor.Create; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>   FPersonList.Iterate(lVis); <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>   lVis.Free; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Button2Click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lVis: TPersonVisitor; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> lVis := TShowEmailVisitor.Create; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>   FPersonList.Iterate(lVis); <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>   lVis.Free; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุงูุขู ุ ูุจุนุฏ ุญู ูุดููุฉ ูุงุญุฏุฉ ุ ุฃูุดุฃูุง ูุดููุฉ ุฃุฎุฑู ูุฃููุณูุง.  ูุชู ุชุถููู ููุทู ุงูุชูุฑุงุฑ ูู ูุตู ูููุตู ุ  ูุชู ุงูุชูุงู ุงูุนูููุงุช ุงููููุฐุฉ ุฃุซูุงุก ุงูุชูุฑุงุฑ ูู ูุงุฆูุงุช ุ ููุง ูุณูุญ ููุง ุจุญูุธ ุจุนุถ ุงููุนูููุงุช ุนู ุงูุญุงูุฉ ุ ูููู ุญุฌู ุงูุฑูุฒ ุฒุงุฏ ูู ุณุทุฑ ูุงุญุฏ (FPersonList.DoSomething (DoShowName) ุ ุฅูู ุชุณุนุฉ ุฃุณุทุฑ ููู ูุนุงูุฌ ุฒุฑ. ุงูุขู ุณูู ูุณุงุนุฏูุง - ูุฐุง ูู ูุฏูุฑ ุงูุฒูุงุฑ ุ ุงูุฐู ุณูุชููู ุฅูุดุงุก ูุณุฎูู ูุชุญุฑูุฑูุง. ูู ุงููุญุชูู ุ ูููููุง ุชูููุฑ ุงูุนุฏูุฏ ูู ุงูุนูููุงุช ูุน ุงููุงุฆูุงุช ุงูุชู ูุชุนูู ุงูููุงู ุจูุง ุฃุซูุงุก ุงูุชูุฑุงุฑ ุ ููุฐุง ุณูููู ูุฏูุฑ ุงูุฒูุงุฑ ุจุชุฎุฒูู ูุงุฆูุชูู ูุชุตูุญูุง ูู ูู ุฎุทูุฉ ุ  . Olnyaya ููุท ุนูููุงุช ุงุฎุชูุงุฑ ุงูุชุงูู ุณูู ุชุธูุฑ ุจูุถูุญ ุงูููุงุฆุฏ ูู ูุฐุง ุงูููุฌุ ูุณูู ูุณุชุฎุฏู ุฒูุงุฑ ูุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ููุง ูููู ุฃู ูุญูู ุจูุงูุงุช ุจุณูุทุฉ ุฅููุงุฐ ุงูุนูููุฉ ูู ูุจู ุซูุงุซ ุดุฑูุงุช ูุฎุชููุฉ SQL: ุฎููุ ูุญุฐู ูUPDATE. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 4. ูุฒูุฏ ูู ุงูุชุบููู ููุฒุงุฆุฑ </h3><br>  ูุจู ุงูุงูุชูุงู ุ ูุฌุจ ุนูููุง ุชุบููู ููุทู ุนูู ุงูุฒุงุฆุฑ ุ ูุน ูุตูู ุนู ููุทู ุงูุนูู ุงูุฎุงุต ุจุงูุชุทุจูู ุญุชู ูุง ูุนูุฏ ุฅููู.  ุณูู ูุณุชุบุฑู ุงูุฃูุฑ ููุง ุซูุงุซ ุฎุทูุงุช ููููุงู ุจุฐูู: ุฅูุดุงุก ูุฆุงุช ุฃุณุงุณูุฉ TVisited ู TVisitor ุ ุซู ุงูุทุจูุงุช ุงูุฃุณุงุณูุฉ ููุงุฆู ุงูุฃุนูุงู ููุฌููุนุฉ ูู ูุงุฆูุงุช ุงูุฃุนูุงู ุ ุซู ุถุจุท ูุฆุงุชูุง ุงูุฎุงุตุฉ TPerson ู TPersonList (ุฃู TPeople) ููููุงู ุญุชู ูุตุจุญูุง ูุฑูุซูู ูููุงุนุฏุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุงูุทุจูุงุช.  ุจุนุจุงุฑุงุช ุนุงูุฉ ุ ุณูู ุชุชูุงูู ุจููุฉ ุงููุฆุงุช ูุน ูุฐุง ุงููุฎุทุท: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8bb/f5e/b62/8bbf5eb6201de628050d085c061fe800.png"><br><br>  ูููู ูุงุฆู TVisitor ุจุชูููุฐ ุทุฑููุชูู: ูุธููุฉ AcceptVisitor ูุฅุฌุฑุงุก Execute ุ ุญูุซ ูุชู ุชูุฑูุฑ ูุงุฆู ุงููุชุงุจุฉ TVisited.  ุงููุงุฆู TVisited ุ ุจุฏูุฑู ุ ูููุฐ ุทุฑููุฉ Iterate ูุน ูุนููุฉ ูู ุงูููุน TVisitor.  ุจูุนูู ุ TVisited.Iterate ูุฌุจ ุงุณุชุฏุนุงุก ุงูุฃุณููุจ Execute ุนูู ูุงุฆู TVisitor ุงูููููู ุ ูุฅุฑุณุงู ุฑุงุจุท ุฅูู ุงููุซูู ุงูุฎุงุต ุจู ููุนููุฉ ุ ูุฅุฐุง ูุงู ุงููุซูู ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ุ ูุณูุชู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ Execute ููู ุนูุตุฑ ูู ุงููุฌููุนุฉ.  ุชุนุชุจุฑ ูุธููุฉ AcceptVisitor ุถุฑูุฑูุฉ ูุฃููุง ูุนูู ุนูู ุชุทููุฑ ูุธุงู ูุนูู.  ุณูููู ูู ุงููููู ุงูุงูุชูุงู ุฅูู ุงูุฒุงุฆุฑ ุ ุงูุฐู ูุนูู ููุท ูุน ุฃููุงุน TPerson ุ ููุซุงู ููุฆุฉ TDog ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฌุจ ุฃู ุชููู ููุงู ุขููุฉ ูููุน ุงูุงุณุชุซูุงุกุงุช ูุงููุตูู ุฅูู ุงูุฃุฎุทุงุก ุจุณุจุจ ุนุฏู ุชุทุงุจู ุงููุชุงุจุฉ.  ุงููุฆุฉ TVisited ูู ุณููู ูุฆุฉ TPersistent ุ ุญูุซ ุฃููุง ุณูุญุชุงุฌ ูู ููุช ูุงุญู ุฅูู ุชูููุฐ ุงููุธุงุฆู ุงููุชุนููุฉ ุจุงุณุชุฎุฏุงู RTTI. <br><br>  ุณูููู ุฌุฒุก ูุงุฌูุฉ ุงููุญุฏุฉ ุงูููุทูุฉ ุงูุขู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">TVisited = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>; <span class="hljs-comment"><span class="hljs-comment">{ TVisitor }</span></span> <span class="hljs-title"><span class="hljs-title">TVisitor</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject) <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptVisitor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">:</span></span> boolean; <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-comment"><span class="hljs-comment">{ TVisited }</span></span> <span class="hljs-title"><span class="hljs-title">TVisited</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TPersistent) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุณูุชู ุชูููุฐ ุทุฑู ุงููุตู ุงูุชุฌุฑูุฏู TVisitor ูู ูุจู ุงููุฑุซุฉ ุ ูููุง ููู ุงูุชูููุฐ ุงูุนุงู ูุทุฑููุฉ Iterate ูู TVisited: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisited</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> pVisitor.Execute(self); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูู ุงูููุช ููุณู ุ ูุชู ุงูุฅุนูุงู ุนู ุงูุทุฑููุฉ ุงูุงูุชุฑุงุถูุฉ ูุฅููุงููุฉ ุชุฌุงูุฒูุง ูู ุงููุฑุซุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 5. ุฅูุดุงุก ูุงุฆู ุงูุฃุนูุงู ุงููุดุชุฑูุฉ ูุฌูุน </h3><br>  ูุญุชุงุฌ ุฅุทุงุฑูุง ุฅูู ูุฆุชูู ุฃุณุงุณูุชูู ุฃุฎุฑููู: ูุชุญุฏูุฏ ุนูุตุฑ ุฃุนูุงู ููุฌููุนุฉ ูู ูุฐู ุงููุงุฆูุงุช.  ูุฏุนู ููู TtiObject ู TtiObjectList.  ูุงุฌูุฉ ุงูุฃูู ูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TtiObject</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TVisited) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูู ููุช ูุงุญู ูู ุนูููุฉ ุงูุชุทููุฑ ุ ุณูููู ุจุชุนููุฏ ูุฐู ุงููุฆุฉ ุ ูููู ุจุงููุณุจุฉ ูููููุฉ ุงูุญุงููุฉ ุ ูุง ูููู ุณูู ููุดุฆ ุงูุชุฑุงุถู ูุงุญุฏ ูุน ุฅููุงููุฉ ุชุฌุงูุฒู ูู ุงููุฑุซุฉ. <br><br>  ูุญู ูุฎุทุท ูุฅูุดุงุก ูุฆุฉ TtiObjectList ูู TVisited ูู ุฃุฌู ุงุณุชุฎุฏุงู ุงูุณููู ูู ุงูุฃุณุงููุจ ุงูุชู ุชู ุชูููุฐูุง ุจุงููุนู ูู ูุจู ุณูู (ููุงู ุฃูุถูุง ุฃุณุจุงุจ ุฃุฎุฑู ููุฐุง ุงูููุฑุงุซ ุงูุชู ุณูุชู ููุงูุดุชูุง ูู ููุงููุง).  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ุดูุก ูููุน ุงุณุชุฎุฏุงู <abbr title="ุงููุคูู ูู ุชููุฐ ุงูุฌุฒุก ูุน ูุงุฌูุงุช ูู ุงูุฏููู ุ ู ููุชุจุช ุงูููุงูุฉ ูู ุงูุชุณุนูููุงุช ุ ููู ูุตู ุฅูููุง ุจุนุฏ ุงุณุชุฎุฏุงููุง ูู freepascal.">ูุงุฌูุงุช</abbr> (ูุงุฌูุงุช) ุจุฏูุงู ูู ูุฆุงุช ูุฌุฑุฏุฉ. <br><br>  ุณูููู ุฌุฒุก ุงููุงุฌูุฉ ูู ูุฆุฉ TtiObjectList ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TtiObjectList</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TtiObject) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FList: TObjectList; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">destructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Destroy</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Clear</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pData: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ููุง ุชุฑูู ุ ุงูุญุงููุฉ ููุณูุง ูุน ุนูุงุตุฑ ุงููุงุฆู ููุฌูุฏุฉ ูู ุงููุณู ุงููุญูู ููู ุชููู ูุชุงุญุฉ ููุนููุงุก ูู ูุฐู ุงููุฆุฉ.  ุงูุฌุฒุก ุงูุฃูุซุฑ ุฃูููุฉ ูู ุงููุตู ูู ุชุทุจูู ุฃุณููุจ Iterate ุงููุชุฌุงูุฒ.  ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุชุณูู ุจุจุณุงุทุฉ pVisitor.Execute (self) ุ ูุงูุชุทุจูู ููุง ูุฑุชุจุท ุจุชุนุฏุงุฏ ุงููุงุฆูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TtiObjectList</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisitor: TVisitor)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Iterate(pVisitor); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   (FList.Items[i] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> TVisited).Iterate(pVisitor); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูุฃุฎุฐ ุชูููุฐ ุฃุณุงููุจ ุงููุตู ุงูุฃุฎุฑู ุณุทุฑูุง ูุงุญุฏูุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุฏูู ูุฑุงุนุงุฉ ุงูุชุนุจูุฑุงุช ุงูููุฑูุซุฉ ุงูุชู ูุชู ูุถุนูุง ุชููุงุฆููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">Create: FList := TObjectList.Create; Destroy: FList.Free; Clear: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Assigned(FList) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> FList.Clear; Add: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Assigned(FList) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> FList.Add(pData);</code> </pre> <br>  ูุฐุง ุฌุฒุก ููู ูู ุงููุธุงู ุจุฃูููู.  ูุฏููุง ูุฆุชุงู ุฃุณุงุณูุชุงู ูู ููุทู ุงูุฃุนูุงู: TtiObject ู TtiObjectList.  ููุงููุง ูู ุทุฑููุฉ Iterate ุงูุชู ูุชู ูููุง ุชูุฑูุฑ ูุซูู ูููุฆุฉ TVisited.  ูุณุชุฏุนู ุงูุชูุฑุงุฑ ููุณู ุทุฑููุฉ ุงูุชูููุฐ ููุฆุฉ TVisitor ูููุฑุฑูุง ูุฑุฌุนูุง ูููุงุฆู ููุณู.  ุชู ุชุญุฏูุฏ ูุฐู ุงูุฏุนูุฉ ูุณุจููุง ูู ุณููู ุงููุฆุฉ ูู ุงููุณุชูู ุงูุฃุนูู ูู ุงูููุฑุงุซ.  ุจุงููุณุจุฉ ููุฆุฉ ุงูุญุงููุฉ ุ ูููู ููู ูุงุฆู ูุฎุฒูู ูู ุงููุงุฆูุฉ ุทุฑููุฉ Iterate ุงูุฎุงุตุฉ ุจู ุ ูุงูุชู ุชุณูู ุจูุนููุฉ type TVisitor ุ ุฃู ุฃูู ูุถูู ุฃู ูู ุฒุงุฆุฑ ูุญุฏุฏ ุณูุชุฌุงูุฒ ูู ุงููุงุฆูุงุช ุงููุฎุฒูุฉ ูู ุงููุงุฆูุฉ ุ ููุฐูู ุงููุงุฆูุฉ ููุณูุง ููุงุฆู ุญุงููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 6. ุฅูุดุงุก ูุฏูุฑ ุฒุงุฆุฑ </h3><br>  ูุฐุง ุ ุนุฏ ุฅูู ุงููุดููุฉ ุงูุชู ูุถุนูุงูุง ูุญู ุฃููุณูุง ูู ุงูุฎุทูุฉ ุงูุซุงูุซุฉ.  ุจูุง ุฃููุง ูุง ูุฑูุฏ ุฅูุดุงุก ูุณุฎ ูู ุงูุฒูุงุฑ ูุชุฏููุฑูุง ูู ูู ูุฑุฉ ุ ูุณูููู ุชุทููุฑ ุงููุฏูุฑ ูู ุงูุญู.  ูุฌุจ ุฃู ุชุคุฏู ูููุชูู ุฑุฆูุณูุชูู: ุฅุฏุงุฑุฉ ูุงุฆูุฉ ุงูุฒูุงุฑ (ุงูุชู ูุชู ุชุณุฌูููุง ุนูู ูุฐุง ุงููุญู ูู ูุณู ุงูุชููุฆุฉ ูููุญุฏุงุช ุงููุฑุฏูุฉ) ูุชุดุบูููุง ุนูุฏ ุชููู ุงูุฃูุฑ ุงูููุงุณุจ ูู ุงูุนููู. <br>  ูุชูููุฐ ุงููุฏูุฑ ุ ุณูููู ูุญุฏุชูุง ุจุซูุงุซุฉ ูุตูู ุฅุถุงููุฉ: TVisClassRef ู TVisMapping ู TtiVisitorManager. <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">TVisClassRef = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> TVisitor;</code> </pre> <br>  TVisClassRef ูู ููุน ุงููุฑุฌุน ููุดูุฑ ุฅูู ุงุณู ูุฆุฉ ูุนููุฉ - ุณููู TVisitor.  ูููู ูุนูู ุงุณุชุฎุฏุงู ููุน ุงููุฑุฌุน ููุง ููู: ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ ุงูุชูููุฐ ุงูุฃุณุงุณู ุจุงูุชูููุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pData: TVisited; </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pVisClass: TVisClassRef)</span></span></span><span class="hljs-function">,</span></span></code> </pre> <br>  ุฏุงุฎูููุง ุ ูููู ุฃู ุชุณุชุฎุฏู ูุฐู ุงูุทุฑููุฉ ุชุนุจูุฑูุง ูุซู lVisitor: = pVisClass.Create ูุฅูุดุงุก ูุซูู ูุฒุงุฆุฑ ูุนูู ุ ุฏูู ูุนุฑูุฉ ููุนู ุฃููุงู.  ุฃู ุ ุฃู ูุฆุฉ - ูููู ุฅูุดุงุก ุณููู TVisitor ุฏููุงูููููุง ุฏุงุฎู ููุณ ุทุฑููุฉ ุงูุชูููุฐ ุนูุฏ ุชูุฑูุฑ ุงุณู ูุฆุชูุง ููุนููุฉ. <br><br>  ุงููุฆุฉ ุงูุซุงููุฉ ุ TVisMapping ุ ูู ุจููุฉ ุจูุงูุงุช ุจุณูุทุฉ ูุน ุฎุงุตูุชูู: ุฅุดุงุฑุฉ ุฅูู ุงูููุน TVisClassRef ูุฎุงุตูุฉ ุณูุณูุฉ ุงูุฃูุงูุฑ.  ููุงู ุญุงุฌุฉ ุฅูู ูุตู ูููุงุฑูุฉ ุงูุนูููุงุช ุงูุชู ูุชู ุชูููุฐูุง ุจุงุณููู (ุฃูุฑ ุ ุนูู ุณุจูู ุงููุซุงู ุ "ุญูุธ") ููุฆุฉ ุงูุฒุงุฆุฑ ุงูุชู ุชููุฐูุง ูุฐู ุงูุฃูุงูุฑ.  ุฃุถู ุงูููุฏ ุงูุฎุงุต ุจู ุฅูู ุงููุดุฑูุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TVisMapping</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FCommand: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>;   FVisitorClass: TVisClassRef; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> VisitorClass: TVisClassRef <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FVisitorClass <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FVisitorClass;   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> Command: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FCommand <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FCommand; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูุงููุฆุฉ ุงูุฃุฎูุฑุฉ ูู TtiVisitorManager.  ุนูุฏูุง ูุณุฌู ุงูุฒุงุฆุฑ ุจุงุณุชุฎุฏุงู ุงููุฏูุฑ ุ ูุชู ุฅูุดุงุก ูุซูู ููุฆุฉ TVisMapping ุ ูุงูุฐู ูุชู ุฅุฏุฎุงูู ูู ูุงุฆูุฉ ุงููุฏูุฑ. <br>  ูุจุงูุชุงูู ุ ูู ุงููุฏูุฑ ุ ูุชู ุฅูุดุงุก ูุงุฆูุฉ ุจุงูุฒูุงุฑ ูุน ูุทุงุจูุฉ ุฃูุงูุฑ ุงูุณูุณูุฉ ุ ูุนูุฏ ุงุณุชูุงููุง ุณูุชู ุชูููุฐูุง.  ุชุชู ุฅุถุงูุฉ ูุงุฌูุฉ ุงููุฆุฉ ุฅูู ุงููุญุฏุฉ ุงูููุทูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TtiVisitorManager</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TObject) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FList: TObjectList; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">destructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Destroy</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegisterVisitor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pCommand: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; pVisitorClass: TVisClassRef)</span></span></span><span class="hljs-function">;</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pCommand: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; pData: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ุทุฑูู ุงูุฑุฆูุณูุฉ ูู RegisterVisitor ู Execute.  ุนุงุฏุฉู ูุง ูุณูู ุงูุฃูู ูู ูุณู ุงูุชููุฆุฉ ุจุงููุญุฏุฉ ุ ูุงูุฐู ูุตู ูุฆุฉ ุงูุฒุงุฆุฑ ุ ููุจุฏู ูุซู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-keyword"><span class="hljs-keyword">initialization</span></span>  gTIOPFManager.VisitorManager.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'show'</span></span>, TShowNameVisitor);  gTIOPFManager.VisitorManager.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'show'</span></span>, TShowEMailAdrsVisitor);</code> </pre> <br>  ุณูููู ุฑูุฒ ุงูุทุฑููุฉ ููุณูุง ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TtiVisitorManager</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RegisterVisitor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pCommand: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; pVisitorClass: TVisClassRef)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lData: TVisMapping; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> lData := TVisMapping.Create; lData.Command := pCommand; lData.VisitorClass := pVisitorClass; FList.Add(lData); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ููุณ ูู ุงูุตุนุจ ููุงุญุธุฉ ุฃู ูุฐุง ุงูุฑูุฒ ูุดุงุจู ุฌุฏูุง ูุชุทุจูู Pascal ููุงูุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตูุน</a> . <br><br>  ุชูุจู ุทุฑููุฉ ุงูุชูููุฐ ุงููููุฉ ุงูุฃุฎุฑู ูุนููุชูู: ุงูุฃูุฑ ุงูุฐู ุณูุชู ูู ุฎูุงูู ุชุญุฏูุฏ ูููุฉ ุงูุฒุงุฆุฑ ุฃู ูุฌููุนุชู ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุงุฆู ุงูุจูุงูุงุช ุงูุฐู ุณูุชู ุงุณุชุฏุนุงุก ุฃุณููุจ Iterate ุงูุฎุงุต ุจู ูุน ุงุฑุชุจุงุท ุจูุซูู ุงูุฒุงุฆุฑ ุงููุทููุจ.  ูููุง ููู ุงูุดูุฑุฉ ุงููุงููุฉ ูุฃุณููุจ ุงูุชูููุฐ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TtiVisitorManager</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> pCommand: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">; pData: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; lVisitor: TVisitor; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> SameText(pCommand, TVisMapping(FList.Items[i]).Command) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>     lVisitor := TVisMapping(FList.Items[i]).VisitorClass.Create;     <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>       pData.Iterate(lVisitor);     <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span>       lVisitor.Free;     <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;   <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br>  ูุจุงูุชุงูู ุ ูุชุดุบูู ุงุซููู ูู ุงูุฒุงุฆุฑูู ุงููุณุฌููู ุณุงุจููุง ูุน ูุฑูู ูุงุญุฏ ุ ูุญุชุงุฌ ุฅูู ุณุทุฑ ูุงุญุฏ ููุท ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">gTIOPFManager.VisitorManager.Execute(<span class="hljs-string"><span class="hljs-string">'show'</span></span>, FPeople);</code> </pre> <br>  ุจุนุฏ ุฐูู ุ ุณูููู ูุดุฑูุนูุง ุจุญูุซ ููููู ุงุณุชุฏุนุงุก ุฃูุงูุฑ ููุงุซูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-comment"><span class="hljs-comment">//      gTIOPFManager.VisitorManager.Execute('read', FPeople); //      gTIOPFManager.VisitorManager.Execute('save', FPeople).</span></span></code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 7. ุถุจุท ูุฆุงุช ููุทู ุงูุฃุนูุงู </h3><br>  ุณุชุชูุญ ููุง ุฅุถุงูุฉ ุณูู ูุฆุชู TtiObject ู TtiObjectList ูุนูุงุตุฑ ุฃุนูุงู TPerson ู TPeople ูุฏููุง ุชุบููู ููุทู ุงูุชูุฑุงุฑ ูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ูุนุฏู ููุณู ุจุนุฏ ุงูุขู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุตุจุญ ูู ุงููููู ููู ุงููุงุฆูุงุช ูุน ุงูุจูุงูุงุช ุฅูู ูุฏูุฑ ุงูุฒูุงุฑ. <br><br>  ุณูุจุฏู ุฅุนูุงู ูุฆุฉ ุงูุญุงููุฉ ุงูุฌุฏูุฏ ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TPeople</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TtiObjectList);</code> </pre> <br>  ูู ุงููุงูุน ุ ูุง ูุชุนูู ุนูู ุทุจูุฉ TPeople ุชูููุฐ ุฃู ุดูุก.  ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูููููุง ุงูุงุณุชุบูุงุก ุนู ุฅุนูุงู TPeople ุนูู ุงูุฅุทูุงู ูุชุฎุฒูู ุงููุงุฆูุงุช ูู ูุซูู ููุฆุฉ TtiObjectList ุ ูููู ุจูุง ุฃููุง ูุฎุทุท ููุชุงุจุฉ ุฒูุงุฑ ูุนุงูุฌูู ูุซููุงุช TPeople ููุท ุ ููุญู ุจุญุงุฌุฉ ุฅูู ูุฐู ุงููุฆุฉ.  ูู ูุธููุฉ AcceptVisitor ุ ุณูุชู ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">Result := pVisited <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> TPeople.</code> </pre> <br>  ุจุงููุณุจุฉ ููุฆุฉ TPerson ุ ูููู ุจุฅุถุงูุฉ ุณูู TtiObject ุ ูููู ุงูุฎุตุงุฆุต ุงูุญุงููุฉ ุฅูู ุงููุทุงู ุงูููุดูุฑ ุ ูุฃููุง ูู ุงููุณุชูุจู ุณูุญุชุงุฌ ุฅูู ุงูุนูู ูู ุฎูุงู RTTI ูุน ูุฐู ุงูุฎุตุงุฆุต.  ุณูุคุฏู ูุฐุง ูู ููุช ูุงุญู ุฅูู ุญุฏ ูุจูุฑ ุฅูู ุชูููู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุชุถููุฉ ูู ุชุนููู ุงููุงุฆูุงุช ูุงูุณุฌูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TPerson</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TtiObject) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>   FEMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>;   FName: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">published</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FName <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FName;   <span class="hljs-keyword"><span class="hljs-keyword">property</span></span> EMailAdrs: <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> <span class="hljs-keyword"><span class="hljs-keyword">read</span></span> FEMailAdrs <span class="hljs-keyword"><span class="hljs-keyword">write</span></span> FEMailAdrs; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ 8. ุฅูุดุงุก ุนุฑุถ ุงููููุฐุฌ ุงูุฃููู </h3><br>  <b><i>ููุงุญุธุฉ</i></b> .  ูู ุงูููุงูุฉ ุงูุฃุตููุฉ ุ ุงุนุชูุฏ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ ุนูู ููููุงุช ุฃูุดุฃูุง tiOPF ูุฑุงุญุฉ ุงูุนูู ูุน ุฅุทุงุฑู ูู ุฏููู.  ูุงูุช ูุฐู ูุธุงุฆุฑูุง ูููููุงุช DB Aware ุ ูุงูุชู ูุงูุช ุนูุงุตุฑ ุชุญูู ููุงุณูุฉ ูุซู ุงูุชุณููุงุช ุ ูุญููู ุงูุฅุฏุฎุงู ุ ูุฎุงูุงุช ุงูุงุฎุชูุงุฑ ุ ูุงูููุงุฆู ุ ููุง ุฅูู ุฐูู ุ ูููููุง ุงุฑุชุจุทุช ุจุจุนุถ ุฎุตุงุฆุต ูุงุฆูุงุช tiObject ุจููุณ ุงูุทุฑููุฉ ุงูุชู ุงุฑุชุจุทุช ุจูุง ููููุงุช ุนุฑุถ ุงูุจูุงูุงุช ูุน ุงูุญููู ูู ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุจูุฑูุฑ ุงูููุช ุ ูุงู ูุคูู ุฅุทุงุฑ ุงูุนูู ุจุชูููุฒ ุงูุญุฒู ูุน ูุฐู ุงูููููุงุช ุงููุฑุฆูุฉ ุนูู ุฃููุง ูุฏููุฉ ูุบูุฑ ูุฑุบูุจ ูููุง ููุงุณุชุฎุฏุงู.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููุงุจู ุ ููุชุฑุญ ุฅูุดุงุก ุนูุงูุฉ ุจูู ุงูููููุงุช ุงููุฑุฆูุฉ ูุฎุตุงุฆุต ุงููุตู ุจุงุณุชุฎุฏุงู ููุท ุชุตููู ุงููุณูุท. </font><font style="vertical-align: inherit;">ูุฐุง ุงููุงูุจ ูู ุงูุซุงูู ุงูุฃูุซุฑ ุฃูููุฉ ูู ุจููุฉ ุงูุฅุทุงุฑ ุจุงููุงูู. </font><font style="vertical-align: inherit;">ุฅู ูุตู ุงููุคูู ูููุณูุท ุชูุช ุชุบุทูุชู ุจููุงู ูููุตู ุ ูููู ููุงุฑูุชู ูู ุงููุฌูุฏ ุจูุฐุง ุงูุฏููู ุ ููุฐุง ูุฅููู ุฃูุฏู ูุณุฎุชู ุงููุจุณุทุฉ ููุง ููุงุฌูุฉ ูุณุชุฎุฏู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนุฏ ุชุณููุฉ ุงูุฒุฑ 1 ูู ูููุฐุฌ ุงููุดุฑูุน ุฅูู "show command" ุ ูุงูุฒุฑ 2 ุฅูุง ุงุชุฑูู ุจุฏูู ูุนุงูุฌ ูู ุงูููุช ุงูุญุงูู ุ ุฃู ูู ุจุชุณููุชู ููุฑูุง ุจุงุณู "save command". </font><font style="vertical-align: inherit;">ุฑูู ูููู ุงููุฐูุฑุฉ ูู ุงููููุฐุฌ ููุถุน ุฌููุน ุงูุนูุงุตุฑ ูุฐููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ูุฆุฉ ุฒุงุฆุฑ ุณุชููู ุจุชูููุฐ ุฃูุฑ show: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface -</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TShowVisitor</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TVisitor) <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptVisitor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">:</span></span> boolean; <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงูุชูููุฐ ูู - </font></font><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TShowVisitor</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AcceptVisitor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">:</span></span> boolean; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> Result := (pVisited <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> TPerson); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TShowVisitor</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> AcceptVisitor(pVisited) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; Form1.Memo1.Lines.Add(TPerson(pVisited).<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> + <span class="hljs-string"><span class="hljs-string">': '</span></span> + TPerson(pVisited).EMailAdrs); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุญูู AcceptVisitor ูู ุฃู ุงููุงุฆู ุงูุฐู ูุชู ูููู ูู ูุซูู ูู TPerson ุ ูุฃูู ูุฌุจ ุนูู ุงูุฒุงุฆุฑ ุชูููุฐ ุงูุฃูุฑ ุจูุฐู ุงููุงุฆูุงุช ููุท. ูู ุญุงูุฉ ุชุทุงุจู ุงูููุน ุ ูุชู ุชูููุฐ ุงูุฃูุฑ ูุฅุถุงูุฉ ุณุทุฑ ุจุฎุตุงุฆุต ุงููุงุฆู ุฅูู ุญูู ุงููุต. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุชููู ุงูุฅุฌุฑุงุกุงุช ุงูุฏุงุนูุฉ ูุตุญุฉ ุงูููุฏ ููุง ููู. ุฃุถู ุฎุงุตูุชูู ุฅูู ูุตู ุงููููุฐุฌ ููุณู ูู ุงููุณู ุงูุฎุงุต: FPeople ูู ุงูููุน TPeople ู VM ูู ุงูููุน TtiVisitorManager. ูู ูุนุงูุฌ ุฃุญุฏุงุซ ุฅูุดุงุก ุงูููุงุฐุฌ ุ ูุญุชุงุฌ ุฅูู ุจุฏุก ูุฐู ุงูุฎุตุงุฆุต ุ ููุฐูู ุชุณุฌูู ุงูุฒุงุฆุฑ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ "show":</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">FPeople := TPeople.Create; FillPeople; VM := TtiVisitorManager.Create; VM.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'show'</span></span>,TShowVisitor);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FilPeople ูู ุฃูุถูุง ุฅุฌุฑุงุก ุฅุถุงูู ูููุฃ ูุงุฆูุฉ ุจุซูุงุซุฉ ูุงุฆูุงุช ุ ูุชู ุฃุฎุฐ ุงูููุฏ ูู ูููุดุฆ ุงููุงุฆูุฉ ุงูุณุงุจู. </font><font style="vertical-align: inherit;">ูุง ุชูุณ ุฃู ุชุฏูุฑ ูู ุงููุงุฆูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง. </font><font style="vertical-align: inherit;">ูู ูุฐู ุงูุญุงูุฉ ุ ููุชุจ FPeople.Free ู VM.Free ูู ูุนุงูุฌ ุฅุบูุงู ุงููููุฐุฌ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุขู - bams! </font><font style="vertical-align: inherit;">- ูุนุงูุฌ ุงูุฒุฑ ุงูุฃูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">Memo1.Clear; VM.Execute(<span class="hljs-string"><span class="hljs-string">'show'</span></span>,FPeople);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุงูู ุ ุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ ูุชุนุฉ. </font><font style="vertical-align: inherit;">ููุง ุชูุณู ุนูู ุชุฌุฒุฆุฉ ุฌููุน ุงููุฆุงุช ูู ูุญุฏุฉ ูุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ูู ููุงูุฉ ุงูุฏููู ุ ุณูุดุนู ูุฐู ุงูุฃููุงุถ.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎุทูุฉ 9. ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ููุฒุงุฆุฑ ุงูุฐู ูุนูู ูุน ุงููููุงุช ุงููุตูุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงููุฑุญูุฉ ุ ุณูููู ุจุฅูุดุงุก ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ููุฒุงุฆุฑ ุงูุฐู ูุนุฑู ููููุฉ ุงูุชุนุงูู ูุน ุงููููุงุช ุงููุตูุฉ. ููุงู ุซูุงุซ ุทุฑู ููุนูู ูุน ุงููููุงุช ูู ูุงุฆู pascal: ุงูุฅุฌุฑุงุกุงุช ุงููุฏููุฉ ูู ููุช ุฃูู pascal (ูุซู AssignFile ู ReadLn) ุ ูุงูุนูู ูู ุฎูุงู ุงูุชุฏููุงุช (TStringStream ุฃู TFileStream) ุ ูุงุณุชุฎุฏุงู ูุงุฆู TStringList.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุงูุฃููู ูุฏููุฉ ุฌุฏูุง ุ ูููู ุงูุจุฏููุงู ุงูุซุงูู ูุงูุซุงูุซ ุจุฏููุงู ุฌูุฏูุง ูุนุชูุฏ ุนูู OOP. </font><font style="vertical-align: inherit;">ูู ุงูููุช ููุณู ุ ูููุฑ ุงูุนูู ูุน ุงูุชุฏููุงุช ุงูุฅุถุงููุฉ ูุฒุงูุง ูุซู ุงููุฏุฑุฉ ุนูู ุถุบุท ุงูุจูุงูุงุช ูุชุดููุฑูุง ุ ูููู ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ุณุทุฑุงู ุฅูู ุฏูู ูุง ูู ููุน ูู ุงูุชูุฑุงุฑ ูู ูุซุงููุง. </font><font style="vertical-align: inherit;">ููุจุณุงุทุฉ ุ ุณูู ูุฎุชุงุฑ TStringList ุ ูุงูุชู ูุฏููุง ุทุฑููุชูู ุจุณูุทุชูู - LoadFromFile ู SaveToFile. </font><font style="vertical-align: inherit;">ููู ุชุฐูุฑ ุฃูู ูุน ุงููููุงุช ุงููุจูุฑุฉ ุ ุณุชุชุจุงุทุฃ ูุฐู ุงูุทุฑู ุจุดูู ูุจูุฑ ุ ูุจุงูุชุงูู ุณูููู ุงูุฏูู ูู ุงูุฎูุงุฑ ุงูุฃูุซู ููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฌูุฉ ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ TVisFile:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-title"><span class="hljs-title">TVisFile</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>(TVisitor) <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>   FList: TStringList;   FFileName: TFileName; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span>;   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">destructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Destroy</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชูููุฐ ุงูููุดุฆ ูุงููุฏูุฑ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisFile</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Create; FList := TStringList.Create; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> FileExists(FFileName) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   FList.LoadFromFile(FFileName); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">destructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisFile</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Destroy</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> FList.SaveToFile(FFileName); FList.Free; <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุชู ุชุนููู ูููุฉ ุฎุงุตูุฉ FFileName ูู ูุตููู ุฃุญูุงุฏ ูุฐู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ (ููุท ูุง ุชุณุชุฎุฏู ุงููุฑุต ุงูุตูุจ ุ ุงูุฐู ุณูุฑุชุจู ููุง ุ ูููุท ุงูุจุฑูุฌุฉ ุงูุฑุฆูุณู ุจุนุฏ!). </font><font style="vertical-align: inherit;">ุงูุฑุณู ุงูุชูุถูุญู ููุฆุงุช ุงูุฒุงุฆุฑ ุงูุชู ุชุนูู ูุน ุงููููุงุช ูู ููุง ููู: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/717/969/104/717969104d4b13d73ba1844fe0c2ddf9.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุง ููุฑุณู ุงูุจูุงูู ุฃุฏูุงู ุ ูููู ุจุฅูุดุงุก ุงุซููู ูู ุฃุญูุงุฏ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ TVisFile: TVisTXTFile ู TVisCSVFile. </font><font style="vertical-align: inherit;">ุณูุนูู ุงูุดุฎุต ูุน ูููุงุช * .csv ุงูุชู ูุชู ูููุง ูุตู ุญููู ุงูุจูุงูุงุช ุจุฑูุฒ (ูุงุตูุฉ) ุ ูุงูุซุงูู - ูุน ุงููููุงุช ุงููุตูุฉ ุงูุชู ุชููู ูููุง ุญููู ุงูุจูุงูุงุช ุงููุฑุฏูุฉ ุจุทูู ุซุงุจุช ูู ุงูุณุทุฑ. </font><font style="vertical-align: inherit;">ุจุงููุณุจุฉ ููุฐู ุงููุฆุงุช ุ ูุนูุฏ ุชุนุฑูู ุงูููุดุฆุงุช ููุท ุนูู ุงููุญู ุงูุชุงูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisCSVFile</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> FFileName := <span class="hljs-string"><span class="hljs-string">'contacts.csv'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Create; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisTXTFile</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Create</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> FFileName := <span class="hljs-string"><span class="hljs-string">'contacts.txt'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">inherited</span></span> Create; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code> </pre> <br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎุทูุฉ 10. ุฅุถุงูุฉ ุฒุงุฆุฑ ูุนุงูุฌ ุงููููุงุช ุงููุตูุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุถูู ููุง ุฒุงุฆุฑูู ูุญุฏุฏูู ุ ุฃุญุฏููุง ุณููุฑุฃ ููููุง ูุตููุง ุ ูุงูุซุงูู ุณููุชุจ ูู. </font><font style="vertical-align: inherit;">ูุฌุจ ุนูู ุงูุฒุงุฆุฑ ุงูุฐู ูููู ุจูุฑุงุกุฉ ุฃู ูุชุฎุทู ุฃุณุงููุจ ุงูุทุจูุฉ ุงูุฃุณุงุณูุฉ AcceptVisitor ูุชูููุฐูุง. </font><font style="vertical-align: inherit;">ูุชุญูู AcceptVisitor ูู ุชูุฑูุฑ ูุงุฆู ูุฆุฉ TPeople ุฅูู ุงูุฒุงุฆุฑ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">Result := pVisited <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> TPeople;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชูููุฐ ุงูุชูููุฐ ููุง ููู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisTXtRead</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; lData: TPerson; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> AcceptVisitor(pVisited) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">Exit</span></span>; <span class="hljs-comment"><span class="hljs-comment">//==&gt; TPeople(pVisited).Clear; for i := 0 to FList.Count - 1 do begin   lData := TPerson.Create;   lData.Name := Trim(Copy(FList.Strings[i], 1, 20));   lData.EMailAdrs := Trim(Copy(FList.Strings[i], 21, 80));   TPeople(pVisited).Add(lData); end; end;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงูุฒุงุฆุฑ ุฃููุงู ุจูุณุญ ูุงุฆูุฉ ูุงุฆู TPeople ุงูุฐู ุชู ุชูุฑูุฑู ุฅููู ุจูุงุณุทุฉ ุงููุนููุฉ ุ ุซู ููุฑุฃ ุงูุฃุณุทุฑ ูู ูุงุฆู TStringList ุงูุฎุงุต ุจู ุ ุญูุซ ูุชู ุชุญููู ูุญุชููุงุช ุงูููู ุ ููููู ุจุฅูุดุงุก ูุงุฆู TPerson ุนูู ูู ุณุทุฑ ููุถููู ุฅูู ูุงุฆูุฉ ุญุงููุฉ TPeople. </font><font style="vertical-align: inherit;">ููุจุณุงุทุฉ ุ ูุชู ูุตู ุฎุตุงุฆุต ุงูุงุณู ูุฑุณุงุฆู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ุงูููู ุงููุตู ุจูุณุงูุงุช.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฒุงุฆุฑ ุงูุณุฌู ุจุชูููุฐ ุงูุนูููุฉ ุงูุนูุณูุฉ. ูููู ูููุดุฆู (ุงูุฐู ุชู ุชุฌุงูุฒู) ุจูุณุญ TStringList ุงูุฏุงุฎูู (ุฃู ุ ุชูููุฐ ุนูููุฉ FList.Clear ุ ุฅูู ุฅูุฒุงูู ุจุนุฏ ุงูููุฑูุซุฉ) ุ ูุชุญูู AcceptVisitor ูู ุชูุฑูุฑ ูุงุฆู ูุฆุฉ TPerson ุ ููู ููุณ ุฎุทุฃ ุ ููููู ููุซู ุงุฎุชูุงููุง ููููุง ุนู ุทุฑููุฉ ูุฑุงุกุฉ ุงูุฒุงุฆุฑ ููุณูุง. ูุฏ ูุจุฏู ูู ุงูุฃุณูู ุชุทุจูู ุงูุชุณุฌูู ุจููุณ ุงูุทุฑููุฉ - ูุณุญ ุฌููุน ุงููุงุฆูุงุช ุงูุญุงููุฉ ุ ูุฅุถุงูุชูุง ุฅูู StringList ุซู ุญูุธูุง ูู ููู. ูู ูุฐุง ูุงู ุงูุฃูุฑ ูุฐูู ุ ุฅุฐุง ููุง ูุชุญุฏุซ ุจุงููุนู ุนู ุงููุชุงุจุฉ ุงูููุงุฆูุฉ ููุจูุงูุงุช ุฅูู ููู ุ ููุน ุฐูู ูุฎุทุท ูุชุนููู ุงูุจูุงูุงุช ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ ุ ููุจุบู ุชุฐูุฑ ุฐูู. ููู ูุฐู ุงูุญุงูุฉ ุ ูุฌุจ ุนูููุง ุชูููุฐ ููุฏ SQL ููุท ูุชูู ุงููุงุฆูุงุช ุงูุชู ุชู ุชุบููุฑูุง (ุชู ุฅูุดุงุคูุง ุฃู ุญุฐููุง ุฃู ุชุญุฑูุฑูุง). ูุฐุง ูู ุงูุณุจุจ ูุจู ุฃู ูููู ุงูุฒุงุฆุฑ ุจุฅุฌุฑุงุก ุนูููุฉ ุนูู ุงููุงุฆู ุูุฌุจ ุนููู ุงูุชุญูู ูู ุงููุฑุงุณูุงุช ูู ููุนู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">Result := pVisited <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Tperson;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุถูู ุทุฑููุฉ ุงูุชูููุฐ ุจุจุณุงุทุฉ ุฅูู StringList ุงูุฏุงุฎููุฉ ุณูุณูุฉ ููุณูุฉ ุจุงููุงุนุฏุฉ ุงููุญุฏุฏุฉ: ุฃููุงู ุ ูุญุชููุงุช ุฎุงุตูุฉ ุงุณู ุงููุงุฆู ุงูุฐู ุชู ุชูุฑูุฑู ุ ูุจุทู ุจูุณุงูุงุช ุชุตู ุฅูู 20 ุญุฑููุง ุ ุซู ูุญุชููุงุช ุฎุงุตูุฉ emaiadrs: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisTXTSave</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> AcceptVisitor(pVisited) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; FList.Add(PadRight(TPerson(pVisited).<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>)+PadRight(TPerson(pVisited).EMailAdrs,<span class="hljs-number"><span class="hljs-number">60</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎุทูุฉ 11. ุฅุถุงูุฉ ุฒุงุฆุฑ ูุนุงูุฌ ูููุงุช CSV </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุดุงุจู ุฒูุงุฑ ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ูู ุฌููุน ุฒููุงุฆูู ุชูุฑูุจูุง ูู ูุฆุงุช TXT ุ ุจุงุณุชุซูุงุก ุทุฑููุฉ ุชูุณูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ูู ุงูููู: ูู ูุนูุงุฑ CSV ุ ูุชู ูุตู ููู ุงูุฎุงุตูุฉ ุจููุงุตู. </font><font style="vertical-align: inherit;">ููุฑุงุกุฉ ุงูุณุทูุฑ ูุชุญููููุง ูู ุฎุตุงุฆุต ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ ExtractDelimited ูู ุงููุญุฏุฉ ุงูููุทูุฉ strutils ุ ููุชู ุฅุฌุฑุงุก ุงููุชุงุจุฉ ุจุจุณุงุทุฉ ุนู ุทุฑูู ุณููุณููุฉ ุงูุฎุทูุท:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisCSVRead</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i: integer; lData: TPerson; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> AcceptVisitor(pVisited) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; TPeople(pVisited).Clear; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i := <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> FList.Count - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span>   lData := TPerson.Create;   lData.<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> := ExtractDelimited(<span class="hljs-number"><span class="hljs-number">1</span></span>, FList.Strings[i], [<span class="hljs-string"><span class="hljs-string">','</span></span>]);   lData.EMailAdrs := ExtractDelimited(<span class="hljs-number"><span class="hljs-number">2</span></span>, FList.Strings[i], [<span class="hljs-string"><span class="hljs-string">','</span></span>]);   TPeople(pVisited).Add(lData); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TVisCSVSave</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pVisited: TVisited)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> AcceptVisitor(pVisited) <span class="hljs-keyword"><span class="hljs-keyword">then</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>; FList.Add(TPerson(pVisited).<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span> + <span class="hljs-string"><span class="hljs-string">','</span></span> + TPerson(pVisited).EMailAdrs); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุง ุชุจูู ุจุงููุณุจุฉ ููุง ูู ุชุณุฌูู ุฒูุงุฑ ุฌุฏุฏ ูู ุงููุฏูุฑ ูุงูุชุญูู ูู ุชุดุบูู ุงูุชุทุจูู. </font><font style="vertical-align: inherit;">ูู ูุนุงูุฌ ุฅูุดุงุก ุงูููุงุฐุฌ ุ ุฃุถู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs">VM.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'readTXT'</span></span>, TVisTXTRead); VM.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'saveTXT'</span></span>,TVisTXTSave); VM.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'readCSV'</span></span>,TVisCSVRead); VM.RegisterVisitor(<span class="hljs-string"><span class="hljs-string">'saveCSV'</span></span>,TVisCSVSave);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฑุณุงุก ุงูุฃุฒุฑุงุฑ ุงูุถุฑูุฑูุฉ ูู ุงููููุฐุฌ ูุชุนููู ุงููุนุงูุฌุงุช ุงูููุงุณุจุฉ ููู: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/112/0c2/7c3/1120c27c31300af40162387ac222d33c.png"><br><br><pre style=";text-align:right;direction:rtl"> <code class="delphi hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadCSVbtnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> VM.Execute(<span class="hljs-string"><span class="hljs-string">'readCSV'</span></span>, FPeople); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadTXTbtnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> VM.Execute(<span class="hljs-string"><span class="hljs-string">'readTXT'</span></span>, FPeople); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SaveCSVbtnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> VM.Execute(<span class="hljs-string"><span class="hljs-string">'saveCSV'</span></span>, FPeople); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">procedure</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TForm1</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SaveTXTbtnClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Sender: TObject)</span></span></span><span class="hljs-function">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> VM.Execute(<span class="hljs-string"><span class="hljs-string">'saveTXT'</span></span>, FPeople); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ุชูุณููุงุช ูููุงุช ุฅุถุงููุฉ ูุญูุธ ุงูุจูุงูุงุช ุนู ุทุฑูู ุฅุถุงูุฉ ุงูุฒูุงุฑ ุงูููุงุณุจูู ูุชุณุฌูููู ูู ุงููุฏูุฑ. </font><font style="vertical-align: inherit;">ูุงูุชุจู ุฅูู ูุง ููู: ููุฏ ูููุง ุจุชุณููุฉ ุงูุฃูุงูุฑ ุนูุฏุงู ุจุทุฑููุฉ ูุฎุชููุฉ ุ ุฃู saveTXT ู saveCSV. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ููุง ุงูุฒุงุฆุฑูู ูุชุทุงุจูุงู ูุน ุฃูุฑ ุญูุธ ูุงุญุฏ ุ ูุณูุจุฏุฃ ููุงููุง ูู ููุณ ุงูุฃูุฑ ุ ุชุญูู ูู ุฐูู ุจููุณู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎุทูุฉ 12. ุชูุธูู ุงูุฑูุฒ ุงูููุงุฆู </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฒูุฏ ูู ุฌูุงู ูููุงุก ุงูุดูุฑุฉ ุ ููุฐูู ูุฅุนุฏุงุฏ ูุดุฑูุน ูุฒูุงุฏุฉ ุชุทููุฑ ุงูุชูุงุนู ูุน DBMS ุ ุณูููู ุจุชูุฒูุน ูุตูููุง ูู ูุญุฏุงุช ูุฎุชููุฉ ููููุง ููููุทู ูุงูุบุฑุถ ูููุง. </font><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ ุ ููุจุบู ุฃู ูููู ูุฏููุง ุงููููู ุงูุชุงูู ูููุญุฏุงุช ุงูููุทูุฉ ูู ูุฌูุฏ ุงููุดุฑูุน ุ ูุงูุฐู ูุณูุญ ููุง ุจุงูุงุณุชุบูุงุก ุนู ุงูุนูุงูุฉ ุงูุฏุงุฆุฑูุฉ ุจููููุง (ุนูุฏ ุชุฌููุน ููุณู ุ ุชุฑุชูุจ ุงููุญุฏุงุช ุงููุงุฒูุฉ ูู ุฃูุณุงู ุงูุงุณุชุฎุฏุงูุงุช):</font></font><br><br><table style=";text-align:right;direction:rtl"><tbody><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุฏุฉ </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุธููุฉ </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุตูู </font></font><br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tivisitor.pas </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุฆุงุช ุงูุฃุณุงุณูุฉ ููุงูุจ ุงูุฒูุงุฑ ูุงููุฏูุฑ </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisitor </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisited </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisMapping </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TtiVisitorManager</font></font><br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tiobject.pas </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฆุงุช ููุทู ุงูุฃุนูุงู ุงูุฃุณุงุณูุฉ </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TtiObject </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TtiObjectList</font></font><br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> people_BOM.pas </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฆุงุช ููุทู ุงูุฃุนูุงู ุงููุญุฏุฏุฉ </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TPerson </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TPeople</font></font><br></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> people_SRV.pas </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุตูู ููููุณุฉ ูุณุคููุฉ ุนู ุงูุชูุงุนู </font></font><br></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisFile </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisTXTFile </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisCSVFile </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisCSVSave </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisCSVRead </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisTXTSave </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TVisTXTRead</font></font><br></td></tr></tbody></table><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุงุชูุฉ </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐู ุงูููุงูุฉ ุ ุฏุฑุณูุง ูุดููุฉ ุงูุชูุฑุงุฑ ุนูู ูุฌููุนุฉ ุฃู ูุงุฆูุฉ ุงููุงุฆูุงุช ุงูุชู ูููู ุฃู ูููู ููุง ุฃููุงุน ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ุงุณุชุฎุฏููุง ูุงูุจ ุงูุฒุงุฆุฑ ุงูุฐู ุงูุชุฑุญุชู GoF ูุชูููุฐ ุทุฑููุชูู ูุฎุชููุชูู ูุชุนููู ุงูุจูุงูุงุช ูู ูุงุฆูุงุช ุฅูู ูููุงุช ุจุชูุณููุงุช ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ูู ุงูููุช ููุณู ุ ูููู ุชูููุฐ ุทุฑู ูุฎุชููุฉ ูู ูุจู ูุฑูู ูุงุญุฏ ุจุณุจุจ ุฅูุดุงุก ูุฏูุฑ ุงูุฒูุงุฑ. </font><font style="vertical-align: inherit;">ูู ุงูููุงูุฉ ุ ุณูู ุชุณุงุนุฏูุง ุงูุฃูุซูุฉ ุงูุจุณูุทุฉ ูุงูุชูุถูุญูุฉ ุงูุชู ุชูุช ููุงูุดุชูุง ูู ุงูููุงูุฉ ุนูู ุชุทููุฑ ูุธุงู ููุงุซู ูุชุนููู ุงููุงุฆูุงุช ุฅูู ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ. </font></font><br><br> <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฃุฑุดูู ูุน ุดูุฑุฉ ุงููุตุฏุฑ ูู ุงูุฃูุซูุฉ - ููุง</font></font></a></b></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar441266/">https://habr.com/ru/post/ar441266/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar441254/index.html">ูุฏูุฉ "ููุงุฐุง ุชูุงุตููุง ูุน Kubernetes ููุง ูุญุตู ุนููู" ุ 28 ูุจุฑุงูุฑ ุ ููุณูู</a></li>
<li><a href="../ar441258/index.html">ุชุชุจุน ุฏููุงูููู ูุงูู ูุชููุฒ ุนูู ูุธุงู Linux ุจุงุณุชุฎุฏุงู eBPF ู bpftrace</a></li>
<li><a href="../ar441260/index.html">ููู ุณุงุนุฏุช ุฑุณููุงุช ุงูุดุจูุฉ ุงูุนุตุจูุฉ</a></li>
<li><a href="../ar441262/index.html">ุชุนูู ุงูููุงู ุงูุจุณูุทุฉ ูุงูุทูููุฉ ุนูู ุงูุชุฎูุต ูู ุงููุฑุดุญูู ุจุดูู ุฃูุถู ูู ุงููุฑุดุญูู ุงููุนูููู</a></li>
<li><a href="../ar441264/index.html">Kibana ุฏููู ุงููุณุชุฎุฏู. ุงูุชุตูุฑ. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar441268/index.html">Ceedling + Eclipse ุฃู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ ูููููุฑููููุชุฑููุฑ</a></li>
<li><a href="../ar441270/index.html">ุฃูู ุงุทูุงูุฉ ูู ุนูู AppleD Foundation</a></li>
<li><a href="../ar441274/index.html">ููู ุชุตุจุญ ุงุฎุชุจุงุฑ - ุงููุนุฑูุฉ ูุงูููุงุฑุงุช ุงููุงุฒูุฉ</a></li>
<li><a href="../ar441278/index.html">ููููุฉ ุฅูุดุงุก ููุญุฉ ุงูุฃููุงู ุงูุฌูููุฉ</a></li>
<li><a href="../ar441280/index.html">ุฅุนุฏุงุฏ GAL ูู Zimbra Collaboration Suite</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>