<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶à üò• üö¥üèø Efecto de sombreado de Doodle üëâüèΩ üë®‚Äç‚ù§Ô∏è‚Äçüë® üèë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este tutorial, hablar√© sobre c√≥mo recrear el popular efecto de sprite doodle en Unity usando sombreadores. Si su estilo requiere este estilo, de es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Efecto de sombreado de Doodle</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449540/">  En este tutorial, hablar√© sobre c√≥mo recrear el popular efecto de sprite doodle en Unity usando sombreadores.  Si su estilo requiere este estilo, de este art√≠culo aprender√° c√≥mo lograrlo sin generar un mont√≥n de im√°genes adicionales. <br><br>  En los √∫ltimos a√±os, este estilo se ha vuelto cada vez m√°s popular y se usa activamente en juegos como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">GoNNER</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">Baba is You</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/3af/a39/cd23afa3995577cc1d1c87f7eff8be7d.gif"></div><br>  Este tutorial cubre todo lo que necesita, desde los conceptos b√°sicos de la codificaci√≥n de sombreadores hasta las matem√°ticas utilizadas.  Al final del art√≠culo hay un enlace para descargar el paquete completo de Unity. <br><br>  ¬°El √©xito de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Doodle Studio 95</a> me inspir√≥ a crear este tutorial <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">!</a>  . <br><a name="habracut"></a><br><h1>  Introduccion </h1><br>  En mi blog, exploro temas bastante complejos, desde las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">matem√°ticas de la cinem√°tica inversa</a> hasta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">la dispersi√≥n atmosf√©rica de Rayleigh</a> .  Realmente me gusta hacer que temas tan dif√≠ciles sean entendibles para una audiencia amplia.  Pero la cantidad de personas interesadas en ellos y con un nivel t√©cnico suficiente no es tan grande.  Por lo tanto, no deber√≠a sorprenderse de que los art√≠culos m√°s populares sean los m√°s simples.  Esto tambi√©n se aplica a un reciente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">tweet de Nick Caman</a> en el que mostr√≥ c√≥mo crear <strong>un efecto de doodle</strong> en Unity. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1011319744031440896"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Despu√©s de 1000 me gusta y 4000 retweets, qued√≥ claro que existe una gran demanda de tutoriales m√°s simples que puedan ser estudiados incluso por personas que casi no tienen conocimiento de la creaci√≥n de sombreadores. <br><br>  Si est√° buscando una forma profesional y efectiva de animar sprites 2D con un alto grado de control art√≠stico, ¬°le recomiendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Doodle Studio 95!</a>  (Ver GIF a continuaci√≥n).  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">Aqu√≠</a> puedes ver algunos juegos que usan esta herramienta. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cf/563/42b/9cf56342b58ddde7eca5feced342ae18.gif"></div><br><h1>  Doodle Effect Anatomy </h1><br>  Para recrear el efecto de garabato, primero debemos entender c√≥mo funciona y qu√© t√©cnicas se utilizan en √©l. <br><br>  <strong>Efecto sombreador.</strong>  En primer lugar, queremos que este efecto sea lo m√°s simple posible y no requiera scripts adicionales.  Esto es posible gracias al uso de <strong>sombreadores</strong> que le dicen a Unity c√≥mo renderizar modelos 3D (¬°incluidos los planos!) En la pantalla.  Si no est√° familiarizado con el mundo <strong>de la codificaci√≥n de sombreadores</strong> , entonces deber√≠a estudiar mi art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Una introducci√≥n suave a los sombreadores</a> . <br><br>  <strong>Shader Sprite.</strong>  La unidad viene con muchos tipos de sombreadores.  Si usa las herramientas Unity 2D proporcionadas, lo m√°s probable es que est√© trabajando con <strong>sprites</strong> .  Si es as√≠, entonces necesita <strong>Sprite Shader</strong> , un tipo especial de sombreador compatible con <code>SpriteRenderer</code> Unity.  O puede comenzar con el <strong>sombreador Unlit</strong> m√°s tradicional. <br><br>  <strong>Desplazamiento de v√©rtice.</strong>  Al dibujar sprites manualmente, ning√∫n marco coincidir√° completamente con los dem√°s.  Queremos hacer que el sprite se tambalee de alguna manera para simular este efecto.  Los sombreadores tienen una forma muy efectiva de hacer esto, utilizando el <strong>desplazamiento de v√©rtice</strong> .  Esta es una t√©cnica que le permite cambiar la posici√≥n de los v√©rtices de un objeto 3D.  Si los movemos al azar, obtenemos el efecto deseado. <br><br>  <strong>Tiempo de viaje.</strong>  Las animaciones a mano alzada suelen tener una velocidad de fotogramas baja.  Si queremos simular, digamos, cinco cuadros por segundo, entonces necesitamos cambiar la posici√≥n de los v√©rtices del sprite cinco veces por segundo.  Sin embargo, es probable que Unity ejecute el juego a una frecuencia de actualizaci√≥n mucho mayor;  quiz√°s con 30 o incluso 60 cuadros por segundo.  Para que el sprite no cambie 60 veces por segundo, debe trabajar en el componente de sincronizaci√≥n de la animaci√≥n. <br><br><h1>  Paso 1: completar el sombreador de sprites </h1><br>  Si desea crear un nuevo sombreador en Unity, la elecci√≥n ser√° bastante limitada.  El sombreador m√°s cercano con el que podemos comenzar ser√° <strong>Unlit Shader</strong> , aunque no es necesariamente el m√°s adecuado para nuestros prop√≥sitos. <br><br>  Si desea que el sombreador de garabatos sea totalmente compatible con <code>SpriteRenderer</code> Unity, entonces debemos complementar el <strong>Sprite Shader</strong> existente.  Desafortunadamente, no podemos acceder a √©l directamente desde la propia Unidad. <br><br>  Puede acceder a √©l yendo a la p√°gina del <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">archivo de descarga de Unity</a> y descargando el paquete <strong>Build in shaders</strong> para la versi√≥n de Unity con la que est√° trabajando.  Este es un archivo zip que contiene el c√≥digo fuente de todos los sombreadores que vienen con la compilaci√≥n de Unity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/1b9/da8/d001b9da891e60ef4b93f89ffb8a9fda.png"></div><br>  Despu√©s de descargarlo, descompr√≠malo y busque el archivo <code>Sprites-Diffuse.shader</code> en la <code>builtin_shaders-2018.1.6f1\DefaultResourcesExtra</code> .  Este es el archivo que usaremos en el tutorial. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/888/ee9/66f/888ee966f71ad738752f0bed48f4d66b.png"></div><br><div class="spoiler">  <b class="spoiler_title">¬°Sprites-Diffuse no es un sombreador de sprites est√°ndar!</b> <div class="spoiler_text">  Al crear un nuevo sprite, su material est√°ndar utiliza un sombreador llamado <code>Sprites-Default.shader</code> , no <code>Sprites-Diffuse.shader</code> . <br><br>  La diferencia entre los dos es que el primero no usa iluminaci√≥n, y el segundo responde a la iluminaci√≥n en la escena.  Debido a la naturaleza de la implementaci√≥n de Unity, la versi√≥n difusa es mucho m√°s f√°cil de editar que la versi√≥n sin iluminaci√≥n. <br><br>  Al final de este tutorial hay un enlace para descargar los sombreadores de doodle con y sin iluminaci√≥n. </div></div><br><h1>  Paso 2: v√©rtices desplazados </h1><br>  Dentro de <code>Sprites-Diffuse.shader</code> hay una funci√≥n llamada <code>vert</code> , que es la <strong>funci√≥n de v√©rtice</strong> que mencionamos anteriormente.  Su nombre no es importante, lo principal es que coincide con el especificado en la secci√≥n de <code>vertex:</code> de la <code>#pragma</code> : <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing</span></span></code> </pre> <br>  En resumen, la funci√≥n de v√©rtice se llama para cada v√©rtice del modelo 3D y decide c√≥mo superponerla en el espacio de pantalla bidimensional.  En este tutorial, solo estamos interesados ‚Äã‚Äãen c√≥mo mover un objeto. <br><br>  El par√°metro <code>appdata_full v</code> contiene el campo de <code>vertex</code> , que contiene la posici√≥n 3D de cada v√©rtice en <strong>el espacio del objeto</strong> .  Cuando el valor cambia, el v√©rtice cambia.  Es decir, por ejemplo, el c√≥digo que se muestra a continuaci√≥n transferir√° el objeto con su sombreador una unidad a lo largo del eje X. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = UnityFlipSprite(v.vertex, _Flip); v.vertex.x += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap (v.vertex); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> UNITY_INITIALIZE_OUTPUT(Input, o); o.color = v.color * _Color * _RendererColor; }</span></span></code> </pre> <br>  Por defecto, los juegos 2D creados en Unity funcionan solo con los ejes X e Y, por lo que debemos cambiar <code>v.vertex.xy</code> para mover el sprite en un plano bidimensional. <br><br><div class="spoiler">  <b class="spoiler_title">¬øQu√© es el espacio de objetos?</b> <div class="spoiler_text">  El campo de <code>vertex</code> de la estructura <code>appdata_full</code> contiene la posici√≥n del v√©rtice actual procesada por el sombreador en el espacio del objeto.  Esta es la posici√≥n del v√©rtice bajo el supuesto de que el objeto est√° ubicado en el centro del mundo (0,0,0), sin cambiar la escala y sin rotaci√≥n. <br><br>  Los picos expresados ‚Äã‚Äãen el espacio mundial reflejan su posici√≥n real en la escena de Unity. </div></div><br><div class="spoiler">  <b class="spoiler_title">¬øPor qu√© el objeto no se mueve a una velocidad de un metro por cuadro?</b> <div class="spoiler_text">  Si agregamos +1 al componente <code>x</code> del valor <code>transform.position</code> en el m√©todo <code>Update</code> de un script C #, veremos c√≥mo el objeto vuela hacia la derecha a una velocidad de 1 metro por cuadro, es decir, unos 216 kil√≥metros por hora. <br><br>  Esto se debe a que los cambios que C # realiza est√°n cambiando la posici√≥n misma.  En la funci√≥n de v√©rtice, esto no sucede.  El sombreador solo cambia la representaci√≥n visual del modelo, pero no actualiza ni modifica los v√©rtices almacenados del modelo.  Es por eso que agregar +1 a <code>v.vertex.x</code> cambia un objeto por un metro solo una vez. </div></div><br><div class="spoiler">  <b class="spoiler_title">¬°Recuerde importar el sprite como Tight!</b> <div class="spoiler_text">  Este efecto desplaza la parte superior del sprite.  Tradicionalmente, los sprites se importan a Unity como cuadr√°ngulos (ver la figura de la izquierda).  Esto significa que solo tienen cuatro picos.  Si es as√≠, solo se pueden mover estos puntos, lo que reduce la fuerza del efecto de doodle. <br><br>  Para una distorsi√≥n m√°s fuerte y realista, debe importar los sprites eligiendo <b>Tight</b> para el par√°metro <b>Mesh Type</b> , que los convierte en una forma convexa (vea la figura de la derecha). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/50e/e6b/0c650ee6b9ec95c457e223200ce22d03.png"></div><br>  Esto aumenta el n√∫mero de v√©rtices.  Esto no siempre es deseable, pero eso es exactamente lo que ahora necesitamos. </div></div><br><h2>  Desplazamiento aleatorio </h2><br>  El efecto de doodle cambia aleatoriamente la posici√≥n de cada v√©rtice.  El muestreo de <strong>n√∫meros aleatorios</strong> en un sombreador siempre ha sido una tarea dif√≠cil.  Esto se debe principalmente a la arquitectura de GPU distribuida, que complica y reduce la eficiencia de la recreaci√≥n del algoritmo utilizado en la mayor√≠a de las bibliotecas (incluido <code>Mathf.Random</code> ). <br><br>  La publicaci√≥n de Nick Caman utiliz√≥ una textura de ruido que, cuando se muestrea, da la ilusi√≥n de aleatoriedad.  En el contexto de su proyecto, este puede no ser el enfoque m√°s efectivo, porque en este caso se duplica el n√∫mero de operaciones de b√∫squeda de texturas realizadas por el sombreador. <br><br>  Por lo tanto, en la mayor√≠a de los sombreadores, se utilizan funciones bastante confusas y ca√≥ticas que, a pesar de su determinismo, nos parecen no tener regularidades.  Y dado que deben distribuirse, cada n√∫mero aleatorio debe generarse con su propia semilla.  Esto es genial para nosotros, porque la posici√≥n de cada v√©rtice debe ser √∫nica.  Podemos usar esto para unir un n√∫mero aleatorio a cada v√©rtice.  Discutiremos la implementaci√≥n de esta funci√≥n aleatoria m√°s adelante;  llam√©moslo <code>random3</code> . <br><br>  Podemos usar <code>random3</code> para generar un desplazamiento aleatorio de cada v√©rtice.  En el siguiente ejemplo, los n√∫meros aleatorios se escalan utilizando la propiedad <code>_NoiseScale</code> , que le permite controlar la fuerza de desplazamiento. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ ... float2 noise = random3(v.vertex.xyz).xy * _NoiseScale; v.vertex.xy += noise; ... }</code> </pre> <br>  Ahora necesitamos escribir c√≥digo <code>random3</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/043/169/225/04316922581e9d303653d6d49554a058.png" alt="imagen"></div><br><h2>  Aleatoriedad en shader </h2><br>  Una de las funciones pseudoaleatorias m√°s comunes e ic√≥nicas utilizadas en los sombreadores se tom√≥ de un art√≠culo de 1998 de W. Ray bajo el t√≠tulo " <em>Al generar n√∫meros aleatorios, con la ayuda de y = [(a + x) sin (bx)] mod 1</em> ". <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 co)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(dot(co.xy ,float2(<span class="hljs-number"><span class="hljs-number">12.9898</span></span>,<span class="hljs-number"><span class="hljs-number">78.233</span></span>))) * <span class="hljs-number"><span class="hljs-number">43758.5453</span></span>); }</code> </pre> <br>  Esta funci√≥n es determinista (es decir, no es <em>realmente</em> aleatoria), pero se comporta de manera tan aleatoria que parece completamente aleatoria.  Dichas funciones se llaman <strong>pseudoaleatorias</strong> .  Para mi tutorial, eleg√≠ una funci√≥n m√°s compleja, inventada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Nikita Miropolsky.</a> <br><br>  Generar un n√∫mero pseudoaleatorio en un sombreador es un tema muy complejo.  Si est√°s interesado en aprender m√°s sobre ella, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">The Book of Shaders</a> tiene un buen cap√≠tulo sobre ella.  Adem√°s, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">Patricio Gonzales Vivo ha</a> creado un gran repositorio de funciones pseudoaleatorias llamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">ruido GLSL</a> , que puede usarse en sombreadores. <br><br><h1>  Paso 3: agrega tiempo </h1><br>  Gracias al c√≥digo que escribimos, cada punto en cada cuadro se desplaza en la misma cantidad.  Entonces obtenemos un sprite distorsionado, no un efecto de doodle.  Para solucionar esto, debe encontrar una manera de cambiar el efecto con el tiempo.  Una de las formas m√°s f√°ciles de hacer esto es usar la posici√≥n del v√©rtice y la hora actual para generar un n√∫mero aleatorio. <br><br>  En nuestro caso, acabo de agregar la hora actual en segundos <code>_Time.y</code> a la posici√≥n del v√©rtice. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = float3(_Time.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 noise = random3(v.vertex.xyz + time).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br>  Los efectos m√°s complejos pueden requerir formas m√°s sofisticadas para agregar tiempo a la ecuaci√≥n.  Pero como solo estamos interesados ‚Äã‚Äãen un efecto aleatorio intermitente, dos valores son m√°s que suficientes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b27/e1e/736/b27e1e736bda8387e8ef2e35486a7de5.gif"></div><br><h2>  Cambio de hora </h2><br>  El principal problema al agregar <code>_Time.y</code> es que hace que el sprite se anime en cada cuadro.  Esto no es deseable para nosotros, porque la mayor√≠a de las animaciones dibujadas a mano tienen una baja velocidad de cuadros.  El componente de tiempo no debe ser continuo, sino discreto.  Esto significa que si queremos mostrar cinco cuadros por segundo, entonces deber√≠a cambiar solo cinco veces por segundo.  Es decir, el tiempo debe estar <em>vinculado</em> a un quinto de segundo.  Los √∫nicos valores v√°lidos deben ser <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {0} {5} = 0 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-32" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {5} = 0.2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-32" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-34" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {2} {5} = 0.4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-33" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-36" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ frac {3} {5} = 0.6 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-34" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-38" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>4</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {4} {5} = 0.8 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/449540/&amp;usg=ALkJrhgULcb-vPGYwRxF_ssFxPREllGjsg#MJMAIN-31" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ frac {5} {5} = 1 </script>  con, y as√≠ sucesivamente ... <br><br>  Ya cubr√≠ snap en mi blog en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener">C√≥mo ajustar a la cuadr√≠cula</a> .  En este art√≠culo, propuse una soluci√≥n al problema de vincular la posici√≥n de un objeto en una cuadr√≠cula espacial.  Si necesitamos vincular el tiempo a una cuadr√≠cula de tiempo, entonces las matem√°ticas y, por lo tanto, el c√≥digo ser√°n los mismos. <br><br>  La funci√≥n que se muestra a continuaci√≥n toma el n√∫mero <code>x</code> y lo vincula a valores enteros que son m√∫ltiplos de <code>snap</code> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snap</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> snap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snap * round(x / snap); }</code> </pre> <br>  Es decir, nuestro c√≥digo se convierte as√≠: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = snap(_Time.y, _NoiseSnap); float2 noise = random3(v.vertex.xyz + float3(time, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) ).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e50/b7e/cea/e50b7ecea7366a53edcb1bd28d0d61b0.gif"></div><br><h1>  Conclusi√≥n </h1><br>  El paquete Unity para este efecto se puede descargar de forma gratuita <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en Patreon</a> . <br><br><h2>  Recursos Adicionales </h2><br>  En los √∫ltimos meses, ha aparecido una gran cantidad de juegos al estilo de los garabatos.  ¬°Me parece que la raz√≥n de esto fue el √©xito de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Doodle Studio 95!</a>  - Una herramienta para la Unidad, desarrollada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Fernando Ramallo</a> .  Si este estilo es adecuado para tu juego, te recomiendo comprar esta incre√≠ble herramienta. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ax0CeKFTavI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/449540/">https://habr.com/ru/post/449540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449528/index.html">En la descomposici√≥n de la respuesta multicanal de un sistema en modos de vibraci√≥n "pseudo-patentados"</a></li>
<li><a href="../449532/index.html">ok.tech: encuentro de Cassandra</a></li>
<li><a href="../449534/index.html">Concept car SLA: como se hace en China</a></li>
<li><a href="../449536/index.html">iOS Digest No. 4 (5 de abril - 26 de abril)</a></li>
<li><a href="../449538/index.html">Traslado del portal web: del monolito a la arquitectura de microservicios</a></li>
<li><a href="../449542/index.html">Medicine se traslada a la web, salas de chat y aplicaciones m√≥viles. Conversaci√≥n con BestDoctor</a></li>
<li><a href="../449544/index.html">El mundo moderno se basa en API</a></li>
<li><a href="../449546/index.html">V8: un a√±o con Specter</a></li>
<li><a href="../449548/index.html">Centro de datos espaciales. Informe de video desde el lanzamiento</a></li>
<li><a href="../449552/index.html">Cifrado asim√©trico en la pr√°ctica.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>