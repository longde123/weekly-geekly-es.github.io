<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😽 🤞🏿 🛌🏼 PsRealVehicle, ou plug-in Open Source Tank Physics dans Armored Warfare: Assault 📏 👩🏾‍🍳 🤶🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelques années, notre équipe a eu l'honneur de créer un «Almaty» mobile. En respectant les règles «nous créons un jeu, pas une technologie» , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PsRealVehicle, ou plug-in Open Source Tank Physics dans Armored Warfare: Assault</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/423653/"><p><img src="https://habrastorage.org/webt/tp/k-/pp/tpk-ppd8uortedgcqdi0rzcqs-a.jpeg"></p><br><p>  Il y a quelques années, notre équipe a eu l'honneur de créer un «Almaty» mobile.  En respectant les règles <strong>«nous créons un jeu, pas une technologie»</strong> , nous avons créé un prototype sur ce qui est déjà dans le moteur.  C'était UE 4.9, basé sur le modèle physique - Véhicules PhysX, et beaucoup de douleur (avec et sans). </p><br><p>  De plus, notre équipe a créé le plugin open source <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PsRealVehicle</a> , disponible sous la <strong>licence MIT</strong> .  Ce plugin est réglé pour la physique des chars et des véhicules à roues pour les tireurs de réseau très chargés, et vous pouvez regarder son travail à tout moment dans notre projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Armored Warfare: Assault</a> . </p><a name="habracut"></a><br><h1 id="imena-yavki-paroli">  Noms, apparences, mots de passe. </h1><br><p>  De toute évidence.  Je vois.  Et seulement pour affaires. </p><br><p><img src="https://habrastorage.org/webt/ju/ry/-b/jury-bxmblc8rywoe28q2istiry.png"></p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Référentiel de plugins</a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Documentation de configuration principale</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><br></a> <br>  Utilisé dans le projet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Armored Warfare: Assault</a> </p><br><h2 id="nemnogo-istorii-ili-nazad-k-istokam">  Un peu d'histoire ou Retour aux sources </h2><br><p>  Nous avons commencé à travailler sur le projet <strong>sur Unreal Engine 4.9</strong> .  À cette époque, la physique des machines «prête à l'emploi» ne supportait que les véhicules à quatre roues, et pour les «bancs» à six roues (LAV-400, notre premier prototype de véhicule de «combat»), nous devions utiliser immédiatement le moteur personnalisé.  Avec la physique intégrée des réservoirs, c'était encore pire: les données sur la façon dont tout fonctionnait et était configuré, devaient être petit à petit pour sortir du code. </p><br><p>  En suivant la règle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"prototype"</a> , nous avons formulé les exigences suivantes pour nous-mêmes: </p><br><ul><li>  La physique devrait simuler le mouvement d'un char (programme minimum) et de véhicules à roues (hautement souhaitable - c'est une caractéristique de la série de jeux AW). </li><li> Un serveur dédié doit supporter <strong>jusqu'à 20 machines par session en ligne</strong> et le client doit les gérer. </li><li>  Toutes les roues et chenilles doivent suivre les irrégularités de la surface, la <strong>suspension doit fonctionner</strong> et le réservoir <strong>doit</strong> pivoter. </li><li>  Le réglage physique <strong>doit être déterminé par des valeurs réelles</strong> (masse de la machine, puissance du moteur) et conduire à un comportement réaliste (la capacité de surmonter certains types de terrain). </li><li>  Moins nous écrivons de code technique, mieux c'est: <strong>Epic Games devrait faire le moteur, pas nous</strong> . </li></ul><br><p><img src="https://habrastorage.org/webt/tu/gq/m2/tugqm20mytmfcwjgeh-rwe6vukg.png"></p><br><p>  Donc, les exigences sont à peu près claires, passez aux choses sérieuses.  Assez rapidement, nous avons assemblé le premier prototype, les chars sont partis, les voitures ont roulé, mais nous avons eu deux problèmes: </p><br><ol><li>  Tout cela dévorait très vigoureusement le processeur. </li><li>  L'image du monde créée ne voulait pas s'inscrire dans le cadre d'un comportement réaliste des équipements lourds.  Le réservoir de trente tonnes dans tous les paramètres <strong>ne pouvait pas prendre une augmentation de 15 degrés</strong> (et c'est l'une des options les plus faciles).  Nous avons passé beaucoup de temps à bricoler les paramètres de simulation et de frottement du paysage, mais cela a conduit soit à tirer la puissance vers les valeurs cosmiques (20+ fois plus que les valeurs réelles, et en conséquence, les voitures se sont comportées de manière instable et imprévisible), ou vers des masses d'équipement jouets (PhysX fonctionne très bien avec une masse de véhicule de l'ordre d'une tonne et demie). </li></ol><br><p><img src="https://habrastorage.org/webt/lp/5u/_g/lp5u_gfun8xtmhelxt5wvvwlsjg.png"></p><br><p>  Les concepteurs de jeux en étaient loin d'être enthousiastes.  Les programmeurs ont pleuré, piqué, mais ont continué à manger un cactus (la fête nécessite une solution de travail!).  Le prototype a été approuvé par la direction et envoyé pour créer une version alpha (à propos, la vidéo du prototype <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">est sur Youtube</a> . Mais le temps a passé et les espoirs d'un avenir meilleur pour une telle physique sont devenus de moins en moins. Les réglages n'étaient pas suffisants, leur comportement ressemblait à de la magie noire. Et la position Le «jeu, pas la technologie» s'est lié les mains à sa manière, du moins avec des doutes quant à savoir si nous pouvions le retirer. </p><br><p>  Armé tranquillement de Wikipédia, de connaissances scolaires résiduelles et d'une expérience de travail sur la physique «sur des pontons» à la Assassin's Creed, j'ai créé en quelques jours un prototype de la nouvelle physique de réservoir, qui a constitué la base du plugin PsRealVehicle.  En une semaine, la preuve de concept a été mise sur pied, les équipes CTO ont été montrées et protégées par des tests de charge.  <strong>Les chiffres disaient: être votre physique.</strong> </p><br><h2 id="--i-v-prodakshn">  ...-..., et en production </h2><br><p>  Le chemin du prototype à la vente est beaucoup plus long.  Si une semaine était suffisante pour une vérification conceptuelle, cela a <strong>pris un mois et demi pour une version bêta adéquate</strong> .  La création d'une version «prod» à part entière a pris environ six mois, un raffinement et une correction constants - tout au long du travail sur le projet.  À bien des égards, nous devons une telle vitesse au développement et à la mise en œuvre de la physique dans le projet au concepteur de jeux techniques Igor, qui est venu à notre équipe à l'époque, dont la minutie dans les aspects du modèle mathématique et sa perception subjective par les joueurs ont conduit au résultat actuel.  Je dois admettre, <strong>dans un sens technologique, que je suis un barbare</strong> : c'est mon travail de fabriquer une hache pour abattre une forêt.  Après le traitement par Igor et le réglage fin du modèle avec d'autres gars, nous avons obtenu une solution ouverte prête pour la production, évolutive et hautement <strong>optimisée pour les besoins du multijoueur</strong> .  Il y a de quoi être fier: des nombreux plug-ins disponibles sur le marché (y compris les véhicules PhysX intégrés), notre configuration la plus rapide et la plus transparente. </p><br><p>  Au fait, il y avait des cas amusants.  Alors que nous travaillions avec le véhicule PhysX et que nos véhicules à plusieurs roues extrêmement glissants ne pouvaient pas gravir de petites collines, j'ai entendu des reproches plus d'une fois, disent-ils, notre équipe ne peut pas le configurer pour que les gens l'aient.  La décision d'utiliser son plugin a été prise, notamment sous l'influence de ce cadre: </p><br><p><img src="https://habrastorage.org/webt/ll/x5/zy/llx5zyvm9un4kqbbptkutjkl-js.png"></p><br><p>  Le dernier développement de l'armée soviétique!  Un réservoir d'araignée qui <strong>peut escalader des murs à 89 degrés</strong> .  Il n'y avait tout simplement rien à couvrir: D </p><br><h2 id="osobennosti-nashego-resheniya">  Caractéristiques de notre solution </h2><br><p>  Avant de passer à la description de la configuration des chars et des véhicules dans PsRealVehicle comme exemple de notre AW: Assault, je voudrais mentionner quelques éléments qui ont constitué la base du modèle physique utilisé. </p><br><p><img src="https://habrastorage.org/webt/ct/jm/cz/ctjmczrjxmqlvxnq7vitxxo2wvg.gif"></p><br><p>  Premièrement, nous adhérons clairement au fait que <strong>nous ne faisons pas un simulateur de physique de char, mais un jeu</strong> suffisamment arcade.  C'est triste, mais peu de gens ont besoin d'un vrai tank dans leur comportement - ce n'est cool que sur les vidéos de présentation, et pas en contrôle, et plus encore dans un jeu de tir.  Le joueur a besoin d'un tank qui se comporte comme un tank dans le sens où d'autres blockbusters ont déjà créé.  Et pour travailler sur un appareil ordinaire, et non sur un Titan. </p><br><p>  Le premier point a une conséquence: certaines choses dans le jeu fonctionnent très fausses.  <strong>Si quelque chose ressemble à un char et se comporte comme un char, alors c'est un char</strong> , et peu importe que ce soit à l'intérieur une petite frégate, ou que cette partie de la physique soit configurée avec une magie de friction conditionnelle.  L'une de ces conventions est de contrôler la rotation de la machine en modifiant la vitesse angulaire, et non par les forces appliquées aux roues et à la suspension.  Classiquement, le tank tourne de X degrés par seconde, car nous l'avons décidé sur la base de considérations de gameplay, et non pas parce que ses pistes tournent à telle ou telle vitesse. </p><br><p><img src="https://habrastorage.org/webt/vt/81/yc/vt81ycuavkjcezmuos42pkd3j5c.gif"></p><br><p>  Soit dit en passant, cela ne nie pas le fait que «sous le capot», vous pouvez activer la physique «réelle» de la rotation, <strong>elle a été utilisée dans les premiers prototypes</strong> .  Dans le bon sens, il vaut la peine de fixer le travail de la suspension angulaire, la base de la roue et ainsi de suite.  Si nous commençons à faire des simulations de course, nous y reviendrons certainement, mais pour l'instant, c'est l'un des éléments de la liste des améliorations probables. </p><br><p><img src="https://habrastorage.org/webt/k8/l4/la/k8l4labeq23fkhmcxuyy9obujd8.gif"></p><br><h1 id="struktura-tanka-v-aw-assault">  Structure du char dans AW: Assaut </h1><br><h2 id="ierarhiya-klassov">  Hiérarchie des classes </h2><br><p> <code>AAwmVehicle</code> est la principale classe C ++ responsable de la machine dans le jeu, <strong>divisée en de nombreux composants</strong> (mouvement - <code>UPsRealVehicleMovementComponent</code> , sons, VFX, statistiques, armure et autres).  Le <code>BP_DefaultVehicle</code> hérité, qui est une <strong>couche</strong> supplémentaire <strong>pour les paramètres par défaut</strong> pour toutes les machines.  Tous les autres sont des plans privés de paramètres pour chaque pièce d'équipement du jeu. </p><br><p>  Chaque machine est un ensemble de ces données: </p><br><ul><li>  Blueprint, où <strong>tous les actifs externes sont</strong> enregistrés, les sons, les propriétés à la «véhicules à roues / à chenilles» sont définis et la physique est mise en place. </li><li>  Un squelette maillé et des actifs qui lui sont liés: <br>  - Atout physique (il n'y a pas de magie, tout est standard). <br>  - Arbre animé. </li><li>  Textures (diffuses, carte normale, RMM). </li><li>  Matériel d'instance (coque, chenilles + état brisé). </li><li>  Un ensemble de mailles d'armure pour le système de pénétration. </li><li>  Caméras, vérificateurs de niveau d'eau et autres collisions auxiliaires. </li></ul><br><h2 id="animaciya-tanka">  Animation de réservoir </h2><br><p>  La configuration d'un réservoir est une bagatelle, quelle que soit la complexité de l'arbre d'animation.  Configurer des dizaines de ces réservoirs et les tenir à jour lors du changement d'os, de maillage, etc. est une <strong>quantité complètement inadéquate pour le travail manuel</strong> .  Heureusement, dans notre cas, nous parlons d'un «personnage» assez standardisé: un char peut être disséqué en entités et les appeler stéréotypées.  Il s'agit bien sûr de nommer les os. </p><br><p>  Cette approche nous a permis d'utiliser essentiellement le même arbre d'animation, que les <strong>saints Ctrl + C / Ctrl + V multiplient par n'importe quel nombre de réservoirs</strong> et ne nécessitent aucun support, sauf le contrôle qualité initial. </p><br><p><img src="https://habrastorage.org/webt/jk/ac/3e/jkac3e9ehgqjpxomkep5uekdnoq.png"></p><br><p>  Toute magie se produit à l'intérieur de noeuds sipy personnalisés.  Cela a permis non seulement de normaliser l'arbre, mais aussi de <strong>réduire considérablement le nombre de calculs</strong> par animation (les nœuds standard aiment conduire les systèmes de coordonnées dans les deux sens). </p><br><h2 id="materialy-tanka">  Matériaux du réservoir </h2><br><p>  Pour toutes les parties du réservoir, <strong>un matériau maître est utilisé</strong> , personnalisé par une paire de nœuds Switch. </p><br><p><img src="https://habrastorage.org/webt/bl/az/c_/blazc_ihvsibh0upozkwha6c1ks.png"></p><br><p>  Ensuite, nous obtenons un arbre comme celui-ci: </p><br><pre>  - M_Vehicles
  - - MI_Vehicles_Clean_Body
  - - - MI_Leopard2
  - - - - MI_Leopard2_LOD
  - - MI_Vehicles_Clean_Treads (coché "Treads")
  - - - MI_Leopard2_Treads
  - - - - MI_Leopard2_Treads_LOD </pre><br><p>  Le véritable «poids» ici n'est que <strong>M_Vehicles</strong> et <strong>MI_Vehicles_Clean_Treads</strong> , toutes les autres instances ne sont que des ensembles de paramètres et consomment un minimum de mémoire et d'espace disque. </p><br><p><img src="https://habrastorage.org/webt/sv/zd/zm/svzdzmbcm6u9zpycumfljxddrpo.png"></p><br><p>  En général, l'ensemble des ressources graphiques pour le tank est très standard pour n'importe quel jeu. </p><br><h2 id="rabota-broni">  Travail d'armure </h2><br><p>  Plusieurs fois lors de la communication avec des collègues, la question s'est posée, pourquoi chaque pièce d'armure avait-elle un maillage séparé, et pourquoi n'utilisons-nous pas le système de collisions Anrilov? </p><br><p><img src="https://habrastorage.org/webt/vl/5p/lj/vl5pljjj372kzdcxamm4tat4n2m.png"></p><br><p>  En fait, nous utilisons les collisions habituelles d'Anrilov, mais <strong>uniquement pour «attraper» la balle</strong> .  Une fois que le projectile s'est enfoncé dans le réservoir, les dégâts sont calculés polygonalement sur toutes les feuilles d'armure, en tenant compte des propriétés de chaque pièce, multicouches, de la réflexion du projectile, de l'entonnoir cumulatif et d'autres mécanismes intéressants. </p><br><p>  Le plus pratique dans ce cas est de lire les données de maillage «nues», que nous ne supprimons pas pour un serveur dédié. </p><br><h2 id="set-i-ekstra-optimizaciya">  Réseau et optimisation supplémentaire </h2><br><p>  Quelques points «proches du char» que je voudrais également mentionner brièvement. </p><br><ul><li><p>  Tous les mouvements de réservoirs sont <strong>effectués uniquement sur le serveur</strong> , les clients interpolent uniquement les valeurs reçues.  Aucune extrapolation n'est utilisée.  La fréquence de synchronisation est de <strong>10 fois par seconde</strong> . </p><br></li><li><p>  En fonction de la taille d'écran du tank, nous sautons l'un ou l'autre nombre de ticks du maillage squelette, qui comprend un calcul de toutes les animations et de certaines interactions physiques.  Si le tank n'est pas visible à l'écran, c'est une stupide <strong>boîte non animée flottant dans l'espace</strong> .  L'optimisation du taux de mise à jour intégrée, malgré une bonne idée, a une implémentation très grossière qui ne donne pas une augmentation tangible des performances.  Surtout quand il s'agit de téléphones portables. </p><br></li><li><p>  Pour tous les réservoirs, à l'exception du sien, tous les composants, à l'exception des plus basiques, sont coupés par le client: caméras, contrôleurs et autres éléments qui composent le réservoir.  En fait, <strong>ils n'ont que l'apparence</strong> . </p><br></li></ul><br><p><img src="https://habrastorage.org/webt/hs/96/z4/hs96z4mtindirtkklvghhlznocg.jpeg"></p><br><ul><li>  Un <strong>réservoir LOD1</strong> dédié <strong>fonctionne</strong> sur un serveur dédié.  Moins de pics - moins d'utilisation du processeur.  De plus, la mise à jour de la position des pièces d'armure personnalisées ne se produit qu'au moment où le projectile frappe: cela n'a aucun sens de mettre à jour l'état des pièces à chaque tick. </li></ul><br><h1 id="me-myself--tanks">  Moi, moi-même &amp; Tanks </h1><br><p>  Chez <strong>Pushkin Studio,</strong> nous pensons que l'échange d'expériences de développement est très important, y compris pour la croissance du niveau professionnel au sein de l'équipe.  Les projets Open Source sont une composante importante de cette approche, et je suis heureux de pouvoir présenter à la communauté des technologies telles que <strong>PsRealVehicle</strong> . </p><br><p>  À mon avis, il est très important que nous utilisions nous-mêmes tous les plugins et utilitaires publiés quotidiennement.  Après tout, le chemin clairement démontré par Epic Games eux-mêmes est que le <strong>succès d'une bonne technologie est de l'utiliser par les développeurs eux-mêmes</strong> dans leurs propres produits.  Maintenant, nous travaillons déjà <strong>sur la version UE 4.20</strong> , notre plugin a fait tout ce chemin avec nous, et nous n'allons pas nous arrêter! </p><br><p><img src="https://habrastorage.org/webt/4m/lh/-k/4mlh-kvwjhjyci6vxtcoao45wu8.png"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423653/">https://habr.com/ru/post/fr423653/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423643/index.html">Les banques surveillent de plus en plus la réputation de leurs clients: enquête Business Insider</a></li>
<li><a href="../fr423645/index.html">Comment nous avons servi l'infrastructure informatique de Luzhniki pendant la Coupe du monde</a></li>
<li><a href="../fr423647/index.html">Créer un réseau neuronal simple</a></li>
<li><a href="../fr423649/index.html">"Kubernetes à tous les domaines!" - Entretien avec le comité de programme de la conférence DevOops</a></li>
<li><a href="../fr423651/index.html">Nous invitons tout le monde au hackathon SmartMail Hack: À propos de Bienvenue</a></li>
<li><a href="../fr423657/index.html">Je ne respecte pas l'encapsulation ou l'utilisation d'un autre type de table de méthodes pour appeler rapidement des méthodes privées</a></li>
<li><a href="../fr423663/index.html">Nous écrivons un traducteur simple en Lisp - III</a></li>
<li><a href="../fr423667/index.html">L'histoire des premiers jeux vidéo à microprocesseur</a></li>
<li><a href="../fr423671/index.html">Les rivaux de Tesla reçoivent un investissement d'un milliard de dollars de l'Arabie saoudite</a></li>
<li><a href="../fr423673/index.html">Risques liés au développement de logiciels</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>