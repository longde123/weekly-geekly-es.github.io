<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüíª üë©üèº‚Äçüîß üèåÔ∏è Protector de pantalla encantador para Kodi üë©üèΩ üë®‚Äçüë®‚Äçüëß‚Äçüë¶ üö∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Asignaci√≥n de un protector de pantalla a Kodi 
 El proyecto est√° dise√±ado para crear un protector de pantalla "Encantador" con una cantidad m√≠nima de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Protector de pantalla encantador para Kodi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466067/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ob/ao/xp/obaoxpyes3hokgu9-el2ra488ya.png" alt="imagen alt"></div><br><h2>  Asignaci√≥n de un protector de pantalla a Kodi </h2><br>  El proyecto est√° dise√±ado para crear un protector de pantalla <strong>"Encantador"</strong> con una cantidad m√≠nima de c√≥digo fuente en Python.  El proyecto es el complemento m√°s simple para el centro multimedia Kodi. <br><br>  El proyecto muestra c√≥mo puede crear un protector de pantalla muy hermoso basado completamente en el trabajo de la comunidad "OpenSource".  Un proyecto de integraci√≥n, este es un ejemplo de escritura de dos componentes independientes, cada uno de los cuales toma alrededor de 80 l√≠neas de c√≥digo.  El primer componente es un generador de contenido, script de shell, el segundo componente es un complemento del centro multimedia Kodi, que es responsable de mostrar el contenido. <br><br>  Y, por √∫ltimo, si usted es un programador y utiliza el sistema de control de versiones Git, puede visualizar su trabajo, escribirlo en un archivo de video y disfrutar del resultado en un televisor o pantalla de computadora, recost√°ndose en su silla con una taza de caf√©.  Y en las frescas noches de oto√±o, puede dormir tranquilamente bajo su protector de pantalla, sin olvidar configurar el temporizador de apagado del dispositivo en Kodi. <br><a name="habracut"></a><br><h2>  Pre√°mbulo </h2><br>  <strong>Puedes mirar interminablemente tres cosas:</strong> <strong><br></strong>  <strong>c√≥mo arde el fuego, c√≥mo fluye el agua y c√≥mo trabajan otras personas.</strong> <br><br>  Dado que el complemento est√° escrito para el "Centro Multimedia Kodi", visualizar√© el trabajo del s√∫per equipo de "Programadores Kodi". <br><br><h2>  Usando complementos en Kodi </h2><br>  El Centro Multimedia Kodi es un programa muy potente y flexible, que trabaja en conjunto con la biblioteca externa ffmpeg, para decodificar archivos de audio y video. <br><br>  Para crear una aplicaci√≥n de terceros, Kodi utiliza el mecanismo de extensi√≥n de "complementos" o simplemente complementos.  Para crear mi propio complemento, necesito algunas habilidades y un poco de conocimiento del lenguaje de programaci√≥n Python. <br><br>  El mecanismo del complemento Kodi es extremadamente flexible y conveniente.  Python es un lenguaje interpretado, lo que significa que no necesito compilar nada, compilarlo en un paquete de software separado, sufrir archivos de compilaci√≥n como "makefile", etc. <br><br>  Para la distribuci√≥n final del complemento Kodi, simplemente emp√°quelo en el archivo Zip, observando algunas reglas en la estructura del directorio.  Con el archivo Zip final a la mano, se puede instalar en cualquier dispositivo en el que trabaje Kodi: una computadora, tableta y, finalmente, un televisor (es decir, un mont√≥n de TV + placa √∫nica), especificando el archivo como una fuente de complemento. <br><br><h2>  Estructura del complemento Kodi </h2><br><pre> ‚îî‚îÄ‚îÄ screensaver.kodi.universe
     ‚îú‚îÄ‚îÄ README.md
     ‚îú‚îÄ‚îÄ addon.xml
     ‚îú‚îÄ‚îÄ changelog.txt
     ‚îú‚îÄ‚îÄ create.sh
     ‚îú‚îÄ‚îÄ fanart.jpg
     ‚îú‚îÄ‚îÄ icon.png
     ‚îú‚îÄ‚îÄ recursos
     ‚îÇ ‚îú‚îÄ‚îÄ idioma
     ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ ingl√©s
     ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ strings.po
     ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ ruso
     ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ strings.po
     ‚îÇ ‚îú‚îÄ‚îÄ settings.xml
     ‚îÇ ‚îî‚îÄ‚îÄ pieles
     ‚îÇ ‚îî‚îÄ‚îÄ predeterminado
     ‚îÇ ‚îú‚îÄ‚îÄ 720p
     ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ kodi-universe.xml
     ‚îÇ ‚îú‚îÄ‚îÄ 1080i
     ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ kodi-universe.xml
     ‚îÇ ‚îî‚îÄ‚îÄ medios
     ‚îÇ ‚îú‚îÄ‚îÄ black.jpg
     ‚îÇ ‚îú‚îÄ‚îÄ buran.jpg
     ‚îÇ ‚îî‚îÄ‚îÄ kodi-universe.mkv
     ‚îî‚îÄ‚îÄ screensaver.py
</pre><br><br><ul><li>  README.md - archivo opcional, contiene una descripci√≥n del proyecto para github.com </li><li>  Complemento </li><li>  changelog.txt: un archivo opcional con una lista de cambios del proyecto </li><li>  create.sh es un archivo opcional, un script bash est√° dise√±ado para crear un protector de pantalla de archivo Zip (a) y generar un archivo de video desde el historial de Git usando la herramienta Gource, el archivo no tiene relaci√≥n con el complemento Kodi en s√≠, es necesario para una distribuci√≥n conveniente del complemento.  Es totalmente aut√≥nomo, es decir  teniendo solo este archivo, siempre puede crear un archivo Zip completo del complemento (si tiene una conexi√≥n a Internet). </li><li>  fanart.jpg - imagen de fondo del complemento </li><li>  icon.png - el icono principal </li><li>  recursos - directorio con recursos de complementos </li><li>  screensaver.py: el archivo principal del complemento, contiene todo el c√≥digo fuente del complemento en Python, el nombre del archivo puede ser cualquier cosa, lo principal es que este nombre est√° escrito en el archivo addon.xml </li></ul><br><h3>  Descripci√≥n de los recursos del complemento </h3><br>  El directorio de recursos contiene los siguientes archivos: <br><br><ul><li>  language / English / strings.po - cadenas de interfaz de plugin originales en ingl√©s </li><li>  language / Russian / strings.po - traducci√≥n al ruso, el archivo est√° incluido en el mecanismo est√°ndar de Kodi para traducir el contenido a los idiomas nacionales de los pa√≠ses, el comienzo del archivo contiene un encabezado de texto est√°ndar de varias l√≠neas (se puede encontrar un ejemplo en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kodi.wiki</a> , secci√≥n de complementos) , luego hay saltos de l√≠nea que constan de tres campos: <br><br><ul><li>  <strong>msgctxt</strong> : enlace a un n√∫mero de l√≠nea √∫nico </li><li>  <strong>msgstr</strong> - identificador de cadena de texto original en ingl√©s </li><li>  <strong>msgstr</strong> - traducci√≥n del valor de <strong>msgid</strong> al idioma nacional, en este caso, al ruso (directorio ruso) </li></ul><br></li><li>  settings.xml: el archivo principal de la configuraci√≥n del complemento, describe el men√∫ gr√°fico de las propiedades del complemento, cuyos par√°metros de cadena se pueden cambiar, donde: <br><br><ul><li>  <strong>id</strong> : identificador de recurso de texto </li><li>  <strong>etiqueta</strong> : una etiqueta num√©rica √∫nica para el campo de texto (corresponde al campo msgctxt en el archivo de traducciones strings.po) </li><li>  <strong>tipo</strong> : un tipo de recurso predefinido (todos los tipos posibles se describen en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sitio</a> web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kodi.wiki</a> , secci√≥n de complementos) </li><li>  <strong>predeterminado</strong> : el valor <strong>predeterminado</strong> del par√°metro (puede restablecer el par√°metro a este valor utilizando el men√∫ Kodi del mismo nombre) </li></ul><br></li><li>  resources / skins / default / 1080i / kodi-universe.xml - archivo de configuraci√≥n xml </li><li>  resources / skins / default / 720p / kodi-universe.xml: archivo de configuraci√≥n xml que describe la ubicaci√≥n de los controles del complemento (controles), su geometr√≠a, tama√±os generales, posici√≥n de los elementos, tipo de visibilidad, etc.  El nombre de la configuraci√≥n se determina seg√∫n el modo del adaptador de video (por ejemplo, 1080i o 720p) <br></li></ul><br><div class="spoiler">  <b class="spoiler_title">contenido de ruso / strings.po</b> <div class="spoiler_text"><pre><code class="xml hljs"># Kodi Media Center language file # Addon Name: Screensaver Kodi Universe # Addon id: screensaver.kodi.universe # Addon Provider: berserktv msgid "" msgstr "" "Project-Id-Version: Kodi Addons\n" "Report-Msgid-Bugs-To: alanwww1@kodi.org\n" "POT-Creation-Date: YEAR-MO-DA HO:MI+ZONE\n" "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n" "Last-Translator: Kodi Translation Team\n" "Language-Team: English \ (http://www.transifex.com/projects/p/xbmc-addons/language/en/)\n" "MIME-Version: 1.0\n" "Content-Type: text/plain; charset=UTF-8\n" "Content-Transfer-Encoding: 8bit\n" "Language: en\n" "Plural-Forms: nplurals=2; plural=(n != 1);\n" msgctxt "#32001" msgid "Screensaver" msgstr " " msgctxt "#32002" msgid "Video file" msgstr "" msgctxt "#32003" msgid "Not Video" msgstr "  "</code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">contenido de settings.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"> <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"800"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"32001"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">setting</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"videofile"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"32002"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"video"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">setting</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"not-video"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bool"</span></span></span><span class="hljs-tag"> \ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">label</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"32003"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">default</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">category</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">settings</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  <strong>Recursos multimedia del complemento:</strong> <br><br><ul><li>  resources / skins / default / media / black.jpg: fondo negro que llena la pantalla antes de comenzar el video </li><li>  resources / skins / default / media / buran.jpg - imagen futurista de la nave espacial "Buran, en las alas de un sue√±o" </li><li>  resources / skins / default / media / kodi-universe.mkv: el archivo de video principal que se reproduce c√≠clicamente por el complemento hasta el evento de despertar </li></ul><br><h2>  Archivo de configuraci√≥n ra√≠z del complemento - addon.xml </h2><br>  Addon.xml: es el archivo de configuraci√≥n principal del complemento, del cual Kodi toma toda la informaci√≥n necesaria para iniciar el complemento e integrarlo en el centro multimedia. <br><br><div class="spoiler">  <b class="spoiler_title">contenido addon.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"> <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addon</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"screensaver.kodi.universe"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Kodi Universe"</span></span></span><span class="hljs-tag"> \ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.1.2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">provider-name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"berserktv"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">requires</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">addon</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xbmc.python"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2.7"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">requires</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">point</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xbmc.ui.screensaver"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">library</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"screensaver.py"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">point</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"xbmc.addon.metadata"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">platform</span></span></span><span class="hljs-tag">&gt;</span></span>all<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">platform</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag">&gt;</span></span>https://github.com/berserktv/screensaver.kodi.universe <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span>Kodi Universe<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">summary</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span>Screensaver - Kodi Universe <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span>  -  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license</span></span></span><span class="hljs-tag">&gt;</span></span>GNU GENERAL PUBLIC LICENSE. Version 2, June 1991<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">license</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extension</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">addon</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  Los principales par√°metros del complemento son: <br><br><ul><li>  <strong>Secci√≥n de complementos</strong> <br><ul><li>  <strong>id</strong> : identificador de texto √∫nico del complemento </li><li>  <strong>nombre</strong> - nombre del complemento </li><li>  <strong>version</strong> - versi√≥n del complemento </li><li>  <strong>nombre-proveedor</strong> - nombre del proveedor del complemento </li></ul><br></li><li>  <strong>Requiere secci√≥n</strong> - dependencias <br>  en esta secci√≥n, los m√≥dulos de los que depende el funcionamiento de este complemento <br></li><li>  <strong>Secci√≥n de</strong> extensi√≥n - extensiones <br>  en esta secci√≥n (puede haber varias), se indica el tipo de complemento, <br>  punto de entrada principal al complemento: <br>  point = "xbmc.ui.screensaver" library = "screensaver.py" <br><br>  en nuestro caso, el complemento es el "protector de pantalla" al que se transmite <br>  control llamando a un script de Python llamado "screensaver.py" <br><br>  point = "xbmc.addon.metadata" tambi√©n se puede especificar en la secci√≥n de extensiones <br>  con el tipo de plataforma en la que puede funcionar el complemento, el nombre y la descripci√≥n del complemento <br>  en un idioma / idiomas en particular, as√≠ como el tipo de complemento de LICENCIA <br>  La cantidad total de metadatos que se puede especificar en esta secci√≥n de extensi√≥n puede ser <br>  Puede encontrar suficiente informaci√≥n grande y m√°s detallada en el sitio web <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">kodi.tv</a> <br></li></ul><br><h2>  Implementaci√≥n de complementos </h2><br>  Dado que el complemento debe ser extremadamente simple y directo, en su implementaci√≥n me limitar√© a un archivo fuente principal screensaver.py ubicado en el directorio ra√≠z del protector de pantalla (a) <br><br>  Para que se invoque el script de Python, lo registr√© en el archivo addon.xml, consulte la secci√≥n anterior <br><br>  El lenguaje de programaci√≥n Python es bastante flexible, le permite realizar la misma acci√≥n de varias maneras, y para mayor claridad, utilizar√© el enfoque orientado a objetos con las clases. <br><br><div class="spoiler">  <b class="spoiler_title">screensaver.py content</b> <div class="spoiler_text"><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- # Plugin for Kodi mediacenter # Kodi Universe - Very Simple Screensaver # GNU GENERAL PUBLIC LICENSE. Version 2, June 1991 import os import sys import xbmc import urllib import xbmcgui import xbmcaddon __id__ = 'screensaver.kodi.universe' __addon__ = xbmcaddon.Addon(id=__id__) __path__ = __addon__.getAddonInfo('path') def_video_url = __path__+'/resources/skins/default/media/kodi-universe.mkv' class BsPlaylist: def __init__(self,): pass def getPlaylist(self,): try: xbmc.PlayList(1).clear() except: pass self.playlist = xbmc.PlayList(1) item = xbmcgui.ListItem("item1") self.playlist.add(__addon__.getSetting("videofile"),item) return self.playlist class BsPlayer(xbmc.Player): def __init__(self,): pass def onPlayBackStarted(self): xbmc.executebuiltin("PlayerControl(RepeatAll)") def onPlayBackStopped(self): return class Screensaver(xbmcgui.WindowXMLDialog): def __init__( self, *args, **kwargs ): pass def onInit(self): video_url = __addon__.getSetting("videofile") if (video_url == ""): video_url = def_video_url __addon__.setSetting("videofile", video_url) if (__addon__.getSetting("not-video") == "true" \ or not os.path.isfile(video_url) ): return li = BsPlaylist() self.vpl = li.getPlaylist() if self.vpl: xbmc.sleep(2000) self.getControl(1).setImage("black.jpg") self.player = BsPlayer() if not xbmc.getCondVisibility("Player.HasMedia"): self.player.play(self.vpl,windowed=True) def onAction(self,action): try: xbmc.PlayList(1).clear() except: pass try: xbmc.Player().stop() except: pass try: self.close() except: pass if __name__ == '__main__': scr = Screensaver( 'kodi-universe.xml', __path__, 'default', '', ) scr.doModal() del scr</span></span></code> </pre><br></div></div><br><h4>  protector de pantalla de clase (xbmcgui.WindowXMLDialog) </h4><br>  La clase principal del protector de pantalla. <br><br>  La API de Python Kodi incluye varios m√≥dulos principales: <strong>xbmc, xbmcgui, xbmcplugin, xbmcaddon y xbmcvfs</strong> .  Para trabajar con la GUI de Kodi, usar√© el m√≥dulo xbmcgui.  Este m√≥dulo contiene clases responsables de diferentes elementos de la interfaz. <br><br>  Para crear un cuadro de di√°logo de complemento con su interfaz descrita en el archivo de configuraci√≥n xml, se <strong>utiliza la</strong> clase <strong>xbmcgui .WindowXMLDialog</strong> <br><br><div class="spoiler">  <b class="spoiler_title">Contenido de kodi-universe.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"> <span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">window</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"window"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">controls</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">control</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>Background image<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posx</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posx</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posy</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posy</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">colordiffuse</span></span></span><span class="hljs-tag">&gt;</span></span>FF555555<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">colordiffuse</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aspectratio</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">scalediffuse</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">align</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag"> \ </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aligny</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"center"</span></span></span><span class="hljs-tag">&gt;</span></span>scale<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">aspectratio</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span>1920<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span>1080<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">texture</span></span></span><span class="hljs-tag">&gt;</span></span>buran.jpg<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">texture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">control</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">control</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"videowindow"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span>VideoWindow<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">description</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posx</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posx</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posy</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">posy</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span>1920<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">width</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span>1080<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">height</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">visible</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">visible</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">control</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">controls</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">window</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  El archivo XML de configuraci√≥n describe dos elementos de control: <br><br>  La primera con el identificador - <strong>1</strong> , es una imagen de fondo - "Tormenta de nieve, en las alas de un sue√±o", de ciertos tama√±os, alineada al centro de la pantalla. <br><br>  El segundo elemento con identificador - <strong>2</strong> , es una ventana para reproducir el video, con un signo de visibilidad y ciertas dimensiones geom√©tricas. <br><br>  La clase Screensaver hereda de la clase WindowXMLDialog y tiene tres m√©todos: <br><br><ul><li>  El constructor <strong>__init__</strong> m√©todo se llama autom√°ticamente cuando se crea el objeto </li><li>  <strong>OnInit</strong> : m√©todo de inicializaci√≥n gr√°fica, llamado antes de la primera ventana de visualizaci√≥n </li><li>  El m√©todo <strong>onAction</strong> es un m√©todo de procesamiento de eventos que se llama cuando ocurren ciertos eventos, en este caso, cuando ocurre un evento de despertar, es decir,  haciendo clic en el bot√≥n del mouse, el teclado, moviendo el puntero del mouse o la llegada de cualquier evento desde el panel de control. </li></ul><br>  La clase Screensaver usa dos clases auxiliares: <br><br><ul><li>  Clase <strong>BsPlayer</strong> : heredada de la clase de reproductor de video XBMC est√°ndar <strong>xbmc.Player</strong> , la clase contiene tres m√©todos: <br><ol><li>  El constructor <strong>__init__</strong> m√©todo se llama autom√°ticamente cuando se crea el objeto </li><li>  Anulaci√≥n del <strong>m√©todo de inicio de</strong> video <strong>onPlayBackStarted</strong> </li><li>  Anulaci√≥n del m√©todo de finalizaci√≥n de video <strong>onPlayBackStopped</strong> <br><br>  Nota: como redefin√≠ el m√©todo para detener la reproducci√≥n y est√° vac√≠o, <br>  entonces la regla funcionar√°: no pares, vamos <br></li></ol><br></li><li>  Class <strong>BsPlaylist</strong> : una clase de lista dise√±ada para devolver un objeto <strong>xbmc.PlayList</strong> <br>  la clase contiene dos m√©todos: <br><br><ol><li>  El constructor <strong>__init__</strong> m√©todo se llama autom√°ticamente cuando se crea el objeto </li><li>  El m√©todo <strong>getPlaylist</strong> para definir una lista de reproducci√≥n utilizando la lista XBMC est√°ndar: xbmc.PlayList </li></ol></li></ul><br>  El algoritmo general de Screensaver (a) es el siguiente: <br><br><ol><li>  Cuando se produce el evento de llamada Screensaver (a): la inactividad del usuario durante el n√∫mero especificado de minutos y la ausencia de reproducci√≥n activa de video / audio, Kodi transfiere el control al script screensaver.py </li><li>  Basado en el archivo de configuraci√≥n xml, se crea la ventana gr√°fica principal del complemento.  Cuando se inicializa la ventana gr√°fica, se cargan los recursos de cadena de la configuraci√≥n del complemento (el men√∫ es "configuraci√≥n"). </li></ol><br>  Si no se especifica el archivo de video <br>  <strong>__addon __. getSetting ("videofile")</strong> <br><br>  se rellena con un par√°metro predeterminado <br>  <strong>video_url = def_video_url</strong> <br>  <strong>__addon __. setSetting ("videofile", video_url)</strong> <br><br>  si no hay bandera - "deshabilitar reproducci√≥n de video" <br>  <strong>__addon __. getSetting ("no-video")</strong> <br><br>  la imagen futurista "Tormenta de nieve en las alas del sue√±o" se muestra durante dos segundos <br>  <strong>xbmc.sleep (2000)</strong> <br><br>  luego, por el identificador del control 1, una imagen de fondo negra <br>  <strong>self.getControl (1) .setImage ("black.jpg")</strong> <br><br>  y luego el reproductor de video XBMC comienza con una lista de reproducci√≥n de un solo archivo <br>  <strong>self.player.play (self.vpl, windowed = True)</strong> <br><br>  El archivo de video se reproduce en c√≠rculo hasta el momento en que llega <br>  evento de vigilia, es decir  cualquier acci√≥n activa del usuario <br><br><h2>  Crear visualizaciones para el complemento Kodi en Ubuntu </h2><br>  <strong>Nota:</strong> <strong><br></strong>  <strong>Todas las instrucciones descritas a continuaci√≥n las ejecutar√© bajo el sistema operativo Linux, es decir, la distribuci√≥n de Ubuntu</strong> <br><br>  Tambi√©n es posible realizar los pasos descritos a continuaci√≥n en un sistema operativo compatible con Debian: la condici√≥n principal para el lanzamiento ser√° la presencia del administrador de paquetes <strong>Apt</strong> en el sistema, es decir  Un administrador que le permite instalar el software <strong>Deb</strong> en el sistema.  Por supuesto, puede realizar los siguientes pasos en cualquier sistema Linux, pero esto requerir√° pasos adicionales de usted y posiblemente cambiar la secuencia de algunos comandos (como un ejemplo: instalar paquetes RPM en lugar de Deb, etc.) <br><br>  Gource es un proyecto muy interesante y fascinante.  <strong>Gource</strong> lleva el nombre de la fuente, es decir  c√≥digo fuente + G (Gr√°ficos).  Esta aplicaci√≥n le permite visualizar el historial de cambios en el sistema de control de versiones.  Gource entiende de forma nativa a Git, para otros sistemas como SVN, Mercurial hay convertidores que le permiten convertir la base de almacenamiento en formato Git. <br><br>  <strong>Gource</strong> : se <strong>vuelve</strong> incre√≠blemente hermoso con OpenGL y tiene una gran cantidad de par√°metros para su trabajo.  Esta herramienta incre√≠blemente poderosa para generar la visualizaci√≥n "Encantadora" que usar√©. <br><br>  Para crear una visualizaci√≥n, necesito una secuencia de comandos descritos en un script <strong>bash</strong> <br><br>  Para generar el video, necesito dos programas principales: <br>  <strong>Fuente</strong> : para crear el archivo de video fuente para el historial de Git de cualquier proyecto especificado <br>  <strong>FFmpeg</strong> : una biblioteca para codificar y decodificar video y audio <br><br><h2>  Script para generar un archivo de video de complemento </h2><br><div class="spoiler">  <b class="spoiler_title">contenido de create.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # This is script of the generation video from "Gource". # # project: Screensaver Kodi Universe (https://berserk.tv) # This script creates a ZIP archive of a Kodi screensaver. # GNU GENERAL PUBLIC LICENSE. Version 2, June 1991 # #     , #        # git zip ffmpeg gource    sudo OUT_DIR="output" OUT="kodi-universe.mkv" NAME_PROJ="screensaver.kodi.universe" MEDIA_PATH="${NAME_PROJ}/resources/skins/default/media" NAME_REP="https://github.com/berserktv/${NAME_PROJ}.git" GSFILE="output.ppm" SECONDS_PER_DAY="1" GOURCE_FRAME_RATE="30" RESOLUTION="-1920x1080" CODEC_OUT_FRAME_RATE="25" # -vcodec -     , # libx264         (h.264) # -profile -    (baseline, main, high, # high10, high422, high444) # -pix_fmt -    (yuv420p, yuv422p, yuv444p) FFPARAM="-vcodec libx264 -profile:v high422 -pix_fmt yuv420p" GSPARAM1="--camera-mode track ${RESOLUTION} --stop-position 1.0 \ --seconds-per-day ${SECONDS_PER_DAY}" GSPARAM2="--git-branch origin/master --multi-sampling \ --stop-at-end --hide-filenames" GSPARAM3="--highlight-users --file-idle-time 13 --max-files 0 --hide date" GSPARAM4="--title Kodi --bloom-multiplier 1.0 --bloom-intensity 1.0" VIS="visualize" # GIT         GIT_REP="https://github.com/xbmc/xbmc.git" # arg1 -   git , #         # example: ./create.sh "https://github.com/facebook/react.git" if [ -n "$1" ]; then GIT_REP="$1"; fi #   git zip ffmpeg  gource packages="git zip ffmpeg gource" for i in $packages; do if ! dpkg -s $i | grep -q "install ok installed"; then sudo apt-get install -y $i; fi done #    test -d ${OUT_DIR} &amp;&amp; rm -rf ${OUT_DIR} test -d ${OUT_DIR} || mkdir -p ${OUT_DIR} cd ${OUT_DIR} #  Screensaver  GIT ,   if ! git clone ${NAME_REP} ${NAME_PROJ}; then echo "Error, not load ${NAME_REP}, exit ..."; exit 1; fi if ! git clone ${GIT_REP} ${VIS}; then echo "Error, not load ${GIT_REP}, exit ..."; exit 2; fi #    Screensaver(a) gource ${VIS} ${GSPARAM1} ${GSPARAM2} ${GSPARAM3} ${GSPARAM4} \ --output-framerate ${GOURCE_FRAME_RATE} --output-ppm-stream ${GSFILE} ffmpeg -y -r ${GOURCE_FRAME_RATE} -f image2pipe -vcodec ppm \ -i ${GSFILE} ${FFPARAM} -r ${CODEC_OUT_FRAME_RATE} ${OUT} &amp;&amp; sync mv -f ${OUT} ${MEDIA_PATH} rm -f ${GSFILE} #     #   GIT    screensaver() test -d ${NAME_PROJ}/.git &amp;&amp; rm -fr ${NAME_PROJ}/.git zip -r ${NAME_PROJ}.zip ${NAME_PROJ}</span></span></code> </pre><br></div></div><br>  El script debe ejecutarse como un usuario normal, pero durante el inicio requiere la instalaci√≥n de los siguientes programas <strong>git zip ffmpeg gource</strong> <br><br>  Si est√°n ausentes, el script intentar√° instalarlos usando el <strong>comando de</strong> escalado de privilegios - <strong>sudo</strong> . <br><br>  En resumen, el script hace lo siguiente: <br><br><ul><li>  Descarga dos proyectos de Internet con Github. <br>  El primer proyecto es Screensaver en s√≠. <br>  Segundo proyecto - XBMC (Kodi) <br><br>  Si especifica un argumento en la l√≠nea de comando que representa una ruta Git, puede cargar cualquier proyecto Git para su visualizaci√≥n, un ejemplo de c√≥mo cargar otro proyecto Git: <br><br><pre> <code class="bash hljs">./create.sh https://github.com/facebook/react.git</code> </pre> <br>  en este caso, tomo el famoso motor de Facebook para visualizaci√≥n - Reaccionar <br></li><li>  Ejecuta el programa <strong>Gource</strong> con argumentos de l√≠nea de comandos para generar fragmentos de video en formato PPM sin comprimir. <br>  El video se generar√° hasta que el usuario cierre la ventana Gource con el mouse (haciendo clic en la cruz) o hasta que el usuario presione la tecla <strong>ESC</strong> <br><br><div class="spoiler">  <b class="spoiler_title">Nota:</b> <div class="spoiler_text"><blockquote>  No recomiendo que genere un video de m√°s de <strong>tres minutos</strong> , ya que esto puede llevar un tiempo suficientemente largo y requerir que almacene m√°s de <strong>30 GB de</strong> espacio libre en su disco duro.  Un minuto de im√°genes con una resoluci√≥n de 1920 √ó 1080 (FullHD) y una frecuencia de 30 cuadros por segundo requiere aproximadamente 10 GB de espacio en el disco duro.  Este es un archivo temporal, y despu√©s de generar el contenedor de video MKV correcto (c√≥dec h.264) usando FFmpeg, este archivo se elimina y el archivo resultante permanece, lo que toma 20 MB por un minuto de video FullHD a 25 cuadros por segundo. <br><br>  Con esas configuraciones de Gource que usa el script, tiene la oportunidad de seleccionar cualquier secci√≥n de tiempo desde el comienzo del proyecto hasta el presente, la escala lineal en la parte inferior de la ventana de Gource es responsable de esto.  Puede usar el mouse para seleccionar en cualquier momento, y la visualizaci√≥n comienza desde este momento, es decir  todos los objetos anteriores en la pantalla desaparecen, esto hace que el video sea m√°s din√°mico. <br></blockquote><br></div></div><br></li><li>  Inicia el programa FFmpeg con una lista de argumentos para crear un contenedor MKV a partir del conjunto de im√°genes original de Gource; </li><li>  Crea el archivo Zip final con el proyecto Screensaver (a) y el archivo de video generado; </li></ul><br><h2>  Opciones de origen </h2><br><ul><li>  01 <strong>- modo</strong> c√°mara c√°mara modo <strong>pista</strong> <br>  (rastrea usuarios activos actuales) <br></li><li>  02 <strong>- posici√≥n</strong> final <strong>1.0</strong> posici√≥n final <br>  (establece la posici√≥n final para la reproducci√≥n, rango de 0.0 a 1.0) <br></li><li>  03 - <strong>segundos por d√≠a 1</strong> n√∫mero de d√≠as por segundo video <br>  (el par√°metro determina cu√°nto trabajo ver√° en el intervalo de un segundo del video) <br></li><li>  04 <strong>- rama de trabajo de origen de rama git /</strong> proyecto <strong>maestro</strong> </li><li>  05 <strong>-</strong> parada al <strong>final</strong> despu√©s de que git log haya terminado </li><li>  06 <strong>-</strong> habilitaci√≥n de suavizado de <strong>muestreo m√∫ltiple</strong> </li><li>  07: <strong>ocultar nombres de archivo</strong> eliminar nombres de archivo </li><li>  08 <strong>: los usuarios</strong> destacados resaltan los nombres de usuario </li><li>  09 <strong>: tiempo de</strong> inactividad del archivo inactivo <strong>13</strong> para archivo <br>  (la cantidad de tiempo despu√©s de la cual el nombre del archivo se elimina de la pantalla) <br></li><li>  10 <strong>--max-files 0</strong> n√∫mero m√°ximo de archivos <br>  (un valor de 0 elimina el l√≠mite en el n√∫mero de nombres de archivo mostrados) <br></li><li>  11 - <strong>ocultar fecha</strong> eliminar la fecha para la que se muestra el marco actual </li><li>  12 - <strong>t√≠tulo Kodi el</strong> nombre que <strong>aparece</strong> en la esquina inferior izquierda del video </li><li>  13 <strong>--bloom-multiplier 1.0</strong> controla el efecto de "floraci√≥n ligera" usando el radio. </li><li>  14 - <strong>la intensidad de floraci√≥n 1.0</strong> controla el efecto de "floraci√≥n ligera" usando intensidad. </li><li>  15 <strong>- velocidad de fotogramas de</strong> salida <strong>30</strong> cuadros de salida por segundo </li><li>  16 <strong>- nombre del</strong> archivo de salida de salida <strong>-ppm-stream</strong> en formato PPM </li></ul><br>  nota: algunos par√°metros pueden ser mutuamente excluyentes, <br>  Puede encontrar una lista completa de par√°metros <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br><h4>  Breve video tutorial para Screensaver (a) </h4><br><br><div class="spoiler">  <b class="spoiler_title">1) Descargue el proyecto desde github:</b> <div class="spoiler_text"><pre> <code class="bash hljs"> git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/berserktv/screensaver.kodi.universe.git</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">2) Genere un video y cree un archivo Zip del complemento:</b> <div class="spoiler_text"><pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> screensaver.kodi.universe chmod u+x create.sh ./create.sh</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">3) Tiempo de generaci√≥n de video y uso de espacio libre en disco:</b> <div class="spoiler_text"><pre> <code class="bash hljs">      .           -    20      Gource (PPM)   MKV      FFmpeg. (  h.264)  ,   Git  XBMC (Kodi)   700            .       PPM   10     ( FullHD, 30   ).</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">4) Instalar protector de pantalla en Kodi</b> <div class="spoiler_text"><pre> <code class="bash hljs">    <span class="hljs-string"><span class="hljs-string">""</span></span>   Kodi (        )   Kodi - <span class="hljs-string"><span class="hljs-string">""</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">" "</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">" Zip "</span></span>   ,     Kodi Universe    Screensaver(),     .  Settings ( ) =&gt; <span class="hljs-string"><span class="hljs-string">" "</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">""</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466067/">https://habr.com/ru/post/466067/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466049/index.html">Desde copiar y pegar hasta componentes: reutilizar c√≥digo en diferentes aplicaciones</a></li>
<li><a href="../466051/index.html">Automatizaci√≥n de perfiles de reuni√≥n de Java 10/09</a></li>
<li><a href="../466053/index.html">Representaci√≥n de las empresas rusas de TI en Singapur: ¬øpor qu√© no?</a></li>
<li><a href="../466059/index.html">Libro "Design Thinking. Del conocimiento a los nuevos productos y mercados "</a></li>
<li><a href="../466065/index.html">Resumen de noticias de PostgreSQL. Edici√≥n No.17</a></li>
<li><a href="../466069/index.html">C√≥mo hacer que el equipo busque ideas m√°s productivas</a></li>
<li><a href="../466071/index.html">10.3 segundos por hash: miner√≠a en la computadora de control a bordo de la nave espacial Apollo</a></li>
<li><a href="../466075/index.html">C√≥mo dej√© la ciencia b√°sica en una startup</a></li>
<li><a href="../466077/index.html">Transmitir el D√≠a del Techdir en San Petersburgo</a></li>
<li><a href="../466081/index.html">3 de septiembre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>