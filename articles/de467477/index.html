<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚ÄçüöÄ ü¶Ç üëàüèª Kubernetes 1.16: Highlights √úbersicht üßòüèø üìö üåÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Heute, am Mittwoch, findet die n√§chste Ver√∂ffentlichung von Kubernetes statt - 1.16. Nach der Tradition, die sich f√ºr unseren Blog zum zehnten Jahrest...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubernetes 1.16: Highlights √úbersicht</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/467477/"><img src="https://habrastorage.org/webt/6b/oi/xq/6boixq7wqypazw43aysbw8y9xty.png"><br><br>  Heute, am Mittwoch, findet die n√§chste Ver√∂ffentlichung von Kubernetes <a href="">statt</a> - 1.16.  Nach der Tradition, die sich f√ºr unseren Blog zum zehnten Jahrestag entwickelt hat, sprechen wir √ºber die wichtigsten √Ñnderungen in der neuen Version. <br><br>  Die zur Vorbereitung dieses Materials verwendeten Informationen stammen aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Kubernetes-Erweiterungsverfolgungstabelle</a> , <a href="">CHANGELOG-1.16</a> und verwandten Problemen, Pull-Anforderungen sowie Kubernetes-Verbesserungsvorschl√§gen (KEP).  Also lass uns gehen! .. <a name="habracut"></a><br><br><h2>  Knoten </h2><br>  Eine wirklich gro√üe Anzahl bemerkenswerter Innovationen (im Alpha-Versionsstatus) wird auf der Seite der Knoten von K8s-Clustern (Kubelet) pr√§sentiert. <br><br>  Zun√§chst werden die sogenannten <b>" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ephemeral Container</a> " <i>(Ephemeral Containers)</i></b> vorgestellt <b>, die den Debugging-Prozess in Pods vereinfachen sollen</b> .  Mit dem neuen Mechanismus k√∂nnen Sie spezielle Container ausf√ºhren, die im Namespace vorhandener Pods beginnen und f√ºr kurze Zeit leben.  Ihr Zweck ist die Interaktion mit anderen Pods und Containern, um Probleme und Fehlerbehebungen zu l√∂sen.  F√ºr diese Funktion wird ein neuer <code>kubectl debug</code> Befehl <code>kubectl debug</code> , der im Wesentlichen <code>kubectl exec</code> : Nur anstatt den Prozess im Container zu <code>kubectl exec</code> (wie im Fall von <code>exec</code> ), wird der Container im Pod <code>kubectl exec</code> .  Ein solcher Befehl verbindet beispielsweise einen neuen Container mit dem Pod: <br><br><pre> <code class="bash hljs">kubectl debug -c debug-shell --image=debian target-pod -- bash</code> </pre> <br>  Details zu kurzlebigen Beh√§ltern (und Beispiele f√ºr deren Verwendung) finden Sie im <a href="">entsprechenden KEP</a> .  Die aktuelle Implementierung (in K8s 1.16) ist die Alpha-Version. Zu den Kriterien f√ºr die √úbertragung auf die Beta-Version geh√∂rt das Testen der Ephemeral Containers-API auf mindestens zwei Releases [Kubernetes]. <br><br>  <i><b>NB</b> : Im Wesentlichen √§hnelt sogar der Name des Features dem bereits vorhandenen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">kubectl-debug-</a> Plugin, √ºber das wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereits geschrieben haben</a> .</i>  <i>Es wird davon ausgegangen, dass mit dem Aufkommen kurzlebiger Container die Entwicklung eines separaten externen Plug-Ins aufh√∂ren wird.</i> <br><br>  Eine weitere Innovation, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>PodOverhead</code></a> bietet einen <b>Mechanismus zur Berechnung der Gemeinkosten f√ºr Pods</b> , die je nach verwendeter Laufzeit stark variieren k√∂nnen.  Als Beispiel zitieren die Autoren <a href="">dieses KEP</a> Kata-Container, f√ºr die der Gastkernel, der Kata-Agent, das Init-System usw. gestartet werden m√ºssen.  Wenn der Overhead so gro√ü wird, kann er nicht ignoriert werden. Dies bedeutet, dass ein Weg erforderlich ist, um ihn f√ºr weitere Quoten, Planungen usw. zu ber√ºcksichtigen.  Um dies zu implementieren, wurde <code>PodSpec</code> Feld <code>Overhead *ResourceList</code> hinzugef√ºgt (verglichen mit Daten in der <code>RuntimeClass</code> , falls eine verwendet wird). <br><br>  Eine weitere bemerkenswerte Neuerung ist der <i>Node Topology Manager</i> , mit dem der Ansatz zur Feinabstimmung der Zuweisung von Hardwareressourcen f√ºr verschiedene Komponenten in Kubernetes vereinheitlicht werden soll.  Diese Initiative wird durch die wachsende Nachfrage verschiedener moderner Systeme (aus den Bereichen Telekommunikation, maschinelles Lernen, Finanzdienstleistungen usw.) nach Hochleistungs-Parallelcomputern und zur Minimierung von Verz√∂gerungen bei der Ausf√ºhrung von Vorg√§ngen verursacht, f√ºr die sie die erweiterten Funktionen der CPU- und Hardwarebeschleunigung nutzen.  Solche Optimierungen in Kubernetes wurden bisher dank unterschiedlicher Komponenten (CPU-Manager, Ger√§te-Manager, CNI) erzielt. Jetzt werden sie eine einzige interne Schnittstelle hinzuf√ºgen, die den Ansatz vereinheitlicht und die Verbindung neuer √§hnlicher - der sogenannten topologiebewussten - Komponenten auf der Kubelet-Seite vereinfacht.  Details finden Sie im <a href="">entsprechenden KEP</a> . <br><br><img src="https://habrastorage.org/webt/tq/bs/vr/tqbsvryzr9tnxv_9uldn-ofx1es.png"><br>  <i>Komponentendiagramm des Topologie-Managers</i> <br><br>  Die n√§chste Funktion ist das <b>√úberpr√ºfen von Containern w√§hrend des Startvorgangs <i>( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Startsonde</a> )</i></b> .  Wie Sie wissen, ist es f√ºr Container, die lange laufen, schwierig, den aktuellen Status zu erhalten: Sie werden entweder vor dem eigentlichen Betriebsstart "get√∂tet" oder sie geraten f√ºr lange Zeit in einen Deadlock.  Eine neue Pr√ºfung (aktiviert √ºber das Feature-Gate <code>StartupProbeEnabled</code> ) <code>StartupProbeEnabled</code> die Aktion anderer Pr√ºfungen ab - oder <code>StartupProbeEnabled</code> vielmehr, bis der Start des Pods abgeschlossen ist.  Aus diesem Grund wurde die Funktion urspr√ºnglich als <a href="">Pod-Startup-Liveness-Probe-Holdoff bezeichnet</a> .  Bei Pods, deren Start lange dauert, k√∂nnen Sie den Status in relativ kurzen Zeitintervallen abfragen. <br><br>  Dar√ºber hinaus wird sofort im Beta-Status eine Verbesserung f√ºr RuntimeClass hinzugef√ºgt, die Unterst√ºtzung f√ºr ‚Äûheterogene Cluster‚Äú hinzuf√ºgt.  Mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RuntimeClass Scheduling muss</a> jetzt nicht mehr jeder Knoten f√ºr jede RuntimeClass unterst√ºtzt werden: F√ºr Pods k√∂nnen Sie RuntimeClass ausw√§hlen, ohne √ºber die Clustertopologie nachzudenken.  Um dies zu erreichen, mussten Pods NodeSelector und Toleranzen entsprechende Regeln zuweisen, damit Pods auf Knoten mit Unterst√ºtzung f√ºr alles, was sie ben√∂tigen, angezeigt werden.  <a href="">KEP</a> spricht √ºber Anwendungsbeispiele und nat√ºrlich √ºber Implementierungsdetails. <br><br><h2>  Netzwerk </h2><br>  Zwei wichtige Netzwerkfunktionen, die erstmals (in der Alpha-Version) in Kubernetes 1.16 verf√ºgbar waren, sind: <br><br><ul><li>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterst√ºtzung f√ºr einen</a> dualen Netzwerkstapel - IPv4 / IPv6</b> - und das entsprechende "Verst√§ndnis" auf der Ebene von Pods, Knoten und Diensten.  Es umfasst die Interaktion von IPv4-zu-IPv4 und IPv6-zu-IPv6 zwischen Pods, von Pods zu externen Diensten, Referenzimplementierungen (im Rahmen von Bridge CNI-, PTP CNI- und Host-Local IPAM-Plug-Ins) sowie umgekehrt Kompatibel mit Kubernetes-Clustern, die nur √ºber IPv4 oder IPv6 funktionieren.  Implementierungsdetails finden Sie in <a href="">KEP</a> . <br><br>  Ein Beispiel f√ºr die Ausgabe von zwei Arten von IP-Adressen (IPv4 und IPv6) in der Liste der Pods: <br><br><pre> <code class="bash hljs">kube-master<span class="hljs-comment"><span class="hljs-comment"># kubectl get pods -o wide NAME READY STATUS RESTARTS AGE IP NODE nginx-controller 1/1 Running 0 20m fd00:db8:1::2,192.168.1.3 kube-minion-1 kube-master#</span></span></code> </pre> <br></li><li>  <b>Die neue API f√ºr Endpoint</b> ist die <a href="">EndpointSlice-API</a> .  Es l√∂st die Probleme der vorhandenen Endpoint-API mit Leistung / Skalierbarkeit, die verschiedene Komponenten in der Steuerebene betreffen (Apiserver usw., Endpoints-Controller, Kube-Proxy).  Die neue API wird der Discovery-API-Gruppe hinzugef√ºgt und kann Zehntausende von Backend-Endpunkten f√ºr jeden Dienst in einem Cluster aus tausend Knoten bereitstellen.  Zu diesem Zweck wird jeder Dienst N <code>EndpointSlice</code> Objekten zugeordnet, von denen jedes standardm√§√üig nicht mehr als 100 Endpunkte hat (der Wert ist konfigurierbar).  Die EndpointSlice-API bietet auch M√∂glichkeiten f√ºr ihre zuk√ºnftige Entwicklung: Unterst√ºtzung f√ºr viele IP-Adressen f√ºr jeden Pod, neue <code>NotReady</code> f√ºr Endpunkte (nicht nur <code>Ready</code> und <code>NotReady</code> ), dynamische Teilmenge f√ºr Endpunkte. </li></ul><br>  Der in der letzten Version mit dem Namen <code>service.kubernetes.io/load-balancer-cleanup</code> und an jeden Dienst mit dem Typ <code>LoadBalancer</code> angeh√§ngte <code>LoadBalancer</code> auf die Beta-Version erweitert.  Zum Zeitpunkt des Entfernens eines solchen Dienstes wird das tats√§chliche L√∂schen der Ressource verhindert, bis die "Bereinigung" aller entsprechenden Ressourcen des Balancers abgeschlossen ist. <br><br><h2>  API-Maschinen </h2><br>  Der eigentliche "Stabilisierungsmeilenstein" ist im Bereich des Kubernetes-API-Servers und der Interaktion mit diesem festgelegt.  In vielerlei Hinsicht geschah dies aufgrund der <b>√úbertragung auf den stabilen Status von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CustomResourceDefinitions</a> (CRD)</b> , f√ºr <b>die keine spezielle Pr√§sentation erforderlich war</b> , die seit dem entfernten Kubernetes 1.7 (und dies ist Juni 2017!) Den Beta-Status hatte.  Die gleiche Stabilisierung ergab sich f√ºr die damit verbundenen Merkmale: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Subresources"</a> mit <code>/status</code> und <code>/scale</code> f√ºr CustomResources; </li><li>  Versionskonvertierung f√ºr CRD basierend auf einem externen Webhook; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k√ºrzlich eingef√ºhrte</a> (in K8s 1.15) Standardwerte <i>(</i> Standard <i>)</i> und automatisches L√∂schen von Feldern <i>(</i> Bereinigen <i>)</i> f√ºr CustomResources; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die M√∂glichkeit</a> , das OpenAPI v3-Schema zum Erstellen und Ver√∂ffentlichen von OpenAPI-Dokumentationen zu verwenden, die zum √úberpr√ºfen von CRD-Ressourcen auf der Serverseite verwendet werden. </li></ul><br>  Ein weiterer Mechanismus, der Kubernetes-Administratoren seit langem bekannt ist: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b>Admission Webhook</b></a> - befindet sich ebenfalls seit langer Zeit (seit K8s 1.9) im Beta-Status und wurde nun f√ºr stabil erkl√§rt. <br><br>  Zwei weitere Funktionen haben die Beta erreicht: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">serverseitiges Anwenden</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√úberwachen von Lesezeichen</a> . <br><br>  Die einzige wesentliche Neuerung in der Alpha-Version war die <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ablehnung</a> von <code>SelfLink</code></b> - einer speziellen URI, die das angegebene Objekt darstellt und Teil von <code>ObjectMeta</code> und <code>ListMeta</code> (d. H. Teil eines beliebigen Objekts in Kubernetes).  Warum es ablehnen?  Die ‚Äûeinfache‚Äú Motivation <a href="">klingt</a> nach dem Fehlen realer (un√ºberwindbarer) Gr√ºnde f√ºr das Fortbestehen dieses Feldes.  Formalere Gr√ºnde sind die Optimierung der Leistung (Entfernen eines unn√∂tigen Felds) und die Vereinfachung der Arbeit von generic-apiserver, das gezwungen ist, ein solches Feld auf besondere Weise zu verarbeiten (dies ist das einzige Feld, das unmittelbar vor der Serialisierung des Objekts festgelegt wird).  Die eigentliche "Veralterung" (in der Beta-Version) von <code>SelfLink</code> wird mit Kubernetes Version 1.20 und der letzten Version - 1.21 geschehen. <br><br><h2>  Datenspeicherung </h2><br>  Die Hauptarbeit im Bereich der Speicherung wird wie in fr√ºheren Versionen im Bereich der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterst√ºtzung f√ºr CSI beobachtet</a> .  Die wichtigsten √Ñnderungen hier sind: <br><br><ul><li>  Zum ersten Mal (in der Alpha-Version) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde die</a> <b>Unterst√ºtzung f√ºr CSI-Plug-Ins f√ºr Windows-Arbeitsknoten angezeigt</b> : Die derzeitige Methode zur Arbeit mit Repositorys ersetzt die In-Tree-Plug-Ins im Kubernetes-Kern und die Powershell-basierten FlexVolume-Plug-Ins von Microsoft. <br><br><img src="https://habrastorage.org/webt/4_/6o/h2/4_6oh2zuutje1tcvwqwzhi385m0.png"><br>  <i>Implementierungsschema f√ºr das Windows CSI-Plugin von Kubernetes</i> <br></li><li>  Die in K8s 1.12 eingef√ºhrte M√∂glichkeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">, die Gr√∂√üe von CSI-Volumes zu √§ndern</a> , ist auf eine Beta-Version angewachsen. </li><li>  Die M√∂glichkeit, mit CSI lokale kurzlebige Volumes zu erstellen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CSI Inline Volume Support</a> ), hat einen √§hnlichen ‚ÄûAnstieg‚Äú erreicht (von Alpha auf Beta). </li></ul><br>  Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Funktion zum Klonen von Volumes,</a> die in der vorherigen Version von Kubernetes (Verwendung vorhandener PVCs als <code>DataSource</code> zum Erstellen neuer PVCs) angezeigt wurde, hat jetzt auch den Beta-Status erhalten. <br><br><h2>  Planer </h2><br>  Zwei bemerkenswerte √Ñnderungen in der Planung (beide in der Alpha-Version): <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>EvenPodsSpreading</code></a> ist die F√§higkeit, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>EvenPodsSpreading</code></a> <b>zu verwenden, um Lasten anstelle von logischen Anwendungseinheiten</b> (wie Deployment und ReplicaSet) <b>"fair zu verteilen"</b> und diese Verteilung anzupassen (als strenge Anforderung oder als milde Bedingung, d. H. Priorit√§t).  Die Funktion erweitert die vorhandenen Verteilungsfunktionen geplanter Pods, die jetzt durch die <code>PodAntiAffinity</code> <code>PodAffinity</code> und <code>PodAntiAffinity</code> , und gibt Administratoren mehr Kontrolle √ºber dieses Problem, was eine bessere Zug√§nglichkeit und einen optimierten Ressourcenverbrauch bedeutet.  Details finden Sie im <a href="">KEP</a> . </li><li>  Verwenden der <i>BestFit-Richtlinie</i> in der <i>Priorit√§tsfunktion RequestedToCapacityRatio</i> w√§hrend der Pod-Planung, mit der das Packen von Beh√§ltern (‚ÄûPacken in Containern‚Äú) sowohl f√ºr Kernressourcen (Prozessor, Speicher) als auch f√ºr erweiterte Ressourcen (wie GPU) verwendet werden kann.  Weitere Informationen finden Sie unter <a href="">KEP</a> . <br><br><img src="https://habrastorage.org/webt/4z/gx/zm/4zgxzmdtmhyg-mmjnw-cccyw8wq.gif"><br>  <i>Pod-Planung: Bevor Sie die Best-Fit-Richtlinie verwenden (direkt √ºber den Standardplaner) und sie verwenden (√ºber den Scheduler-Extender).</i> </li></ul><br>  Dar√ºber hinaus wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> M√∂glichkeit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">geboten</a> , eigene Plugins f√ºr den Scheduler au√üerhalb des Hauptentwicklungsbaums von Kubernetes (au√üerhalb des Baums) zu erstellen. <br><br><h2>  Andere √Ñnderungen </h2><br>  Auch in der Version 1.16 von Kubernetes kann eine <b>Initiative erw√§hnt werden, <a href="">um</a> vorhandene Metriken in voller Reihenfolge</b> oder genauer in √úbereinstimmung mit den <a href="">offiziellen</a> Instrumentierungsanforderungen von K8 zu bringen.  Sie st√ºtzen sich grunds√§tzlich auf die einschl√§gige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prometheus-Dokumentation</a> .  Die Inkonsistenzen wurden aus verschiedenen Gr√ºnden gebildet (zum Beispiel wurden einige Metriken einfach erstellt, bevor die aktuellen Anweisungen erschienen), und die Entwickler entschieden, dass es Zeit war, alles auf einen einzigen Standard zu bringen, "im Einklang mit dem Rest des Prometheus-√ñkosystems".  Die aktuelle Implementierung dieser Initiative hat den Status der Alpha-Version, die in zuk√ºnftigen Versionen von Kubernetes schrittweise auf Beta (1.17) und Stable (1.18) ansteigen wird. <br><br>  Dar√ºber hinaus k√∂nnen folgende √Ñnderungen festgestellt werden: <br><br><ul><li>  <b>Entwicklung der Windows-Unterst√ºtzung</b> mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aufkommen</a> des Kubeadm-Dienstprogramms f√ºr dieses Betriebssystem (Alpha-Version), der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">M√∂glichkeit von</a> <code>RunAsUserName</code> f√ºr Windows-Container (Alpha-Version), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verbesserung der</a> Unterst√ºtzung f√ºr Group Managed Service Account (gMSA) auf Beta-Version, Mount / Attach- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterst√ºtzung</a> f√ºr vSphere-Volumes. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√úberarbeiteter</a> <b>Datenkomprimierungsmechanismus in API-Antworten</b> .  Zuvor wurde f√ºr diese Zwecke ein HTTP-Filter verwendet, der eine Reihe von Einschr√§nkungen auferlegte, die dessen Aufnahme standardm√§√üig verhinderten.  Jetzt funktioniert die "transparente Komprimierung von Anforderungen": Clients, die <code>Accept-Encoding: gzip</code> im Header senden, erhalten eine komprimierte Antwort in GZIP, wenn ihre Gr√∂√üe 128 KB √ºberschreitet.  Clients on Go unterst√ºtzen automatisch die Komprimierung (senden Sie den gew√ºnschten Header), sodass sie sofort einen R√ºckgang des Datenverkehrs bemerken.  (F√ºr andere Sprachen sind m√∂glicherweise geringf√ºgige √Ñnderungen erforderlich.) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Es wurde m√∂glich,</a> <b>HPA basierend auf externen Metriken von / auf Null</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zu</a> <b>skalieren</b> .  Wenn die Skalierung auf Objekten / externen Metriken basiert, k√∂nnen Sie bei Leerlauf der Workloads automatisch auf 0 Replikate skalieren, um Ressourcen zu sparen.  Diese Funktion sollte besonders n√ºtzlich sein, wenn Mitarbeiter GPU-Ressourcen anfordern und die Anzahl der verschiedenen Arten von nicht aktiven Mitarbeitern die Anzahl der verf√ºgbaren GPUs √ºberschreitet. </li><li>  Ein neuer Client - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>k8s.io/client-go/metadata.Client</code></a> - f√ºr den "allgemeinen" Zugriff auf Objekte.  Es wurde entwickelt, um auf einfache Weise Metadaten (d. H. Den <code>metadata</code> Unterabschnitt) aus Clusterressourcen abzurufen und Operationen mit diesen aus der Kategorie der Speicherbereinigung und der Kontingente auszuf√ºhren. </li><li>  Kubernetes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">k√∂nnen jetzt</a> ohne veraltete Cloud-Anbieter (Alpha-Version) erstellt werden. </li><li>  Das Dienstprogramm kubeadm wurde <code>join</code> die experimentelle M√∂glichkeit (Alpha-Version) erweitert, Patches w√§hrend Init-, Join- und <code>upgrade</code> Vorg√§ngen anzupassen.  Einzelheiten zur Verwendung des <code>--experimental-kustomize</code> finden Sie unter <a href="">KEP</a> . </li><li>  Der neue Endpunkt f√ºr Apiserver ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>readyz</code></a> , mit dem Sie Bereitschaftsinformationen exportieren k√∂nnen.  Der API-Server verf√ºgt au√üerdem √ºber das Flag <code>--maximum-startup-sequence-duration</code> , mit dem Sie die Neustarts anpassen k√∂nnen. </li><li>  Zwei <b>Funktionen f√ºr Azure werden</b> als stabil deklariert: Unterst√ºtzung f√ºr Verf√ºgbarkeitszonen und RG ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cross Resource Group</a> ).  Dar√ºber hinaus hat Azure Folgendes hinzugef√ºgt: <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterst√ºtzung der</a> AAD- und ADFS- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Authentifizierung</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">annotation</a> <code>service.beta.kubernetes.io/azure-pip-name</code> , um die √∂ffentliche IP des Load Balancers anzugeben; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">M√∂glichkeit zum</a> Konfigurieren von <code>LoadBalancerName</code> und <code>LoadBalancerResourceGroup</code> . </li></ul></li><li>  AWS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unterst√ºtzt</a> EBS unter Windows und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">optimierte</a> EC2-API-Aufrufe von <code>DescribeInstances</code> . </li><li>  Kubeadm <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">migriert</a> jetzt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seine</a> CoreDNS-Konfiguration beim Upgrade auf CoreDNS selbstst√§ndig. </li><li>  Die Bin√§rdateien <b>usw.</b> im entsprechenden Docker-Image sind weltweit ausf√ºhrbar, <b>sodass</b> Sie dieses Image ausf√ºhren k√∂nnen, ohne Root-Rechte zu ben√∂tigen.  Dar√ºber hinaus hat das etcd-Migrationsimage <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Unterst√ºtzung f√ºr die etcd2-Version eingestellt. </li><li>  <a href="">Cluster Autoscaler 1.16.0 hat</a> auf die Verwendung von Distroless als <a href="">Basisimage</a> umgestellt, die Leistung verbessert und neue Cloud-Anbieter (DigitalOcean, Magnum, Packet) hinzugef√ºgt. </li><li>  Aktualisierungen in der verwendeten / abh√§ngigen Software: Go 1.12.9, etcd 3.3.15, CoreDNS 1.6.2. </li></ul><br><h2>  PS </h2><br>  Lesen Sie auch in unserem Blog: <br><br><ul><li>  ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.15: Ein √úberblick √ºber wichtige Innovationen</a> ‚Äú; </li><li>  ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.14: Ein √úberblick √ºber wichtige Innovationen</a> ‚Äú; </li><li>  ‚Äû <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.13: Ein √úberblick √ºber wichtige Innovationen</a> ‚Äú; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kubernetes 1.12: Ein √úberblick √ºber wichtige Innovationen</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de467477/">https://habr.com/ru/post/de467477/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de467463/index.html">Nur Teilung oder wie man eine mathematische Theorie erstellt und 400.000 Dollar damit verdient. Serie Drei, Finale</a></li>
<li><a href="../de467465/index.html">Spart die Cloud Ultra-Budget-Smartphones?</a></li>
<li><a href="../de467471/index.html">Soul Mikrotik gegen seelenloses ILV und den gleichen Anbieter</a></li>
<li><a href="../de467473/index.html">Und mehr √ºber Sorten</a></li>
<li><a href="../de467475/index.html">Geben Sie Thread.Abort () an .NET Core zur√ºck. Anwendungsbereitstellung mit der Version von CoreCLR und CoreFX</a></li>
<li><a href="../de467479/index.html">Kir Shatrov: Shopify hat mit Rails angefangen und hier lieben sie diesen Rahmen aufrichtig.</a></li>
<li><a href="../de467485/index.html">Probleml√∂sung mit pwnable.kr 23 - md5 Rechner. Wir besch√§ftigen uns mit Stack Canary. C-Bibliotheken in Python verbinden</a></li>
<li><a href="../de467487/index.html">√úber die Zukunft von Blockchain- und Kryptow√§hrungszahlungen</a></li>
<li><a href="../de467489/index.html">Sie sind seltsame statische Variablen in PHP</a></li>
<li><a href="../de467493/index.html">So werden Sie f√ºr einen potenziellen Angreifer im Internet weniger zug√§nglich. Pers√∂nliche Erfahrungen und Beobachtungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>