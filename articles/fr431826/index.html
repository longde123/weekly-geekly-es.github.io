<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíΩ üï¥üèΩ üçâ Commencez avec React et Bootstrap en 2 jours. Jour num√©ro 1 üëçüèæ üôÉ üé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je dois dire tout de suite que le site fonctionnera plus rapidement si vous remplacez Bootstrap par du CSS pur et du JS. Cet article explique comment ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Commencez avec React et Bootstrap en 2 jours. Jour num√©ro 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431826/">  Je dois dire tout de suite que le site fonctionnera plus rapidement si vous remplacez Bootstrap par du CSS pur et du JS.  Cet article explique comment d√©marrer rapidement le d√©veloppement de belles applications Web, et l'optimisation est d√©j√† un probl√®me distinct qui d√©passe le cadre de cet article. <br><br>  Vous devez d'abord comprendre au moins un peu de HTML, CSS, JavaScript, XML, DOM, OOP et √™tre capable de travailler dans le terminal (ligne de commande). <br><br><div class="spoiler">  <b class="spoiler_title">O√π trouver du mat√©riel pour l'√©tude?</b> <div class="spoiler_text"> Pour apprendre HTML et CSS, je recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">htmlbook.ru</a> <br>  Pour apprendre JavaScript, je recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">learn.javascript.ru</a> <br>  Pour apprendre XML, je recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">msiter.ru/tutorials/uchebnik-xml-dlya-nachinayushchih</a> <br>  Vous pouvez lire sur le DOM dans la le√ßon JavaScript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">learn.javascript.ru/dom-nodes</a> <br>  Pour √©tudier la POO, je recommande le cours vid√©o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">proglib.io/p/oop-videocourse</a> <br>  Pour explorer la ligne de commande Windows, je recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cmd.readthedocs.io/cmd.html</a> <br>  Pour √©tudier le terminal sur un Mac, je recommande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ixrevo.me/mac-os-x-terminal</a> <br>  Si vous travaillez sous Linux, alors <b>bash</b> et ses analogues savent qu'en dernier recours, l' <b>homme</b> ou l' <b>aide</b> vous <b>aideront</b> . <br>  Pour apprendre React, j'utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">learn-reactjs.ru</a> (qui est une traduction de la documentation officielle React: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">reactjs.org</a> ). <br>  Pour √©tudier Bootstrap, j'utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bootstrap-4.ru</a> (qui est une traduction de la documentation officielle Bootstrap: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">getbootstrap.com</a> ). <br>  Pour me faire des amis React et Bootstrap, j'ai trouv√© un excellent article <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">webformyself.com/kak-ispolzovat-bootstrap-s-react</a> <br></div></div><br>  Dans cet article, je ferai une compression du minimum n√©cessaire pour le travail et ferai une telle minuterie: <br><br><img src="https://habrastorage.org/webt/w1/dy/2l/w1dy2laijxapz0r7bgxtrmzsny0.png"><br><a name="habracut"></a><br><h2>  L'installation </h2><br>  Nous avons d'abord besoin d'un gestionnaire de paquets.  J'ai choisi <b>npm</b> , et c'est dans <b>Node.js</b> <br>  Alors tout d'abord, installez <b>Node.js</b> sur votre syst√®me d'exploitation √† partir du site officiel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nodejs.org/en/download</a> .  Vous pouvez comprendre l'installation, donc je ne d√©crirai pas le processus d'installation.  Je note seulement que l'installation sous Ubuntu est simple: <br><br><pre><code class="bash hljs">sudo apt update sudo apt install nodejs sudo apt install npm</code> </pre> <br>  Gr√¢ce au terminal, nous v√©rifions que Node.js et npm sont correctement install√©s: <br><br><pre> <code class="bash hljs">nodejs -v npm -v</code> </pre> <br>  S'il y a des erreurs lors de la sortie, cela signifie que quelque chose s'est mal pass√© et que vous devez le comprendre, et il est possible de les r√©installer.  Si vc est affich√© avec des nombres et des points, alors tout va bien. <br><br>  Installez Create-react-app pour pouvoir cr√©er rapidement des cadres d'application: <br><br><pre> <code class="bash hljs">npm install -g create-react-app</code> </pre> <br>  Ensuite, nous cr√©ons le cadre d'application sur React.  Appelons notre application <b>nouvelle application</b> .  Si vous souhaitez cr√©er une application pour un dossier diff√©rent du dossier utilisateur, acc√©dez d'abord au terminal via le terminal √† l'aide de la <b>commande cd</b> .  Donc, dans le terminal, entrez simplement 3 commandes: <br><br><pre> <code class="bash hljs">create-react-app new-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> new-app npm start</code> </pre> <br>  Nous cr√©ons l' <b>application nouvelle</b> application.  Acc√©dez au dossier <b>new-app</b> .  Nous lan√ßons l'application.  Apr√®s ces lignes, le navigateur avec l'application React doit d√©marrer √† l'adresse <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http: // localhost: 3000</a> <br><br><img src="https://habrastorage.org/webt/ie/bw/in/iebwintgkkdp17m8azkkkydy4bu.png"><br><br>  Le terminal doit rester ouvert, sans lui la page d'application ne s'ouvrira pas.  Si vous avez soudainement ferm√© - cela n'a pas d'importance.  Il suffit d'utiliser la <b>commande cd</b> pour aller dans le dossier de l'application et le d√©marrer avec la commande <b>npm start</b> <br><br>  Maintenant, installez bootstrap <br><br><pre> <code class="bash hljs">npm install bootstrap</code> </pre> <br>  Il est √©galement conseill√© d'y installer les d√©pendances jquery et popper.js, mais elles ne sont n√©cessaires que pour la partie Bootstrap JS.  J'ai essay√© sans eux - la partie CSS de Bootstrap fonctionne bien, donc les lignes suivantes dans le terminal sont facultatives: <br><br><pre> <code class="bash hljs">npm install jquery popper.js</code> </pre> <br>  Ensuite, vous devez apporter des modifications aux fichiers d'application, pour cela, allez dans le dossier new-app, o√π se trouve l'application, ajoutez la ligne au fichier <b>src / index.js</b> , ce devrait √™tre le premier: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/css/bootstrap.min.css'</span></span>;</code> </pre> <br>  Si vous utilisez jQuery, popper.js ou la partie Bootstrap JS (fen√™tres modales, animations, etc.), vous devrez ajouter 3 lignes suppl√©mentaires sous la premi√®re ligne: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> $ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'jquery'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Popper <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'popper.js'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'bootstrap/dist/js/bootstrap.bundle.min'</span></span>;</code> </pre> <br>  Reste maintenant √† ex√©cuter le projet: <br><br><pre> <code class="bash hljs">npm start</code> </pre> <br>  Et encore une fois, le navigateur s'ouvre √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">http: // localhost: 3000</a> d√©j√† avec l'application anobli en utilisant Bootstrap: <br><br><img src="https://habrastorage.org/webt/5c/py/6v/5cpy6vpskbkuox6-gill3kkkr_u.png"><br>  Pour d√©boguer React, vous pouvez √©galement installer l'extension " <b>React Developer Tools</b> " pour le navigateur.  Les liens actuels vers l'extension pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Chrome</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Firefox</a> et d'autres cas d'utilisation sont r√©pertori√©s dans le r√©f√©rentiel officiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/facebook/react-devtools</a> <br>  L'installation et la configuration initiale sont maintenant termin√©es. <br><br><h2>  JSX, composants et propri√©t√©s </h2><br>  Voyons ce que <b>create-react-app a</b> g√©n√©r√© pour nous - les fichiers source sont dans le r√©pertoire src.  Tout d'abord, regardons le fichier <b>index.js</b> - il y a plusieurs lignes d'importation.  Il ressort clairement des lignes ce qu'ils font, donc je ne commenterai pas. <br><br>  La ligne la plus importante de ce fichier: <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Il dessine la page d'application.  Il y a un √©l√©ment <b>&lt;div&gt;</b> avec id = root dans le fichier HTML source.  Cette <b>&lt;div&gt;</b> affiche le composant <b>App</b> , qui est dessin√© par la fonction de rendu de la classe <b>ReactDOM</b> .  Dans ce cas, le composant est dessin√© sous une forme similaire √† XML, qui est appel√©e JSX (√† propos de laquelle plus tard). <br><br>  Passons maintenant au fichier <b>App.js</b> , o√π se trouve l'impl√©mentation de la classe App, qui h√©rite de la classe <b>React.Component</b> . <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{     &lt;b&gt;render()&lt;<span class="hljs-regexp"><span class="hljs-regexp">/b&gt;,     JSX: &lt;div className="App"&gt; &lt;header className="App-header"&gt; &lt;img src={logo} className="App-logo" alt="logo" /</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Edit </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">src/App.js</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">code</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> and save to reload. </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;a className=<span class="hljs-string"><span class="hljs-string">"App-link"</span></span> href=<span class="hljs-string"><span class="hljs-string">"https://reactjs.org"</span></span> target=<span class="hljs-string"><span class="hljs-string">"_blank"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"noopener noreferrer"</span></span> &gt; Learn React &lt;<span class="hljs-regexp"><span class="hljs-regexp">/a&gt; &lt;/</span></span>header&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  JSX est tr√®s similaire au HTML, mais il y a des insertions de code JS entre accolades {}.  Et il doit y avoir un √©l√©ment racine, dans ce cas &lt;div&gt;. <br><br>  Pour mieux comprendre, nous allons effacer tout le code de la m√©thode <b>render ()</b> et √©crire le composant le plus simple: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">, {this.props.name}!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } }</code> </pre> <br>  Maintenant, revenons au fichier index.js et corrigeons-le. <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">""</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById('root'));</span></span></code> </pre> <br>  Apr√®s avoir enregistr√© les fichiers, la page sera actualis√©e dans le navigateur.  Et maintenant, nous comprendrons. <br><br>  Conceptuellement, les composants sont similaires aux fonctions JavaScript.  Ils prennent des donn√©es arbitraires (appel√©es accessoires) et renvoient des √©l√©ments React qui d√©crivent ce qui devrait appara√Ætre √† l'√©cran.  Les composants vous permettent de diviser l'interface utilisateur en parties ind√©pendantes et r√©utilisables et de travailler avec chacune d'entre elles s√©par√©ment. <br><br>  Lorsque React constate qu'un √©l√©ment est un composant personnalis√©, il transmet tous les attributs JSX √† ce composant en tant qu'objet unique.  Un tel objet est appel√© accessoires. <br><br>  Dans l'exemple, le param√®tre <b>name</b> est transmis au composant en tant qu'attribut de la <b>balise &lt;App&gt;</b> avec la valeur " <b>World</b> ".  De plus, dans la m√©thode <b>render ()</b> de la classe <b>App</b> , comme r√©sultat d'une fonction √† l'int√©rieur de JSX, qui est en fait un mod√®le HTML, les accolades <b>{}</b> indiquent <b>cela</b> - la classe actuelle, les <b>accessoires</b> - l'objet utilisateur, le <b>nom</b> - le nom du param√®tre d'objet. <br><br><h2>  Constructeur, cycle de vie et changement d'√©tat </h2><br>  En plus des param√®tres stock√©s dans les <b>accessoires,</b> vous pouvez stocker l'√©tat de l'objet dans l' <b>√©tat</b> . <br><br>  Faisons une minuterie.  Aucun param√®tre n'est n√©cessaire pour la minuterie, <b>supprimons donc</b> les param√®tres dans <b>index.js</b> : <br><br><pre> <code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span></span>, <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'root'</span></span>));</code> </pre> <br>  Et maintenant, dans le fichier <b>App.js</b> , <b>nous</b> rempla√ßons tout le texte entre l' <b>importation</b> et l' <b>exportation</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> INTERVAL = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}; } increment(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>}); } componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } componentWillUnmount() { clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">:</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60/60)} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL/60) % 60} : </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{Math.floor(value/INTERVAL) % 60} . </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{value % INTERVAL}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>  Apr√®s avoir ins√©r√© et enregistr√© ce code, une minuterie appara√Ætra sur la page et d√©marrera automatiquement. <br><br>  Analysons ce code.  Avant le cours, une constante a √©t√© annonc√©e, gr√¢ce √† laquelle vous pouvez ajuster le taux de rafra√Æchissement de la minuterie. <br><br>  Ensuite, √† l'int√©rieur de la classe, il y a un constructeur obligatoire de la classe, auquel les accessoires sont pass√©s.  Ensuite, le traitement standard du constructeur de la classe parent <b>super (props)</b> et la d√©termination de l'√©tat de la <b>valeur</b> par <b>ce</b> biais est l'objet actuel.  C'est le seul endroit o√π vous pouvez directement d√©finir l'√©tat.  Dans d'autres endroits, seule la lecture est disponible ou la d√©finition de l'√©tat avec la <b>m√©thode</b> sp√©ciale <b>setState ()</b> , qui est utilis√©e dans la m√©thode <b>increment () suivante</b> pour augmenter l'√©tat de la <b>valeur</b> de un. <br><br>  Dans les applications avec de nombreux composants, il est tr√®s important de lib√©rer les ressources occup√©es par les composants lorsqu'ils sont d√©truits.  Nous devons d√©finir une minuterie √† chaque fois que le DOM est dessin√© pour la premi√®re fois.  Dans React, cela s'appelle "monter / installer".  Nous devons √©galement effacer ce temporisateur chaque fois que le DOM cr√©√© par le composant est supprim√©.  Dans React, cela s'appelle ¬´d√©montage / d√©montage¬ª. <br><br>  Pour cela, les m√©thodes <b>componentDidMount ()</b> et <b>componentWillUnmount () sont utilis√©es</b> .  Dans la documentation, ces m√©thodes sont appel√©es ¬´ <b>hooks de cycle de vie</b> ¬ª.  Pour simplifier, nous les appellerons m√©thodes de cycle de vie.  La m√©thode <b>componentDidMount () se</b> d√©clenche apr√®s le rendu du composant dans le DOM.  C'est un bon endroit pour r√©gler une minuterie.  Nous allons effacer le temporisateur dans la m√©thode <b>componentWillUnmount ()</b> du cycle de vie. <br><br>  Remarquez comment nous, dans <b>componentDidMount (),</b> stockons l'ID du temporisateur directement dans <b>celui-ci en</b> utilisant la fonction fl√®che.  Bien que this.props soit install√© ind√©pendamment par React et <b>this.state</b> a une certaine signification, vous pouvez librement ajouter des champs suppl√©mentaires √† la classe manuellement si vous devez stocker quelque chose qui n'est pas utilis√© pour la sortie visuelle.  Si vous n'utilisez pas quelque chose dans <b>render ()</b> , il ne devrait pas √™tre en <b>√©tat</b> . <br><br>  De plus, pendant la dur√©e de l'ex√©cution de <b>render ()</b> , l'√©tat de la valeur est fix√© dans la valeur constante locale.  Et puis en utilisant la fonction math√©matique <b>floor ()</b> , qui arrondit le nombre, en divisant ( <b>/</b> ) et en obtenant le reste de la division ( <b>%</b> ), nous obtenons les parties du minuteur, qui sont ensuite affich√©es sur une ligne apr√®s le mot Timer.  Vous pouvez voir les r√©sultats de notre travail. <br><br><h2>  Apparence avec Bootstrap </h2><br>  Il n'est pas pratique que le minuteur fonctionne imm√©diatement lorsque la page est actualis√©e.  Je voudrais qu'il d√©marre et s'arr√™te lorsque vous cliquez sur les boutons appropri√©s.  Et je voudrais qu'il soit au centre et grand. <br><br>  Commen√ßons par le design.  Pour ce faire, ajoutez les lignes suivantes au fichier <b>App.css</b> : <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.container-fluid</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: flex; <span class="hljs-attribute"><span class="hljs-attribute">flex-direction</span></span>: column; }</code> </pre> <br>  Gr√¢ce au <b>r√©cipient en</b> caoutchouc adaptatif <b>contenant le fluide</b> dans Bootstrap, qui permet de cr√©er une mise en page enti√®rement flexible pour une page ou un bloc.  Ce conteneur est 100% large.  Faisons un conteneur <b>flexible</b> , avec la direction d'alignement vertical des √©l√©ments - de sorte qu'il occupe tout l'espace et puisse √™tre align√© au centre. <br><br>  Maintenant, <b>finalisons la</b> m√©thode <b>render ()</b> dans <b>App.js</b> pour appliquer des styles Bootstrap et ajouter quelques boutons.  Pour ce faire, remplacez la valeur renvoy√©e par la m√©thode par ce qui suit: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container-fluid align-items-center"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60/60)}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL/60) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> : <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{Math.floor(value/INTERVAL) % 60}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span> . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">kbd</span></span></span><span class="hljs-tag">&gt;</span></span>{value % INTERVAL <span class="hljs-tag"><span class="hljs-tag">&lt; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span><span class="hljs-tag"> ? '</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span><span class="hljs-tag">' </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">:</span></span></span><span class="hljs-tag"> ''}{</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag"> % </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">INTERVAL</span></span></span><span class="hljs-tag">}&lt;/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">kbd</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Dans la premi√®re ligne, 2 classes Bootstrap ont √©t√© ajout√©es √† la racine <b>&lt;div&gt;</b> : <b>container-fluid</b> (dont j'ai parl√© plus haut) et <b>align-items-center</b> - qui aligne simplement les √©l√©ments du conteneur au centre. <br><br>  Ensuite, deux <b>&lt;div&gt;</b> avec la classe <b>display-1</b> - cette classe est juste pour montrer du texte en grand. <br><br>  Ensuite, une nouvelle <b>balise &lt;kbd&gt; a</b> √©t√© ajout√©e aux chiffres - qui est g√©n√©ralement utilis√©e pour mettre en √©vidence les touches qui doivent √™tre enfonc√©es.  Dans ce cas, il est id√©al pour contraster les chiffres affich√©s. <br><br>  L'expression conditionnelle est ajout√©e dans le dernier chiffre, montrant une partie d'une seconde, permettant aux chiffres √† un chiffre (&lt;10) de sortir au d√©but 0, et de ne pas les sortir pour les nombres √† deux chiffres.  Cela est n√©cessaire pour que les chiffres ne se contractent pas √† chaque seconde.  Pour ce faire, utilisez l'op√©rateur JavaScript ternaire: <b>condition?</b>  <b>vrai: faux</b> <br><br>  Ensuite, dans un <b>&lt;div&gt;</b> s√©par√©, <b>j'ai</b> plac√© 2 boutons avec la classe <b>Display-4</b> - cette classe a √©t√© s√©lectionn√©e comme la taille la plus appropri√©e pour que les boutons correspondent √† la taille de la minuterie.  J'ai ins√©r√© un caract√®re entre les boutons <b>&nbsp;</b>  - Espace inextricable pour que les boutons ne fusionnent pas. <br><br>  Vous pouvez commencer, mais les boutons ne fonctionnent pas encore.  Apprenons aux boutons √† fonctionner. <br><br><h2>  Gestion des √©v√©nements </h2><br>  Tout d'abord, ajoutez l'appel aux fonctions correspondantes dans le code de sortie du bouton: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.stopTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"display-4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.resetTimer}</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Notez que dans React, le <b>gestionnaire d'</b> √©v√©nements <b>onClick</b> , pas <b>onclick</b> , comme dans JavaScript, et la fonction appel√©e sont indiqu√©s entre accolades sans parenth√®ses et indiquant l'objet √† partir duquel la m√©thode est appel√©e, dans ce cas- <b>ci</b> . <br><br>  Nous d√©finissons maintenant les m√©thodes sp√©cifi√©es <b>stopTimer ()</b> et <b>resetTimer ()</b> : <br><br><pre> <code class="javascript hljs">stopTimer(){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } resetTimer(){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Mais cela ne suffit toujours pas, et si vous le laissez comme √ßa, alors lorsque le bouton est enfonc√©, une erreur appara√Ætra, car  cela lors de l'appel de la fonction ne sera pas <b>d√©fini</b> .  En effet, en JavaScript, les m√©thodes de classe ne sont pas li√©es par d√©faut.  En r√®gle g√©n√©rale, si vous r√©f√©rencez une m√©thode sans () apr√®s, par exemple, <b>onClick = {this.resetTimer}</b> , vous devez lier cette m√©thode. <br><br>  Liez les m√©thodes dans le constructeur de classe en ajoutant 2 lignes: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.stopTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.resetTimer.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>);</code> </pre> <br>  G√©nial, √ßa a march√©!  Mais seul le bouton d'arr√™t ne peut √™tre utilis√© qu'une seule fois, puis les boutons cessent de fonctionner.  Et cela est logique, car en appelant <b>stopTimer (),</b> nous avons d√©sactiv√© l'appel de fonction r√©guli√®re en appelant <b>clearInterval ()</b> . <br><br>  Les commentaires sugg√®rent d'utiliser les fonctions fl√©ch√©es.  J'ai essay√© que √ßa marche.  Vous ne pouvez donc pas ajouter 2 lignes au constructeur, mais remplacer les fonctions elles-m√™mes par les fonctions fl√©ch√©es suivantes: <br><pre> <code class="javascript hljs">stopTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); } resetTimer = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>}); }</code> </pre> <br>  Pour r√©soudre ce probl√®me, nous allons faire en sorte que le bouton "Stop" fonctionne √©galement comme "Ex√©cuter". <br><br>  Tout d'abord, ajoutez l'√©tat bool√©en <b>arr√™t√©</b> au constructeur pour comprendre dans quel mode le bouton fonctionne: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>};</code> </pre> <br>  Remplacez maintenant compl√®tement le contenu de la m√©thode <b>stopTimer ()</b> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">stopped</span></span>: !<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped}); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped){ clearInterval(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.timerID = setInterval(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.increment(), <span class="hljs-number"><span class="hljs-number">1000</span></span>/INTERVAL); };</code> </pre> <br>  Au d√©but de la m√©thode, changez l'√©tat <b>arr√™t√©</b> √† l'oppos√© via <b>setState ()</b> . <br><br>  De plus, si le temporisateur doit √™tre arr√™t√© (c'est-√†-dire <b>arr√™t√© = vrai</b> ), d√©sactivez l'appel de fonction r√©guli√®re via <b>clearInterval ()</b> , et si le temporisateur doit √™tre d√©marr√© (c'est-√†-dire <b>arr√™t√© = faux</b> ), puis lancez l'appel de fonction r√©guli√®re de la m√™me mani√®re que <b>componentDidMount ()</b> . <br><br>  Vous devez √©galement corriger la m√©thode <b>increment ()</b> afin qu'elle s'arr√™te lorsqu'elle est <b>arr√™t√©e = true</b> : <br><pre> <code class="javascript hljs">increment(){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value + <span class="hljs-number"><span class="hljs-number">1</span></span>})); }</code> </pre> <br>  Et enfin, nous changeons le nom du bouton en fonction de l'√©tat arr√™t√©, en ins√©rant ce qui suit au lieu de ¬´Stop¬ª: <br><br><pre> <code class="javascript hljs">{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped?<span class="hljs-string"><span class="hljs-string">''</span></span>:<span class="hljs-string"><span class="hljs-string">''</span></span>}</code> </pre> <br>  Nous avons maintenant une belle minuterie pratique. <br><br><h2>  Au lieu d'une conclusion ou d'une cerise sur un g√¢teau </h2><br>  Enfin, je voudrais changer le titre standard et l'ic√¥ne de fen√™tre par le n√¥tre. <br><br>  Vous pouvez changer le titre en d√©finissant <b>document.title</b> dans la m√©thode <b>componentDidMount ()</b> , mais nous continuerons et rendrons le temps d'affichage du titre de la page pr√©cis √† quelques secondes, pour cela nous ajouterons le param√®tre <b>document.title</b> √† la m√©thode sp√©ciale <b>componentDidUpdate ()</b> : <br><br><pre> <code class="javascript hljs">componentDidUpdate(){ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.value; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.stopped) <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.title = <span class="hljs-string"><span class="hljs-string">": "</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>/<span class="hljs-number"><span class="hljs-number">60</span></span>)+<span class="hljs-string"><span class="hljs-string">":"</span></span> +<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL/<span class="hljs-number"><span class="hljs-number">60</span></span>) % <span class="hljs-number"><span class="hljs-number">60</span></span>+<span class="hljs-string"><span class="hljs-string">":"</span></span>+<span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(value/INTERVAL) % <span class="hljs-number"><span class="hljs-number">60</span></span>; }</code> </pre> <br>  Maintenant, le minuteur se r√©p√®te jusqu'√† quelques secondes dans le titre de la page, et lorsque le minuteur est arr√™t√©, seul le mot Minuteur s'affiche. <br><br>  L'ic√¥ne est simple.  Il suffit de pr√©parer une image au format <b>jpg</b> , <b>bmp</b> , <b>gif</b> , <b>png</b> , d√©posez-la dans le dossier <b>public</b> (et non le <b>src</b> , dans lequel nous avons principalement travaill√©), nommez par exemple <b>favicon.png</b> et changez la ligne dans le fichier <b>public \ index.html</b> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"%PUBLIC_URL%/favicon.ico"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  par ligne: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/favicon.png"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Pour aujourd'hui, c'est tout ce que je voulais dire.  Dans le prochain article, je parlerai davantage de Bootstrap, qui dans cet article n'a que l√©g√®rement touch√©.  En plus de Bootstrap, il existe encore des sujets importants: listes, tableaux, formulaires et r√©flexion de style React. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Enfin, le r√©f√©rentiel de BitBucket, qui contient tout le code de cet article</b></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431826/">https://habr.com/ru/post/fr431826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431816/index.html">3 d√©cembre SpaceX tentera de lancer la premi√®re √©tape du lanceur pour la troisi√®me fois</a></li>
<li><a href="../fr431818/index.html">Comparez PHP FPM, PHP PPM, Nginx Unit, React PHP et RoadRunner</a></li>
<li><a href="../fr431820/index.html">Commencez √† l'ISS et freinez √† l'ast√©ro√Øde</a></li>
<li><a href="../fr431822/index.html">Source ferm√©e de facto: arguments en faveur d'un logiciel clair</a></li>
<li><a href="../fr431824/index.html">Des informations sur un smartphone de Yandex ont √©t√© accidentellement ouvertes sur le site M.Video quelques jours avant la pr√©sentation</a></li>
<li><a href="../fr431830/index.html">Extension pour Chrome: cr√©ation, publication, exp√©rience</a></li>
<li><a href="../fr431832/index.html">Interactif technique lors de conventions fantastiques. Partie 1</a></li>
<li><a href="../fr431834/index.html">Plus de caf√©, moins de caf√©ine: Intel 9e g√©n√©ration (partie 4)</a></li>
<li><a href="../fr431836/index.html">Le condens√© de mati√®res fra√Æches du monde du front-end de la derni√®re semaine n ¬∞ 341 (26 novembre - 2 d√©cembre 2018)</a></li>
<li><a href="../fr431842/index.html">0xc00007b ou installation de pilotes sous le programme</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>