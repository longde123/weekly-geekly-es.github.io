<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜± ğŸ‰ ğŸ‘©ğŸ½â€ğŸ’» Menghibur prolog # 3 ğŸ§œğŸ» ğŸ‘©ğŸ¼â€ğŸ”§ â†•ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jadi, komunitas, saya meminta Anda untuk memberi saya kesempatan untuk mengejutkan Anda ketiga kalinya, dalam keputusan sebelumnya saya menggunakan py...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menghibur prolog # 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427989/"><p>  Jadi, komunitas, saya meminta Anda untuk memberi saya kesempatan untuk mengejutkan Anda ketiga kalinya, dalam keputusan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> saya menggunakan python, saya pikir saya akan menarik perhatian <em>para ahli di sini</em> dan mereka akan segera memberi tahu saya mengapa melakukan ini, secara umum ada ekspresi reguler - Saya melakukannya dan semuanya pasti akan berhasil, ini python kami dapat memberikan dan lebih banyak kecepatan. </p><br><p>  Topik artikel selanjutnya adalah tugas lain, tetapi tidak, yang pertama tidak meninggalkan saya, apa yang dapat dilakukan untuk mendapatkan solusi yang lebih cepat, karena kemenangan di situs dimahkotai dengan kompetisi lain. </p><br><p>  Saya menulis implementasi yang, rata-rata, dengan kecepatan seperti ini, itu berarti masih ada 90 persen solusi yang saya tidak perhatikan bahwa seseorang tahu bagaimana menyelesaikannya lebih cepat dan <em>dia diam</em> , dan setelah melihat dua artikel sebelumnya saya tidak mengatakan: oh, jika itu masalah kinerja, maka semuanya jelas - di sini prolog tidak cocok.  Tetapi sekarang semuanya normal dengan kinerja, tidak mungkin untuk membayangkan sebuah program yang akan berjalan pada perangkat keras yang lemah, "pada akhirnya, mengapa memikirkannya?" </p><br><h1 id="vyzov">  Tantangan </h1><br><p>  Untuk memecahkan masalah lebih cepat, ada python dan ada waktu, dan apakah ada solusi yang lebih cepat pada python? </p><br><p><img src="https://habrastorage.org/webt/rf/mp/jh/rfmpjh9fpqvn6lai90cq5poumny.png"><br>  Saya diberi tahu "Runtime: 2504 ms, lebih cepat dari 1,55% dari pengiriman online Python3 untuk Pencocokan Wildcard." </p><a name="habracut"></a><br><p>  Saya memperingatkan Anda, lebih lanjut ada aliran pemikiran online. </p><br><h1 id="1-regulyarkoy">  1 Reguler? </h1><br><p>  Mungkin di sini ada opsi untuk menulis program yang lebih cepat hanya dengan menggunakan ekspresi reguler. </p><br><p>  Jelas, python dapat membuat objek ekspresi reguler yang akan memeriksa baris input dan ternyata akan berjalan di sana, di kotak pasir di situs untuk program pengujian. <br>  Cukup <strong>impor ulang</strong> , saya dapat mengimpor modul seperti itu, menarik, saya harus mencoba. </p><br><p>  Tidak mudah untuk memahami bahwa menciptakan solusi cepat tidaklah mudah.  Kami harus mencari, mencoba, dan membuat implementasi yang mirip dengan ini: </p><br><p>  1. membuat objek keteraturan ini, <br>  2. membuka padanya templat yang dikoreksi oleh aturan perpustakaan reguler dari perpustakaan yang dipilih, <br>  3. Bandingkan dan jawabannya sudah siap <br>  Voila: </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,p)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> re.match(s,pat_format(p))!=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pat_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pat)</span></span></span><span class="hljs-function">:</span></span> res=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pat: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'*'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"(.)*"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'?'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: res+=ch <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p>  di sini adalah solusi yang sangat singkat, seakan benar. </p><br><p>  Saya mencoba menjalankan, tetapi tidak ada di sini, itu tidak sepenuhnya benar, beberapa opsi tidak cocok, Anda perlu menguji konversi ke templat. </p><br><p><img src="https://habrastorage.org/webt/r2/uv/s0/r2uvs0jmx_cdaloxbjvavxyd9jy.png"></p><br><p>  Sebenarnya lucu, saya mencampuradukkan template dan string, tetapi solusinya datang bersama, saya melewati 1058 tes dan gagal, hanya di sini. </p><br><p>  Saya ulangi sekali lagi, di situs ini mereka bekerja dengan hati-hati pada tes, seperti yang terjadi, semua yang sebelumnya baik, tapi di sini dua parameter utama digabungkan dan ini muncul, berikut adalah keunggulan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TDD</a> ... </p><br><p>  Dan pada teks yang begitu indah, saya masih mendapatkan kesalahan </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,p)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> re.match(pat_format(p),s)==<span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pat_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pat)</span></span></span><span class="hljs-function">:</span></span> res=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pat: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'*'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"(.)*"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'?'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:res+=ch <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p><img src="https://habrastorage.org/webt/dq/ct/xo/dqctxohozdihwqre2nqhhlkl7t4.png"></p><br><h1 id="slozhno">  Sulit </h1><br><p>  Tampaknya tugas ini secara khusus dilapis dengan tes sehingga mereka yang ingin menggunakan ekspresi reguler mendapat lebih banyak kesulitan, saya punya sebelum solusi ini, tidak ada kesalahan logis dalam program, tetapi di sini kita harus memperhitungkan begitu banyak hal. </p><br><p>  Jadi, persamaan reguler cocok dan hasil pertama harus sama dengan baris kami. </p><br><p>  <strong>Kemenangan</strong> <br>  Tidak mudah membuatnya menggunakan ekspresi reguler, tetapi usahanya gagal, itu bukan keputusan sederhana untuk memoles para pelanggan tetap.  Solusi pencarian luas pertama bekerja lebih cepat. </p><br><p>  Inilah implementasi seperti itu, </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,p)</span></span></span><span class="hljs-function">:</span></span> res=re.match(pat_format(p),s) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> res <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res.group(<span class="hljs-number"><span class="hljs-number">0</span></span>)==s <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pat_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pat)</span></span></span><span class="hljs-function">:</span></span> res=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pat: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'*'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"(.)*"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'?'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:res+=ch <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p>  mengarah ke ini: </p><br><p><img src="https://habrastorage.org/webt/py/rf/p2/pyrfp2vykzwaqbw74szpmhgwr9q.png"></p><br><h1 id="obraschenie">  Banding </h1><br><p>  Penduduk yang terhormat, coba periksa ini, dan itu membuat <strong>python tiga</strong> , ia tidak dapat dengan cepat menyelesaikan tugas ini: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,p)</span></span></span><span class="hljs-function">:</span></span> res=re.match(pat_format(p),s) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> res <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res[<span class="hljs-number"><span class="hljs-number">0</span></span>]==s <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pat_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pat)</span></span></span><span class="hljs-function">:</span></span> res=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pat: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'*'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"(.)*"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'?'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:res+=ch <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res <span class="hljs-comment"><span class="hljs-comment">##test 940 import time pt=time.time() print(isMatch("aaaabaaaabbbbaabbbaabbaababbabbaaaababaaabbbbbbaabbbabababbaaabaabaaaaaabbaabbbbaababbababaabbbaababbbba","*****b*aba***babaa*bbaba***a*aaba*b*aa**a*b**ba***a*a*")) print(time.time()-pt)</span></span></code> "***** b * aba *** babaa * bbaba *** a * Aaba * b * aa ** a * b ** ba *** a * a *") <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,p)</span></span></span><span class="hljs-function">:</span></span> res=re.match(pat_format(p),s) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> res <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res[<span class="hljs-number"><span class="hljs-number">0</span></span>]==s <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pat_format</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(pat)</span></span></span><span class="hljs-function">:</span></span> res=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ch <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pat: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'*'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"(.)*"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ch==<span class="hljs-string"><span class="hljs-string">'?'</span></span>:res+=<span class="hljs-string"><span class="hljs-string">"."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>:res+=ch <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res <span class="hljs-comment"><span class="hljs-comment">##test 940 import time pt=time.time() print(isMatch("aaaabaaaabbbbaabbbaabbaababbabbaaaababaaabbbbbbaabbbabababbaaabaabaaaaaabbaabbbbaababbababaabbbaababbbba","*****b*aba***babaa*bbaba***a*aaba*b*aa**a*b**ba***a*a*")) print(time.time()-pt)</span></span></code> </pre> <br><p>  Anda bisa mencobanya di rumah.  Mukjizat, itu tidak hanya butuh waktu lama untuk diselesaikan, itu membeku, oooh. </p><br><p>  Apakah ekspresi reguler merupakan bagian dari tampilan deklaratif yang timpang dalam kinerja? <br>  Pernyataan itu aneh, mereka hadir dalam semua bahasa yang modis, jadi produktivitas harus wow, tapi di sini sama sekali tidak realistis bahwa tidak ada mesin negara yang terbatas di dalamnya?, Apa yang terjadi di sana dalam siklus tanpa akhir ?? </p><br><h1 id="go">  Pergi </h1><br><p>  Saya membaca dalam satu buku, tetapi sudah lama sekali ... Bahasa Go terbaru bekerja dengan sangat cepat, tetapi bagaimana dengan ekspresi reguler? </p><br><p>  Saya akan mengujinya: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isMatch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">, p </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bool</span></span></span></span> { res:=strings.Replace(p, <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"(.)*"</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>) res2:=strings.Replace(res, <span class="hljs-string"><span class="hljs-string">"?"</span></span>, <span class="hljs-string"><span class="hljs-string">"."</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span>) r, _ := regexp.Compile(res2) fr:=r.FindAllString(s,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !(<span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(fr)==<span class="hljs-number"><span class="hljs-number">0</span></span> || <span class="hljs-built_in"><span class="hljs-built_in">len</span></span>(fr)!=<span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; fr[<span class="hljs-number"><span class="hljs-number">0</span></span>]!=s) }</code> </pre> <br><p>  Saya akui, itu tidak mudah untuk mendapatkan teks yang ringkas, di sana sintaksinya tidak sepele, bahkan dengan pengetahuan si, tidak mudah untuk mengetahuinya ... </p><br><p>  Ini adalah hasil yang luar biasa, kecepatannya benar-benar berputar, total ~ 60 milidetik, tetapi mengejutkan bahwa solusi ini lebih cepat daripada hanya <strong>15% dari</strong> tanggapan di situs yang sama. </p><br><p><img src="https://habrastorage.org/webt/ul/mp/o9/ulmpo9isqpkfrql2vzbxtffwp_o.png"></p><br><h1 id="a-gde-prolog">  Dan di mana prolognya </h1><br><p>  Saya menemukan bahwa bahasa yang terlupakan ini untuk bekerja dengan ekspresi reguler memberi kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perpustakaan</a> berdasarkan Ekspresi Reguler yang Kompatibel Perl. </p><br><p>  Ini adalah bagaimana itu dapat diimplementasikan, tetapi pra-proses string template dengan predikat terpisah. </p><br><pre> <code class="hljs powershell">pat([],[]). pat([<span class="hljs-string"><span class="hljs-string">'*'</span></span>|<span class="hljs-type"><span class="hljs-type">T</span></span>],[<span class="hljs-string"><span class="hljs-string">'.*'</span></span>|<span class="hljs-type"><span class="hljs-type">Tpat</span></span>]):<span class="hljs-literal"><span class="hljs-literal">-pat</span></span>(T,Tpat),!. pat([<span class="hljs-string"><span class="hljs-string">'?'</span></span>|<span class="hljs-type"><span class="hljs-type">T</span></span>],[<span class="hljs-string"><span class="hljs-string">'.'</span></span>|<span class="hljs-type"><span class="hljs-type">Tpat</span></span>]):<span class="hljs-literal"><span class="hljs-literal">-pat</span></span>(T,Tpat),!. pat([<span class="hljs-type"><span class="hljs-type">Ch</span></span>|<span class="hljs-type"><span class="hljs-type">T</span></span>],[<span class="hljs-type"><span class="hljs-type">Ch</span></span>|<span class="hljs-type"><span class="hljs-type">Tpat</span></span>]):<span class="hljs-literal"><span class="hljs-literal">-pat</span></span>(T,Tpat). isMatch(S,P):- atom_chars(P,Pstr),pat(Pstr,PatStr),!, atomics_to_string(PatStr,Pat), term_string(S,Str), re_matchsub(Pat, Str, re_match{<span class="hljs-number"><span class="hljs-number">0</span></span>:Str},[<span class="hljs-type"><span class="hljs-type">bol</span></span>(<span class="hljs-type"><span class="hljs-type">true</span></span>),<span class="hljs-type"><span class="hljs-type">anchored</span></span>(<span class="hljs-type"><span class="hljs-type">true</span></span>)]).</code> </pre><br><p>  Dan runtime baik-baik saja: </p><br><pre> <code class="hljs erlang-repl">isMatch(aa,a)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.08794403076171875</span></span>/sec isMatch(aa,*)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(cb,?a)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(adceb,*a*b)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(acdcb,a*c?b)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(aab,c*a*b)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(mississippi,m??*ss*?i*pi)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(abefcdgiescdfimde,ab*cd?i*de)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(zacabz,*a?b*)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(leetcode,*e*t?d*)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0009980201721191406</span></span>/sec isMatch(aaaa,***a)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(b,*?*?*)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0</span></span>/sec isMatch(aaabababaaabaababbbaaaabbbbbbabbbbabbbabbaabbababab,*ab***ba**b*b*aaab*b)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.26383304595947266</span></span>/sec isMatch(abbbbbbbaabbabaabaa,*****a*ab)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.0009961128234863281</span></span>/sec isMatch(babaaababaabababbbbbbaabaabbabababbaababbaaabbbaaab,***bba**a*bbba**aab**b)-&gt;ok:<span class="hljs-number"><span class="hljs-number">0.20287489891052246</span></span>/sec</code> </pre> <br><p>  NAMUN, ada beberapa keterbatasan, tes berikutnya dibawa: </p><br><pre> <code class="hljs markdown">Not enough resources: match<span class="hljs-emphasis"><span class="hljs-emphasis">_limit Goal (directive) failed: user:assert_</span></span>are_equal(isMatch(aaaabaaaabbbbaabbbaabbaababbabbaaaababaaabbbbbbaabbbabababbaaabaabaaaaaabbaabbbbaababbababaabbbaababbbba,'<span class="hljs-strong"><span class="hljs-strong">*****</span></span>b<span class="hljs-emphasis"><span class="hljs-emphasis">*aba*</span></span><span class="hljs-strong"><span class="hljs-strong">**babaa*bbaba**</span></span><span class="hljs-emphasis"><span class="hljs-emphasis">*a*</span></span>aaba<span class="hljs-emphasis"><span class="hljs-emphasis">*b*</span></span>aa<span class="hljs-strong"><span class="hljs-strong">**a*b**</span></span>ba<span class="hljs-emphasis"><span class="hljs-emphasis">***</span></span>a<span class="hljs-emphasis"><span class="hljs-emphasis">*a*</span></span>'),false)</code> </pre> <br><h1 id="kak-vyvod">  Sebagai kesimpulan </h1><br><p>  Hanya pertanyaan yang tersisa.  Semuanya bisa diimplementasikan, tetapi kecepatannya lemah. <br>  Solusi transparan tidak efektif? </p><br><p>  Seseorang menerapkan ekspresi reguler deklaratif, mekanisme apa yang ada? </p><br><p>  Dan bagaimana Anda menyukai tantangan-tantangan ini, apakah ada masalah yang dapat diselesaikan, tetapi di mana solusi yang sempurna? </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id427989/">https://habr.com/ru/post/id427989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id427979/index.html">Menulis game di LWJGL</a></li>
<li><a href="../id427981/index.html">Bagaimana cara bertahan hidup pengembang indie. Bagian 1</a></li>
<li><a href="../id427983/index.html">Pembawa pesan vs jejaring sosial vs ... - pengumuman proyek baru</a></li>
<li><a href="../id427985/index.html">Onkyo ISCP / eISCP: Mengelola perangkat Onkyo melalui jaringan</a></li>
<li><a href="../id427987/index.html">Google meluncurkan domain untuk membuat dokumen dengan cepat</a></li>
<li><a href="../id427993/index.html">Winamp kembali - mendiskusikan apakah ia memiliki peluang di era layanan streaming</a></li>
<li><a href="../id427995/index.html">Memo Spesies Phishing</a></li>
<li><a href="../id427997/index.html">Audio melalui Bluetooth: maksimalkan detail profil, codec, dan perangkat</a></li>
<li><a href="../id427999/index.html">Analis data tumpukan penuh</a></li>
<li><a href="../id428001/index.html">Masalah yang diketahui, bug, dan perbaikan pada pembaruan Windows 10 untuk Oktober 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>