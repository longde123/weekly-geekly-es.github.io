<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öìÔ∏è ‚úçÔ∏è üïñ Myapp estende f√©rias üïò üë©üèº‚ÄçüöÄ ü§üüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Estou certo de que haver√° entre o p√∫blico respeitado quem me entender√°. O fato √© que, em toda a abund√¢ncia de bibliotecas e estruturas populares para ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Myapp estende f√©rias</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485688/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/a1/gq/coa1gqqaalmvaklsbnzj_d69vc0.png"></div><br>  Estou certo de que haver√° entre o p√∫blico respeitado quem me entender√°.  O fato √© que, em toda a abund√¢ncia de bibliotecas e estruturas populares para o front-end da web, eu pessoalmente <b>n√£o gosto de</b> quase <b>todas as</b> alternativas.  Em cada uma das op√ß√µes, encontro desvantagens significativas que me impedem de us√°-las com calma.  Tudo sempre come√ßa de uma maneira otimista: um conceito interessante, som, √† primeira vista, racioc√≠nio em pontos "para" ... Mas ent√£o, tudo, repetidas vezes, come√ßa a se deparar com depend√™ncias redundantes, entidades sup√©rfluas e tentativas de resolver problemas que os pr√≥prios desenvolvedores criaram.  Somos oferecidos a aprender uma nova sintaxe, aceitar novas id√©ias, aprender v√°rias chav√µes, instalar muitos pacotes "necess√°rios".  Ok, adoro tudo novo e adoro palavras inteligentes.  Mas fico muito desanimado quando o que pode ser feito simplesmente, as pessoas come√ßam a se complicar fracamente.  Voc√™ provavelmente j√° leu as confiss√µes daqueles que, como eu, desesperavam-se de procurar o bom senso em tudo isso e decidiram ir ao outro extremo - escrever tudo "em baunilha".  Isso aconteceu comigo quando fiquei decepcionado com o projeto <a href="https://www.polymer-project.org/">Polymer</a> , criado com a participa√ß√£o ativa dos desenvolvedores do Google.  No come√ßo, gostei muito de tudo, o lema desse movimento era a frase ‚ÄúUse the platform!‚Äù, Que significava para mim: ‚Äúvoc√™ n√£o deve fazer no c√≥digo o que o pr√≥prio navegador far√° com mais efici√™ncia‚Äù.  A equipe da Polymer fez muito para introduzir novos padr√µes e recursos no n√≠vel da plataforma, e muito <b>obrigado a</b> eles por isso.  Mas quando esses objetivos foram <a href="https://caniuse.com/">alcan√ßados</a> , eles mesmos come√ßaram a violar seus pr√≥prios princ√≠pios.  E agora sua nova biblioteca ( <a href="https://lit-element.polymer-project.org/">LitElement</a> ) j√° se recusa a trabalhar diretamente no navegador sem instalar um ambiente especial, porque o pessoal n√£o segue os padr√µes ... continuo monitorando o desenvolvimento do LitElement e at√© vejo sinais √≥bvios de que essas pessoas perdidas est√£o voltando ao caminho certo, mas eu j√° j√° N√£o vou us√°-lo, porque agora tenho algo melhor. <br><a name="habracut"></a><br><h3>  O que? </h3><br>  <a href="https://github.com/foxeyes/holiday">Holiday.js</a> √© uma biblioteca para quem precisa de tudo o que precisa e n√£o precisa de nada extra.  Feriado - porque trabalhar com ela para mim √© um feriado.  E tamb√©m porque eu escrevi, principalmente em f√©rias ou em f√©rias.  No entanto, este √© um projeto muito s√©rio, com a ajuda de uma s√©rie de aplica√ß√µes complexas sendo desenvolvidas para a "empresa sangrenta", que as pessoas gostam de assustar os iniciantes na constru√ß√£o de bicicletas.  Tamb√©m escrevo todos os meus projetos pessoais no Holiday.js. <br><br>  Tudo √© baseado em um grupo de padr√µes <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">Custom Elements</a> e <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a> , como voc√™ deve ter adivinhado, e se voc√™ j√° estiver familiarizado com eles, ser√° muito f√°cil descobrir isso. <br><br><div class="spoiler">  <b class="spoiler_title">Um pouco sobre voc√™</b> <div class="spoiler_text">  Eu tenho 40 anos  Atualmente, sou desenvolvedor web l√≠der e engenheiro de P&amp;D em uma empresa holandesa especializada em solu√ß√µes de integra√ß√£o da IBM.  Nossos clientes s√£o grandes empresas: petr√≥leo, g√°s, navios-tanque, ferrovias - isso √© tudo.  A ess√™ncia do meu trabalho √© expandir os recursos padr√£o para sistemas corporativos grandes e lentos e melhorar a experi√™ncia do usu√°rio ao trabalhar com eles.  Por um lado, tenho tios em la√ßos, por outro - um novo vento de liberdade no desenvolvimento da web moderna.  Esta √© uma combina√ß√£o interessante, permite que voc√™ veja muitas coisas de um novo √¢ngulo.  E eu gosto disso.  Antes, eu tentei o papel de uma startup, engenheiro de ux, diretor de arte de um pequeno est√∫dio de design e muitos outros, ent√£o minha "experi√™ncia" geral √© como uma colcha de retalhos.  Mas isso n√£o significa que me relacione superficialmente, apenas encontrei em muitos tipos de atividades princ√≠pios de engenharia semelhantes que me interessam antes de tudo. <br></div></div><br><h3>  Qual √© o objetivo? </h3><br>  Se eu mesmo li um artigo semelhante para n√£o perder mais interesse, gostaria de ver um exemplo de c√≥digo de componente.  Aqui est√°: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">imageURL</span></span>: <span class="hljs-string"><span class="hljs-string">'images/photo.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secondName</span></span>: <span class="hljs-string"><span class="hljs-string">'Snow'</span></span>, }; } } MyComponent.template = <span class="hljs-comment"><span class="hljs-comment">/*html*/</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;style&gt; :host { display: block; padding: 10px; background - color: #fff; color: #000; } &lt;/style&gt; &lt;img bind="src: imageURL" /&gt; &lt;div bind="textContent: firstName"&gt;&lt;/div&gt; &lt;div bind="textContent: secondName"&gt;&lt;/div&gt; `</span></span>; MyComponent.is = <span class="hljs-string"><span class="hljs-string">'my-component'</span></span>;</code> </pre> <br>  Aqui vemos que o componente possui um certo estado e modelo com atributos estranhos dos elementos " <b>bind</b> ".  Esses atributos s√£o a principal m√°gica: eles permitem analisar o modelo e salvar uma c√≥pia do resultado na mem√≥ria para uso posterior (clonagem) SEM processamento adicional da sequ√™ncia de modelos no tempo de execu√ß√£o JS, que oferece alto desempenho durante a renderiza√ß√£o inicial quando cada componente √© instanciado.  Ao contr√°rio de muitas bibliotecas modernas nas quais a parte do DOM pela qual o componente √© respons√°vel √© determinada pela fun√ß√£o do estado, no Holiday.js um modelo √© um produto semi-acabado que define a estrutura inicial e possibilita a vincula√ß√£o de dados posteriormente, usando a API DOM usual, e funciona muito r√°pido.  Voltaremos √† quest√£o da velocidade. <br><br>  Vou listar outras vantagens: <br><br><ul><li>  Proximidade m√°xima de APIs nativas, abstra√ß√µes adicionais m√≠nimas </li><li>  Sintaxe de modelo nativa: voc√™ n√£o precisa aprender novo HTML e CSS </li><li>  Para come√ßar, voc√™ n√£o precisa instalar nada adicional; seu projeto pode n√£o ter uma pasta node_modules </li><li>  Facilidade: voc√™ n√£o for√ßar√° os usu√°rios a esperar muito tempo por downloads </li><li>  O kit inclui gerenciamento de estado global, roteamento, uma biblioteca de interface do usu√°rio: voc√™ n√£o se sentir√° no deserto </li></ul><br>  A documenta√ß√£o principal do projeto: <a href="https://holiday-js.web.app/">https://holiday-js.web.app/</a> <br><br><h3>  Ciclo de vida </h3><br>  Vejamos os est√°gios do ciclo de vida do componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//   : this.state = { name: '', bigName: '', }; /*   ,      DOM  "   ",       .    ,      "defineAccessor": */ this.defineAccessor('name', (name) =&gt; { // Some accessor code: this.setStateProperty('name', name); }); /*    ,      DOM               . */ } connectedCallback() { super.connectedCallback(); /*  .    DOM.               . */ } stateUpdated(path) { /*        : */ if (path === 'name') { this.setStateProperty('bigName', this.state.name.toUpperCase()); } } attributeChangedCallback(attributeName, oldValue, newValue) { /*  .      . */ super.attributeChangedCallback(attributeName, oldValue, newValue); } disconnectedCallback() { /*  .    DOM.              */ } } LifecycleExample.template = /*html*/ ` &lt;div bind="textContent: name"&gt;&lt;/div&gt; &lt;div bind="textContent: bigName"&gt;&lt;/div&gt; `; /*  HTML-,     : */ LifecycleExample.logicAttributes = [ //   ,         'name', ]; /*     CustomElements: */ LifecycleExample.is = 'lifecycle-example';</span></span></code> </pre><br><h3>  Padr√µes </h3><br>  Como os modelos no Holiday.js s√£o apenas <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">literais de modelo</a> padr√£o, voc√™ tem total liberdade em como coloc√°-los no projeto e em como formar seu conte√∫do.  Voc√™ pode coloc√°-los em m√≥dulos separados, pode defini-los juntamente com o c√≥digo do componente ou pode ger√°-los em tempo real a partir de dados.  Voc√™ pode usar express√µes e resultados de fun√ß√µes em modelos.  Tudo isso oferece grandes oportunidades e liberdade de express√£o.  Por exemplo, voc√™ pode importar estilos comuns para um modelo, usar vari√°veis ‚Äã‚Äãe calcular valores em CSS sem usar pr√©-processadores e com grande conveni√™ncia, montar modelos a partir de pe√ßas prontas. <br><br>  Uma parte importante dos modelos de componentes da web s√£o os <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">slots</a> .  Os slots permitem que voc√™ designe locais especiais no DOM "sombra" do seu componente, no qual seus descendentes diretos ser√£o exibidos na √°rvore DOM geral.  Um exemplo: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Coloca√ß√£o em slots: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>Header content<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Content of the default slot...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span>Footer content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Como voc√™ deve ter adivinhado, isso permite criar layouts de componentes, onde os m√≥dulos desejados podem ser facilmente classificados em c√©lulas. <br><br>  Como mencionado acima, para vincular dados e manipuladores dinamicamente, o atributo "bind" √© usado: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textContent: content; onclick: on.clicked"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Para vincular valores de atributo, use o s√≠mbolo "@" no in√≠cio do nome da propriedade: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style: style"</span></span></span><span class="hljs-tag">&gt;</span></span>Content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Voc√™ pode encontrar mais detalhes na se√ß√£o correspondente da documenta√ß√£o: <a href="https://holiday-js.web.app/%3Ftemplates">https://holiday-js.web.app/?templates</a> <br><br><h3>  Gest√£o estatal </h3><br>  Dentro do componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//        : this.state = { content: 'Initial Content', style: 'color: #f00', on: { clicked: () =&gt; { console.log('Clicked!'); }, }, }; //       "setStateProperty": window.setTimeout(() =&gt; { //   : this.setStateProperty('content', 'Updated Content'); //   : this.setStateProperty({ 'content': 'Updated Content', 'style': 'color: #00f', }); }, 1000); } }</span></span></code> </pre><br>  Para controlar o estado no n√≠vel de todo o aplicativo, o m√≥dulo HdState √© usado. <br>  Exemplo de uso: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdState} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-state.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   : HdState.subscribe('ui.loading', (val) =&gt; { console.log(val); }); //   : HdState.publish('ui.loading', true); // : HdState.publish({ 'ui.loading': true, 'ui.sidePanelActive': true, });</span></span></code> </pre><br>  Para trabalhar com o estado global, primeiro voc√™ precisa determinar seu esquema geral: <br><br><pre> <code class="javascript hljs">HdState.applyScheme({ <span class="hljs-attr"><span class="hljs-attr">ui</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*      ,       : */</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    : value: false, }, sidePanelActive: { type: Boolean, value: false, }, }, user: { authorized: { type: Boolean, value: false, }, name: { type: String, value: null, //          : cache: true, }, }, });</span></span></code> </pre><br>  O circuito tamb√©m pode ser convenientemente dividido em blocos l√≥gicos separados. <br><br>  Para evitar vazamentos de mem√≥ria, assinaturas irrelevantes devem ser descartadas: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = HdState.subscribe(<span class="hljs-string"><span class="hljs-string">'ui.loading'</span></span>, (val) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val); }); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Unsubscribe: subscription.remove(); }, 10000);</span></span></code> </pre><br>  Documenta√ß√£o do estado: <a href="https://holiday-js.web.app/%3Fstate">https://holiday-js.web.app/?state</a> <br><br><h3>  Ferramentas de desenvolvimento </h3><br>  O menor conjunto para come√ßar √© um editor de texto e um navegador.  Sim, basta tentar.  Note-se que nesta configura√ß√£o, o navegador deve ser exatamente o Firefox.  Ele pode carregar m√≥dulos ES <b>sem</b> usar um servidor local. <br><br>  Para um trabalho mais completo, voc√™ precisar√° do git e de qualquer servidor da web que voc√™ goste (para trabalhar com m√≥dulos ES em outros navegadores). <br><br>  Para destacar a sintaxe HTML e o preenchimento autom√°tico em literais de modelo, eu uso a extens√£o para o VS Code, originalmente projetada para funcionar com lit-html: <a href="https://github.com/pushqrdx/vscode-inline-html">https://github.com/pushqrdx/vscode-inline-html</a> <br><br>  Para criar o c√≥digo antes da publica√ß√£o, voc√™ pode usar qualquer <a href="https://webpack.js.org/">compilador</a> popular, como <a href="https://webpack.js.org/">webpack</a> ou <a href="https://rollupjs.org/guide/en/">rollup</a> . <br><br><h3>  Desempenho </h3><br>  Os benchmarks para estruturas n√£o s√£o f√°ceis de escrever.  Para uma compara√ß√£o representativa, voc√™ deve comparar coisas compar√°veis ‚Äã‚Äãe, na medida do poss√≠vel, minimizar os efeitos dos efeitos colaterais.  Portanto, eles devem ter uma ideia clara do que est√° acontecendo "sob o cap√¥" em cada caso.  Primeiro, voc√™ precisa decidir quais par√¢metros ser√£o medidos.  Para o nosso caso, √© importante para n√≥s: <br><br><ol><li>  Hora de iniciar a execu√ß√£o do programa principal (download) </li><li>  Tempo de renderiza√ß√£o inicial do componente </li><li>  Hora de atualizar esses componentes e redesenh√°-los </li></ol><br>  Infelizmente, n√£o temos uma maneira confi√°vel de descobrir o momento em que o navegador executou o programa e terminou a renderiza√ß√£o completamente.  No n√≠vel do navegador, existem muitas de nossas pr√≥prias otimiza√ß√µes, que para n√≥s s√£o algo como uma "caixa preta" e podem diferir em diferentes mecanismos.  O que podemos usar: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">API de desempenho</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> e m√©todo <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback">requestIdleCallback</a> n√£o padr√£o, que funciona apenas no Chrome e Firefox.  Chega pela primeira vez. <br><br>  Com que compararemos o Holiday.js?  Comecei com duas bibliotecas: React (onde sem ele) e LitElement (tecnologias similares no n√∫cleo).  Voc√™ pode encontrar o c√≥digo de refer√™ncia nestes reposit√≥rios: <br><br>  <a href="https://github.com/foxeyes/holiday-benchmark">https://github.com/foxeyes/holiday-benchmark</a> <br>  <a href="https://github.com/foxeyes/lit-benchmark">https://github.com/foxeyes/lit-benchmark</a> <br>  <a href="https://github.com/foxeyes/react-benchmark">https://github.com/foxeyes/react-benchmark</a> <br><br>  Infelizmente, ainda n√£o terminei o teste de automa√ß√£o, e isso tamb√©m n√£o √© f√°cil, porque a automa√ß√£o n√£o deve criar efeitos colaterais por si s√≥.  No momento, continuo trabalhando nessa quest√£o e estou preparando uma ferramenta apropriada usando o <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> (uma coisa muito √∫til, eu recomendo).  Enquanto isso, voc√™ pode tentar os testes no modo manual (Chrome / Firefox) e verificar os resultados no console do navegador.  Voc√™ ver√° que o Holiday.js √© um <b>l√≠der confiante em todos os casos</b> . <br><br>  Voc√™ pode perceber que, no caso do React, um cont√™iner div adicional √© criado quando os componentes s√£o exibidos, o que serve para nivelar o n√∫mero de elementos DOM criados.  Decidi que isso seria verdade, porque um componente da web √© sempre um elemento DOM e um cont√™iner, e a correspond√™ncia das estruturas da √°rvore DOM em diferentes testes √© muito importante.  Al√©m disso, √© poss√≠vel se livrar do aninhamento desnecess√°rio no Holiday.js e exibir os dados da mesma maneira que no React.  No entanto, se esse problema lhe parecer controverso, preste aten√ß√£o, antes de tudo, na velocidade das atualiza√ß√µes. <br><br><h3>  Suporte do navegador </h3><br>  N√£o, o Internet Explorer n√£o √© suportado.  Isso poderia ter sido alcan√ßado com certos esfor√ßos (para a 11¬™ vers√£o), mas a rejei√ß√£o do apoio √© uma posi√ß√£o de princ√≠pio.  Em primeiro lugar, acredito que o IE deve morrer por um longo tempo e em nosso poder contribuir para isso.  Em segundo lugar, as pessoas que defendem o suporte ao IE geralmente cometem um s√©rio erro l√≥gico: a participa√ß√£o do IE no tr√°fego total, de acordo com os dados atuais de caniuse, √© de ~ 1,6% para <b>todas as</b> vers√µes encontradas.  E o navegador mais popular, que ultrapassa o resto por uma ampla margem, √© <b>o</b> Chrome para <b>dispositivos m√≥veis</b> (~ 35%).  Portanto, apoiando o IE, voc√™ se recusa conscientemente a usar um grande n√∫mero de tecnologias que s√£o simplesmente necess√°rias para implementar total adaptabilidade e mobilidade em seus aplicativos, ou seja, por uma pequena minoria, complicam a vida da grande maioria de seus usu√°rios.  Ou aumente <b>significativamente</b> o custo de desenvolvimento e manuten√ß√£o de seus produtos.  Em terceiro lugar, a Microsoft, nos √∫ltimos tempos, tem for√ßado ativamente os usu√°rios a abandonar o Windows 7, para que a propor√ß√£o do tr√°fego do IE em um futuro pr√≥ximo diminua mais rapidamente.  Admito que h√° casos em que o suporte ao IE n√£o pode ser ignorado, mas esses casos s√£o muito mais raros do que costum√°vamos pensar. <br><br>  Em 15 de janeiro deste ano, a Microsoft lan√ßou uma vers√£o de lan√ßamento do novo <a href="https://www.microsoft.com/en-us/edge">Edge</a> , no mecanismo Chromium.  A partir deste momento, podemos assumir que o Holiday.js √© suportado nativamente em <b>todas</b> as vers√µes atuais de navegadores populares.  Para o Edge mais antigo, √© necess√°rio um <a href="https://github.com/webcomponents/polyfills/tree/master/packages/webcomponentsjs">polyfill</a> .  A capacidade de trabalhar com polyfills √© implementada no Holiday.js, mas o pr√≥prio script precisa ser conectado separadamente. <br><br><h3>  Minimalismo </h3><br>  O conceito de Holiday.js √© baseado na simplicidade e no minimalismo.  Uma das etapas importantes do trabalho neste projeto para mim foi a <b>remo√ß√£o da funcionalidade</b> , que me apressei em implementar, mas depois percebi que poderia passar sem ela.  Portanto, se lhe parece que algo realmente est√° faltando, fa√ßa uma pergunta a si mesmo, ser√° mesmo?  Respondi por mim mesmo assim: se algo for necess√°rio demais, √© melhor criar uma classe estendida separadamente, com heran√ßa da classe principal.  At√© agora, essa abordagem n√£o me falhou.  O Holiday.js, em seu estado atual, foi testado em batalha e mostrou-se muito positivo no trabalho. <br><br><h3>  Planos </h3><br>  Se voc√™ ler sobre este lugar, meus esfor√ßos j√° foram gastos em v√£o.  Mesmo se voc√™ n√£o quiser usar o Holiday.js, poder√° obter pelo menos algo interessante para trabalhar com componentes da Web como tal.  Ficarei muito feliz se este material marcar o in√≠cio da constru√ß√£o da comunidade.  Ficarei muito feliz em ter uma discuss√£o construtiva, cr√≠ticas, relat√≥rios de bugs, solicita√ß√µes de pull e, √© claro, estrelas no GitHub.  √â claro que n√£o pude abordar todos os aspectos e ficarei feliz em responder √†s suas perguntas.  Por favor, leve em considera√ß√£o que, at√© agora, eu trabalhei nessa biblioteca <b>sozinho</b> e √© dif√≠cil fazer tudo sozinho, incluindo documenta√ß√£o, testes e ferramentas relacionadas, paralelamente aos principais trabalhos e projetos de animais de estima√ß√£o. <br><br>  No entanto, em um futuro pr√≥ximo: <br><br><ul><li>  Mais compara√ß√µes com outras bibliotecas e estruturas populares. </li><li>  Ferramenta de teste PingPong minimalista e flex√≠vel baseada em Puppeteer </li><li>  Gerador b√°sico de projeto com exemplos (Starter Kit) </li><li>  Desenvolvimento adicional da documenta√ß√£o </li></ul><br>  Cruzo os dedos, pressiono "Publicar" ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485688/">https://habr.com/ru/post/pt485688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485654/index.html">Uma ideia tirada da f√≠sica ajuda a IA a trabalhar em dimens√µes mais altas.</a></li>
<li><a href="../pt485660/index.html">A pr√≥pria empresa de prote√ß√£o contra DDoS lan√ßou ataques DDoS, admitiu seu fundador</a></li>
<li><a href="../pt485664/index.html">Criando par√¢metros din√¢micos em um trabalho Jenkins ou como tornar sua tarefa f√°cil de usar</a></li>
<li><a href="../pt485672/index.html">Melhores pr√°ticas do Redis, parte 1</a></li>
<li><a href="../pt485682/index.html">A administra√ß√£o do tempo n√£o ajudar√°: a procrastina√ß√£o √© o problema de regular emo√ß√µes, n√£o o tempo</a></li>
<li><a href="../pt485692/index.html">Conselho do especialista em TI para o cliente ou como automatizar a bagun√ßa</a></li>
<li><a href="../pt485694/index.html">Embox no processador Elbrus. Ou nunca esque√ßa o que voc√™ obteve em intelig√™ncia</a></li>
<li><a href="../pt485702/index.html">FunCorp iOS meetup # 2</a></li>
<li><a href="../pt485704/index.html">Pixel art para iniciantes: corrigindo erros comuns</a></li>
<li><a href="../pt485706/index.html">Convidamos voc√™ para a reuni√£o "Transforma√ß√£o digital e novos pap√©is na ci√™ncia de dados"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>