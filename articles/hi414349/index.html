<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЦкя╕П ЁЯСЙЁЯП╗ ЁЯЪБ рдПрдорд╕реАрд╕реА рд▓рд╛рдЧрдд рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ: рдЯрд┐рдВрдХрдСрдлрд╝ рдФрд░ рд░реЙрдХреЗрдЯрдмреИрдВрдХ тЖЧя╕П ЁЯджЁЯП╝ ЁЯС┤ЁЯП╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд░рд┐рдЪрдп 


 MCC (рдорд░реНрдЪреЗрдВрдЯ рд╢реНрд░реЗрдгреА рдХреЛрдб) - рдмреИрдВрдХ рдХрд╛рд░реНрдб рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдкреНрд░рдпреБрдХреНрдд рдПрдХ рд╡реНрдпрд╛рдкрд╛рд░реА рд╢реНрд░реЗрдгреА рдХреЛрдбред рдЗрд╕ рдХреЛрдб рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдмреИрдВрдХ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЧреНрд░рд╛...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдорд╕реАрд╕реА рд▓рд╛рдЧрдд рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ: рдЯрд┐рдВрдХрдСрдлрд╝ рдФрд░ рд░реЙрдХреЗрдЯрдмреИрдВрдХ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414349/"><p><img src="https://habrastorage.org/webt/rf/jt/n-/rfjtn-y0tmebcsaamtvxkibqceo.png"></p><br><h1 id="vvedenie">  рдкрд░рд┐рдЪрдп </h1><br><p>  <strong>MCC</strong> (рдорд░реНрдЪреЗрдВрдЯ рд╢реНрд░реЗрдгреА рдХреЛрдб) - рдмреИрдВрдХ рдХрд╛рд░реНрдб рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдкреНрд░рдпреБрдХреНрдд рдПрдХ рд╡реНрдпрд╛рдкрд╛рд░реА рд╢реНрд░реЗрдгреА рдХреЛрдбред  рдЗрд╕ рдХреЛрдб рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдмреИрдВрдХ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЧреНрд░рд╛рд╣рдХ рдиреЗ рдХреМрди рд╕рд╛ рдЙрддреНрдкрд╛рдж рдЦрд░реАрджрд╛ рд╣реИред  рдпрд╣ рдЙрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рдЖрдкрд╕реЗ рдХреИрд╢рдмреИрдХ, рдХрдореАрд╢рди рд▓реЗрдВрдЧреЗ рдпрд╛ рдЕрдиреБрдЧреНрд░рд╣ рдЕрд╡рдзрд┐ рд░рджреНрдж рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдПрдХ рд╕рджреА рдореЗрдВ рдЬрдм рдХрдВрдкрдирд┐рдпрд╛рдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдПрдХрддреНрд░ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рд╕реЗ рдкреИрд╕реЗ рдХрдорд╛рддреА рд╣реИрдВ, рддреЛ рдпрд╣ рдЙрд▓реНрдЯрд╛ рдХрджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдкрд╛рдк рд╣реИ: рдХрдВрдкрдирд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЦреБрдж рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ, рддрд╛рдХрд┐ рдпрджрд┐ рдЖрдк рдЙрд╕ рдкрд░ рдкреИрд╕рд╛ рдирд╣реАрдВ рдХрдорд╛рддреЗ рд╣реИрдВ, рддреЛ рдХрдо рд╕реЗ рдХрдо рдмрдЪрдд рдХрд░реЗрдВред </p><br><p>  рдкреНрд░рддреНрдпреЗрдХ MCC рдХреЛрдб рдкрд░ рдЖрдк рдХрд┐рддрдирд╛ рдЦрд░реНрдЪ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ рдЬрд╛рдирдХрд░ рдЖрдк рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдмреИрдВрдХ рдХрд╛рд░реНрдб рдмрд╣реБрдд рд▓рд╛рдн рдкрд╣реБрдВрдЪрд╛рдПрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдиреЗ рдЯрд┐рдВрдХрдлреЙрдлрд╝ рдпрд╛ рд░реЙрдХреЗрдЯрдмреИрдВрдХ рдХрд╛рд░реНрдб рдХрд╛ рдкрд░реНрдпрд╛рдкреНрдд рд╕рдордп рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд▓реЗрдЦ рдкреНрд░рддреНрдпреЗрдХ MCC рдХреЗ рд▓рд┐рдП рдЦрд░реНрдЪ рдХрд░рдиреЗ рдХреЗ рдЖрдБрдХрдбрд╝реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдХрд╛рдо рдЖрдПрдЧрд╛ред </p><a name="habracut"></a><br><h1 id="tinkoff">  Tinkoff </h1><br><p>  рдЬрдм рдЖрдк рдЙрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЯрд┐рдВрдХрдл рдмреИрдВрдХ рдХрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддрд╛ MCC рд╕рдВрдЪрд╛рд▓рди рджрд┐рдЦрд╛рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/3s/x-/mp/3sx-mpitay6kwlkydd_wlthcv5y.png"></p><br><p>  рддреЛ рдЖрдк рдПрдХ рджрд░реНрдЬрди рдСрдкрд░реЗрд╢рди рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдореЗрдВ рдХрд╛рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдкреВрд░реЗ рд╕рдордп рдХреЗ рд▓рд┐рдП рдЖрдВрдХрдбрд╝реЗ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдорд╛рдорд▓рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдЗрдП рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд░реВрдк рдореЗрдВ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред </p><br><p>  UPD: рдЬреИрд╕рд╛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" class="user_link">рд╕реНрдореИрд╢рд░</a> рдиреЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ, рдЖрдкрдХрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддрд╛ CSV рдпрд╛ рдПрдХреНрд╕реЗрд▓ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╕рднреА рдкрд░рд┐рдЪрд╛рд▓рдиреЛрдВ рдХреЛ рдЕрдкрд▓реЛрдб рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рддреЛ рд╕реНрдкреЙрдЗрд▓рд░ рдХреЗ рддрд╣рдд рдореИрдВрдиреЗ рдпрд╣ рдХреИрд╕реЗ рдХрд┐рдпрд╛, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдирд╣реАрдВ рдЬрд╛рдирддреЗ рд╣реБрдП рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ред </p><br><p><img src="https://habrastorage.org/webt/2r/lb/dc/2rlbdcfc_h_y__rrusbkldu7a4u.png"></p><br><div class="spoiler">  <b class="spoiler_title">рдХрдард┐рди рд░рд╛рд╕реНрддреЗ рдкрд░ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ</b> <div class="spoiler_text"><p>  рдЗрд╕рдХреЗ рд▓рд┐рдП рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рдЯреВрд▓ рдФрд░ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ (Google Chrome рдореЗрдВ рдиреЗрдЯрд╡рд░реНрдХ рдЯреИрдм) рдХреЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  рдпрджрд┐ рдЖрдк рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рдХреЛ рдЪрд╛рд▓реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдЕрдкрдиреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдХреЛ "рд╕рднреА рд╕рдордп рдХреЗ рд▓рд┐рдП" рд╕рдВрдЪрд╛рд▓рди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЬрд▓реНрджреА рд╕реЗ рд╡рд╛рдВрдЫрд┐рдд рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗред </p><br><p><img src="https://habrastorage.org/webt/xj/3b/te/xj3btey4mplwedtxsz90hf79gdw.png"></p><br><p>  рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд░реНрд╡рд░ рдиреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рднреА рд╕рдордп рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рджрд┐рдпрд╛ рдерд╛, рдФрд░ рдЖрд╡рд╢реНрдпрдХ MCC JSON рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдореМрдЬреВрдж рд╣реИрдВред </p><br><p><img src="https://habrastorage.org/webt/rb/hk/hn/rbhkhnl9dznxkqzttw13cqgecku.png"></p><br><p>  рдбреЗрдЯрд╛ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рдкрд╛рдпрдерди рдореЗрдВ рдПрдХ рдЕрдиреБрд░реЛрдз рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВред  рдореИрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬреНрдпреВрдкрд┐рдЯрд░ рдиреЛрдЯрдмреБрдХ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реВрдВред </p><br><p><img src="https://habrastorage.org/webt/tm/0j/xt/tm0jxtg_knssyrpcjmlaokwgzle.png"></p><br><p>  рд╣рдо URL рдХреЗ рд▓рд┐рдП рдПрдХ POST рдЕрдиреБрд░реЛрдз рднреЗрдЬреЗрдВрдЧреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://api.tinkoff.ru/v1/grouped_requests</a> рд╕рдорд╛рди <em>рд╕реЗрд╢рди</em> рдФрд░ <em>_methods рдорд╛рдкрджрдВрдбреЛрдВ</em> рдФрд░ <em>рдЕрдиреБрд░реЛрдз</em> рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рдеред </p><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> requests session_id = <span class="hljs-string"><span class="hljs-string">"b785Q2R5US2AZo2p5JoCtNQNkbmYsJbl.ds-api02"</span></span> methods = <span class="hljs-string"><span class="hljs-string">"operations"</span></span> <span class="hljs-comment"><span class="hljs-comment">#     , payments   params = {'sessionid': session_id, '_methods': methods} #      requestsData   requests_data = '[{"key":0,"operation":"operations","params":{"wuid":"28a44beaeee7460b94dbdd0aa0dc935a","account":"5059373083","start":1136062800000,"end":1529269199999}}]' data = {'requestsData': requests_data} response = requests.post('https://api.tinkoff.ru/v1/grouped_requests', params=params, data=data)</span></span></code> </pre> <br><p>  рдпрджрд┐ рд╣рдордиреЗ рд╕рдм рдХреБрдЫ рдареАрдХ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдХрдВрд╕реЛрд▓ рдореЗрдВ <em>response.text</em> рджрд░реНрдЬ рдХрд░рдиреЗ рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдмреЙрдбреА рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрдЧреАред  рдпрд╣ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рдЕрдВрд╢реЛрдВ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╣рддрд╛ рд╣реИред </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> csv operations = [] payload = response.json()[<span class="hljs-string"><span class="hljs-string">'payload'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> payload: feed = payload[key][<span class="hljs-string"><span class="hljs-string">'payload'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> operation <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> feed: mcc = operation[<span class="hljs-string"><span class="hljs-string">'mcc'</span></span>] <span class="hljs-comment"><span class="hljs-comment"># MCC   &lt; 100         if (mcc &gt; 100): #     ,    if 'merchant' in operation: merchant_name = operation['merchant']['name'] else: merchant_name = operation['description'] #  accountAmount     ┬л┬╗  cost = operation['accountAmount']['value'] operations.append((mcc, cost, merchant_name)) print(mcc, cost, merchant_name) #    csv output = open("tinkoff.csv",'w') wr = csv.writer(output) for item in operations: wr.writerow(item)</span></span></code> </pre> <br><p>  рдЖрдЙрдЯрдкреБрдЯ рдореЗрдВ, рд╣рдореЗрдВ MCC рдХреЛрдбреНрд╕, рдЦрд░реАрдж рд▓рд╛рдЧрдд рдФрд░ рд╕реНрдЯреЛрд░ рдирд╛рдореЛрдВ рдХреА рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдорд┐рд▓рддреА рд╣реИред </p></div></div><br><h1 id="roketbank">  Roketbank </h1><br><p>  рд░реЙрдХреЗрдЯрдмреИрдВрдХ рд░рд╕реАрдж рдкрд░ рдПрдорд╕реАрд╕реА рд▓реЗрдирджреЗрди рджрд┐рдЦрд╛рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рд╣рдореЗрдВ рд╕рднреА рдкрд░рд┐рдЪрд╛рд▓рдиреЛрдВ рдХреА рдкреНрд░рд╛рдкреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдВрдХ рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/gu/5b/cl/gu5bclay6iqriyw8r6nn6fqc9zi.png"></p><br><p>  Rocketbank рдХреЗ рд╕рд╛рде рдереЛрдбрд╝рд╛ рдФрд░ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рддрдХ рдкрд╣реБрдВрдЪ рдХреЗрд╡рд▓ рдореЛрдмрд╛рдЗрд▓ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддреА рд╣реИред  рдореИрдВ рдХреЗрд╡рд▓ рдореЗрд░реЗ рд▓рд┐рдП рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдХреЗрд╡рд▓ Android рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ред  рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЪрд╛рд░реНрд▓реНрд╕</a> рд╡рд┐рд╢реНрд▓реЗрд╖рдХ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлреЛрди рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдкрд╛рд╕ рдХрд░реЗрдВред </p><br><p>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдлреЛрди рдФрд░ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдкрдХреЛ рд╕реНрдерд╛рдиреАрдп рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдХрдВрдкреНрдпреВрдЯрд░ рдХрд╛ рдЖрдИрдкреА рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реЛрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <em>ifconfig</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдПред </p><br><p>  рдЕрдЧрд▓рд╛, рдЪрд╛рд░реНрд▓реНрд╕ рдкреНрд░реЙрдХреНрд╕реА рд╕рд░реНрд╡рд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлреЛрди рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред  рдПрдВрдбреНрд░реЙрдЗрдб 7.0 рдореЗрдВ, рдпрд╣ рдХрдиреЗрдХреНрдЯреЗрдб рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рджрдмрд╛рдХрд░ рд╡рд╛рдИ-рдлрд╛рдИ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХрдВрдкреНрдпреВрдЯрд░ рдЖрдИрдкреА рдФрд░ рдкреЛрд░реНрдЯ 8888, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЪрд╛рд░реНрд▓реНрд╕ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред </p><br><p><img src="https://habrastorage.org/webt/dx/xk/s9/dxxks9hc5_o7xnhtf3ke2mgh5d4.png"></p><br><p>  рдпрд╣ рдмрд┐рдирд╛ рдХрд╣реЗ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд░реЙрдХреЗрдЯрдмреИрдВрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рддреЗ рд╕рдордп рдЯреАрдПрд▓рдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣рдо рдЗрд╕ рддрд░рд╣ рд╕реЗ рдЯреНрд░реИрдлрд╝рд┐рдХ рдирд╣реАрдВ рд╕реБрди рдкрд╛рдПрдВрдЧреЗред  рдЪрд╛рд░реНрд▓реНрд╕ рдЯреАрдПрд▓рдПрд╕ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдХреЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХреЗ рд╕рд╛рде рдЯреНрд░реИрдлрд╝рд┐рдХ рдЕрд╡рд░реЛрдзрди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рдпрд╣ рдПрдХ MITM рд╣рдорд▓реЗ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рд▓рд┐рдП, рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдЪрд╛рд░реНрд▓реНрд╕ рд░реВрдЯ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдЪрд╛рд░реНрд▓реНрд╕ рд░реВрдЯ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рддрдм рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдк рдкреНрд░реЙрдХреНрд╕реА рд╕рдХреНрд╖рдо рд╡рд╛рд▓реЗ рдореЛрдмрд╛рдЗрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реЗ рд▓рд┐рдВрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://chls.pro/ssl</a> рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдкрдХреЛ <em>рдкреНрд░реЙрдХреНрд╕реА -&gt; SSL рдкреНрд░реЙрдХреНрд╕реА рд╕реЗрдЯрд┐рдВрдЧ рдореЗрдВ рдЕрдиреБрдорд╛рдирд┐рдд</em> рд╣реЛрд╕реНрдЯ рдХреА рд╕реВрдЪреА рдореЗрдВ rollerbank.ru рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p><img src="https://habrastorage.org/webt/hw/qi/up/hwqiup8wmrvrqlqjdgiwjdfmbbq.png"></p><br><p>  рд▓реЗрдХрд┐рди рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдПрдВрдбреНрд░реЙрдЗрдб 7.0 рдореЗрдВ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреНрд░рдорд╛рдгрди рдЕрдзрд┐рдХрд╛рд░рд┐рдпреЛрдВ рдкрд░ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рд╕реБрд░рдХреНрд╖рд╛!  рдЖрд╡реЗрджрди рдХреЛ рдЙрдЪрд┐рдд рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдПрдХ рдмрд╛рдзрд╛?  рдПрдХ рдмрд╛рд░ рдирд╣реАрдВред  рд╣рдо рдЕрдкрдШрдЯреНрдп рдФрд░ рд╕рдВрдХрд▓рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдлреЛрди рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкреИрдХреЗрдЬ рдорд┐рд▓рддрд╛ рд╣реИред  рдпрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдВрдбреНрд░реЙрдЗрдб рдбрд┐рдмрдЧ рдмреНрд░рд┐рдЬ</a> рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдкрдХ рдПрдХреНрд╕рдЯреНрд░реИрдХреНрдЯрд░</a> рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдПрдВрдбреНрд░реЙрдЗрдб 7.0 рдкрд░ рдкрд╣рд▓реА рд╡рд┐рдзрд┐ рдиреЗ рдореЗрд░реЗ рд▓рд┐рдП рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛, рдФрд░ рджреВрд╕рд░рд╛ рдХрд╛рдо рдХреЗ рд╕рд╛рде рдореБрдХрд╛рдмрд▓рд╛ рдХрд┐рдпрд╛ред </p><br><p>  рд╣рдо рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рд▓рд┐рдП рдкреИрдХреЗрдЬ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">apktool</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрдШрдЯрди рдХрд░рддреЗ рд╣реИрдВ</a> ред </p><br><pre> <code class="bash hljs">apktool d rocket.apk</code> </pre> <br><p>  рдЖрдкрдХреЛ рдкрде рд░реЗрд╕ / xml / network_security_config.xml рдХреЗ рд╕рд╛рде рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд╛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред  рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдкреНрд░рд╛рд░реВрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВ: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">network-security-config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base-config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">trust-anchors</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Always trust user added CAs --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">certificates</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"user"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">trust-anchors</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">base-config</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">network-security-config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  рдЗрд╕ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореИрдирд┐рдлрд╝реЗрд╕реНрдЯ (рд░реВрдЯ рдореЗрдВ AndroidManifest.xml) рдореЗрдВ рдПрдВрдбреНрд░реЙрдЗрдб: networkSecurityConfig рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЯреИрдЧ рдореЗрдВ рдЬреЛрдбрд╝рдХрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:networkSecurityConfig</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@xml/network_security_config"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:allowBackup</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"false"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">application</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  рдЕрдм рд╕рдВрдХрд▓рд┐рдд рдХрд░реЗрдВред </p><br><pre> <code class="bash hljs">apktool b rocket</code> </pre> <br><p>  рдпрд╣ рдЖрд╡реЗрджрди рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛ рд╣реБрдЖ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИрдВред  рд╣рдо рдЗрд╕рдХреЗ рд▓рд┐рдП <a href="">рдПрдХ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдкрд░реАрдХреНрд╖рдг рдкреНрд░рдорд╛рдг рдкрддреНрд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд╛рд░реНрдпрдХреНрд░рдо рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="bash hljs">java -jar sign.jar rocket.apk</code> </pre> <br><p>  рдлреЛрди рд╕реЗ рдореВрд▓ рд░реЙрдХреЗрдЯрдмреИрдВрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдирд┐рдХрд╛рд▓реЗрдВ, рд╕рдВрд╢реЛрдзрд┐рдд рдкреИрдХреЗрдЬ рдХреЛ рдлреЛрди рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, "рдлрд╛рдЗрд▓" рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)ред </p><br><p>  рдЕрдм рдЪрд╛рд░реНрд▓реНрд╕ рдореЗрдВ рдпрд╛рддрд╛рдпрд╛рдд рдЕрд╡рд░реЛрдзрди рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд░реЙрдХреЗрдЯрдмреИрдВрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЦреЛрд▓реЗрдВ, рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВ рдФрд░ рдЪрд╛рд░реНрд▓реНрд╕ рдореЗрдВ рджреЗрдЦреЗрдВред  рдпрд╣рд╛рдБ рдпрд╣ рд╣реИ, рд░рд╕реАрдж рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░рд╛ рд▓рд┐рдВрдХред </p><br><p><img src="https://habrastorage.org/webt/bc/sq/o4/bcsqo4cleywt1uwepjviz_ciqtq.png"></p><br><p>  рдЪрд▓реЛ рд╡рд╛рдкрд╕ рдЕрдЬрдЧрд░ рдХреЗ рдкрд╛рд╕ рдЬрд╛рдПрдВ рдФрд░ рдЗрд╕ GET рдЕрдиреБрд░реЛрдз рдХреЛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ, рдмрд╕ рдЗрд╕ рдкрд░ рд╕рдордп рдмрд░реНрдмрд╛рдж рди рдХрд░реЗрдВ рдФрд░ рд╕рд░реНрд╡рд░ рд╕реЗ рд╣рдореЗрдВ рд╕рднреА рдСрдкрд░реЗрд╢рдиреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣реЗрдВред  рдЦреИрд░, рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдкрд╣рд▓реЗ 999999 рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред </p><br><pre> <code class="python hljs">token = <span class="hljs-string"><span class="hljs-string">'c8ccb54b-09e3-4608-a5b4-7914a92c21f3206582'</span></span> params = {<span class="hljs-string"><span class="hljs-string">'token'</span></span>: token, <span class="hljs-string"><span class="hljs-string">'page'</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'per_page'</span></span>: <span class="hljs-number"><span class="hljs-number">999999</span></span>}</code> </pre> <br><p>  рдпрд╣ рдкреНрд░рд╛рдпреЛрдЧрд┐рдХ рддреМрд░ рдкрд░ рдкрд╛рдпрд╛ рдЧрдпрд╛ рдХрд┐ рд╕рд░реНрд╡рд░ рдХреЗрд╡рд▓ рддрднреА рд╕рддреНрд░ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░рддрд╛ рд╣реИ <em>рдЬрдм</em> рдЯреЛрдХрди рдХреЗ рд╕рд╛рде рд╕рд╣реА <em>рдПрдХреНрд╕-рдбрд┐рд╡рд╛рдЗрд╕-рдЖрдИрдбреА</em> , <em>рдПрдХреНрд╕-рдЯрд╛рдЗрдо</em> рдФрд░ <em>рдПрдХреНрд╕-рд╕рд┐рдЧ</em> рднреЗрдЬреЗ <em>рдЧрдП рдереЗ</em> ред  рд╣рдореЗрдВ рдЦреЗрдж рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдХреБрдЫ рднреА рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдФрд░ рдЧрд┐рдирдирд╛ рдирд╣реАрдВ рд╣реИ, рдмрд╕ рдЗрд╕реЗ рдХреЙрдкреА рдХрд░рдирд╛ рд╣реИред </p><br><pre> <code class="python hljs">x_device_id = <span class="hljs-string"><span class="hljs-string">'ANDROID_C6FBB57CD433E756_899EE771-4AC5-46ED-44A1-656CE47A417B'</span></span> x_time = <span class="hljs-string"><span class="hljs-string">'1529194008'</span></span> x_sig = <span class="hljs-string"><span class="hljs-string">'c486365013ddebe8b7f4599afbf73d26'</span></span> headers = {<span class="hljs-string"><span class="hljs-string">'x-device-id'</span></span>: x_device_id, <span class="hljs-string"><span class="hljs-string">'x-time'</span></span>: x_time, <span class="hljs-string"><span class="hljs-string">'x-sig'</span></span>: x_sig} response = requests.get(<span class="hljs-string"><span class="hljs-string">'https://rocketbank.ru/api/v5/operations/sexy_feed'</span></span>, params=params, headers=headers)</code> </pre> <br><p>  рд░рд╕реАрдж рд╕реЗ MCC рдХреЛ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рд╣рдо рдСрдкрд░реЗрд╢рдВрд╕ рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВ, рд░рд╕реАрдж рдкрдврд╝рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдирд┐рдпрдорд┐рдд рд╢реЗрдбреНрдпреВрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛рддреЗ рд╣реИрдВ рдФрд░ рд╣рдореЗрдВ рдЕрдкрдиреА рдЬреЗрдм рдореЗрдВ рдЬреЛ рдХреБрдЫ рднреА рдЪрд╛рд╣рд┐рдП рд╣реЛрддрд╛ рд╣реИред </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> re regex = re.compile(<span class="hljs-string"><span class="hljs-string">'MCC:&lt;/dt&gt;&lt;.+?&gt;(\d+)&lt;/dd&gt;'</span></span>) operations = [] feed = response.json()[<span class="hljs-string"><span class="hljs-string">'feed'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> item <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> feed: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> item[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'operation'</span></span>: operation = item[<span class="hljs-number"><span class="hljs-number">1</span></span>] merchant_name = operation[<span class="hljs-string"><span class="hljs-string">'merchant'</span></span>][<span class="hljs-string"><span class="hljs-string">'name'</span></span>] receipt_url = operation[<span class="hljs-string"><span class="hljs-string">'receipt_url'</span></span>] cost = operation[<span class="hljs-string"><span class="hljs-string">'money'</span></span>][<span class="hljs-string"><span class="hljs-string">'amount'</span></span>] <span class="hljs-comment"><span class="hljs-comment">#    if cost &lt; 0: receipt = requests.get(receipt_url) match = regex.search(receipt.text) if match is not None: mcc = match[1] operations.append((mcc, -cost, merchant_name)) print(mcc, -cost, merchant_name) else: #  MCC  ,      , #        MCC operations.append((merchant_name, -cost)) print(merchant_name, -cost) output = open("rocket.csv",'w') wr = csv.writer(output) for item in operations: wr.writerow(item)</span></span></code> </pre> <br><p>  рд╢рд╛рдпрдж рдЖрдк рд╕рдВрд╢реЛрдзрд┐рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдореВрд▓ рдХреЛ рд╡рд╛рдкрд╕ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="itogo">  рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░ </h1><br><p>  рджреЛ рдмреИрдВрдХреЛрдВ рдХреЗ рдбреЗрдЯрд╛ рдХреЛ рдорд┐рд▓рд╛рдХрд░, рдПрдХ рдкрд┐рд╡рдЯ рдЯреЗрдмрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ MCC рджреНрд╡рд╛рд░рд╛ рд╕рдореВрд╣ рд╕рдВрдЪрд╛рд▓рди, рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдирд╛рдиреНрддрд░рдг рдФрд░ рдирдХрдж рдирд┐рдХрд╛рд╕реА рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдирд╛, рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рдорд╛рди рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдореЗрдВ рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рд╕рдореВрд╣рд┐рдд рдХрд░рдирд╛, рдореБрдЭреЗ рдирд┐рдореНрди рдЪрд┐рддреНрд░ рдорд┐рд▓рд╛: </p><br><p><img src="https://habrastorage.org/webt/j1/5a/qa/j15aqayl7cwxi-xcsmpxxg1itb8.png"></p><br><p>  рдЕрдм, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">mcc-codes.ru</a> рдЬреИрд╕реА рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рд╕рдмрд╕реЗ рдорд╣рдВрдЧреА рд╢реНрд░реЗрдгрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдмрдврд╝реЗ рд╣реБрдП рдХреИрд╢рдмреИрдХ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдб рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред  рдФрд░, рд╡рд╛рд░реНрд╖рд┐рдХ рд░рдЦрд░рдЦрд╛рд╡ рдХреА рд▓рд╛рдЧрдд рдХреЗ рд╕рд╛рде рд╕рдВрднрд╛рд╡рд┐рдд рдХреИрд╢рдмреИрдХ рдХреА рдорд╛рддреНрд░рд╛ рдХреЛ рд╕рд╣рд╕рдВрдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реБрдП, рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреНрдпрд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдб рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЙрдЪрд┐рдд рд╣реИред </p><br><p>  рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдлрд╛рдпрджрд╛ рд╣реИ?  рдореЗрд░реЗ рдЦрд░реНрдЪ рдФрд░ рдХрд╛рд░реНрдб рдХреЗ рд╕рд╣реА рдЪрдпрди рдХреЗ рд╕рд╛рде, рдореИрдВ рдПрдХ рд╡рд░реНрд╖ рдореЗрдВ 10 рд╣рдЬрд╛рд░ рд░реВрдмрд▓ рд╕реЗ рдмрдЪрд╛ рд╕рдХрддрд╛ рд╣реВрдВред  рдХреНрдпрд╛ рдпрд╣ рдЗрд╕рдХреЗ рд▓рд╛рдпрдХ рд╣реИ?  рдЖрдк рддрдп рдХрд░реЗрдВ :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi414349/">https://habr.com/ru/post/hi414349/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi414339/index.html">рдорд╛рд╕реНрдХреЛ рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдХреА рдирдИ рд╕рд╛рдЗрдЯ #tceh рдХреА рд╢рд╛рдирджрд╛рд░ рдлреЛрдЯреЛ рдпрд╛рддреНрд░рд╛</a></li>
<li><a href="../hi414341/index.html"># 256 рдбреЗрд╡рд▓рдкрд░ рдореЛрдмрд╛рдЗрд▓ рдХреЗ рд▓рд┐рдП рджрд┐рд▓рдЪрд╕реНрдк рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдкрд╛рдЪрди (3-12 рдЬреВрди рдХреЛ)</a></li>
<li><a href="../hi414343/index.html">Google рддрдВрддреНрд░рд┐рдХрд╛ рдорд╢реАрди рдЕрдиреБрд╡рд╛рдж</a></li>
<li><a href="../hi414345/index.html">рд╕рдордп рд╕реНрд╡рд┐рдЪ рдХрд╛ рдЙрд▓рдЯрд╛ рд╡рд┐рдХрд╛рд╕ VL-76-S</a></li>
<li><a href="../hi414347/index.html">рдирд┐рд╖реНрдХреНрд░рд┐рдп рдЖрдХреНрд░рд╛рдордХрддрд╛: рдпрд╣ рд╣рдорд╛рд░реЗ рдХрд╛рдордХрд╛рдЬреА рдЬреАрд╡рди рдХреЛ рдХреИрд╕реЗ рдирд╖реНрдЯ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рд╕реЗ рдХреИрд╕реЗ рдирд┐рдкрдЯрдирд╛ рд╣реИ</a></li>
<li><a href="../hi414351/index.html">рдЕрдзрд┐рдХрд╛рдВрд╢ рдЕрд╕рд╛рдорд╛рдиреНрдп рд╕рдВрдЧреАрдд рд╡рд╛рджреНрдпрдпрдВрддреНрд░: рд╣реИрдореЛрдВрдб рдСрд░реНрдЧрди, рд╡рд╛рдХреЛ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЙрди рдФрд░ рд╕рд┐рдирдХреНрд▓реЗрд╡рд┐рдпрд░</a></li>
<li><a href="../hi414353/index.html">Kivyред рдирд┐рд░реНрдорд╛рдг рд╕реЗ рдЙрддреНрдкрд╛рджрди рддрдХ рдПрдХ рдХрджрдо рд╣реИред рднрд╛рдЧ реи</a></li>
<li><a href="../hi414355/index.html">рд╡рд┐рд╕реНрдлреЛрдЯ рдХреЗ рдмрд╛рдж рдХрд╛ рдЬреАрд╡рди</a></li>
<li><a href="../hi414357/index.html">рд╣рдо рджрд┐рд▓ рдХреА рджрд░ рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдиреЗ рдФрд░ Vue.js рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡реЗрдм рдмреНрд▓реВрдЯреВрде рдПрдкреАрдЖрдИ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi414359/index.html">рд╕реНрд╡рд┐рдлреНрдЯ 3 рдореЗрдВ iOS рдореЗрдВ рдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рд╕рд╣рднрд╛рдЧрд┐рддрд╛ 3. рднрд╛рдЧ 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>