<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐ ใ๏ธ ููู ูุนูู ุชุตููู ุงูุตูุญุงุช: ุงูุชูููุฐ ูู ุงูุจุญุซ ุนู ุทุฑูู ุงูุฌุจุฑ ุงูุฎุทู ูุทุฑููุฉ ุงูููุฉ ๐๐ผ ๐ฃ ๐ง๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุงุจุฑููุณู ุงูููุงุทููู! 

 ุงุณูู ุงูููุณ ูุฐู ุงููุฑุฉ ุฃูุง ุงูุจุซ ูู ููุงู ุงูุนูู ูู ITAR-TASS. 

 ูู ูุฐุง ุงููุต ุงููุตูุฑ ุ ุณูู ุฃุนุฑุถ ุนููู ุทุฑููุฉ ุญุณุงุจ PageRank ยฉ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ูุนูู ุชุตููู ุงูุตูุญุงุช: ุงูุชูููุฐ ูู ุงูุจุญุซ ุนู ุทุฑูู ุงูุฌุจุฑ ุงูุฎุทู ูุทุฑููุฉ ุงูููุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439332/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุงุจุฑููุณู ุงูููุงุทููู! <br><br>  ุงุณูู ุงูููุณ  ูุฐู ุงููุฑุฉ ุฃูุง ุงูุจุซ ูู ููุงู ุงูุนูู ูู ITAR-TASS. <br><br>  ูู ูุฐุง ุงููุต ุงููุตูุฑ ุ ุณูู ุฃุนุฑุถ ุนููู ุทุฑููุฉ ุญุณุงุจ PageRank ยฉ (ุงููุดุงุฑ ุฅูููุง ูููุง ููู ุจุงุณู PR) ุจุงุณุชุฎุฏุงู ุฃูุซูุฉ ุจุณูุทุฉ ูููููุฉ ุจุงููุบุฉ R. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎูุงุฑุฒููุฉ</a> ูู ููููุฉ ููุฑูุฉ ูู Google ุ ูููู ูุธุฑูุง ููุงุฆุฏุชูุง ูู ููุงู ุชุญููู ุงูุจูุงูุงุช ุ ูุชู ุงุณุชุฎุฏุงู ุงูุนุฏูุฏ ูู ุงูููุงู ุ ูุงูุชู ูููู ุงุฎุชุฒุงููุง ููุจุญุซ ุนู ุงูุนูุฏ ุงููุจูุฑุฉ ูู ุงูุฑุณู ุงูุจูุงูู ูุชุตููููุง ุญุณุจ ุงูุฃูููุฉ. <br><br>  ุฐูุฑ ุดุฑูุฉ ูุจูุฑุฉ ูู ููุดูุฑ ููุณ ุฅุนูุงููุง. <br><a name="habracut"></a><br>  ุจูุง ุฃููู ูุณุช ุนุงูู ุฑูุงุถูุงุช ูุญุชุฑููุง ุ ูุฅููู ุฃุณุชุฎุฏู ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงู</a> ููุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุจุฑูุงูุฌ ุงูุชุนูููู</a> ูุฏููู ูุฃูุตู ุจู. <br><br><h3 style=";text-align:right;direction:rtl">  ููู ุจุฏููู ููุนูุงูุงุช ุงูุนุงูุฉ </h3><br>  ููู ููู ูุนูู ูุฐุง ููุณ ุจุงูุฃูุฑ ุงูุตุนุจ.  ููุงู ูุฌููุนุฉ ูู ุงูุนูุงุตุฑ ุงููุชุฑุงุจุทุฉ.  ุฅูููู ูุฏู ุงุฑุชุจุงุทูู ุจุงูุชุญุฏูุฏ - ูุฐุง ุณุคุงู ูุงุณุน: ุฑุจูุง ูู ุฎูุงู ุงูุฑูุงุจุท (ูุซู Google) ุ ูุฑุจูุง ูู ุฎูุงู ุฐูุฑ ุจุนุถูู ุงูุจุนุถ (ููุณ ุงูุฑูุงุจุท ุชูุฑูุจูุง) ุ ูููู ุฃู ุชููู ุงุญุชูุงูุงุช ุงูุงูุชูุงู ุจูู ุงูุนูุงุตุฑ (ูุตูููุฉ ุนูููุฉ Markov) ูุญุฏุฏุฉ ูุณุจููุง ุฏูู ุชุญุฏูุฏ ุงููุงุฏู ูุนูู ุงูุชูุงุตู.  ุฃูุฏ ุฃู ุฃุณูุฏ ุฅูู ูุฐู ุงูุนูุงุตุฑ ูุนูุงุฑูุง ููููุง ููุฃูููุฉ ุ ูุญูู ูุนูููุงุช ุญูู <b>ุงุญุชูุงู</b> ุฃู ูุฒูุฑ ูุฐุง ุงูุนูุตุฑ ุจุนุถ ุงูุฌุณููุงุช ุงููุฌุฑุฏุฉ ุงูุชู ุชูุชูู ุนุจุฑ ุงูุฑุณู ุงูุจูุงูู ูู ุนูููุฉ ุงูุงูุชุดุงุฑ. <br><br>  ุฃู ุ ูุฐุง ูุง ูุจุฏู ูุงุถุญุง ุฌุฏุง.  ูู ุงูุฃุณูู ุชุฎูู ุดุฎุต ูุณุชุฎุฏู ููุจููุชุฑ ูุญููู ูุน <s>ุฎุดุฎุงุด</s> ุ ููุชุตูุญ ุตูุญุงุช ูุชุงุฆุฌ ุงูุจุญุซ ุ ููุฏุฎู ุงูุดูุดุฉ ุ ููุชุจุน ุงูุฑูุงุจุท ูู ุตูุญุฉ ุฅูู ุฃุฎุฑู ุ ูุบุงูุจูุง ูุง ูุธูุฑ ุนูู ููุณ ุงูุตูุญุฉ (ุฃู ุงูุตูุญุงุช). <br><br>  ููุฑุฌุน ุฐูู ุฅูู ุญูููุฉ ุฃู ุจุนุถ ุงูุตูุญุงุช ุงูุชู ูุฒูุฑูุง ุชุญุชูู ุนูู ูุซู ูุฐู ุงููุนูููุงุช ุงููุซูุฑุฉ ููุงูุชูุงู ูู ุงููุตุฏุฑ ุงูุฃุตูู ูุงูุชู ุชุถุทุฑ ุงูุตูุญุงุช ุงูุฃุฎุฑู ุฅูู ุฅุนุงุฏุฉ ุทุจุงุนุชูุง ูุน ุงูุฅุดุงุฑุฉ ุฅูู ุงูุงุฑุชุจุงุท. <br><br>  ูุซู ูุฐุง ุงูุฑุฌู ูู ุฌูุฌู ูุงู ุงุณูู ุณูุฑูุฑ ุนุดูุงุฆู.  ุฅูู ุฌุณูู ูู ุนูููุฉ ุงูุงูุชุดุงุฑ: ุชุบููุฑ ูููุตู ูููููู ุนูู ุงูุฑุณู ุงูุจูุงูู ุจูุฑูุฑ ุงูููุช.  ูุงูุงุญุชูุงู ุงูุฐู ูุฒูุฑ ุจู ุงูุตูุญุฉ ูุน ููุช ูุดุฑ ูููู ุฅูู ูุง ูุง ููุงูุฉ ูู ุงูุนูุงูุงุช ุงูุนุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชูููุฐ ุจุณูุท ูุญุณุงุจ ุงูุนูุงูุงุช ุงูุนุงูุฉ </h3><br>  ุฏุนููุง ูุชูู - ูุญู ูุนูู ูุน 10 ุนูุงุตุฑ ุ ูู ูุฐุง ุงูุฑุณู ุงูุจูุงูู ุงูุตุบูุฑ ุงููุฑูุญ. <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># clear environment rm(list = ls()); gc() ## load libs library(data.table) library(magrittr) library(markovchain) ## dummy data number_nodes &lt;- 10 node_names &lt;- letters[seq_len(number_nodes)] set.seed(1) nodes &lt;- sapply( seq_len(number_nodes), function(x) { paste( c( node_names[-x] , sample(node_names[-x], sample(1:5, 1), replace = T) ) , collapse = ' ' ) } ) names(nodes) &lt;- node_names print( paste(nodes, collapse = '; ') ) ## make long dt dt &lt;- data.table( citing_node = node_names , cited_node = nodes ) %&gt;% .[, .(cited_node = unlist(strsplit(cited_node, ' '))), by = citing_node] %&gt;% dcast( . , cited_node ~ citing_node , fun.aggregate = length ) dt apply(dt[,-1,with=F], 2, sum) ## affinity matrix A &lt;- as.matrix(dt[, 2:dim(dt)[2]]) A &lt;- sweep(A, 2, colSums(A), `/`) A[is.nan(A)] &lt;- 0 rowSums(A) colSums(A) mark &lt;- new("markovchain", transitionMatrix = t(A), states = node_names, name = "mark") plot(mark)</span></span></code> </pre> <br>  ูุญุชูู ูู ุนูุตุฑ ูู ุงูุนูุงุตุฑ (ุงูุนูุฏ) ุงูุนุดุฑุฉ ุนูู 10 ุฅูู 14 ูุฑุฌุนูุง ุฅูู ุนูุฏ ุฃุฎุฑู ุจุชุฑุชูุจ ุนุดูุงุฆู ุ ุจุงุณุชุซูุงุก ููุณู.  ูู ุงูููุช ุงูุญุงูู ุ ููุฑุฑ ููุท ุฃู ุงูุจูุงูุงุช ุงููุฐููุฑุฉ ูู ุฑุงุจุท ููุจ. <br><br>  ูู ุงููุงุถุญ ุฃูู ูุฏ ูุญุฏุซ ุฃู ูุชู ุฐูุฑ ุจุนุถ ุงูุนูุงุตุฑ ุฃูุซุฑ ูู ุบูุฑูุง.  ุชุญูู ูู ุฐูู. <br><blockquote style=";text-align:right;direction:rtl">  ุจุงูููุงุณุจุฉ ุ ุฃูุตู ุจุงุณุชุฎุฏุงู ุญุฒูุฉ data.table ููุชุฌุงุฑุจ.  ุจุงูุชุฒุงูู ูุน ูุจุงุฏุฆ tidyverse ุ ูู ุดูุก ูุชุญูู ุจููุงุกุฉ ูุจุณุฑุนุฉ. </blockquote><img src="https://habrastorage.org/webt/jl/qc/jm/jlqcjm-czf_eyevyiz1uxlssav0.png"><br><br>  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชุจุฏู ุจูุง ูุตูููุฉ ุงูุงุฑุชุจุงุท ุงูุฎุงุตุฉ ุจูุง (ุชุณูู ุจุงูุฅูุฌููุฒูุฉ ูู ูุนุธู ุงูุฃุญูุงู ุจุงุณู ุงููุตูููุฉ ุงููุฌุงูุฑุฉ). <br><br>  ุงููุฌููุน ูู ูู ุนููุฏ ุฃูุจุฑ ูู ุงูุตูุฑ ุ ููุง ูุนูู ูุฌูุฏ ุงุชุตุงู ูู ูู ุนูุตุฑ ูุน ุจุนุถ ุงูุนูุงุตุฑ ุงูุฃุฎุฑู (ูุฐุง ููู ููุฒูุฏ ูู ุงูุชุญููู). <br><blockquote style=";text-align:right;direction:rtl">  &gt; ุชุทุจูู (dt [ุ - 1 ุ ูุน = F] ุ 2 ุ ุงููุฌููุน) <br>  abcdefghij <br>  11 14 10 10 11 13 11 11 11 12 <br></blockquote><br>  ุงุณุชูุงุฏูุง ุฅูู ูุฐุง ุงูุฌุฏูู ุ ูููููุง ุฅูุดุงุก ูุตูููุฉ ุชูุงุฑุจ ุ ุฃู ุ ูู ุฑุฃููุง ุ ูุตูููุฉ ุงููุฑุจ (ูุชุณูู ุฃูุถูุง ูุตูููุฉ ุงูุงูุชูุงู) ุ ูุงูุชู ูุทูู ุนูููุง ุนููุงุก ุงูุฑูุงุถูุงุช ุงููุตูููุฉ ุงูุนุดูุงุฆูุฉ (ุงููุตูููุฉ ุงูุนุดูุงุฆูุฉ): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุตุฏุฑ ุงูุฑุฆูุณู</a> <br><br>  ูู ุจุชุนูููู ุฅูู ูุชุบูุฑ ุจุงุณู A. <br><br><img src="https://habrastorage.org/webt/xv/x-/f0/xvx-f0z6eow64ngtc4tkofqolj8.png"><br><br>  ุงูุดูุก ุงูุฃูุซุฑ ุฃูููุฉ ุงูุขู ูู ุฃู ุงููุฌููุน ูู ุฌููุน ุงูุฃุนูุฏุฉ ูุณุงูู ูุงุญุฏ. <br><blockquote style=";text-align:right;direction:rtl">  &gt; colSums (A) <br>  abcdefghij <br>  1 1 1 1 1 1 1 1 1 1 <br></blockquote><br>  ูุง ูู - ูุตูููุฉ ูู ุงูุชุญููุงุช ุ ุฅููุง ูุงุฑููู ุ ุฅููุง ุฃูุฌู ุชุดุงุจู.  ุงูุฃุดูุงู ูู ุงุญุชูุงูุงุช ุงูุงูุชูุงู ูู ุนูุตุฑ ูู ุนููุฏ ุฅูู ุนูุตุฑ ูู ุตู ูุงุญุฏ. <br><br>  ูุฐู ุ ุจุงูุทุจุน ุ ููุณุช "ุฃูุฌู ุชุดุงุจู" ุญููููุฉ.  ุงูุญุงุถุฑ ุณูููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูููุง ุจุญุณุงุจ ุฌูุจ ุชูุงู ุงูุฒุงููุฉ ุจูู ุนุฑุถ ุงููุณุชูุฏุงุช.  ููู ูู ุงูููู ุฃู ูุชู ุชูููู ูุตูููุฉ ุงูุงูุชูุงู ุฅูู (ุดุจู ูุณุชุนุงุฑุฉ) ุงูุงุญุชูุงูุงุช ุจุญูุซ ูููู ูุฌููุน ูู ุนููุฏ ูุณุงูููุง ููู ุนููุฏ. <br><br>  ุฏุนูุง ูููู ูุธุฑุฉ ุนูู ุงูุฑุณู ุงูุจูุงูู ููุงุฑููู (A): <br><br><img src="https://habrastorage.org/webt/s9/yv/br/s9yvbr-kaqvsyfqs0wokofkojpk.png"><br><br>  ูู ุดูุก ูุฑุชุจู ุจุงูุชุณุงูู ุชูุฑูุจุง).  ูุฐุง ูุฃููุง ุญุฏุฏูุง ุงูุชุญููุงุช equiprobable. <br><br>  <b>ูุงูุขู ุญุงู ุงูููุช ููุณุญุฑ!</b> <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">## calculate pagerank ei &lt;- eigen(A) as.numeric(ei$values[1]) pr &lt;- as.numeric(ei$vectors[,1] / sum(ei$vectors[,1])) sum(pr) names(pr) &lt;- node_names print(round(pr, 2))</span></span></code> </pre><br>  ุจุงููุณุจุฉ ูููุตูููุฉ ุงูุนุดูุงุฆูุฉ A ุ ูุฌุจ ุฃู ุชููู ุงููููุฉ ุงูุฐุงุชูุฉ ุงูุฃููู ูุณุงููุฉ ูููุญุฏุฉ ุ ููููู ุงููุชุฌู ุงูุฅููุชุฑููู ุงูููุงุจู ูู ูุงูู PageRank. <br><blockquote style=";text-align:right;direction:rtl">  &gt; ุทุจุงุนุฉ (ุฌููุฉ (ุงูุนูุงูุงุช ุงูุนุงูุฉ ุ 2)) <br>  abcdefghij <br>  0.09 0.11 0.09 0.10 0.10 0.11 0.10 0.11 0.08 0.11 <br></blockquote><br>  ูุฐุง ูู ุงููุชุฌู ูููู ุงูุนูุงูุงุช ุงูุนุงูุฉ - ููุฐุง ูู ุงููุชุบูุฑ ุงูุทุจูุนู ููุตูููุฉ ุงูุงูุชูุงู A ุ ูุงูุฐู ูุชูุงูู ูุน ุงููููุฉ ุงูุฐุงุชูุฉ ููุฐู ุงููุตูููุฉ ุงููุณุงููุฉ ูููุญุฏุฉ - ุงููุชุฌูุงุช ุงูุฐุงุชูุฉ ุงููุณูุทุฑุฉ. <br><br>  ุงูุขู ููููู ุชุฑุชูุจ ุงูุนูุงุตุฑ.  ูููู ูุธุฑูุง ูุฎุตุงุฆุต ุงูุชุฌุฑุจุฉ ุ ูุฅู ููุง ูุฒููุง ูุดุงุจููุง ููุบุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงููุดุงูู ูุญููููุง ุจุงุณุชุฎุฏุงู ุทุฑููุฉ ุงูุณูุทุฉ </h3><br>  ูุฏ ูุง ุชูุจู ูุตูููุฉ ุงูุงูุชูุงู A ุดุฑูุท ุงูุงุณุชููุงุณุชู. <br><br>  <b>ุฃููุงู ุ ูุฏ ุชููู ููุงู ุนูุงุตุฑ ูุง ุชุดูุฑ ุฅูู ุฃู ููุงู ุ ุฃู ูุน ุนุฏู ูุฌูุฏ ููุงุญุธุงุช (ูููู ุฃู ุชุดูุฑ ุฅูููุง ุจููุณูุง).</b>  <b>ุจุงููุณุจุฉ ุฅูู ุงูุฑุณูู ุงูุจูุงููุฉ ุงูุญููููุฉ ุงููุจูุฑุฉ ุ ูุฐู ูุดููุฉ ูุญุชููุฉ.</b>  <b>ูุฐุง ูุนูู ุฃู ุฃุญุฏ ุฃุนูุฏุฉ ุงููุตูููุฉ ุณูููู ุจู ุฃุตูุงุฑ ููุท.</b>  <b>ูู ูุฐู ุงูุญุงูุฉ ุ ูู ูุนูู ุงูุญู ูู ุฎูุงู ุงููุชุบูุฑุงุช ุงูุฐุงุชูุฉ.</b> <br><br>  ูุงูุช Google ุจุญู ูุฐู ุงููุดููุฉ ุนู ุทุฑูู ููุก ุนููุฏ ุจุชูุฒูุน ุงุญุชูุงูู ููุญุฏ p = 1 / N.  ุญูุซ N ูู ุนุฏุฏ ูู ุงูุนูุงุตุฑ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">dim<span class="hljs-number"><span class="hljs-number">.1</span></span> &lt;- dim(A)[<span class="hljs-number"><span class="hljs-number">1</span></span>] A &lt;- <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.data.table(A) nul_cols &lt;- apply(A, <span class="hljs-number"><span class="hljs-number">2</span></span>, function(x) sum(x) == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( sum(nul_cols) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) { A[ , (colnames(A)[nul_cols]) := lapply(.SD, function(x) <span class="hljs-number"><span class="hljs-number">1</span></span> / dim<span class="hljs-number"><span class="hljs-number">.1</span></span>) , .SDcols = colnames(A)[nul_cols] ] } A &lt;- <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>.matrix(A)</code> </pre><br>  <b>ุซุงููุงู ุ ูุฏ ูุญุชูู ุงูุฑุณู ุงูุจูุงูู ุนูู ุนูุงุตุฑ ุจูุง ููุงุญุธุงุช ูุจุนุถูู ุงูุจุนุถ ุ ูููู ูุง ุชุญุชูู ุนูู ุงูุนูุงุตุฑ ุงููุชุจููุฉ ูู ุงูุฑุณู ุงูุจูุงูู.</b>  <b>ูุฐู ุฃูุถูุง ูุดููุฉ ูุง ูููู ุงูุชุบูุจ ุนูููุง ููุฌุจุฑ ุงูุฎุทู ุจุณุจุจ ุงูุชูุงู ุงูุงูุชุฑุงุถุงุช.</b> <br><br>  ูุชู ุญููุง ุนู ุทุฑูู ุฅุฏุฎุงู ุซุงุจุช ูุณูู ุนุงูู ุงูุชุฎููุฏ ุ ูุงูุฐู ูุดูุฑ ุฅูู ุงุญุชูุงู ูุณุจู ููุงูุชูุงู ูู ุฃู ุนูุตุฑ ุฅูู ุฃู ุนูุตุฑ ุขุฎุฑ ุ ุญุชู ูู ูู ุชูู ููุงู ุฑูุงุจุท ูุงุฏูุฉ.  ุจูุนูู ุขุฎุฑ ุ ุงูุงูุชุดุงุฑ ูููู ูู ุฃู ููุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">d = <span class="hljs-number"><span class="hljs-number">0.15</span></span> <span class="hljs-comment"><span class="hljs-comment">#damping factor (to ensure algorithm convergence) M &lt;- (1 - d) * A + d * (1 / dim.1 * matrix(1, nrow = dim.1, ncol = dim.1)) # google matrix</span></span></code> </pre><br>  ุฅุฐุง ุทุจููุง ูุฐู ุงูุชุญููุงุช ุนูู ุงููุตูููุฉ ุงูุฎุงุตุฉ ุจูุง ุ ููููู ุญููุง ูุฑุฉ ุฃุฎุฑู ูู ุฎูุงู eigenvectors! <br><br>  <b>ุซุงูุซูุง ุ ูุฏ ูุง ุชููู ุงููุตูููุฉ ุงููุฑุจุนุฉ ูุฑุจุนุฉ ุ ููู ูุฐุง ุฃูุฑ ุจุงูุบ ุงูุฃูููุฉ!</b>  <b>ูู ุฃุชุทุฑู ูู ูุฐู ุงููุญุธุฉ ุ ูุฃููู ุฃุนุชูุฏ ุฃูู ููุณู ุณุชูุชุดู ููููุฉ ุฅุตูุงุญูุง.</b> <br><br>  ูููู ููุงู ุทุฑููุฉ ุฃุณุฑุน ูุฃูุซุฑ ุฏูุฉ ุ ููู ุฃูุถูุง ุฃูุซุฑ ุงูุชุตุงุฏุง ูู ุงูุฐุงูุฑุฉ (ูุงูุชู ูุฏ ุชููู ุฐุงุช ุตูุฉ ุจุฑุณูู ุจูุงููุฉ ูุจูุฑุฉ): ุทุฑููุฉ ุงูุทุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">## pagerank function (tested on example from tutorial) rm(pagerank_func) pagerank_func &lt;- function( A #transition matrix , eps = 0.00001 #sufficiently small error , d = 0.15 #damping factor (to ensure algorithm convergence) ) { dim.1 &lt;- dim(A)[1] A &lt;- as.data.table(A) nul_cols &lt;- apply(A, 2, function(x) sum(x) == 0) if( sum(nul_cols) &gt; 0 ) { A[ , (colnames(A)[nul_cols]) := lapply(.SD, function(x) 1 / dim.1) , .SDcols = colnames(A)[nul_cols] ] } A &lt;- as.matrix(A) M &lt;- (1 - d) * A + d * (1 / dim.1 * matrix(1, nrow = dim.1, ncol = dim.1)) # google matrix rank = as.numeric(rep(1 / dim.1, dim.1)) ## iterate until convergence while( sum( (rank - M %*% rank) ^ 2 ) &gt; eps ) { rank &lt;- M %*% rank } return(rank) } pr2 &lt;- pagerank_func(A) pr2=as.vector(pr2) names(pr2)=node_names</span></span></code> </pre><br>  ููููุง! <br><blockquote style=";text-align:right;direction:rtl">  &gt; ุทุจุงุนุฉ (ุฌููุฉ (ุงูุนูุงูุงุช ุงูุนุงูุฉ ุ 2)) <br>  abcdefghij <br>  0.09 0.11 0.09 0.10 0.10 0.11 0.10 0.11 0.08 0.11 <br>  &gt; ุทุจุงุนุฉ (ุฌููุฉ (pr2 ุ 2)) <br>  abcdefghij <br>  0.09 0.11 0.09 0.10 0.10 0.11 0.10 0.11 0.08 0.11 <br></blockquote><br>  ุนูู ูุฐุง ุณุฃูุชูู ุงูุจุฑูุงูุฌ ุงูุชุนูููู.  ุฃุชููู ุฃู ุชุฌุฏูุง ูููุฏุฉ. <br><br>  ููุฏ ูุณูุช ุฃู ุฃููู ุฃูู ูุจูุงุก ูุตูููุฉ ูู ุงูุชุญููุงุช (ุงูุงุญุชูุงูุงุช) ุ ููููู ุงุณุชุฎุฏุงู ุชุดุงุจู ุงููุตูุต ุ ูุนุฏุฏ ุงููุฑุงุฌุน ุ ูุญูููุฉ ุงูุงุฑุชุจุงุท ุ ูุงูููุงููุณ ุงูุฃุฎุฑู ุงูุชู ุชุคุฏู ุฅูู ุงูุงุญุชูุงูุงุช ุงูุฒุงุฆูุฉ ุฃู ุงูุงุญุชูุงูุงุช.  ูุซุงู ูุซูุฑ ููุงูุชูุงู ุฅูู ุญุฏ ูุง ูู ุชุฑุชูุจ ุงูุฌูู ูู ุงููุต ุนูู ูุตูููุฉ ุงูุชุดุงุจู ูููููุฉ bags tf-idf ูุชุณููุท ุงูุถูุก ุนูู ุงูุฌููุฉ ุงูุชู ุชูุฎุต ุงููุต ุจุฃูููู.  ูุฏ ูููู ููุงู ุงุณุชุฎุฏุงูุงุช ูุจุชูุฑุฉ ุฃุฎุฑู ููุนูุงูุงุช ุงูุนุงูุฉ. <br><br>  ุฃูุตู ุจุชุฌุฑุจุฉ ุงููุนุจ ุจูุตูููุฉ ุงูุงูุชูุงู ูุงูุชุฃูุฏ ูู ุญุตููู ุนูู ููู ุนูุงูุงุช ุนุงูุฉ ุฑุงุฆุนุฉ ุ ูุงูุชู ูุณูู ุชูุณูุฑูุง ุฃูุถูุง. <br><br>  ุฅุฐุง ุฑุฃูุช ูุนูููุงุช ุบูุฑ ุฏูููุฉ ุฃู ุฃุฎุทุงุก ูุนู - ูุฐูุฑ ุงูุชุนูููุงุช ุฃู ุงูุฑุณุงูุฉ ุ ูุณุฃููู ุจุชุตุญูุญ ูู ุดูุก. <br><br>  ูุชู ุชุฌููุน ุฌููุน ุงูุดูุฑุงุช ููุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># clear environment rm(list = ls()); gc() ## load libs library(data.table) library(magrittr) library(markovchain) ## dummy data number_nodes &lt;- 10 node_names &lt;- letters[seq_len(number_nodes)] set.seed(1) nodes &lt;- sapply( seq_len(number_nodes), function(x) { paste( c( node_names[-x] , sample(node_names[-x], sample(1:5, 1), replace = T) ) , collapse = ' ' ) } ) names(nodes) &lt;- node_names print( paste(nodes, collapse = '; ') ) ## make long dt dt &lt;- data.table( citing_node = node_names , cited_node = nodes ) %&gt;% .[, .(cited_node = unlist(strsplit(cited_node, ' '))), by = citing_node] %&gt;% dcast( . , cited_node ~ citing_node , fun.aggregate = length ) dt apply(dt[,-1,with=F], 2, sum) ## affinity matrix A &lt;- as.matrix(dt[, 2:dim(dt)[2]]) A &lt;- sweep(A, 2, colSums(A), `/`) A[is.nan(A)] &lt;- 0 rowSums(A) colSums(A) mark &lt;- new("markovchain", transitionMatrix = t(A), states = node_names, name = "mark") plot(mark) ## calculate pagerank ei &lt;- eigen(A) as.numeric(ei$values[1]) pr &lt;- as.numeric(ei$vectors[,1] / sum(ei$vectors[,1])) sum(pr) names(pr) &lt;- node_names print(round(pr, 2)) ## pagerank function (tested on example from tutorial) rm(pagerank_func) pagerank_func &lt;- function( A #transition matrix , eps = 0.00001 #sufficiently small error , d = 0.15 #damping factor (to ensure algorithm convergence) ) { dim.1 &lt;- dim(A)[1] A &lt;- as.data.table(A) nul_cols &lt;- apply(A, 2, function(x) sum(x) == 0) if( sum(nul_cols) &gt; 0 ) { A[ , (colnames(A)[nul_cols]) := lapply(.SD, function(x) 1 / dim.1) , .SDcols = colnames(A)[nul_cols] ] } A &lt;- as.matrix(A) M &lt;- (1 - d) * A + d * (1 / dim.1 * matrix(1, nrow = dim.1, ncol = dim.1)) # google matrix rank = as.numeric(rep(1 / dim.1, dim.1)) ## iterate until convergence while( sum( (rank - M %*% rank) ^ 2 ) &gt; eps ) { rank &lt;- M %*% rank } return(rank) } pr2 &lt;- pagerank_func(A) pr2=as.vector(pr2) names(pr2)=node_names print(round(pr, 2)) print(round(pr2, 2))</span></span></code> </pre><br></div></div><br>  ููุงุญุธุฉ: ูุฐู ุงูููุฑุฉ ุจุฑูุชูุง ูุชู ุชูููุฐูุง ุจุณูููุฉ ุจูุบุงุช ุฃุฎุฑู ุ ุนูู ุงูุฃูู ูู ุจูุซูู ุ ููุฏ ูุนูุช ูู ุดูุก ุฏูู ุตุนูุจุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar439332/">https://habr.com/ru/post/ar439332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar439320/index.html">ููููุฉ ุชูููุน ุฏุฑูุณ ุงูุจุฑูุฌุฉ ููุฃุทูุงู ูู ูุฎุชูู ุงูุฃุนูุงุฑ</a></li>
<li><a href="../ar439324/index.html">ุงุณุชุฎุฏุงู ุดุฌุฑุฉ ุซูุงุฆูุฉ ุจุณุฑุนุฉ ูุน ุงูุชุนุฏุงุฏ ุจุงุณุชุฎุฏุงู ุงูุชุนุฑู ุงูุถูุฆู ุนูู ุงูุญุฑูู ููุซุงู</a></li>
<li><a href="../ar439326/index.html">ูุงูุท ููุฑุจุงุฆู ููุฑุฏ F-150 EV - ูู ุงููููุฐุฌ ุงูุฃููู ูุงุฎุชุจุงุฑูุง ุนูู ุงูุทุฑูู</a></li>
<li><a href="../ar439328/index.html">ุญุณูุง ุฌูุฌู! ูู ุงูุช ุฌูุฏ ุงู ุดุฑ</a></li>
<li><a href="../ar439330/index.html">ุงูุงุนุชุฑุงู ุจุงูุฃุฑูุงู. ููู ุญุตููุง ุนูู ุฏูุฉ 97 ูช ููุฃุฑูุงู ุงูุฃููุฑุงููุฉ. ุงูุฌุฒุก 2</a></li>
<li><a href="../ar439334/index.html">ุญูุงูู 2 ูููุงุฑ ุฑูุจู ุงููุฎุตุตุฉ ูุชูููุฐ ูุดุฑูุน ุงููุงููู ุนูู runet ุงููุณุชุฏุงูุฉ</a></li>
<li><a href="../ar439336/index.html">ุชุจุญุซ ุนู ุฅุจุฑุฉ ูู ููุฏุณ ุฏูู ุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุงุช ูุนุฑููุฉ</a></li>
<li><a href="../ar439338/index.html">ููุณู ุงูุฎุตูุตูุฉ: ูุง ูุฒุงู ูุฏูู ุงุณุชูุฏุงู ุฑููุจ</a></li>
<li><a href="../ar439340/index.html">GDPR Backup - ููู ุณุชุณุงุนุฏ ุงูุฃุฏุงุฉ ุงูุฌุฏูุฏุฉ</a></li>
<li><a href="../ar439342/index.html">ุฏููุฑุฏู ุงูุดุชุงุก ููุชูุจ 17 ูุจุฑุงูุฑ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>