<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏾 📰 🐮 Futter für Bitrix Papageien. Wir testen die Leistung, wählen Eisen ☯️ 💇🏿 📍</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jeder braucht Bitrix Papageien und mehr. Ich arbeite als Administrator in einem Hosting-Unternehmen und stoße ständig auf solche Anfragen. Lassen Sie ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Futter für Bitrix Papageien. Wir testen die Leistung, wählen Eisen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/first/blog/438438/"><img src="https://habrastorage.org/webt/f6/tg/tk/f6tgtkhi__miuivkcydwhvnkdtc.jpeg"><br><br>  Jeder braucht Bitrix Papageien und mehr.  Ich arbeite als Administrator in einem Hosting-Unternehmen und stoße ständig auf solche Anfragen.  Lassen Sie uns dies ein für alle Mal hinter uns bringen - in diesem Artikel finden Sie die Antwort, wie Hardware die Leistung von Bitrix CMS (real und "Papagei") beeinflusst.  Wir werden Tests durchführen und verschiedene Serverkonfigurationen auswählen. <br><a name="habracut"></a><br>  <b>Forschungsziele:</b> <br><br><ul><li>  Ermittlung der Beziehung zwischen den Eigenschaften der Hardware und den Leistungsindikatoren von Bitrix (Papageien) sowie der tatsächlichen Geschwindigkeit der Abfrageausführung. </li><li>  Bestimmen Sie die Dynamik von Leistungsänderungen durch Ändern der Serverhardwarekonfiguration. </li><li>  Wählen Sie Serverkonfigurationsoptionen. </li></ul><br>  <b>Testbedingungen:</b> <br><br><ul><li>  CMS "1C-Bitrix: Site Management" Version 18.0.4, Ausgabe von "Standard" in utf-8-Codierung. </li><li>  Debian 9.5 OS vom Netinstall-Image. </li><li>  nginx + php-fpm </li><li>  MariaDB 10.1 </li><li>  PHP 7.0 </li><li>  Es werden Einstellungen für den korrekten Durchgang der „Systemprüfung“ vorgenommen, pstate ist deaktiviert, acpi-cpufreq befindet sich im Leistungsmodus. </li><li>  Die Abfrageausführungsgeschwindigkeit wird vom Dienstprogramm ab gemessen. </li></ul><br><h3>  Also, womit sollen Papageien gefüttert werden? </h3><br>  <b>Methodik</b> <br><br>  Um die Abhängigkeit der Bitrix-Leistung von der Prozessor- und RAM-Leistung zu ermitteln, verwenden wir die folgende Konfiguration: <br><br>  Prozessor: Intel Core i7-3770K CPU bei 3,50 GHz <br>  Speicher: DDR3 Samsung 1600 MHz (M378B5273DH0-CH9) <br>  SSD: OCZ-VERTEX4 128 Gb MLC <br>  Festplatte: WD5000AAVS-00ZTB0 <br><br>  Mit dieser Konfiguration können Sie die Prozessorfrequenz über einen weiten Bereich ändern, sodass Sie die CPU nicht mehrmals austauschen müssen.  Verwenden Sie zum Ändern der Frequenz das Dienstprogramm zum Einstellen der Frequenz.  Mit dem Treiber intel_pstate können Sie die Frequenz nicht steuern, daher ist er deaktiviert. <br><br>  Wir führen Messungen mit einem Schritt von 400 Hz durch.  Zusätzlich zu den Bitrix-Leistungsindikatoren messen wir, wie viele Anforderungen der Hauptseite der Server in einer Sekunde ausführen kann.  Um Leistungsindikatoren bei Verwendung einer Festplatte zu messen, wird eine Replik eines zuvor konfigurierten Systems auf der Festplatte erstellt und Indikatoren werden mit der maximalen Frequenz erfasst. <br><br><h3>  Ergebnisse: Wir füttern Papageien mit Häufigkeit und fordern Geschwindigkeit mit Kerneln an </h3><br>  Hier sind die Grafiken, die ich bekommen habe: <br><br><img src="https://habrastorage.org/webt/bf/fr/gi/bffrgifz8cr6hzlis-xczctj84k.png"><br><br><img src="https://habrastorage.org/webt/9x/_y/bx/9x_ybxjcre1c63bphmlb_trwq5g.png"><br><br><img src="https://habrastorage.org/webt/xi/ou/ep/xiouepgmavrhxc1xwn-bem7v2hg.png"><br><br><img src="https://habrastorage.org/webt/7h/nn/qj/7hnnqj4fymi4clyz104gzzwsvbg.png"><br><br><img src="https://habrastorage.org/webt/z2/za/-5/z2za-5qfbl--wv5l8qtj6pufy4a.png"><br><br>  Per <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PDF-</a> Link <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit allen Daten in Grafiken und Tabellen</a> .  Plus zusätzliche Daten über die Abhängigkeit der Indikatoren des Dateisystems und der Datenbank von der Anzahl der Kerne und der Prozessorfrequenz. <br><br>  Aus den erhaltenen Daten können folgende <b>Schlussfolgerungen gezogen werden</b> : <br><br><ul><li>  <b>Die Anzahl der Papageien</b> steigt mit der Prozessorfrequenz und hängt nicht von der Festplattenleistung ab.  Mit zunehmender Anzahl von Prozessorkernen nimmt dieser Indikator ab. </li><li>  <b>Die Geschwindigkeit der Abfrageausführung</b> hängt von der Prozessorfrequenz und der Anzahl der Kerne ab.  Wir halten diesen Indikator für den wichtigsten, weil  es kommt darauf an die leistung der seite mit einer hohen anzahl von besuchern an. </li><li>  <b>Die Metrik "Dateisystem"</b> ist unabhängig von der Festplattenleistung.  Ein leichter Anstieg des Indikators in der Grafik ist ein Fehler.  Der Indikator steigt mit zunehmender Frequenz an. </li><li>  Die Leistung der Festplatte hängt von den Metriken <b>"MySQL-Datenbank (Datensatz)"</b> , <b>"MySQL-Datenbank (Änderung)"</b> und der <b>Geschwindigkeit von http-Anforderungen ab</b> . </li><li>  Die Anzeige <b>"MySQL-Datenbank (Lesen)"</b> steigt nach zwei Kernen nicht mehr an.  Das Vorhandensein von mehr als zwei Kernen wird im Bitrix-Leistungstest nicht berücksichtigt. </li><li>  Die RAM-Frequenz hat keinen Einfluss auf die <b>Leistung</b> .  Wir haben Tests durchgeführt, aber es gab keine Änderung der Metriken, als sich die Häufigkeit änderte. </li></ul><br><h3>  Wir wählen Eisen </h3><br>  Unter Berücksichtigung der empfangenen Daten sammeln wir mehrere Server und überprüfen deren Leistung.  Um die resultierende Theorie zu bestätigen oder zu widerlegen, nahm ich drei kostengünstige Konfigurationen mit unterschiedlichen Frequenzen und Anzahl der Kerne.  Und noch ein paar Server, auf denen es mehr Kerne gibt. <br><br><ul><li>  E3-1270v6 </li><li>  E5-2620v4 </li><li>  E5-1650v4 </li><li>  E5-2640v4 </li><li>  2xE5-2699 </li></ul><br>  Für diese Server wird die Frequenz automatisch eingestellt (intel_pstate ist im Leistungsmodus aktiviert). Die Tabelle zeigt die maximale Frequenz gemäß der Prozessorspezifikation. <br><br>  <b>Was suchen wir?</b> <br><br><ul><li>  Server für große Papageien. </li><li>  Server für eine hohe Geschwindigkeit bei der Ausführung von Site-Abfragen. </li><li>  Das Gleichgewicht zwischen Papageien und echter Leistung. </li><li>  Server für eine schnellere Abfrageausführung für ein stärker geladenes Projekt </li><li>  Server für noch höhere Abfrageausführungsgeschwindigkeit für ein hoch geladenes Projekt </li></ul><br>  Theorie wurde bestätigt ↓ <br><br><img src="https://habrastorage.org/webt/i6/g0/4q/i6g04qnknst2vuknva0ft5ofdwm.jpeg"><br><br><img src="https://habrastorage.org/webt/xk/ba/04/xkba04gfv-ar2zxtlzy4lx0q2rw.png"><br><br>  Leistungsindikatoren entsprechen zuvor identifizierten Mustern.  Je höher die Frequenz, desto höher der Bitrix-Score.  Wenn Sie einen Server benötigen, der eine große Anzahl von Besuchern bedienen kann, sollten Sie mehr Kerne mit der höchstmöglichen Basisfrequenz auswählen. <br><br>  Wird im Konfigurationsartikel mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1dedic.ru verwendet</a> .  Server für E5-2640v4 und 2xE5-2699v4 können <b>2 Monate lang mit 10% Rabatt bestellt</b> werden <b>.</b> Wenden Sie sich mit der Passphrase "Benötigen Sie einen Server für Bitrix für echte Leistung" an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Verkaufsabteilung</a> .  Bei Zahlung für das Jahr minus weitere 10%. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de438438/">https://habr.com/ru/post/de438438/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de438426/index.html">Zurück zu Microservices mit Istio. Teil 1</a></li>
<li><a href="../de438428/index.html">Regierungsbehörden haben einen Weg gefunden, inländische Software zu sabotieren</a></li>
<li><a href="../de438430/index.html">Ich stecke fest! Oder wie man den Plateaueffekt beim Englischlernen überwindet</a></li>
<li><a href="../de438434/index.html">Hacker Lab: P1. Libssh Auth Bypass</a></li>
<li><a href="../de438436/index.html">Die Idee, Mitarbeitern vorübergehenden Zugriff auf Kundenressourcen zu ermöglichen, ohne erneut Kennwörter zu verwenden</a></li>
<li><a href="../de438442/index.html">Weiterleiten von Anfragen von Apache an Payara Server 5 in Ubuntu</a></li>
<li><a href="../de438446/index.html">Benchmark als Grundlage für die Entscheidung über eine Codeänderung</a></li>
<li><a href="../de438448/index.html">Was PC-Lautsprecher kann</a></li>
<li><a href="../de438450/index.html">Warum ist die Vorlage für Datenschutzrichtlinien nicht für Sie geeignet?</a></li>
<li><a href="../de438454/index.html">OpenSceneGraph: Detailebenen (LOD) und Hintergrundladen von Objekten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>