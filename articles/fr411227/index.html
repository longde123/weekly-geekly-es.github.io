<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👉🏿 🙎🏿 🐝 Protoglaze électronique sur microcontrôleur v.1 👩‍👩‍👧‍👧 🚤 ♨️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, communauté! L'article est un «vélo» classique, mais pour les débutants en électronique et en robotique, il peut être intéressant. 

 Comme vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Protoglaze électronique sur microcontrôleur v.1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/411227/">  Bonjour, communauté!  L'article est un «vélo» classique, mais pour les débutants en électronique et en robotique, il peut être intéressant. <br><br>  Comme vous le savez, la robotique la plus petite et la plus simple est désormais assemblée sur des microcontrôleurs comme Atmega ou STM.  Ici, dans l'article, je ne prends pas le niveau des mini-ordinateurs comme Raspberry. <br><br>  En robotique, en plus des mouvements, il est parfois nécessaire de faire au moins une évaluation de l'espace environnant.  Donc - je n'ai pas rencontré de capteur de trame optique pour les MK simples.  Le populaire "capteur de ligne" n'est pas cela.  Une recherche sur Giktims et des ressources similaires a fourni des liens vers des caméras, mais ils sont trop rapides pour les simples MK et un article sur l'utilisation de 8 pièces.  LED comme photodiodes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/9ec/2ac/7ce/9ec2ac7ce51165c2b865e860e66c5e0e.jpg" alt="image"></div><br>  Par conséquent, l'idée est née de faire un capteur raster primitif - protoglaze, par analogie avec les premiers organismes vivants.  Tout ce qui a été écrit ci-dessous a été fait uniquement pour mon propre divertissement, avec des dépenses minimales et une application pratique n'était pas supposée.  Laissez le vélo à nouveau, mais en ce qui concerne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nipkov et les pères de la télévision mécanique.</a> <br>  Détails sous la coupe ... <br><a name="habracut"></a><br>  Un phototransistor BPW85C était disponible.  Il est logique de pouvoir en faire un scanner radar avec focalisation de la lumière sur le photocapteur. <br><br><h4>  Option 1 </h4><br>  Pour la mise au point, vous pouvez utiliser un miroir parabolique rotatif et un phototransistor fixe pour effectuer la mise au point.  Je n'avais pas de miroir, mais il y avait une feuille plate d'étain.  Après 3 heures de travail avec mes mains, un miroir de 10 kopecks et une forme presque parabolique ont été obtenus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qa/x6/w1/qax6w18fdrr80kc-95-un61jb_e.jpeg"></div><br>  <i>Miroir parabolique.</i>  <i>Il est difficile de prendre un miroir))</i> <br><br>  Après avoir assemblé l'installation rotative, il a été constaté que la lumière entre en quelque sorte non seulement du miroir, mais aussi de tous les côtés.  Le capteur ne peut pas être couvert par l'écran, car la plupart de la vue se ferme également.  J'ai dû refuser. <br><br><h4>  Option 2 </h4><br>  Pour faire la mise au point, utilisez un objectif de collecte, collectant un analogue de l'appareil photo. <br><br>  Aucune lentille du diamètre requis (12 mm) n'a été trouvée; j'ai dû utiliser mes mains pour les fabriquer à partir d'un disque compact (il y a du plastique avec de bonnes propriétés optiques).  <s>Oui, c'est une enfance dure, des jouets en bois.</s>  Il s'est avéré que la mise au point est acceptable, le point focal est encore plus petit que le cristal du phototransistor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pe/dw/gd/pedwgdhnd5aaak8nrky6aprqzq8.jpeg"></div>  <i>Vue de l'objectif</i> <br><br>  Installation rotative - sur un moteur pas à pas miniature de 15 mm.  Réducteur de courroie de la même série - «à partir de rien».  L'angle de rotation à gauche et à droite est d'environ 45 °. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5f/kr/pe/5fkrpe-eszrsynae0bm0iwnxwls.jpeg"></div>  <i>Vue générale</i> <br><br>  Grâce au pilote A4988, l'Amtega328P MK contrôle le moteur pas à pas.  Le mode demi-pas est utilisé et pour chaque demi-pas, le signal est lu à partir de l'ADC MK.  Avant l'ADC, il y a aussi un amplificateur sur le transistor, car le signal du phototransistor est faible.  Les données reçues sans traitement sont immédiatement transmises via RS-232 à un ordinateur.  Un diagramme d'éclairage est déjà en cours de construction sur l'ordinateur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ae/dv/fh/aedvfh6thvybkspqkpg8ktzp_1q.jpeg"></div>  <i>Vue générale</i> <br><br>  Total: lors d'un scan horizontal.  La résolution de 320 lignes lors de la lecture, la résolution réelle est difficile à mesurer, sur le test avec une source de lumière ponctuelle, il s'est avéré 6/320, soit environ 53 lignes par trame. <br><br>  <b>Mais c'est le premier modèle, le second (pour 2D) sera dans le prochain article.</b> <br><br><h4>  Tests: </h4><br><img src="https://habrastorage.org/webt/j1/hj/1l/j1hj1lcsbc5nvb020ca4gchozpc.png"><br>  <i>Testez un éclairage différent.</i>  <i>Le diagramme vert est le niveau de tension à l'ADC, l'image en noir et blanc est le résultat de la conversion de signal que le MK «voit».</i> <br><br><img src="https://habrastorage.org/webt/qi/jt/vx/qijtvxdtta_fgvmvom48jdg0b-e.png"><br>  <i>Test de point unique.</i>  <i>La résolution réelle est d'environ 53 lignes</i> <br><br><img src="https://habrastorage.org/webt/e1/qq/nj/e1qqnjp2b05l5w2d3ww4mhzyxfe.png" width="60%"><img src="https://habrastorage.org/webt/bf/xe/_a/bfxe_adlfibwee5y6emapjmbyxw.jpeg" width="37%"><br>  <i>"Tir" de trois piles de doigts sur un fond clair</i> <br><br>  La vitesse «vidéo» est de 4 images (cycles) par seconde et est déterminée par les capacités de la SD.  Pour une application hypothétique (?) Dans un robot simple - assez. <br><br>  L'essentiel est que la prise de vue vidéo occupe peu de ressources du microcontrôleur, il y a encore des possibilités pour d'autres actions et même pour la reconnaissance d'image, si nécessaire. <br><br>  Il y avait aussi une tentative de faire AGC (exposition automatique), mais le gain était trop non linéaire.  Sur l'amplificateur opérationnel peut être fait dans les prochaines versions. <br><br>  Sources: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Archive avec source pour CodeVisionAVR et récepteur sur VBasic 6</a> <br><br><hr><br>  Alexandre </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr411227/">https://habr.com/ru/post/fr411227/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr411217/index.html">Le ministère des Communications a élaboré les règles de l'ICO en Russie</a></li>
<li><a href="../fr411219/index.html">Ouverture d'un nouveau bureau Top 3D Shop sous franchise à Yakutsk</a></li>
<li><a href="../fr411221/index.html">Simulation de la lévitation de l'eau sur Arduino</a></li>
<li><a href="../fr411223/index.html">Récipient de refroidissement liquide. 2e partie</a></li>
<li><a href="../fr411225/index.html">Hôtel pour le mineur: fournir de l'espace aux fermes devient une activité rentable</a></li>
<li><a href="../fr411229/index.html">Amazon Go Shopping</a></li>
<li><a href="../fr411231/index.html">Examen GMAT: requis pour l'admission à l'école de commerce</a></li>
<li><a href="../fr411233/index.html">Six pour le strip-tease et l'alcool pour le déjeuner. Comment vivre dans une auberge pour les millionnaires de crypto</a></li>
<li><a href="../fr411235/index.html">Il est temps pour les courageux: quand la vague de ventes sur les marchés de la crypto-monnaie prendra fin</a></li>
<li><a href="../fr411237/index.html">À partir de 2020, Apple utilisera ses propres puces au lieu des processeurs Intel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>