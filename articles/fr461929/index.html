<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ§Ô∏è ü§¨ üò¶ Surveillance et v√©rification de l'√©tat SSD sous Linux üé¥ üë®üèΩ‚Äçüç≥ üìµ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour encore. Une traduction de l'article suivant a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours Administrateur Linux . C'est parti! 



 Q...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Surveillance et v√©rification de l'√©tat SSD sous Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/461929/">  Bonjour encore.  Une traduction de l'article suivant a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Administrateur Linux</a> .  C'est parti! <br><br><img src="https://habrastorage.org/webt/r8/a7/rh/r8a7rhja_tnttyz88qrhq-ewmrq.png"><br><br><h2>  Qu'est-ce que SMART? </h2><br>  SMART <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">(pour Self-Monitoring, Analysis, and Reporting Technology)</a> est une technologie int√©gr√©e aux disques tels que les disques durs ou les SSD.  Sa t√¢che principale est de surveiller l'√©tat. <a name="habracut"></a><br><br>  En fait, SMART contr√¥le plusieurs param√®tres pendant les op√©rations normales du disque.  Il surveille des param√®tres tels que le nombre d'erreurs de lecture, le temps de d√©marrage du disque et m√™me l'√©tat de l'environnement.  En outre, SMART peut √©galement ex√©cuter des tests √† l'aide du lecteur. <br><br>  Id√©alement, SMART pr√©dira les d√©faillances pr√©visibles, telles que les d√©faillances caus√©es par l'usure m√©canique ou la d√©t√©rioration de la surface du disque, ainsi que les d√©faillances impr√©visibles caus√©es par tout d√©faut inattendu.  √âtant donn√© que les disques ne tombent g√©n√©ralement pas en panne soudainement, SMART aide le syst√®me d'exploitation ou l'administrateur syst√®me √† identifier les disques qui tomberont bient√¥t en panne afin qu'ils puissent √™tre remplac√©s et √©viter la perte de donn√©es. <br><br><h2>  Qu'est-ce qui ne s'applique pas √† SMART? </h2><br>  Tout cela, bien s√ªr, est cool.  Cependant, SMART n'est pas une boule de cristal.  Il ne peut pas pr√©dire la panne avec une probabilit√© absolue et ne peut garantir que le variateur ne tombera pas en panne sans avertissement.  Dans le meilleur des cas, SMART devrait √™tre utilis√© pour √©valuer la probabilit√© d'une panne. <br><br>  Compte tenu de la nature statistique de la pr√©vision des pannes, la technologie SMART est particuli√®rement int√©ress√©e par les entreprises qui utilisent un grand nombre de p√©riph√©riques de stockage.  Afin de savoir avec quelle pr√©cision SMART peut pr√©dire les pannes et signaler la n√©cessit√© de remplacer les disques dans les centres de donn√©es ou les mainframes de serveur, m√™me des √©tudes sp√©ciales ont √©t√© men√©es. <br><br>  En 2016, Microsoft et l'Universit√© de Pennsylvanie ont men√© une √©tude sur les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SSD</a> . <br><br>  Selon cette √©tude, certains attributs SMART sont consid√©r√©s comme de bons indicateurs de l'in√©vitabilit√© de l'√©chec.  En particulier, l'article mentionne: <br><br>  <b>Compteur de secteurs de r√©allocation</b> : <br><br>  Malgr√© le fait que les technologies sous-jacentes soient radicalement diff√©rentes, cet indicateur reste en demande tant dans le monde des SSD que dans celui des disques durs.  Il convient de noter qu'en raison des caract√©ristiques des algorithmes d'√©quilibrage de l'usure utilis√©s dans les SSD, lorsque plusieurs secteurs √©chouent, alors avec une forte probabilit√©, nous pouvons supposer que d'autres √©choueront bient√¥t. <br><br>  <b>Erreurs dans la boucle Program / Erase (P / E):</b> <br><br>  Ceci est un signe de probl√®mes avec l'√©quipement de m√©moire flash principal li√© au fait que le disque ne peut pas supprimer les donn√©es du bloc ou les y sauvegarder.  Le fait est que le processus de production est imparfait, de sorte que l'apparition de telles erreurs peut √™tre attendue.  Cependant, la m√©moire flash a un nombre limit√© de cycles d'√©criture / suppression.  Pour cette raison, une augmentation soudaine du nombre d'√©v√©nements peut indiquer que le disque atteint sa limite et il est pr√©vu que d'autres cellules de m√©moire commencent √©galement √† √©chouer. <br><br>  <b>CRC et erreurs fatales (¬´Erreur de donn√©es¬ª):</b> <br><br>  Des √©v√©nements de ce type peuvent √™tre caus√©s par des erreurs de stockage ou des probl√®mes avec le canal de communication interne du lecteur.  Cet indicateur prend en compte √† la fois les erreurs corrig√©es (signal√©es sans probl√®me au syst√®me h√¥te) et les erreurs non corrig√©es (√† cause desquelles le lecteur se verrouille, ce qui a inform√© le syst√®me h√¥te qu'il ne pouvait pas √™tre lu).  En d'autres termes, les erreurs corrig√©es sont invisibles pour le syst√®me d'exploitation, mais elles affectent les performances du lecteur, augmentant la probabilit√© de r√©affectation du secteur. <br><br>  <b>Nombre de r√©trogradations SATA:</b> <br><br>  En raison d'interf√©rences temporaires, de probl√®mes avec le canal de communication entre le lecteur et l'h√¥te, ou en raison de probl√®mes internes avec le lecteur, l'interface SATA peut passer √† une vitesse de transmission de signal inf√©rieure.  Une diminution de la vitesse de connexion en dessous du niveau nominal a un effet √©vident sur les performances du disque.  Ainsi, cet indicateur est le plus significatif, surtout lorsqu'il est en corr√©lation avec la pr√©sence d'un ou plusieurs indicateurs pr√©c√©dents. <br><br>  Selon l'√©tude, 62% des SSD d√©faillants ont montr√© la pr√©sence d'au moins un des sympt√¥mes ci-dessus.  En revanche, on peut dire que 38% des lecteurs √©tudi√©s ont √©chou√© sans indication de ces sympt√¥mes.  Les √©tudes n'ont pas mentionn√© s'il y avait d'autres rapports de rejet de SMART pour d'autres "sympt√¥mes".  Pour cette raison, vous ne pouvez pas corr√©ler directement ces valeurs avec un √©chec sans avertissement dans 36% des cas √† partir d'un article de Google. <br><br>  Une √©tude de Microsoft et de l'Universit√© de Pennsylvanie n'a pas r√©v√©l√© le mod√®le du disque de test, cependant, selon les auteurs, la plupart des disques proviennent du m√™me fournisseur depuis plusieurs g√©n√©rations. <br><br>  L'√©tude a √©galement not√© des diff√©rences significatives de fiabilit√© entre les diff√©rents mod√®les.  Par exemple, le ¬´pire¬ª mod√®le √©tudi√© montre un taux d'√©chec de 20% 9 mois apr√®s la premi√®re erreur de r√©affectation et jusqu'√† 36% d'√©checs dans les 9 mois suivant la premi√®re occurrence d'erreurs de donn√©es.  Le "pire" mod√®le a √©t√© appel√© l'ancienne g√©n√©ration de disques consid√©r√©e dans l'article. <br><br>  En revanche, avec les m√™mes sympt√¥mes que ci-dessus, les disques de nouvelle g√©n√©ration sont tomb√©s en panne √† 3% et 20% selon les m√™mes erreurs.  Il est difficile de dire si ces chiffres peuvent s'expliquer par une am√©lioration de la conception de l'entra√Ænement et du processus de production, ou si l'effet d'obsolescence joue ici un r√¥le. <br><br>  La chose la plus int√©ressante qui est mentionn√©e dans l'article (j'ai √©crit √† ce sujet plus t√¥t) est qu'une augmentation du nombre d'erreurs enregistr√©es peut se produire comme indicateur alarmant: <br><br><blockquote>  "Il y a une forte probabilit√© de sympt√¥mes pr√©c√©dant la d√©faillance des SSD, qui se manifestent activement et progressent rapidement, r√©duisant consid√©rablement la dur√©e de vie du lecteur √† plusieurs mois." </blockquote><br>  <i>En d'autres termes, une erreur al√©atoire signal√©e par SMART ne devrait certainement pas √™tre consid√©r√©e comme un signal d'√©chec imminent.</i>  <i>Cependant, lorsqu'un SSD sain commence √† signaler de plus en plus d'erreurs, vous devez vous attendre √† une d√©faillance √† court ou moyen terme.</i> <br><br>  Mais comment savez-vous dans quel √©tat se trouve votre SSD maintenant?  Pour satisfaire votre curiosit√©, ou par envie de commencer √† surveiller de pr√®s vos disques, vous pouvez utiliser l' <code>smartctl</code> surveillance <code>smartctl</code> . <br><br><h2>  Utilisation de <code>smartctl</code> pour surveiller l'√©tat de votre SSD sous Linux </h2><br>  Pour surveiller l'√©tat SMART de votre disque, je sugg√®re d'utiliser l'outil <code>smartctl</code> , qui fait partie du paquet <code>smartmontool</code> (au moins sur Debian / Ubuntu). <br><br><pre> <code class="bash hljs">sudo apt install smartmontools</code> </pre> <br>  <code>smartctl</code> est un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">outil en ligne de commande</a> , mais il est particuli√®rement utile lorsque vous devez automatiser la collecte de donn√©es, par exemple, √† partir de vos serveurs. <br><br>  La premi√®re √©tape de l'utilisation de <code>smartctl</code> consiste √† v√©rifier si votre lecteur est SMART et est pris en charge par l'outil: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -i /dev/sdb smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Model Family: Seagate Momentus 7200.4 Device Model: ST9500420AS Serial Number: 5VJAS7FL LU WWN Device Id: 5 000c50 02fa0b800 Firmware Version: D005SDM1 User Capacity: 500,107,862,016 bytes [500 GB] Sector Size: 512 bytes logical/physical Rotation Rate: 7200 rpm Device is: In smartctl database [<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> details use: -P show] ATA Version is: ATA8-ACS T13/1699-D revision 4 SATA Version is: SATA 2.6, 3.0 Gb/s Local Time is: Mon Mar 12 15:54:43 2018 CET SMART support is: Available - device has SMART capability. SMART support is: Enabled</code> </pre> <br>  Comme vous pouvez le voir, le disque dur interne de mon ordinateur portable prend vraiment en charge SMART et il est allum√©.  Alors, comment obtenir le statut SMART maintenant?  Y a-t-il des erreurs corrig√©es? <br><br>  Signaler ¬´sur toutes les informations du disque SMART¬ª est l'option <code>-a</code> : <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -i -a /dev/sdb smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Model Family: Seagate Momentus 7200.4 Device Model: ST9500420AS Serial Number: 5VJAS7FL LU WWN Device Id: 5 000c50 02fa0b800 Firmware Version: D005SDM1 User Capacity: 500,107,862,016 bytes [500 GB] Sector Size: 512 bytes logical/physical Rotation Rate: 7200 rpm Device is: In smartctl database [<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> details use: -P show] ATA Version is: ATA8-ACS T13/1699-D revision 4 SATA Version is: SATA 2.6, 3.0 Gb/s Local Time is: Mon Mar 12 15:56:58 2018 CET SMART support is: Available - device has SMART capability. SMART support is: Enabled === START OF READ SMART DATA SECTION === SMART overall-health self-assessment <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> result: PASSED See vendor-specific Attribute list <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> marginal Attributes. General SMART Values: Offline data collection status: (0x82) Offline data collection activity was completed without error. Auto Offline Data Collection: Enabled. Self-test execution status: ( 0) The previous self-test routine completed without error or no self-test has ever been run. Total time to complete Offline data collection: ( 0) seconds. Offline data collection capabilities: (0x7b) SMART execute Offline immediate. Auto Offline data collection on/off support. Suspend Offline collection upon new <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>. Offline surface scan supported. Self-test supported. Conveyance Self-test supported. Selective Self-test supported. SMART capabilities: (0x0003) Saves SMART data before entering power-saving mode. Supports SMART auto save timer. Error logging capability: (0x01) Error logging supported. General Purpose Logging supported. Short self-test routine recommended polling time: ( 2) minutes. Extended self-test routine recommended polling time: ( 110) minutes. Conveyance self-test routine recommended polling time: ( 3) minutes. SCT capabilities: (0x103f) SCT Status supported. SCT Error Recovery Control supported. SCT Feature Control supported. SCT Data Table supported. SMART Attributes Data Structure revision number: 10 Vendor Specific SMART Attributes with Thresholds: ID<span class="hljs-comment"><span class="hljs-comment"># ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 1 Raw_Read_Error_Rate 0x000f 111 099 006 Pre-fail Always - 29694249 3 Spin_Up_Time 0x0003 100 098 085 Pre-fail Always - 0 4 Start_Stop_Count 0x0032 095 095 020 Old_age Always - 5413 5 Reallocated_Sector_Ct 0x0033 100 100 036 Pre-fail Always - 3 7 Seek_Error_Rate 0x000f 071 060 030 Pre-fail Always - 51710773327 9 Power_On_Hours 0x0032 070 070 000 Old_age Always - 26423 10 Spin_Retry_Count 0x0013 100 100 097 Pre-fail Always - 0 12 Power_Cycle_Count 0x0032 096 037 020 Old_age Always - 4836 184 End-to-End_Error 0x0032 100 100 099 Old_age Always - 0 187 Reported_Uncorrect 0x0032 072 072 000 Old_age Always - 28 188 Command_Timeout 0x0032 100 096 000 Old_age Always - 4295033738 189 High_Fly_Writes 0x003a 100 100 000 Old_age Always - 0 190 Airflow_Temperature_Cel 0x0022 056 042 045 Old_age Always In_the_past 44 (Min/Max 21/44 #22) 191 G-Sense_Error_Rate 0x0032 100 100 000 Old_age Always - 184 192 Power-Off_Retract_Count 0x0032 100 100 000 Old_age Always - 104 193 Load_Cycle_Count 0x0032 001 001 000 Old_age Always - 395415 194 Temperature_Celsius 0x0022 044 058 000 Old_age Always - 44 (0 13 0 0 0) 195 Hardware_ECC_Recovered 0x001a 050 045 000 Old_age Always - 29694249 197 Current_Pending_Sector 0x0012 100 100 000 Old_age Always - 1 198 Offline_Uncorrectable 0x0010 100 100 000 Old_age Offline - 1 199 UDMA_CRC_Error_Count 0x003e 200 200 000 Old_age Always - 0 240 Head_Flying_Hours 0x0000 100 253 000 Old_age Offline - 25131 (246 202 0) 241 Total_LBAs_Written 0x0000 100 253 000 Old_age Offline - 3028413736 242 Total_LBAs_Read 0x0000 100 253 000 Old_age Offline - 1613088055 254 Free_Fall_Sensor 0x0032 100 100 000 Old_age Always - 0 SMART Error Log Version: 1 ATA Error Count: 3 CR = Command Register [HEX] FR = Features Register [HEX] SC = Sector Count Register [HEX] SN = Sector Number Register [HEX] CL = Cylinder Low Register [HEX] CH = Cylinder High Register [HEX] DH = Device/Head Register [HEX] DC = Device Command Register [HEX] ER = Error register [HEX] ST = Status register [HEX] Powered_Up_Time is measured from power on, and printed as DDd+hh:mm:SS.sss where DD=days, hh=hours, mm=minutes, SS=sec, and sss=millisec. It "wraps" after 49.710 days. Error 3 occurred at disk power-on lifetime: 21171 hours (882 days + 3 hours) When the command that caused the error occurred, the device was active or idle. After command completion occurred, registers were: ER ST SC SN CL CH DH -- -- -- -- -- -- -- 40 51 00 ff ff ff 0f Error: UNC at LBA = 0x0fffffff = 268435455 Commands leading to the command that caused the error were: CR FR SC SN CL CH DH DC Powered_Up_Time Command/Feature_Name -- -- -- -- -- -- -- -- ---------------- -------------------- 60 00 08 ff ff ff 4f 00 00:45:12.580 READ FPDMA QUEUED 60 00 08 ff ff ff 4f 00 00:45:12.580 READ FPDMA QUEUED 60 00 08 ff ff ff 4f 00 00:45:12.579 READ FPDMA QUEUED 60 00 08 ff ff ff 4f 00 00:45:12.571 READ FPDMA QUEUED 60 00 20 ff ff ff 4f 00 00:45:12.543 READ FPDMA QUEUED Error 2 occurred at disk power-on lifetime: 21171 hours (882 days + 3 hours) When the command that caused the error occurred, the device was active or idle. After command completion occurred, registers were: ER ST SC SN CL CH DH -- -- -- -- -- -- -- 40 51 00 ff ff ff 0f Error: UNC at LBA = 0x0fffffff = 268435455 Commands leading to the command that caused the error were: CR FR SC SN CL CH DH DC Powered_Up_Time Command/Feature_Name -- -- -- -- -- -- -- -- ---------------- -------------------- 60 00 00 ff ff ff 4f 00 00:45:09.456 READ FPDMA QUEUED 60 00 00 ff ff ff 4f 00 00:45:09.451 READ FPDMA QUEUED 61 00 08 ff ff ff 4f 00 00:45:09.450 WRITE FPDMA QUEUED 60 00 00 ff ff ff 4f 00 00:45:08.878 READ FPDMA QUEUED 60 00 00 ff ff ff 4f 00 00:45:08.856 READ FPDMA QUEUED Error 1 occurred at disk power-on lifetime: 21131 hours (880 days + 11 hours) When the command that caused the error occurred, the device was active or idle. After command completion occurred, registers were: ER ST SC SN CL CH DH -- -- -- -- -- -- -- 40 51 00 ff ff ff 0f Error: UNC at LBA = 0x0fffffff = 268435455 Commands leading to the command that caused the error were: CR FR SC SN CL CH DH DC Powered_Up_Time Command/Feature_Name -- -- -- -- -- -- -- -- ---------------- -------------------- 60 00 00 ff ff ff 4f 00 05:52:18.809 READ FPDMA QUEUED 61 00 00 7e fb 31 45 00 05:52:18.806 WRITE FPDMA QUEUED 60 00 00 ff ff ff 4f 00 05:52:18.571 READ FPDMA QUEUED ea 00 00 00 00 00 a0 00 05:52:18.529 FLUSH CACHE EXT 61 00 08 ff ff ff 4f 00 05:52:18.527 WRITE FPDMA QUEUED SMART Self-test log structure revision number 1 Num Test_Description Status Remaining LifeTime(hours) LBA_of_first_error # 1 Short offline Completed without error 00% 10904 - # 2 Short offline Completed without error 00% 12 - # 3 Short offline Completed without error 00% 0 - SMART Selective self-test log data structure revision number 1 SPAN MIN_LBA MAX_LBA CURRENT_TEST_STATUS 1 0 0 Not_testing 2 0 0 Not_testing 3 0 0 Not_testing 4 0 0 Not_testing 5 0 0 Not_testing Selective self-test flags (0x0): After scanning selected spans, do NOT read-scan remainder of disk. If Selective self-test is pending on power-up, resume after 0 minute delay.</span></span></code> </pre> <br><h2>  Comprendre la sortie des commandes <code>smartctl</code> </h2><br>  Le r√©sultat est beaucoup d'informations qui ne sont pas toujours faciles √† comprendre.  La partie la plus int√©ressante est probablement la partie intitul√©e ¬´Attributs SMART sp√©cifiques au fournisseur avec seuils¬ª.  Il rapporte diverses statistiques collect√©es par l'appareil SMART et vous permet de comparer ces valeurs (actuelles ou pires pour tous les temps) avec un certain seuil d√©fini par le fournisseur. <br><br>  Par exemple, voici mes rapports sur les secteurs r√©affect√©s sur disque: <br><br><pre> <code class="bash hljs">ID<span class="hljs-comment"><span class="hljs-comment"># ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 5 Reallocated_Sector_Ct 0x0033 100 100 036 Pre-fail Always - 3</span></span></code> </pre> <br>  Vous remarquerez peut-√™tre l'attribut <i>¬´Pre-fail¬ª</i> .  Cela signifie que la valeur est anormale.  Ainsi, si la valeur d√©passe le seuil, la probabilit√© de d√©faillance est √©lev√©e.  Une autre cat√©gorie de <i>"Old_age" est</i> utilis√©e pour les attributs qui correspondent aux valeurs de "l'usure normale". <br><br>  Le dernier champ (ici avec une valeur "3") correspond √† la valeur d'attribut d'origine signal√©e par le variateur.  Habituellement, ce nombre a une signification physique.  Voici le nombre r√©el de secteurs r√©affect√©s.  Pour d'autres attributs, il peut s'agir de la temp√©rature en degr√©s Celsius, du temps en heures ou en minutes ou du nombre de fois qu'une certaine condition a √©t√© remplie pour un disque. <br><br>  En plus de la valeur initiale, un lecteur compatible SMART doit signaler des ¬´valeurs normalis√©es¬ª (valeurs de champ, pire et seuil).  Ces valeurs sont normalis√©es dans la plage de 1 √† 255 (0 √† 255 pour les valeurs de seuil).  Le firmware du disque effectue cette normalisation en utilisant un algorithme interne.  De plus, diff√©rents fabricants peuvent normaliser le m√™me attribut de diff√©rentes mani√®res.  La plupart des valeurs sont pr√©sent√©es en pourcentage et plus elles sont √©lev√©es, mieux c'est, mais ce n'est pas toujours le cas.  Lorsque le param√®tre est inf√©rieur ou √©gal √† la valeur de seuil sp√©cifi√©e par le fabricant, le disque est consid√©r√© comme d√©fectueux en termes de cet attribut.  En se souvenant de toutes les instructions de la premi√®re partie de l'article, lorsque l'attribut affichant la valeur <i>¬´pr√©-√©chec¬ª</i> √©chouait toujours, il est tr√®s probable que le disque √©choue bient√¥t. <br><br>  Comme deuxi√®me exemple, prenez le <i>¬´taux d'erreur de recherche¬ª</i> : <br><br><pre> <code class="bash hljs">ID<span class="hljs-comment"><span class="hljs-comment"># ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 7 Seek_Error_Rate 0x000f 071 060 030 Pre-fail Always - 51710773327</span></span></code> </pre> <br>  En fait (et c'est le principal probl√®me avec les rapports SMART), seul le fournisseur comprend la valeur exacte des champs de chaque attribut.  Dans mon cas, Seagate utilise une √©chelle logarithmique pour normaliser la valeur.  Ainsi, ¬´71¬ª signifie environ une erreur pour 10 millions de demandes (10 pour une puissance de 7,1).  C'est dr√¥le que le pire indicateur de tous les temps soit une erreur pour 1 million de demandes (10 au 6e degr√©). <br><br>  Si je comprends bien, cela signifie que les t√™tes de mon disque sont d√©sormais localis√©es avec plus de pr√©cision qu'auparavant.  Je n'ai pas surveill√© de pr√®s ce disque, donc j'analyse les donn√©es obtenues de mani√®re tr√®s subjective.  Peut-√™tre que le lecteur a juste d√ª ¬´roder¬ª un peu depuis sa mise en service?  Ou peut-√™tre est-ce une cons√©quence de l'usure m√©canique des pi√®ces et, par cons√©quent, il y a maintenant moins de friction?  Dans tous les cas, quelle qu'en soit la raison, cette valeur est plus une mesure de performance qu'un avertissement pr√©coce d'une erreur.  Donc √ßa ne me d√©range pas beaucoup. <br><br>  En plus des erreurs ci-dessus et de trois erreurs extr√™mement suspectes enregistr√©es il y a environ six mois, ce disque est dans un √©tat √©tonnamment bon (selon SMART) pour le disque de stock de l'ordinateur portable, qui a fonctionn√© pendant plus de 1100 jours (26423 heures). <br><br><pre> <code class="bash hljs">ID<span class="hljs-comment"><span class="hljs-comment"># ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 9 Power_On_Hours 0x0032 070 070 000 Old_age Always - 26423</span></span></code> </pre> <br>  Par curiosit√©, j'ai effectu√© le m√™me test sur un ordinateur portable beaucoup plus r√©cent √©quip√© d'un SSD: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -i /dev/sdb smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF INFORMATION SECTION === Device Model: TOSHIBA THNSNK256GVN8 Serial Number: 17FS131LTNLV LU WWN Device Id: 5 00080d 9109b2ceb Firmware Version: K8XA4103 User Capacity: 256 060 514 304 bytes [256 GB] Sector Sizes: 512 bytes logical, 4096 bytes physical Rotation Rate: Solid State Device Form Factor: M.2 Device is: Not <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> smartctl database [<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> details use: -P showall] ATA Version is: ACS-3 (minor revision not indicated) SATA Version is: SATA 3.2, 6.0 Gb/s (current: 6.0 Gb/s) Local Time is: Tue Mar 13 01:03:23 2018 CET SMART support is: Available - device has SMART capability. SMART support is: Enabled</code> </pre> <br>  La premi√®re chose qui attire votre attention est que malgr√© la pr√©sence de SMART, l'appareil n'est pas dans la base de donn√©es <code>smartctl</code> .  Mais cela n'emp√™chera pas l'outil de collecter des donn√©es √† partir du SSD, cependant, il ne pourra pas rapporter les valeurs exactes des diff√©rents attributs sp√©cifiques au fournisseur: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -a /dev/sdb smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART overall-health self-assessment <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> result: PASSED General SMART Values: Offline data collection status: (0x00) Offline data collection activity was never started. Auto Offline Data Collection: Disabled. Self-test execution status: ( 0) The previous self-test routine completed without error or no self-test has ever been run. Total time to complete Offline data collection: ( 120) seconds. Offline data collection capabilities: (0x5b) SMART execute Offline immediate. Auto Offline data collection on/off support. Suspend Offline collection upon new <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>. Offline surface scan supported. Self-test supported. No Conveyance Self-test supported. Selective Self-test supported. SMART capabilities: (0x0003) Saves SMART data before entering power-saving mode. Supports SMART auto save timer. Error logging capability: (0x01) Error logging supported. General Purpose Logging supported. Short self-test routine recommended polling time: ( 2) minutes. Extended self-test routine recommended polling time: ( 11) minutes. SCT capabilities: (0x003d) SCT Status supported. SCT Error Recovery Control supported. SCT Feature Control supported. SCT Data Table supported. SMART Attributes Data Structure revision number: 16 Vendor Specific SMART Attributes with Thresholds: ID<span class="hljs-comment"><span class="hljs-comment"># ATTRIBUTE_NAME FLAG VALUE WORST THRESH TYPE UPDATED WHEN_FAILED RAW_VALUE 1 Raw_Read_Error_Rate 0x000a 100 100 000 Old_age Always - 0 2 Throughput_Performance 0x0005 100 100 050 Pre-fail Offline - 0 3 Spin_Up_Time 0x0007 100 100 050 Pre-fail Always - 0 5 Reallocated_Sector_Ct 0x0013 100 100 050 Pre-fail Always - 0 7 Unknown_SSD_Attribute 0x000b 100 100 050 Pre-fail Always - 0 8 Unknown_SSD_Attribute 0x0005 100 100 050 Pre-fail Offline - 0 9 Power_On_Hours 0x0012 100 100 000 Old_age Always - 171 10 Unknown_SSD_Attribute 0x0013 100 100 050 Pre-fail Always - 0 12 Power_Cycle_Count 0x0012 100 100 000 Old_age Always - 105 166 Unknown_Attribute 0x0012 100 100 000 Old_age Always - 0 167 Unknown_Attribute 0x0022 100 100 000 Old_age Always - 0 168 Unknown_Attribute 0x0012 100 100 000 Old_age Always - 0 169 Unknown_Attribute 0x0013 100 100 010 Pre-fail Always - 100 170 Unknown_Attribute 0x0013 100 100 010 Pre-fail Always - 0 173 Unknown_Attribute 0x0012 200 200 000 Old_age Always - 0 175 Program_Fail_Count_Chip 0x0013 100 100 010 Pre-fail Always - 0 192 Power-Off_Retract_Count 0x0012 100 100 000 Old_age Always - 18 194 Temperature_Celsius 0x0023 063 032 020 Pre-fail Always - 37 (Min/Max 11/68) 197 Current_Pending_Sector 0x0012 100 100 000 Old_age Always - 0 240 Unknown_SSD_Attribute 0x0013 100 100 050 Pre-fail Always - 0 SMART Error Log Version: 1 No Errors Logged SMART Self-test log structure revision number 1 No self-tests have been logged. [To run self-tests, use: smartctl -t] SMART Selective self-test log data structure revision number 1 SPAN MIN_LBA MAX_LBA CURRENT_TEST_STATUS 1 0 0 Not_testing 2 0 0 Not_testing 3 0 0 Not_testing 4 0 0 Not_testing 5 0 0 Not_testing Selective self-test flags (0x0): After scanning selected spans, do NOT read-scan remainder of disk. If Selective self-test is pending on power-up, resume after 0 minute delay.</span></span></code> </pre> <br>  Ci-dessus, vous voyez la sortie d'un tout nouveau SSD.  Les donn√©es sont compr√©hensibles m√™me en l'absence de normalisation ou de m√©ta-informations pour les donn√©es d'un fournisseur particulier, comme dans mon cas avec <i>¬´Unknown_SSD_Attribute¬ª.</i>  Je ne peux qu'esp√©rer que les futures versions de <code>smartctl</code> auront des donn√©es sur ce mod√®le de lecteur dans la base de donn√©es, et je peux mieux identifier les probl√®mes potentiels. <br><br><h2>  Testez votre SSD sur Linux avec smartctl </h2><br>  Jusqu'√† pr√©sent, nous avons examin√© les donn√©es collect√©es pendant le fonctionnement normal du lecteur.  Cependant, le protocole SMART prend √©galement en charge plusieurs commandes pour les tests hors ligne afin d'ex√©cuter des diagnostics √† la demande. <br><br>  Les tests hors ligne peuvent √™tre effectu√©s pendant les op√©rations normales du disque, sauf indication contraire.  √âtant donn√© que les demandes d'E / S de test et d'h√¥te seront en concurrence, les performances du disque chuteront pendant le test.  La sp√©cification SMART d√©finit plusieurs types de tests autonomes: <br><br>  <i>Test autonome <code>-t short</code> ( <code>-t short</code> )</i> <br>  Un tel test v√©rifiera les performances √©lectriques et m√©caniques, ainsi que les performances de lecture du disque.  De courts tests autonomes ne prennent g√©n√©ralement que quelques minutes (g√©n√©ralement de 2 √† 10). <br><br>  <i>Test autonome √©tendu ( <code>-t long</code> )</i> <br>  Ce test prend presque deux fois plus de temps.  Il s'agit g√©n√©ralement d'une version plus d√©taill√©e d'un court test autonome.  De plus, ce test analysera la totalit√© de la surface du disque √† la recherche d'erreurs de donn√©es sans limite de temps.  La dur√©e du test sera proportionnelle √† la taille du disque. <br><br>  <i>Test d'exp√©dition autonome ( <code>-t conveyance</code> )</i> <br>  Ce kit de test est propos√© comme un moyen relativement rapide de v√©rifier les √©ventuels dommages survenus lors du transport de l'appareil. <br><br>  Voici des exemples tir√©s des m√™mes lecteurs que ci-dessus.  Je vous sugg√®re de deviner o√π: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -t short /dev/sdb smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION === Sending <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>: <span class="hljs-string"><span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span></span>. Drive <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span></span> successful. Testing has begun. Please <span class="hljs-built_in"><span class="hljs-built_in">wait</span></span> 2 minutes <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> to complete. Test will complete after Mon Mar 12 18:06:17 2018 Use smartctl -X to abort <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>.</code> </pre> <br>  Une v√©rification est en cours.  Attendons la fin pour voir le r√©sultat: <br><br><pre> <code class="bash hljs">sh$ sudo sh -c <span class="hljs-string"><span class="hljs-string">'sleep 120 &amp;&amp; smartctl -l selftest /dev/sdb'</span></span> smartctl 6.5 2016-01-24 r4214 [x86_64-linux-4.10.0-32-generic] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Self-test <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> structure revision number 1 Num Test_Description Status Remaining LifeTime(hours) LBA_of_first_error <span class="hljs-comment"><span class="hljs-comment"># 1 Short offline Completed without error 00% 171 -</span></span></code> </pre> <br>  Ex√©cutons le m√™me test sur un autre lecteur: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -t short /dev/sdb smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION === Sending <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>: <span class="hljs-string"><span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span></span>. Drive <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">"Execute SMART Short self-test routine immediately in off-line mode"</span></span> successful. Testing has begun. Please <span class="hljs-built_in"><span class="hljs-built_in">wait</span></span> 2 minutes <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> to complete. Test will complete after Mon Mar 12 21:59:39 2018 Use smartctl -X to abort <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>.</code> </pre> <br>  Et encore une fois, nous allons l'endormir pendant deux minutes et voir le r√©sultat: <br><br><pre> <code class="bash hljs">sh$ sudo sh -c <span class="hljs-string"><span class="hljs-string">'sleep 120 &amp;&amp; smartctl -l selftest /dev/sdb'</span></span> smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Self-test <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> structure revision number 1 Num Test_Description Status Remaining LifeTime(hours) LBA_of_first_error <span class="hljs-comment"><span class="hljs-comment"># 1 Short offline Completed without error 00% 26429 - # 2 Short offline Completed without error 00% 10904 - # 3 Short offline Completed without error 00% 12 - # 4 Short offline Completed without error 00% 0 -</span></span></code> </pre> <br>  Fait int√©ressant, dans ce cas, nous voyons que les fabricants du disque et de l'ordinateur semblent avoir d√©j√† test√© le disque (√† une dur√©e de vie de 0 heure et 12 heures).  J'√©tais moi-m√™me beaucoup moins pr√©occup√© par l'√©tat du lecteur qu'eux.  Donc, comme j'ai d√©j√† montr√© des tests rapides, je vais √©galement ex√©cuter le test avanc√© pour voir comment cela se produit. <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -t long /dev/sdb smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION === Sending <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>: <span class="hljs-string"><span class="hljs-string">"Execute SMART Extended self-test routine immediately in off-line mode"</span></span>. Drive <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">"Execute SMART Extended self-test routine immediately in off-line mode"</span></span> successful. Testing has begun. Please <span class="hljs-built_in"><span class="hljs-built_in">wait</span></span> 110 minutes <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> to complete. Test will complete after Tue Mar 13 00:09:08 2018 Use smartctl -X to abort <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>.</code> </pre> <br>  Apparemment, cette fois, il faudra beaucoup plus de temps que lors d'un court test.  Voyons donc: <br><br><pre> <code class="bash hljs">sh$ sudo bash -c <span class="hljs-string"><span class="hljs-string">'sleep $((110*60)) &amp;&amp; smartctl -l selftest /dev/sdb'</span></span> [sudo] password <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> sylvain: smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Self-test <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> structure revision number 1 Num Test_Description Status Remaining LifeTime(hours) LBA_of_first_error <span class="hljs-comment"><span class="hljs-comment"># 1 Extended offline Completed: read failure 20% 26430 810665229 # 2 Short offline Completed without error 00% 26429 - # 3 Short offline Completed without error 00% 10904 - # 4 Short offline Completed without error 00% 12 - # 5 Short offline Completed without error 00% 0 -</span></span></code> </pre> <br>  Dans le dernier test, notez la diff√©rence dans les r√©sultats obtenus avec les tests courts et prolong√©s, m√™me s'ils ont √©t√© effectu√©s l'un apr√®s l'autre.  Eh bien, ce lecteur n'est peut-√™tre pas en si bon √©tat!  Je note que le test s'est arr√™t√© apr√®s la premi√®re erreur de lecture.  Par cons√©quent, si vous souhaitez obtenir des informations compl√®tes sur toutes les erreurs de lecture, vous devrez continuer le test apr√®s chaque erreur.  Je vous exhorte √† jeter un ≈ìil √† une page de manuel smartctl (8) tr√®s bien √©crite pour plus d'informations sur les <code>-t select</code> <code>-t select</code> , <code>N-max</code> et <code>-t select</code> pour pouvoir faire ceci: <br><br><pre> <code class="bash hljs">sh$ sudo smartctl -t select,810665230-max /dev/sdb smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF OFFLINE IMMEDIATE AND SELF-TEST SECTION === Sending <span class="hljs-built_in"><span class="hljs-built_in">command</span></span>: <span class="hljs-string"><span class="hljs-string">"Execute SMART Selective self-test routine immediately in off-line mode"</span></span>. SPAN STARTING_LBA ENDING_LBA 0 810665230 976773167 Drive <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> <span class="hljs-string"><span class="hljs-string">"Execute SMART Selective self-test routine immediately in off-line mode"</span></span> successful. Testing has begun.</code> </pre> <br><pre> <code class="bash hljs">smartctl 6.6 2016-05-31 r4324 [x86_64-linux-4.9.0-6-amd64] (<span class="hljs-built_in"><span class="hljs-built_in">local</span></span> build) Copyright (C) 2002-16, Bruce Allen, Christian Franke, www.smartmontools.org === START OF READ SMART DATA SECTION === SMART Self-test <span class="hljs-built_in"><span class="hljs-built_in">log</span></span> structure revision number 1 Num Test_Description Status Remaining LifeTime(hours) LBA_of_first_error <span class="hljs-comment"><span class="hljs-comment"># 1 Selective offline Completed without error 00% 26432 - # 2 Extended offline Completed: read failure 20% 26430 810665229 # 3 Short offline Completed without error 00% 26429 - # 4 Short offline Completed without error 00% 10904 - # 5 Short offline Completed without error 00% 12 - # 6 Short offline Completed without error 00% 0 -</span></span></code> </pre> <br><h2>  Conclusion </h2><br>  Certainement, SMART est exactement la technologie qui devrait √™tre ajout√©e √† votre bo√Æte √† outils pour surveiller la sant√© de vos lecteurs de serveur.      <a href="">SMART Disk Monitoring Daemon smartd(8)</a> ,          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a> . <br><br>     ,   ,   SMART       . ,      ,        ‚Äì ,    ,         .        ,  RAID    ! <br><br>    , ! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461929/">https://habr.com/ru/post/fr461929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461913/index.html">Utilisation mobile dans le commerce √©lectronique: analyse des TOP-20 boutiques en ligne en Russie</a></li>
<li><a href="../fr461919/index.html">R√©utilisation des formulaires sur React</a></li>
<li><a href="../fr461921/index.html">HDMI-LVDS. D√©veloppement sur TSUMV59 de MStar</a></li>
<li><a href="../fr461923/index.html">Journ√©e portes ouvertes JetBrains √† Saint-P√©tersbourg: vid√©o</a></li>
<li><a href="../fr461927/index.html">Apprentissage par classement actif</a></li>
<li><a href="../fr461935/index.html">Comment travailler avec Postgres in Go: pratiques, fonctionnalit√©s, nuances</a></li>
<li><a href="../fr461937/index.html">La loi de Parkinson et comment la briser</a></li>
<li><a href="../fr461939/index.html">Ann√©e d'aventure avec graph√®ne-python</a></li>
<li><a href="../fr461941/index.html">Masser</a></li>
<li><a href="../fr461945/index.html">Le condens√© des √©v√©nements pour les professionnels des RH dans le domaine des TI pour ao√ªt 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>