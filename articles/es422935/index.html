<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôÄÔ∏è üë®üèº üßñüèª 2GIS est√° a tu alcance. C√≥mo agregamos un mapa al Apple Watch ü§üüèª üë®‚Äçüë®‚Äçüëß‚Äçüëß üë©üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apple Watch r√°pidamente gan√≥ popularidad y se convirti√≥ en el reloj m√°s popular del mundo, por delante de Rolex y otros fabricantes. La idea de crear ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>2GIS est√° a tu alcance. C√≥mo agregamos un mapa al Apple Watch</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/2gis/blog/422935/"><p><img src="https://habrastorage.org/webt/ut/d9/tb/utd9tb6vvq-zreaxgxkakez4gce.jpeg"></p><br><p>  Apple Watch r√°pidamente gan√≥ popularidad y se convirti√≥ en el reloj m√°s popular del mundo, por delante de Rolex y otros fabricantes.  La idea de crear una aplicaci√≥n para relojes ha estado en la oficina de 2GIS desde 2015. </p><br><p>  Antes que nosotros, solo Apple lanz√≥ una aplicaci√≥n completa con una tarjeta en el reloj.  La aplicaci√≥n Yandex.Map solo muestra widgets de tr√°fico y tiempo de viaje a casa y al trabajo.  Yandex.Navigator, Google Maps, Waze y Maps.Me generalmente no est√°n disponibles en el reloj. </p><br><p>  De hecho, debido a las muchas limitaciones del sistema y la complejidad del desarrollo, las compa√±√≠as no hacen aplicaciones de vigilancia o las hacen muy simples.  No puedes simplemente tomar y dibujar un mapa en el reloj.  Pero pudimos. </p><br><p>  Eche un vistazo debajo del gato para descubrir c√≥mo el proyecto de la mascota se ha convertido en un producto completo. </p><br><p>  <strong>UPD.:</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Https://github.com/teanet/DemoWatch</a> </p><a name="habracut"></a><br><h3 id="my-reshili-delat-kartu-chto-bylo-na-starte">  Decidimos hacer un mapa.  ¬øQu√© fue al principio? </h3><br><ol><li>  Experiencia de desarrollo en el reloj: 2 d√≠as de trabajo en un proyecto de prueba. </li><li>  Experiencia con SpriteKit - 0 d√≠as. </li><li>  Experiencia de escritura de MapKit: 0 d√≠as. </li><li>  Dudas de que algo salga mal - ‚àû. </li></ol><br><h3 id="iteraciya-1--polet-mysli">  Iteraci√≥n 1 - Vuelo del pensamiento </h3><br><p>  Somos personas serias, as√≠ que para empezar decidimos elaborar un plan de trabajo.  Tomamos en cuenta que trabajamos en un sprint bien planificado, tenemos cinco puntos de historia para "tareas de productos peque√±os" y completa ignorancia de por d√≥nde comenzar. </p><br><p>  Un mapa es una imagen muy grande.  Podemos mostrar im√°genes en el reloj, lo que significa que podemos manejar la visualizaci√≥n de la tarjeta. </p><br><p>  Tenemos un servicio que puede cortar una tarjeta en pedazos: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cu/or/kl/cuorkl7imghdolhexs7yb2qskr4.png"></div><br><p>  Si corta una imagen as√≠ y la coloca en WKImage, obtenemos el prototipo de trabajo m√°s simple por cinco centavos. </p><br><p>  Y si agrega PanGesture a esta imagen e instala una nueva imagen en cada deslizamiento, obtenemos una simulaci√≥n de interacci√≥n con la tarjeta. </p><br><p>  / Regocijarse / Suena horrible, se ve casi igual, funciona a√∫n peor, pero de hecho la tarea se ha completado. </p><br><h3 id="iteraciya-2--minimalnyy-prototip">  Iteraci√≥n 2 - prototipo m√≠nimo </h3><br><p> Las descargas continuas de im√°genes son caras para una bater√≠a en horas.  S√≠, y el tiempo de arranque en s√≠ sufre.  Quer√≠amos obtener algo m√°s completo y receptivo.  Por el rabillo del o√≠do, escuchamos que el reloj tiene soporte para SpriteKit, el √∫nico marco de WatchOS con la capacidad de usar coordenadas, hacer zoom y personalizar todo este esplendor por ti mismo. </p><br><p>  Despu√©s de un par de horas de StackOverflow Driven Development (SDD) obtenemos la segunda iteraci√≥n: <br>  Un SKSpriteNode, un WKPanGestureRecognizer. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/bi/ub/drbiubucg4xxcr7jbyccmmth71m.gif"></div><br><p>  / Al√©grate / S√≠, esto es MapKit para 6 kopecks, funcionando completamente.  Lanzamiento urgente! </p><br><h3 id="iteraciya-3-dobavlyaem-tayly-i-zum">  Iteraci√≥n 3: adici√≥n de mosaicos y zoom </h3><br><p>  Cuando las emociones estaban dormidas, se preguntaban a d√≥nde ir despu√©s. </p><br><p>  Entendido que lo m√°s importante: </p><br><ul><li>  Reemplace la imagen con mosaicos. </li><li>  Adjunte 4 mosaicos al paquete de aplicaciones y con√©ctelos. </li><li>  Proporcionar im√°genes con zoom. <br>  Dejemos caer 4 mosaicos en el paquete de la aplicaci√≥n, luego p√≥ngalos en uno determinado: </li></ul><br><pre><code class="hljs objectivec">let rootNode = <span class="hljs-built_in"><span class="hljs-built_in">SKSpriteNode</span></span>()</code> </pre> <br><p>  Con la ayuda de las matem√°ticas simples, los conectaremos entre s√≠. <br>  Hacemos zoom a trav√©s de WKCrownDelegate: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">internal</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crownDidRotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> crownSequencer: WKCrownSequencer?, rotationalDelta: Double )</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.scale += <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(rotationalDelta * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.rootNode.setScale(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.scale) }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xf/zg/ws/xfzgwsd4wpsyappc4ehbejs8p2u.gif"></div><br><p>  / Regoc√≠jate / Bueno, ¬°eso es seguro!  Un par de correcciones, y para el maestro. </p><br><h3 id="iteraciya-4--optimiziruem-vzaimodeystvie-s-kartoy">  Iteraci√≥n 4: optimizaci√≥n de la interacci√≥n con el mapa </h3><br><p>  Al d√≠a siguiente, result√≥ que para SpriteKit anchorPoint no afecta el zoom.  El zoom ignora por completo el punto de anclaje y se produce en relaci√≥n con el centro del nodo ra√≠z.  Resulta que para cada paso de zoom necesitamos ajustar la posici√≥n. </p><br><p>  Tambi√©n ser√≠a bueno cargar mosaicos desde el servidor, en lugar de almacenar todo el mundo en la memoria del reloj. <br>  No olvide que las fichas deben estar vinculadas a las coordenadas para que no se encuentren en el centro de SKScene, sino en los lugares apropiados del mapa. </p><br><p>  Los azulejos se parecen a esto: </p><br><p><img src="https://habrastorage.org/webt/zo/-s/7d/zo-s7dhq--jmie8vigvbdqyp0g0.jpeg"></p><br><p>  Cada zoomLevel (en adelante "z") tiene su propio conjunto de mosaicos.  Para z = 1, tenemos 4 mosaicos que forman el mundo entero. </p><br><p><img src="https://habrastorage.org/webt/oe/jl/6b/oejl6beiczhxnf09cj1oqyxr1-4.png"></p><br><p>  para z = 2: para cubrir todo el mundo, ya necesita 16 fichas, <br>  para z = 3 - 64 fichas. <br>  para z = 18 ‚âà 68 * 10 ^ 9 fichas. <br>  Ahora necesitan ser puestos en el mundo de SpriteKit. </p><br><p>  El tama√±o de un mosaico es de 256 * 256 pt, lo que significa <br>  para z = 1, el tama√±o del "mundo" ser√° 512 * 512 pt, <br>  para z = 2 el tama√±o del "mundo" ser√° igual a 1024 * 1024 pt. <br>  Para facilitar el c√°lculo, coloque fichas en el mundo de la siguiente manera: </p><br><p><img src="https://habrastorage.org/webt/l_/_u/vp/l__uvp1_sli-cirdspcwi_y6zlm.png"></p><br><p>  Codificar el mosaico: </p><br><pre> <code class="hljs julia"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> kTileLength: CGFloat = <span class="hljs-number"><span class="hljs-number">256</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> TilePath { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> z: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> }</code> </pre> <br><p>  Defina la coordenada del mosaico en un mundo as√≠: </p><br><pre> <code class="hljs objectivec">var position: <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span> { let x = <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.x) let y = <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.y) let offset: <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span> = pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">CGFloat</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.z - <span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>(x: kTileLength * ( -offset + x ), y: kTileLength * ( offset - y - <span class="hljs-number"><span class="hljs-number">1</span></span> )) } var center: <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.position + <span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>(x: kTileLength, y: kTileLength) * <span class="hljs-number"><span class="hljs-number">0.5</span></span> }</code> </pre> <br><p>  La ubicaci√≥n es conveniente, ya que le permite llevar todo a las coordenadas del mundo real: latitud / longitud = 0, que est√° justo en el centro del "mundo". </p><br><p>  La latitud / longitud del mundo real se transforma en nuestro mundo de la siguiente manera: </p><br><pre> <code class="hljs coffeescript">extension CLLocationCoordinate2D { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     ( <span class="hljs-number"><span class="hljs-number">-1</span></span> &lt; TileLocation &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> ) func tileLocation() -&gt; CGPoint { var siny = sin(self.latitude * .pi / <span class="hljs-number"><span class="hljs-number">180</span></span>) siny = min(max(siny, <span class="hljs-number"><span class="hljs-number">-1</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>) let y = CGFloat(log( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + siny )</span></span></span><span class="hljs-function"> / </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - siny )</span></span></span><span class="hljs-function">)) return CGPoint</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( x: kTileLength * ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + CGFloat(self.longitude) / </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">360</span></span></span></span><span class="hljs-function"><span class="hljs-params"> ), y: kTileLength * ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.5</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - y / ( </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">4</span></span></span></span><span class="hljs-function"><span class="hljs-params"> * .pi ) ) )</span></span></span><span class="hljs-function"> } //       zoomLevel func location</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">for</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z: Int)</span></span></span><span class="hljs-function"> -&gt;</span></span> CGPoint { let tile = self.tileLocation() let zoom: CGFloat = pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, CGFloat(z)) let offset = kTileLength * <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> CGPoint( x: (tile.x - offset ) * zoom, y: (-tile.y + offset) * zoom ) } }</code> </pre> <br><p>  Con el zoom de nivelaci√≥n problemas rastrillados.  Tuve que pasar un par de d√≠as libres para armar todo el aparato matem√°tico y asegurar la fusi√≥n perfecta de los mosaicos.  Es decir, el mosaico para z = 1 idealmente deber√≠a ir en cuatro mosaicos para z = 2 y viceversa, los cuatro mosaicos para z = 2 deber√≠an ir en un mosaico para z = 1. </p><br><p><img src="https://habrastorage.org/webt/j_/62/0r/j_620racsivq_qnnj5euvweexlo.jpeg"></p><br><p>  Adem√°s, era necesario convertir el zoom lineal en uno exponencial, ya que los zooms var√≠an de 1 &lt;= z &lt;= 18, y el mapa se escala como 2 ^ z. </p><br><p>  El zoom suave se proporciona ajustando constantemente la posici√≥n de los mosaicos.  Es importante que las fichas est√©n cosidas exactamente en el medio: es decir, que la ficha de nivel 1 vaya a 4 fichas de nivel 2 con un zoom de 1.5. </p><br><p>  SpriteKit usa un flotador debajo del cap√≥.  Para z = 18, obtenemos una extensi√≥n de coordenadas (-33 554 432/33 554 432), y la precisi√≥n de flotaci√≥n es de 7 bits.  A la salida, tenemos un error en la regi√≥n de 30 pt.  Para evitar la aparici√≥n de "espacios" entre mitades, colocamos el mosaico visible lo m√°s cerca posible del centro de SKScene. </p><br><p>  / Al√©grate / Despu√©s de todos estos gestos, tenemos un prototipo listo para probar. </p><br><h3 id="reliz">  Fecha de lanzamiento </h3><br><p>  Como la aplicaci√≥n realmente no ten√≠a TK, encontramos un par de voluntarios para realizar algunas pruebas.  No encontraron problemas particulares y decidieron lanzarse a un lado. </p><br><p>  Despu√©s del lanzamiento, result√≥ que en el reloj de la primera serie el procesador no tiene tiempo para dibujar el primer fotograma de la tarjeta en 10 segundos y cae por tiempo de espera.  Inicialmente tuve que crear una tarjeta completamente vac√≠a para que quepa en 10 segundos, y luego cargar gradualmente el sustrato.  Primero desarrolle todos los niveles del mapa, y luego cargue los mosaicos para ellos. </p><br><p>  Tom√≥ mucho tiempo depurar la red, configurar correctamente la cach√© y una peque√±a huella de memoria para que WatchOS no intentara matar nuestra aplicaci√≥n durante el mayor tiempo posible. </p><br><p>  Una vez perfilada la aplicaci√≥n, descubrimos que en lugar de los mosaicos habituales, puede usar mosaicos Retina, casi sin da√±ar el tiempo de carga y el consumo de memoria, y en la nueva versi√≥n ya cambiaron a ellos. </p><br><h3 id="itogi-i-plany-na-buduschee">  Resultados y planes para el futuro </h3><br><p>  Ya podemos mostrar en el mapa una ruta con maniobras integradas en la aplicaci√≥n principal.  La funci√≥n estar√° disponible en uno de los pr√≥ximos lanzamientos. </p><br><p>  El proyecto, que inicialmente parec√≠a imposible, result√≥ ser extremadamente √∫til para m√≠ personalmente.  A menudo uso la aplicaci√≥n para comprender si es hora de bajar en la parada correcta.  Creo que en invierno ser√° a√∫n m√°s √∫til. </p><br><p>  Al mismo tiempo, volvi√≥ a estar convencido de que la complejidad del proyecto, la fe de los dem√°s en el √©xito de la tarea o la disponibilidad de tiempo libre en el trabajo no eran tan importantes.  Lo principal es el deseo de hacer un proyecto y un movimiento aburrido y gradual hacia la meta.  Como resultado, tenemos un MapKit completo, que es casi ilimitado y funciona con 3 WatchOS.  Se puede modificar como desee sin esperar a que Apple implemente la API adecuada para el desarrollo. </p><br><p>  <strong>PD:</strong> Para aquellos interesados, puedo dise√±ar un proyecto terminado.  El nivel del c√≥digo est√° lejos de la producci√≥n.  Pero, de acuerdo con el principio militar, no importa c√≥mo funcione, ¬°lo principal es que funciona! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es422935/">https://habr.com/ru/post/es422935/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es422921/index.html">De Kotlin a Goblin: c√≥mo fue TechTrain</a></li>
<li><a href="../es422923/index.html">C√≥mo marcar el d√≠a del programador sin decorar los ficus de oficina con ceros y unos</a></li>
<li><a href="../es422925/index.html">Entrevista con el orador de la conferencia RubyRussia Godfrey Chan</a></li>
<li><a href="../es422929/index.html">Yandex Mail [estuvo] no disponible durante aproximadamente una hora a las 12:16 hora de Mosc√∫</a></li>
<li><a href="../es422931/index.html">Analizamos las herramientas para monitorear aplicaciones distribuidas</a></li>
<li><a href="../es422937/index.html">Almacenamiento en cach√© de disco de √°rboles de computaci√≥n diferida</a></li>
<li><a href="../es422939/index.html">El libro "Kali Linux de los desarrolladores"</a></li>
<li><a href="../es422941/index.html">"Tres en un bote, pobreza y perros", o c√≥mo el antiplagiarismo busca par√°frasis</a></li>
<li><a href="../es422943/index.html">Un poco sobre miner√≠a industrial</a></li>
<li><a href="../es422945/index.html">27 de septiembre, Mosc√∫ - Mitap QIWI SERVER PARTY 3.0</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>