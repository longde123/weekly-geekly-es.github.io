<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òùüèΩ ‚öîÔ∏è üßùüèΩ Estaci√≥n de soldadura reversible clase HI-END üë®üèæ‚Äçüíª ü•ê üßíüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tuvimos varias fotos de la placa de circuito principal, un video de YouTube con formas de onda de voltaje en el drenaje de mosfets, un comentario en e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Estaci√≥n de soldadura reversible clase HI-END</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412607/"><img src="https://habrastorage.org/webt/zy/do/hq/zydohqpxzvzoygol3o6ci9wkebw.jpeg"><br><br>  Tuvimos varias fotos de la placa de circuito principal, un video de YouTube con formas de onda de voltaje en el drenaje de mosfets, un comentario en el foro que enumera las capacidades de los condensadores resonantes, as√≠ como varios videos de desempaque con la filmaci√≥n del proceso de calentamiento por picadura.  De particular preocupaci√≥n fue el video con la medici√≥n del consumo m√°ximo de energ√≠a durante el calentamiento.  No hay nada m√°s triste que un cartucho quemado reci√©n comprado en Amazon por valor de cuatro mil rublos.  Pero ... comencemos de nuevo. <br><a name="habracut"></a><br><h4>  Introducci√≥n al curso </h4><br>  Para entender qu√© tipo de dispositivo vamos a construir hoy, primero recordemos brevemente qu√© estaciones de soldadura son en general y c√≥mo se diferencian entre s√≠. <br><br>  El segmento de precios m√°s bajos de dichos equipos, como se puede adivinar, es capturado por las marcas chinas, en su mayor parte copiando la construcci√≥n bastante exitosa del soldador japon√©s Hakko.  El principio de funcionamiento de las copias originales y numerosas es muy simple: un calentador de nicromo o de pel√≠cula delgada transfiere calor a una picadura removible, cuya temperatura es controlada por un termopar o un termistor incorporado en el calentador.  Esta es una soluci√≥n simple y econ√≥mica, pero en las copias chinas la calidad puede debilitarse un poco: el calentador es un poco del mismo tama√±o, una peque√±a econom√≠a del material de la punta y, como resultado, se enrolla papel de aluminio en el calentador, el aguij√≥n japon√©s original se ordena desde el extranjero, el conector cambiando a una m√°s poderosa ... en general, hay algo que hacer. <br><br>  En alg√∫n lugar en el medio de la escala de valor hay estaciones de soldadura de marcas de famosas marcas occidentales.  German ERSA, American Weller, Japanese Hakko, eso es todo.  El principio de funcionamiento es esencialmente el mismo, pero aqu√≠ no se necesita una granja colectiva, los bollos agradables salen de la caja como un cable de silicona suave que no se derrite al menor toque de un soldador, y ... ¬°en realidad no hay muchos bollos!  Precio?  Corresponde al nivel.  Decenas de miles de rublos denominados molestar√°n no solo a un humilde amante de la casa para pasar las tardes detr√°s de la depuraci√≥n de hardware, sino incluso a una entidad legal de tama√±o mediano. <br><br>  Sin embargo, el tema del art√≠culo de hoy no es sobre eso.  Te contar√© sobre el verdadero HI-END en el mundo de las estaciones de soldadura, es decir, sobre los soldadores por inducci√≥n de la empresa estadounidense Metcal (OK International ahora los produce bajo esta marca).  De hecho, hay varios fabricantes de tales dispositivos, adem√°s del mencionado Metcal, tambi√©n s√© que Thermaltronics, JBC e incluso Hakko tienen un modelo similar.  El principio de funcionamiento del calentador de inducci√≥n en tales dispositivos es muy elegante: <br><br> <a href=""><img src="https://habrastorage.org/webt/u_/zy/lj/u_zyljn2jccu9qkjsywbyn1w7ro.jpeg"></a> <br><br>  Como puede ver, no hay ning√∫n sensor de temperatura en absoluto, el n√∫cleo de la picadura est√° hecho de cobre recubierto con material ferromagn√©tico, que se calienta mediante el campo magn√©tico alterno de alta frecuencia (13.56 MHz), luego a cierta temperatura, llamada punto Curie, pierde sus propiedades magn√©ticas, y Como resultado, deja de calentarse m√°s.  Cuando toca el punto de soldadura, el elemento ferromagn√©tico se enfr√≠a un poco, y la potencia del inductor comienza a transmitirse inmediatamente a la punta del soldador.  Las puntas vienen en cuatro temperaturas fijas, de las cuales solo se necesitan esencialmente dos: para plomo y para soldar sin plomo.  Eso es todo <br><br>  OKI / Metcal produce varias variedades de estaciones de soldadura por inducci√≥n de diferentes costos y con diferentes potencias de salida, sin embargo, el orden de cantidades en la regi√≥n de 60,000 rublos desalienta cualquier deseo de tocar lo bello, por bello que sea este bello.  Bueno, ¬øvamos a intentar ahorrar un poco? <br><br><h4>  Desaf√≠o </h4><br>  Lo formulamos de la siguiente manera: utilizando solo fuentes abiertas, realice ingenier√≠a inversa virtual del dispositivo MX-5200 original y, como resultado, desarrolle una fuente de un solo canal de voltaje de RF sinusoidal adecuado para la fabricaci√≥n en el hogar con una potencia de salida m√°xima de 80 W, repitiendo en la medida de lo posible la funcionalidad de la soldadura original estaci√≥n <br><br>  En Internet, puede encontrar f√°cilmente el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">diagrama de</a> circuito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de</a> la estaci√≥n Metcal MX-500 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">de</a> la generaci√≥n anterior, cuidadosamente extra√≠do de la placa.  El uso directo de soluciones de circuitos no funcionar√° desde aqu√≠, ya que la potencia de salida de este dispositivo es de solo 40 W y, de una manera simple, no se escala.  Sin embargo, este viejo esquema nos ayudar√° a comprender los principios de funcionamiento de los componentes principales. <br><br>  Entonces, en el documento vemos: <br><br><ol><li>  Potente generador de RF alimentado por cuarzo con tres circuitos resonantes en la salida; </li><li>  Convertidor de pulso descendente para alimentar el generador (1), con un voltaje de salida que var√≠a en el rango de 17-21 V; </li><li>  Circuito de retroalimentaci√≥n que regula el voltaje del convertidor reductor (2) dependiendo del voltaje en uno de los circuitos resonantes de salida del generador (1); </li><li>  El nodo de protecci√≥n que apaga el generador (1) al desconectar el inductor; </li><li>  Fuente de alimentaci√≥n del transformador con una tensi√≥n de salida de 53 V. </li></ol><br>  Averig√ºe de inmediato las soluciones de circuitos generales.  Para alimentar el circuito, por ejemplo, un transformador toroidal de baja frecuencia es perfecto.  Aunque ... apliquemos, somos mejores en un convertidor resonante LLC basado en un raro chip HiperLCS fabricado por Power Integrations: hace mucho que quer√≠a trabajar con √©l.  El convertidor reductor utilizado para ajustar la potencia de salida tambi√©n tomar√° uno m√°s moderno, vea si es realmente posible exprimir cinco amperios de una caja del tama√±o de un SO-8.  Pero, ¬øqu√© es este proyecto sin arduino, boceto y LED?  Agregue el microcontrolador STM32 y una peque√±a pantalla para mostrar la potencia de salida actual.  Para simplificar, mediremos la potencia en la l√≠nea de alimentaci√≥n del generador de RF, y tendremos en cuenta la eficiencia en el software (o no).  Tome una caja de metal que sea adecuada en tama√±o, servir√° tanto como pantalla como radiador. <br><br><img src="https://habrastorage.org/webt/gc/u2/w1/gcu2w1dww-mhiyltoow_rpraa8c.jpeg"><br><br>  Para la soldadura directa en Amazon, se comprar√° el kit de actualizaci√≥n Metcal MX-UK1, que incluye un soporte y un soldador en s√≠ (esto es esencialmente solo un bol√≠grafo con un cable), as√≠ como los cartuchos de soldadura reales.  Hist√≥ricamente, es m√°s conveniente para m√≠ trabajar con piezas peque√±as con el llamado "casco" (un cono truncado a 30 ¬∞), y para soldar elementos masivos es mejor tomar algo m√°s ancho, m√°s masivo y m√°s caliente, as√≠ que aqu√≠ est√° mi elecci√≥n: Metcal SMTC-0167 para mano de obra fina y Thermaltronics M7K100 para trabajar con elementos de gran tama√±o.  S√≠, las picaduras de Thermaltronics m√°s baratas tambi√©n son adecuadas. <br><br><img src="https://habrastorage.org/webt/dt/go/ha/dtgohazuklmmwjlzrnkjeqatbrc.jpeg"><br><br>  Mientras los detalles est√°n en camino, dibujaremos un diagrama de bloques del dispositivo dise√±ado.  Aqu√≠ esta: <br><br><img src="https://habrastorage.org/webt/zl/uy/bh/zluybhztltpnmerd00thb0u5smo.png"><br><br>  Es muy importante decir de inmediato algunas palabras sobre la retroalimentaci√≥n entre la salida del generador de RF y la entrada de control del convertidor reductor.  El hecho es que despu√©s de que la picadura ha alcanzado la temperatura de funcionamiento, el generador contin√∫a generando un voltaje de amplitud bastante significativa (aproximadamente 100 V), y esta potencia comienza a disiparse con la resistencia activa de la bobina inductora, que debido al efecto de la piel es mucho m√°s de lo que puede imaginar. Mult√≠metro convencional.  Como resultado, la peque√±a bobina est√° al rojo vivo y se quema.  Para evitar que esto suceda, las estaciones originales usan retroalimentaci√≥n negativa, lo que reduce el voltaje de suministro del generador con un aumento en el coeficiente de onda estacionaria que acompa√±a al cambio en la impedancia del inductor.  La versi√≥n de 40 vatios usa el m√©todo bastante simple de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">US4626767A</a> , mientras que la versi√≥n de 80 vatios usa un sistema operativo m√°s sofisticado con un transformador de corriente.  Veamos este video tomado de Internet: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-55dR4yTJDQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  El haz azul en √©l muestra el voltaje de suministro de la etapa de salida del generador de RF y, como vemos aqu√≠, debemos asegurarnos de que el voltaje de suministro cambie al menos dos veces (la potencia de salida en este caso cambia en proporci√≥n al cuadrado del voltaje, es decir, cuatro veces).  En la versi√≥n simple del sistema operativo modelado simulado en LTSpice, no pude alcanzar ese nivel de regulaci√≥n, por lo que simplemente dibujamos la cadena de retroalimentaci√≥n de la foto de la placa de circuito impreso. <br><br><h4>  Generador de alta frecuencia </h4><br>  Comenzamos el dise√±o de la parte de alta frecuencia con los circuitos resonantes de salida.  Echemos un vistazo a esta toma de alta resoluci√≥n: <br><br> <a href=""><img src="https://habrastorage.org/webt/ng/9m/ia/ng9miake_7v8hi53skrpz8ko3lm.jpeg"></a> <br><br>  Aqu√≠ vemos tres bobinas enrolladas alrededor de n√∫cleos toroidales amarillos, el n√∫mero de vueltas es 4, 6 y 7, contando de izquierda a derecha.  De acuerdo con la clasificaci√≥n de Amidon, el color amarillo indica un n√∫cleo hecho de hierro atomizado con una permeabilidad magn√©tica de 8.5 (material No. 6).  Estimamos el tama√±o de los anillos midiendo el tama√±o del anillo con una regla en la pantalla y el tama√±o de alg√∫n elemento conocido, por ejemplo, un transistor de salida en el paquete TO-247.  Aparentemente, aqu√≠ se usan n√∫cleos magn√©ticos T130-6;  En mi opini√≥n, esto es una especie de exageraci√≥n: estos anillos grandes est√°n dise√±ados para una potencia significativamente mayor.  Pero no tengo muchas ganas de ser inteligente aqu√≠: ciertamente no usar√© los anillos estadounidenses originales, en su lugar, pido copias chinas baratas en AliExpress y veo c√≥mo funcionan (spoiler: todo est√° bien con ellos).  Las inductancias calculadas fueron de aproximadamente 180, 400 y 540 nH, respectivamente. <br><br>  En los circuitos resonantes, los condensadores tambi√©n dependen de inductores.  No es posible determinar sus capacidades a partir de la fotograf√≠a, sin embargo, hay f√°cilmente una publicaci√≥n en la que el pedante microelectricista (autor del video anterior) comparte sus observaciones (resaltadas en amarillo): <br><br><img src="https://habrastorage.org/webt/hq/aq/md/hqaqmdiwweyahwjsjwp5ayrhqx0.png"><br><br>  Si sustituimos estos valores en el modelo de especias, podemos ver que las frecuencias resonantes de los circuitos est√°n ligeramente desplazadas de 13.56 MHz.  El hecho es que cuanto m√°s cerca est√° la frecuencia de la resonancia, menos se necesita el voltaje de suministro para el generador de RF y m√°s corriente consume.  En el original, se usaba un convertidor reductor con una corriente m√°xima de 3A para alimentar la etapa de salida, por lo que los desarrolladores alteraron un poco los circuitos de salida para que fuera posible aumentar el voltaje de suministro y reducir el consumo de corriente.  Planeamos usar un microcircuito de cinco amperios, sin embargo, esta corriente tampoco fue suficiente para funcionar en resonancia, por lo que modificaremos ligeramente el circuito de manera similar.  Seleccionaremos los valores exactos de capacitancia experimentalmente, enfoc√°ndonos en el voltaje de suministro m√°ximo de la etapa de salida 22 V y el consumo de corriente m√°ximo de 4 A. <br><br>  Observo que circula una potencia bastante grande dentro de los circuitos resonantes, que se esfuerza por liberarse al medio ambiente en forma de calor.  Por lo tanto, para aumentar el factor de calidad de las bobinas, utilizamos un cable esmaltado m√°s grueso - 1,25 mm, y ponemos varios condensadores en paralelo. <br><br>  La elecci√≥n del transistor de salida tambi√©n es un tema dif√≠cil.  Al reemplazar o desconectar la picadura, la sobretensi√≥n puede alcanzar valores bastante significativos (300-350 V), pero en el original el desarrollador no se enfureci√≥ demasiado con las protecciones, y puso en la etapa de salida un transistor de RF IXYS IXFH12N50F bastante raro, r√°pido y costoso con un voltaje de drenaje m√°ximo 500 V. Nosotros, por supuesto, no podemos permitirnos ese lujo.  Tome un transistor de efecto de campo normal de 200 voltios STP19NF20 por valor de 34 rublos, y en paralelo conectamos un supresor de 150 V. ¬°Ideal!  El limitador corta ligeramente la parte superior de las emisiones resonantes, evitando que los circuitos se balanceen demasiado, y aproximadamente 10 milisegundos despu√©s de la p√©rdida de carga, la protecci√≥n detendr√° el generador. <br><br><img src="https://habrastorage.org/webt/rf/tg/il/rftgil-a5rpht6bup_enjbtq8kk.jpeg"><br><br>  Debido a la gran capacidad de entrada y la alta frecuencia, no funcionar√° controlar el obturador del transistor de salida directamente usando un controlador convencional.  En la foto de la placa original entre los dos transistores de potencia, la inductancia sin marco es visible.  Este es un peque√±o truco muy utilizado: la inductancia junto con la capacitancia de la puerta forma un circuito resonante, que proporciona recirculaci√≥n de potencia en el circuito de la puerta, como resultado de lo cual la eficiencia del preamplificador aumenta bruscamente.  El mismo circuito tambi√©n impone una limitaci√≥n no obvia en el modelo del transistor de salida: la resistencia de su puerta debe ser m√≠nima para que el factor de calidad del circuito siga siendo aceptable.  Sin entrar en demasiados detalles, repitamos la soluci√≥n utilizada por el fabricante.  Seleccionamos el valor de inductancia a la m√°xima eficiencia del circuito real al comprimir / estirar las vueltas de la bobina. <br><br>  Bueno, entonces los circuitos se vuelven m√°s triviales.  El preamplificador hecho en un transistor con una baja capacidad de entrada IRF510 ser√° sacudido por el controlador dual <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MAX17602</a> , sus caracter√≠sticas de velocidad son bastante buenas.  MAX17600 o MAX17601 son a√∫n mejores, sus salidas podr√≠an conectarse en paralelo, pero no ten√≠a esas opciones, as√≠ que trabajaremos con lo que tenemos. <br><br>  La frecuencia de generaci√≥n deseada se establece mediante un resonador de cuarzo.  Desafortunadamente, tampoco pude encontrar cuarzo a 13.56 MHz para el oscilador maestro.  Pero no importa.  Tome el resonador m√°s com√∫n de 27.12 MHz y divida la frecuencia en dos.  Aqu√≠ el microcontrolador es simplemente √∫til, es decir, uno de sus temporizadores programados en consecuencia.  Tambi√©n quiero se√±alar que para la conexi√≥n directa a la MCU, solo son adecuados los resonadores de cuarzo que funcionan en el primer arm√≥nico.  Los resonadores rusos generalizados a 27120 kHz que funcionan en el tercer arm√≥nico solo se pueden conectar con una muleta en forma de un circuito resonante adicional. <br><br><h4>  Nutrici√≥n </h4><br>  Despu√©s de largos e infructuosos experimentos con productos chinos, se decidi√≥ que la etapa de salida de RF se alimentara desde un convertidor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">reductor</a> en un chip TI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">TPS54560</a> .  La frecuencia del generador interno para evitar la aparici√≥n de latidos escuchados por el o√≠do se establece en aproximadamente 450 kHz, lejos del rango de frecuencia del convertidor LLC.  Tambi√©n hay una opci√≥n para hacer lo contrario, sincronizar el convertidor reductor con el generador del convertidor LLC, pero la pereza ya ha comenzado a hacerse sentir.  No haremos eso. <br><br>  El convertidor TPS54560 en s√≠, a pesar de su tama√±o en miniatura, tiene una corriente de salida bastante grande, y a veces puede parecer que se trata de alg√∫n tipo de milagro sin precedentes en la lucha por la eficiencia energ√©tica ... Pero no, el chip necesita un enfriamiento realmente bueno.  La placa de demostraci√≥n con sede en Texas contiene dos grandes pol√≠gonos "de tierra" con un grosor de 2 oz en ambos lados, y para la transferencia de calor entre las capas, se utilizan seis v√≠as ubicadas directamente debajo de la parte superior del microcircuito (all√≠ tiene un contacto de disipador de calor).  Este arreglo hace que sea un poco dif√≠cil fabricar una placa de circuito impreso en casa, por lo que aparentemente tendr√° que ordenar la producci√≥n en China.  Eh <br><br>  Para alimentar el controlador y el preamplificador, tomamos un voltaje de 12V no estabilizado del segundo devanado del convertidor LLC.  Las corrientes consumidas de las partes restantes del circuito ser√°n muy peque√±as, por lo tanto, para el controlador de cinco voltios y la luz de fondo de la pantalla LCD, como parte de la sustituci√≥n de importaci√≥n, instalaremos un estabilizador lineal KP142EN5A, dise√±ado espec√≠ficamente para su uso en la econom√≠a nacional, y la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gubia LD2985</a> proporcionar√° una l√≠nea de 3.3 V para la MCU. <br><br>  El convertidor LLC en el chip <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LCS708HG</a> reducir√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el</a> voltaje de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la</a> red a los 30 y 12 voltios requeridos. <br><br><img src="https://habrastorage.org/webt/65/l8/ed/65l8edk_ucvq50zsc5hf2jbxxp8.jpeg"><br><br>  Estoy seguro de que muchos lectores no son conscientes de que esta bestia es un convertidor LLC en general, por lo que me detendr√© en el principio de su funcionamiento con un poco m√°s de detalle.  LLC no es una abreviatura, estas letras significan "inductancia-inductancia-capacitancia" y, en resumen, describen los circuitos para conectar el devanado primario del transformador.  El hecho es que parte de las l√≠neas del campo magn√©tico del devanado primario no se "atrapa" en los giros del secundario, como resultado de lo cual se forma la llamada inductancia de dispersi√≥n, una inductancia par√°sita que no puede transferir la energ√≠a almacenada en s√≠ misma a los circuitos secundarios.  En los convertidores flyback convencionales, esta energ√≠a tiene que ser disipada a los supresores o resistencias amortiguadoras, por lo que los transformadores (o, m√°s precisamente, los choques de doble bobina) generalmente est√°n dise√±ados de tal manera que reducen la inducci√≥n de dispersi√≥n al valor m√°s bajo posible.  Pero todo cambia cuando dise√±as una LLC. <br><br>  En un convertidor resonante, la inductancia de fuga, junto con un condensador conectado en serie al devanado primario, forma un circuito oscilatorio que realiza dos tareas importantes.  En primer lugar, proporciona la conmutaci√≥n de los transistores de alto voltaje de salida del convertidor a una tensi√≥n cercana a cero (el llamado modo de conmutaci√≥n de voltaje cero), que reduce dr√°sticamente las p√©rdidas de conmutaci√≥n.  Y en segundo lugar, la energ√≠a acumulada en una inductancia no conectada vuelve al circuito: ahora no se necesitan amortiguadores, y tampoco hay p√©rdidas de energ√≠a.  El documento Power Integrations <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AN-55</a> detalla c√≥mo dise√±ar un transformador de tal manera que aumente la inductancia de fuga (esto es necesario para crear la caracter√≠stica de control correcta).  Por ejemplo, enrolle los devanados primario y secundario alejados uno del otro, en dos secciones diferentes: <br><br><img src="https://habrastorage.org/webt/7i/iu/z-/7iiuz-igqg1rhgqisg31neowkm8.jpeg"><br><br>  En el caso general, el resultado de estos refinamientos de circuitos es el logro de una eficiencia muy decente, en particular, el chip LCS708HG instalado sin radiador, con su tama√±o muy peque√±o, proporciona una potencia de salida en la regi√≥n de 200W.  Este es un resultado realmente sobresaliente, pero solo se puede lograr trabajando con precisi√≥n a la frecuencia de resonancia del circuito de salida.  Y aqu√≠ estamos a la espera de una emboscada. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El hecho es que la regulaci√≥n del voltaje de salida aqu√≠ se lleva a cabo cambiando la frecuencia, y no el ciclo de trabajo de los pulsos, y esta regulaci√≥n est√° limitada por un rango de voltaje muy estrecho, aproximadamente ¬± 15%. Adem√°s, cuando el voltaje de entrada se desv√≠a del nominal, la frecuencia de conversi√≥n se aleja de la resonancia, y la conmutaci√≥n de transistores dentro del microcircuito se vuelve "dura", con la p√©rdida de ZVS, que se acompa√±a de un calentamiento significativo. De hecho, podemos decir que el convertidor en la entrada necesita un voltaje ya estabilizado.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En los productos fabricados industrialmente, se incluye un corrector de potencia activa (APFC) delante de la entrada del convertidor, que, adem√°s de la correcci√≥n de potencia en s√≠, tambi√©n mantiene un voltaje de salida de aproximadamente 380-390 voltios. Sin embargo, nuestro desarrollo a√∫n es de aficionados, por lo tanto, cerramos con valent√≠a nuestros ojos a una peque√±a articulaci√≥n en forma de sensibilidad a la calidad de la red el√©ctrica. Los c√°lculos muestran que, teniendo en cuenta las ondas en el tanque de compensaci√≥n, el rango de voltaje de entrada es de aproximadamente 230 V ¬± 10%, por lo que si los par√°metros de la red no van m√°s all√° del GOST, entonces todo funcionar√°. Dej√©moslo as√≠ por ahora.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie el resto del dise√±o del circuito del convertidor de la hoja de datos. Quiz√°s solo un condensador resonante necesitaba atenci√≥n, un elemento aparentemente muy simple. Y si alguna vez se ha preguntado c√≥mo los condensadores de polipropileno y tereftalato de polietileno (poli√©ster) difieren entre s√≠, entonces descubrir√° la respuesta ahora: los primeros tienen una tangente de p√©rdida de diez veces menos. Es por eso que un intento de usar un poli√©ster K73-17 m√°s barato y compacto en lugar de un K78-2 de gran tama√±o (s√≠, aqu√≠ tambi√©n hay sustituci√≥n de importaci√≥n) va acompa√±ado de interesantes efectos especiales: el condensador se calienta mucho y comienza a agrietarse sospechosamente.</font></font> Interesante <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La serie de chips HiperLCS requiere una fuente de alimentaci√≥n separada de 12 voltios. </font><font style="vertical-align: inherit;">Para no meterse con el devanado adicional, el rectificador y las cadenas de arranque, sigamos el camino m√°s can√≥nico. </font><font style="vertical-align: inherit;">Tomamos el voltaje necesario de un convertidor en miniatura separado en el chip </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LNK304</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Su caracter√≠stica clave es el dise√±o sin transformador; solo se requerir√° un centavo de centavo hecho en f√°brica de los elementos inductivos. </font><font style="vertical-align: inherit;">La corriente de salida m√°xima no es muy grande, del orden de cientos de miliamperios, pero el m√≠nimo de detalles y la simplicidad del dise√±o son cautivadores (y el n√∫mero de convertidores por dec√≠metro cuadrado de la superficie comienza a desconcertar. ¬°M√°s convertidores al Dios de los Convertidores!)</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cerebros </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bueno, solo quedaba un poco. La estaci√≥n original tiene una pantalla LCD, que por todo el dinero pagado muestra algo as√≠ como una potencia de salida. Hagamos algo similar: tome el controlador STM32F030 en la configuraci√≥n m√°s m√≠nima (en el paquete TSSOP-20), cuelgue una l√≠nea ADC para medir el voltaje de suministro de la etapa de salida del generador de RF y otra l√≠nea para medir la corriente. Para no romper el circuito de "tierra", </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">colocaremos</font></a><font style="vertical-align: inherit;"> el sensor de corriente resistivo en el cable positivo, y para la conversi√≥n de nivel usaremos el chip </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">INA138</font></a><font style="vertical-align: inherit;"> , especialmente dise√±ado para tales casos</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que en su mejor momento fue desarrollado por Burr-Brown. Para mostrar la informaci√≥n, utilizamos una pantalla OLED de texto de 16x2 fabricada por WinStar. Bueno eso es todo. Oh, bueno, una pata del procesador qued√≥ inactiva. Bueno, deja que el LED parpadee. No preguntes por qu√©.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El firmware del controlador est√° escrito en el lenguaje "C" utilizando STM32CubeMX y la versi√≥n gratuita de IAR Embedded Workbench. El c√≥digo del programa es muy trivial. El ciclo principal para interrumpir el temporizador del sistema una vez cada 300 milisegundos lee los datos de dos canales ADC, los multiplica y los muestra en forma de d√≠gitos de potencia. Debajo de este mismo poder se visualiza una franja dibujada por fuentes personalizadas. Cuando se apaga la punta, el controlador de interrupciones de la salida del detector de carga detiene el temporizador maestro del generador de RF. En caso de que MCU se congele o falle, se han agregado controladores de errores de hardware y perros guardianes; CSS tambi√©n participa en el firmware (Clock Security System), que permite en caso de amortiguaci√≥n de las oscilaciones del resonador de cristal de cuarzo principal cambiar al generador RC interno y reiniciar el microcontrolador. La cantidad total de firmware es de 10 KB.El c√≥digo fuente del firmware, junto con todos los dem√°s archivos del proyecto, publiqu√© en</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , los m√°s curiosos pueden familiarizarse (pero no esperes nada muy interesante all√≠).</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Constructivo </font></font></h4><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El dispositivo contiene varios productos de bobinado personalizados.</font></font></b> <div class="spoiler_text"><ul><li>                  1686    50.   ¬´ ¬ª     :  , ,          .     0,6,   ‚Äì 15  ,  214   ; </li><li>       5    0,6.   10      10; </li><li>       -  EFD25   N87   Epcos.    ,            (  0,2).   (33 )    (26 )        100/46  175/46  (   ‚Äì   ,  ‚Äì     American Wire Gauge).  , 12-  ‚Äî     . </li></ul></div></div><br>  Todos los datos calculados de todos los elementos del convertidor LLC, incluida la inductancia de los devanados del transformador, se proporcionan en el archivo de dise√±o adjunto al proyecto, que se puede abrir utilizando la aplicaci√≥n PIXls Designer.  Adem√°s, por si acaso, agregu√© al proyecto toda la documentaci√≥n utilizada para el desarrollo de los componentes electr√≥nicos utilizados en el desarrollo, cargu√© modelos LTspice de algunas partes del circuito y, por supuesto, las fotos, ahora sin ellas. <br><br>  El resultado del desarrollo anterior fue el siguiente diagrama de circuito el√©ctrico: <br><br> <a href=""><img src="https://habrastorage.org/webt/6a/bn/p0/6abnp0p3g-16iu0umf5eq4eo3zq.png"></a> <br><br>  El circuito y el dise√±o de la placa de circuito impreso se dibujan en el paquete DipTrace; para enviarlos a la f√°brica, los dibujos de la placa de circuito se convirtieron al formato Gerber.  La placa est√° cableada exactamente al tama√±o de la carcasa utilizada, para proteger los delicados circuitos de baja corriente, se proporciona una capa completamente debajo de la tierra.  Este cableado simplifica enormemente la fabricaci√≥n de la placa de circuito en el hogar, ya que no hay necesidad de alinear con precisi√≥n las m√°scaras fotogr√°ficas aqu√≠: casi todo el reverso de la placa de circuito se puede llenar con un pol√≠gono s√≥lido y luego biselado con una broca gruesa en las aberturas de los terminales que no requieren una conexi√≥n a tierra. <br><br><img src="https://habrastorage.org/webt/py/hr/jg/pyhrjgytrdz7antf8jetd_xzu-4.jpeg"><br><br><img src="https://habrastorage.org/webt/rv/-a/nv/rv-anvkpggckyvycywv2kgr8bja.jpeg"><br><br>  El generador de HF del dise√±o silba decentemente en el aire, los elementos de potencia est√°n muy calientes, por lo que la elecci√≥n del material de la carcasa es evidente: por supuesto, ser√° de aluminio.  Seleccionamos del cat√°logo de Gainta una carcasa lista para usar G0476 que tiene un tama√±o aproximadamente adecuado.  Cortaremos la ventana de la pantalla OLED en el caso con un dremel, el caso en s√≠ se conectar√° directamente al cable de "tierra" del cable de alimentaci√≥n junto con el blindaje del cable del soldador y a la "masa" de la placa de circuito impreso. <br><br>  Desafortunadamente, la idea de conectar un OLED m√°s contrastante en lugar de un LCD me vino a la mente despu√©s de que se envi√≥ el pedido de las placas a la f√°brica.  Los niveles CMOS de entrada de la pantalla OLED <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">WEH001602AGPP5N00001</a> fabricados por WinStar son diferentes de los niveles TTL est√°ndar de la pantalla LCD, de modo que se finta con los o√≠dos cuando se suministra + 5V al controlador de pantalla y su luz de fondo, y las se√±ales l√≥gicas se toman del microprocesador alimentado por + 3.3V, aqu√≠ no rueda  Por lo tanto, la alimentaci√≥n de la pantalla tuvo que conectarse desde una l√≠nea de 3,3 V. <br><br>  Para reducir el nivel de interferencia, se agreg√≥ un bucle de ruido con un valor nominal de 390 ohmios al "cable" que conecta la placa y la pantalla, y el microcontrolador se cubre con una pantalla de l√°mina de cobre.  Durante el funcionamiento normal, se coloca una parte de acoplamiento en el conector de programaci√≥n, que atrae los cables de depuraci√≥n directamente al suelo y NRST, a trav√©s del condensador. <br><br>  Al final, el dispositivo desarrollado adquiri√≥ una apariencia completa: <br><br><img src="https://habrastorage.org/webt/dp/pj/ay/dppjaykwjjd0xym_k3nxxe5n4g4.jpeg"><br><br>  Ahora el calentamiento del soldador es el siguiente: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/odTL6zllHzc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Banquete </h4><br>  Ahora calculemos aproximadamente cu√°nto nos cuesta este entretenimiento: <br><br>  Componentes de radio: alrededor de 3000 rublos (los elementos m√°s caros aqu√≠ son el chip HiperLCS por 1000 rublos y la pantalla OLED - otros 600 rublos); <br>  Producci√≥n de placas de circuito impreso, costo para 10 piezas - 2700 rublos; <br>  Caja - 500 rublos. <br><br>  <b>El</b> costo <b>total</b> de la fuente de alimentaci√≥n de alta frecuencia en s√≠ fue de aproximadamente 6.200 rublos.  Tambi√©n pagaron dinero extra por un soldador con soporte (11,000 rublos) y por dos cartuchos (6,000 rublos). <br><br>  Por supuesto, estas cantidades pueden optimizarse un poco, por ejemplo, en eBay, se presenta una amplia variedad de componentes Metcal usados, en cuyo caso podemos hablar de unas pocas decenas de d√≥lares, pero esto es probablemente una cuesti√≥n de preferencia personal. <br><br><h4>  Errata </h4><br><ol><li>  El circuito de los condensadores de carga del resonador de cuarzo est√° cableado incorrectamente y recoge toda la interferencia.  Es correcto hacer <a href="">esto</a> .  Gracias a Alexander Chulkin por su valiosa aclaraci√≥n; <br></li><li>  No se admite desconectar el cable del soldador en una estaci√≥n de trabajo, a veces esto lleva a un reinicio del microcontrolador.  Necesitamos pensar en un blindaje adicional de la parte de RF (pero esto no es exacto). <br></li></ol><br><h4>  Conclusiones </h4><br>  Bueno, ahora lo m√°s importante de lo que se trataba era: la emoci√≥n de trabajar con el dispositivo.  Se siente como trabajar con un soldador muy potente y muy caliente, mientras se sostiene una herramienta peque√±a y ligera.  ¬øVale la pena el dinero y el esfuerzo?  Es dificil de decir.  Dejar√© esta pregunta abierta. <br><br><img src="https://habrastorage.org/webt/gy/uj/vn/gyujvninztoywjpa9ruzoae0dts.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412607/">https://habr.com/ru/post/es412607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412593/index.html">Nuevos productos, plataformas y todo como servicio: seminarios web de HPE</a></li>
<li><a href="../es412595/index.html">Informe del Club de Roma 2018, Cap√≠tulo 1.1.2: ‚ÄúFinanciaci√≥n‚Äù</a></li>
<li><a href="../es412597/index.html">Jeff Bezos va a construir una colonia en la superficie de la luna</a></li>
<li><a href="../es412603/index.html">Extra√±as declaraciones de php</a></li>
<li><a href="../es412605/index.html">Batalla de MERGE. Cr√≥nica con conclusiones y moralidad.</a></li>
<li><a href="../es412609/index.html">10 consejos para la productividad en CLion, un IDE C / C ++ multiplataforma</a></li>
<li><a href="../es412615/index.html">Presencia de destino de ruta en anuncios de BGP entre PE y CE</a></li>
<li><a href="../es412617/index.html">Wi-Fi para exteriores para mayor productividad y m√°s</a></li>
<li><a href="../es412619/index.html">myDribbble Meetup 2017 en Mosc√∫</a></li>
<li><a href="../es412621/index.html">C√≥mo convertirse en un mago (parte 3). Carta de Hogwarts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>