<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзЬЁЯП╜ ЁЯИЪя╕П ЁЯЩНЁЯП╗ рд╣реБрдб рдХреЗ рддрд╣рдд RBKmoney рднреБрдЧрддрд╛рди - рднреБрдЧрддрд╛рди рдордВрдЪ рдХрд╛ рддрд░реНрдХ ЁЯМН ЁЯСйЁЯП╛тАНЁЯдЭтАНЁЯСйЁЯП╜ ЁЯФИ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░! рдореИрдВ рдЗрд╕ рдкреЛрд╕реНрдЯ рдореЗрдВ рд╢реБрд░реВ рд╣реБрдП RBK.money рднреБрдЧрддрд╛рди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рдЗрдирд╕рд╛рдЗрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрдХреНрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реВрдВред рдЖрдЬ рд╣рдо рддрд╛рд░реНрдХрд┐рдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╣реБрдб рдХреЗ рддрд╣рдд RBKmoney рднреБрдЧрддрд╛рди - рднреБрдЧрддрд╛рди рдордВрдЪ рдХрд╛ рддрд░реНрдХ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rbkmoney/blog/447440/"><p><img src="https://habrastorage.org/webt/ao/li/cv/aolicvi50stowouvsmwppnyc7qk.jpeg"></p><br><p>  рдирдорд╕реНрдХрд╛рд░, рд╣реЗрдмреНрд░!  рдореИрдВ рдЗрд╕ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреЛрд╕реНрдЯ</a> рдореЗрдВ рд╢реБрд░реВ рд╣реБрдП RBK.money рднреБрдЧрддрд╛рди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рдЗрдирд╕рд╛рдЗрдб рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрдХреНрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦрддрд╛ рд╣реВрдВред  рдЖрдЬ рд╣рдо рддрд╛рд░реНрдХрд┐рдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдпреЛрдЬрдирд╛, рд╡рд┐рд╢рд┐рд╖реНрдЯ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдЙрдирдХреЗ рд╕рдВрдмрдВрдзреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдХреИрд╕реЗ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЯреБрдХрдбрд╝реЗ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ рдЕрд▓рдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЛрд░ рдХреЛ рдЖрдкрдХреЗ рднреБрдЧрддрд╛рди рдХрд╛рд░реНрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рдЕрдВрджрд░ рднреБрдЧрддрд╛рди рдХреИрд╕реЗ рдЪрд▓рддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рднреА рдирд╣реАрдВ рдкрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдереЛрдбрд╝рд╛ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдореИрдВ рдЗрд╕ рд╡рд┐рд╖рдп рдХреЛ рдкреНрд░рдХрдЯ рдХрд░реВрдВрдЧрд╛ рдХрд┐ рд╣рдо рдЙрдЪреНрдЪ рднрд╛рд░ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдФрд░ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреИрд╕реЗ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред </p><a name="habracut"></a><br><h2 id="obzornaya-logicheskaya-shema-i-obschie-podhody">  рдЕрд╡рд▓реЛрдХрди рддрд░реНрдХ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рджреГрд╖реНрдЯрд┐рдХреЛрдг </h2><br><p>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдЙрд╕ рднрд╛рдЧ рдХреЗ рдореВрд▓ рддрддреНрд╡реЛрдВ рдХреА рдпреЛрдЬрдирд╛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддреА рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/r8/ee/bz/r8eebzud9-g1muc_xguixpokwfc.png"></p><br><p>  рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рдЕрдВрджрд░, рд╣рдо рдЬрд┐рдореНрдореЗрджрд╛рд░реА рдХреЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ 3 рдбреЛрдореЗрди рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рддреЗ рд╣реИрдВ: </p><br><ul><li>  рдмрд╛рд╣рд░реА рдХреНрд╖реЗрддреНрд░, рдЬреЛ рдХрд┐ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рд╣рдорд╛рд░реЗ рднреБрдЧрддрд╛рди рдлреЙрд░реНрдо рдХреЗ рдЬреЗрдПрд╕ рдЕрдиреБрдкреНрд░рдпреЛрдЧ (рдЖрдк рд╡рд╣рд╛рдВ рдЕрдкрдирд╛ рдХрд╛рд░реНрдб рд╡рд┐рд╡рд░рдг рджрд░реНрдЬ рдХрд░реЗрдВ), рд╣рдорд╛рд░реЗ рд╡реНрдпрд╛рдкрд╛рд░реА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди, рд╕рд╛рде рд╣реА рд╕рд╛рде рд╣рдорд╛рд░реЗ рд╕рд╣рдпреЛрдЧреА рдмреИрдВрдХреЛрдВ рдХреЗ рдЧреЗрдЯрд╡реЗ рдФрд░ рдЕрдиреНрдп рднреБрдЧрддрд╛рди рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рдкреНрд░рджрд╛рддрд╛рдУрдВ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг; </li><li>  рдПрдХ рдЖрдВрддрд░рд┐рдХ рдЕрддреНрдпрдзрд┐рдХ рд╕реБрд▓рдн рдХреНрд╖реЗрддреНрд░, рдорд╛рдЗрдХреНрд░реЛрд╕реЗрд╡рд╛ рд╡рд╣рд╛рдВ рд░рд╣рддреЗ рд╣реИрдВ, рдЬреЛ рд╕реАрдзреЗ рднреБрдЧрддрд╛рди рдЧреЗрдЯрд╡реЗ рдХрд╛ рдХрд╛рдо рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдкреИрд╕реЗ рдХреА рдбрд┐рдмреЗрдЯрд┐рдВрдЧ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рд╣рдорд╛рд░реЗ рд╕рд┐рд╕реНрдЯрдо рдФрд░ рдЕрдиреНрдп рдСрдирд▓рд╛рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдореЗрдВ рдЦрд╛рддреЗ рдореЗрдВ рд▓реЗрддреЗ рд╣реИрдВ, рдЬреЛ рдХрд┐ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ "рд╣рдореЗрд╢рд╛ рд╣рдорд╛рд░реЗ рдбреАрд╕реА рдХреЗ рдЕрдВрджрд░ рдХрд┐рд╕реА рднреА рджрдмрд╛рд╡ рдХреЗ рдмрд╛рд╡рдЬреВрдж" рдЙрдкрд▓рдмреНрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП; <br><ul><li>  рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдПрдХ рдЕрд▓рдЧ рдХреНрд╖реЗрддреНрд░ рд╣реИ рдЬреЛ рд╕реАрдзреЗ рдХрд╛рд░реНрдбрдзрд╛рд░рдХреЛрдВ рдХреЗ рдкреВрд░реНрдг рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ; рдЗрди рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд░реЗрд▓ рдордВрддреНрд░рд╛рд▓рдп рджреНрд╡рд╛рд░рд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рд╣реИрдВ рдФрд░ рдкреАрд╕реАрдЖрдИ-рдбреАрдПрд╕рдПрд╕ рдорд╛рдирдХреЛрдВ рдХреЗ рддрд╣рдд рдЕрдирд┐рд╡рд╛рд░реНрдп рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдЕрдзреАрди рд╣реИрдВред  рд╣рдо рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдмрддрд╛рдПрдВрдЧреЗ рдХрд┐ рдиреАрдЪреЗ рдРрд╕рд╛ рдЕрд▓рдЧрд╛рд╡ рдХреНрдпреЛрдВ рд╣реИ; </li></ul></li><li>  рдЖрдВрддрд░рд┐рдХ рдХреНрд╖реЗрддреНрд░, рдЬрд╣рд╛рдВ рд╢рд╛рд╕реНрддреНрд░реАрдп рдЕрд░реНрдереЛрдВ рдореЗрдВ рд╕реЗрд╡рд╛рдУрдВ рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдпрд╛ рдЙрдирдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рдордп рдХреЗ рд▓рд┐рдП рдХрдо рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рд╣реИрдВ - рдпрд╣ рдПрдХ рдмреИрдХ рдСрдлрд┐рд╕ рд╣реИред  рдпрджреНрдпрдкрд┐, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдпрд╣рд╛рдВ рд╣рдо "рд╣рдореЗрд╢рд╛ рдЙрдкрд▓рдмреНрдз" рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдХреЛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рд╕рд┐рд░реНрдл рдЗрд╕ рдкрд░ рдХрдо рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ; </li></ul><br><p> рдкреНрд░рддреНрдпреЗрдХ рдЬрд╝реЛрди рдХреЗ рдЕрдВрджрд░ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрд╕ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рддрд░реНрдХ рдХреЗ рдЕрдкрдиреЗ рднрд╛рдЧреЛрдВ рдХрд╛ рдкреНрд░рджрд░реНрд╢рди рдХрд░рддреЗ рд╣реИрдВред  рд╡реЗ рдЗрдирдкреБрдЯ рдкрд░ рдЖрд░рдкреАрд╕реА-рдХреЙрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдкрд░, рд╡реЗ рдПрдореНрдмреЗрдбреЗрдб рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдВрд╕рд╛рдзрд┐рдд рдбреЗрдЯрд╛ рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рдиреНрд╣реЗрдВ рдЪреЗрди рдХреЗ рд╕рд╛рде рдЕрдиреНрдп рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдХреЗ рдХреЙрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рд╕реНрдХреЗрд▓реЗрдмрд┐рд▓рд┐рдЯреА рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рдпрдерд╛рд╕рдВрднрд╡ рдХреБрдЫ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рдЖрд░реЗрдЦ рдореЗрдВ рд╕реНрдЯреЗрдЯрд▓реЗрд╕ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рд▓рдЧрд╛рддрд╛рд░ рд╕реНрдЯреЛрд░ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди рдирд╣реАрдВ рд╣реИ, рдХреНрд░рдорд╢рдГ, рд╕реНрдЯреЗрдЯрдлреБрд▓, рдЙрдирд╕реЗ рдЬреБрдбрд╝реЗ рд╣реБрдП рд╣реИрдВред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╣рдо рд▓рдЧрд╛рддрд╛рд░ рд╕реАрдорд┐рдд рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рдХрдИ рд╕реАрдорд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ - рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдореБрдЦреНрдп рднрд╛рдЧ рдХреЗ рд▓рд┐рдП, рдпреЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд░реАрдХ рдХреЗрд╡реА рдХреНрд▓рд╕реНрдЯрд░реНрд╕ рд╣реИрдВ, рдкреЛрд╕реНрдЯрдЧреНрд░реЗрдЬрд╝рдХреНрдпреВрдПрд▓, рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХрддрд╛рд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рд╣рдо рдХрд╛рдлреНрдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдХрдИ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЖрдорддреМрд░ рдкрд░ 3 рд╕реЗ 5 рддрдХред </p><br><p>  рд╕реНрдЯреЗрдЯрд▓реЗрд╕ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ, рд╣рдо рдмрд╕ рд╡рд┐рднрд┐рдиреНрди рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдкрд░ рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдЖрд╡рд╢реНрдпрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рдмрдврд╝рд╛рддреЗ рд╣реИрдВ, рд╡реЗ рдХрдВрд╕рд▓ рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рд╣реИрдВ, рд╡реЗ рдХрдВрд╕реЛрд▓ рдбреАрдПрдирдПрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИрдВ рдФрд░ рдЕрдиреНрдп рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдХреЙрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЖрдЧреЗ рднреЗрдЬрддреЗ рд╣реИрдВред </p><br><p>  рд╕реНрдЯреЗрдЯрдлреБрд▓ рд╕рд░реНрд╡рд┐рд╕реЗрдЬ, рдпрд╛ рдмрд▓реНрдХрд┐ рдпрд╣ рд╣рдорд╛рд░рд╛ рдореБрдЦреНрдп рд╣реИ рдФрд░ рдорд╢реАрдирдЧрди рдХреЗ рд░реВрдк рдореЗрдВ рдЖрд░реЗрдЦ рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рд╕реБрд▓рдн рдЗрдВрдЯрд░рдлрд╝реЗрд╕ (рд╡рд┐рддрд░рд┐рдд рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ Erlang рд╡рд┐рддрд░рдг рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ Consul KV рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрддрд╛рд░рдмрджреНрдз рдФрд░ рд╡рд┐рддрд░рд┐рдд рд▓реЙрдХрд┐рдВрдЧ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд, рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рдПрдХ рдЕрд▓рдЧ рдкреЛрд╕реНрдЯ рдореЗрдВ рд╣реЛрдЧрд╛ред </p><br><p>  рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░, Riak рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рд╕реБрд▓рдн рдирд┐рд░рдВрддрд░ рдорд╛рд╕реНрдЯрд░рд▓реЗрд╕ рд╕реНрдЯреЛрд░реЗрдЬ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд╣рдо рдЗрд╕реЗ рдХрд┐рд╕реА рднреА рддрд░рд╣ рд╕реЗ рддреИрдпрд╛рд░ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдбрд┐рд╕реНрдХ рд▓рдЧрднрдЧ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╣реИред  рд╡рд░реНрддрдорд╛рди рд▓реЛрдб рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд╛рде, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдореЗрдЬрдмрд╛рдиреЛрдВ рдкрд░ рддреИрдирд╛рдд рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ 5 рдиреЛрдб рд╣реИрдВред  рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдиреЛрдЯ - рд╣рдо рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдЕрдиреБрдХреНрд░рдорд┐рдд рдФрд░ рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рдирдореВрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд╣рдо рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдХреЗрд╡реА-рдпреЛрдЬрдирд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдмрд╣реБрдд рдорд╣рдВрдЧрд╛ рд╣реИ, рд╣рдо PostgeSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдкреНрд░рддрд┐рдХреГрддрд┐, рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХрд▓-рдореЛрдб рд╕рдорд╛рдзрд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ рдорд╢реАрдирдЧрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдСрдирд▓рд╛рдЗрди рднрд╛рдЧ рд╕реЗ рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЕрдкрд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдЖрд░реЗрдЦ рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕ рдХрд╛ рд░рдВрдЧ рдЕрд▓рдЧ рд╣реЛрдирд╛ рдЙрди рднрд╛рд╖рд╛рдУрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдирдореЗрдВ рд╡реЗ рд▓рд┐рдЦреЗ рдЧрдП рд╣реИрдВ - рд╣рд▓реНрдХрд╛ рд╣рд░рд╛ - рдпреЗ рдЬрд╛рд╡рд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИрдВ, рд╣рд▓реНрдХрд╛ рдиреАрд▓рд╛ - рдПрд░реНрд▓реИрдВрдЧред </p><br><p>  рд╕рднреА рд╕реЗрд╡рд╛рдПрдВ рдбреЙрдХрдЯрд░ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд░рддреА рд╣реИрдВ, рдЬреЛ CI рдмрд┐рд▓реНрдб рдХрд▓рд╛рдХреГрддрд┐рдпрд╛рдВ рд╣реИрдВ рдФрд░ рд╕реНрдерд╛рдиреАрдп рдбреЙрдХрдЯрд░ рд░рдЬрд┐рд╕реНрдЯреНрд░реА рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИрдВред  рд╕рд╛рд▓реНрдЯрд╕реНрдЯреИрдХ рдЙрддреНрдкрд╛рджрди рдкрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рд╡рд┐рдиреНрдпрд╛рд╕ рдирд┐рдЬреА рдЧрд┐рддреБрдм рднрдВрдбрд╛рд░ рдореЗрдВ рд╣реИред </p><br><p>  рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдЗрд╕ рднрдВрдбрд╛рд░ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдХрд░рддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдВ рд╡реЗ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВ - рд╡рд╛рдВрдЫрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрдВрдЯреЗрдирд░ рдХреЗ рд▓рд┐рдП рдЖрд╡рдВрдЯрд┐рдд рдореЗрдореЛрд░реА рдХрд╛ рдЖрдХрд╛рд░, рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рдФрд░ рдЕрдиреНрдп рдЪреАрдЬреЛрдВ рдХреЛ рд╣рд╕реНрддрд╛рдВрддрд░рд┐рддред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЕрдзрд┐рдХреГрдд рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдмрджрд▓рд╛рд╡ рдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рдореИрдиреБрдЕрд▓ рдкреБрд╖реНрдЯрд┐ рдХреЗ рдмрд╛рдж (рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдпрд╣ DevOps, рд╕рдорд░реНрдерди рдФрд░ рд╕реВрдЪрдирд╛ рд╕реБрд░рдХреНрд╖рд╛ рд╣реИ), рд╕реАрдбреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрд╛рдж рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рдореЗрдЬрдмрд╛рди рдХреЗ рд▓рд┐рдП рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХрдВрдЯреЗрдирд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЛ рд░реЛрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/31/ec/iy/31eciyvgovypqogaegextoyyuf0.jpeg"></p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдПрдХ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд▓реЙрдЧ рд▓рд┐рдЦрддреА рд╣реИ рдЬреЛ рдПрд▓рд┐рдЯрд┐рдХреНрд╕ рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдлрд╛рдЗрд▓рдмреАрдЯ рджреНрд╡рд╛рд░рд╛ рд▓реЙрдЧ рдлрд╛рдЗрд▓ рдХреЛ рдЙрдард╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдПрд▓реАрд╕реНрдЯреЗрдХрд░реНрдЪ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд▓рд┐рдЦрддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рдкрд╛рд╕ рдЙрддреНрдкрд╛рдж рдкрд░реНрдпрд╛рд╡рд░рдг рддрдХ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ, рдЙрдирдХреЗ рдкрд╛рд╕ рд╣рдореЗрд╢рд╛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдФрд░ рдпрд╣ рджреЗрдЦрдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рдЙрдирдХреА рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИред </p><br><h2 id="vzaimodeystvie-s-vneshnim-mirom">  рдмрд╛рд╣рд░реА рджреБрдирд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд </h2><br><p><img src="https://habrastorage.org/webt/nd/wp/lw/ndwplwol-avyp6uixovsla-otfq.jpeg"></p><br><p>  рд╣рдорд╛рд░реЗ рд╕рд╛рде рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХреЛрдИ рднреА рдкрд░рд┐рд╡рд░реНрддрди рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ APIs рдХреА рд╕рдВрдмрдВрдзрд┐рдд рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддрд╛ рд╣реИред  рд╣рдо рдХреНрд▓рд╛рд╕рд┐рдХ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рд╕рд░реНрд╡рд░-рд╕рд╛рдЗрдб рдХрдВрдЯреЗрдВрдЯ рдЬреЗрдирд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдЬреЛ рдЖрдк рдпреВрдЖрдИ рдХреЗ рд░реВрдк рдореЗрдВ рджреЗрдЦрддреЗ рд╣реИрдВ рд╡рд╣ рд╣рдорд╛рд░реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдПрдкреАрдЖрдИ рдкрд░ рдЬреЗрдПрд╕ рд╡рд┐рдЪрд╛рд░ рд╣реИред  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдХрдВрд╕реЛрд▓ рд╕реЗ рдХрд░реНрд▓ рдХреЙрд▓ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рд╣рдо рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдПрдХреАрдХрд░рдг рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП (рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рдЬреЗрдПрд╕ рдореЗрдВ рдПрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдЦрд╛ рд╣реИ), рдЬреЛ рд╕реАрдЖрдИ рдореЗрдВ, рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЗ рджреМрд░рд╛рди, рд╕рднреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рддрд░реАрдХреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдРрд╕рд╛ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣рдорд╛рд░реЗ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд╕рд╛рде рдмрд╛рд╣рд░реА рдПрдХреАрдХрд░рдг рдХреА рд╕рднреА рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдкрдХреЛ рднреБрдЧрддрд╛рди рдбреЗрдЯрд╛ рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рдПрдХ рд╕реБрдВрджрд░ рд░реВрдк рдХреЗ рд░реВрдк рдореЗрдВ рджреЛрдиреЛрдВ рдЕрдВрдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдПрдХрд▓ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИ, рдФрд░ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдПрдХреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рд╣реЛрд╕реНрдЯ-рдЯреВ-рд╣реЛрд╕реНрдЯ рдЗрдВрдЯрд░рд╕реЗрдХреНрд╢рди рдЗрдВрдЯрд░рд╕реЗрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗред </p><br><p>  рдПрдХреАрдХрд░рдг рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреА рдкреВрд░реНрдг рдХрд╡рд░реЗрдЬ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рд╕реНрдЯреЗрдЬрд┐рдВрдЧ рдЕрдкрдбреЗрдЯ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдПрдХ рд╡рд┐рддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдореЗрдВ рдпрд╣ рдХрд░рдирд╛ рдХрд╛рдлреА рдЖрд╕рд╛рди рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкреНрд░рддреНрдпреЗрдХ рд╕рдореВрд╣ рд╕реЗ рдПрдХ рдкрд╛рд╕ рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рд░реЛрд▓ рдЖрдЙрдЯ рдХрд░рдирд╛, рдЗрд╕рдХреЗ рдмрд╛рдж рд▓реЙрдЧ рдФрд░ рдЧреНрд░рд╛рдлрд╝ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рд╡рд┐рд░рд╛рдоред </p><br><p>  рдпрд╣ рд╣рдореЗрдВ рдШрдбрд╝реА рдХреЗ рдЖрд╕рдкрд╛рд╕ рд▓рдЧрднрдЧ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╢реБрдХреНрд░рд╡рд╛рд░ рдХреА рд╢рд╛рдо рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ, рдмрд┐рдирд╛ рдХрд┐рд╕реА рднрдп рдХреЗ рдХреБрдЫ рдирд┐рд╖реНрдХреНрд░рд┐рдп рд░реЛрд▓ рдХрд░реЗрдВ, рдпрд╛ рдЬрд▓реНрджреА рд╕реЗ рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░реЗрдВ, рдПрдХ рдмрджрд▓рд╛рд╡ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╡рд╛рдкрд╕реА рдХрд░реЗрдВ, рдЬрдм рддрдХ рдХреЛрдИ рднреА рдзреНрдпрд╛рди рдирд╣реАрдВ рджреЗрддрд╛ред </p><br><h2 id="registraciya-v-platforme-i-publichnye-api">  рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрдВрдЬреАрдХрд░рдг рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдПрдкреАрдЖрдИ </h2><br><p><img src="https://habrastorage.org/webt/tw/m4/0l/twm40lykiloaelwx8elbj6shjge.jpeg"></p><br><p>  рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкрджреНрдзрддрд┐ рдкрд░ рдХрд┐рд╕реА рднреА рдХреЙрд▓ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдЕрдзрд┐рдХреГрдд рдФрд░ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдРрд╕реА рд╕реЗрд╡рд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рде рд╕рднреА рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХрд╛ рдзреНрдпрд╛рди рд░рдЦреЗ, рдкрдВрдЬреАрдХрд░рдг рдХрд░рдиреЗ, рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░рдиреЗ рдФрд░ рд░реАрд╕реЗрдЯ рдХрд░рдиреЗ, рд╕реБрд░рдХреНрд╖рд╛ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рдЕрдиреНрдп рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдлреЗрд╕ рдкреНрд░рджрд╛рди рдХрд░реЗред </p><br><p>  рдпрд╣рд╛рдБ, рд╣рдордиреЗ рдПрдХ рд╕рд╛рдЗрдХрд┐рд▓ рдХрд╛ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░реЗрдбрд╣реИрдЯ</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХреАрдХреНрд▓реЛрдХ</a> рд╕реЗ рдЦреБрд▓реЗ рд╕реНрд░реЛрдд рдХреЗ рд╕рдорд╛рдзрд╛рди рдХреЛ рдПрдХреАрдХреГрдд рдХрд┐рдпрд╛ред  рд╣рдорд╛рд░реЗ рд╕рд╛рде рдХреЛрдИ рднреА рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХреАрд▓рдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддрд╛ рд╣реИред </p><br><p>  рд╕реЗрд╡рд╛ рдореЗрдВ рд╕рдлрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдмрд╛рдж, рдЧреНрд░рд╛рд╣рдХ рдХреЛ JWT рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред  рд╣рдо рдЗрд╕реЗ рдмрд╛рдж рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ - рдХреАрдХреНрд▓реЛрдХ рдкрдХреНрд╖ рдкрд░, рдЖрдк рдордирдорд╛рдиреЗ рдврдВрдЧ рд╕реЗ рдлрд╝реАрд▓реНрдб рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЙрди рднреВрдорд┐рдХрд╛рдУрдВ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреА рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ JWT рдореЗрдВ рдПрдХ рд╕рд░рд▓ рдЬрд╕рди рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдФрд░ рд╕реЗрд╡рд╛ рдХреА рдирд┐рдЬреА рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  <em>JWT рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╕рдВрд░рдЪрдирд╛ рд╕рд░реНрд╡рд░ рдХреА рдирд┐рдЬреА рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рд╣реИ; рддрджрдиреБрд╕рд╛рд░, рднреВрдорд┐рдХрд╛рдУрдВ рдФрд░ рдЗрд╕рдХреА рдЕрдиреНрдп рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реВрдЪреА рдХреЛ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдбрд┐рдХреЛрдб рд╣реЛ рдЧрдИ рд╣реИред</em>  <em>рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░ CAPI рд╕реЗрд╡рд╛рдПрдБ Keycloak рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рдХреЛ рдкрдврд╝рддреА рд╣реИрдВ рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ API рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рдХреЙрд▓ рдХреЛ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИрдВред</em> </p><br><p>  <em>рдЬреИрд╕рд╛ рдХрд┐ рд╣рдо рдкреНрд░рдореБрдЦ рдкреНрд░рддреНрдпрд╛рд╡рд░реНрддрди рдпреЛрдЬрдирд╛ рдХреЗ рд╕рд╛рде рдЖрдП рдереЗ, рдХрд╣рд╛рдиреА рдЕрд▓рдЧ рд╣реИ рдФрд░ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкрдж рдХреЗ рдпреЛрдЧреНрдп рд╣реИред</em> </p><br><p>  рддреЛ, рд╣рдореЗрдВ JWT рдкреНрд░рд╛рдкреНрдд рд╣реБрдЖ рд╣реИ, рд╣рдо рдЗрд╕реЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣рд╛рдБ рдорд╛рдЗрдХреНрд░реЛрд╕реЙрдлрд╝реНрдЯ рдХреЙрдорди рдПрдкреАрдЖрдИ рдХрд╛ рд╕рдореВрд╣ рд╕реАрдПрдкреАрдЖрдИ рдФрд░ рд╕реАрдПрдкреАрдЖрдИ-рдбреАрдПрд╕рдПрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдХреЗрддрд┐рдд рдбрд╛рдпрдЧреНрд░рд╛рдо рдкрд░ рдЖрддрд╛ рд╣реИ, рдЬреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  рдкреНрд░рд╛рдкреНрдд рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдкреНрд░рд╛рдзрд┐рдХрд░рдгред  рдкреНрд░рддреНрдпреЗрдХ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдПрдкреАрдЖрдИ рдХреЙрд▓ рдПрдХ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рд╕реЗ рдкрд╣рд▓реЗ рд╣реЛрддрд╛ рд╣реИ: рд╡рд╛рд╣рдХ {JWT} HTTP рд╣реЗрдбрд░ред  рдХреЙрдорди рдПрдкреАрдЖрдИ рд╕рдореВрд╣ рдХреА рд╕реЗрд╡рд╛рдПрдВ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреА рдореМрдЬреВрджрд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдбреЗрдЯрд╛ рдХреЛ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИрдВ; </li><li>  рдкреНрд░рд╛рдкреНрдд рдЖрдВрдХрдбрд╝реЛрдВ рдХрд╛ рд╕рддреНрдпрд╛рдкрдиред  рдЪреВрдВрдХрд┐ рд╕реНрдХреАрдорд╛ рдХреЛ рдПрдХ рдУрдкрдирдПрдкреАрдЖрдИ рд╡рд┐рдирд┐рд░реНрджреЗрд╢ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╕реНрд╡реИрдЧрд░ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдЬрд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдбреЗрдЯрд╛ рд╕рддреНрдпрд╛рдкрди рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рдирд┐рдпрдВрддреНрд░рдг рдЖрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдмрд╣реБрдд рдХрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИред  рдЗрд╕рд╕реЗ рд╕рдордЧреНрд░ рд░реВрдк рд╕реЗ рд╕реЗрд╡рд╛ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдкрд░ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдкреНрд░рднрд╛рд╡ рдкрдбрд╝рддрд╛ рд╣реИ; </li><li>  рдЖрдВрддрд░рд┐рдХ REST JSON рд╕реЗ рдЖрдВрддрд░рд┐рдХ рдмрд╛рдЗрдирд░реА рдерд┐рдлреНрдЯ рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рдкреНрд░рд╛рд░реВрдкреЛрдВ рдХрд╛ рдЕрдиреБрд╡рд╛рдж; </li><li>  рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдЯреНрд░реЗрд╕_рдЖрдИрдбреА рдЬреИрд╕реЗ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЯреНрд░рд╛рдВрд╕рдкреЛрд░реНрдЯ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХреЛ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдФрд░ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рдЕрдВрджрд░ рдШрдЯрдирд╛ рдХреЛ рдПрдХ рдРрд╕реА рд╕реЗрд╡рд╛ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд░рдирд╛ рдЬреЛ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рднреБрдЧрддрд╛рди рдХреНрдпрд╛ рд╣реИред </li></ul><br><p>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдРрд╕реА рдХрдИ рд╕реЗрд╡рд╛рдПрдВ рд╣реИрдВ, рд╡реЗ рдХрд╛рдлреА рд╕рд░рд▓ рд╣реИрдВ рдФрд░ рдУрдХ рд╣реИрдВ, рдХрд┐рд╕реА рднреА рд░рд╛рдЬреНрдп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд░реИрдЦрд┐рдХ рдкреНрд░рджрд░реНрд╢рди рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рд╣рдо рдЙрдиреНрд╣реЗрдВ рдХреЗрд╡рд▓ рдЖрд╡рд╢реНрдпрдХ рдорд╛рддреНрд░рд╛ рдореЗрдВ рдореБрдлреНрдд рдХреНрд╖рдорддрд╛рдУрдВ рдкрд░ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><h3 id="pci-dss-i-otkrytye-kartochnye-dannye">  PCI-DSS рдФрд░ рдУрдкрди рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ </h3><br><p><img src="https://habrastorage.org/webt/ak/fh/x-/akfhx-regosuv_tbadtr-x2p6uo.jpeg"></p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЖрд░реЗрдЦ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдРрд╕реЗ рд╕реЗрд╡рд╛ рд╕рдореВрд╣ рд╣реИрдВ - рдореБрдЦреНрдп рдПрдХ, рдХреЙрдорди рдПрдкреАрдЖрдИ, рдЙрди рд╕рднреА рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдореЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╝рд┐рдореНрдореЗрджрд╛рд░ рд╣реИ, рдЬрд┐рдирдореЗрдВ рдУрдкрди рдХрд╛рд░реНрдбрдзрд╛рд░рдХ рдбреЗрдЯрд╛ рдирд╣реАрдВ рд╣реИ, рдФрд░ рджреВрд╕рд░рд╛, рдкреАрд╕реАрдЖрдИ-рдбреАрдПрд╕рдПрд╕ рдХреЙрдорди рдПрдкреАрдЖрдИ, рдЬреЛ рдЗрди рдХрд╛рд░реНрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдЕрдВрджрд░, рд╡реЗ рдмрд┐рд▓реНрдХреБрд▓ рд╕рдорд╛рди рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рд╢рд╛рд░реАрд░рд┐рдХ рд░реВрдк рд╕реЗ рдЕрд▓рдЧ рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд▓реЛрд╣реЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдЯреБрдХрдбрд╝реЛрдВ рдкрд░ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ред </p><br><p>  рдпрд╣ рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдФрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рд╕реНрдерд╛рдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрд╛рдХрд┐ рдЗрд╕ рдбреЗрдЯрд╛ рдФрд░ PCI-DSS рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреНрд╖реЗрддреНрд░ рдХреЗ рд░рд┐рд╕рд╛рд╡ рдХреЗ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдФрд░ рдпрд╣, рдореЗрд░рд╛ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░реЛ, рдПрдХ рд╕рдордп рд▓реЗрдиреЗ рд╡рд╛рд▓реА рдФрд░ рдорд╣рдВрдЧреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИ - рдПрдХ рднреБрдЧрддрд╛рди рдХрдВрдкрдиреА рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдореЗрдВ рд╣рд░ рд╕рд╛рд▓ рдПрдордкреАрдПрд╕ рдорд╛рдирдХреЛрдВ рдХреЗ рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд┐рдП рдЧрдП рдкреНрд░рдорд╛рдгреАрдХрд░рдг рд╕реЗ рдЧреБрдЬрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрдо рд╕рд░реНрд╡рд░ рдФрд░ рд╕реЗрд╡рд╛рдПрдВ, рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкреВрд░рд╛ рдХрд░рдирд╛ рдЬрд┐рддрдирд╛ рдЖрд╕рд╛рди рдФрд░ рдЖрд╕рд╛рди рд╣реИред  рдЦреИрд░, рд╕реБрд░рдХреНрд╖рд╛ рдкрд░ рдпрд╣ рд╕рдмрд╕реЗ рд╕рдХрд╛рд░рд╛рддреНрдордХ рддрд░реАрдХреЗ рд╕реЗ рдкрд░рд┐рд▓рдХреНрд╖рд┐рдд рд╣реЛрддрд╛ рд╣реИред </p><br><h2 id="obrabotka-platezhnyh-dannyh-i-tokenizaciya">  рдмрд┐рд▓рд┐рдВрдЧ рдФрд░ рдЯреЛрдХрдиреЗрд╢рди </h2><br><p><img src="https://habrastorage.org/webt/2y/ya/cm/2yyacmg2lhhzmvnbjv0azaei8gi.jpeg"></p><br><p>  рдЗрд╕рд▓рд┐рдП, рд╣рдо рднреБрдЧрддрд╛рди рд╢реБрд░реВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдФрд░ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЗ рдХрд╛рд░реНрдб рд╕реЗ рдкреИрд╕реЗ рд▓рд┐рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><p>  рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП рдХрд┐ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рд╣рдорд╛рд░реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдПрдкреАрдЖрдИ рдХреЗ рддрд░реАрдХреЛрдВ рдХреЛ рдХреЙрд▓ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдпрд╛ рдерд╛, рдЬреЛ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдСрдирд▓рд╛рдЗрди рд╕реНрдЯреЛрд░ рдкрд░ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж рдПрдХ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╢реБрд░реВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рд╕рд╛рдорд╛рди рдХреА рдПрдХ рдЯреЛрдХрд░реА рдПрдХрддреНрд░ рдХреА, "рдЦрд░реАрджреЗрдВ" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд┐рдпрд╛, рд╣рдорд╛рд░реЗ рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдХрд╛рд░реНрдб рд╡рд┐рд╡рд░рдг рджрд░реНрдЬ рдХрд┐рдПред "рдкреЗ" рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред </p><br><p>  <em>рд╣рдо рдкреИрд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рднрд┐рдиреНрди рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИ рджреЗрдп рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ред</em>  <em>рд╣рдорд╛рд░реЗ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдореЗрдВ, рдЖрдк рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрд╛рд▓рд╛рди рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдПрдХ рдЪрд╛рд▓рд╛рди рдЬреЛ рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдВрдЯреЗрдирд░ рд╣реЛрдЧрд╛ред</em> </p><br><p>  <em>рдПрдХ рдЗрдирд╡реЙрдЗрд╕ рдХреЗ рднреАрддрд░, рдЖрдк рдЗрд╕реЗ рдПрдХ-рдПрдХ рдХрд░рдХреЗ рднреБрдЧрддрд╛рди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЕрд░реНрдерд╛рддреН, рдЬрдм рддрдХ рдЕрдЧрд▓рд╛ рднреБрдЧрддрд╛рди рд╕рдлрд▓ рди рд╣реЛ, рднреБрдЧрддрд╛рди рдХрд░реЗрдВред</em>  <em>рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░реНрдб, рд╡реЙрд▓реЗрдЯ рдФрд░ рдЕрдиреНрдп рднреБрдЧрддрд╛рди рд╡рд┐рдзрд┐рдпреЛрдВ рд╕реЗ рдЪрд╛рд▓рд╛рди рдХрд╛ рднреБрдЧрддрд╛рди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</em>  <em>рдпрджрд┐ рдХрд╛рд░реНрдб рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рдХреЛрдИ рдкреИрд╕рд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдПрдХ рдФрд░ рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</em> </p><br><p>  <em>рдпрд╣ рд░реВрдкрд╛рдВрддрд░рдг рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрднрд╡ рдкрд░ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓рддрд╛ рд╣реИред</em> </p><br><h3 id="konechnyy-avtomat-invoysa">  рдЪрд╛рд▓рд╛рди рд╕реНрдЯреЗрдЯ рдорд╢реАрди </h3><br><p><img src="https://habrastorage.org/webt/gh/u0/ld/ghu0ld9cimq5z13mc1blstsuycy.jpeg"></p><br><p>  рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рдЕрдВрджрд░, рдпрд╣ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд╛рд░реНрдЧ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдореЗрдВ рдмрджрд▓ рдЬрд╛рддреА рд╣реИ: </p><br><ul><li>  рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рд╕рд╛рдордЧреНрд░реА рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдорд╛рд░реЗ рдХреНрд▓рд╛рдЗрдВрдЯ-рдорд░реНрдЪреЗрдВрдЯ рдиреЗ рд╣рдорд╛рд░реЗ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд╕рд╛рде рдПрдХреАрдХреГрдд рдХрд┐рдпрд╛, рд╣рдорд╛рд░реЗ рд╕рд╛рде рдкрдВрдЬреАрдХреГрдд рдХрд┐рдпрд╛ рдФрд░ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ JWT рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛; </li><li>  рдЕрдкрдиреЗ рдмреИрдХрдПрдВрдб рд╕реЗ, рд╡реНрдпрд╛рдкрд╛рд░реА рдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">createInvoice ()</a> рд╡рд┐рдзрд┐ рдХреЛ рдмреБрд▓рд╛рдпрд╛, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрд░реНрдерд╛рдд</a> , рдЙрд╕рдиреЗ рд╣рдорд╛рд░реЗ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдореЗрдВ рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрд╛рд▓рд╛рди рдмрдирд╛рдпрд╛ред  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╡реНрдпрд╛рдкрд╛рд░реА рдмреИрдХрдПрдВрдб рдиреЗ рд╣рдорд╛рд░реЗ рд╕рдорд╛рдкрди рдмрд┐рдВрджреБ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░реА рдХрд╛ HTTP POST рдЕрдиреБрд░реЛрдз рднреЗрдЬрд╛: </li></ul><br><pre><code class="bash hljs">curl -X POST \ https://api.rbk.money/v2/processing/invoices \ -H <span class="hljs-string"><span class="hljs-string">'Authorization: Bearer {JWT}'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'Content-Type: application/json; charset=utf-8'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'X-Request-ID: 1554417367'</span></span> \ -H <span class="hljs-string"><span class="hljs-string">'cache-control: no-cache'</span></span> \ -d <span class="hljs-string"><span class="hljs-string">'{ "shopID": "TEST", "dueDate": "2019-03-28T17:41:32.569Z", "amount": 6000, "currency": "RUB", "product": "Order num 12345", "description": "Delicious meals", "cart": [ { "price": 5000, "product": "Sandwich", "quantity": 1, "taxMode": { "rate": "10%", "type": "InvoiceLineTaxVAT" } }, { "price": 1000, "product": "Cola", "quantity": 1, "taxMode": { "rate": "18%", "type": "InvoiceLineTaxVAT" } } ], "metadata": { "order_id": "Internal order num 13123298761" } }'</span></span></code> </pre> <br><p>  рдпрд╣ рдЕрдиреБрд░реЛрдз рд╕рд╛рдорд╛рдиреНрдп API рд╕рдореВрд╣ рдХреЗ erlang рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╕рдВрддреБрд▓рд┐рдд рдерд╛, рдЬрд┐рд╕рдиреЗ рдЗрд╕рдХреА рд╡реИрдзрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХреА, Bender рд╕реЗрд╡рд╛ рдореЗрдВ рдЧрдпрд╛, рдЬрд╣рд╛рдБ рдЗрд╕рдиреЗ idempotency рдХреБрдВрдЬреА рдкреНрд░рд╛рдкреНрдд рдХреА, рдЗрд╕реЗ tift рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджрд┐рдпрд╛ рдФрд░ Hellgate рд╕реЗрд╡рд╛ рд╕рдореВрд╣ рдХреЛ рдЕрдиреБрд░реЛрдз рднреЗрдЬ рджрд┐рдпрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣реЗрд▓рдЧреЗрдЯ рдЙрджрд╛рд╣рд░рдг рдиреЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЬрд╛рдВрдЪ рдХреА, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдЗрд╕ JWT рдХреЗ рдорд╛рд▓рд┐рдХ рдХреЛ рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ рдЕрд╡рд░реБрджреНрдз рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЪрд╛рд▓рд╛рди рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЖрдо рддреМрд░ рдкрд░ рдордВрдЪ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдПрдХ рдЪрд╛рд▓рд╛рди рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  <em>рд╣рдо рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд╣реЗрд▓рдЧреЗрдЯ рд╣рдорд╛рд░реЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдореВрд▓ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╡рд╣ рд╣реИ рдЬреЛ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдПрдХ рднреБрдЧрддрд╛рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рдЬрд╛рдирддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдХрд┐рдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рднреБрдЧрддрд╛рди рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдзрди рдкреНрд░рднрд╛рд░ рдореЗрдВ рдмрджрд▓ рдЬрд╛рдП, рдЗрд╕ рднреБрдЧрддрд╛рди рдХреЗ рдорд╛рд░реНрдЧ рдХреА рдЧрдгрдирд╛ рдХреИрд╕реЗ рдХрд░реЗрдВ, рдЬрд┐рд╕реЗ рдЗрд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдмреИрд▓реЗрдВрд╕ рд╢реАрдЯ рдореЗрдВ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд, рдХрдореАрд╢рди рдФрд░ рдЕрдиреНрдп рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВред</em> </p><br><p>  <em>рдЖрдорддреМрд░ рдкрд░, рдпрд╣ рдХрд┐рд╕реА рднреА рд░рд╛рдЬреНрдп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕реНрдХреЗрд▓реЗрдмрд▓ рднреА рд╣реИред</em>  <em>рд▓реЗрдХрд┐рди рд╣рдо рдХрд┐рд╕реА рднреА рдХрд╛рд░рдг рд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рднрд╛рдЬрди рдпрд╛ рд╣реЗрд▓рдЧреЗрдЯ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдЪрд╛рд▓рд╛рди рдирд╣реАрдВ рдЦреЛрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдпрд╛ рдХрд╛рд░реНрдб рд╕реЗ рдкреИрд╕реЗ рдХрд╛ рджреЛрд╣рд░рд╛ рд╢реБрд▓реНрдХ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред</em>  <em>рдпрд╣ рдбреЗрдЯрд╛ рд▓рдЧрд╛рддрд╛рд░ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред</em> </p><br><p>  рдпрд╣рд╛рдБ рдЖрддрд╛ рд╣реИ рддреАрд╕рд░рд╛ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕, рдЬрд┐рд╕рдХрд╛ рдирд╛рдо рдорд╢реАрдирдЧрди рд╣реИред  рд╣реЗрд▓рдЧреЗрдЯ рдорд╢реАрди рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдХреНрд╡реЗрд░реА рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкреЗрд▓реЛрдб рдХреЗ рд╕рд╛рде "рдПрдХ рдСрдЯреЛрдореЗрдЯрди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП" рдХреЙрд▓ рднреЗрдЬрддрд╛ рд╣реИред  рдорд╢реАрдирдЧрди рд╕рдорд╡рд░реНрддреА рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЖрдпреЛрдЬрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╣реЗрд▓рдЧреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдорд╛рдкрджрдВрдбреЛрдВ рд╕реЗ рдкрд╣рд▓рд╛ рдХрд╛рд░реНрдпрдХреНрд░рдо рдмрдирд╛рддрд╛ рд╣реИ - рдЗрдирд╡реЙрдпрд╕рдХреНрд░рд┐рдПрдЯред  рдЬреЛ рддрдм рдЦреБрдж рд╣реА рд░реАрдХ рдФрд░ рдХрддрд╛рд░реЛрдВ рдореЗрдВ рд▓рд┐рдЦрддрд╛ рдерд╛ред  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рд╢реБрд░реБрдЖрддреА рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП рд░рд┐рд╡рд░реНрд╕ рдСрд░реНрдбрд░ рдореЗрдВ рдПрдХ рд╕рдлрд▓ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд▓реМрдЯрд╛ рджреА рдЬрд╛рддреА рд╣реИред </p><br><p>  <em>рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдорд╢реАрдирдЧреБрди рдПрдХ рдРрд╕рд╛ рдбреАрдмреАрдПрдордПрд╕ рд╣реИ, рдЬреЛ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рдбреАрдмреАрдПрдордПрд╕ рдХреЗ рдКрдкрд░, рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ - рд░реАрдХ рдХреЗ рдКрдкрд░ рдЯрд╛рдЗрдорд░ рдХреЗ рд╕рд╛рде рд╣реИред</em>  <em>рдпрд╣ рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рд╕реНрд╡рддрдВрддреНрд░ рдорд╢реАрдиреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдФрд░ рдмреЗрдореЗрд▓рддрд╛ рдФрд░ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреНрд░рдо рдХреА рдЧрд╛рд░рдВрдЯреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред</em>  <em>рдпрд╣ рдПрдордЬреА рд╣реИ рдЬреЛ рдЗрд╕ рдШрдЯрдирд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрддрд╛рд░ рд╕реЗ рдмрд╛рд╣рд░ рд▓рд┐рдЦреЗ рдЬрд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛ рдпрджрд┐ рдХрдИ рдПрдЪрдЬреА рдЕрдЪрд╛рдирдХ рдЗрд╕ рддрд░рд╣ рдХреЗ рдЕрдиреБрд░реЛрдз рдХреЗ рд╕рд╛рде рдЖрддреЗ рд╣реИрдВред</em> </p><br><p>  <em>рдПрдХ рдСрдЯреЛрдореЗрдЯрди рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдХреЗ рднреАрддрд░ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп рдЗрдХрд╛рдИ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛, рдШрдЯрдирд╛рдУрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдбреЗрдЯрд╛ рдФрд░ рдПрдХ рдЯрд╛рдЗрдорд░ рд╣реЛрддрд╛ рд╣реИред</em>  <em>рдСрдЯреЛрдореЗрдЯрди рдХреА рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдХреА рдЧрдгрдирд╛ рдЙрд╕рдХреЗ рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рдХреА рдЬрд╛рддреА рд╣реИ рдЬреЛ рдЗрд╕рдХреЗ рд╕рдВрдХреНрд░рдордг рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рд░рд╛рдЬреНрдп рдореЗрдВ рдЖрд░рдВрдн рдХрд░рддреА рд╣реИред</em>  <em>рд╣рдо рд╡реНрдпрд╛рдкрд╛рд░ рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдкрд░рд┐рдорд┐рдд рд░рд╛рдЬреНрдп рдорд╢реАрдиреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд░рддреЗ рд╣реИрдВред</em>  <em>рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдорд╛рд░реЗ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рд╕рднреА рдЪрд╛рд▓рд╛рди, рд╕рд╛рде рд╣реА рдЙрдирдореЗрдВ рднреБрдЧрддрд╛рди, рд░рд╛рдЬреНрдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдХреНрд░рдордг рдХреЗ рдЕрдкрдиреЗ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдкрд░рд┐рдорд┐рдд рд░рд╛рдЬреНрдп рдорд╢реАрдиреЗрдВ рд╣реИрдВред</em> </p><br><p>  <em>рдорд╢реАрдирдЧрдВрдЬ рдореЗрдВ рдЯрд╛рдЗрдорд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдЖрдкрдХреЛ рд░рд┐рдХреЙрд░реНрдбрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдШрдЯрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдФрд░ рд╕реЗрд╡рд╛ рд╕реЗ "рдореИрдВ рдЗрд╕ рдорд╢реАрди рдХреЛ 15 рд╕рд╛рд▓ рдореЗрдВ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЬрд╛рд░реА рд░рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ" рдлреЙрд░реНрдо рдХрд╛ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред</em>  <em>рдЗрд╕ рддрд░рд╣ рдХреЗ рд▓рдВрдмрд┐рдд рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдЯрд╛рдЗрдорд░ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</em>  <em>рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдХреНрд╕рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ - рдмреИрдВрдХ рдХреЛ рдЖрд╡рдзрд┐рдХ рдХреЙрд▓, рд▓рдВрдмреА рдирд┐рд╖реНрдХреНрд░рд┐рдпрддрд╛ рдХреЗ рдХрд╛рд░рдг рднреБрдЧрддрд╛рди рдХреЗ рд╕рд╛рде рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдВ рдЖрджрд┐ред</em> </p><br><p>  <em>рд╡реИрд╕реЗ, рдорд╢реАрдирдЧрди рд╕реНрд░реЛрдд рдХреЛрдб рд╣рдорд╛рд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рднрдВрдбрд╛рд░</a> рдореЗрдВ рдЕрдкрд╛рдЪреЗ 2.0 рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреЗ рддрд╣рдд рдЦреБрд▓реЗ рд╣реИрдВред</em>  <em>рд╣рдореЗрдВ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдпрд╣ рд╕реЗрд╡рд╛ рд╕рдореБрджрд╛рдп рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред</em> </p><br><p>  <em>рдорд╢реАрдирдЧрди рдХреЗ рдХрд╛рдо рдХрд╛ рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг рдФрд░, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╣рдо рд╡рд┐рддрд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреЛ рдХреИрд╕реЗ рддреИрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдПрдХ рдЕрд▓рдЧ рдмрдбрд╝реЗ рдкрдж рдкрд░ рдЦреАрдВрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВ рдпрд╣рд╛рдВ рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдирд╣реАрдВ рд░реБрдХрддрд╛ред</em> </p><br><h3 id="nyuansy-avtorizacii-vneshnih-klientov">  рдмрд╛рд╣рд░реА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ </h3><br><p><img src="https://habrastorage.org/webt/-l/4v/zo/-l4vzorvyofnp2f4cb9xq6n3oky.jpeg"></p><br><p>  рдПрдХ рд╕рдлрд▓ рдмрдЪрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣реЗрд▓рдЧреЗрдЯ рдбреЗрдЯрд╛ рдХреЛ CAPI рдореЗрдВ рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдпрд╣ рдмрд╛рдЗрдирд░реА рдЯреНрд░рд┐рдлреНрдЯ рд╕рдВрд░рдЪрдирд╛ рдХреЛ рдПрдХ рдЦреВрдмрд╕реВрд░рддреА рд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдП рдЧрдП JSON рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╡реНрдпрд╛рдкрд╛рд░реА рдмреИрдХрдПрдВрдб рдкрд░ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ: </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"invoice"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"amount"</span></span>: <span class="hljs-number"><span class="hljs-number">6000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cart"</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">"cost"</span></span>: <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Sandwich"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxMode"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"rate"</span></span>: <span class="hljs-string"><span class="hljs-string">"10%"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"InvoiceLineTaxVAT"</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"cost"</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"price"</span></span>: <span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cola"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"quantity"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"taxMode"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"rate"</span></span>: <span class="hljs-string"><span class="hljs-string">"18%"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"InvoiceLineTaxVAT"</span></span> } } ], <span class="hljs-attr"><span class="hljs-attr">"createdAt"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-04-04T23:00:31.565518Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"currency"</span></span>: <span class="hljs-string"><span class="hljs-string">"RUB"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Delicious meals"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dueDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"2019-04-05T00:00:30.889000Z"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>: <span class="hljs-string"><span class="hljs-string">"18xtygvzFaa"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"metadata"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"order_id"</span></span>: <span class="hljs-string"><span class="hljs-string">"Internal order num 13123298761"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"product"</span></span>: <span class="hljs-string"><span class="hljs-string">"Order num 12345"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"shopID"</span></span>: <span class="hljs-string"><span class="hljs-string">"TEST"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"status"</span></span>: <span class="hljs-string"><span class="hljs-string">"unpaid"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"invoiceAccessToken"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"payload"</span></span>: <span class="hljs-string"><span class="hljs-string">"{JWT}"</span></span> } }</code> </pre> <br><p>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЛ рд╕рд╛рдордЧреНрд░реА рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рднреБрдЧрддрд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рд╣рдордиреЗ рд╕реЛрдЪрд╛ рдХрд┐ рд╕рднреА рд╡реНрдпрд╛рдкрд╛рд░реА рдЧреНрд░рд╛рд╣рдХ рдкрдХреНрд╖ рдкрд░ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рд╣рдордиреЗ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ред  рджреГрд╖реНрдЯрд┐рдХреЛрдг рдпрд╣ рд╣реИ рдХрд┐ рд╕реАрдПрдкреАрдЖрдИ рдПрдХ рдФрд░ рдЬреЗрдбрдмреНрд▓реНрдпреВрдЯреА рдмрдирд╛рддрд╛ рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдХрд╛рд░реНрдб рдЯреЛрдХреЗрдирд╛рдЗрдЬреЗрд╢рди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рдФрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЪрд╛рд▓рд╛рди рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд░рд┐рдЯрд░реНрди рдЗрдирд╡реЙрдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдЬреЛрдбрд╝рддрд╛ рд╣реИред </p><br><p>  рд╕рдорд╛рди JWT рдХреЗ рдЕрдВрджрд░ рд╡рд░реНрдгрд┐рдд рднреВрдорд┐рдХрд╛рдУрдВ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"resource_access"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"common-api"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"roles"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa.payments:read"</span></span>, <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa.payments:write"</span></span>, <span class="hljs-string"><span class="hljs-string">"invoices.18xtygvzFaa:read"</span></span>, <span class="hljs-string"><span class="hljs-string">"payment_resources:write"</span></span> ] } }</code> </pre> <br><p>  рдЗрд╕ JWT рдХреЗ рдкрд╛рд╕ рд╕реАрдорд┐рдд рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рд╣реИ рдФрд░ рдЬреАрд╡рдирдХрд╛рд▓ рдЬрд┐рд╕реЗ рд╣рдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдЗрд╕реЗ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЗрд╕реЗ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдзрд┐рдХрддрдо рдЬреЛ рд╣рдорд▓рд╛рд╡рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рд╡рд╣ рдХрд┐рд╕реА рдФрд░ рдХреЗ рдЪрд╛рд▓рд╛рди рдХрд╛ рднреБрдЧрддрд╛рди рдХрд░рддрд╛ рд╣реИ рдпрд╛ рдЙрд╕рдХрд╛ рдбреЗрдЯрд╛ рдкрдврд╝рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЪреВрдВрдХрд┐ рднреБрдЧрддрд╛рди рдорд╢реАрди рдЦреБрд▓реЗ рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рдЕрдзрд┐рдХрддрдо рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЬреЛ рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИ рд╡рд╣ <code>4242 42** **** 4242</code> рдкреНрд░рдХрд╛рд░ рдХреА рдПрдХ рдирдХрд╛рдмрдкреЛрд╢ рдХрд╛рд░реНрдб рд╕рдВрдЦреНрдпрд╛ рд╣реИ, рднреБрдЧрддрд╛рди рдХреА рд░рд╛рд╢рд┐ рдФрд░, рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рд╕рд╛рдорд╛рдиреЛрдВ рдХреА рдПрдХ рдЯреЛрдХрд░реАред </p><br><p>  рдЗрд╕рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЧрдИ рдЗрдирд╡реЙрдЗрд╕ рдФрд░ рдПрдХреНрд╕реЗрд╕ рдХреБрдВрдЬреА рдЖрдкрдХреЛ рднреБрдЧрддрд╛рди рд╡реНрдпрд╡рд╕рд╛рдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  рд╣рдо рдЪрд╛рд▓рд╛рди рдЖрдИрдбреА рдФрд░ рдЙрд╕рдХреЗ JWT рдХреЛ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реЗ рдЬреЗрдПрд╕ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рдг рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рд╣рдорд╛рд░рд╛ рдЪреЗрдХрдЖрдЙрдЯ рдЬреЗрдПрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЖрдкрдХреЗ рд▓рд┐рдП рдПрдХ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдкрдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ - рдПрдХ рднреБрдЧрддрд╛рди рдбреЗрдЯрд╛ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдлрд╝реЙрд░реНрдо рдЦреАрдВрдЪрддрд╛ рд╣реИ, рдПрдХ рднреБрдЧрддрд╛рди рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рдЕрдкрдиреА рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдПрдХ рдордЬрд╝реЗрджрд╛рд░ рдпрд╛ рдЙрджрд╛рд╕ рдмрд┐рдВрджреБ рджрд┐рдЦрд╛рддрд╛ рд╣реИред </p><br><h3 id="tokenizaciya-i-kartochnye-dannye">  рдЯреЛрдХрдирдХрд░рдг рдФрд░ рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ </h3><br><p><img src="https://habrastorage.org/webt/gq/1d/gb/gq1dgbxkq1ewsfohsytcdvnotzs.jpeg"></p><br><p>  рд▓реЗрдХрд┐рди рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдЪреЗрдХрдЖрдЙрдЯ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╣рдо рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рдХрд╛рд░реНрдбрдзрд╛рд░рдХ рдбреЗрдЯрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдпрдерд╛рд╕рдВрднрд╡ рдХреБрдЫ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдЯреЛрдХрди рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ рдЯреЛрдХрди рдЬреЗрдПрд╕ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдЦреЗрд▓рдиреЗ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдЬрдм рдЖрдк рдЗрдирдкреБрдЯ рдлрд╝реАрд▓реНрдб рдореЗрдВ рдЕрдкрдирд╛ рдХрд╛рд░реНрдб рджрд░реНрдЬ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ "рдкреЗ" рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ рд░реВрдк рд╕реЗ рд╣рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">createPaymentResource ()</a> рд╡рд┐рдзрд┐ рд╕реЗ рдХреЙрд▓ рдХрд░рдХреЗ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рднреЗрдЬрддрд╛ рд╣реИред </p><br><p>  рдпрд╣ рдЕрдиреБрд░реЛрдз рд╡реНрдпрдХреНрддрд┐рдЧрдд CAPI-DSS рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрддреБрд▓рд┐рдд рд╣реИ, рдЬреЛ рдЕрдиреБрд░реЛрдз рдХреЛ рднреА рдЕрдзрд┐рдХреГрдд рдХрд░рддрд╛ рд╣реИ, рдХреЗрд╡рд▓ рдЪрд╛рд▓рд╛рди JWT рдХреА рдЬрд╛рдБрдЪ рдХрд░рдХреЗ, рдбреЗрдЯрд╛ рдХреЛ рдорд╛рдиреНрдп рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗрд╡рд╛ рдореЗрдВ рднреЗрдЬ рджреЗрддрд╛ рд╣реИред  рдЖрд░реЗрдЦ рдореЗрдВ, рдЗрд╕реЗ рд╕реАрдбреАрдПрд╕ - рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░реЗрдЬ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рд╕реЗрд╡рд╛ рдХреЗ рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп: </p><br><ul><li>  рдПрдХ рдЗрдирдкреБрдЯ рдкрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ - рдЖрдкрдХреЗ рдХрд╛рд░реНрдб рдХрд╛ рдбреЗрдЯрд╛; </li><li>  рдбреЗрдЯрд╛ рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рдЗрд╕ рдбреЗрдЯрд╛ рдХреЛ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░реЗрдВ; </li><li>  рдХреБрдВрдЬреА рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреБрдЫ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдореВрд▓реНрдп рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ; </li><li>  рдЗрд╕ рдХреБрдВрдЬреА рдкрд░ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдбреЗрдЯрд╛ рдХреЛ рдЕрдкрдиреЗ Riak рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ; </li><li>  CAPI-DSS рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдбреЗрдЯрд╛ рдЯреЛрдХрди рдХреЗ рд░реВрдк рдореЗрдВ рдХреБрдВрдЬреА рд▓реМрдЯрд╛рдПрдВред </li></ul><br><p>  рд░рд╛рд╕реНрддреЗ рдХреЗ рд╕рд╛рде, рд╕реЗрд╡рд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдПрдХ рд╕рдореВрд╣ рдХреЛ рд╣рд▓ рдХрд░рддреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ рдХреБрдВрдЬреА рдХреЗ рд▓рд┐рдП рдХреБрдВрдЬреА рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛, рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЗрди рдЪрд╛рдмрд┐рдпреЛрдВ рдХреЛ рджрд░реНрдЬ рдХрд░рдирд╛, рдбреЗрдЯрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд░рдирд╛, рднреБрдЧрддрд╛рди рдХреЗ рдмрд╛рдж CVV рдХреЗ рдЙрдиреНрдореВрд▓рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛, рдФрд░ рдЗрд╕реА рддрд░рд╣, рд▓реЗрдХрд┐рди рдпрд╣ рдЗрд╕ рдкрдж рдХреЗ рджрд╛рдпрд░реЗ рд╕реЗ рдкрд░реЗ рд╣реИред </p><br><p>  <em>рдпрд╣ рдкреИрд░ рдореЗрдВ рдЦреБрдж рдХреЛ рдЧреЛрд▓реА рдорд╛рд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдмрд┐рдирд╛ рдирд╣реАрдВ рдерд╛ред</em>  <em>рдПрдХ рдЧреИрд░-рд╢реВрдиреНрдп рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдПрдХ рдирд┐рдЬреА JWT, рдЬрд┐рд╕реЗ рдмреИрдХрдПрдВрдб рд╕реЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЕрдзрд┐рдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд╡реЗрдм рдкрд░ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред</em>  <em>рдЗрд╕реЗ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ рд╕реБрд░рдХреНрд╖рд╛ рдореЗрдВ рдмрдирд╛рдпрд╛ рд╣реИ - рдЖрдк рдХреЗрд╡рд▓ рдЗрдирд╡реЙрдЗрд╕ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">createPaymentResource ()</a> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</em>  <em>рдЬрдм рдПрдХ рдирд┐рдЬреА JWT рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рд╡рд╣ HTTP / 401 рддреНрд░реБрдЯрд┐ рд▓реМрдЯрд╛рдПрдЧрд╛ред</em> </p><br><p>  рдЯреЛрдХрдирдХрд░рдг рдЕрдиреБрд░реЛрдз рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЯреЛрдХрдирд┐рдиреЗрдЯрд░ рдЪреЗрдХрдЖрдЙрдЯ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдЯреЛрдХрди рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдФрд░ рдЗрд╕ рдкрд░ рдЕрдкрдирд╛ рдХрд╛рдо рдкреВрд░рд╛ рдХрд░рддрд╛ рд╣реИред </p><br><h3 id="biznes-process-platezhnogo-avtomata">  рднреБрдЧрддрд╛рди рдорд╢реАрди рд╡реНрдпрд╡рд╕рд╛рдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ </h3><br><p><img src="https://habrastorage.org/webt/ai/9s/7j/ai9s7jsxfzkuoume64zcw_chcks.png"></p><br><p>  рдЪреЗрдХрдЖрдЙрдЯ рднреБрдЧрддрд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдпрд╣ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">createPayment ()</a> рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рдкреНрд░рд╛рдкреНрдд рдХрд╛рд░реНрдб рдЯреЛрдХрди рдХреЛ рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдорддрджрд╛рди рдХреА рдШрдЯрдирд╛рдУрдВ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">getInvoiceEvents ()</a> рдПрдкреАрдЖрдИ рд╡рд┐рдзрд┐ рдХреЛ рдПрдХ рдмрд╛рд░ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рд╕реАрдПрдкреАрдЖрдИ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдпреЗ рдЕрдиреБрд░реЛрдз рд╣реЗрд▓рдЧреЗрдЯ рдореЗрдВ рдЖрддреЗ рд╣реИрдВ, рдЬреЛ рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рднреБрдЧрддрд╛рди рд╡реНрдпрд╡рд╕рд╛рдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣реЗрд▓рдЧреЗрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдкреНрд░рдмрдВрдзрди рд╕реЗрд╡рд╛ - рдбреЛрдорд┐рдиреЗрдВрдЯ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдбреЛрдореЗрди рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХрд╛ рд╡рд░реНрддрдорд╛рди рд╕рдВрд╢реЛрдзрди рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ рд╕рднреА рдирд┐рдпрдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬрд┐рдирдХреЗ рджреНрд╡рд╛рд░рд╛ рдпрд╣ рднреБрдЧрддрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдпрд╣ рдХрд┐рд╕ рдмреИрдВрдХ рдХреЗ рд▓рд┐рдП рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдореЗрдВ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдирджреЗрди рд╢реБрд▓реНрдХ рдХреНрдпрд╛ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдЖрджрд┐ред <br><ul><li>  рд╕рджрд╕реНрдп рдкреНрд░рдмрдВрдзрди рд╕реЗрд╡рд╛ рд╕реЗ, рдЕрдм рдпрд╣ рдПрдЪрдЬреА рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рд╡реНрдпрд╛рдкрд╛рд░реА рдХреЗ рдЦрд╛рддреЛрдВ рдХреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рд╕реАрдЦрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдкрдХреНрд╖ рдореЗрдВ рднреБрдЧрддрд╛рди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╢реБрд▓реНрдХ рдХреА рд░рд╛рд╢рд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рдПрдХ рдкреЛрд╕реНрдЯрд┐рдВрдЧ рдпреЛрдЬрдирд╛ рддреИрдпрд╛рд░ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд╢реБрдорд╡реЗ рд╕реЗрд╡рд╛ рдореЗрдВ рдбрд╛рд▓рддрд╛ рд╣реИред  рдпрд╣ рд╕реЗрд╡рд╛ рднреБрдЧрддрд╛рди рдХрд░рддреЗ рд╕рдордп рдПрдХ рд▓реЗрдирджреЗрди рдореЗрдВ рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреЗ рдЦрд╛рддреЛрдВ рдкрд░ рдзрди рдХреА рдЖрд╡рд╛рдЬрд╛рд╣реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рдкреНрд░рдмрдВрдзрди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рдкреЛрд╕реНрдЯрд┐рдВрдЧ рдпреЛрдЬрдирд╛ рдореЗрдВ "рдпреЛрдЬрдирд╛ рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд▓реЗрдирджреЗрди рдореЗрдВ рдкреНрд░рддрд┐рднрд╛рдЧрд┐рдпреЛрдВ рдХреЗ рдЦрд╛рддреЛрдВ рдкрд░ рдзрди рдХреА рд╕рдВрднрд╛рд╡рд┐рдд рдЖрд╡рд╛рдЬрд╛рд╣реА рдХреЛ рд░реЛрдХрдирд╛" рдирд┐рд░реНрджреЗрд╢ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ; </li><li>  рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ рд╣рд╡рд╛рд▓рд╛ рджреЗрдХрд░ рднреБрдЧрддрд╛рди рдбреЗрдЯрд╛ рдХреЛ рд╕рдореГрджреНрдз рдХрд░рддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмрд┐рдирдмрд╕реЗ рдореЗрдВ рдХрд╛рд░реНрдб рдЬрд╛рд░реА рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рджреЗрд╢ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рд╕рдиреЗ рдХрд╛рд░реНрдб рдФрд░ рдЙрд╕рдХреЗ рдкреНрд░рдХрд╛рд░ рдЬрд╛рд░реА рдХрд┐рдП, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, "рд╕реЛрдирд╛, рдХреНрд░реЗрдбрд┐рдЯ"; </li><li>  рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдирд┐рд░реАрдХреНрд╖рдХ рдХреА рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, рдпрд╣ рднреБрдЧрддрд╛рди рд╕реНрдХреЛрд░рд┐рдВрдЧ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдВрдЯрд┐рдлрд░реНрдб рд╣реИ рдФрд░ рд╕реНрдХреЛрд░рд┐рдВрдЧ рджреНрд╡рд╛рд░рд╛ рдЬрд╛рд░реА рдХрд┐рдП рдЧрдП рдЬреЛрдЦрд┐рдо рд╕реНрддрд░ рдХреЛ рдХрд╡рд░ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЯрд░реНрдорд┐рдирд▓ рдХреА рдкрд╕рдВрдж рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 3 рдбреА-рд╕рд┐рдХреНрдпреЛрд░ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рдЯрд░реНрдорд┐рдирд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдо рдЬреЛрдЦрд┐рдо рд╡рд╛рд▓реЗ рднреБрдЧрддрд╛рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдПрдХ рднреБрдЧрддрд╛рди рдЬреЛ рдПрдХ рдШрд╛рддрдХ рдЬреЛрдЦрд┐рдо рд╕реНрддрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рдЪреБрдХрд╛ рд╣реИ рд╡рд╣ рдЗрд╕ рдкрд░ рдЕрдкрдирд╛ рдЬреАрд╡рди рд╕рдорд╛рдкреНрдд рдХрд░ рджреЗрдЧрд╛; </li><li>  рддреНрд░реБрдЯрд┐ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИ, рдлрд╝реЙрд▓реНрдЯрдбреЗрдЯреЗрдЯрд░, рдФрд░ рдЗрд╕рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдбреЗрдЯрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднреБрдЧрддрд╛рди рдорд╛рд░реНрдЧ рдХрд╛ рдЪрдпрди рдХрд░рддрд╛ рд╣реИ - рдмреИрдВрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдПрдбрд╛рдкреНрдЯрд░, рдЬрд┐рд╕рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕рдмрд╕реЗ рдХрдо рддреНрд░реБрдЯрд┐рдпрд╛рдВ рд╣реИрдВ рдФрд░ рд╕рдлрд▓ рднреБрдЧрддрд╛рди рдХреА рдЙрдЪреНрдЪрддрдо рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ; </li><li>  рдЪрдпрдирд┐рдд рдмреИрдВрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдПрдбреЗрдкреНрдЯрд░ рдХреЛ рдПрдХ рдЕрдиреБрд░реЛрдз рднреЗрдЬрддрд╛ рд╣реИ, рдЗрд╕реЗ рдпреЗрд▓рдмреИрдВрдХ рдПрдбреЗрдкреНрдЯрд░ рд╣реЛрдиреЗ рджреЗрдВ, рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ "рдЗрд╕ рдЯреЛрдХрди рд╕реЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд░рд╛рд╢рд┐ рдХреЛ рдЕрдзрд┐рдХреГрдд рдХрд░реЗрдВ"ред </li></ul></li></ul><br><p>  рдкреНрд░рд╛рдкреНрдд рдЯреЛрдХрди рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдПрдбреЗрдкреНрдЯрд░ рд╕реАрдбреАрдПрд╕ рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИ, рдбрд┐рдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдП рдЧрдП рдХрд╛рд░реНрдб рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдЗрд╕реЗ рдмреИрдВрдХ-рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ, рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдмреИрдВрдХ рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг - рдкреБрд╖реНрдЯрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕рдВрдХреЗрддрд┐рдд рд░рд╛рд╢рд┐ рднреБрдЧрддрд╛рдирдХрд░реНрддрд╛ рдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рдЬрдорд╛ рд╣реЛ рдЧрдИ рд╣реИред </p><br><p>  рдпрд╣ рдЗрд╕ рд╕рдордп рд╣реИ рдХрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдмреИрдВрдХ рд╕реЗ рдЖрдкрдХреЗ рдХрд╛рд░реНрдб рд╕реЗ рдзрди рдХреЗ рдбреЗрдмрд┐рдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдБрдХрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рдХреЗрд╡рд▓ рдзрдирд░рд╛рд╢рд┐ рдЬрдорд╛ рд╣реБрдИ рд╣реИред </p><br><p>  рдПрдбреЙрдкреНрдЯрд░ рд╕рдлрд▓ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рдПрдЪрдЬреА рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЖрдкрдХрд╛ рд╕реАрд╡реАрд╡реА рдХреЛрдб рд╕реАрдбреАрдПрд╕ рд╕реЗрд╡рд╛ рд╕реЗ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдЪрд░рдг рдХрд╛ рдЕрдВрдд рд╣реИред  рдкреНрд░рдмрдВрдзрди HG рдкрд░ рд▓реМрдЯрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/jv/mm/cu/jvmmcuhwjxslwo0rvu5w-lsfsyy.jpeg"></p><br><p>  рднреБрдЧрддрд╛рди рд╡реНрдпрд╡рд╕рд╛рдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдорд░реНрдЪреЗрдВрдЯ</a> рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">createPayment ()</a> рдХреЙрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, HG рдмрд╛рд╣рд░реА API рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреИрдкреНрдЪрд░ рд╡рд┐рдзрд┐ рд╕реЗ рдХреЙрд▓ рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд, рдЖрдкрдХреЗ рдХрд╛рд░реНрдб рд╕реЗ рдкреИрд╕реЗ рдХреА рд╡рд╛рдкрд╕реА рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ, рдпрд╛ рдпрд╣ рддреБрд░рдВрдд рдЕрдкрдиреЗ рджрдо рдкрд░ рдХрд░рддрд╛ рд╣реИ, рдпрджрд┐ рд╡реНрдпрд╛рдкрд╛рд░реА рдиреЗ рд╕реНрдХреАрдо рдХреЛ рдЪреБрдирд╛ рд╣реИред рдПрдХрд▓-рдЪрд░рдг рднреБрдЧрддрд╛рдиред </p><br><p>  <em>рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡реНрдпрд╛рдкрд╛рд░реА рдПрдХ-рдЪрд░рдг рднреБрдЧрддрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рд╣реИрдВ, рдЬреЛ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рд╕рдордп, рдЕрднреА рддрдХ рдЬреНрдЮрд╛рдд рдХреБрд▓ рд░рд╛рд╢рд┐ рдХрд╛ рдкрддрд╛ рдирд╣реАрдВ рд▓рдЧрд╛рддреА рд╣реИрдВред</em>  <em>рдпрд╣ рдЕрдХреНрд╕рд░ рдкрд░реНрдпрдЯрди рдЙрджреНрдпреЛрдЧ рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ рдЬрдм рдЖрдк рдПрдХ рд░рд╛рд╢рд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреВрд░ рдмреБрдХ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЖрд░рдХреНрд╖рдг рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд░рд╛рд╢рд┐ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рд╣реЛрддреА рд╣реИ рдФрд░ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЕрдзрд┐рдХреГрдд рдХрд┐рдП рдЧрдП рд╕реЗ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреА рд╣реИред</em> </p><br><p>  <em>рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдкреБрд╖реНрдЯрд┐ рдХреА рдорд╛рддреНрд░рд╛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреА рдорд╛рддреНрд░рд╛ рдХреЗ рдмрд░рд╛рдмрд░ рдпрд╛ рдЙрд╕рд╕реЗ рдХрдо рд╣реЛ рд╕рдХрддреА рд╣реИ, рдпрд╣рд╛рдВ рдиреБрдХрд╕рд╛рди рд╣реИрдВред</em>  <em>рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ рдХрд┐ рдЖрдк рдХрд┐рд╕реА рдХрд╛рд░реНрдб рд╕реЗ рдХрд┐рд╕реА рдЙрддреНрдкрд╛рдж рдпрд╛ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рдмреИрдВрдХ рдЦрд╛рддреЗ рдХреА рдореБрджреНрд░рд╛ рд╕реЗ рднрд┐рдиреНрди рдореБрджреНрд░рд╛ рдореЗрдВ рднреБрдЧрддрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕рд╕реЗ рдХрд╛рд░реНрдб рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред</em> </p><br><p>  <em>рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рд╕рдордп, рдЖрдкрдХреЗ рдЦрд╛рддреЗ рдХреЛ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдХреЗ рджрд┐рди рд╡рд┐рдирд┐рдордп рджрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЕрд╡рд░реБрджреНрдз рд░рд╛рд╢рд┐ред</em>  <em>рдЪреВрдВрдХрд┐ рднреБрдЧрддрд╛рди "рдЕрдзрд┐рдХреГрдд" рд╣реЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рд░реЗрд▓ рдордВрддреНрд░рд╛рд▓рдп рдХреЗ рдкрд╛рд╕ рдЕрдзрд┐рдХрддрдо рдЕрд╡рдзрд┐ рдХреЗ рд▓рд┐рдП рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ рд╣реИрдВ рдФрд░ рдЕрдм 3 рджрд┐рди рд╣реИрдВ), рдХрдИ рджрд┐рдиреЛрдВ рддрдХ рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдкрд░ рдХрдмреНрдЬрд╛ рдЙрд╕ рджрд┐рди рдХреА рджрд░ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕ рджрд┐рди рдпрд╣ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред</em> </p><br><p>  <em>рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдк рдореБрджреНрд░рд╛ рдЬреЛрдЦрд┐рдореЛрдВ рдХреЛ рд╕рд╣рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЗ рдкрдХреНрд╖ рдореЗрдВ рдФрд░ рдЖрдкрдХреЗ рдЦрд┐рд▓рд╛рдл рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЦрд╛рд╕рдХрд░ рдореБрджреНрд░рд╛ рдмрд╛рдЬрд╛рд░ рдореЗрдВ рдЙрдЪреНрдЪ рдЕрд╕реНрдерд┐рд░рддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВред</em> </p><br><p>  рдкреНрд░рд╛рдзрд┐рдХрд░рдг рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдПрдбреЗрдкреНрдЯрд░ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреА рд╕рдорд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реЛрддреА рд╣реИ, рдФрд░ рдпрджрд┐ рд╕рдлрд▓ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдПрдЪрдЬреА рд╢реВрдорд╡реЗ рдХреЗ рдЕрдВрджрд░ рдЦрд╛рддрд╛ рдкреЛрд╕реНрдЯрд┐рдВрдЧ рдпреЛрдЬрдирд╛ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рднреБрдЧрддрд╛рди рдХреЛ "рднреБрдЧрддрд╛рди" рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рдЗрд╕ рд╕рдордп рд╣реИ рдХрд┐ рд╣рдо, рднреБрдЧрддрд╛рди рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд░реВрдк рдореЗрдВ, рд▓реЗрди-рджреЗрди рдореЗрдВ рднрд╛рдЧ рд▓реЗрдиреЗ рд╡рд╛рд▓реЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рддреНрддреАрдп рджрд╛рдпрд┐рддреНрд╡ рд╣реИрдВред </p><br><p>  рдпрд╣ рднреА рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рдЗрдирд╡реЙрдЗрд╕ рдорд╢реАрди рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХреЛрдИ рднреА рдкрд░рд┐рд╡рд░реНрддрди, рдЬрд┐рд╕рдореЗрдВ рднреБрдЧрддрд╛рди рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдХреЛ рдорд╢реАрдирдЧрдВрдЬ рдореЗрдВ рд╣реЗрд▓рдЧреЗрдЯ рджреНрд╡рд╛рд░рд╛ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдбреЗрдЯрд╛ рдХреА рджреГрдврд╝рддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдирдП рдИрд╡реЗрдВрдЯ рдХреЗ рд╕рд╛рде рдЗрдирд╡реЙрдЗрд╕ рдХреЛ рд╕рдореГрджреНрдз рдХрд░рддрд╛ рд╣реИред </p><br><h3 id="sinhronizaciya-sostoyaniy-avtomata-platezha-i-ui">  рднреБрдЧрддрд╛рди рдорд╢реАрди рдФрд░ рдпреВрдЖрдИ рдХрд╛ рд░рд╛рдЬреНрдп рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝реЗрд╢рди </h3><br><p><img src="https://habrastorage.org/webt/o7/hf/iz/o7hfizxfqdiyz_5xlxugdhc_fsq.jpeg"></p><br><p>  рдЬрдмрдХрд┐ рднреБрдЧрддрд╛рди рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рдЕрдВрджрд░ рд╣реЛ рд░рд╣реА рд╣реИ, рдЪреЗрдХрдЖрдЙрдЯ рдШрдЯрдирд╛рдУрдВ рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдХреЗ рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ рдХрд░рддрд╛ рд╣реИред  рдХреБрдЫ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░, рд╡рд╣ рднреБрдЧрддрд╛рди рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЛ рдПрдХ рдРрд╕реЗ рддрд░реАрдХреЗ рд╕реЗ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ - рдПрдХ рдкреВрд░реНрд╡-рд▓реЛрдбрд░ рдХреЛ рдЦреАрдВрдЪрддрд╛ рд╣реИ, рд╕реНрдХреНрд░реАрди рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ "рдЖрдкрдХрд╛ рднреБрдЧрддрд╛рди рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛" рдпрд╛ "рднреБрдЧрддрд╛рди рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдореЗрдВ рд╡рд┐рдлрд▓ рд░рд╣рд╛", рдпрд╛ 3D-рд╕рд┐рдХреНрдпреЛрд░ рдкрд╛рд╕рд╡рд░реНрдб рджрд░реНрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рдЬрд╛рд░реАрдХрд░реНрддрд╛ рдмреИрдВрдХ рдХреЗ рдкреГрд╖реНрда рдкрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ; </p><br><p>  рдпрджрд┐ рдпрд╣ рд╡рд┐рдлрд▓ рд░рд╣рддрд╛ рд╣реИ, рддреЛ рдЪреЗрдХрдЖрдЙрдЯ рдЖрдкрдХреЛ рдПрдХ рдЕрдиреНрдп рднреБрдЧрддрд╛рди рд╡рд┐рдзрд┐ рдЪреБрдирдиреЗ рдпрд╛ рдлрд┐рд░ рд╕реЗ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХреА рдкреЗрд╢рдХрд╢ рдХрд░реЗрдЧрд╛, рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдЪрд╛рд▓рд╛рди рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдирдпрд╛ рднреБрдЧрддрд╛рди рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рдИрд╡реЗрдВрдЯ рдХреЗ рдорддрджрд╛рди рдХреЗ рд╕рд╛рде рдЗрд╕ рддрд░рд╣ рдХреА рдпреЛрдЬрдирд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЯреИрдм рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рднреА рд░рд╛рдЬреНрдп рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рдмрдирд╛рддреА рд╣реИ - рдмрд╛рд░-рдмрд╛рд░ рд▓реЙрдиреНрдЪ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЪреЗрдХрдЖрдЙрдЯ рдХреЛ рдШрдЯрдирд╛рдУрдВ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реВрдЪреА рдкреНрд░рд╛рдкреНрдд рд╣реЛрдЧреА рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рд╡рд░реНрддрдорд╛рди рдкрд░рд┐рджреГрд╢реНрдп рдХреЛ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░реЗрдЧрд╛, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 3 рдбреА-рд╕рд┐рдХреНрдпреЛрд░ рдХреЛрдб рджрд░реНрдЬ рдХрд░рдиреЗ рдХреА рдкреЗрд╢рдХрд╢ рдХрд░реЗрдЧрд╛ рдпрд╛ рджрд┐рдЦрд╛рдПрдЧрд╛ рдХрд┐ рднреБрдЧрддрд╛рди рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкреВрд░рд╛ рд╣реЛ рдЪреБрдХрд╛ рд╣реИред </p><br><h2 id="replikaciya-sobytiy-v-offline-zone">  рдСрдлрд╝рд▓рд╛рдЗрди рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдШрдЯрдирд╛рдУрдВ рдХреА рдкреНрд░рддрд┐рдХреГрддрд┐ </h2><br><p><img src="https://habrastorage.org/webt/ay/rm/sb/ayrmsbidsvdz2c9rxxkgge6easo.jpeg"></p><br><p>  рдорд╢реАрди рдирд┐рдпрдВрддреНрд░рдг рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд╕рд╛рде, рдорд╢реАрдирдЧрди рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рдЕрдиреНрдп, рдХрдо рдСрдирд▓рд╛рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдШрдЯрдирд╛рдУрдВ рдХреЗ рдкреНрд░рд╡рд╛рд╣ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдПрдХ рд╕реЗрд╡рд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреА рд╣реИред </p><br><p>  рдлрд╛рдЗрдирд▓ рдореЗрдВ рдПрдХ рдХрддрд╛рд░ рдХреЗ рджрд▓рд╛рд▓ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рдХрд╛рдлреНрдХрд╛ рдкрд░ рдмрд╕ рдЧрдП, рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╣рдордиреЗ рдкрд╣рд▓реЗ рдорд╢реАрдирдЧрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдерд╛ред  рд╕рд╛рдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдпрд╣ рд╕реЗрд╡рд╛ рдЕрдиреНрдп рдЙрдкрднреЛрдХреНрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд░реЛрдз рдкрд░ рдШрдЯрдирд╛рдУрдВ рдХреА рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдСрд░реНрдбрд░ рдХреА рдЧрдИ рдзрд╛рд░рд╛, рдпрд╛ рдШрдЯрдирд╛рдУрдВ рдХреА рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реВрдЪреА рдЬрд╛рд░реА рдХрд░рдиреЗ рдХрд╛ рд╕рдВрд░рдХреНрд╖рдг рд╣реИред </p><br><p>  рд╣рдордиреЗ рд╢реБрд░реВ рдореЗрдВ рдПрдХ рдШрдЯрдирд╛ рдХрдЯреМрддреА рдпреЛрдЬрдирд╛ рднреА рд▓рд╛рдЧреВ рдХреА рдереА, рдпрд╣ рдЧрд╛рд░рдВрдЯреА рджреЗрддреЗ рд╣реБрдП рдХрд┐ рдПрдХ рд╣реА рдШрдЯрдирд╛ рдХреЛ рджреЛ рдмрд╛рд░ рджреЛрд╣рд░рд╛рдпрд╛ рдирд╣реАрдВ рдЬрд╛рдПрдЧрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐, Riak рдкрд░ рд▓реЛрдб, рдЬреЛ рдПрдХ рд╕рдорд╛рди рдПрдХ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдиреЗ рд╣рдореЗрдВ рдЗрд╕реЗ рдордирд╛ рдХрд░ рджрд┐рдпрд╛ - рдЖрдЦрд┐рд░рдХрд╛рд░, рдЕрдиреБрдХреНрд░рдорд┐рдд рджреНрд╡рд╛рд░рд╛ рдЦреЛрдЬ рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рдмрд╛рдд рдирд╣реАрдВ рд╣реИ рдХреЗрд╡реА рднрдВрдбрд╛рд░рдг рд╕рдХреНрд╖рдоред  рдЕрдм, рдкреНрд░рддреНрдпреЗрдХ рд╕реЗрд╡рд╛ рдЙрдкрднреЛрдХреНрддрд╛ рд╕реНрд╡рддрдВрддреНрд░ рд░реВрдк рд╕реЗ рдШрдЯрдирд╛ рдХрдЯреМрддреА рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </p><br><p>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдорд╢реАрдирдЧрдВрдЬ рджреНрд╡рд╛рд░рд╛ рдШрдЯрдирд╛рдУрдВ рдХреА рдкреНрд░рддрд┐рдХреГрддрд┐ рдХрд╛рдлрд╝реНрдХрд╛ рдореЗрдВ рдбреЗрдЯрд╛ рднрдВрдбрд╛рд░рдг рдХреА рдкреБрд╖реНрдЯрд┐ рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рд╣реЛрддреА рд╣реИ, рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд╛рдлреНрдХрд╛ рд╡рд┐рд╖рдпреЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЙрди рдШрдЯрдирд╛рдУрдВ рдХреА рд╕реВрдЪреА рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдЙрдирдХреА рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред </p><br><h3 id="shablon-tipichnogo-prilozheniya-offline-zony">  рд╡рд┐рд╢рд┐рд╖реНрдЯ рдСрдлрд╝рд▓рд╛рдЗрди рдХреНрд╖реЗрддреНрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдЯреЗрдореНрдкрд▓реЗрдЯ </h3><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Dudoser рд╕реЗрд╡рд╛ рдЖрдкрдХреЛ рдПрдХ рд╕рдлрд▓ рднреБрдЧрддрд╛рди рдХреА рдИрдореЗрд▓ рд╕реВрдЪрдирд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдкрд░, рдпрд╣ рд╕рдлрд▓ рднреБрдЧрддрд╛рди рдХреА рдШрдЯрдирд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдХреЛ рдкрдВрдк рдХрд░рддрд╛ рд╣реИ, рд╡рд╣рд╛рдВ рд╕реЗ рдкрддреЗ рдФрд░ рд░рд╛рд╢рд┐ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рд▓реЗрддрд╛ рд╣реИ, рдЗрд╕реЗ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдкреЛрд╕реНрдЯрдЧреНрд░реИрд╕реАрдХреНрдпреВ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдмрдЪрд╛рддрд╛ рд╣реИ рдФрд░ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рдХреЗ рдЖрдЧреЗ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЕрдиреНрдп рд╕рднреА рд╕рдорд╛рди рд╕реЗрд╡рд╛рдПрдВ рдЙрд╕реА рддрд░реНрдХ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддреА рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдордЧрд┐рд╕реНрддрд╛ рд╕реЗрд╡рд╛, рдЬреЛ рд╡реНрдпрд╛рдкрд╛рд░реА рдХреЗ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдореЗрдВ рдЪрд╛рд▓рд╛рди рдФрд░ рднреБрдЧрддрд╛рди рдХреА рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдпрд╛ рд╣реВрдХрд░ рд╕реЗрд╡рд╛, рдЬреЛ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдпреЛрдВ рдХреЛ рдмреИрдХрдПрдВрдб рдкрд░ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдХреЙрд▓рдмреИрдХ рднреЗрдЬрддреА рд╣реИ, рдЬреЛ рдПрдХ рдХрд╛рд░рдг рд╕реЗ рдпрд╛ рдХрд┐рд╕реА рдЕрдиреНрдп рдХреЗ рд▓рд┐рдП рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рд╕реЗ рдорддрджрд╛рди рдХреА рдШрдЯрдирд╛рдУрдВ рдХреЛ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╕реАрдзреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдПред </p><br><p>  рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣рдореЗрдВ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдкрд░ рднрд╛рд░ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ, рдЕрдзрд┐рдХрддрдо рд╕рдВрд╕рд╛рдзрди рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреЗ рдФрд░ рдЙрдЪреНрдЪ рдЧрддрд┐ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдФрд░ рднреБрдЧрддрд╛рди рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЙрдкрд▓рдмреНрдзрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ, рдЙрдЪреНрдЪ рд░реВрдкрд╛рдВрддрд░рдг рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  "рд╡реНрдпрд╡рд╕рд╛рдп рдЧреНрд░рд╛рд╣рдХ рдЬреИрд╕реЗ рдкрд┐рдЫрд▓реЗ рд╡рд░реНрд╖ рдХреЗ рднреБрдЧрддрд╛рдиреЛрдВ рдХреЗ рдЖрдБрдХрдбрд╝реЗ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ" рдЬреИрд╕реА рднрд╛рд░реА рдХреНрд╡реЗрд░реАрдЬрд╝ рдЙрди рд╕реЗрд╡рд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВ рдЬреЛ рдСрдирд▓рд╛рдЗрди рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рднрд╛рдЧ рдХреЗ рд╡рд░реНрддрдорд╛рди рд▓реЛрдб рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рднреБрдЧрддрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдорд╛рд░реЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдкрдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВред </p><br><p>  рд╢рд╛рдпрдж рд╣рдо рдЗрд╕ рдкрд░ рд░реЛрдХ рд▓рдЧрд╛ рджреЗрдВрдЧреЗ рддрд╛рдХрд┐ рдкреЛрд╕реНрдЯ рдХреЛ рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдкреЛрд╕реНрдЯ рдореЗрдВ рди рдмрджрд▓ рд╕рдХреЗрдВред  рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓реЗрдЦреЛрдВ рдореЗрдВ, рдореИрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдорд╢реАрдирдЧрди, рдмреЗрдВрдбрд░, рд╕реАрдПрдкреАрдЖрдИ рдФрд░ рд╣реЗрд▓рдЧреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднрд░реА рд╣реБрдИ рд╡рд┐рддрд░рд┐рдд рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди, рдЧрд╛рд░рдВрдЯреА рдФрд░ рдЖрджреЗрд╢ рдХреА рдкрд░рдорд╛рдгреБрддрд╛ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдКрдВрдЧрд╛ред </p><br><p>  рдЦреИрд░, рдирдордХ рд╕реНрдЯреИрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдЧрд▓реА рдмрд╛рд░ about <code>┬п\_(уГД)_/┬п</code> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi447440/">https://habr.com/ru/post/hi447440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi447426/index.html">рдХреИрд╕реЗ, рдХрд┐рд╕рд╕реЗ рдФрд░ рдХреНрдпреЛрдВ рд╕рд▓рд╛рд╣ рд▓реЗрдиреЗ рдЬрд╛рддреЗ рд╣реИрдВ? рдмрд┐рдЧ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi447430/index.html">IntelliJ IDEA 2019.1: рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдереАрдо рдХрд╛ рдЕрдиреБрдХреВрд▓рди, рдЬрд╛рд╡рд╛ 12 рд╕реЗ рд╕реНрд╡рд┐рдЪ рднрд╛рд╡, рдбреЙрдХрдЯрд░ рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рдЕрдВрджрд░ рдбрд┐рдмрдЧрд┐рдВрдЧ</a></li>
<li><a href="../hi447434/index.html">рд╕реНрдЯреЗрдкрд┐рдХ рд╕реЗ рдкреНрдпрд╛рд░ рдХреЗ рд╕рд╛рде: рд╣рд╛рдЗрдкрд░рд╕реНрдХрд┐рд▓ рд╢реИрдХреНрд╖рд┐рдХ рдордВрдЪ</a></li>
<li><a href="../hi447436/index.html">рд╡реЗрдмрд┐рдирд╛рд░ "рд╣рдореЗрдВ рдкрд░реАрдХреНрд╖рдХреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ?"</a></li>
<li><a href="../hi447438/index.html">рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рдФрд░ рд╕рд╛рд░ рдкрд░реАрдХреНрд╖рдг</a></li>
<li><a href="../hi447442/index.html">рд╢реЗрд▓-рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдкрд░рд┐рдЪрдп: рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрдЯрд░ рдмрдирд╛рдирд╛ рдФрд░ рднреА рдЖрд╕рд╛рди</a></li>
<li><a href="../hi447446/index.html">рдЖрдИрдмреАрдПрдо рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛рдПрдВ: рд╡рд╕рдВрдд-рдЧрд░реНрдорд┐рдпреЛрдВ 2019 - рдХреГрддреНрд░рд┐рдо рдмреБрджреНрдзрд┐, рдмрд╛рджрд▓ рд╡рд┐рдХрд╛рд╕, рдЪреИрдЯ рдмреЙрдЯ, рдмреНрд▓реЙрдХрдЪреЗрди рдФрд░ рдЕрдиреНрдп рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпрд╛рдВ</a></li>
<li><a href="../hi447448/index.html">рдЗрдВрдЯреЗрд▓рд┐рдЬреЗрдВрд╕ рдЗрд╡реЛрд▓реНрдпреВрд╢рди: рдж рдмрд┐рдЧрд┐рдирд┐рдВрдЧ</a></li>
<li><a href="../hi447450/index.html">рдШрд┐рджреНрд░рд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд╛рдзрд╛рд░рдг "рджрд░рд╛рд░" рддреЛрдбрд╝рдирд╛ - рднрд╛рдЧ 1</a></li>
<li><a href="../hi447452/index.html">рдЖрдкреВрд░реНрддрд┐ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╕реБрд░рдХреНрд╖рд╛: "рдпрджрд┐ рдореИрдВ рдПрдХ рд░рд╛рд╖реНрдЯреНрд░ рд░рд╛рдЬреНрдп рдерд╛ ..."</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>