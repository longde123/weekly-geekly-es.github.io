<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßìüèª üöÑ ‚úàÔ∏è Nous collectons l'analyse de cohorte / analyse des flux sur l'exemple d'Excel ‚è¨ üéí ü§∑üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un article pr√©c√©dent, j'ai d√©crit l'utilisation de l'analyse de cohorte pour d√©terminer les raisons de la dynamique de la client√®le. Aujourd'hui,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous collectons l'analyse de cohorte / analyse des flux sur l'exemple d'Excel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416017/"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Dans un article pr√©c√©dent,</a> j'ai d√©crit l'utilisation de l'analyse de cohorte pour d√©terminer les raisons de la dynamique de la client√®le.  Aujourd'hui, il est temps de parler des astuces de pr√©paration des donn√©es pour l'analyse de cohorte. </p><br><p>  Il est facile de dessiner des images, mais pour qu‚Äôelles soient lues et affich√©es correctement ¬´sous le capot¬ª, beaucoup de travail doit √™tre fait.  Dans cet article, nous parlerons de la fa√ßon de mettre en ≈ìuvre l'analyse de cohorte.  Je parlerai de l'impl√©mentation √† l'aide d'Excel, et dans un autre article √† l'aide de R. </p><br><p>  Que cela nous plaise ou non, mais en fait, Excel est un outil d'analyse de donn√©es.  Des analystes plus ¬´arrogants¬ª penseront qu'il s'agit d'un outil faible et peu pratique.  D'un autre c√¥t√©, en fait, des centaines de milliers de personnes effectuent une analyse de donn√©es dans Excel et √† cet √©gard, il battra facilement R / python.  Bien s√ªr, lorsque nous parlerons des avanc√©es analytiques et du machine learning, nous travaillerons sur R / python.  Et j'aimerais que la plupart des analyses soient effectu√©es avec uniquement ces outils.  Mais cela vaut la peine de reconna√Ætre les faits, la grande majorit√© des entreprises traitent et pr√©sentent les donn√©es dans Excel, et c'est l'outil que les analystes, les gestionnaires et les propri√©taires de produits ordinaires utilisent.  En outre, Excel est difficile √† vaincre en termes de simplicit√© et de clart√© du processus, car  vous ma√Ætrisez vos calculs et mod√®les litt√©ralement avec vos mains. </p><br><p>  Et alors, comment faisons-nous l'analyse de cohorte dans Excel?  Afin de r√©soudre de tels probl√®mes, vous devez d√©terminer 2 choses: </p><br><ol><li><p>  Quelles donn√©es avons-nous au d√©but du processus </p><br></li><li><p>  √Ä quoi devraient ressembler nos donn√©es √† la fin du processus. </p><a name="habracut"></a><br><p>  Pour collecter une analyse de cohorte, nous n'aurons pas seulement besoin de donn√©es r√©trospectives sur les dates et les divisions.  Nous avons besoin de donn√©es au niveau du client individuel.  Au d√©but du processus, nous avons besoin de: </p><br></li><li><p>  Date du calendrier </p><br></li><li><p>  Identifiant client </p><br></li><li><p>  Date d'enregistrement du client </p><br></li><li><p>  Volume des ventes de ce client √† cette date calendaire </p><br></li></ol><br><p>  La premi√®re difficult√© √† surmonter est d'obtenir ces donn√©es.  Si vous avez le bon stockage, vous devriez d√©j√† les avoir.  D'un autre c√¥t√©, si jusqu'√† pr√©sent vous n'avez mis en ≈ìuvre que l'enregistrement des donn√©es sur les ventes totales par jour, alors vous ne disposez que des donn√©es clients sur ¬´prod¬ª.  Pour l'analyse de cohorte, vous devrez impl√©menter ETL et placer les donn√©es dans le contexte des clients dans votre stockage, sinon vous ne r√©ussirez pas.  Et surtout, si vous s√©parez ¬´prod¬ª et analytics dans diff√©rentes bases de donn√©es, car  Les t√¢ches analytiques et les t√¢ches de fonctionnement de votre produit ont des objectifs diff√©rents: la concurrence pour les ressources.  Les analystes ont besoin d'agr√©gats et de calculs rapides pour de nombreux utilisateurs, le produit doit servir rapidement un utilisateur sp√©cifique.  J'√©crirai un article s√©par√© sur l'organisation du stockage. </p><br><p>  Vous avez donc des donn√©es de d√©marrage: </p><br><p><img src="https://habrastorage.org/webt/ck/5w/b8/ck5wb8uk9d82ql7j_e07iitxa_y.png"></p><br><p>  La premi√®re chose que nous devons faire est de les transformer en ¬´√©chelles¬ª.  Pour ce faire, vous devez cr√©er un tableau crois√© dynamique au-dessus de ce tableau, en lignes - la date d'enregistrement, en colonnes - la date du calendrier, en tant que valeurs - le nombre d'ID de clients.  Si vous avez correctement extrait les donn√©es, vous devriez obtenir un tel triangle / √©chelle: </p><br><p><img src="https://habrastorage.org/webt/dz/r0/0c/dzr00cwwaye1v9i9fbw7oozcdly.png"></p><br><p>  En g√©n√©ral, une √©chelle est notre graphique de cohorte, dans lequel chaque ligne affiche la dynamique d'une cohorte distincte.  Les clients √† temps dans cet affichage se d√©placent uniquement sur une ligne.  Ainsi, la dynamique de la cohorte refl√®te le d√©veloppement des relations avec un groupe de clients venus au cours d'une m√™me p√©riode.  Souvent, pour plus de commodit√© et sans perte de qualit√©, vous pouvez combiner des cohortes en ¬´blocs¬ª de rang√©es.  Par exemple, vous pouvez les regrouper par semaine et par mois.  De la m√™me mani√®re, vous pouvez √©galement regrouper une colonne.  Peut-√™tre que votre rythme de d√©veloppement de produits ne n√©cessite pas de d√©tails jusqu'√† plusieurs jours. </p><br><p>  Sur la base de cette √©chelle, vous pouvez construire un graphique √† partir de mon article (j'ai vraiment soulign√© que j'avais regroup√© plusieurs lignes en une seule pour que la cohorte soit plus petite): </p><br><p><img src="https://habrastorage.org/webt/cb/ff/pw/cbffpwi-gdfl89l-ujto3jvt-pk.png"></p><br><p>  Il s'agit d'un graphique avec des zones cumulatives o√π chaque ligne est une ligne, horizontalement d'une date. </p><br><p>  Une logique un peu plus compliqu√©e pour mettre en ≈ìuvre le calendrier des "flux".  Pour les threads, nous devons faire des calculs suppl√©mentaires.  En logique de thread, chaque client arrive dans des √©tats diff√©rents: </p><br><ol><li>  Nouveau - tout client qui a une diff√©rence entre la date d'inscription et la date du calendrier &lt;7 jours </li><li>  R√©activ√© - tout client qui n'est plus nouveau, mais qui n'a pas g√©n√©r√© de revenus au cours du dernier mois civil </li><li>  Valide - tout client qui n'est pas nouveau mais a g√©n√©r√© des revenus au cours du mois civil </li><li>  D√©c√©d√© - tout client qui n'a pas g√©n√©r√© de revenus pendant 2 mois cons√©cutifs </li></ol><br><p>  Tout d'abord, vous devez corriger ces d√©finitions dans l'entreprise afin de pouvoir impl√©menter correctement cette logique et calculer automatiquement les √©tats.  Ces 4 d√©finitions ont des implications importantes pour le marketing en g√©n√©ral.  Vos strat√©gies pour attirer, retenir et retourner seront bas√©es sur l'√©tat dans lequel vous pensez que le client est.  Et si vous commencez √† impl√©menter des mod√®les d'apprentissage automatique pour pr√©dire les sorties de clients, les d√©finitions deviendront votre pierre angulaire du succ√®s de ces mod√®les.  En g√©n√©ral, j'√©crirai un article s√©par√© sur l'organisation du travail et l'importance de la m√©thodologie analytique.  Ci-dessus, j'ai donn√© juste un exemple de ce que peuvent √™tre ces d√©finitions. </p><br><p>  Dans Excel, vous devez cr√©er une colonne suppl√©mentaire o√π entrer la logique d√©crite ci-dessus.  Dans notre cas, nous devons ¬´transpirer¬ª.  Nous avons 2 types de crit√®res: </p><br><ul><li>  La diff√©rence entre la date d'enregistrement et la date du calendrier - chaque ligne contient ces donn√©es et il vous suffit ensuite de les calculer (la soustraction des dates dans Excel donne simplement la diff√©rence en jours) </li><li>  Donn√©es sur les revenus du mois en cours et du mois dernier.  Ces donn√©es ne sont pas disponibles pour nous dans la ligne.  De plus, compte tenu du fait que la commande n'est pas garantie dans notre tableau, vous ne pouvez pas dire exactement o√π vous avez des donn√©es les autres jours du mois pour ce client. </li></ul><br><p>  Il existe 2 fa√ßons de r√©soudre le probl√®me de 2 types de crit√®res: </p><br><ol><li>  Demandez √† le faire dans la base de donn√©es.  SQL permet d'utiliser la fonction analytique pour calculer pour chaque client le montant des revenus pour le mois en cours et le dernier (pour le mois en cours SUM (revenue) OVER (PARTITION BY client_id, calendar_month, puis LAG pour obtenir le d√©calage pour le dernier mois): </li><li>  Dans Excel, vous devez l'impl√©menter comme ceci: <br><ul><li>  Pour le mois en cours: SUMMES (), les crit√®res seront l'ID client et le mois de la cellule du jour calendaire </li><li>  Pour le dernier mois: SUMMES (), les crit√®res seront l'ID client et le mois de la cellule du jour calendaire moins exactement 1 mois calendaire.  Dans ce cas, j'attire l'attention sur le fait que vous devez soustraire le mois civil et non 30 jours.  Sinon, vous risquez d'obtenir une image floue en raison du nombre in√©gal de jours dans les mois.  Utilisez √©galement la fonction IF ERROR pour remplacer les valeurs erron√©es pour les clients qui n'ont pas eu le mois dernier. </li></ul></li></ol><br><p>  En ajoutant les colonnes de revenus du mois en cours du dernier mois, vous pouvez cr√©er une condition int√©gr√©e IF en tenant compte de tous les facteurs (la diff√©rence de dates et le montant des revenus du mois en cours / du dernier mois): <br>  SI (diff√©rence de date &lt;7; ¬´nouveau¬ª; <br>  SI (ET (revenus du mois dernier = 0; revenus du mois en cours&gt; 0); "r√©activation"; <br>  SI (ET (revenus du mois dernier&gt; 0; revenus du mois en cours&gt; 0); "courants" <br>  SI (ET (revenus du mois dernier = 0; revenus du mois en cours = 0); "parti"; "erreur"))))) </p><br><p>  ¬´Erreur¬ª est n√©cessaire ici uniquement pour contr√¥ler que vous ne vous √™tes pas tromp√© dans l'enregistrement.  La logique des crit√®res d'√©tat MECE ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://en.wikipedia.org/wiki/MECE_principle</a> ), c'est-√†-dire  Si tout est fait correctement, alors chacun d'eux sera appos√© un √©tat sur 4 </p><br><p>  Vous devriez l'obtenir comme ceci: </p><br><p><img src="https://habrastorage.org/webt/y_/zo/wm/y_zowmltm2yxfv2evtkkrnl-mhg.png"></p><br><p>  Maintenant, ce tableau peut √™tre reconstruit √† l'aide d'un tableau crois√© dynamique dans un tableau pour le tra√ßage.  Vous devez le transformer en table: </p><br><p>  Date du calendrier (colonnes) <br>  √âtat (lignes) <br>  Nombre de clients id (valeurs dans les cellules) </p><br><p>  Ensuite, il nous suffit de construire un diagramme √† barres sur la base des donn√©es, avec des accumulations, sur l'axe X la date du calendrier, les lignes sont les √©tats, le nombre de clients est la hauteur des colonnes.  Vous pouvez changer l'ordre des √©tats sur le graphique en changeant l'ordre des lignes dans le menu ¬´s√©lectionner les donn√©es¬ª.  En cons√©quence, nous obtenons l'image suivante: </p><br><p><img src="https://habrastorage.org/webt/n1/pt/k9/n1ptk9jxdzcjzqf0xcruvgyplyk.png"></p><br><p>  Nous pouvons maintenant commencer √† interpr√©ter et √† analyser. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr416017/">https://habr.com/ru/post/fr416017/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr416007/index.html">√Ä peu pr√®s compliqu√©. Le d√©but de la cr√©ation d'une "maison intelligente" sans fil. Bas√© sur la technologie Linux, les logiciels Z-Wave et MajorDoMo</a></li>
<li><a href="../fr416009/index.html">Essayez les excr√©ments de lapin, c'est vigoureux, √ßa va attraper - extraits en pharmacologie</a></li>
<li><a href="../fr416011/index.html">Mod√®le BIF: code frontal propre et travail pratique avec les donn√©es du serveur</a></li>
<li><a href="../fr416013/index.html">Comment commencer √† investir et √©conomiser de l'argent: les experts de Dow Jones ont nomm√© les cinq principales erreurs des traders d√©butants</a></li>
<li><a href="../fr416015/index.html">Jouer avec les threads dans Node.JS 10.5.0</a></li>
<li><a href="../fr416019/index.html">Quelle est la qualit√© de l'√©cosyst√®me open source de R pour r√©soudre les probl√®mes commerciaux?</a></li>
<li><a href="../fr416021/index.html">D√©velopper votre propre framework et la croissance professionnelle d'un programmeur JS</a></li>
<li><a href="../fr416023/index.html">Comme l'√©crit le surnom de bot Telegram d'iOS, sur Swift</a></li>
<li><a href="../fr416025/index.html">Impl√©mentation de la navigation dans les applications Android √† l'aide du composant Architecture de navigation</a></li>
<li><a href="../fr416027/index.html">Le HI-FI sovi√©tique et ses cr√©ateurs: les passions de Hale - Electronique 150AC - 001</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>