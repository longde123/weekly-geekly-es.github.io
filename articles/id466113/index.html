<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🤝‍👨🏻 🛀🏿 🚌 Menentukan pengodean teks dalam PHP, bukan mb_detect_encoding 🌱 🙇 👎🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada beberapa pengkodean karakter alfabet Cyrillic. 

 Saat membuat situs di Internet biasanya menggunakan: 



- utf-8 
- windows-1251 
- koi8-r 
 Pen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menentukan pengodean teks dalam PHP, bukan mb_detect_encoding</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466113/">  Ada beberapa pengkodean karakter alfabet Cyrillic. <br><br>  Saat membuat situs di Internet biasanya menggunakan: <br><br><ul><li>  utf-8 </li><li>  windows-1251 </li><li>  koi8-r </li></ul><br>  Pengkodean lebih populer: <br><br><ul><li>  iso-8859-5 </li><li>  ibm866 </li><li>  mac-cyrillic </li></ul><br>  Ini mungkin bukan seluruh daftar, ini adalah pengkodean yang sering saya temui. <br><br>  Terkadang menjadi perlu untuk menentukan pengkodean teks.  Dan di PHP bahkan ada fungsi untuk ini: <br><br><pre><code class="php hljs">mb_detect_encoding</code> </pre> <br>  Tapi, seperti yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dituliskan oleh m00t</a> dalam artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mendefinisikan Penyandian Teks dalam PHP - Tinjauan Solusi yang Ada plus Sepeda Lain</a> <br><blockquote>  Singkatnya, itu tidak berfungsi. </blockquote>  Setelah membaca artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">m00t,</a> saya tidak terinspirasi oleh metodenya dan menemukan solusi ini: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Menentukan pengkodean teks dalam PHP dan Python</a> <br>  Seperti yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">saya</a> katakan <br><blockquote>  lagi kode karakter </blockquote>  Saya menguji fungsi menentukan pengkodean dengan kode karakter, hasilnya memuaskan saya dan saya menggunakan fungsi ini selama beberapa tahun. <br><br>  Baru-baru ini saya memutuskan untuk menulis ulang proyek tempat saya menggunakan fungsi ini, saya menemukan paket yang sudah jadi di packagist.org <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cnpait / detect_encoding</a> , di mana pengkodean ditentukan menggunakan metode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">m00t</a> <br><br>  Pada saat yang sama, paket yang ditentukan diinstal lebih dari 1200 kali, yang berarti bukan hanya untuk saya saja tugas menentukan pengkodean teks muncul secara berkala. <br><br>  Saya akan menginstal paket ini dan tenang, tetapi saya memutuskan untuk "bingung." <br><a name="habracut"></a><br>  Secara umum, saya membuat paket saya: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">onnov / detect-encoding</a> . <br><br>  Cara menggunakannya ditulis dalam README.md <br><br>  Saya akan menulis tentang mengujinya dan membandingkannya dengan paket <b>cnpait / detect_encoding</b> . <br><br><h4>  Metodologi pengujian </h4><br>  Ambil teks besar: Tolstoy - Anna Karenina <br>  Total - 1'701'480 karakter <br><br>  Kami menghapus semua yang tidak perlu, kami hanya meninggalkan alfabet Cyrillic: <br><br><pre> <code class="php hljs">$text = preg_replace(<span class="hljs-string"><span class="hljs-string">'/[^--]/ui'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, $text);</code> </pre> <br>  Masih ada 1'336'252 tanda-tanda cyrillic. <br><br>  Dalam loop, kami mengambil bagian dari teks (5, 15, 30, ... karakter), mengonversinya menjadi penyandian yang diketahui dan mencoba menentukan penyandian dengan skrip.  Kemudian bandingkan dengan benar atau tidak. <br><br>  Berikut adalah tabel di mana pengkodean di sebelah kiri, jumlah karakter yang olehnya pengkodean ditentukan di atas, tabel menunjukkan hasil keandalan dalam %% <br><div class="scrollable-table"><table><thead><tr><th>  surat -&gt; </th><th>  5 </th><th>  15 </th><th>  30 </th><th>  60 </th><th>  120 </th><th>  180 </th><th>  270 </th></tr></thead><tbody><tr><td>  windows-1251 </td><td>  99.13 </td><td>  98.83 </td><td>  98,54 </td><td>  99,04 </td><td>  99,73 </td><td>  99,93 </td><td>  100.0 </td></tr><tr><td>  koi8-r </td><td>  99,89 </td><td>  99,98 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td></tr><tr><td>  iso-8859-5 </td><td>  81.79 </td><td>  99.27 </td><td>  99,98 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td></tr><tr><td>  ibm866 </td><td>  99.81 </td><td>  99,99 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td><td>  100.0 </td></tr><tr><td>  mac-cyrillic </td><td>  12,79 </td><td>  47.49 </td><td>  73.48 </td><td>  92.15 </td><td>  99,30 </td><td>  99,94 </td><td>  100.0 </td></tr></tbody></table></div><br>  Akurasi terburuk dengan Mac Cyrillic, Anda memerlukan setidaknya 60 karakter untuk menentukan pengodean ini dengan akurasi 92,15%.  Pengkodean Windows-1251 juga memiliki akurasi yang sangat rendah.  Hal ini disebabkan oleh fakta bahwa jumlah karakter mereka dalam tabel tumpang tindih. <br><br>  Untungnya, penyandian mac-cyrillic dan ibm866 tidak digunakan untuk menyandikan halaman web. <br><br>  Mari kita coba tanpanya: <br><div class="scrollable-table"><table><thead><tr><th>  surat -&gt; </th><th>  5 </th><th>  10 </th><th>  15 </th><th>  30 </th><th>  60 </th></tr></thead><tbody><tr><td>  windows-1251 </td><td>  99.40 </td><td>  99,69 </td><td>  99,86 </td><td>  99,97 </td><td>  100.0 </td></tr><tr><td>  koi8-r </td><td>  99,89 </td><td>  99,98 </td><td>  99,98 </td><td>  100.0 </td><td>  100.0 </td></tr><tr><td>  iso-8859-5 </td><td>  81.79 </td><td>  96.41 </td><td>  99.27 </td><td>  99,98 </td><td>  100.0 </td></tr></tbody></table></div><br>  Keakuratan tekadnya tinggi bahkan dalam kalimat pendek dari 5 hingga 10 huruf.  Dan untuk frasa 60 huruf, akurasi penentuan mencapai 100%.  Namun, pengodeannya ditentukan dengan sangat cepat, misalnya, teks yang lebih panjang dari 1.300.000 karakter Sirilik diperiksa dalam 0,00096 detik.  (di komputer saya) <br><br>  Dan hasil apa yang akan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ditunjukkan</a> oleh metode statistik yang dijelaskan oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">m00t</a> : <br><div class="scrollable-table"><table><thead><tr><th>  surat -&gt; </th><th>  5 </th><th>  10 </th><th>  15 </th><th>  30 </th><th>  60 </th></tr></thead><tbody><tr><td>  windows-1251 </td><td>  88.75 </td><td>  96.62 </td><td>  98.43 </td><td>  99,90 </td><td>  100.0 </td></tr><tr><td>  koi8-r </td><td>  85.15 </td><td>  95,71 </td><td>  97.96 </td><td>  99,91 </td><td>  100.0 </td></tr><tr><td>  iso-8859-5 </td><td>  88.60 </td><td>  96.77 </td><td>  98,58 </td><td>  99,93 </td><td>  100.0 </td></tr></tbody></table></div><br>  Seperti yang Anda lihat, hasil dari menentukan encoding itu bagus.  Kecepatan naskah tinggi, terutama dalam teks pendek, dalam teks besar kecepatannya jauh lebih rendah.  Teks yang lebih panjang dari 1.300.000 karakter Cyrillic diperiksa dalam 0,32 detik.  (di komputer saya). <br><br><h4>  Temuan saya </h4><br><ul><li>  Kedua metode ini memberikan hasil yang baik. </li><li>  Keakuratan metode dekat. </li><li>  Kecepatan menentukan oleh kode karakter lebih tinggi dalam teks besar, tetapi ini hampir tidak penting, karena  tidak mungkin ada orang yang akan memeriksa teks yang begitu besar. </li><li>  Metode statistik masih memiliki potensi untuk meningkatkan akurasi penentuan pengkodean. </li></ul><br>  Metode mana yang digunakan terserah Anda.  Pada prinsipnya, Anda bisa menggunakan keduanya sekaligus. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466113/">https://habr.com/ru/post/id466113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466103/index.html">Pemantauan keamanan cloud</a></li>
<li><a href="../id466105/index.html">Overclocking Magento Rest API dengan RoadRunner</a></li>
<li><a href="../id466107/index.html">Lakukan sistem Smart Home sendiri</a></li>
<li><a href="../id466109/index.html">Pemecahan masalah dengan pwnable.kr 22 - brainfuck. Serangan ret2libc</a></li>
<li><a href="../id466111/index.html">Pelatihan Cisco 200-125 CCNA v3.0. Hari 32. Pemulihan Kata Sandi, XMODEM / TFTPDNLD dan Aktivasi Lisensi Cisco</a></li>
<li><a href="../id466121/index.html">Pembuatan suara pada mikrokontroler AVR menggunakan metode wavetable dengan dukungan polifoni</a></li>
<li><a href="../id466123/index.html">Pertumbuhan. Berat Tiga tetangga</a></li>
<li><a href="../id466127/index.html">Kola NPP atau berdiri di reaktor</a></li>
<li><a href="../id466129/index.html">Efisiensi transportasi dengan bensin, baterai dan hidrogen</a></li>
<li><a href="../id466135/index.html">Megapack: bagaimana pengembang Factorio berhasil memecahkan masalah dengan 200 pemain multipemain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>