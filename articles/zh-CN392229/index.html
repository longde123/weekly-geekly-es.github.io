<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏽‍🤝‍🧑🏽 🐃 🍵 摩托车赛车遥测。第1部分-原型 🔌 👉🏿 🏍️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我站在训练场上靠近摩-摩han（一种流行的汽车运动）的跑道上，我看着如何在智能手机的秒表上测量单圈时间。显然，无法像这样获得准确的数据。在家里，有几个街区，几个显示器，看来组装自动遥测仪所需要做的就是找到一对合适的传感器，让它们在自行车通过时起作用。于是开始了许多不眠之夜，用烙铁，vim，dreme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>摩托车赛车遥测。第1部分-原型</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/392229/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我站在训练场上靠近摩-摩han（一种流行的汽车运动）的跑道上，我看着如何在智能手机的秒表上测量单圈时间。</font><font style="vertical-align: inherit;">显然，无法像这样获得准确的数据。</font><font style="vertical-align: inherit;">在家里，有几个街区，几个显示器，看来组装自动遥测仪所需要做的就是找到一对合适的传感器，让它们在自行车通过时起作用。</font><font style="vertical-align: inherit;">于是开始了许多不眠之夜，用烙铁，vim，dremel甚至有时是研磨机。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
展望未来-事实证明，这些设备在[G] -RSBK motogimkhan锦标赛的所有三个阶段都成功完成了工作，并在训练中得到了积极使用。</font><font style="vertical-align: inherit;">结果收集到：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制器，用于测量到达时间</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制器传感器</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于显示结果的计分板</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">裁判小组</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以及其他东西！</font></font><br>
<br>
<img src="https://habrastorage.org/files/dde/9cc/4da/dde9cc4dac7a4c8082b01116890ffefe.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
购买了传感器，半个小时后，原型已经在显示屏上闪烁着数字。</font><font style="vertical-align: inherit;">没错，我误以为我在几个晚上都吃饱了。</font></font><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这篇文章在Fritzing中没有任何方案-网络上有很多关于连接传感器和显示器的指南，并且没有任何资料- </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（每个自重的程序员都会丢弃所有内容并从头开始编写它）</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我认为每个人都可以处理两个输入信号之间的间隔。</font><font style="vertical-align: inherit;">使用现有的工具和工具，首先将原型组装在适合运输的鞋盒中，然后将其制作成接近生产的形式，是一件更加有趣的任务。</font></font><br>
<br>
<blockquote> —  ,        ,   .    ,        ,       ,   .  ,    ,       , ..            —   ,    .<br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在比赛中，比赛从一个限锥盒开始，然后按照路线进行，终点也到达位于起点附近的限锥盒。</font><font style="vertical-align: inherit;">需要两个传感器-起点交叉点和终点交叉点。</font><font style="vertical-align: inherit;">到目前为止，已经决定将来直接从参与者离开盒子的时间开始检查时间-根据交通信号灯，传感器可以用来检查错误的开始时间。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是的，娱乐节目在两条相同的赛道上增加了双人比赛，这意味着应该有两组设备。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感测器</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
研究了这些产品之后，我发现并购买了光栅光束交叉传感器，它由两个模块组成-发射器和接收器。</font><font style="vertical-align: inherit;">广泛的电源电压范围是6-36V，来自传感器的信号是NPN输出。</font><font style="vertical-align: inherit;">在室内测试期间，它们被证明是极好的-几米的射程，良好的光束聚焦和响应速度-数毫秒之内。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
很好，现在您需要决定如何喂食，附着和引导它们。</font><font style="vertical-align: inherit;">所有IT员工都知道标准是好的，因此我将以12V电压供电，并使用标准照片架固定和指导。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发射器</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
令人惊讶的巧合是，发射器的大小与标准18650电池的大小一致。最后，我在传感器光束上钻了一个孔，在GoPro摄影三脚架上加了一个锯齿形顶部，一个电池和一个微型升压DC-DC转换器，最高可升至12V。红利-明亮的绿色LED照亮一根硅胶软管，该软管将光束的孔框住，打开时会发光。</font></font><br>
<br>
<img src="https://habrastorage.org/files/0d4/eb2/378/0d4eb2378f89428ab0548a87498ceeb3.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该设计的缺点是体积大，即使您不考虑DC-DC转换器的顺序双倍电压增加-内置高达5V，焊接高达12V。首先，它是一种对水分不稳定并且需要充电的有源设备。其次，事实证明，来自发射器电源的负载不足，一分钟后，移动电源的电子装置关闭。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
经过长时间的试验并放弃了绝对的拐杖选件，我找到了出路-找到并更换用于电流测量的并联电阻，以便评估板认为所连接的设备尚未充电。直觉表明，该电阻应为板上最大的电阻：</font></font><br>
<br>
<img src="https://habrastorage.org/files/8b3/693/750/8b36937504e648c3a2502eb3e0f7c3e4.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
而且没问题，然后就可以对smd电阻进行整齐的焊接了：在以下购买的充电盒中，电路和工作逻辑发生了很大变化，变得不适合我的目的：通过按钮继续打开电源，然后关闭电源-它只是自动减少了所连接设备的电流消耗，仅适用于为手机充电。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管如此，仍有几个拥有正确逻辑的移动电源-足以创建可用的原型。</font><font style="vertical-align: inherit;">能源消耗的非最佳性也不是很关键-电池可以连续运行两天。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接收者</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在了解到不可靠的供应商会改变电路之后，他得出结论，元件越容易接近和普及，越好。这意味着接收器将在其他建筑物中（最初有一种想法是在移动电源内进行所有操作，并通过无线电通道将数据传输到带有显示器的控制器）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
铝制方形型材，6P4C电话插孔，用于GoPro的三脚架安装，铆钉和大量热熔胶：</font></font><br>
<br>
<img src="https://habrastorage.org/files/ca5/a92/bcc/ca5a92bcca0648afa86525bfbfd09f2b.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了形成内部组件的热熔立方体，我使用了由型材制成的心轴，并用有机硅喷雾剂进行了修整-硬化后，在较低压力下挤压工件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此外，为便于调节，将两个融合成立方体的闪烁LED连接到传感器输出：因此，在对准传感器时，尽管控制器显示在屏幕上，您仍可以立即看到状态。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成任务-几乎所有组件都可以在最近的五金店购买！</font><font style="vertical-align: inherit;">结果，在最简单的三脚架上安装了传感器的起步门如下所示：</font></font><br>
 <br>
<img src="https://habrastorage.org/files/105/d69/442/105d694420294f08ab80103f4781cd59.jpg"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制者</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
控制器非常简单-当从第一个传感器接收到信号时，计时器启动，从第二个传感器停止，计时器开始计时。时间显示在OLED显示屏上，并使用nRF24L01模块通过空中发送。该电路也是原始的-显示器通过I2C，nRF24L01通过两根线连接-通过SPI通过四根线连接，再加上接地和电源。来自两个传感器的信号线-通过分压器到两个输入，并支持硬件中断。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首场比赛已经在进行中-您需要赶快使用原型车。我拿走了四组移动电源（带有硬件电源按钮）。一块电池将被正面的显示屏占用，而电话插孔的背面将被占用：</font></font><br>
<br>
<img src="https://habrastorage.org/files/585/c4c/57f/585c4c57f69748e39ea8b07c6284911d.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二块电池被Arduino Pro Mini PCB取代，焊接在LUT制造的电路板上，无线电模块和一堆电阻器上。可用空间不足-因此，值得考虑的是，导线占据了最大的空间：</font></font><br>
<br>
<img src="https://habrastorage.org/files/b69/2fe/fd6/b692fefd6b724fb2b9514f2f818a72f1.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
无论看上去多么可怕，该设计都可以正常工作，并且半年后电源板本身就出现了故障。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了方便调试和更新固件，FT232RL USB串行适配器端口已拔出并连接到Arduino Pro Mini串行端口。</font><font style="vertical-align: inherit;">为了通过同一连接器同时为电池充电，我应用了一个小技巧：您需要通过设备内部电路的VCC输出为FTDI模块供电，然后将MiniUSB的+ 5V引脚重定向到用于对移动电源充电的输入。</font><font style="vertical-align: inherit;">为此，只需去除适配器上的零电阻，然后从上接触垫上抽出电源即可：</font></font><br>
<br>
<img src="https://habrastorage.org/files/031/d7e/3af/031d7e3af4f44735bdc907055f52bf4b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
显而易见的方法是仅连接GND，RX和TX将不起作用：模块将通过RX引脚获得电源。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二控制器</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
举行了在街上的试乘活动，考虑了时间，传感器稳定地记录了十字路口-欢呼！然后-竞争在两周之内完成。这意味着时间已不多了：您需要根据业已证明的设计组装第二组传感器和第二台控制器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这就是为什么我喜欢Arduino-快速入门并无需阅读数据表即可使用大量铁的原因。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二种情况是，时尚但昂贵的OLED显示屏加上电池，将没有时间送邮件。我拿了一下手头的东西：一个用于存放小东西的盒子，一个电话插座，四个电阻，一个Arduino Nano，nRF24L01，一些显示器，一个稳定器KR142EN5A（赛道上总是有12V电源）。从字面上看，这是三个焊接点，所有其他焊接点都在面包板上，一个小时后，第二个焊接点就准备好了！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交货时-司法小组！</font><font style="vertical-align: inherit;">无线电设备盒，Arduino Uno，nRF24L01和一对带有八个七段指示器的显示器。</font><font style="vertical-align: inherit;">用面包板电线再次连接所有东西。</font><font style="vertical-align: inherit;">在这种情况下，我在USB端口上钻了一个孔，用于从外部移动电源或笔记本电脑供电，显示器-将热熔胶粘到透明盖上。</font><font style="vertical-align: inherit;">通过无线电模块接收数据包并将其显示在两个显示器之一上并不是一件很困难的事情，因此代码编写很快。</font><font style="vertical-align: inherit;">结果是一组法官从控制器复制信息，并进行第二套遥测：</font></font><br>
<br>
<img src="https://habrastorage.org/files/a7d/515/366/a7d515366b7b4af8bfb49f5594ca8490.JPG"><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比赛项目</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在比赛之前，我再次检查了所有设备，这是有充分的理由的：在一个控制器中，石英的频率为标准的16 MHz，在第二个控制器中的石英为16.384 MHz！不用说，他们对时间的看法有所不同。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我给电池充电并检查了连接-无线电模块表现出色，可以通过连接在印刷电路板上的天线广播数十米的数据。所有设备一起看起来已经更加令人印象深刻：</font></font><br>
<br>
<img src="https://habrastorage.org/files/4a8/b74/d77/4a8b74d77c8845a19a59c4cae03f609d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了好运，比赛日被证明是温暖干燥的—设备将能够生存。在标记轨道时，我正在布置设备：</font></font><br>
<br>
<img src="https://habrastorage.org/files/027/ebe/901/027ebe90192d4defa3f0215cf61fa0c0.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第一场比赛开始了-欢呼，一切都很顺利！</font><font style="vertical-align: inherit;">没有误报，时间肯定会中断。</font><font style="vertical-align: inherit;">女孩在起跑时帮助运动员将自行车放在起跑门上，并在终点记录结果。</font><font style="vertical-align: inherit;">法官的便携式面板可以提供很大帮助-在阳光下，位于沥青上的控制器的LED指示灯几乎看不见。</font></font><br>
<br>
<img src="https://habrastorage.org/files/4a6/dd8/641/4a6dd864146f4d6b948caa396078af94.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这个想法得到了回报：进行了近百场平行比赛（这是记录的200次），没有失败，并且公路摩托车级别的前两个位置之间的差为0.1秒，这很难手动测量。</font><font style="vertical-align: inherit;">因此决定：该项目将成为！</font></font><br>
<br>
<img src="https://habrastorage.org/files/0d0/6c4/ab6/0d06c4ab6c1443d6ac57f9895da322f3.jpg"></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN392229/">https://habr.com/ru/post/zh-CN392229/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN392219/index.html">宇宙未来的沉寂</a></li>
<li><a href="../zh-CN392221/index.html">Из-за мутации в X-хромосоме некоторые женщины различают в 100 раз больше цветов, чем обычные люди</a></li>
<li><a href="../zh-CN392223/index.html">科学家建议，通过计算机使用的频率可以确定阿尔茨海默氏症的早期阶段</a></li>
<li><a href="../zh-CN392225/index.html">日语节目创作的小说进入文学大赛决赛</a></li>
<li><a href="../zh-CN392227/index.html">切尔诺贝利核电站周围的禁区计划用作核废料的垃圾场。</a></li>
<li><a href="../zh-CN392231/index.html">闪存的发展历史。第二部分：纸牌战</a></li>
<li><a href="../zh-CN392233/index.html">在安哥拉，充分利用免费的Wikimedia流量</a></li>
<li><a href="../zh-CN392235/index.html">21世纪男人的沉重负担</a></li>
<li><a href="../zh-CN392237/index.html">很小，只有八只脚，像Arduino一样工作-这是什么？</a></li>
<li><a href="../zh-CN392239/index.html">风险投资：第一批对冲基金淹没了山谷，但是现在一切都不同了</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>