<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ∞Ô∏è üìÄ üõèÔ∏è Optimizaci√≥n o c√≥mo no dispararte en el pie üíΩ üëú üë®‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buen dia a todos. Hoy quiero hablar contigo sobre la optimizaci√≥n. Qu√© es, por qu√© es necesario y, lo m√°s importante, c√≥mo asegurarse de que no duela ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Optimizaci√≥n o c√≥mo no dispararte en el pie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469127/"><p>  Buen dia a todos.  Hoy quiero hablar contigo sobre la optimizaci√≥n.  Qu√© es, por qu√© es necesario y, lo m√°s importante, c√≥mo asegurarse de que no duela dolorosamente en ese momento. </p><br><a name="habracut"></a><p>  En primer lugar, entenderemos qu√© es la optimizaci√≥n en general y qu√© es la optimizaci√≥n en JS.  Entonces, la optimizaci√≥n es la mejora de algo de acuerdo con alguna caracter√≠stica cuantitativa.  JS identific√≥ cuatro caracter√≠sticas cuantitativas por s√≠ mismo: </p><br><p>  <b>La cantidad de c√≥digo</b> : generalmente se acepta que cuantas menos l√≠neas de c√≥digo se escriban, m√°s productivas y mejores.  Mi opini√≥n es fundamentalmente diferente, porque al escribir una l√≠nea de c√≥digo puede crear tal p√©rdida de memoria o ciclo perpetuo que el navegador simplemente muere. </p><br><p>  <b>La velocidad (rendimiento)</b> es la llamada complejidad computacional, es decir, la cantidad de acciones que el analizador necesitar√° realizar para ejecutar la instrucci√≥n. </p><br><p>  <b>Velocidad de creaci√≥n</b> : no es ning√∫n secreto que ahora casi ninguno de los proyectos puede funcionar sin constructores como Webpack o Gulp, por lo tanto, esta caracter√≠stica muestra la correcci√≥n de la configuraci√≥n del creador de proyectos.  Cr√©ame, cuando el servidor es un poco m√°s inteligente que el molinillo de caf√©, se vuelve importante. </p><br><p>  <b>Reutilizaci√≥n de c√≥digo</b> : esta caracter√≠stica muestra qu√© tan bien se construye la arquitectura para reutilizar funciones, componentes y m√≥dulos. <br>  Considere cada una de las categor√≠as con m√°s detalle, analizaremos qu√© caracter√≠sticas incluye y de qu√© depende. </p><br><p>  <b>Volumen de c√≥digo:</b> <br><br></p><ul><li>  Doblaje  Cu√°nto c√≥digo del mismo tipo se escribi√≥ en diferentes lugares; </li><li>  Comentarios  Los comentarios en el c√≥digo son buenos, pero me he encontrado con proyectos en los que hab√≠a m√°s comentarios que c√≥digo; </li><li>  Falta de unificaci√≥n.  Un buen ejemplo de tal problema son funciones similares, que tienen matices dependiendo de alguna propiedad. </li><li>  La presencia de c√≥digo muerto.  Muy a menudo en los proyectos hay funciones de depuraci√≥n o funciones que no se utilizan en absoluto. </li></ul><br><p>  <b>Rendimiento:</b> </p><br><ul><li>  Usando el mecanismo de almacenamiento en cach√© del navegador; </li><li>  Optimizaci√≥n de c√≥digo basada en aquellos entornos en los que se ejecutar√°; </li><li>  La presencia de fugas de memoria; </li><li>  Utilizando trabajadores web; </li><li>  Usar referencias a elementos del √°rbol DOM; </li><li>  Uso de variables globales; </li><li>  La presencia de llamadas recursivas; </li><li>  Simplificaci√≥n de c√°lculos matem√°ticos. </li></ul><br><p>  <b>Velocidad de construcci√≥n:</b> </p><br><ul><li>  El n√∫mero de dependencias externas; </li><li>  Conversiones de c√≥digo.  Esto se refiere a la cantidad de fragmentos y su tama√±o, conversiones CSS, pegado de archivos, optimizaci√≥n de gr√°ficos y mucho m√°s. </li></ul><br><p>  <b>Reutilizaci√≥n de c√≥digo:</b> </p><br><ul><li>  N√∫mero de componentes; </li><li>  Repetibilidad de componentes </li><li>  Flexibilidad y personalizaci√≥n. </li></ul><br><p>  Como se dijo en art√≠culos anteriores, para cambiar algo, debe determinar el punto de partida y determinar qu√© tan mal est√° todo.  ¬øD√≥nde comenzar un proceso tan voluminoso?  Comience con lo m√°s simple: acelere el tiempo de montaje y corte del exceso del proyecto.  ¬øPregunta por qu√© vale la pena comenzar con esto?  Debido al hecho de que dependen el uno del otro.  Reducir la cantidad de c√≥digo aumentar√° la velocidad de compilaci√≥n de las compilaciones y, en consecuencia, aumentar√° su productividad. </p><br><p>  La optimizaci√≥n del tiempo de compilaci√≥n inevitablemente nos introduce al concepto de compilaci√≥n "en fr√≠o": este es el proceso cuando un proyecto comienza desde cero y hasta el punto en que todas las dependencias se ven afectadas y el c√≥digo se vuelve a compilar por completo.  No confunda con Rebild: esto es reconstruir el c√≥digo del cliente sin extraer dependencias externas y otras mallas. </p><br><p>  Para aumentar la velocidad de construcci√≥n de la construcci√≥n ayudar√°: </p><br><ul><li>  Utilizando ensambladores modernos.  Las tecnolog√≠as no se detienen, y si tiene el primer paquete web, cuando pase al cuarto ver√° un aumento agradable que ya no hace nada; </li><li>  Deshacerse de todas las adicciones muertas.  De vez en cuando, los desarrolladores, al tratar de encontrar la verdad en el fondo de la lata de √°cido sulf√∫rico, se olvidan de limpiar despu√©s de sus propios experimentos. el paquete?  S√≠, no se incluir√°n en el ensamblaje en s√≠, pero el paquete se desinflar√°.  La pregunta es, ¬øpor qu√©? </li><li>  Divida el ensamblaje en varios perfiles seg√∫n sus necesidades.  M√≠nimo dos: prod y dev.  Caso en cuesti√≥n: c√≥digo de ofuscaci√≥n.  En prod, esto es obligatorio, ya que menos peso = carga m√°s r√°pida, pero en ofuscaci√≥n de desarrollo solo interfiere y gasta el tiempo de construcci√≥n en manipulaciones innecesarias; </li><li>  Paralelizaci√≥n de pasos de ensamblaje individuales; </li><li>  Usando clientes npm que pueden almacenar en cach√©. </li></ul><br><p>  Acelerar la reconstrucci√≥n y la construcci√≥n "en fr√≠o" requerir√° eliminar comentarios innecesarios y partes muertas de c√≥digo.  Sin embargo, ¬øqu√© hacer si tiene un gran proyecto y no es posible inspeccionarlo usted mismo?  En tales casos, los analizadores de c√≥digo vienen al rescate. </p><br><p>  Personalmente, uso peri√≥dicamente <b>SonarQube</b> , no el mejor, pero flexible.  Se le pueden ense√±ar las caracter√≠sticas del proyecto, si las hay.  De vez en cuando hace cosas que al menos se paran, al menos caen, pero, como cualquier instrumento, debe ser capaz de usarlo y no olvidar ser esc√©ptico sobre sus comentarios.  A pesar de todas sus desventajas, se enfrenta a una explosi√≥n con la b√∫squeda de c√≥digo muerto, comentarios, la presencia de copiar y pegar y cosas peque√±as, como la falta de una comparaci√≥n estricta. </p><br><p>  La diferencia fundamental entre SonarQube y ESlint / TSLint / Prettier y otros similares es que comprueba la calidad del c√≥digo, a√≠sla el doblaje, la complejidad del c√°lculo y tambi√©n ofrece recomendaciones sobre los cambios necesarios.  Los an√°logos simplemente verifican el c√≥digo en busca de errores, sintaxis y formato. </p><br><p>  En la pr√°ctica, me encontr√© con <b>codacy</b> , un buen servicio con una suscripci√≥n gratuita y de pago.  Ser√° √∫til si necesita verificar algo en el lateral, sin tener que desplegar esta 'cosechadora' en casa.  Tiene una interfaz intuitiva, una indicaci√≥n detallada de lo que est√° mal con el c√≥digo y mucho m√°s. </p><br><p>  En este art√≠culo no tocar√© el tema de configurar la compilaci√≥n, los fragmentos y el resto, porque todo depende de las necesidades del proyecto y del generador instalado.  Quiz√°s hablar√© sobre esto en otros art√≠culos. </p><br><p>  Las manipulaciones realizadas ayudaron a acelerar el montaje: ganancias, pero ¬øqu√© sigue?  Dado que los analizadores pueden encontrar el doblaje de c√≥digo, ser√° √∫til colocarlo en m√≥dulos o componentes separados, aumentando as√≠ la reutilizaci√≥n del c√≥digo. </p><br><p>  Solo hab√≠a una secci√≥n que no tocamos: la velocidad del c√≥digo en s√≠.  El mecanismo mismo de llevar a un sentido de productividad del mismo es llamado por toda la refactorizaci√≥n de palabras odiadas.  Echemos un vistazo m√°s de cerca a lo que vale la pena hacer al refactorizar y lo que no. </p><br><p>  Regla de vida: si funciona, no lo toques, no deber√≠a guiarte en este proceso.  La primera regla en TI: hacer una copia de seguridad, luego dir√° gracias a usted mismo.  En la parte delantera, antes de realizar cambios, realice pruebas para no perder funcionalidad en el futuro.  Luego preg√∫ntese: ¬øc√≥mo determinar los tiempos de carga y las p√©rdidas de memoria? </p><br><p>  Esto ayudar√° a DevTool.  No solo mostrar√° una p√©rdida de memoria, le indicar√° el tiempo de carga de la p√°gina, la reducci√≥n de la animaci√≥n y, si tiene suerte, realizar√° una auditor√≠a por usted, pero esto no es exacto.  DevTools tambi√©n tiene una buena caracter√≠stica, como limitar la velocidad de descarga, que le permitir√° predecir la velocidad de carga de la p√°gina con Internet deficiente. </p><br><p>  Pudimos identificar los problemas, ¬°ahora vamos a resolverlos! </p><br><p>  Para comenzar, reduciremos el tiempo de carga utilizando el mecanismo de almacenamiento en cach√© del navegador.  El navegador puede almacenar todo en cach√© y, posteriormente, proporcionar al usuario datos del cach√©.  Almacenamiento local y almacenamiento de sesiones que nadie te quit√≥.  Le permiten almacenar algunos de los datos que ayudan a acelerar el SPA durante las descargas posteriores y reducir las solicitudes innecesarias del servidor. </p><br><p>  Se considera necesario optimizar el c√≥digo en funci√≥n del entorno en el que se ejecutar√°, pero como muestra la pr√°ctica, consume mucho tiempo y esfuerzo, sin generar un crecimiento tangible.  Propongo considerar esto solo como una recomendaci√≥n. <br>  Es naturalmente recomendable eliminar todas las p√©rdidas de memoria.  No me enfocar√© en esto, creo que todos saben c√≥mo eliminarlos, y si no, simplemente b√∫scalo en Google. </p><br><p>  Otro de nuestros asistentes es un trabajador web.  Los trabajadores web son hilos propiedad del navegador que se pueden usar para ejecutar c√≥digo JS sin bloquear el bucle de eventos.  Los trabajadores web pueden realizar tareas computacionalmente pesadas y largas sin bloquear el flujo de la interfaz de usuario.  De hecho, cuando se usan, los c√°lculos se realizan en paralelo.  Ante nosotros hay un verdadero subproceso m√∫ltiple.  Hay tres tipos de trabajadores web: </p><br><ol><li>  Trabajadores dedicados: el proceso principal crea instancias de trabajadores web dedicados.  Solo el proceso en s√≠ mismo puede intercambiar datos con ellos. </li><li>  Trabajadores compartidos (Trabajadores compartidos): el acceso a un trabajador compartido se puede obtener mediante cualquier proceso que tenga la misma fuente que el trabajador (por ejemplo, diferentes pesta√±as del navegador, iframe y otros trabajadores compartidos). </li><li>  Los trabajadores de servicio son trabajadores impulsados ‚Äã‚Äãpor eventos registrados utilizando su fuente y ruta.  Pueden controlar la p√°gina web a la que est√°n vinculados interceptando y modificando comandos de navegaci√≥n y solicitudes de recursos, y almacenando datos en cach√© que pueden controlarse con mucha precisi√≥n.  Todo esto nos brinda excelentes herramientas para controlar el comportamiento de la aplicaci√≥n en una situaci√≥n determinada (por ejemplo, cuando la red no est√° disponible). </li></ol><br><p>  C√≥mo trabajar con ellos se puede encontrar f√°cilmente en Internet. </p><br><p>  De alguna manera descubrimos los enfoques y los problemas de terceros, ahora propongo hablar sobre el c√≥digo en s√≠. </p><br><p>  En primer lugar, trate de deshacerse de las llamadas directas al √°rbol DOM, ya que esta es una operaci√≥n que requiere mucho tiempo.  Imaginemos que est√° constantemente manipulando alg√∫n tipo de objeto en su c√≥digo.  En lugar de trabajar con este objeto por referencia, constantemente extrae el √°rbol DOM para buscar este elemento y trabajar con √©l, e implementamos el patr√≥n de almacenamiento en cach√© en el c√≥digo. </p><br><p>  El segundo paso es deshacerse de las variables globales.  ES6 nos dio una invenci√≥n maravillosa de la humanidad llamada variables de bloque (en t√©rminos simples, declaraciones de variables de <b>var</b> a <b>let</b> y <b>const</b> ). </p><br><p>  Y finalmente, lo m√°s delicioso.  Aqu√≠, desafortunadamente, no todos tienen la experiencia suficiente para entender los matices.  Estoy en contra del uso de funciones recursivas.  S√≠, reducen la cantidad de c√≥digo escrito, pero no puede funcionar sin problemas: a menudo, estas funciones recursivas no tienen condiciones de salida, simplemente se olvidan de ellas.  Como en el adagio "puedes romper un dedo con un martillo, pero esto no es un problema de martillo, sino un due√±o del dedo" o una broma sobre gatos: las funciones recursivas no son malas, debes poder cocinarlas. </p><br><p>  A pesar de todo el poder de las aplicaciones front-end modernas, no debe olvidarse de lo b√°sico.  Un claro ejemplo de desperdicio e irracionalidad es la adici√≥n de nuevos elementos al comienzo de la matriz.  Qui√©n sabe, √©l entendi√≥, y el que no, ahora lo dir√©.  Todos saben que los elementos de matriz tienen su propio √≠ndice, y cuando vamos a agregar un nuevo elemento de matriz a su comienzo, la secuencia de acciones ser√° la siguiente: </p><br><ol><li>  Definici√≥n de longitud de matriz </li><li>  Numeraci√≥n de cada elemento. </li><li>  Desplazamiento de cada elemento de matriz </li><li>  Insertar un nuevo elemento en una matriz </li><li>  Reindexar elementos de la matriz. </li></ol><br><p>  <b>Resumen:</b> </p><br><p>  Es hora de redondear, y para aquellos que se sienten c√≥modos con el formato de los memos, mantenga una lista de pasos gracias a los cuales puede comprender en qu√© etapa de optimizaci√≥n se encuentra ahora y qu√© hacer a continuaci√≥n: </p><br><ol><li>  Determinamos cu√°nto est√° todo bien / mal, eliminamos las m√©tricas. </li><li>  Eliminamos todo lo innecesario: dependencias no utilizadas, c√≥digo muerto, comentarios innecesarios. </li><li>  Personalizamos y aceleramos el tiempo de montaje, configuramos diferentes perfiles para los contornos. </li><li>  Analizamos el c√≥digo y decidimos qu√© partes optimizaremos y reescribiremos. </li><li>  Estamos escribiendo pruebas para evitar la p√©rdida de funcionalidad. </li><li>  Comenzamos la refactorizaci√≥n, nos deshacemos de las variables globales, las p√©rdidas de memoria, el c√≥digo de doblaje y otra basura, y no nos olvidamos del almacenamiento en cach√©. </li><li>  Simplificamos la complejidad de los c√°lculos y llevamos todo lo posible al trabajador web. </li></ol><br><p>  Todo no es tan complicado como parece a primera vista.  Tu secuencia probablemente ser√° diferente a la m√≠a, aunque solo sea porque tienes tu propia cabeza sobre tus hombros.  Agregar√° nuevos elementos o, por el contrario, reducir√° su n√∫mero, pero la base de la lista ser√° similar.  Describ√≠ espec√≠ficamente la divisi√≥n para que esta actividad se pueda ejecutar en paralelo con el trabajo principal.  A menudo, el cliente no est√° listo para pagar el reproceso, ¬øest√° de acuerdo? </p><br><p>  <b>Y finalmente</b> </p><br><p>  Creo en ti y que tendr√°s √©xito.  ¬øCrees que soy ingenuo?  Supongo que se sorprender√°, pero desde que encontr√≥ este art√≠culo, l√©alo hasta el final, significa que (tengo buenas noticias para usted) tiene cerebro y est√° tratando de desarrollarlos.  ¬°Le deseo √©xito en una tarea tan dif√≠cil como optimizar el frente! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/469127/">https://habr.com/ru/post/469127/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../469111/index.html">Reemplazar objeto con var: ¬øqu√© podr√≠a salir mal?</a></li>
<li><a href="../469115/index.html">Gu√≠a Discovery.js: Inicio r√°pido</a></li>
<li><a href="../469117/index.html">Programaci√≥n bajo BC 0010 en 2019</a></li>
<li><a href="../469119/index.html">Las direcciones IPv4 en RIPE han terminado. Completamente terminado ...</a></li>
<li><a href="../469125/index.html">Tema oscuro de Thunderbird como raz√≥n para ejecutar un analizador de c√≥digo</a></li>
<li><a href="../469129/index.html">Debido al tema oscuro, Thunderbird tuvo que ejecutar un analizador de c√≥digo</a></li>
<li><a href="../469131/index.html">Genio</a></li>
<li><a href="../469133/index.html">¬øQu√© gadgets ha presentado Amazon en su Hardware Event 2019?</a></li>
<li><a href="../469135/index.html">Conceptos err√≥neos comunes sobre la POO</a></li>
<li><a href="../469137/index.html">El cerebro es la √∫ltima frontera de la privacidad.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>