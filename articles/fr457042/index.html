<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏼 📸 🥩 Promenade dans les arbres en plusieurs fils 🧑🏾‍🤝‍🧑🏾 👨🏽‍🌾 😀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour à tous, je souhaite partager avec le public une certaine quantité d'informations qui me semblait difficile à trouver sur Internet. 

 Qu'est-c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Promenade dans les arbres en plusieurs fils</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457042/"> Bonjour à tous, je souhaite partager avec le public une certaine quantité d'informations qui me semblait difficile à trouver sur Internet. <br><br>  Qu'est-ce qu'un arbre, voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Wikipedia</a> . <br><br><img src="https://habrastorage.org/webt/uw/9z/ui/uw9zuib3-ki0i7att_jrqbjp_ao.png"><br>  <i>Fig. 1 Exemple d'arbre.</i> <br><a name="habracut"></a><br>  Alors, pourquoi avez-vous même besoin de parcourir l'arborescence dans plusieurs threads?  Dans mon cas, c'était la nécessité de rechercher des fichiers sur le disque.  Il est clair que physiquement le disque fonctionne dans un flux, mais néanmoins, la recherche de fichiers multithread peut donner une accélération, dans le cas où un flux unique recherche un fichier dans une hiérarchie à plusieurs niveaux, et le fichier souhaité se trouve dans un dossier adjacent avec un niveau.  La mise en œuvre de nombreux produits commerciaux à succès est également une preuve de la pertinence de l'utilisation de la recherche multithread.  Je n'exclus pas que d'autres variantes de l'application de l'algorithme soient possibles, écrivez dans les commentaires. <br><br>  Pour commencer, je propose de considérer l'animation: <br><br><img src="https://habrastorage.org/webt/b3/4f/ce/b34fceqah22tb62mwe3qabl4fpy.gif"><br><br>  Que se passe-t-il ici?  L'essence même de l'algorithme est que: <br><br><ol><li>  Le premier ruisseau contourne l'arbre à partir de la racine jusqu'à toute la profondeur le long du chemin «extrême gauche», c'est-à-dire  se déplace toujours vers la gauche lorsque vous vous déplacez vers l'intérieur ou, en d'autres termes, sélectionne toujours le dernier nœud enfant. </li><li>  En parallèle, le premier thread collecte tous les nœuds enfants manquants et les envoie à la file d'attente (ou à la pile) où un autre thread les emmène, la file d'attente ou la pile doit implémenter une approche multithread et l'algorithme se répète, en substituant le nœud qui vient d'être pris à la place de la racine. <br><br>  En fait, en général, l'algorithme ressemble à ceci (une couleur - un fil): <br></li></ol><br>  En fait, en général, l'algorithme ressemble à ceci (une couleur - un fil): <br><img src="https://habrastorage.org/webt/t3/h7/jz/t3h7jzqxqtpyuesf0zcpuogyk38.gif"><br><br><h3>  Implémentation de logiciels Java </h3><br>  Je donne un exemple de code qui pourrait être utile pour quelqu'un, je l'ai cherché longtemps, mais je ne l'ai pas trouvé: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.File; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.BlockingQueue; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.Executor; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.Executors; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.concurrent.LinkedBlockingDeque; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MultiThreadTreeWalker</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Thread</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> BlockingQueue&lt;File&gt; nodesToReview = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LinkedBlockingDeque&lt;&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> File f; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MultiThreadTreeWalker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(File f)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.f = f; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MultiThreadTreeWalker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ Executor ex = Executors.newFixedThreadPool(<span class="hljs-number"><span class="hljs-number">2</span></span>); MultiThreadTreeWalker mw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultiThreadTreeWalker(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"C:\\"</span></span>)); mw.run(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">2</span></span>;i++) { ex.execute(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MultiThreadTreeWalker()); } } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (f != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//    reviewFileSystem(f); } else { try { while (true) { f = nodesToReview.take(); reviewFileSystem(f); } } catch (InterruptedException e) { e.printStackTrace(); } } } void reviewFileSystem(File f) { if (f == null) { return; } if (f.isFile()) { //  (+ ) System.out.println(" " + f.getName() + "   " + Thread.currentThread()); return; } File[] files = f.listFiles(); if (files.length != 0) { for (int i = 0; i &lt; files.length - 1; i++) { nodesToReview.add(files[i]); //     } //       File last = files[files.length - 1]; reviewFileSystem(last); } } }</span></span></code> </pre> <br><h3>  Conclusion </h3><br>  Comme vous pouvez le voir, le multithreading en Java peut être implémenté tout simplement via BlockingQueue, une structure de données qui donne accès à plusieurs threads aux données stockées. <br><br>  En général, c'est tout, bref, écrivez des commentaires sur les autres méthodes ou méthodes de traversée d'arbre qui existent, je voudrais entendre l'opinion du gourou à ce sujet.  Écrivez des questions, des souhaits. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien vers GitHub</a> .  Il y a aussi un moteur de recherche JavaFX à proximité, si quelqu'un veut tester, je serai content. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr457042/">https://habr.com/ru/post/fr457042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr457020/index.html">Une sélection de sources académiques et scientifiques</a></li>
<li><a href="../fr457022/index.html">Relocalisation informatique. De Bangkok à Sydney</a></li>
<li><a href="../fr457032/index.html">Où vont voler les Américains: vers Mars ou vers la lune?</a></li>
<li><a href="../fr457036/index.html">Le changement de mot de passe périodique est une pratique dépassée, il est temps de l'abandonner</a></li>
<li><a href="../fr457040/index.html">Comment faire plus en tant que pigiste et ne pas perdre sa motivation</a></li>
<li><a href="../fr457054/index.html">Dictionnaire des métriques publicitaires. CTR, CPI, CPM, CPC, CR</a></li>
<li><a href="../fr457056/index.html">Organisation de l'accès multi-utilisateurs au serveur GIT</a></li>
<li><a href="../fr457058/index.html">Conversion des résultats d'impression en clics pour Google et Yandex en 2019</a></li>
<li><a href="../fr457060/index.html">Trois vidéos pour les écrivains iOS</a></li>
<li><a href="../fr457062/index.html">Centre de formation des cosmonautes à Star City</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>