<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå§Ô∏è üë©üèº‚ÄçüöÄ ü§† Directrices pr√°cticas para desarrollar aplicaciones React a gran escala. Parte 2: gesti√≥n del estado, enrutamiento üî∞ ü§≥üèº üëåüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy publicamos la segunda parte de la traducci√≥n del material, dedicada al desarrollo de aplicaciones React a gran escala. Aqu√≠ hablaremos sobre la ge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Directrices pr√°cticas para desarrollar aplicaciones React a gran escala. Parte 2: gesti√≥n del estado, enrutamiento</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/458498/">  Hoy publicamos la segunda parte de la traducci√≥n del material, dedicada al desarrollo de aplicaciones React a gran escala.  Aqu√≠ hablaremos sobre la gesti√≥n del estado de las aplicaciones, el enrutamiento y el desarrollo de interfaces. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/be/rk/zj/berkzjayeeo2ap1yvpeeunb3b6e.png"></a> <br><br>  Parte 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pautas pr√°cticas para desarrollar aplicaciones React a gran escala.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Planificaci√≥n, acciones, or√≠genes de datos y API</a> <br><br>  Parte 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pautas pr√°cticas para desarrollar aplicaciones React a gran escala.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2: gesti√≥n del estado, enrutamiento</a> <br><br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Administraci√≥n del estado de la aplicaci√≥n, integraci√≥n de Redux, organizaci√≥n de enrutamiento</font> </h2><br>  Aqu√≠ hablaremos sobre c√≥mo puede ampliar la funcionalidad de Redux para poder realizar de manera ordenada operaciones complejas en la aplicaci√≥n.  Si tales mecanismos se implementan mal, pueden violar el patr√≥n utilizado en el dise√±o del repositorio. <br><br>  Las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funciones del generador de</a> JavaScript pueden resolver muchos de los problemas asociados con la programaci√≥n asincr√≥nica.  El hecho es que estas funciones se pueden iniciar y detener a petici√≥n del programador.  El middleware Redux-saga utiliza este concepto para gestionar aspectos problem√°ticos de una aplicaci√≥n.  En particular, estamos hablando de resolver tales problemas, que no pueden resolverse con la ayuda de reductores, presentados en forma de funciones puras. <br><br><h3>  <font color="#3AC1EF">‚ñçResolver tareas que no se pueden resolver con funciones puras</font> </h3><br>  Considere el siguiente escenario.  Le ofrecieron trabajar en una aplicaci√≥n dise√±ada para una empresa que trabaja en el mercado inmobiliario.  El cliente quiere obtener un sitio web nuevo y mejor.  A su disposici√≥n hay una API REST, tiene dise√±os de todas las p√°ginas preparadas con Zapier, ha esbozado un plan de aplicaci√≥n.  Pero luego surgi√≥ un problema considerable. <br><br>  La empresa cliente ha estado utilizando un cierto sistema de gesti√≥n de contenido (CMS).  Los empleados de la empresa conocen bien este sistema, por lo que el cliente no quiere cambiar al nuevo CMS solo para facilitar la escritura de nuevas publicaciones en el blog corporativo.  Adem√°s, tambi√©n debe copiar las publicaciones existentes del blog en un sitio nuevo, y esto tambi√©n puede generar un problema. <br><br>  Lo bueno es que el CMS utilizado por el cliente tiene una API conveniente a trav√©s de la cual puede acceder a publicaciones desde el blog.  Pero, si cre√≥ un agente para trabajar con esta API, la situaci√≥n se complica por el hecho de que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se</a> encuentra en un determinado servidor, en el que los datos no se presentan como necesita. <br><br>  Este es un ejemplo de un problema, algo que podr√≠a contaminar el c√≥digo de la aplicaci√≥n, ya que aqu√≠ debe incluir en el proyecto los mecanismos para trabajar con la nueva API utilizada para descargar publicaciones de blog.  Puede lidiar con esta situaci√≥n con redux-saga. <br>  Echa un vistazo al siguiente diagrama.  As√≠ es como interact√∫an nuestra aplicaci√≥n y API.  Descargamos publicaciones en segundo plano usando redux-saga. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/56e/2b9/fdf/56e2b9fdfc5ea809c842a39cfed53bfe.jpg"></div><br>  <i><font color="#999999">Diagrama de aplicaci√≥n con almacenamiento de Redux y redux-saga</font></i> <br><br>  Aqu√≠, el componente distribuye la acci√≥n <code>GET.BLOGS</code> .  La aplicaci√≥n utiliza redux-saga, por lo que esta solicitud ser√° interceptada.  Despu√©s de eso, la funci√≥n de generador descargar√° datos del almac√©n de datos en segundo plano y actualizar√° el estado de la aplicaci√≥n compatible con Redux. <br><br>  Aqu√≠ hay un ejemplo de c√≥mo se ver√≠a la funci√≥n del generador para cargar publicaciones (tales funciones se llaman "sagas") en la situaci√≥n descrita.  Las sagas se pueden usar en otros escenarios.  Por ejemplo, para organizar el almacenamiento de datos del usuario (por ejemplo, pueden ser tokens), ya que este es otro ejemplo de una tarea para la que las funciones puras no son adecuadas. <br><br><pre> <code class="javascript hljs">... function* fetchPosts(action) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === WP_POSTS.LIST.REQUESTED) {   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {     <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> call(wpGet, {       <span class="hljs-attr"><span class="hljs-attr">model</span></span>: WP_POSTS.MODEL,       <span class="hljs-attr"><span class="hljs-attr">contentType</span></span>: APPLICATION_JSON,       <span class="hljs-attr"><span class="hljs-attr">query</span></span>: action.payload.query,     });     <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (response.error) {       <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({         <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.FAILED,         <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: response.error.response.data.msg,       });       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;         <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({       <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.SUCCESS,       <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: {         <span class="hljs-attr"><span class="hljs-attr">posts</span></span>: response.data,         <span class="hljs-attr"><span class="hljs-attr">total</span></span>: response.headers[<span class="hljs-string"><span class="hljs-string">'x-wp-total'</span></span>],         <span class="hljs-attr"><span class="hljs-attr">query</span></span>: action.payload.query,       },       <span class="hljs-attr"><span class="hljs-attr">view</span></span>: action.view,     });   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {     <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> put({ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: WP_POSTS.LIST.FAILED, <span class="hljs-attr"><span class="hljs-attr">payload</span></span>: e.message });  ...</code> </pre> <br>  La saga presentada aqu√≠ espera acciones como <code>WP_POSTS.LIST.REQUESTED</code> .  Al recibir tal acci√≥n, carga datos de la API.  Ella, despu√©s de recibir los datos, env√≠a otra acci√≥n: <code>WP_POSTS.LIST.SUCCESS</code> .  Su procesamiento lleva a actualizar el repositorio utilizando el reductor apropiado. <br><br><h3>  <font color="#3AC1EF">‚ñç Introducci√≥n de reductores</font> </h3><br>  Al desarrollar aplicaciones grandes, es imposible planificar de antemano el dispositivo de todos los modelos necesarios.  Adem√°s, a medida que aumenta el tama√±o de la aplicaci√≥n, el uso de la tecnolog√≠a de introducci√≥n de reductores ayuda a ahorrar una gran cantidad de horas hombre.  Esta t√©cnica permite a los desarrolladores agregar nuevos reductores al sistema sin tener que volver a escribir todo el repositorio. <br><br>  Hay <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">bibliotecas</a> que est√°n dise√±adas para crear repositorios din√°micos de Redux.  Sin embargo, prefiero el mecanismo de introducci√≥n de reductores, ya que le da al desarrollador un cierto nivel de flexibilidad.  Por ejemplo, una aplicaci√≥n existente puede equiparse con este mecanismo sin la necesidad de reorganizar seriamente la aplicaci√≥n. <br><br>  La introducci√≥n de reductores es una forma de separaci√≥n de c√≥digo.  La comunidad de desarrolladores de React est√° adoptando con entusiasmo esta tecnolog√≠a.  Usar√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> fragmento de c√≥digo para demostrar la apariencia y las caracter√≠sticas del mecanismo de implementaci√≥n de los reductores. <br><br>  Primero, veamos su integraci√≥n con Redux: <br><br><pre> <code class="javascript hljs">... const withConnect = connect( mapStateToProps, mapDispatchToProps, ); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> withReducer = injectReducer({ <span class="hljs-attr"><span class="hljs-attr">key</span></span>: BLOG_VIEW, <span class="hljs-attr"><span class="hljs-attr">reducer</span></span>: blogReducer, }); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BlogPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  ... } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> compose( withReducer, withConnect, )(BlogPage);</code> </pre> <br>  Este c√≥digo es parte del archivo <code>BlogPage.js</code> que contiene el componente de la aplicaci√≥n. <br><br>  Aqu√≠, en el comando de exportaci√≥n, no utilizamos la funci√≥n de <code>connect</code> , sino la funci√≥n de <code>compose</code> .  Esta es una de las funciones de la biblioteca Redux que le permite componer varias funciones.  La lista de funciones pasadas para <code>compose</code> debe leerse de derecha a izquierda o de abajo hacia arriba. <br><br>  Puede aprender de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n de</a> Redux que la funci√≥n de <code>compose</code> permite crear transformaciones de funciones profundamente anidadas.  En este caso, el programador se libera de la necesidad de usar estructuras muy largas.  Estas construcciones se ven como l√≠neas de c√≥digo que representan llamadas a algunas funciones al pasarles los resultados de llamadas a otras funciones como argumentos.  La documentaci√≥n se√±ala que la funci√≥n de <code>compose</code> debe usarse con precauci√≥n. <br><br>  La funci√≥n m√°s a la derecha de una composici√≥n puede tomar muchos argumentos, pero solo se puede pasar un argumento a las funciones que la siguen.  Como resultado, al llamar a la funci√≥n que result√≥ del uso de <code>compose</code> , le pasamos lo que se necesita de las funciones originales, que est√° a la derecha de todas las dem√°s.  Es por eso que pasamos la funci√≥n componer a la funci√≥n <code>withConnect</code> como √∫ltimo par√°metro.  Como resultado, la funci√≥n de <code>compose</code> se puede usar al igual que la funci√≥n de <code>connect</code> . <br><br><h3>  <font color="#3AC1EF">‚ñç Enrutamiento y Redux</font> </h3><br>  Hay una serie de herramientas que se utilizan para resolver problemas de enrutamiento en las aplicaciones.  En esta secci√≥n, sin embargo, nos centraremos en la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">react-router-dom</a> .  Ampliaremos sus capacidades para que pueda funcionar con Redux. <br><br>  Muy a menudo, el enrutador React se usa de esta manera: el componente ra√≠z est√° encerrado en la etiqueta <code>BrowserRouter</code> , y los contenedores secundarios se envuelven en el m√©todo <code>withRouter()</code> y se exportan ( <a href="">aqu√≠ hay</a> un ejemplo). <br><br>  Con este enfoque, el componente secundario recibe, a trav√©s del mecanismo de <code>props</code> , un objeto de <code>history</code> que contiene algunas propiedades espec√≠ficas de la sesi√≥n de usuario actual.  Hay algunos m√©todos en este objeto que pueden usarse para controlar la navegaci√≥n. <br><br>  Esta opci√≥n de enrutamiento puede generar problemas en aplicaciones grandes.  Esto se debe al hecho de que no tienen un objeto de <code>history</code> centralizado.  Adem√°s, los componentes que no se representan con <code>&lt;Route&gt;</code> no pueden funcionar con el objeto de <code>history</code> .  Aqu√≠ hay un ejemplo usando <code>&lt;Route&gt;</code> : <br><br><pre> <code class="javascript hljs">&lt;Route path=<span class="hljs-string"><span class="hljs-string">"/"</span></span> exact component={HomePage} /&gt;</code> </pre> <br>  Para resolver este problema, usaremos la biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">conectado-reaccionar-enrutador</a> , que nos permitir√° establecer el enrutamiento utilizando el m√©todo de <code>dispatch</code> .  La integraci√≥n de esta biblioteca en el proyecto requerir√° algunas modificaciones.  En particular, ser√° necesario crear un nuevo reductor dise√±ado espec√≠ficamente para rutas (esto es bastante obvio), y tambi√©n agregar algunos mecanismos auxiliares al sistema. <br><br>  Despu√©s de completar su configuraci√≥n, el nuevo sistema de enrutamiento se puede utilizar a trav√©s de Redux.  Por lo tanto, la navegaci√≥n en la aplicaci√≥n se puede implementar enviando acciones. <br><br>  Para aprovechar las capacidades de la biblioteca de enrutadores de reacci√≥n conectada en el componente, simplemente asignamos el m√©todo de <code>dispatch</code> al repositorio, haciendo esto de acuerdo con las necesidades de la aplicaci√≥n.  Aqu√≠ hay un ejemplo de c√≥digo que demuestra el uso de la biblioteca conectado-reaccionar-enrutador (para que este c√≥digo funcione, necesita que el resto del sistema est√© configurado para usar conectado-reaccionar-enrutador). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { push } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'connected-react-router'</span></span> ... const mapDispatchToProps = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dispatch</span></span></span><span class="hljs-function"> =&gt;</span></span> ({  <span class="hljs-attr"><span class="hljs-attr">goTo</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">payload</span></span></span><span class="hljs-function"> =&gt;</span></span> {    dispatch(push(payload.path));  }, }); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DemoComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{  render() {    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">      &lt;Child        onClick={          (</span></span></span><span class="hljs-function">) =&gt;</span></span> {            <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.goTo({ <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">`/gallery/`</span></span>});                      <span class="hljs-regexp"><span class="hljs-regexp">/&gt;    } ...</span></span></code> </pre> <br>  Aqu√≠, el m√©todo <code>goTo</code> distribuye una acci√≥n que empuja la URL requerida <code>goTo</code> pila del historial <code>goTo</code> navegador.  Anteriormente, el m√©todo <code>goTo</code> se <code>goTo</code> al repositorio.  Por lo tanto, este m√©todo se pasa a <code>DemoComponent</code> en el objeto <code>props</code> . <br><br><h2>  <font color="#3AC1EF">Interfaz de usuario din√°mica y necesidades de una aplicaci√≥n en crecimiento.</font> </h2><br>  Con el tiempo, a pesar de la presencia de un back-end adecuado para la aplicaci√≥n y una parte del cliente de alta calidad, algunos elementos de la interfaz de usuario comienzan a afectar negativamente el trabajo del usuario.  Esto se debe a la implementaci√≥n irracional de los componentes, que, a primera vista, parece muy simple.  En esta secci√≥n, discutiremos las recomendaciones para crear algunos widgets.  Su implementaci√≥n correcta, a medida que la aplicaci√≥n crece, se vuelve m√°s complicada. <br><br><h3>  <font color="#3AC1EF">‚ñç Carga diferida y reacci√≥n.</font> </h3><br>  La mejor parte de la naturaleza asincr√≥nica de JavaScript es que aprovecha todo el potencial del navegador.  Quiz√°s el verdadero bien es que para comenzar un determinado proceso no es necesario esperar a que se complete la tarea anterior.  Sin embargo, los desarrolladores no pueden influir en la red y la velocidad con la que se cargan los diversos materiales necesarios para el funcionamiento de los sitios. <br><br>  Los subsistemas de red generalmente se perciben como poco confiables y propensos a errores. <br><br>  El desarrollador, en un esfuerzo por hacer que su aplicaci√≥n sea lo m√°s alta posible, puede someterla a muchas comprobaciones y lograr su aprobaci√≥n exitosa.  Pero a√∫n hay algunas cosas, como el estado de la conexi√≥n de red o el tiempo de respuesta del servidor, que el desarrollador no puede influir. <br><br>  Pero los creadores del software no buscan justificar el trabajo de baja calidad de las aplicaciones con frases como "este no es mi negocio".  Encontraron formas interesantes de lidiar con problemas de red. <br><br>  En algunas partes de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaci√≥n front-end, es</a> posible que deba mostrar algunos materiales de respaldo (como cargar mucho m√°s r√°pido que los materiales reales).  Esto evitar√° que el usuario contemple la "contracci√≥n" de las p√°ginas de carga o, lo que es peor, sobre tales √≠conos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f47/123/d6a/f47123d6ab6e8e85a0d445742e33031c.png"></div><br>  <i><font color="#999999">Es mejor que los usuarios no vean algo as√≠.</font></i> <br><br>  La tecnolog√≠a React Suspense le permite hacer frente a esos problemas.  Por ejemplo, le permite mostrar un determinado indicador durante la carga de datos.  Aunque esto tambi√©n se puede hacer manualmente estableciendo la propiedad <code>isLoaded</code> en <code>true</code> , el uso de la API Suspense hace que el c√≥digo sea mucho m√°s limpio. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> puede ver un buen video sobre Suspenso, en el que Jared Palmer presenta al p√∫blico esta tecnolog√≠a y muestra algunas de sus caracter√≠sticas utilizando un ejemplo de una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaci√≥n real</a> . <br><br>  As√≠ es como funciona la aplicaci√≥n sin usar Suspenso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d49/7bc/734/d497bc7344af043e19445fa8299a35d0.gif"></div><br>  <i><font color="#999999">Aplicaci√≥n en la que no se utiliza suspenso</font></i> <br><br>  Equipar un componente con soporte de Suspenso es mucho m√°s f√°cil que usar <code>isLoaded</code> toda la <code>isLoaded</code> .  Comencemos colocando el contenedor de la <code>App</code> principal en <code>React.StrictMode</code> .  Nos aseguramos de que entre los m√≥dulos React utilizados en la aplicaci√≥n, no haya aquellos que se consideren obsoletos. <br><br><pre> <code class="javascript hljs">&lt;React.Suspense fallback={&lt;Spinner size=<span class="hljs-string"><span class="hljs-string">"large"</span></span> /&gt;}&gt;  &lt;ArtistDetails id={this.props.id}/&gt;  &lt;ArtistTopTracks /&gt;  &lt;ArtistAlbums id={this.props.id}/&gt; &lt;/React.Suspense&gt;</code> </pre> <br>  Los componentes envueltos en etiquetas <code>React.Suspense</code> , durante la carga del contenido principal, cargan y muestran lo que se especifica en la propiedad de <code>fallback</code> .  Debemos esforzarnos por garantizar que los componentes utilizados en la propiedad de <code>fallback</code> tengan el volumen m√°s peque√±o posible y est√©n organizados de la manera m√°s simple posible. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b9/d1c/54e/9b9d1c54ea0a5d7c26ea7e0a7bbdebee.gif"></div><br>  <i><font color="#999999">Aplicaci√≥n que utiliza suspenso</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç Componentes adaptativos</font> </h3><br>  En aplicaciones frontales grandes, la manifestaci√≥n de patrones repetitivos es com√∫n.  Al mismo tiempo, al comienzo del trabajo, esto puede ser casi completamente obvio.  No hay nada que hacer al respecto, pero debe haber encontrado esto. <br><br>  Por ejemplo, hay dos modelos en la aplicaci√≥n.  Uno de ellos est√° destinado a la descripci√≥n de pistas de carreras, y el segundo, a la descripci√≥n de autom√≥viles.  La p√°gina de la lista de autos usa elementos cuadrados.  Cada uno de ellos contiene una imagen y una breve descripci√≥n. <br><br>  La lista de rastreo utiliza elementos similares.  Su caracter√≠stica principal es que, adem√°s de la imagen y la descripci√≥n de la ruta, tambi√©n tienen un peque√±o campo que indica si es posible que los espectadores de una carrera en esta ruta compren algo para comer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c9/8b3/8ab/6c98b38ab2cf0c2670751908581d26d0.png"></div><br>  <i><font color="#999999">Elemento para la descripci√≥n del autom√≥vil y elemento para la descripci√≥n de la pista.</font></i> <br><br>  Estos dos componentes son ligeramente diferentes entre s√≠ en t√©rminos de estilo (tienen diferentes colores de fondo).  El componente que describe la ruta contiene informaci√≥n adicional sobre el objeto del mundo real que describe, mientras que el componente que simboliza el autom√≥vil no tiene dicha informaci√≥n.  Este ejemplo muestra solo dos modelos.  En una aplicaci√≥n grande, se pueden escribir muchos modelos similares, que solo difieren en cosas peque√±as. <br><br>  La creaci√≥n de componentes independientes separados para cada una de estas entidades es contraria al sentido com√∫n. <br><br>  Un programador puede ahorrarse la necesidad de escribir fragmentos de c√≥digo que se repitan casi por completo.  Esto se puede hacer mediante el desarrollo de componentes adaptativos.  Ellos, en el curso del trabajo, tienen en cuenta el entorno en el que se cargaron.  Considere la barra de b√∫squeda de una determinada aplicaci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a27/334/4e5/a273344e57f1ea8aa88269f8dad8e7dd.png"></div><br>  <i><font color="#999999">Barra de b√∫squeda</font></i> <br><br>  Se usar√° en muchas p√°ginas.  Al mismo tiempo, se realizar√°n cambios menores en su apariencia y el orden de su trabajo en diferentes p√°ginas.  Por ejemplo, en la p√°gina de inicio del proyecto, ser√° un poco m√°s grande que en otras p√°ginas.  Para resolver este problema, puede crear un solo componente que se mostrar√° de acuerdo con las propiedades que se le transfieran. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> propTypes = {  <span class="hljs-attr"><span class="hljs-attr">open</span></span>: PropTypes.bool.isRequired,  <span class="hljs-attr"><span class="hljs-attr">setOpen</span></span>: PropTypes.func.isRequired,  <span class="hljs-attr"><span class="hljs-attr">goTo</span></span>: PropTypes.func.isRequired, };</code> </pre> <br>  Con esta t√©cnica, puede controlar el uso de clases HTML al representar dichos elementos, lo que le permite influir en su apariencia. <br><br>  Otra situaci√≥n interesante en la que los componentes adaptativos pueden encontrar aplicaci√≥n es el mecanismo para dividir ciertos materiales en p√°ginas.  Una barra de navegaci√≥n puede estar presente en cada p√°gina de la aplicaci√≥n.  Las instancias de este panel en cada una de las p√°ginas ser√°n casi exactamente las mismas que en las otras p√°ginas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c86/7ee/d8d/c867eed8d85f120940a321d95fc274f2.png"></div><br>  <i><font color="#999999">Panel de paginaci√≥n</font></i> <br><br>  Supongamos que cierta aplicaci√≥n necesita un panel similar.  Al trabajar en esta aplicaci√≥n, los desarrolladores se adhieren a los requisitos articulados oportunos.  En tal situaci√≥n, el componente adaptativo utilizado para dividir el material en p√°ginas solo necesita pasar un par de propiedades.  Esta es la <code>URL</code> y el n√∫mero de elementos por p√°gina. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  El ecosistema React se ha vuelto tan maduro en estos d√≠as que es poco probable que alguien necesite "inventar una bicicleta" en cualquier etapa del desarrollo de la aplicaci√≥n.  Aunque esto juega en manos de los desarrolladores, conduce al hecho de que se hace dif√≠cil elegir exactamente qu√© funciona bien para cada proyecto espec√≠fico. <br><br>  Cada proyecto es √∫nico en t√©rminos de su alcance y funcionalidad.  No existe un enfoque √∫nico o una regla universal en el desarrollo de aplicaciones React.  Por lo tanto, antes de comenzar el desarrollo, es importante planificarlo correctamente. <br><br>  Al planificar, es muy f√°cil entender qu√© herramientas se crean directamente para el proyecto y cu√°les claramente no son adecuadas para √©l, ya que son demasiado grandes para √©l.  Por ejemplo, una aplicaci√≥n que consta de 2-3 p√°ginas y realiza muy pocas solicitudes a ciertas API no necesita almacenes de datos similares a los que mencionamos.  Estoy listo para ir a√∫n m√°s lejos en estas consideraciones y decir que en proyectos peque√±os no es necesario usar Redux. <br>  En la etapa de planificaci√≥n de la aplicaci√≥n, al dibujar dise√±os de sus p√°ginas, es f√°cil ver que se utilizan muchos componentes similares en estas p√°ginas.  Si intenta reutilizar el c√≥digo de dichos componentes o se esfuerza por escribir componentes universales, esto ayudar√° a ahorrar mucho tiempo y esfuerzo. <br><br>  Y finalmente, me gustar√≠a se√±alar que los datos son el n√∫cleo de cualquier aplicaci√≥n.  Y las aplicaciones React no son una excepci√≥n.  A medida que crece la escala de la aplicaci√≥n, aumentan los vol√∫menes de datos procesados, aparecen mecanismos de software adicionales para trabajar con ellos.  Algo as√≠, si la aplicaci√≥n fue mal dise√±ada, puede f√°cilmente "aplastar" a los programadores, llen√°ndolos de tareas complejas y confusas.  Si, en el curso de la planificaci√≥n, los problemas del uso de los almacenes de datos se decidieran de antemano, si el orden de trabajo de las acciones, los reductores y el hundimiento se pensaran de antemano, trabajar en la aplicaci√≥n ser√≠a mucho m√°s f√°cil. <br><br>  <b>Estimados lectores!</b>  Si conoce alguna biblioteca o metodolog√≠a de desarrollo que funcione bien al crear aplicaciones React a gran escala, comp√°rtalas. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/b4/fn/f5/b4fnf52x9i3mn80tttdafqtvkfe.jpeg"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/458498/">https://habr.com/ru/post/458498/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458488/index.html">Data Science Digest (julio de 2019)</a></li>
<li><a href="../458490/index.html">Ag√°rrate fuerte al volante ... Nuestro proyecto para monitorear la condici√≥n de los conductores</a></li>
<li><a href="../458492/index.html">‚ÄúSiempre cre√≠mos en la competencia y en el derecho a elegir un usuario‚Äù ¬© Yandex</a></li>
<li><a href="../458494/index.html">Un ejemplo pr√°ctico del uso de las funciones de render de Vue: crear una cuadr√≠cula tipogr√°fica para un sistema de dise√±o</a></li>
<li><a href="../458496/index.html">Directrices pr√°cticas para desarrollar aplicaciones React a gran escala. Planificaci√≥n, acciones, or√≠genes de datos y API</a></li>
<li><a href="../458500/index.html">Metamorfosis de la prueba de la saga redux</a></li>
<li><a href="../458502/index.html">El secreto principal para desarrollar buenas aplicaciones de electrones</a></li>
<li><a href="../458504/index.html">Trucos de 13 npm para ahorrar tiempo</a></li>
<li><a href="../458506/index.html">No Portal 3, pero cercano: teletransportaci√≥n cu√°ntica de informaci√≥n dentro de un diamante</a></li>
<li><a href="../458508/index.html">Una mirada al interior: escuela de posgrado en EPFL. Parte 4.2: el lado financiero</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>