<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>硷   Tres ejemplos no obvios del uso de motores de plantillas en el backend   </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Por un lado, el tema era de hecho cuadrado. Por otro lado, era redondo. Pero en el tercer lado, con el que deber铆a estar el tri谩ngulo, el objeto sali贸...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tres ejemplos no obvios del uso de motores de plantillas en el backend</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454418/"><p>  Por un lado, el tema era de hecho cuadrado.  Por otro lado, era redondo.  Pero en el tercer lado, con el que deber铆a estar el tri谩ngulo, el objeto sali贸 curvado y oblicuo. </p><br><p>  - 驴Alyoshenka va a la sala de reuniones?  - Lenochkina atrapado en la puerta con cara de interesado. <br>  - Alyoshenka no asistir谩 a la reuni贸n.  Aleshenka escribe un art铆culo. <br>  - 驴Sobre los cubos? <br>  - 驴Qu茅 otros cubos?  - Baj茅 los ojos, en mis manos y la verdad era un cubo desafortunado.  Eso es una pelota.  Eso es un rombo. <br>  - No se trata de cubos!  Y no sobre pelotas.  Sobre plantillas. <br>  "隆Les dir茅 eso!"  Patr贸n, ah.  - Helen ya estaba corriendo por el pasillo. </p><br><p>  "Sobre plantillas. Incluso sobre tres plantillas diferentes".  M谩s precisamente, hay tres razones para usar plantillas en el c贸digo del servidor.  Y ninguna de estas razones ser谩 sobre HTML. </p><br><p>  En los ejemplos, utilic茅 la sintaxis de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Moustache</a> , debido a la sintaxis lac贸nica y la presencia de implementaciones para todo lo que se mueve.  Moustache pr谩cticamente no se permite ninguna libertad, a diferencia de, por ejemplo, .Net Razor, que le permite codificar dentro de la plantilla, lo que constituye un mal ejemplo para los desarrolladores d茅biles. </p><br><p> Los ejemplos de c贸digo estar谩n en python.  La implementaci贸n de Moustache para Python se llama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pystache</a> . </p><br><p>  Entonces, tres razones para dejar entrar patrones <del>  tu vida </del>  tu c贸digo </p><a name="habracut"></a><br><h2 id="tekstovye-artefakty">  Artefactos de texto </h2><br><p>  Si tiene un sistema dentro del cual existen algunos datos, por ejemplo, datos en una base de datos relacional o datos obtenidos a trav茅s de llamadas API, a veces necesita crear artefactos basados en estos datos. </p><br><p>  El artefacto puede ser, por ejemplo, JSON o archivo de texto sin formato, archivo adjunto, respuesta HTTP.  Lo principal: un artefacto es esencialmente el resultado de aplicar una funci贸n de una parte relativamente compacta de los datos en su sistema.  Y el artefacto tiene su propia sintaxis. </p><br><p>  El artefacto puede ser un extracto bancario en formato de texto para cargarlo en el sistema heredado.  El artefacto puede ser la descarga de un cheque electr贸nico en forma de un archivo .json, que se enviar谩 como un archivo adjunto al cliente por correo. </p><br><p>  En todos estos casos, simplificar谩 enormemente su vida utilizando plantillas de artefactos. </p><br><p>  驴Qu茅 es un motor de plantillas?  Esta es una biblioteca que tomar谩 un modelo de objetos (contexto), tomar谩 una plantilla, se aplicar谩 uno al otro y dar谩 el resultado.  El modelo de objetos y la plantilla son preparados por el programador.  El resultado final lo prepara el motor de plantillas. </p><br><p>  Ejemplo: intente crear un mensaje de texto sobre el pedido. </p><br><p>  Primero, prepare el modelo de objeto: </p><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_comma</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(list)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> list[:<span class="hljs-number"><span class="hljs-number">-1</span></span>]: a[<span class="hljs-string"><span class="hljs-string">"comma"</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> res = { <span class="hljs-string"><span class="hljs-string">"documentId"</span></span>: <span class="hljs-number"><span class="hljs-number">3323223</span></span>, <span class="hljs-string"><span class="hljs-string">"checkDate"</span></span>: <span class="hljs-string"><span class="hljs-string">"01.02.2019 22:20"</span></span>, <span class="hljs-string"><span class="hljs-string">"posId"</span></span>: <span class="hljs-number"><span class="hljs-number">34399</span></span>, <span class="hljs-string"><span class="hljs-string">"posAddr"</span></span>: <span class="hljs-string"><span class="hljs-string">"Urupinsk, 1 Maya 1"</span></span>, <span class="hljs-string"><span class="hljs-string">"lines"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"no"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"itemtext"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello Kitty"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">"sumRub"</span></span>: <span class="hljs-string"><span class="hljs-string">"55.20"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"no"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"itemtext"</span></span>: <span class="hljs-string"><span class="hljs-string">"Paper pokemons"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"sumRub"</span></span>: <span class="hljs-string"><span class="hljs-string">"1230.00"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"no"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"itemtext"</span></span>: <span class="hljs-string"><span class="hljs-string">"Book of Mustache"</span></span>, <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"sumRub"</span></span>: <span class="hljs-string"><span class="hljs-string">"1000.00"</span></span> } ], <span class="hljs-string"><span class="hljs-string">"total"</span></span>: { <span class="hljs-string"><span class="hljs-string">"amount"</span></span>: <span class="hljs-string"><span class="hljs-string">"3285.20"</span></span> } } add_comma(res[<span class="hljs-string"><span class="hljs-string">"lines"</span></span>]) res[<span class="hljs-string"><span class="hljs-string">"posInUrupinsk"</span></span>] = res[<span class="hljs-string"><span class="hljs-string">"posId"</span></span>] &gt; <span class="hljs-number"><span class="hljs-number">34000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> res</code> </pre> <br><p>  El c贸digo es puramente falso.  En el c贸digo real, puede haber una consulta en la base de datos, alg煤n tipo de l贸gica para calcular valores (por ejemplo, calculamos el valor de total.amount en funci贸n de los art铆culos del pedido). </p><br><p>  Presta atenci贸n a algunas cosas: </p><br><ul><li>  Este NO es un modelo de objeto del pedido, es algo m谩s simple, preparado para su uso en la plantilla.  Los valores "sumRub" y "total.amount" en el modelo de negocio real no deben ser textuales, el valor de "coma" de la matriz de l铆neas en el modelo de objetos no pertenece, solo es necesario simplificar la representaci贸n (pystache no puede entender que el elemento de la lista sea el 煤ltimo y despu茅s no hay necesidad de poner una coma. </li><li>  El tipo de campo "cantidad" es el texto y este texto est谩 formateado para salida en la plantilla.  Si su motor de plantillas admite formateadores (algo as铆 como "... {someValue | asMoney}"), no es necesario formatear directamente en el modelo. </li><li>  El texto en la plantilla deber铆a verse ligeramente diferente para los clientes de Uryupinsk (el gerente corri贸 en el 煤ltimo momento y pidi贸 agregar: el negocio realmente pregunt贸, de repente comenzaron una campa帽a de marketing para la ciudad).  Por lo tanto, agregamos el valor booleano "posInUrupinsk" al modelo y lo usamos en la plantilla. </li><li>  Es mejor no usar el modelo nuevamente desde la plantilla, excepto para representar otras plantillas </li></ul><br><p>  El texto de la plantilla de bigote se ve as铆: </p><br><pre> <code class="plaintext hljs">{{#posInUrupinsk}}    !        100   . {{/posInUrupinsk}} {{^posInUrupinsk}}    : {{/posInUrupinsk}} {{#lines}} #{{no}} ... {{itemtext}}: {{sumRub}} {{#comma}};{{/comma}}{{^comma}}.{{/comma}} {{/lines}} : {{total.amount}} --------------------------- N : {{documentId}}  {{checkDate}}</code> </pre> <br><p>  Vemos en la plantilla que el encabezado del documento para pedidos en Uryupinsk es diferente de otras ciudades.  Tambi茅n vemos que al final de la 煤ltima l铆nea con la posici贸n de los productos b谩sicos hay un punto, y en todas las primeras posiciones hay un punto y coma.  El atributo "coma" y el m茅todo "add_comma" en el generador de modelos son responsables de esto. </p><br><p>  El c贸digo que aplica el contexto a la plantilla es trivial: </p><br><pre> <code class="python hljs">model = get_model() <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(os.path.join(<span class="hljs-string"><span class="hljs-string">"templates"</span></span>, <span class="hljs-string"><span class="hljs-string">"check.txt.mustache"</span></span>), <span class="hljs-string"><span class="hljs-string">'r'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: template = f.read() check_text = pystache.render(template, model) print(check_text)</code> </pre> <br><p>  Resultado: </p><br><pre> <code class="plaintext hljs">   !        100   . #1 ... Hello Kitty: 55.20 ; #2 ... Paper pokemons: 1230.00 ; #2 ... Book of Mustache: 1000.00 . : 3285.20 --------------------------- N : 3323223  01.02.2019 22:20</code> </pre> <br><p>  Otro consejo: si la tarea lo permite, guarde el modelo con la plantilla renderizada (por ejemplo, en formato JSON).  Esto ayudar谩 con la depuraci贸n y la resoluci贸n de problemas. </p><br><hr><br><p>  La impresora chirri贸 tres veces, emitiendo un nuevo modelo.  El lado triangular ahora era un tri谩ngulo perfecto.  Los otros dos lados eran cuadrados.  La red neuronal vivi贸 su propia vida y se neg贸 a dar un modelo modelo primitivo en todos los aspectos. </p><br><p>  "Le dar茅 un cubo a Helen".  Pens茅  Deja que se regocije. </p><br><h2 id="kodogeneraciya">  Generaci贸n de c贸digo </h2><br><p>  Es posible que deba crear JavaScript en tiempo de ejecuci贸n desde el back-end.  Por qu茅  Para crear informes del lado del navegador, por ejemplo.  O obtenga un script en F # desde un programa Go.  O el c贸digo de Kotlin desde ReactJS (no puedo imaginar por qu茅 esto podr铆a ser necesario, pero de repente tienes inclinaciones tan espec铆ficas). </p><br><p>  En el caso de la generaci贸n de c贸digo, es mejor escribir primero con sus manos el c贸digo resultante (lo que queremos generar) y solo luego dividirlo en una plantilla y modelo.  Este enfoque nos salvar谩 de <del>  anhelo </del>  excesiva complejidad del modelo.  Nunca es demasiado tarde para complicar un modelo, pero es mejor comenzar con uno simple. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> report = CreateChart({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"   - "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"lineChart"</span></span>, <span class="hljs-attr"><span class="hljs-attr">sourceUrl</span></span>: <span class="hljs-string"><span class="hljs-string">"/reports/data/0"</span></span> ); report.addLine({ <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span> }); report.addLine({ <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"red"</span></span> }); report.render($(<span class="hljs-string"><span class="hljs-string">"#reportPlaceholder1"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> report = CreateChart({ <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"   -  "</span></span> }, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"lineChart"</span></span>, <span class="hljs-attr"><span class="hljs-attr">sourceUrl</span></span>: <span class="hljs-string"><span class="hljs-string">"/reports/data/1"</span></span>); report.addLine({ <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello Kitty"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"#000"</span></span> }); report.addLine({ <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"PokemonGo"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"#222"</span></span> }); report.addLine({ <span class="hljs-attr"><span class="hljs-attr">dataIndex</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Mustache"</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">"#333"</span></span> }); report.render($(<span class="hljs-string"><span class="hljs-string">"#reportPlaceholder2"</span></span>));</code> </pre> <br><p>  Aqu铆 vemos que tenemos de uno a N gr谩ficos de gr谩ficos de l铆neas en la p谩gina, cada uno de los cuales tiene su propia fuente de datos, t铆tulo y lista de indicadores.  Modelka: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">"charts"</span></span>: [ { <span class="hljs-string"><span class="hljs-string">"divId"</span></span>: <span class="hljs-string"><span class="hljs-string">"#reportPlaceholder1"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"   - "</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceUrl"</span></span>: <span class="hljs-string"><span class="hljs-string">"/reports/data/0"</span></span>, <span class="hljs-string"><span class="hljs-string">"series"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"dataIndex"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"green"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"dataIndex"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"red"</span></span>}, ] }, { <span class="hljs-string"><span class="hljs-string">"divId"</span></span>: <span class="hljs-string"><span class="hljs-string">"#reportPlaceholder2"</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"   -  "</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceUrl"</span></span>: <span class="hljs-string"><span class="hljs-string">"/reports/data/1"</span></span>, <span class="hljs-string"><span class="hljs-string">"series"</span></span>: [ {<span class="hljs-string"><span class="hljs-string">"dataIndex"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Hello Kitty"</span></span>, <span class="hljs-string"><span class="hljs-string">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"#000"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"dataIndex"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"PokemonGo"</span></span>, <span class="hljs-string"><span class="hljs-string">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"#111"</span></span>}, {<span class="hljs-string"><span class="hljs-string">"dataIndex"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Mustache"</span></span>, <span class="hljs-string"><span class="hljs-string">"color"</span></span>: <span class="hljs-string"><span class="hljs-string">"#222"</span></span>}, ] } ] }</code> </pre> <br><p>  Bueno, la plantilla: </p><br><pre> <code class="plaintext hljs">{{#charts}} var report = CreateChart({ title: "{{title}}" }, type: "lineChart", sourceUrl: "{{sourceUrl}}" ); {{#series}} report.addLine({ dataIndex:{{dataIndex}}, title: "{{title}}", color: "{{color}}" }); {{/series}} report.render($("{{divId}}")); {{/charts}}</code> </pre> <br><p>  Tenga en cuenta que este enfoque "frontal" de la estandarizaci贸n requiere un esfuerzo por separado para evaluar los valores en el modelo.  si una coma o comilla "Hello Kitty \" "aparece en la serie [0] .title, la sintaxis del archivo resultante se desmorona. Por lo tanto, escriba las funciones de detecci贸n y 煤selas al crear modelos. Utilice formateadores si el motor de plantillas puede hacerlo. </p><br><hr><br><p>  El tercer dado vol贸 a trav茅s de la puerta y rebot贸 con un golpe.  Tampoco es bueno.  Interesante  pero 驴puedes rodar el cubo para que se deslice debajo de la puerta y llegue al final del pasillo?  驴Es posible imprimir caucho en 3D?  驴O es mejor llenarlo con icosaedros tan peque帽os llenos de aire? ... </p><br><h2 id="sql-zaprosy">  Consultas SQL </h2><br><p>  El lector exigente dir谩 que esto tambi茅n es generaci贸n de c贸digo, traducci贸n de conceptos de un lenguaje de programaci贸n a otro.  A lo que responderemos al lector exigente que trabajar con SQL o con cualquier otro lenguaje de consulta de base de datos es un 谩rea de programaci贸n ligeramente separada y no es obvio para todos que si las plantillas pueden generar scripts js, entonces SQL tambi茅n es posible.  Por lo tanto, emitiremos solicitudes en un caso separado. </p><br><p>  Y para que el lector exigente no se aburra, dejaremos en el art铆culo solo ejemplos de algunas consultas.  Usted mismo puede averiguar qu茅 modelo y qu茅 plantilla se adaptan mejor aqu铆.  En los ejemplos en el github puedes ver lo que hice. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hosts</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> firmware_id=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> bmc_login=<span class="hljs-string"><span class="hljs-string">'admin'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> ip <span class="hljs-keyword"><span class="hljs-keyword">DESC</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hosts</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ORDER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIMIT</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> host_type_id, <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> <span class="hljs-keyword"><span class="hljs-keyword">hosts</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> host_type_id;</code> </pre> <br><p>  Se pueden encontrar plantillas (incluso para SQL) y ejemplos de c贸digo en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/454418/">https://habr.com/ru/post/454418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454406/index.html">Akihabara: sitio de anidaci贸n otaku</a></li>
<li><a href="../454408/index.html">Bandas de bits de hardware CortexM3 / M4 (ARM), arquitectura de kernel, ensamblador, C / C ++ 14 y una gota de metaprogramaci贸n</a></li>
<li><a href="../454410/index.html">Nuevo en PHP 7.4</a></li>
<li><a href="../454414/index.html">SDL 2 Lecciones: Lecci贸n 2 - Principal no de goma</a></li>
<li><a href="../454416/index.html">Importar Hadoop Distribuci贸n Distribuci贸n</a></li>
<li><a href="../454420/index.html">Copia de seguridad, Parte 3: Descripci贸n general y prueba de duplicidad, duplicaci贸n</a></li>
<li><a href="../454422/index.html">Sobre la interpretaci贸n pervertida de la Primera Ley de Newton en f铆sica moderna</a></li>
<li><a href="../454424/index.html">5 errores comunes al usar componentes arquitect贸nicos de Android</a></li>
<li><a href="../454426/index.html">Artificial: en los albores de la inteligencia artificial</a></li>
<li><a href="../454428/index.html">Lo que Apple present贸 en WWDC y lo que los desarrolladores de iOS piensan al respecto</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>