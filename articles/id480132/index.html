<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍥 🌽 ♓️ Tinjauan tentang kemungkinan Qt Creator 4.11 dan QBS 1.15 untuk pemrograman mikrokontroler ✖️ 📇 ↔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, sesama programmer, perangkat keras, dan semua yang bersimpati pada mereka. Saya ingin terus meninjau kemampuan IDE Qt Creator bersama dengan sis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tinjauan tentang kemungkinan Qt Creator 4.11 dan QBS 1.15 untuk pemrograman mikrokontroler</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480132/">  Halo, sesama programmer, perangkat keras, dan semua yang bersimpati pada mereka.  Saya ingin terus meninjau kemampuan IDE Qt Creator bersama dengan sistem build QBS terkait pemrograman mikrokontroler. <br><br>  Sebelumnya, saya menulis tentang peningkatan versi <a href="https://habr.com/ru/post/467323/">QtC 4.10 dan QBS 1.14 sebelumnya</a> . <br><br>  Kepada siapa topik ini menarik, selamat datang di kucing. <br><a name="habracut"></a><br>  Beberapa hari yang lalu, secara diam-diam dan tanpa disadari, rilis <a href="https://www.qt.io/blog/qt-creator-4.11.0-is-released">Qt Creator 4.11</a> dirilis, yang menambahkan beberapa perbaikan untuk bekerja dengan mikrokontroler (pada orang umum - perangkat "baremetal").  Rilis Qt Creator ini mengintegrasikan sistem <a href="">build QBS 1.15</a> , yang juga memiliki peningkatan baru (belum dirilis). <br><br><h2>  Perbaikan pada Qt Creator </h2><br>  Semua peningkatan ini hanya tersedia ketika plugin BareMetal diaktifkan, yang diaktifkan melalui menu "Bantuan -&gt; Tentang Plugin -&gt; Dukungan Perangkat -&gt; BareMetal". <br><br><ol><li>  Arsitektur baru telah ditambahkan ke kompiler GCC, SDCC, dan IAR EW, detail dasarnya diberikan dalam tabel di bawah ini: <br><div class="scrollable-table"><table><tbody><tr><th>  Kompiler </th><th>  Arsitektur yang Didukung </th></tr><tr><td>  <a href="https://www.iar.com/iar-embedded-workbench/">IAR EW</a> </td><td>  STM8, MSP430 </td></tr><tr><td>  <a href="http://www.ti.com/tool/MSP430-GCC-OPENSOURCE">Gcc</a> </td><td>  MSP430 </td></tr><tr><td>  <a href="http://sdcc.sourceforge.net/">SDCC</a> </td><td>  STM8 </td></tr></tbody></table></div><br>  Sekarang ini kompiler baru secara otomatis terdeteksi pada tab "Tools -&gt; Options -&gt; Kits -&gt; Compiler -&gt; Auto-detected". <br><br>  Misalnya, bagi saya tampilannya seperti ini: <br><br><img src="https://habrastorage.org/webt/d7/gh/pu/d7ghpuka9laz8a0q3czfxhmsa-a.png"><br><br>  Pada Windows, deteksi otomatis kompiler GCC untuk arsitektur MSP430 tidak diterapkan, karena  Set ini disediakan sebagai arsip sederhana, dan bukan sebagai penginstal. <br><br>  Tetapi tidak ada yang mau menambahkan kompiler GCC ini (dan yang didukung lainnya) secara manual, sedangkan Qt Creator akan menentukan kompiler ABI dengan benar: <br><br><img src="https://habrastorage.org/webt/p-/xb/vn/p-xbvnguinkwkm66g6xpxtmofl8.png"><br><br>  <i>Catatan: Dan tentu saja, semua kompiler akan secara otomatis memiliki direktori dengan header, makro yang telah ditentukan, dll. Untuk penyorotan kode yang benar.</i> <br><br></li><li>  Atas permintaan <a href="https://bugreports.qt.io/browse/QTCREATORBUG-18729">pekerja</a> , dukungan ditambahkan untuk file <a href="https://www.keil.com/pack/doc/CMSIS/SVD/html/svd_Format_pg.html">SVD</a> untuk menjelaskan register periferal mikrokontroler. <br><br>  <i>Catatan: Seperti yang saya tahu, fitur ini hanya tersedia untuk ARM (walaupun saya bisa saja salah) dan masih bersifat percobaan.</i> <br><br>  Untuk menggunakan fitur ini, pertama-tama Anda harus memilih file SVD yang diinginkan di bidang "File deskripsi periferal" di pengaturan perangkat "Alat-&gt; Opsi-&gt; Perangkat-&gt; Perangkat Anda", sesuai dengan mikrokontroler target: <br><br><img src="https://habrastorage.org/webt/ze/oi/1t/zeoi1trttbsicrssaf3kt-xjoru.png"><br><br>  <i>Catatan: File-file ini dapat diunduh baik dari situs web ARM atau diambil dari direktori dengan produk Keil MDK atau IAR EW yang diinstal.</i> <br><br>  Selanjutnya, setelah memulai debugging, pilih "Peripheral Registers" di menu "Window-&gt; Views".  Setelah itu panel "Peripheral Registers" akan terbuka (mirip dengan panel "Register") di mana, dengan mengklik kanan, sebuah menu dengan daftar kelompok register yang akan ditampilkan dipanggil: <br><br><img src="https://habrastorage.org/webt/xw/ql/ei/xwqleiclsokd_oq5-ds36a48wny.png"><br><br>  Kami memilih grup mana pun (misalnya, RCC) dan mendapatkan daftar semua register dari grup ini dengan deskripsi dan nilai terperinci yang dapat dibaca / ditulis: <br><br><img src="https://habrastorage.org/webt/-k/7m/xl/-k7mxlw4zfyjvnbgvyocaseqlmq.png"><br><br>  <i>Catatan: Saat ini, tampilan register hanya dari salah satu grup yang dipilih dilaksanakan.</i> <br></li></ol><br><h2>  Perbaikan dalam QBS </h2><br>  QBS akan menjadi bagian integral dari ulasan ini, jadi masuk akal untuk berbicara tentang peningkatannya: <br><br><ol><li>  Menambahkan dukungan untuk kompiler baru ini dan mengimplementasikan kemampuan untuk mendeteksi kompiler yang diinstal secara otomatis dan membuat profil. <br><br>  Properti <b><i>qbs.architecture</i></b> memiliki nilai-nilai berikut: <br><br><div class="scrollable-table"><table><tbody><tr><th>  Nama arsitektur </th><th>  Nilai properti </th></tr><tr><td>  STM8 </td><td>  STM8 </td></tr><tr><td>  MSP430 </td><td>  msp430 </td></tr></tbody></table></div><br></li><li>  Dukungan generator telah ditambahkan ke proyek Keil MDK dan IAR EW untuk arsitektur dan versi berikut: <br><br><div class="scrollable-table"><table><tbody><tr><th>  IDE </th><th>  Arsitektur </th><th>  Generator </th></tr><tr><td>  KEIL uVision 5.23 </td><td>  ARM </td><td>  keiluv5 </td></tr><tr><td>  KEIL uVision 5.23 </td><td>  MCS51 </td><td>  keiluv5 </td></tr><tr><td>  IAR EW 8.40.1 </td><td>  ARM </td><td>  iarew8 </td></tr><tr><td>  IAR EW 3.11.1 </td><td>  STM8 </td><td>  iarew3 </td></tr><tr><td>  IAR EW 10.10.1 </td><td>  MCS51 </td><td>  iarew10 </td></tr><tr><td>  IAR EW 7.12.4 </td><td>  MSP430 </td><td>  iarew7 </td></tr><tr><td>  IAR EW 7.20.1 </td><td>  AVR </td><td>  iarew7 </td></tr></tbody></table></div><br>  <i>Catatan: Tabel di atas menunjukkan versi produk yang digunakan untuk pengembangan generator dan operabilitasnya kurang lebih dicek.</i> <br><br>  Dengan demikian, sekarang dimungkinkan dengan generator ini untuk membuat proyek asli untuk IDE target yang diinginkan.  Pada saat yang sama, setiap generator akan mengonversi semua flag, lintasan, dependensi khusus compiler yang ditentukan dalam proyek QBS ke pengaturan yang sesuai dari IDE proyek target. <br><br>  Jika sumber proyek QBS berisi beberapa produk (misalnya, aplikasi, perpustakaan, dll.), Generator akan membuat target "ruang kerja" dengan "proyek" sub-proyek bersarang untuk setiap IDE target. <br><br>  <i>Catatan: Saya akan segera mengatakan bahwa, seperti yang saya tahu, KEIL atau IAR EW IDEs tidak mendukung pelacakan ketergantungan (jika saya salah, perbaiki).</i>  <i>Oleh karena itu, misalnya, jika proyek tersebut berisi aplikasi dan ketergantungan dalam bentuk perpustakaan, maka pengguna harus terlebih dahulu membangun perpustakaan, dan kemudian aplikasi itu sendiri.</i> <br><br>  Untuk menghasilkan proyek, Anda harus sudah mengkonfigurasi profil QBS dengan kompiler yang sesuai. <br><br>  <i>Catatan: Sejauh ini, Anda tidak dapat melakukannya tanpa profil, karena</i>  <i>generator dari profil menerima arsitektur itu sendiri, jalur ke kompiler pra-instal (IDE), dan banyak lagi.</i>  <i>Data ini diperlukan untuk pencarian skrip tautan yang benar, jalur ke runtime libraries, dan hal-hal spesifik lainnya (tidak ada logika sederhana di sana).</i> <br><br>  Misalnya, untuk membuat proyek target untuk mikrokontroler IAR EW dan ARM, cukup menjalankan perintah berikut: <br><br><pre><code class="bash hljs">qbs generate -g iarew8 -d &lt;path/to/build/directory&gt; -f &lt;path/to/qbs/project/file&gt; profile:&lt;your/qbs/profile/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/arm&gt;</code> </pre> <br>  Nama profil dapat diperoleh dengan menggunakan, misalnya, utilitas GUI <a href="https://doc.qt.io/qbs/cli-config-ui.html">qbs-config-ui</a> (atau menggunakan versi konsol). <br><br>  <i>Catatan: Saat ini, generator memiliki status eksperimental.</i>  <i>Mungkin dalam beberapa kasus (jika proyek asli kompleks) mereka akan menghasilkan file proyek target yang salah, atau melewatkan beberapa flag dan banyak lagi.</i>  <i>Sangat jangan dimarahi, tetapi buat laporan bug di pelacak QBS.</i> <br></li></ol><br>  Anda dapat melihat status dukungan kompiler saat ini di <a href="https://bugreports.qt.io/browse/QBS-1467">sini</a> , dan status integrasi generator saat ini di <a href="https://bugreports.qt.io/browse/QBS-658">sini</a> . <br><br>  Untuk melihat cara kerjanya, QBS menyediakan serangkaian <a href="https://github.com/qbs/qbs/tree/1.15/examples/baremetal">contoh</a> sederhana. <br><br><h2>  Apa selanjutnya </h2><br>  Dalam versi mendatang, direncanakan untuk menambah arsitektur dan generator <a href="https://www.renesas.com/us/en/">Renesas</a> ke IAR EW untuk arsitektur ini (saya tidak tahu apakah itu akan berhasil).  Dan juga, jika Anda sangat beruntung, maka debugger dari Keil uVision akan diintegrasikan ke Qt Creator. <br><br>  Pada catatan ini, saya akhiri kisah saya, terima kasih semua yang akan memperhatikan ulasan ini. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id480132/">https://habr.com/ru/post/id480132/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id480118/index.html">Kami sedang menulis simulator pengetikan sentuh menggunakan JavaScript murni. Bagian 1</a></li>
<li><a href="../id480120/index.html">Sebuah Pencapaian Baru dalam Kriptografi - Faktorisasi RSA 795-bit</a></li>
<li><a href="../id480122/index.html">Semua tentang pajak untuk freelancer IT. STS, paten atau pajak untuk wiraswasta. Bagian 2</a></li>
<li><a href="../id480124/index.html">Cara meningkatkan jangkauan komunikasi dengan kendaraan udara tak berawak (UAV)</a></li>
<li><a href="../id480126/index.html">Survei Jumat: Apa yang Anda miliki di Panel Express?</a></li>
<li><a href="../id480134/index.html">Semua tentang pajak untuk freelancer IT. Beban pajak IP dalam berbagai mode. Bagian 3</a></li>
<li><a href="../id480136/index.html">Posisi resmi Komite Program Highload ++ dan konferensi TI lainnya tentang klaim terhadap Igor Sysoev ...</a></li>
<li><a href="../id480138/index.html">@Pythonetc kompilasi, november 2019</a></li>
<li><a href="../id480140/index.html">Kiat dan trik dari saluran Telegram saya @pythonetc, November 2019</a></li>
<li><a href="../id480142/index.html">UX / UI Trends pada tahun 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>