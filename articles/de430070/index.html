<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⌛️ 🧕🏾 👩🏽‍🚒 Stapel und Warteschlange sind zwei schlechte Paradigmen und was kann dagegen getan werden? 😬 🚎 🔹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es gibt zwei Datenstrukturen, die jedem Programmierer bekannt sind und die als Axiome angesehen werden, dass niemand zu analysieren versucht, ob sie b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stapel und Warteschlange sind zwei schlechte Paradigmen und was kann dagegen getan werden?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430070/"><p>  Es gibt zwei Datenstrukturen, die jedem Programmierer bekannt sind und die als Axiome angesehen werden, dass niemand zu analysieren versucht, ob sie benötigt werden, ob sie von Nutzen sind und ob dieser Schaden sie nicht überschreitet. </p><a name="habracut"></a><br><h2 id="ochered">  Warteschlange </h2><br><p>  Zunächst werden wir die Warteschlange diskutieren.  Was bedeutet die Warteschlange?  Eine Warteschlange ist ein Puffer.  Und wann brauchen wir einen Puffer?  Wenn wir keine Zeit haben, eingehende Ereignisse im Tempo ihrer Ankunft zu verarbeiten. <br>  Im Zusammenhang mit dem Vorstehenden stellt sich eine einzige Frage: Warum?  Die Antwort ist, dass wir hoffen, dass etwas passiert und das System es uns plötzlich ermöglicht, Ereignisse zu verarbeiten. </p><br><p>  Lassen Sie uns zunächst den ersten Absatz behandeln.  Was soll mit dem System passieren, dass es <strong>plötzlich nicht mehr</strong> bremst und schneller Daten verarbeitet?  Höchstwahrscheinlich wird ein ressourcenintensiver Prozess einfach enden und Ressourcen freisetzen.  Aber was ist, wenn dies nicht geschieht?  Was tun mit den Daten?  Es ist bekannt, dass: entweder wir sie einfach zurücksetzen oder das gesamte System nur an einem Mangel an Ressourcen hängt. </p><br><p>  Ente, es gibt zwei Fragen: </p><br><ol><li>  Und warum können Sie die Daten nicht sofort löschen, wenn wir wissen, dass wir keine Ressourcen haben, um sie zu verarbeiten?  Deshalb ist es unmöglich, aus einem Element eine Warteschlange zu erstellen? </li><li>  Oder die umgekehrte Frage.  Warum machen wir uns Illusionen und versorgen das System nicht mit der notwendigen Menge an Ressourcen, um die Daten mit der Empfangsrate zu verarbeiten? </li></ol><br><p>  Die Antworten auf diese Fragen liegen auf der Hand.  Wir wissen einfach nicht, wie man Software- und Hardwaresysteme entwirft.  Denn wenn wir wüssten, wie man sie entwirft, würden wir wissen, wie viele Eingabedaten wir haben, wie hoch ihre Empfangsrate ist, wie viel wir für ihre Verarbeitung benötigen und dementsprechend den tatsächlichen Ressourcenbedarf berechnen können.  Der derzeitige Stand der IKT-Entwicklungsinstrumente und -methoden mit Ausnahme eines Teils der technologischen Systeme (und keineswegs aller) erlaubt es uns jedoch nicht, den Ressourcenbedarf objektiv zu berechnen. </p><br><p>  Und wir schließen diese Mängel mit allen Arten von Puffern, insbesondere in Form von Warteschlangen.  Infolgedessen haben wir sogar auf der Höhe der Grube eine Bombe in das Fundament des Gebäudes gelegt, da diese Krücken als Quelle für verschiedene verächtliche und schwer zu erfassende Probleme mit Zuverlässigkeit, Sicherheit und einfach der Qualität der Arbeit dienen. </p><br><p>  Aber lassen Sie uns fortfahren, vor uns liegt meine „Lieblingsstruktur“ - der Stapel! </p><br><h2 id="stek">  Stapel </h2><br><p>  Das ist sicher, wie Hoar einmal über Null sagte, dass dies ein Milliarden-Dollar-Fehler ist, also kann das gleiche über den Stapel gesagt werden. </p><br><p>  Dies ist eine der problematischsten Strukturen, die in der IKT verwendet werden, und ihre maximale Vermeidung bei der Erstellung von Hardware und Software bis zur vollständigen Ausrottung ist äußerst wünschenswert. </p><br><p>  Was genau ist das Stack-Problem?  Ja, genau wie bei der Warteschlange.  Stapel sind grundsätzlich nicht zu arrangieren.  Sobald es eine Person gibt, die <strong>genau</strong> vorhersagt, wie viel Speicher der Stapel eines beliebigen Programms benötigt, werde ich mich persönlich entschuldigen und einen großen Artikel schreiben, in dem ich mich geirrt habe, und um Vergebung bitten. </p><br><p>  Aber irgendetwas sagt mir, dass dies auf absehbare Zeit unwahrscheinlich ist. </p><br><p>  Lassen Sie uns analysieren, warum wir Stapel brauchen.  Ja, genau für das gleiche, für das die Warteschlange.  Dies ist ein Puffer.  Das heißt, dies sind Krücken für einen faulen Verstand, der Software- und Hardwaresysteme nicht richtig entwerfen möchte. </p><br><blockquote>  Die Lektion lautet also: Rekursionen sollten vermieden werden, wenn es eine offensichtliche iterative Lösung gibt.  Dies bedeutet jedoch nicht, dass Rekursionen um jeden Preis entsorgt werden sollten.  Es gibt viele gute Beispiele für die Verwendung von Rekursion, die wir in den folgenden Abschnitten und Kapiteln demonstrieren werden.  Die Tatsache, dass es auf praktisch nicht rekursiven Maschinen Implementierungen von rekursiven Prozeduren gibt, zeigt, dass aus praktischen Gründen jedes rekursive Programm in ein rein iteratives umgewandelt werden kann.  Dies erfordert jedoch eine explizite Arbeit mit dem Rekursionsstapel, und diese Aktionen verdecken häufig das Wesentliche des Programms, so dass es schwierig zu verstehen sein kann.  Schlussfolgerung: Algorithmen, die rekursiver und nicht iterativer Natur sind, müssen als rekursive Prozeduren formuliert werden. <br>  Nicklaus Wirth.  Algorithmen und Datenstrukturen </blockquote><p>  Ich stimme dem Master über die Konvertierungsoptionen zu und stimme seinen weichen Ansätzen zur Verwendung des Stapels nicht zu. </p><br><p>  Ich habe einen Satz aufgestellt: Jeder Stapelalgorithmus kann in eine Schleife konvertiert werden, und diejenigen, die nicht konvertiert werden können, sind schlecht. </p><br><p>  Das Aufrufen von Unterprogrammen mit Übergeben von Parametern durch den Stapel sollte gestoppt werden, und eine Rekursion, die sich nicht in die Schleife ausdehnt, und andere weit verbreitete Verfahren sollten ebenfalls dorthin gehen. </p><br><p>  Wir können den Stapel für die folgenden Fälle ersetzen: </p><br><ol><li>  Rekursion, implementiert in Form der Erweiterung des Stapelalgorithmus in eine Schleife mit einem Datenblock, der während der Ausführung der Schleife geändert wird. </li><li>  Wenn Sie Parameter übertragen müssen, organisieren Sie ein Firmware-System mit Messaging.  Und was das Versenden von Nachrichten betrifft, gehen wir zu den Zeilen, die im ersten Teil des Artikels beschrieben wurden.  Wenn Sie wirklich einen Stapel wollen, sollten Sie natürlich nicht Dutzende und Hunderte von Kilobyte von Objekten dorthin verschieben, aber Sie müssen normalerweise Speicher dafür auf dem Heap zuweisen. </li></ol><br><p>  Gleichzeitig können Programmierer auf der obersten Ebene beliebige Datenstrukturen verwenden, und es liegt an den Compilern, diese zu transformieren, um die Verwendung des Stapels auszuschließen. </p><br><p>  Natürlich werden einige der Möglichkeiten wahrscheinlich verloren gehen, aber dies ist, wenn es im Detail betrachtet wird, keine Tatsache. </p><br><h2 id="blockout">  Blockierung </h2><br><p>  1995 formulierte ich mit meinem Klassenkameraden die Prinzipien des Aufbaus eines Betriebssystems, das beide Paradigmen ausschloss. </p><br><p>  Die Prinzipien waren wie folgt: </p><br><ol><li>  Software - Netzwerke interagierender Prozesse. </li><li>  Das Zusammenspiel von Prozessen erfolgt durch den Austausch von Nachrichten. </li><li>  Das Netzwerk interagierender Prozesse ist wie folgt organisiert: Die Quellen für Primärnachrichten in einem solchen Netzwerk sind <strong>nur</strong> Ereignisse aus der Außenwelt, die von Geräten bereitgestellt werden. Die Endverbraucher von Nachrichten sind <strong>nur</strong> Geräte, die Aktionen in der Außenwelt ausführen.  Das heißt, das Netzwerk beginnt in der realen Welt und endet darin. </li><li>  Prozesse können keine Prioritäten haben.  Prioritäten können nur ein Netzwerk von Prozessen haben. </li><li>  Das Netzwerk puffert <strong>niemals</strong> Nachrichten.  Der Hardware-Software-Komplex sollte so organisiert sein, dass Nachrichten im Tempo ihres Eingangs von außen verarbeitet werden können. </li><li>  Der Hardwarekomplex ist ein Netzwerk von Rechenknoten, die durch Kommunikationskanäle verbunden sind. </li><li>  Jeder Knoten hat "Kosten", abhängig von seiner Verarbeitungsleistung, Speichergröße, Last und Gewichtsfaktor, unter Berücksichtigung der Kosten für seine Erstellung und Wartung. </li><li>  Jeder Kommunikationskanal hat abhängig von seiner Bandbreite, Überlastung und seinem Gewichtskoeffizienten „Kosten“, wobei die Kosten für seine Erstellung und Wartung berücksichtigt werden. </li><li>  Das Betriebssystem bietet den Start von Prozessen als Reaktion auf eingehende Nachrichten und Nachrichtenrouting. </li><li>  Das Betriebssystem stellt die Verteilung von Prozessen und Nachrichten zwischen Rechenknoten sicher und optimiert die Funktion f (CPU, Mem) in der Netzwerktopologie unter Berücksichtigung der Kosten für die Übertragung des Prozesscodes und der Nachrichten an den Knoten. </li><li>  Aufgrund des Aufbaus des Systems können Sie die für den Prozess erforderliche Speichermenge immer <strong>genau</strong> berechnen.  Die erforderliche Zählzeit kann basierend auf der Analyse des Algorithmus <strong>genau</strong> berechnet werden. </li></ol><br><h2 id="processor-bind">  BIND-Prozessor </h2><br><p>  Im Rahmen seiner Lehrkarriere nahm er zusammen mit Studenten einmal am IEEE-CPU-Emulator-Wettbewerb teil.  Ein stapelloser Allzweckprozessor mit Harvard-Architektur wurde unter Verwendung eines Befehlssystems ähnlich früheren ARMs entwickelt.  Auch die vergessene Idee der Transporter wurde in die CPU integriert und der Prozessor mit 16 8-Bit-Empfangs-Sende-Kanälen ausgestattet. </p><br><p>  Dementsprechend gab es im Prozessor keine Call / Return-Operationen.  Es war nur ein bedingter / bedingungsloser Übergang möglich.  Da derzeit fast niemand in Assembler schreibt, sollten alle Fragen zum Generieren eines Programms im Maschinencode dem Compiler zugewiesen werden. </p><br><p>  Das Hauptziel dieses Prozessors war es, die Prinzipien des Blockout-Betriebssystems auf Hardwareebene nahtlos zu unterstützen, indem ein Netzwerk von Prozessoren im lokalen Rechenknoten erstellt wurde, die durch Kommunikationskanäle verbunden sind, über die Prozesse bereits verteilt werden. </p><br><h2 id="vyvody">  Schlussfolgerungen </h2><br><p>  Der Text zeigt die schwerwiegenden Fehler der Warteschlangen- und Stapeldatenstrukturen.  Die Prinzipien des Entwurfs von Software- und Hardwaresystemen, die es ermöglichen, diese Strukturen von der Anwendungspraxis auszuschließen, werden angegeben. </p><br><p>  Dieser Text ist vielmehr eine Zusammenstellung von Gedanken, die im Laufe einer IT-Karriere entstanden sind, um sozusagen alles an einen Ort zu bringen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430070/">https://habr.com/ru/post/de430070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430058/index.html">Wellenprozesse in Hydraulikleitungen. Die Grundlagen</a></li>
<li><a href="../de430060/index.html">Hackspace, Denis Perevalov, Anastasia Krokhaleva - die Magie des Programmierens</a></li>
<li><a href="../de430062/index.html">Microservices. Entwicklungs- und Refactoring-Muster mit Java-Beispielen</a></li>
<li><a href="../de430064/index.html">C ++: eine Sitzung der spontanen Archäologie und warum Sie keine variablen Funktionen im Stil von C verwenden sollten</a></li>
<li><a href="../de430068/index.html">Ordnung der Puppe</a></li>
<li><a href="../de430072/index.html">Serverseitig Swift Underestimated: Interview mit Paul Hudson</a></li>
<li><a href="../de430074/index.html">Wie ich fast einen Virus gefangen hätte, der versucht, Stiefel zu verkaufen</a></li>
<li><a href="../de430076/index.html">Kostenlose Ausstrahlung von DotNext 2018 Moskau</a></li>
<li><a href="../de430078/index.html">So steuern Sie Elektrogeräte, funkgesteuerte Modelle und motorisierte Kinderwagen mit einem Blick</a></li>
<li><a href="../de430080/index.html">Wechseln zu einem Cluster mit 1C-Bitrix: Web Environment</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>