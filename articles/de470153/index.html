<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👳🏿 🌎 🥋 Datenmodellwörterbuch 💊 👩🏼‍💻 🐎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mikhail Konovalov, Leiter der Supportabteilung für Integrationsprojekte, ICD IT-Direktion 

 Guten Tag, Chabrowiten! 

 Zweck 
 Ein systematischer Ans...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Datenmodellwörterbuch</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mkb/blog/470153/">  <b>Mikhail Konovalov, Leiter der Supportabteilung für Integrationsprojekte, ICD IT-Direktion</b> <br><br>  Guten Tag, Chabrowiten! <br><br><h4>  Zweck </h4><br>  Ein systematischer Ansatz zur Verwaltung von Downloads.  Wir möchten Ihnen zeigen, wie Sie das Füllen des Repositorys mit Informationen optimieren und automatisieren und gleichzeitig nicht in den Flüssen aus verschiedenen Quellen verwechselt werden können. <br><a name="habracut"></a><br><h4>  Präambel </h4><br>  Früher oder später taucht in der Unternehmensdatenbank eines Unternehmens ein Moment auf, in dem das Auge des Architekten die Unsicherheit (das Chaos) des Systems nicht mehr erfasst und sich in eine unkontrollierbare Masse aller Arten von Downloads aus verschiedenen Quellen verwandelt. <br><br>  Sie haben Glück, wenn Ihr System von Grund auf neu entwickelt wurde (ab der ersten Tabelle) und von einem Architekten, einem Team von Entwicklern und Analysten betrieben wurde.  Außerdem leitete dieser Architekt das Data-Warehouse-Modell kompetent.  Aber das Leben ist vielfältig, in den meisten Fällen wächst DWH spontan, zuerst gab es 30 Tische, dann haben wir nach Bedarf etwas mehr hinzugefügt, und dann hat es uns gefallen und wir haben begonnen, für jede Gelegenheit etwas hinzuzufügen, und jetzt haben wir mehr als fünftausend, ja Schichten, Inszenierungen und Vitrinen erschienen immer noch.  Und all dieses „Glück“ fiel auf uns als Ergebnis eines, aber sehr bequemen Prozesses, der ein harter Kausalzusammenhang ist: <br><br><ul><li>  Das Unternehmen sagt: „Wir brauchen solche und solche Daten.  Benötigen Sie einen neuen Bericht » </li><li>  Der Analyst sucht </li><li>  Entwickler implementiert </li><li>  Der Architekt koordiniert und trägt zum Datenmodell bei </li></ul><br>  Aber in der Regel existiert der letzte Punkt in der Realität nicht.  Und es tritt nur zu einem bestimmten Zeitpunkt in großen Unternehmen auf, die zu ihrem DWH herangewachsen sind, wo ein ordentlicher Architekt die Integrität der Informationen in der Datenbank kompetent verwaltet.  Solche Repositorys sind eine Überprüfung der vorherigen Struktur, die mit Blick auf die vorherige (nicht dokumentierte) Version neu dokumentiert und häufig neu erstellt wurde. <br><br>  <b>Also eine kurze Zusammenfassung:</b> <br><br><ol><li>  Es gibt kein DWH, das sofort geboren wurde und zuvor keine reguläre Datenbank mit einer Reihe von Tabellen darstellte. </li><li>  Alles, was jetzt existiert und eine klar algorithmisierte und dokumentierte Struktur ist, wurde als Ergebnis „bitterer Erfahrung“ aus früheren Entwicklungen erhalten. </li></ol><br>  Wenn Sie der glückliche Besitzer des „richtigen“ DWH sind oder Teil des Teams dieses glücklichen Besitzers sind, scheint Ihnen dieser Artikel „theoretisch“ interessant zu sein.  Und wenn Sie nur eine Überprüfung durchführen oder (Ihnen verbieten) neu erstellen müssen, kann dieser Artikel Ihr Leben erheblich vereinfachen. <br><br>  Da es eine unvorstellbare Menge an Informationsquellen geben kann, gibt es mindestens die gleiche Anzahl von Download- und Überlastungsströmen verschiedener Objekte und oft noch viel mehr, da jedes Datenbankobjekt mehr als eine Transformation durchlaufen kann, bevor seine Daten vom Endbenutzer zum Erstellen verwendet werden können Geschäftsberichte.  Aber es ist für ihn, geschäftlich und nicht zu seinem eigenen Vergnügen, dass dieses gesamte Ökosystem für die „Transfusion von Schiff zu Schiff“ gebaut wurde. <br><br>  Oracle wird als Datenbank unseres Speichers verwendet.  In der Erstellungsphase bestand der zentrale Kern unserer Datenbank aus mehreren hundert Tabellen.  Wir haben nicht an Inszenierungen und Schaufenster gedacht.  Aber wie sie sagen, "alles fließt, alles ändert sich", und jetzt sind wir gewachsen!  Das Unternehmen schreibt neue Anforderungen vor, und die Integration in verschiedene MS SQL-, SyBASE-, Vertica- und Access-Datenbanken ist bereits erschienen.  Von dort, wo keine Informationen zu uns fließen, sind auch exotische Daten wie XML- und JSON-Austausch mit Systemen von Drittanbietern aufgetreten, und die XLS-Datei als Informationsquelle ist vollständig anachronistisch. <br><br>  Das Leben hat uns dazu gebracht, die Überprüfung zu durchlaufen und das Datenmodell zu aktualisieren, zu pflegen und zu pflegen.  Hier ist einer der Teile des Hauptkerns: <br><br><img src="https://habrastorage.org/webt/if/gg/ya/ifggyahxboid7r-nmcngx430upq.jpeg"><br>  <i>Abb.</i>  <i>1</i> <br><br>  Für wen es ist, aber für mich - es ist nur auf einem Whatman-Papier lesbar, und A0 wird ein wenig klein sein, besser als 4A0, auf dem Bildschirm ist es für das Auge oder die Vorstellungskraft unmöglich. <br><br>  Denken Sie nun daran, dass dies nur der Kern (Core Data Layer) oder vielmehr sein Hauptteil ist. Der vollständige Kern besteht aus mehreren Subsystemen, die dem Hauptteil nicht viel unterlegen sind.  Dazu <b>kommen auch die</b> <b>primäre Datenschicht</b> und die <b>Data Mart-Schicht</b> .  Darüber hinaus erhält die primäre Schicht ihre Informationen aus Datenquellen, und dies, wie oben erwähnt, aus verschiedenen Datenbanken und Dateien.  Auf der anderen Seite werden vom Verbraucher verschiedene Berichtssysteme mit der Ebene der Schaufenster verbunden. <br><br>  Als in PL / SQL nur wenige Datenbanktabellen und Ladealgorithmen implementiert waren, gab es zunächst keine besonderen Schwierigkeiten beim Verständnis von Datenaktualisierungen.  Mit dem Aufstieg von DWH war es jedoch eine strategische Entscheidung, Informatica PowerCenter zu kaufen.  Mit dem Komfort dieses Tools, sowohl hinsichtlich der Zuverlässigkeit des Ladens als auch der Visualisierung der Entwicklung, weist dieses Tool mehrere Nachteile auf.  Die folgende Abbildung zeigt ein Modell für die Startsequenz zum Laden eines DWH. <br><br><img src="https://habrastorage.org/webt/mk/pj/xp/mkpjxpg14fprrf9ougtavdifsoy.jpeg"><br>  <i>Abb.</i>  <i>2</i> <br><br>  Der wichtigste Nachteil ist die Subjektivität, oder vielmehr kann nur der Architekt garantieren, dass die Buchungen nicht vor den Rechnungen geladen werden.  Leider nimmt mit dem Wachstum von DWH auch die Entropie von Informationen zu.  Unter Berücksichtigung des physikalischen Datenmodells (Abb. 1) und der Logik zum Laden dieser Daten (Abb. 2) wird die Konstruktion weiterhin erhalten. <br><br>  Was zu tun ist und wie es zu steuern ist, fragen Sie.  Natürlich: einen brillanten Architekten zu haben, der alle Zusammenhänge dieser Feinheiten verstehen kann.  Dadurch werden alle Flows überwacht, neue Flows koordiniert und verhindert, dass die Buchungstabelle früher als die Kontotabelle geladen wird.  Natürlich wird all dies in die Algorithmen eingenäht und durch Download-Cutoffs reguliert, aber zunächst kann nur ein Architekt die Downloads verstehen und auf eine strenge Reihenfolge einstellen, und bei einer solchen Verzweigung ist die Wahrscheinlichkeit von Fehlern sehr hoch. <br><br><h4>  Theorie </h4><br>  Jetzt werde ich versuchen, die Hauptideen des Datenmodellwörterbuchs sowie die zu lösenden Aufgaben anzugeben. <br><br>  Da sich die Daten im Speicher in Tabellen befinden und die Datenquellen teilweise Tabellen und teilweise Ansichten sind, sind letztere selbst Tabellen.  Dann folgt eine einfache Idee - eine <b>TABLE-TABLE-</b> Abhängigkeitsstruktur zu erstellen.  Die <b>3NF-</b> Form ist dafür perfekt geeignet. <br><br>  Erstens, wenn wir die DWH-Entitätsdaten füllen, nennen wir sie <b>(Ziel)</b> , im allgemeinsten Fall kann sie als <b>Auswahl</b> aus verschiedenen Tabellen dargestellt werden.  Ob es sich um Oracle-Tabellen, SyBase, MSSQL, XLS-Dateien oder etwas anderes handelt, es ist nicht so wichtig, all dies nennen wir ihre Quellen <b>(Quelle)</b> .  Das heißt, wir haben eine <b>Quelle</b> , die ins <b>Ziel</b> fließt. <br><br>  Zweitens hat jede DWH-Entität Verweise aufeinander. <br><br>  Drittens gibt es eine Chronologie zum Starten von Downloads verschiedener DWH-Entitäten. <br><br>  Es bleibt der Fall für kleine, umzusetzen - wie?  Es scheint sehr einfach zu sein, dass der Architekt von der Grundlage Ihres DWH aus, wenn die nächste Tabelle der Entität <b>(Ziel)</b> angezeigt wird, die Empfängerentität und alle Entitäten, die als Quellen dienen, betrachten und in das Wörterbuch aufnehmen muss.  Geben Sie außerdem in der zweiten Tabelle des Wörterbuchs die Verknüpfungen zwischen diesen Entitätsquellen in select sowie alle untergeordneten Tabellen an, auf die durch Referenzen verwiesen wird.  Als Nächstes können Sie das Laden dieser Entität in die Speicher-Download-Kette einbetten.  Nur zwei Tabellen - und die Möglichkeit, die Reihenfolge des Füllens der Daten mit dem Algorithmus im Algorithmus zu berücksichtigen, ist gelöst. <br><br>  Das Wörterbuchdatenmodell löst die folgenden Probleme: <br><br><ul><li>  Abhängigkeiten anzeigen.  Sie können sehen, aus welchen Daten sie stammen.  Dies ist praktisch für Analysten, die immer von Fragen gequält werden: "Wo, was liegt und woher kommt alles?"  Präsentieren Sie dies in der Anwendung in Form eines Baums, sowohl von <b>Quelle</b> zu <b>Ziel</b> als auch umgekehrt: von <b>Ziel</b> zu <b>Quelle</b> . </li><li>  Bruch von Schleifen.  Wenn Sie die nächste Ladung in einen bereits funktionierenden gemeinsam genutzten Stream einbetten, ohne über ein Datenmodellwörterbuch zu verfügen, können Sie durchaus einen Fehler machen und eine Startzeit für das Laden des nächsten Ziels vor einer seiner Quellen zuweisen.  Dies erzeugt eine Schleife.  Ein Datenmodellwörterbuch wird dies leicht vermeiden. </li><li>  Sie können einen Algorithmus zum Füllen des Speichers basierend auf dem Modellwörterbuch schreiben.  In diesem Fall muss der nächste Download nirgendwo eingebettet werden. Geben Sie ihn einfach in das Wörterbuch ein, und der Algorithmus bestimmt seinen Platz.  Es bleibt noch auf die begehrte Schaltfläche <b>"Make ALL"</b> zu klicken.  Der Bootloader startet Lawinen-ähnliche Downloads aller Speichereinheiten - von einfach (unabhängig) bis komplex (abhängig). </li></ul><br><h4>  Implementierung </h4><br>  Theoretisch ist immer alles einfach und schön, in der Praxis sieht es etwas anders aus.  Was im vorherigen Abschnitt geschrieben wurde, ist eine ideale Situation, als sich DWH von Grund auf neu entwickelte, als ein Architekt untrennbar damit verbunden war.  Wenn Sie kein Glück haben, haben Sie das alles sicher bestanden, es gibt keinen Architekten, aber es gibt eine riesige Reihe von Tischen, und trotzdem gibt es einen Ausweg. <br><br>  In der Tat werde ich Ihnen jetzt sagen, wie wir es geschafft haben, die Überprüfung und den Wiederaufbau billig genug nachzuholen.  Unser DWH begann sich mit einer Führungsentscheidung über einen bevorstehenden Bedarf (DWH) zu entwickeln.  Als Tool wurde zuerst PL / SQL verwendet.  Wenig später wechselte er zu Informatica.  Die Priorität war natürlich der Zeitpunkt der Schöpfung.  Das Datenmodell in PowerDesigner erschien einige Zeit später, als das Vertrauen klar wurde, dass sich niemand ein vollständiges und klares Bild von DWH vorstellen konnte.  Wir haben einige Zeit mit dem Modell an der Wand gelebt. Als klar wurde, dass wir mit der Verwaltung dieses gesamten Systems nicht fertig werden konnten, suchten wir nach einer Lösung, die ich hier kurz beschreiben möchte. <br><br>  Das Datenmodellwörterbuch selbst ist so einfach wie ein Stick.  Aber das Auffüllen ist ein Problem.  N Monate sorgfältiger und vor allem sorgfältiger Prüfung der drei oben genannten Teile: <br><br><ul><li>  Aus welchen Quellen (Quelle) besteht jede Entität des Repositorys (Ziels)? </li><li>  Welche Beziehungen bestehen zwischen Speicherobjekten (Referenzen)? </li><li>  die Chronologie des Starts der Downloads und des Füllens des Repositorys. </li></ul><br>  Glücklicherweise haben Oracle und Informatica uns geholfen, und es stellte sich als sehr erfolgreich heraus, dass sich das Informatica-Repository in der Oracle-Datenbank befindet.  Auf der Grundlage, dass eine Informatica-Sitzung das Ladeatom einer DWH-Entität ist und ein wenig im Repository gräbt, haben wir alle Quellen und Ziele gefunden.  Das heißt, im Rahmen einer Sitzung sind für alle Ziele (in der Regel eine) alle Quellen Quellen.  Somit können wir die erste Bedingung des Problems ausfüllen.  Aber beeilen Sie sich nicht, sich zu freuen, die Quelle kann in Form einer sehr cleveren Auswahl dargestellt werden. Sie mussten also einen Parser schreiben, der alle in select angegebenen Tabellen herausholt - es war überhaupt nicht schwierig.  Dies ist jedoch noch nicht alles. Diese Tabellen selbst können tatsächlich Darstellungen sein.  Mit DBA_VIEWS (oder über DBA_DEPENDENCIES) wurde dieses Problem ebenfalls behoben.  Wir haben die zweite Bedingung dieser Trilogie aus dem Datenmodell (Abb. 1) und DBA_CONSTRAINTS gezogen.  Wir haben auch die dritte Bedingung aus dem Informatica-Repository basierend auf (Abb. 2) erhalten. <br><br>  <b>Was ist aus all dem geworden?</b> <br><br><ul><li>  Erstens haben wir alle Schleifen entwirrt, die wir in der Entwicklung unseres DWH gewickelt haben. </li><li>  Zweitens haben wir einen wunderbaren Baum für Analysten: <br><br><img src="https://habrastorage.org/webt/vk/kg/hg/vkkghgftzww15zjacq1z0nwdwha.jpeg"><br>  <i>Abb.</i>  <i>3</i> </li><li>  Drittens unser Superloader, dargestellt in Abb.  2 wurde elegant (sorry, Kollegen, aber die Unschärfe des Bildes ist beabsichtigt, da es sich um Arbeitsdaten handelt): <br><br><img src="https://habrastorage.org/webt/eu/mz/pc/eumzpcreywcm7em5gxpaswb_kpy.jpeg"><br>  <i>Abb.</i>  <i>4</i> </li></ul><br>  Möglicherweise haben Sie noch viele weitere Möglichkeiten, das Datenmodellwörterbuch anzuwenden. <br><br>  Danke an alle! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470153/">https://habr.com/ru/post/de470153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470129/index.html">Deklarative Speicherverwaltung</a></li>
<li><a href="../de470133/index.html">So sammeln Sie mit Prometheus Metriken, die nicht durch Zeitangaben verzerrt sind</a></li>
<li><a href="../de470135/index.html">Eine interaktive Webanwendung ohne Programmierung? Einfach! Mavo in deinen Armen</a></li>
<li><a href="../de470139/index.html">2 Life Hacks: Alternativen zur klassischen Suche in Microsoft SQL Server</a></li>
<li><a href="../de470145/index.html">„Vorsicht, FAS!“: Warum ist ein militärisches Ticket in der Werbung gefährlich, warum ist es wichtig, Mathe zu kennen und ob immer die bloße Wahrheit benötigt wird</a></li>
<li><a href="../de470155/index.html">Merkmale der nationalen Mustererkennung</a></li>
<li><a href="../de470165/index.html">Die Philosophie der Teilung durch ... oder das Geständnis eines Verrückten</a></li>
<li><a href="../de470167/index.html">Konferenz für Wissenschaftsinteressierte, bevor sie zum Mainstream wurde</a></li>
<li><a href="../de470169/index.html">Wie man verhindert, dass die Idee stirbt und ein Team zusammenstellt, das sie nicht umbringt</a></li>
<li><a href="../de470171/index.html">Habr Weekly # 21 / Dobroshrift, Technodom für eine Katze, das Recht, Haushaltsgeräte zu reparieren, die Europäische Union und „transparente“ Cookies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>