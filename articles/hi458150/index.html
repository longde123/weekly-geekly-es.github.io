<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯУО ЁЯСйЁЯП╜тАНЁЯЪТ тд╡я╕П C ++ рдФрд░ C # рдХрдВрдкрд╛рдЗрд▓рд░реНрд╕ рдореЗрдВ Peephole microoptimization ЁЯОД ЁЯЩО ЁЯЪ╢ЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕реНрдХреВрд▓ рдореЗрдВ, рдЬрдм рд╣рдордиреЗ рд╕рдореАрдХрд░рдг рд╣рд▓ рдХрд┐рдП рдпрд╛ рд╕реВрддреНрд░реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛, рддреЛ рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рдХрдИ рдмрд╛рд░ рдХрдо рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, Z = X - (Y + X) рдХреЛ Z = -Y рдШрдЯрд╛ рджрд┐рдп...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ рдФрд░ C # рдХрдВрдкрд╛рдЗрд▓рд░реНрд╕ рдореЗрдВ Peephole microoptimization</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458150/"><p> рд╕реНрдХреВрд▓ рдореЗрдВ, рдЬрдм рд╣рдордиреЗ рд╕рдореАрдХрд░рдг рд╣рд▓ рдХрд┐рдП рдпрд╛ рд╕реВрддреНрд░реЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд┐рдпрд╛, рддреЛ рд╣рдордиреЗ рдЙрдиреНрд╣реЗрдВ рдХрдИ рдмрд╛рд░ рдХрдо рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>Z = X - (Y + X)</code> рдХреЛ <code>Z = -Y</code> рдШрдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ред  рдЖрдзреБрдирд┐рдХ рд╕рдВрдХрд▓рдХ рдореЗрдВ, рдпрд╣ рддрдерд╛рдХрдерд┐рдд рдкреАрдкрд╣реЛрд▓ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдПрдХ рд╕рдмрд╕реЗрдЯ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ, рдореЛрдЯреЗ рддреМрд░ рдкрд░ рдмреЛрд▓рдирд╛, рдкреИрдЯрд░реНрди рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣рдо рднрд╛рд╡реЛрдВ рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВ, рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рд▓рд┐рдП рддреЗрдЬреА рд╕реЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЖрджрд┐ред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВрдиреЗ рдРрд╕реЗ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рд╕рдВрдХрд▓рди рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рд╣реИ рдЬреЛ LLVM, GCC рдФрд░ .NET рдХреЛрд░ (CoreCLR) рд╕реНрд░реЛрддреЛрдВ рдореЗрдВ рдкрд╛рдП рдЧрдП рдереЗред </p><br><p>  рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="cpp hljs"> X * <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; X -X * -Y =&gt; X * Y -(X - Y) =&gt; Y - XX * Z - Y * Z =&gt; Z * (X - Y)</code> </pre> <br><p>  C ++ рдФрд░ C # рдореЗрдВ рдЕрдВрддрд┐рдо рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x * z - y * z; <span class="hljs-comment"><span class="hljs-comment">// =&gt; z * (x - y) }</span></span></code> </pre> <br><p>  рдФрд░ Clang (LLVM), GCC, MSVC рдФрд░ .NET рдХреЛрд░ рд╕реЗ рдХреЛрдбрд╛рдВрддрд░рдХ рджреЗрдЦреЗрдВ: <br><img src="https://habrastorage.org/webt/up/xl/zo/upxlzopwz17gkq290kycswi4_qq.png"></p><a name="habracut"></a><br><p>  рд╕рднреА рддреАрди рд╕реА ++ рдХрдВрдкрд╛рдЗрд▓рд░ (рдЬреАрд╕реАрд╕реА, <code>imul</code> ) рдиреЗ рдПрдХ рдЧреБрдгрд╛ рдХрдо рдХрд░ рджрд┐рдпрд╛ (рд╣рдо рдХреЗрд╡рд▓ рдПрдХ <code>imul</code> рдЗрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рджреЗрдЦрддреЗ рд╣реИрдВ)ред  C # рдиреЗ RyuJIT рдХреЗ рд╕рд╛рде рдРрд╕рд╛ рдирд╣реАрдВ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рд▓рд┐рдП рдЙрд╕реЗ рдбрд╛рдВрдЯрдиреЗ рдореЗрдВ рдЬрд▓реНрджрдмрд╛рдЬреА рди рдХрд░реЗрдВ, рдмрд╕ рдЗрддрдирд╛ рд╣реИ рдХрд┐ рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдпрд╣ рд╡рд░реНрдЧ рдПрдХ рд╕реАрдорд┐рдд рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИред  рдЖрдкрдХреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, LLVM рдореЗрдВ рд╕рдВрдкреВрд░реНрдг InstCombine рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ рдХреЛрдб рдХреА 30k рд╕реЗ рдЕрдзрд┐рдХ рд▓рд╛рдЗрдиреЗрдВ (+ DAGCombiner.cpp рдкрд░ + 20k рд▓рд╛рдЗрдиреЗрдВ) рд▓рдЧрддреА рд╣реИрдВ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдкрд░рд┐рд╡рд░реНрддрди рдЕрдХреНрд╕рд░ рдПрдХ рд▓рдВрдмреЗ рд╕рдВрдХрд▓рди рдХрд╛ рдХрд╛рд░рдг рдмрдирддрд╛ рд╣реИред  <a href="">рд╡реИрд╕реЗ,</a> рдЗрд╕ рдЕрдиреБрдХреВрд▓рди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ <a href="">рд╕рд╛рдЗрдЯ</a> рд╣реИред  рдЬреАрд╕реАрд╕реА рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдбреАрдПрд╕рдПрд▓ рд╣реИ рдЬреЛ рдЕрдиреБрдХреВрд▓рди piphole рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ, <a href="">рдпрд╣рд╛рдВ рдПрдХ рд╕реНрдирд┐рдкреЗрдЯ рд╣реИ</a> )ред </p><br><p>  рдореИрдВрдиреЗ рддрдп рдХрд┐рдпрд╛, рд▓реЗрдЦ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рдЕрдиреБрдХреВрд▓рди рдХреЛ C # JIT (рдореЗрд░реА рдмрд┐рдпрд░ рдкрдХрдбрд╝реЛ) рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/692/14c/c65/69214cc65fd41d79f8d53caf4021c9af.png" alt="рдЫрд╡рд┐"></p><br><p>  рдкреВрд░реНрдг рдкреНрд░рддрд┐рдмрджреНрдзрддрд╛ рдпрд╣рд╛рдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдИрдЧреЛрд░рдмреЛ / рдХреЙрд░реНрдХреНрд▓рд░ рдореЗрдВ</a> рджреЗрдЦреА рдЬрд╛ рд╕рдХрддреА рд╣реИред  рдЖрдЗрдП рдЕрдм рдореЗрд░реЗ рд╕реБрдзрд╛рд░ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВ (рджреГрд╢реНрдп рд╕реНрдЯреВрдбрд┐рдпреЛ 2019 рдореЗрдВ + рдбрд┐рд╕реНрдореЛ: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e53/e77/de9/e53e77de91d647f78f021d10fb57a8c9.png" alt="рдЫрд╡рд┐"></p><br><p>  рдпрд╣ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ!  <code>lea</code> + <code>imul</code> рдЬрдЧрд╣ <code>imul</code> , <code>imul</code> рдФрд░ <code>add</code> ред </p><br><p>  рдЖрдЗрдП C ++ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ рдЗрд╕ рдЕрдиреБрдХреВрд▓рди рдХреЛ Clang рдореЗрдВ рдЯреНрд░реИрдХ рдХрд░реЗрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдкреНрд░рд╛рд░рдВрднрд┐рдХ LLVM IR рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ <code>-emit-llvm -g0</code> рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП <code>-emit-llvm -g0</code> , рдФрд░ рдлрд┐рд░ рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рд╕рдЯреАрдХ рдХреНрд╖рдг рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП <code>-O2 -print-before-all -print-after-all</code> рдкреИрд░рд╛рдореАрдЯрд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЕрдиреБрдХреВрд▓рдХ рдХреЛ LLVM рдХреЛ рджреЗрдВред рд╕реЗрдЯ <code>-O2</code> рд╕реЗ рдЧреБрдгрд╛ рдХреЛ рд╣рдЯрд╛рддрд╛ рд╣реИ (рдпрд╣ рд╕рдм рдЕрджреНрднреБрдд рд╕рдВрд╕рд╛рдзрди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Godbolt.org</a> рдкрд░ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ): </p><br><pre> <code class="plaintext hljs">; *** IR Dump Before Combine redundant instructions *** define dso_local i32 @_Z5Case1iii(i32, i32, i32) { %4 = mul nsw i32 %0, %2 %5 = mul nsw i32 %1, %2 %6 = sub nsw i32 %4, %5 ret i32 %6 } ; *** IR Dump After Combine redundant instructions *** define dso_local i32 @_Z5Case1iii(i32, i32, i32) { %4 = sub i32 %0, %1 %5 = mul i32 %4, %2 ret i32 %5 }</code> </pre> <br><p>  рдЖрдк рдПрд▓рдПрд▓рд╡реАрдПрдо рдЯреВрд▓реНрд╕ - рдСрдкреНрдЯ (рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░) рдФрд░ рдПрд▓рдПрд▓рд╕реА (рдПрд▓рдПрд▓рд╡реАрдПрдо рдЖрдИрдЖрд░ рдХреЛ рдПрд╕рдо рдореЗрдВ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП) рдХреЗ рд╕рд╛рде рдЧреЙрдбрдмреЙрд▓реНрдЯ рдкрд░ рднреА рдордЬрд╝реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><p><img src="https://habrastorage.org/webt/yr/x-/dw/yrx-dw9mx9tqbrp97ts3smndy0i.png"></p><br><p>  рд╡рд╛рдкрд╕ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдПред  рдореБрдЭреЗ рдЬреАрд╕реАрд╕реА рдореЗрдВ рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдЙрджрд╛рд╣рд░рдг рдорд┐рд▓рд╛ред </p><br><pre> <code class="cpp hljs">X == C - X =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> C is odd</code> </pre> <br><p>  рдФрд░ рдпрд╣ рд╕рдЪ рд╣реИ: рдпрджрд┐ <code></code> (рд╕реНрдерд┐рд░, рд╢рд╛рдмреНрджрд┐рдХ) рддрдм рднреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк <code>4 == 8 - 4</code> рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ 8 рдХреЗ рдмрдЬрд╛рдп рдЖрдк рдХреЛрдИ рдЕрдЬреАрдм рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдРрд╕рд╛ <code>X</code> рдирд╣реАрдВ рдЦреЛрдЬ рд╕рдХрддреЗ рдЬрд┐рд╕рд╕реЗ рд╕рдорд╛рдирддрд╛ рдкреВрд░реА рд╣реЛ: </p><br><p><img src="https://habrastorage.org/webt/lt/qn/pq/ltqnpqgmnbcyszoj0dv7nawouk8.png"></p><br><h3 id="ieee754-nanosit-otvetnyy-udar">  IEEE754 рд╕реНрдЯреНрд░рд╛рдЗрдХреНрд╕ рдмреИрдХ </h3><br><p>  рдХрдИ рдЕрдиреБрдХреВрд▓рди рд╡рд┐рднрд┐рдиреНрди рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>byte</code> , <code>int</code> , <code>unsigned</code> , <code>float</code> , <code>double</code> ред  рдЙрддреНрддрд░рд╛рд░реНрджреНрдз рдХреЗ рд╕рд╛рде, рдЪреАрдЬреЗрдВ рдЗрддрдиреА рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИрдВ рдФрд░ IEEE754 рд╡рд┐рдирд┐рд░реНрджреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрдХреВрд▓рди рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ <code>A - B - A</code> рдЯреВ рдпрд╛ <code>-B</code> <code>(A * B) * C</code> рдХрдо рдХрд░рдиреЗ рдкрд░ рдкрд╛рдЧрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ <code>A * (B * C)</code> рдЯреА рдкрд░ рдлрд┐рд░ рд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд░реЗрдВред рдПрдХред  рд╕рдВрдЪрд╛рд▓рди рд╕рд╣рдпреЛрдЧреА рдирд╣реАрдВ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЖрдзреБрдирд┐рдХ рд╕рдВрдХрд▓рдХ рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдореЛрдб рд╣реИ рдЬреЛ рдЖрдкрдХреЛ рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдХрд▓реНрдкрдирд╛ рдФрд░ рд╕реАрдорд╛ рдореВрд▓реНрдпреЛрдВ (NaN, + -Inf, + -0.0) рдХреА рдЙрдкреЗрдХреНрд╖рд╛ рдХрд░рдиреЗ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЕрдиреБрдХреВрд▓рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ - рдпрд╣ рдлрд╛рд╕реНрдЯ рдореИрде рд╣реИ (C рдХреЗ рд▓рд┐рдП рдЗрд╕ рддрд░рд╣ рдХреЗ рдореЛрдб рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрд░рд╛ рдкреАрдЖрд░ рдЕрдиреБрд░реЛрдз <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ)</a> )ред </p><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдЗрди <code>-ffast-math</code> рджреЛ рдФрд░ <code>vsubss</code> : <br><img src="https://habrastorage.org/webt/s3/et/-9/s3et-9dc6vml6f-ous27z-1xlhm.png"></p><br><p>  рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рднреА рдЧрдгрд┐рдд рд╕реЗ рдЧрдгрд┐рддреАрдп рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдмрд╛рдЬреАрдЧрд░реА рдХрд░рддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдВрдЦреНрдпрд╛ X рдХреЗ рдореЛрдбреБрд▓реА рдХрд╛ рдЙрддреНрдкрд╛рдж рд╕рдВрдЦреНрдпрд╛ X рдХреЗ рдЙрддреНрдкрд╛рдж рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(X) * <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(X) =&gt; X * X</code> </pre> <br><p>  рд╡рд░реНрдЧрдореВрд▓ рд╣рдореЗрд╢рд╛ рд╕рдХрд╛рд░рд╛рддреНрдордХ рд╣реЛрддрд╛ рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) &lt; Y =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Y is negative. <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">false</span></span></code> </pre> <br><p>  рд░реВрдЯ рдХреА рдЧрдгрдирд╛ рдХреНрдпреЛрдВ рдХрд░реЗрдВ, рдпрджрд┐ рд╕рдВрдХрд▓рди рдЪрд░рдг рдореЗрдВ рджрд╛рдИрдВ рдУрд░ рд╕реНрдерд┐рд░ рд╡рд░реНрдЧ рдХреА рдЧрдгрдирд╛ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ ?: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) &gt; C =&gt; X &gt; C * C</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/988/d7e/cbd/988d7ecbd50be253a6b3314760ed3348.png" alt="рдЫрд╡рд┐"></p><br><p>  рдЕрдзрд┐рдХ рд░реВрдЯ рд╕рдВрдЪрд╛рд▓рди: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) == <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(Y) =&gt; X == Y <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) * <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) =&gt; X <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X) * <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(Y) =&gt; <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X * Y) logN(<span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X)) =&gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>*logN(X)</code> </pre> <br><p>  рдХреБрдЫ рдФрд░ рд╕реНрдХреВрд▓ рдЧрдгрд┐рдд: </p><br><pre> <code class="cpp hljs">expN(X) * expN(Y) -&gt; expN(X + Y)</code> </pre> <br><p>  рдФрд░ рдореЗрд░рд╛ рдкрд╕рдВрджреАрджрд╛ рдЕрдиреБрдХреВрд▓рди: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(X) / <span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>(X) =&gt; <span class="hljs-built_in"><span class="hljs-built_in">tan</span></span>(X)</code> </pre> <br><p><img src="https://habrastorage.org/getpro/habr/post_images/93a/875/4dd/93a8754dd42b07497f6a164bb60172af.png" alt="рдЫрд╡рд┐"></p><br><p>  рдмреЛрд░рд┐рдВрдЧ рдмрд┐рдЯ рдФрд░ рдмреВрд▓рд┐рдпрди рдСрдкрд░реЗрд╢рди рдХреЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ: </p><br><pre> <code class="cpp hljs">((a ^ b) | a) -&gt; (a | b) (a &amp; ~b) | (a ^ b) --&gt; a ^ b ((a ^ b) | a) -&gt; (a | b) (X &amp; ~Y) |^+ (~X &amp; Y) -&gt; X ^ Y A - (A &amp; B) into ~B &amp; A X &lt;= Y - <span class="hljs-number"><span class="hljs-number">1</span></span> equals to X &lt; Y A &lt; B || A &gt;= B -&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span> ...   !</code> </pre> <br><h3 id="nizkourovnevye-optimizacii">  рдирд┐рдореНрди рд╕реНрддрд░ рдХреЗ рдЕрдиреБрдХреВрд▓рди </h3><br><p>  рдЕрдиреБрдХреВрд▓рди рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИ, рдЬреЛ рдкрд╣рд▓реА рдирдЬрд╝рд░ рдореЗрдВ t.z рдХреЗ рд╕рд╛рде рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд░рдЦрддрд╛ рд╣реИред  рдЧрдгрд┐рддрдЬреНрдЮ, рд▓реЗрдХрд┐рди рд▓реЛрд╣реЗ рдХреЗ рдЕрдзрд┐рдХ рдЕрдиреБрдХреВрд▓ рд╣реИрдВред </p><br><pre> <code class="cpp hljs">X / <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; X * <span class="hljs-number"><span class="hljs-number">0.5</span></span></code> </pre> <br><p>  рдЧреБрдгрд╛ рджреНрд╡рд╛рд░рд╛ рд╡рд┐рднрд╛рдЬрди рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ: </p><br><p><img src="https://habrastorage.org/webt/1n/nz/d2/1nnzd2msn5lxzxlx5t3-hr680cc.png"></p><br><p>  рдмреЗрдбрд╝реЗ рдХреЗ рдЧреБрдгрд╛ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рд╡рд┐рднрд╛рдЬрди рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмреЗрд╣рддрд░ рд╡рд┐рд▓рдВрдмрддрд╛ / рдкреНрд░рд╡рд╛рд╣ рдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрд╣рд╛рдВ рдЗрдВрдЯреЗрд▓ рд╣рд╕рд╡реЗрд▓ рдХреЗ рд╡рд┐рдХрд▓реНрдк рджрд┐рдП рдЧрдП рд╣реИрдВ: <br><img src="https://habrastorage.org/webt/i1/ej/l_/i1ejl__p9hfkduty-cn4vq0vzvu.png"></p><br><p>  рдЧреИрд░-рдлрд╛рд╕реНрдЯ-рдЧрдгрд┐рдд рдореЛрдб рдореЗрдВ, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рддрднреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рд╕реНрдерд┐рд░ рджреЛ рдХреА рд╢рдХреНрддрд┐ рд╣реЛред <br>  рд╡реИрд╕реЗ, рдореИрдВрдиреЗ рд╣рд╛рд▓ рд╣реА рдореЗрдВ рд╕реА # рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЗрд╕ рддрд░рд╣ рдХреЗ</a> рдЕрдиреБрдХреВрд▓рди рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреАред  рдпрд╛рдиреА  рдпрджрд┐, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ 3 рдбреА рдореЙрдбрд▓ рдХреЗ рд╕рд╛рде рдПрдХ рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓рдиреЗ рдФрд░ рд╕рднреА рдирд┐рд░реНрджреЗрд╢рд╛рдВрдХ рдХреЛ 10 рдЧреБрдирд╛ рдХрдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ * 0.1 рдЗрд╕ 20-100% рддреЗрдЬреА рд╕реЗ рд╕рдВрднрд╛рд▓ рд▓реЗрдЧрд╛, рдЬреЛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рддрд░реНрдХ: </p><br><pre> <code class="cpp hljs">X * <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; X + X</code> </pre> <br><p>  рд╢реВрдиреНрдп ( <code>test</code> ) рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рдирд╛ рдЗрдХрд╛рдИ ( <code>cmp</code> ) рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдмреЗрд╣рддрд░ рд╣реИ - рд╡рд┐рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдореЗрд░рд╛ рдкреАрдЖрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдбреЙрдЯрдиреЗрдЯ / рдХреЛрд░рдХреНрд▓рд░ # 25458 рд╣реИ</a> : </p><br><pre> <code class="plaintext hljs">X &gt;= 1 =&gt; X &gt; 0 X &lt; 1 =&gt; X &lt;= 0 X &lt;= -1 =&gt; X &gt;= 0 X &gt; -1 =&gt; X &gt;= 0</code> </pre> <br><p>  рдФрд░ рдЖрдкрдХреЛ рдпрд╣ рдХреИрд╕реЗ рдкрд╕рдВрдж рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(X, <span class="hljs-number"><span class="hljs-number">0.5</span></span>) =&gt; <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(x) <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(X, <span class="hljs-number"><span class="hljs-number">0.25</span></span>) =&gt; <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(X)) <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(X, <span class="hljs-number"><span class="hljs-number">2</span></span>) =&gt; X * X ; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-function">mul </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pow</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(X, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>=&gt; X * X * X ; <span class="hljs-number"><span class="hljs-number">2</span></span> mul</code> </pre> <br><p><img src="https://habrastorage.org/webt/hd/ag/lm/hdaglmbx5f7zfibbpgzdre0swjo.png"></p><br><p>  рдЖрдкрдХреЛ рдХреНрдпрд╛ рд▓рдЧрддрд╛ рд╣реИ, <code>mod(X, 4)</code> рдпрд╛ <code>X * X * X * X</code> рдХреЛ рдЧрд┐рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдХрд┐рддрдиреЗ рдЧреБрдгрд╛ рдСрдкрд░реЗрд╢рди рдХреА рдЬрд░реВрд░рдд рд╣реИ? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f5d/118/3c0/f5d1183c005a7f72b6fbabdd18995d7e.png" alt="рдЫрд╡рд┐"></p><br><p>  рджреЛ!  3 рдбрд┐рдЧреНрд░реА рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП рдФрд░ рд╕рд╛рде рд╣реА рдорд╛рдорд▓реЗ 4 рдореЗрдВ рд╣рдо рдХреЗрд╡рд▓ рдПрдХ рд░рдЬрд┐рд╕реНрдЯрд░ <code>xmm0</code> рдЙрдкрдпреЛрдЧ <code>xmm0</code> ред </p><br><p>  рдХрдИ рдкреНрд░реЛрд╕реЗрд╕рд░ рдПрдХ рд╡рд┐рд╢реЗрд╖ рдирд┐рд░реНрджреЗрд╢ (FMA) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рд╕рдордп рдореЗрдВ рдЧреБрдгрди рдФрд░ рдЬреЛрдбрд╝ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬрдмрдХрд┐ рд▓рд╣рд╕реБрди рдХреЛ рд╕рдЯреАрдХрддрд╛ рдХреЗ рд╕рд╛рде рдмрдирд╛рдП рд░рдЦрдирд╛ рд╣реЛрддрд╛ рд╣реИ: </p><br><pre> <code class="cpp hljs">X * Y + Z =&gt; fmadd(X, Y, Z)</code> </pre> <br><p><img src="https://habrastorage.org/webt/jf/z5/nh/jfz5nh9fl6-wkx8cfmubntv7o4g.png"></p><br><p>  рдореЗрд░реЗ рджреЛ рдФрд░ рдкрд╕рдВрджреАрджрд╛ рдЙрджрд╛рд╣рд░рдг рдХреБрдЫ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЛ рдПрдХ рдирд┐рд░реНрджреЗрд╢ рдореЗрдВ рдмрджрд▓ рд░рд╣реЗ рд╣реИрдВ (рдпрджрд┐ рдкреНрд░реЛрд╕реЗрд╕рд░ рдЗрд╕рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ): <br><img src="https://habrastorage.org/webt/qj/pv/ya/qjpvya5-s-itzzxubosjpnwonkc.png"></p><br><h3 id="lovushki-dlya-optimizaciy">  рдЕрдиреБрдХреВрд▓рди рдЬрд╛рд▓ </h3><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рд╣рд░ рдХреЛрдИ рд╕рдордЭрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХреЗрд╡рд▓ рддреАрди рдХрд╛рд░рдгреЛрдВ рд╕реЗ рднрд╛рд╡рдирд╛рдУрдВ рдХреЛ рдХрдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдЖрдк рдХреБрдЫ рд╕реАрдорд╛ рдореВрд▓реНрдпреЛрдВ, рдЕрддрд┐рдкреНрд░рд╡рд╛рд╣, рдЫрд┐рдкреЗ рд╣реБрдП рд╕рд╛рдЗрдб рдЗрдлреЗрдХреНрдЯреНрд╕ рдЖрджрд┐ рдкрд░ рдХреЛрдб рдХреЛ рддреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ ... рдмреБрдЧрдЬрд╝рд┐рд▓рд╛ рдПрд▓рдПрд▓рд╡реАрдПрдо рдореЗрдВ рдХрдИ рдЗрдВрд╕реНрдЯрд╛рдЧреНрд░рд╛рдореА рдХреАрдбрд╝реЗ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред </li><li>  рдЖрджрд░реНрд╢ рд░реВрдк рд╕реЗ, рдЕрдиреБрдХреВрд▓рди рдХреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЕрдиреБрдХреНрд░рдо рдореЗрдВ рдПрдХ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдЬрд┐рд╕ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдпрд╛ рднрд╛рдЧреЛрдВ рдХреЛ рдЖрдк рдХрдо рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЙрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд╣реАрдВ рдФрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЙрдирдХреА рдХрдореА рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рдЧрд┐рд░рд╛рд╡рдЯ рдЖрдПрдЧреАред </li></ul><br><p>  рдЖрдЗрдП рдЕрдВрддрд┐рдо рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ (рдХрдВрдкрд╛рдЗрд▓рд┐рдВрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднрд╡рд┐рд╖реНрдп рдХреЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ</a> рдореЗрдВ рд▓реЗрдЦ рдореЗрдВ рдЬрд╛рд╕реВрд╕реА)ред </p><br><p>  рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдпрд╣ рдХреЛрдб рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> na = -a; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nb = -b; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> na + nb; }</code> </pre> <br><p>  рд╣рдореЗрдВ рддреАрди рдСрдкрд░реЗрд╢рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <code>0 - a</code> , <code>0 - b</code> , рдФрд░ <code>na + nb</code> ред  рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдЗрд╕реЗ рджреЛ - <code>return -(a + b);</code> рдШрдЯрд╛ рджреЗрддрд╛ рд╣реИ <code>return -(a + b);</code>  : </p><br><pre> <code class="plaintext hljs">define dso_local i32 @_Z4Foo1ii(i32, i32) { %3 = add i32 %0, %1 ; a + b %4 = sub i32 0, %3 ; 0 - %3 ret i32 %4 }</code> </pre> <br><p>  рдЕрдм рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ рдХрд┐ рд╣рдореЗрдВ рд╡реИрд╢реНрд╡рд┐рдХ рд╡реИрд░рд┐рдПрдмрд▓ рдХреЗ рд▓рд┐рдП рдордзреНрдпрд╡рд░реНрддреА рдорд╛рди <code>na</code> рдФрд░ <code>nb</code> рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x, y; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Foo2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> na = -a; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nb = -b; x = na; y = nb; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> na + nb; }</code> </pre> <br><p>  рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд░ рдЕрднреА рднреА рдЗрд╕ рдкреИрдЯрд░реНрди рдХреЛ рдвреВрдВрдврддрд╛ рд╣реИ рдФрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдХреЛ рд╣рдЯрд╛рддрд╛ рд╣реИ (рдЕрдкрдиреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ) рд╕рдВрдЪрд╛рд▓рди <code>0 - a</code> рдФрд░ <code>0 - b</code> , рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рд╡реЗ рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ!  рд╣рдо рд╡реИрд╢реНрд╡рд┐рдХ рдЪрд░ рдореЗрдВ рдЗрди "рдЕрдирд╛рд╡рд╢реНрдпрдХ" рд╕рдВрдЪрд╛рд▓рди рдХреЗ рдкрд░рд┐рдгрд╛рдо рд▓рд┐рдЦрддреЗ рд╣реИрдВ!  рдпрд╣ рдЗрд╕ рдХреЛрдб рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ: </p><br><pre> <code class="cpp hljs">define dso_local i32 @_Z4Foo2ii(i32, i32) { %<span class="hljs-number"><span class="hljs-number">3</span></span> = sub nsw i32 <span class="hljs-number"><span class="hljs-number">0</span></span>, %<span class="hljs-number"><span class="hljs-number">0</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> - a %<span class="hljs-number"><span class="hljs-number">4</span></span> = sub nsw i32 <span class="hljs-number"><span class="hljs-number">0</span></span>, %<span class="hljs-number"><span class="hljs-number">1</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> - b store i32 %<span class="hljs-number"><span class="hljs-number">3</span></span>, i32* @x, align <span class="hljs-number"><span class="hljs-number">4</span></span>, !tbaa !<span class="hljs-number"><span class="hljs-number">2</span></span> store i32 %<span class="hljs-number"><span class="hljs-number">4</span></span>, i32* @y, align <span class="hljs-number"><span class="hljs-number">4</span></span>, !tbaa !<span class="hljs-number"><span class="hljs-number">2</span></span> %<span class="hljs-number"><span class="hljs-number">5</span></span> = add i32 %<span class="hljs-number"><span class="hljs-number">0</span></span>, %<span class="hljs-number"><span class="hljs-number">1</span></span> ; a + b %<span class="hljs-number"><span class="hljs-number">6</span></span> = sub i32 <span class="hljs-number"><span class="hljs-number">0</span></span>, %<span class="hljs-number"><span class="hljs-number">5</span></span> ; <span class="hljs-number"><span class="hljs-number">0</span></span> - %<span class="hljs-number"><span class="hljs-number">5</span></span> ret i32 %<span class="hljs-number"><span class="hljs-number">6</span></span> }</code> </pre> <br><p>  рддреАрди рдХреЗ рдмрдЬрд╛рдп рдЪрд╛рд░ рдЧрдгрд┐рддреАрдп рд╕рдВрдЪрд╛рд▓рди!  рд╣рдорд╛рд░реЗ рдЖрд╢рд╛рд╡рд╛рджреА рдиреЗ рд╣рдореЗрдВ рд╡рд┐рдлрд▓ рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдпрд╣ рдЖрд╢реНрд╡рд╕реНрдд рдирд╣реАрдВ рдерд╛ рдХрд┐ рдордзреНрдпрд╡рд░реНрддреА рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпрд╛рдБ рдЬрд┐рд╕реЗ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд┐рдпрд╛ рдерд╛, рдЕрднреА рднреА рдХрд┐рд╕реА рдХреА рдЬрд╝рд░реВрд░рдд рдереАред  рдЕрдм рдЖрдЗрдП C # RuyJIT рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ, рдЬрд┐рд╕рдореЗрдВ рдРрд╕рд╛ рдХреЛрдИ рд╕реНрдорд╛рд░реНрдЯ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдирд╣реАрдВ рд╣реИ: </p><br><p><img src="https://habrastorage.org/webt/fs/ar/jf/fsarjfwtbnpmp5hzbidevgo3eui.png"></p><br><p>  рдЪрд╛рд░ рдХреЗ рдмрдЬрд╛рдп рддреАрди рдСрдкрд░реЗрд╢рди - C # C ++ :-) рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬрд╝ рдирд┐рдХрд▓рд╛ред! </p><br><h3 id="a-nuzhny-li-takie-optimizacii">  рдХреНрдпрд╛ рдРрд╕реЗ рдЕрдиреБрдХреВрд▓рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? </h3><br><p>  рдЖрдк рдХрднреА рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдХрд┐ рд╕рдВрдХрд▓рдХ рдХреЛрдб рдХреЛ рдХрд┐рд╕ рддрд░рд╣ рд╕реЗ рджреЗрдЦреЗрдЧрд╛, рдпрд╣ рд╕рдм рдХреБрдЫ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдирд┐рд░рдВрддрд░ рддрд╣, рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдкреНрд░рдЪрд╛рд░, рд╕реАрдПрд╕рдИ, рдЖрджрд┐ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  - рдЙрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рддрд╕реНрд╡реАрд░ рдЦреБрд▓ рдЬрд╛рдПрдЧреАред  LLVM IR рдФрд░ .NET IL рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рд╕реЗ рдмрдВрдзреЗ рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рдЖрдк рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреЛрдИ рд╡рд┐рд╢рд┐рд╖реНрдЯ / рдирдпрд╛ PL рдкреНрд░рднрд╛рд╡реА рд░реВрдк рд╕реЗ IR рдкрд░ рд╣реА рдЕрдиреБрд╡рд╛рдж рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рдареАрдХ рд╣реИ, рдХреНрдпреЛрдВ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░рддреЗ рд╣реИрдВ рдпрджрд┐ рдЖрдк рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдкрд░ InstCombine рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ ;-)ред  рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдпрд╣ рдПрдХ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдЕрдВрддрд░ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдХреМрди рдЬрд╛рдирддрд╛ рд╣реИред </p><br><h3 id="a-chto-na-schet-c">  C # рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛? </h3><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдХрд╣рд╛, рдЬрд┐рди рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреА рд╣рдордиреЗ рдЬрд╛рдВрдЪ рдХреА, рдЙрдирдореЗрдВ C # рдЕрдиреБрдкрд╕реНрдерд┐рдд рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЬрдм рдореИрдВ рдХрд╣рддрд╛ рд╣реВрдВ рдХрд┐ C # рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рд░рдирдЯрд╛рдЗрдо CoreCLR рдФрд░ RyuJIT рд╣реИред  рд▓реЗрдХрд┐рди рдХреЛрд░рд╕реАрдПрд▓рдЖрд░ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдПрд▓рдПрд▓рд╡реАрдПрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЛрдВ рдореЗрдВ рдПрдХ рдмреИрдХреЗрдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреНрдп рд░рдирдЯрд╛рдЗрдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: рдореЛрдиреЛ (рдореЗрд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЯреНрд╡реАрдЯ</a> рджреЗрдЦреЗрдВ), рдпреВрдирд┐рдЯреА рдмрд░реНрд╕реНрдЯ, IL2CPP (рдХреНрд▓реИрдВрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ) рдФрд░ LILLC - рдпрд╣рд╛рдВ рдЖрдк рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдХреНрд▓реИрдВрдЧ рдХреЗ рд╕рд╛рде ++ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпреВрдирд┐рдЯреА рдХреЗ рд▓реЛрдЧ C # рдореЗрдВ рдЖрдВрддрд░рд┐рдХ C ++ рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдкреНрд░рджрд░реНрд╢рди, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рдорд╛рдг</a> рдореЗрдВ рдХрд┐рд╕реА рднреА рдиреБрдХрд╕рд╛рди рдХреЗ рдмрд┐рдирд╛! </p><br><p>  рдпрд╣рд╛рдВ рдХреБрдЫ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдкрд╛рдЗрдкрд╣реЛрд▓ рджрд┐рдП рдЧрдП рд╣реИрдВ рдЬреЛ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рд╕реЗ <code>morph.cpp</code> рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ <code>morph.cpp</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдорд┐рд▓ рд╕рдХрддреЗ рд╣реИрдВ (рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдереЛрдбрд╝рд╛ рдФрд░ рдЕрдзрд┐рдХ рд╣реИрдВ): </p><br><pre> <code class="cpp hljs">*(&amp;X) =&gt; X X % <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">0</span></span> X / <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; X X % Y =&gt; X - (X / Y) * Y X ^ <span class="hljs-number"><span class="hljs-number">-1</span></span> =&gt; ~x X &gt;= <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; X &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> X &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; X &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> X + <span class="hljs-number"><span class="hljs-number">1</span></span> == C2 =&gt; X == C2 - C1 ((X + C1) + C2) =&gt; (X + (C1 + C2)) ((X + C1) + (Y + C2)) =&gt; ((X + Y) + (C1 + C2))</code> </pre> <br><p>  рдХреБрдЫ рдФрд░ рд▓реЛрдЕрд░рд┐рдВрдЧ.рдХреИрдк (рдирд┐рдореНрди-рд╕реНрддрд░) рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░ RyuJIT рдЬрд╛рд╣рд┐рд░ рддреМрд░ рдкрд░ рдпрд╣рд╛рдБ C C рдЯреНрд░реЗрд▓рд░реЛрдВ рд╕реЗ рд╣рд╛рд░ рдЬрд╛рддрд╛ рд╣реИред  RyuJIT рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ рдереЛрдбрд╝реА рдЕрд▓рдЧ рд╣реИрдВ - рдЯреЗрд░рд┐рдВрдЧ рд╕рдВрдХрд▓рди рдХреЗ рдЖрдЧрдорди рд╕реЗ рдкрд╣рд▓реЗ, рдЙрдиреНрд╣реЗрдВ рдПрдХ рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╕рдВрдХрд▓рди рдЧрддрд┐ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА, рдЬреЛ рдХрд┐ рд╡рд╣ C ++ рдХрдВрдкрд╛рдЗрд▓рд░реНрд╕ рдХреЗ рд╡рд┐рдкрд░реАрдд рдмрд╣реБрдд рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд░рддрд╛ рд╣реИ (рдПрд▓рдПрд▓рд╡реАрдПрдо рдореЗрдВ 30-рд▓рд╛рдЗрди рдЗрдВрд╕реНрдЯрд╛рдХреЛрдореНрдмрд┐рди рдкрд╛рд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдпрд╛рдж рд░рдЦреЗрдВ рдФрд░ рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдкреЛрд╕реНрдЯ рдкрдврд╝реЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">" рдЖрдзреБрдирд┐рдХ "рд╕реА ++ рд╡рд┐рд▓рд╛рдк</a> ) рдФрд░ рдХреЙрд▓ рд╡рд┐рдЪрд▓рди, рдореБрдХреНрдХреЗрдмрд╛рдЬреА рдФрд░ рдЖрд╡рдВрдЯрди (рдПрдХ рд╣реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд╕реНрддреБ рдвреЗрд░ рдЖрд╡рдВрдЯрди</a> ) рдХреЗ рдЙрдиреНрдореВрд▓рди рдХреЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЕрдиреБрдХреВрд▓рди рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧреА рд╣реИ - рдпрд╣ рд╕рдм, рдЬрд╛рд╣рд┐рд░ рд╣реИ, рд╕реНрдкрд░реНрд╢ рдореЗрдВ рдХреЛрдЬреНрдпрд╛ рджреНрд╡рд╛рд░рд╛ рд╕рд╛рдЗрди рдХреЗ рд╡рд┐рднрд╛рдЬрди рдХреЛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред </p><br><p>  рд╢рд╛рдпрдж рдЯреЗрд░рд┐рдВрдЧ рд╕рдВрдХрд▓рди рдХреЗ рдЖрдЧрдорди рдХреЗ рд╕рд╛рде, рд╕рдордп рдХреЗ рд╕рд╛рде рдХрдИ рдирдП рдЕрдиреБрдХреВрд▓рди рд╣реЛрдВрдЧреЗ рдЬреЛ рдЯрд┐рдпрд░ 1 рдпрд╛ рдЯрд┐рдпрд░ 2 рдХреЗ рд╕рдВрдХрд▓рди рд╕рдордп рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИрдВред  рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдХреЗ рдРрдб-рдЗрди рдПрдкреАрдЖрдИ рдФрд░ рдбреАрдПрд╕рдПрд▓ рдХреЗ рд╕рд╛рде рднреА - рдЖрдкрдиреЗ рдЕрднреА рдпрд╣ рд▓реЗрдЦ рдкрдврд╝рд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рдкреНрд░рдердореЗрд╢ рдХреБрд▓рдХрд░реНрдгреА рдиреЗ рдЬреАрд╕реАрд╕реА рдореЗрдВ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдЕрдиреБрдХреВрд▓рди рдХреЛ рд╕рд┐рд░реНрдл рдПрдХ-рджреЛ рдбреАрдПрд╕рдПрд▓ рд▓рд╛рдЗрдиреЛрдВ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рд╣реИ: </p><br><pre> <code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">simplify</span></span> (<span class="hljs-name"><span class="hljs-name">plus</span></span> (<span class="hljs-name"><span class="hljs-name">mult</span></span> (<span class="hljs-name"><span class="hljs-name">SIN</span></span> @<span class="hljs-number"><span class="hljs-number">0</span></span>) (<span class="hljs-name"><span class="hljs-name">SIN</span></span> @<span class="hljs-number"><span class="hljs-number">0</span></span>)) (<span class="hljs-name"><span class="hljs-name">mult</span></span> (<span class="hljs-name"><span class="hljs-name">COS</span></span> @<span class="hljs-number"><span class="hljs-number">0</span></span>) (<span class="hljs-name"><span class="hljs-name">COS</span></span> @<span class="hljs-number"><span class="hljs-number">0</span></span>))) (<span class="hljs-name"><span class="hljs-name">if</span></span> (<span class="hljs-name"><span class="hljs-name">flag_unsafe_math_optimizations</span></span>)<span class="hljs-number"><span class="hljs-number">1</span></span>. { build_one_cst (<span class="hljs-name"><span class="hljs-name">TREE_TYPE</span></span> (@<span class="hljs-number"><span class="hljs-number">0</span></span>))<span class="hljs-comment"><span class="hljs-comment">; }))</span></span></code> </pre> <br><p>  рдПрдХ рдЧрдгрд┐рдд рдкрд╛рдареНрдпрдкреБрд╕реНрддрдХ рд╕реЗ рдЗрд╕ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП ;-): </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">cos</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span>(X) + <span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span>(X) equals to <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><h3 id="poleznye-ssylki">  рдЙрдкрдпреЛрдЧреА рд▓рд┐рдВрдХ </h3><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдлреНрдпреВрдЪрд░ рдбрд╛рдпрд░реЗрдХреНрд╢рдиреНрд╕ рдлреЙрд░ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝рд┐рдВрдЧ рдХрдореНрдкрд╛рдЗрд▓рд░реНрд╕"</a> , рдиреВрдиреЛ рдкреАред рд▓реЛрдкреНрд╕ рдФрд░ рдЬреЙрди рд░реЗрдЧреЗрд░ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдПрд▓рдПрд▓рд╡реАрдПрдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЕрдиреБрдХреВрд▓рди рдХреИрд╕реЗ рдХрд░рддрд╛ рд╣реИ"</a> , рдЬреЙрди рд░реЗрдЧреЗрд░ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдЖрдзреБрдирд┐рдХ рд╕рдВрдХрд▓рдХ рдХреА рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рдЪрддреБрд░рд╛рдИ"</a> , рдбреИрдирд┐рдпрд▓ рд▓реЗрдорд╛рдпрд░ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдЬреАрд╕реАрд╕реА рдореЗрдВ рдкреАрдкрд╣реЛрд▓ рдЕрдиреБрдХреВрд▓рди рдХреЛ рдЬреЛрдбрд╝рдирд╛"</a> , рдкреНрд░рдердореЗрд╢ рдХреБрд▓рдХрд░реНрдгреА </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">5. "рд╕реА ++, рд╕реА # рдФрд░ рдпреВрдирд┐рдЯреА"</a> , рд▓реБрдХрд╛рд╕ рдореАрдЬреЗрд░ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдЖрдзреБрдирд┐рдХ" рд╕реА ++ рд╡рд┐рд▓рд╛рдк "</a> , рдЕрд░рд╛рд╕ рдкреНрд░рд╛рдгрдХреЗрд╡рд┐рдпрд╕ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдПрд▓реАрд╡ рдХреЗ рд╕рд╛рде рд╕рд╣реА</a> рдврдВрдЧ рд╕реЗ рдкреАрдкрд╣реЛрд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди"</a> , рдиреВрдиреЛ рдкреАред рд▓реЛрдкреНрд╕, рдбреЗрд╡рд┐рдб рдореЗрдиреЗрдВрдбреЗрдЬрд╝, рд╕рдВрддреЛрд╖ рдирд╛рдЧрд░рдХрд╛рдЯреЗ рдФрд░ рдЬреЙрди рд░реЗрдЧрд░ </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi458150/">https://habr.com/ru/post/hi458150/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi458136/index.html">рдирдИ GitLab 12.0 рджреГрд╢реНрдп рд╕рдореАрдХреНрд╖рд╛ рдФрд░ рдирд┐рд░реНрднрд░рддрд╛ рдХреА рд╕реВрдЪреА рдХреЗ рд╕рд╛рде</a></li>
<li><a href="../hi458142/index.html">рд╕реНрд╡реЗрд▓реНрдЯ рдкрд░ рдмреНрд░реЗрдХрдЖрдЙрдЯ рдХрд╛ рд╡рд┐рдХрд╛рд╕ рдХрд░рдирд╛</a></li>
<li><a href="../hi458144/index.html">рд╕рдкреНрддрд╛рд╣ рдХреА рдЦрдмрд░: рдмрд┐рдХреНрд░реА рдХреЗ рд▓рд┐рдП рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ 4, рдПрдХреАрдХреГрдд рд░рд╛рдЬреНрдп рдкрд░реАрдХреНрд╖рд╛ рдкрд░ рдЗрдВрдЯрд░рдиреЗрдЯ, рд░реЛрд╕рдХреЛрдореНрдирд╛рдбрдЬрд╝реЛрд░ рдФрд░ рд╡реАрдкреАрдПрди рд╕реЗрд╡рд╛рдПрдВ, рдПрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рд╕реНрдЯреНрд░рд┐рдкреНрд╕ рд▓реЛрдЧреЛрдВ рдХреЛ</a></li>
<li><a href="../hi458146/index.html">рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рд╕рдВрдЪрд╛рд░ рд▓реЗрдЦрд╛рдВрдХрди рдЕрдиреБрдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi458148/index.html">рд░реЗрдЯреНрд░реЛ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ред 80 рдХреЗ рджрд╢рдХ рд╕реЗ рд╕реНрдорд╛рд░реНрдЯ рдШрдбрд╝реА</a></li>
<li><a href="../hi458154/index.html">рдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рдХреА рдЙрддреНрдкрддреНрддрд┐ рдХреА рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рдХрд╣рд╛рдиреА рдЬрд┐рд╕рдиреЗ рд╕рдм рдХреБрдЫ рдмрджрд▓ рджрд┐рдпрд╛</a></li>
<li><a href="../hi458156/index.html">FreeBSD, CentOS, Ubuntu Debian, рдФрд░ OpenSUSE рдХреЗ рд╕рд╛рде рдмреЗрдВрдЪрдорд╛рд░реНрдХрд┐рдВрдЧ PostgreSQL</a></li>
<li><a href="../hi458158/index.html">рдХреНрд╖реБрджреНрд░рдЧреНрд░рд╣реЛрдВ рдХреА рддрд▓рд╛рд╢ - рд╣рдмрд▓ рдХреНрд╖реБрджреНрд░рдЧреНрд░рд╣ рд╣рдВрдЯрд░ рдкрд░рд┐рдпреЛрдЬрдирд╛</a></li>
<li><a href="../hi458160/index.html">.NET рдореЗрдВ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд▓реЙрдХ</a></li>
<li><a href="../hi458164/index.html">рдХреГрддреНрд░рд┐рдо рдмреБрджреНрдзрд┐ - рдкреНрд░рддреНрдпреЗрдХ рдЙрддреНрддрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рд╢реНрди рдкреВрдЫрд╛ рдЬрд╛рдПрдЧрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>