<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî© üö¥üèª üñ§ V√©rifiez la qualit√© sans quitter la caisse üë©‚Äçüè≠ üê¨ üìÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Plus les moyens de production sont abordables, plus le probl√®me des contrefa√ßons est aigu. Et si le produit est massif et facilement faux, la vague de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>V√©rifiez la qualit√© sans quitter la caisse</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/chestnyznak/blog/467851/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/109/4a1/3cb/1094a13cb00c8c50d75cb095077f965a.png" width="500"></div><br><br>  Plus les moyens de production sont abordables, plus le probl√®me des contrefa√ßons est aigu.  Et si le produit est massif et facilement faux, la vague de contrefa√ßon est presque garantie.  Pour lutter contre ce fl√©au, nous, le Centre pour le d√©veloppement des technologies avanc√©es, d√©veloppons un syst√®me de marquage et de suivi des produits.  Elle a re√ßu le nom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Honest SIGN</a> .  Le fabricant applique un code DataMatrix unique √† chaque unit√© de ses produits, et les clients peuvent voir par ce code si le produit est en face de lui, qui l'a produit et comment il est arriv√© sur le comptoir. <br><br>  Avec cet article d'introduction sur notre blog, nous voulons vous pr√©senter le syst√®me et les principes de son fonctionnement, et dans les articles suivants, nous d√©crirons plus en d√©tail la structure technique et les caract√©ristiques du d√©veloppement. <br><a name="habracut"></a><br><h1>  Qui nous sommes et ce que nous faisons </h1><br>  Nous sommes la soci√©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRPT</a> , Center for the Development of Advanced Technologies.  L'une des directions de notre activit√© est le d√©veloppement, la mise en ≈ìuvre et le d√©veloppement d'un syst√®me num√©rique pour le marquage et le tra√ßage de toutes marchandises.  Il est n√©cessaire pour que chaque acheteur puisse √™tre s√ªr dans le magasin s'il y a un faux devant lui. <br><br>  Aujourd'hui, les fabricants russes de cigarettes, de chaussures et de m√©dicaments sont connect√©s √† notre base de donn√©es.  Jusqu'√† pr√©sent, les utilisateurs les plus actifs sont des repr√©sentants de l'industrie du tabac - l'√©tiquetage obligatoire de tous les produits manufactur√©s et import√©s dans le pays a d√©j√† commenc√© dans ce groupe.  D√©j√† √† travers le syst√®me passe jusqu'√† 50 millions de packs par jour.  L'industrie l√©g√®re, les fabricants de lait, de pneus, de cam√©ras et d'autres industries qui travaillent √©galement sur la technologie en mode pilote se joignent activement. <br><br><h1>  Fonctionnement du syst√®me de marquage </h1><br>  Le gouvernement russe d√©cide de la n√©cessit√© d'un projet pilote d'√©tiquetage dans un certain groupe de produits.  Habituellement, cette d√©cision appara√Æt √† l'initiative des repr√©sentants des entreprises.  Nous lan√ßons un projet pilote, dans lequel les fabricants choisissent un format d'√©tiquetage qui leur convient et des informations suppl√©mentaires pour chaque unit√© de marchandises qui seront plac√©es dans la base de donn√©es et chiffr√©es dans des codes d'√©tiquetage uniques - DataMatrix.  Ces informations suppl√©mentaires peuvent √™tre tr√®s diff√©rentes - par exemple, le prix de vente recommand√© ou la date d'expiration.  Ensuite, les fabricants introduisent un logiciel qui leur permet de mettre DataMatrix sur des packages, et nous, en tant qu'op√©rateur de syst√®me, leur donnons gratuitement de l'√©quipement - des bureaux d'enregistrement des √©missions, qui sont n√©cessaires pour transmettre des codes num√©riques via des canaux de communication s√©curis√©s. <br><br>  Pendant que le projet pilote est en cours, nous aidons les participants √† d√©boguer les processus de marquage et d'√©change d'informations.  Et lorsque tout est pr√™t, la participation d'autres fabricants de cette industrie √† notre syst√®me devient obligatoire. <br><br>  Au fur et √† mesure que les marchandises passent du fabricant aux √©tag√®res, tous les participants de la cha√Æne envoient diverses informations √† Honest SIGN: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28c/b23/4c2/28cb234c24be2b52d52cca3b2d92329a.png"><br><br>  En cons√©quence, nous collectons toutes les informations sur l'origine et le mouvement de chaque produit fabriqu√© par les participants au syst√®me et les fournissons aux fabricants, aux d√©taillants et aux clients.  Lorsque vous arrivez au magasin, devant le comptoir, vous pouvez acc√©der √† l'application mobile Honest SIGN ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AppStore</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Google Play</a> ), scanner le code sur l'emballage et trouver imm√©diatement le pays, la ville et l'adresse de production.  Autrement dit, vous saurez imm√©diatement si le faux est devant vous ou non. <br><br>  Vous demandez s√ªrement: "Et qu'est-ce qui emp√™che de truquer vos codes?"  Le fait est que chaque code de marquage est sign√© par une petite partie prot√©g√©e, un cryptocode.  Et le faux code ne passera tout simplement pas le ch√®que dans le syst√®me, ni lors de l'application, ni lors de la num√©risation par l'acheteur, ni lors du paiement. <br><br>  D'o√π viennent les codes?  Il y a deux fa√ßons de les obtenir: <br><br><ul><li>  Ou nous g√©n√©rons nous-m√™mes enti√®rement des codes uniques non reproductibles et les fournissons aux fabricants. </li><li>  Ou bien, le fabricant d√©livre lui-m√™me la partie s√©rie du code, afin qu'il soit plus pratique d'utiliser le marquage avec ses syst√®mes comptables, et ajoute la partie cryptographique que nous avons g√©n√©r√©e. <br></li></ul><br><h1>  Comment fonctionne notre syst√®me </h1><br>  Le sch√©ma de travail de base ressemble √† ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/70e/048/1dc/70e0481dc81d0a1fcad078fbf746d4ae.png"><br><br>  Il comprend cinq blocs. <br><br>  La ¬´porte d'entr√©e¬ª du syst√®me est le <b>routage</b> - une sorte de passerelle.  Toutes les informations de chaque acteur de la cha√Æne commerciale sont disponibles ici: fabricants, grossistes et d√©taillants.  Le routage enrichit les donn√©es entrantes avec des attributs suppl√©mentaires et d√©cide quel pipeline doit traiter telle ou telle information. <br><br>  <b>Le traitement</b> consiste √† traiter toutes les informations entrantes, filtr√©es et enrichies par le routage.  Chaque industrie se distingue par ses ensembles de processus commerciaux, que nous automatisons constamment.  Par exemple, pour le tabac, ce sont les droits d'accise, pour le lait, c'est une date d'expiration. <br><br>  <b>Le syst√®me de stockage est</b> construit sur une base de valeurs-cl√©s distribu√©e.  L√†, nous avons mis toutes les informations sur chaque champ d'√©tiquetage, sur chaque document qui a influenc√© le changement de statut de ce code.  Chaque grand groupe de produits a sa propre base, car la quantit√© d'informations √† sauvegarder et √† mettre √† l'√©chelle est tr√®s importante. <br><br>  Nous utilisons l'entrep√¥t de donn√©es de diff√©rentes mani√®res: nous effectuons des s√©lections, formons un affichage graphique des informations dans votre compte personnel et les transmettons aux participants du syst√®me √† l'aide d'une API externe. <br><br>  <b>Les composants du syst√®me</b> effectuent un certain nombre de t√¢ches: authentification, autorisation, interaction interservices.  En d'autres termes, tout ce qui concerne la v√©rification des droits d'acc√®s et l'interaction des composants du syst√®me entre eux. <br><br>  Enfin, le <b>compte personnel</b> est une interface graphique pour les participants au syst√®me: fabricants, grossistes et organisations de vente au d√©tail.  Autrement dit, pour les entreprises engag√©es dans la vente, la retraite et la vente au consommateur final.  Dans votre compte personnel, des rapports et des graphiques sont g√©n√©r√©s sous une forme pratique sur le nombre de codes envoy√©s par l'entreprise, pour quelle p√©riode, pour quelles cat√©gories de produits, combien de marchandises ont d√©j√† √©t√© vendues au d√©tail, etc. <br><br><h1>  Comment l'information circule-t-elle dans le syst√®me? </h1><br>  Le fabricant g√©n√®re un lot de codes et nous envoie ou cr√©e une commande pour recevoir des codes.  En r√©ponse, nous envoyons soit les r√©sultats de la v√©rification des codes par des mod√®les, soit une liste de codes pr√™ts √† l'emploi.  Apr√®s cela, le fabricant met ces codes et signale qu'ils ont √©t√© utilis√©s ou perdus dans le processus de production, c'est-√†-dire que les marchandises avec le code sont rejet√©es.  Ces informations sont transf√©r√©es du routage au traitement, qui interagit directement avec l'entrep√¥t de donn√©es.  En outre, des comptes personnels fonctionnent avec lui, dans lesquels la logique m√©tier des participants au syst√®me est prot√©g√©e. <br><br>  En d'autres termes, nous recevons des donn√©es des participants: <br><br><ul><li>  quels codes sont appliqu√©s aux marchandises, </li><li>  Quelles informations suppl√©mentaires sur le produit doivent √™tre montr√©es aux utilisateurs finaux. </li></ul><br>  De plus, nous regroupons ces donn√©es, garantissant l'unicit√© et la s√©curit√© des codes contre la falsification, et sous une forme pratique, nous fournissons tous les utilisateurs via des applications mobiles.  Et les repr√©sentants des entreprises peuvent √† tout moment recevoir des rapports sur toutes les informations sur leurs produits disponibles dans notre syst√®me. <br><br><h1>  La technologie </h1><br>  Puisque nous cr√©ons un syst√®me national d'√©tiquetage, il ¬´dig√©rera¬ª quotidiennement les informations sur tous les produits fabriqu√©s dans le pays et les transmettra √† des dizaines de millions d'utilisateurs.  Par cons√©quent, nous avons choisi des technologies qui non seulement offrent des performances √©lev√©es, mais nous permettent √©galement de faire √©voluer rapidement le syst√®me. <br><br>  Aujourd'hui, nous traitons jusqu'√† 300 unit√©s de marchandises vendues par seconde, et √† peu pr√®s √† la m√™me fr√©quence - des enregistrements de marchandises qui passent par les √©tapes ¬´lib√©r√©¬ª, ¬´code¬ª, ¬´transf√©r√© d'un participant √† un autre¬ª.  Pour les seuls produits du tabac, environ un milliard d'enregistrements sont saisis dans le syst√®me chaque mois, et la quantit√© totale d'informations atteint des dizaines de Tb. <br><br>  Tous les services du syst√®me - et il y en a environ 250 - sont d√©ploy√©s sur un cluster Kubernetes, nous augmentons donc discr√®tement la capacit√© et le volume de stockage si n√©cessaire. <br><br>  Pour la plupart, le syst√®me est √©crit en Java 11 et le traitement est en Scala.  Pour la communication interserveur, nous avons choisi Kafka.  Les codes d'√©tiquetage eux-m√™mes sont stock√©s dans Hbase et les informations associ√©es sont stock√©es dans PostgreSQL.  Nous emballons le code syst√®me dans des conteneurs Docker, livrons Helm aux clusters Kubernetes, surveillons avec Prometheus et surveillons la sant√© √† Grafana. <br><br>  Nous avons connect√© aux entrep√¥ts de donn√©es les serveurs analytiques que nous avons d√©velopp√©s, qui √©tablissent des rapports pour les participants du syst√®me.  Jusqu'√† pr√©sent, les serveurs sont construits sur la base d'Hbase, mais nous exp√©rimentons tr√®s activement avec ClickHouse. <br><br><h1>  D√©veloppement du syst√®me </h1><br>  De nombreux participants attendent des commentaires de notre part - recevons-nous toutes les informations envoy√©es, y a-t-il des probl√®mes de traitement du document, le participant au syst√®me a-t-il les codes qui sont transmis?  Un tel m√©canisme de r√©troaction doit √™tre de bout en bout, sans utiliser de stockage, afin de ne pas dupliquer les informations et ne pas charger en outre le syst√®me.  Par cons√©quent, nous nous √©loignerons des r√©f√©rentiels interm√©diaires et travaillons d√©j√† sur la mise en ≈ìuvre de transactions de bout en bout par le routage, le traitement et vice versa. <br><br>  Dans les publications suivantes, nous d√©crirons en d√©tail comment chacun des cinq blocs architecturaux est mis en ≈ìuvre, √† propos de notre syst√®me, des technologies et des personnes qui le cr√©ent. <br><br>  <i>Le mat√©riel a √©t√© pr√©par√© avec le soutien de Dmitry Poluyanov, chef de l'√©quipe de d√©veloppement (Java) du MDCT.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr467851/">https://habr.com/ru/post/fr467851/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr467837/index.html">MCU ¬´Terrible¬ª √† trois cents - un bref aper√ßu des microcontr√¥leurs co√ªtant moins de 0,1 $</a></li>
<li><a href="../fr467841/index.html">Rendez-vous plus facile: Entretien avec John Romero, d√©veloppeur de Doom</a></li>
<li><a href="../fr467843/index.html">Comment √©conomiser jusqu'√† un demi-million de dollars en AWS?</a></li>
<li><a href="../fr467847/index.html">¬´L'√©volution omnicanal de l'IoT¬ª ou comment l'Internet des objets peut affecter l'omnicanal</a></li>
<li><a href="../fr467849/index.html">Peloton: prochain Apple ou autre arnaque?</a></li>
<li><a href="../fr467853/index.html">Evolution de la carte de visite: de la carte √† l'application</a></li>
<li><a href="../fr467855/index.html">Nouveau 2GIS: une carte compl√®te de la Russie et la recherche de marchandises dans les magasins hors ligne</a></li>
<li><a href="../fr467859/index.html">Neuf universit√©s russes ont commenc√© des programmes de master avec le soutien de Microsoft</a></li>
<li><a href="../fr467863/index.html">Nous analysons l'historique d'√©coute dans Yandex.Music</a></li>
<li><a href="../fr467865/index.html">5 histoires de hausse et de baisse soudaines des actions dues aux erreurs des investisseurs et comment les √©viter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>