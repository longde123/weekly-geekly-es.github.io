<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉ üëßüèø üñêüèº Usando a placa de recarga Firefly-RK3288 com o SoC RockChip RK3288 Sensor t√©rmico digital Microchip I2C - MCP9808 üôá üìè üë©üèΩ‚Äçüåæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recarregar o Firefly-RK3288 
 Escolhendo uma placa de desenvolvimento para experimentos, a escolha recaiu sobre um modelo bastante sofisticado da fabr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Usando a placa de recarga Firefly-RK3288 com o SoC RockChip RK3288 Sensor t√©rmico digital Microchip I2C - MCP9808</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412763/"><h4>  Recarregar o Firefly-RK3288 </h4><br>  Escolhendo uma placa de desenvolvimento para experimentos, a escolha recaiu sobre um modelo bastante sofisticado da fabricante chinesa T-Chip.  Eles vendem produtos com a marca Firefly.  Eles s√£o especializados em placas com sistemas baseados no chip RockChip.  O RK3288 √© a solu√ß√£o de 32 bits mais produtiva desta empresa chinesa.  O SoC da RockChip e Allwinner se compara favoravelmente aos chips Broadcom no RaspberryPi, n√£o apenas em seus melhores recursos, mas tamb√©m em tecnologia de produ√ß√£o - 28nm versus 40nm.  Mas √© claro que, neste caso, os chineses s√£o mais caros.  O RK3399 n√£o escolheu um sistema de 64 bits ainda mais √≠ngreme, inclusive porque h√° motivos para acreditar que ele j√° √© significativamente mais quente.  Enquanto o RK3288 n√£o estiver muito quente sob carga, mesmo sem o uso de radiadores. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">P√°gina do produto</a> .  Os principais par√¢metros de hardware do dispositivo: ARM Cortex-A17 de 4 n√∫cleos a 1,8 GHz (algumas fontes insistem que √© Cortex-A12 ou A15, mas isso n√£o √© particularmente importante), 2 GB DDR3 de canal duplo, unidade eMMC de 16 GB e Ethernet de gigabit. <br><br><img width="600" src="https://habrastorage.org/webt/ee/lp/f7/eelpf7dgaktdk_ojo6co3fzpe_u.jpeg" alt="Vista geral"><br><br>  Eu comprei no Ebay, era quase o √∫nico lugar onde essas placas podem ser encomendadas para a R√∫ssia.  A loja online do pr√≥prio Firefly chin√™s n√£o √© enviada para a R√∫ssia.  N√£o enviado para a R√∫ssia e o Indiegogo.  O que √© engra√ßado, na lista de pa√≠ses a enviar, essas pessoas estranhas supostamente at√© t√™m estados que n√£o existem :).  O vendedor com o Ebay enviou uma placa em boa configura√ß√£o - uma placa, uma fonte de alimenta√ß√£o (voc√™ precisa de 12V 1.5A, enviado como deveria com uma margem de 2A), um cachecol com uma antena, pain√©is de acr√≠lico do gabinete com fixadores.  O adaptador √© v√°lido para uma tomada americana, mas todos devem ter um adaptador de caminhada :). <br><a name="habracut"></a><br>  Assim como as placas CubieBoard da CubieTech, mais conhecidas no mercado russo, a Firefly fornece um bom suporte de informa√ß√µes.  S√£o fornecidas imagens do sistema operacional, diagramas de pinagem e muito mais.  O firmware do Ubuntu 14 para Firefly √© digno de elogios.  Funciona de forma est√°vel, baixo consumo de mem√≥ria.  √Årea de trabalho gr√°fica - LXDE.  A renderiza√ß√£o da interface n√£o parece perfeitamente r√°pida, mas √© bastante decente.  A prop√≥sito, um link √∫til sobre como tirar capturas de tela no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wiki do</a> LXDE: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lxde</a> .  Outra informa√ß√£o √∫til √© como definir o hor√°rio: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">usando o dpkg-reconfigure tzdata</a> .  Sim, voc√™ nunca adivinhar√° o que, em qualquer shell do Linux, √© feito de maneira n√£o trivial. <br><br><img width="700" src="https://habrastorage.org/webt/uy/6y/hj/uy6yhjt7lgnmbfrndloylwd-vtw.jpeg"><br><br>  A placa possui uma estrutura em sandu√≠che (estilo sandu√≠che).  A placa principal cont√©m SoC RockChip, RAM e um drive Samsung, a Ethernet da Realtek, al√©m de um chip de energia e monitoramento ativo.  A placa principal cont√©m tudo o mais: o controlador de sa√≠da Lontium HDMI (apenas duas sa√≠das), a entrada Toshiba HDMI, a ponte JMicron USB-SATA, o chip Ampak para interfaces sem fio.  Duas partes s√£o conectadas atrav√©s de um slot MXM3.0 relativamente padr√£o (m√≥dulo PCI Express m√≥vel).  A placa possui muitas interfaces, al√©m de quatro blocos principais de pinos, um total de 184 pinos.  Al√©m disso, o fabricante n√£o estragou os conectores m√£e, √© certamente mais seguro, pois v√°rias linhas de energia de 12V s√£o divorciadas. <br><br><h4>  Modo de inicializa√ß√£o e firmware </h4><br>  A primeira coisa a fazer com as placas √© exibi-las.  Para uma intera√ß√£o ocasional com placas de desenvolvimento, IoT e tudo mais, √© mais conveniente ter um sistema Linux no seu computador.  Eu o tradicionalmente Linux Fedora 64bit, para a 26¬™ vers√£o.  A instru√ß√£o oficial para colocar a placa no modo de inicializa√ß√£o e exibir a imagem do sistema operacional: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Flash Image</a> . <br><br>  Como <b>o utilit√°rio de preenchimento upgrade_tool da RockChip precisa de depend√™ncias para serem instaladas</b> .  E nem todas as vers√µes da distribui√ß√£o Linux no PC host indicam quais. <br>  Quero compartilhar meu algoritmo de a√ß√µes para transferir com √™xito a placa para inicializar e preencher a imagem do sistema operacional: <br><br><pre><code class="bash hljs">1.  . 2.     ( micro USB - USB). 3.        : -     RECOVER -   RESET -      RECOVER 4.  -   Linux Upgrade Tool (     ): - [user@nb-linuxfedora data-arm]$ unzip Linux_Upgrade_Tool_v1.24.zip - [user@nb-linuxfedora data-arm]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Linux_Upgrade_Tool_v1.24/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo mv upgrade_tool /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ sudo chown root:root /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/upgrade_tool - [user@nb-linuxfedora Linux_Upgrade_Tool_v1.24]$ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/ - [user@nb-linuxfedora bin]$ -  ,    upgrade_tool      5.  Linux Upgrade Tool   &lt;update&gt;.img   (         ): [user@nb-linuxfedora bin]<span class="hljs-comment"><span class="hljs-comment"># sudo upgrade_tool -  ,       ,      Fedora,    .   Fedora 26       . ,   : libudev.so.1, libstdc++.so.6.          Linux    ,   Fedora : [user@linux]# dnf install libudev.so.1 installing: libcap-2.25-5.fc26.i686.rpm libgpg-error-1.25-2.fc26.i686.rpm xz-libs-5.2.3-2.fc26.i686.rpm systemd-libs-233-6.fc26.i686.rpm libgcc-7.2.1-2.fc26.i686.rpm libselinux-2.6-7.fc26.i686.rpm lz4-libs-1.8.0-1.fc26.i686.rpm libgcrypt-1.7.8-1.fc26.i686.rpm libsepol-2.6-2.fc26.i686.rpm pcre-8.41-1.fc26.i686.rpm [user@linux]# dnf install libstdc++.so.6 installing: libstdc++.i686 7.2.1-2.fc26   -   : [user@nb-linuxfedora bin]# sudo upgrade_tool : List of rockusb connected DevNo=1 Vid=0x2207,Pid=0x320a,LocationID=302 Loader Found 1 rockusb,Select input DevNo,Rescan press &lt;R&gt;,Quit press &lt;Q&gt;:1  "1"      .    uf. Rockusb&gt;uf Firefly-RK3288-Reload_DualBoot_201612101121.img : Loading firmware... Support Type:RK32 FW Ver:5.0.00 FW Time:2016-12-10 11:21:47 Loader ver:2.30 Loader Time:2016-10-13 10:04:54 ( ...) Upgrade firmware ok. Rockusb&gt;q</span></span></code> </pre> <br><h4>  Use </h4><br>  Ap√≥s o sucesso do firmware Firefly-RK3288 Reload, desconecte o cabo USB.  E voc√™ pode conectar um monitor, teclado, mouse.  E, por si s√≥, instale o compilador g ++.  O Ubuntu LXDE para Firefly possui um bom conjunto de software minimamente suficiente.  Obviamente, o mais √∫til nessa situa√ß√£o √© o terminal.  H√° tamb√©m um monitor de sistema simples, editor de texto Leafpad, teclado na tela, gerenciador de arquivos, reprodutor de m√≠dia, navegador Chromium e muito mais. <br><br>  Algumas capturas de tela: <br><br><img width="700" src="https://habrastorage.org/webt/bx/xn/t8/bxxnt8pcvxmkxqmz3rkbice0pek.png" alt="imagem"><blockquote>  Terminal e Leafpad </blockquote><img width="700" src="https://habrastorage.org/webt/98/k9/zv/98k9zv9chislx_pdeu8asthqrwy.png" alt="imagem"><blockquote>  Informa√ß√µes da vers√£o </blockquote>  Claro que n√£o poderia prescindir de uma mosca na pomada.  A placa trabalha internamente com resolu√ß√£o de imagem em Full HD, e as capturas de tela s√£o salvas na mesma resolu√ß√£o.  Mas na sa√≠da HDMI, uma imagem na resolu√ß√£o de apenas HD pronto √© alimentada no monitor.  Portanto, a imagem, √© claro, n√£o √© clara o suficiente.  Mas essa imagem serve para experimentos. <br><br><img width="700" src="https://habrastorage.org/webt/he/b1/io/heb1io1mnhkco0f5-xsqmhvocvg.jpeg" alt="imagem"><blockquote>  Alguns filmes de boa qualidade n√£o s√£o um problema para o RK3288; a utiliza√ß√£o da CPU est√° em torno de 50%. </blockquote><h4>  Usando perif√©ricos I2C e pinos GPIO </h4><br>  Talvez um dos recursos mais valiosos dessas placas seja conectar dispositivos perif√©ricos via barramento I2C, usando GPIO e outras interfaces.  O Firefly RK3288 Reload possui quatro barramentos I2C, at√© cinco, mas o barramento zero √© usado para as necessidades internas da placa, e os outros quatro - de 1 a 4 s√£o divorciados para uso do usu√°rio. <br><br>  A rede possui informa√ß√µes gerais suficientes sobre o uso da interface I2C.  Para interagir com dispositivos I2C atrav√©s do terminal, recomendo este artigo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúI2C no Cubieboard com Lubuntu‚Äù</a> , eles usam um ‚Äúcubo‚Äù l√°, mas isso n√£o √© importante. <br><br>  E para conectar-se aos perif√©ricos I2C programaticamente, usando a virtualiza√ß√£o de arquivos dos barramentos I2C, voc√™ pode recomendar o seguinte: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">‚ÄúInterface com dispositivos I2C‚Äù</a> . <br>  Como dispositivo perif√©rico, o I2C usou um sensor de temperatura Microchip - MCP9808.  No site do fabricante, √© f√°cil encontrar uma boa especifica√ß√£o do dispositivo.  Este √© um dos sensores da mais alta qualidade e mais caros do mercado, significativamente mais r√°pido e preciso do que os sensores das s√©ries TI e NXP LM. <br><br><img width="700" src="https://habrastorage.org/webt/dk/mu/gp/dkmugpu7y9cddhjucq0qldby3lm.jpeg" alt="imagem"><br><br>  Usei esse sensor j√° soldado na miniplaca CJMCU-9808.  Al√©m disso, tudo com o Ebay - tanto os sensores quanto a fia√ß√£o da Dupont - √© feito sem solda.  A conex√£o √© bastante simples: VCC - para energia de 3,3V, GND - para terra, SCL e SDA realmente implementam o barramento I2C (linhas e dados do rel√≥gio, respectivamente), os pinos A0 A1 A2 especificam parte do endere√ßo de 7 bits do dispositivo I2C; o ALERT pode, em princ√≠pio, n√£o uso, mas a linha de alarme ainda estar√° envolvida.  Na foto, o sensor de temperatura est√° conectado ao barramento I2C 1, todos os contatos de endere√ßo s√£o puxados para o terra, o que significa um 0 l√≥gico no bit de endere√ßo correspondente, se a fia√ß√£o do endere√ßo estiver conectada √† energia de 3,3V, esse bit ser√° l√≥gico 1. O endere√ßo base do chip MCP9808 √© b0011 e mais A2 A1 A0.  Apenas sete bits, neste caso - b0011000, ou seja, em hex - 0x18. <br><br>  Assim, o utilit√°rio do console produzir√°: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># i2cdetect -y -r 1 0 1 2 3 4 5 6 7 8 9 abcdef 00: -- -- -- -- -- -- -- -- -- -- -- -- UU 10: -- -- -- -- -- -- -- -- 18 -- -- -- -- -- -- -- 20: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 30: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 40: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 50: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 60: -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- 70: -- -- -- -- -- -- -- --</span></span></code> </pre> <br>  Pode-se observar que no barramento I2C n√∫mero 1 existe algo com o endere√ßo 0x18. <br><br>  Ligue para: <br>  root @ firefly: / home / vaga-lume # i2cget -y 1 0x18 0x05 w <br>  dar√°, por exemplo: 0xbc01 (que significa uma temperatura de 27,75 C). <br><br>  Par√¢metros do programa i2cget: 1 - n√∫mero do barramento;  0x18 - endere√ßo conectado ao barramento do dispositivo;  0x05 - endere√ßo de registro (neste caso, temperatura);  w - indica que o registro armazena 2 bytes. <br><br>  Obviamente, voc√™ pode usar o MCP9808 do seu pr√≥prio programa C ++ mais completamente.  Lembre-se de que o conte√∫do do registro de temperatura - 0xbc01 - √© invertido, ou seja, pode ser representado como 0x01bc.  O primeiro byte 0x01 cont√©m tr√™s bits da causa do alarme, um bit do sinal e quatro bits altos de temperatura.  O segundo byte 0xbc cont√©m os oito bits mais baixos da temperatura.  O microchip codifica o conte√∫do do registro de temperatura usando o m√©todo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">formato de complemento</a> dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dois</a> .  O d√©cimo segundo bit de um registro de byte duplo codifica um caractere.  Se for 0, a temperatura √© positiva.  Se o d√©cimo primeiro bit for 1, ent√£o, √† temperatura ambiente calculada, voc√™ precisar√° adicionar 2 ao grau de 7 graus Celsius - 2 ^ 7 (128 C), se - for igual a 0, - nada precisar√° ser adicionado.  Da mesma forma, 1 no d√©cimo bit adicionar√° 2 ^ 6 (64 C).  E assim por diante, 1 no quarto bit adicionar√° 2 ^ 0 (1 C).  1 no terceiro bit adicionar√° 2 ^ -1 (0,5 C).  1 no √∫ltimo bit zero adicionar√° 2 ^ -4 (0,0625 C).  Se a parte do sinal (12) for 1, o <s>problema ocorreu na casa, a</s> temperatura √© negativa.  E a descriptografia do registro √© um pouco complicada.  De acordo com os princ√≠pios do formato de complemento de dois, voc√™ deve primeiro inverter os bits.  Ent√£o voc√™ precisa adicionar um ao bit menos usado, porque  valores negativos s√£o codificados n√£o com 0, mas com -1.  Ao configurar o sensor de temperatura por padr√£o, √© usada a precis√£o m√°xima - at√© 0,0625 C. Nesse caso, voc√™ precisa adicionar um ao √∫ltimo bit, respons√°vel por 0,0625 C. Isso √©,  voc√™ pode simplesmente adicionar 1 ao valor do registro de temperatura.  Se, por exemplo, aumentar a velocidade, reduza a precis√£o da medi√ß√£o de temperatura usando o registro de configura√ß√£o.  Em uma temperatura negativa, voc√™ precisar√° adicionar um ao bit mais antigo ou adicionar um n√∫mero correspondente a esse bit.  Ent√£o √© necess√°rio converter os bits no valor da temperatura da mesma maneira que no caso positivo. <br><br><h4>  Linha GPIO e ALARM </h4><br><img width="330" src="https://habrastorage.org/webt/mc/le/cz/mcleczzcj2kplwqmwjybi9bjj34.jpeg" alt="imagem"><img width="330" src="https://habrastorage.org/webt/oh/iu/xn/ohiuxnx2h7fjljkxpuar9ipfhpa.jpeg" alt="imagem"><br><br>  Voc√™ pode usar a linha ALARM do sensor.  Incluindo o uso de uma das linhas GPIO da Firefly.  Na foto, √© claro, estanho e queima com um LED arcaico e resist√™ncia, mas aqui o princ√≠pio em si √© importante.  Como usar o GPIO est√° bem descrito em outro artigo no Habr√©: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Linux: bot√µes, LEDs e GPIO</a> .  Mas, como corretamente observado, √© dif√≠cil determinar qual n√∫mero de Gpio exportar para uso futuro.  Para ver quais linhas do Gpio est√£o ocupadas e quais n√£o, voc√™ pode usar o comando: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># cat /sys/kernel/debug/gpio &gt; /home/firefly/_temp/temp</span></span></code> </pre> <br>  A equipe <br><br><pre> <code class="bash hljs">firefly@firefly:~$ dmesg</code> </pre> <br>  tamb√©m mostra informa√ß√µes sobre o Gpio. <br><br>  O estudo mostrou que √© poss√≠vel exportar, por exemplo, o pino GPIO n√∫mero 262. O que √© indicado na placa e na especifica√ß√£o como GPIO8 A6.  Porque  Nesta placa, como de costume, os blocos GPIO cont√™m 32 elementos cada.  Pode-se supor que, talvez, a f√≥rmula m√°gica seja esta: 32 * n√∫mero do bloco GPIO + n√∫mero do postfix.  Portanto, podemos obter apenas 32 * 8 + 6 = 262. Agora, no in√≠cio do programa, podemos fornecer energia de 3.3V a esta linha Gpio 262 e, quando sairmos, pare de fazer isso. <br><br>  A especifica√ß√£o para MCP9808 indica que a linha de ALARME nele √© de dreno aberto, ou seja,  estoque aberto.  Isso significa que, quando ocorre um alarme, esta linha √© colocada em curto, mas, caso contr√°rio, n√£o est√° em curto.  A necessidade de usar um resistor tamb√©m √© enfatizada.  Na pr√°tica, verificou-se que isso √© realmente necess√°rio; caso contr√°rio, com a passagem da corrente, o interior do sensor ser√° aquecido a altas temperaturas.  O diagrama a seguir √© mostrado na foto: O GPIO √© conectado em s√©rie ao LED, resist√™ncia, dreno aberto (ALARME) do sensor.  Resta usar o registro de configura√ß√£o MCP9808 para definir os limites de temperatura permitidos.  Ao ir al√©m disso, um alarme ocorrer√°.  Voc√™ pode definir dois n√≠veis de temperatura muito alta e um n√≠vel muito baixo.  Em geral, para trabalhar com esse sensor digital, √© claro, voc√™ precisa ler atentamente as especifica√ß√µes, alternar para o modo de configura√ß√£o, retornar ao modo de trabalho e muito mais.  Assim, quando a temperatura ultrapassa os limites estabelecidos, a corrente passa pelo contato ALARM e acende o LED. <br><br><h4>  Em conclus√£o </h4><br>  Gostaria de mencionar um truque √∫til para controlar o brilho dos LEDs incorporados nas placas de desenvolvimento.  Os manuais do Cubieboard 6 mostram como ativar o LED1: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> default-on &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  E como desativar o LED1: <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$echo</span></span> none &gt; /sys/class/leds/led1-GPIOB9/trigger</code> </pre> <br>  Com base nisso, descobriu-se como controlar os LEDs no Firefly 3288 Reload. <br>  Ativando o LED personalizado amarelo (na verdade, um LED azul): <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo default-on &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br>  Desativando este LED: <br><br><pre> <code class="bash hljs">root@firefly:/home/firefly<span class="hljs-comment"><span class="hljs-comment"># echo none &gt; /sys/class/leds/firefly:yellow:user/trigger</span></span></code> </pre> <br><h4>  Precau√ß√µes </h4><br>  Ao projetar para placas de desenvolvimento, √© importante ter cuidado.  A codifica√ß√£o, √© claro, ocorre em um PC, com muito desejo e compila√ß√£o cruzada tamb√©m.  Em seguida, o c√≥digo-fonte √© compilado em um destino espec√≠fico ou um arquivo execut√°vel pronto √© transferido para o quadro.  E se placas especializadas s√£o amplamente projetadas para usar todos os tipos de interfaces.  Sim, e eles geralmente n√£o s√£o muito caros.  Nos pr√≥prios PCs caros, a tentativa de usar barramentos I2C, linhas GPIO e similares n√£o √© recomendada.  Isso pode levar a falhas desagrad√°veis ‚Äã‚Äãdo computador.  Pelo menos utilit√°rios de console como o i2cget alertam explicitamente sobre isso, citando alguns modelos de laptops danificados como exemplo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt412763/">https://habr.com/ru/post/pt412763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt412751/index.html">Calv√≠cie: Teoria e pr√°tica do tratamento, parte 1 "Minha di-hidrotestosterona, meu inimigo"</a></li>
<li><a href="../pt412753/index.html">Inicie a exibi√ß√£o no STM32 via LTDC ... nos registros</a></li>
<li><a href="../pt412755/index.html">O Telegram lan√ßou o servidor MTProto Proxy oficial</a></li>
<li><a href="../pt412757/index.html">L√¢mpadas LED no Jap√£o</a></li>
<li><a href="../pt412759/index.html">Novo servidor proxy MTProto-proxy do Telegram</a></li>
<li><a href="../pt412765/index.html">Introdu√ß√£o ao novo sistema de cart√µes lado a lado da Unity</a></li>
<li><a href="../pt412767/index.html">Revis√£o da confer√™ncia de impacto CMG 2016</a></li>
<li><a href="../pt412769/index.html">Eu fiz o PWA e o coloquei em tr√™s lojas de aplicativos. E aqui est√° o que eu descobri</a></li>
<li><a href="../pt412773/index.html">Astro-aeroespacial de Minsk</a></li>
<li><a href="../pt412775/index.html">Experi√™ncia pessoal: passando do desenvolvimento C de baixo n√≠vel para a programa√ß√£o Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>