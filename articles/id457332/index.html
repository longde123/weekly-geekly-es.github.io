<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😂 ♣️ 🙍🏼 Bagaimana cara cepat melihat peringatan menarik yang dihasilkan oleh alat analisa PVS-Studio untuk kode C dan C ++? 👩🏻‍⚕️ 😰 📩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dari waktu ke waktu, programmer yang mulai berkenalan dengan penganalisa kode PVS-Studio bertanya: "Apakah ada daftar peringatan yang secara akurat me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana cara cepat melihat peringatan menarik yang dihasilkan oleh alat analisa PVS-Studio untuk kode C dan C ++?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/457332/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df3/c29/8f2/df3c298f21cb71d0c7c699b7e27269d3.png"></div><br>  Dari waktu ke waktu, programmer yang mulai berkenalan dengan penganalisa kode PVS-Studio bertanya: "Apakah ada daftar peringatan yang secara akurat menunjukkan kesalahan?"  Tidak ada daftar dengan alasan bahwa peringatan yang tidak menarik (salah) dalam satu proyek dan yang lain ternyata sangat penting dan berguna.  Namun, untuk memulai berkenalan dengan analis dengan peringatan paling menarik adalah sangat mungkin.  Mari kita lihat lebih dekat topik ini. <br><a name="habracut"></a><br>  Masalahnya adalah bahwa selama peluncuran pertama, programmer, sebagai suatu peraturan, menerima sejumlah besar peringatan di mana ia "tenggelam".  Secara alami, ia mulai ingin berkenalan dengan peringatan yang paling menarik untuk memahami apakah ia harus menghabiskan waktu selama ini.  Hebat, berikut adalah tiga langkah sederhana yang akan memungkinkan Anda untuk berkenalan dengan hal-hal positif yang paling menarik. <br><br><h2>  Langkah 1 </h2><br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/648/436/d98/648436d98521380495f1c9f8ee384646.png"></div><br><br>  Nonaktifkan semua jenis peringatan kecuali umum (GA).  Kesalahan umum: aktifkan semua jenis peringatan.  Untuk pengguna yang tidak berpengalaman tampaknya semakin Anda menyalakannya, semakin baik.  Ini tidak benar!  Ada serangkaian diagnostik, seperti pemeriksaan 64-bit dan aturan MISRA, yang harus digunakan hanya dengan gagasan yang jelas tentang apa itu dan bagaimana cara mengatasinya.  Misalnya, dengan mengaktifkan diagnostik MISRA untuk program aplikasi biasa, Anda akan menenggelamkan puluhan, ribuan, atau ratusan ribu pesan seperti: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2506</a> .  Misra.  Suatu fungsi harus memiliki satu titik keluar di akhir. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2507</a> .  Misra.  Isi pernyataan loop \ conditional harus dilampirkan dalam kurung kurawal. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2523</a> .  Misra.  Semua konstanta integer dari tipe unsigned harus memiliki akhiran 'u' atau 'U'. </li></ul><br>  Sebagian besar peringatan MISRA tidak menunjukkan kesalahan, tetapi kode berbau.  Secara alami, seseorang mulai mengajukan pertanyaan.  Bagaimana menemukan sesuatu yang menarik dalam massa semua peringatan ini?  Diagnostik di bawah nomor berapa dia harus mencari?  Ini adalah pertanyaan yang salah.  Anda hanya perlu menonaktifkan kit MISRA.  Ini adalah standar untuk menulis kode kualitas untuk perangkat yang disematkan.  Inti dari standar: untuk membuat kode sangat sederhana dan mudah dimengerti.  Jangan mencoba menerapkannya di tempat yang tidak pantas. <br><br>  Catatan  Ya, ada aturan dalam standar MISRA yang bertujuan mengidentifikasi kesalahan nyata.  Contoh: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V2538</a> - Nilai variabel tidak diinisialisasi tidak boleh digunakan.  Tetapi jangan takut untuk menonaktifkan standar MISRA.  Anda tidak akan kehilangan apapun.  Kesalahan sejati masih akan ditemukan dalam diagnostik tujuan umum (GA).  Misalnya, variabel yang tidak diinisialisasi akan ditemukan berkat diagnostik <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V614</a> . <br><br><h2>  Langkah 2 </h2><br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f30/9c1/d2f/f309c1d2fed7a2736170dad987cd4460.png"></div><br><br>  Analyzer statis apa pun menghasilkan positif palsu selama permulaan pertama dan membutuhkan konfigurasi tertentu.  Tidak ada yang bisa dilakukan dengan ini, tetapi tidak seseram kelihatannya.  Bahkan pengaturan cepat sederhana memungkinkan Anda untuk menghapus sebagian besar peringatan palsu dan mulai berkenalan dengan laporan yang sudah cukup memadai.  Kami tidak akan membicarakan hal ini lebih terinci, karena saya menulisnya berulang kali, misalnya, dalam artikel ini: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Karakteristik penganalisis PVS-Studio menggunakan contoh EFL Core Libraries, 10-15% positif palsu</a> ." <br><br>  Luangkan sedikit waktu untuk menonaktifkan peringatan yang tidak relevan secara eksplisit dan melawan positif palsu karena makro.  Makro umumnya merupakan sumber utama false positive, karena peringatan muncul di mana pun makro gagal digunakan.  Untuk menekan peringatan di makro, jenis komentar khusus dapat ditempatkan di sebelah deklarasi mereka.  Format untuk menulis komentar dibahas lebih rinci dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . <br><br>  Ya, pengaturan awal akan memakan waktu sedikit, tetapi secara dramatis meningkatkan persepsi laporan dengan menghilangkan kebisingan yang mengganggu.  Luangkan waktu untuk ini.  Jika ada kesulitan atau pertanyaan, kami selalu siap membantu dan menyarankan cara terbaik untuk mengonfigurasi penganalisis.  Jangan ragu untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menulis</a> dan mengajukan pertanyaan kepada kami. <br><br><h2>  Langkah 3 </h2><br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f87/0ec/c49/f870ecc49989743ae8caea3c745e602e.png"></div><br><br>  Mulai pelajari peringatan dari level 1.  Dan hanya kemudian melihat 2 dan 3. Tingkat peringatan tidak lebih dari keandalan peringatan.  Peringatan Level 1 lebih cenderung mengindikasikan kesalahan sebenarnya daripada 2. <br><br>  Kita dapat mengatakan bahwa memilih "menonton level 1", Anda menekan tombol "menonton kesalahan paling menarik". <br><br>  Klasifikasi peringatan PVS-Studio berdasarkan level dijelaskan lebih rinci dalam artikel “ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana dan mengapa analisa statis berurusan dengan false positive</a> ”. <br><br><h2>  Jadi mengapa masih belum ada daftar? </h2><br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df2/95f/70b/df295f70b19562c12916ec578022829f.png"></div><br><br>  Namun, ide dengan daftar peringatan yang paling berguna mungkin tampak masuk akal.  Izinkan saya menunjukkan dengan contoh praktis bahwa kegunaan diagnostik relatif dan tergantung pada proyek. <br><br>  Pertimbangkan peringatan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V550</a> .  Peringatan mengungkapkan potensi kesalahan karena fakta bahwa operator == atau! = Digunakan untuk membandingkan angka floating-point. <br><br>  Sebagian besar pengembang yang saya ajak bicara percaya bahwa diagnosis ini tidak banyak berguna dan mematikannya, karena semua positif untuk proyek mereka salah.  Dan itulah mengapa diagnosis ini memiliki keandalan yang rendah dan terletak di tingkat ke-3. <br><br>  Memang, di sebagian besar aplikasi, tipe float / double digunakan dalam algoritma yang sangat sederhana.  Dan seringkali perbandingan dengan konstanta digunakan hanya untuk memeriksa apakah nilai default disetel, atau apakah telah berubah.  Dalam hal ini, pemeriksaan yang akurat cukup tepat.  Saya akan menjelaskan ini dengan pseudo-code. <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> value = <span class="hljs-number"><span class="hljs-number">1.0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (IsUserInputNewValue()) value = GetUserValue(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value == <span class="hljs-number"><span class="hljs-number">1.0f</span></span>) DefaultBehavior(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> Foo(value);</code> </pre> <br>  Di sini perbandingan <i>(nilai ==1f)</i> benar dan aman. <br><br>  Apakah ini berarti bahwa V550 adalah diagnosis yang tidak menarik?  Tidak.  Itu semua tergantung pada proyek.  Saya akan mengutip sebagian dari artikel " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana kami menguji analisis statis pada proyek kami dari simulator pelatihan operasi endovaskular,</a> " yang ditulis oleh salah satu pengguna kami. <br><br>  Jadi, apa yang dianalisis oleh penganalisa statis adalah: <br><br>  V550 Perbandingan presisi yang aneh: t! = 0. Mungkin lebih baik menggunakan perbandingan dengan presisi yang ditentukan: fabs (A - B)&gt; Epsilon.  objectextractpart.cpp 3401 <br><br><pre> <code class="cpp hljs">D3DXVECTOR3 N = VectorMultiplication( VectorMultiplication(V-VP, VN), VN); <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> t = Qsqrt(Scalar(N, N)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (t!=<span class="hljs-number"><span class="hljs-number">0</span></span>) { N/=t; V = V - N * DistPointToSurface(V, VP, N); }</code> </pre> <br>  Kesalahan serupa berulang cukup sering di perpustakaan ini.  Saya tidak akan mengatakan bahwa ini mengejutkan saya.  Sebelumnya saya menemukan pekerjaan yang salah dengan angka floating-point dalam proyek ini.  Namun, tidak ada sumber daya untuk secara sistematis memeriksa sumber untuk ini.  Menurut hasil verifikasi, menjadi jelas bahwa Anda perlu memberikan pengembang sesuatu untuk dibaca untuk memperluas wawasannya dalam hal bekerja dengan angka floating-point.  Saya melemparkan dia tautan ke beberapa artikel bagus.  Mari kita lihat hasilnya.  Sulit untuk mengatakan dengan jelas apakah kesalahan ini menyebabkan kegagalan fungsi nyata dalam program.  Solusi saat ini menetapkan sejumlah persyaratan untuk jaringan arteri poligonal awal, di mana penyebaran zat radiopak disimulasikan.  Jika persyaratan tidak terpenuhi, maka program mungkin macet, atau operasi yang jelas salah.  Beberapa persyaratan ini diperoleh secara analitis, dan sebagian lagi secara empiris.  Ada kemungkinan bahwa bagian kedua dari persyaratan ini tumbuh hanya dari pekerjaan yang salah dengan angka floating-point.  Perlu dicatat bahwa tidak semua kasus yang ditemukan menggunakan perbandingan angka floating-point yang tepat adalah kesalahan. <br><br>  Seperti yang Anda lihat, apa yang tidak menarik dalam beberapa proyek menarik bagi yang lain.  Ini membuatnya mustahil untuk membuat daftar "paling menarik." <br><br>  Catatan  Dimungkinkan untuk mengatur tingkat peringatan menggunakan pengaturan.  Misalnya, jika Anda berpikir bahwa diagnostik V550 layak mendapat perhatian, Anda dapat memindahkannya dari tingkat ketiga ke yang pertama.  Jenis pengaturan ini dijelaskan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> (lihat "Cara mengatur level Anda untuk diagnostik tertentu"). <br><br><h2>  Kesimpulan </h2><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/37d/d9e/ecd/37dd9eecd44e33d66c2993ad552e11f7.png"></div><br><br>  Sekarang Anda tahu cara mulai mempelajari peringatan penganalisa, mengingat yang paling menarik dari itu.  Dan jangan lupa melihat di dokumentasi untuk berkenalan dengan deskripsi rinci tentang peringatan.  Kadang-kadang terjadi bahwa di balik pandangan yang tidak memiliki, pada pandangan pertama, adalah neraka.  Contoh diagnostik tersebut: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V597</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">V1026</a> .  Terima kasih atas perhatian anda <br><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/898/3b6/5a7/8983b65a74adb29a2113eba12fbec3f1.png" align="left"></a> </p><br><br>  Jika Anda ingin berbagi artikel ini dengan audiens yang berbahasa Inggris, silakan gunakan tautan ke terjemahan: Andrey Karpov.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagaimana cara cepat memeriksa peringatan menarik yang diberikan oleh alat analisa PVS-Studio untuk kode C dan C ++?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457332/">https://habr.com/ru/post/id457332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457316/index.html">Bagaimana permainan peran di dunia nyata diatur untuk tamu-tamu Armenia dengan perjalanan sekitar setengah dari negara</a></li>
<li><a href="../id457324/index.html">Acara digital di Moskow dari 24 hingga 30 Juni</a></li>
<li><a href="../id457326/index.html">Failover Cluster PostgreSQL + Patroni. Pengalaman Implementasi</a></li>
<li><a href="../id457328/index.html">Kategori bukan direktori, atau sistem file Semantic untuk Linux</a></li>
<li><a href="../id457330/index.html">Bagaimana cara cepat memeriksa peringatan menarik yang diberikan oleh alat analisa PVS-Studio untuk kode C dan C ++?</a></li>
<li><a href="../id457334/index.html">TacacsGUI, Manajer Konfigurasi</a></li>
<li><a href="../id457336/index.html">Konsekuensi dari pencabutan gigi bungsu sebelum waktunya</a></li>
<li><a href="../id457338/index.html">Blitz dengan Ilya Krasinsky: bagaimana cara menembak hipotesis buruk, mengapa mengabaikan suatu produk dan bagaimana tumbuh untuk tindakan minimum?</a></li>
<li><a href="../id457340/index.html">10 plugin PostCSS yang akan menghemat waktu tata letak Anda</a></li>
<li><a href="../id457342/index.html">Tanda dari Atas: Bagaimana Kami Menyelamatkan Kartografer dari Pekerjaan yang Tidak Perlu dan Mata Merah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>