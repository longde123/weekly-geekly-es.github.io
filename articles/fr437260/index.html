<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥚 😍 🚊 Windows Phone 8.1: développement post-nostalgie. Historique d'une seule application 🏡 ❗️ 🛏️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations, Habr! 

 La publication s'inspire de la nouvelle de l'arrêt du support pour Windows 10 mobile . 

 En tant que propriétaire du Nokia Lumi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Windows Phone 8.1: développement post-nostalgie. Historique d'une seule application</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437260/">  Salutations, Habr! <br><br>  La publication s'inspire de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nouvelle de l'arrêt du support pour Windows 10 mobile</a> . <br><br>  En tant que propriétaire du Nokia Lumia 925 à un moment donné, je vais vous parler de l'un de mes métiers dans le domaine du développement mobile pour Windows Phone 8.1. <br><a name="habracut"></a><br><h2>  Annexe: «Taux de change de la Banque centrale de la Fédération de Russie».  Contexte </h2><br>  C'était fin 2014 et quelque chose de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vraiment étrange se</a> passait.  Le dollar augmentait, l'euro n'était pas inférieur, mais des vacances dans quelques mois étaient déjà prévues et il était temps d'acheter cette monnaie même, ou du moins de la surveiller. <br><br>  Ne trouvant rien d'utile sur le Windows Phone Market, j'ai décidé d'essayer d'écrire quelque chose «pour moi». <br><br>  En fin de compte, ce n'est pas si difficile - j'ai fait la demande à genoux, téléchargé l'assemblage sur le téléphone et vous vivez bien.  Et si vous l'aimez vous-même, vous pouvez le télécharger sur le marché, même s'il sera bon pour les autres. <br><br>  PS "Rien d'utile" signifiait également filtrer les applications avec une quantité énorme de publicité (par les gens, qu'est-ce qui n'allait pas?). <br><br><h3>  Numéro de version 1 </h3><br>  <b>Objectif:</b> créer une application simple avec la seule opportunité - voir les taux de change dans l'application et créer une tuile sur la page principale <br><br>  Un peu plus formel: <br><br><ol><li>  L'interface utilisateur la plus simple </li><li>  Tableau des prix des devises pour aujourd'hui / demain </li><li>  Possibilité de créer une tuile sur la page principale </li><li>  Aucune annonce </li></ol><br>  Ce qui s'est passé en conséquence (malheureusement, les captures d'écran des premières versions des tuiles n'ont pas été enregistrées): <br><br><img align="left" src="https://habrastorage.org/webt/ne/o5/9o/neo59op-j57ez2kucjybnar5xrq.png"><img align="left" src="https://habrastorage.org/webt/ln/le/st/lnlestqfurrzatagvsgbcgcffi0.png"><br><br><h4>  Service intermédiaire </h4><br>  Les tuiles sont référencées par un service écrit qui accède aux données de la Banque centrale et les met en cache pendant une journée, car  La Banque centrale ne met pas à jour les données plus souvent.  C'est-à-dire  l'application ne fonctionne pas avec des données en temps réel, car  le concept de tuiles lui-même ne permet pas de mises à jour fréquentes. <br><br>  Le taux de rafraîchissement minimum, si je me souviens bien, était d'environ une demi-heure. <br><br>  Qui saurait combien de commentaires et d'étoiles minimales j'ai reçu pour avoir créé une application avec des «données incorrectes!».  L'ajout d'informations sur la fréquence des mises à jour dans les versions suivantes n'a pas changé la situation - les utilisateurs ont continué à écrire régulièrement sur les données incorrectes. <br><br>  En plus des demandes de données, le service lui-même a permis de collecter de petites statistiques sur l'utilisation de l'application.  Au début, les statistiques de requête (chaque tuile = demande) étaient les suivantes: <br><br><img src="https://habrastorage.org/webt/jc/gg/jv/jcggjvvlrltnju3xwfkzoe28nxs.png"><br><br><h3>  Numéro de version 2 </h3><br>  <b>Objectif: de</b> manière inattendue, des commentaires ont été formulés par des utilisateurs demandant d'ajouter un graphique de la dynamique des changements de taux. <br><br>  Que s'est-il passé en conséquence: <br><br><img align="left" src="https://habrastorage.org/webt/pq/k9/dg/pqk9dghyc4o_oz-j2juc_96wvkq.png"><img src="https://habrastorage.org/webt/rk/uf/vl/rkufvlokyl8coga0sljjm66hkj4.png"><br><br>  <i>De l'intéressant: j'ai dû récupérer et reconstruire la source de la bibliothèque de graphiques afin de passer la certification de l'application.</i> <br><br><div class="spoiler">  <b class="spoiler_title">Détails techniques</b> <div class="spoiler_text">  Déjà en train de préparer la publication de l'application, il a été révélé, à l'aide du Kit de certification des applications Windows, qu'il y avait des appels kernel32.dll à l'intérieur du composant.  En particulier, il y a eu deux erreurs: <br><blockquote>  CreateFileMappingA dans l'API kernel32.dll n'est pas pris en charge pour ce type d'application.  Sparrow.Chart.WinRT.45.dll appelle cette API. <br>  L'API MapViewOfFile dans kernel32.dll n'est pas prise en charge pour ce type d'application.  Sparrow.Chart.WinRT.45.dll appelle cette API. <br></blockquote>  Il s'est avéré (après avoir googlé et trié la source) que le composant écrit pour Windows Phone avait la directive #if WPF.  Un morceau de code n'a pas été utilisé, mais il a cassé le test de certification.  Commenté les directives, compilé et, le tour est joué, tous les tests ont réussi.  Il était très désagréable de découvrir une erreur similaire à la toute fin de la mise à jour.  Mais chanceux. <br></div></div><br>  Quelques statistiques de demandes d'ici juin: <br><br><img src="https://habrastorage.org/webt/yg/b0/9a/ygb09ajemioqdvpwdctxtglnumw.png"><br><br>  Le service écrit a fourni approximativement les informations suivantes sur l'utilisation des carreaux: <br><br><ul><li>  125 utilisateurs avec 0 tuiles - utilisent principalement l'application </li><li>  260 utilisateurs avec 1 tuile </li><li>  175 utilisateurs avec 2 tuiles </li><li>  61 utilisateurs avec 3 tuiles </li><li>  7 utilisateurs avec 4 tuiles </li><li>  1 utilisateur avec 6 tuiles </li></ul><br><h3>  Numéro de version 3 </h3><br>  <b>Objectif:</b> inspiré par les demandes des utilisateurs (deux personnes ont demandé, mais cela suffit), j'ai décidé qu'il devrait y avoir un nouveau design. <br><br>  Que s'est-il passé en conséquence: <br><br><img align="left" src="https://habrastorage.org/webt/uf/zr/fm/ufzrfmgazaoy2vr7aqf36nupm-o.png"><img align="left" src="https://habrastorage.org/webt/sb/zr/l0/sbzrl0k35sfrp5iueqborvxk1i8.png"><br><img align="left" src="https://habrastorage.org/webt/n7/up/vx/n7upvxclzpyt96axnwdars8_r5w.png"><img align="left" src="https://habrastorage.org/webt/32/g-/u_/32g-u_nyusbbh-njuav8yj-_h_w.png"><br><br>  Statistiques: <br><br><img align="left" src="https://habrastorage.org/webt/e_/mf/sm/e_mfsmmujaavjznnjswjuun8uk0.png"><br><br>  Les chiffres ne sont pas exorbitants, mais très gentils avec moi.  Lentement mais sûrement, le nombre d'utilisateurs a augmenté. <br><br><h3>  Version numéro 4, finale </h3><br>  <b>Objectif:</b> cette fois a été inspiré par le nouveau design de l'application pour VKontakte.  Oui, et MVVM a dû être réécrit enfin.  Oui, et ajoutez des couches d'huile et de métal. <br><br>  Que s'est-il passé en conséquence: <br><br><img align="left" src="https://habrastorage.org/webt/dl/jg/dj/dljgdjkpevxdfyniux_g_der7ok.png"><img align="left" src="https://habrastorage.org/webt/lu/3o/dh/lu3odh6go--vicc_nd1ebxbdozo.png"><br><img align="left" src="https://habrastorage.org/webt/dj/ix/u-/djixu-ew6qxsf-rxor6dllilepy.png"><img align="left" src="https://habrastorage.org/webt/5v/ld/fi/5vldfiwjd7wf4tz988jsdpfpjdk.png"><br><img align="left" src="https://habrastorage.org/webt/zz/u5/va/zzu5vagaredjjqujcqpdtnhq4uo.png"><img src="https://habrastorage.org/webt/5g/ql/tr/5gqltrhuqlr81m_wptadtcsyzjy.png"><br><br>  On peut voir qu'à ce stade, je voulais gagner de l'argent sur un don volontaire.  Ils ont réussi à gagner quelque 800 à 900 roubles, qu'ils n'ont pas pu retirer.  Merci à Microsoft pour la taille minimale de retrait de 25 $. <br><br>  Statistiques finales: <br><br><img align="left" src="https://habrastorage.org/webt/ak/dx/1r/akdx1rdn2q-d1yhcgufzhmxto_e.png"><br><br><h3>  En conclusion </h3><br>  Par la suite, un autre chronomètre a été écrit, mais rien d'intéressant à son sujet.  Il fonctionne simplement en tenant compte de toutes les limites du système, dont il existe de nombreuses. <br><br>  Le fusible pour le développement a commencé à disparaître lorsque de plus en plus de commentaires des utilisateurs ont commencé à apparaître sur Windows Phone 10 avec des demandes de correction de la taille des carreaux ou des problèmes spécifiques du nouveau système.  Dans le même temps, mon appareil n'était absolument pas inclus dans la liste de mise à jour de la plate-forme avec Windows Phone 8.1.  Il n'y avait aucun désir de disposer au hasard, de tester uniquement dans l'émulateur. <br><br>  Ensuite, les nouvelles ont suivi qu'il n'y aurait aucune mise à jour du système et "acheter de nouveaux téléphones".  Et c'était dommage pour les applications, surtout compte tenu des critiques positives des utilisateurs en général. <br><br>  Sur cette note, et finir la nostalgie de développer un post.  Merci de votre attention. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437260/">https://habr.com/ru/post/fr437260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437250/index.html">Comment nous avons créé une application mobile qui n'a pas besoin d'un concepteur</a></li>
<li><a href="../fr437252/index.html">Cycle de leçon SDL 2.0: Leçon 3 - Bibliothèques d'extension SDL</a></li>
<li><a href="../fr437254/index.html">Informatique ternaire: notions de base</a></li>
<li><a href="../fr437256/index.html">Validation des adresses mémoire sur un Cortex-M0 / M3 / M4 / M7</a></li>
<li><a href="../fr437258/index.html">Projet unique de l'équipe CATIA DESIGN: concept car Bleu</a></li>
<li><a href="../fr437262/index.html">Comment l'eau de rivière devient-elle potable?</a></li>
<li><a href="../fr437264/index.html">Épuisement professionnel en informatique (résultats de l'étude My Circle)</a></li>
<li><a href="../fr437270/index.html">Nous déployons une machine virtuelle Windows avec un transfert de carte vidéo virtuelle utilisant QEMU et Intel GVT-g</a></li>
<li><a href="../fr437274/index.html">Une vision vers l'observabilité dans la pratique</a></li>
<li><a href="../fr437276/index.html">Lampes de table Remilicht avec LED Sunlike</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>