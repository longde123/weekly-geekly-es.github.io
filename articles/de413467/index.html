<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ø üê≤ üë®‚Äçüîß Schnelle und zuverl√§ssige Datensicherung in der Cloud üèîÔ∏è üë® ü§ûüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine der problematischsten Aufgaben f√ºr den durchschnittlichen Benutzer ist das Sichern unter Windows, wodurch sichergestellt wird, dass die folgenden...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schnelle und zuverl√§ssige Datensicherung in der Cloud</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413467/">  Eine der problematischsten Aufgaben f√ºr den durchschnittlichen Benutzer ist das Sichern unter Windows, wodurch sichergestellt wird, dass die folgenden Probleme behoben werden: <br><br><ul><li>  schnell (perfekt im Hintergrund); </li><li>  Es w√ºrde sowohl die aktuelle als auch die vorherige Version der Dateien beibehalten. </li><li>  Die Speicherung von Dateien w√§re f√ºr Viren oder Naturkatastrophen wie die Zerst√∂rung des Mediums oder dessen Diebstahl nicht zug√§nglich. </li><li>  Der Inhalt der Sicherungskopie w√§re nur f√ºr den Benutzer zug√§nglich, d. h.  war passwortgesch√ºtzt. </li></ul><br>  Es gibt viele Vorschl√§ge daf√ºr, aber keiner von ihnen schlie√üt die Aufgabe ab.  Einfaches, einfaches Kopieren gibt keine Geschwindigkeit, schnelles Speichern gibt keine Zuverl√§ssigkeit, Kopieren auf eine externe Festplatte garantiert nicht den Diebstahl. <br><br>  Es gibt jedoch seit langem Werkzeuge zur L√∂sung des Problems.  Die Hauptsache ist, die Unix-Methode und die Batch-Dateien korrekt anzuwenden.  Am einfachsten ist es, die Dateien in einem Archiv zu archivieren und √ºber die Befehlszeile an den Online-Speicher zu senden.  Um die Arbeit zu beschleunigen, ist die Aufgabe in zwei Phasen unterteilt: Zuerst wird ein vollst√§ndiges Archiv erstellt und an den Online-Speicher gesendet, dann werden nach Bedarf inkrementelle Archive erstellt, was die Geschwindigkeit erh√∂ht.  Die Archivverschl√ºsselung gew√§hrleistet die Datensicherheit. <br><a name="habracut"></a><br>  Was ist erforderlich, um das Problem zu l√∂sen: <br><br><ul><li>  Yandex-Konto, um Webdav-Zugriff auf die Yandex-Festplatte zu erhalten.  Die Verwendung anderer Speicher ist nicht untersagt. </li><li>  7z - Konsolenarchivierer, kostenlos verteilt; </li><li>  curl - ein Konsolentool f√ºr die Arbeit mit dem Internet, das kostenlos verteilt wird. </li></ul><br>  Aus <b>Gr√ºnden der Portabilit√§t habe</b> ich <b>7z.exe</b> , <b>7z.dll</b> und <b>Curl.exe</b> in einem Verzeichnis <b>abgelegt</b> .  Je nachdem, wie <b>Curl.exe</b> kompiliert wurde, m√ºssen m√∂glicherweise die Bibliotheken <b>libeay32.dll</b> , <b>libssh2.dll</b> , <b>msvcr100.dll</b> , <b>MSVCR110.dll in die</b> N√§he gestellt oder dem System hinzugef√ºgt werden. <br><br>  Weiter in diesem Verzeichnis ist es w√ºnschenswert, ein Verzeichnis zu erstellen, in das Sie Dateien und Verzeichnisse f√ºr das zuk√ºnftige Archiv ablegen m√∂chten.  Ich habe es <i>"Backup" genannt</i> und ich habe feste Links zu Dateien oder einen Verzeichnislink darin eingef√ºgt (die entsprechende Funktionalit√§t ist in FAR mit der Tastenkombination Alt + F6).  Auf diese Weise kann ich, ohne die Struktur vorhandener Daten zu √§ndern, eine f√ºr mich geeignete Struktur f√ºr die Sicherung erstellen. <br><br>  Das n√§chste Verzeichnis ist <i>temp</i> .  Entwarf, ein Datenarchiv zu speichern, bevor es an den Server gesendet wird.  Gleichzeitig handelt es sich um eine verschl√ºsselte Kopie der aktuellen Daten, die im Falle eines Virenangriffs eine zus√§tzliche Sicherung bietet. <br><br>  Dann m√ºssen Sie im Quellverzeichnis eine ziemlich einfache bat (cmd) -Datei <b>"full.bat" mit</b> folgendem Inhalt <b>erstellen</b> : <br><br><pre><code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> filebkp=work <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> pathbkp=backup <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> srvbkp=https://user:password@webdav.yandex.ru/backup/<span class="hljs-variable"><span class="hljs-variable">%filebkp%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> pathtemp=temp <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> full=<span class="hljs-variable"><span class="hljs-variable">%filebkp%</span></span>-full <span class="hljs-built_in"><span class="hljs-built_in">del</span></span> /F /Q "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>"\ <span class="hljs-number"><span class="hljs-number">7</span></span>z.exe a "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%full%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z -x!*.log; -r -mx1 "<span class="hljs-variable"><span class="hljs-variable">%pathbkp%</span></span>\*" -ppass_for_archive curl.exe -k -X DELETE "<span class="hljs-variable"><span class="hljs-variable">%srvbkp%</span></span>" --verbose -o .\stdout curl.exe -k -X MKCOL "<span class="hljs-variable"><span class="hljs-variable">%srvbkp%</span></span>" --verbose -o .\stdout curl.exe -k -T "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%full%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z "<span class="hljs-variable"><span class="hljs-variable">%srvbkp%</span></span>"/ --progress-bar --verbose -o .\stdout</code> </pre> <br><ul><li>  <b>set filebkp = work</b> - <b>Legen Sie</b> den allgemeinen Namen des Computers und den Pfad auf dem Server fest, auf dem die Sicherung gespeichert wird.  Weil  Es kann mehrere Computer geben, dann kann es sich um eine Sicherungskopie eines funktionierenden Computers (Arbeit), eines Heims (Heim) oder eines Laptops (Buchs) handeln. Wenn Sie angeben, dass ein einzelner Name die Kopien nicht miteinander mischen kann. </li><li>  <b>set pathbkp = backup</b> - <b>Legt</b> den Pfad zu dem Verzeichnis fest, in dem die Daten f√ºr die Sicherung gespeichert sind. In diesem Fall wird das Verzeichnis mit Hardlinks und Verzeichnislinks angegeben, das Sie zuvor erstellt haben sollten. </li><li>  <b>set srvbkp = https: // user: password@webdav.yandex.ru/backup/%filebkp%</b> - <b>Geben Sie</b> das Verzeichnis auf dem Server an, in das die Sicherung hochgeladen werden soll.  Benutzer und Passwort - Passw√∂rter aus Ihrem Konto bei Yandex; </li><li>  <b>set full =% filebkp% -full</b> - <b>Legen Sie</b> den Archivnamen im Voraus fest. </li><li>  <b>del / F / Q "% pathtemp%" \</b> - L√∂scht (l√∂scht) das tempor√§re Verzeichnis </li><li>  <b>7z.exe a "% pathtemp% \% full%". 7z -x! *. Log;</b>  <b>-r -mx1 "% pathbkp% \ *" -p <u>pass_for_archive</u></b> - die Startzeile des Archivierers.  <u>pass_for_archive</u> - Ihr Passwort f√ºr das Archiv. </li><li>  <b>curl.exe -k -X DELETE "% srvbkp%" --verbose -o. \ stdout</b> - l√∂scht das <b>Zielverzeichnis</b> auf dem Server. </li><li>  <b>curl.exe -k -X MKCOL "% srvbkp%" --verbose -o. \ stdout</b> - erstellt das <b>Zielverzeichnis</b> auf dem Server neu. </li><li>  <b>curl.exe -k -T "% pathtemp% \% full%". 7z "% srvbkp%" / --progress-bar --verbose -o. \ stdout</b> - Curl-Archiv auf den Server hochladen. </li></ul><br>  Wenn Sie also das Skript <b>"full.bat" ausf√ºhren</b> , erhalten Sie die Vollversion Ihrer Dateien im Archiv im Verzeichnis <i>"temp"</i> und dieselbe im Verzeichnis <i>"backup / work"</i> auf dem Server, verschl√ºsselt mit Ihrem Kennwort.  Dies kann einige Zeit dauern und hat Einschr√§nkungen hinsichtlich des Archivvolumens. Die wichtigsten und gleichzeitig t√§glich wechselnden Daten sollten jedoch auf diese Weise archiviert werden. <br><br>  Warum sind sie wichtig und √§ndern sich t√§glich?  Mit dem folgenden Skript <b>"inc.bat"</b> k√∂nnen Sie ge√§nderte Daten in einem von der Vollversion abweichenden inkrementellen Archiv suchen und an den Server senden: <br><br><pre> <code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> filebkp=work <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> pathbkp=..\backup <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> srvbkp=https://user:password@webdav.yandex.ru/backup/<span class="hljs-variable"><span class="hljs-variable">%filebkp%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> pathtemp=..\temp <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> full=<span class="hljs-variable"><span class="hljs-variable">%filebkp%</span></span>-full <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> inc=<span class="hljs-variable"><span class="hljs-variable">%filebkp%</span></span>-inc <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> h=<span class="hljs-variable"><span class="hljs-variable">%TIME:~0,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> m=<span class="hljs-variable"><span class="hljs-variable">%TIME:~3,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> s=<span class="hljs-variable"><span class="hljs-variable">%TIME:~6,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> ms=<span class="hljs-variable"><span class="hljs-variable">%TIME:~9,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> curtime=<span class="hljs-variable"><span class="hljs-variable">%h%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%m%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%s%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> dd=<span class="hljs-variable"><span class="hljs-variable">%DATE:~0,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> mm=<span class="hljs-variable"><span class="hljs-variable">%DATE:~3,2%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> yyyy=<span class="hljs-variable"><span class="hljs-variable">%DATE:~6,4%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> curdate=<span class="hljs-variable"><span class="hljs-variable">%yyyy%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%mm%</span></span>-<span class="hljs-variable"><span class="hljs-variable">%dd%</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> curdatetime=<span class="hljs-variable"><span class="hljs-variable">%curdate%</span></span> <span class="hljs-variable"><span class="hljs-variable">%curtime%</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span>z.exe u "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%full%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z -x!*.log; -u- -up3q3r2x2y2z0w2!"<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%inc%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z "<span class="hljs-variable"><span class="hljs-variable">%pathbkp%</span></span>\*" -ppass_for_archive <span class="hljs-built_in"><span class="hljs-built_in">ren</span></span> "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%inc%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z "<span class="hljs-variable"><span class="hljs-variable">%inc%</span></span> <span class="hljs-variable"><span class="hljs-variable">%curdatetime%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z curl.exe -k -T "<span class="hljs-variable"><span class="hljs-variable">%pathtemp%</span></span>\<span class="hljs-variable"><span class="hljs-variable">%inc%</span></span> <span class="hljs-variable"><span class="hljs-variable">%curdatetime%</span></span>".<span class="hljs-number"><span class="hljs-number">7</span></span>z "<span class="hljs-variable"><span class="hljs-variable">%srvbkp%</span></span>"/ --progress-bar --verbose -o .\stdout</code> </pre><br>  Ich denke, Sie k√∂nnen diese Datei selbst entschl√ºsseln. Mit 7z analysiert das Skript das gesamte Archiv und das Quellverzeichnis im <i>tempor√§ren</i> Verzeichnis, findet die ge√§nderten Dateien, packt sie in ein inkrementelles Archiv, das nach dem aktuellen Datum und der aktuellen Uhrzeit benannt ist, und sendet es an den Server.  Wenn eine vollst√§ndige Sicherung beispielsweise 1 Gigabyte und 3 Minuten dauert, ben√∂tigen die ge√§nderten Dateien normalerweise 10 bis 50 Megabyte und fliegen in wenigen Sekunden zum Server.  Wenn Sie <b>"inc.bat"</b> in den Windows Task Scheduler <b>einf√ºgen</b> , k√∂nnen Sie diesen Vorgang nach einem Zeitplan zu einem f√ºr Sie geeigneten Zeitpunkt <b>ausf√ºhren</b> , <b>sodass</b> Sie ihn vergessen k√∂nnen. <br><br>  Wenn Sie der Meinung sind, dass die Zeit zum Erstellen inkrementeller Kopien zu lang geworden ist, k√∂nnen Sie <b>"full.bat"</b> erneut ausf√ºhren. <b>Dadurch</b> werden alle Verzeichnisse aus vollst√§ndigen und inkrementellen Archiven <b>gel√∂scht</b> und eine neue Version der Vollversion erstellt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de413467/">https://habr.com/ru/post/de413467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de413457/index.html">Virgin Orbit - Neuer Sub-Orbit Booster Market Player</a></li>
<li><a href="../de413459/index.html">Das Talent eines IT-Personalvermittlers - wie unterscheiden sich Entwickler von Handwerkern?</a></li>
<li><a href="../de413461/index.html">ReactOS wurde im Jahr seines 21. Jubil√§ums autark</a></li>
<li><a href="../de413463/index.html">Magento 2 REST API am Beispiel eines einfachen Moduls</a></li>
<li><a href="../de413465/index.html">AMD k√ºndigt 32-Core Threadripper 2 an</a></li>
<li><a href="../de413469/index.html">Ein Ged√§chtnistest, bei dem Laptops get√∂tet werden, ist fast eine Detektivgeschichte</a></li>
<li><a href="../de413471/index.html">Freitag Mini Tomy Fancy Toy Retrospektive</a></li>
<li><a href="../de413473/index.html">Entwicklung eines Touch-Z-Wave-Schalters am Akku mit Leuchttasten</a></li>
<li><a href="../de413479/index.html">Wir schreiben unser Protokoll √ºber UDP</a></li>
<li><a href="../de413481/index.html">Exportieren Sie den Testbaum von JMeter in Text</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>