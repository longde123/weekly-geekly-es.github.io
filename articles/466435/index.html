<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•´ üçÅ üò≠ Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 42. Enrutamiento entre VLAN y SVI üîó üèñÔ∏è ü¶í</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy observamos el enrutamiento entre VLAN y la interfaz del conmutador virtual SVI. Ya nos hemos familiarizado con estos temas en el curso ICND1 y aho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 42. Enrutamiento entre VLAN y SVI</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466435/"> Hoy observamos el enrutamiento entre VLAN y la interfaz del conmutador virtual SVI.  Ya nos hemos familiarizado con estos temas en el curso ICND1 y ahora los trataremos con mayor profundidad.  Estos temas se mencionan en la Secci√≥n 2.0, Tecnolog√≠as de enrutamiento, de ICND2, Subsecciones 2.1a y 2.1b.  Primero observamos los problemas de configuraci√≥n, verificaci√≥n y enrutamiento entre VLAN, luego el concepto de arquitectura de red Router-on-a-Stick (ROAS) y la interfaz del conmutador SVI. <br><br>  Pasemos al programa Packet Tracer y consideremos cu√°l es la interfaz virtual del conmutador SVI.  El diagrama muestra dos redes: un departamento de ventas y un departamento de marketing, cada uno de los cuales tiene su propio interruptor.  De manera predeterminada, las computadoras est√°n conectadas al conmutador a trav√©s de la VLAN1 predeterminada, para que puedan comunicarse entre s√≠ sin problemas. <br><br><img src="https://habrastorage.org/webt/df/gp/ym/dfgpymzyjf8ai0gpqna6iezvqwk.jpeg"><br><br>  Pero si la computadora n. ¬∞ 1 en el departamento de ventas desea comunicarse con la computadora n. ¬∞ 1 en el departamento de marketing, no podr√° hacerlo porque las redes no est√°n conectadas.  T√©cnicamente, puede conectar ambos conmutadores por cable, pero las computadoras a√∫n no podr√°n comunicarse, porque son partes de diferentes redes con diferentes rangos de direcciones IP: 192.168.10.0/24 y 192.168.20.0/24. <a name="habracut"></a><br><br>  Es posible establecer comunicaci√≥n entre estas dos redes si coloca entre los dispositivos de conmutador del OSI de tercer nivel, un enrutador, y conecta los conmutadores y el enrutador con cables. <br><br><img src="https://habrastorage.org/webt/gf/lk/ia/gflkiawp5nctwcrocn1m7atuzk0.jpeg"><br><br>  Por lo general, en una oficina no tiene dos conmutadores diferentes para dos redes, principalmente porque los conmutadores de Cisco son bastante caros, por lo que debe administrar un conmutador para 24 y 48 puertos.  Supongamos que tenemos un conmutador de 48 puertos. <br><br><img src="https://habrastorage.org/webt/wv/8l/fg/wv8lfgunfgblsrsdpwqmhxmlnoo.jpeg"><br><br>  Creamos diferentes VLAN. Deje que el color de los puertos en el diagrama no le moleste, los dibujar√© en negro.  La red azul es VLAN10 y la roja es VLAN20.  Si hacemos esto, entonces las computadoras de diferentes redes a√∫n no podr√°n comunicarse entre s√≠, porque el conmutador es un dispositivo OSI de nivel 2.  Necesitamos un dispositivo de nivel 3 para interconectarnos. <br><br>  Puede resolver este problema utilizando un enrutador, uno de los cuales estar√° conectado a uno de los puertos de la red azul VLAN10 y el otro puerto, a uno de los puertos de la red roja VLAN20.  Al mismo tiempo, podemos organizar f√°cilmente la comunicaci√≥n entre computadoras de diferentes redes a trav√©s de este enrutador. <br><br><img src="https://habrastorage.org/webt/zb/em/wn/zbemwnondyrrqvdtdpco0dhhl-g.jpeg"><br><br>  Con este esquema, estamos utilizando irracionalmente interfaces de enrutador, por lo que es mucho m√°s eficiente usar otra forma de interconexi√≥n llamada Router-on-a-Stick.  M√°s tarde volveremos a √©l, pero por ahora consideraremos la interfaz virtual del conmutador SVI.  Como sabe, el conmutador "listo para usar" todos los puertos est√°n configurados de forma predeterminada en VLAN1, y el conmutador tiene una interfaz virtual para estas redes: la interfaz VLAN1.  ¬øQu√© es una interfaz virtual? <br><br>  Si usted, como administrador de red, configura el conmutador y luego utiliza su computadora, que est√° conectada por cable al puerto de consola del conmutador.  El problema es que para usar la consola, debe estar al lado del interruptor, a una distancia de no m√°s de la longitud del cable.  Suponga que es un administrador de red grande y desea configurar el dispositivo de forma remota.  Sin embargo, el conmutador es un dispositivo del segundo nivel de la red, por lo que no puede tener una direcci√≥n IP y no hay forma de acceder a √©l a trav√©s de la red, ya que es imposible asignar direcciones IP a las interfaces f√≠sicas del conmutador.  ¬øC√≥mo se puede resolver este problema? <br>  Para hacer esto, necesitamos crear una interfaz virtual para VLAN1 y asignarle una direcci√≥n IP 192.168.1.1 o cualquier otra direcci√≥n.  Luego, la computadora del administrador de red que dibuje con la direcci√≥n IP 192.168.1.10 podr√° conectarse a esta interfaz virtual con un interruptor a trav√©s de Telnet o SSH.  Esta caracter√≠stica existe para la VLAN1 de manera predeterminada. <br><br><img src="https://habrastorage.org/webt/e9/ra/mp/e9rampetqlahniqxfzfljf9wyhs.jpeg"><br><br>  Sin embargo, la red azul PC1 pertenece a VLAN10, y la interfaz virtual pertenece a VLAN1, por lo que la computadora no puede comunicarse con la interfaz VLAN1, ya que pertenece a otra red.  En este caso, puede crear una interfaz virtual para VLAN10 y crear la misma interfaz para VLAN20.  Luego, la computadora PC1 de la red azul y la computadora PC1 de la red roja pueden comunicarse de manera remota con el conmutador a trav√©s de interfaces virtuales; para esto solo necesita asignar direcciones IP a estas interfaces en los rangos de direcciones VLAN10 y VLAN20. <br><br>  Por lo tanto, para proporcionar acceso remoto de cualquier dispositivo al conmutador, debe crear una interfaz virtual con el mismo n√∫mero de VLAN al que pertenece este dispositivo, por ejemplo, crear una interfaz virtual VLAN20 para una computadora desde VLAN20, etc. <br><br>  Al analizar las VLAN, mencionamos la capa 2 y la capa 3 del modelo OSI.  Para entender la diferencia entre ellos, utilizamos Packet Tracer. <br><br><img src="https://habrastorage.org/webt/pc/8t/sf/pc8tsfbggxpcmkkq0uon_imdlue.jpeg"><br><br>  Alojo un dispositivo de nivel 2: un conmutador y agrego algunas PC de usuario final.  La PC0 izquierda est√° en VLAN10, y la PC1 derecha est√° en VLAN20.  Luego crear√© una red conectando computadoras al conmutador.  Ambas computadoras deben tener sus propias direcciones IP, as√≠ que entro en su configuraci√≥n de red y asigno a PC0 la direcci√≥n 198.168.10.1 y la m√°scara de subred 255.255.255.0.  No uso una puerta de enlace por ahora, as√≠ que dejo la configuraci√≥n predeterminada.  Hago lo mismo con PC1, asign√°ndole la direcci√≥n 198.168.20.1 y la m√°scara de subred 255.255.255.0. <br>  Ahora estoy haciendo ping desde PC0 a una computadora con la direcci√≥n 198.168.20.1.  De las lecciones anteriores, debes saber que esto no funcionar√°.  A pesar de que ambas PC est√°n conectadas a las interfaces predeterminadas del switch VLAN1, todav√≠a no pueden comunicarse, porque tienen direcciones IP que pertenecen a diferentes rangos de direcciones de red: VLAN10 tiene un rango de 192.168.10.0/0 y VLAN20 tiene 192.168.20.0 / 0.  Es decir, f√≠sicamente las computadoras pueden comunicarse entre s√≠, pero l√≥gicamente, no. <br><br>  Entro en la consola del conmutador y cambio la configuraci√≥n de VLAN.  Para hacer esto, llamo a la interfaz f0 / 1 y escribo los comandos de acceso a modo switchport y switchport access vlan10, despu√©s de lo cual el sistema mostrar√° un mensaje de que dicha red no existe y se crear√°.  A continuaci√≥n, ingresar√© el comando show vlan brief, y puede ver que hemos creado una red VLAN10.  Luego ingreso el comando show ip interface brief, y vemos que al final de la lista de interfaces tenemos la interfaz virtual VLAN1 por defecto, esto es SVI.  √âl est√° en un estado administrativamente bajo. <br>  Ahora intentemos crear una interfaz virtual para VLAN10.  Vemos que el conmutador no ten√≠a una red VLAN10 y, por lo tanto, lo cre√≥, este es el segundo nivel del modelo OSI.  La interfaz virtual para VLAN10 es el Nivel 3, y debe usar el comando int vlan10 para crearlo.  Despu√©s de eso, el sistema mostrar√° un mensaje que indica que la interfaz VLAN10 ha cambiado de estado a "activo", mientras que el protocolo lineal de la interfaz VLAN10 tambi√©n est√° activado. <br><br>  Si vuelve a ingresar el comando show int brief, est√° claro que acabamos de obtener la interfaz VLAN10 creada, que est√° en estado activo.  Si creamos un SVI, entonces, por defecto, estar√° en el estado "activado".  Recuerde: la interfaz para VLAN1 est√° deshabilitada de manera predeterminada, pero cuando creamos otra interfaz de VLAN virtual, estar√° activada. <br><br><img src="https://habrastorage.org/webt/xr/ic/yl/xricylmwm336r4_v_sw-y05sclg.jpeg"><br><br>  Como puede ver, no hay VLAN20 en la base de datos de VLAN, por lo que lo crear√© con el comando int vlan 20. Ver√° que estoy en el modo de subcomando de esta interfaz.  Puedo ingresar el comando de apagado para deshabilitar este SVI, o escribir no shut si quiero dejarlo en el estado habilitado.  Miremos la lista de interfaces nuevamente.  Como puede ver, hemos creado autom√°ticamente una red VLAN20.  La VLAN10 creada anteriormente est√° en estado activo, no hay problemas con ella.  Pero ahora, cuando cre√© VLAN20, apareci√≥ en el estado desconectado.  Este es un tipo de problema, por lo que debemos descubrir por qu√© √©l y su protocolo correspondiente est√°n en estado inactivo. <br><br>  Resulta que la interfaz VLAN20 est√° deshabilitada porque todav√≠a no tenemos una red VLAN20.  Por lo tanto, salgamos de la configuraci√≥n de la interfaz y creemos esta red.  Recuerde que al crear un elemento de una estructura de nivel 3 del modelo OSI, use el comando int vlan 20, y para crear un elemento de estructura de nivel 2 simplemente use el comando vlan 20. Despu√©s de crear esta red, el sistema muestra un mensaje de que la interfaz VLAN20 ahora ha cambiado el estado a arriba.  Tambi√©n puede ver que el sistema emite sugerencias a nivel de subcomandos como Switch (config-vlan) # en lugar de Switch (config) #. <br>  Intentemos ahora cambiar el nombre de la red que creamos.  Si creamos una red VLAN10, el sistema por defecto le da el mismo nombre: VLAN0010.  Si queremos cambiarlo, use el comando de nombre VENTAS.  Luego, usando el comando show vlan brief, observamos la base de datos de VLAN y vemos que la red VLAN20 se ha convertido en una red de VENTAS. <br><br>  Si ahora mira la lista de interfaces, puede ver que la interfaz VLAN20 ha cambiado su estado a Arriba porque ahora la base de datos de VLAN contiene una red que corresponde a esta interfaz. <br><br>  Sin embargo, ver√° que el protocolo de este puerto todav√≠a est√° inactivo y est√° en estado inactivo.  Esto se debe a que no "ve" ning√∫n tr√°fico en la red VLAN20.  ¬øPor qu√© no ve este tr√°fico?  Porque no hay ning√∫n puerto conectado a la red VLAN20.  Entonces, necesitamos conectarle un puerto de trabajo.  En este caso, solo los dispositivos de conexi√≥n de los puertos f0 / 1 y f0 / 2 est√°n activos. <br><br><img src="https://habrastorage.org/webt/1q/ra/te/1qrateol8sltkg469nmalbiruiu.jpeg"><br><br>  Por lo tanto, usando el comando int f0 / 2, entro en el modo de subcomando de esta interfaz e ingreso los comandos de acceso a modo de switchport y acceso a switchport vlan20.  Despu√©s de eso, el sistema informa que el protocolo de l√≠nea de interfaz VLAN20 ha cambiado de estado a activo.  Lo mismo se puede ver con el comando show int brief: ambos elementos, la interfaz y su protocolo est√°n habilitados.  Por lo tanto, si tiene un problema con una interfaz VLAN deshabilitada, primero mire la base de datos de VLAN y aseg√∫rese de que haya una red que coincida con esta interfaz.  Si ve un protocolo deshabilitado, aseg√∫rese de que haya tr√°fico activo en la red, es decir, si hay alg√∫n puerto conectado a esta red. <br><br>  Si observamos las otras interfaces del conmutador, por ejemplo, f0 / 5, veremos que el protocolo para esta interfaz est√° en estado inactivo, porque no se observa tr√°fico en esta interfaz.  De manera predeterminada, el puerto est√° deshabilitado si no hay dispositivos conectados y el protocolo no est√° activo, porque no hay tr√°fico en este puerto.  Entonces, si ve que el SVI est√° en el estado inactivo, primero debe verificar las cosas mencionadas anteriormente. <br>  Ahora que nuestras computadoras tienen direcciones IP y los puertos del conmutador est√°n configurados, verificaremos si el ping de PC0 pasa a PC1.  Por supuesto, no puede hacer ping en la computadora correcta, porque los dispositivos todav√≠a est√°n en diferentes redes VLAN10 y VLAN20. <br><br>  Para resolver este problema, colocar√© un dispositivo en el circuito al que se le puede asignar una direcci√≥n IP: un enrutador, y conectar√© una de sus interfaces al puerto del conmutador f0 / 3 con un cable, y conectar√© la otra interfaz del enrutador con el puerto f0 / 4 con un segundo cable.  Esta es la conexi√≥n est√°ndar para tales casos: todo funcionar√° si conecto una interfaz a VLAN10 y la otra a VLAN20.  Para no perder el tiempo, configur√© previamente los puertos del enrutador asign√°ndoles direcciones IP.  Para ver esto, entrar√© en la configuraci√≥n de la consola del enrutador e ingresar√© el comando show ip int brief.  Ahora har√© los cambios necesarios ingresando los comandos config terminal, int f0 / 3, switchport mode access y switchport access vlan 10. De la misma manera, configurar√© la interfaz f0 / 4 para que funcione con la red VLAN20. <br><br>  Veamos si el ping pasar√° ahora.  Puede ver que los puertos del conmutador tardan un poco en llegar al estado de omisi√≥n del tr√°fico: los marcadores naranjas pronto se volver√°n verdes.  Entro en ping 192.168.20.1 en la l√≠nea de comando de PC0, pero el ping falla nuevamente.  La raz√≥n es mi error, porque no cre√© una puerta de enlace en la configuraci√≥n de red de las computadoras.  Por lo tanto, entro en el panel de configuraci√≥n y especifico la direcci√≥n de la puerta de enlace para la primera computadora 192.168.10.10, y para la segunda - 192.168.20.10. <br><br><img src="https://habrastorage.org/webt/qk/xz/me/qkxzme8udtdgopncrtuz_bfmu8e.jpeg"><br><br>  Despu√©s de esto, el ping es exitoso, y ahora PC0 y PC1 pueden comunicarse entre s√≠.  Sin embargo, como dije, con una topolog√≠a de red de este tipo, estamos desperdiciando las capacidades de los puertos del enrutador; por lo general, el enrutador tiene solo dos puertos, por lo que es criminal usarlos de esta manera.  Para utilizar m√°s eficazmente las capacidades del enrutador, se utiliza el concepto de Router-on-s-Stick, o "enrutador en un dispositivo, un enrutador en una unidad flash".  Volvamos a una de las diapositivas anteriores. <br><br><img src="https://habrastorage.org/webt/sp/9c/hc/sp9chcaueg3swye8nwdjsfiehds.jpeg"><br><br>  Si trabajamos con el tercer nivel del modelo OSI, la palabra clave en los comandos de configuraci√≥n ser√° "interfaz".  Pone el sistema en modo de subcomando de interfaz, donde puede especificar la configuraci√≥n sin apagado o apagado y verificar el resultado de la configuraci√≥n de la interfaz utilizando el comando show ip interface brief. <br><br>  Si trabajamos con el nivel 2, y en el caso de un conmutador no es m√°s que una base de datos VLAN, entonces el comando para ingresar la configuraci√≥n de red virtual no contiene la palabra clave "interfaz", sino que comienza con la palabra "vlan" con el n√∫mero correspondiente redes, por ejemplo, vlan 10. Despu√©s de ingresar al modo de subcomando, puede nombrar la red creada con el comando de nombre VLAN10.  Use el comando show vlan brief para verificar su configuraci√≥n. <br><br>  Para garantizar el enrutamiento entre dos redes, como ya se mencion√≥, conectamos los conmutadores de estas redes con un enrutador que est√° conectado a una red externa: Internet. <br><br><img src="https://habrastorage.org/webt/wq/81/ei/wq81eiwsldjufkfj_mn9nf8dut4.jpeg"><br><br>  Con este esquema, la computadora No. 1 puede acceder a Internet o comunicarse con computadoras en otra red.  Es decir, si tenemos dos conmutadores diferentes, cada uno para su propia red, entonces para la comunicaci√≥n entre ellos necesitar√° un dispositivo del tercer nivel del modelo OSI. <br><br>  Como dije, generalmente en la oficina se usa un interruptor, dividido por la mitad usando VLAN.  En el diagrama, designar√© dos VLAN diferentes: VENTAS azules y MARKETING rojo.  Para usar este m√©todo, puede usar dos interfaces de enrutador diferentes o una interfaz f0 / 0, en el diagrama es una columna azul entre el enrutador y el conmutador.  Este concepto se llama subinterfaz: la interfaz f0 / 0.10 se asigna para servir a la red azul y f0 / 0.20 para la red roja. <br><br><img src="https://habrastorage.org/webt/e3/wg/s7/e3wgs7t7m8s11tk0hmyabgyrsv4.jpeg"><br><br>  Supongamos que todo esto azul est√° conectado a una interfaz del conmutador f0 / 1, las computadoras de la VLAN azul est√°n conectadas a las interfaces f0 / 2 y f0 / 3, y las computadoras de la red roja est√°n conectadas a f0 / 4 y f0 / 5.  En este caso, f0 / 1 debe ser un puerto troncal y se debe crear una troncal entre el conmutador y el enrutador, porque necesitamos todo el tr√°fico de VLAN10 y VLAN20 para ir al enrutador.  En este caso, solo podemos usar una interfaz de enrutador, que se divide en dos subinterfaces o subinterfaces. <br><br>  Las subinterfaces se crean virtualmente en el enrutador con la adici√≥n de un punto en la designaci√≥n de la interfaz f√≠sica.  A la subinterfaz f0 / 0.10 asignamos una direcci√≥n IP del rango de direcciones de VLAN10, y f0 / 0.20 recibe una direcci√≥n IP del rango de direcciones de la red VLAN20.  Observo que los n√∫meros despu√©s del punto en la designaci√≥n de subinterfaz no tienen que coincidir con el n√∫mero de VLAN.  Utilizo n√∫meros coincidentes solo para que entiendas mejor este concepto.  Entonces, si el examen presenta una pregunta sobre alg√∫n tipo de problema y cree que fue causado por la falta de coincidencia de los n√∫meros de VLAN y las subinterfaces, ya que le ense√±aron que los n√∫meros de red deben coincidir, ¬°se equivocar√°!  Una vez m√°s, observo: el n√∫mero de la subinterfaz y la VLAN correspondiente pueden no coincidir, esto es normal, por lo que la causa de los problemas no radica en esto. <br>  Entonces, cuando la computadora n. ¬∞ 1 de la red azul env√≠a tr√°fico, llega al puerto troncal del conmutador, donde se encapsula utilizando el protocolo .1q, es decir, recibe la etiqueta VLAN10 y se env√≠a al enrutador a trav√©s del enlace troncal.  El tr√°fico VLAN20 se etiqueta de la misma manera.  Pero el problema es que, por defecto, el enrutador no entiende el lenguaje .1q.  Por lo tanto, debemos entrar en la configuraci√≥n del enrutador e indicar a las subinterfaces que la encapsulaci√≥n usa .1q.  Una vez hecho esto, les asignamos direcciones IP de los rangos de direcciones correspondientes de las redes VLAN10 y VLAN20.  Tan pronto como hagamos esto, se establecer√° la comunicaci√≥n entre las redes. <br><br>  Pasemos a Packet Tracer, donde primero elimino los SVI creados anteriormente, ingresando al modo de configuraci√≥n de interruptor global y aplicando los comandos no int vlan 10 y no int vlan 20. Si observa la lista de interfaces despu√©s de eso, puede ver que las interfaces VLAN10 y VLAN20 han desaparecido.  En el segundo nivel del modelo OSI, estas redes todav√≠a est√°n en la base de datos de VLAN, ya que queremos usarlas, pero sin las interfaces virtuales correspondientes. <br><br>  Luego, remuevo los 2 cables que conectan el conmutador y el enrutador, y conecto el conmutador y el enrutador con un solo cable, ya que voy a usar solo un puerto del enrutador f0 / 0. <br><br><img src="https://habrastorage.org/webt/s9/mm/ty/s9mmtyamqn-sf-jb1bk_d6n0tdq.jpeg"><br><br>  Ahora entro en la configuraci√≥n del enrutador, selecciono la interfaz f0 / 0 e ingreso el comando sin direcci√≥n IP (sin una direcci√≥n IP).  Puede ver una lista de interfaces donde puede ver que la direcci√≥n IP para la interfaz FastEthernet0 / 0 no est√° asignada, como para la interfaz Vlan1, y la direcci√≥n IP 192.168.20.10 se usa para la interfaz FastEthernet0 / 1. <br><br><img src="https://habrastorage.org/webt/gj/iz/og/gjizog_0wuadcf617dceupnaade.jpeg"><br><br>  Para utilizar el m√©todo de "enrutador en un palo", la interfaz f√≠sica no debe estar en modo apagado.  Como puede ver, FastEthernet0 / 0 est√° en modo manual, as√≠ que todo est√° bien.  Esto es lo primero que debe asegurarse antes de usar Router-on-s-Stick, el segundo es que esta interfaz no tiene una direcci√≥n IP. <br><br>  Luego, escribo int f0 / 0 para ingresar al modo de subcomando de la interfaz e ingresar el comando f0 / 0.10 para crear la subinterfaz .10.  Si ahora mira la lista de interfaces, puede ver que el sistema ha creado una nueva interfaz virtual FastEthernet0 / 0.10, que est√° en estado activado. <br><br><img src="https://habrastorage.org/webt/ug/rs/oy/ugrsoyfd-abo7yzblfem-llzmb0.jpeg"><br><br>  Un punto en el nombre indica que es una interfaz virtual, no f√≠sica.  A continuaci√≥n, volvemos al modo de configuraci√≥n global y creamos la subinterfaz f0 / 0.20.  Ahora pasemos a la configuraci√≥n de la nueva subinterfaz f0 / 0.10, utilizando el comando int f0 / 0.10.  Ver√° que la l√≠nea de comandos ha tomado la forma de subcomandos de enrutador (config-subif) #.  Ahora puedo asignar una direcci√≥n IP a esta interfaz con la direcci√≥n IP 192.168.10.10 255.255.255.0 comando.  Si presiono "Enter", el sistema mostrar√° un mensaje: "Configurar el enrutamiento IP para la LAN de la subinterfaz solo es posible si esta interfaz ya est√° configurada como parte de IEEE 802.10, 802.1q o ISL vLAN".  Por lo tanto, necesito ingresar el comando para usar la encapsulaci√≥n usando el protocolo .1q para una VLAN espec√≠fica, para lo cual escribo encapsulaci√≥n dot1Q 10, donde 10 es el n√∫mero de la VLAN. <br><br><img src="https://habrastorage.org/webt/om/us/c7/omusc7o_mydv1t5iqywmscxek60.jpeg"><br><br>  Ahora ingresar√© la direcci√≥n IP deseada y el sistema la aceptar√°.        f0/0.20 ‚Äì         IP- 192.168.20.10.  ,   IP-    f0/1,         no ip address.         f0/0.20,    ,    . <br><br>       PC0  ,      PC1.   ,     -,    .    ,  int f0/3     switchport mode trunk. ,        ,     VLAN10  VLAN20.    ,   ,  ,       !   ,   Router-on-a-Stick.     -    ,      .  ,     . <br><br> ,       ,         VLAN1.    ¬´¬ª  .     IP- 192.168.30.1,   255.255.255.0    192.168.30.10.  ,    PC2,  VLAN1,      VLAN10? <br><br><img src="https://habrastorage.org/webt/la/ge/_e/lage_e7xfreaxgjnfjb9ma_ab-s.jpeg"><br><br>     native VLAN,       ,      ?      2  ‚Äì   VLAN10,   VLAN20. <br><br><img src="https://habrastorage.org/webt/pz/oj/up/pzojuplzc-d_b1hy-0dhy-m_xhi.jpeg"><br><br>  2    .  ‚Äì          int f0/0.      ip address 192.168.30.10 255.255.255.0,       IP-.         PC2,      VLAN,        f0/0       . <br><br>   ,     192.168.10.1   PC2.         ,         PC0.  ,    ,   ,   .     ,       ‚Äì  Fa0/4,      PC2,     VLAN 20 SALES. <br><br><img src="https://habrastorage.org/webt/f3/t-/2y/f3t-2yzbnzlg0jt5ewlgpyduudw.jpeg"><br><br>         int f0/4, switchport mode access  switchport access vlan 1.   PC0  ,    ,       ,  ,       ,        PC2  . <br><br> ,    Native VLAN      IP-.       ‚Äì    IP-  f0/0 ‚Äì    .        ,   f0/0.30.            .1q      ¬´native¬ª: encapsulation dot1Q 1 native.       ,      native VLAN,     .       IP- 192.168.30.10 255.255.255.0    no shutdown. <br><br>  ,    .      PC2  ping 192.168.10.1,   ,   . <br><br>      .     ,     ,       3 .    ,    3-   OSI. <br><br><img src="https://habrastorage.org/webt/k3/2p/is/k32pisnmdl-kmjnaidfcpacxtdw.jpeg"><br><br>  3-        ,    VLAN. ,          ,  ,    Inter-VLAN    3- ,          .   3-       2-     3- . <br>      .      3   ‚Äì     ,  .    VLAN10  VLAN20       SVI.    ,       VLAN,      ,            VLAN     .      SVI     IP-     VLAN. <br><br><img src="https://habrastorage.org/webt/nb/3f/fx/nb3ffx8m-jzciutqgpurd5zsqza.jpeg"><br><br>     SVI  ,       .     ,       SVI   ROAS,    .    3-      SVI. <br><br>   Packet Tracer.            Cisco 3- ,         VLAN:  f0/1   VLAN10,  f0/2   VLAN20,       .   , VLAN1  PC2,    . <br><br><img src="https://habrastorage.org/webt/f4/wx/c4/f4wxc474bwjd_ozhdhtwziztxtu.jpeg"><br><br>    ,    SVI   VLAN1,     administratively down. <br><br>    3- ,      .     show ip route      ,    , , IP-   . <br><br><img src="https://habrastorage.org/webt/dy/kc/5l/dykc5lba_x3itqmqokxx04e6zug.jpeg"><br><br>            ip routing,      .     show ip rout,  ,      ,      SVI     VLAN10  VLAN20. <br><br><img src="https://habrastorage.org/webt/yr/nw/un/yrnwunrbm8cvh05hpvhn-bikova.jpeg"><br><br>     Packet Tracer   SVI.     ,    int vlan 10,   ip address 192.168.10.10 255.255.255.0  no shutdown.      , ,     IP-      VLAN10. <br><br>      int vlan 20, ip address 192.168.20.10 255.255.255.0  no shutdown.  ,      PC0  PC1   192.168.20.1.  ,  VLAN10        VLAN20,     3-       Inter-VLAN. <br><br>        VLAN1,          int vlan 1, n shutdown     IP-  ip address 192.168.30.10 255.255.255.0,   n shutdown.       PC2. <br><br>        , ,       ,            VLAN.      f0/4    VLAN40.    f0/4  IP-     VLAN40. <br><br><img src="https://habrastorage.org/webt/ju/vs/5z/juvs5zhe5kefbf-astocgzygffw.jpeg"><br><br>    3-      ,    access-,      VLAN. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por lo tanto, la interconexi√≥n entre VLAN se puede organizar de dos maneras: usando un esquema ROAS o un switch Cisco Layer 3. </font><font style="vertical-align: inherit;">Recuerde que en el segundo caso, necesita configurar SVI, y en el primer caso, esto no es necesario.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Z7WM7wFTWrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?  <b>Ap√≥yenos</b> haciendo un pedido o recomend√°ndolo a sus amigos, un <b>descuento del 30% para los usuarios de Habr en un an√°logo √∫nico de servidores de nivel de entrada que inventamos para usted:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">toda la verdad sobre VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de $ 20 o c√≥mo dividir el servidor?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/466435/">https://habr.com/ru/post/466435/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../466425/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 37. STP: selecci√≥n de puente ra√≠z, caracter√≠sticas de protecci√≥n PortFast y BPDU. Parte 2</a></li>
<li><a href="../466427/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 38. Protocolo EtherChannel para OSI Layer 2</a></li>
<li><a href="../466429/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 39. Pilas y agregaci√≥n del chasis del conmutador</a></li>
<li><a href="../466431/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 40. Est√°ndar 802.1X y familia de protocolos AAA</a></li>
<li><a href="../466433/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 41. DHCP Snooping y VLAN nativa no predeterminada</a></li>
<li><a href="../466437/index.html">Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 43. Protocolos de enrutamiento Vector de distancia y estado de enlace</a></li>
<li><a href="../466439/index.html">Compru√©belo usted mismo: ¬øcu√°ntas preguntas puede responder ChGK?</a></li>
<li><a href="../466441/index.html">C√≥digo de error de Python: 10 errores m√°s comunes que cometen los desarrolladores</a></li>
<li><a href="../466443/index.html">ShIoTiny y el mundo: sensores anal√≥gicos o ADC para los m√°s peque√±os</a></li>
<li><a href="../466445/index.html">Ataques entre fideicomisos entre dominios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>