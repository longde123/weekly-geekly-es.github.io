<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë´ üòë üßëüèø VariFlight ADS-B - Flightradar en chino ‚ùì üåá üß§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Flightradar, de alguna manera, se ha convertido en un nombre familiar, de hecho, reemplaza la noci√≥n de "un sitio donde puedes ver aviones en tiempo r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VariFlight ADS-B - Flightradar en chino</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423989/">  <b>Flightradar,</b> de alguna manera, se ha convertido en un nombre familiar, de hecho, reemplaza la noci√≥n de <i>"un sitio donde puedes ver aviones en tiempo real"</i> .  Aunque, de hecho, hay varios sitios tan grandes y proyectos peque√±os a√∫n m√°s, a menudo puede ver en los medios las noticias sobre el evento de aviaci√≥n con la frase "seg√∫n el sitio web de Flightradar" y una captura de pantalla de otro recurso. <br><br>  Hay una serie de publicaciones sobre Habr√© sobre radarporting en las cuales o en comentarios a los que no solo se menciona Flightradar.  En esta publicaci√≥n, hablar√© sobre el servicio chino para rastrear el tr√°fico a√©reo y su receptor ADSB <i>chino</i> , que env√≠an gratis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ye/_h/7a/ye_h7atxvw-x1mhbzgc0dcj-0zm.jpeg"></div><br><a name="habracut"></a><br>  Radarspotting es una actividad lo suficientemente interesante como para cautivar a un n√∫mero notable de personas.  Varios art√≠culos sobre Habr√© describen bastante bien la esencia de la lecci√≥n: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sencillo y radares, o estoy enfermo con la aviaci√≥n</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Paso a paso: transmitir datos a flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flightradar24: ¬øc√≥mo funciona?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo rastrear objetos voladores identificados con la Raspberry Pi</a> </li><li>  <abbr title="recuper√≥ un lugar para un art√≠culo en borrador y desde donde se extrajeron algunas ilustraciones de este art√≠culo">Estaci√≥n de radares baratos y f√°ciles</abbr> </li></ul><br>  El receptor recibe, transmitido por aviones, una se√±al a una frecuencia de 1090 MHz, descifra y transmite en alg√∫n formato.  Por ejemplo, as√≠: <br><br><pre><code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"updatetime"</span></span>:<span class="hljs-number"><span class="hljs-number">1537902225</span></span>,<span class="hljs-attr"><span class="hljs-attr">"UTC Time"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-09-25 19:03:45"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"anum"</span></span>:<span class="hljs-string"><span class="hljs-string">"TCETM"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"fnum"</span></span>:<span class="hljs-string"><span class="hljs-string">"KKK6944"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"position"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"long"</span></span>:<span class="hljs-number"><span class="hljs-number">30.66455078125</span></span>,<span class="hljs-attr"><span class="hljs-attr">"lat"</span></span>:<span class="hljs-number"><span class="hljs-number">39.351677</span></span>},<span class="hljs-attr"><span class="hljs-attr">"height"</span></span>:<span class="hljs-number"><span class="hljs-number">10005.06</span></span>,<span class="hljs-attr"><span class="hljs-attr">"speed"</span></span>:<span class="hljs-number"><span class="hljs-number">888.96</span></span>,<span class="hljs-attr"><span class="hljs-attr">"angle"</span></span>:<span class="hljs-number"><span class="hljs-number">130</span></span>},</code> </pre> <br>  Esta actividad no solo es interesante, sino que se ha convertido en la actividad de varias empresas: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flightradar24</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flightaware</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Planefinder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">AirNav Network Radarbox</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Red Avdelphi</a> </li></ul><br>  Pocas personas piensan c√≥mo se ganan la vida y c√≥mo funcionan servicios como Flightradar.  Un ejemplo de esto se puede ver en Wikipedia " <i>servicio web p√∫blico que permite el monitoreo en tiempo real de la posici√≥n de la aeronave en el aire</i> ".  El art√≠culo en s√≠ y el titular dan una falsa impresi√≥n de Flightradar como una especie de servicio de entretenimiento. <br><br>  De hecho, habiendo surgido como un pasatiempo a principios de la d√©cada de 2000, estas compa√±√≠as alcanzaron r√°pidamente un per√≠odo de recuperaci√≥n y aumentaron sus ingresos cada a√±o.  Por ejemplo, Flightaware, fundada en 2005, se volvi√≥ rentable ya en 2006, ganando m√°s de $ 1 mill√≥n en los primeros 18 meses y mostrando un crecimiento anual de 40-75%.  Seg√∫n algunos recursos, los ingresos anuales de Flightaware superan los $ 9 millones y los de Flightradar m√°s de $ 2 millones. <br><br>  Si en Europa hay Flightradar, en Estados Unidos, Flightaware, en China hay VariFlight.  Del mismo modo, el servicio comercializa estados de vuelo, estad√≠sticas y archivos de vuelo, realiza an√°lisis y pron√≥sticos para clientes, organizaciones y clientes individuales. <br><br>  VariFlight propias palabras: <br><br><pre> <code class="plaintext hljs"> &lt;meta name="description" content="VariFlight         .    ,      ,    .    ,     ,         ."&gt; &lt;meta name="keywords" content=" ,   ,  ,  ,  ,  ,  ,  ,  ,   ,  ,  ,  ,  ,  "&gt; &lt;meta property="og:url" content="http://www.variflight.com/ru/"&gt;</code> </pre> <br>  Las empresas intercambian datos, tanto los suyos como los obtenidos, por ejemplo, de la Administraci√≥n Federal de Aviaci√≥n de EE. UU.  Pero puede obtener la mayor ganancia de sus propios receptores, cuya operaci√≥n no le cuesta nada a la compa√±√≠a.  son instalados por entusiastas de radarspotting, solo necesita gastar dinero en fabricaci√≥n y env√≠o.  Por lo tanto, desde alg√∫n punto en adelante, las compa√±√≠as comenzaron a vender y distribuir sus receptores de forma gratuita.  Gratis para donde la compa√±√≠a a√∫n no tiene cobertura con su red de receptores y donde no hay datos. <br><br>  El costo de los datos justifica la distribuci√≥n "gratuita" de los receptores (preste atenci√≥n al texto debajo de la tabla; el receptor sigue siendo propiedad de Flightaware, formalmente arrendado de forma gratuita). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/_s/fo/xt_sfoqxfdfzr7yl8cex0omn2eu.png"></div><br>  Para 2015, la red Flightradar ten√≠a m√°s de 8,000 receptores activos, y Flightaware ten√≠a alrededor de 4,500, pero Flightaware comenz√≥ a distribuir los receptores dos a√±os antes y Flightradar ya hab√≠a estado construyendo su red durante casi diez a√±os.  Actualmente hay m√°s de 15,000 receptores en la red de Flightaware.  El software del receptor Flightaware se mejora constantemente y actualmente funciona con datos FMSDATA, FMSWX. <br><br>  Mapa de ubicaci√≥n de los receptores en marzo de 2017: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ec7/7cb/81b/ec77cb81ba574463aacc88bbbe2180e2.png" alt="imagen"></div><br>  El naranja es para receptores Flightaware gratuitos, el blanco para receptores caseros, el rojo para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PlanePlotter</a> pagado. <br><br>  Esta es la cobertura de la red de receptores de Flightaware en diciembre de 2015: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ib/rc/mv/ibrcmvzeioalsr24lc9rrqu9hmi.png"></div><br>  Y en marzo de 2017, la red de receptores de Flightaware ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estado actual en el sitio externo</a> ) proporcion√≥ dicha cobertura: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/fd7/44e/65d/fd744e65db8e464c8466c7d0618cfe6f.png" alt="imagen" width="600"></div><br>  No siempre es posible instalar receptores, por lo que en 2018 los datos de los receptores terrestres se complementan con los datos de los sat√©lites Iridium NEXT: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Por primera vez ser√° posible monitorear continuamente aeronaves en cualquier parte del mundo"</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e5/kj/4i/e5kj4iu27uca4hwemcagg3mte4c.gif"></div><br>  Color gris-azul: datos de los sat√©lites Iridium NEXT.  Verde y amarillo (el √∫ltimo es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MLAT</a> ): datos de receptores terrestres. <br><br>  El radio de la zona que cubre una estaci√≥n est√° limitado por la curvatura de la superficie de la Tierra y los obst√°culos que cubren el horizonte, y no es m√°s de 450 km en el mejor de los casos.  Y en el "caso habitual" de unos 150 km.  Con un raro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paso troposf√©rico</a> para esta frecuencia de radio, es posible mirar m√°s all√° del horizonte.  Un ejemplo de las zonas de m√°xima cobertura de las estaciones que transmiten en <abbr title="planeradar.ru/virtualradar/">Planeradar.ru:</abbr> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/d6/hg/u2/d6hgu2xf1c6ypsg6tn3knl-fc8c.png"></div><br>  Los picos agudos en los diagramas de recepci√≥n son solo casos aislados de recepci√≥n a distancias muy grandes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ln/ux/ly/lnuxlyvtt9lgjwqh8s4drhq_wua.jpeg"></div><br>  La animaci√≥n a continuaci√≥n muestra qu√© causa la necesidad de enviar receptores.  Fuera de la UE / EE. UU., Este pasatiempo no es muy popular.  Puede haber una raz√≥n para el costo de un pasatiempo, y este mapa indica indirectamente el nivel de bienestar, educaci√≥n t√©cnica y densidad de poblaci√≥n en la regi√≥n.  Quiz√°s el asunto sea de inter√©s pr√°ctico: los usuarios que transmiten los datos de sus receptores reciben una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cuenta corporativa</a> gratuita de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flightaware</a> , que cuesta $ 90 por mes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rv/pi/iy/rvpiiyuijvmsb-ewvntooqfzbn4.gif"></div><br>  Y as√≠ se describe la situaci√≥n.  El mercado para este servicio est√° creciendo, el mercado necesita m√°s datos y VariFlight tambi√©n comenz√≥ a implementar su red.  En abril de 2018, VariFlight anunci√≥ que estaba buscando voluntarios para alojar equipos gratuitos.  Un ejemplo de tal publicaci√≥n en una publicaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Instagram</a> . <br><br>  Y en agosto, encontr√© esta oferta para ordenar el receptor de forma gratuita en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://flightadsb.feeyo.com</a> (el sitio se cerr√≥ en septiembre de 2019: el nuevo sitio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">flightadsb.variflight.com</a> y el enlace para ordenar el dispositivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> ).  Despu√©s de estudiar el sitio, not√© que la compa√±√≠a est√° buscando miembros voluntarios de la red en pa√≠ses cercanos a las fronteras de China.  Y al completar el cuestionario, no esperaba particularmente que el Distrito Federal del Sur estuviera en la zona de inter√©s de la compa√±√≠a. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jq/tk/gn/jqtkgnxt7ufd9rbhiafof8wbl0e.png"></div><br>  En la aplicaci√≥n en s√≠, se requiere indicar en el mapa la ubicaci√≥n de instalaci√≥n ( <i>Ubicaci√≥n de instalaci√≥n</i> ), el piso de la instalaci√≥n de la antena en el edificio ( <i>Piso de instalaci√≥n</i> , por ejemplo 7/9 - 7 ¬∞ piso de un edificio de 9 pisos), el c√≥digo del aeropuerto m√°s cercano ( <i>C√≥digo de aeropuerto</i> - Indiqu√© el c√≥digo IATA) y Descargue fotograf√≠as del horizonte desde el sitio de instalaci√≥n.  El resto es casi lo mismo que el pedido en Aliexpress, a excepci√≥n de los art√≠culos T√≠tulo, Nacionalidad, Ocupaci√≥n, Compa√±√≠a.  Est√° en ingl√©s con un nombre completo. <br><br>  Despu√©s de revisar el correo un par de semanas m√°s tarde, encontr√© dos <b>correos electr√≥nicos</b> de <b>ADSB Â±ïÁ§∫ Á≥ªÁªü (Sistema de visualizaci√≥n de ADS-B)</b> que la solicitud fue aprobada casi de inmediato y que el paquete me lleg√≥ por mucho tiempo, ya hab√≠a pasado la aduana en ese momento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zn/qc/jj/znqcjjlrquqas4qt8bliader-6q.png"></div><br>  En la segunda carta hab√≠a un nombre de usuario, contrase√±a y n√∫mero de seguimiento del paquete.  Y tambi√©n una instrucci√≥n que no not√© y le√≠ cuando ... t√∫ mismo sabes cu√°ndo suelen leer la instrucci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qk/tg/3p/qktg3pugddffvb9lzbf0v4kcrka.png"></div><br>  El inicio de sesi√≥n correspondi√≥ al nombre completo en la aplicaci√≥n, y la contrase√±a se env√≠a claramente a todos.  Por lo tanto, vaya y cambie la contrase√±a de inmediato (e inicie sesi√≥n si es necesario). <br><br>  En general, la frase "Esto es una especie de tonter√≠a" del juego Golpe repentino aparece cada vez m√°s en mi cabeza, si alguien recuerda con acento c√≥mo los alemanes hablan ruso en el juego.  A veces tranquilo, a veces ruidoso. <br><br>  Por cierto, el perfil era la √∫nica p√°gina en ingl√©s, luego todo estar√° en chino.  En Habr√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">wtigga</a> public√≥ un excelente art√≠culo sobre Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chino "Internet y software chino: sobre doloroso"</a> .  Sent√≠ todo el dolor justo ahora.  Si no ha le√≠do, es hora de prepararse. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/oi/ay/1koiayqeuae_alsvu_yxcqrheug.png"></div><br>  El navegador Google Chrome con la funci√≥n de traducci√≥n lo ayudar√° a trabajar en el sitio, pero muchas p√°ginas resultaron no ser factibles para √©l. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/nm/yg/tqnmygwscpsyjyuskdb0iny0oyq.png"></div><br>  Los lugares ser√°n frases divertidas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/xw/-2/5axw-2211tuxsg4zqbgh1hyhoyg.png"></div><br>  Y entonces inicie sesi√≥n con los datos del segundo correo electr√≥nico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ni/cb/jd/nicbjd2losvkfsgprjxppsloyx8.png"></div><br>  Y vaya a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Informaci√≥n personal</a> .  Al final result√≥ que, Google Chrome no siempre puede traducir una p√°gina o no falla la primera vez, y en este caso, despu√©s de varios intentos de traducir autom√°ticamente, tuvimos que copiar el texto a Google Translate.  Por lo tanto, publico un consejo para aquellos que enfrentan el mismo problema. <br><br>  Hay dos pesta√±as en la p√°gina, la activa de las cuales est√° marcada con una l√≠nea roja.  En el primero no puedes tocar nada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-s/sr/xy/-ssrxyi8w0fjdrs13rpzod_hgtg.png"></div><br><ol><li>  Nombre completo </li><li>  Su numero de telefono </li><li>  Su correo electronico </li><li>  C√≥digo del aeropuerto </li><li>  El nombre de su receptor ADSB </li></ol><br>  El punto QQ es el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mensajero chino Tencent QQ</a> . <br><br>  En la segunda pesta√±a, cambie la contrase√±a <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/no/n-/gdnon-flkgykpprdisx-ghcztlu.png"></div><br><ol><li>  Contrase√±a anterior </li><li>  Nueva contrase√±a </li><li>  Repetir nueva contrase√±a </li></ol><br>  Aparte de esto, la traducci√≥n autom√°tica casi siempre funciona.  El dise√±o del mapa del sitio est√° muy cerca del sitio de Flightradar y las "caracter√≠sticas" de la traducci√≥n no impiden su uso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ti/rv/zz/tirvzzf2wwbat2fvqm-xfgv0qxe.png"></div><br>  Tras una inspecci√≥n detallada, el servicio es diferente, por ejemplo, una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">funcionalidad interesante</a> que Flightaware no tiene: un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mapa de calor</a> , traducido por Google Chrome como "an√°lisis t√©rmico". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/xn/oh/tqxnoh__qsuaa1pzvnmra5husrs.png"></div><br>  Una caracter√≠stica interesante en algunos vuelos: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/kf/fu/jlkffukwq0xrwfd931hqwvuoyk0.png" width="100"></div><br>  Probablemente no haya informaci√≥n sobre los aeropuertos de salida y aterrizaje para este vuelo. <br><br><h2>  <font color="#cc0000">Descripci√≥n general del paquete y el receptor</font> </h2><br>  Seg√∫n el n√∫mero de seguimiento, el paquete se envi√≥ el 6 de septiembre y se recibi√≥ el 18 de septiembre.  La caja tiene dimensiones s√≥lidas que sorprendieron a los trabajadores postales.  En el camino desde la oficina de correos, algo tembl√≥, son√≥ y rod√≥. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ea/nj/yj/eanjyj4bgyexd-nasadkur7prvu.jpeg" width="400"></div><br>  La caja abierta qued√≥ algo sorprendida por la falta de materiales de embalaje. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fk/q_/xl/fkq_xlageyzym4psi5huluhuo5o.jpeg" width="400"></div><br>  A modo de comparaci√≥n, la caja en el receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/jp/vz/kojpvzknaatsndykd2qfmz77ng4.jpeg"></div><br>  Sorprendentemente, el contenido de la caja no pareci√≥ verse afectado.  Solo en la antena hubo un rasgu√±o: la pel√≠cula se arranc√≥. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iz/j5/37/izj537mwxv512fiw6em5b3u0nks.jpeg" width="400"></div><br>  El receptor en s√≠ tiene las inscripciones de solo dos conectores: alimentaci√≥n y HDMI.  Adem√°s de dos, todos los conectores se muestran en un lado.  LAN, 2 puertos USB, conector de cuatro pines (la suposici√≥n de que esta interfaz en serie se confirm√≥ marcando a BCM 14 (TXD / transmisi√≥n de 8 pines), <br>  BCM 15 (10 pines RXD / Recibir)), 5 voltios de potencia y conector SMA (hembra) para antena. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/c9/dn/xoc9dnespvqq3r1f2frwjjs7zay.jpeg" width="400"></div><br>  En el lado opuesto, detr√°s de dos agujeros en la caja, hay LED verde y rojo.  Y al lado hay una pegatina con el "n√∫mero de serie" del receptor, grabado a mano.  El receptor tambi√©n tiene HDMI y microUSB. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/8j/zv/e_8jzvvbk2_bp1nt46icd1uijke.jpeg" width="400"></div><br>  La cubierta del receptor tiene dos orejas para montaje en la pared, lo que la distingue positivamente de casi la misma carcasa del receptor Flightaware, a la que el fabricante proporcion√≥ solo cuatro patas de silicona en la parte inferior. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bq/iw/af/bqiwafgqodhiap_-hdd3ipizm3s.jpeg" width="400"></div><br>  Comprobando si estas dos orejas se pueden usar para montar el receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qw/9f/pg/qw9fpg1gij5ndga6urbayxv2qle.jpeg" width="400"></div><br>  Flightaware Flightfeeder al rev√©s: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/4s/wx/lf4swxpj43wvnjxbfsqu5rd2gom.jpeg" width="400"></div><br>  Para comparar los tama√±os de receptor: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nr/bv/zr/nrbvzre_u9jhgkzusug0jqtgk1w.jpeg" width="400"></div><br>  La pregunta natural es "¬øqu√© hay dentro?"  Habiendo quitado la cubierta fijada por 4 tornillos, vemos tal disposici√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/40/qq/k9/40qqk99d-ac9ppuikahdjmic7oc.jpeg" width="400"></div><br>  Los conectores est√°n ubicados en una placa receptora separada, hecha en forma de una tarjeta de expansi√≥n para el Raspberry Pi 3 Modelo B V1.2. <br><br>  A modo de comparaci√≥n, una fotograf√≠a de un Flightaware Flightfeeder (G6) sin tapa.  Esta generaci√≥n de receptores se envi√≥ hasta alrededor de 2017.  Construido en RPi 2 Modelo B v.1.1 y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Mode-S Beast</a> receptor-decodificador simplificado a un canal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ko/ya/4e/koya4exme2bh95occfbtkdb7wx8.jpeg" width="400"></div><br>  El reverso de este dise√±o oculta un elemento inesperado.  Un radiador masivo ubicado en la parte inferior del tablero es una sorpresa.  La necesidad de esto es incomprensible (una semana despu√©s creo que es un "rendimiento tropical". En mis condiciones, el radiador est√° ligeramente caliente). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t9/2o/le/t92ole4een-gqivnp2ksqweixqi.jpeg" width="400"></div><br>  Adem√°s, la placa de expansi√≥n est√° conectada al conector RPi de cuatro pines con tres cables soldados a los puntos de prueba PP27 (USB VCC), PP44 (USB D-), <br>  PP45 (USB D +). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/vc/ui/hevcuirbhsyjqagyrtsie2n9kuy.jpeg" width="400"></div><br>  Es decir  no se puede conectar nada al conector USB superior derecho.  Por lo tanto, la foto de la caja que se encuentra arriba muestra que, de los dos conectores USB emparejados, la ranura en la caja es solo opuesta a la m√°s cercana a la LAN. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8l/vs/xf/8lvsxfznp3keyqhthe4cnq7lh4u.jpeg" width="400"></div><br>  Hicieron lo mismo en Flightaware, soldando el receptor a los contactos de uno de los conectores. <br><br>  La mayor parte de la placa de expansi√≥n es una pantalla de metal.  De las partes visibles, los conectores est√°n en un lado, y en el opuesto hay dos indicadores y una cierta "bobina" con grifos.  Recuerda derivaci√≥n con resistencia variable.  Quiz√°s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">1div0</a> , autor del art√≠culo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"¬øPor qu√© doblar las pistas?"</a>  sabe lo que es  Durante el funcionamiento normal, el LED verde est√° encendido.  En qu√© casos la luz roja est√° encendida, no lo s√©.  Hasta que vi su inclusi√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k5/nx/ul/k5nxuli9peb2vtru9ktvvlkqm44.jpeg" width="400"></div><br>  En el lado de los conectores hay conectores de alimentaci√≥n y antena, y un conector de cuatro pines de prop√≥sito desconocido. <br><br>  Todos los dispositivos electr√≥nicos est√°n ocultos debajo de una gran tapa de lata de la pantalla.  Con Flightaware Flightfeeder, la placa del receptor no est√° protegida.  En el foro de Flightaware, los desarrolladores respondieron a esta pregunta de que la carcasa met√°lica del receptor es suficiente para protegerlo de interferencias externas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/sw/w9/drsww9uvadqiqaagbhk99ibhatg.jpeg" width="400"></div><br>  Un intento de mirar debajo de la pantalla fue un √©xito desde el segundo enfoque.  La tapa se cay√≥ y result√≥ ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/wy/a_/1q/wya_1qu4awvmsaop9eulebq8o7e.jpeg" width="400"></a> </div><br>  ... result√≥ que todo fue en vano: la marca con microchips se cort√≥ cuidadosamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/eg/hc/38/eghc38dwf3d24o6hqmzrznpchoi.jpeg" width="400"></div><br>  Mirando hacia el futuro, dir√© que result√≥ ser un receptor RTLSDR casi ordinario: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">RTL2832U DVB-T</a> (0bda: 2838), llamado "dongles", "silbatos", y que est√°n dedicados a varios art√≠culos sobre Habr√© que dan una idea de estos dispositivos y c√≥mo simplificaron y abarataron la implementaci√≥n de la recepci√≥n y el procesamiento de se√±ales de radio en las computadoras.  Por ejemplo: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sintonizadores de TV USB en rtl2832 - o c√≥mo escuchar todo en la radio por 600 rublos</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Una vez m√°s sobre recibir HF en RTL-SDR</a> </li></ul><br>  El √∫ltimo describe bien los antecedentes del problema: <br><blockquote>  La publicaci√≥n del chip RTL2832U para receptores de televisi√≥n digital en formato DVB-T no prometi√≥ ninguna sensaci√≥n, porque Realtek ya se hab√≠a retrasado un poco con su lanzamiento.  En 2010, ya se introdujo un est√°ndar DVB-T2 m√°s progresivo con una codificaci√≥n de informaci√≥n m√°s eficiente, por lo que inicialmente la novedad no atrajo mucha atenci√≥n.  Durante dos a√±os, se utilizaron sintonizadores USB baratos basados ‚Äã‚Äãen √©l para su prop√≥sito previsto, hasta que a principios de 2012 se filtr√≥ informaci√≥n t√©cnica sobre los modos de funcionamiento de este chip.  Result√≥ que para recibir radio anal√≥gica (FM) y digital (DAB) en la banda VHF, este chip utiliza el principio de decodificaci√≥n de software de una banda de frecuencia digitalizada previamente desde el √©ter.  Es decir  Hablando en t√©rminos generales, digitaliza una se√±al de alta frecuencia de la entrada de antena, y el filtro central de una portadora espec√≠fica y su detecci√≥n (extracci√≥n de informaci√≥n √∫til) del flujo digital recibido se deja al procesador central.  Obviamente, esto se hizo por razones de econom√≠a, de la misma manera que en el momento de la puesta de sol Dial-UP, los "m√≥dems" extremadamente baratos, que tambi√©n representaban solo un par avanzado de DAC y ADC, se generalizaron, y la CPU realiz√≥ todo el procesamiento de se√±ales en hilo con la m√°xima prioridad. </blockquote><br>  A diferencia de los "sintonizadores normales" que tengo, esta instancia de usb id 0bda: 2832 tiene un n√∫mero de serie de 17 d√≠gitos. <br>  <b>Bus 001 Dispositivo 005: ID 0bda: 2832 Realtek Semiconductor Corp.</b>  <b>RTL2832U DVB-T</b> <br>  <b>Encontrado el sintonizador Rafael Micro R820T</b> <br>  Es decir  an√°logo al "silbato azul" utilizado para crear receptores ADSB caseros.  En la foto, el receptor est√° en OrangePI. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8v/h2/2x/8vh22xmude7pxxexaxkiqbupdjw.jpeg" width="400"></div><br>  Ensamblando el receptor, instal√© un radiador por si acaso.  Comprado espec√≠ficamente para completar enrutadores y otros equipos dom√©sticos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/i8/r2/rq/i8r2rqvr2yriumcf8x_n8kk0gwg.jpeg" width="400"></div><br>  Fuente de alimentaci√≥n 5V 2A.  Se ve m√°s s√≥lido que la fuente de alimentaci√≥n para Flightaware Flightfeeder.  Pero con un enchufe chino ... Trat√© de recordar d√≥nde ten√≠a el adaptador por ah√≠. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/lc/l5/ajlcl51jfqqhg0trs2xaykrva-u.jpeg" width="400"></div><br>  En una caja de cart√≥n blanco hab√≠a una bonita bolsa de terciopelo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/di/w7/zy/diw7zywbjqf1oadipbx68qxsajq.jpeg" width="400"></div><br>  "... en el pecho - una liebre, en una liebre - un pato, en un pato - un huevo, en un huevo - una aguja ..." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mh/jb/bimhjbyxhtpskqn8qppiebop1t4.jpeg" width="400"></div><br>  Dentro hab√≠a un rompecabezas de tres adaptadores, que resolvi√≥ la pregunta "¬ød√≥nde est√° mi adaptador?" <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jw/2j/bm/jw2jbm8zmoxzdfkp2xh6l4giapk.jpeg" width="400"></div><br>  En una caja de cart√≥n marr√≥n hab√≠a un pararrayos "CA-23RP 2.5GHZ 400W Made in Japan".  No conozco esta configuraci√≥n de otros receptores ADS-B.  Muy razonable para protecci√≥n contra accidentes de baja potencia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xd/vj/3i/xdvj3iho-lnma7j8xsdyxc6ltko.jpeg" width="400"></div><br>  Es probable que la antena interior pruebe el receptor sin instalar una antena externa.  No apto para uso pr√°ctico.  Pero se vende en Aliexpress / Ebay como una "antena ADS-B", pero su prop√≥sito real viene dado por la inscripci√≥n en la suela magn√©tica.  Sol√≠a ‚Äã‚Äãatrapar aviones en esta antena no m√°s all√° de un radio de 30-40 km. <br><br>  Cerca del adaptador N (hembra) - SMA (macho).  Quiz√°s un regalo en caso de conectar un filtro o amplificador de bajo ruido. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/aq/lo/6w/aqlo6wt-ekzwdj5gi2lz1peqeyc.jpeg" width="400"></div><br>  Cable coaxial para una antena de 5 metros con conectores N y SMA, y un cable de par trenzado de 10 metros ("cobre 100% libre de ox√≠geno, blablabla"). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iv/wb/fu/ivwbfuae7vic79oosq7ycp5gyds.jpeg" width="400"></div><br>  Cable de antena marcado KOPA PLESS RG400-KF MIL-C-17.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cable coaxial flexible</a> con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">doble trenza M17 / 128-RG400 RG-400 de</a> Google con un color de cubierta diferente: <br><br><ul><li>  Frecuencia m√°xima de funcionamiento 6 GHz </li><li>  A una frecuencia de 1.20 GHz, la atenuaci√≥n m√°xima es 0.54 dB / m </li></ul><br>  Es muy dudoso que estas sean las caracter√≠sticas del cable chino.  Por cierto, Flightaware inclu√≠a un cable de antena p√©simo, aunque italiano.  Acortar el cable de la antena a varias decenas de cent√≠metros tres veces aument√≥ la cantidad de paquetes recibidos por el receptor Flightaware. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ax/iy/dtaxiyp-0hsnbkxoyxvwxqppmpm.jpeg" width="400"></div><br>  Antena exterior y su fijaci√≥n al m√°stil. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/od/cd/uw/odcduwhuzkas2_16eb-bvkonhgk.jpeg" width="400"></div><br>  La rareza de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FlightFeeder ADS-B VariFlight</a> en Facebook: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/in/-v/xt/in-vxt5ycgivunptwzqwlteg1ns.png"></div><br>  La antena es ligeramente m√°s peque√±a en di√°metro que Flightaware <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/57/og/_c/57og_cudvkojungdjrhx7nbvmmm.jpeg" width="400"></div><br>  Soporte de m√°stil Flightaware de duraluminio <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-v/rd/df/-vrddfifb-tgjkc4chgcxonphki.jpeg" width="400"></div><br>  Un regalo con el s√≠mbolo de VariFlight.  A juzgar por las inscripciones en el reverso, esta etiqueta debe estar sujeta al equipaje en caso de p√©rdida en el aeropuerto, completando los datos de contacto del propietario. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/na/ay/3t/naay3txh_wtm7qlo9hpe1zbczji.jpeg" width="400"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xh/uy/sq/xhuysqq2i9mjm8r5kmsy8eo6md8.jpeg" width="400"></div><br><h2>  <font color="#cc0000">Primera inclusi√≥n</font> </h2><br>  Encender la alimentaci√≥n no cambi√≥ fundamentalmente nada en la apariencia del dispositivo.  Solo los indicadores LAN estaban encendidos, el enrutador tiene un nuevo nombre de host raspberrypi en la lista de direcciones IP dhcp emitidas.  HDMI ten√≠a la salida de arranque RPi habitual y la solicitud de inicio de sesi√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/u3/jq/la/u3jqlagqk0w2vni0vquhtllulk0.jpeg" width="400"></div><br>  Y eso es todo.  La interfaz web esperada para estos dispositivos en IP: 8080 no estaba disponible.  Al escanear los puertos del dispositivo, solo se encontr√≥ el puerto 22. En un intento de iniciar sesi√≥n como usuario y contrase√±a predeterminados, fue enviado tanto en la consola como en ssh: <br><br><pre> <code class="bash hljs">login as: pi pi@raspberrypi<span class="hljs-string"><span class="hljs-string">'s password: Access denied</span></span></code> </pre> <br>  El receptor se encendi√≥ y apag√≥ varias veces, permaneci√≥ encendido durante d√≠as asumiendo que podr√≠a estar descargando algo en ese momento o tratando de llegar a servidores en China.  Ni el indicador rojo ni el verde se encienden. <br><br>  En este momento, sal√≠ del sitio en busca de preguntas frecuentes, soporte t√©cnico u otra cosa que pudiera decir que este dispositivo deber√≠a y no deber√≠a.  Inici√© sesi√≥n por primera vez, pero esto no cambi√≥ fundamentalmente nada: no hay formularios de contacto ni formularios de comentarios.  Lo √∫nico que se encontr√≥ fue que el receptor estaba vinculado a una cuenta y ten√≠a el estado fuera de l√≠nea.  Not√© el hecho de que el sistema lo vio por √∫ltima vez en la red el 2 de septiembre a las 17.18 hora de Beijing, 4 d√≠as antes de que se enviara por correo.  Es decir  Fue verificado y conectado a la cuenta. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0b/-0/fs/0b-0fsjl_qfuohrhfdanizpv9y8.png"></div><br>  Despu√©s de pasar un par de d√≠as deambulando por los sitios de la "Internet china", a los que algunos enlaces se refer√≠an fuera del sitio o que estaban vinculados desde fuera, y cansados ‚Äã‚Äãde su dise√±o original, me di cuenta de que este producto no tiene ning√∫n soporte t√©cnico.  Y en ese momento record√© dos correos electr√≥nicos de ADSB Â±ïÁ§∫ Á≥ªÁªü (Sistema de visualizaci√≥n de ADS-B). <br><br>  "Esto es una especie de tonter√≠a" - una vez m√°s escuch√© una voz familiar con acento en mi cabeza.  Mi correo electr√≥nico a esta direcci√≥n fue devuelto por PostMaster feeyo.com <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7q/bh/vw/7qbhvwk-bzc6ljjz6rpqfusctgi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y luego el ojo se fij√≥ en el archivo adjunto a la segunda letra, que previamente hab√≠a escapado de la mirada (debido al nuevo dise√±o inusual de GMail). </font><font style="vertical-align: inherit;">Esto result√≥ ser una instrucci√≥n de instalaci√≥n para VariFlight ADS-B. </font><font style="vertical-align: inherit;">Es hora de descubrir c√≥mo se supon√≠a que deb√≠a funcionar.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conoce a È£û Â∏∏ ÂáÜ ADS-B ËÆæÂ§á ÂÆâË£Ö ËØ¥Êòé</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A continuaci√≥n hay una traducci√≥n de las instrucciones en 6 p√°ginas y dos idiomas, la mayor√≠a de los cuales son ilustraciones. </font></font><br><br><h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instrucciones de instalaci√≥n de VariFlight ADS-B</font></font></font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/eg/id/qd/egidqdatgtfzejqa91n4nfh-zn8.jpeg" width="400"></i> </div> <i><br></i> <h3>  <i><font color="#00cc00">Breve descripci√≥n</font></i> </h3> <i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VariFlight ADS-B es un equipo dise√±ado para entusiastas de la aviaci√≥n civil para rastrear aeronaves. </font><font style="vertical-align: inherit;">El kit consta de un receptor ADS-B, una fuente de alimentaci√≥n, un cable de conexi√≥n (cable de conexi√≥n), una antena y un cable para ello.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/mo/gu/kz/mogukz2z2_ohzy4un1bhz3pk6pa.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubicaci√≥n de la antena</font></font></font></i> </h3> <i><br>         ,        ;    .    ADS-B     ,    . <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/7_/3a/ru/7_3aruxylxvhzffbg2xwormtdmk.jpeg" width="400"></i> </div> <i><br>   ,    ADS-B   ,   : <br><br></i> <ol><li> <i>    .</i> </li><li> <i>   -      ADS-B .</i> </li><li> <i>    .</i> </li></ol> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/gi/me/bv/gimebv-tiw4td7c_m3evyd34tro.jpeg" width="400"></i> </div> <i><br>    ,        .  IP  ,  DHCP. <br><br></i> <h3> <i><font color="#00cc00">   </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/ac/vj/sr/acvjsruuug3lop68iq8xm-7act4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">    </font></i> </h3> <i><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/lg/4u/iv/lg4uivsn2odmoktyc6pbuc63ze4.jpeg" width="400"></i> </div> <i><br></i> <h3> <i><font color="#00cc00">      ADS-B      </font></i> </h3> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El primer m√©todo </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En la configuraci√≥n de su enrutador, busque la direcci√≥n IP del receptor ADS-B y abra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http // XXX.XXX.XXX: 8080</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en un navegador web, donde XXX.XXX.XXX es la direcci√≥n IP interna en su red local.</font></font><br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/wp/di/d3/wpdid3rucptn5hlql698q1murns.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todo dos:</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abra el enlace </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en un navegador web, inicie sesi√≥n y haga clic en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aeropuerto</font></font></a> <br><br></i> <div style="text-align:center;"> <i><img src="https://habrastorage.org/webt/9o/hs/ja/9ohsja9e_inbqrha1kivz6rzrsw.png"></i> </div> <i><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tercer m√©todo, solo para voluntarios chinos</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para usuarios chinos, el uso de WeChat es posible. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En esta instrucci√≥n termin√≥. </font><font style="vertical-align: inherit;">De acuerdo con estas instrucciones, el dispositivo funciona parcialmente: recibe IP en la red local, pero no muestra una interfaz web en la que pueda reconocer</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dump1090</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un decodificador de Modo S dise√±ado para dongles RTLSDR y utilizado en dichos dispositivos.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/647/54e/431/64754e43182b4740b7c08d138527a1f9.jpg" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin trabajar dump1090, no llegar√°n datos al servidor. </font><font style="vertical-align: inherit;">Es extra√±o que el dispositivo haya funcionado de alguna manera durante la verificaci√≥n antes del env√≠o. </font><font style="vertical-align: inherit;">"Esto es una especie de tonter√≠a". </font><font style="vertical-align: inherit;">Como los chinos no est√°n interesados ‚Äã‚Äãde ninguna manera en el destino del dispositivo, y no se encontraron signos de soporte t√©cnico, entonces mi conciencia est√° completamente limpia si trato de repararlo yo mismo.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tomamos el control del dispositivo</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Despu√©s de desmontar el receptor, inmediatamente despu√©s de recibirlo, hice la imagen microSD en el estado anterior al primer encendido y examin√© un poco el contenido, sospechando inmediatamente que el receptor estaba enviando datos al servidor: hab√≠a archivos y scripts con direcciones de servicio en / root /. </font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restablecer contrase√±a de usuario PI</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las instrucciones para cambiar la "contrase√±a olvidada" con im√°genes se pueden encontrar en este </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enlace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desmonto el receptor de nuevo. </font><font style="vertical-align: inherit;">Para llegar a microSD necesita desenroscar todos los tornillos y quitar ambas placas. </font><font style="vertical-align: inherit;">En el futuro, mientras trabajaba con el receptor, no lo ensambl√© nuevamente en el edificio. </font><font style="vertical-align: inherit;">Tuve que cambiar dos microSD con diferentes sistemas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sacamos la microSD de Rpi, hacemos una copia de seguridad en la computadora, si a√∫n no lo ha hecho, y editamos el archivo - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="bash hljs">dwc_otg.lpm_enable=0 console=ttyAMA0,115200 console=tty1 root=/dev/mmcblk0p2 rootfstype=ext4 elevator=deadline fsck.repair=yes rootwait</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Al final de esta l√≠nea, agregue </font></font><br><br><pre> <code class="bash hljs">init=/bin/sh</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devolvemos la microSD a RPi, conectamos el monitor y el teclado. </font><font style="vertical-align: inherit;">Conectamos el poder. </font><font style="vertical-align: inherit;">Cuando las l√≠neas dejen de ejecutarse en la pantalla, presione Entrar. </font><font style="vertical-align: inherit;">Aparece un indicador de consola, en el que escribimos</font></font><br><br><pre> <code class="bash hljs">mount -rw -o remount / passwd pi sync <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> /sbin/init</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las l√≠neas se ejecutan una y otra vez, esperen a que dejen de funcionar y luego las apagan. </font><font style="vertical-align: inherit;">Obtenemos microSD de RPi. </font><font style="vertical-align: inherit;">En la computadora editamos o restauramos la copia de respaldo de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmdline.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - elimine "init = / bin / sh". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La √∫ltima vez que devolvemos microSD a RPi. </font><font style="vertical-align: inherit;">Encender </font><font style="vertical-align: inherit;">Inicie sesi√≥n con √©xito con una nueva contrase√±a. </font><font style="vertical-align: inherit;">Habilitamos ssh ingresando raspi-config y seleccionando SSH en el men√∫. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego, con el comando superior, quiero ver c√≥mo vive el receptor y notar inesperadamente los procesos wget y ... dump-1090. </font><font style="vertical-align: inherit;">Escena silenciosa </font><font style="vertical-align: inherit;">Verifico en el navegador web http // XXX.XXX.XXX: 8080: hay una interfaz.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/r_/io/t1/r_iot1vh1tljjqcj6gqdat3ufkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por no decir eso inesperadamente, pero definitivamente inusual. </font><font style="vertical-align: inherit;">Compruebo el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segundo m√©todo a</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir de las instrucciones </font><font style="vertical-align: inherit;">: todo est√° bien all√≠ tambi√©n: el icono del receptor se puso verde y debajo de la lista de aviones que escuch√≥.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ser√≠a posible terminar con esto, pero en primer lugar, usar RPi3 solo por esto ser√≠a imperdonable. Y en segundo lugar, si este dispositivo funciona de manera estable. Por ejemplo, desapareci√≥ de la lista de direcciones IP del enrutador DHCP, mientras estaba disponible al acceder a la IP recibida anteriormente, y al mismo tiempo no hab√≠a imagen en HDMI. Pero lo m√°s importante fue la inestabilidad de la transmisi√≥n. Seg√∫n las estad√≠sticas en la p√°gina del receptor, funcion√≥ durante varias horas al d√≠a. A veces un d√≠a completo, a veces varias horas, a veces cero horas. Tom√≥ varios d√≠as estudiar el sistema; no se instal√≥ todo el software. Repositorios chinos ... La voz alemana finalmente convenci√≥ de que necesitamos hacer un receptor ADS-B para una persona sana, y para esto necesitamos rodar la imagen de PiAware en otra microSD. La microSD original a√∫n era √∫til para descubrir c√≥mo funciona.</font></font><font color="#FF0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como m√≠nimo, guarde los archivos de / root. </font><font style="vertical-align: inherit;">Haz una imagen deseable.</font></font></font> <br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></font> </h2><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PiAware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un software de Linux para transferir datos de vuelo a FlightAware. </font><font style="vertical-align: inherit;">Contiene fork dump1090-mutability. </font><font style="vertical-align: inherit;">Seg√∫n los desarrolladores, una de las diferencias es que no env√≠a paquetes a los servidores FlightAware si no difieren del primero.</font></font> Es decir<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si el avi√≥n no ha cambiado la velocidad, la altitud, entonces estos datos no necesitan ser procesados ‚Äã‚Äãy, por lo tanto, reduce la carga en el servidor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hace unos dos a√±os, FlightAware comenz√≥ a traducir textos del sitio al ruso. Y mucho para crear su propia estaci√≥n PiAware se puede encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuera del sitio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La esencia de crear una estaci√≥n en RPi con RTLSDR es escribir en la microSD del PiAware terminado en la imagen de Raspbian Linux usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A continuaci√≥n, antes de insertar la tarjeta en el RPi y esperar la descarga, debe realizar algunos cambios. Para habilitar el acceso SSH, cree un archivo vac√≠o sin la extensi√≥n con el nombre ssh en la partici√≥n de arranque (/ partici√≥n de arranque). Y en el archivo piaware-config.txt puede realizar las </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">configuraciones</font></a><font style="vertical-align: inherit;"> necesarias</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por ejemplo, especifique una IP est√°tica o habilite WiFi y especifique un SSID / contrase√±a, siempre que est√© conectado un adaptador WiFi USB compatible. </font><font style="vertical-align: inherit;">La misma configuraci√≥n se puede realizar desde la consola con el comando piaware-config </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting_name Possible_values</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si ya tiene una cuenta de Flightaware, luego de 5 minutos la estaci√≥n se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adjuntar√° a la cuenta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , despu√©s de haber recibido un Identificador √∫nico. </font><font style="vertical-align: inherit;">Y el receptor tendr√° su propia p√°gina de estad√≠sticas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De forma predeterminada, el usuario de PI tiene una contrase√±a de flightaware. </font><font style="vertical-align: inherit;">Es una buena idea cambiar su contrase√±a de inmediato.</font></font><br><br><h3> <font color="#00cc00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pruebas"</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las pruebas est√°n entre comillas, solo impresiones. Tener dos dispositivos con casi el mismo software puede evaluar sus habilidades. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tengo un receptor Flightaware gratuito y lo primero que experiment√© fue la antena VariFlight completa. Acabo de reemplazar la antena de Flightaware con ella. Y mientras estudiaba el receptor VariFlight, las estad√≠sticas de FlightFeeder se recopilaron en la p√°gina de Flightaware. La conclusi√≥n es decepcionante. Aunque nada ha cambiado en el alcance m√°ximo, como FlightFeeder, en la direcci√≥n de visibilidad directa, capturando algunos a una distancia de 400 km, pero las estad√≠sticas de aviones por hora / d√≠a cayeron 2-3 veces. Seguramente acepta lados por m√°s de 300 kil√≥metros, pero ve un poco menos de mensajes. No s√© qu√© hay dentro del cuerpo de la antena, no es plegable.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una antena de Flightaware estaba conectada al receptor VariFlight y mostraba estad√≠sticas del mismo orden. </font><font style="vertical-align: inherit;">Y con una antena nativa a√∫n m√°s baja.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ed/tq/0z/edtq0z5qbkaioqmq8khv4q75nse.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decodificar√© las estad√≠sticas. </font><font style="vertical-align: inherit;">Estad√≠sticas 10-05 a 10-07 es un receptor VariFlight con una antena Flightaware. </font><font style="vertical-align: inherit;">El 10-08, se conect√≥ la antena completa y del 10-09 al 10-11 las estad√≠sticas del kit VariFlight. </font><font style="vertical-align: inherit;">10-12, el script send_message.py se ha cambiado para recopilar datos de Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Despu√©s de eso, VariFlight envi√≥ datos de √©l y 10-13: estad√≠sticas diarias basadas en datos de Flightaware Flightfeeder. </font><font style="vertical-align: inherit;">Adem√°s, por ejemplo, para 10-18 - 396 vuelos, 814176 paquetes, para 10-19 - 471 vuelos, 860415 paquetes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos a evaluar cu√°nto es susceptible el receptor VariFlight a la interferencia de radio. </font><font style="vertical-align: inherit;">Para hacer esto, escanee el rango de 800 MHz-1200 MHz y genere un mapa de calor.</font></font><br><br><pre> <code class="bash hljs">sudo apt-get install python-imaging sudo wget https://raw.githubusercontent.com/keenerd/rtl-sdr-misc/master/heatmap/heatmap.py sudo chmod +x heatmap.py sudo systemctl stop dump1090-fa sudo rtl_power -f 800M:1200M:100k -i 30 -c 50% -e 30m -g 30 -F 9 &gt;scan.csv</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Despu√©s de media hora (-e 30m), el escaneo se detiene y se genera una imagen. </font></font><br><pre> <code class="bash hljs">./heatmap.py scan.csv scan.png</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reiniciando el dispositivo para restaurar dump1090. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y copie la imagen resultante a una computadora usando (win) scp. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este es un fragmento de una exploraci√≥n de mapa t√©rmico a una frecuencia de 1090 MHz. </font><font style="vertical-align: inherit;">Imagen completa disponible por clic.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/qs/jl/om/qsjlomhpqztfezcodd2c__ik-zy.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las rayas amarillas brillantes son una comunicaci√≥n m√≥vil. Nada inusual: no tiene prefiltros como Flightfeeder y las estaciones m√≥viles lo interrumpen en gran medida. En esto, es absolutamente lo mismo que el simple "silbato azul" mencionado anteriormente. Quiz√°s la fabricaci√≥n en forma de una placa de expansi√≥n especial tenga alg√∫n sentido, por ejemplo, el papel de las "pistas dobladas" en esta placa no est√° claro. Al hacer una placa especializada, no ser√≠a dif√≠cil instalar un amplificador de bajo ruido y un filtro SAW a 1090 MHz. Solo mirando las secuencias de comandos en el dispositivo, tuve una idea de por qu√© se hizo esto: una secuencia de comandos llamada acars.py.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gj/je/c5/gjjec5drhpf-ummw90sui3ar5vw.jpeg" width="640"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cu√°nto mejorar√≠a el amplificador y el filtro las caracter√≠sticas del receptor muestra un ejemplo del grupo mencionado en Facebook. </font><font style="vertical-align: inherit;">En lugar de un receptor normal, uno de los usuarios de VariFlight Box conect√≥ un dongle especializado de Flightaware, lo que lo llev√≥ a la calificaci√≥n m√°xima de aproximadamente mil usuarios (por supuesto, la ubicaci√≥n de instalaci√≥n y otra antena tambi√©n se vieron afectadas).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wn/wx/vx/wnwxvxmudv-gpbpatzreybmtgzk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlightAware lanza dos modelos de dongle: Pro Stick y Pro Stick Plus, que siguen siendo el mismo "silbato azul", pero tienen un amplificador de se√±al preliminar, y este √∫ltimo adem√°s tiene un </font></font><abbr title="Filtro de sierra"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtro SAW</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que elimina se√±ales innecesarias en √°reas con mucha interferencia, por ejemplo en las ciudades, adem√°s de que estos modelos est√°n equipados con un conector de antena SMA. </font><font style="vertical-align: inherit;">Estos dongles se utilizan en los receptores Flightaware Flightfeeder Orange.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/bv/m0/zobvm0srdsqzwa0zj-sn4jnpkow.jpeg" width="400"></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con la cubierta quitada</font></font></b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/_r/do/al_rdoa1ezof9rwtjv6v97o2nd8.jpeg"></div><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El nombre del script "acars.py" sugiere que la ausencia de filtros no es un error y un ahorro. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direcci√≥n y sistema de informes de comunicaciones de aviaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El Sistema de informaci√≥n y direccionamiento de comunicaciones de aeronaves (ACARS) es un sistema de comunicaci√≥n de radio digital utilizado en la aviaci√≥n para transmitir mensajes cortos entre una aeronave y estaciones terrestres. </font><font style="vertical-align: inherit;">La frecuencia de funcionamiento de ACARS en Europa es de 131.725 MHz. </font><font style="vertical-align: inherit;">Por lo tanto, el dispositivo no puede tener un filtro solo para 1090 MHz, de lo contrario no podr√° recibir una se√±al a 131 MHz. </font><font style="vertical-align: inherit;">Lo que est√° dentro de la antena es desconocido, no lo voy a romper, pero es obvio que su "amplia cobertura" tambi√©n est√° prevista por los creadores. </font><font style="vertical-align: inherit;">De manera similar al m√©todo anterior, se gener√≥ un mapa de calor en el rango de 100 MHz-500 MHz. </font><font style="vertical-align: inherit;">Un fragmento de un mapa t√©rmico de escaneo a una frecuencia de 450 MHz. </font><font style="vertical-align: inherit;">Imagen completa tambi√©n disponible por clic.</font></font><br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/pl/16/as/pl16astc_zfrbh2svvnrmzmurss.png"></a> </div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el mapa de calor puede ver los paneles de control, sensores de seguridad, timbres inal√°mbricos, sensores inal√°mbricos de estaciones meteorol√≥gicas, radioaficionados, estaciones de radio FM, y as√≠ sucesivamente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por ejemplo, al configurar rtl_433 puede ver los datos de los sensores inal√°mbricos vecinos de las estaciones meteorol√≥gicas y, si lo desea, utilizarlos como autor de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este art√≠culo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uc/mm/ze/ucmmzezt7bnrtnsqxlkan5gtiwa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y ejecutando rtl_tcp puedes escuchar radioaficionados y radio FM. </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/x3/an/ti/x3antiicq0ssing7bra1wpglk_q.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curiosamente, no todos los jamones walkie-talkie mantienen precisamente la frecuencia. </font><font style="vertical-align: inherit;">Fue divertido ver c√≥mo los radioaficionados evaluaban c√≥mo escuchaban al interlocutor, y la frecuencia de una de las estaciones de radio estaba en alg√∫n lugar al margen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero el receptor chino en el sistema nativo mostr√≥ precisi√≥n: 0 PPM. </font><font style="vertical-align: inherit;">En el m√©todo de medici√≥n del PPM se puede encontrar en el art√≠culo sobre Habr√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quwy </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Una vez m√°s sobre la recepci√≥n de HF en el SDR-RTL¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es muy recomendable ajustar el PPM para una mejor recepci√≥n. </font><font style="vertical-align: inherit;">Que es lo que hicieron los chinos. </font><font style="vertical-align: inherit;">Hay un peque√±o error en Piaware que puede y debe repararse especificando el valor PPM correcto con el comando sudo piaware-config rtlsdr-ppm &lt;valor PPM&gt;.</font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instrucciones de calibraci√≥n RTLSDR con rtl_test y kalibrate-rtl</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"> rtl_test -p</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esperamos unos 10 minutos hasta que el valor se estabilice. </font><font style="vertical-align: inherit;">Esta ser√° la ppm deseada. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede mejorar la precisi√≥n mediante las se√±ales de las torres m√≥viles utilizando la utilidad kalibrate-rtl.</font></font><br><pre> <code class="bash hljs">sudo apt-get install libtool autoconf automake libfftw3-dev git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/asdil12/kalibrate-rtl.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> kalibrate-rtl git checkout arm_memory ./bootstrap ./configure make sudo make install kal -s GSM900</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De la lista de canales, se necesita uno con el valor de "potencia". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El n√∫mero de canal resultante se utiliza en el comando kal -c &lt;n√∫mero de canal&gt; -e &lt;valor PPM aproximado, previamente determinado manualmente o por la utilidad rtl_test&gt; -v. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, obtenemos un "error absoluto promedio". </font><font style="vertical-align: inherit;">Y use este valor de ppm, redondeado al entero m√°s cercano, en el comando sudo piaware-config rtlsdr-ppm &lt;valor PPM&gt;</font></font><br></div></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, podemos decir que el receptor VariFlight para hierro es ligeramente mejor de lo que puede ensamblar usted mismo. </font><font style="vertical-align: inherit;">Esta es una buena base para comenzar a practicar este pasatiempo (y mostr√≥ pruebas de hierro que se pueden usar para una amplia gama de otras tareas. Adem√°s, hay tres puertos USB libres). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un inconveniente definitivo como receptor ADSB es el software y la interfaz del sitio chino. </font><font style="vertical-align: inherit;">Si no puede hacer nada con el sitio chino, puede modificar el software del receptor. </font><font style="vertical-align: inherit;">La forma m√°s f√°cil es instalar PiAware y configurar la distribuci√≥n en VariFlight. </font><font style="vertical-align: inherit;">Luego, puede configurar la distribuci√≥n en Flightradar24 y obtener una cuenta con condiciones especiales all√≠ tambi√©n. </font><font style="vertical-align: inherit;">Un ejemplo de uso de una cuenta con caracter√≠sticas especiales es el acceso a los datos del archivo de Flightaware (el accidente de An-148 Saratov Airlines).</font></font><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/ug/du/dtugduq0reih0v5pv5pphsrxn2a.jpeg" alt="imagen" width="640"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ua/zc/u8/uazcu8jmy0bk0-wpmw-a_9rm63c.png"></div><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damos datos a VariFlight</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Volvemos al contenido del directorio ra√≠z. </font><font style="vertical-align: inherit;">Se puede encontrar en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Los nombres de archivo insin√∫an inequ√≠vocamente sus funciones.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root -l total 24 drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 drwxr-xr-x 5 root root 4096 Oct 16 18:54 get_message -rwxr-xr-x 1 root root 567 Nov 22 2016 install.sh drwxr-xr-x 7 root root 4096 Nov 22 2016 rtl-sdr -rwxr-xr-x 1 root root 62 Nov 22 2016 synctime.sh -rwxr-xr-x 1 root root 1300 Nov 29 2016 task.sh</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash apt-get update apt-get install cmake libusb-1.0-0-dev build-essential vim ntpdate -y apt-get remove ntp cd get_message/ mv rtl-sdr-blacklist.conf /etc/modprobe.d/ mv dump.sh /etc/init.d/dump chmod +x /etc/init.d/dump mv task.sh ../ chmod +x ../task.sh cd ../rtl-sdr/ mkdir rtl cd rtl cmake ../ -DINSTALL_UDEV_RULES=ON make install ldconfig cd ../../dump1090/ make cd /root/get_message/ python get_ip.py ps aux | grep py update-alternatives --config editor crontab -e * * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1 * * */6 * * /root/synctime.sh &gt;/dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Las √∫ltimas l√≠neas de install.sh muestran que cron agrega dos trabajos: ejecute task.sh cada minuto y synctime.sh cada 6 d√≠as </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">synctime.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash /usr/sbin/ntpdate 115.182.42.248 &gt; /dev/null 2&gt;&amp;1</span></span></code> </pre><br></div></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115.182.42.248 - BeiJing wanglianxuntong Telecom Technology Co., Ltd, Beijing, China. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observaciones: tenga en cuenta que CNNIC no es un ISP y no es </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observaciones: facultado para investigar las denuncias de abuso de la red. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observaciones: p√≥ngase en contacto con el t√©cnico o administrador de la red.</font></font></blockquote><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep dump1090 | grep -v grep if [ $? -eq 1 ] then /etc/init.d/dump stop sleep 1 /etc/init.d/dump start echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" dump1090 running" echo "------------------------------------------------------------------------" fi ps -eaf | grep send_message.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python -O /root/get_message/send_message.py &amp; echo `date "+%G-%m-%d %H:%M:%S"`" send_message restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" send_message running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El script task.sh, ejecutado cada minuto por cron, verifica y, si es necesario, reinicia dump1090, los scripts send_message.py y get_ip.py. </font></font><br><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -eaf | grep dump1090 | grep -v grep root 830 1 14 Oct12 ? 13:49:25 ./dump1090 --net --net-sbs-port 30003 pi@raspberrypi:~ $ ps -eaf | grep get_ip.py | grep -v grep pi@raspberrypi:~ $ ps -eaf | grep send_message.py | grep -v grep root 838 1 0 Oct12 ? 00:09:20 python -O /root/get_message/send_message.py</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El directorio </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene scripts de python, uno de los cuales, send_message.py, env√≠a datos.</font></font><br><br><pre> <code class="bash hljs">root@raspberrypi:/home/pi<span class="hljs-comment"><span class="hljs-comment"># ls /root/get_message -l total 40 -rw-r--r-- 1 root root 954 Nov 22 2016 acars.py -rw-r--r-- 1 root root 1341 Nov 22 2016 acars.sh -rw-r--r-- 1 root root 173 Nov 22 2016 config.ini drwxr-xr-x 8 root root 4096 Nov 22 2016 dump1090 -rwxr-xr-x 1 root root 1731 Nov 22 2016 get_ip.py drwxr-xr-x 3 root root 4096 Nov 22 2016 get_message1117 -rwxr-xr-x 1 root root 3400 Dec 7 2016 init.sh -rw-r--r-- 1 root root 33 Oct 16 18:51 md5.txt -rwxr-xr-x 1 root root 1143 Oct 12 18:16 send_message.py -rw-r--r-- 1 root root 16 May 27 2016 UUID</span></span></code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash path='/root/get_message/' DATE=`date -d "today" +"%Y-%m-%d_%H:%M:%S"` result="" UUID="" execom="" FromServer="" SourceMD5="" device="" if ps -ef |grep dump1090 |grep -v grep &gt;/dev/null then device="adsb" elif ps -ef |grep acarsdec |grep -v grep &gt;/dev/null then device="acars" else device="unknow" fi IpAddr=`/sbin/ifconfig |grep "addr:" |grep -v 127.0.0.1 |cut -d ':' -f2 |cut -d ' ' -f1` if [ -f "/root/get_message/UUID" ] then UUID=`cat /root/get_message/UUID` fi execut(){ while read command do eval $command if [ $? -ne 0 ] then execom=$command result=0 break fi result=1 done &lt;$path/package/exe.txt } removefile(){ rm -rf $path/package rm -f $path/*tar.gz* } main(){ ps -eaf | grep "pic.veryzhun.com/ADSB/update/newpackage.tar.gz" | grep -v grep if [ $? -eq 1 ] then /usr/bin/wget -P $path -c -t 1 -T 2 pic.veryzhun.com/ADSB/update/newpackage.tar.gz if [ -f "$path/newpackage.tar.gz" ] then dmd5=`md5sum $path/newpackage.tar.gz|cut -d ' ' -f1` if [ "$SourceMD5" = "$dmd5" ] then /bin/tar -xzf $path/newpackage.tar.gz -C $path echo $SourceMD5 &gt; $path/md5.txt /bin/touch /usr/src/start.pid echo $DATE &gt; /usr/src/start.pid execut if [ $result -eq 1 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="success" http://receive.cdn35.com/ADSB/result.php else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom=$execom -d message="fail" http://receive.cdn35.com/ADSB/result.php fi removefile else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="post file has been changed" http://receive.cdn35.com/ADSB/result.php removefile fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="download failed" http://receive.cdn35.com/ADSB/result.php removefile fi fi } if curl -m 2 -s pic.veryzhun.com/ADSB/update.php &gt;/dev/null;then removefile FromServer=`curl -m 2 -s -d UUID="$UUID" -d IpAddr="$IpAddr" -d Device="$device" pic.veryzhun.com/ADSB/update.php` SourceMD5=`echo $FromServer|cut -d ' ' -f1` length=`echo $SourceMD5 |wc -L` if [ $length -ne 32 ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="md5 style error" http://receive.cdn35.com/ADSB/result.php exit fi else curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="curl failed" http://receive.cdn35.com/ADSB/result.php exit fi DesMD5=`cat $path/md5.txt` if [ "$SourceMD5" = "$DesMD5" ] then curl -m 2 -s -d UUID=$UUID -d date=$DATE -d execom="------" -d message="no update,md5 without change " http://receive.cdn35.com/ADSB/result.php exit else main fi</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El script init.sh verifica si hay una actualizaci√≥n y establece un nuevo send_message.py </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_ip.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fcntl <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> struct <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys,os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hashlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> uuid config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> source_data=source_data.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>,<span class="hljs-string"><span class="hljs-string">'$$$'</span></span>) f=urllib2.urlopen( url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"ipurl"</span></span>), data = source_data, timeout = <span class="hljs-number"><span class="hljs-number">60</span></span> ) tmp_return=f.read() request_json=json.loads(tmp_return) request_md5=request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">del</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'md5'</span></span>] tmp_hash=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> request_json: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> tmp_hash==<span class="hljs-string"><span class="hljs-string">''</span></span> : tmp_hash=tmp_hash+request_json[i] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : tmp_hash=tmp_hash+<span class="hljs-string"><span class="hljs-string">','</span></span>+request_json[i] md5=hashlib.md5(tmp_hash.encode(<span class="hljs-string"><span class="hljs-string">'utf-8'</span></span>)).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (md5 == request_md5): operate(request_json) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'MD5 ERR'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"return: "</span></span>+tmp_return; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ip_address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ifname)</span></span></span><span class="hljs-function">:</span></span> skt = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) pktString = fcntl.ioctl(skt.fileno(), <span class="hljs-number"><span class="hljs-number">0x8915</span></span>, struct.pack(<span class="hljs-string"><span class="hljs-string">'256s'</span></span>, ifname[:<span class="hljs-number"><span class="hljs-number">15</span></span>])) ipString = socket.inet_ntoa(pktString[<span class="hljs-number"><span class="hljs-number">20</span></span>:<span class="hljs-number"><span class="hljs-number">24</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ipString <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request_json)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'reboot'</span></span> : os.system(<span class="hljs-string"><span class="hljs-string">'/sbin/reboot'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> request_json[<span class="hljs-string"><span class="hljs-string">'type'</span></span>] == <span class="hljs-string"><span class="hljs-string">'code'</span></span> : fileHandle = open ( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'path'</span></span>] ) , <span class="hljs-string"><span class="hljs-string">'w'</span></span> ) fileHandle.write( urllib.unquote( request_json[<span class="hljs-string"><span class="hljs-string">'content'</span></span>] ) ) fileHandle.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">'OK'</span></span> eth=get_ip_address(<span class="hljs-string"><span class="hljs-string">'eth0'</span></span>) send_message(mid+<span class="hljs-string"><span class="hljs-string">'|'</span></span>+eth+<span class="hljs-string"><span class="hljs-string">'|'</span></span>)</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El significado del intercambio de red realizado por el script, no lo entiendo particularmente. </font><font style="vertical-align: inherit;">Se genera un UUID √∫nico si falta uno. </font><font style="vertical-align: inherit;">Y hay un cierto intercambio con las direcciones especificadas en el archivo config.ini. </font><font style="vertical-align: inherit;">Probablemente este script en particular es responsable de vincular los datos transmitidos y la IP con la cuenta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La l√≠nea "if request_json ['type'] == 'reboot': os.system ('/ sbin / reboot')" es digna de menci√≥n.</font></font><br><br><pre> <code class="plaintext hljs">[global] name = NEW ipurl = http://receive.cdn35.com/ADS-B_IP.php sendurl = http://adsb.feeyo.com/adsb/ReceiveCompressADSB.php version = 1.0 passwd = 'null'</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Y finalmente, el script que env√≠a los datos. </font></font><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">send_message.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib2 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> zlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> base64 <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os,uuid serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">30003</span></span> config = ConfigParser.ConfigParser() config.readfp(open(sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/config.ini'</span></span>,<span class="hljs-string"><span class="hljs-string">"rb"</span></span>)) uuid_file=sys.path[<span class="hljs-number"><span class="hljs-number">0</span></span>]+<span class="hljs-string"><span class="hljs-string">'/UUID'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> os.path.exists(uuid_file) : file_object = open(uuid_file) mid = file_object.read() file_object.close() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> : mid = uuid.uuid1().get_hex()[<span class="hljs-number"><span class="hljs-number">16</span></span>:] file_object = open(uuid_file , <span class="hljs-string"><span class="hljs-string">'w'</span></span>) file_object.write( mid ) file_object.close() sockobj = socket.socket(socket.AF_INET,socket.SOCK_STREAM) sockobj.connect((serverHost,serverPort)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">send_message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(source_data)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: source_data=base64.b64encode(zlib.compress(source_data)) f=urllib2.urlopen(url = config.get(<span class="hljs-string"><span class="hljs-string">"global"</span></span>,<span class="hljs-string"><span class="hljs-string">"sendurl"</span></span>),data = urllib.urlencode({<span class="hljs-string"><span class="hljs-string">'from'</span></span>:mid,<span class="hljs-string"><span class="hljs-string">'code'</span></span>:source_data}),timeout = <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> Exception,e: <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> str(e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: buf = sockobj.recv(<span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> buf: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(buf) != <span class="hljs-number"><span class="hljs-number">0</span></span>: tmp_buf=tmp_buf+buf <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> buf[len(buf)<span class="hljs-number"><span class="hljs-number">-1</span></span>] == <span class="hljs-string"><span class="hljs-string">'\n'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> send_message(tmp_buf) : tmp_buf=<span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edit√© la l√≠nea serverHost = 'localhost' reemplazando 'localhost' por 'ff-1234', el nombre de red de mi Flightaware Flightfeeder y reiniciando el receptor VariFlight. Despu√©s de eso, los datos de Flightfeeder fueron a VariFlight. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los scripts restantes son la recepci√≥n de mensajes ACARS. Quiz√°s los restos de alguna funcionalidad o una funci√≥n que se implementar√° en el futuro. Los scripts funcionan con /root/acarsdec-3.0/acarsdec, que falta en esta ruta. ACARSDEC es un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decodificador ACARS SDR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que decodifica mensajes, por ejemplo, a una frecuencia de 131.725 MHz. Aparentemente, seg√∫n la recepci√≥n de esta frecuencia, no hay filtros a 1090 MHz en la entrada del receptor.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qz/kh/hu/qzkhhuoty6nf40do5noeftc1psk.jpeg" width="400"></div><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El Sistema de comunicaciones de aviaci√≥n de direcciones e informes (ACARS) es un sistema de comunicaciones digitales utilizado en la aviaci√≥n para transmitir mensajes cortos y relativamente simples entre una aeronave y estaciones terrestres, ya sea a trav√©s de comunicaciones de radio directas o sistemas satelitales. </font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√°s sobre ACARS se puede ver, por ejemplo, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El script acars.sh es similar a task.sh en su implementaci√≥n: reinicia acarsdec y los scripts get_ip.py y acars.py si no detecta el proceso necesario.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.sh</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash ps -eaf | grep acarsdec | grep -v grep if [ $? -eq 1 ] then /root/acarsdec-3.0/acarsdec -n 127.0.0.1:8888 -o 0 -p -8 -r 0 127.272 126.475 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acarsdec running" echo "------------------------------------------------------------------------" fi ps -eaf | grep get_ip.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/get_ip.py echo `date "+%G-%m-%d %H:%M:%S"`" get_ip restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" get_ip running" echo "------------------------------------------------------------------------" fi ps -eaf | grep acars.py | grep -v grep # if not found - equals to 1, start it if [ $? -eq 1 ] then python /root/get_message/acars.py echo `date "+%G-%m-%d %H:%M:%S"`" acars restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" acars running" echo "------------------------------------------------------------------------" fi /usr/sbin/ntpdate cn.pool.ntp.org &gt; /dev/null</span></span></code> </pre><br></div></div><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acars.py</font></font></b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python import socket, traceback ,time,urllib2,urllib,sys,ConfigParser def send_message(source_data): try: f=urllib2.urlopen(url = config.get("global","sendurl"),data = urllib.urlencode({'from':config.get("global","name"),'code':source_data}),timeout = 10) print "return: "+f.read(); return True except Exception,e: print str(e) return False host = '127.0.0.1' port = 8888 config = ConfigParser.ConfigParser() config.readfp(open(sys.path[0]+'/config.ini',"rb")) s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.bind((host, port)) while 1: try: message, address = s.recvfrom(8192) socket_udp_str='{0} :{1} \n\n'.format(time.strftime('%Y-%m-%d %H:%M:%S',time.localtime(time.time())),message) send_message(socket_udp_str) except (KeyboardInterrupt, SystemExit): raise except: traceback.print_exc()</span></span></code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En el trabajo, se ve as√≠: </font></font><br><br><pre> <code class="bash hljs">PID TTY STAT TIME COMMAND 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps -afx completamente</font></font></b> <div class="spoiler_text"><pre> <code class="bash hljs">pi@raspberrypi:~ $ ps -afx PID TTY STAT TIME COMMAND 2 ? S 0:00 [kthreadd] 3 ? S 0:59 \_ [ksoftirqd/0] 5 ? S&lt; 0:00 \_ [kworker/0:0H] 7 ? S 5:28 \_ [rcu_sched] 8 ? S 0:00 \_ [rcu_bh] 9 ? S 0:01 \_ [migration/0] 10 ? S 0:01 \_ [migration/1] 11 ? S 0:05 \_ [ksoftirqd/1] 13 ? S&lt; 0:00 \_ [kworker/1:0H] 14 ? S 0:01 \_ [migration/2] 15 ? S 0:04 \_ [ksoftirqd/2] 17 ? S&lt; 0:00 \_ [kworker/2:0H] 18 ? S 0:01 \_ [migration/3] 19 ? S 0:04 \_ [ksoftirqd/3] 21 ? S&lt; 0:00 \_ [kworker/3:0H] 22 ? S 0:00 \_ [kdevtmpfs] 23 ? S&lt; 0:00 \_ [netns] 24 ? S&lt; 0:00 \_ [perf] 25 ? S 0:00 \_ [khungtaskd] 26 ? S&lt; 0:00 \_ [writeback] 27 ? S&lt; 0:00 \_ [crypto] 28 ? S&lt; 0:00 \_ [bioset] 29 ? S&lt; 0:00 \_ [kblockd] 31 ? S&lt; 0:00 \_ [rpciod] 32 ? S 0:00 \_ [kswapd0] 33 ? S&lt; 0:00 \_ [vmstat] 34 ? S 0:00 \_ [fsnotify_mark] 35 ? S&lt; 0:00 \_ [nfsiod] 44 ? S&lt; 0:00 \_ [kthrotld] 46 ? S&lt; 0:00 \_ [bioset] 47 ? S&lt; 0:00 \_ [bioset] 48 ? S&lt; 0:00 \_ [bioset] 49 ? S&lt; 0:00 \_ [bioset] 50 ? S&lt; 0:00 \_ [bioset] 51 ? S&lt; 0:00 \_ [bioset] 52 ? S&lt; 0:00 \_ [bioset] 53 ? S&lt; 0:00 \_ [bioset] 54 ? S&lt; 0:00 \_ [bioset] 55 ? S&lt; 0:00 \_ [bioset] 56 ? S&lt; 0:00 \_ [bioset] 57 ? S&lt; 0:00 \_ [bioset] 58 ? S&lt; 0:00 \_ [bioset] 59 ? S&lt; 0:00 \_ [bioset] 60 ? S&lt; 0:00 \_ [bioset] 61 ? S&lt; 0:00 \_ [bioset] 62 ? S&lt; 0:00 \_ [bioset] 63 ? S&lt; 0:00 \_ [bioset] 64 ? S&lt; 0:00 \_ [bioset] 65 ? S&lt; 0:00 \_ [bioset] 66 ? S&lt; 0:00 \_ [bioset] 67 ? S&lt; 0:00 \_ [bioset] 68 ? S&lt; 0:00 \_ [bioset] 69 ? S&lt; 0:00 \_ [bioset] 70 ? S&lt; 0:00 \_ [VCHIQ-0] 71 ? S&lt; 0:00 \_ [VCHIQr-0] 72 ? S&lt; 0:00 \_ [VCHIQs-0] 73 ? S&lt; 0:00 \_ [iscsi_eh] 74 ? S&lt; 0:00 \_ [dwc_otg] 75 ? S&lt; 0:00 \_ [DWC Notificatio] 77 ? S 0:00 \_ [irq/92-mmc1] 78 ? S 0:00 \_ [VCHIQka-0] 79 ? S&lt; 0:00 \_ [SMIO] 80 ? S&lt; 0:00 \_ [deferwq] 83 ? S&lt; 0:00 \_ [bioset] 84 ? S 0:11 \_ [mmcqd/0] 87 ? S 0:04 \_ [jbd2/mmcblk0p2-] 88 ? S&lt; 0:00 \_ [ext4-rsv-conver] 89 ? S&lt; 0:00 \_ [ipv6_addrconf] 172 ? S 415:15 \_ [w1_bus_master1] 224 ? S&lt; 0:00 \_ [cfg80211] 227 ? S&lt; 0:00 \_ [brcmf_wq/mmc1:0] 229 ? S 0:00 \_ [brcmf_wdog/mmc1] 493 ? S&lt; 0:00 \_ [kworker/1:1H] 550 ? S&lt; 0:00 \_ [kworker/3:1H] 632 ? S&lt; 0:00 \_ [kworker/u9:0] 633 ? S&lt; 0:00 \_ [hci0] 634 ? S&lt; 0:00 \_ [hci0] 638 ? S&lt; 0:00 \_ [kworker/u9:2] 3856 ? S&lt; 0:00 \_ [kworker/2:1H] 9346 ? S&lt; 0:00 \_ [kworker/0:1H] 15564 ? S 0:00 \_ [kworker/1:0] 17556 ? S 0:00 \_ [kworker/u8:2] 17878 ? S 0:00 \_ [kworker/0:0] 17879 ? S 0:00 \_ [kworker/2:2] 19234 ? S 0:00 \_ [kworker/u8:4] 19566 ? S 0:00 \_ [kworker/3:1] 20143 ? S 0:00 \_ [kworker/2:1] 20259 ? S 0:00 \_ [kworker/3:2] 20352 ? S 0:00 \_ [kworker/0:2] 20416 ? S 0:00 \_ [kworker/1:2] 20600 ? S 0:00 \_ [kworker/3:0] 20601 ? S 0:00 \_ [kworker/2:0] 20605 ? S 0:00 \_ [kworker/u8:0] 20725 ? S 0:00 \_ [kworker/0:1] 1 ? Ss 0:10 /sbin/init 134 ? Ss 1:00 /lib/systemd/systemd-journald 136 ? Ss 0:08 /lib/systemd/systemd-udevd 416 ? Ss 0:09 /usr/sbin/cron -f 426 ? Ss 0:01 /lib/systemd/systemd-logind 429 ? Ss 0:00 avahi-daemon: running [raspberrypi.local] 458 ? S 0:00 \_ avahi-daemon: chroot helper 433 ? Ss 0:00 /usr/bin/dbus-daemon --system --address=systemd: --no 450 ? Ss 0:02 /usr/sbin/thd --daemon --triggers /etc/triggerhappy/t 496 ? Ss 0:03 /sbin/wpa_supplicant -s -B -P /run/wpa_supplicant.wla 498 ? Ssl 0:13 /usr/sbin/rsyslogd -n 636 ? S 0:00 /usr/bin/hciattach /dev/serial1 bcm43xx 921600 noflow 640 ? Ss 0:00 /usr/lib/bluetooth/bluetoothd 729 ? Ss 0:02 /sbin/dhcpcd -q -w 749 ? Ss 0:00 /usr/sbin/sshd -D 20726 ? Ss 0:00 \_ sshd: pi [priv] 20732 ? S 0:00 \_ sshd: pi@pts/0 20734 pts/0 Ss 0:00 \_ -bash 20744 pts/0 R+ 0:00 \_ ps -afx 777 tty1 Ss+ 0:00 /sbin/agetty --noclear tty1 linux 907 ? Sl 737:23 ./dump1090 --net --net-sbs-port 30003 915 ? S 11:11 python -O /root/get_message/send_message.py</code> </pre><br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto muestra que puede tomar datos de PiAware casi sin forzar, de hecho, solo transfiriendo scripts al nuevo sistema. </font><font style="vertical-align: inherit;">Y si ya tiene una estaci√≥n adsb existente: hecha en casa, Flightradar24, Flightaware, entonces el receptor existente puede usarse a su discreci√≥n para otros objetivos y tareas personales con una conciencia completamente limpia.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalar VariFlight en PiAware</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transferimos los archivos necesarios al nuevo sistema desde el anterior. </font></font> Es decir<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenido del directorio ra√≠z: directorio </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_message y archivos install.sh, synctime.sh, task.sh. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el directorio get_message:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acars.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> config.ini </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> get_ip.py </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> init.sh </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> send_message.py </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y el archivo UUID es su identificador en la red VariFlight. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si desea comenzar a compartir datos sin VariFlight Feeder, la primera vez que ejecute el script, se generar√° su UUID. </font><font style="vertical-align: inherit;">Este archivo y el nombre del aeropuerto m√°s cercano deben enviarse a chengyi (at) variflight.com para crear su cuenta en el servicio. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siguiente:</font></font><br><pre> <code class="bash hljs">pi@piaware:~ $ sudo apt-get install -y python ntpdate pi@piaware:~ $ su root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># sh task.sh root@piaware:~# crontab -e</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edici√≥n de crontab en nano pegando </font></font><br><pre> <code class="bash hljs">* * * * * /root/task.sh &gt;/dev/null 2&gt;&amp;1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Guarde el archivo presionando [Ctrl + O] y cierre [Ctrl + X]. </font></font><br><pre> <code class="bash hljs">root@piaware:~<span class="hljs-comment"><span class="hljs-comment"># chmod 777 task.sh root@piaware:~# reboot</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s del reinicio, verificamos la p√°gina con sus estad√≠sticas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.feeyo.com/user/rank</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En la cuarta columna debe haber una inscripci√≥n verde en l√≠nea. </font><font style="vertical-align: inherit;">Y en la lista de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aeropuerto, los</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tableros aceptados (tercera columna: hace cu√°ntos segundos se recibi√≥ una se√±al del avi√≥n). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En este punto, mi borrador "colg√≥" indefinidamente, porque </font><font style="vertical-align: inherit;">aqu√≠ quer√≠a escribir c√≥mo ejecutar un script en el enrutador con openwrt y ModeSMixer para distribuir datos a los servicios y as√≠ apagar este receptor y aplicarlo para otros fines. </font><font style="vertical-align: inherit;">Pero todav√≠a no espero tiempo libre y decid√≠ publicar tal cual. </font><font style="vertical-align: inherit;">Tal vez alguien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quiera pedir un</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> receptor </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gratuito</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y este art√≠culo ser√° √∫til.</font></font><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un receptor puede distribuir datos a varios servicios y el programa ModeSMixer se utiliza para esto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ModeSMixer es una aplicaci√≥n de consola para combinar y retransmitir transmisiones con datos de Modo-S en varios formatos. </font><font style="vertical-align: inherit;">Ejemplo de caso de uso:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/k_/r_/kg/k_r_kgk9z0hxapzmioayflatyce.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El programa est√° dise√±ado para combinar y transmitir diferentes formatos de flujos de datos ModeS. </font><font style="vertical-align: inherit;">El programa no tiene configuraciones predeterminadas. </font><font style="vertical-align: inherit;">Todo est√° configurado por par√°metros. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El par√°metro --inConnect especifica las direcciones y los puertos desde los cuales se reciben los datos. </font><font style="vertical-align: inherit;">Y el par√°metro --outServer define el formato y el puerto para los datos transmitidos. </font><font style="vertical-align: inherit;">Un ejemplo en la imagen se ver√° as√≠:</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect 192.168.0.105:30005 --inConnect 127.0.0.1:30005 --outServer sbs10001:10001 --outServer beast:31001 --globes 32000:tablename:home --location XX.XXXXX:YY.YYYYY --web 8765 &amp;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El par√°metro --location determina la latitud y longitud de la ubicaci√≥n de instalaci√≥n de la estaci√≥n, y el par√°metro --web determina el puerto en el que funcionar√° la interfaz web del programa. Lea m√°s sobre el programa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despu√©s de configurar la distribuci√≥n de varios servicios, el propietario de la estaci√≥n recibe una membres√≠a especial en cada servicio y acceso a informaci√≥n no p√∫blica y al archivo de vuelo durante un cierto per√≠odo de tiempo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el caso de usar PiAware, los datos ya se env√≠an a FlightAware y todo lo que queda es recopilar estos datos utilizando modemixer2. Y en el caso de Variflight, necesita obtener datos de BaseStation en alg√∫n puerto libre, por ejemplo, 10001. El par√°metro se ver√° as√≠ --outServer msg: 10001. Si es necesario, puede agregar el puerto 10002 para el programa VirtualRadar: --outServer beast: 10002</font></font><br><pre> <code class="bash hljs">./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --outServer beast:10002 --location &lt;&gt;:&lt;&gt; --web 8765 &amp;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para que esto se inicie y reinicie autom√°ticamente, debe editar task.sh, agregando: </font></font><br><pre> <code class="bash hljs">ps -eaf | grep modesmixer2 | grep -v grep <span class="hljs-comment"><span class="hljs-comment"># if not found - equals to 1, start it if [ $? -eq 1 ] then ./modesmixer2 --inConnect localhost:30005 --inConnect localhost:30105 --outServer msg:10001 --location &lt;&gt;:&lt;&gt; --web 8765 &amp; echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 restart" echo "------------------------------------------------------------------------" else echo `date "+%G-%m-%d %H:%M:%S"`" modesmixer2 running" echo "------------------------------------------------------------------------" fi</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Finalmente, edite el script get_message / send_message.py, especificando un nuevo puerto de datos: </font></font><br><pre> <code class="python hljs">serverHost = <span class="hljs-string"><span class="hljs-string">'localhost'</span></span> serverPort = <span class="hljs-number"><span class="hljs-number">10001</span></span></code> </pre><br><br><h2> <font color="#cc0000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mientras tanto</font></font></font> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mientras este art√≠culo estaba en borrador, surgieron noticias de China con respecto a estos servicios. </font><font style="vertical-align: inherit;">En noviembre de 2018, las autoridades chinas comenzaron a apagar los receptores ADSB de servicios extranjeros. </font><font style="vertical-align: inherit;">Esto se puede ver en las estad√≠sticas p√∫blicas de las estaciones de Flightaware en China: </font></font><br><br><img src="https://habrastorage.org/webt/qt/ao/zw/qtaozwosymnimbutqn0miisq_mu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la noticia es que los entusiastas de detecci√≥n de radares chinos dijeron que fueron llamados por representantes de las autoridades chinas y fueron visitados por la polic√≠a, quienes "muy amables y educados" les pidieron que dejaran de enviar datos ADS-B al extranjero servicios que, aparentemente, "ponen en peligro la seguridad y soberan√≠a nacional de China".</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algunos afirmaron que recibieron una llamada, incluso si no recibieron un receptor de FlightRadar24 y FlightAware. </font><font style="vertical-align: inherit;">Estos eventos causaron revuelo entre los entusiastas, y muchos de ellos dejaron de transmitir datos ADS-B. </font><font style="vertical-align: inherit;">Se sabe que FlightRadar24 intent√≥ anonimizar estaciones de usuarios en China. </font><font style="vertical-align: inherit;">Todav√≠a no est√° claro cu√°n espectacular es esto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aviso a las autoridades chinas en ingl√©s:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/5g/ib/aq/5gibaqetlgqzcqxaul0ognxlau0.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pone en peligro la seguridad nacional y la soberan√≠a de China", el hecho de que dichos servicios permiten la ubicaci√≥n de aviones militares chinos (estadounidenses, europeos y que no sean pa√≠ses de la antigua URSS). </font><font style="vertical-align: inherit;">Por ejemplo, la trayectoria semanal del UAV de reconocimiento estrat√©gico estadounidense sobre aguas internacionales a una altitud de 16 km:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/zz/oy/hvzzoywpk5ukuehepkkdjgcbvt0.png" alt="imagen" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay dos sistemas de radar secundario en el mundo desde los EE. UU. Y la URSS. </font><font style="vertical-align: inherit;">Por lo tanto, estos receptores y servicios no pueden mostrar el paradero de la mayor√≠a de los aviones y helic√≥pteros "sovi√©ticos" a menos que est√©n equipados con un transpondedor de radar "estadounidense", que es necesario solo para vuelos en el aire, por ejemplo, los Estados Unidos o la UE. </font><font style="vertical-align: inherit;">Por lo tanto, puede ver algo interesante en el territorio de la Federaci√≥n Rusa en las √°reas fronterizas, preferiblemente junto al mar. </font><font style="vertical-align: inherit;">Por ejemplo, el oficial de inteligencia estadounidense mencionado anteriormente es notablemente visible desde Krasnodar. </font><font style="vertical-align: inherit;">Debido a la ubicaci√≥n costera del receptor, el servicio PlaneRadar mencionado anteriormente se introduce peri√≥dicamente en las noticias de los medios de comunicaci√≥n rusos.</font></font><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1067760621398253569"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS VariFlight ADS-B </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">lanza</font></a><font style="vertical-align: inherit;"> la versi√≥n en ingl√©s - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flightadsb.variflight.com</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es423989/">https://habr.com/ru/post/es423989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es423979/index.html">Panel de biomarcadores de envejecimiento saludable del Reino Unido</a></li>
<li><a href="../es423981/index.html">Libro DDIA (libro con un cerdo) - subir de nivel en la comprensi√≥n de bases de datos</a></li>
<li><a href="../es423983/index.html">11 bibliotecas de visualizaci√≥n de JavaScript que vale la pena conocer en 2018</a></li>
<li><a href="../es423985/index.html">Roskomnadzor propone abolir la neutralidad de la red en redes 5G</a></li>
<li><a href="../es423987/index.html">C√≥mo convertirse en un programador de Java</a></li>
<li><a href="../es423991/index.html">Secretos de gesti√≥n de suscripciones de Apple App Store</a></li>
<li><a href="../es423993/index.html">C√≥mo dibujar un agujero negro. Trazado de rayos geod√©sicos en espacio-tiempo curvo</a></li>
<li><a href="../es423995/index.html">Limpieza en un taller geek. Parte 2</a></li>
<li><a href="../es423997/index.html">"IT CRIMEA": un nuevo parque tecnol√≥gico en Sebastopol, comenzar√° a funcionar a finales de este a√±o</a></li>
<li><a href="../es423999/index.html">Los datos de usuario de Windows en una PC con soporte de entrada t√°ctil se escriben en un archivo separado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>