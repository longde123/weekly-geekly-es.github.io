<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞🏼 👩🏽‍✈️ 👨🏿‍🏫 ¿Qué sucede cuando envías SMS? 🗝️ 🤟🏿 👩🏾‍🤝‍👩🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este es el tercer artículo en el bucle de desarrollo de pila completa sobre la vida secreta de los datos. Está dedicado a la ruta de SMS larga y difíc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¿Qué sucede cuando envías SMS?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437510/">  Este es el tercer artículo en el bucle de desarrollo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pila completa</a> sobre la vida secreta de los datos.  Está dedicado a la ruta de SMS larga y difícil: marcar, guardar, enviar, recibir y mostrar.  Agregaré un poco de historia y contexto para diluir la lista de protocolos.  Aunque el texto es bastante técnico, es bastante fácil de entender. <br><br>  Las dos primeras partes del ciclo: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cetus</a> , sobre la propagación de errores en los ancestros de las hojas de cálculo del siglo XVII. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Down the Rabbit Hole"</a> , sobre la búsqueda increíblemente compleja de la fuente de un conjunto de datos </li></ul><br>  Así que empecemos ... <br><a name="habracut"></a><br>  Mi pierna se retorció involuntariamente por la vibración: ¿es un teléfono o simplemente parecía?  - y una mirada superficial encontró una luz azul intermitente.  "Te amo" de mi esposa.  Inmediatamente bajé las escaleras para desearle buenas noches, porque sé la diferencia entre un mensaje y un <i>mensaje</i> .  Esto es un poco como el cifrado o la esteganografía: cualquiera ve el texto, pero solo yo puedo decodificar los datos ocultos. <br><br>  Mi traducción es solo un enlace en una cadena sorprendentemente larga de eventos que son necesarios para enviar y descifrar un mensaje ("baja y di buenas noches") en menos de cinco segundos a una distancia de unos 10 metros. <br><br>  Aparentemente, el mensaje se originó en algún lugar del cerebro de mi esposa y se convirtió en movimientos de los dedos, pero esta transmisión de señal es el tema de otro artículo.  Nuestra conversación comienza desde el momento en que su pulgar tocó la pantalla translúcida, y termina cuando la luz cayó sobre mi retina. <br><br><h1>  A través del espejo </h1><br>  Con cada toque desde la pantalla, una pequeña carga eléctrica fluye hacia la mano.  Como la corriente fluye fácilmente a través del cuerpo humano, los sensores del teléfono registran el cambio de voltaje en el lugar donde el dedo tocó la pantalla.  En este caso, se producen fluctuaciones de voltaje aleatorias en el resto de la pantalla, por lo tanto, el algoritmo determina las fluctuaciones de voltaje máximas y supone que fue en este lugar donde la persona quería presionar con el dedo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b6/e78/a47/6b6e78a47c281c7bd6ab664b26f14644.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">0. Sensor táctil capacitivo</font></i> <br><br>  Entonces, ella hace clic en la pantalla, escribiendo una letra a la vez. <br><br> <code>I--love--you.</code> <br> <br>  Ella no usa deslizar (pero por alguna razón todavía imprime más rápido que yo).  El teléfono registra de manera confiable las coordenadas (x, y) de cada pulsación y verifica las coordenadas de cada tecla en la pantalla.  Es más difícil de lo que piensas;  a veces el dedo se desliza, pero de alguna manera el teléfono comprende que esto no es un gesto, sino simplemente un clic borroso. <br><br>  En lo profundo de las tripas metálicas del dispositivo, el algoritmo verifica que cada vez que un cambio en el voltaje cubra más de un cierto número de píxeles, lo que se denomina <i>pendiente táctil</i> .  Si el área es pequeña, el teléfono registra una pulsación de tecla, no un deslizamiento. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef3/fdf/3b4/ef3fdf3b4e547d827bef38d59a443fcc.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">1. Código de Android para detectar la inclinación táctil.</font></i>  <i><font color="gray">Tenga en cuenta que los desarrolladores sabían el género de mi esposa</font></i> <br><br>  Ella termina el mensaje, patéticos 10 caracteres de 160 permitidos. <br><br>  160 caracteres es un número cuidadosamente verificado.  Según la leyenda, en 1984 un ingeniero telefónico alemán, Friedhelm Hillebrand, se sentó en una máquina de escribir y escribió tantas frases aleatorias como se le ocurrieron.  Luego, su equipo examinó las postales y los mensajes de teletipo, y descubrió que la mayoría de ellos no superaba los 160 caracteres.  "¡Eureka!"  - Aparentemente, gritaron en alemán antes de fijar el límite de caracteres en los mensajes de texto durante las siguientes tres décadas. <br><br><h1>  Restricciones de símbolos y leyendas </h1><br>  Las leyendas rara vez cuentan toda la historia, y los SMS no son la excepción.  Hillebrand y su equipo esperaban transmitir mensajes a través de un canal adicional que los teléfonos ya habían usado para intercambiar información con la estación base. <br><br>  El sistema de señalización SS7 es un conjunto de protocolos utilizados por los teléfonos celulares para mantenerse en contacto constante con una estación base;  necesitan una conexión constante para recibir una llamada y transferir su ubicación, verificar el correo de voz, etc. Al desarrollar el protocolo en 1980, introdujeron un límite estricto de 279 bytes de información.  Si Hillebrand quería recibir mensajes de texto utilizando el protocolo SS7, debería haber encajado en esta restricción. <br><br>  Típicamente 279 bytes equivalen a 279 caracteres.  Hay 8 bits en un byte, y en codificaciones generales, un carácter corresponde a un byte. <br><br>  Un <br><br> <code>0100 0001</code> <br> <br>  B <br><br> <code>0100 0010</code> <br> <br>  Con <br><br> <code>0100 0011</code> <br> <br>  Y así sucesivamente. <br><br>  Desafortunadamente, para transmitir un mensaje usando el protocolo SS7, no puede simplemente enviar 2232 ceros y unidades (279 bytes de 8 bits) con una señal de radio de un teléfono a otro.  Este mensaje debe incluir los números del remitente y el destinatario, así como el mensaje de servicio para la estación base "¡Hola, este mensaje, no una llamada, no envíe una señal de llamada!" <br><br>  Cuando Hillebrand y sus colegas lograron agrupar todos los bits de contexto necesarios en una señal de 279 bytes, solo les quedaban 140 bytes o 1120 bits. <br><br>  Pero, ¿y si codificas un personaje en solo 7 bits?  Luego puede exprimir 160 (1120/7 = 160) caracteres en cada mensaje, pero tal reducción requiere sacrificio: menos caracteres posibles. <br><br>  La codificación de ocho bits permite 256 caracteres posibles: un lugar es minúscula 'a', uno es mayúscula 'A', su lugar en el espacio y el símbolo '@', salto de línea y así sucesivamente, hasta 256. Para reducir el alfabeto a siete bits, debe eliminar algunos símbolos: símbolo 1/2 (½), símbolo de grado (°), símbolo de pi (π) y así sucesivamente.  Pero suponiendo que las personas nunca usen estos caracteres en el texto (una mala suposición, por supuesto), Gillebrand y sus colegas lograron poner 160 caracteres en 140 bytes.  A su vez, este volumen encaja exactamente en 279 bytes de la señal SS7: exactamente el número de caracteres que se definieron previamente como la longitud ideal del mensaje. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/347/d87/15b/347d8715b23e4e60c82d0570b4baffbb.png"><img src="https://habrastorage.org/getpro/habr/post_images/553/47d/5e4/55347d5e47cd1add4f05f01a3e08dba8.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">2. Juego de caracteres GSM-7</font></i> <br><br>  Y luego la esposa escribe "Te amo", y el teléfono convierte las letras en un esquema de codificación de 7 bits llamado GSM-7. <br><br>  "I" (la intersección de la cuarta columna y la novena fila de la tabla): <br><br> <code>49</code> <br> <br>  Espacio (la intersección de la segunda columna y la fila cero): <br><br> <code>20</code> <br> <br>  "L" = <br><br> <code>6C</code> <br> <br>  "O" = <br><br> <code>6F</code> <br> <br>  y así sucesivamente. <br><br>  En general, su mensaje se convierte en la siguiente secuencia: <br><br> <code>49 20 6C 6F 76 65 20 79 6F 75</code> <br> <br>  (10 bytes en total).  Cada código de dos caracteres, llamado código hexadecimal (hexadecimal), representa un fragmento de ocho bits, y juntos suena como "Te amo". <br><br>  Pero, de hecho, el mensaje no está tan almacenado en el teléfono.  Debería convertir texto de 8 bits a código de 7 bits.  Como resultado de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20081017024616/">conversión, el</a> mensaje comienza a cambiar a esto: <br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  (9 bytes) en su teléfono. <br><br>  Cuando la esposa finalmente termina su mensaje (solo toma unos segundos), hace clic en "Enviar", y muchos pequeños ángeles reciben el mensaje codificado, agitan sus alas invisibles 10 metros hacia mi oficina y lo transfieren cuidadosamente a mi teléfono.  El proceso no es muy fácil, por eso mi teléfono vibra un poco en el momento de la entrega. <br><br>  Los llamados "ingenieros de comunicaciones" le contarán una historia diferente y, en aras de la exhaustividad, la volveré a contar, pero si fuera usted, no confiaría demasiado en estas personas. <br><br><h1>  SIM para enviar </h1><br>  El ingeniero dirá que cuando el teléfono detecta un cambio de voltaje en las coordenadas de la pantalla que coincide con las coordenadas del elemento gráfico con el botón "Enviar", envía un mensaje codificado a la tarjeta SIM y agrega varios datos contextuales durante la transferencia.  Cuando el mensaje llega a la tarjeta SIM de mi esposa, ya no hay 140, sino 176 bytes (texto + contexto). <br><br>  Se utilizan 36 bytes adicionales para codificar otra información, como se muestra a continuación. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ba/64d/ced/8ba64dced4f26bd4db2bd01cb10daac9.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">3. Aquí, los bytes se llaman octetos (8 bits).</font></i>  <i><font color="gray">Contar todo da 174 octetos (10 + 1 + 1 + 12 + 1 + 1 + 7 + 1 + 140).</font></i>  <i><font color="gray">Los dos bytes restantes están reservados para la contabilidad de las tarjetas SIM.</font></i> <br><br>  Los primeros diez bytes están reservados para el número de teléfono (SCA) del centro de SMS (SMSC), que es responsable de recibir, almacenar, reenviar y entregar mensajes de texto.  De hecho, es un interruptor: el teléfono de la esposa envía una señal a la torre celular local, que envía un mensaje de texto a SMSC.  El centro de SMS, que en nuestro caso está controlado por AT&amp;T, envía el texto a la estación base más cercana a mi teléfono.  Mientras me siento en tres habitaciones de mi esposa, el mensaje se devuelve a la misma estación base y luego a mi teléfono. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f3/2f4/74e/5f32f474eae14a1b1d10f8f1a9baf4e0.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">4. Red de SMS celular</font></i> <br><br>  El siguiente byte (tipo PDU) codifica información básica sobre cómo el teléfono debe interpretar el mensaje: si se envió con éxito, si se necesita un mensaje de entrega y (importante) si es texto único o parte de una cadena de mensajes relacionados. <br><br>  El byte después del tipo PDU es una referencia de mensaje (MR).  Este número del 1 al 255, de hecho, se usa como una identificación a corto plazo para que el teléfono y el operador reconozcan el mensaje.  El mensaje de la esposa está configurado en el número 0, porque su teléfono tiene su propio sistema de identificación de mensajes, independiente de este archivo en particular. <br><br>  Los siguientes doce bytes están reservados para el número de teléfono del destinatario, llamado dirección de destino (DA).  Con la excepción de la codificación de texto de 7 bits, que ayuda a comprimir 160 letras en 140 caracteres, la codificación del número de teléfono es lo más estúpido y confuso de este SMS.  Se llama notación de mordisco inverso y convierte cada dígito en mordisco, es decir, mordisco, y los intercambia (¿Entiendes todo? Un medio byte es un mordisco, jajajajaja, pero nadie se ríe, son ingenieros). <br><br>  Mi número 1-352-537-8376 en el teléfono de mi esposa está registrado como: <br><br>  3125358773f6 <br><br>  1-3 se convierte en <br><br> <code>31</code> <br> <br>  52 se convierte en <br><br> <code>25</code> <br> <br>  53 se convierte en <br><br> <code>35</code> <br> <br>  7-8 se convierte en <br><br> <code>87</code> <br> <br>  37 se convierte en <br><br> <code>73</code> <br> <br>  Y los últimos 6 se convierten en ... <br><br> <code>f6</code> <br> <br>  ¿Qué demonios tomaron estos seis?  Bueno, significa el final del número, pero por alguna razón terrible (de nuevo, notación inversa) es un carácter antes del último dígito. <br><br>  Esto es como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"latín guarro",</a> solo para números. <br><br> <code>   ,   .    ,   .</code> <br> <br>  Pero no estoy bromeando. <br><br>  [UPD: Sean Gies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">señaló</a> que la escritura rápida es un artefacto inevitable de representar números de 4 bits desde los fragmentos de 8 bits más pequeños hasta los más antiguos (little-endian).  Esto no niega la descripción anterior, pero agrega algo de contexto para aquellos que entienden y hace que la decisión sea más razonable]. <br><br>  El byte identificador de protocolo (PID) ahora se desperdicia en general.  Toma alrededor de 40 valores posibles y le dice al proveedor cómo enviar un mensaje.  Valor <br><br> <code>22</code> <br> <br>  significa que la esposa envía "Te amo" al fax, y el valor <br><br> <code>24</code> <br> <br>  significa que de alguna manera lo envía a la línea de voz.  Dado que este mensaje es en forma de SMS al teléfono, el PID está configurado en <br><br> <code>0</code> <br> <br>  (Como cualquier otro texto enviado en el mundo moderno). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac7/b49/579/ac7b495795883450f653cf12cc5c2bcb.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">5. Posibles valores PID</font></i> <br><br>  El siguiente byte es un esquema de codificación de datos (DCS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">consulte la documentación</a> ), que le indica al operador y al teléfono del destinatario qué esquema de codificación de caracteres se utilizó.  Mi esposa envió el texto a GSM-7, pero es fácil imaginar que el texto podría escribirse en cirílico, jeroglíficos o ecuaciones matemáticas complejas (bueno, tal vez no sea fácil de imaginar, pero todos tienen derecho a soñar, ¿verdad?). <br><br>  En el texto de la esposa, el byte DCS se establece en <br><br> <code>0</code> <br> <br>  que corresponde a un alfabeto de 7 bits, pero el valor se puede cambiar a un alfabeto de 8 o 16 bits, aunque esto dejará mucho menos espacio para los caracteres.  Por cierto, es por eso que tus emojis reducen la cantidad de caracteres disponibles. <br><br>  Todavía hay una pequeña bandera en el byte DCS que le dice al teléfono si el mensaje debe autodestruirse después del envío, como en la película Misión imposible, por lo que es genial. <br><br>  El período de validez (VP) ocupa hasta siete bytes y nos da la oportunidad de conocer otro aspecto de cómo funciona realmente el sistema de reenvío de SMS.  Eche otro vistazo a la Figura 4 en la parte superior.  Está bien, esperaré. <br><br>  Entonces, cuando la esposa finalmente hace clic en el botón "Enviar", el texto se envía al centro de SMS (SMSC), que luego me envía un mensaje.  Estoy sentado en el segundo piso y mi teléfono está encendido, así que recibo un mensaje en unos segundos, pero ¿qué pasa si el teléfono está apagado?  Por supuesto, entonces no puede aceptar el mensaje, por lo que el SMSC debe hacer algo con el texto. <br><br>  Si SMSC no puede encontrar mi teléfono, entonces el mensaje de mi esposa simplemente saltará al sistema hasta que mi teléfono se conecte, y luego el centro de SMS enviará el texto de inmediato.  Me gusta imaginar cómo SMSC revisa constantemente cada teléfono en la red para verificar si es mi teléfono o no: ¿cómo huele un cachorro que espera al dueño en la puerta a cada transeúnte: es el olor de mi persona?  No  Tal vez <i>este es el</i> olor de mi hombre?  No  ¿Es el olor de mi hombre?  DADAPRIGUATURE !!! <br><br>  Los bytes del período de validez (VP) le indican al sistema cuánto tiempo esperará el cachorro antes de aburrirse y encontrar un nuevo hogar.  Esto es una marca de tiempo o una brecha, y esencialmente dice: "Si no encontró el teléfono del destinatario en los próximos días, no se preocupe por enviar un mensaje".  De manera predeterminada, el período de validez de los SMS es de 10,080 minutos, por lo que si el teléfono no se conecta a la red dentro de los siete días, nunca recibirá este SMS. <br><br>  Dado que los SMS a menudo tienen mucho espacio vacío, se dedican unos pocos bits para garantizar que el teléfono y el operador sepan exactamente qué bytes no se utilizan.  La tarjeta SIM de la esposa está esperando un mensaje de texto de 176 bytes, pero escribió un mensaje muy corto, por lo que si la tarjeta SIM recibe solo 45 bytes, puede confundirse y sugerir algún tipo de falla.  El Byte de longitud de datos de usuario (UDL) resuelve este problema: indica con precisión cuántos bytes hay en el mensaje de texto. <br><br>  En el caso de "Te amo", el UDL indicará que el mensaje contiene 9 bytes.  Puede esperar que el valor sea de 10 bytes, un byte para cada uno de los diez caracteres: <br><br> <code>I-spacebar-love-spacebar-you</code> <br> <br>  pero dado que cada carácter consta de siete bits, no ocho (byte completo), puede descartar el byte adicional al traducir: 7 bits * 10 caracteres = 70 bits, dividir por 8 (el número de bits en un byte) = 8.75 bytes, redondeado hasta 9 bytes <br><br>  Llegamos a la última parte de SMS: este es el mensaje en sí o UD (datos del usuario).  Un mensaje puede tomar hasta 140 bytes, aunque, como acabo de mencionar, "Te amo" tomará un miserable 9. Es sorprendente cuánto está empaquetado en estos 9 bytes: no solo un mensaje (el supuesto amor de mi esposa por mí, que ya es bastante difícil de comprimir a ceros) y unidades), pero también el significado en sí mismo (debes bajar y desearle buenas noches).  Estos bytes son: <br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  En general, este mensaje se guarda en la tarjeta SIM de mi esposa: <br><br>  SCA [1-10] -PDU [1] -MR [1] -DA [1-12] -DCS [1] -VP [0, 1 o 7] -UDL [1] -UD [0-140] <br><br> <code>00 - 11 - 00 - 07 31 25 35 87 73 F6 - ?? 00 ?? - ?? - 09 - 49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  (Nota: para obtener el mensaje completo, debe cavar un poco más. Por desgracia, solo una <i>parte del</i> mensaje es visible aquí debido a caracteres no mostrados, signos de interrogación) <br><br><h1>  Olas en el aire </h1><br>  Ahora, los SMS deberían comenzar de alguna manera su difícil viaje desde la tarjeta SIM hasta la estación base más cercana.  Para hacer esto, el teléfono de la esposa debe convertir la cadena de 176 a 279 bytes para el protocolo de señalización SS7, convertir estos bytes digitales en una señal de radio analógica y luego enviar las señales al aire con una frecuencia en algún lugar entre 800 y 2000 MHz.  Esto significa que entre los picos de las olas la distancia es de 15 a 37 cm. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b16/5d2/dcd/b165d2dcd67927e07e7a08279e62e1dc.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">6. La longitud de onda</font></i> <br><br>  Para una transmisión y recepción de señales eficientes, la antena debe tener al menos la mitad de la longitud de onda.  Si las ondas de comunicación celular son de 15 a 37 cm, entonces las antenas deben tener un tamaño de aproximadamente 7-19 cm. Ahora deténgase y piense en la altura promedio del teléfono móvil y por qué nunca disminuye. <br><br>  A través de una cierta gimnasia digital, cuya explicación llevará demasiado tiempo, el teléfono de mi esposa de repente dispara un paquete de información de 279 bytes con el texto "Te amo" a la velocidad de la luz en todas las direcciones, que finalmente se desvanece y se disuelve en ruido de radio después de unos 50 kilómetros. <br><br>  Mucho antes de esto, la señal llega a la estación base AT&amp;T HSPA ID199694204 LAC21767.  Esta estación de transceptor base (BTS) está a unas cinco cuadras de mi panadería favorita de La Gourmandine en Hazelwood, y aunque encontré sus coordenadas usando la aplicación OpenSignal de Android, la antena está bien escondida de miradas indiscretas. <br><br>  Lo más sorprendente aquí es que BTS generalmente recibe esta señal, considerando todo lo demás.  Mi esposa no solo envía "Te amo" en la milésima parte del rango del espectro electromagnético, sino que decenas de miles de personas en un radio de 50 kilómetros en este momento están hablando por teléfono o escribiendo mensajes.  Además, muchas señales de radio y televisión están abogando por nuestra atención en el aire, junto con la luz visible que se refleja en diferentes direcciones, esta es solo una pequeña parte de las ondas electromagnéticas, que, al parecer, deberían interferir con el BTS. <br><br>  Como lo expresó Richard Feynman elocuentemente en 1983, una torre celular es como un pequeño escarabajo ciego que yace en el agua en el borde de la piscina: solo por la altura y la dirección de las olas determina quién y dónde está nadando. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1qQQXTMih1A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">Feynman discute las olas</font></i> <br><br>  En parte debido a la compleja interferencia de las señales, cada estación base del transceptor generalmente no puede procesar más de 200 usuarios activos (voz o datos) al mismo tiempo.  Entonces, "Love You" hace sonar la estación base local a aproximadamente media milla de aquí, y luego grita en el vacío en todas las direcciones hasta que desaparece en el ruido general. <br><br><h1>  Conmutación </h1><br>  Dadas todas las circunstancias, tuve mucha suerte.  Si mi esposa y yo fuéramos atendidos por diferentes operadores móviles o estuviéramos en diferentes ciudades, la ruta de su comunicación sería mucho más larga. <br><br>  Un mensaje SS7 de 277 bytes llega al BTS local al lado de la panadería.  Desde allí ingresa al controlador de la estación base (BSC), que es el cerebro no solo del nuestro, sino también de varias otras antenas locales.  El BSC transfiere el texto al Pittsburgh AT&amp;T Mobile Switching Center (MSC), que se basa en un mensaje de texto SCA (¿recuerda la dirección del centro de servicio incrustada en cada SMS? ¿Es aquí donde lo necesita?) Para recibir el mensaje en el centro de SMS correspondiente (SMSC). <br><br>  Este galimatías es más fácil de entender usando el diagrama de la Figura 7;  Acabo de describir los pasos 1 y 3. Si la esposa estaba con otro operador, pasaríamos a los pasos 4-7, porque allí es donde los operadores móviles se comunican entre sí.  Los SMS deben venir de SMSC al conmutador global y luego potencialmente dar la vuelta al mundo antes de encontrar el camino a mi teléfono. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c9/13d/e41/8c913de41b9e230bbcddc4f6ddfb1435.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">7. Enrutamiento GSM</font></i> <br><br>  Pero también se sienta en AT&amp;T, y nuestros teléfonos están conectados a la misma celda, así que después del tercer paso, el paquete de amor de 279 bytes simplemente se implementa y se devuelve a través del mismo centro de SMS, a través de la misma estación base, pero ahora a mi teléfono. ella  Viajando varias decenas de kilómetros en poco tiempo. <br><br><h1>  Enviado a sim </h1><br>  Bzzzzz.  El bolsillo vibró.  La notificación deja en claro que el SMS llegó a la tarjeta nano-SIM, un pequeño chip del tamaño de un dedo meñique.  Al igual que Bilbo Baggins o cualquier buen aventurero, ha cambiado un poco en el camino de ida y vuelta. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/687/031/783/6870317839d63f2eec68a64e76574097.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">8. El mensaje recibido difiere del enviado (Fig. 3)</font></i> <br><br>  La Figura 8 muestra la estructura del mensaje recibido "Te amo".  Comparando las Figuras 3 y 8, vemos varias diferencias.  SCA (número de centro de SMS), PDU (algunos arreglos mecánicos), PID ("de teléfono a teléfono", no "teléfono a fax"), DCS (esquema de codificación), UDL (longitud del mensaje) y UD (sí mismo mensaje) se mantuvo sin cambios, pero faltan VP (período de validez), MR (número de identificación del mensaje) y DA (mi número de teléfono). <br><br>  En cambio, aparecieron dos nuevos bloques de información en el teléfono: OA (el número de teléfono original de la esposa) y SCTS (marca de hora del centro de SMS. Es decir, cuando la esposa envió el mensaje). <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El número de teléfono de mi esposa se almacena en la misma molesta notación inversa (como dislexia, solo en computadoras), en la que mi número se almacenó en su teléfono, y la marca de tiempo está en el mismo formato que la fecha de vencimiento almacenada en su teléfono. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estos dos reemplazos son completamente lógicos. </font><font style="vertical-align: inherit;">Se suponía que su teléfono debía contactarme en un momento determinado en una dirección específica, y ahora necesito saber quién envió el mensaje y cuándo. </font><font style="vertical-align: inherit;">Sin una dirección de retorno, no entendería exactamente quién envió este mensaje, por lo que su interpretación podría cambiar enormemente.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Luz de pantalla brillante </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A medida que cualquier computadora traduce una secuencia de bytes en una serie de coordenadas (x, y) para píxeles de ciertos colores, el teléfono recibe un comando para mostrar </font></font><br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y ver el texto "Te amo" en la pantalla en puntos brillantes en blanco y negro. Este es un proceso interesante, pero no es particularmente exclusivo para los teléfonos inteligentes, por lo que debe buscar en otro lado. Nos centramos en cómo estas instrucciones se convierten en puntos de luz. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los expertos en marketing de Samsung llaman a mi pantalla Super AMOLED (diodo emisor de luz orgánico de matriz activa), una matriz activa en LED orgánicos, que de alguna manera es redundante y no particularmente informativa, así que ignore la decodificación de abreviaturas como otra distracción y sumérjase directamente en la tecnología.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cada uno de los 83 centímetros cuadrados de la pantalla, caben alrededor de 50,000 pequeños píxeles en mi teléfono. Para que tal cantidad se ajuste, cada píxel debe tener aproximadamente 45 micras de ancho (micrómetros): más delgado que el cabello humano. Cuatro millones de elementos ligeros en un área del tamaño de una palma. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero ya sabes cómo funcionan las pantallas. Usted sabe que cada punto del mundo, como el Dios cristiano o los mosqueteros (menos d'Artagnan) es siempre "tres en uno". Rojo, verde y azul forman la luz blanca de un píxel. Si cambia el brillo de cada canal, puede obtener cualquier color RGB. Y como 4 × 3 = 12, estas son 12 millones de pequeñas fuentes de luz, que dormita inocentemente detrás de mi espejo negro, esperando que presione el botón de encendido para leer un mensaje de mi esposa.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0b/9ad/9da/f0b9ad9dabfa0c5ee715be484684ac13.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 9. Conjunto de subpíxeles de la pantalla OLED de Samsung</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como se desprende de la abreviatura, cada píxel es un LED orgánico. Esta es una jerga técnica incomprensible para un sándwich eléctrico simple:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/22d/87c/aeb/22d87caebf3da5cd94ef88482c453b6a.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fig. 10. Emparedado eléctrico No</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es necesario estudiar el propósito de cada capa, solo es importante saber que el cátodo (placa con carga negativa) está ubicado debajo de una capa de moléculas orgánicas (solo algunas moléculas con carbono), y está cubierto con un ánodo (placa con carga positiva) en la parte superior.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuando el teléfono quiere encender la pantalla, envía electrones desde el cátodo al ánodo. Las moléculas en el medio reciben una carga y comienzan a emitir luz visible: fotones, a través del ánodo transparente, la pantalla en mis ojos abiertos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como cada píxel tiene tres puntos de luz (rojo, verde y azul), en realidad hay tres emparedados por píxel. Todos son esencialmente lo mismo, con la excepción de la molécula orgánica: poli-para-fenileno para luz azul, politiofeno para rojo y poli-para-fenileno-vinileno para verde. Como cada uno de ellos es ligeramente diferente, brillan en diferentes colores al pasar la corriente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Dato curioso: los subpíxeles azules se queman mucho más rápido debido a un proceso llamado aniquilación de excitón polarón, que suena realmente emocionante, ¿no?)</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los cuatro millones de píxeles se encuentran en la matriz de índice. Un índice funciona en una computadora de la misma manera que una tabla de contenido en un libro: cuando un teléfono quiere que un píxel específico emita un color específico, busca ese píxel en el índice y luego envía una señal a la dirección encontrada. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que haya luz, y la luz se convierta.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Otro hecho curioso: ahora sabe lo que significa "matriz activa en LED orgánicos" significa AMOLED, aunque no preguntó). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El sistema operativo del teléfono interpreta un mensaje de texto de su esposa, determina la forma de cada letra y compara estas cifras con una matriz de índice. Ella envía los impulsos eléctricos correctos a la pantalla Super AMOLED para mostrar estas tres pequeñas palabras que han viajado hasta ahora y derrotaron a todos los enemigos en su camino.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es muy extraño aquí que mis ojos nunca vean letras a la luz brillante de los LED: el texto aparece en blanco y negro. El teléfono crea la ilusión de texto a través del espacio negativo, llenando la pantalla de blanco, configurando todos los píxeles rojos, verdes y azules al máximo brillo, y luego apaga aquellos donde deberían estar las letras. Su complejidad es abusivamente mundana. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc8/3ca/577/fc83ca577a50c7267235834232f6cb51.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 11. Espacio negativo</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Iluminando todo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excepto</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el mensaje de texto de mi esposa y permitiéndome leer entre la luz, el teléfono expone brevemente las mentiras que subyacen en la era de la información moderna: esa comunicación es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fácil</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La velocidad y la aparente simplicidad esconden un grupo de intermediarios.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y estos no son solo intermediarios técnicos. Un mensaje de mi esposa no me llegaría si no hubiera pagado mi factura telefónica a tiempo, si no fuera por el pequeño ejército de trabajadores que sirven a los sistemas financieros detrás de escena. Los técnicos mantienen operativas las torres celulares, a las que acceden a través de una red de caminos parcialmente subsidiados por los impuestos federales recaudados de cientos de millones de estadounidenses en 50 estados. Dado que muchas transacciones aún se realizan por correo, si el sistema de correo falla mañana, el servicio telefónico también se verá afectado. Los detalles de nuestros dos teléfonos fueron recopilados por trabajadores exhaustos en fábricas de Sudamérica y Asia, y los programadores exhaustos que alquilan habitaciones caras en Silicon Valley escribieron un código que garantiza una comunicación constante para nuestros teléfonos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo esto está oculto en 10 letras. </font><font style="vertical-align: inherit;">El texto, que, para ser sincero, significa mucho más de lo que está escrito en él. </font><font style="vertical-align: inherit;">Mi cerebro subconscientemente analiza los años de comunicación con mi esposa para descifrar el mensaje por teléfono, pero entre ella y yo todavía hay montones de mediación sociotécnica: un caldo de personas, eventos y detalles que nunca se pueden desentrañar.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Las consecuencias </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y aquí estoy, en mi oficina, un domingo por la noche. </font><font style="vertical-align: inherit;">"Te amo", escribió la esposa desde la habitación de abajo, y después de unos segundos un mensaje llegó a mi teléfono a diez metros de distancia. </font><font style="vertical-align: inherit;">Entiendo lo que eso significa: es hora de desearle buenas noches y posiblemente completar este artículo. </font><font style="vertical-align: inherit;">Estoy escribiendo las últimas palabras, ahora un poco más conscientes de la compleja estratificación de kilómetros, señales, décadas de historia y sudor humano, que eran necesarios para que mi esposa no me gritara que era hora de descansar.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437510/">https://habr.com/ru/post/437510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437496/index.html">Sobre variables en programación</a></li>
<li><a href="../437500/index.html">Acerca de cosas "invisibles" importantes: confianza, cultura y valores</a></li>
<li><a href="../437502/index.html">Dejaré de tirar lo bueno a la basura</a></li>
<li><a href="../437504/index.html">Pequeños componentes: ¿qué podría salir mal? Utilizamos el principio de responsabilidad exclusiva.</a></li>
<li><a href="../437508/index.html">CVE-2019-6111 y otras vulnerabilidades scp</a></li>
<li><a href="../437512/index.html">¿Qué son las funciones puras en JavaScript?</a></li>
<li><a href="../437514/index.html">Búsqueda de errores en el código fuente del SDK de Amazon Web Services para .NET</a></li>
<li><a href="../437516/index.html">Buscando errores en el SDK de Amazon Web Services para el código fuente de .NET</a></li>
<li><a href="../437518/index.html">Ataque de escarabajos</a></li>
<li><a href="../437520/index.html">“¡Mi luz es un espejo! - dime, muéstrame mi doble ... ": diseña un buen marco y obtén el segundo como regalo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>