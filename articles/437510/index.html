<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ûüèº üë©üèΩ‚Äç‚úàÔ∏è üë®üèø‚Äçüè´ ¬øQu√© sucede cuando env√≠as SMS? üóùÔ∏è ü§üüèø üë©üèæ‚Äçü§ù‚Äçüë©üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este es el tercer art√≠culo en el bucle de desarrollo de pila completa sobre la vida secreta de los datos. Est√° dedicado a la ruta de SMS larga y dif√≠c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© sucede cuando env√≠as SMS?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437510/">  Este es el tercer art√≠culo en el bucle de desarrollo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pila completa</a> sobre la vida secreta de los datos.  Est√° dedicado a la ruta de SMS larga y dif√≠cil: marcar, guardar, enviar, recibir y mostrar.  Agregar√© un poco de historia y contexto para diluir la lista de protocolos.  Aunque el texto es bastante t√©cnico, es bastante f√°cil de entender. <br><br>  Las dos primeras partes del ciclo: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Cetus</a> , sobre la propagaci√≥n de errores en los ancestros de las hojas de c√°lculo del siglo XVII. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Down the Rabbit Hole"</a> , sobre la b√∫squeda incre√≠blemente compleja de la fuente de un conjunto de datos </li></ul><br>  As√≠ que empecemos ... <br><a name="habracut"></a><br>  Mi pierna se retorci√≥ involuntariamente por la vibraci√≥n: ¬øes un tel√©fono o simplemente parec√≠a?  - y una mirada superficial encontr√≥ una luz azul intermitente.  "Te amo" de mi esposa.  Inmediatamente baj√© las escaleras para desearle buenas noches, porque s√© la diferencia entre un mensaje y un <i>mensaje</i> .  Esto es un poco como el cifrado o la esteganograf√≠a: cualquiera ve el texto, pero solo yo puedo decodificar los datos ocultos. <br><br>  Mi traducci√≥n es solo un enlace en una cadena sorprendentemente larga de eventos que son necesarios para enviar y descifrar un mensaje ("baja y di buenas noches") en menos de cinco segundos a una distancia de unos 10 metros. <br><br>  Aparentemente, el mensaje se origin√≥ en alg√∫n lugar del cerebro de mi esposa y se convirti√≥ en movimientos de los dedos, pero esta transmisi√≥n de se√±al es el tema de otro art√≠culo.  Nuestra conversaci√≥n comienza desde el momento en que su pulgar toc√≥ la pantalla transl√∫cida, y termina cuando la luz cay√≥ sobre mi retina. <br><br><h1>  A trav√©s del espejo </h1><br>  Con cada toque desde la pantalla, una peque√±a carga el√©ctrica fluye hacia la mano.  Como la corriente fluye f√°cilmente a trav√©s del cuerpo humano, los sensores del tel√©fono registran el cambio de voltaje en el lugar donde el dedo toc√≥ la pantalla.  En este caso, se producen fluctuaciones de voltaje aleatorias en el resto de la pantalla, por lo tanto, el algoritmo determina las fluctuaciones de voltaje m√°ximas y supone que fue en este lugar donde la persona quer√≠a presionar con el dedo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6b6/e78/a47/6b6e78a47c281c7bd6ab664b26f14644.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">0. Sensor t√°ctil capacitivo</font></i> <br><br>  Entonces, ella hace clic en la pantalla, escribiendo una letra a la vez. <br><br> <code>I--love--you.</code> <br> <br>  Ella no usa deslizar (pero por alguna raz√≥n todav√≠a imprime m√°s r√°pido que yo).  El tel√©fono registra de manera confiable las coordenadas (x, y) de cada pulsaci√≥n y verifica las coordenadas de cada tecla en la pantalla.  Es m√°s dif√≠cil de lo que piensas;  a veces el dedo se desliza, pero de alguna manera el tel√©fono comprende que esto no es un gesto, sino simplemente un clic borroso. <br><br>  En lo profundo de las tripas met√°licas del dispositivo, el algoritmo verifica que cada vez que un cambio en el voltaje cubra m√°s de un cierto n√∫mero de p√≠xeles, lo que se denomina <i>pendiente t√°ctil</i> .  Si el √°rea es peque√±a, el tel√©fono registra una pulsaci√≥n de tecla, no un deslizamiento. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef3/fdf/3b4/ef3fdf3b4e547d827bef38d59a443fcc.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">1. C√≥digo de Android para detectar la inclinaci√≥n t√°ctil.</font></i>  <i><font color="gray">Tenga en cuenta que los desarrolladores sab√≠an el g√©nero de mi esposa</font></i> <br><br>  Ella termina el mensaje, pat√©ticos 10 caracteres de 160 permitidos. <br><br>  160 caracteres es un n√∫mero cuidadosamente verificado.  Seg√∫n la leyenda, en 1984 un ingeniero telef√≥nico alem√°n, Friedhelm Hillebrand, se sent√≥ en una m√°quina de escribir y escribi√≥ tantas frases aleatorias como se le ocurrieron.  Luego, su equipo examin√≥ las postales y los mensajes de teletipo, y descubri√≥ que la mayor√≠a de ellos no superaba los 160 caracteres.  "¬°Eureka!"  - Aparentemente, gritaron en alem√°n antes de fijar el l√≠mite de caracteres en los mensajes de texto durante las siguientes tres d√©cadas. <br><br><h1>  Restricciones de s√≠mbolos y leyendas </h1><br>  Las leyendas rara vez cuentan toda la historia, y los SMS no son la excepci√≥n.  Hillebrand y su equipo esperaban transmitir mensajes a trav√©s de un canal adicional que los tel√©fonos ya hab√≠an usado para intercambiar informaci√≥n con la estaci√≥n base. <br><br>  El sistema de se√±alizaci√≥n SS7 es un conjunto de protocolos utilizados por los tel√©fonos celulares para mantenerse en contacto constante con una estaci√≥n base;  necesitan una conexi√≥n constante para recibir una llamada y transferir su ubicaci√≥n, verificar el correo de voz, etc. Al desarrollar el protocolo en 1980, introdujeron un l√≠mite estricto de 279 bytes de informaci√≥n.  Si Hillebrand quer√≠a recibir mensajes de texto utilizando el protocolo SS7, deber√≠a haber encajado en esta restricci√≥n. <br><br>  T√≠picamente 279 bytes equivalen a 279 caracteres.  Hay 8 bits en un byte, y en codificaciones generales, un car√°cter corresponde a un byte. <br><br>  Un <br><br> <code>0100 0001</code> <br> <br>  B <br><br> <code>0100 0010</code> <br> <br>  Con <br><br> <code>0100 0011</code> <br> <br>  Y as√≠ sucesivamente. <br><br>  Desafortunadamente, para transmitir un mensaje usando el protocolo SS7, no puede simplemente enviar 2232 ceros y unidades (279 bytes de 8 bits) con una se√±al de radio de un tel√©fono a otro.  Este mensaje debe incluir los n√∫meros del remitente y el destinatario, as√≠ como el mensaje de servicio para la estaci√≥n base "¬°Hola, este mensaje, no una llamada, no env√≠e una se√±al de llamada!" <br><br>  Cuando Hillebrand y sus colegas lograron agrupar todos los bits de contexto necesarios en una se√±al de 279 bytes, solo les quedaban 140 bytes o 1120 bits. <br><br>  Pero, ¬øy si codificas un personaje en solo 7 bits?  Luego puede exprimir 160 (1120/7 = 160) caracteres en cada mensaje, pero tal reducci√≥n requiere sacrificio: menos caracteres posibles. <br><br>  La codificaci√≥n de ocho bits permite 256 caracteres posibles: un lugar es min√∫scula 'a', uno es may√∫scula 'A', su lugar en el espacio y el s√≠mbolo '@', salto de l√≠nea y as√≠ sucesivamente, hasta 256. Para reducir el alfabeto a siete bits, debe eliminar algunos s√≠mbolos: s√≠mbolo 1/2 (¬Ω), s√≠mbolo de grado (¬∞), s√≠mbolo de pi (œÄ) y as√≠ sucesivamente.  Pero suponiendo que las personas nunca usen estos caracteres en el texto (una mala suposici√≥n, por supuesto), Gillebrand y sus colegas lograron poner 160 caracteres en 140 bytes.  A su vez, este volumen encaja exactamente en 279 bytes de la se√±al SS7: exactamente el n√∫mero de caracteres que se definieron previamente como la longitud ideal del mensaje. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/347/d87/15b/347d8715b23e4e60c82d0570b4baffbb.png"><img src="https://habrastorage.org/getpro/habr/post_images/553/47d/5e4/55347d5e47cd1add4f05f01a3e08dba8.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">2. Juego de caracteres GSM-7</font></i> <br><br>  Y luego la esposa escribe "Te amo", y el tel√©fono convierte las letras en un esquema de codificaci√≥n de 7 bits llamado GSM-7. <br><br>  "I" (la intersecci√≥n de la cuarta columna y la novena fila de la tabla): <br><br> <code>49</code> <br> <br>  Espacio (la intersecci√≥n de la segunda columna y la fila cero): <br><br> <code>20</code> <br> <br>  "L" = <br><br> <code>6C</code> <br> <br>  "O" = <br><br> <code>6F</code> <br> <br>  y as√≠ sucesivamente. <br><br>  En general, su mensaje se convierte en la siguiente secuencia: <br><br> <code>49 20 6C 6F 76 65 20 79 6F 75</code> <br> <br>  (10 bytes en total).  Cada c√≥digo de dos caracteres, llamado c√≥digo hexadecimal (hexadecimal), representa un fragmento de ocho bits, y juntos suena como "Te amo". <br><br>  Pero, de hecho, el mensaje no est√° tan almacenado en el tel√©fono.  Deber√≠a convertir texto de 8 bits a c√≥digo de 7 bits.  Como resultado de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20081017024616/">conversi√≥n, el</a> mensaje comienza a cambiar a esto: <br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  (9 bytes) en su tel√©fono. <br><br>  Cuando la esposa finalmente termina su mensaje (solo toma unos segundos), hace clic en "Enviar", y muchos peque√±os √°ngeles reciben el mensaje codificado, agitan sus alas invisibles 10 metros hacia mi oficina y lo transfieren cuidadosamente a mi tel√©fono.  El proceso no es muy f√°cil, por eso mi tel√©fono vibra un poco en el momento de la entrega. <br><br>  Los llamados "ingenieros de comunicaciones" le contar√°n una historia diferente y, en aras de la exhaustividad, la volver√© a contar, pero si fuera usted, no confiar√≠a demasiado en estas personas. <br><br><h1>  SIM para enviar </h1><br>  El ingeniero dir√° que cuando el tel√©fono detecta un cambio de voltaje en las coordenadas de la pantalla que coincide con las coordenadas del elemento gr√°fico con el bot√≥n "Enviar", env√≠a un mensaje codificado a la tarjeta SIM y agrega varios datos contextuales durante la transferencia.  Cuando el mensaje llega a la tarjeta SIM de mi esposa, ya no hay 140, sino 176 bytes (texto + contexto). <br><br>  Se utilizan 36 bytes adicionales para codificar otra informaci√≥n, como se muestra a continuaci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8ba/64d/ced/8ba64dced4f26bd4db2bd01cb10daac9.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">3. Aqu√≠, los bytes se llaman octetos (8 bits).</font></i>  <i><font color="gray">Contar todo da 174 octetos (10 + 1 + 1 + 12 + 1 + 1 + 7 + 1 + 140).</font></i>  <i><font color="gray">Los dos bytes restantes est√°n reservados para la contabilidad de las tarjetas SIM.</font></i> <br><br>  Los primeros diez bytes est√°n reservados para el n√∫mero de tel√©fono (SCA) del centro de SMS (SMSC), que es responsable de recibir, almacenar, reenviar y entregar mensajes de texto.  De hecho, es un interruptor: el tel√©fono de la esposa env√≠a una se√±al a la torre celular local, que env√≠a un mensaje de texto a SMSC.  El centro de SMS, que en nuestro caso est√° controlado por AT&amp;T, env√≠a el texto a la estaci√≥n base m√°s cercana a mi tel√©fono.  Mientras me siento en tres habitaciones de mi esposa, el mensaje se devuelve a la misma estaci√≥n base y luego a mi tel√©fono. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f3/2f4/74e/5f32f474eae14a1b1d10f8f1a9baf4e0.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">4. Red de SMS celular</font></i> <br><br>  El siguiente byte (tipo PDU) codifica informaci√≥n b√°sica sobre c√≥mo el tel√©fono debe interpretar el mensaje: si se envi√≥ con √©xito, si se necesita un mensaje de entrega y (importante) si es texto √∫nico o parte de una cadena de mensajes relacionados. <br><br>  El byte despu√©s del tipo PDU es una referencia de mensaje (MR).  Este n√∫mero del 1 al 255, de hecho, se usa como una identificaci√≥n a corto plazo para que el tel√©fono y el operador reconozcan el mensaje.  El mensaje de la esposa est√° configurado en el n√∫mero 0, porque su tel√©fono tiene su propio sistema de identificaci√≥n de mensajes, independiente de este archivo en particular. <br><br>  Los siguientes doce bytes est√°n reservados para el n√∫mero de tel√©fono del destinatario, llamado direcci√≥n de destino (DA).  Con la excepci√≥n de la codificaci√≥n de texto de 7 bits, que ayuda a comprimir 160 letras en 140 caracteres, la codificaci√≥n del n√∫mero de tel√©fono es lo m√°s est√∫pido y confuso de este SMS.  Se llama notaci√≥n de mordisco inverso y convierte cada d√≠gito en mordisco, es decir, mordisco, y los intercambia (¬øEntiendes todo? Un medio byte es un mordisco, jajajajaja, pero nadie se r√≠e, son ingenieros). <br><br>  Mi n√∫mero 1-352-537-8376 en el tel√©fono de mi esposa est√° registrado como: <br><br>  3125358773f6 <br><br>  1-3 se convierte en <br><br> <code>31</code> <br> <br>  52 se convierte en <br><br> <code>25</code> <br> <br>  53 se convierte en <br><br> <code>35</code> <br> <br>  7-8 se convierte en <br><br> <code>87</code> <br> <br>  37 se convierte en <br><br> <code>73</code> <br> <br>  Y los √∫ltimos 6 se convierten en ... <br><br> <code>f6</code> <br> <br>  ¬øQu√© demonios tomaron estos seis?  Bueno, significa el final del n√∫mero, pero por alguna raz√≥n terrible (de nuevo, notaci√≥n inversa) es un car√°cter antes del √∫ltimo d√≠gito. <br><br>  Esto es como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"lat√≠n guarro",</a> solo para n√∫meros. <br><br> <code>   ,   .    ,   .</code> <br> <br>  Pero no estoy bromeando. <br><br>  [UPD: Sean Gies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">se√±al√≥</a> que la escritura r√°pida es un artefacto inevitable de representar n√∫meros de 4 bits desde los fragmentos de 8 bits m√°s peque√±os hasta los m√°s antiguos (little-endian).  Esto no niega la descripci√≥n anterior, pero agrega algo de contexto para aquellos que entienden y hace que la decisi√≥n sea m√°s razonable]. <br><br>  El byte identificador de protocolo (PID) ahora se desperdicia en general.  Toma alrededor de 40 valores posibles y le dice al proveedor c√≥mo enviar un mensaje.  Valor <br><br> <code>22</code> <br> <br>  significa que la esposa env√≠a "Te amo" al fax, y el valor <br><br> <code>24</code> <br> <br>  significa que de alguna manera lo env√≠a a la l√≠nea de voz.  Dado que este mensaje es en forma de SMS al tel√©fono, el PID est√° configurado en <br><br> <code>0</code> <br> <br>  (Como cualquier otro texto enviado en el mundo moderno). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac7/b49/579/ac7b495795883450f653cf12cc5c2bcb.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">5. Posibles valores PID</font></i> <br><br>  El siguiente byte es un esquema de codificaci√≥n de datos (DCS, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">consulte la documentaci√≥n</a> ), que le indica al operador y al tel√©fono del destinatario qu√© esquema de codificaci√≥n de caracteres se utiliz√≥.  Mi esposa envi√≥ el texto a GSM-7, pero es f√°cil imaginar que el texto podr√≠a escribirse en cir√≠lico, jerogl√≠ficos o ecuaciones matem√°ticas complejas (bueno, tal vez no sea f√°cil de imaginar, pero todos tienen derecho a so√±ar, ¬øverdad?). <br><br>  En el texto de la esposa, el byte DCS se establece en <br><br> <code>0</code> <br> <br>  que corresponde a un alfabeto de 7 bits, pero el valor se puede cambiar a un alfabeto de 8 o 16 bits, aunque esto dejar√° mucho menos espacio para los caracteres.  Por cierto, es por eso que tus emojis reducen la cantidad de caracteres disponibles. <br><br>  Todav√≠a hay una peque√±a bandera en el byte DCS que le dice al tel√©fono si el mensaje debe autodestruirse despu√©s del env√≠o, como en la pel√≠cula Misi√≥n imposible, por lo que es genial. <br><br>  El per√≠odo de validez (VP) ocupa hasta siete bytes y nos da la oportunidad de conocer otro aspecto de c√≥mo funciona realmente el sistema de reenv√≠o de SMS.  Eche otro vistazo a la Figura 4 en la parte superior.  Est√° bien, esperar√©. <br><br>  Entonces, cuando la esposa finalmente hace clic en el bot√≥n "Enviar", el texto se env√≠a al centro de SMS (SMSC), que luego me env√≠a un mensaje.  Estoy sentado en el segundo piso y mi tel√©fono est√° encendido, as√≠ que recibo un mensaje en unos segundos, pero ¬øqu√© pasa si el tel√©fono est√° apagado?  Por supuesto, entonces no puede aceptar el mensaje, por lo que el SMSC debe hacer algo con el texto. <br><br>  Si SMSC no puede encontrar mi tel√©fono, entonces el mensaje de mi esposa simplemente saltar√° al sistema hasta que mi tel√©fono se conecte, y luego el centro de SMS enviar√° el texto de inmediato.  Me gusta imaginar c√≥mo SMSC revisa constantemente cada tel√©fono en la red para verificar si es mi tel√©fono o no: ¬øc√≥mo huele un cachorro que espera al due√±o en la puerta a cada transe√∫nte: es el olor de mi persona?  No  Tal vez <i>este es el</i> olor de mi hombre?  No  ¬øEs el olor de mi hombre?  DADAPRIGUATURE !!! <br><br>  Los bytes del per√≠odo de validez (VP) le indican al sistema cu√°nto tiempo esperar√° el cachorro antes de aburrirse y encontrar un nuevo hogar.  Esto es una marca de tiempo o una brecha, y esencialmente dice: "Si no encontr√≥ el tel√©fono del destinatario en los pr√≥ximos d√≠as, no se preocupe por enviar un mensaje".  De manera predeterminada, el per√≠odo de validez de los SMS es de 10,080 minutos, por lo que si el tel√©fono no se conecta a la red dentro de los siete d√≠as, nunca recibir√° este SMS. <br><br>  Dado que los SMS a menudo tienen mucho espacio vac√≠o, se dedican unos pocos bits para garantizar que el tel√©fono y el operador sepan exactamente qu√© bytes no se utilizan.  La tarjeta SIM de la esposa est√° esperando un mensaje de texto de 176 bytes, pero escribi√≥ un mensaje muy corto, por lo que si la tarjeta SIM recibe solo 45 bytes, puede confundirse y sugerir alg√∫n tipo de falla.  El Byte de longitud de datos de usuario (UDL) resuelve este problema: indica con precisi√≥n cu√°ntos bytes hay en el mensaje de texto. <br><br>  En el caso de "Te amo", el UDL indicar√° que el mensaje contiene 9 bytes.  Puede esperar que el valor sea de 10 bytes, un byte para cada uno de los diez caracteres: <br><br> <code>I-spacebar-love-spacebar-you</code> <br> <br>  pero dado que cada car√°cter consta de siete bits, no ocho (byte completo), puede descartar el byte adicional al traducir: 7 bits * 10 caracteres = 70 bits, dividir por 8 (el n√∫mero de bits en un byte) = 8.75 bytes, redondeado hasta 9 bytes <br><br>  Llegamos a la √∫ltima parte de SMS: este es el mensaje en s√≠ o UD (datos del usuario).  Un mensaje puede tomar hasta 140 bytes, aunque, como acabo de mencionar, "Te amo" tomar√° un miserable 9. Es sorprendente cu√°nto est√° empaquetado en estos 9 bytes: no solo un mensaje (el supuesto amor de mi esposa por m√≠, que ya es bastante dif√≠cil de comprimir a ceros) y unidades), pero tambi√©n el significado en s√≠ mismo (debes bajar y desearle buenas noches).  Estos bytes son: <br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  En general, este mensaje se guarda en la tarjeta SIM de mi esposa: <br><br>  SCA [1-10] -PDU [1] -MR [1] -DA [1-12] -DCS [1] -VP [0, 1 o 7] -UDL [1] -UD [0-140] <br><br> <code>00 - 11 - 00 - 07 31 25 35 87 73 F6 - ?? 00 ?? - ?? - 09 - 49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br>  (Nota: para obtener el mensaje completo, debe cavar un poco m√°s. Por desgracia, solo una <i>parte del</i> mensaje es visible aqu√≠ debido a caracteres no mostrados, signos de interrogaci√≥n) <br><br><h1>  Olas en el aire </h1><br>  Ahora, los SMS deber√≠an comenzar de alguna manera su dif√≠cil viaje desde la tarjeta SIM hasta la estaci√≥n base m√°s cercana.  Para hacer esto, el tel√©fono de la esposa debe convertir la cadena de 176 a 279 bytes para el protocolo de se√±alizaci√≥n SS7, convertir estos bytes digitales en una se√±al de radio anal√≥gica y luego enviar las se√±ales al aire con una frecuencia en alg√∫n lugar entre 800 y 2000 MHz.  Esto significa que entre los picos de las olas la distancia es de 15 a 37 cm. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b16/5d2/dcd/b165d2dcd67927e07e7a08279e62e1dc.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">6. La longitud de onda</font></i> <br><br>  Para una transmisi√≥n y recepci√≥n de se√±ales eficientes, la antena debe tener al menos la mitad de la longitud de onda.  Si las ondas de comunicaci√≥n celular son de 15 a 37 cm, entonces las antenas deben tener un tama√±o de aproximadamente 7-19 cm. Ahora det√©ngase y piense en la altura promedio del tel√©fono m√≥vil y por qu√© nunca disminuye. <br><br>  A trav√©s de una cierta gimnasia digital, cuya explicaci√≥n llevar√° demasiado tiempo, el tel√©fono de mi esposa de repente dispara un paquete de informaci√≥n de 279 bytes con el texto "Te amo" a la velocidad de la luz en todas las direcciones, que finalmente se desvanece y se disuelve en ruido de radio despu√©s de unos 50 kil√≥metros. <br><br>  Mucho antes de esto, la se√±al llega a la estaci√≥n base AT&amp;T HSPA ID199694204 LAC21767.  Esta estaci√≥n de transceptor base (BTS) est√° a unas cinco cuadras de mi panader√≠a favorita de La Gourmandine en Hazelwood, y aunque encontr√© sus coordenadas usando la aplicaci√≥n OpenSignal de Android, la antena est√° bien escondida de miradas indiscretas. <br><br>  Lo m√°s sorprendente aqu√≠ es que BTS generalmente recibe esta se√±al, considerando todo lo dem√°s.  Mi esposa no solo env√≠a "Te amo" en la mil√©sima parte del rango del espectro electromagn√©tico, sino que decenas de miles de personas en un radio de 50 kil√≥metros en este momento est√°n hablando por tel√©fono o escribiendo mensajes.  Adem√°s, muchas se√±ales de radio y televisi√≥n est√°n abogando por nuestra atenci√≥n en el aire, junto con la luz visible que se refleja en diferentes direcciones, esta es solo una peque√±a parte de las ondas electromagn√©ticas, que, al parecer, deber√≠an interferir con el BTS. <br><br>  Como lo expres√≥ Richard Feynman elocuentemente en 1983, una torre celular es como un peque√±o escarabajo ciego que yace en el agua en el borde de la piscina: solo por la altura y la direcci√≥n de las olas determina qui√©n y d√≥nde est√° nadando. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1qQQXTMih1A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <i><font color="gray">Feynman discute las olas</font></i> <br><br>  En parte debido a la compleja interferencia de las se√±ales, cada estaci√≥n base del transceptor generalmente no puede procesar m√°s de 200 usuarios activos (voz o datos) al mismo tiempo.  Entonces, "Love You" hace sonar la estaci√≥n base local a aproximadamente media milla de aqu√≠, y luego grita en el vac√≠o en todas las direcciones hasta que desaparece en el ruido general. <br><br><h1>  Conmutaci√≥n </h1><br>  Dadas todas las circunstancias, tuve mucha suerte.  Si mi esposa y yo fu√©ramos atendidos por diferentes operadores m√≥viles o estuvi√©ramos en diferentes ciudades, la ruta de su comunicaci√≥n ser√≠a mucho m√°s larga. <br><br>  Un mensaje SS7 de 277 bytes llega al BTS local al lado de la panader√≠a.  Desde all√≠ ingresa al controlador de la estaci√≥n base (BSC), que es el cerebro no solo del nuestro, sino tambi√©n de varias otras antenas locales.  El BSC transfiere el texto al Pittsburgh AT&amp;T Mobile Switching Center (MSC), que se basa en un mensaje de texto SCA (¬ørecuerda la direcci√≥n del centro de servicio incrustada en cada SMS? ¬øEs aqu√≠ donde lo necesita?) Para recibir el mensaje en el centro de SMS correspondiente (SMSC). <br><br>  Este galimat√≠as es m√°s f√°cil de entender usando el diagrama de la Figura 7;  Acabo de describir los pasos 1 y 3. Si la esposa estaba con otro operador, pasar√≠amos a los pasos 4-7, porque all√≠ es donde los operadores m√≥viles se comunican entre s√≠.  Los SMS deben venir de SMSC al conmutador global y luego potencialmente dar la vuelta al mundo antes de encontrar el camino a mi tel√©fono. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8c9/13d/e41/8c913de41b9e230bbcddc4f6ddfb1435.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">7. Enrutamiento GSM</font></i> <br><br>  Pero tambi√©n se sienta en AT&amp;T, y nuestros tel√©fonos est√°n conectados a la misma celda, as√≠ que despu√©s del tercer paso, el paquete de amor de 279 bytes simplemente se implementa y se devuelve a trav√©s del mismo centro de SMS, a trav√©s de la misma estaci√≥n base, pero ahora a mi tel√©fono. ella  Viajando varias decenas de kil√≥metros en poco tiempo. <br><br><h1>  Enviado a sim </h1><br>  Bzzzzz.  El bolsillo vibr√≥.  La notificaci√≥n deja en claro que el SMS lleg√≥ a la tarjeta nano-SIM, un peque√±o chip del tama√±o de un dedo me√±ique.  Al igual que Bilbo Baggins o cualquier buen aventurero, ha cambiado un poco en el camino de ida y vuelta. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/687/031/783/6870317839d63f2eec68a64e76574097.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">8. El mensaje recibido difiere del enviado (Fig. 3)</font></i> <br><br>  La Figura 8 muestra la estructura del mensaje recibido "Te amo".  Comparando las Figuras 3 y 8, vemos varias diferencias.  SCA (n√∫mero de centro de SMS), PDU (algunos arreglos mec√°nicos), PID ("de tel√©fono a tel√©fono", no "tel√©fono a fax"), DCS (esquema de codificaci√≥n), UDL (longitud del mensaje) y UD (s√≠ mismo mensaje) se mantuvo sin cambios, pero faltan VP (per√≠odo de validez), MR (n√∫mero de identificaci√≥n del mensaje) y DA (mi n√∫mero de tel√©fono). <br><br>  En cambio, aparecieron dos nuevos bloques de informaci√≥n en el tel√©fono: OA (el n√∫mero de tel√©fono original de la esposa) y SCTS (marca de hora del centro de SMS. Es decir, cuando la esposa envi√≥ el mensaje). <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El n√∫mero de tel√©fono de mi esposa se almacena en la misma molesta notaci√≥n inversa (como dislexia, solo en computadoras), en la que mi n√∫mero se almacen√≥ en su tel√©fono, y la marca de tiempo est√° en el mismo formato que la fecha de vencimiento almacenada en su tel√©fono. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estos dos reemplazos son completamente l√≥gicos. </font><font style="vertical-align: inherit;">Se supon√≠a que su tel√©fono deb√≠a contactarme en un momento determinado en una direcci√≥n espec√≠fica, y ahora necesito saber qui√©n envi√≥ el mensaje y cu√°ndo. </font><font style="vertical-align: inherit;">Sin una direcci√≥n de retorno, no entender√≠a exactamente qui√©n envi√≥ este mensaje, por lo que su interpretaci√≥n podr√≠a cambiar enormemente.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Luz de pantalla brillante </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A medida que cualquier computadora traduce una secuencia de bytes en una serie de coordenadas (x, y) para p√≠xeles de ciertos colores, el tel√©fono recibe un comando para mostrar </font></font><br><br> <code>49 10 FB 6D 2F 83 F2 EF 3A</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y ver el texto "Te amo" en la pantalla en puntos brillantes en blanco y negro. Este es un proceso interesante, pero no es particularmente exclusivo para los tel√©fonos inteligentes, por lo que debe buscar en otro lado. Nos centramos en c√≥mo estas instrucciones se convierten en puntos de luz. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los expertos en marketing de Samsung llaman a mi pantalla Super AMOLED (diodo emisor de luz org√°nico de matriz activa), una matriz activa en LED org√°nicos, que de alguna manera es redundante y no particularmente informativa, as√≠ que ignore la decodificaci√≥n de abreviaturas como otra distracci√≥n y sum√©rjase directamente en la tecnolog√≠a.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cada uno de los 83 cent√≠metros cuadrados de la pantalla, caben alrededor de 50,000 peque√±os p√≠xeles en mi tel√©fono. Para que tal cantidad se ajuste, cada p√≠xel debe tener aproximadamente 45 micras de ancho (micr√≥metros): m√°s delgado que el cabello humano. Cuatro millones de elementos ligeros en un √°rea del tama√±o de una palma. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero ya sabes c√≥mo funcionan las pantallas. Usted sabe que cada punto del mundo, como el Dios cristiano o los mosqueteros (menos d'Artagnan) es siempre "tres en uno". Rojo, verde y azul forman la luz blanca de un p√≠xel. Si cambia el brillo de cada canal, puede obtener cualquier color RGB. Y como 4 √ó 3 = 12, estas son 12 millones de peque√±as fuentes de luz, que dormita inocentemente detr√°s de mi espejo negro, esperando que presione el bot√≥n de encendido para leer un mensaje de mi esposa.</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/f0b/9ad/9da/f0b9ad9dabfa0c5ee715be484684ac13.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 9. Conjunto de subp√≠xeles de la pantalla OLED de Samsung</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como se desprende de la abreviatura, cada p√≠xel es un LED org√°nico. Esta es una jerga t√©cnica incomprensible para un s√°ndwich el√©ctrico simple:</font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/22d/87c/aeb/22d87caebf3da5cd94ef88482c453b6a.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fig. 10. Emparedado el√©ctrico No</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es necesario estudiar el prop√≥sito de cada capa, solo es importante saber que el c√°todo (placa con carga negativa) est√° ubicado debajo de una capa de mol√©culas org√°nicas (solo algunas mol√©culas con carbono), y est√° cubierto con un √°nodo (placa con carga positiva) en la parte superior.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuando el tel√©fono quiere encender la pantalla, env√≠a electrones desde el c√°todo al √°nodo. Las mol√©culas en el medio reciben una carga y comienzan a emitir luz visible: fotones, a trav√©s del √°nodo transparente, la pantalla en mis ojos abiertos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como cada p√≠xel tiene tres puntos de luz (rojo, verde y azul), en realidad hay tres emparedados por p√≠xel. Todos son esencialmente lo mismo, con la excepci√≥n de la mol√©cula org√°nica: poli-para-fenileno para luz azul, politiofeno para rojo y poli-para-fenileno-vinileno para verde. Como cada uno de ellos es ligeramente diferente, brillan en diferentes colores al pasar la corriente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Dato curioso: los subp√≠xeles azules se queman mucho m√°s r√°pido debido a un proceso llamado aniquilaci√≥n de excit√≥n polar√≥n, que suena realmente emocionante, ¬øno?)</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los cuatro millones de p√≠xeles se encuentran en la matriz de √≠ndice. Un √≠ndice funciona en una computadora de la misma manera que una tabla de contenido en un libro: cuando un tel√©fono quiere que un p√≠xel espec√≠fico emita un color espec√≠fico, busca ese p√≠xel en el √≠ndice y luego env√≠a una se√±al a la direcci√≥n encontrada. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que haya luz, y la luz se convierta.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Otro hecho curioso: ahora sabe lo que significa "matriz activa en LED org√°nicos" significa AMOLED, aunque no pregunt√≥). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El sistema operativo del tel√©fono interpreta un mensaje de texto de su esposa, determina la forma de cada letra y compara estas cifras con una matriz de √≠ndice. Ella env√≠a los impulsos el√©ctricos correctos a la pantalla Super AMOLED para mostrar estas tres peque√±as palabras que han viajado hasta ahora y derrotaron a todos los enemigos en su camino.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es muy extra√±o aqu√≠ que mis ojos nunca vean letras a la luz brillante de los LED: el texto aparece en blanco y negro. El tel√©fono crea la ilusi√≥n de texto a trav√©s del espacio negativo, llenando la pantalla de blanco, configurando todos los p√≠xeles rojos, verdes y azules al m√°ximo brillo, y luego apaga aquellos donde deber√≠an estar las letras. Su complejidad es abusivamente mundana. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc8/3ca/577/fc83ca577a50c7267235834232f6cb51.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 11. Espacio negativo</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Iluminando todo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excepto</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el mensaje de texto de mi esposa y permiti√©ndome leer entre la luz, el tel√©fono expone brevemente las mentiras que subyacen en la era de la informaci√≥n moderna: esa comunicaci√≥n es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√°cil</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La velocidad y la aparente simplicidad esconden un grupo de intermediarios.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y estos no son solo intermediarios t√©cnicos. Un mensaje de mi esposa no me llegar√≠a si no hubiera pagado mi factura telef√≥nica a tiempo, si no fuera por el peque√±o ej√©rcito de trabajadores que sirven a los sistemas financieros detr√°s de escena. Los t√©cnicos mantienen operativas las torres celulares, a las que acceden a trav√©s de una red de caminos parcialmente subsidiados por los impuestos federales recaudados de cientos de millones de estadounidenses en 50 estados. Dado que muchas transacciones a√∫n se realizan por correo, si el sistema de correo falla ma√±ana, el servicio telef√≥nico tambi√©n se ver√° afectado. Los detalles de nuestros dos tel√©fonos fueron recopilados por trabajadores exhaustos en f√°bricas de Sudam√©rica y Asia, y los programadores exhaustos que alquilan habitaciones caras en Silicon Valley escribieron un c√≥digo que garantiza una comunicaci√≥n constante para nuestros tel√©fonos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo esto est√° oculto en 10 letras. </font><font style="vertical-align: inherit;">El texto, que, para ser sincero, significa mucho m√°s de lo que est√° escrito en √©l. </font><font style="vertical-align: inherit;">Mi cerebro subconscientemente analiza los a√±os de comunicaci√≥n con mi esposa para descifrar el mensaje por tel√©fono, pero entre ella y yo todav√≠a hay montones de mediaci√≥n sociot√©cnica: un caldo de personas, eventos y detalles que nunca se pueden desentra√±ar.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Las consecuencias </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y aqu√≠ estoy, en mi oficina, un domingo por la noche. </font><font style="vertical-align: inherit;">"Te amo", escribi√≥ la esposa desde la habitaci√≥n de abajo, y despu√©s de unos segundos un mensaje lleg√≥ a mi tel√©fono a diez metros de distancia. </font><font style="vertical-align: inherit;">Entiendo lo que eso significa: es hora de desearle buenas noches y posiblemente completar este art√≠culo. </font><font style="vertical-align: inherit;">Estoy escribiendo las √∫ltimas palabras, ahora un poco m√°s conscientes de la compleja estratificaci√≥n de kil√≥metros, se√±ales, d√©cadas de historia y sudor humano, que eran necesarios para que mi esposa no me gritara que era hora de descansar.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437510/">https://habr.com/ru/post/437510/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437496/index.html">Sobre variables en programaci√≥n</a></li>
<li><a href="../437500/index.html">Acerca de cosas "invisibles" importantes: confianza, cultura y valores</a></li>
<li><a href="../437502/index.html">Dejar√© de tirar lo bueno a la basura</a></li>
<li><a href="../437504/index.html">Peque√±os componentes: ¬øqu√© podr√≠a salir mal? Utilizamos el principio de responsabilidad exclusiva.</a></li>
<li><a href="../437508/index.html">CVE-2019-6111 y otras vulnerabilidades scp</a></li>
<li><a href="../437512/index.html">¬øQu√© son las funciones puras en JavaScript?</a></li>
<li><a href="../437514/index.html">B√∫squeda de errores en el c√≥digo fuente del SDK de Amazon Web Services para .NET</a></li>
<li><a href="../437516/index.html">Buscando errores en el SDK de Amazon Web Services para el c√≥digo fuente de .NET</a></li>
<li><a href="../437518/index.html">Ataque de escarabajos</a></li>
<li><a href="../437520/index.html">‚Äú¬°Mi luz es un espejo! - dime, mu√©strame mi doble ... ": dise√±a un buen marco y obt√©n el segundo como regalo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>