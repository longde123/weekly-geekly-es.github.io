<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👡 ✌️ ⏩ Gateway protokol pertukaran industri di Linux. Kumpulkan dirimu 👩🏿‍🤝‍👩🏻 🏹 🤞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya terlibat dalam pengembangan, implementasi dan pengoperasian sistem kontrol proses otomatis (ACS TP). Awalnya, ia bekerja dengan sistem SCADA. Kem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gateway protokol pertukaran industri di Linux. Kumpulkan dirimu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433282/">  Saya terlibat dalam pengembangan, implementasi dan pengoperasian sistem kontrol proses otomatis (ACS TP).  Awalnya, ia bekerja dengan sistem SCADA.  Kemudian ia dengan cepat beralih ke bekerja dengan protokol untuk bertukar perangkat industri.  Baik driver penulisan mandiri dan pengaturan sistem pengumpulan data.  Saat ini, pekerjaan saya sedang melalui atmosfer Modbus-s, IEC-101/104-s, OPC dan protokol lainnya. <br><br><img src="https://habrastorage.org/webt/u2/se/9s/u2se9sycmvuyymqk6fjdukbofpg.png" alt="gambar"><br>  <i>Fig.</i>  <i>1. Berbagai protokol komunikasi yang digunakan dalam sistem kontrol industri</i> <br><a name="habracut"></a><br>  Secara singkat tentang cara kerja sistem pengumpulan data khas (sedikit disederhanakan). <br><br><img src="https://habrastorage.org/webt/fd/yf/yw/fdyfywlokjlqdu8s8p8-6s7rqhe.png" alt="gambar"><br>  <i>Fig.</i>  <i>2. Sistem Akuisisi Data</i> <br><br>  Perangkat lunak khusus yang disebut perangkat polling server OPC terhubung ke antarmuka RS-485.  Server OPC adalah semacam lapisan antara sistem dan perangkat SCADA, menerjemahkan bahasa di mana perangkat berkomunikasi ke dalam bahasa yang dapat dimengerti oleh sistem SCADA.  Konverter Ethernet / RS-485 digunakan untuk mengonversi paket TCP / IP ke paket yang bepergian melalui lingkungan fisik RS-485. <br><br>  Skema ini memiliki beberapa kelemahan: <br><br><ol><li>  Atur, misalnya, di server OPC batas waktu menunggu respons 200 ms.  Dalam kasus yang ideal, ketika paket pergi ke Ethernet tanpa penundaan, komunikasi dengan perangkat berjalan dengan kecepatan (intensitas) yang baik.  Tetapi jika paket yang berisi respons tertunda, misalnya, sebesar 300 ms (ini lebih dari batas waktu respons 200 ms), maka server OPC menganggap bahwa respons terhadap permintaan belum tiba dan mengirimkan permintaan berikutnya.  Pada saat ini, jawaban atas permintaan sebelumnya tiba, tetapi server OPC berpikir bahwa ini adalah jawaban untuk permintaan saat ini dan mengirimkan data yang salah ke atas.  Akibatnya, data di workstation "melompat".  Untuk menjauh dari situasi seperti itu, kami akan menetapkan batas waktu lebih lama.  Ambil dengan margin 3000 ms.  Jika jawabannya tiba lebih awal dari 3000 ms, maka kami tidak menunggu waktu yang tersisa, kami melanjutkan ke permintaan berikutnya.  Sejauh ini, semuanya berjalan dengan baik, tetapi begitu beberapa perangkat berhenti merespons, ada keterlambatan 3000 ms untuk setiap perangkat.  Waktu pemungutan suara meningkat. </li><li>  Sebagian besar protokol yang digunakan dalam sistem kontrol proses (Modbus, meter listrik) didasarkan pada polling berurutan dari parameter yang sama.  Mengingat sebagian besar waktu nilai parameter tetap tidak berubah, jaringan data digunakan untuk mengirimkan yang sama.  Ini tidak masuk akal jika media transmisi adalah GPRS, dan lalu lintas membutuhkan biaya.  Selain itu, dalam media transmisi GPRS, penundaan paket dapat mencapai beberapa detik.  Mengapa membuang-buang waktu dan sumber daya mentransfer hal yang sama? </li></ol><br>  Untuk situasi di atas, protokol lebih cocok di mana data ditransmisikan ke atas oleh perubahan (secara sporadis) dan dikelompokkan berdasarkan beberapa nilai menjadi satu paket TCP.  Protokol seperti itu adalah IEC-60870-5-104 dan OPC UA.  ModBus-TCP juga cocok, tidak ada transfer perubahan di dalamnya, tetapi kemudian, jika ada sedikit data, mereka dapat dikemas dalam satu paket.  Akan menyenangkan untuk memiliki beberapa jenis pengontrol yang dapat digantung di rel DIN, sambungkan perangkat ke sana melalui RS-485 dan transfer data melalui Ethernet ke sistem SCADA. <br><br>  Secara umum, ada beberapa gateway perangkat keras dalam jumlah yang cukup banyak.  Tetapi dalam bentuk solusi tak terpisahkan siap pakai.  Semua menjadi satu.  Dan saya tidak terlalu menyukainya.  Saya pernah membutuhkan gateway yang mengubah protokol set-4TM meter menjadi OPC UA dengan enam port RS-485 dan dua Ethernet.  Satu pabrikan memiliki gateway yang mendukung protokol pertukaran yang diperlukan, tetapi beberapa port RS-485, yang lain memiliki jumlah port RS-485 yang tepat, tetapi tidak ada dua port Ethernet.  Yang ketiga memiliki dua port Ethernet, tetapi tidak semua protokol komunikasi.  Yang keempat memiliki hampir semuanya, tetapi tidak ada OPC UA, tersedia di papan IEC-60870-5-104 atau ModBus-TCP memerlukan server OPC untuk protokol ini. <br><br>  Dan betapa indahnya: membeli controller atau mini-PC dengan OS dari satu produsen.  Beli perangkat lunak untuk pengontrol dari yang lain.  Jika satu pabrikan perangkat lunak tidak mendukung sesuatu, beli salah satu perangkat lunak dari yang lain, gabungkan komponen perangkat lunak melalui antarmuka perangkat lunak standar.  Tampaknya ini adalah masa depan yang cerah! <br><br>  Itulah sebabnya gateway protokol lebih jarang digunakan daripada server OPC dan bundel konverter Ethernet ke RS-485 karena sifatnya yang tidak dapat dipisahkan menjadi beberapa komponen. <br><br>  Salah satu alasan mengapa SCADA untuk Linux kurang berkembang: SCADA tersedia, beberapa protokol pertukaran didukung di dalamnya, dan tidak ada server OPC untuk komunikasi dengan peralatan.  SCADA meninggalkan integrator satu lawan satu dengan perangkat keras. <br><br>  Pembaca mungkin sudah mengajukan pertanyaan: Apa yang bisa Anda tawarkan?  Apa yang sudah ada di sana?  Ada OPC UA server untuk Linux untuk protokol berikut: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IEC 60870-5-104;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IEC 60870-5-101;</a> </li><li>  Penghitung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Merkurius 230, 231, 233, 234, 236</a> ; </li><li>  Penghitung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">-4, -3, -4</a> ; </li><li>  Meter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Energi;</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SNMP</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MQTT</a> ; </li><li>  Counter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mercury 200</a> . </li></ul><br>  Untuk mengirimkan data ke tingkat atas tidak hanya melalui protokol OPC UA, " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OPC UA to Modbus Converter dan IEC 60870-5-104</a> " telah dibuat.  Selain fungsi transfer data dari protokol ini, "Konverter" memiliki server web bawaan.  Menggunakan editor khusus, Anda dapat menggambar diagram, menampilkan nilai tag di atasnya, dan kemudian membukanya di browser.  Ternyata mini-SCADA langsung di controller.  Bagaimana animasi sirkuit bekerja, saya sudah menulis di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> , tentang editor di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Di masa depan, "OPC UA to MQTT Converter" direncanakan. <br><br>  Server dan konverter OPC UA berfungsi pada arsitektur x64, ARMv7 dan AARCH64. <br>  Dengan demikian, untuk perangkat keras, Anda dapat menggunakan kedua solusi yang telah teruji waktu berdasarkan komputer industri mini, dan semua jenis minicomputer ARM "raspberry pi kompatibel".  Cara menginstal dan mengkonfigurasi perangkat lunak dengan contoh dapat dibaca di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> atau di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Secara umum, struktur kompleks terlihat seperti ini: <br><br><img src="https://habrastorage.org/webt/4w/my/rr/4wmyrra7y9xz2iah4sthdq_mlyy.png" alt="gambar"><br><br>  Sistem ini dapat diskalakan.  Komponen yang diperlukan hanya untuk menyelesaikan masalah saat ini digunakan. <br><br>  Menggunakan server OPC UA, skema kami diubah: <br><br><img src="https://habrastorage.org/webt/g4/bp/nt/g4bpnttzmoq5fxjadms0qssfwua.png" alt="gambar"><br><br>  Kami memiliki yang berikut: <br><br><ul><li>  Server OPC UA mengumpulkan data dari perangkat melalui RS-485 tanpa penundaan besar di antara permintaan; </li><li>  Data dalam SCADA dikeluarkan dalam beberapa bagian dalam satu paket TCP untuk perubahan; </li><li>  Anda dapat menghubungkan beberapa workstation yang dikonfigurasi sama ke server OPC UA.  Berguna jika duplikasi diperlukan. </li></ul><br>  Jadi, alih-alih menggabungkan server OPC dan "Ethernet to RS-485 Converter", kami mendapatkan satu perangkat yang menggabungkan fungsionalitasnya.  Saya lebih suka skema ini.  Bagaimana dengan kamu? </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id433282/">https://habr.com/ru/post/id433282/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id433272/index.html">Wawancara dengan David Gobel</a></li>
<li><a href="../id433274/index.html">Oleg Dokuka tentang pengembangan reaktif di jug.msk.ru</a></li>
<li><a href="../id433276/index.html">Tentang manfaat menanamkan CSS di JS</a></li>
<li><a href="../id433278/index.html">WebGL-wind dan pemrograman GPU. Kuliah di FrontTalks 2018</a></li>
<li><a href="../id433280/index.html">Konferensi DEFCON 18. Teknik Reverse Trollim Menggunakan Matematika</a></li>
<li><a href="../id433286/index.html">10 rapat IT dan hackathon terdekat di Moskow</a></li>
<li><a href="../id433288/index.html">Keamanan Web: Pengantar HTTP</a></li>
<li><a href="../id433292/index.html">Intisari materi menarik untuk pengembang ponsel # 279 (pada 10 - 16 Desember)</a></li>
<li><a href="../id433294/index.html">Beberapa rekomendasi kerja tim yang sederhana</a></li>
<li><a href="../id433296/index.html">Manajemen keuangan di perusahaan IT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>