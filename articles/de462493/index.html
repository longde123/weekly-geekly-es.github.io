<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛂 📮 👩‍❤️‍💋‍👩 Multimodell-DBMS - die Basis moderner Informationssysteme? 👩🏿‍⚕️ ♥️ 🌠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Moderne Informationssysteme sind recht komplex. Last but not least ist ihre Komplexität auf die Komplexität der in ihnen verarbeiteten Daten zurückzuf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Multimodell-DBMS - die Basis moderner Informationssysteme?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462493/"><p>  Moderne Informationssysteme sind recht komplex.  Last but not least ist ihre Komplexität auf die Komplexität der in ihnen verarbeiteten Daten zurückzuführen.  Die Komplexität der Daten liegt häufig in der Vielfalt der verwendeten Datenmodelle.  Wenn die Daten beispielsweise "groß" werden, wird eine der unbequemen Eigenschaften nicht nur als ihr Volumen ("Volumen"), sondern auch als ihre Vielfalt ("Vielfalt") betrachtet. </p><br><p>  Wenn Sie immer noch keinen Fehler in der Argumentation finden, lesen Sie weiter. </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/94/mx/d8/94mxd8qgj-3patv4bk_mwhbpwaq.jpeg" alt="5-in-1-Shampoo"></a> </p><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Artikelinhalt</b> <div class="spoiler_text"><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Polyglotte Persistenz</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimodell</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimodell-DBMS basierend auf einem relationalen Modell</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentmodell in MS SQL Server</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diagrammmodell in MS SQL Server</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimodell-DBMS basierend auf einem Dokumentmodell</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Relationales Modell bei MarkLogic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Diagrammmodell in MarkLogic</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimodell-DBMS „ohne Hauptmodell“</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arangodb</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Oriententb</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Azure CosmosDB</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Multimodell-DBMS basierend auf einem Diagrammmodell?</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Umfrage</a> </p></div></div><br><h2 id="polyglot-persistenceanchoranchor">  Polyglotte Persistenz </h2><br><p>  Das Vorstehende führt dazu, dass es manchmal sogar im Rahmen eines Systems erforderlich ist, mehrere verschiedene DBMS zum Speichern von Daten und Lösen verschiedener Aufgaben für deren Verarbeitung zu verwenden, von denen jedes sein eigenes Datenmodell unterstützt.  Mit der leichten Hand von M. Fowler, dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Autor</a> mehrerer bekannter Bücher und einem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mitautoren des</a> Agilen Manifests, wurde diese Situation als <em>multivariate Speicherung</em> („polyglotte Persistenz“) bezeichnet. </p><br><p>  Fowler besitzt auch das folgende Beispiel für die Organisation der Datenspeicherung in einer voll funktionsfähigen und hoch geladenen Anwendung im Bereich des elektronischen Handels. </p><br><p><img src="https://habrastorage.org/webt/01/kr/tj/01krtjyrneny1qg_luwiaycrhwe.png"></p><br><p>  Dieses Beispiel ist natürlich etwas übertrieben, aber einige Überlegungen zur Auswahl des einen oder anderen DBMS für den entsprechenden Zweck finden Sie beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><p>  Es ist klar, dass es nicht einfach ist, Minister in einem solchen Zoo zu sein. </p><br><ul><li>  Die Menge an Code, die die Datenspeicherung durchführt, wächst proportional zur Anzahl der verwendeten DBMS.  Die Menge an Code, die die Daten synchronisiert, ist gut, wenn nicht proportional zum Quadrat dieser Zahl. </li><li>  Ein Vielfaches der Anzahl der verwendeten DBMS erhöht die Kosten für die Bereitstellung von Unternehmensmerkmalen (Skalierbarkeit, Fehlertoleranz, Hochverfügbarkeit) für jedes der verwendeten DBMS. </li><li>  Es ist nicht möglich, die Unternehmensmerkmale des gesamten Speichersubsystems anzugeben - insbesondere die Transaktionsmerkmale. </li></ul><br><p>  Aus Sicht des Direktors des Zoos sieht alles so aus: </p><br><ul><li>  Mehrfache Erhöhung der Kosten für Lizenzen und technischen Support durch den DBMS-Hersteller. </li><li>  Mitarbeiter aufblähen und längere Vorlaufzeiten. </li><li>  Direkte finanzielle Verluste oder Strafen aufgrund inkonsistenter Daten. </li></ul><br><p>  Die Gesamtbetriebskosten des Systems (TCO) steigen erheblich an.  Gibt es einen Ausweg aus der Situation des „multivariaten Speichers“? </p><br><h2 id="multimodelnostanchoranchor">  Multimodell </h2><br><p>  Der Begriff "multivariater Speicher" wurde 2011 verwendet.  Das Bewusstsein für die Probleme des Ansatzes und die Suche nach einer Lösung dauerte mehrere Jahre, und bis 2015 wurde die Antwort von Gartner-Analysten formuliert: </p><br><ul><li>  Aus dem „ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Market Guide for NoSQL DBMSs - 2015</a> “: <br><blockquote>  Die Zukunft von DBMS, seinen Architekturen und Verwendungsmethoden ist multimodell. <br></blockquote></li><li>  Aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Magic Quadrant für ODBMS 2016</a> : <br><blockquote>  Führende betriebliche DBMS werden mehrere Modelle - relationale und nicht relationale - als Teil einer einzigen Plattform anbieten. <br></blockquote></li></ul><br><p>  Diesmal scheinen sich die Analysten von Gartner nicht mit der Prognose geirrt zu haben.  Wenn Sie zu der Seite mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hauptbewertung von</a> DBMS für DB-Engines gehen, können Sie sehen, dass sich die meisten ihrer Führungskräfte genau als DBMS mit mehreren Modellen positionieren.  Das gleiche kann auf der Seite mit jeder privaten Bewertung gesehen werden. </p><br><p>  Die folgende Tabelle zeigt das DBMS - die führenden Unternehmen in den einzelnen privaten Ratings, die ihr Multi-Modell deklarieren.  Für jedes DBMS wird das ursprünglich unterstützte Modell (einmal das einzige) und damit die jetzt unterstützten Modelle angegeben.  Es gibt auch DBMS, die sich als "anfänglich Multi-Modell" positionieren und laut den Erstellern kein anfänglich vererbtes Modell haben. </p><br><div class="scrollable-table"><table><thead><tr><th>  DBMS </th><th>  Originalmodell </th><th>  Zusätzliche Modelle </th></tr></thead><tbody><tr><td>  Oracle </td><td>  Relational </td><td>  Grafik, Dokumentation </td></tr><tr><td>  MS SQL </td><td>  Relational </td><td>  Grafik, Dokumentation </td></tr><tr><td>  PostgreSQL </td><td>  Relational </td><td>  Grafik *, Dokumentation </td></tr><tr><td>  Marklogic </td><td>  Dokumentarfilm </td><td>  Grafik, relational </td></tr><tr><td>  Mongodb </td><td>  Dokumentarfilm </td><td>  Schlüsselwert, Grafik * </td></tr><tr><td>  Datensteuer </td><td>  Breite Spalte </td><td>  Dokumentarfilm, Grafik </td></tr><tr><td>  Redis </td><td>  Schlüsselwert </td><td>  Dokumentarfilm, Grafik * </td></tr><tr><td>  Arangodb </td><td>  - - </td><td>  Grafik, Dokumentation </td></tr><tr><td>  Oriententb </td><td>  - - </td><td>  Grafik, Dokumentation </td></tr><tr><td>  Azure CosmosDB </td><td>  - - </td><td>  Grafik, Dokument, relational </td></tr></tbody></table></div><br><div class="spoiler">  <b class="spoiler_title">Tabellennotizen</b> <div class="spoiler_text"><p>  Sternchen in der Tabelle kennzeichnen Aussagen, die Vorbehalte erfordern: </p><br><ul><li>  PostgreSQL unterstützt kein Diagrammdatenmodell, wird jedoch von einem darauf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">basierenden</a> Produkt wie beispielsweise AgensGraph unterstützt. </li><li> In Bezug auf MongoDB ist es korrekter, mehr über das Vorhandensein von Diagrammoperatoren in der Abfragesprache ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>$lookup</code></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>$graphLookup</code></a> ) zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>$graphLookup</code></a> als über die Unterstützung des Diagrammmodells, obwohl ihre Einführung natürlich einige Optimierungen auf der Ebene des physischen Speichers in Richtung der Unterstützung des Diagrammmodells erforderte. </li><li>  Für Redis bezieht sich dies auf die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RedisGraph-</a> Erweiterung. </li></ul></div></div><br><p>  Außerdem werden wir für jede der Klassen zeigen, wie die Unterstützung mehrerer Modelle im DBMS aus dieser Klasse implementiert wird.  Wir werden die wichtigsten relationalen, Dokument- und Diagrammmodelle betrachten und anhand von Beispielen für ein bestimmtes DBMS zeigen, wie die "fehlenden" implementiert werden. </p><br><h2 id="multimodelnye-subd-na-osnove-relyacionnoy-modelianchoranchor">  Multimodell-DBMS basierend auf einem relationalen Modell </h2><br><p>  Die führenden DBMS sind derzeit relational, die Gartner-Prognose könnte nicht als wahr angesehen werden, wenn die RDBMS keine Bewegung in Richtung Multi-Modell zeigten.  Und sie demonstrieren.  Jetzt kann die Idee, dass ein Multimodell-DBMS wie ein Schweizer Messer ist, was nicht gut gemacht werden kann, sofort an Larry Ellison gesendet werden. </p><br><p>  Dem Autor gefällt jedoch die Implementierung von Multimodelling in Microsoft SQL Server, an dessen Beispiel die RDBMS-Unterstützung für Dokument- und Diagrammmodelle beschrieben wird. </p><br><h3 id="dokumentnaya-model-v-ms-sql-serveranchoranchor">  Dokumentmodell in MS SQL Server </h3><br><p>  Über die Unterstützung des Dokumentmodells durch MS SQL Server gab es bereits zwei hervorragende Artikel zu Habré. Ich werde mich auf eine kurze Nacherzählung und einen Kommentar beschränken: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Arbeiten mit JSON in SQL Server 2016</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SQL Server 2017 JSON</a> </li></ul><br><p>  Die Unterstützung des Dokumentmodells in MS SQL Server ist typisch für relationale DBMS: Es wird vorgeschlagen, JSON-Dokumente in Nur-Text-Feldern zu speichern.  Die Unterstützung von Dokumentmodellen besteht darin, spezielle Operatoren zum Parsen dieses JSON bereitzustellen: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>JSON_VALUE</code></a> zum Abrufen skalarer Attributwerte, </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>JSON_QUERY</code></a> zum Abrufen von Unterdokumenten. </li></ul><br><p>  Das zweite Argument für beide Operatoren ist ein Ausdruck in JSONPath-ähnlicher Syntax. </p><br><p>  Es kann abstrakt gesagt werden, dass auf diese Weise gespeicherte Dokumente im Gegensatz zu Tupeln keine „erstklassigen Entitäten“ in einem relationalen DBMS sind.  Insbesondere verfügt MS SQL Server derzeit nicht über Indizes für die Felder von JSON-Dokumenten, was es schwierig macht, Tabellen anhand der Werte dieser Felder zu verknüpfen und sogar Dokumente anhand dieser Werte auszuwählen.  In diesem Feld ist es jedoch möglich, eine berechenbare Spalte und einen Index dafür zu erstellen. </p><br><p>  Darüber hinaus bietet MS SQL Server die Möglichkeit, mithilfe der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>FOR JSON PATH</code></a> Anweisung bequem ein JSON-Dokument aus dem Inhalt von Tabellen zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>FOR JSON PATH</code></a> Funktion ist in gewissem Sinne das Gegenteil des vorherigen normalen Speichers.  Es ist klar, dass dieser Ansatz, egal wie schnell das RDBMS ist, der Ideologie von Dokument-DBMS widerspricht, die tatsächlich vorgefertigte Antworten auf häufig gestellte Fragen speichern und nur Probleme der einfachen Entwicklung, aber nicht der Geschwindigkeit lösen können. </p><br><p>  Schließlich können Sie mit MS SQL Server das Problem lösen, das umgekehrt zum Design des Dokuments ist: Sie können JSON mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>OPENJSON</code></a> in Tabellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>OPENJSON</code></a> .  Wenn das Dokument nicht vollständig flach ist, müssen Sie <code>CROSS APPLY</code> . </p><br><h3 id="grafovaya-model-v-ms-sql-serveranchoranchor">  Diagrammmodell in MS SQL Server </h3><br><p>  Die Unterstützung für in Microsoft SQL Server implementierte Grafikmodelle ( <abbr>LPG</abbr> ) ist ebenfalls <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vorhersehbar</a> : Es wird vorgeschlagen, spezielle Tabellen zum Speichern von Knoten und zum Speichern von Diagrammkanten zu verwenden.  Solche Tabellen werden mit den Ausdrücken <code>CREATE TABLE AS NODE</code> bzw. <code>CREATE TABLE AS EDGE</code> . </p><br><p>  Tabellen des ersten Typs ähneln normalen Tabellen zum Speichern von Datensätzen mit dem einzigen externen Unterschied, dass die Tabelle das Systemfeld <code>$node_id</code> - eine in der Datenbank eindeutige Diagrammknoten- <code>$node_id</code> . </p><br><p>  In ähnlicher Weise haben Tabellen des zweiten Typs die Systemfelder <code>$from_id</code> und <code>$to_id</code> . Datensätze in solchen Tabellen definieren klar die Beziehungen zwischen Knoten.  In einer separaten Tabelle werden Beziehungen jedes Typs gespeichert. </p><br><p><img src="https://habrastorage.org/webt/ts/yx/yf/tsyxyfmueakjzmknlgaqxzkwx-o.png" align="right">  Wir veranschaulichen, was am Beispiel gesagt wurde.  Lassen Sie die Diagrammdaten ein Schema haben, wie in der Abbildung gezeigt.  Um die entsprechende Struktur in der Datenbank zu erstellen, müssen Sie die folgenden DDL-Abfragen ausführen: </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Person ( <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>) ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> NODE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> Cafe ( <span class="hljs-keyword"><span class="hljs-keyword">ID</span></span> <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-built_in"><span class="hljs-built_in">VARCHAR</span></span>(<span class="hljs-number"><span class="hljs-number">100</span></span>), ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> NODE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> likes ( rating <span class="hljs-built_in"><span class="hljs-built_in">INTEGER</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> EDGE; <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> friendOf <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> EDGE; <span class="hljs-comment"><span class="hljs-comment">/*   SQL Server 2019: ALTER TABLE likes ADD CONSTRAINT EC_LIKES CONNECTION (Person TO Cafe); */</span></span></code> </pre> <br><p>  Die Hauptspezifität solcher Tabellen besteht darin, dass es möglich ist, Diagrammmuster mit Cypher-ähnlicher Syntax in Abfragen für sie zu verwenden (" <code>*</code> " usw. werden jedoch noch nicht unterstützt).  Basierend auf Leistungsmessungen kann auch angenommen werden, dass sich die Methode zum Speichern von Daten in diesen Tabellen von dem Mechanismus zum Speichern von Daten in normalen Tabellen unterscheidet und für die Durchführung solcher Diagrammabfragen optimiert ist. </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> Cafe.name <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Person, likes, Cafe <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MATCH</span></span> (Person-(friendOf)-(likes)-&gt;Cafe) <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> Person.name = <span class="hljs-string"><span class="hljs-string">'John'</span></span>;</code> </pre> <br><p>  Darüber hinaus ist es ziemlich schwierig, diese Diagrammmuster bei der Arbeit mit solchen Tabellen nicht zu verwenden, da bei normalen SQL-Abfragen zur Lösung ähnlicher Probleme zusätzliche Anstrengungen erforderlich sind, um System- "Diagramm" -Knoten- <code>$node_id</code> ( <code>$node_id</code> , <code>$from_id</code> , <code>$to_id</code> ; dafür zu erhalten) Aus dem gleichen Grund werden Dateneinfügungsanfragen hier nicht als zu umständlich angegeben. <br></p><br><p>  Wenn ich die Beschreibung der Implementierungen der Dokument- und Diagrammmodelle in MS SQL Server zusammenfasse, möchte ich feststellen, dass solche Implementierungen eines Modells über einem anderen nicht in erster Linie im Hinblick auf das Sprachdesign erfolgreich zu sein scheinen.  Es ist erforderlich, eine Sprache mit einer anderen zu erweitern, Sprachen sind nicht vollständig „orthogonal“, die Kompatibilitätsregeln können ziemlich bizarr sein. </p><br><h2 id="multimodelnye-subd-na-osnove-dokumentnoy-modelianchoranchor">  Multimodell-DBMS basierend auf einem Dokumentmodell </h2><br><p>  In diesem Abschnitt möchte ich die Implementierung von Multimodellen in Dokument-DBMS am Beispiel der nicht so beliebten MongoDB veranschaulichen (wie bereits erwähnt, enthält sie nur bedingte Diagrammoperatoren <code>$lookup</code> und <code>$graphLookup</code> , die nicht für Shard-Sammlungen funktionieren). In diesem Beispiel ist sie jedoch ausgereifter und Unternehmen »DBMS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MarkLogic</a> . </p><br><p>  Lassen Sie die Sammlung also eine Reihe von XML-Dokumenten der folgenden Form enthalten (MarkLogic ermöglicht auch das Speichern von JSON-Dokumenten): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Person</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">INN</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"631803299804"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>John<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">surname</span></span></span><span class="hljs-tag">&gt;</span></span>Smith<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">surname</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Person</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="relyacionnaya-model-v-marklogicanchoranchor">  Relationales Modell bei MarkLogic </h3><br><p>  Eine relationale Darstellung einer Sammlung von Dokumenten kann mithilfe einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anzeigevorlage</a> erstellt werden (der Inhalt der <code>value</code> im folgenden Beispiel kann ein beliebiger XPath sein): </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://marklogic.com/xdmp/tde"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span>/Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rows</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">row</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view-name</span></span></span><span class="hljs-tag">&gt;</span></span>Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">view-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">columns</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>SSN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>@SSN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>string<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>name<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>surname<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>surname<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">column</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">columns</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">row</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rows</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Eine SQL-Abfrage kann an die erstellte Ansicht adressiert werden (z. B. über ODBC): </p><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>, surname <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Person <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span>=<span class="hljs-string"><span class="hljs-string">"John"</span></span></code> </pre> <br><p>  Leider ist die mit der Anzeigevorlage erstellte relationale Ansicht schreibgeschützt.  Bei der Verarbeitung einer Anfrage versucht MarkLogic, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentindizes</a> zu verwenden.  Früher gab es in MarkLogic nur begrenzte relationale Ansichten, die vollständig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">indexbasiert</a> und beschreibbar waren. Jetzt gelten sie als veraltet. </p><br><h3 id="grafovaya-model-v-marklogicanchoranchor">  Diagrammmodell in MarkLogic </h3><br><p>  Mit der Unterstützung des Graph ( <abbr>RDF</abbr> ) -Modells sind die Dinge ziemlich gleich.  Mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Anzeigevorlage können</a> Sie erneut eine RDF-Darstellung der Dokumentensammlung aus dem obigen Beispiel erstellen: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://marklogic.com/xdmp/tde"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span>/Person<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vars</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">var</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span>PREFIX<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">val</span></span></span><span class="hljs-tag">&gt;</span></span>"http://example.org/example#"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">val</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">var</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">vars</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triples</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || @SSN )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || surname )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>xs:string( surname )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || @SSN )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">subject</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>sem:iri( $PREFIX || name )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">predicate</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span>xs:string( name )<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">value</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">object</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triple</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">triples</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">template</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Das resultierende RDF-Diagramm kann mit einer SPARQL-Abfrage adressiert werden: </p><br><pre> <code class="sql hljs">PREFIX : &lt;http://example.org/example<span class="hljs-comment"><span class="hljs-comment">#&gt; SELECT ?name ?surname { :631803299804 :name ?name ; :surname ?surname . }</span></span></code> </pre> <br><p>  Im Gegensatz zum relationalen Modell unterstützt das MarkLogic-Diagrammmodell zwei weitere Möglichkeiten: </p><br><ol><li>  Das DBMS kann ein vollwertiges separates Repository für RDF-Daten sein (Triplets darin werden im Gegensatz zu dem oben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">extrahierten Extrakt</a> als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verwaltet bezeichnet</a> ). </li><li>  RDF in spezieller Serialisierung kann einfach in XML- oder JSON-Dokumente eingefügt werden (und Triplets werden dann als nicht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verwaltet bezeichnet</a> ).  Dies ist wahrscheinlich eine solche Alternative zu <code>idref</code> Mechanismen usw. </li></ol><br><p>  Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Optic-API</a> gibt eine gute Vorstellung davon, wie „wirklich“ alles in MarkLogic funktioniert. In diesem Sinne ist sie auf niedriger Ebene, obwohl ihr Zweck eher das Gegenteil ist - zu versuchen, vom verwendeten Datenmodell zu abstrahieren, um eine konsistente Arbeit mit Daten in verschiedenen Modellen, Transaktions- und Transaktionsmöglichkeiten sicherzustellen pr </p><br><h2 id="multimodelnye-subd-bez-osnovnoy-modelianchoranchor">  Multimodell-DBMS „ohne Hauptmodell“ </h2><br><p>  DBMS sind auch auf dem Markt erhältlich und positionieren sich als anfänglich Multi-Modell ohne vererbtes Grundmodell.  Dazu gehören <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ArangoDB</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OrientDB</a> (seit 2018 gehört das Entwicklungsunternehmen zu SAP) und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CosmosDB</a> (ein in der Microsoft Azure-Cloud-Plattform enthaltener Dienst). </p><br><p>  Tatsächlich gibt es in ArangoDB und OrientDB „grundlegende“ Modelle.  In beiden Fällen handelt es sich um proprietäre Datenmodelle, bei denen es sich um Dokumentverallgemeinerungen handelt.  Verallgemeinerungen dienen hauptsächlich dazu, die Erstellung von grafischen und relationalen Abfragen zu erleichtern. </p><br><p>  Diese Modelle sind die einzigen, die für die Verwendung in den angegebenen DBMS verfügbar sind. Ihre eigenen Abfragesprachen funktionieren mit ihnen.  Natürlich sind solche Modelle und DBMS vielversprechend, aber die mangelnde Kompatibilität mit Standardmodellen und -sprachen macht es unmöglich, diese DBMS in Legacy-Systemen zu verwenden und sie durch das bereits verwendete DBMS zu ersetzen. </p><br><p>  Über ArangoDB und OrientDB auf Habré gab es bereits einen wunderbaren Artikel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JOIN in NoSQL-Datenbanken</a> . </p><br><h3 id="arangodbanchoranchor">  Arangodb </h3><br><p>  ArangoDB beansprucht Unterstützung für ein Diagrammdatenmodell. </p><br><p>  Diagrammknoten in ArangoDB sind normale Dokumente, und Kanten sind Dokumente einer besonderen Art, die zusammen mit den üblichen Systemfeldern ( <code>_key</code> , <code>_id</code> , <code>_rev</code> ) die Systemfelder <code>_from</code> und <code>_to</code> .  Dokumente in Dokument-DBMS werden traditionell zu Sammlungen zusammengefasst.  Sammlungen von Dokumenten, die Kanten darstellen, werden in ArangoDB als Kantensammlungen bezeichnet.  Dokumente von Kantensammlungen sind übrigens auch Dokumente, sodass Kanten in ArangoDB auch als Knoten fungieren können. </p><br><div class="spoiler">  <b class="spoiler_title">Ausgangsdaten</b> <div class="spoiler_text"><p>  Angenommen, wir haben eine Sammlung von <code>persons</code> deren Dokumente folgendermaßen aussehen: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"people/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"people/bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> } ]</code> </pre> <br><p>  Lassen Sie auch eine Sammlung von <code>cafes</code> : </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"jd"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">" "</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jj"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"jj"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"name"</span></span> : <span class="hljs-string"><span class="hljs-string">"-"</span></span> } ]</code> </pre> <br><p>  Dann könnte die <code>likes</code> Sammlung folgendermaßen aussehen: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/1"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"1"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2010</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/2"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"2"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/alice"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jj"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2011</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"_id"</span></span> : <span class="hljs-string"><span class="hljs-string">"likes/3"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_key"</span></span> : <span class="hljs-string"><span class="hljs-string">"3"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_from"</span></span> : <span class="hljs-string"><span class="hljs-string">"persons/bob"</span></span> , <span class="hljs-attr"><span class="hljs-attr">"_to"</span></span> : <span class="hljs-string"><span class="hljs-string">"cafes/jd"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span> : <span class="hljs-number"><span class="hljs-number">2012</span></span> } ]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Abfragen und Ergebnisse</b> <div class="spoiler_text"><p>  Eine grafische Abfrage in AQL, die in ArangoDB verwendet wird und in lesbarer Form Informationen darüber zurückgibt, wer welches Café mag, sieht folgendermaßen aus: </p><br><pre> <code class="plaintext hljs">FOR p IN persons FOR c IN OUTBOUND p likes RETURN { person : p.name , likes : c.name }</code> </pre> <br><p>  In einem relationalen Stil kann diese Abfrage wie folgt umgeschrieben werden, wenn es wahrscheinlicher ist, dass wir die Beziehungen „berechnen“, anstatt sie zu speichern (Sie könnten übrigens auch auf die <code>likes</code> Sammlung verzichten): </p><br><pre> <code class="plaintext hljs">FOR p IN persons FOR l IN likes FILTER p._key == l._from FOR c IN cafes FILTER l._to == c._key RETURN { person : p.name , likes : c.name }</code> </pre> <br><p>  Das Ergebnis ist in beiden Fällen das gleiche: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">"-"</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">" "</span></span> } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : <span class="hljs-string"><span class="hljs-string">" "</span></span> } ]</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Weitere Fragen und Ergebnisse</b> <div class="spoiler_text"><p>  Wenn das Format des obigen Ergebnisses für ein relationales DBMS typischer ist als für ein Dokument, können Sie diese Abfrage versuchen (oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>COLLECT</code></a> ): </p><br><pre> <code class="plaintext hljs">FOR p IN persons RETURN { person : p.name, likes : ( FOR c IN OUTBOUND p likes RETURN c.name ) }</code> </pre> <br><p>  Das Ergebnis ist wie folgt: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : [<span class="hljs-string"><span class="hljs-string">"-"</span></span> , <span class="hljs-string"><span class="hljs-string">" "</span></span>] } , { <span class="hljs-attr"><span class="hljs-attr">"person"</span></span> : <span class="hljs-string"><span class="hljs-string">""</span></span> , likes : [<span class="hljs-string"><span class="hljs-string">" "</span></span>] } ]</code> </pre> </div></div><br><h3 id="orientdbanchoranchor">  Oriententb </h3><br><p>  Die Implementierung des Diagrammmodells über dem Dokumentmodell in OrientDB basiert auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fähigkeit</a> von Dokumentfeldern, zusätzlich zu mehr oder weniger standardmäßigen Skalarwerten Werte von Typen wie <code>LINK</code> , <code>LINKLIST</code> , <code>LINKSET</code> , <code>LINKMAP</code> und <code>LINKBAG</code> .  Die Werte dieser Typen sind Links oder Sammlungen von Links zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Systemdokument-IDs</a> . </p><br><p>  Die vom System zugewiesene Dokumentkennung hat eine „physikalische Bedeutung“, die die Position des Datensatzes in der Datenbank <code>@rid : #3:16</code> , und sieht <code>@rid : #3:16</code> so aus: <code>@rid : #3:16</code> .  Daher sind die Werte von Referenzeigenschaften eher Zeiger (wie in einem Diagrammmodell) als Auswahlbedingungen (wie in einem relationalen Modell). </p><br><p>  Wie in ArangoDB werden in OrientDB die Kanten als separate Dokumente dargestellt (obwohl die Kante, wenn sie keine eigenen Eigenschaften hat, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">leichtgewichtig gemacht werden kann</a> und kein separates Dokument ihr entspricht). </p><br><div class="spoiler">  <b class="spoiler_title">Ausgangsdaten</b> <div class="spoiler_text"><p>  In einem Format, das dem OrientDB-Datenbank- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dump-Format nahe kommt</a> , sehen die Daten aus dem vorherigen Beispiel für ArangoDB ungefähr so ​​aus: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Person"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span>, <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"out_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#12:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Person"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"out_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cafe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span>, <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#22:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"Cafe"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in_likes"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in_likes=LINKBAG"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#22:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1262286000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#11:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1293822000000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"@type"</span></span>: <span class="hljs-string"><span class="hljs-string">"document"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@rid"</span></span>: <span class="hljs-string"><span class="hljs-string">"#30:3"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@class"</span></span>: <span class="hljs-string"><span class="hljs-string">"likes"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"in"</span></span>: <span class="hljs-string"><span class="hljs-string">"#21:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"out"</span></span>: <span class="hljs-string"><span class="hljs-string">"#12:0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"since"</span></span>: <span class="hljs-number"><span class="hljs-number">1325354400000</span></span>, <span class="hljs-attr"><span class="hljs-attr">"@fieldTypes"</span></span>: <span class="hljs-string"><span class="hljs-string">"in=LINK,out=LINK,since=date"</span></span> } ]</code> </pre> <br><p>  Wie wir sehen können, speichern die Eckpunkte auch Informationen über eingehende und ausgehende Kanten.  Wenn Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Dokument-API verwenden, müssen Sie die referenzielle Integrität selbst befolgen, und die Graph-API kümmert sich darum.  Aber mal sehen, wie der Aufruf von OrientDB in "sauber" aussieht, nicht in Programmiersprachen integriert, Abfragesprachen. </p></div></div><br><div class="spoiler">  <b class="spoiler_title">Abfragen und Ergebnisse</b> <div class="spoiler_text"><p>  Eine Abfrage, deren Zweck der Abfrage aus dem Beispiel für ArangoDB in OrientDB ähnelt, sieht folgendermaßen aus: </p><br><pre> <code class="plaintext hljs">SELECT name AS person_name, OUT('likes').name AS cafe_name FROM Person UNWIND cafe_name</code> </pre> <br><p>  Das Ergebnis wird wie folgt erhalten: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: <span class="hljs-string"><span class="hljs-string">"-"</span></span> } ]</code> </pre> <br><p>  Wenn das Format des Ergebnisses erneut zu "relational" erscheint, müssen Sie die Zeile mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>UNWIND()</code></a> entfernen: </p><br><pre> <code class="json hljs">[ { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"-"</span></span> ] }, { <span class="hljs-attr"><span class="hljs-attr">"person_name"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"cafe_name"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-"</span></span> ' } ]</code> </pre> <br><p>  Die OrientDB-Abfragesprache kann als SQL mit Gremlin-ähnlichen Einfügungen beschrieben werden.  In Version 2.2 wurde das Cypher-ähnliche Anforderungsformular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>MATCH</code></a> : </p><br><pre> <code class="plaintext hljs">MATCH {CLASS: Person, AS: person}-likes-&gt;{CLASS: Cafe, AS: cafe} RETURN person.name AS person_name, LIST(cafe.name) AS cafe_name GROUP BY person_name</code> </pre> <br><p>  Das Format des Ergebnisses ist das gleiche wie in der vorherigen Abfrage.  Überlegen Sie, was entfernt werden muss, um es „relationaler“ zu machen, wie in der ersten Abfrage. </p></div></div><br><h3 id="azure-cosmosdbanchoranchor">  Azure CosmosDB </h3><br><p>  In geringerem Maße bezieht sich das, was oben über ArangoDB und OrientDB gesagt wurde, auf Azure CosmosDB.  CosmosDB bietet die folgenden Datenzugriffs-APIs: SQL, MongoDB, Gremlin und Cassandra. </p><br><p>  Die SQL-API und die MongoDB-API werden verwendet, um auf Daten im Dokumentmodell zuzugreifen.  Gremlin-API und Cassandra-API - für den Zugriff auf Daten in Grafiken bzw. Spalten.  Daten in allen Modellen werden im Format des internen CosmosDB-Modells gespeichert: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ARS</a> („Atom-Record-Sequence“), das sich ebenfalls in der Nähe des Dokuments befindet. </p><br><p><img src="https://habrastorage.org/webt/8g/qw/ns/8gqwnsgawddcuvu4yi46--0bdk8.png"></p><br><p>  Das vom Benutzer ausgewählte Datenmodell und die verwendete API sind jedoch zum Zeitpunkt der Erstellung des Kontos im Dienst festgelegt.  Es ist unmöglich, auf die in ein Modell geladenen Daten im Format eines anderen Modells zuzugreifen, was durch Folgendes veranschaulicht würde: </p><br><p><img src="https://habrastorage.org/webt/lv/hx/lw/lvhxlwpyyu4aub0riqjp6h2lagq.png"></p><br><p>  Daher bietet das Multimodell in Azure CosmosDB heute nur die Möglichkeit, mehrere Datenbanken zu verwenden, die unterschiedliche Modelle desselben Herstellers unterstützen, wodurch nicht alle Probleme des multivariaten Speichers gelöst werden. </p><br><h2 id="multimodelnye-subd-na-osnove-grafovoy-modelianchoranchor">  Multimodell-DBMS basierend auf einem Diagrammmodell? </h2><br><p>  Es ist bemerkenswert, dass es auf dem Markt keine Multimodell-DBMS gibt, die auf einem Diagrammmodell basieren (mit Ausnahme der Multimodell-Unterstützung für zwei Grafikmodelle gleichzeitig: RDF und LPG; siehe dies in einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">früheren Veröffentlichung</a> ).  Die größten Schwierigkeiten sind die Implementierung über dem Diagrammmodell des Dokuments und nicht die relationale. </p><br><p>  Die Frage, wie ein relationales Modell über ein Graphmodell implementiert werden kann, wurde bereits zum Zeitpunkt der Bildung des letzteren berücksichtigt.  Wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">David McGovern</a> zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sagte</a> : </p><br><blockquote>  Der Graph-Ansatz enthält nichts, was das Erstellen einer Ebene (z. B. durch geeignete Indizierung) in einer Graph-Datenbank verhindert, die eine relationale Ansicht mit (1) Wiederherstellung von Tupeln aus den üblichen Schlüsselwertpaaren und (2) Gruppierung von Tupeln nach ermöglicht Beziehungstyp. </blockquote><p>  Wenn Sie das Dokumentmodell über dem Diagramm implementieren, müssen Sie beispielsweise Folgendes berücksichtigen: </p><br><ul><li>  Elemente des JSON-Arrays werden als geordnet betrachtet und kommen vom oberen Rand des Diagramms - nein; </li><li>  Die Daten im Dokumentmodell sind normalerweise denormalisiert. Sie möchten immer noch nicht mehrere Kopien desselben angehängten Dokuments speichern, und Unterdokumente haben normalerweise keine Bezeichner. </li><li>  Andererseits besteht die Ideologie von Dokument-DBMS darin, dass Dokumente vorgefertigte „Einheiten“ sind, die nicht jedes Mal neu erstellt werden müssen.  Es ist erforderlich, im Diagrammmodell die Möglichkeit bereitzustellen, den dem fertigen Dokument entsprechenden Untergraphen schnell zu erhalten. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Etwas Werbung</b> <div class="spoiler_text"><p>  Der Autor des Artikels bezieht sich auf die Entwicklung des NitrosBase-DBMS, dessen internes Modell grafisch ist, und dessen Darstellung externe Modelle - relational und dokumentarisch - sind.  Alle Modelle sind gleich: Fast alle Daten sind in jedem von ihnen in der dafür vorgesehenen Abfragesprache verfügbar.  Darüber hinaus können sich die Daten in jeder Darstellung ändern.  Änderungen werden im internen Modell und entsprechend in anderen Darstellungen berücksichtigt. </p><br><p>  Wie das Modell-Matching in NitrosBase aussieht - ich werde es hoffentlich in einem der folgenden Artikel beschreiben. </p></div></div><br><h1 id="zaklyuchenieanchoranchor">  Fazit </h1><br><p>  Ich hoffe, dass die allgemeinen Konturen des sogenannten Multimodellierens für den Leser mehr oder weniger klar geworden sind.  Ganz unterschiedliche DBMS werden als Multimodelle bezeichnet, und „Unterstützung für mehrere Modelle“ kann unterschiedlich aussehen.  Um zu verstehen, was in jedem Fall als "Multi-Modell" bezeichnet wird, ist es hilfreich, die folgenden Fragen zu beantworten: </p><br><ol><li>  Geht es um die Unterstützung traditioneller Modelle oder um ein einzelnes Hybridmodell? </li><li>  Sind die Modelle „gleich“ oder unterliegt eines den anderen? </li><li>  Sind die Modelle einander "gleichgültig"?  Können die in einem Modell aufgezeichneten Daten in einem anderen gelesen oder sogar überschrieben werden? </li></ol><br><p>  Ich denke, dass es bereits möglich ist, die Frage nach der Relevanz von Multimodell-DBMS positiv zu beantworten, aber die Frage, welche spezifischen Sorten in naher Zukunft stärker nachgefragt werden, ist interessant.  Es scheint, dass DBMS mit mehreren Modellen, die traditionelle Modelle unterstützen, hauptsächlich relationale, stärker nachgefragt werden.    ,   ,      , —    . </p><br><h2 id="anchoranchorhr"><hr></h2></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de462493/">https://habr.com/ru/post/de462493/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de462481/index.html">Geben Sie System-FAQs ein</a></li>
<li><a href="../de462483/index.html">Funktionale Programmierung: Ein verrücktes Spielzeug, das die Arbeitsproduktivität beeinträchtigt. Teil 1</a></li>
<li><a href="../de462485/index.html">Funktionale Programmierung: Ein verrücktes Spielzeug, das die Arbeitsproduktivität beeinträchtigt. Teil 2</a></li>
<li><a href="../de462487/index.html">Cython: Über 30-fache Python-Code-Beschleunigung</a></li>
<li><a href="../de462489/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 374 (29. Juli - 4. August 2019)</a></li>
<li><a href="../de462495/index.html">Digitale Veranstaltungen in Moskau vom 05. bis 11. August</a></li>
<li><a href="../de462501/index.html">Warum brauche ich meine eigene Zertifizierungsstelle?</a></li>
<li><a href="../de462503/index.html">Wofür sind die „goldenen Signale“ von Überwachung und SRE?</a></li>
<li><a href="../de462505/index.html">Mach mir nichts vor mit deiner funktionalen Programmierung</a></li>
<li><a href="../de462507/index.html">Wenn E-Mails zugestellt werden: Bekämpfung des Verlusts von Push-Benachrichtigungen in iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>