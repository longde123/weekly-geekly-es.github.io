<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯО│ ЁЯС┐ ЁЯд▓ЁЯП╝ рдкрд╛рдпрдерди рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ тШкя╕П тЬНЁЯП╛ ЁЯСиЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЬреИрд╕рд╛ рдХрд┐ рдПрдХ StackOverflow рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдХрд╣рд╛, "SO рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рд▓рд┐рдВрдХ рдХреА рдЧрдИ рд╕реВрдЪреА рдХреЗ рдмрдЬрд╛рдп рд╣реИрд╢рдЯреЗрдмрд▓ рдХреЗ рд╕рд╛рде рд▓реБрдХрдЕрдк рдХрд░рдиреЗ рдЬреИрд╕рд╛ рд╣реИред" рд╣рдо рдлрд┐рд░ рд╕реЗ рдЗрд╕ рдЕрджреНрднреБрдд рд╕рдВрд╕рд╛рдзрди рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкрд╛рдпрдерди рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/145835/">  <i>рдЬреИрд╕рд╛ рдХрд┐ рдПрдХ StackOverflow рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдиреЗ рдХрд╣рд╛, "SO рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рд▓рд┐рдВрдХ рдХреА рдЧрдИ рд╕реВрдЪреА рдХреЗ рдмрдЬрд╛рдп рд╣реИрд╢рдЯреЗрдмрд▓ рдХреЗ рд╕рд╛рде рд▓реБрдХрдЕрдк рдХрд░рдиреЗ рдЬреИрд╕рд╛ рд╣реИред"</i>  <i>рд╣рдо рдлрд┐рд░ рд╕реЗ рдЗрд╕ рдЕрджреНрднреБрдд рд╕рдВрд╕рд╛рдзрди рдХреА рдУрд░ рдореБрдбрд╝рддреЗ рд╣реИрдВ, рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдЕрддреНрдпрдВрдд рд╡рд┐рд╕реНрддреГрдд рдФрд░ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдЙрддреНрддрд░ рджреЗрддрд╛ рд╣реИред</i> <i><br><br></i>  <i>рдЗрд╕ рдмрд╛рд░ рд╣рдо рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдХреНрдпрд╛ рд╣реИрдВ, рдХреИрд╕реЗ, рдХрд╣рд╛рдБ, рдФрд░ рдХреНрдпреЛрдВ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИ, рдФрд░ рдХреНрдпреЛрдВ рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рдирд╣реАрдВ рд╣реИред</i> <br><a name="habracut"></a><br><h1>  рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдХрдХреНрд╖рд╛рдПрдВ </h1><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЕрдзреНрдпрдпрди рдХрд░реЗрдВ, рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╕рдордЭрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдкрд╛рдпрдерди рдореЗрдВ рдХрдХреНрд╖рд╛рдПрдВ рдПрдХ рдмрд╣реБрдд рд╣реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЪреАрдЬ рд╣реИрдВ (рд╕реНрдореЙрд▓рдЯреЙрдХ рднрд╛рд╖рд╛ рдХреЗ рд╡рд┐рдЪрд╛рд░реЛрдВ рдкрд░ рдЖрдзрд╛рд░рд┐рдд)ред <br><br>  рдЕрдзрд┐рдХрд╛рдВрд╢ рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ, рдПрдХ рд╡рд░реНрдЧ рдХреЛрдб рдХрд╛ рдПрдХ рдЯреБрдХрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рдкрд╛рдпрдерди рдХреЗ рд▓рд┐рдП рднреА рд╕рдЪ рд╣реИ: <br><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectCreator</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ... &gt;&gt;&gt; my_object = ObjectCreator() &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> my_object &lt;__main__.ObjectCreator object at <span class="hljs-number"><span class="hljs-number">0x8974f2c</span></span>&gt;</code> </pre> <br>  рд▓реЗрдХрд┐рди рдкрд╛рдпрдерди рдореЗрдВ, рдПрдХ рд╡рд░реНрдЧ рдХреБрдЫ рдФрд░ рд╣реИ - рдХрдХреНрд╖рд╛рдПрдВ рднреА рд╡рд╕реНрддреБрдПрдВ рд╣реИрдВред <br><br>  рдПрдХ рдмрд╛рд░ <code>class</code> рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдкрд╛рдпрдерди рдХрдорд╛рдВрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ <i>рдСрдмреНрдЬреЗрдХреНрдЯ</i> рдмрдирд╛рддрд╛ рд╣реИред  рдирд┐рд░реНрджреЗрд╢ рдореИрдиреБрдЕрд▓ <br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectCreator</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ...</code> </pre><br>  рдореЗрдореЛрд░реА рдореЗрдВ рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ <code>ObjectCreator</code> рдЬрд┐рд╕реЗ <code>ObjectCreator</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ (рдХреНрд▓рд╛рд╕) рдЦреБрдж рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ (рдЗрдВрд╕реНрдЯреЗрдВрд╕) рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдПрдХ рдХреНрд▓рд╛рд╕ рд╣реИред <br><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдПрдХ рд╡рд╕реНрддреБ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП: <br><ul><li>  рдпрд╣ рдПрдХ рдЪрд░ рдХреЛ рд╕реМрдВрдкрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, </li><li>  рдЗрд╕реЗ рдХреЙрдкреА рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, </li><li>  рдЖрдк рдЗрд╕рдореЗрдВ рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, </li><li>  рдЗрд╕реЗ рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, </li></ul><br><br><h1>  рдЧрддрд┐рд╢реАрд▓ рд╡рд░реНрдЧ рдирд┐рд░реНрдорд╛рдг </h1><br>  рдЪреВрдВрдХрд┐ рдХрдХреНрд╖рд╛рдПрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рддрд░рд╣, рдЪрд▓рддреЗ-рдлрд┐рд░рддреЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк <code>class</code> рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдПрдХ рдХреНрд▓рд╛рд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">choose_class</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> name == <span class="hljs-string"><span class="hljs-string">'foo'</span></span>: ... <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo <span class="hljs-comment"><span class="hljs-comment">#  ,    ... else: ... class Bar(object): ... pass ... return Bar ... &gt;&gt;&gt; MyClass = choose_class('foo') &gt;&gt;&gt; print MyClass #   ,    &lt;class '__main__.Foo'&gt; &gt;&gt;&gt; print MyClass() #      &lt;__main__.Foo object at 0x89c6d4c&gt;</span></span></code> </pre><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдмрд╣реБрдд рдЧрддрд┐рд╢реАрд▓ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдЕрднреА рднреА рдкреВрд░реА рдХрдХреНрд╖рд╛ рдХреЛ рд╕реНрд╡рдпрдВ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдЪреВрдВрдХрд┐ рдХрдХреНрд╖рд╛рдПрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЙрдиреНрд╣реЗрдВ рдХрд┐рд╕реА рдЪреАрдЬрд╝ рд╕реЗ рдЙрддреНрдкрдиреНрди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br>  рдЬрдм <code>class</code> рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдкрд╛рдпрдерди рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдмрдирд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдкрд╛рдпрдерди рдореЗрдВ рдЕрдзрд┐рдХрд╛рдВрд╢ рдЪреАрдЬреЛрдВ рдХреА рддрд░рд╣, рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдРрд╕рд╛ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИред <br><br>  <code>type</code> рдлрд╝рдВрдХреНрд╢рди рдпрд╛рдж рд░рдЦреЗрдВ?  рдПрдХ рдЕрдЪреНрдЫрд╛ рдкреБрд░рд╛рдирд╛ рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рдЖрдкрдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> type(<span class="hljs-number"><span class="hljs-number">1</span></span>) &lt;type <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt; &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> type(<span class="hljs-string"><span class="hljs-string">"1"</span></span>) &lt;type <span class="hljs-string"><span class="hljs-string">'str'</span></span>&gt; &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> type(ObjectCreator) &lt;type <span class="hljs-string"><span class="hljs-string">'type'</span></span>&gt; &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> type(ObjectCreator()) &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__main__</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ObjectCreator</span></span></span><span class="hljs-class">'&gt;</span></span></code> </pre><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, <code>type</code> рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдПрдХ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╣реИ: рдпрд╣ рднреА рдЬрд╛рдиреЗ рдкрд░ рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред  <code>type</code> рдПрдХ рдХрдХреНрд╖рд╛ рдШреЛрд╖рдгрд╛ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдХрдХреНрд╖рд╛ рдХреЛ рдмреБрд▓рд╛рддрд╛ рд╣реИред <br><br>  (рдореБрдЭреЗ рдкрддрд╛ рд╣реИ, рдпрд╣ рдореВрд░реНрдЦрддрд╛ рд╣реИ рдХрд┐ рдПрдХ рд╣реА рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рддрд░реНрдХреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рджреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдкрд┐рдЫрдбрд╝реЗ рд╕рдВрдЧрддрддрд╛ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) <br><br>  <code>type</code> рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: <br><pre> <code class="python hljs"> type(&lt; &gt;, &lt;  &gt;, <span class="hljs-comment"><span class="hljs-comment">#  ,    &lt;,     &gt;)</span></span></code> </pre><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyShinyClass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br>  рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><pre> <code class="python hljs"> &gt;&gt;&gt; MyShinyClass = type(<span class="hljs-string"><span class="hljs-string">'MyShinyClass'</span></span>, (), {}) <span class="hljs-comment"><span class="hljs-comment">#  - &gt;&gt;&gt; print MyShinyClass &lt;class '__main__.MyShinyClass'&gt; &gt;&gt;&gt; print MyShinyClass() #    &lt;__main__.MyShinyClass object at 0x8997cec&gt;</span></span></code> </pre><br>  рдЖрдкрдиреЗ рджреЗрдЦрд╛ рд╣реЛрдЧрд╛ рдХрд┐ рд╣рдо "MyShinyClass" рдХреЛ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рдирд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдФрд░ рдПрдХ рдЪрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд╡рд░реНрдЧ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рд╣реИред  рд╡реЗ рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ рдЬрдЯрд┐рд▓ рдХреНрдпреЛрдВ рдХрд░рддреЗ рд╣реИрдВ? <br><br>  <code>type</code> рдПрдХ рдбрд┐рдХреНрд╢рдирд░реА рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдХреНрд▓рд╛рд╕ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдмрддрд╛рддрд╛ рд╣реИ: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... bar = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br>  рдХреЗ рд░реВрдк рдореЗрдВ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ <br><pre> <code class="python hljs"> &gt;&gt;&gt; Foo = type(<span class="hljs-string"><span class="hljs-string">'Foo'</span></span>, (), {<span class="hljs-string"><span class="hljs-string">'bar'</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>})</code> </pre><br>  рдФрд░ рдПрдХ рдирд┐рдпрдорд┐рдд рд╡рд░реНрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ <br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> Foo &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__main__</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">'&gt; &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bar</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">True</span></span></span><span class="hljs-class"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class"> &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__main__</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">at</span></span></span><span class="hljs-class"> 0</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x8a9b84c</span></span></span><span class="hljs-class">&gt; &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bar</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">True</span></span></span></span></code> </pre><br>  рдмреЗрд╢рдХ, рдЖрдк рдЗрд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooChild</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Foo)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br>  рдореЗрдВ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ <br><pre> <code class="python hljs"> &gt;&gt;&gt; FooChild = type(<span class="hljs-string"><span class="hljs-string">'FooChild'</span></span>, (Foo,), {}) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> FooChild &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__main__</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooChild</span></span></span><span class="hljs-class">'&gt; &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">print</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooChild</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bar</span></span></span><span class="hljs-class"> # </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bar</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">inherited</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">from</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">True</span></span></span></span></code> </pre><br>  рдХреБрдЫ рдмрд┐рдВрджреБ рдкрд░ рдЖрдк рдЕрдкрдиреА рдХрдХреНрд╖рд╛ рдореЗрдВ рд╡рд┐рдзрд┐рдпрд╛рдБ рдЬреЛрдбрд╝рдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рд╡рд╛рдВрдЫрд┐рдд рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреЗ рд╕рд╛рде рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ рдФрд░ рдЗрд╕реЗ рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ: <br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">echo_bar</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> self.bar ... &gt;&gt;&gt; FooChild = type(<span class="hljs-string"><span class="hljs-string">'FooChild'</span></span>, (Foo,), {<span class="hljs-string"><span class="hljs-string">'echo_bar'</span></span>: echo_bar}) &gt;&gt;&gt; hasattr(Foo, <span class="hljs-string"><span class="hljs-string">'echo_bar'</span></span>) &gt;&gt;&gt; hasattr(FooChild, <span class="hljs-string"><span class="hljs-string">'echo_bar'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; my_foo = FooChild() &gt;&gt;&gt; my_foo.echo_bar() <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br>  рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдореБрдЭреЗ рдХреНрдпрд╛ рдорд┐рд▓ рд░рд╣рд╛ рд╣реИ: рдХрдХреНрд╖рд╛рдПрдВ рдкрд╛рдпрдерди рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ рдФрд░ рдЖрдк рдЬрд╛рдиреЗ рдкрд░ рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  <code>class</code> рдХреАрд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рдпрд╣ рдареАрдХ рдпрд╣реА рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкрд╛рдпрдерди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдореЗрдЯрд╛рдХреНрд▓рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдХреНрдпрд╛ рд╣реИ (рдЕрдВрдд рдореЗрдВ) </h1><br>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдПрдХ "рдЪреАрдЬрд╝" рд╣реИ рдЬреЛ рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛рддрд╛ рд╣реИред <br><br>  рд╣рдо рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЧ рдмрдирд╛рддреЗ рд╣реИрдВ, рд╣реИ рдирд╛?  рдФрд░ рдХрдХреНрд╖рд╛рдПрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВред  рдПрдХ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рд╡рд╣ рд╣реИ рдЬреЛ рдЗрди рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рддрд╛ рд╣реИред  рд╡реЗ рдХрдХреНрд╖рд╛рдУрдВ рдХреЗ рд╡рд░реНрдЧ рд╣реИрдВ, рдЖрдк рдЗрд╕рдХреА рдХрд▓реНрдкрдирд╛ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"> MyClass = MetaClass() MyObject = MyClass()</code> </pre><br>  рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рджреЗрдЦрд╛ рд╣реИ рдХрд┐ <code>type</code> рдЖрдкрдХреЛ рдХреБрдЫ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: <br><pre> <code class="python hljs"> MyClass = type(<span class="hljs-string"><span class="hljs-string">'MyClass'</span></span>, (), {})</code> </pre><br>  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ <code>type</code> рдлрд╝рдВрдХреНрд╢рди рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдПрдХ рдореЗрдЯрд╛рдХреНрд▓рд╕ рд╣реИред  <code>type</code> рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рд╣реИ рдЬрд┐рд╕реЗ рдкрд╛рдпрдерди рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ рд╕рднреА рд╡рд░реНрдЧреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br>  рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд╕рд╡рд╛рд▓ рдпрд╣ рд╣реИ рдХрд┐ рдРрд╕рд╛ рдХреНрдпреЛрдВ рд╣реИ рдХрд┐ рдЙрд╕рдХрд╛ рдирд╛рдо рдирд┐рдЪрд▓реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рд╣реИ, <code>Type</code> рдирд╣реАрдВ? <br><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╕рд┐рд░реНрдл рдорд┐рд▓рд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ, рдкрдВрдХреНрддрд┐ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЧ, рдФрд░ рдкреВрд░реНрдгрд╛рдВрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЧред  <code>type</code> рдХреЗрд╡рд▓ рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЧ рд╣реИред <br><br>  рдпрд╣ <code>__class__</code> рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: <br><br>  рдЕрдЬрдЧрд░ рдореЗрдВ, рд╕рдм рдХреБрдЫ (рд╕рдм рдХреБрдЫ!) рд╡рд╕реНрддреБрдПрдВ рд╣реИрдВред  рд╕рдВрдЦреНрдпрд╛, рд╕реНрдЯреНрд░рд┐рдВрдЧ, рдлрд╝рдВрдХреНрд╢рди рдФрд░ рдХрдХреНрд╖рд╛рдПрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ - рд╡реЗ рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реИрдВ рдФрд░ рд╡реЗ рд╕рднреА рдПрдХ рд╡рд░реНрдЧ рд╕реЗ рдмрдирд╛рдП рдЧрдП рдереЗ: <br><pre> <code class="python hljs"> &gt;&gt;&gt; age = <span class="hljs-number"><span class="hljs-number">35</span></span> &gt;&gt;&gt; age.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt; &gt;&gt;&gt; name = <span class="hljs-string"><span class="hljs-string">'bob'</span></span> &gt;&gt;&gt; name.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'str'</span></span>&gt; &gt;&gt;&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> &gt;&gt;&gt; foo.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'function'</span></span>&gt; &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> &gt;&gt;&gt; b = Bar() &gt;&gt;&gt; b.__class__ &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__main__</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Bar</span></span></span><span class="hljs-class">'&gt;</span></span></code> </pre><br>  рдФрд░ рдкреНрд░рддреНрдпреЗрдХ <code>__class__</code> рд▓рд┐рдП <code>__class__</code> рдХреНрдпрд╛ рд╣реИ? <br><pre> <code class="python hljs"> &gt;&gt;&gt; a.__class__.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'type'</span></span>&gt; &gt;&gt;&gt; age.__class__.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'type'</span></span>&gt; &gt;&gt;&gt; foo.__class__.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'type'</span></span>&gt; &gt;&gt;&gt; b.__class__.__class__ &lt;type <span class="hljs-string"><span class="hljs-string">'type'</span></span>&gt;</code> </pre><br>  рддреЛ, рдПрдХ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рд╕рд┐рд░реНрдл рдПрдХ рдЪреАрдЬ рд╣реИ рдЬреЛ рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рддрд╛ рд╣реИред <br><br>  рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдЗрд╕реЗ "рдХреНрд▓рд╛рд╕ рдлреИрдХреНрдЯреНрд░реА" рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ <br><br>  <code>type</code> рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рд╣реИ рдЬрд┐рд╕реЗ рдкрд╛рдпрдерди рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдирд╛ рдЦреБрдж рдХрд╛ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h1>  <code>__metaclass__</code> рд╡рд┐рд╢реЗрд╖рддрд╛ </h1><br>  рдХрдХреНрд╖рд╛ рд▓рд┐рдЦрддреЗ рд╕рдордп, рдЖрдк <code>__metaclass__</code> рд╡рд┐рд╢реЗрд╖рддрд╛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> __metaclass__ = something... [...]</code> </pre><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, <code>Foo</code> рдХреНрд▓рд╛рд╕ рдмрдирд╛рддреЗ рд╕рдордп рдкрд╛рдпрдерди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред <br><br>  рд╕рд╛рд╡рдзрд╛рдиреА, рд╕реВрдХреНрд╖реНрдорддрд╛ рд╣реИ! <br><br>  рдпрджреНрдпрдкрд┐ рдЖрдк <code>class Foo(object)</code> рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдПрдХ рд╡рд░реНрдЧ рд╡рд╕реНрддреБ рдЕрднреА рддрдХ рд╕реНрдореГрддрд┐ рдореЗрдВ рдирд╣реАрдВ рдмрдирд╛рдИ рдЧрдИ рд╣реИред <br><br>  рдХрдХреНрд╖рд╛ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдореЗрдВ рдкрд╛рдпрдерди <code>__metaclass__</code> рдХрд░реЗрдЧрд╛ред  рдпрджрд┐ рд╡рд╣ рдЗрд╕реЗ рдкрд╛ рд▓реЗрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдХрдХреНрд╖рд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>Foo</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдпрд╣ <code>type</code> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред <br><br>  рдпрд╛рдиреА рдЬрдм рдЖрдк рд▓рд┐рдЦреЗрдВрдЧреЗ <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Bar)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br>  рдкрд╛рдпрдерди рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br>  рдХреНрдпрд╛ <code>Foo</code> рд╡рд░реНрдЧ рдореЗрдВ <code>__metaclass__</code> рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ? <br><br>  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдпрд╣ <code>__metaclass__</code> рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдП рдЧрдП рдЙрдкрдпреЛрдЧ рд╕реЗ <code>Foo</code> рдирд╛рдо рдХреЗ рд╕рд╛рде рдореЗрдореЛрд░реА рдореЗрдВ рдПрдХ рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рддрд╛ рд╣реИред <br><br>  рдпрджрд┐ рдкрд╛рдпрдерди рдХреЛ <code>__metaclass__</code> рдирд╣реАрдВ <code>__metaclass__</code> , рддреЛ рдпрд╣ рдореВрд▓ рд╡рд░реНрдЧ <code>Bar</code> рдореЗрдВ <code>__metaclass__</code> рдЦреЛрдЬ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡рд╣реА рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИред <br><br>  рдпрджрд┐ <code>__metaclass__</code> рдорд╛рддрд╛-рдкрд┐рддрд╛ рдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рдкрд╛рдпрдерди <i>рдореЙрдбреНрдпреВрд▓</i> рд╕реНрддрд░ рдкрд░ <code>__metaclass__</code> рддрд▓рд╛рд╢ рдХрд░реЗрдЧрд╛ред <br><br>  рдФрд░ рдЕрдЧрд░ рд╡рд╣ рдХрд┐рд╕реА рднреА <code>__metaclass__</code> рдХреЛ рдирд╣реАрдВ рдкрд╛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>type</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br>  рдЕрдм рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рд╡рд╛рд▓ рдпрд╣ рд╣реИ: рдореИрдВ <code>__metaclass__</code> рдореЗрдВ рдХреНрдпрд╛ рдбрд╛рд▓ рд╕рдХрддрд╛ рд╣реВрдВ? <br><br>  рдЙрддреНрддрд░: рдХреБрдЫ рднреА рдЬреЛ рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдХреНрдпрд╛ рд╡рд░реНрдЧ рдмрдирд╛рддрд╛ рд╣реИ?  <code>type</code> рдпрд╛ рдЗрд╕рдХрд╛ рдХреЛрдИ рдЙрдкрд╡рд░реНрдЧ, рд╕рд╛рде рд╣реА рд╕рд╛рде рдХреБрдЫ рднреА рдЬреЛ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рдХрд╕реНрдЯрдо рдореЗрдЯрд╛рдХреНрд▓рд╕ </h1><br>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдХрд╛ рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп рд╕реГрдЬрди рдХреЗ рд╕рдордп рдХрдХреНрд╖рд╛ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдмрджрд▓рдирд╛ рд╣реИред <br><br>  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдк рд╡рд░реНрддрдорд╛рди рд╕рдВрджрд░реНрдн рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрдХреНрд╖рд╛рдПрдВ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br>  рдПрдХ рдореВрд░реНрдЦрддрд╛рдкреВрд░реНрдг рдЙрджрд╛рд╣рд░рдг рдХреА рдХрд▓реНрдкрдирд╛ рдХрд░реЗрдВ: рдЖрдкрдиреЗ рддрдп рдХрд┐рдпрд╛ рдХрд┐ рдЖрдкрдХреЗ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рднреА рд╡рд░реНрдЧреЛрдВ рдХреЗ рдкрд╛рд╕ рдКрдкрд░реА рдорд╛рдорд▓реЗ рдореЗрдВ рд╡рд┐рд╢реЗрд╖рддрд╛ рдирд╛рдо рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдПред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдореЙрдбреНрдпреВрд▓ рд╕реНрддрд░ рдкрд░ <code>__metaclass__</code> рд╕реЗрдЯ <code>__metaclass__</code> рд╣реИред <br><br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд╕рднреА рд╡рд░реНрдЧреЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдореЗрдХрд▓реИрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдФрд░ рд╣рдо рдХреЗрд╡рд▓ рдКрдкрд░реА рдорд╛рдорд▓реЛрдВ рдореЗрдВ рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рдирд╛рдореЛрдВ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдЯрд╛рдХреНрд▓рд╕ рдХреЛ рдмрд╛рдзреНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, <code>__metaclass__</code> рдХреЛ рдХреЛрдИ рднреА рд╡рд╕реНрддреБ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд░реВрд░реА рдирд╣реАрдВ рдХрд┐ рдПрдХ рдФрдкрдЪрд╛рд░рд┐рдХ рд╡рд░реНрдЧ рд╣реЛ (рдореБрдЭреЗ рдирд╛рдо рдореЗрдВ "рд╡рд░реНрдЧ" рд╢рдмреНрдж рдХреЗ рд╕рд╛рде рдХреБрдЫ рдкрддрд╛ рд╣реИ рдХрд┐ рдХрдХреНрд╖рд╛ рд╣реЛрдирд╛ рдЬрд░реВрд░реА рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдмрдХрд╡рд╛рд╕ рд╣реИ? рд╣рд╛рд▓рд╛рдВрдХрд┐, рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реИ)ред <br><br>  рддреЛ рд╣рдо рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗред <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#        , #     `type` def upper_attr(future_class_name, future_class_parents, future_class_attr): """  -,        """ #   ,    '__' attrs = ((name, value) for name, value in future_class_attr.items() if not name.startswith('__')) #      uppercase_attr = dict((name.upper(), value) for name, value in attrs) #     `type` return type(future_class_name, future_class_parents, uppercase_attr) __metaclass__ = upper_attr #        class Foo(object): #    __metaclass__ ,       bar = 'bip' print hasattr(Foo, 'bar') # Out: False print hasattr(Foo, 'BAR') # Out: True f = Foo() print f.BAR # Out: 'bip'</span></span></code> </pre><br>  рдФрд░ рдЕрдм рд╡рд╣реА рдмрд╛рдд, рдХреЗрд╡рд▓ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░: <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># ,  `type`     ,  `str`  `int`, #       class UpperAttrMetaclass(type): #  __new__   __init__ #       , #     __init__   ,    . #     __new__,     , #    #       ,     , #    __new__. #    -  __init__,  . #        __call__, #      . def __new__(upperattr_metaclass, future_class_name, future_class_parents, future_class_attr): attrs = ((name, value) for name, value in future_class_attr.items() if not name.startswith('__')) uppercase_attr = dict((name.upper(), value) for name, value in attrs) return type(future_class_name, future_class_parents, uppercase_attr)</span></span></code> </pre><br>  рд▓реЗрдХрд┐рди рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ OOP рдирд╣реАрдВ рд╣реИред  рд╣рдо рд╕реАрдзреЗ рдХреЙрд▓ <code>type</code> рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдкреИрд░реЗрдВрдЯ <code>__new__</code> рдХреЙрд▓ рдХреЛ рдУрд╡рд░рд▓реЛрдб рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред  рдЪрд▓реЛ рдЗрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpperAttrMetaclass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(type)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__new__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(upperattr_metaclass, future_class_name, future_class_parents, future_class_attr)</span></span></span><span class="hljs-function">:</span></span> attrs = ((name, value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> future_class_attr.items() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> name.startswith(<span class="hljs-string"><span class="hljs-string">'__'</span></span>)) uppercase_attr = dict((name.upper(), value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> attrs) <span class="hljs-comment"><span class="hljs-comment">#   type.__new__ #  ,   return type.__new__(upperattr_metaclass, future_class_name, future_class_parents, uppercase_attr)</span></span></code> </pre><br>  рдЖрдкрдиреЗ рд╡реИрдХрд▓реНрдкрд┐рдХ <code>upperattr_metaclass</code> рддрд░реНрдХ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдЦрд╛рд╕ рдирд╣реАрдВ рд╣реИ: рдПрдХ рд╡рд┐рдзрд┐ рд╣рдореЗрд╢рд╛ рдореМрдЬреВрджрд╛ рдЙрджрд╛рд╣рд░рдг рдХреЛ рдЕрдкрдиреЗ рдкрд╣рд▓реЗ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИред  рдЬреИрд╕реЗ рдЖрдк рдирд┐рдпрдорд┐рдд рддрд░реАрдХреЛрдВ рдореЗрдВ <code>self</code> рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдмреЗрд╢рдХ, рдореИрдВрдиреЗ рдпрд╣рд╛рдБ рдЬреЛ рдирд╛рдо рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдП рд╣реИрдВ, рд╡реЗ рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рд▓рдВрдмреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди <code>self</code> рддрд░рд╣, рдЗрди рд╕рднреА рддрд░реНрдХреЛрдВ рдХреЗ рдирд╛рдордХрд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдореНрдореЗрд▓рди рд╣реИред  рддреЛ рдЕрд╕рд▓реА рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpperAttrMetaclass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(type)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__new__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls, name, bases, dct)</span></span></span><span class="hljs-function">:</span></span> attrs = ((name, value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dct.items() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> name.startswith(<span class="hljs-string"><span class="hljs-string">'__'</span></span>)) uppercase_attr = dict((name.upper(), value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> attrs) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> type.__new__(cls, name, bases, uppercase_attr)</code> </pre><br>  рдЖрдк <code>super</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдФрд░ рднреА рдмреЗрд╣рддрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рд╡рдВрд╢рд╛рдиреБрдХреНрд░рдо рдХрд╛ рдХрд╛рд░рдг рдмрдиреЗрдЧрд╛ (рдЪреВрдВрдХрд┐, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдЖрдк <code>type</code> рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реА рдореЗрдЯрд╛рд╕реЗрд▓реНрд╕ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рдореЗрдЯрд╛рдЪреИрд▓реНрд╕ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ): <br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpperAttrMetaclass</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(type)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__new__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls, name, bases, dct)</span></span></span><span class="hljs-function">:</span></span> attrs = ((name, value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dct.items() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> name.startswith(<span class="hljs-string"><span class="hljs-string">'__'</span></span>)) uppercase_attr = dict((name.upper(), value) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name, value <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> attrs) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> super(UpperAttrMetaclass, cls).__new__(cls, name, bases, uppercase_attr)</code> </pre><br>  рд╡рд╣ рд╕рдм рд╣реИред  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╣рдиреЗ рдХреЗ рд▓рд┐рдП рдЬреНрдпрд╛рджрд╛ рдХреБрдЫ рдирд╣реАрдВ рд╣реИред <br><br>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рдХреЛрдб рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдХрд╛ рдХрд╛рд░рдг рд╕реНрд╡рдпрдВ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдореЗрдВ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╣реИ рдХрд┐ рдЖрдорддреМрд░ рдкрд░ рдЖрддреНрдордирд┐рд░реАрдХреНрд╖рдг, рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд╣реЗрд░рдлреЗрд░, <code>__dict__</code> рдЬреИрд╕реЗ рдЪрд░ рдФрд░ рдЗрд╕реА рддрд░рд╣ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рдкрд░рд┐рд╖реНрдХреГрдд рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП <code>__dict__</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕рднреА "рдХрд╛рд▓реЗ рдЬрд╛рджреВ" рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЬрдЯрд┐рд▓ рдЯреБрдХрдбрд╝реЗред  рд▓реЗрдХрд┐рди рд╡реЗ рд╕реНрд╡рдпрдВ рд╕рд░рд▓ рд╣реИрдВ: <br><ul><li>  рдЕрд╡рд░реЛрдзрди рд╡рд░реНрдЧ рдирд┐рд░реНрдорд╛рдг </li><li>  рдХрдХреНрд╖рд╛ рдмрджрд▓реЗрдВ </li><li>  рд╡рд╛рдкрд╕реА рд╕рдВрд╢реЛрдзрд┐рдд </li></ul><br><br><h1>  рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрдЬрд╛рдп рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░реЗрдВ? </h1><br>  рдЪреВрдВрдХрд┐ <code>__metaclass__</code> рдХрд┐рд╕реА рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рдЖрдк рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдЪрд╛рдирдХ рдПрдХ рд╡рд░реНрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░реЗрдВрдЧреЗ? <br><br>  рдЗрд╕рдХреЗ рдХрдИ рдХрд╛рд░рдг рд╣реИрдВ: <br><ul><li>  рдЙрджреНрджреЗрд╢реНрдп рд╕реНрдкрд╖реНрдЯ рд╣реИред  рдЬрдм рдЖрдк <code>UpperAttrMetaclass(type)</code> рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рддреБрд░рдВрдд рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЖрдЧреЗ рдХреНрдпрд╛ рдЖрддрд╛ рд╣реИред </li><li>  рдЖрдк OOP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкреИрддреГрдХ рддрд░реАрдХреЛрдВ рд╕реЗ рдУрд╡рд░рд▓реИрдкрд┐рдВрдЧ рдХрд░рдХреЗ рдореЗрдЯрд╛рдХреНрд▓рд╕ рдХреЛ рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓рд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  рдмреЗрд╣рддрд░ рд╕рдВрд░рдЪрд┐рдд рдХреЛрдбред  рдЖрдк рдЗрд╕ рддрд░рд╣ рдХреА рд╕рд░рд▓ рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдореЗрдЯрд╛рдХреНрд▓рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ рдЬреИрд╕реЗ рдХрд┐ рдКрдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВред  рдЖрдорддреМрд░ рдкрд░ рдпрд╣ рдХреБрдЫ рдЬрдЯрд┐рд▓ рд╣реИред  рдХрдИ рддрд░реАрдХреЛрдВ рдХреЛ рдмрдирд╛рдиреЗ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХ рдХрдХреНрд╖рд╛ рдореЗрдВ рд╕рдореВрд╣ рдмрдирд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛрдб рдХреЛ рдЕрдзрд┐рдХ рдкрдардиреАрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реИред </li><li>  рдЖрдк <code>__new__</code> , <code>__init__</code> рдФрд░ <code>__call__</code> рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдмреЗрд╢рдХ, рдЖрдк рдЖрдорддреМрд░ рдкрд░ <code>__new__</code> рдореЗрдВ рд╕рдм рдХреБрдЫ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреБрдЫ <code>__init__</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдзрд┐рдХ рдЖрд░рд╛рдорджрд╛рдпрдХ рд╣реИрдВ </li><li>  рдЙрдиреНрд╣реЗрдВ рдореЗрдЯрд╛ <i>рдХреНрд▓рд╛рд╕реЗрд╕</i> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдзрд┐рдХреНрдХрд╛рд░ рд╣реИ!  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдХреБрдЫ рддреЛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП! </li></ul><br><br><h1>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░реЗрдВ? </h1><br>  рдЕрдВрдд рдореЗрдВ, рдореБрдЦреНрдп рд╕рд╡рд╛рд▓ред  рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдХреБрдЫ рдЕрд╕реНрдкрд╖реНрдЯ (рдФрд░ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдореЗрдВ рдпреЛрдЧрджрд╛рди) рд╕реБрд╡рд┐рдзрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрдпреЛрдВ рдХрд░реЗрдЧрд╛? <br><br>  рдареАрдХ рд╣реИ, рдЖрдорддреМрд░ рдкрд░ рдЖрдкрдХреЛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: <br><blockquote>  Metaclasses рдЧрд╣рд░рд╛ рдЬрд╛рджреВ рд╣реИ рдХрд┐ 99% рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕реЛрдЪрдиреЗ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдХреЛ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ (рдРрд╕реЗ рд▓реЛрдЧ рдЬрд┐рдиреНрд╣реЗрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ, рдФрд░ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рдирд╣реАрдВ рд╣реИ)ред <br>  ~ рдкрд╛рдпрдерди рдЧреБрд░реБ рдЯрд┐рдо рдкреАрдЯрд░реНрд╕ <br></blockquote><br>  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдореБрдЦреНрдп рдЙрдкрдпреЛрдЧ рдПрдкреАрдЖрдИ рдмрдирд╛рдирд╛ рд╣реИред  рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрджрд╛рд╣рд░рдг Django ORM рд╣реИред <br><br>  рдпрд╣ рдЖрдкрдХреЛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: <br><pre> <code class="python hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Model)</span></span></span><span class="hljs-class">:</span></span> name = models.CharField(max_length=<span class="hljs-number"><span class="hljs-number">30</span></span>) age = models.IntegerField()</code> </pre><br>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддреЗ рд╣реИрдВ: <br><pre> <code class="python hljs"> guy = Person(name=<span class="hljs-string"><span class="hljs-string">'bob'</span></span>, age=<span class="hljs-string"><span class="hljs-string">'35'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> guy.age</code> </pre><br>  рдЖрдкрдХреЛ <code>IntegerField</code> рдирд╣реАрдВ, рд▓реЗрдХрд┐рди <code>int</code> , рдФрд░ рдореВрд▓реНрдп рд╕реАрдзреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ <code>__metaclass__</code> рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХреБрдЫ рдЬрд╛рджреВ рдХрд░реЗрдЧрд╛ рдФрд░ <code>Person</code> рд╡рд░реНрдЧ рдХреЛ рдмрджрд▓ рджреЗрдЧрд╛ рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдПрдХ рд╕рд░рд▓ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рдЬрдЯрд┐рд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИред <br><br>  Django рдПрдХ рд╕рд░рд▓ рдПрдкреАрдЖрдИ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдХреЗ рдФрд░ рдПрдкреАрдЖрдИ рд╕реЗ рдХреЛрдб рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреБрдЫ рдЬрдЯрд┐рд▓ рджрд┐рдЦрддрд╛ рд╣реИ рдФрд░ рдЪреБрдкрдЪрд╛рдк рд╕рднреА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рдЕрдВрдд рдореЗрдВ </h1><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдиреЗ рд╕реАрдЦрд╛ рд╣реИ рдХрд┐ рдХрдХреНрд╖рд╛рдПрдВ рдРрд╕реА рд╡рд╕реНрддреБрдПрдВ рд╣реИрдВ рдЬреЛ рддреНрд╡рд░рд┐рдд рдХрд░ рд╕рдХрддреА рд╣реИрдВред <br><br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХрдХреНрд╖рд╛рдПрдВ рднреА рдЙрджрд╛рд╣рд░рдг рд╣реИрдВред  рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕реЗрд╕ рдХреЗ рдЙрджрд╛рд╣рд░рдгред <br><pre> <code class="python hljs"> &gt;&gt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Foo</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> &gt;&gt;&gt; id(Foo) <span class="hljs-number"><span class="hljs-number">142630324</span></span></code> </pre><br>  рдкрд╛рдЗрдерди рдореЗрдВ рдХреЛрдИ рднреА рд╡рд╕реНрддреБ рдПрдХ рд╡рд╕реНрддреБ рд╣реИ: рдПрдХ рд╡рд░реНрдЧ рдХрд╛ рдЙрджрд╛рд╣рд░рдг рдпрд╛ рдПрдХ рдореЗрдЯрд╛рдХрд╛реЕрд▓ рдХрд╛ рдЙрджрд╛рд╣рд░рдгред <br><br>  рд╕рд┐рд╡рд╛рдп <code>type</code> ред <br><br>  <code>type</code> рдЕрдкрдиреА рд╕реНрд╡рдпрдВ рдХреА рдореЗрдЯрд╛рдХреНрд▓рд╕ рд╣реИред  рдЗрд╕реЗ рд╢реБрджреНрдз рдкрд╛рдпрдерди рдореЗрдВ рдкреБрди: рдкреЗрд╢ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╕реНрддрд░ рдкрд░ рдереЛрдбрд╝рд╛ рдзреЛрдЦрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рджреВрд╕рд░реЗ, рдореЗрдЯрд╛рдХреНрд▓рд╛рд╕ рдЬрдЯрд┐рд▓ рд╣реИрдВред  рдЖрдкрдХреЛ рдмрд╕ рдХрдХреНрд╖рд╛рдПрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЛрдВ рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><ul><li>  рд╣рд╛рде </li><li>  рд╡рд░реНрдЧ рд╕рдЬреНрдЬрд╛рдХрд╛рд░ </li></ul><br>  99% рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЬрдм рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ рдЗрди рджреЛрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдмреЗрд╣рддрд░ рд╣реЛрддрд╛ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди 99% рдорд╛рдорд▓реЛрдВ рдореЗрдВ рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ :-) </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/In145835/">https://habr.com/ru/post/In145835/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../In145829/index.html">рд▓рд┐рдирдХреНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдХрд╛рдЗрдк 4.0</a></li>
<li><a href="../In145830/index.html">WEB рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЗ рд╡реЗрддрди рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../In145832/index.html">рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ рдХреНрд▓рд╕реНрдЯрд░рд┐рдВрдЧ рдпрд╛ рдорд╛рдирдЪрд┐рддреНрд░ рдкрд░ 10,000 рдЕрдВрдХ рдХреИрд╕реЗ рджрд┐рдЦрд╛рдПрдВ</a></li>
<li><a href="../In145833/index.html">Mac OS X рдХреЗ рд▓рд┐рдП Skype 5.8</a></li>
<li><a href="../In145834/index.html">26 рдЬреВрди рдХреЛ рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдмреНрд▓реИрдХрдмреЗрд░реА 10 рдЬрд╛рдо рд╡рд░реНрд▓реНрдб рдЯреВрд░</a></li>
<li><a href="../In145836/index.html">рджреЗрд╡рдХреЙрдлрд╝ 2012 рдореЗрдВ рдореИрдВрдиреЗ рдХреМрди рд╕реА рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рддреЗрдВ рд╕реАрдЦреАрдВ</a></li>
<li><a href="../In145837/index.html">рд░реВрд╕ рдореЗрдВ рдХреНрд░рд╛рдЙрдбрдлрдВрдбрд┐рдВрдЧ (рддрд╣): рддреБрдВрдЧреНрдЬрд╛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рд╕рдордиреНрд╡рдпрдХреЛрдВ рдХреЗ рд╕рд╛рде рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░</a></li>
<li><a href="../In145842/index.html">рд╕реЗрдЯрд▓рд░реНрд╕ рдСрдирд▓рд╛рдЗрди рдХреЗ рд▓рд┐рдП рд╕рд░рд▓ рдЯреНрд░реЗрдбрд┐рдВрдЧ рдмреЙрдЯ</a></li>
<li><a href="../In145843/index.html">рд▓рд┐рдВрдХреНрдбрдЗрди рд╣реИрд╢ рдСрдб рдорд╛рд╕ рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рд░рд┐рд╕рд╛рд╡ рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
<li><a href="../In145844/index.html">рдХрд╕реНрдЯрдо рд╕рд╛рдЗрдЯ рд╕рд╛рдордЧреНрд░реА рд░реЗрдЯрд┐рдВрдЧ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>