<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö±Ô∏è ‚õ≥Ô∏è ü§ûüèΩ Quatro anos de desenvolvimento do SObjectizer-5.5. Como o SObjectizer mudou durante esse per√≠odo? üòø üè≥Ô∏è üë®üèæ‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A primeira vers√£o do SObjectizer na estrutura da ramifica√ß√£o 5.5 foi lan√ßada h√° pouco mais de quatro anos - no in√≠cio de outubro de 2014. E hoje a pr√≥...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Quatro anos de desenvolvimento do SObjectizer-5.5. Como o SObjectizer mudou durante esse per√≠odo?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429046/">  A primeira vers√£o do SObjectizer na estrutura da ramifica√ß√£o 5.5 foi lan√ßada h√° pouco mais de quatro anos - no in√≠cio de outubro de 2014.  E hoje <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a pr√≥xima vers√£o foi lan√ßada sob o n√∫mero 5.5.23</a> , que possivelmente fechar√° a hist√≥ria do SObjectizer-5.5.  Na minha opini√£o, esse √© um √≥timo motivo para olhar para tr√°s e ver o que foi feito nos √∫ltimos quatro anos. <br><br>  Neste artigo, tentarei analisar de maneira abstrata as mudan√ßas e inova√ß√µes mais importantes e significativas: o que foi adicionado, por que, como isso afetou o pr√≥prio SObjectizer ou seu uso. <br><br>  Talvez algu√©m se interesse por essa hist√≥ria do ponto de vista da arqueologia.  E algu√©m, talvez, ser√° dissuadido de uma aventura t√£o duvidosa como desenvolver sua pr√≥pria estrutura de ator para C ++;) <br><a name="habracut"></a><br><h1>  Um pouco de digress√£o l√≠rica sobre o papel dos antigos compiladores C ++ </h1><br>  A hist√≥ria do SObjectizer-5 come√ßou em meados de 2010.  Ao mesmo tempo, focamos imediatamente no C ++ 0x.  J√° em 2011, as primeiras vers√µes do SObjectizer-5 come√ßaram a ser usadas para escrever c√≥digo de produ√ß√£o.  √â claro que n√£o t√≠nhamos compiladores com suporte normal ao C ++ 11. <br><br>  Por um longo tempo, n√£o pudemos usar totalmente todos os recursos do "C ++ moderno": modelos variados, noexcept, constexpr, etc. Isso n√£o pode deixar de afetar a API do SObjectizer.  E isso afetou por muito, muito tempo.  Portanto, se ao ler uma descri√ß√£o de um recurso, voc√™ tiver uma pergunta "Por que isso nunca foi feito antes?", A resposta a esta pergunta √© mais prov√°vel: "Porque isso n√£o era poss√≠vel antes". <br><br><h1>  O que apareceu e / ou mudou no SObjectizer-5.5 no passado? </h1><br>  Nesta se√ß√£o, abordaremos v√°rios recursos que tiveram um impacto significativo no SObjectizer.  A ordem nesta lista √© aleat√≥ria e n√£o est√° relacionada ao "significado" ou "peso" dos recursos descritos. <br><br><h2>  Rejeitando o espa√ßo para nome so_5 :: rt </h2><br><h3>  O que houve? </h3><br>  Inicialmente, no quinto SObjectizer, tudo relacionado ao tempo de execu√ß√£o do SObjectizer era definido dentro do namespace so_5 :: rt.  Por exemplo, tivemos so_5 :: rt :: environment_t, so_5 :: rt :: agent_t, so_5 :: rt :: message_t, etc.  O que voc√™ pode ver, por exemplo, no exemplo tradicional do HelloWorld do SO-5.5.0: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;so_5/all.hpp&gt; class a_hello_t : public so_5::rt::agent_t { public: a_hello_t( so_5::rt::environment_t &amp; env ) : so_5::rt::agent_t( env ) {} void so_evt_start() override { std::cout &lt;&lt; "Hello, world! This is SObjectizer v.5." &lt;&lt; std::endl; so_environment().stop(); } void so_evt_finish() override { std::cout &lt;&lt; "Bye! This was SObjectizer v.5." &lt;&lt; std::endl; } }; int main() { try { so_5::launch( []( so_5::rt::environment_t &amp; env ) { env.register_agent_as_coop( "coop", new a_hello_t( env ) ); } ); } catch( const std::exception &amp; ex ) { std::cerr &lt;&lt; "Error: " &lt;&lt; ex.what() &lt;&lt; std::endl; return 1; } return 0; }</span></span></span></span></code> </pre> <br>  A abrevia√ß√£o "rt" significa tempo de execu√ß√£o.  E pareceu-nos que o registro "so_5 :: rt" √© muito melhor e mais pr√°tico do que "so_5 :: runtime". <br><br>  Mas, para muitas pessoas, "rt" √© apenas "tempo real" e nada mais.  E o uso de "rt" como abrevia√ß√£o de "tempo de execu√ß√£o" viola seus sentimentos tanto que, √†s vezes, os an√∫ncios das vers√µes do SObjectizer no RuNet se transformavam em holivar sobre o assunto de [n√£o] interpreta√ß√£o permiss√≠vel de "rt", exceto "em tempo real". <br><br>  No final, estamos cansados ‚Äã‚Äãdisso.  E n√≥s n√£o destru√≠mos o namespace so_5 :: rt. <br><br><h3>  O que se tornou? </h3><br>  Tudo o que foi definido dentro de "so_5 :: rt" simplesmente mudou para "so_5".  Como resultado, o mesmo HelloWorld agora fica assim: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;so_5/all.hpp&gt; class a_hello_t : public so_5::agent_t { public: a_hello_t( context_t ctx ) : so_5::agent_t( ctx ) {} void so_evt_start() override { std::cout &lt;&lt; "Hello, world! This is SObjectizer v.5 (" &lt;&lt; SO_5_VERSION &lt;&lt; ")" &lt;&lt; std::endl; so_environment().stop(); } void so_evt_finish() override { std::cout &lt;&lt; "Bye! This was SObjectizer v.5." &lt;&lt; std::endl; } }; int main() { try { so_5::launch( []( so_5::environment_t &amp; env ) { env.register_agent_as_coop( "coop", env.make_agent&lt;a_hello_t&gt;() ); } ); } catch( const std::exception &amp; ex ) { std::cerr &lt;&lt; "Error: " &lt;&lt; ex.what() &lt;&lt; std::endl; return 1; } return 0; }</span></span></span></span></code> </pre> <br>  Mas os nomes antigos de "so_5 :: rt" permaneceram dispon√≠veis de qualquer maneira, atrav√©s do uso usual de s (typedefs).  Portanto, o c√≥digo escrito para as primeiras vers√µes do SO-5.5 tamb√©m √© vi√°vel nas vers√µes recentes do SO-5.5. <br><br>  Finalmente, o espa√ßo para nome so_5 :: rt ser√° removido na vers√£o 5.6. <br><br><h3>  Que impacto isso teve? </h3><br>  Provavelmente, o c√≥digo no SObjectizer agora est√° mais leg√≠vel.  Ainda assim, so_5 :: send () √© melhor percebido que so_5 :: rt :: send (). <br><br>  Bem, aqui, como nos desenvolvedores do SObjectizer, a dor de cabe√ßa diminuiu.  Havia muitas conversas vazias e racioc√≠nios desnecess√°rios nos an√∫ncios do SObjectizer de uma s√≥ vez (come√ßando pelas perguntas ‚ÄúPor que os atores s√£o necess√°rios em C ++ em geral‚Äù e terminando com ‚ÄúPor que voc√™ n√£o usa o PascalCase para nomear entidades‚Äù).  Um t√≥pico inflam√°vel tornou-se menor e foi bom :) <br><br><h2>  Simplifique o envio de mensagens e a evolu√ß√£o dos manipuladores de mensagens </h2><br><h3>  O que houve? </h3><br>  Mesmo nas primeiras vers√µes do SObjectizer-5.5, a mensagem usual era enviada usando o m√©todo deliver_message, que precisava ser chamado na mbox do destinat√°rio.  Para enviar uma mensagem pendente ou peri√≥dica, era necess√°rio chamar single_timer / schedule_timer em um objeto do tipo environment_t.  E j√° enviar uma solicita√ß√£o s√≠ncrona para outro agente geralmente exigia toda uma cadeia de opera√ß√µes.  Aqui, por exemplo, como tudo poderia parecer h√° quatro anos (std :: make_unique (), que ainda n√£o estava dispon√≠vel no C ++ 11, j√° √© usado): <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   . mbox-&gt;deliver_message(std::make_unique&lt;my_message&gt;(...)); //   . env.single_timer(std::make_unique&lt;my_message&gt;(...), mbox, std::chrono::seconds(2)); //   . auto timer_id = env.schedule_timer( std::make_unique&lt;my_message&gt;(...), mbox, std::chrono::seconds(2), std::chrono::seconds(5)); //         10 . auto reply = mbox-&gt;get_one&lt;std::string&gt;() .wait_for(std::chrono::seconds(10)) .sync_get(std::make_unique&lt;my_message&gt;(...));</span></span></code> </pre><br>  Al√©m disso, o formato dos manipuladores de mensagens no SObjectizer evoluiu para a vers√£o 5.5.  Se inicialmente no SObjectizer-5, todos os manipuladores devem ter o formato: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evt_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> so_5::</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">event_data_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;Msg&gt; &amp; cmd)</span></span></span></span>;</code> </pre> <br>  com o tempo, mais alguns foram adicionados aos formatos permitidos: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,  Msg --  ,   . ret_value evt_handler(const Msg &amp; msg); ret_value evt_handler(Msg msg); //  ,     . ret_value evt_handler();</span></span></code> </pre><br>  Novos formatos de manipulador tornaram-se amplamente utilizados desde  pintar constantemente ‚Äúconst so_5 :: event_data_t &lt;Msg&gt; &amp;‚Äù ainda √© um prazer.  Mas, por outro lado, formatos mais simples n√£o eram amig√°veis ‚Äã‚Äãpara os agentes de modelo.  Por exemplo: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> Msg_To_Process&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_actor</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_receive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Msg_To_Process &amp; msg)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Oops! ... } };</span></span></code> </pre> <br>  Esse agente de modelo funcionar√° apenas se Msg_To_Process for um tipo de mensagem, n√£o um tipo de sinal. <br><br><h3>  O que se tornou? </h3><br>  Na ramifica√ß√£o 5.5, uma fam√≠lia de fun√ß√µes de envio apareceu e evoluiu significativamente.  Para fazer isso, em primeiro lugar, tive que disponibilizar compiladores √† disposi√ß√£o com suporte para modelos variados.  E, em segundo lugar, acumular experi√™ncia suficiente trabalhando com modelos variados em geral e com as primeiras vers√µes das fun√ß√µes de envio.  Al√©m disso, em diferentes contextos: em agentes comuns e em agentes ad-hoc e em agentes implementados por classes de modelo e por agentes externos em geral.  Inclusive ao usar fun√ß√µes de envio com mchains (elas ser√£o discutidas abaixo). <br><br>  Al√©m das fun√ß√µes de envio, apareceram as fun√ß√µes request_future / request_value, projetadas para intera√ß√£o s√≠ncrona entre agentes. <br><br>  Como resultado, agora o envio de mensagens √© o seguinte: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   . so_5::send&lt;my_message&gt;(mbox, ...); //   . so_5::send_delayed&lt;my_message&gt;(env, mbox, std::chrono::seconds(2), ...); //   . auto timer_id = so_5::send_periodic&lt;my_message&gt;( env, mbox, std::chrono::seconds(2), std::chrono::seconds(5), ...); //         10 . auto reply =so_5::request_value&lt;std::string, my_message&gt;(mbox, std::chrono::seconds(10), ...);</span></span></code> </pre> <br>  Outro formato poss√≠vel para manipuladores de mensagens foi adicionado.  Al√©m disso, √© esse formato que ser√° deixado nas pr√≥ximas vers√µes principais do SObjectizer como o principal (e, possivelmente, o √∫nico).  Este √© o seguinte formato: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">ret_type </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evt_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(so_5::</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">mhood_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;Msg&gt; cmd)</span></span></span></span>;</code> </pre> <br>  Onde Msg pode ser um tipo de mensagem ou um tipo de sinal. <br><br>  Esse formato n√£o apenas desfoca a linha entre agentes na forma de classes comuns e agentes na forma de classes de modelo.  Mas tamb√©m simplifica o encaminhamento da mensagem / sinal (gra√ßas √† fam√≠lia de fun√ß√µes de envio): <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> my_agent::on_msg(<span class="hljs-keyword"><span class="hljs-keyword">mhood_t</span></span>&lt;Some_Msg&gt; cmd) { ... <span class="hljs-comment"><span class="hljs-comment">// -  . //       . so_5::send(another_agent, std::move(cmd)); }</span></span></code> </pre> <br><h3>  Que impacto isso teve? </h3><br>  A apar√™ncia das fun√ß√µes de envio e manipuladores de mensagens que recebem mhood_t &lt;Msg&gt;, podemos dizer, mudou fundamentalmente o c√≥digo no qual as mensagens s√£o enviadas e processadas.  Este √© apenas o caso quando resta apenas lamentar que, no in√≠cio do trabalho no SObjectizer-5, n√£o t√≠nhamos compiladores com suporte para modelos variados, nem experi√™ncia em us√°-los.  A fam√≠lia de fun√ß√µes de envio e mhood_t deveria ter sido desde o in√≠cio.  Mas a hist√≥ria se desenvolveu como se desenvolveu ... <br><br><h2>  Suporte para tipos de mensagem personalizados </h2><br><h3>  O que houve? </h3><br>  Inicialmente, todas as mensagens enviadas deveriam ser classes descendentes da classe so_5 :: message_t.  Por exemplo: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">my_message</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">message_t</span></span> { ... <span class="hljs-comment"><span class="hljs-comment">//  my_message. my_message(...) : ... {...} //   my_message. };</span></span></code> </pre> <br>  Embora o quinto SObjectizer tenha sido usado apenas por n√≥s mesmos, isso n√£o levantou nenhuma d√∫vida.  Bem, assim e assim. <br><br>  Por√©m, assim que usu√°rios de terceiros come√ßaram a se interessar pelo SObjectizer, deparamos imediatamente com uma pergunta repetida regularmente: "Devo herdar uma mensagem de so_5 :: message_t?"  Esse problema foi especialmente relevante em situa√ß√µes em que era necess√°rio enviar objetos de tipos como mensagens que o usu√°rio n√£o podia influenciar.  Digamos que um usu√°rio use um SObjectizer e alguma outra biblioteca externa.  E nesta biblioteca externa, existe um certo tipo M, cujos objetos o usu√°rio gostaria de enviar como mensagens.  Bem e como, em tais condi√ß√µes, fazer amigos digitar M e so_5 :: message_t?  Somente inv√≥lucros adicionais que o usu√°rio precisou escrever manualmente. <br><br><h3>  O que se tornou? </h3><br>  Adicionamos a capacidade de enviar mensagens para o SObjectizer-5.5, mesmo que o tipo de mensagem n√£o seja herdado de so_5 :: message_t.  I.e.  Agora o usu√°rio pode escrever facilmente: <br><br><pre> <code class="cpp hljs">so_5::send&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>&gt;(mbox, <span class="hljs-string"><span class="hljs-string">"Hello, World!"</span></span>);</code> </pre> <br>  So_5 :: message_t permanece sob o cap√¥ de qualquer maneira, apenas devido ao modelo que a magic send () entende que std :: string n√£o √© herdada de so_5 :: message_t e n√£o uma simples std :: string √© constru√≠da dentro de send, mas um herdeiro especial de so_5 :: message_t, dentro do qual a std :: string desejada pelo usu√°rio j√° est√° localizada. <br><br>  Magia de modelo semelhante se aplica a assinaturas.  Quando o SObjectizer v√™ um manipulador de mensagens no formul√°rio: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evt_handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">mhood_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; cmd)</span></span></span><span class="hljs-function"> </span></span>{...}</code> </pre> <br>  o SObjectizer entende que, de fato, uma mensagem especial vir√° com o objeto std :: string dentro.  E o que voc√™ precisa chamar de manipulador passando para ele um link para std :: string dessa mensagem especial. <br><br><h3>  Que impacto isso teve? </h3><br>  O uso do SObjectizer ficou mais f√°cil, especialmente quando voc√™ precisa enviar n√£o apenas objetos de seus pr√≥prios tipos como mensagens, mas tamb√©m digitar objetos de bibliotecas externas.  V√°rias pessoas chegaram a dizer um agradecimento especial por esse recurso. <br><br><h2>  Mensagens mut√°veis </h2><br><h3>  O que houve? </h3><br>  Inicialmente, no SObjectizer-5, apenas o modelo de intera√ß√£o 1: N foi utilizado.  I.e.  uma mensagem enviada pode ter mais de um destinat√°rio (ou pode haver mais de um).  Mesmo se os agentes precisassem interagir no modo 1: 1, eles ainda se comunicariam por meio de uma caixa de correio com v√°rios produtores / v√°rios consumidores.  I.e.  no modo 1: N, apenas N nesse caso era estritamente uma unidade. <br><br>  Nas condi√ß√µes em que uma mensagem pode ser recebida por mais de um agente destinat√°rio, as mensagens enviadas devem ser imut√°veis.  √â por isso que os manipuladores de mensagens tinham os seguintes formatos: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//       . ret_type evt_handler(const event_data_t&lt;Msg&gt; &amp; cmd); //       . ret_type evt_handler(const Msg &amp; msg); //    . //        . ret_type evt_handler(Msg msg);</span></span></code> </pre> <br>  Em geral, uma abordagem simples e compreens√≠vel.  No entanto, n√£o √© muito conveniente quando os agentes precisam se comunicar no modo 1: 1 e, por exemplo, transferir a propriedade de alguns dados entre si.  Digamos que uma mensagem t√£o simples n√£o possa ser feita se todas as mensagens forem objetos estritamente imut√°veis: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">process_image</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">message_t</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unique_ptr</span></span>&lt;gif_image&gt; image_; process_image(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">unique_ptr</span></span>&lt;gif_image&gt; image) : image_{<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(image)) {} };</code> </pre> <br>  Mais precisamente, essa mensagem poderia ser enviada.  Mas, tendo recebido como um objeto constante, n√£o seria poss√≠vel remover o conte√∫do de process_image :: image_ para si mesmo.  Eu teria que marcar esse atributo como mut√°vel.  Mas perder√≠amos o controle do compilador se process_image for, por algum motivo, enviado no modo 1: N. <br><br><h3>  O que se tornou? </h3><br>  No SObjectizer-5.5, a capacidade de enviar e receber mensagens mut√°veis ‚Äã‚Äãfoi adicionada.  Ao mesmo tempo, o usu√°rio deve marcar especialmente a mensagem ao enviar e ao se inscrever nela. <br><br>  Por exemplo: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//    . so_5::send&lt;my_message&gt;(mbox, ...); //     my_message. so_5::send&lt;so_5::mutable_msg&lt;my_message&gt;&gt;(mbox, ...); ... //     . void my_agent::on_some_event(mhood_t&lt;my_message&gt; cmd) {...} //      my_message. void my_agent::on_another_event(mhood_t&lt;so_5::mutable_msg&lt;my_message&gt;&gt; cmd) {...}</span></span></code> </pre><br>  No SObjectizer, my_message e mutable_msg &lt;my_message&gt; s√£o dois tipos diferentes de mensagens. <br><br>  Quando uma fun√ß√£o de envio v√™ que est√° sendo solicitado a enviar uma mensagem mut√°vel, a fun√ß√£o de envio verifica para qual caixa de correio est√° tentando enviar a mensagem.  Se for uma caixa de v√°rios consumidores, o envio n√£o ser√° realizado, mas uma exce√ß√£o ser√° lan√ßada com o c√≥digo de erro correspondente.  I.e.  O SObjectizer garante que as mensagens mut√°veis ‚Äã‚Äãsomente possam ser usadas ao interagir no modo 1: 1 (via caixas de correio de consumidor √∫nico ou mchains, que s√£o uma forma de caixas de correio de consumidor √∫nico).  A fim de fornecer essa garantia, o SObjectizer pro√≠be o envio de mensagens mut√°veis ‚Äã‚Äãna forma de mensagens peri√≥dicas. <br><br><h3>  Que impacto isso teve? </h3><br>  Com mensagens mut√°veis, saiu inesperadamente.  N√≥s os adicionamos ao SObjectizer como resultado de uma discuss√£o √† margem de um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio sobre o SObjectizer no C ++ Russia-2017</a> .  Com o sentimento: "Bem, se eles perguntarem, algu√©m precisa, ent√£o vale a pena tentar".  Bem, eles fizeram sem muita esperan√ßa de demanda generalizada.  Apesar disso, tive que "fumar bambu" por um longo tempo antes de pensar em como adicionar mensagens mut√°veis ‚Äã‚Äãao SO-5.5 sem quebrar a compatibilidade. <br><br>  Mas quando mensagens mut√°veis ‚Äã‚Äãapareceram no SObjectizer, descobriu-se que n√£o havia t√£o poucos aplicativos para elas.  E que mensagens mut√°veis ‚Äã‚Äãs√£o usadas surpreendentemente com frequ√™ncia (men√ß√£o a isso pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na segunda parte da hist√≥ria sobre o projeto de demonstra√ß√£o do Shrimp</a> ).  Portanto, na pr√°tica, esse recurso foi mais do que √∫til, porque  permite resolver problemas que, sem o suporte de mensagens mut√°veis ‚Äã‚Äãno n√≠vel do SObjectizer, eles n√£o tinham uma solu√ß√£o normal. <br><br><h2>  Agentes de m√°quinas de estado hier√°rquico </h2><br><h3>  O que houve? </h3><br>  Os agentes no SObjectizer eram originalmente m√°quinas de estado.  Os agentes precisavam descrever explicitamente estados e assinar mensagens em estados espec√≠ficos. <br>  Por exemplo: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">worker</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">state_t</span></span> st_free{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"free"</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">state_t</span></span> st_bufy{<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"busy"</span></span>}; ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">so_define_agent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> override </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     st_free. so_subscribe(mbox).in(st_free).event(...); //     st_busy. so_subscribe(mbox).in(st_busy).event(...); ... } };</span></span></code> </pre> <br>  Mas estas eram simples m√°quinas de estado.  Os estados n√£o podiam ser aninhados um no outro.  N√£o havia suporte para manipuladores de entrada e sa√≠da de estado.  N√£o houve restri√ß√µes quanto ao tempo gasto no estado. <br><br>  Mesmo esse suporte limitado para m√°quinas de estado era conveniente e o usamos por mais de um ano.  Mas a certa altura, quer√≠amos mais. <br><br><h3>  O que se tornou? </h3><br>  O SObjectizer apresenta suporte para m√°quinas de estado hier√°rquico. <br><br>  Agora, os estados podem ser aninhados um no outro.  Os manipuladores de eventos dos estados pai s√£o automaticamente "herdados" pelos estados filhos. <br><br>  Manipuladores para entrar e sair de um estado s√£o suportados. <br><br>  √â poss√≠vel definir um limite para o tempo em que o agente permanece no estado. <br><br>  √â poss√≠vel manter uma hist√≥ria para o estado. <br><br>  Para n√£o ser infundado, eis um exemplo de um agente que n√£o √© uma m√°quina de estado hier√°rquica complexa (o c√≥digo do exemplo padr√£o est√° piscando_led): <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blinking_led</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">final</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">state_t</span></span> off{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> }, blinking{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> }, blink_on{ initial_substate_of{ blinking } }, blink_off{ substate_of{ blinking } }; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> : <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">turn_on_off</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">final</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">signal_t</span></span> {}; blinking_led( <span class="hljs-keyword"><span class="hljs-keyword">context_t</span></span> ctx ) : so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span>{ ctx } { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> &gt;&gt;= off; off.just_switch_to&lt; turn_on_off &gt;( blinking ); blinking.just_switch_to&lt; turn_on_off &gt;( off ); blink_on .on_enter( []{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"ON"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; } ) .on_exit( []{ <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; <span class="hljs-string"><span class="hljs-string">"off"</span></span> &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; } ) .time_limit( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::chrono::milliseconds{<span class="hljs-number"><span class="hljs-number">1250</span></span>}, blink_off ); blink_off .time_limit( <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::chrono::milliseconds{<span class="hljs-number"><span class="hljs-number">750</span></span>}, blink_on ); } };</code> </pre> <br>  J√° descrevemos tudo isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em um artigo separado</a> , n√£o h√° necessidade de repeti-lo. <br><br>  Atualmente, n√£o h√° suporte para estados ortogonais.  Mas esse fato tem duas explica√ß√µes.  Em primeiro lugar, tentamos dar esse apoio e enfrentamos v√°rias dificuldades, superando-as muito caras.  E, em segundo lugar, ningu√©m pediu estados ortogonais ainda.  Quando solicitado, volte para este t√≥pico. <br><br><h3>  Que impacto isso teve? </h3><br>  H√° um sentimento de que √© muito s√©rio (embora estejamos aqui, √© claro, subjetivo e tendencioso).  Afinal, uma coisa √© quando, quando confrontado com m√°quinas complexas de estados finitos na √°rea de assunto, voc√™ come√ßa a procurar solu√ß√µes alternativas, simplifica alguma coisa, gasta for√ßa extra em alguma coisa.  E √© uma quest√£o completamente diferente quando voc√™ pode mapear objetos do seu aplicativo para o seu c√≥digo C ++ quase 1 em 1. <br><br>  Al√©m disso, a julgar pelas perguntas feitas, por exemplo, pelo comportamento dos manipuladores de entrada / sa√≠da dentro / fora do estado, essa funcionalidade √© usada. <br><br><h2>  mchain's </h2><br><h3>  O que houve? </h3><br>  Foi uma situa√ß√£o interessante.  O SObjectizer costumava ser usado para que apenas parte do aplicativo fosse escrita no SObjectizer.  O restante do c√≥digo no aplicativo pode n√£o ter nada a ver com atores em geral ou com o SObjectizer em particular.  Por exemplo, um aplicativo GUI no qual um SObjectizer √© usado para algumas tarefas em segundo plano, enquanto o trabalho principal √© executado no encadeamento principal do aplicativo. <br><br>  E nesses casos, descobriu-se que da parte n√£o SObjectizer para a parte SObjectizer, o envio de informa√ß√µes √© t√£o simples quanto simples: basta chamar fun√ß√µes de envio comuns.  Mas a dissemina√ß√£o de informa√ß√µes na dire√ß√£o oposta n√£o √© t√£o simples.  Pareceu-nos que isso n√£o √© bom e que voc√™ deve ter alguns canais de comunica√ß√£o convenientes entre as partes do SObjectizer do aplicativo e as partes que n√£o s√£o do SObjectizer diretamente fora da caixa. <br><br><h3>  O que se tornou? </h3><br>  Portanto, cadeias de mensagens ou, na nota√ß√£o mais familiar, mchains apareceram no SObjectizer. <br><br>  Mchain √© uma variante t√£o espec√≠fica de uma caixa de correio de consumidor √∫nico onde as mensagens s√£o enviadas por fun√ß√µes de envio regulares.  Mas, para extrair mensagens do mchain, voc√™ n√£o precisa criar agentes e assin√°-los.  Existem duas fun√ß√µes especiais que podem ser chamadas mesmo dentro de agentes, mesmo fora de agentes: receive () e select ().  O primeiro l√™ mensagens de apenas um canal, enquanto o segundo pode ler mensagens de v√°rios canais ao mesmo tempo: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> so_5; <span class="hljs-keyword"><span class="hljs-keyword">mchain_t</span></span> ch1 = env.create_mchain(...); <span class="hljs-keyword"><span class="hljs-keyword">mchain_t</span></span> ch2 = env.create_mchain(...); select( from_all().handle_n(<span class="hljs-number"><span class="hljs-number">3</span></span>).empty_timeout(<span class="hljs-number"><span class="hljs-number">200</span></span>ms), case_(ch1, [](<span class="hljs-keyword"><span class="hljs-keyword">mhood_t</span></span>&lt;first_message_type&gt; msg) { ... }, [](<span class="hljs-keyword"><span class="hljs-keyword">mhood_t</span></span>&lt;second_message_type&gt; msg) { ... }), case_(ch2, [](<span class="hljs-keyword"><span class="hljs-keyword">mhood_t</span></span>&lt;third_message_type&gt; msg ) { ... }, [](<span class="hljs-keyword"><span class="hljs-keyword">mhood_t</span></span>&lt;some_signal_type&gt;){...}, ... ));</code> </pre> <br>  J√° falamos sobre mchain v√°rias vezes aqui: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em agosto de 2017</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">maio de 2018</a> .  Portanto, especialmente no t√≥pico de como funciona o mchains, n√£o vamos aprofundar aqui. <br><br><h3>  Que impacto isso teve? </h3><br>  Ap√≥s o aparecimento de mchains no SObjectizer-5.5, descobriu-se que o SObjectizer tornou-se ainda menos uma estrutura de "ator" do que era antes.  Al√©m de oferecer suporte ao modelo de ator e Pub / Sub, o SObjectizer tamb√©m adicionou suporte ao modelo CSP (comunicando processos sequenciais).  Os Mchains permitem que voc√™ desenvolva aplicativos multithread bastante complexos no SObjectizer sem nenhum ator.  E para algumas tarefas isso √© mais do que conveniente.  O que n√≥s mesmos usamos de tempos em tempos. <br><br><h2>  Mecanismo de limites de mensagens </h2><br><h3>  O que houve? </h3><br>  Uma das defici√™ncias mais graves do modelo de atores √© a predisposi√ß√£o para a ocorr√™ncia de sobrecargas.  √â muito f√°cil encontrar-se em uma situa√ß√£o em que o agente remetente envia mensagens ao agente receptor em um ritmo mais r√°pido do que o agente receptor pode processar as mensagens. <br><br>  Como regra, o envio de mensagens em estruturas de ator √© uma opera√ß√£o sem bloqueio.  Portanto, quando ocorre um par de ‚Äúprodutor √°gil e consumidor nerd‚Äù, a fila do ator destinat√°rio aumentar√° enquanto houver pelo menos algum tipo de mem√≥ria livre. <br><br>  A principal dificuldade desse problema √© que um bom mecanismo de prote√ß√£o contra sobrecarga deve ser aprimorado para a tarefa aplicada e as caracter√≠sticas da √°rea de assunto.  Por exemplo, para entender quais mensagens podem ser duplicadas (e, portanto, poder descartar com seguran√ßa as duplicatas).  Para entender quais mensagens n√£o podem ser jogadas fora de qualquer maneira.  Quem pode ser suspenso e por quanto e quem n√£o √© permitido.  Etc., etc. <br><br>  Outra dificuldade √© que nem sempre √© necess√°rio ter um bom mecanismo de defesa.  √Äs vezes, basta ter algo primitivo, mas eficaz, acess√≠vel "pronto para uso" e f√°cil de usar.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para n√£o for√ßar o usu√°rio a controlar sua sobrecarga, basta simplesmente enviar mensagens ‚Äúextras‚Äù ou encaminh√°-las para algum outro agente. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que se tornou? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apenas para que, em cen√°rios simples, voc√™ possa usar ferramentas de prote√ß√£o contra sobrecarga prontas, as chamadas </font><font style="vertical-align: inherit;">limites de mensagem. </font><font style="vertical-align: inherit;">Esse mecanismo permite descartar mensagens desnecess√°rias, envi√°-las para outros destinat√°rios ou simplesmente interromper o aplicativo se os limites forem excedidos.</font></font> Por exemplo: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">worker</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: worker(<span class="hljs-keyword"><span class="hljs-keyword">context_t</span></span> ctx) : so_5::<span class="hljs-keyword"><span class="hljs-keyword">agent_t</span></span>{ ctx <span class="hljs-comment"><span class="hljs-comment">//     100  handle_data, //      //  . + limit_then_redirect&lt;handle_data&gt;(100, [this]{ return another_worker_;}) //     1  check_status, //       . + limit_then_drop&lt;check_status&gt;(1) //     1  reconfigure, //     , ..  reconfigure //        . + limit_then_abore&lt;reconfigure&gt;(1) } {...} ... };</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este t√≥pico √© descrito em mais detalhes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em um artigo separado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que impacto isso teve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso n√£o quer dizer que o surgimento de limites de mensagens tenha se tornado algo que mudou fundamentalmente o SObjectizer, os princ√≠pios de seu trabalho ou de seu trabalho. </font><font style="vertical-align: inherit;">Em vez disso, pode ser comparado com um p√°ra-quedas de reserva, usado apenas como √∫ltimo recurso. </font><font style="vertical-align: inherit;">Mas quando voc√™ precisa us√°-lo, fica feliz que ele exista.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mecanismo de rastreamento de entrega de mensagens </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que houve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SObjectizer-5 era uma caixa preta para desenvolvedores. Em que a mensagem √© enviada e ... E ela chega ao destinat√°rio ou n√£o vem. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se a mensagem n√£o chegar ao destinat√°rio, o usu√°rio se depara com a necessidade de realizar uma emocionante busca em busca de um motivo. Na maioria dos casos, os motivos s√£o triviais: a mensagem foi enviada para a mbox errada ou a assinatura n√£o foi feita (por exemplo, o usu√°rio fez uma assinatura em um estado do agente, mas esqueceu de faz√™-lo em outro). Mas pode haver casos mais complexos quando uma mensagem √©, por exemplo, rejeitada por um mecanismo de prote√ß√£o contra sobrecarga.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O problema era que o mecanismo de entrega de mensagens estava oculto nos grupos do SObjectizer Run-Time e, portanto, era dif√≠cil mesmo para os desenvolvedores do SObjectizer rotearem a mensagem para o destinat√°rio, sem mencionar os usu√°rios. </font><font style="vertical-align: inherit;">Especialmente sobre usu√°rios iniciantes que cometeram o maior n√∫mero de erros triviais.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que se tornou? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No SObjectizer-5.5, um mecanismo especial para rastrear o processo de entrega de mensagens chamado rastreamento de entrega de mensagens (ou simplesmente msg_tracing) foi adicionado e finalizado. </font><font style="vertical-align: inherit;">Esse mecanismo e seus recursos foram descritos em mais detalhes em um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo separado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, agora, se as mensagens forem perdidas na entrega, voc√™ pode simplesmente ativar o msg_tracing e ver por que isso acontece.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que impacto isso teve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A depura√ß√£o de aplicativos escritos no SObjectizer tornou-se muito mais simples e agrad√°vel. </font><font style="vertical-align: inherit;">Mesmo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para n√≥s mesmos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O conceito de env_infrastructure e env_infrastructure do single-threaded </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que houve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sempre consideramos o SObjectizer como uma ferramenta para simplificar o desenvolvimento de c√≥digo multiencadeado. </font><font style="vertical-align: inherit;">Portanto, as primeiras vers√µes do SObjectizer-5 foram gravadas para funcionar apenas em um ambiente multithread. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso foi expresso como o uso de primitivas de sincroniza√ß√£o dentro do SObjectizer para proteger as partes internas do SObjectizer ao trabalhar em um ambiente multithread. </font><font style="vertical-align: inherit;">O mesmo ocorre na cria√ß√£o de v√°rios threads de trabalho auxiliares dentro do pr√≥prio SObjectizer (para executar opera√ß√µes importantes como atender o timer e concluir o cancelamento do registro de coopera√ß√µes de agentes).</font></font><br><br>  I.e.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SObjectizer foi criado para programa√ß√£o multithread e para uso em ambientes multithread. </font><font style="vertical-align: inherit;">E isso nos convinha perfeitamente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No entanto, como o SObjectizer foi usado ‚Äúem estado selvagem‚Äù, foram descobertas situa√ß√µes em que a tarefa era dif√≠cil o suficiente para usar atores em sua solu√ß√£o. </font><font style="vertical-align: inherit;">Mas, ao mesmo tempo, todo o trabalho podia e, al√©m disso, tinha que ser executado em um √∫nico fluxo de trabalho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E enfrentamos um problema muito interessante: √© poss√≠vel ensinar o SObjectizer a trabalhar em um √∫nico segmento de trabalho?</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que se tornou? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descobriu-se que √© poss√≠vel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custou-nos muito dinheiro, demorou muito tempo e esfor√ßo para encontrar uma solu√ß√£o. </font><font style="vertical-align: inherit;">Mas a solu√ß√£o foi inventada. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um conceito como infraestrutura do ambiente foi introduzido (ou env_infrastructure de uma forma ligeiramente abreviada). </font><font style="vertical-align: inherit;">Env_infrastructure assumiu a tarefa de gerenciar a cozinha interna do SObjectizer. </font><font style="vertical-align: inherit;">Em particular, ele resolveu quest√µes como manuten√ß√£o de cron√¥metros, registro e cancelamento de registro de cooperativas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para o SObjectizer, v√°rias op√ß√µes env_infrastructures de thread √∫nico foram feitas. </font><font style="vertical-align: inherit;">Isso nos permitiu desenvolver aplicativos single-threaded no SObjectizer, dentro dos quais existem agentes normais trocando mensagens regulares entre si. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falamos sobre essa funcionalidade </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">em mais</font></a><font style="vertical-align: inherit;"> detalhes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em um artigo separado.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que impacto isso teve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Talvez a coisa mais importante que aconteceu durante a implementa√ß√£o desse recurso tenha sido a quebra de nossos pr√≥prios modelos. </font><font style="vertical-align: inherit;">Uma olhada no SObjectizer nunca mais ser√° a mesma. </font><font style="vertical-align: inherit;">Por muitos anos, considere o SObjectizer </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exclusivamente</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como uma ferramenta para o desenvolvimento de c√≥digo multiencadeado. </font><font style="vertical-align: inherit;">E ent√£o novamente! </font><font style="vertical-align: inherit;">E descubra que o c√≥digo de thread √∫nico no SObjectizer tamb√©m pode ser desenvolvido. </font><font style="vertical-align: inherit;">A vida √© cheia de surpresas.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ferramentas de monitoramento em tempo de execu√ß√£o </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que houve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SObjectizer-5 era uma caixa preta, n√£o apenas em termos de mecanismo de entrega de mensagens. </font><font style="vertical-align: inherit;">Mas tamb√©m n√£o havia como descobrir quantos agentes est√£o trabalhando atualmente no aplicativo, quantos e quais expedidores s√£o criados, quantos encadeamentos de trabalho envolvidos, quantas mensagens est√£o aguardando nas filas dos expedidores etc. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toda essa informa√ß√£o √© muito √∫til para monitorar aplicativos em execu√ß√£o 24/7. </font><font style="vertical-align: inherit;">Mas para depura√ß√£o, eu tamb√©m gostaria de entender de tempos em tempos se as filas est√£o crescendo ou se o n√∫mero de agentes est√° aumentando / diminuindo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infelizmente, por enquanto, nossas m√£os simplesmente n√£o chegaram ao ponto de adicionar fundos ao SObjectizer para coletar e disseminar essas informa√ß√µes.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que se tornou? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em um ponto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do SObjectizer-5.5, surgiram ferramentas para o monitoramento em tempo de execu√ß√£o dos componentes internos do SObjectizer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Por padr√£o, o monitoramento em tempo de execu√ß√£o est√° desabilitado, mas se voc√™ o habilitar, as mensagens ser√£o enviadas regularmente para a mbox especial, dentro da qual haver√° informa√ß√µes sobre o n√∫mero de agentes e coopera√ß√µes, sobre o n√∫mero de temporizadores, sobre threads de trabalho pertencentes a expedidores (e j√° haver√° informa√ß√µes sobre o n√∫mero de mensagens nas filas, o n√∫mero de agentes vinculados a esses encadeamentos). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, com o tempo, tornou-se poss√≠vel habilitar adicionalmente a coleta de informa√ß√µes sobre quanto tempo os agentes gastam em manipuladores de eventos. </font><font style="vertical-align: inherit;">Isso permite detectar situa√ß√µes em que algum agente est√° muito lento (ou est√° perdendo tempo bloqueando chamadas).</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Que impacto isso teve? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em nossa pr√°tica, o monitoramento em tempo de execu√ß√£o n√£o √© frequentemente usado. </font><font style="vertical-align: inherit;">Mas quando voc√™ precisar, voc√™ perceber√° sua import√¢ncia. </font><font style="vertical-align: inherit;">De fato, sem esse mecanismo, √© imposs√≠vel (bem ou muito dif√≠cil) descobrir o que e como [n√£o] funciona. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, esse √© um recurso da categoria "voc√™ pode faz√™-lo", mas sua presen√ßa, em nossa opini√£o, transfere imediatamente o instrumento para outra categoria de peso.</font></font> Porque<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fazer um prot√≥tipo de uma estrutura de ator "no joelho" n√£o √© t√£o dif√≠cil. </font><font style="vertical-align: inherit;">Muitos fizeram isso e muitos outros o far√£o. </font><font style="vertical-align: inherit;">Mas, ent√£o, para equipar seu desenvolvimento com o monitoramento em tempo de execu√ß√£o ... At√© agora, nem todos os rascunhos de joelhos sobrevivem.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E mais uma coisa em uma linha </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durante quatro anos, o SObjectizer-5.5 recebeu muitas inova√ß√µes e mudan√ßas, cuja descri√ß√£o, mesmo em sinopse, vai ocupar muito espa√ßo. Portanto, denotamos parte deles literalmente em uma linha. Em ordem aleat√≥ria, sem prioridades. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O SObjectizer-5.5 adiciona suporte ao sistema de cria√ß√£o do CMake. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora o SObjectizer-5 pode ser constru√≠do como uma biblioteca din√¢mica e est√°tica. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, o SObjectizer-5.5 foi desenvolvido e executado no Android (atrav√©s do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrystaX NDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atrav√©s do Android NDK). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Despachantes particulares apareceram. Agora voc√™ pode criar e usar despachantes que ningu√©m mais v√™.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementou o mecanismo de entrega de filtros. Agora, ao assinar mensagens de MPMC-mboxes, voc√™ pode proibir a entrega de mensagens cujo conte√∫do n√£o lhe interessa. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As ferramentas para criar e registrar coopera√ß√µes foram significativamente simplificadas: os m√©todos Introduzir_Coop / Introduzir_child_coop, Make_agent / Make_agent_with_binder e isso √© tudo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O conceito de uma f√°brica de objetos de bloqueio apareceu e agora voc√™ pode escolher quais objetos de bloqueio precisam (com base em mutex, spinlock, combinado ou outro). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A classe wrap_env_t apareceu e agora voc√™ pode executar o SObjectizer no seu aplicativo, n√£o apenas com so_5 :: launch ().</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O conceito de stop_guards apareceu e agora voc√™ pode influenciar o processo de desligamento do SObjectizer. </font><font style="vertical-align: inherit;">Por exemplo, voc√™ pode impedir que o SObjectizer pare at√© que alguns agentes concluam seu trabalho de aplicativo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora voc√™ pode interceptar as mensagens que foram entregues ao agente, mas n√£o foram processadas pelo agente (os chamados dead_letter_handlers). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Houve uma oportunidade de embrulhar mensagens em "envelopes" especiais. </font><font style="vertical-align: inherit;">Os envelopes podem transportar informa√ß√µes adicionais sobre a mensagem e podem executar alguma a√ß√£o quando a mensagem √© entregue ao destinat√°rio.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 5.5.0 a 5.5.23 em n√∫meros </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tamb√©m √© interessante observar o caminho feito em termos de c√≥digo / testes / exemplos. </font><font style="vertical-align: inherit;">Aqui est√° o que o utilit√°rio cloc nos diz sobre a quantidade de c√≥digo do kernel do SObjectizer-5.5.0:</font></font><br><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe√ßalho C / C ++ 58 2119 5156 5762</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 39 1167 779 4759</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubi 2 30 2 75</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 99 3316 5937 10596</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E aqui est√° a mesma coisa, mas para a v.5.5.23 (das quais 1147 linhas s√£o o c√≥digo da biblioteca opcional-lite): </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe√ßalho C / C ++ 133 6279 22173 21068</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 53 2498 2760 10398</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CMake 2 29 0 177</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ruby 4 53 2 129</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 192 8859 24935 31772</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Volume de testes para v.5.5.0: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 84 2510 390 11540</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubi 162 496 0 1054</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe√ßalho C / C ++ 1 11 0 32</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 247 3017 390 12626</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Testes para v.5.5.23: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 324 7345 1305 35231</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ruby 675 2.353 0 4.671</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CMake 338 43 0 955</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe√ßalho C / C ++ 11 107 3 448</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 1348 9848 1308 41305</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bem, exemplos para v.5.5.0: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 27 765 463 3322</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubi 28 95 0 192</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 55 860 463 3514</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eles s√£o, mas j√° para a v.5.5.23: </font></font><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arquivos de idioma em branco c√≥digo de coment√°rio</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ 67 2141 2061 9341</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubi 133 451 0 868</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CMake 67 93 0 595</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cabe√ßalho C / C ++ 1 12 11 32</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-------------------------------------------------- -----------------------------</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SUM: 268 2697 2072 10836</font></font><font></font>
</pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quase todos os lugares, um aumento de quase tr√™s vezes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E a quantidade de documenta√ß√£o para o SObjectizer provavelmente aumentou ainda mais.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Planos para o futuro pr√≥ximo (e n√£o apenas) </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os planos preliminares de desenvolvimento do SObjectizer ap√≥s o lan√ßamento da vers√£o 5.5.23 foram descritos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui h√°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cerca de um m√™s. Fundamentalmente, eles n√£o mudaram. Mas havia a sensa√ß√£o de que a vers√£o 5.6.0, cujo lan√ßamento est√° agendado para o in√≠cio de 2019, precisar√° ser posicionado como o in√≠cio da pr√≥xima ramifica√ß√£o est√°vel do SObjectizer. De olho no fato de que, durante 2019, o SObjectizer se desenvolver√° no ramo 5.6, sem altera√ß√µes significativas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso proporcionar√° uma oportunidade para aqueles que est√£o atualmente usando o SO-5.5 em seus projetos para mudarem gradualmente para o SO-5.6 sem medo de que ter√£o que mudar para o SO-5.7 a seguir.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o 5.7, na qual queremos nos afastar dos princ√≠pios b√°sicos do SO-5.5 e SO-5.6, ser√° considerada experimental em 2019. </font><font style="vertical-align: inherit;">Com estabiliza√ß√£o e libera√ß√£o, se tudo correr bem, j√° no ano 2020.</font></font><br><br><h1>  Conclus√£o </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concluindo, gostaria de agradecer a todos que nos ajudaram com o desenvolvimento do SObjectizer esse tempo todo. </font><font style="vertical-align: inherit;">E gostaria de agradecer separadamente a todos aqueles que ousaram tentar trabalhar com o SObjectizer. </font><font style="vertical-align: inherit;">Seus coment√°rios sempre foram muito √∫teis para n√≥s. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Queremos dizer para aqueles que ainda n√£o usaram o SObjectizer: experimente. </font><font style="vertical-align: inherit;">Isso n√£o √© t√£o assustador quanto pode parecer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se voc√™ n√£o gostou de algo ou n√£o teve o suficiente no SObjectizer, informe-nos. </font><font style="vertical-align: inherit;">Sempre ouvimos cr√≠ticas construtivas. </font><font style="vertical-align: inherit;">E, se estiver ao nosso alcance, damos vida aos desejos dos usu√°rios.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt429046/">https://habr.com/ru/post/pt429046/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt429036/index.html">Confie em mim, eu sei o que estou fazendo: auto-adapta√ß√£o de um rob√¥ modular ao ambiente de execu√ß√£o de tarefas</a></li>
<li><a href="../pt429038/index.html">Rust News # 2 (outubro de 2018)</a></li>
<li><a href="../pt429040/index.html">Corrigindo c√≥digo Java na produ√ß√£o sem anestesia</a></li>
<li><a href="../pt429042/index.html">Estamos testando o SharxBase, uma plataforma de virtualiza√ß√£o de software e hardware do fornecedor russo SharxDC</a></li>
<li><a href="../pt429044/index.html">As a√ß√µes da Apple sofreram a pior queda desde 2014. Grandes investidores perderam bilh√µes</a></li>
<li><a href="../pt429048/index.html">Dicas para um hoster iniciante</a></li>
<li><a href="../pt429050/index.html">Ataque de troca de criptomoeda Gate.io registrado</a></li>
<li><a href="../pt429052/index.html">Por que em laptops touch alguns SPAs deixaram de oferecer suporte a eventos touch</a></li>
<li><a href="../pt429054/index.html">Encontre N diferen√ßas. Experi√™ncia de teste de layout Tinkoff.ru</a></li>
<li><a href="../pt429056/index.html">F√≠sica, n√£o biologia, torna o envelhecimento inevit√°vel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>