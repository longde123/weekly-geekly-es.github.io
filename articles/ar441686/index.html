<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฉ๐ปโโ๏ธ ๐จโ๐ฉโ๐ง ๐๐ป ููู ูููุง ุจุชุทุจูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool ๐ฆ ๐คพ๐ผ ๐คถ๐ฟ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููู ุฌูุฏ! 

 ุฃุฑูุฏ ุฃู ุฃุดุงุฑููู ูุตุฉ ุญูู ุชูููุฐ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool ูููุฒุงุช ุงูุนูู ุงูุฎุงุตุฉ ุจู. 
 ุฃุนูู ููุทูุฑ ุฌุงูุง ูู ุดุฑูุฉ ุงุชุตุงูุงุช. ุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููู ูููุง ุจุชุทุจูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441686/" style=";text-align:right;direction:rtl"> ููู ุฌูุฏ! <br><br>  ุฃุฑูุฏ ุฃู ุฃุดุงุฑููู ูุตุฉ ุญูู ุชูููุฐ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool ูููุฒุงุช ุงูุนูู ุงูุฎุงุตุฉ ุจู. <br>  ุฃุนูู ููุทูุฑ ุฌุงูุง ูู ุดุฑูุฉ ุงุชุตุงูุงุช.  ุงููููุฉ ุงูุฑุฆูุณูุฉ: ุชูููุฐ ููุทู ุงูุนูู ููููุตุฉ ุงูุชู ุงุดุชุฑุชูุง ุงูุดุฑูุฉ ูู ุงูุจุงุฆุน.  ูู ุงูููุฒุงุช ุงูุฃููู ุ ูุฐุง ุนูู ุตุงุจูู ูุงูุบูุงุจ ุดุจู ุงููุงูู ููุชุฎุฒูู ุงููุคูุช ุ ุฅูุง ูู ุฐุงูุฑุฉ JVM.  ูู ูุฐุง ุฌูุฏ ุจุงูุทุจุน ุญุชู ูุชุฌุงูุฒ ุนุฏุฏ ูุซููุงุช ุงูุชุทุจูู ุนุดุฑูู ... <br><br>  ูู ุณูุงู ุงูุนูู ูููู ููุฒุงุช ุงููุธุงู ุงูุฃุณุงุณู ุ ุฌุฑุช ูุญุงููุฉ ููููุงู ุจุงูุชุฎุฒูู ุงููุคูุช.  ูู ุฐูู ุงูููุช ุ ุชู ุฅุทูุงู MongoDB ุจุงููุนู ุ ููุชูุฌุฉ ูุฐูู ุ ูู ูุญุตู ุนูู ุฃู ูุชุงุฆุฌ ุฅูุฌุงุจูุฉ ุฎุงุตุฉ ููุง ูู ุงูุญุงู ูู ุงูุงุฎุชุจุงุฑ. <br><br>  ูู ุจุญุซ ุขุฎุฑ ุนู ุงูุจุฏุงุฆู ูุงููุดูุฑุฉ ูู ุตุฏููู ุงูุนุฒูุฒ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">mr_elzor</a> ุ ุชูุฑุฑ ุชุฌุฑุจุฉ ูุงุนุฏุฉ ุจูุงูุงุช Tarantool. <br><a name="habracut"></a><br>  ูู ุฏุฑุงุณุฉ ุณุฑูุนุฉ ุ ุธูุฑ ุงูุดู ููุท ูู ููุง ุ ูุฃููู ูู ุฃูุชุจูุง ูู ูููุฉ "ุจุงููุงูู".  ูููู ูุน ูุถุน ูู ุงูุดููู ุฌุงูุจุง ุ ุจุฏุฃ ูู ุงูุชุซุจูุช.  ุญูู ุงูุดุจูุงุช ุงููุบููุฉ ูุงูุฌุฏุฑุงู ุงููุงุฑูุฉ ุ ุฃุนุชูุฏ ุฃู ุงููููู ูู ุงููุงุณ ููุชููู ุ ููููู ุฃูุตุญู ุจูุญุงููุฉ ุงูุงูุชูุงู ุนูููุง ููุถุน ูู ุดูุก ูู ุงููุตุงุฏุฑ ุงูุนุงูุฉ. <br><br>  ุฎูุงุฏู ุงูุงุฎุชุจุงุฑ ูุน ุงูุชูููู: 8 ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู 16 ุฌูุฌุงุจุงูุช ุ 100 ุฌูุฌุงุจุงูุช ูุญุฑู ุงูุฃูุฑุงุต ุงูุตูุจุฉ ุ ุฏูุจูุงู 9.4. <br><br>  ุชู ุงูุชุซุจูุช ููููุง ูุชุนูููุงุช ุงููููุน.  ูููุฐุง ุญุตูุช ุนูู ุฎูุงุฑ ูุซุงู.  ุธูุฑุช ุงูููุฑุฉ ุนูู ุงูููุฑ ุนู ูุงุฌูุฉ ุจุตุฑูุฉ ูุนูู ุจูุง ุงูุฏุนู ุจุณูููุฉ.  ุฃุซูุงุก ุงูุจุญุซ ุงูุณุฑูุน ุ ูุฌุฏุช ูุชูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tarantool-admin</a> .  ูุนูู ูู Docker ููุบุทู ููุงู ุงูุฏุนู ุจูุณุจุฉ 100ูช ุ ุนูู ุงูุฃูู ุญุชู ุงูุขู. <br><br>  ูููู ุฏุนูุง ูุชุญุฏุซ ุนู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู. <br><br>  ูุงู ุงูููุฑ ุงูุชุงูู ูู ุชููุฆุฉ ุงูุฅุตุฏุงุฑ ุงูุฎุงุต ุจู ูู ุชูููู ุงูุณูุฏ ูุงูุนุจุฏ ุฏุงุฎู ููุณ ุงูุฎุงุฏู ุ ูุฃู ุงููุซุงุฆู ุชุญุชูู ููุท ุนูู ุฃูุซูุฉ ูุน ุฎุงุฏููู ูุฎุชูููู. <br><br>  ุจุนุฏ ูุถุงุก ุจุนุถ ุงูููุช ูู ููู lua ููุตู ุงูุชูููู ุ ุฃููู ุจุชุดุบูู ุงููุนุงูุฌ. <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl start tarantool@master Job for tarantool@master.service failed because the control process exited with error code. See "systemctl status tarantool@master.service" and "journalctl -xe" for details.</span></span></code> </pre> <br>  ุฃูุน ุนูู ุงูููุฑ ูู ุฐููู ููุง ุฃููู ุณุจุจ ุงูุฎุทุฃ ุ ููููู ุฃุฑู ุฃูู ูู ุญุงูุฉ "ุงูุชุญููู". <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl status tarantool@master โ tarantool@master.service - Tarantool Database Server Loaded: loaded (/lib/systemd/system/tarantool@.service; enabled; vendor preset: enabled) Active: activating (start) since Tue 2019-02-19 17:03:24 MSK; 17s ago Docs: man:tarantool(1) Process: 20111 ExecStop=/usr/bin/tarantoolctl stop master (code=exited, status=0/SUCCESS) Main PID: 20120 (tarantool) Status: "loading" Tasks: 5 (limit: 4915) CGroup: /system.slice/system-tarantool.slice/tarantool@master.service โโ20120 tarantool master.lua &lt;loading&gt; Feb 19 17:03:24 tarantuldb-tst4 systemd[1]: Starting Tarantool Database Server... Feb 19 17:03:24 tarantuldb-tst4 tarantoolctl[20120]: Starting instance master... Feb 19 17:03:24 tarantuldb-tst4 tarantoolctl[20120]: Run console at unix/:/var/run/tarantool/master.control Feb 19 17:03:24 tarantuldb-tst4 tarantoolctl[20120]: started</span></span></code> </pre><br>  ุฃุฑูุถ ุนุจุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl start tarantool@slave2 Job for tarantool@slave2.service failed because the control process exited with error code. See "systemctl status tarantool@slave2.service" and "journalctl -xe" for details.</span></span></code> </pre><br>  ูุฃุฑู ููุณ ุงูุฎุทุฃ.  ููุง ุ ุนุงุฏุฉ ูุง ุฃุจุฏุฃ ูู ุงูุถุบุท ููุง ุฃููู ูุง ูุญุฏุซ ุ ูุฃูู ูุง ููุฌุฏ ุดูุก ูู ุงููุซุงุฆู ุงููุชุนููุฉ ุจู ุนูู ุงูุฅุทูุงู ... ูููู ุนูุฏ ุงูุชุญูู ูู ุงูุญุงูุฉ ุ ุฃุฑู ุฃูู ูู ูุจุฏุฃ ุนูู ุงูุฅุทูุงู ุ ุฑุบู ุฃูู ูููู ุฃู ุงูุญุงูุฉ "ููุฏ ุงูุชุดุบูู": <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl status tarantool@slave2 โ tarantool@slave2.service - Tarantool Database Server Loaded: loaded (/lib/systemd/system/tarantool@.service; enabled; vendor preset: enabled) Active: failed (Result: exit-code) since Tue 2019-02-19 17:04:52 MSK; 27s ago Docs: man:tarantool(1) Process: 20258 ExecStop=/usr/bin/tarantoolctl stop slave2 (code=exited, status=0/SUCCESS) Process: 20247 ExecStart=/usr/bin/tarantoolctl start slave2 (code=exited, status=1/FAILURE) Main PID: 20247 (code=exited, status=1/FAILURE) Status: "running" Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Unit entered failed state. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Failed with result 'exit-code'. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Service hold-off time over, scheduling restart. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: Stopped Tarantool Database Server. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Start request repeated too quickly. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: Failed to start Tarantool Database Server. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Unit entered failed state. Feb 19 17:04:52 tarantuldb-tst4 systemd[1]: tarantool@slave2.service: Failed with result 'exit-code'.</span></span></code> </pre><br>  ูููู ูู ุงูููุช ููุณู ุ ุจุฏุฃ ุงูุณูุฏ ุงูุนูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep taran taranto+ 20158 1 0 17:04 ? 00:00:00 tarantool master.lua &lt;running&gt; root 20268 2921 0 17:06 pts/1 00:00:00 grep taran</span></span></code> </pre><br>  ุฅุนุงุฏุฉ ุชุดุบูู ุงูุนุจุฏ ูุง ูุณุงุนุฏ.  ุฃุชุณุงุกู ููุงุฐุงุ <br><br>  ุฃููู ุงูุณูุฏ.  ูุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ูู ุชุฑุชูุจ ุนูุณู. <br><br>  ุฃุฑู ุฃู ุงูุนุจุฏ ูุญุงูู ุงูุจุฏุก. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep taran taranto+ 20399 1 0 17:09 ? 00:00:00 tarantool slave2.lua &lt;loading&gt;</span></span></code> </pre><br>  ุฃุจุฏุฃ ุงููุนุงูุฌ ูุฃุฑู ุฃูู ูู ูุฑุชูุน ูุชุญููุช ุนููููุง ุฅูู ุญุงูุฉ ุงููุชูู ุ ุจูููุง ุงูุฎูุถ ุงูุนุจุฏ ุจุดูู ุนุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep taran taranto+ 20428 1 0 17:09 ? 00:00:00 tarantool master.lua &lt;orphan&gt;</span></span></code> </pre><br>  ูุตุจุญ ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู. <br><br>  ุฃุฑู ูู ุณุฌูุงุช ุงูุฑููู ุฃูู ุฑุฃู ุงูุณูุฏ ูุญุงูู ุงููุฒุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">2019-02-19 17:13:45.113 [20751] iproto/101/main D&gt; binary: binding to 0.0.0.0:3302... 2019-02-19 17:13:45.113 [20751] iproto/101/main I&gt; binary: bound to 0.0.0.0:3302 2019-02-19 17:13:45.113 [20751] iproto/101/main D&gt; binary: listening on 0.0.0.0:3302... 2019-02-19 17:13:45.113 [20751] iproto D&gt; cpipe_flush_cb: locking &amp;endpoint-&gt;mutex 2019-02-19 17:13:45.113 [20751] iproto D&gt; cpipe_flush_cb: unlocking &amp;endpoint-&gt;mutex 2019-02-19 17:13:45.113 [20751] main D&gt; cbus_endpoint_fetch: locking &amp;endpoint-&gt;mutex 2019-02-19 17:13:45.113 [20751] main D&gt; cbus_endpoint_fetch: unlocking &amp;endpoint-&gt;mutex 2019-02-19 17:13:45.113 [20751] main/101/slave2 I&gt; connecting to 1 replicas 2019-02-19 17:13:45.113 [20751] main/106/applier/replicator@tarantuldb-t D&gt; =&gt; CONNECT 2019-02-19 17:13:45.114 [20751] main/106/applier/replicator@tarantuldb-t I&gt; remote master 825af7c3-f8df-4db0-8559-a866b8310077 at 10.78.221.74:3301 running Tarantool 1.10.2 2019-02-19 17:13:45.114 [20751] main/106/applier/replicator@tarantuldb-t D&gt; =&gt; CONNECTED 2019-02-19 17:13:45.114 [20751] main/101/slave2 I&gt; connected to 1 replicas 2019-02-19 17:13:45.114 [20751] coio V&gt; loading vylog 14 2019-02-19 17:13:45.114 [20751] coio V&gt; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span> loading vylog 2019-02-19 17:13:45.114 [20751] main/101/slave2 I&gt; recovery start 2019-02-19 17:13:45.114 [20751] main/101/slave2 I&gt; recovering from `/var/lib/tarantool/cache_slave2/00000000000000000014.snap<span class="hljs-string"><span class="hljs-string">' 2019-02-19 17:13:45.114 [20751] main/101/slave2 D&gt; memtx_tuple_new(47) = 0x7f99a4000080 2019-02-19 17:13:45.114 [20751] main/101/slave2 I&gt; cluster uuid 4035b563-67f8-4e85-95cc-e03429f1fa4d 2019-02-19 17:13:45.114 [20751] main/101/slave2 D&gt; memtx_tuple_new(11) = 0x7f99a4004080 2019-02-19 17:13:45.114 [20751] main/101/slave2 D&gt; memtx_tuple_new(17) = 0x7f99a4008068</span></span></code> </pre><br>  ููุงูุช ุงููุญุงููุฉ ูุงุฌุญุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">2019-02-19 17:13:45.118 [20751] main/101/slave2 D&gt; memtx_tuple_new(40) = 0x7f99a40004c0 2019-02-19 17:13:45.118 [20751] main/101/slave2 I&gt; assigned id 1 to replica 825af7c3-f8df-4db0-8559-a866b8310077 2019-02-19 17:13:45.118 [20751] main/101/slave2 D&gt; memtx_tuple_new(40) = 0x7f99a4000500 2019-02-19 17:13:45.118 [20751] main/101/slave2 I&gt; assigned id 2 to replica 403c0323-5a9b-480d-9e71-5ba22d4ccf1b 2019-02-19 17:13:45.118 [20751] main/101/slave2 I&gt; recover from `/var/lib/tarantool/slave2/00000000000000000014.xlog<span class="hljs-string"><span class="hljs-string">' 2019-02-19 17:13:45.118 [20751] main/101/slave2 I&gt; done `/var/lib/tarantool/slave2/00000000000000000014.xlog'</span></span></code> </pre><br>  ุญุชู ุจุฏุฃุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">2019-02-19 17:13:45.119 [20751] main/101/slave2 D&gt; systemd: sending message <span class="hljs-string"><span class="hljs-string">'STATUS=running'</span></span></code> </pre><br>  ูููู ูุฃุณุจุงุจ ุบูุฑ ูุนุฑููุฉ ุ ููุฏ ุงูุงุชุตุงู ูุณูุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">2019-02-19 17:13:45.129 [20751] main/101/slave2 D&gt; SystemError at /build/tarantool-1.10.2.146/src/coio_task.c:416 2019-02-19 17:13:45.129 [20751] main/101/slave2 tarantoolctl:532 E&gt; Start failed: /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/share/lua/5.1/http/server.lua:1146: Can<span class="hljs-string"><span class="hljs-string">'t create tcp_server: Input/output error</span></span></code> </pre><br>  ูุญุงููุฉ ูุจุฏุก ุงูุฑููู ูุฑุฉ ุฃุฎุฑู ูุง ูุณุงุนุฏ. <br><br>  ุงูุขู ุงุญุฐู ุงููููุงุช ุงูุชู ุฃูุดุฃุชูุง ุงููุซููุงุช.  ูู ุญุงูุชู ุ ุฃุญุฐู ูู ุดูุก ูู ุฏููู / var / lib / tarantool. <br><br>  ุฃุจุฏุฃ ุงูุนุจุฏ ุฃููุงู ุ ูุนูุฏูุง ููุท ุฃุชูู.  ููุง ููุฐุง ... <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep tara taranto+ 20922 1 0 17:20 ? 00:00:00 tarantool slave2.lua &lt;running&gt; taranto+ 20933 1 1 17:21 ? 00:00:00 tarantool master.lua &lt;running&gt;</span></span></code> </pre><br>  ูู ุฃุฌุฏ ุฃู ุชูุณูุฑ ููุฐุง ุงูุณููู ุ ุจุงุณุชุซูุงุก "ูููุฒุฉ ูู ููุฒุงุช ูุฐุง ุงูุจุฑูุงูุฌ". <br>  ุณูุธูุฑ ูุฐุง ุงููููู ูู ูู ูุฑุฉ ุฅุฐุง ุชูุช ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุจุงููุงูู. <br><br>  ุจูุงุกู ุนูู ูุฒูุฏ ูู ุงูุชุญููู ูุจููุฉ ูุฐุง ุงูุจุฑูุงูุฌ ุ ุงุชุถุญ ุฃูู ูู ุงููุฎุทุท ุงุณุชุฎุฏุงู ูุญุฏุฉ ูุงุญุฏุฉ ููุท ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ (CPU) ูุงุญุฏุฉ ููุซูู ูุงุญุฏ ูุฃู ููุงุฑุฏ ุฃุฎุฑู ูุซูุฑุฉ ุชุธู ูุฌุงููุฉ. <br><br>  ูู ุฃูุฏููููุฌูุฉ n vCPU ุ ูููููุง ุฑูุน ุงูุณูุฏ ูุงูุนุจุฏ n-2 ูููุฑุงุกุฉ. <br><br>  ุจุงููุธุฑ ุฅูู ุฃูู ุนูู ุฎุงุฏู ุงูุงุฎุชุจุงุฑ 8 vCPU ูููููุง ุฑูุน ูุณุชูู ุงููุงุฌุณุชูุฑ ู 6 ุญุงูุงุช ูููุฑุงุกุฉ. <br>  ุฃูุง ุฃูุณุฎ ุงูููู ุงูุฎุงุต ุจุงูุฑููู ุ ููู ุจุชุตุญูุญ ุงูููุงูุฐ ูุงูุชุดุบูู ุ ุฃู  ูุชู ุฅุถุงูุฉ ุนุฏุฏ ูููู ูู ุงูุนุจูุฏ. <br><br>  ููู!  ุนูุฏ ุฅุถุงูุฉ ูุซูู ุขุฎุฑ ุ ูุฌุจ ุนููู ุชุณุฌููู ุนูู ุงููุนุงูุฌ. <br>  ูููู ูุฌุจ ุนููู ุฃููุงู ุฃู ุชุจุฏุฃ ุนุจุฏุงู ุฌุฏูุฏุงู ุ ูุจุนุฏ ุฐูู ููุท ุชุนูุฏ ุชุดุบูู ุงูุณูุฏ. <br><br><h4 style=";text-align:right;direction:rtl">  ูุซุงู </h4><br>  ูุงู ูุฏู ุจุงููุนู ุชูููู ูุนูู ูุน ูุนุงูุฌ ูุงุซููู ูู ุงูุนุจูุฏ. <br><br>  ูุฑุฑุช ุฃู ุฃุถูู ุนุจุฏุง ุซุงูุซุง. <br><br>  ููุช ุจุชุณุฌููู ุนูู ุงูุณูุฏ ูุฃุนุฏุช ุชุดุบููู ุฃููุงู ุ ููุฐุง ูุง ุฑุฃูุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep tara taranto+ 20922 1 0 Feb19 ? 00:00:29 tarantool slave2.lua &lt;running&gt; taranto+ 20965 1 0 Feb19 ? 00:00:29 tarantool slave3.lua &lt;running&gt; taranto+ 21519 1 0 09:16 ? 00:00:00 tarantool master.lua &lt;orphan&gt;</span></span></code> </pre><br>  ุฃู  ุฃุตุจุญ ุณูุฏูุง ูุญูุฏูุง ุ ูุงููุงุฑ ุงูุชูุฑุงุฑ. <br><br>  ุฅู ุงูุจุฏุก ุจุนุจุฏ ุฌุฏูุฏ ูู ูุณุงุนุฏู ูุณูุคุฏู ุฅูู ุญุฏูุซ ุฎุทุฃ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># systemctl restart tarantool@slave4 Job for tarantool@slave4.service failed because the control process exited with error code. See "systemctl status tarantool@slave4.service" and "journalctl -xe" for details.</span></span></code> </pre><br>  ููู ุงูุณุฌูุงุช ุฑุฃูุช ุฅุฏุฎุงูุงู ูููุฏุงู ููููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">2019-02-20 09:20:10.616 [21601] main/101/slave4 I&gt; bootstrapping replica from 3c77eb9d-2fa1-4a27-885f-e72defa5cd96 at 10.78.221.74:3301 2019-02-20 09:20:10.617 [21601] main/106/applier/replicator@tarantuldb-t I&gt; can<span class="hljs-string"><span class="hljs-string">'t join/subscribe 2019-02-20 09:20:10.617 [21601] main/106/applier/replicator@tarantuldb-t xrow.c:896 E&gt; ER_READONLY: Can'</span></span>t modify data because this instance is <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">read</span></span>-only mode. 2019-02-20 09:20:10.617 [21601] main/106/applier/replicator@tarantuldb-t D&gt; =&gt; STOPPED 2019-02-20 09:20:10.617 [21601] main/101/slave4 xrow.c:896 E&gt; ER_READONLY: Can<span class="hljs-string"><span class="hljs-string">'t modify data because this instance is in read-only mode. 2019-02-20 09:20:10.617 [21601] main/101/slave4 F&gt; can'</span></span>t initialize storage: Can<span class="hljs-string"><span class="hljs-string">'t modify data because this instance is in read-only mode.</span></span></code> </pre><br>  ูููู ุงููุนุงูุฌ ููุจุฏุฃ ุนุจุฏุง ุฌุฏูุฏุง.  ุณูููู ููุงู ุฎุทุฃ ุฃูุถูุง ุ ููุง ูู ุงูุจุฏุงูุฉ ุงูุฃููู ุ ููููุง ุณูุฑู ุฃูู ูุชู ุชุญููู ุญุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep tara taranto+ 20922 1 0 Feb19 ? 00:00:29 tarantool slave2.lua &lt;running&gt; taranto+ 20965 1 0 Feb19 ? 00:00:30 tarantool slave3.lua &lt;running&gt; taranto+ 21659 1 0 09:23 ? 00:00:00 tarantool slave4.lua &lt;loading&gt;</span></span></code> </pre><br>  ูููู ุนูุฏูุง ุชุจุฏุฃ ุณูุฏูุง ุ ูุชุนุทู ุงูุนุจุฏ ุงูุฌุฏูุฏ ุ ููุง ูุชุทุงุจู ุงูุณูุฏ ูุน ุญุงูุฉ ุงูุชุดุบูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep tara taranto+ 20922 1 0 Feb19 ? 00:00:29 tarantool slave2.lua &lt;running&gt; taranto+ 20965 1 0 Feb19 ? 00:00:30 tarantool slave3.lua &lt;running&gt; taranto+ 21670 1 0 09:23 ? 00:00:00 tarantool master.lua &lt;orphan&gt;</span></span></code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ููุฌุฏ ุณูู ูุฎุฑุฌ ูุงุญุฏ.  ููุง ูุชุจุช ุณุงุจููุง ุ ุฃุญุฐู ุงููููุงุช ุงูุชู ุฃูุดุฃุชูุง ุงููุซููุงุช ูุฃุฏูุฑ ุงูุนุจูุฏ ุฃููุงู ุ ุซู ุฃุชูููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ps -ef | grep tarantool taranto+ 21892 1 0 09:30 ? 00:00:00 tarantool slave4.lua &lt;running&gt; taranto+ 21907 1 0 09:30 ? 00:00:00 tarantool slave3.lua &lt;running&gt; taranto+ 21922 1 0 09:30 ? 00:00:00 tarantool slave2.lua &lt;running&gt; taranto+ 21931 1 0 09:30 ? 00:00:00 tarantool master.lua &lt;running&gt;</span></span></code> </pre><br>  ูู ุดูุก ุจุฏุฃ ุจูุฌุงุญ. <br><br>  ููุฐุง ุ ูู ุฎูุงู ุงูุชุฌุฑุจุฉ ูุงูุฎุทุฃ ุ ุงูุชุดูุช ููููุฉ ุชูููู ุงููุณุฎ ุงููุชูุงุซู ูุจุฏุกู ุจุดูู ุตุญูุญ. <br><br>  ูุชูุฌุฉ ูุฐูู ุ ุชู ุชุฌููุน ุงูุชูููู ุงูุชุงูู: <br><br>  <i>2 ุฎูุงุฏู.</i> <i><br></i>  <i>2 ุณูุฏ.</i>  <i>ุงุญุชูุงุทู ุณุงุฎู.</i> <i><br></i>  <i>12 ุนุจูุฏุง.</i>  <i>ูููุง ูุดุทุฉ.</i> <br><br>  ูู ููุทู tarantool ุ ุชู ุงุณุชุฎุฏุงู http.server <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://github.com/tarantool/">ุญุชู</a> ูุง ูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://github.com/tarantool/">ุญุธุฑ</a> ุงููุญูู ุงูุฅุถุงูู (ุชุฐูุฑ ุงูุจุงุฆุน ุ ูุงููุธุงู ุงูุฃุณุงุณู ุ ูุงูุตุงุจูู) ุฃู ุฑุจุท ุงูููุชุจุฉ ุจูู ุนูููุฉ ุชุฌุงุฑูุฉ. <br><br>  ูุชุฌูุจ ุงูุชูุงูุถ ุจูู ุงูุฃุณุงุชุฐุฉ ุฃู ุนูู ุงูููุงุฒู (NetScaler ุฃู HAProxy ุฃู ุฃู ููุถู ุขุฎุฑ) ุ ูุฅููุง ูุถุน ูุงุนุฏุฉ ุงูุญุฌุฒ ุ ุฃู  ุฅุฏุฑุงุฌ ูุชุญุฏูุซ ูุญุฐู ุนูููุงุช ุงูุงูุชูุงู ููุท ุฅูู ุณูุฏ ุงููุดุท ุงูุฃูู. <br><br>  ูู ูุฐุง ุงูููุช ุ ูููู ุงูุซุงูู ุจุจุณุงุทุฉ ุจุชูุฑุงุฑ ุงูุณุฌูุงุช ูู ุงูุฃูู.  ุงูุนุจูุฏ ุฃููุณูู ูุฑุชุจุทูู ุจุงูุณูุฏ ุงูุฃูู ุงููุญุฏุฏ ูู ุงูุชูููู ุ ููู ูุง ูุญุชุงุฌู ูู ูุฐุง ุงููููู. <br><br>  ูู ููุง ุ ููุฐุช ุนูููุงุช CRUD ููููุฉ ุงูููุชุงุญ.  ูู ุงูููุช ุงูุญุงูู ุ ูุฐุง ูููู ูุญู ุงููุดููุฉ. <br><br>  ูู ุถูุก ููุฒุงุช ุงูุนูู ุจุงุณุชุฎุฏุงู ุงูุตุงุจูู ุ ุชู ุชูููุฐ ุนูููุฉ ุฃุนูุงู ุงููููู ุ ุญูุซ ุชู ูุถุน ููุทู ุงูุนูู ูุน ุงูุฑุชููุงุก ุนุจุฑ http. <br><br>  ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ููุฌูุฏุฉ ุ ูุณูุชู ุฅุฑุฌุงุนูุง ุนูู ุงูููุฑ.  ุฅุฐุง ูู ููู ูุฐูู ุ ูุณูุชู ุฅุฑุณุงู ุทูุจ ุฅูู ุงููุธุงู ุงูุฑุฆูุณู ูุชุฎุฒููู ูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool. <br><br>  ูุชูุฌุฉ ูุฐูู ุ ุชููู ุฅุญุฏู ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ ูู ุงูุงุฎุชุจุงุฑุงุช ุจูุนุงูุฌุฉ ูุง ูุตู ุฅูู 4 ุขูุงู ุทูุจ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ุฒูู ุงูุงุณุชุฌุงุจุฉ ูู ุงูุฑุชููุงุก ุญูุงูู 1 ูููู ุซุงููุฉ.  ูุชูุณุท โโุฒูู ุงูุงุณุชุฌุงุจุฉ ูุตู ุฅูู 3 ูููู ุซุงููุฉ. <br><br>  ูููุง ููู ุจุนุถ ุงููุนูููุงุช ูู ุงูุงุฎุชุจุงุฑุงุช: <br><br><img src="https://habrastorage.org/webt/n6/ae/lg/n6aelg4tipin2jgomzrgsw_8nie.png"><br><br>  ูุงูุช ููุงู 50 ุนูููุฉ ุชุฌุงุฑูุฉ ุชูุชูู ุฅูู 4 ุฃูุธูุฉ ุฑุฆูุณูุฉ ูุจูุงูุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ุฐุงูุฑุชูู.  ุงุฒุฏูุงุฌูุฉ ุงููุนูููุงุช ูู ุงูููู ุงููุงูู ูู ูู ุญุงูุฉ.  ุจุงููุธุฑ ุฅูู ุฃู ุฌุงูุง ุชุญุจ ุจุงููุนู ุงูุฐุงูุฑุฉ ... ูุฅู ุงูุงุญุชูุงู ููุณ ูู ุงูุฃูุถู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุงู </h4><br>  50 ุนูููุฉ ุชุฌุงุฑูุฉ ุชุทูุจ ูุนูููุงุช ูู ุฎูุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช.  ุงูุขู ูุชู ุชุฎุฒูู ุงููุนูููุงุช ูู 4 ูุซููุงุช ูู ุงููุนุงูุฌ ูู ููุงู ูุงุญุฏ ุ ููุง ูุชู ุชุฎุฒูููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูู ูู ุญุงูุฉ.  ูุงู ูู ุงููููู ุชูููู ุงูุนุจุก ุนูู ุงููุธุงู ุงูุฑุฆูุณู ุจุดูู ูุจูุฑ ุ ูุง ุชูุฌุฏ ูุณุฎ ููุฑุฑุฉ ูู ุงููุนูููุงุช ูุงูุฎูุถ ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูู ุงูุญุงูุงุช ุงูุชู ูููู ูููุง ููุทู ุงูุนูู. <br><br>  ูุซุงู ุนูู ุญุฌู ุชุฎุฒูู ุงููุนูููุงุช ูู ุฐุงูุฑุฉ ุงูุฑุชููุงุก: <br><br><img src="https://habrastorage.org/webt/es/93/ex/es93exozhrhnihbnq6-zpzjobma.png"><br><br>  ูู ููุงูุฉ ุงูููู ุ ูุฏ ุชุชุถุงุนู ูุฐู ุงูุฃุฑูุงู ุ ูููู ูุง ููุฌุฏ "ุณุญุจ" ูู ุงูุฃุฏุงุก. <br><br>  ูู ุงููุนุฑูุฉ ุ ููุดุฆ ุงูุฅุตุฏุงุฑ ุงูุญุงูู ุทูุจุงุช ูู 2 ูููู - 2.5 ูููู ูู ุงูุซุงููุฉ ูู ุงูุญูู ุงูุญูููู.  ูุดุจู ูุชูุณุท โโุฒูู ุงูุงุณุชุฌุงุจุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ุชุตู ุฅูู 3 ูููู ุซุงููุฉ. <br><br>  ุฅุฐุง ูุธุฑุช ุฅูู htop ุนูู ุฃุญุฏ ุงูุฎูุงุฏู ุจุงุณุชุฎุฏุงู tarantool ุ ูุณูู ูุฑู ุฃููุง "ุชุจุฑูุฏ": <br><br><img src="https://habrastorage.org/webt/jt/mt/vf/jtmtvfat0ohxhugounnve47l7ju.png"><br><br><h4 style=";text-align:right;direction:rtl">  ููุฎุต </h4><br>  ุนูู ุงูุฑุบู ูู ูู ุงูุชูุงุตูู ุงูุฏูููุฉ ูุงููุฑูู ุงูุฏูููุฉ ูู ูุงุนุฏุฉ ุจูุงูุงุช Tarantool ุ ููููู ุชุญููู ุฃุฏุงุก ุฑุงุฆุน. <br><br>  ุขูู ุฃู ูุชุทูุฑ ูุฐุง ุงููุดุฑูุน ูุณูุชู ุญู ูุฐู ุงููุญุธุงุช ุบูุฑ ุงููุฑูุญุฉ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar441686/">https://habr.com/ru/post/ar441686/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar441676/index.html">ููููุฉ ุชูููู ุตุฏุงูุงุช PLUTO ู HDSDR</a></li>
<li><a href="../ar441678/index.html">ููุฒูุงุก ุฅุนุตุงุฑ ุงููุนุจุฉ: ููู ูุชู ุชุทุจูู ุงูุฏููุงูููุง ุงูููุงุฆูุฉ ูู Just Cause 4 (ุญุฑูุฉ ุงููุฑูุฑ)</a></li>
<li><a href="../ar441680/index.html">ููุง ูู ููุณูู 2019 ุจุฑูุงูุฌ ุงููุคุชูุฑ</a></li>
<li><a href="../ar441682/index.html">HyperX Fury 3D - SSD ูุน ูุณุจ ูุงุถุญุฉ</a></li>
<li><a href="../ar441684/index.html">ุงูุชููุนุงุช: ุณูู ุชุชุบูุฑ ุงูุบููู 2019</a></li>
<li><a href="../ar441688/index.html">ุงูุฃูุนุงุจ ุชุบูุฑ ุงูุนุงูู: ููู ูููุช Hellblade ุงูุงูุชุจุงู ุฅูู ูุดุงูู ุงูุฃุดุฎุงุต ุงููุตุงุจูู ุจูุฑุถ ุนููู</a></li>
<li><a href="../ar441690/index.html">ุฃูุช ูุง ุชุญุชุงุฌ Blockchain: ุซูุงูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงููุนุฑููุฉ ูููุงุฐุง ูุง ุชุนูู</a></li>
<li><a href="../ar441692/index.html">ููููุฉ ุชุบุทูุฉ ุงููุณุงุฑุงุช ุนูู blockchainุ ููููููุง ุฎูุงุท ุงููุนุงููุงุช</a></li>
<li><a href="../ar441694/index.html">ููุงุฐุง ุงูุฑุณูู ุงูุจูุงููุฉ "ูุฐุจุฉ"</a></li>
<li><a href="../ar441696/index.html">ุชุงุฑูุฎ Cyrillic LiveJournal: ููู ุณุญู ุงูุฅุฏุงุฑุฉ ุงูุฑูุณูุฉ ุธููุฑ ุงูุชุฏููู ุจุงููุบุฉ ุงูุฑูุณูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>