<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‡ğŸ¿ ğŸ•µğŸ¾ ğŸ€ Sochi. Camera: fitur untuk membuat proyek secara umum, lengkap, sepenuhnya dari awal, tanpa standar dan contoh sudah diterapkan ğŸ ğŸ´ ğŸ¤œğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sochi.Camera - situs dengan aliran siaran dari lebih dari 300 kamera web yang dipasang di Sochi dan sekitarnya. Situs dan seluruh layanan adalah nirla...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sochi. Camera: fitur untuk membuat proyek secara umum, lengkap, sepenuhnya dari awal, tanpa standar dan contoh sudah diterapkan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sochikamera/blog/413929/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sochi.Camera</a> - situs dengan aliran siaran dari lebih dari 300 kamera web yang dipasang di Sochi dan sekitarnya.  Situs dan seluruh layanan adalah nirlaba, dibuat dan dikelola dengan biaya sendiri oleh penyedia Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Koneksi Bisnis"</a> , selama hampir 10 tahun.  Dalam posting ini kami akan memberi tahu cara kode dari nol mutlak;  tentang pertempuran dengan YouTube (kami menang);  mengapa perangkat lunak bebas buruk dan layanan streaming video gratis bagus.  Mungkin di masa depan, ketika mereka berpaling kepada kami dengan proposal berikutnya - menulis untuk 100-200 ribu rubel.  layanan yang sama dengan Sochi. Camera, alih-alih seribu kata, kami <s>akan memberi</s> Rafael tautan ke pos ini, sehingga semua orang dapat segera mengerti. <br><a name="habracut"></a><br>  <b>Versi pertama: desain sobek dengan potongan kode orang lain</b> <br><br>  Proyek kami dibuat dari awal, tidak ada layanan, model peran atau templat yang serupa.  Segala yang kami lakukan, harus kami lakukan sendiri: mulai dari menulis ulang modul kereta dari perpustakaan open source hingga menemukan cara baru untuk memasang kamera.  Tidak ada solusi yang siap pakai, dan ketika kami memulai proyek, dan sekarang mereka tidak dalam bentuk template juga, bagaimanapun keterampilan pemrograman yang cukup baik diperlukan. <br><br>  Kami memulai sendiri, dengan administrator jaringan penuh waktu kami, yang tahu cara membuat kode sedikit.  Hampir dari langkah pertama proyek kami ingin membuat hidup kita lebih mudah.  Tetapi satu-satunya versi "ripped off" dari situs tersebut adalah yang pertama.  Desainnya dipinjam dari program desktop untuk melihat foto dan video, yang namanya tidak ada yang ingat sekarang.  Sebenarnya, ide asli situs itu adalah bioskop online dengan banyak aula, dengan latar belakang gelap dan layar besar dengan gambar berkualitas tinggi.  Rancangan program ini dengan nama yang terlupakan hanyalah - latar belakang yang gelap, banyak preview, ketika diklik, layar besar dibuka. <br><br><img src="https://habrastorage.org/webt/is/9x/qj/is9xqjpj2cderxubllih-krvgfo.png"><br><br>  Kode diambil dari DVR Linux, open source open source Linux DVR.  Ini berfungsi sebagai situs, dimungkinkan untuk mengaksesnya melalui browser dan menonton streaming dari kamera.  Pada sepotong kode dari DVR Linux, di mana gerak jpeg digunakan, kami menarik desain dari program penampil foto dan kami mendapatkan versi pertama Sochi.Kamera ini canggung, tetapi berfungsi. <br><br>  Sekarang versi kelima Sochi berfungsi. Kamera.  Desain situs telah banyak berubah.  Namun, ide utama dari "gedung bioskop gelap" tidak hilang, tetapi sekarang desainnya lebih seperti video Yandex daripada foto desktop dan perpustakaan video.  Namun, ini hanya pengingat jarak jauh, bukan penampilan yang sobek.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kompetisi online</a> diumumkan untuk versi baru situs, desain keseluruhan dan piktogram yang dibuat oleh pemenang digunakan pada versi situs saat ini. <br><br><img src="https://habrastorage.org/webt/j0/ec/qi/j0ecqimdu6c0aw4zf3sloadevcq.jpeg" alt="gambar"><br><br>  Tentu saja, tidak semua pengguna situs menyukai tampilan baru, karena bagi yang sangat tidak puas, versi lama juga dibiarkan, namun sekarang hampir tidak ada yang mengunjunginya. <br><br>  Adapun kode, versi kedua dan selanjutnya dilakukan lebih mandiri, dan mereka ternyata kurang artisanal.  Sekarang layanan dibuat dalam skrip Java, bagian server di Node.js, bagian klien di Angular.js.  Kami hanya memiliki satu orang yang mengembangkan aplikasi server, tetapi ia adalah pengembang profesional dan layanan tingkat tinggi kami saat ini sebagian besar merupakan keunggulannya.  Ngomong-ngomong, seluruh tim kami terdaftar di bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">proyek di Sochi.</a> <br><br>  <b>Turbulensi saat beralih dari Flash ke HTML5</b> <br><br>  Ketika Steve Jobs mendeklarasikan perang terhadap Flash, situs kami mengerjakannya.  Semua pembuat browser mulai secara bertahap meninggalkan HTML5, di mana demonstrasi aliran video belum distandarisasi, dan kami mendapat masalah besar.  Sochi. Kamera bisa bekerja selama beberapa tahun pada Flash, tetapi dalam versi baru browser semuanya bekerja dengan tidak stabil, kami kehilangan banyak pengguna, karena alih-alih video dari kamera mereka mendapat jendela gelap. <br><br><img src="https://habrastorage.org/webt/h-/o8/vu/h-o8vu-kfokzlvfx_vbkldfvl-y.jpeg"><br><br>  Itu perlu untuk menulis ulang situs untuk versi browser baru, dan tidak hanya harus menulis sepotong kode untuk setiap versi secara terpisah, itu juga diperlukan untuk menentukan sekelompok pemain browser dengan cepat.  Di sini pengembang kami menulis konstruksi sedemikian rupa sehingga cukup berhasil.  Tentu saja, ini sangat menegangkan dan rumit kodenya.  Jadi, ketika situasi dengan standardisasi telah selesai, kami sekali lagi mendesain ulang layanan, menghilangkan kruk tambahan ini. <br><br>  Salah satu kekuatan pengembang kami terletak pada kenyataan bahwa ia terus terlibat dalam refactoring - mengoptimalkan kode, mengurangi beban di server dan saluran komunikasi, terus-menerus memantau kemampuan versi baru bahasa pemrograman. <br><br>  Ngomong-ngomong, pada saat yang sama, ketika kami berjuang dengan format browser yang berbeda, YouTube memecahkan masalah yang sama, dengan dua perbedaan kecil: YouTube menampilkan file, bukan stream, yang membuat programmer lebih mudah;  dan ini adalah YouTube, dengan staf besar programmer, dan bukan perusahaan kecil dengan satu programmer, meskipun programmer yang sangat bagus dan bahkan brilian.  Melihat sekarang pada urusan masa lalu ini, kita dapat mengatakan bahwa turbulensi telah berlalu tidak lebih buruk. <br><br>  Selain pendekatan yang benar dari programmer utama kami terhadap efektivitas perangkat lunak, poin lain yang sangat penting adalah pilihan platform streaming baru.  Meskipun kami meninggalkan Wowza bukan karena â€œalasan teknisâ€, tetapi karena kebijakan tarif mereka yang tidak sopan, secara teknis kami juga menang dalam jangka panjang.  Kami mulai bekerja dengan Flussonic dari Erlivideo pada versi keempat kami, sekitar 4 tahun yang lalu, ketika mereka belum terdengar.  Kemudian produk ini beralih dari sumber terbuka semi-kerajinan ke komersial berbayar normal. <br><br>  Sejarah produk ini sangat dikonfirmasi oleh fakta bahwa produk perangkat lunak lebih baik dikembangkan tidak di sepanjang jalur perangkat lunak open source dengan distribusi gratis (atau shareware), tetapi di sepanjang jalur komersial. <br><br>  Flussonic sendiri, pada saat kami akan beralih ke sana, sudah ada selama sekitar tiga tahun.  Pada awalnya, ia memiliki kode sumber terbuka, didistribusikan secara gratis, dan programmer mendapatkan uang hanya atas dukungannya.  Pengembangannya tidak stabil, karena pengguna tidak melaporkan bug, itu tidak menarik bagi pengembang pihak ketiga untuk berpartisipasi dalam pengembangan proyek, ada sedikit uang dari dukungan.  Kemudian kode diputuskan untuk ditutup, membuat perusahaan Erlivideo dan mulai mengembangkan produk komersial.  Dan di suatu tempat di tahun setelah penciptaan perusahaan, kami mulai bekerja dengan mereka. <br><br>  Kami adalah tempat uji coba untuk mereka, sebuah basis eksperimental, kami berbagi masalah dengan mereka, menawarkan fitur.  Salah satu hal penting yang kami dapatkan dari mereka adalah pemain yang ditulis khusus untuk mesin mereka.  Poin penting adalah bahwa kedua bagian ini - kernel dan klien - ditulis oleh pengembang yang sama, bahkan jika masalah muncul, mereka sangat cepat diperbaiki.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Erlivideo</a> telah tumbuh banyak selama ini, telah menjadi terkenal di industri IPTV, dan sekarang pada versi kelima kami semuanya telah bekerja secara stabil selama lebih dari setahun tanpa gangguan. <br><br>  <b>Uang: apa yang harus dibelanjakan dan cara menghasilkan uang</b> <br><br>  Setelah bertahun-tahun bekerja, situs tersebut menjadi sangat terkenal, populer, itu sendiri telah menjadi model untuk sumber daya tersebut.  Kami secara berkala dihubungi untuk membeli solusi lengkap.  Kami tahu berapa biaya keputusan ini hari ini, dengan mempertimbangkan pengalaman kami dan kesalahan yang dibuat.  Secara umum, bagian server adalah sekitar 1 000 000 rubel, setiap aplikasi seluler adalah 500 000 - 600 000 rubel.  Jumlah pembeli potensial ini menakutkan, mereka mengharapkan maksimum 100.000 - 200.000 rubel untuk semuanya.  Ketika kita mulai melukis komponen perangkat lunak, biaya solusi tertentu, orang-orang bingung: misalnya, mengapa menghabiskan uang untuk menulis modul yang ada analog gratis di perpustakaan open source.  Ya, hanya untuk membuatnya bekerja lebih baik! <br><br><img src="https://habrastorage.org/webt/qp/ib/q2/qpibq2cjozcttlpkycr4anjeohk.jpeg" alt="gambar"><br><br>  Ini adalah contoh, tugas sederhana - untuk mengambil aliran dari kamera dan mendistribusikannya ke sejumlah besar pelanggan, hanya untuk melipatgandakannya tanpa mengubahnya.  Untuk solusi gratis dari pustaka ffmpeg open source, ketika aliran dari sumber terganggu, seluruh proses berhenti dan harus dimulai ulang secara manual.  Bayangkan ada lebih dari tiga ratus kamera di jaringan, jaringan yang agak besar, sesuatu terus-menerus terjadi - di suatu tempat di kamera daya akan gagal, di suatu tempat antara server dan kamera, koneksi akan terputus dan layanan hanya berhenti.  Lebih mudah membayar uang untuk solusi berbayar yang dapat memantau kondisi dan memulai kembali jika perlu, daripada menggunakan solusi gratis, tetapi memantau dan memulai kembali secara manual. <br><br>  Secara umum, menurut perkiraan kami, biaya pengembangan perangkat lunak berjumlah sekitar 40% dari semua biaya proyek.  60% sisanya adalah semua perangkat keras, termasuk kamera dan server, serta lisensi untuk aplikasi pihak ketiga yang digunakan. <br><br>  Kami menghabiskan banyak uang untuk proyek kami ini, dan secara umum, sekarang kami tidak akan menolak untuk entah bagaimana menghasilkan uang darinya.  Tetapi ini jelas bukan jalan monetisasi yang â€œlangsung di dahiâ€.  Setelah mempelajari sebagian besar model monetisasi, menjadi jelas bahwa mereka yang mendapatkan layanan secara langsung, memerlukan kerumitan tambahan dan umumnya tidak membayar.  Sekarang ada solusi teknis yang dapat dengan mudah mengintegrasikan iklan langsung ke aliran video.  Secara teknis, ini adalah solusi yang sangat baik, beban di server rendah, tidak mungkin untuk mem-bypass pemblokir iklan, dengan kehadiran kami dari 500.000 - 600.000 orang, audiens yang sangat besar akan menonton iklan video ini setiap bulan, tetapi membangun sistem penjualan di sini dan mengelola arus kas sangat mahal, dan kami tidak merencanakan monetisasi semacam itu. <br><br>  Jadi kami menggunakan model tidak langsung, terutama untuk mempromosikan bisnis operator inti kami.  Misalnya, ketika memasuki situs, kami menganalisis alamat IP pengunjung, dan kami menampilkan iklan layanan kami sendiri kepada penduduk setempat, tetapi tidak kepada klien kami.  Kami memberikan aliran untuk ditampilkan pada sumber daya web pihak ketiga sebagai ganti iklan kami dengan mereka.  Di saluran TV lokal, mereka bersedia menggunakan video dari kamera kami di blok berita utama dengan nama perusahaan kami.  Jaringan hotel klien kami menyiarkan aliran video dari kamera kami di TV mereka, menerima mereka sebagai saluran TV, bagi mereka itu adalah layanan gratis tambahan, sebuah chip untuk para tamu. <br><br>  Situs itu sendiri, dengan hampir 5 juta tampilan per bulan, kami gunakan sebagai platform periklanan, tetapi kami tidak menjual iklan - kami hanya menempatkan sendiri, atau klien legal kami, gratis, kami hanya meningkatkan loyalitas. <br><br>  Di masa depan, kami berencana untuk mematuhi garis strategis yang sama - metode monetisasi tidak langsung, layanan gratis untuk pengunjung. <br><br>  Kami menantikan pertanyaan, komentar, komentar, dan saran Anda mengenai artikel selanjutnya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id413929/">https://habr.com/ru/post/id413929/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id413917/index.html">Pemegang hak cipta percaya bahwa Yandex berkontribusi pada pertumbuhan pembajakan di negara ini</a></li>
<li><a href="../id413921/index.html">Bagaimana cara menyimpan proyek dari pound ekstra</a></li>
<li><a href="../id413923/index.html">Mungkin atmosfer masih bisa dibersihkan dari karbon dioksida</a></li>
<li><a href="../id413925/index.html">CVT untuk Moskvich</a></li>
<li><a href="../id413927/index.html">Digispark di Attiny85 - Menghubungkan di bawah Windows 10</a></li>
<li><a href="../id413931/index.html">Linux kernel 4.17 release: apa yang perlu Anda ketahui tentangnya</a></li>
<li><a href="../id413933/index.html">[KASUS] Bagaimana kami melakukan tata letak hangar untuk Boeing 747</a></li>
<li><a href="../id413935/index.html">Seberapa baik Anda tahu bash?</a></li>
<li><a href="../id413937/index.html">Kesalahpahaman programmer tentang pekerjaan</a></li>
<li><a href="../id413939/index.html">Reduksi jaringan saraf menggunakan optimasi variasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>