<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õ≥Ô∏è ü§µüèæ üîê Lokalisierung von Push-Nachrichten in mobilen Anwendungen üë®üèæ‚Äçüíª üì™ üçô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nachdem ich ein weiteres Backend-Projekt f√ºr mobile Anwendungen zur Unterst√ºtzung erhalten hatte, stie√ü ich leider auf die Tatsache, dass das Massenve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lokalisierung von Push-Nachrichten in mobilen Anwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472198/"> Nachdem ich ein weiteres Backend-Projekt f√ºr mobile Anwendungen zur Unterst√ºtzung erhalten hatte, stie√ü ich leider auf die Tatsache, dass das Massenversenden von Push-Nachrichten an Themen nicht lokalisiert ist.  Im Internet habe ich auch kein detailliertes Material zu diesem Thema gefunden.  Und alles, was ich gefunden habe, bezog sich auf die Lokalisierung auf der Client-Seite, und das ist nicht immer praktisch, weil  erfordert die Vorabbestimmung aller m√∂glichen Nachrichtenoptionen und das Erstellen von Ressourcendateien mit allen m√∂glichen √úbersetzungen. <br><br>  In meinem Beitrag werde ich Ihnen erkl√§ren, wie Sie Push-Nachrichten in Themen auf der Backend-Seite der mobilen Anwendung lokalisieren. <br><a name="habracut"></a><br>  In den Beispielen werde ich die firebase-admin-Bibliothek f√ºr node.js verwenden. <br><br>  Angenommen, wir m√ºssen eine Push-Nachricht senden, um Nachrichten in der Anwendung zu ver√∂ffentlichen.  Dies geschieht nat√ºrlich am besten √ºber das Thema.  Derzeit k√∂nnen Sie ein Ger√§t f√ºr ein Thema vom Server abonnieren: <br><br><pre><code class="javascript hljs">admin.messaging().subscribeToTopic(tokens, <span class="hljs-string"><span class="hljs-string">'news'</span></span>),</code> </pre> <br>  Sie haben das Ger√§t also f√ºr die Nachrichten abonniert.  Aber es gibt ein Problem.  Alle Clients, unabh√§ngig vom ausgew√§hlten Gebietsschema, erhalten denselben Push-Nachrichtentext.  Hier kann eine relativ neue Funktion von Firebase zur Rettung kommen - das Senden von Nachrichten mit Filtern. <br><br>  Es ist sehr einfach zu implementieren.  Wenn der Client das Anwendungsgebietsschema √§ndert, muss der Client das Thema mit dem neuen Gebietsschema abonnieren und (leider) das Thema mit dem vorherigen Gebietsschema abbestellen <br><br><pre> <code class="javascript hljs"> admin.messaging().subscribeToTopic(tokens, req.prams.lang), admin.messaging().unsubscribeFromTopic(user.lang), user.save({ <span class="hljs-attr"><span class="hljs-attr">lang</span></span>: req.prams.lang });</code> </pre><br>  Jetzt m√ºssen Sie nur noch Nachrichten mit den angegebenen Filtern an Themen senden: <br><br><pre> <code class="javascript hljs"> admin.messaging().send({ ...payloadRu, <span class="hljs-attr"><span class="hljs-attr">condition</span></span>: <span class="hljs-string"><span class="hljs-string">"'news' in topics &amp;&amp; 'ru' in topics"</span></span> }), admin.messaging().send({ ...payloadEs, <span class="hljs-attr"><span class="hljs-attr">condition</span></span>: <span class="hljs-string"><span class="hljs-string">"'news' in topics &amp;&amp; 'es' in topics"</span></span> }), admin.messaging().send({ ...payloadEn, <span class="hljs-attr"><span class="hljs-attr">condition</span></span>: <span class="hljs-string"><span class="hljs-string">"'news' in topics &amp;&amp; 'en' in topics"</span></span> }),</code> </pre><br>  Eine so einfache Nachricht stellte sich heraus, im Gegensatz zu dem, was ich tun muss, um das Projekt umzugestalten.  Weil eigentlich die Nachricht. <br><br>  apapacy@gmail.com <br>  20. Oktober 2019 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472198/">https://habr.com/ru/post/de472198/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472184/index.html">Remote SSH: Tipps und Tricks</a></li>
<li><a href="../de472186/index.html">Open-Closed-Prinzip</a></li>
<li><a href="../de472188/index.html">Was Sie √ºber die √úberpr√ºfung des App Store-Checks wissen m√ºssen (App Store-Quittung)</a></li>
<li><a href="../de472190/index.html">F√ºhren Sie PHP-Skripte √ºber php-fpm ohne Webserver aus. Oder Ihr FastCGI-Client (unter der Haube)</a></li>
<li><a href="../de472196/index.html">Selbst gemachter "Zucker" f√ºr ein Android-Projekt oder "Wie man es nicht macht"</a></li>
<li><a href="../de472200/index.html">Modernisierung des Informatikunterrichts an einer russischen Schule auf einer Himbeere: billig und fr√∂hlich</a></li>
<li><a href="../de472202/index.html">Windows 10 + Python = VS Code + WSL</a></li>
<li><a href="../de472204/index.html">Einfache Experimente mit dem Mikrocontroller STM32F103 (Blue Tablet)</a></li>
<li><a href="../de472208/index.html">OLED-Bildschirme von Android-Smartphones und wie man damit umgeht</a></li>
<li><a href="../de472210/index.html">"Es scheint, als w√§re das schon passiert?" Suchen Sie nach √§hnlichen Vorf√§llen und Anspr√ºchen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>