<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•á üöî ‚úâÔ∏è Recorriendo los centros de datos de Selectel. Dinosaur on Fire, VMware, C2F5H y el hombre lobo invisible üï• üë©‚Äçüéì üö±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El trabajo del administrador del sistema se basa en la creencia de que los ingenieros del centro de datos conocen su trabajo. Estamos construyendo cl√∫...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Recorriendo los centros de datos de Selectel. Dinosaur on Fire, VMware, C2F5H y el hombre lobo invisible</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/467595/"><p>  El trabajo del administrador del sistema se basa en la creencia de que los ingenieros del centro de datos conocen su trabajo.  Estamos construyendo cl√∫steres de conmutaci√≥n por error, pero ¬øcu√°nto costar√° esta conmutaci√≥n por error si se corta la luz?  ¬øQu√© diferencia hace qu√© tan r√°pido el servidor procesa la solicitud si el canal del centro de datos cae al punto de intercambio de tr√°fico?  ¬øC√≥mo elevar el servidor si est√° sobrecalentado f√≠sicamente? </p><br><p>  Y me gustar√≠a no creer, sino saber c√≥mo se crea exactamente la tolerancia a fallas a nivel de hierro.  ¬øDe d√≥nde provienen esos "nueve" equipos confiabilidad, de lo que estamos hablando al formular el SLA Kubernetesov.  Lo que sucede cuando un proyecto se quema en el verdadero sentido de la palabra. </p><br><p>  Tuvimos la suerte de caminar por el centro de datos Selectel en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tercer d√≠a de</a> Slurm DevOps, para ver el lugar sant√≠simo e incluso tomar algunas fotos para recordar.  Tambi√©n preguntamos sobre las leyendas de la compa√±√≠a que los empleados de Selectel nunca le cuentan a nadie.  Y result√≥ que ellos mismos no lo recuerdan. </p><br><p>  Nuestra compa√±√≠a de Southbridge ha estado asociada con Selectel por una asociaci√≥n de mucho tiempo.  Ahora apoyamos 58 proyectos alojados en los servidores del proveedor.  Cuando un cliente necesita un servidor ubicado en Rusia, recomendamos Selectel, porque por experiencia lo consideramos el proveedor m√°s confiable y conveniente de infraestructura de TI. </p><br><p>  Vamos! </p><br><p><img src="https://habrastorage.org/webt/et/-x/3u/et-x3u-sgwhiucedc_ujetvik6i.jpeg"></p><br><p><a name="habracut"></a>  Mientras sub√≠an al cuarto piso, los m√°s dif√≠ciles tomaron el elevador, los m√°s atl√©ticos subieron las escaleras, mis colegas de Southbridge me recordaron que definitivamente deber√≠a aprender sobre las leyendas de Selectel: sobre el hombre lobo, sobre el esp√≠ritu inquieto que deambulaba y aullaba cuando constru√≠a un nuevo centro de datos.  Siempre me ha interesado la mitolog√≠a de las grandes empresas, que permanecieron desde la etapa turbulenta del nacimiento y el primer crecimiento. </p><br><p>  Al principio, la compa√±√≠a ten√≠a un centro de datos en Flower 1 en San Petersburgo.  El centro de datos sirvi√≥ a la empresa Vkontakte.  Lo vimos desde la ventana cuando subimos al cuarto piso.  Una vez se detuvo en la modernizaci√≥n hace nueve o diez a√±os, y desde entonces ha estado trabajando continuamente.  En t√©rminos de confiabilidad, pertenece al Nivel II. </p><br><blockquote>  Informaci√≥n para consideraci√≥n (c) "Diecisiete momentos de la primavera": <br><br>  El indicador principal del centro de datos es la tolerancia a fallas.  Hay 4 categor√≠as en total, desde el Nivel I hasta el Nivel IV.  Pertenecer a una determinada categor√≠a indica el nivel de redundancia, seguridad f√≠sica y fiabilidad. <br><br>  Nivel I (Redundancia - N, tolerancia a fallas - 99.671%): no hay pisos elevados en el centro de datos, no hay fuentes de alimentaci√≥n de respaldo y fuentes de alimentaci√≥n ininterrumpida, y la infraestructura de ingenier√≠a no est√° reservada.  Durante una reparaci√≥n programada o de emergencia, el centro de datos se detiene. <br><br>  Nivel II (Redundancia - (N + 1), tolerancia a fallas - 99.749%) - hay un peque√±o nivel de redundancia, los pisos elevados y las fuentes de energ√≠a de respaldo est√°n montados en el centro de datos, el trabajo de reparaci√≥n hace que el centro de datos deje de funcionar, como en el Nivel I. <br><br>  Nivel III (Redundancia - 2N, tolerancia a fallas - 99.982%) - es posible realizar trabajos de reparaci√≥n (reemplazo de componentes del sistema, adici√≥n y eliminaci√≥n de equipos defectuosos) sin detener el centro de datos.  Todos los sistemas est√°n reservados, hay varios canales de distribuci√≥n de energ√≠a y enfriamiento. <br><br>  Nivel IV (Redundancia - 2 (N + 1), tolerancia a fallas - 99,995%) - se requiere doble redundancia y redundancia del sistema.  Es posible llevar a cabo cualquier trabajo sin detener el trabajo del centro de datos.  Los sistemas de ingenier√≠a tienen doble reserva, es decir, tanto el sistema primario como el secundario est√°n duplicados. </blockquote><p>  Delante de nosotros hab√≠a una rejilla potente, una puerta con cerradura electr√≥nica y un molinete de altura completa hecho de gruesos perfiles de metal.  Y detr√°s est√° el espacio del centro de datos en s√≠. </p><br><p><img src="https://habrastorage.org/webt/g5/fv/q2/g5fvq24979ggeco8uxza9mcmme0.jpeg"></p><br><p>  El centro de datos en el que nos ubicamos es m√°s nuevo que el centro de datos del vecindario: fue construido en 2015.  Y pertenece a la categor√≠a de Nivel III. </p><br><p>  Ahora Selectel tiene dos centros operativos en Tsvetochnaya, tres m√°s en Dubrovka, dos centros de datos en Mosc√∫, que se consideran como un centro de datos en la empresa.  Solo seis. </p><br><p>  El edificio tiene cuatro pisos.  Las oficinas est√°n ubicadas en el primer piso y algunos equipos est√°n ubicados.  El cuarto piso est√° parcialmente destinado a oficinas, pero la mayor parte est√° ocupado por locales t√©cnicos. </p><br><p>  Antes de que el proveedor ingresara aqu√≠, la producci√≥n se ubicaba en el edificio.  Los empleados del centro de datos por s√≠ mismos no recuerdan la producci√≥n de qu√© exactamente: pel√≠cula o ropa.  La compa√±√≠a compr√≥ el edificio para eliminar los riesgos de relaciones de propiedad complejas si el edificio es propiedad de un tercero. </p><br><p>  A pesar de que la producci√≥n sol√≠a ubicarse aqu√≠, hab√≠a m√°quinas herramientas y otra maquinaria pesada, Selectel fortaleci√≥ a√∫n m√°s los pisos.  Incluso en la sala de conferencias en la planta baja, donde se llevaron a cabo los intensos Slurm DevOps ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3</a> ), prestamos atenci√≥n a los soportes reforzados. </p><br><p>  Vamos al centro de datos solo en fundas de zapatos, la regla habitual para tales locales.  Para ponerse pl√°stico onuchi cuesta un "zapatero".  Estamos sinceramente imbuidos.  El asistente nos ofreci√≥ una opci√≥n: ponernos los zapatos nosotros mismos o confiar las extremidades al aparato glot√≥n. </p><br><p><img src="https://habrastorage.org/webt/xh/w9/bl/xhw9bldwiatymtgvt3y07g5vcja.jpeg"></p><br><p>  Nuestra elecci√≥n fue predecible.  Igor Olemsky, Director de Southbridge: <em>"Estamos a favor de la automatizaci√≥n"</em> .  Anton Tarasov, administrador de Southbridge: <em>"Si fuera as√≠ con los calcetines, ser√≠a la persona m√°s feliz del planeta"</em> . </p><br><p><img src="https://habrastorage.org/webt/td/1d/kc/td1dkcusvulev1zhgbzlarb3p6c.jpeg"></p><br><p>  Mientras usaban zapatos, los desarrolladores de Southbridge se preguntaban activamente d√≥nde est√°n los servidores VMware.  Todos estaban interesados ‚Äã‚Äãen ver en qu√© equipo funciona esta tecnolog√≠a. </p><br><p>  Tan pronto como ingresaron al √°rea t√©cnica, inmediatamente anunciaron las reglas: <em>"No comemos, no bebemos, no fumamos".</em>  <em>No ponemos nuestras manos en ning√∫n lado, en ning√∫n escudo, en ning√∫n estante, aire acondicionado, control remoto.</em>  <em>Mantenemos nuestras manos frente a nosotros, como un tiranosaurio ".</em> </p><br><p>  En el cuarto piso hay tres salas de servidores.  Todo el equipo est√° en el piso elevado.  Es necesario para que el aire fr√≠o fluya desde abajo, y tambi√©n que se puedan establecer comunicaciones que no necesiten acceso constante.  Estas son l√≠neas el√©ctricas y tuber√≠as de enfriamiento. </p><br><p><img src="https://habrastorage.org/webt/_e/py/bz/_epybz0xl7ov06ddi7t-wwd9gpy.jpeg"></p><br><p>  Tan pronto como entramos en la peque√±a sala de servidores, nos lleg√≥ un zumbido.  El personaje de la famosa caricatura con aserr√≠n en su cabeza seguramente dir√≠a: <em>"¬°Esto est√°</em> bien, bien, bien, <em>por una buena raz√≥n!"</em>  .  Como no est√°bamos acostumbrados, apenas nos escuchamos durante los primeros minutos.  Explicaciones de la gu√≠a, tambi√©n, apenas adivinado, tuve que acercarme. </p><br><p>  Alrededor hay bastidores, bastidores e incluso m√°s bastidores ... Est√°n alineados en filas estrictas.  En los centros de datos del servidor, nos encontramos con diferentes rangos: por 10 bastidores, 12, 20, 30. Dependiendo de la configuraci√≥n de la sala, el √°rea alquilada por el cliente y las tareas. </p><br><p><img src="https://habrastorage.org/webt/kv/oj/t1/kvojt1sqx1gtafoi8gxyvhsx_vw.jpeg"></p><br><p><img src="https://habrastorage.org/webt/9n/xc/hi/9nxchi5glp6dxyw5ayqkce_fqn4.jpeg"></p><br><p>  En el centro de datos en todas las salas de servidores del sistema de enfriamiento se ve as√≠: desde arriba y a los lados, el espacio refrigerado est√° limitado por la estructura del bastidor, la parte delantera est√° cerrada por puertas perforadas.  Los acondicionadores de aire conducen aire fr√≠o debajo del piso elevado, y el aire sube bajo presi√≥n a los estantes. </p><br><p><img src="https://habrastorage.org/webt/mc/zv/zd/mczvzddmlrtmq2snkbxihwdlofq.jpeg"></p><br><p>  Es suficiente ir entre las filas para sentir c√≥mo la temperatura del aire cae bruscamente en cinco grados, incluso puede sentir el l√≠mite de temperatura.  Las juntas en el piso elevado est√°n tan ajustadas que el aire acondicionado no tiene a d√≥nde ir, excepto por el camino especialmente provisto para el enfriamiento. </p><br><p>  En el propio servidor, la temperatura se mantiene en alg√∫n lugar alrededor de 22 ¬± 2 grados cent√≠grados.  En el corredor "fr√≠o", la temperatura puede bajar a 16-17 grados.  Hab√≠a dos corredores "fr√≠os" en la peque√±a sala de servidores.  En consecuencia, los corredores entre ellos se llaman "calientes".  Son un poco m√°s c√°lidos que la sala de servidores promedio: el aire pasa a trav√©s de los bastidores y se calienta desde el equipo. </p><br><p><img src="https://habrastorage.org/webt/hs/pi/ng/hspingxyerxazig-io7lnhwzz9o.jpeg"></p><br><p>  Hay bastidores para alquilar a los clientes.  Los ingenieros conectan la energ√≠a: el cliente llama con el equipo y hace lo que quiere, en el marco de las reglamentaciones y la legislaci√≥n.  Se pueden alquilar bastidores diferentes.  Hasta 47 unidades, mitad, cuatro secciones.  Est√°n f√≠sicamente separados: se utilizan diferentes cerraduras.  Puedes alquilar solo 10 unidades.  Qui√©n tiene muy poco equipo, esto ser√° suficiente.  En consecuencia, menos potencia, resulta m√°s barato. </p><br><p>  Si el cliente alquila, por ejemplo, un "cuarto" en la secci√≥n inferior y usted necesita tender el cable, ser√° atravesado por un canal de metal especial.  Y los clientes en las partes superiores del rack no tendr√°n acceso a las comunicaciones de otras personas de ninguna manera: ni a la alimentaci√≥n, ni al cobre, ni a la √≥ptica. </p><br><p>  En la sala de servidores hay aires acondicionados en la cantidad de tres piezas.  Solo dos de ellos trabajan.  Si se saca un acondicionador de aire para mantenimiento o si ocurre una falla, los ingenieros encender√°n el repuesto.  Este stock de reserva es un requisito de especificaci√≥n de Nivel III. </p><br><p>  Por ejemplo, hay fuentes de alimentaci√≥n ininterrumpida.  Hay un cierto n√∫mero de ellos, supongamos 12. Pero funciona 6. La sala de servidores puede funcionar durante una hora con bater√≠as si la electricidad deja de fluir al centro de datos.  Pero si 6 UPS se descomponen hipot√©ticamente, entonces los ingenieros encender√°n seis m√°s.  Siempre hay el doble de nodos en el centro de datos para mayor confiabilidad. </p><br><p><img src="https://habrastorage.org/webt/ri/ev/ru/rievruepdxllxdc9ytdvkd3-tpi.jpeg"></p><br><p>  Este centro de datos para el proyecto puede consumir hasta 10 MW.  Pero ahora solo hay 1.5.  Hasta el momento, solo el cuarto piso se utiliza para equipos: el segundo y el tercero en la etapa de construcci√≥n.  Y el cuarto todav√≠a no est√° completamente lleno: est√° dise√±ado para 250 bastidores y 200 est√°n ocupados. Hay espacio para crecer. </p><br><p>  En total, Selectel utiliza 14,4 MW en todos los centros de datos.  Un bastidor en funcionamiento 1.200. </p><br><p><img src="https://habrastorage.org/webt/z_/_2/y1/z__2y1kzee3uadth2jag55jj-z0.jpeg"></p><br><p>  Adem√°s de los bastidores principales, que se utilizan para diversos proyectos, principalmente para alquiler para clientes, los bastidores de servicio se encuentran en los bastidores del servidor, donde solo se instala el equipo Selectel.  Hay bastidores transversales para la conexi√≥n pasiva.  No tienen energ√≠a, solo fibra √≥ptica, para conectar equipos entre plataformas y entre habitaciones.  Cada sala de servidores tiene el mismo gabinete con cruces.  Cross puede ir a otra habitaci√≥n, a otra sala de servidores en la planta baja, tan pronto como se construye, puede ir a un centro de datos vecino o incluso a un centro de datos en Dubrovka. </p><br><p>  La compa√±√≠a tiene varias de esas fibras.  Si se interrumpe uno, el centro de datos comenzar√° a funcionar en el otro sin pausa.  Todos los caminos que se trazan siempre est√°n reservados. </p><br><p>  Si van a hacer una conexi√≥n entre este centro de datos y el vecino, los ingenieros conducir√°n un enlace a trav√©s del cruce a trav√©s del aire entre los centros de datos, y el segundo enlace conducir√° a trav√©s de la alcantarilla a trav√©s de otro cruce.  Y pase lo que pase, siempre habr√° un canal de respaldo. </p><br><p>  Como hay muchos equipos en el centro de datos, los empleados controlan estrictamente la seguridad contra incendios.  El centro de datos tiene varios escenarios para lidiar con incendios.  Selectel tiene extintores en todas las habitaciones, tanto de oficina como t√©cnicas.  Y las personas est√°n espec√≠ficamente capacitadas para trabajar con ellas.  Si el incendio es local, puede solucionarlo usted mismo. </p><br><p><img src="https://habrastorage.org/webt/v5/st/g1/v5stg1m9rpz4yflho9iyhuha-zq.jpeg"></p><br><p>  Pero si se quema fuertemente, por ejemplo, la fuente de alimentaci√≥n en el servidor o el circuito del compresor con aceite, los extintores no siempre pueden hacer frente.  Para tales casos, el centro de datos tiene una estaci√≥n de extinci√≥n de incendios de gas.  Desde all√≠, tuber√≠as amarillas corren por el techo hacia cada habitaci√≥n. </p><br><p>  En un incendio grave, todas las personas son sacadas de la sala de servidores.  Cerca de cada puerta hay un bot√≥n amarillo.  La puerta se cierra herm√©ticamente, se presiona un bot√≥n y se realiza una cuenta regresiva de 30 segundos.  Se suministra gas Hladon-125 - pentafluoroetano, f√≥rmula qu√≠mica C2F5H.  Inhibe el proceso de combusti√≥n, y el fuego se detiene inmediatamente.  Al extinguir un incendio en un centro de datos, no se utilizan l√≠quidos ni polvos porque arruinar√°n el equipo. </p><br><p>  En una gran sala de servidores se nos prohibi√≥ tomar fotos.  Porque dir√© de memoria lo que vieron.  En total, este centro de datos tiene un servidor peque√±o y dos grandes. </p><br><p>  La primera sala grande de servidores tiene un corredor "fr√≠o", que est√° hecho para proyectos Selectel y para alquiler de clientes.  Es mucho m√°s largo que en una peque√±a sala de servidores.  En algunos bastidores hay medidas de seguridad individuales: en uno de los bastidores notamos una cerradura electr√≥nica con un c√≥digo PIN y una c√°mara de video en la parte superior. </p><br><p>  Observamos c√≥mo se ve el servicio de "arrendamiento de espacio asignado" desde el interior.  Puede comprar cualquier cuadratura en el sitio, por supuesto, de la que est√° disponible.  Y el cliente all√≠ puede colocar cualquier bastidor y equipo que cumpla con los est√°ndares. </p><br><p>  Se examin√≥ un √°rea muy grande, que pertenece a un cliente, a trav√©s de la cerca.  Hab√≠a bastidores alemanes por pedido especial.  Tambi√©n hay un peque√±o almac√©n separado. </p><br><p>  Seg√∫n las historias de nuestra gu√≠a, este servicio no es necesariamente tan grande.  Puedes poner dos bastidores y rodear la jaula.  Y el acceso a ellos solo estar√° contigo.  Por lo general, tales requisitos surgen si se trata de un banco o un cliente que trabaja con instituciones financieras. </p><br><p><img src="https://habrastorage.org/webt/od/lt/dw/odltdwywqfp4eqbtvhschnqhtki.jpeg"></p><br><p>  Buscamos en los locales de la estaci√≥n de extinci√≥n de incendios.  Aqu√≠ es donde est√°n los cilindros con "Fre√≥n-125".  El equipo est√° configurado para que, dependiendo del tama√±o, se env√≠e gas de un cierto n√∫mero de cilindros a cada habitaci√≥n. </p><br><p><img src="https://habrastorage.org/webt/up/l4/y8/upl4y8xlmufs25jj2mptybnguok.jpeg"></p><br><p>  A la izquierda, a lo largo del corredor, hay una sala de paneles el√©ctricos.  Pero no tenemos acceso all√≠, en caso de que no realicen excursiones; de lo contrario, ser√° inc√≥modo y el olor no desaparecer√° durante mucho tiempo. </p><br><p>  Hay fuentes de alimentaci√≥n ininterrumpida y paneles.  Es en esta sala donde llega la comida para todo el edificio.  Y ya desde aqu√≠ hay un cableado en todas las habitaciones.  Las barras colectoras van a las salas de servidores, que se pueden ver debajo del techo en el pasillo. </p><br><p>  Se env√≠an dos conductos de bus a cada servidor.  Uno va debajo del techo, otro va debajo del piso elevado: as√≠ es como se cumple la condici√≥n de reserva.  Todo el edificio est√° alimentado por dos rayos de entrada de la planta de energ√≠a.  Si se desconecta una entrada, el centro de datos funcionar√° desde la segunda. </p><br><p><img src="https://habrastorage.org/webt/v0/i8/xl/v0i8xllconwsx3tdvawghjabuby.jpeg"></p><br><p>  Si se desconectan dos a la vez, todo el equipo pasa a bater√≠as recargables.  750 bater√≠as est√°n ubicadas en una habitaci√≥n especial.  Un poco m√°s all√° hay otra habitaci√≥n del mismo tipo, y hay muchas m√°s.  El centro de datos podr√° vivir en ellos durante 1-3 horas, dependiendo de la carga, pero solo toma 2 minutos cambiar a un motor diesel. </p><br><p>  En habitaciones separadas hay grupos electr√≥genos diesel gigantes.  Cada uno se encuentra en una plataforma de aproximadamente una rodilla de altura, como entend√≠ por las explicaciones, este es un tanque separado con combustible para cada motor diesel.  Adem√°s, en el centro de datos hay varios tanques que est√°n enterrados bajo tierra y est√°n dise√±ados para varias decenas de toneladas de combustible. </p><br><p>  A medida que el combustible se degrada, se reemplaza peri√≥dicamente.  Si el combustible se acaba en el tanque de diesel, la bomba bombea combustible desde los tanques.  Si de repente ocurre una molestia y la bomba se rompe, todav√≠a queda un repuesto. </p><br><p><img src="https://habrastorage.org/webt/wy/qk/b5/wyqkb5ukydrrvcoy0y993e187xc.jpeg"></p><br><p>  Absolutamente todos los sistemas est√°n duplicados: canales de comunicaci√≥n de Internet, refrigeraci√≥n, suministro de energ√≠a, sistemas de extinci√≥n de incendios de emergencia y suministro de energ√≠a alternativo. </p><br><p>  Hicimos una pregunta sobre los operadores de telecomunicaciones.  El ingeniero de la compa√±√≠a dijo que constantemente usan 5-6 operadores para enlaces ascendentes.  Y hay bastantes rutas.  Adem√°s, el proveedor tiene conexiones con casi todos los puntos de intercambio de tr√°fico en San Petersburgo y Mosc√∫.  En Mosc√∫, el m√°s grande es el M9.  Y en San Petersburgo - B18 y Kantemirovskaya. </p><br><p>  Si el combustible en los tanques subterr√°neos llega a su fin, se trae otro tanque.  Selectel tiene un contrato con una compa√±√≠a de combustible.  El centro de datos puede vivir infinitamente con diesel, es simplemente m√°s caro. </p><br><p>  Preguntamos c√≥mo funciona Selectel con el factor humano, porque es √©l el mayor peligro, y ninguna reserva ayudar√°. </p><br><p>  <em>- ¬øC√≥mo trabajas con errores humanos?</em> </p><br><p>  <em>- Intentamos no repetirlos.</em>  <em>Predecimos posibles errores.</em>  <em>Realizamos entrenamientos, ejercicios.</em>  <em>Por ejemplo, capacitaci√≥n para cambiar a un generador diesel: probamos personas, cambiamos a motores diesel en el proceso, a veces les transferimos toda la carga.</em>  <em>Adem√°s hay una base de conocimiento.</em> </p><br><p>  Llegamos a VMware.  En los servidores en la nube, solo se utilizan plataformas Intel, SSD de 2 terabytes.  Naturalmente, la reserva es para todo.  Por ejemplo, vimos de cerca: en cada servidor dos tarjetas de red, dos enlaces est√°n atascados en cada uno.  Un enlace va al interruptor que est√° en la parte superior, otro enlace va al interruptor del siguiente rack.  Se utilizan dos fuentes de alimentaci√≥n por m√≥dulo. </p><br><p><img src="https://habrastorage.org/webt/gi/yd/ln/giydlnddulqrqxsw24trqzcnx9q.jpeg"></p><br><p>  En el centro de datos, hay principalmente racks CMO rusos.  En los escritorios de los clientes en el √°rea alquilada hay diferentes soluciones. </p><br><p>  Un poco m√°s abajo, en el pasillo, desde la segunda gran sala de servidores vimos un ascensor.  Hay dos ascensores para equipos de elevaci√≥n: una tonelada y dos toneladas.  El √°rea de carga se realiza por separado: se encuentra al lado de la sala de conferencias en la planta baja. </p><br><p><img src="https://habrastorage.org/webt/kw/uc/by/kwucbyaj-uxeigawf49v4l1g-zk.jpeg"></p><br><p>  En la sala del ascensor vimos una caja "peque√±a" con un enrutador Juniper MX 2010. El sue√±o de cualquier administrador: tres fuentes de alimentaci√≥n de CA, 1 m√≥dulo RE (motor de enrutamiento): 1800x4 (CPU 1.8 GHz QuadCore, 16 GB RAM), 1 m√≥dulo SFB (Switch Fabric Board). </p><br><p>  Los colegas discutieron d√≥nde ponerlo.  Decidimos que en casa se ver√≠a mejor.  Ser√° posible distribuir wi-fi a los electrodom√©sticos.  Inc√≥modo y s√≥lido: un enrutador serio para administradores serios.  Y cuando te canses, puedes vender y comprar un apartamento en una gran ciudad. </p><br><p><img src="https://habrastorage.org/webt/uc/ha/4a/ucha4am84wzciwjota9xqoj8qos.jpeg"></p><br><p><img src="https://habrastorage.org/webt/fv/qd/k3/fvqdk3xdfks4ybfbw-748e44tti.jpeg"></p><br><p><img src="https://habrastorage.org/webt/xy/as/hm/xyashmekkf4k4sxney9u3uaoc4g.jpeg"></p><br><p>  Existe un modelo a√∫n m√°s grande, m√°s potente y productivo: el MX 2020. </p><br><p>  ¬øC√≥mo funciona el enrutador?  Los m√≥dulos, las tarjetas de l√≠nea se insertan en √©l, son inusualmente altos y muy estrechos.  Y estas tarjetas de l√≠nea son muy diferentes: pueden tener 8, 24, 48 puertos.  Los puertos pueden ser tanto "decenas" como "cien".  Dependiendo de cu√°les sean sus necesidades y qu√© oportunidades financieras. </p><br><p>  En el MX 2020 hay 32 ranuras para tarjetas de l√≠nea: 16 en la parte superior y 16 en la parte inferior.  Y, en t√©rminos relativos, si inserta 10 tarjetas de l√≠nea y cada una tiene 48 puertos, el resultado es 480 puertos.  Instalamos transceptores ‚Äúveinticinco‚Äù y multiplicamos 480 puertos por 25 gigabits.  Esta es una de las opciones.  Puedes poner "cientos". </p><br><p>  Cuando salieron de las instalaciones t√©cnicas, se demoraron un poco en el "punto de merienda", donde los ingenieros de Selectel recuperaron fuerzas por la noche.  Preguntaron si las cafeteras de la categor√≠a Tier III estaban duplicadas en el centro de datos.  Dos cafeteras en cada punto: cada una tiene dos fuentes de alimentaci√≥n ... y as√≠ sucesivamente. </p><br><p><img src="https://habrastorage.org/webt/oh/0i/ui/oh0iuimcg6oyeaqchltpsbcsz50.jpeg"></p><br><p>  Igor Olemsky pregunt√≥: </p><br><p> <em>‚Äî           -?</em> </p><br><p> <em>‚Äî    .    . ,  ,   ,   .   .        ‚Äî  , .  -    .      ,  .        ‚Äî   ,    ,  .</em> </p><br><p>    ,      DCIM (Data Center Infrastructure Management).  ,       -,      .   ,  , , , . </p><br><p>  ,     Selectel,       ‚Äî   ,       ,     : <em>" 6 -     40 000 "</em> . </p><br><p>     -  ‚Äî     ,      .   ,   ,    . </p><br><p><img src="https://habrastorage.org/webt/rh/sk/r1/rhskr1wkkrmeep1xomaquaqdj3e.jpeg"></p><br><p>   ,     .         ,     ,     -.  - ,       ,     . </p><br><p>       .  - ,     . </p><br><p><img src="https://habrastorage.org/webt/jx/gl/p9/jxglp9-yugaigfy4oalonk4mq9o.jpeg"></p><br><p><img src="https://habrastorage.org/webt/mh/wp/h6/mhwph6xsq_m6tstxj_lo3plfg7k.jpeg"></p><br><p>  ,  ,       -  .     . </p><br><p> <em>‚Äî  - ?</em> <br> <em>‚Äî  , ‚Äî    Selectel.</em> <br> <em>‚Äî  -  ,    .</em> <br> <em>‚Äî   .</em> <br> <em>‚Äî   .</em> </p><br><p>          . </p><br><p>         .      .  ,     ,           ,    .   ,  Selectel.        -. </p><br><p><img src="https://habrastorage.org/webt/vd/zl/ys/vdzlys2qwpw670sxo7crisn1_9q.jpeg"></p><br><p>     ,    Selectel     ,   : </p><br><p> <em>‚Äî    ,  ,     ?</em> <br> <em>‚Äî  .  , ‚Äî   .</em> </p><br><p>    ,  -    .   ,   ,  ,     8 .    .   - ,  Selectel  , ,  ,  ,    ,   . </p><br><p>       ,      .       ‚Äî    .   ,       -         .    .      .      ,      ,   .          .   . </p><br><p>      Selectel,       ‚Äî   ,      ,   ,      . ,   ,   -,      : , ,   . </p><br><p>   . </p><br><p> <em>‚Äî      ? , -            ? ,         ?</em> </p><br><p> <em>‚Äî  ,   ‚Äî    ,       .   ,      .</em> </p><br><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A juzgar por las respuestas evasivas, el tema del hombre lobo Seltekelovsky est√° cubierto en la oscuridad de la NDA. </font><font style="vertical-align: inherit;">Nunca descubrimos si existe, pero miramos el centro de datos desde adentro.</font></font></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/467595/">https://habr.com/ru/post/467595/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../467583/index.html">Gerente de licencias de LMTOOLS. Listado de licencias para usuarios de productos de Autodesk</a></li>
<li><a href="../467587/index.html">Todo el contenido √∫til de Wi-Fi en un solo lugar</a></li>
<li><a href="../467589/index.html">Lo que necesitas saber sobre GDPR en 2019</a></li>
<li><a href="../467591/index.html">La nueva prueba resuelve la aproximaci√≥n de n√∫meros como pi</a></li>
<li><a href="../467593/index.html">(No relevante, reparado) Nota. C√≥mo Tele2 comparte el acceso a la cuenta personal de los nuevos suscriptores</a></li>
<li><a href="../467597/index.html">Personalizaci√≥n de pautas de productos de Big Data con Vowpal Wabbit</a></li>
<li><a href="../467599/index.html">Representaci√≥n de gr√°ficos en 3D con OpenGL</a></li>
<li><a href="../467605/index.html">Todo lo que necesitas es URL</a></li>
<li><a href="../467607/index.html">Confesi√≥n del enemigo del estibador</a></li>
<li><a href="../467609/index.html">Crear una aplicaci√≥n m√≥vil en React Native</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>