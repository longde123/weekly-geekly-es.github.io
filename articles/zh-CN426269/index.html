<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€ğŸ­ ğŸŒ¹ ğŸ›ï¸ é€‚ç”¨äºå„ç§é¥®é£Ÿçš„python kivyåº”ç”¨ç¨‹åºã€‚ ä»ä»£ç åˆ°æ¥æ”¶é€‚ç”¨äºAndroidçš„.apkæ–‡ä»¶ ğŸ¤™ğŸ¼ ğŸ†” ğŸ¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘å­¦ä¹ äº†python kivyï¼Œå¹¶å†³å®šè‡ªå·±ç¼–å†™ä¸€ä¸ªå°åº”ç”¨ç¨‹åºä»¥ä½¿é¥®é£Ÿå¤šæ ·åŒ–ã€‚ æˆ‘å†³å®šåˆ†äº«ã€‚ æœ¬æ–‡ä¾›æ–°æ‰‹ä½¿ç”¨ã€‚ è¯¥åº”ç”¨ç¨‹åºéœ€è¦å¤§çº¦100è¡Œä»£ç ã€‚ 

 åˆ›å»ºè‡ªè¡Œè½¦åº”ç”¨ç¨‹åºçš„ç›®çš„ï¼š 



1. é¿å…åœ¨é£Ÿç‰©ä¸­é¢‘ç¹é‡å¤ã€‚ ä¸ºäº†ä¸ç»å¸¸åƒåŒä¸€é“èœã€‚ 
2. ä¸è¦å¿˜è®°æˆ‘åƒè¿‡çš„èœï¼Œç„¶åå¿˜è®°äº†ï¼Œè€Œä¸”å¤šå¹´æ¥æ²¡æœ‰å½’è¿˜å®ƒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>é€‚ç”¨äºå„ç§é¥®é£Ÿçš„python kivyåº”ç”¨ç¨‹åºã€‚ ä»ä»£ç åˆ°æ¥æ”¶é€‚ç”¨äºAndroidçš„.apkæ–‡ä»¶</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426269/"><img src="https://habrastorage.org/webt/un/qp/bb/unqpbbu0zqrbyug9_oyhmkxfkrc.jpeg"><br> æˆ‘å­¦ä¹ äº†python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">kivyï¼Œ</a>å¹¶å†³å®šè‡ªå·±ç¼–å†™ä¸€ä¸ªå°åº”ç”¨ç¨‹åºä»¥ä½¿é¥®é£Ÿå¤šæ ·åŒ–ã€‚ æˆ‘å†³å®šåˆ†äº«ã€‚ æœ¬æ–‡ä¾›æ–°æ‰‹ä½¿ç”¨ã€‚ è¯¥åº”ç”¨ç¨‹åºéœ€è¦å¤§çº¦100è¡Œä»£ç ã€‚ <br><br> åˆ›å»ºè‡ªè¡Œè½¦<s>åº”ç”¨ç¨‹åºçš„</s>ç›®çš„ï¼š <br><br><ol><li> é¿å…åœ¨é£Ÿç‰©ä¸­é¢‘ç¹é‡å¤ã€‚ ä¸ºäº†ä¸ç»å¸¸åƒåŒä¸€é“èœã€‚ </li><li> ä¸è¦å¿˜è®°æˆ‘åƒè¿‡çš„èœï¼Œç„¶åå¿˜è®°äº†ï¼Œè€Œä¸”å¤šå¹´æ¥æ²¡æœ‰å½’è¿˜å®ƒä»¬ï¼Œå› ä¸ºæˆ‘ä¸è®°å¾—è€ç”Ÿå¸¸è°ˆäº†ã€‚ å®ƒå‘ç”Ÿåœ¨æˆ‘èº«ä¸Šã€‚ </li></ol><a name="habracut"></a><br><h2>  <font color="#cc0000">å‰è¨€</font> </h2><br> æ‚¨æ— æ³•åœ¨ç®€ä»‹ä¸­é˜…è¯»ä»»ä½•æ­Œè¯ã€‚ <br><br> æˆ‘ä¸å¾—ä¸ä½åœ¨ä¸€ä¸ªå›½å®¶çš„ä¸€é—´æ—…é¦†é‡Œï¼Œåœ¨é‚£é‡Œæ¯å¤©åƒé¸¡è›‹ä½œä¸ºæ—©é¤ï¼Œä»…æ­¤ä¸€ä¸ªæœˆï¼Œæ‰€ä»¥ä¸€ä¸ªæœˆåæˆ‘å¼€å§‹å‘ç—’ã€‚ ä»–å¯»æ±‚åŒ»ç–—å¸®åŠ©ï¼Œå°½ç®¡ä»–ä»¥å‰ä»æœªé­å—è¿‡ç±»ä¼¼çš„ç—›è‹¦ã€‚ åœ¨ç»å†è¿‡ç—›è‹¦çš„æ•™è®­ä¹‹åï¼Œä»–å†³å®šè‡ªå·±å°½é‡å‡å°‘é£Ÿç‰©çš„é‡å¤ï¼Œä»¥ä½¿ä½“å†…ä¸ä¼šç§¯èšä»»ä½•ä¸œè¥¿ã€‚ æˆ‘åªæ˜¯å‘Šè¯‰æˆ‘ï¼Œè¿™æ˜¯æˆ‘çš„ä¸ªäººç»å†ï¼Œæ²¡æœ‰å¼ºåŠ äºäººã€‚ ä¹Ÿè®¸æ²¡æœ‰è§„åˆ™æ— ä¸€â€‹â€‹ä¾‹å¤–ï¼Œå‡ åå¹´æ¥æ¯å¤©éƒ½å¯ä»¥é£Ÿç”¨ç‡•éº¦ç‰‡ã€‚ <br><br><h2>  <font color="#cc0000">å±å¹•æˆªå›¾</font> </h2><br><img src="https://habrastorage.org/webt/ub/o4/l2/ubo4l2ajlvsmzdaaqoiohlje7vw.png"><br><br> å‡è®¾æˆ‘çš„é¥®é£ŸåŒ…æ‹¬50é“èœã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»Šå¤©åƒäº†ä¸€ä¸ªç…è›‹å·ã€‚ æˆ‘å•å‡»æŒ‰é’®ï¼Œç„¶åç…è›‹æ’åœ¨ç¬¬50è¡Œï¼Œå¹¶ä¸”åœ¨å®ƒçš„å‰é¢æœ‰49ç§æˆ‘å°†è¦åƒçš„èœï¼Œä»¥ä¾¿å†æ¬¡åˆ°è¾¾ç…è›‹ã€‚ è¿™å°±æ˜¯åº”ç”¨ç¨‹åºçš„å…¨éƒ¨é€»è¾‘ã€‚  ï¼ˆåœ¨å±å¹•æˆªå›¾ä¸­ï¼Œèœè‚´æ˜¯ç…®ç†Ÿçš„ï¼Œæ‰€æœ‰å·§åˆéƒ½æ˜¯éšæœºçš„ï¼Œä¸æˆ‘çš„å®é™…é¥®é£Ÿæ— å…³ï¼‰ã€‚ <br><br><h2>  <font color="#cc0000">æºä»£ç å’Œè¯´æ˜</font> </h2><br>  <b>main.py</b> <br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.button <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ScreenManager, Screen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.recycleview <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RecycleView <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.gridlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GridLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.core.window <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Window <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.textinput <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TextInput <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.label <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Label <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dp <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ast <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(MenuScreen, self).__init__(**kw) box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">'    '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'add_food'</span></span>))) self.add_widget(box) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortedListFood</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(SortedListFood, self).__init__(**kw) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_enter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#       self.layout = GridLayout(cols=1, spacing=10, size_hint_y=None) self.layout.bind(minimum_height=self.layout.setter('height')) back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) self.layout.add_widget(back_button) root = RecycleView(size_hint=(1, None), size=(Window.width, Window.height)) root.add_widget(self.layout) self.add_widget(root) dic_foods = ast.literal_eval( App.get_running_app().config.get('General', 'user_data')) for f, d in sorted(dic_foods.items(), key=lambda x: x[1]): fd = f.decode('u8') + ' ' + (datetime.fromtimestamp(d).strftime('%Y-%m-%d')) btn = Button(text=fd, size_hint_y=None, height=dp(40)) self.layout.add_widget(btn) def on_leave(self): #       self.layout.clear_widgets() #   class AddFood(Screen): def buttonClicked(self, btn1): if not self.txt1.text: return self.app = App.get_running_app() self.app.user_data = ast.literal_eval( self.app.config.get('General', 'user_data')) self.app.user_data[self.txt1.text.encode('u8')] = int(time.time()) self.app.config.set('General', 'user_data', self.app.user_data) self.app.config.write() text = "  : " + self.txt1.text self.result.text = text self.txt1.text = '' def __init__(self, **kw): super(AddFood, self).__init__(**kw) box = BoxLayout(orientation='vertical') back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) box.add_widget(back_button) self.txt1 = TextInput(text='', multiline=False, height=dp(40), size_hint_y=None, hint_text=" ") box.add_widget(self.txt1) btn1 = Button(text=" ", size_hint_y=None, height=dp(40)) btn1.bind(on_press=self.buttonClicked) box.add_widget(btn1) self.result = Label(text='') box.add_widget(self.result) self.add_widget(box) def set_screen(name_screen): sm.current = name_screen sm = ScreenManager() sm.add_widget(MenuScreen(name='menu')) sm.add_widget(SortedListFood(name='list_food')) sm.add_widget(AddFood(name='add_food')) class FoodOptionsApp(App): def __init__(self, **kvargs): super(FoodOptionsApp, self).__init__(**kvargs) self.config = ConfigParser() def build_config(self, config): config.adddefaultsection('General') config.setdefault('General', 'user_data', '{}') def set_value_from_config(self): self.config.read(os.path.join(self.directory, '%(appname)s.ini')) self.user_data = ast.literal_eval(self.config.get( 'General', 'user_data')) def get_application_config(self): return super(FoodOptionsApp, self).get_application_config( '{}/%(appname)s.ini'.format(self.directory)) def build(self): return sm if __name__ == '__main__': FoodOptionsApp().run()</span></span></code> </pre> <br> æˆ‘æ•…æ„ä¸ä½¿ç”¨kvæ–‡ä»¶ï¼Œå› ä¸ºè¯¥ä»£ç æ˜¯å‡ºäºæ•™è‚²ç›®çš„è€Œæä¾›çš„ï¼Œä»…ä¾›ç†Ÿæ‚‰pythonçš„äººä½¿ç”¨ã€‚ ä¸€åˆ‡éƒ½ç”¨è£¸pythonç¼–å†™ã€‚ åœ¨è§£é‡Šä¸­ï¼Œæˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»pythonä»£ç ï¼Œè€Œæ˜¯ç«‹å³ç€æ‰‹Kivyçš„ç‰¹å®šåŠŸèƒ½ã€‚ <br><br> å‡ºå‘ï¼š <br><br><ul><li><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span></code> </pre> <br> è¯¥ç±»è´Ÿè´£å¯åŠ¨åº”ç”¨ç¨‹åºçš„èµ·å§‹é¡µï¼Œå®ƒå¯ä»¥ç§°ä¸ºä»»ä½•åç§°ï¼Œä¾‹å¦‚StartScreenã€‚ å¹¶ç»§æ‰¿äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">kivy Screenæ¨¡å—</a> ã€‚ è¯¥åº”ç”¨ç¨‹åºåŒ…å«3ä¸ªçª—å£ï¼Œè¿™äº›çª—å£æ˜¯ä½¿ç”¨æ­¤æ¨¡å—åˆ›å»ºçš„ </li><li><pre> <code class="python hljs">box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">BoxLayout</a>å°†å±å¹•åˆ†ä¸ºç›¸ç­‰çš„éƒ¨åˆ†ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºæ°´å¹³ï¼Œæˆ‘å†™äº†direction ='vertical'æ¥å‚ç›´åˆ†å‰² </li><li><pre> <code class="python hljs">Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">æŒ‰é’®</a> -åˆ›å»ºæŒ‰é’®ï¼Œon_pressè®¾ç½®æŒ‰ä¸‹æ—¶å°†å¯åŠ¨çš„åŠŸèƒ½ã€‚ <br></li><li><pre> <code class="python hljs">.add_widget()</code> </pre>  -å°†æŒ‰é’®æ·»åŠ åˆ°å›¾å±‚å’Œçª—å£ </li><li><pre> <code class="python hljs">self.layout = GridLayout(cols=<span class="hljs-number"><span class="hljs-number">1</span></span>, spacing=<span class="hljs-number"><span class="hljs-number">10</span></span>, size_hint_y=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Grid Layout</a>æœ‰ç‚¹è®©äººè”æƒ³åˆ°htmlä¸­çš„tableæ ‡è®°ï¼Œå®ƒæŒ‡ç¤ºcols-åˆ—æˆ–è¡Œæ•°-è¡Œæ•°ã€‚ <br><br> æ‚¨å¯ä»¥æŒ‡å®šä¸¤ä¸ªå‚æ•°æˆ–ä¸€ä¸ªå‚æ•°ã€‚ <br> å±å¹•å°†è¢«åˆ’åˆ†ä¸ºæ‰€éœ€çš„æ‰˜æ¶æ•°é‡ã€‚ <br></li><li><pre> <code class="python hljs">root = RecycleView(size_hint=(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), size=(Window.width, Window.height))</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">RecycleView-</a>ç”¨äºåœ¨æˆ‘çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºå‚ç›´æ»šåŠ¨çš„æ¨¡å—ã€‚  RecycleViewçš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ä½¿ç”¨ç›¸åŒå®½åº¦å’Œé«˜åº¦çš„å…ƒç´ æ„å»ºæ»šåŠ¨ã€‚ è€Œä¸”å®ƒè¿è¡Œå¾ˆå¿«ã€‚ å¹¶ä¸”æœ‰ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ScrollView</a>æ¨¡å—ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸åŒå¤§å°çš„å…ƒç´ æ¥æ„å»ºæ»šåŠ¨ï¼Œä½†æ˜¯å®ƒæ¯”RecycleViewæ…¢ <br></li><li><pre> <code class="python hljs">config.get(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, <span class="hljs-string"><span class="hljs-string">'user_data'</span></span>)</code> </pre>  -åœ¨ä»£ç ä¸­ç»å¸¸å‘ç°è¿™æ ·çš„è¡Œã€‚ æˆ‘åªæ˜¯å°†æœ¬æœº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Config kivy</a>å­˜å‚¨åº“ç”¨ä½œæ•°æ®å­˜å‚¨ã€‚ å¥½å§ï¼Œè®©å®ƒæœ‰å‡ åƒä¸ªèœï¼Œç”¨sqliteä¹‹ç±»çš„ä¸œè¥¿å›´èµ·æ¥çš„èŠ±å›­æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ å¦‚æœæ‚¨åƒæˆ‘çš„ä»£ç ä¸­é‚£æ ·æŒ‡å®šself.directoryï¼Œåˆ™æ­¤æ–‡ä»¶ä¸åº”ç”¨ç¨‹åºæœ¬èº«å­˜å‚¨åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­ï¼Œä½†æ˜¯å¯ä»¥æŒ‡å®š<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">self.user_data_dirï¼Œ</a>ä»¥ä¾¿åœ¨æ’åˆ—æˆ–æ›´æ–°è¿‡ç¨‹ä¸­ä¸ä¼šç ´åè¯¥æ–‡ä»¶ã€‚ </li></ul><br><h2>  <font color="#cc0000">åœ¨Windowsï¼ŒLinuxå’ŒMacOSä¸Šè¿è¡Œ</font> </h2><br> æ‰€æœ‰æ“ä½œç³»ç»Ÿçš„åŸç†éƒ½ç›¸åŒï¼š <br><br><ol><li> æˆ‘ä»¬æŠŠpython3 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">æˆ‘ä»¬æŠŠçŒ•çŒ´æ¡ƒ</a> </li><li> æˆ‘ä»¬åˆ›å»ºmain.pyæ–‡ä»¶ï¼Œå¹¶å°†ä¸Šé¢çš„å…¨éƒ¨ä»£ç ç²˜è´´åˆ°å…¶ä¸­ </li><li> ç”±å›¢é˜Ÿç»è¥ <br><br><pre> <code class="python hljs">python3 main.py</code> </pre> </li></ol><br> è¯¥ç¨‹åºåº”è¯¥å¯ä»¥å·¥ä½œã€‚ <br><br><h2>  <font color="#cc0000">ç”Ÿæˆapkæ–‡ä»¶å¹¶åœ¨Androidæ‰‹æœºä¸Šè¿è¡Œ</font> </h2><br> å› æ­¤ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨pythonç¼–å†™çš„ç¨‹åºä»£ç æ–‡ä»¶ã€‚ ç°åœ¨å¦‚ä½•åˆ›å»ºåº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿å¯ä»¥åœ¨å…·æœ‰Androidçš„æ‰‹æœºä¸Šå¯åŠ¨è¯¥åº”ç”¨ç¨‹åºï¼Ÿ ä»¥å‰ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“å¤æ‚çš„è¿‡ç¨‹ï¼Œéœ€è¦æŠ€å·§å’Œæ‰‹é¼“è·³èˆã€‚ ç°åœ¨è¿™ä¸æ˜¯é—®é¢˜ã€‚ <br> ä»¥ä¸‹æ˜¯åˆ†æ­¥è¯´æ˜ï¼š <br><br><ol><li> ä»å¥‡å¼‚çš„å¼€å‘è€…é‚£é‡Œä¸‹è½½ä¸€ä¸ªç°æˆçš„è™šæ‹Ÿæœºï¼Œå…¶ä¸­å·²ç»é…ç½®äº†æ‰€æœ‰ä¸œè¥¿ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">https://github.com/Zen-CODE/kivybits/blob/master/KivyCompleteVM/ReadMe.txt</a> ã€‚ å¯†ç ï¼škivy <br></li><li> æˆ‘ä»¬åœ¨Virtual Boxä¸­å¯åŠ¨å®ƒã€‚ </li><li> æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    python-for-android cd /home/kivy/Repos rm -fr python-for-android/ git clone https://github.com/kivy/python-for-android.git cd ~ mkdir Project cd Project git clone https://github.com/Alexmod/FoodOptions.git cd FoodOptions buildozer android debug #        100500  , #       .</span></span></code> </pre></li><li> æœ€åä¸€æ¡å‘½ä»¤åœ¨åŒä¸€ç›®å½•ä¸­åˆ›å»ºbinæ–‡ä»¶å¤¹ï¼Œåœ¨binä¸­ï¼Œæ‚¨å°†æ‰¾åˆ°foodfoods-0.1-debug.apkæ–‡ä»¶ï¼Œæ‚¨å¯ä»¥å°†è¯¥æ–‡ä»¶ä¸Šä¼ åˆ°æ‰‹æœºä¸Šï¼Œå®‰è£…å¹¶äº«ç”¨è¯¥åº”ç”¨ç¨‹åº </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/nq/la/conqla41ldeuegbg4lwlbqztwqc.png"></div><br>  <b>å¦‚ä½•å°†apkæ–‡ä»¶ä¸Šä¼ åˆ°æ‰‹æœºï¼Ÿ</b> <br><br> å½“ç„¶ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ“ä½œï¼Œé€šè¿‡é‚®ä»¶å‘é€ï¼Œå°†å…¶æ”¾ç½®åœ¨æŸå¤„ï¼Œä»¥ç”µæŠ¥å½¢å¼æ”¾ç½®ï¼Œç­‰ç­‰ï¼Œç„¶åå°†åº”ç”¨ç¨‹åºä¸‹è½½åˆ°æ‰‹æœºä¸Šã€‚ <br><br> ä½†æ˜¯æœ‰ä¸€ä¸ªä¸“é—¨çš„å·¥å…·å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ æˆ‘ä»¬æ‰“å¼€æ‰‹æœºä¸Šçš„å¼€å‘äººå‘˜æ¨¡å¼ï¼Œç„¶åç”¨USBç”µç¼†è¿æ¥å®ƒã€‚ è™šæ‹Ÿæœºåº”æ˜¾ç¤ºæ‚¨å·²è¿æ¥ç”µè¯ã€‚ æ¥ä¸‹æ¥ï¼Œå®‰è£…adbï¼š <br><br><pre> <code class="bash hljs">sudo apt install adb</code> </pre> <br> å®‰è£…åï¼Œè½¬åˆ°binæ–‡ä»¶å¤¹å¹¶è¾“å…¥å‘½ä»¤ <br><br><pre> <code class="bash hljs">adb install -r foodoptions-0.1-debug.apk</code> </pre> <br> æ‚¨ä¼šåœ¨å¤§çº¦ä¸€åˆ†é’Ÿååœ¨æ‰‹æœºä¸Šçœ‹åˆ°è¯¥åº”ç”¨ç¨‹åº <br> åœ¨æ§åˆ¶å°ä¸­æˆåŠŸã€‚ <br><br><pre> <code class="bash hljs">kivy@kivy-complete:~/Project/FoodOptions/bin$ adb install -r foodoptions-0.1-debug.apk 342 KB/s (10083019 bytes <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 28.730s) Success kivy@kivy-complete:~/Project/FoodOptions/bin$</code> </pre><br> å¦‚æœåº”ç”¨ç¨‹åºçªç„¶å´©æºƒæˆ–æ— æ³•æŒ‰é¢„æœŸè¿è¡Œï¼Œåˆ™å­˜åœ¨ç”¨äºæŸ¥çœ‹é”™è¯¯çš„å‘½ä»¤ <br><br><pre> <code class="bash hljs">adb logcat| grep python</code> </pre> <br>  <b>ä¿„è¯­åº”ç”¨åç§°</b> <br><br> å¦‚æœè¦ç”¨ä¿„è¯­ï¼ˆä¾‹å¦‚â€œ Food Diaryâ€ï¼‰æ¥è°ƒç”¨åº”ç”¨ç¨‹åºï¼Œåˆ™éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼š <br><br><pre> <code class="plaintext hljs">.buildozer/android/platform/build/dists/foodoptions/templates/strings.tmpl.xml</code> </pre><br> åº”ç”¨ç¨‹åºçš„ä¿„è¯­åç§°å†™åœ¨appNameæ ‡è®°ä¸­ï¼Œæ­¤æ–‡ä»¶å¤¹æ˜¯åœ¨buildozer android debugé¦–æ¬¡å¯åŠ¨ååˆ›å»ºçš„ã€‚ ç¼–è¾‘å®Œæ–‡ä»¶åï¼Œè¿”å›FoodOptionsæ–‡ä»¶å¤¹å¹¶å†æ¬¡è¿è¡Œbuildozer android debugã€‚ è¯¥æ–‡ä»¶å°†ä»¥æ–°çš„æ–¹å¼è¿›è¡Œç»„è£…ã€‚ åœ¨æ‰‹æœºä¸Šå®‰è£…åï¼Œç¨‹åºåç§°å°†ä»¥ä¿„è¯­ä¹¦å†™ã€‚ <br><br>  <b>å…³äºbuildozer.specæ–‡ä»¶</b> <br><br> è¿™æ˜¯æˆ‘çš„githubæ–‡ä»¶ï¼š <a href="" rel="nofollow">buildozer.spec</a> <br> è¯¥æ–‡ä»¶å‡†ç¡®å‘Šè¯‰buildozerå¦‚ä½•æ„å»ºè½¯ä»¶åŒ…ã€‚ <br><br> æœ‰è®¸å¤šä¸åŒçš„å˜åŒ–ã€‚ è°åœ¨ä¹ï¼Œç„¶ååœ¨è™šæ‹Ÿæœºå†…éƒ¨è¾“å…¥å‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp buildozer init</code> </pre><br> å°†åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„buildozer.specæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å¤§é‡æ³¨é‡Šå’Œè§£é‡Šã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ ä¸€äº›å›¾æ ‡ï¼Œè¯·åœ¨è¯¥è¡Œä¸­æŒ‡å‡ºï¼š <br><br><pre> <code class="bash hljs">icon.filename = %(source.dir)s/data/icon.png</code> </pre> <br> æ‚¨çš„æ–‡ä»¶å¸¦æœ‰å›¾æ ‡ã€‚ åº”ç”¨ç¨‹åºå°†å·²ç»ä¸æ‚¨çš„å›¾æ ‡ä¸€èµ·ç»„è£…ã€‚ <br><br> å¦‚æœæ‚¨éœ€è¦åŠ è½½æŸäº›ä¸å±äºå®˜æ–¹pythonåº“çš„ç‰¹å®šæ¨¡å—ï¼Œåˆ™å¯ä»¥åœ¨requirements =è¡Œä¸­å®Œæˆã€‚ é€šå¸¸ï¼Œå…³äºbuildozer.specæ–‡ä»¶çš„æ•…äº‹å¯èƒ½éœ€è¦æ•´ç¯‡ç”šè‡³ä¸¤ç¯‡ã€‚ <br><br>  <b>åœ¨Google Playä¸Šä¸‹è½½åº”ç”¨ç¨‹åº</b> <br><br> å¿…é¡»æ³¨å†Œï¼Œå®Œæˆæ‰€æœ‰ç¨‹åºï¼Œè·å–å¯†é’¥ã€‚ ç„¶åè¿è¡Œï¼š <br><br><pre> <code class="bash hljs">sudo apt install zipalign buildozer android release jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /path/keystore bin/apk-unsigned.apk apkname zipalign -v 4 bin/apk-apkname-unsigned.apk bin/apk-apkname-release.apk</code> </pre> <br> ç”Ÿæˆçš„æ–‡ä»¶apk-apkname-release.apkä¸Šä¼ åˆ°Google Playã€‚ <br><br><h2>  <font color="#cc0000">å‚è€ƒæ–‡çŒ®</font> </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">å…³äºkivyä¿„è¯­çš„è§†é¢‘æ•™ç¨‹</a> ã€‚ æˆ‘ä¸ªäººå¾ˆå–œæ¬¢ </li><li>  HeaTTheatRåœ¨æœ‰å…³hakiçš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">habr</a>ä¸Šçš„æ–‡ç« ï¼ˆå¹¶æ„Ÿè°¢ä»–çš„å¸®åŠ©ï¼ï¼‰ </li></ul><br> åŸåˆ™ä¸Šï¼Œä»»ä½•å¯ä»¥ä½¿ç”¨pythonç¼–ç¨‹çš„äººéƒ½å¯ä»¥æ›´æ”¹åº”ç”¨ç¨‹åºå¹¶è½»æ¾æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">æ·»åŠ è®¾è®¡</a>ä»¥ä½¿åº”ç”¨ç¾è§‚ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">ä½¿ç”¨kvæ–‡ä»¶å¯ç®€åŒ–</a>ä»£ç ã€‚ æˆ‘å¯ä»¥ä¸¾ä¸€ä¸ªç±»æ¯”ï¼šç†Ÿæ‚‰Webç¼–ç¨‹çš„äººï¼Œæƒ³è±¡æ²¡æœ‰htmlæ¨¡æ¿å’Œhtmlæ¨¡æ¿çš„ä»£ç ã€‚ å¯¹äºWebç¨‹åºå‘˜ï¼Œå°†æŒ‰é’®ï¼Œå›¾å±‚å’Œå…¶ä»–å†…å®¹åˆ é™¤åˆ°kvæ–‡ä»¶ä¸­å°±åƒjinja2ä¸€æ ·ã€‚ é€»è¾‘ä¿ç•™åœ¨.pyæ–‡ä»¶ä¸­ï¼Œè€Œå°ç©æ„ä¿ç•™åœ¨kvæ–‡ä»¶ä¸­ã€‚ </li><li> æ·»åŠ è®¡æ•°çš„å¡è·¯é‡Œï¼Œè›‹ç™½è´¨ï¼Œç¢³æ°´åŒ–åˆç‰©ï¼Œè„‚è‚ªï¼ˆBJUï¼‰ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">å¢åŠ æ‹ç…§èƒ½åŠ›</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426269/">https://habr.com/ru/post/zh-CN426269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426255/index.html">Vimå¦‚ä½•å·èµ°æˆ‘çš„å¿ƒ</a></li>
<li><a href="../zh-CN426261/index.html">Cogear.JS-é™æ€ç½‘ç«™çš„ç°ä»£ç”Ÿæˆå™¨</a></li>
<li><a href="../zh-CN426263/index.html">Wi-Fi 6å®£å¸ƒï¼šæ‚¨éœ€è¦äº†è§£çš„æ–°æ ‡å‡†</a></li>
<li><a href="../zh-CN426265/index.html">èˆªè¿è‡ªåŠ¨åŒ–æ¡†æ¶ï¼ˆSAFï¼‰</a></li>
<li><a href="../zh-CN426267/index.html">å…³äºé¡¹ç›®åˆ›å»ºå¦‚ä½•å˜æˆåœ°ç‹±çš„ä¸€é¦–æ­Œ</a></li>
<li><a href="../zh-CN426271/index.html">ç‰¹æ–¯æ‹‰Model 3æ±½è½¦å®‰å…¨</a></li>
<li><a href="../zh-CN426273/index.html">å®‰è£…å’Œé…ç½®Oracle Internet Directoryæ¥è§£ææ•°æ®åº“åç§°</a></li>
<li><a href="../zh-CN426275/index.html">æˆ‘ä»¬å¦‚ä½•æœç´¢åŒ»ç–—é”™è¯¯è¿¹è±¡</a></li>
<li><a href="../zh-CN426277/index.html">ç¨‹åºå‘˜åˆ‡æ¢åˆ°Pythonæ—¶è¦è®°ä½çš„äº‹æƒ…</a></li>
<li><a href="../zh-CN426279/index.html">éŸ³é¢‘æ ¼å¼å’ŒéŸ³é¢‘æŠ€æœ¯å¦‚ä½•â€œæˆ˜æ–—â€å’Œæ¼”å˜ï¼šä¸€ä¸ªé‡è¦çš„å†å²æ‘˜è¦</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>