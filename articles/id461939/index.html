<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴‍☠️ 🌀 💪🏾 Tahun petualangan dengan graphene-python 😝 🛩️ 👲🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tahun petualangan dengan graphene-python 





 Hai semuanya, saya adalah pengembang python. Tahun lalu saya bekerja dengan graphene-python + django O...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tahun petualangan dengan graphene-python</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461939/"><h1 id="god-priklyucheniy-s-graphene-python">  Tahun petualangan dengan graphene-python </h1><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c77/e6d/8c3/c77e6d8c390320295743710d11babfac.png" alt="gambar"></p><br><p> Hai semuanya, saya adalah pengembang python.  Tahun lalu saya bekerja dengan graphene-python + django ORM dan selama ini saya mencoba membuat beberapa jenis alat untuk membuat bekerja dengan graphene lebih nyaman.  Sebagai hasilnya, saya mendapat basis kode <code>graphene-framework</code> kecil dan seperangkat aturan, yang ingin saya bagikan. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/458/645/f18/458645f180f8fff23bcbd543065d8c11.png" alt="gambar"></p><br><p>  Apa itu graphene-python? </p><br><p>  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">graphene-python.org</a> , maka: </p><br><blockquote>  Graphene-Python adalah perpustakaan untuk membuat API GraphQL dengan mudah menggunakan Python.  Tugas utamanya adalah untuk menyediakan API yang sederhana tetapi pada saat yang sama dapat diperpanjang untuk membuat kehidupan programmer lebih mudah. </blockquote><p>  <strong>Tugas utamanya adalah untuk menyediakan API yang sederhana tetapi pada saat yang sama dapat diperpanjang untuk membuat kehidupan programmer lebih mudah.</strong> </p><br><p>  Ya, pada kenyataannya graphene sederhana dan dapat dikembangkan, tetapi bagi saya sepertinya terlalu sederhana untuk aplikasi besar dan cepat berkembang.  Dokumentasi pendek (saya menggunakan kode sumber sebagai gantinya - itu jauh lebih verbose), serta kurangnya standar untuk menulis kode membuat perpustakaan ini bukan pilihan terbaik untuk API Anda berikutnya. </p><br><p>  Bagaimanapun, saya memutuskan untuk menggunakannya dalam proyek dan mengalami sejumlah masalah, untungnya, setelah memecahkan sebagian besar dari mereka (berkat fitur graphene yang tidak terdokumentasi).  Beberapa solusi saya murni arsitektur dan dapat digunakan di luar kotak, tanpa kerangka kerja saya.  Namun, sisanya masih memerlukan beberapa basis kode. </p><br><p>  Artikel ini bukan dokumentasi, tetapi dalam arti deskripsi singkat tentang jalan yang saya tempuh dan masalah yang saya selesaikan dengan satu atau lain cara dengan alasan singkat untuk pilihan saya.  Pada bagian ini, saya memperhatikan mutasi dan hal-hal yang berkaitan dengannya. </p><br><p>  Tujuan artikel ini adalah untuk mendapatkan <strong>umpan balik yang berarti</strong> , jadi saya akan menunggu kritik di komentar! </p><br><p>  <em>Catatan: sebelum melanjutkan membaca artikel, saya sangat menyarankan Anda membiasakan diri dengan apa itu GraphQL.</em> </p><br><hr><br><h2 id="mutacii">  Mutasi </h2><br><blockquote>  Sebagian besar diskusi tentang GraphQL fokus pada mendapatkan data, tetapi platform apa pun yang menghargai diri sendiri juga membutuhkan cara untuk memodifikasi data yang disimpan di server. </blockquote><p>  Mari kita mulai dengan mutasi. </p><br><p>  Pertimbangkan kode berikut: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.Mutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> post_id = graphene.ID(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) title = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) content = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) image_urls = graphene.List(graphene.String, required=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) allow_comments = graphene.Boolean(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) contact_email = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) ok = graphene.Boolean(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) errors = graphene.List(graphene.String, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_, info, post_id, title, content, image_urls, allow_comments, contact_email)</span></span></span><span class="hljs-function">:</span></span> errors = [] <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: post = get_post_by_id(post_id) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> PostNotFound: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> UpdatePostMutation(ok=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>, errors=[<span class="hljs-string"><span class="hljs-string">'post_not_found'</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> info.context.user.is_authenticated: errors.append(<span class="hljs-string"><span class="hljs-string">'not_authenticated'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(title) &lt; TITLE_MIN_LENGTH: errors.append(<span class="hljs-string"><span class="hljs-string">'title_too_short'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> is_email(contact_email): errors.append(<span class="hljs-string"><span class="hljs-string">'contact_email_not_valid'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> post.owner != info.context.user: errors.append(<span class="hljs-string"><span class="hljs-string">'not_post_owner'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Post.objects.filter(title=title).exists(): errors.append(<span class="hljs-string"><span class="hljs-string">'title_already_taken'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> errors: post = Utils.update_post(post, title, content, image_urls, allow_comments, contact_email) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> UpdatePostMutation(ok=bool(errors), errors=errors)</code> </pre> <br><p>  <code>UpdatePostMutation</code> mengubah pos dengan <code>id</code> diberikan, menggunakan data yang ditransfer dan mengembalikan kesalahan jika beberapa kondisi tidak terpenuhi. </p><br><p>  Satu hanya perlu melihat kode ini, karena menjadi non-ekstensibilitas dan tidak didukung karena: </p><br><ol><li>  Terlalu banyak argumen dari fungsi yang <code>mutate</code> , yang jumlahnya mungkin bertambah bahkan jika kita ingin menambahkan lebih banyak bidang yang akan diedit. </li><li>  Agar mutasi terlihat sama di sisi klien, mereka harus mengembalikan <code>errors</code> dan <code>ok</code> , sehingga status mereka dan apa yang selalu mungkin untuk dipahami. </li><li>  Cari dan ambil <em>objek</em> dalam fungsi <code>mutate</code> .  Fungsi mutasi beroperasi dengan puasa, dan jika tidak ada, maka mutasi tidak boleh terjadi. </li><li>  Memeriksa izin dalam mutasi.  Mutasi tidak boleh terjadi jika pengguna tidak memiliki hak untuk melakukan ini (edit beberapa posting). </li><li>  Argumen pertama yang tidak berguna ( <em>root</em> yang selalu <code>None</code> untuk bidang tingkat atas, yang merupakan mutasi kami). </li><li>  Serangkaian kesalahan yang tidak dapat diprediksi: jika Anda tidak memiliki kode sumber atau dokumentasi, maka Anda tidak akan tahu kesalahan apa yang dapat dikembalikan mutasi ini, karena mereka tidak tercermin dalam skema. </li><li>  Ada terlalu banyak pengecekan kesalahan templat yang dilakukan secara langsung dalam metode <code>mutate</code> , yang melibatkan <em>perubahan</em> data, dan bukannya berbagai pengecekan.  <code>mutate</code> ideal harus terdiri dari satu baris - panggilan ke fungsi pengeditan posting. </li></ol><br><p>  Singkatnya, <strong><code>mutate</code> harus memodifikasi data</strong> , daripada menangani tugas pihak ketiga seperti mengakses objek dan memvalidasi input.  Tujuan kami adalah mencapai sesuatu seperti: </p><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(post, info, input)</span></span></span><span class="hljs-function">:</span></span> post = Utils.update_post(post, **input) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> UpdatePostMutation(post=post)</code> </pre> <br><p>  Sekarang mari kita lihat poin-poin di atas. </p><br><hr><br><h3 id="polzovatelskie-tipy">  Jenis khusus </h3><br><p>  Bidang <code>email</code> dilewatkan sebagai string, sementara itu adalah <em>string format tertentu</em> .  Setiap kali API menerima email, itu harus memeriksa kebenarannya.  Jadi solusi terbaik adalah membuat tipe kustom. </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Email</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.String)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># ...</span></span></code> </pre> <br><p>  Ini mungkin tampak jelas, tetapi perlu disebutkan. </p><br><hr><br><h3 id="vhodnye-tipy">  Jenis input </h3><br><p>  Gunakan tipe input untuk mutasi Anda.  Bahkan jika mereka tidak dapat digunakan kembali di tempat lain.  Berkat tipe input, kueri menjadi lebih kecil, yang membuatnya lebih mudah dibaca dan lebih cepat untuk menulis. </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostInput</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.InputObjectType)</span></span></span><span class="hljs-class">:</span></span> title = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) content = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) image_urls = graphene.List(graphene.String, required=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) allow_comments = graphene.Boolean(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) contact_email = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br><p>  Kepada: </p><br><pre> <code class="plaintext hljs">mutation( $post_id: ID!, $title: String!, $content: String!, $image_urls: String!, $allow_comments: Boolean!, $contact_email: Email! ) { updatePost( post_id: $post_id, title: $title, content: $content, image_urls: $image_urls, allow_comments: $allow_comments, contact_email: $contact_email, ) { ok } }</code> </pre> <br><p>  Setelah: </p><br><pre> <code class="plaintext hljs">mutation($id: ID!, $input: UpdatePostInput!) { updatePost(id: $id, input: $input) { ok } }</code> </pre> <br><p>  Kode mutasi berubah menjadi: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.Mutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) id = graphene.ID(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) ok = graphene.Boolean(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) errors = graphene.List(graphene.String, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_, info, input, id)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># ... if not errors: post = Utils.update_post(post, **input.__dict__) return UpdatePostMutation(errors=errors)</span></span></code> </pre> <br><hr><br><h3 id="bazovyy-klass-mutaciy">  Kelas mutasi dasar </h3><br><p>  Seperti disebutkan dalam paragraf 2, <em>mutasi harus mengembalikan <code>errors</code> dan <code>ok</code> sehingga status mereka dan apa penyebabnya selalu dapat dipahami</em> .  Cukup sederhana, kami membuat kelas dasar: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MutationPayload</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.ObjectType)</span></span></span><span class="hljs-class">:</span></span> ok = graphene.Boolean(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) errors = graphene.List(graphene.String, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) query = graphene.Field(<span class="hljs-string"><span class="hljs-string">'main.schema.Query'</span></span>, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolve_ok</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, info)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(self.errors <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> []) == <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolve_errors</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, info)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.errors <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> [] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolve_query</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, info)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {}</code> </pre> <br><p>  Beberapa catatan: </p><br><ul><li>  Metode <code>resolve_ok</code> , jadi kami tidak harus menghitung sendiri. </li><li>  Bidang <code>query</code> adalah <code>Query</code> root, yang memungkinkan Anda untuk meminta data langsung di dalam permintaan mutasi (data akan diminta setelah mutasi selesai). <br><pre> <code class="plaintext hljs">mutation($id: ID!, $input: PostUpdateInput!) { updatePost(id: $id, input: $input) { ok query { profile { totalPosts } } } }</code> </pre> </li></ul><br><p>  Ini sangat nyaman ketika klien memperbarui beberapa data setelah mutasi selesai dan tidak ingin meminta pendukung untuk mengembalikan seluruh rangkaian ini.  Semakin sedikit kode yang Anda tulis, semakin mudah untuk mempertahankannya.  Saya mengambil ide ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari sini</a> . </p><br><p>  Dengan kelas mutasi dasar, kode berubah menjadi: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MutationPayload, graphene.Mutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) id = graphene.ID(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_, info, input, id)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># ...</span></span></code> </pre> <br><hr><br><h3 id="kornevye-mutacii">  Mutasi akar </h3><br><p>  Permintaan mutasi kami sekarang terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">mutation($id: ID!, $input: PostUpdateInput!) { updatePost(id: $id, input: $input) { ok } }</code> </pre> <br><p>  Mengandung semua mutasi dalam lingkup global bukanlah praktik yang baik.  Berikut beberapa alasannya: </p><br><ol><li>  Dengan semakin banyaknya mutasi, semakin sulit menemukan mutasi yang Anda butuhkan. </li><li>  Karena satu namespace, perlu untuk memasukkan "nama modulnya" dalam nama mutasi, misalnya <code>update</code> <strong><code>Post</code></strong> . </li><li>  Anda harus memberikan <code>id</code> sebagai argumen untuk mutasi. </li></ol><br><p>  Saya sarankan menggunakan <em>mutasi root</em> .  Tujuan mereka adalah untuk memecahkan masalah-masalah ini dengan memisahkan mutasi ke dalam lingkup yang terpisah dan membebaskan mutasi dari logika akses ke objek dan hak akses kepada mereka. </p><br><p>  Permintaan baru terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">mutation($id: ID!, $input: PostUpdateInput!) { post(id: $id) { update(input: $input) { ok } } }</code> </pre> <br><p>  Argumen permintaan tetap sama.  Sekarang fungsi perubahan "dipanggil" di dalam <code>post</code> , yang memungkinkan logika berikut untuk diimplementasikan: </p><br><ol><li>  Jika <code>id</code> tidak diteruskan ke <code>post</code> , maka ia mengembalikan <code>{}</code> .  Ini memungkinkan Anda untuk terus melakukan mutasi di dalam.  Digunakan untuk mutasi yang tidak memerlukan elemen root (misalnya, untuk membuat objek). </li><li>  Jika <code>id</code> dilewatkan, elemen yang sesuai diambil. </li><li>  Jika objek tidak ditemukan, <code>None</code> dikembalikan, dan ini melengkapi permintaan, mutasi tidak dipanggil. </li><li>  Jika objek ditemukan, maka periksa hak pengguna untuk memanipulasinya. </li><li>  Jika pengguna tidak memiliki hak, <code>None</code> dikembalikan dan permintaan selesai, mutasi tidak dipanggil. </li><li>  Jika pengguna memiliki hak, maka objek yang ditemukan dikembalikan dan mutasi menerimanya sebagai root - argumen pertama. </li></ol><br><p>  Dengan demikian, kode mutasi berubah menjadi: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MutationPayload, graphene.Mutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(post, info, input)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> post <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> errors = [] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> info.context.user.is_authenticated: errors.append(<span class="hljs-string"><span class="hljs-string">'not_authenticated'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(title) &lt; TITLE_MIN_LENGTH: errors.append(<span class="hljs-string"><span class="hljs-string">'title_too_short'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> Post.objects.filter(title=title).exists(): errors.append(<span class="hljs-string"><span class="hljs-string">'title_already_taken'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> errors: post = Utils.update_post(post, **input.__dict__) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> UpdatePostMutation(errors=errors)</code> </pre> <br><ul><li>  Akar dari mutasi - argumen pertama - sekarang menjadi objek tipe <code>Post</code> , di mana mutasi dilakukan. </li><li>  Pemeriksaan otorisasi dipindahkan ke root mutation code. </li></ul><br><p>  Kode Mutasi Root: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostMutationRoot</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MutationRoot)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> model = Post has_permission = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> post, user: post.owner == user update = UpdatePostMutation.Field()</code> </pre> <br><hr><br><h3 id="interfeys-oshibok">  Antarmuka galat </h3><br><p>  Untuk membuat satu set kesalahan dapat diprediksi, mereka harus tercermin dalam desain. </p><br><ul><li>  Karena mutasi dapat mengembalikan beberapa kesalahan, kesalahan harus menjadi daftar. </li><li>  Karena kesalahan diwakili oleh tipe yang berbeda, <code>Union</code> kesalahan tertentu harus ada untuk mutasi tertentu. </li><li>  Agar kesalahan tetap serupa satu sama lain, mereka harus mengimplementasikan antarmuka, sebut saja itu <code>ErrorInterface</code> .  Biarkan berisi dua bidang: <code>ok</code> dan <code>message</code> . </li></ul><br><p>  Jadi, kesalahan harus bertipe <code>[SomeMutationErrorsUnion]!</code>  .  Semua subtipe <code>SomeMutationErrorsUnion</code> harus menerapkan <code>ErrorInterface</code> . </p><br><p>  Kami mendapatkan: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NotAuthenticated</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.ObjectType)</span></span></span><span class="hljs-class">:</span></span> message = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, default_value=<span class="hljs-string"><span class="hljs-string">'not_authenticated'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> interfaces = [ErrorInterface, ] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TitleTooShort</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.ObjectType)</span></span></span><span class="hljs-class">:</span></span> message = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, default_value=<span class="hljs-string"><span class="hljs-string">'title_too_short'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> interfaces = [ErrorInterface, ] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TitleAlreadyTaken</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.ObjectType)</span></span></span><span class="hljs-class">:</span></span> message = graphene.String(required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, default_value=<span class="hljs-string"><span class="hljs-string">'title_already_taken'</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> interfaces = [ErrorInterface, ] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutationErrors</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.Union)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> types = [NotAuthenticated, TitleIsTooShort, TitleAlreadyTaken, ]</code> </pre> <br><p>  Kelihatannya bagus, tetapi ada terlalu banyak kode.  Kami menggunakan metaclass untuk menghasilkan kesalahan ini dengan cepat: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostErrors</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(metaclass=ErrorMetaclass)</span></span></span><span class="hljs-class">:</span></span> errors = [ <span class="hljs-string"><span class="hljs-string">'not_authenticated'</span></span>, <span class="hljs-string"><span class="hljs-string">'title_too_short'</span></span>, <span class="hljs-string"><span class="hljs-string">'title_already_taken'</span></span>, ] <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutationErrors</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(graphene.Union)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> types = [PostErrors.not_authenticated, PostErrors.title_too_short, PostErrors.title_already_taken, ]</code> </pre> <br><p>  Tambahkan deklarasi kesalahan yang dikembalikan ke mutasi: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(MutationPayload, graphene.Mutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput() errors = graphene.List(UpdatePostMutationErrors, required=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mutate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(post, info, input)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># ...</span></span></code> </pre> <br><hr><br><h3 id="proverka-na-nalichie-oshibok">  Periksa kesalahan </h3><br><p>  Sepertinya saya bahwa metode <code>mutate</code> tidak boleh peduli tentang apa pun selain <em>bermutasi data</em> .  Untuk mencapai ini, Anda perlu memeriksa kesalahan dalam kode mereka untuk fungsi ini. </p><br><p>  Menghilangkan implementasi, berikut hasilnya: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(DefaultMutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> root_required = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> authentication_required = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-comment"><span class="hljs-comment">#   ,    True   # An iterable of tuples (error_class, checker) checks = [ ( PostErrors.title_too_short, lambda post, input: len(input.title) &lt; TITLE_MIN_LENGTH ), ( PostErrors.title_already_taken, lambda post, input: Post.objects.filter(title=input.title).exists() ), ] def mutate(post, info, input): post = Utils.update_post(post, **input.__dict__) return UpdatePostMutation()</span></span></code> </pre> <br><p>  Sebelum memulai fungsi <code>mutate</code> , setiap <em>pemeriksa</em> (elemen kedua dari anggota array <code>checks</code> ) dipanggil.  Jika <code>True</code> dikembalikan, kesalahan yang sesuai ditemukan.  Jika tidak ada kesalahan ditemukan, fungsi <code>mutate</code> dipanggil. </p><br><p>  Saya akan menjelaskan: </p><br><ul><li>  Periksa fungsi, ambil argumen yang sama dengan fungsi yang <code>mutate</code> . </li><li>  Fungsi validasi harus mengembalikan <code>True</code> jika ditemukan kesalahan. </li><li>  Pemeriksaan otorisasi dan keberadaan elemen root cukup umum dan terdaftar di bendera <code>Meta</code> . </li><li>  <code>authentication_required</code> menambahkan pemeriksaan otorisasi jika <code>True</code> . </li><li>  <code>root_required</code> menambahkan <code>root_required</code> " <code>root is not None</code> ". </li><li>  <code>UpdatePostMutationErrors</code> tidak lagi diperlukan.  Gabungan kemungkinan kesalahan dibuat dengan cepat tergantung pada kelas kesalahan array <code>checks</code> . </li></ul><br><hr><br><h3 id="dzheneriki">  Generik </h3><br><p>  <code>DefaultMutation</code> digunakan di bagian terakhir menambahkan metode <code>pre_mutate</code> , yang memungkinkan Anda untuk mengubah argumen input sebelum memeriksa kesalahan, dan, dengan demikian, memanggil mutasi. </p><br><p>  Ada juga kit starter generik yang membuat kode lebih pendek dan membuat hidup lebih mudah. <br>  <em>Catatan: saat ini kode generik khusus untuk django ORM</em> </p><br><h4 id="createmutation">  Penciptaan </h4><br><p>  Membutuhkan salah satu <code>create_function</code> <code>model</code> atau <code>create_function</code> .  Secara default, <code>create_function</code> terlihat seperti ini: </p><br><pre> <code class="python hljs">model._default_manager.create(**data, owner=user)</code> </pre> <br><p>  Ini mungkin terlihat tidak aman, tetapi jangan lupa bahwa ada tipe bawaan memeriksa graphql, serta memeriksa mutasi. </p><br><p>  Ini juga menyediakan metode <code>post_mutate</code> yang dipanggil setelah <code>create_function</code> dengan argumen <code>(instance_created, user)</code> , yang hasilnya akan dikembalikan ke klien. </p><br><h4 id="updatemutation">  Pembaruan pembaruan </h4><br><p>  Memungkinkan Anda untuk mengatur <code>update_function</code> .  Secara default: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">default_update_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(instance, user=None, **data)</span></span></span><span class="hljs-function">:</span></span> instance.__dict__.update(data) instance.save() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> instance</code> </pre> <br><p>  <code>root_required</code> <code>True</code> secara default. </p><br><p>  Ini juga menyediakan metode <code>post_mutate</code> , yang disebut after <code>update_function</code> dengan argumen <code>(instance_updated, user)</code> , yang hasilnya akan dikembalikan ke klien. </p><br><p>  Dan inilah yang kami butuhkan! </p><br><p>  Kode terakhir: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UpdatePostMutation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(UpdateMutation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Arguments</span></span></span><span class="hljs-class">:</span></span> input = UpdatePostInput() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> checks = [ ( PostErrors.title_too_short, <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> post, input: len(input.title) &lt; TITLE_MIN_LENGTH ), ( PostErrors.title_already_taken, <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> post, input: Post.objects.filter(title=input.title).exists() ), ]</code> </pre> <br><h4 id="deletemutation">  DeleteMutation </h4><br><p>  Memungkinkan Anda menyetel <code>delete_function</code> .  Secara default: </p><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">default_delete_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(instance, user=None, **data)</span></span></span><span class="hljs-function">:</span></span> instance.delete()</code> </pre> <br><hr><br><h3 id="zaklyuchenie">  Kesimpulan </h3><br><p>  Artikel ini hanya mempertimbangkan satu aspek, meskipun menurut saya itu yang paling rumit.  Saya memiliki beberapa pemikiran tentang resolvers dan jenis, serta hal-hal umum dalam graphene-python. </p><br><p>  Sulit bagi saya untuk menyebut diri saya seorang pengembang yang berpengalaman, jadi saya akan sangat senang atas umpan balik, serta saran. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kode sumber dapat ditemukan di sini</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id461939/">https://habr.com/ru/post/id461939/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461923/index.html">JetBrains Open Day di St. Petersburg: video</a></li>
<li><a href="../id461927/index.html">Pembelajaran Peringkat Aktif</a></li>
<li><a href="../id461929/index.html">Memantau dan memeriksa status SSD di Linux</a></li>
<li><a href="../id461935/index.html">Cara bekerja dengan Postgres in Go: praktik, fitur, nuansa</a></li>
<li><a href="../id461937/index.html">Hukum Parkinson dan cara melanggarnya</a></li>
<li><a href="../id461941/index.html">Pijat itu</a></li>
<li><a href="../id461945/index.html">Intisari acara untuk profesional SDM di bidang TI untuk Agustus 2019</a></li>
<li><a href="../id461949/index.html">AppCode 2019.2: Swift 5.1, analisis cakupan kode dengan tes, tampilan kode dibongkar dan banyak lagi</a></li>
<li><a href="../id461951/index.html">Plug-in Veeam untuk cadangan dan pemulihan database SAP HANA</a></li>
<li><a href="../id461955/index.html">Pertukaran token atau cara memperkuat portofolio crypto pada tahun 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>