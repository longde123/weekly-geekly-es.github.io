<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï∑Ô∏è üë© ü•õ Generieren von Multi-Brand-Multi-Plattform-Symbolen mit Sketch und einem Node.js-Skript - Teil 1 üë®‚Äçüîß üë©‚Äçüè≠ üíÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR 
 Mithilfe eines benutzerdefinierten Erstellungsskripts in Node JS k√∂nnen Sie eine Reihe von Skizzendateien bearbeiten und dann mithilfe eines ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Generieren von Multi-Brand-Multi-Plattform-Symbolen mit Sketch und einem Node.js-Skript - Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/441040/"><img src="https://habrastorage.org/webt/r_/wy/rc/r_wyrcezx76z5i0-1_zuktooxzy.jpeg"><br><br><h4>  TL; DR </h4><br>  Mithilfe eines benutzerdefinierten Erstellungsskripts in Node JS k√∂nnen Sie eine Reihe von Skizzendateien bearbeiten und dann mithilfe eines internen Sketch-Tools ihre Assets automatisch exportieren, um mehrere Symbolbibliotheken f√ºr mehrere Plattformen und verschiedene Marken zu generieren, die Dynamik unterst√ºtzen Kolorierung der Assets √ºber Design-Token sowie AB-Test der Assets √ºber Namenskonventionen.  Einfach peasy :) <br><hr><br>  Nun, eigentlich ist es nicht so einfach, aber es kann sicherlich getan werden.  Dieser Beitrag ist eine detaillierte Erkl√§rung, wie wir es gemacht haben und was wir dabei entdeckt haben. <br><br><h2>  Das Problem, das wir zu l√∂sen versuchten </h2><br>  Bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Badoo</a> bauen wir eine Dating-App.  Eigentlich mehrere Dating-Apps.  F√ºr mehrere Plattformen ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">iOS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Android</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mobile Web</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Desktop Web</a> ) in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mehreren Teams</a> . <br><br>  Wir verwenden Hunderte von Symbolen in unseren Apps.  Einige von ihnen sind f√ºr verschiedene Apps gleich, andere sind sehr spezifisch f√ºr die Marken, die die Apps widerspiegeln.  Die Symbole werden im Einklang mit der Entwicklung des Designs kontinuierlich weiterentwickelt.  Manchmal werden v√∂llig neue Symbole hinzugef√ºgt, w√§hrend andere aktualisiert und wieder andere gel√∂scht werden (obwohl sie h√§ufig in der Codebasis verbleiben). <br><a name="habracut"></a><br>  Unser Designteam entwirft und pflegt die Symbole. Bisher bestand die einzige M√∂glichkeit f√ºr sie, den verschiedenen Teams, Plattformen und Apps die richtigen Assets bereitzustellen, darin, sie per E-Mail, Chat oder Dropbox zu senden.  Dies ist nicht nur zeitaufw√§ndig, sondern fast immer fehleranf√§llig.  Tats√§chlich haben wir festgestellt, dass jedes Mal Fehler aufgetreten sind (wir sind Menschen!): Symbole wurden auf einer Plattform aktualisiert, auf einer anderen jedoch nicht.  oder Symbole w√ºrden fehlen oder das falsche Format oder die falsche Gr√∂√üe haben.  Es gab also ein st√§ndiges Hin und Her zwischen Designern und Entwicklern.  Entwickler w√ºrden Symbole direkt aus der Skizzendatei exportieren und die Symbole w√ºrden zur Codebasis hinzugef√ºgt, ohne jedoch zu √ºberpr√ºfen, ob √§hnliche Symbole bereits vorhanden waren (und zur Wiederverwendung verf√ºgbar waren).  Ich bin sicher, Sie wissen, wovon ich spreche. <br><br>  Bei Badoo haben wir ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Design-System namens Cosmos</a> und k√ºrzlich haben wir eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bibliothek von Design-Token</a> f√ºr unsere Haupt-App und ihre White-Labels auf mehreren Plattformen (Mobile Web, Android und iOS) eingef√ºhrt.  Im Wesentlichen k√∂nnen wir jetzt Entwurfsentscheidungen (wie den Rand einer Schaltfl√§che, die Hintergrundfarbe einer bestimmten Feature-Seite, die Schriftgr√∂√üe der √úberschrift 1 oder die Dauer einer Animation f√ºr ein Popup) mithilfe elementarer Entwurfswerte kommunizieren. Alle werden automatisch verarbeitet und an alle Apps geliefert, und alle Plattformen, die diese Design-Token in ihren Apps verwenden. <br><br>  Wie wir jetzt in der Lage sind, eine Designidee, wie zum Beispiel einen Farbwechsel, mit nur wenigen Klicks und kaum zu einem Zeitpunkt in echten Code in der Produktion umzuwandeln, hat Produktmanager und Designer gleicherma√üen beeindruckt. <br><br>  Ihre n√§chste Frage (und Anfrage) lautete: K√∂nnen Sie etwas √Ñhnliches f√ºr die Verm√∂genswerte tun?  Und unsere Antwort war: Ja, wir k√∂nnen (wahrscheinlich)! <br><br>  Ich muss zugeben, dass es damals ein ziemlicher Glaubenssprung war.  Wir hatten einige Ideen, wie es geht, aber wir waren uns √ºberhaupt nicht sicher, ob es technisch machbar ist, mit all den Einschr√§nkungen, unter denen wir arbeiten.  Wir waren uns einig, mit einem MVP-Projekt zu beginnen, aber am Ende war alles so gut gelaufen, dass es unser Endprodukt mit allen notwendigen Funktionen wurde. <br><br><h2>  Die Anforderungen </h2><br>  Die Anforderungen an das MVP waren sehr klar: Erstellen Sie eine Pipeline, die eine Skizzendatei aufnehmen und alle in der Datei enthaltenen Symbole in verschiedenen Formaten f√ºr verschiedene Plattformen exportieren kann, wobei jedes Symbol f√ºr AB-Tests geeignet ist. <br><br>  Dies ist kompliziert, da in unseren Produkten ein Symbol viele verschiedene Farben und / oder Formen f√ºr verschiedene Marken / White-Labels haben kann (obwohl die Codebasis der App und der Name des Symbols identisch sind). <br><br>  Wenn Sie sich einige der in unseren Anwendungen verwendeten Symbole ansehen, werden Sie feststellen, dass einige identisch sind, einige einander sehr √§hnlich sind, bis auf einige Details, w√§hrend andere in Form und Farbe sehr unterschiedlich sind: <br><br><img src="https://habrastorage.org/webt/kf/ms/bq/kfmsbqu2vyjyvtbweq5wg5v0gyo.png"><br>  <i>Ein Vergleich des Symbols f√ºr die verschiedenen Marken</i> <br><br>  Die in den Symbolen verwendeten Farben sind nicht nur einfarbig, sondern stimmen mit den genauen Farben √ºberein, die in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Design-Token</a> f√ºr diese Marke und ihre spezifischen Merkmale angegeben sind: <br><br><img src="https://habrastorage.org/webt/n1/hv/f6/n1hvf6nlzo7ixqzlgji79jrn9bc.png"><br>  <i>Vergleich der Farben verschiedener Marken.</i>  <i>Die Farbwerte werden als Design-Token angegeben.</i> <br><br>  Unser Ziel mit dieser neuen Assets-Pipeline war es daher, nicht nur den Prozess der Generierung und Bereitstellung der Symbole f√ºr alle verschiedenen Plattformen und Marken zu automatisieren, sondern die Symbole auch "dynamisch" nach Marke / Wei√ü zu f√§rben -label. <br><br><h2>  Skizze und Sketchtool </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Skizze</a> ist das wichtigste Designtool, das unser Designteam verwendet.  Obwohl wir andere Optionen in Betracht gezogen haben (haupts√§chlich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Figma</a> ), wussten wir, dass Sketch das Format der Quelldateien ist, die wir f√ºr dieses Projekt verwenden w√ºrden (einfach, weil es das Werkzeug ist, mit dem unsere Designer besser umgehen k√∂nnen, und es ist das Format der Dateien, in denen unter anderem die vorhandenen Symbole / Assets verwendet werden). <br><br>  Tatsache ist, dass wir zu Beginn des Projekts nicht einmal sicher waren, welche endg√ºltigen Formate die Plattformen erwarteten.  In unseren Augen war der Prozess ziemlich einfach: Exportieren Sie die Symbole im SVG-Format aus der Skizzendatei und verwenden Sie dann die SVG-Dateien in Mobile Web und Android. Suchen Sie f√ºr iOS eine Bibliothek, die SVGs in PDFs konvertieren kann.  Und das war's.  Das war der Plan, als wir anfingen, obwohl wir keine Ahnung hatten, ob es funktionieren w√ºrde oder √ºber die unbekannten Unbekannten, denen wir begegnen k√∂nnten (daher das MVP, um zu sehen, ob es √ºberhaupt machbar ist und wenn ja, wie viel Aufwand es bedeuten k√∂nnte ) <br><br>  Ich wei√ü nicht, ob Sie jemals mit "PDF-Konvertern" gearbeitet haben, aber meiner Erfahrung nach sind sie im Allgemeinen ein Schmerz.  Sie machen "fast" den Job, aber niemals zu 100%, was Sie wirklich brauchen.  Im Hinterkopf hatte ich das Gef√ºhl, dass wir einen gef√§hrlichen Weg beschreiten. <br><br>  Sketch hat eine Methode zum Exportieren von Assets, die ziemlich perfekt ist. Ich hatte noch nie ein Problem damit (sei es SVG, PDF oder andere Formate).  Ich wollte also sehen, ob es andere M√∂glichkeiten gibt, mit Sketch zu interagieren und seine Engine zu verwenden, um Assets direkt √ºber Sketch zu exportieren, m√∂glicherweise auf programmatische Weise (ich habe mich auch gefragt, ob ein benutzerdefiniertes Plugin erstellt werden k√∂nnte, obwohl dies bedeutet h√§tte viel Arbeit f√ºr mich, nicht nur, weil ich keine Erfahrung auf diesem Gebiet habe!). <br><br>  Ich wusste, dass Sketch intern nicht mehr als eine Zip-Datei ist (wenn Sie eine <i>.sketch-</i> Datei in <i>.zip</i> umbenennen, <i>doppelklicken,</i> um sie zu <i>dekomprimieren</i> , und den resultierenden Ordner √∂ffnen, sehen Sie eine Liste der JSON-Dateien und eine Bitmap, die als verwendet wird Vorschau): <br><br><img src="https://habrastorage.org/webt/-b/nj/0d/-bnj0dj_0fsxjlucie9cmvlojjy.png"><br>  <i>Innere Struktur einer Skizzendatei, einmal unkomprimiert</i> <br><br>  Also begann ich, die verschiedenen JSON-Dateien zu untersuchen und zu versuchen, die Verbindungen und Abh√§ngigkeiten zwischen ihnen zu verstehen. <br><br>  Ich erkannte, dass die Beziehungen zwischen den verschiedenen Entit√§ten in ihren Objekten trotz der tief verschachtelten (und ziemlich gro√üen!) JSON-Dateien nicht allzu kompliziert sind: Sie haben Seiten, Zeichenfl√§chen und Ebenen;  Innerhalb der Ebenen haben Sie die Pfade, und Sie k√∂nnen gemeinsame Stile zwischen ihnen haben.  Jede dieser Entit√§ten verf√ºgt √ºber eine eindeutige ID, mit der eine Referenz zwischen den verschiedenen Dateien gespeichert wird.  Alle "Seiten" -Objekte werden in JSON-Dateien gespeichert, die in einem Unterordner namens "Seiten" gespeichert sind. Die ID der Seite wird als Name der Datei verwendet. <br><br>  Eine wichtige Entdeckung, die ich w√§hrend dieser Untersuchung gemacht habe, war, dass <b>die Namen der Ebenen, Seiten und Stile nur Beschriftungen sind und jederzeit ge√§ndert werden k√∂nnen, ohne das Innenleben der Skizzendatei zu beeintr√§chtigen.</b>  Entscheidend ist die ihnen zugewiesene eindeutige ID, die dem Endbenutzer niemals zug√§nglich gemacht wird (obwohl sie in den JSON-Dateien gelesen und referenziert werden kann).  Hier ist ein Beispiel daf√ºr, wie die eindeutige ID eines Stils aussieht: <br><br><pre><code class="plaintext hljs">{ "_class": "sharedStyle", "do_objectID": "49BA4E98-8D63-435C-81D9-E2F6CDB63136", "name": "name-of/the-style", "value": {     "_class": "style",     "endMarkerType": 0,     "fills": [         {             "_class": "fill",             "isEnabled": true,             "color": {                 "_class": "color",                 "alpha": 1,                 "blue": 0.7176470588235294,                 "green": 0.4627450980392159,                 "red": 0             },             "fillType": 0,             "noiseIndex": 0,             "noiseIntensity": 0,             "patternFillType": 1,             "patternTileScale": 1         }     ],     "miterLimit": 10,     "startMarkerType": 0,     "windingRule": 1 } }</code> </pre> <br>  Dies gab mir eine Idee: Vielleicht k√∂nnten wir bestimmte Konventionen f√ºr die Namen der Zeichenfl√§chen und der Seiten verwenden, um eine Art Metainformation √ºber die Beziehungen zwischen den verschiedenen Assets zu deklarieren und sie zur Erstellungszeit programmgesteuert zu verwenden. <br><br><h2>  Sketchtool </h2><br>  Zu diesem Zeitpunkt, am Ende der ersten Erkundungen, hatte sich der Plan von <i>"Lassen Sie uns die Symbole in SVG exportieren und dann konvertieren"</i> in <i>"Erstellen wir ein Plugin, mit dem wir die Symbole in Sketch direkt exportieren</i> <i>k√∂nnen"</i> ge√§ndert <i>Format "</i> .  Aber selbst dann war der Plan noch sehr verschwommen (und die technische Machbarkeit war noch ungewiss). <br><br>  W√§hrend ich mir vorhandene Plugins ansah, insbesondere deren Quellcode, um festzustellen, ob und wie sie mit den Sketch-Export-APIs interagieren k√∂nnten, stie√ü ich auf ein Tool, von dem ich noch nie zuvor geh√∂rt hatte: Sketchtool. <br><br>  Sketchtool ist ein offizielles Sketch-Tool (offiziell wie in: entwickelt von Bohemian Coding), das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">laut Dokumentation</a> : <br><blockquote>  ... ist ein mit Sketch geb√ºndeltes Befehlszeilenprogramm, mit dem Sie einige Vorg√§nge mit Sketch-Dokumenten ausf√ºhren k√∂nnen, z. B. das √úberpr√ºfen oder Exportieren von Assets.  Au√üerdem k√∂nnen Sie Sketch √ºber die Befehlszeile steuern, um einige Aktionen auszuf√ºhren (z. B. das Ausf√ºhren von Plugins). </blockquote><br>  Warten Sie ... ein <b>Befehlszeilenprogramm</b> zum Ausf√ºhren von Vorg√§ngen wie dem <b>Exportieren von Assets</b> ?  Genau das, wonach ich gesucht habe!  Als offizielles Tool w√ºrde es auch keine Probleme mit Versionen, Veralterung, Wartung usw. geben. <br><br>  Ich fing sofort an, mich damit zu befassen, und las die Dokumentation, die nach und nach nur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine Seite</a> auf der Sketch-Website umfasste (ich habe kaum andere Ressourcen oder Seiten dar√ºber gefunden, daher ist es verst√§ndlich, dass ich noch nie davon geh√∂rt hatte es) <br><br>  Sketchtool wird direkt mit Sketch geb√ºndelt und befindet sich in Sketch unter folgendem Pfad: <code>Sketch.app/Contents/Resources/sketchtool/</code> <br><br>  Wenn Sie es in Ihrer CLI mit dem folgenden Befehl starten: <br> <code>$ /Applications/Sketch.app/Contents/Resources/sketchtool/bin/sketchtool</code> <br> <br>  Dies ist die Ausgabe, die Sie auf Ihrem Terminal sehen (ich habe es ein wenig vereinfacht): <br><br><pre> <code class="plaintext hljs">Usage: sketchtool &lt;command&gt; [&lt;args&gt;] [--formats=&lt;string&gt;] [--use-id-for-name{=YES|NO}] [--export-page-as-fallback{=YES|NO}] [--serial{=YES|NO}] [--context=&lt;string&gt;] [--application=&lt;path&gt;] [--without-activating{=YES|NO}] [--item=&lt;string&gt;] [--items=&lt;string&gt;] [--safemode{=YES|NO} | --no-safemode | -S {&lt;YES|NO&gt;}] [--max-size=&lt;float&gt; | -m &lt;float&gt;] [--background=&lt;string&gt; | -g &lt;string&gt;] [--compression=&lt;float&gt; | -c &lt;float&gt;] [--new-instance{=YES|NO}] [--reveal{=YES|NO}] [--timeout=&lt;float&gt;] [--include-symbols{=YES|NO}] [--bounds=&lt;rectangle&gt;] [--outputJSON=&lt;path&gt;] [--filename=&lt;string&gt;] [--wait-for-exit{=YES|NO}] [--scales=&lt;path&gt;] [--overwriting{=YES|NO}] [--group-contents-only{=YES|NO}] [--trimmed{=YES|NO}] [--help] [--progressive{=YES|NO}] [--save-for-web{=YES|NO}] [--output=&lt;path&gt;] Commands: dump               Dump out the structure of a document as JSON. export artboards  Export one or more artboards export layers     Export one or more layers export pages      Export an area from one or more pages export preview    Export a preview image for a document export slices     Export one or more slices help              Show this help message. list artboards    List information on the document's artboards. list formats      List the supported export formats. list layers       List information on all of the document's layers. list pages        List information on the document's pages. list slices       List information on the document's slices. metadata          List the metadata for a document. run               Run a command from a plugin, inside Sketch. show              Show the location of the various sketch folders. See 'sketchtool help &lt;command&gt;' for more information on a specific command.</code> </pre> <br><br>  Wie Sie sehen k√∂nnen, verf√ºgt das Tool √ºber vier Hauptfunktionen: <b>Lesen / Speichern</b> der Metadaten der internen JSON-Dateien;  die Entit√§ten in einer Datei aufzulisten;  diese Entit√§ten zu <b>exportieren</b> ;  und <b>um</b> einen Befehl <b>auszuf√ºhren,</b> der von einem Plugin verf√ºgbar gemacht wird.  Dar√ºber hinaus stehen f√ºr jeden Befehl viele <b>Optionen zur</b> Verf√ºgung.  Im Fall des Exportbefehls sind fast alle Optionen, die Sie im Exportfenster finden, auch √ºber die Befehlszeile von Sketchtool verf√ºgbar: <br><br><img src="https://habrastorage.org/webt/cl/nh/it/clnhitk3ewuz1sj6meowk4suons.png"><br>  <i>Das Feld "Exportieren" in Sketch mit den verf√ºgbaren Optionen</i> <br><br>  Dies bedeutet, dass Sketch direkt √ºber das <i>Sketchtool</i> als Export- "Engine" verwendet werden <i>kann</i> , ohne dass externe Konverter erforderlich sind (z. B. von SVG nach PNG oder PDF).  Gro√üe Sache! <br><br>  Ein schneller Test mit dem <i>Sketchtool</i> und einer einfachen <i>Skizzendatei</i> mit einigen <i>Symbolen</i> best√§tigte alle anf√§nglichen Annahmen: Mit diesem einfachen Tool k√∂nnen wir vermeiden, Exporteure von Drittanbietern zu verwenden und eigene Exporteure zu erstellen: Sketch macht alles! <br><br><h2>  Die Skizzendatei (en) </h2><br>  Sobald wir wussten, dass Sketch das Werkzeug war, das wir zum Speichern und Exportieren der Symbole verwenden wollten, war es an der Zeit, die in unseren Anwendungen verwendeten Symbole tats√§chlich in einer Skizzendatei zu sammeln. <br><br>  Urspr√ºnglich wollten wir nur mit einer begrenzten Anzahl von Symbolen arbeiten, die f√ºr das MVP-Projekt verwendet wurden. Wir stellten jedoch schnell fest, dass es besser gewesen w√§re, alle auf einmal zu sammeln, um Duplikate, Inkonsistenzen und Auslassungen sofort erkennen zu k√∂nnen. usw. <br><br>  Unsere Designer haben einen unglaublichen Job gemacht und in nur wenigen Tagen wurde ein gro√üer Teil der in ihren Skizzendateien verwendeten Assets gesammelt und in einer einzigen Datei organisiert.  Zu diesem Zeitpunkt sah die Skizzendatei folgenderma√üen aus: <br><br><img src="https://habrastorage.org/webt/h4/pc/ns/h4pcns4_q86k56t8njsfxarz7no.png"><br>  <i>√úbersicht √ºber die Skizzendatei mit den in unserer Anwendung verwendeten Symbolen.</i> <br><br>  In der Datei verf√ºgt jedes Symbol √ºber eine eigene Zeichenfl√§che mit dem gew√ºnschten Namen des Symbols (wird sp√§ter von Sketch als Dateiname beim Exportieren der Assets verwendet). <br><br>  Alle Pfade werden in Konturen konvertiert und die kombinierten Pfade (im Allgemeinen als <i>Vereinigung</i> oder <i>Subtraktion</i> ) werden zu einer einzigen Form abgeflacht.  Dies stellt sicher, dass die generierten Assets das perfekte visuelle Erscheinungsbild in der Quelldatei und eine optimale Kompatibilit√§t mit den verschiedenen Plattformen beibehalten. <br><br><img src="https://habrastorage.org/webt/ja/zt/im/jaztimwxbkymkadbp3gzjc5pwv8.png"><br><br>  <i>Beispiel f√ºr die Organisation der Symbole (und ihrer Ebenen) in der Assets-Skizzendatei.</i>  <i>Der hellrosa Hintergrund auf den Zeichenfl√§chen erzeugt einen visuellen Kontrast zu den wei√üen Bereichen.</i> <br><br><h2>  Dynamisches F√§rben der Symbole mit freigegebenen Stilen (und Designtoken) </h2><br>  Nachdem wir die Symbole gesammelt hatten, bestand der n√§chste Schritt darin, die richtigen Farben auf sie anzuwenden.  Wir haben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">in Sketch</a> eine Reihe vordefinierter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">freigegebener Stile</a> mit Namen erstellt, die mit denen der in unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwurfssystem</a> verwendeten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwurfstoken</a> √ºbereinstimmen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">,</a> und diese dann zum Anwenden von Farben auf die Symbole verwendet. <br><br>  So wird ein Stil auf eine Ebene angewendet: <br><br><img src="https://habrastorage.org/webt/xv/bd/27/xvbd27jn62ynxnuk77svb2ozsh4.png"><br>  <i>Ebene in Skizze mit einem vordefinierten Stil (F√ºllfarbe).</i> <br><br>  Und so werden die Stile deklariert und dann auf ein Element angewendet: <br><br><img src="https://habrastorage.org/webt/av/xq/ks/avxqksf8lmzji7mt_3tv0hi4j4s.png"><br>  <i>Wie wir uns entschieden haben, die Stile in Sketch zu organisieren</i> <br><br>  Die Namenskonvention ist hier sehr wichtig.  Die Designer k√∂nnen die Stile in beliebigen Unterordnern organisieren, wobei der Name des Stils selbst mit dem Namen des entsprechenden Design-Tokens f√ºr diese Farbe √ºbereinstimmt.  Dies ist so, dass das Build-Skript sp√§ter programmgesteuert darauf verweisen kann. <br><br><h2>  Seiten und Zeichenfl√§chennamen, die f√ºr AB-Tests verwendet werden </h2><br><br>  Zu diesem Zeitpunkt war es an der Zeit zu verstehen, wie sichergestellt werden kann, dass die Designer AB-Tests an den Symbolen durchf√ºhren k√∂nnen.  Am Ende haben wir uns wieder einmal f√ºr Namenskonventionen entschieden (gro√üer Fan von KISS hier). <br><br>  In diesem Fall haben wir die <b>Seitennamen verwendet</b> , um zu erkennen, wann ein Satz von <b>Symbolen</b> ein AB-Test / Experiment war (unter Verwendung von " <b>XP_"</b> als Pr√§fix), und die <b>Zeichenfl√§chennamen</b> , um zu erkennen, auf welches Asset sich der AB-Test bezog, und seine verschiedenen Varianten ( in eckigen Klammern eingeschlossen). <br><br><img src="https://habrastorage.org/webt/xs/3c/ww/xs3cwws-nva55cjjxv9xcgrnvok.png"><br>  <i>Wie die Namenskonvention auf Seiten und Zeichenfl√§chen verwendet wird, um einen AB-Test zu "deklarieren".</i>  <i>Hinweis: Die Symbole sind nur Beispiele, die speziell zu Testzwecken erstellt wurden. Sie sind keine echten Symbole, die in einem Produkt verwendet werden</i> :) <br><br>  Die f√ºr die Tests und Optionen verwendeten Namen sind keine generischen Namen: Sie m√ºssen mit den <i>eindeutigen Namens-IDs</i> √ºbereinstimmen, die den Experimenten / Optionen in unserem internen Tool zur Benutzeraufteilung zugewiesen wurden.  Auf diese Weise k√∂nnen die Assets sp√§ter korrekt der richtigen AB-Testbenutzergruppe zugeordnet werden. <br><br><h2>  Mehrere Dateien f√ºr mehrere Marken </h2><br>  Das letzte Puzzleteil war: Wie unterst√ºtzen wir verschiedene Formen desselben Symbols f√ºr verschiedene Marken? <br><br><img src="https://habrastorage.org/webt/7n/df/uc/7ndfuclyp3csinhkyrp2cufmjq4.png"><br><br>  Dies war <b>eine sehr wichtige Anforderung f√ºr die Produktmanager</b> , und wir hatten verschiedene Optionen zur Verf√ºgung.  Zuerst haben wir uns √ºberlegt, verschiedene Seiten in derselben Skizzendatei mit unterschiedlichen Seitennamen f√ºr jede Marke zu verwenden.  aber bald wurde uns klar, dass es f√ºr die Designer viel komplexer und schwieriger werden w√ºrde, die Symbole zwischen den verschiedenen Marken synchron zu halten.  Wir kamen daher zu dem Schluss, dass die L√∂sung aus mehreren Dateien bestehen sollte: einer <b>"gemeinsamen" Datei</b> , in der alle f√ºr die verschiedenen Marken identischen Symbole gespeichert wurden, und <b>markenspezifischen Dateien</b> f√ºr Symbole, die die gemeinsamen "Basis" -Symbole <b>√ºberschrieben</b> Datei. <br><br><img src="https://habrastorage.org/webt/vo/sq/sv/vosqsvsu_ozoqve04etypteipku.png"><br><br>  Zu diesem Zeitpunkt waren die Skizzendateien fertig.  Wir waren bereit, Code zu schreiben. <br><br>  <i>Fortsetzung folgt.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de441040/">https://habr.com/ru/post/de441040/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de441028/index.html">Wie Forscher offene MongoDB- und Elasticsearch-Datenbanken entdecken</a></li>
<li><a href="../de441030/index.html">Erkennen von Webangriffen mit einem Seq2Seq Autoencoder</a></li>
<li><a href="../de441032/index.html">KeeBee Erstellen Sie Ihre eigene USB-Tastatur von Grund auf neu</a></li>
<li><a href="../de441034/index.html">6 Punkte Conversion-Wachstum oder wie Sie das Vertrauen mit einem Telefon auf der Website erh√∂hen k√∂nnen</a></li>
<li><a href="../de441036/index.html">Wie man Feedback gibt und erh√§lt, wenn man ein Spatzen-Soziophobus ist</a></li>
<li><a href="../de441042/index.html">Generieren von Multi-Brand-Multi-Plattform-Symbolen mit Sketch und einem Node.js-Skript - Teil 2</a></li>
<li><a href="../de441044/index.html">Die Geschichte, wie wir das PVS-Studio-Symbol ge√§ndert haben</a></li>
<li><a href="../de441046/index.html">Die Geschichte, wie wir das PVS-Studio-Symbol ge√§ndert haben</a></li>
<li><a href="../de441048/index.html">Pro aggressives B√ºro</a></li>
<li><a href="../de441050/index.html">Herstellung einer DIY-W√§rmebildkamera basierend auf einem Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>