<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏿 ♌️ 👩‍🔧 Masa depan Kubernetes adalah dengan mesin virtual 🚢 👨🏽‍🌾 🧑🏽‍🤝‍🧑🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beruntung 

 Kubernetes telah memainkan peran penting dalam pekerjaan saya, dan di masa depan itu akan menjadi lebih penting. Tapi 2018 hampir berakhi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Masa depan Kubernetes adalah dengan mesin virtual</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434756/">  <b>Beruntung</b> <br><br>  Kubernetes telah memainkan peran penting dalam pekerjaan saya, dan di masa depan itu akan menjadi lebih penting.  Tapi 2018 hampir berakhir, jadi lupakan tentang kesederhanaan dan buat prediksi yang berani: <br><blockquote>  <b>Masa depan Kubernetes adalah mesin virtual, bukan wadah</b> </blockquote>  Menurut horoskop Cina, 2018 adalah tahun anjing, tetapi dalam teknologi itu adalah tahun Kubernet.  Banyak yang sekarang belajar tentang teknologi revolusioner ini, dan departemen TI di mana-mana berusaha mengembangkan "strategi Kubernetes" [1].  Beberapa organisasi telah mentransfer beban kerja besar ke Kubernetes. <br><br>  <i>[1] Jika Anda mencoba mengembangkan strategi Kubernetes, Anda sudah gagal, tetapi ini adalah topik untuk artikel lain.</i> <br><a name="habracut"></a><br>  Dengan kata lain, ada banyak orang di Kubernetes di setiap langkah "Gartner Sensation Cycle".  Beberapa terjebak dalam kekecewaan atau tenggelam dalam lubang keputusasaan. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2d1/1c3/5cc/2d11c35cc85a9c572e535142bf018277.png"><br>  <i><font color="gray">Jeremykemp, <a href="">Wikipedia</a> .</font></i>  <i><font color="gray"><a href="">Creative Commons CC BY-SA 3.0</a></font></i> <br><br>  Saya penggemar berat wadah dan saya tidak akan mengatakan bahwa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wadah sudah mati</a> .  Pada 2013, Docker memberi kami sebuah shell untuk Linux Containers: sebuah cara baru yang menakjubkan untuk membuat, mengemas, membagikan, dan menyebarkan aplikasi.  Itu muncul pada saat yang tepat, ketika kami mulai menganggap serius pengiriman yang berkesinambungan.  Model mereka menjadi ideal untuk rantai pengiriman dan berkontribusi pada munculnya platform PaaS, dan kemudian CaaS. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/330/55a/94d/33055a94d32a0087206df9a0f9cc06f1.png"><br><br>  Insinyur Google melihat bahwa komunitas TI akhirnya siap untuk wadah.  Google telah menggunakan kontainer untuk waktu yang sangat lama, dan dalam arti tertentu mereka dapat dianggap sebagai penemu containerisasi.  Mereka mulai mengembangkan Kubernet.  Seperti yang Anda ketahui sekarang, ini adalah reinkarnasi gratis dari platform Borg Google sendiri. <br><br>  Segera, dukungan untuk Kubernetes disediakan oleh semua awan besar (GKE, AKS, EKS).  Layanan di tempat juga dengan cepat meningkatkan platform berdasarkan Kubernetes (Layanan Kontainer Penting, Openshift, dll.). <br><br><h1>  Multi-tenancy lunak </h1><br>  Itu perlu untuk menyelesaikan satu masalah yang menjengkelkan, yang dapat dianggap kurangnya wadah ... ini adalah multi-tenancy. <br><br>  Wadah Linux tidak dibuat sebagai kotak pasir aman (seperti Solaris Zone atau FreeBSD Jails).  Sebagai gantinya, mereka membangun model kernel umum yang menggunakan fungsi-fungsi kernel untuk menyediakan isolasi proses dasar.  Seperti yang dikatakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jesse Frazel</a> , "wadah bukan barang asli." <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1015407561187655680"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  Ini diperparah oleh fakta bahwa sebagian besar komponen Kubernet tidak mengetahui penyewa.  Tentu saja, Anda memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ruang nama</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pod</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kebijakan keamanan</a> , tetapi tidak ada hal seperti itu di API.  Serta di komponen internal seperti <code>kubelet</code> atau <code>kube-proxy</code> .  Ini mengarah pada fakta bahwa Kubernet mengimplementasikan model "sewa lunak" (sewa lunak). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/e54/556/eefe545564f03e8b6813e8bc83ed0188.png"><br>  <i><font color="gray">Arsitektur Kubernetes</font></i> <br><br>  Abstraksi merembes lebih jauh.  Sebuah platform di atas kontainer mewarisi banyak aspek dari sewa lunak.  Platform di atas mesin virtual multi-tenant mewarisi sewa tangguh ini (VMware, Amazon Web Services, OpenStack, dll.). <br><br>  Model sewa lunak Kubernetes menempatkan penyedia layanan dan distribusi pada posisi yang aneh.  Cluster Kubernetes sendiri menjadi garis “sewa keras”.  Bahkan di dalam organisasi yang sama, ada banyak alasan untuk menuntut sewa keras antara pengguna (atau aplikasi).  Karena cloud publik menyediakan Kubernet yang dikelola sepenuhnya sebagai layanan, mudah bagi pelanggan untuk mengambil cluster mereka sendiri dan menggunakan batas cluster sebagai titik isolasi. <br><br>  Beberapa distribusi Kubernetes, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pivotal Container Service (PKS)</a> , sangat menyadari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">masalah penyewaan</a> ini dan menggunakan model yang serupa, memberikan Kubernetes yang sama sebagai layanan yang dapat diperoleh dari cloud publik, tetapi di pusat data Anda sendiri. <br><br>  Hal ini menyebabkan munculnya model "banyak cluster", bukan "satu cluster umum besar".  Seringkali, pelanggan GKE dari Google memiliki lusinan kluster Kubernet yang digunakan untuk beberapa tim.  Seringkali setiap pengembang mendapatkan cluster mereka sendiri.  Perilaku ini menghasilkan sejumlah instance (Kubesprawl) yang mengejutkan. <br><br>  Atau, operator menaikkan cluster Kubernet mereka sendiri di pusat data mereka sendiri untuk mengambil pekerjaan tambahan untuk mengelola beberapa cluster, atau setuju untuk menyewa satu atau dua cluster besar. <br><br>  Biasanya, cluster terkecil adalah empat mesin (atau mesin virtual).  Satu (atau tiga untuk HA) untuk Master Kubernetes, tiga untuk Pekerja Kubernetes.  Banyak uang dihabiskan untuk sistem yang sebagian besar tidak digunakan. <br><br>  Karena itu, Anda perlu memindahkan Kubernetes ke arah multi-tenancy yang kaku.  Komunitas Kubernetes sangat menyadari kebutuhan ini.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kelompok kerja multi-sewa</a> telah dibentuk.  Dia bekerja keras dalam masalah ini, dan mereka memiliki beberapa model dan saran tentang cara bekerja dengan masing-masing model. <br><br>  Jesse Frazel menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">posting blog</a> tentang topik ini, dan itu bagus karena dia jauh lebih pintar dari saya, jadi saya bisa merujuk padanya dan menyelamatkan diri dari studi intensif selama sepuluh tahun, mencoba mencapai levelnya.  Jika Anda belum membaca posting itu, baca sekarang. <br><br><h1>  Hanya VM yang sangat kecil yang dioptimalkan untuk kecepatan ... </h1><br><blockquote>  Kata Containers adalah proyek sumber terbuka dan komunitas yang bekerja untuk menciptakan implementasi standar mesin virtual ringan yang terlihat dan berfungsi seperti wadah tetapi memberikan isolasi beban kerja dan manfaat keamanan VM. </blockquote>  Jesse menyarankan menggunakan teknologi wadah VM, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wadah Kata</a> .  Mereka menawarkan isolasi level VM, tetapi bekerja seperti wadah.  Ini memungkinkan Kubernetes untuk memberikan masing-masing "penyewa" (kami mengasumsikan penyewa di namespace) set sendiri layanan sistem Kubernetes berjalan dalam wadah VM bersarang (wadah VM di dalam mesin virtual yang menyediakan infrastruktur IaaS menyediakan). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/157/3ce/1b6/1573ce1b64d7607f5cb9ca0d09caef6e.png"><br>  <i><font color="gray">Gambar Jesse Frasel: hard multi-tenancy di Kubernetes</font></i> <br><br>  Ini adalah solusi multi-rental Kubernetes yang elegan.  Usulannya bahkan lebih jauh bagi Kubernetes untuk menggunakan wadah VM bersarang untuk beban kerja (Pods) yang berjalan di Kubernetes, yang memberikan peningkatan signifikan dalam pemanfaatan sumber daya. <br><br>  Kami memiliki setidaknya satu optimisasi tersisa.  Buat hypervisor yang tepat untuk penyedia infrastruktur dasar atau penyedia cloud.  Jika wadah VM adalah abstraksi tingkat pertama yang disediakan oleh IaaS, maka kami akan lebih meningkatkan pemanfaatan sumber daya.  Jumlah minimum VM untuk memulai kluster Kubernet dikurangi menjadi satu mesin (atau tiga untuk HA) untuk meng-host sistem manajemen Kubernet, yang tersedia untuk "superuser". <br><br><h1>  Multi-tenancy yang dioptimalkan sumber daya (biaya) </h1><br>  Penyebaran Kubernetes dengan dua ruang nama dan beberapa aplikasi yang berjalan akan terlihat seperti ini: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ffc/4e2/d7f/ffc4e2d7ffb239fa1e0822e3d20afcd2.png"><br><blockquote>  Catatan: ada beban lain pada infrastruktur IaaS yang sama.  Karena ini adalah wadah VM, mereka memiliki tingkat isolasi yang sama dengan cloud VM konvensional.  Karena itu, mereka dapat bekerja pada hypervisor yang sama dengan risiko minimal. </blockquote>  Awalnya, tidak ada infrastruktur yang digunakan di cloud, jadi untuk pengguna super biayanya nol. <br><br>  Pengguna super meminta kluster Kubernetes dari cloud.  Penyedia layanan cloud menciptakan mesin virtual dengan satu wadah (atau tiga untuk HA) yang menjalankan API Kubernetes inti dan layanan sistem.  Superuser dapat menggunakan modul di namespace sistem atau membuat ruang baru untuk mendelegasikan akses ke pengguna lain. <br><br>  Superuser membuat dua ruang nama <code>foo</code> dan <code>bar</code> .  Kubernetes meminta dua wadah VM dari cloud untuk setiap tingkat manajemen namespace (Kubernetes API dan Layanan Sistem).  Superuser mendelegasikan akses ke ruang nama ini ke beberapa pengguna, masing-masing dari mereka meluncurkan beberapa beban kerja (modul), dan wadah VM meminta wadah ini untuk beban kerja ini. <br><br>  Pada semua tahap, superuser hanya membayar untuk sumber daya yang benar-benar dikonsumsi.  Penyedia layanan cloud mengontrol sumber daya ini dan tersedia untuk setiap pengguna cloud. <br><br><h1>  Saya tidak benar-benar mengatakan sesuatu yang baru ... </h1><br>  Penyedia layanan cloud sudah bekerja ke arah ini.  Anda dapat memverifikasi ini dengan menonton acara komunitas (Amazon mungkin sudah diam-diam melakukan ini dengan Fargate). <br><br>  Tip pertama adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Virtual Kubelet</a> , alat open source yang dirancang untuk menyamar sebagai kubelet.  Ini menghubungkan Kubernetes ke API lain, yang memungkinkan Kubernetes untuk meminta kontainer VM dari penjadwal standar di cloud. <br><br>  Petunjuk lainnya adalah sejumlah besar teknologi baru untuk kontainerisasi VM, seperti wadah Kata yang telah disebutkan, serta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Firecracker</a> Amazon dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelindung</a> Google. <br><br><h1>  Kesimpulan </h1><br>  Jika Anda benar menerapkan peningkatan dalam model sewa keras, Anda akan menemukan Holy Grail dari virtualisasi Kubernetes.  Isolasi penuh beban kerja dan tanpa biaya tambahan. <br><br>  Jika Anda tidak menggunakan cloud publik, Anda masih mendapatkan manfaat dari pemanfaatan sumber daya yang lebih tinggi, yang terbayar dengan persyaratan perangkat keras yang lebih rendah. <br><br>  Mari berharap VMware dan OpenStack memperhatikan dan melepaskan hypervisor berdasarkan wadah VM ringan dan implementasi Virtual Kubelet yang sesuai. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id434756/">https://habr.com/ru/post/id434756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id434742/index.html">Bagian 2: Menggunakan pengontrol PSBC UDB Cypress untuk mengurangi jumlah interupsi dalam printer 3D</a></li>
<li><a href="../id434744/index.html">Samsung SSD 860 QVO 1 TB dan 4 TB: konsumen pertama SATA QLC (2 bagian)</a></li>
<li><a href="../id434746/index.html">BLE di bawah mikroskop 4</a></li>
<li><a href="../id434750/index.html">Bagaimana mengendalikan infrastruktur jaringan Anda. Bab Dua Pembersihan dan dokumentasi</a></li>
<li><a href="../id434752/index.html">Robomoroz: masa depan karakter utama Tahun Baru</a></li>
<li><a href="../id434758/index.html">Panduan Moderator Facebook: Lebih dari 1.400 halaman slide yang bertentangan</a></li>
<li><a href="../id434760/index.html">Intisari berita PostgreSQL. Tahun Baru (singkat) nomor 13</a></li>
<li><a href="../id434762/index.html">Catatan seorang phytochemist. Pisang Hijau, atau Ingatlah untuk Memberi Makan Mikrobiota</a></li>
<li><a href="../id434770/index.html">Energi terbarukan: kata-kata dan artinya</a></li>
<li><a href="../id434774/index.html">5 pelajaran yang kami pelajari dengan menulis lebih dari 300.000 baris kode infrastruktur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>