<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∞üèæ üëáüèæ ü§Æ Messung der Harmonie - Schallspektrumanalysator bei STM32L4 Discovery üç± ‚óÄÔ∏è üê®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem fr√ºheren Beitrag haben wir einen billigen chinesischen LCD-Bildschirm an das STM32L4 Discovery Board angeschlossen . Jetzt werden wir versuch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Messung der Harmonie - Schallspektrumanalysator bei STM32L4 Discovery</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/391311/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem fr√ºheren </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beitrag haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir einen billigen chinesischen LCD-Bildschirm an das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32L4 Discovery</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Board angeschlossen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jetzt werden wir versuchen, auf dieser Kombination etwas zu implementieren, das √ºber das herk√∂mmliche Blinken einer LED hinausgeht, n√§mlich einen Schallspektrumanalysator, der das Mikrofon auf der Platine verwendet. </font><font style="vertical-align: inherit;">Gleichzeitig werde ich Ihnen erkl√§ren, wie Sie das FreeRTOS-Betriebssystem verwenden, warum es ben√∂tigt wird und warum eine Musikoktave 12 Noten enth√§lt und mehr als 53 Noten besser als 12 sind.</font></font><br>
<br>
<img src="https://habrastorage.org/files/161/ca0/2dc/161ca02dcec44c9199cc0f503fad1493.jpg"><br>
<br>
<a name="habracut"></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ton Digitalisierung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir m√∂chten das Signal vom Mikrofon empfangen, sein Spektrum mithilfe der schnellen Fourier-Transformation (FPU, um uns zu helfen) berechnen und das Ergebnis in Form eines ‚ÄûFarbwasserfalls‚Äú auf dem LCD anzeigen. Die Schallst√§rke wird farblich kodiert. Wir zeichnen eine Pixellinie vom Rand der Anzeige, wobei das am weitesten links stehende Pixel der minimalen Frequenz und das am weitesten rechts stehende dem Maximum entspricht, w√§hrend das vorherige Bild um eine Linie verschoben wird, wodurch Platz f√ºr eine neue Linie frei wird. Unser Mikrocontroller ist zu kompliziert, um von vorne zu beginnen. Beginnen wir also mit einem Beispiel aus dem STM32Cube-Kit namens DFSDM_AudioRecord. Was ist DFSDM? Dies ist ein digitaler Filter f√ºr die Sigma-Delta-Modulation. Tatsache ist, dass im Gegensatz zu den guten alten analogen Mikrofonen das auf der Discovery-Karte kein Signal in Form einer dem Schalldruck proportionalen Spannung liefert.und als Folge von Nullen und Einsen mit einer Taktfrequenz von mehreren Megahertz. Wenn Sie diese Sequenz durch ein Tiefpassfilter leiten, erhalten Sie das gleiche analoge Signal. Bei fr√ºheren Modellen von Mikrocontrollern war es erforderlich, einen digitalen Filter herzustellen, um ein Audiosignal in digitaler Form zu empfangen. Jetzt hat der Mikrocontroller ein spezielles Modul daf√ºr, und alles, was erforderlich ist, ist es, es zu Beginn des Programms zu konfigurieren. Dazu k√∂nnen Sie entweder die Dokumentation lesen oder ein vorgefertigtes Beispiel verwenden. Ich ging den zweiten Weg. Das folgende Bild zeigt die interne Struktur des Programms DFSDM_AudioRecord.Bei fr√ºheren Modellen von Mikrocontrollern war es erforderlich, einen digitalen Filter herzustellen, um ein Audiosignal in digitaler Form zu empfangen. Jetzt hat der Mikrocontroller ein spezielles Modul daf√ºr, und alles, was erforderlich ist, ist es, es zu Beginn des Programms zu konfigurieren. Dazu k√∂nnen Sie entweder die Dokumentation lesen oder ein vorgefertigtes Beispiel verwenden. Ich ging den zweiten Weg. Das folgende Bild zeigt die interne Struktur des Programms DFSDM_AudioRecord.Bei fr√ºheren Modellen von Mikrocontrollern war es erforderlich, einen digitalen Filter herzustellen, um ein Audiosignal in digitaler Form zu empfangen. Jetzt hat der Mikrocontroller ein spezielles Modul daf√ºr, und alles, was erforderlich ist, ist es, es zu Beginn des Programms zu konfigurieren. Dazu k√∂nnen Sie entweder die Dokumentation lesen oder ein vorgefertigtes Beispiel verwenden. Ich ging den zweiten Weg. Das folgende Bild zeigt die interne Struktur des Programms DFSDM_AudioRecord.</font></font><br>
<br>
<img src="https://habrastorage.org/files/8e1/44b/c40/8e144bc40ef249fb9da506cb7851bc89.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der mit DMA digitalisierte Ton f√§llt in den Ringpuffer. </font><font style="vertical-align: inherit;">DMA verursacht zweimal einen Interrupt: einmal - wenn der Puffer halb voll ist, das zweite Mal - wenn er voll ist. </font><font style="vertical-align: inherit;">Die Interruptroutine setzt einfach das entsprechende Flag. </font><font style="vertical-align: inherit;">Die Funktion main () f√ºhrt nach der Initialisierung eine Endlosschleife aus, in der diese Flags √ºberpr√ºft werden und wenn das Flag gesetzt ist, die entsprechende H√§lfte des Puffers kopiert wird. </font><font style="vertical-align: inherit;">In einem Beispiel werden Daten in einen anderen Puffer kopiert, von wo aus sie erneut mit DMA an den Kopfh√∂rerverst√§rker gesendet werden. </font><font style="vertical-align: inherit;">Ich habe diese Funktionalit√§t verlassen und die Berechnung des Spektrums des Audiosignals hinzugef√ºgt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn es viele Aufgaben gibt</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einfache M√∂glichkeit, unserem Code neue Funktionen hinzuzuf√ºgen, besteht darin, weitere Flags und Schreibfunktionen hinzuzuf√ºgen, die aufgerufen werden, wenn diese Flags gesetzt sind. Das Ergebnis ist normalerweise ein Durcheinander von Flags, Handlerfunktionen und dem globalen Kontext, der global sein muss, da die L√∂sung eines Problems in viele kleine Schritte unterteilt ist, die von einzelnen Funktionen implementiert werden - Ereignishandlern. Eine alternative M√∂glichkeit besteht darin, die Aufgabenverwaltung einem Betriebssystem wie FreeRTOS anzuvertrauen. Auf diese Weise k√∂nnen Sie die Logik erheblich vereinfachen, da jede Aufgabe innerhalb eines eigenen Zyklus von Verarbeitungsereignissen gel√∂st wird, die √ºber die Funktionen des Betriebssystems miteinander interagieren. Zum Beispiel k√∂nnen wir eine Datenverarbeitungsaufgabe als separaten Zyklus hinzuf√ºgen.Dies wartet darauf, dass die Daten auf dem Synchronisationsprimitiv - Semaphor - bereit sind. Das Semaphor ist sehr einfach: Sie k√∂nnen es √ºbergeben, wenn das Flag aktiviert ist und das Flag automatisch weggelassen wird. In unserem Fall setzt die Datenquelle ein Flag, wenn sie Daten f√ºr eine andere Aufgabe vorbereitet. Auf √§hnliche Weise k√∂nnen Sie beliebige Ketten aus Datenquellen- und Datenkonsumententasks erstellen, √§hnlich wie dies beispielsweise im Linux-Betriebssystem der Fall ist.im Linux-Betriebssystem.im Linux-Betriebssystem.</font></font><br>
<br>
<img src="https://habrastorage.org/files/e1a/502/16c/e1a50216cb7142e08478d94f66029289.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich ist die gleichzeitige Ausf√ºhrung von Aufgaben eine Illusion, insbesondere wenn der Computerkern nur einer ist. In diesem Fall k√∂nnen wir sagen, dass wir einen einzelnen Thread der Programmausf√ºhrung durch den Prozessor haben. Semaphoren spielen wie andere Synchronisationsprimitive die Rolle eines magischen Kaninchenlochs, in das der Ausf√ºhrungsfluss bei einer anderen Aufgabe nicht auftaucht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Verbinden von FreeRTOS mit Ihrem Projekt ist ganz einfach. Es ist nur erforderlich, die Endlosschleife, die normalerweise die main () - Funktion im Mikrocontroller beendet, durch einen Aufruf von osKernelStart () zu ersetzen. Danach erkl√§rt Ihnen der Compiler genau, was ihm f√ºr die Kompilierung fehlt. Alle Aktionen, die Sie zuvor in der Schleife ausgef√ºhrt haben, m√ºssen an eine separate Aufgabe √ºbertragen und beim xTaskCreate-Aufruf registriert werden. Danach k√∂nnen Sie beliebig viele weitere Aufgaben hinzuf√ºgen. Es sollte beachtet werden, dass es zwischen den Aufrufen von xTaskCreate und osKernelStart besser ist, keinen Code zu platzieren, der mit Hardware funktioniert, da hier der System-Timer m√∂glicherweise nicht richtig funktioniert. Der Aufruf des Timer-Handlers f√ºr das Betriebssystem osSystickHandler () muss zu SysTick_Handler () hinzugef√ºgt werden, und die beiden Funktionen SVC_Handler und PendSV_Handler sollten aus ihrem Code entfernt werden.da sie im OS-Code implementiert sind. Bei der Registrierung von Aufgaben ist es wichtig, keinen Fehler mit der Gr√∂√üe des Stapels zu machen. Wenn es sich als zu klein herausstellt, kommt es an den unerwartetsten Stellen zu Abst√ºrzen. Das erste, wenn der Stapel √ºberl√§uft, ist die Struktur selbst, die die Aufgabe beschreibt. IAR kann eine Liste von Aufgaben anzeigen. Wenn Sie eine Aufgabe mit einem ge√§nderten Namen sehen, m√ºssen Sie den Stapel vergr√∂√üern.</font></font><br>
<br>
<h4> </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Berechnung des Spektrums verwenden wir die schnelle Fourier-Transformation. Die entsprechende Funktion befindet sich bereits in der Bibliothek. Sie erh√§lt einen mit komplexen Daten gef√ºllten Puffer und bildet dort das Ergebnis. Dementsprechend ben√∂tigt sie am Eingang einen Puffer, in dem sich der digitalisierte Ton mit Nullen abwechselt (komplexer Teil 0). Am Ausgang erhalten wir komplexe Zahlen, f√ºr die wir sofort das Quadrat des Moduls berechnen, indem wir die Quadrate des Real- und Imagin√§rteils addieren. Wir machen das nur f√ºr die H√§lfte des Puffers, weil das Spektrum symmetrisch ist. Wir w√ºrden die zweite H√§lfte brauchen, wenn wir die inverse Transformation durchf√ºhren wollten, aber f√ºr eine einfache Anzeige des Spektrums wird sie nicht ben√∂tigt. Einige zus√§tzliche Anstrengungen sind erforderlich, um das Spektrum in verschiedenen Spektralbereichen berechnen zu k√∂nnen. Um das Spektrum f√ºr niedrige Frequenzen zu erhalten,Ich sammle Daten f√ºr mehrere Zyklen des Lesens des Puffers, wodurch die Abtastfrequenz des Tons, die anf√§nglich 44,1 kHz betr√§gt, effektiv reduziert wird. Das Ergebnis sind 6 Bereiche - 20 kHz, 10 kHz, 5 kHz, 2600 Hz, 1300 Hz, 650 Hz. Verwenden Sie zum Wechseln der Bereiche den Joystick und eine separate Aufgabe. Der Joystick √ºbernimmt auch die Funktion zum Starten / Stoppen des ‚ÄûWasserfalls‚Äú sowie zum Einstellen der Empfindlichkeit. Es ist bequemer, das Spektrum in logarithmischen Einheiten (Dezibel) darzustellen, da sein Dynamikbereich normalerweise sehr gro√ü ist und wir auf einer linearen Skala nur die st√§rksten Komponenten des Spektrums unterscheiden k√∂nnen. Der Logarithmus wird selbst auf der FPU als ziemlich lange Zeit angesehen, daher habe ich den realen Logarithmus durch eine st√ºckweise lineare N√§herung ersetzt, die leicht zu erhalten istDas Ergebnis sind 6 Bereiche - 20 kHz, 10 kHz, 5 kHz, 2600 Hz, 1300 Hz, 650 Hz. Verwenden Sie zum Wechseln der Bereiche den Joystick und eine separate Aufgabe. Der Joystick √ºbernimmt auch die Funktion zum Starten / Stoppen des ‚ÄûWasserfalls‚Äú sowie zum Einstellen der Empfindlichkeit. Es ist bequemer, das Spektrum in logarithmischen Einheiten (Dezibel) darzustellen, da sein Dynamikbereich normalerweise sehr gro√ü ist und wir auf einer linearen Skala nur die st√§rksten Komponenten des Spektrums unterscheiden k√∂nnen. Der Logarithmus wird selbst auf der FPU als ziemlich lange Zeit angesehen, daher habe ich den realen Logarithmus durch eine st√ºckweise lineare N√§herung ersetzt, die leicht zu erhalten istDas Ergebnis sind 6 Bereiche - 20 kHz, 10 kHz, 5 kHz, 2600 Hz, 1300 Hz, 650 Hz. Verwenden Sie zum Wechseln der Bereiche den Joystick und eine separate Aufgabe. Der Joystick √ºbernimmt auch die Funktion zum Starten / Stoppen des ‚ÄûWasserfalls‚Äú sowie zum Einstellen der Empfindlichkeit. Es ist bequemer, das Spektrum in logarithmischen Einheiten (Dezibel) darzustellen, da sein Dynamikbereich normalerweise sehr gro√ü ist und wir auf einer linearen Skala nur die st√§rksten Komponenten des Spektrums unterscheiden k√∂nnen. Der Logarithmus wird selbst auf der FPU als ziemlich lange Zeit angesehen, daher habe ich den realen Logarithmus durch eine st√ºckweise lineare N√§herung ersetzt, die leicht zu erhalten istEs ist bequemer, das Spektrum in logarithmischen Einheiten (Dezibel) darzustellen, da sein Dynamikbereich normalerweise sehr gro√ü ist und wir auf einer linearen Skala nur die st√§rksten Komponenten des Spektrums unterscheiden k√∂nnen. Der Logarithmus wird selbst auf der FPU als ziemlich lange Zeit angesehen, daher habe ich den realen Logarithmus durch eine st√ºckweise lineare N√§herung ersetzt, die leicht zu erhalten istEs ist bequemer, das Spektrum in logarithmischen Einheiten (Dezibel) darzustellen, da sein Dynamikbereich normalerweise sehr gro√ü ist und wir auf einer linearen Skala nur die st√§rksten Komponenten des Spektrums unterscheiden k√∂nnen. Der Logarithmus wird selbst auf der FPU als ziemlich lange Zeit angesehen, daher habe ich den realen Logarithmus durch eine st√ºckweise lineare N√§herung ersetzt, die leicht zu erhalten ist</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Format zur Darstellung einer Zahl in float32</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das wichtigste Bit ist ein Zeichen. </font><font style="vertical-align: inherit;">Die n√§chsten 8 Bits sind der bin√§re Exponent plus 127. Die verbleibenden Bits sind der Bruchteil der Mantisse, obwohl der ganzzahlige Teil 1 ist (der Einfachheit halber lassen wir die Nuancen denormalisierter Zahlen weg). </font><font style="vertical-align: inherit;">Wenn Sie also den Exponenten aus float32 ausgew√§hlt und die wichtigsten Punkte der Mantisse erfasst haben, k√∂nnen Sie eine gute Ann√§herung an den Logarithmus erhalten. </font><font style="vertical-align: inherit;">Unter Verwendung der vorbereiteten Tabelle konvertieren wir die resultierende Zahl in einen RGB-Code zur Anzeige auf dem LCD. </font><font style="vertical-align: inherit;">Es ergibt sich eine Farbskala von 90 oder 60 Dezibel. </font><font style="vertical-align: inherit;">Der Lautst√§rkepegel, der Null dieser Skala entspricht, kann durch Dr√ºcken des Joysticks nach oben und unten eingestellt werden.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir zeigen ein Bild - √ºber die Vorteile des Lesens von Datenbl√§ttern</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt m√ºssen wir nur noch das Bild anzeigen und unseren 'Wasserfall' wiederbeleben. Der einfachste Weg, dies zu tun, besteht darin, das Bild vom gesamten Bildschirm in einem Puffer zu speichern, dort zu aktualisieren und jedes Mal neu zu zeichnen, wenn neue Daten angezeigt werden. Diese L√∂sung ist nicht nur √§u√üerst ineffizient, wir haben auch nicht gen√ºgend Speicher, um das gesamte Bild zu speichern. Es scheint, dass das LCD selbst genug Speicher daf√ºr hat, und es sollte in der Lage sein, etwas Interessantes damit zu tun. In der Tat das Studium des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenblattes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erlaubt den bisher nicht verwendeten Bildlaufbefehl, mit dem Sie die Art und Weise, wie der Speicher des LCD-Controllers auf dem Bildschirm angezeigt wird, dynamisch √§ndern k√∂nnen. </font><font style="vertical-align: inherit;">Stellen Sie sich vor, der Speicher ist ein Band, das in einem Ring eingeschlossen ist, den Sie unter dem Glas des Bildschirms sehen. </font><font style="vertical-align: inherit;">Mit dem Befehl Startadresse f√ºr vertikales Scrollen (0x37) k√∂nnen Sie die Position auf dem Men√ºband festlegen, die dem oberen Bildschirmrand entspricht. </font><font style="vertical-align: inherit;">Alles, was wir brauchen, um den 'Wasserfall' wiederzubeleben, ist, ein neues Spektrum an dieser Position aufzunehmen und durch das Speicherband zu scrollen. </font><font style="vertical-align: inherit;">Der entsprechende Code wurde dem LCD-Treiber hinzugef√ºgt, von dem seri√∂sen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peter Drescher ausgeliehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und wie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">hier</font></a><font style="vertical-align: inherit;"> beschrieben angepasst</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der einzige Nachteil dieses Ansatzes: Das Scrollen funktioniert nur entlang der langen Seite des Bildschirms. </font><font style="vertical-align: inherit;">Dementsprechend steht nur die kurze Seite f√ºr die Spektrumausgabe zur Verf√ºgung.</font></font><br>
<br>
<h4>   12  ?</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommen wir zu den praktischen Anwendungen unseres Ger√§ts. Das erste, was im Spektrum leicht zu erkennen ist, sind Harmonische, dh Frequenzen, die ein Vielfaches der Grundfrequenz sind. Besonders viele von ihnen in der Stimme. Es gibt auch in den Kl√§ngen, die Musikinstrumente machen. Es ist leicht zu verstehen, warum sich die Noten benachbarter Oktaven in der Frequenz um das Zweifache unterscheiden: Dann stimmen die Noten einer h√∂heren Oktave in der Frequenz mit der zweiten Harmonischen der Noten einer niedrigen Oktave √ºberein. Sie sagen, dass sie gleichzeitig "im Einklang" klingen. Es ist etwas schwieriger zu verstehen, warum eine Oktave 12 Noten enth√§lt - sieben Hauptt√∂ne (wei√üe Tasten auf der Klaviertastatur) plus f√ºnf zus√§tzliche (schwarze Tasten). Zus√§tzliche Noten werden durch die Hauptnoten mit scharfen und flachen Zeichen angezeigt, obwohl es tats√§chlich keinen Unterschied zwischen ihnen und den Hauptnoten gibt - alle 12 Noten bilden also einen geometrischen Verlaufdass das Verh√§ltnis der Frequenzen zwischen benachbarten Noten gleich der Wurzel des 12. Grades von 2 ist. Die Bedeutung dieser Unterteilung der Oktave in Noten ist, dass es f√ºr jede Note andere Noten gibt, deren Frequenz sich um das Eineinhalbfache unterscheidet - diese Kombination wird als f√ºnfte bezeichnet. Die Noten, aus denen die f√ºnfte Note besteht, klingen im Einklang, da die zweite Harmonische einer Note in der Frequenz mit der dritten Harmonischen der anderen Note √ºbereinstimmt. Das Foto unten zeigt die Spektren der Noten Do und Sol, die eine f√ºnfte, passende Harmonische bilden, die gelb eingekreist sind.bilden eine f√ºnfte, passende Harmonische sind gelb eingekreist.bilden eine f√ºnfte, passende Harmonische sind gelb eingekreist.</font></font><br>
<br>
<img src="https://habrastorage.org/files/f94/5fc/a0b/f945fca0b6bc4e2dba330034753df77a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kommt es, dass Notizen 12? </font><font style="vertical-align: inherit;">Da die Noten eine geometrische Folge bilden, gehen wir zu den Logarithmen √ºber. </font><font style="vertical-align: inherit;">ln (1,5) / ln (2) = 0,58496 ... F√ºr den Bruch 7/12 = 0,583 wird ein enger Wert erhalten ... Das hei√üt, sieben Halbt√∂ne (Intervalle zwischen benachbarten Noten) liegen sehr nahe am f√ºnften, 1,498. </font><font style="vertical-align: inherit;">Interessanterweise ergibt der Bruch 31/53 = 0,58491 .. eine viel gr√∂√üere Genauigkeit, so dass sich der f√ºnfte von 1,5 nur in der f√ºnften Dezimalstelle unterscheidet. </font><font style="vertical-align: inherit;">Diese Tatsache blieb nicht unbemerkt, aber Musikinstrumente mit 53 Noten in einer Oktave wurden nicht verteilt. </font><font style="vertical-align: inherit;">Sie sind schwer zu stimmen, sie sind schwer zu spielen und der Prozentsatz der Menschen, die den Unterschied zu herk√∂mmlichen Werkzeugen sp√ºren k√∂nnen, ist verschwindend gering.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Liegt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">F√ºr die Kompilierung wurde IAR Embedded Workbench f√ºr ARM 7.50.2 verwendet. </font><font style="vertical-align: inherit;">F√ºr die Kompilierung sind keine weiteren Bibliotheken erforderlich.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de391311/">https://habr.com/ru/post/de391311/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de391293/index.html">Wir diskutieren den Kontext des modernen Klangs</a></li>
<li><a href="../de391295/index.html">Die Wikimedia Foundation erhielt 220 Anfragen zum Entfernen / √Ñndern von Inhalten. Zufrieden - 0%</a></li>
<li><a href="../de391301/index.html">Video: Hacken eines Fingerabdrucksensors Samsung Galaxy S6 und Huawei Honor 7 mit einem herk√∂mmlichen Drucker</a></li>
<li><a href="../de391305/index.html">Copyright-K√§mpfer und Musiker Kanye West mit The Pirate Bay gefangen</a></li>
<li><a href="../de391307/index.html">Was ist das Geheimnis von Mozarts Popularit√§t?</a></li>
<li><a href="../de391313/index.html">Handy behoben: kein Problem bei der Kommunikation</a></li>
<li><a href="../de391315/index.html">Das Ende der 3D-√Ñra? Philips und Samsung stellen 3D-Fernseher ein</a></li>
<li><a href="../de391317/index.html">Wie entsteht die finanzielle Bewertung von IT-Startups: McKinsey-Methode</a></li>
<li><a href="../de391319/index.html">Boris Nikolaevich Malinovsky - ein Veteran der Computertechnologie</a></li>
<li><a href="../de391321/index.html">VISA plant die Entwicklung von Blockchain-Zahlungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>