<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòó üöå üé¨ AWS Lambda - Theorie, Bekanntschaft üòò üí≥ üç¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eine kurze Tour durch AWS Lambda 
 Was ist das? 
 AWS Lambda: Dies ist ein Computerdienst, mit dem Sie Code f√ºr nahezu jede Art von Anwendung oder Ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AWS Lambda - Theorie, Bekanntschaft</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457100/"><h2>  Eine kurze Tour durch AWS Lambda </h2><br><h3>  Was ist das? </h3><br>  <b>AWS Lambda:</b> Dies ist ein Computerdienst, mit dem Sie Code f√ºr nahezu jede Art von Anwendung oder Serverdienst ausf√ºhren k√∂nnen - alles ohne Verwaltung.  AWS Lambda √ºbernimmt die gesamte Verwaltung f√ºr Sie, einschlie√ülich Server- und Betriebssystemwartung, Ressourcenzuweisung und automatischer Skalierung, Code√ºberwachung und Protokollierung.  Sie m√ºssen lediglich Ihren Code in einer der von AWS Lambda unterst√ºtzten Sprachen einreichen. <br><br><h3>  Warum es benutzen? </h3><br><ul><li>  <b>Das Geld.</b>  Sie zahlen nur f√ºr die Zeit, in der der Dienst ausgef√ºhrt wird. </li><li>  <b>Geschwindigkeit.</b>  Lambda selbst steigt auf und arbeitet sehr schnell. </li><li>  <b>Bequemlichkeit.</b>  Lambda bietet viele Funktionen f√ºr die Integration in AWS-Services. </li><li>  <b>Leistung.</b>  Parallel dazu k√∂nnen je nach Region maximal 1000 bis 3000 Kopien durchgef√ºhrt werden.  Und wenn Sie m√∂chten, kann diese Grenze durch Schreiben zur Unterst√ºtzung angehoben werden. </li></ul><br><blockquote>  Dieser Ansatz hat seine Nachteile: Sie k√∂nnen das Betriebssystem, auf dem der Code ausgef√ºhrt wird, nicht steuern. Sie k√∂nnen die CPU, den Speicher und die Ressourcen nicht steuern.  All dies wird von AWS durchgef√ºhrt. <br><br>  Sie k√∂nnen lediglich eine Sprache aus dem unterst√ºtzten AWS Lambda ausw√§hlen. </blockquote><br><h2>  Was kann? </h2><br>  <b>Im Folgenden finden Sie eine kurze Liste der Hauptfunktionen von AWS Lambda.</b>  <b>Als n√§chstes werden wir alles in Ordnung betrachten.</b> <br><br><img src="https://habrastorage.org/webt/lk/ke/ur/lkkeurxtlx9itiqksndcmjbn2rq.png"><br><a name="habracut"></a><br><h3>  1. Ausl√∂ser </h3><br>  <b>Ausl√∂ser</b> sind die ‚ÄûKrankheitserreger‚Äú von Lambda.  In gewisser Weise kann Lambda mit PHP verglichen werden, in dem Sinne, dass es f√ºr uns <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">l√§uft und stirbt</a> .  Als n√§chstes werden wir den Arbeitsmechanismus im Detail betrachten.  Im Moment m√ºssen Sie verstehen, dass Lambda eine Funktion ist, die auf Anfrage von Triggern ausgef√ºhrt wird. <br><br>  <b>Unten finden Sie eine Liste aller m√∂glichen Ausl√∂ser:</b> <br><br>  API-Gateway <br>  AWS IoT <br>  Alexa Skills Kit <br>  Alexa Smart Home <br>  Application Load Balancer <br>  Cloudfront <br>  Cloudwatch-Ereignisse <br>  Cloudwatch-Protokolle <br>  CodeCommit <br>  Cognito-Synchronisationsausl√∂ser <br>  Dynamodb <br>  Kinesis <br>  S3 <br>  SNS <br>  SQS <br><br>  F√ºr jeden von ihnen m√ºssen Sie eindeutige Parameter konfigurieren, die f√ºr diese Trigger verf√ºgbar sind.  Sie k√∂nnen auch mehrere Trigger f√ºr ein Lambda konfigurieren.  Es h√§ngt von der Art des Triggers ab, ob das Lambda synchron oder asynchron ausgef√ºhrt wird. <br><blockquote>  <b>Hinweis:</b> Bitte beachten Sie, dass das Lambda entweder mithilfe der AWS CLI oder des AWS SDK im manuellen Modus ausgef√ºhrt werden kann, wobei alle erforderlichen Parameter √ºbergeben werden.  Einschlie√ülich, ob es synchron ausgef√ºhrt wird oder nicht </blockquote><br><h4>  Schauen wir uns ein Beispiel an: </h4><br>  <b>1. Gateway-API</b> - Erm√∂glicht das Abrufen des Lambda in der http-Anforderung und erfordert, dass das Ergebnis an den Benutzer zur√ºckgegeben wird.  Eine solche Operation kann nicht asynchron ausgef√ºhrt werden, weil  erfordert eine Antwort.  F√ºr synchrone Operationen sind einige Funktionen nicht verf√ºgbar. <br><br>  <b>2. SQS</b> - Wenn unser Lambda beispielsweise Nachrichten von SQS verarbeitet, m√ºssen Sie das Ergebnis nirgendwo zur√ºckgeben und es kann asynchron ausgef√ºhrt werden.  Bei der asynchronen Ausf√ºhrung werden mehrere neue Funktionen angezeigt. Beispielsweise k√∂nnen wir im Fehlerfall die wiederholte Ausf√ºhrung konfigurieren oder solche Anforderungen weiter an die "tote" <b>SQS-</b> Warteschlange senden. <br><br><h3>  2. Berechtigungen f√ºr AWS Services </h3><br>  Dies sind AWS-Services, auf die Lambda standardm√§√üig Zugriff hat.  Was bedeutet das?  Sie k√∂nnen das AWS SDK jederzeit mit der Funktion verbinden, die Sie schreiben m√∂chten, und ohne die Schl√ºssel oder Autorisierungsparameter k√∂nnen Sie die verf√ºgbaren Dienste verwenden.  Sie definieren alle verf√ºgbaren Dienste in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IAM-Rolle</a> , die Sie f√ºr dieses Lambda verwenden. <br><br>  Jede verwendete Sprache verf√ºgt √ºber ein eigenes SDK, das mit den wichtigsten AWS-Diensten kommunizieren kann. <br><blockquote>  <b>Hinweis:</b> F√ºr jedes Lambda konfigurieren Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IAM-Rolle</a> von der Person, die das Lambda ausf√ºhren wird </blockquote><br><h3>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VPC</a> </h3><br>  Sie k√∂nnen ein virtuelles Netzwerk f√ºr Ihr Lambda konfigurieren, um beispielsweise eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sichere Verbindung</a> zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RDS herzustellen</a> . <br><br><h3>  4. Online-Editor </h3><br>  AWS Lambda bietet auch die M√∂glichkeit, den Code Ihrer Funktion direkt √ºber die Benutzeroberfl√§che Ihres Browsers zu bearbeiten. <br><br><img src="https://habrastorage.org/webt/yy/hs/4y/yyhs4ymw2tzhj7hrsb8glnpttfm.png"><br><br><h3>  5. Protokollierung </h3><br>  Alle Anforderungen f√ºr Lambda werden in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CloudWatch</a> protokolliert, dort werden auch Daten zur Laufzeit und zum Speicher aufgezeichnet. Diese Daten k√∂nnen sehr n√ºtzlich sein, um Grenzwerte festzulegen.  Der Code kann auch Ihre eigenen Daten protokollieren (z. B. in Node.js √ºber console.log). <br><br>  Dar√ºber hinaus k√∂nnen Sie auf der Registerkarte <b>√úberwachung</b> immer Statistiken zur Lambda-Nutzung anzeigen. <br><br><h3>  6. Umgebungsvariablen </h3><br>  Sie haben die M√∂glichkeit, Umgebungsvariablen sicher in Code zu √ºbertragen, wodurch Sie wichtige Teile des Systems konfigurieren k√∂nnen, ohne Code zu liefern.  Es ist m√∂glich, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Umgebungsvariablen √ºber Schl√ºssel</a> zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verschl√ºsseln.</a> <br><blockquote>  <b>Hinweis:</b> Beachten Sie, dass eine Liste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">vordefinierter</a> Umgebungsvariablen vorhanden ist </blockquote><br><h3>  7. Code </h3><br>  <b>Der interessanteste Teil, das Lambda selbst, besteht aus mehreren Teilen.</b> <br><br>  <b>1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ebenen</a></b> - die unterste Ebene.  Es ist nicht erforderlich, aber wenn Sie einige Bibliotheken hinzuf√ºgen m√ºssen, um das Lambda zu verwenden, m√ºssen Sie sie getrennt vom Hauptcode einf√ºgen, damit Sie die Menge des Hauptcodes und die Geschwindigkeit der Funktion selbst erheblich sparen. <br><br>  Ebenen in AWS Lambda √§hneln <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ebenen in Docker</a> insofern, als sie in Bezug auf eine Funktion permanent sind und separat ge√§ndert werden m√ºssen.  Sie k√∂nnen auch in anderen Lambdas wiederverwendet werden. <br><br>  <b>2. Funktionsumgebung</b> - Der Code muss unbedingt eine Funktion enthalten, die bei jedem Start des Lambda <b>(Handler)</b> direkt ausgef√ºhrt <b>wird</b> .  √úber sie unten.  Und vor ihr ist ihre Umgebung, die wir fragen.  Tatsache ist, dass die Ressourcenverwaltung so erfolgt, dass diese Umgebung nach ihrem Abschluss einige Zeit getrennt von der Funktion gespeichert wird.  Und beim n√§chsten Start wird es fortgesetzt, ohne Zeit und Ressourcen f√ºr die Initialisierung aufzuwenden.  Daher muss alles, was m√∂glich ist, auf die Funktion selbst initialisiert werden, z. B. Konfiguration, Verbinden von Bibliotheken usw. <br><br>  <b>3. Handler</b> - Der direkt ausgef√ºhrte Code selbst ist je nach Sprache unterschiedlich definiert.  Nehmen Sie zum Beispiel Node.Js.  Damit Ihr Code ausgef√ºhrt werden kann, ben√∂tigen Sie: <br><br><ol><li>  js Datei - 1pc </li><li>  exports.yourFunction = () =&gt; {// Ihr Code} - 1pc </li></ol><br>  Standardm√§√üig wird index.js gestartet und sucht darin nach einer Funktion namens "handler".  Dann f√ºhrt es aus.  Ihre Funktion ist m√∂glicherweise im Code asynchron.  Dies hat keinen Einfluss auf die synchrone Ausf√ºhrung von Lambda. <br><br>  Unten ist ein Beispielcode, ich werde versuchen zu beschreiben, was dort passiert: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//AWS SDK  ,     e var AWS = require('aws-sdk'); //   //   ,    //   API Gateway. // ,    http  exports.handler = async(event, context) =&gt; { // event       // context     aws lambda : //   ,      console.log('testing cloud watch'); // ^       Cloud Watch   return { //     http ,     statusCode: 200, body: 'Hello world', headers: {} }; }; exports.handler = (event, context, callback) =&gt; { //    callback, // -      callback( null, //&lt;-  ,       { //     statusCode: 200, body: 'Hello world' } ); };</span></span></code> </pre> <br><h3>  8. Versionierung </h3><br>  Der Dienst unterst√ºtzt die bequeme Versionierung.  Kurz gesagt, wir k√∂nnen f√ºr jede heruntergeladene Kopie eine Version herausgeben.  Und f√ºgen Sie Aliase hinzu, die auf eine Version verweisen.  Wie funktioniert es  Siehe die Tabelle unten. <br><br><img src="https://habrastorage.org/webt/9n/m-/5r/9nm-5r9vatuospaqdnmjk_l5rys.png"><br><br><h3>  Lassen Sie uns nun herausfinden, was getan werden muss, um das zu erhalten, was wir im Diagramm sehen </h3><br><h4>  Geben Sie einen an </h4><br><ol><li>  Erstellen Sie die erste Version unseres Lambda.  Zusammen mit der ersten Version erstellen wir einen Zeiger auf die Version von <b>"$ LATEST"</b> .  Es zeigt immer die neueste hinzugef√ºgte Version an. </li><li>  F√ºgen Sie den Alias <b>"Dev" hinzu</b> .  Hier w√§hlen wir aus, wo gebunden werden soll. Wir haben verschiedene M√∂glichkeiten: Erstellen Sie einen Zeiger auf eine bestimmte Versionsnummer, in unserem Fall <b>"1"</b> , binden Sie den Zeiger an <b>"$ LATEST"</b> oder binden Sie an einen anderen Alias.  In diesem Fall h√§ngen wir an den Zeiger <b>"$ LATEST" an</b> , und jetzt zeigt unser Alias <b>"Dev"</b> immer auf den letzten Zweig, sodass wir unsere Anwendung immer mit der neuesten Version von Lambda in der Entwicklungsumgebung testen k√∂nnen.  Und wenn wir pl√∂tzlich √ºberpr√ºfen m√ºssen, wie es mit der alten Version funktioniert, m√ºssen wir nur den Alias ‚Äã‚Äãim Trigger √§ndern oder den Link im Alias ‚Äã‚Äãauf die Version √§ndern, ohne unsere Anwendung zu ber√ºhren </li><li>  F√ºgen Sie <b>den Stage-</b> Alias ‚Äã‚Äãhinzu und binden Sie ihn an die erste Version unseres Lambda </li><li>  F√ºgen Sie den Alias <b>"Prod" hinzu</b> und wiederholen Sie, was wir f√ºr die <b>"B√ºhne"</b> getan haben. </li></ol><br><blockquote>  <b>Hinweis:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier wird</a> beschrieben, wie Sie in der Praxis mit Aliasnamen arbeiten.  Der praktische Teil zu Lambda wird im n√§chsten Artikel zusammen mit SQS behandelt </blockquote><br>  <b>Und so haben wir jetzt etwas Unverst√§ndliches, tats√§chlich beziehen sich 3 Aliase auf eine Version, es ist nicht klar.</b>  <b>Aber nichts, alles in Ordnung</b> <br><br><h4>  Zweiter Zustand </h4><br><ol><li>  Erstellen Sie eine zweite Version unseres Lambda (Es ist m√∂glich, die zweite Ausgabe von ‚ÄûHallo Welt‚Äú hinzuzuf√ºgen).  Hier m√∂chte ich darauf hinweisen, dass <b>"$ LATEST"</b> in diesem Moment sofort auf die zweite Version schauen wird.  Und da <b>"Dev"</b> an <b>"$ LATEST"</b> gebunden <b>ist</b> , wird er sich auch die zweite Version ansehen. </li><li>  Als n√§chstes m√∂chten wir, dass unsere <b>B√ºhne</b> die zweite Version betrachtet.  Jetzt ist es an Version <b>"1"</b> gebunden.  Hier m√ºssen wir die durch <b>"Stage</b> " angegebene Version manuell √§ndern. </li><li>  Freut euch.  Wir haben das, was wir als zweiten Zustand auf der Karte sehen.  Das hei√üt, unser <b>"Prod"</b> betrachtet die erste Version und <b>"Dev"</b> und <b>"Stage"</b> die zweite. </li></ol><br><h4>  Dritter Zustand </h4><br>  Um den dritten Status zu erhalten, m√ºssen wir unserem Code nur noch ein paar Zeilen hinzuf√ºgen, und es wird eine dritte Version unseres Lambda geben.  Und <b>"Dev"</b> wird sie jetzt ansehen. <br><br><h2>  Fassen Sie zusammen </h2><br>  Und was haben wir? <br><br>  Ein kleiner.  Schnell.  Relativ g√ºnstig.  Autoscale.  Versioniert.  Funktion. <br>  In diesem Artikel haben wir nur den theoretischen Teil betrachtet, die Vertrautheit mit diesem Service.  Gleich wie bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SQS</a> im letzten Artikel.  Im n√§chsten Artikel werden wir untersuchen, wie diese beiden Dienste miteinander interagieren, und in praktischer Form werden wir lernen, wie sie konfiguriert und verwendet werden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457100/">https://habr.com/ru/post/de457100/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457090/index.html">Sicherheitskrippen: JWT</a></li>
<li><a href="../de457092/index.html">Wir studieren MITRE ATT & CK. Mobile Matrizen: Ger√§tezugriff. Teil 5</a></li>
<li><a href="../de457094/index.html">Excel-Add-In, mit dem Filter bei der Arbeit mit Cubes (VBA) einfach festgelegt werden k√∂nnen</a></li>
<li><a href="../de457096/index.html">Wir geben mehreren Analysten die Hand: API Livy zur Automatisierung typischer Bankaufgaben</a></li>
<li><a href="../de457098/index.html">Elegante JavaScript-Fehlerbehandlung mit der Entweder-Monade</a></li>
<li><a href="../de457102/index.html">QVD-Dateien - was ist drin, Teil 3</a></li>
<li><a href="../de457106/index.html">Der US-Robo-Call-Krieg - wer gewinnt und warum</a></li>
<li><a href="../de457108/index.html">WWDC19: Erste Schritte mit dem Testplan f√ºr XCTest</a></li>
<li><a href="../de457110/index.html">Unit-Test von C ++ - und Mock-Injection-Mustern unter Verwendung von Merkmalen</a></li>
<li><a href="../de457112/index.html">Die Ergebnisse von HolyJS 2019 Piter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>