<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥂 👩‍❤️‍💋‍👩 🤥 MIT-Kurs "Computer Systems Security". Vorlesung 13: Netzwerkprotokolle, Teil 2 🧜 👩🏾‍🌾 ⭐️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Massachusetts Institute of Technology. Vorlesung # 6.858. "Sicherheit von Computersystemen." Nikolai Zeldovich, James Mickens. 2014 Jahr 
 Computer Sy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MIT-Kurs "Computer Systems Security". Vorlesung 13: Netzwerkprotokolle, Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427771/"><h3>  Massachusetts Institute of Technology.  Vorlesung # 6.858.  "Sicherheit von Computersystemen."  Nikolai Zeldovich, James Mickens.  2014 Jahr </h3><br>  Computer Systems Security ist ein Kurs zur Entwicklung und Implementierung sicherer Computersysteme.  Die Vorträge behandeln Bedrohungsmodelle, Angriffe, die die Sicherheit gefährden, und Sicherheitstechniken, die auf jüngsten wissenschaftlichen Arbeiten basieren.  Zu den Themen gehören Betriebssystemsicherheit, Funktionen, Informationsflussmanagement, Sprachsicherheit, Netzwerkprotokolle, Hardwaresicherheit und Sicherheit von Webanwendungen. <br><br>  Vorlesung 1: „Einführung: Bedrohungsmodelle“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 2: „Kontrolle von Hackerangriffen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 3: „Pufferüberläufe: Exploits und Schutz“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 4: „Trennung von Privilegien“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 5: „Woher kommen Sicherheitssysteme?“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> <br>  Vorlesung 6: „Chancen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 7: „Native Client Sandbox“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 8: „Netzwerksicherheitsmodell“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 9: „Sicherheit von Webanwendungen“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 10: „Symbolische Ausführung“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 11: „Ur / Web-Programmiersprache“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 12: Netzwerksicherheit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <br>  Vorlesung 13: „Netzwerkprotokolle“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3</a> <a name="habracut"></a><br><br>  <b>Student: Der</b> Client kann dieses Ticket nicht entschlüsseln, da es mit dem Serviceschlüssel verschlüsselt ist. <br><br>  <b>Professor:</b> Ja, das ist wirklich klug, nicht wahr?  Wir haben den Schlüssel Kc, s, den der Client empfangen kann, aber hier auf dem Ticket Tc, s befindet sich eine weitere Kopie dieses Schlüssels, die mit Ks verschlüsselt ist. <br><br><img src="https://habrastorage.org/webt/kl/5n/6e/kl5n6e4epx_expi1zev6grsj30y.jpeg"><br><br>  Der Grund dafür ist, dass der Kerberos-Server tatsächlich versucht, die Kommunikation des Clients mit dem anderen Mann zu sichern.  Daher erstellt Kerberos einen zufälligen Schlüssel Kc, s und gibt eine Kopie an den Client und eine weitere an den Server, mit dem der Client sprechen wird.  Stellen Sie sich vor, Kerberos würde den Dienst nur mit den Worten anrufen: "Hey, Dienst, dieser Typ möchte mit Ihnen sprechen, das ist der Schlüssel dafür!"  Dies wäre unglücklich, da der Kerberos-Server bei jeder Anforderung immer wieder auf den Dienst zugreifen würde.  Daher erstellt KDS zwei Kopien des Sitzungsschlüssels: eine für den Client und eine für TGS. <br><br>  Daher haben sich die Entwickler stattdessen einen guten Trick ausgedacht, bei dem sie dem Kunden dieses Ticket zur Verfügung stellen, und er kann nichts mit ihm tun, außer ihn mit dem richtigen Service zu kontaktieren.  Und wenn dieser Dienst den richtigen Ks-Schlüssel hat, wird er entschlüsselt und sagt: "Ja, dies ist derselbe Schlüssel, den ich verwenden muss, um mit diesem Client zu sprechen."  Somit legen beide Teilnehmer an der Verbindung, Client und Service, einen gemeinsamen Schlüssel zum Schutz ihrer Verbindung fest. <br><br>  <b>Student:</b> Also, was ist TGS? <br><br>  <b>Professor:</b> Es gibt zwei Ansichten darüber, was TGS ist.  Aus Sicht des Kunden ist dies nur ein weiterer Service, für den Sie ein Ticket erhalten können.  Je mehr Funktionen dieser Service bietet, desto mehr Tickets bietet er.  Dies ist eigentlich ein Ticketservice. <br><br>  <b>Student:</b> Entschuldigung, ich meinte, wir haben ein Ticket namens TGS. <br><br>  Professor: Oh ja, sorry, die Inschrift tgs unter dem Pfeil in diesem Diagramm ist nur eine Abkürzung für den gesamten Aufzeichnungsblock, mit Ausnahme der Indizes s im Parameter Tc, s, was bedeutet, dass der tatsächliche Name dieses Dienstes TGS ist.  Sie können sich vorstellen, dass wir einen Kerberos-Server haben, es gibt diesen TGS-Dienst und es gibt einen echten Dienst, den Sie erreichen möchten.  Zuerst müssen Sie Kerberos bitten, Ihnen ein Ticket zu geben, um Zugang zu einem bestimmten Dienst zu erhalten. <br><br><img src="https://habrastorage.org/webt/hw/zr/hw/hwzrhw6lhgb-pvgkiesyon92txs.jpeg"><br><br>  Sie könnten Kerberos bitten, Ihnen ein Ticket direkt an den Dateiserver zu geben, und das könnte funktionieren.  Dafür benötigen Sie jedoch Ihren Kc zur Entschlüsselung und für den Rest der Zeit über den Server.  Stattdessen erhalten Sie ein Ticket für den speziellen TGS-Service.  Es sieht genauso aus wie andere Dienste, nur dass es in einem separaten Feld abgelegt wird.  Gerne gibt er Ihnen später weitere Tickets, ohne Ihren ursprünglichen Kc-Kundenschlüssel erneut bereitzustellen. <br><br>  <b>Student:</b> Das heißt, seine Idee ist, dass Sie Ihren Kc-Schlüssel einfach loswerden können, sobald Sie ein TGS-Ticket erhalten? <br><br>  <b>Professor:</b> Ja, das Coole daran ist, dass Sie das Passwort und den Schlüssel Kc loswerden, sobald Sie dieses Ticket Tc vom TGS-Dienst erhalten.  Sobald Sie sich bei der Athena Workstation anmelden und nach einigen Sekunden ein Ticket T, s erhalten, wird Ihr Passwort aus dem Speicher gelöscht.  Selbst wenn jemand Sie packt, den Computer auswählt und mit ihm davonläuft, hat er nur Ihr Ticket.  Es ist gut, wenn er 10 Stunden lang oder für die Dauer des Tickets auf Ihre Informationen zugreifen kann, jedoch nicht länger, da das Passwort nicht gespeichert wurde und Sie es beim nächsten Betreten von Athena erneut eingeben müssen. <br><br>  Sie benötigen nur dann ein Kennwort, wenn Sie eine Anfrage an den Kerberos-Server senden. Sie erhalten diese Antwort mit einem Ticket und entschlüsseln sie.  Danach können Sie das Passwort vergessen.  Natürlich können Sie das Passwort nicht löschen, bevor Sie es zum Entschlüsseln verwenden. <br>  Somit wird die erste obere Schnittstelle C in unserem Schema verwendet, um ein Ticket mit dem Anfangsschlüssel Kc zu erhalten, und die zweite untere Schnittstelle S wird verwendet, um auf Dienste zuzugreifen, jedoch ohne dass der Anfangsschlüssel Kc erhalten werden muss. <br><br><img src="https://habrastorage.org/webt/p_/sa/co/p_sacoagwvxlzixm2wmfkxcrax8.jpeg"><br><br>  Wir haben also bereits über zwei spezifische Probleme des Kerberos-Protokolls gesprochen, die sozusagen in das Kerberos-Protokoll eingebaut sind und einige Unannehmlichkeiten verursachten.  Zunächst gingen die Ersteller davon aus, dass die Verschlüsselung auch Authentifizierung oder Nachrichtenintegrität bieten würde, dies geschah jedoch nicht.  Dieser Fehler wurde in Kerberos Version 5 behoben, in der eine explizite Nachrichtenauthentifizierung durchgeführt wird.  Zweitens hatten sie für beliebige Kunden die Möglichkeit, die Passwörter anderer Personen zu erraten. <br><br>  Wie kann das behoben werden?  Wie kann man Angriffe verhindern, indem man das Passwort in Protokollen dieser Art errät?  Was können wir versuchen? <br><br>  <b>Student:</b> Ich bin mir nicht sicher, aber Sie können versuchen, das Passwort zu "salzen". <br><br>  <b>Professor:</b> „Salzen“ bedeutet einfach, dass der Kunde das Passwort möglicherweise auf verschiedene Arten hashen muss.  Aber es tut nicht weh, zu versuchen, es aufzuheben.  Es könnte also teurer sein, ein Wörterbuch zu erstellen. <br><br>  <b>Student:</b> Sie können versuchen, die Berechnung des Passworts zu erschweren. <br><br>  <b>Professor:</b> Ja, eine andere gute Idee ist es, den Hash-Prozess sehr teuer zu machen.  Vielleicht ist das vernünftig.  Wenn diese Hash-Funktion eine Sekunde Rechenzeit benötigt, wie Sie es im zweiten Labor getan haben, wäre die Auswahl von Passwörtern in diesem Fall eine sehr teure Aufgabe.  Dies scheint also ein vernünftiger Plan zu sein - eine Kombination aus „Salzen“ und Komplizieren des Vermutungsprozesses zu verwenden. <br><br>  Eine andere Verteidigung kann darin bestehen, die Reaktion zu erschweren.  Sie haben gehört, dass der Kerberos-Server in den ersten Versionen des Protokolls keine Ahnung hatte, ob der richtige Client darauf zugreift oder nicht.  Sie können den Nachweis erbringen, dass Sie der richtige Client sind, dh den aktuellen Zeitstempel mit einem Kennwort-Hash oder ähnlichem verschlüsseln.  Dann könnte der Kerberos-Server einfach prüfen, ob diese Dinge korrekt sind, und Ihnen, falls sie übereinstimmen, ein Ticket zur Verfügung stellen. <br><br>  Sie möchten wahrscheinlich keine weiteren Testschritte hinzufügen, aber das könnte funktionieren.  Angenommen, Sie können vorerst einen Zeitstempel nehmen und ihn zusammen mit der Taste Kc hashen und auch nur einen Zeitstempel hinzufügen. <br><br><img src="https://habrastorage.org/webt/_w/z8/tc/_wz8tcsw1hrju-q5dmxqomp6jto.jpeg"><br><br>  In diesem Fall kann der Server sehen, dass er Ihren Kc-Schlüssel hat, und er kann auch den aktuellen Zeitstempel hashen.  Wenn es den gleichen Wert erhält, wird die Anfrage wahrscheinlich von dem richtigen Benutzer gestellt, an den das Ticket gesendet werden kann.  Wenn nicht, war es das falsche Passwort. <br><br>  <b>Student:</b> Sie können die Ausgabe von Tickets einfach einschränken, wenn die Server zu viele Anfragen für deren Bereitstellung aufzeichnen. <br><br>  <b>Professor:</b> Ganz richtig, wir können eine Einschränkung einführen.  Es gibt jedoch keinen Grund für einen Hacker, ein Ticket mehr als einmal auf dem Server anzufordern.  Er fragt einfach nach einem bestimmten Benutzer, erhält diesen verschlüsselten Block von ihm und kann versuchen, ihn so oft offline zu entschlüsseln, wie er möchte, mit unterschiedlichen Passwörtern ohne eine zweite Anfrage.  Daher denke ich, dass der ganze Schutzpunkt darin besteht, dass der Server irgendwie auf die Anzahl der Anrufe reagiert, wenn der Angreifer den Server wiederholt anfordert und versucht, unter verschiedenen Passwörtern in das System einzutreten.  In diesem Fall kann das Abfragelimit erreicht werden, was einen besseren Schutz gegen Hacking bietet. <br><br>  <b>Student:</b> Wie kann ein Angreifer eine Anfrage an den Kerberos-Server senden? <br><br>  <b>Professor:</b> Ich denke, er könnte die Nachricht des richtigen Benutzers reproduzieren, dh sehen, kopieren, senden und auch eine Antwort vom Kerberos-Server erhalten.  Wenn ein Hacker das Netzwerk scannt, kann er die Nachricht während der Übertragung abfangen.  Die Begrenzung der Anzahl der Anforderungen ist daher eine vorübergehende Maßnahme, die die Sicherheit nur geringfügig erhöht.  Wenn Sie sich jedoch das Netzwerk eines anderen Benutzers ansehen, werden Sie natürlich sehen, wie dieses Paket vom Server zurückgegeben wird, unabhängig davon, was zum Zeitpunkt der Bildung von Tc, s passiert ist.  So kann der Hacker die Antwort des Servers auf den Client sehen und versuchen, ihn anzugreifen. <br><br>  Es gibt wahrscheinlich komplexere Schemata, die Sie entwickeln könnten, aber ich glaube nicht, dass Kerberos 5 etwas Komplizierteres implementiert als den Plan, den wir überprüft haben. Dies scheint gut genug zu sein, um zu verhindern, dass zufällige Personen versuchen, etwas zu brechen oder Brute zu verwenden. zwingen, ein Passwort zu knacken. <br><br>  <b>Student:</b> Angenommen, Sie können eine Authentifizierung oder etwas anderes bereitstellen, um einen gemeinsam genutzten Schlüssel einzurichten.  Und dann können Sie dieses Ding und den gemeinsamen Schlüssel mit Kc verschlüsseln. <br><br>  <b>Professor:</b> Ja, das ist es.  Wenn Sie es wirklich richtig machen, gibt es dafür ein Protokoll namens PAKE (Password Authenticated Key Exchange), das die Kennwortauthentifizierung durchführt.  Genau das passiert in Kerberos. <br><br><img src="https://habrastorage.org/webt/dd/ls/ol/ddlsolffyiktm0e4cevjbd1ugei.jpeg"><br><br>  Sie können bei Google nachsehen, wozu die SRP- oder PAKE-Protokolle dienen.  Diese Protokolle und die zugehörigen Elemente eignen sich viel besser für Ihre Aufgabe, bei der Sie beiden Parteien nachweisen müssen, dass Sie einen neuen Schlüssel installiert haben.  In diesem Fall müssen beide Parteien davon überzeugt sein, dass sie sich gegenseitig korrekt sind und dass es keine Möglichkeit gibt, dieses Kennwort offline zu erraten und die beobachteten Netzwerkpakete usw. anzugreifen. <br><br>  Dies sind Protokolle, die stark von Kryptografie abhängen. Daher ist es schwierig, an der Tafel zu erklären, warum sie funktionieren. <br><br>  <b>Student:</b> Einer der Gründe, warum Entwickler dies taten, war, dass sie die Möglichkeit unterstützen wollten, nur ein Passwort zu senden.  Mit den Protokollen können Sie nur eine Sache als Authentifikator senden. <br><br>  <b>Professor:</b> Ja, es gibt viele seltsame Anforderungen, die diese Leute berücksichtigt haben.  In der Praxis können diese Server natürlich sowohl Kerberos- als auch Nicht-Kerberos-Verbindungen akzeptieren.  Bei Nicht-Kerberos-Verbindungen wird das Bild angezeigt, als würde jemand eine Verbindung zu einem Mailserver herstellen, jedoch keine Athena-Workstation verwenden.  Er möchte nur sein Passwort senden. <br><br><img src="https://habrastorage.org/webt/xm/qm/lm/xmqmlmiopbrwqm9zyulycz6apz4.jpeg"><br><br>  Und dann wird der E-Mail-Client hier, sagen wir, dieses Passwort nehmen und in Ihrem Namen ein Ticket erhalten, um es zu überprüfen, damit Sie diesen E-Mail-Client verwenden können.  Sie möchten also wahrscheinlich immer noch, dass Kerberos selbst Kerberos-Kennwörter überprüft.  Ich denke nicht, dass dies nicht in Frage kommt, da Kerberos 5 natürlich diese Zeitstempel-Hashes und all das bereitstellt. <br><br>  Ich denke, eine weitere Sache, auf die Sie in den Vorlesungsunterlagen achten sollten, ist, dass die Kerberos 4-Entwickler ein Verschlüsselungsschema gewählt haben - DES, den beliebtesten Verschlüsselungsalgorithmus der Zeit.  Dies ist eine symmetrische Blockverschlüsselung, ziemlich schnell.  Zu dieser Zeit bot es ausreichende Sicherheit und sie bauten es einfach in das Protokoll ein. <br><br>  Alles in Kerberos sollte nur DES verwenden, oder zumindest alles in Kerberos Version 4. Dies ist problematisch geworden, da die DES-Verschlüsselung jetzt, 25 bis 30 Jahre später, mit der Brute-Force-Methode leicht geknackt werden kann, da die Verschlüsselungsschlüssel vorhanden sind sehr kleine Größe - nur 56 Bit. <br><br>  Daher können Sie einfach eine Art Benutzergerät erstellen, das 2 bis 56 Grad Kombinationen berechnet und das tatsächliche Passwort ermittelt.  Dies möchten Sie in jedem Protokoll vermeiden, das heutzutage entwickelt wird. <br><br>  Kerberos Version 5 unterstützt verschiedene Verschlüsselungsschemata, einschließlich AES und anderer kryptografischer Algorithmen.  Dies scheint also ein viel besserer Weg zu sein, um die Sicherheit zu gewährleisten.  Auf der anderen Seite hat das MIT DES vor 2 Jahren weiterhin unterstützt, hat es aber jetzt abgelehnt, sodass Ihr Rektor heute zumindest vor dieser Art von Angriff geschützt ist.  Schauen wir uns nun an, was im TGS-Dienst passiert, von dem Sie ein Ticket erhalten.  Die Interaktion mit diesem Service sieht etwas anders aus. <br><br>  Einerseits werden Sie als Client mit ihm sprechen, als würden Sie mit einem anderen Kerberos-fähigen Dienst sprechen.  Überlegen Sie, wie Sie Ihre eigene Authentifizierung mit einem Ticket für einen Computer durchführen.  Die Antwort, die Sie zurückgeben werden, ist jedoch nur ein Ticket für ein anderes Prinzip, auf dessen Grundlage Sie beispielsweise mit einem Dateiserver kommunizieren. <br><br>  Daher sehen die Nachrichten auf Protokollebene folgendermaßen aus - rechts zeichne ich TGS und links den Client.  Der Client hat bereits ein Ticket für TGS, das mit dem oben gezeigten Protokoll erhalten wurde. <br><br><img src="https://habrastorage.org/webt/cj/cq/vy/cjcqvyserub_284vhbrrzie4v84.jpeg"><br><br>  Jetzt wird der Client eine Kombination von Nachrichten senden, die beweisen, dass er der richtige Client ist, und diese Nachrichten beziehen sich auf die Ausgabe einer Anfrage nach einem bestimmten Prinzip über TGS. <br><br>  Der Client sendet also eine solche Nachricht an TGS: S ist der Dienst, mit dem er weiter kommunizieren wird. Es kann sich um einen Mail- oder Dateiserver handeln. Dazu gehört auch das Tc-Client-Ticket, das er für tgs erhalten hat und das mit dem Schlüssel K tgs und verschlüsselt wurde Ein Authentifikator, der mit dem Schlüssel Kc verschlüsselt ist, der dem Client und dem TGS-Dienst gemeinsam ist.  So sieht die Nachricht aus, die Sie an TGS senden werden - sie lautet: "Sehen Sie sich diese Nachricht an, machen Sie etwas damit und antworten Sie mit einem Ticket für diesen neuen S-Dienst."  Die Antwort hier sieht fast genauso aus wie in der obigen Abbildung, und tatsächlich ist es dieselbe - dies ist ein Ticket zwischen dem Client und diesem neuen Dienst, das mit Ks verschlüsselt wurde.  Aber jetzt ist es ein bisschen anders geworden. <br><br><img src="https://habrastorage.org/webt/hl/hy/l2/hlhyl2wjl1jpd8oeptd4e3o9w0g.jpeg"><br><br>  Anstelle der Verschlüsselung mit dem Kc-Schlüssel, die der Client seitdem vergessen haben muss, wird jetzt die Verschlüsselung mit dem gemeinsamen Schlüssel Kc, tgs zwischen dem Client und dem TGS-Dienst durchgeführt. <br><br>  Wie findet der Server heraus, was der Client will und wie authentifiziert der Server den Client?  Der TGS-Server kennt seinen eigenen Ktgs-Schlüssel. Daher entschlüsselt er zuerst diese Nachricht Tc, tgs, schaut in das Ticket und findet heraus, was passiert.  Warum brauchen wir all diese Felder auf dem Ticket?  Warum ist es wichtig, den Servernamen S im Ticket zu haben?  Was würde schief gehen, wenn wir kein S hätten? <br><br>  <b>Student:</b> Wenn dies nicht der Fall ist, können Sie möglicherweise die Berechtigung zur Verwendung eines beliebigen Servers erhalten. <br><br>  <b>Professor:</b> Ja, das ist es.  Im Allgemeinen ist es eine gute Idee, die Netzwerkprotokolle so zu erstellen, dass Sie genau sagen können, was diese Nachricht bedeutet.  Wenn Sie S weglassen, können Sie sich darauf verlassen, dass Sie, wenn Sie ein Ticket für das falsche S verwenden, möglicherweise einen anderen Schlüssel Ks haben und dieser keine Entschlüsselung oder ähnliches durchführen kann.  Es scheint also eine gute Idee zu sein, den Namen des Dienstes anzugeben, um sicherzustellen, dass der Server, der diese Tickets empfängt, sie entschlüsselt und prüft, ob dies ein Ticket für mich oder für eine andere Person ist. <br><br>  <b>Student:</b> Was macht der Client mit dem erhaltenen Ktgs-Schlüssel? <br><br>  <b>Professor:</b> gute Frage!  Der Kunde hat keine Ahnung, was es ist.  Weil es ein streng geheimer Schlüssel ist.  Wenn Sie es wüssten, könnten Sie alle Kerberos knacken.  Der Kunde hat also keine Ahnung, was Ktgs ist. <br><br>  <b>Student:</b> Woher kommen diese Ktgs? <br><br>  <b>Professor: Der</b> Kerberos-Server selbst generiert für Sie all diese Nachrichten, die bereits Tc, tgs und Ktgs enthalten. Sie erstellen sie nicht selbst, sondern kopieren sie einfach von hier. <br><br>  Warum ist der Name des Kunden so wichtig?  Das ist leicht herauszufinden.  Wenn Sie den Namen des Kunden nicht in das Ticket eintragen, erhält der Server diese Nachricht, hat jedoch keine Ahnung, mit wem er zu sprechen versucht.  Er weiß nicht, für wen er ein Ticket ausstellen soll - für Sie oder für jemand anderen. <br><br>  Was ist mit den anderen Feldern?  Warum fügen Entwickler die Adr-Adresse in das Ticket des Tc ein?  Es ist nur die IP-Adresse des Kunden. Warum also nicht direkt verwenden? <br><br><img src="https://habrastorage.org/webt/jc/qr/ar/jcqrarc608ehufc4cs094r5xwqw.jpeg"><br><br>  Ich denke, dass die Bedeutung dieser Lösung der Wunsch der Entwickler ist, die Sicherheit zu erhöhen.  Sie wollten sicherstellen, dass, wenn sich der Client von einer IP-Adresse aus anmeldet, alles andere auf demselben Ticket von derselben IP-Adresse stammt.  Wenn Sie beispielsweise von einer IP-Adresse aus angemeldet sind, z. B. 18.26.4.9, sollte jede Verbindung zu einer Datei oder einem Mailserver von derselben IP-Adresse stammen.  Andernfalls sollte der Server Ihre Verbindung ablehnen, da dies darauf hindeuten könnte, dass jemand Ihr Ticket gestohlen hat.  So schützen wir uns hier vor der Verwendung gestohlener Tickets.  Wenn Sie immer noch das gleiche Ticket haben - in Ordnung, aber wenn Sie nicht die gleiche IP-Adresse verwenden, werden Sie keinen Erfolg haben. <br><br>  Dies scheint derzeit ein Missverständnis zu sein, und Kerberos 5 verwendet immer noch einen ähnlichen Ansatz, obwohl dies nicht erforderlich ist.  In der Tat sollten Sie sich einfach auf Kryptografie verlassen, anstatt die IP-Adresse zu sichern. <br><br>  Aber was bedeuten der Zeitstempel und der Lebenszeitstempel im Ticket?  Wofür sind sie und wofür sind sie nützlich? <br><br>  <b>Student:</b> Sie werden benötigt, um Wiederholungsangriffe zu verhindern. <br>  Professor: Wiederholungsangriffe verhindern den Authentifikator, da dieses Element jedes Mal generiert wird, wenn Sie eine neue Anfrage stellen.  Auf der anderen Seite bleibt das Ticket das gleiche, so dass dies natürlich die Wiederholungsangriffe nicht beeinträchtigt. <br><br>  <b>Student:</b> Dies verhindert, dass jemand Ihr Ticket stiehlt und es dann für seine eigenen Zwecke verwendet. <br>  Professor: Ja, dies begrenzt einfach die Zeit, in der das Ticket gültig ist, so dass der Schaden durch den Diebstahl verringert wird.  Der Zeitstempel ist die Zeit, zu der Sie das Ticket erhalten haben, und die Lebensdauer zeigt an, wie viele Stunden dieses Ticket ab dem ersten Zeitstempel gültig ist.  Wenn Sie versuchen, es zu früh oder zu spät zu verwenden, sollte jeder Server ein solches Ticket mithilfe des Kerberos-Protokolls ablehnen.  Dies bedeutet, dass jeder Server seine Uhr synchronisieren muss. <br><br>  <b>Student:</b> Sie haben vorhin gesagt, dass ein Client seinen Anfangsschlüssel wegwerfen und Kc verwerfen kann, aber die von TGS erhaltenen Kc speichern muss. <br><br>  <b>Professor:</b> Ja, der Kunde lässt Kc nach dem Einloggen fallen, muss aber Kc, s behalten. <br><br>  <b>Student:</b> Wenn also jemand Kc, s stiehlt, hat er Zugang ... <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Professor:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ja, schauen wir uns an, wie schlimm das ist. </font><font style="vertical-align: inherit;">Warum ist es für einen Hacker besser, dieses Kc, tgs, zu enthüllen als Kc? </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Student:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn Sie Kc, s erhalten, können Sie einfach eine Sitzung zwischen diesen beiden Gesprächspartnern stehlen. Wenn Sie jedoch Kc stehlen, können Sie sich als Client ausgeben. </font></font><br><br><img src="https://habrastorage.org/webt/qu/ty/mo/qutymopzmr5tvwkronozrqzsprw.jpeg"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Professor:</font></font></b>  .      ,  Kc,s —      ,    ,     .  ,       Tc,tgs,    .          ,       56     Kc,s.      .      ,     Tc,tgs ,    Kc,s    ,     - . <br><br> <b>:</b> ,  -      — Tc,tgs,   Kc,tgs,    Kc,tgs,  Kc —      . <br><br> <b>:</b> ,  -    ,       , ,           ,       10 .  Kc      ,      . <br><br> , ,           ,   IP-,      .  -     ,    ,     Kc,tgs,       TGS.         —  ,  ,   ,     . <br><br>   ,   , ,       . ,      ,    .        TGS        , , PO12,  TGS        PO12.    ,    ,       Kc,s       .      ,     ,            .                Kc,s. <br><br><img src="https://habrastorage.org/webt/z2/o5/dz/z2o5dz1vnusna6yrhblr8uzutn0.jpeg"><br><br>       ,       ,         Tc,mail,     Kmail,        ,      , ,   5 – DELETE 5,   Kc,mail. <br><br><img src="https://habrastorage.org/webt/qw/l1/br/qwl1brzfsy3qweaybqcpruubqao.jpeg"><br><br> ,          mail?              Kmail,          -  ,    ,   Kc,s,              Kerberos 5.         : «,  C    ,     ». <br><br> <b>:</b>  Kerberos    Tc,tgs   Kc,s.    ? <br><br> <b>:</b>  Ac   .  ,         Kc,s,       ,  .  ,              . <br><br><img src="https://habrastorage.org/webt/ka/ib/mn/kaibmnrhnyzcsu2pc6zo5nwl8-a.jpeg"><br><br>  ,  Kerberos 4  ,     ,    , ,    ,            ,    ,   . <br><br>     ,        ,   , ,     .      ,           .    ,   ,               .        , ,   ,   ,      .       ,    . <br>     .        Kerberos,      ,   ,  Kerberos 4.             ,   -   . <br><br>  ,   , ,     ,   ,  Kerberos 4,   ,    ,        K,mail.     ,        . <br><br><img src="https://habrastorage.org/webt/np/z1/wq/npz1wqybnymufipj4de08rpms9i.jpeg"><br><br>    ,     ,   .      ,        ,    .   -    : «,      ,           DELETE         5,       -  ». <br><br>  , Kerberos 5       -,     . , ,      ,   ,   ,     . <br><br> <b>:</b>    K,mail? <br><br> <b>:</b>      . <br><br><img src="https://habrastorage.org/webt/-t/ms/ii/-tmsii-dquroimeupnjef06p3uy.jpeg"><br><br>   ,  TGS   ,   ,   S –   mail,    S    Tc,s –   mail,   S   Kc,s —    mail.    Kc,s    K,mail.      ,          . <br><br> <b>:</b>      K,mail? <br><br> <b>:</b> ,        ?   , ,          .   K,mail    ? <br><br> <b>:</b>     ? <br><br> <b>:</b> , ,     !               Kmail,       T,mail,          ,      .    ,     ,      . <br><br> ,              .        .    Kerberos    ,     ,       30  . <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daher ist es unvermeidlich, dass wir Probleme haben, die Sie lösen müssen. </font><font style="vertical-align: inherit;">Ein interessantes Kerberos 4-Problem betrifft daher die Methode zum Verschlüsseln und Authentifizieren von Nachrichten für Anwendungen. </font><font style="vertical-align: inherit;">Es besteht darin, dass hier derselbe Schlüssel zum Verschlüsseln von Nachrichten vom Client zum Server und für Antwortnachrichten vom Server zum Client verwendet wird. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54:00 Min. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MIT-Kurs "Computer Systems Security". </font><font style="vertical-align: inherit;">Vorlesung 13: Netzwerkprotokolle, Teil 3</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Vollversion des Kurses finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Vielen Dank für Ihren Aufenthalt bei uns.  Gefällt dir unser Artikel?  Möchten Sie weitere interessante Materialien sehen?  Unterstützen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% für Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir für Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit über VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verfügbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis Dezember kostenlos,</b> wenn Sie für einen Zeitraum von sechs Monaten bezahlen, können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal günstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgebäudes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern für 9.000 Euro für einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427771/">https://habr.com/ru/post/de427771/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427757/index.html">Zusammengebaute Microcode-Hintertüren des X86-Prozessors</a></li>
<li><a href="../de427759/index.html">Über die Lösbarkeit von Umgehungsproblemen in der Polynomzeit</a></li>
<li><a href="../de427761/index.html">Implementierung des k-means (k-means) -Algorithmus am Beispiel der Arbeit mit Pixeln</a></li>
<li><a href="../de427763/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 13: Netzwerkprotokolle, Teil 1</a></li>
<li><a href="../de427767/index.html">Situation: In Kanada wurde vorgeschlagen, eine Steuer auf Streaming einzuführen - wir diskutieren das Problem</a></li>
<li><a href="../de427773/index.html">Ich habe eine browserübergreifende Erweiterung für Registerkarten geschrieben, aber das tun Sie nicht</a></li>
<li><a href="../de427775/index.html">Ein als Programmierer getarnter Bot korrigiert Codefehler</a></li>
<li><a href="../de427779/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 13: Netzwerkprotokolle, Teil 3</a></li>
<li><a href="../de427781/index.html">Warum Kreditorganisationen Data Science</a></li>
<li><a href="../de427783/index.html">MIT-Kurs "Computer Systems Security". Vorlesung 14: „SSL und HTTPS“, Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>