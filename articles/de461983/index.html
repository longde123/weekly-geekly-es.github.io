<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèΩ üì± üèÇüèΩ Wie wir das Produkt f√ºr einen bestimmten Kunden modifizieren üß£ üèÜ ‚õ∞Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Deshalb haben wir dem Kunden ein B2B-Softwareprodukt verkauft. 

 Bei der Pr√§sentation mochte er alles, aber w√§hrend der Implementierung stellte sich ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie wir das Produkt f√ºr einen bestimmten Kunden modifizieren</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lsfusion/blog/461983/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/ep/ee/f8epee4petxvrq60bqvyzpy8exu.jpeg" alt="Bild"></div><br>  Deshalb haben wir dem Kunden ein B2B-Softwareprodukt verkauft. <br><br>  Bei der Pr√§sentation mochte er alles, aber w√§hrend der Implementierung stellte sich heraus, dass etwas immer noch nicht passte.  Sie k√∂nnen nat√ºrlich sagen, dass Sie ‚ÄûBest Practice‚Äú befolgen und sich in ein Produkt verwandeln m√ºssen und nicht umgekehrt.  Dies kann funktionieren, wenn Sie eine starke Marke haben (z. B. drei gro√üe Buchstaben, und Sie k√∂nnen alle drei kleinen Buchstaben senden).  Andernfalls erkl√§ren sie Ihnen schnell, dass der Kunde dank seiner einzigartigen Gesch√§ftsprozesse alles erreicht hat, und lassen Sie uns Ihr Produkt besser √§ndern, sonst funktioniert es nicht.  Es besteht die M√∂glichkeit, die Tatsache abzulehnen und darauf hinzuweisen, dass bereits Lizenzen erworben wurden, und das U-Boot kann nirgendwo hingehen.  In relativ engen M√§rkten wird eine solche Strategie jedoch noch lange nicht funktionieren. <br><br>  Wir m√ºssen √§ndern. <br><a name="habracut"></a><br><h2>  Die Ans√§tze </h2><br>  Es gibt verschiedene grundlegende Ans√§tze zur Produktanpassung. <br><br><h4>  Monolith </h4><br>  Alle √Ñnderungen werden direkt am Quellcode des Produkts vorgenommen, sind jedoch in bestimmten Optionen enthalten.  In solchen Produkten gibt es in der Regel monstr√∂se Formen mit Einstellungen, denen, um nicht verwirrt zu werden, ihre Nummern oder Codes zugewiesen werden.  Der Nachteil dieses Ansatzes besteht darin, dass der Quellcode zu einem gro√üen Spaghetti wird, in dem es so viele verschiedene Anwendungsf√§lle gibt, dass die Wartung sehr lang und teuer wird.  Jede nachfolgende Option erfordert immer mehr Ressourcen.  Die Leistung eines solchen Produkts l√§sst ebenfalls zu w√ºnschen √ºbrig.  Und wenn die Sprache, in der das Produkt geschrieben ist, moderne Praktiken wie Vererbung und Polymorphismus nicht unterst√ºtzt, wird alles sehr traurig. <br><br><h4>  Kopieren </h4><br>  Der Kunde erh√§lt den gesamten Quellcode des Produkts mit einer Lizenz zum √Ñndern.  Oft sagen solche Anbieter dem Kunden, dass sie das Produkt nicht selbst anpassen werden, da es zu teuer ist (es ist f√ºr einen Anbieter viel rentabler, Lizenzen zu verkaufen, als Dienste zu kontaktieren).  Aber sie haben vertraute Outsourcer, die irgendwo in Drittl√§ndern relativ preiswerte und qualitativ hochwertige Mitarbeiter einstellen, die bereit sind, ihnen zu helfen.  Es gibt auch Situationen, in denen Verbesserungen direkt von den Spezialisten des Kunden durchgef√ºhrt werden (sofern diese √ºber Personaleinheiten verf√ºgen).  In solchen F√§llen wird der Quellcode als Ausgangspunkt genommen, und der ge√§nderte Code hat keine Verbindung zu dem, was urspr√ºnglich war, und lebt sein eigenes Leben.  In diesem Fall k√∂nnen Sie mindestens die H√§lfte des Originalprodukts sicher entfernen und durch Ihre eigene Logik ersetzen. <br><br><h4>  Fusion </h4><br>  Dies ist eine Mischung aus den ersten beiden Ans√§tzen.  Aber darin sollte sich der Entwickler, der den Code korrigiert, immer daran erinnern: "Zusammenf√ºhrung kommt".  Wenn eine neue Version des Quellprodukts ver√∂ffentlicht wird, m√ºssen die √Ñnderungen im Quellcode und im ge√§nderten Code in den meisten F√§llen manuell zusammengef√ºhrt werden.  Das Problem ist, dass in jedem Konflikt daran erinnert werden muss, warum bestimmte √Ñnderungen vorgenommen wurden, und dies k√∂nnte sehr lange her sein.  Und wenn das Code-Refactoring im Originalprodukt durchgef√ºhrt wurde (z. B. wurden Codebl√∂cke einfach neu angeordnet), ist das Zusammenf√ºhren sehr m√ºhsam. <br><br><h4>  Modularit√§t </h4><br>  Logischerweise der korrekteste Ansatz.  Der Quellcode des Produkts wird in diesem Fall nicht ge√§ndert, und es werden zus√§tzliche Module hinzugef√ºgt, die die Funktionalit√§t erweitern.  Um ein solches Schema zu implementieren, muss das Produkt jedoch √ºber eine Architektur verf√ºgen, mit der es auf diese Weise erweitert werden kann. <br><br><h2>  Beschreibung </h2><br>  Anhand von Beispielen werde ich zeigen, wie wir Produkte erweitern, die auf der Basis der offenen und kostenlosen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lsFusion-</a> Plattform entwickelt wurden. <br><br>  Ein Schl√ºsselelement des Systems ist das Modul.  Ein Modul ist eine Textdatei mit der Erweiterung <i>lsf</i> , die <b>lsFusion-Code</b> enth√§lt.  In jedem Modul werden sowohl die Dom√§nenlogik (Funktionen, Klassen, Aktionen) als auch die Pr√§sentationslogik (Formulare, Navigator) deklariert.  Module befinden sich in der Regel in Verzeichnissen, die durch ein logisches Prinzip unterteilt sind.  Ein Produkt ist eine Sammlung von Modulen, die seine Funktionalit√§t implementieren und in einem separaten Repository gespeichert werden. <br><br>  Module sind voneinander abh√§ngig.  Ein Modul h√§ngt von einem anderen ab, wenn es seine Logik verwendet (bezieht sich beispielsweise auf Eigenschaften oder Formulare). <br><br>  Wenn ein neuer Client angezeigt wird, wird ein separates Repository (Git oder Subversion) daf√ºr gestartet, in dem Module mit den erforderlichen √Ñnderungen erstellt werden.  Dieses Repository definiert das sogenannte Top-Modul.  Beim Start des Servers werden nur die Module verbunden, von denen es direkt oder transitiv √ºber andere Module abh√§ngt.  Dadurch kann der Kunde nicht alle Funktionen des Produkts nutzen, sondern nur den Teil, den er ben√∂tigt. <br>  Jenkins erstellt eine Aufgabe, die die Produkt- und Clientmodule in einer einzigen JAR-Datei kombiniert, die dann auf einem Produktions- oder Testserver installiert wird. <br><br>  Betrachten Sie mehrere Hauptf√§lle von Verbesserungen, die sich in der Praxis ergeben: <br><br>  Angenommen, wir haben ein Bestellmodul im Produkt, das die Standardbestelllogik beschreibt: <br><br><div class="spoiler">  <b class="spoiler_title">Modul bestellen</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td><code><font color="#a626a4">MODULE</font> Order; <br> <br> <font color="#a626a4">CLASS</font> Book <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] (Book) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order) <font color="#a626a4">IN</font> id; <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">10</font> ] (Order) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> book <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Book (OrderDetail) <font color="#a626a4">NONULL</font> ; <br> nameBook <font color="#50a14f">''</font> (OrderDetail d) = name(book(d)); <br> <br> quantity <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (OrderDetail); <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum <font color="#50a14f">''</font> (OrderDetail d) = quantity(d) * price(d); <br> <br> <font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameBook, quantity, price, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div></div></div><br>  Kunde <i>X</i> m√∂chte einen Rabattprozentsatz und einen Rabattpreis f√ºr die Bestellposition hinzuf√ºgen. <br>  Zun√§chst wird im Kunden-Repository ein neues <i>OrderX-</i> Modul erstellt.  In der Kopfzeile wird eine Abh√§ngigkeit vom urspr√ºnglichen Bestellmodul platziert: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">REQUIRE</font> Order;</code> </td> </tr></tbody></table></div><br>  In diesem Modul deklarieren wir neue Eigenschaften, unter denen zus√§tzliche Felder in den Tabellen erstellt werden, und f√ºgen sie dem Formular hinzu: <br><div class="scrollable-table"><table><tbody><tr><td> <code>discount <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">5</font> , <font color="#986801">2</font> ] (OrderDetail); <br> discountPrice <font color="#50a14f">'  '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">AFTER</font> price(d) discount, discountPrice <font color="#a626a4">READONLY</font> <br> ; <br></code> </td></tr></tbody></table></div><br>  Wir machen den reduzierten Preis f√ºr die Aufnahme nicht verf√ºgbar.  Es wird als separates Ereignis berechnet, wenn sich entweder der Anfangspreis oder der Rabattprozentsatz √§ndert: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">CHANGED</font> (price(OrderDetail d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (discount(d)) <font color="#a626a4">DO</font> <br> discountPrice(d) &lt;- price(d) * ( <font color="#986801">100</font> (-) discount(d)) / <font color="#986801">100</font> ; <br></code> </td></tr></tbody></table></div><br>  Jetzt m√ºssen Sie die Berechnung des Betrags in der Bestellposition √§ndern (dies muss unseren neu erstellten Rabattpreis ber√ºcksichtigen).  Dazu erstellen wir normalerweise bestimmte ‚ÄûEinstiegspunkte‚Äú, an denen andere Module ihr Verhalten einf√ºgen k√∂nnen.  Anstelle der anf√§nglichen Deklaration der sum -Eigenschaft im Order-Modul verwenden wir Folgendes: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum <font color="#50a14f">''</font> = <font color="#a626a4">ABSTRACT</font> <font color="#a626a4">CASE</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum (OrderDetail d) += <font color="#a626a4">WHEN</font> price(d) <font color="#a626a4">THEN</font> quantity(d) * price(d); <br></code> </td></tr></tbody></table></div><br>  In diesem Fall wird der Wert der Summeneigenschaft in einem CASE gesammelt, in dem WHEN auf verschiedene Module verteilt werden kann.  Es ist garantiert, dass, wenn Modul A von Modul B abh√§ngt, alle WANN von Modul B sp√§ter als WANN von Modul A funktionieren. Um den reduzierten <i>Betrag</i> korrekt zu berechnen, wird dem <i>OrderX-</i> Modul die folgende Deklaration hinzugef√ºgt: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum(OrderDetail d) += <font color="#a626a4">WHEN</font> discount(d) <font color="#a626a4">THEN</font> quantity(d) * discountPrice(d); <br></code> </td></tr></tbody></table></div><br>  Wenn ein Rabatt festgelegt wird, unterliegt dies dem Betrag, andernfalls dem urspr√ºnglichen Ausdruck. <br><br>  Angenommen, ein Kunde m√∂chte eine Einschr√§nkung hinzuf√ºgen, dass der Bestellbetrag einen bestimmten angegebenen Betrag nicht √ºberschreiten darf.  Im selben <i>OrderX-</i> Modul deklarieren <i>wir</i> eine Eigenschaft, in der der Grenzwert gespeichert wird, und f√ºgen ihn dem Standardoptionsformular hinzu (Sie k√∂nnen auf Wunsch ein separates Formular mit Einstellungen erstellen): <br><div class="scrollable-table"><table><tbody><tr><td> <code>orderLimit <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (); <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> options <br> <font color="#a626a4">PROPERTIES</font> () orderLimit <br> ; <br></code> </td></tr></tbody></table></div><br>  Dann deklarieren wir im selben Modul den Betrag der Bestellung, zeigen ihn auf dem Formular an und f√ºgen ein Limit f√ºr den √úberschuss hinzu: <br><div class="scrollable-table"><table><tbody><tr><td> <code>sum <font color="#50a14f">''</font> (Order o) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail d) <font color="#a626a4">IF</font> order(d) = o; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o) sum <br> ; <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &gt; orderLimit() <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'  '</font> ; <br></code> </td></tr></tbody></table></div><br>  Und schlie√ülich bat der Kunde, das Design des Auftragsbearbeitungsformulars geringf√ºgig zu √§ndern: den Auftragskopf links von den Zeilen mit einem Trennzeichen zu versehen und die Preise immer mit einer Genauigkeit von zwei Zeichen anzuzeigen.  Zu diesem Zweck wird dem Modul der folgende Code hinzugef√ºgt, der das standardm√§√üig generierte Design des Bestellformulars √§ndert: <br><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (o); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { <br> <font color="#a626a4">PROPERTY</font> (price(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> <font color="#a626a4">PROPERTY</font> (discountPrice(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div>  Als Ergebnis erhalten wir zwei Bestellmodule (im Produkt), in denen die Grundlogik der Bestellung implementiert ist, und <i>OrderX</i> (beim Kunden), in denen die erforderliche <i>Rabattlogik</i> implementiert ist: <br><br><div class="spoiler">  <b class="spoiler_title">Bestellung</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> Order; <br> <br> <font color="#a626a4">CLASS</font> Book <font color="#50a14f">''</font> ; <br> name <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">ISTRING</font> [ <font color="#986801">100</font> ] (Book) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> Order <font color="#50a14f">''</font> ; <br> date <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">DATE</font> (Order) <font color="#a626a4">IN</font> id; <br> number <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">STRING</font> [ <font color="#986801">10</font> ] (Order) <font color="#a626a4">IN</font> id; <br> <br> <font color="#a626a4">CLASS</font> OrderDetail <font color="#50a14f">' '</font> ; <br> order <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Order (OrderDetail) <font color="#a626a4">NONULL</font> <font color="#a626a4">DELETE</font> ; <br> <br> book <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> Book (OrderDetail) <font color="#a626a4">NONULL</font> ; <br> nameBook <font color="#50a14f">''</font> (OrderDetail d) = name(book(d)); <br> <br> quantity <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">INTEGER</font> (OrderDetail); <br> price <font color="#50a14f">''</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum <font color="#50a14f">''</font> = <font color="#a626a4">ABSTRACT</font> <font color="#a626a4">CASE</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (OrderDetail); <br> sum (OrderDetail d) += <font color="#a626a4">WHEN</font> price(d) <font color="#a626a4">THEN</font> quantity(d) * price(d); <br> <br> <font color="#a626a4">FORM</font> order <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <font color="#a626a4">PANEL</font> <br> <font color="#a626a4">PROPERTIES</font> (o) date, number <br> <br> <font color="#a626a4">OBJECTS</font> d = OrderDetail <br> <font color="#a626a4">PROPERTIES</font> (d) nameBook, quantity, price, <font color="#a626a4">NEW</font> , <font color="#a626a4">DELETE</font> <br> <font color="#a626a4">FILTERS</font> order(d) = o <br> <br> <font color="#a626a4">EDIT</font> Order <font color="#a626a4">OBJECT</font> o <br> ; <br> <br> <font color="#a626a4">FORM</font> orders <font color="#50a14f">''</font> <br> <font color="#a626a4">OBJECTS</font> o = Order <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">READONLY</font> date, number <br> <font color="#a626a4">PROPERTIES</font> (o) <font color="#a626a4">NEWSESSION</font> <font color="#a626a4">NEW</font> , <font color="#a626a4">EDIT</font> , <font color="#a626a4">DELETE</font> <br> ; <br> <br> <font color="#a626a4">NAVIGATOR</font> { <br> <font color="#a626a4">NEW</font> orders; <br> } <br></code> </td></tr></tbody></table></div></div></div><br><div class="spoiler">  <b class="spoiler_title">Orderx</b> <div class="spoiler_text"><div class="scrollable-table"><table><tbody><tr><td> <code><font color="#a626a4">MODULE</font> OrderX; <br> <br> <font color="#a626a4">REQUIRE</font> Order; <br> <br> discount <font color="#50a14f">', %'</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">5</font> , <font color="#986801">2</font> ] (OrderDetail); <br> discountPrice <font color="#50a14f">'  '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">14</font> , <font color="#986801">2</font> ] (OrderDetail); <br> <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (d) <font color="#a626a4">AFTER</font> price(d) discount, discountPrice <font color="#a626a4">READONLY</font> <br> ; <br> <br> <font color="#a626a4">WHEN</font> <font color="#a626a4">LOCAL</font> <font color="#a626a4">CHANGED</font> (price(OrderDetail d)) <font color="#a626a4">OR</font> <font color="#a626a4">CHANGED</font> (discount(d)) <font color="#a626a4">DO</font> <br> discountPrice(d) &lt;- price(d) * ( <font color="#986801">100</font> (-) discount(d)) / <font color="#986801">100</font> ; <br> <br> sum(OrderDetail d) += <font color="#a626a4">WHEN</font> discount(d) <font color="#a626a4">THEN</font> quantity(d) * discountPrice(d); <br> <br> orderLimit <font color="#50a14f">' '</font> = <font color="#a626a4">DATA</font> <font color="#a626a4">NUMERIC</font> [ <font color="#986801">16</font> , <font color="#986801">2</font> ] (); <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> options <br> <font color="#a626a4">PROPERTIES</font> () orderLimit <br> ; <br> <br> sum <font color="#50a14f">''</font> (Order o) = <font color="#a626a4">GROUP</font> <font color="#a626a4">SUM</font> sum(OrderDetail d) <font color="#a626a4">IF</font> order(d) = o; <br> <font color="#a626a4">EXTEND</font> <font color="#a626a4">FORM</font> order <br> <font color="#a626a4">PROPERTIES</font> (o) sum <br> ; <br> <font color="#a626a4">CONSTRAINT</font> sum(Order o) &gt; orderLimit() <font color="#a626a4">MESSAGE</font> <font color="#50a14f">'  '</font> ; <br> <br> <font color="#a626a4">DESIGN</font> order { <br> <font color="#a626a4">OBJECTS</font> { <br> <font color="#a626a4">NEW</font> pane { <br> fill = <font color="#986801">1</font> ; <br> type = <font color="#a626a4">SPLITH</font> ; <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (o); <br> <font color="#a626a4">MOVE</font> <font color="#a626a4">BOX</font> (d) { <br> <font color="#a626a4">PROPERTY</font> (price(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> <font color="#a626a4">PROPERTY</font> (discountPrice(d)) { pattern = <font color="#50a14f">'#,##0.00'</font> ; } <br> } <br> } <br> } <br> } <br></code> </td></tr></tbody></table></div></div></div><br>  Es ist zu beachten, dass das <i>OrderX-</i> Modul <i>OrderDiscount</i> hei√üen und direkt auf das Produkt √ºbertragen werden kann.  Bei Bedarf kann dann jeder Kunde die Funktionalit√§t problemlos mit Rabatten verbinden. <br><br>  Dies ist weit entfernt von allen M√∂glichkeiten, die die Plattform bietet, um die Funktionalit√§t in einzelnen Modulen zu erweitern.  Mithilfe der Vererbung k√∂nnen Sie beispielsweise die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Registerlogik</a> modular implementieren. <br><br>  Wenn sich im Quellcode des Produkts √Ñnderungen ergeben, die dem Code im abh√§ngigen Modul widersprechen, wird beim Start des Servers ein Fehler generiert.  Wenn das <i>Bestellformular</i> beispielsweise im <i>Bestellmodul</i> <i>gel√∂scht</i> wird, tritt beim Start die Fehlermeldung auf, dass das <i>Bestellformular</i> nicht im <i>Bestellmodul gefunden wurde</i> .  Au√üerdem wird der Fehler in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IDE hervorgehoben</a> .  Dar√ºber hinaus verf√ºgt die IDE √ºber eine Funktion zum Suchen nach allen Fehlern im Projekt, mit der Sie alle Probleme identifizieren k√∂nnen, die aufgrund der Aktualisierung der Produktversion aufgetreten sind. <br><br>  In der Praxis haben wir alle Repositorys (des Produkts und aller Kunden) mit demselben Projekt verbunden, sodass wir das Produkt ruhig umgestalten und gleichzeitig die Logik in den Kundenmodulen √§ndern, in denen es verwendet wird. <br><br><h2>  Fazit </h2><br>  Eine solche mikromodulare Architektur bietet die folgenden Vorteile: <br><br><ul><li>  <b>Jeder Kunde ist nur mit der Funktionalit√§t verbunden, die er ben√∂tigt</b> .  Die Struktur seiner Datenbank enth√§lt nur die Felder, die er verwendet.  Die Schnittstelle der endg√ºltigen L√∂sung enth√§lt keine unn√∂tigen Elemente.  Der Server und der Client f√ºhren keine unn√∂tigen Ereignisse und √úberpr√ºfungen durch. </li><li>  <b>Flexibilit√§t bei √Ñnderungen der Grundfunktionalit√§t</b> .  Direkt im Kundenprojekt k√∂nnen Sie √Ñnderungen an absolut jeder Form des Produkts vornehmen, Ereignisse, neue Objekte und Eigenschaften, Aktionen, √Ñnderungen am Design und vieles mehr hinzuf√ºgen. </li><li>  <b>Die Lieferung neuer Verbesserungen, die der Kunde ben√∂tigt, wird erheblich beschleunigt</b> .  Bei jeder √Ñnderungsanforderung m√ºssen Sie nicht dar√ºber nachdenken, wie sich dies auf andere Kunden auswirkt.  Aufgrund dessen k√∂nnen viele Verbesserungen vorgenommen und so schnell wie m√∂glich (oft innerhalb weniger Stunden) in Betrieb genommen werden. </li><li>  <b>Ein bequemeres Schema zur Erweiterung der Funktionalit√§t des Produkts</b> .  Zun√§chst kann jede Funktionalit√§t f√ºr einen bestimmten Kunden aufgenommen werden, der bereit ist, sie zu testen. Bei einer erfolgreichen Implementierung werden die Module dann vollst√§ndig in das Produkt-Repository √ºbertragen. </li><li>  <b>Unabh√§ngigkeit von der Codebasis</b> .  Da im Rahmen von Kundendienstvertr√§gen formal viele Verbesserungen vorgesehen sind, geh√∂rt der gesamte im Rahmen dieser Vertr√§ge entwickelte Code dem Kunden.  Mit diesem Schema wird eine vollst√§ndige Trennung des Produktcodes, der dem Anbieter geh√∂rt, vom Code des Kunden sichergestellt.  Auf Anfrage √ºbertragen wir das Repository auf den Server des Kunden, wo er die von ihm ben√∂tigten Funktionen mit seinen eigenen Entwicklern √§ndern kann.  Wenn der Lieferant Lizenzen f√ºr einzelne Produktmodule erteilt, verf√ºgt der Kunde nicht √ºber den Quellcode der Module, f√ºr die keine Lizenz vorhanden ist.  Daher verf√ºgt er nicht √ºber die technische F√§higkeit, sie unter Versto√ü gegen die Lizenzbedingungen unabh√§ngig voneinander zu verbinden. <br></li></ul><br>  Das oben beschriebene Modularit√§tsschema mit Hilfe von Erweiterungen in der Programmierung wird am h√§ufigsten als <i>Mix-In bezeichnet</i> .  Beispielsweise hat Microsoft Dynamics k√ºrzlich das Konzept der Erweiterung eingef√ºhrt, mit dem Sie auch die Basismodule erweitern k√∂nnen.  Dort ist jedoch viel weniger Programmierung auf niedrigerer Ebene erforderlich, was wiederum h√∂here Qualifikationen der Entwickler erfordert.  Im Gegensatz zu lsFusion erfordert die Erweiterung von Ereignissen und Einschr√§nkungen au√üerdem die anf√§nglichen ‚ÄûEinstiegspunkte‚Äú f√ºr das Produkt, um dies nutzen zu k√∂nnen. <br><br>  Derzeit unterst√ºtzen und implementieren wir gem√§√ü dem oben beschriebenen Schema ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ERP-System</a> f√ºr den Einzelhandel mit mehr als 30 relativ gro√üen Kunden, das aus mehr als 1000 Modulen besteht.  Zu den Kunden z√§hlen FMCG-Netzwerke sowie Apotheken, Bekleidungsgesch√§fte, Drogerieketten, Gro√üh√§ndler und andere.  Im Produkt gibt es jeweils separate Kategorien von Modulen, die je nach Branche und verwendeten Gesch√§ftsprozessen miteinander verbunden sind. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461983/">https://habr.com/ru/post/de461983/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de461965/index.html">Web-MVC-Anwendung ohne Frameworks und Servlets</a></li>
<li><a href="../de461967/index.html">Antiquit√§ten: Funktionsbandger√§t</a></li>
<li><a href="../de461971/index.html">Die Leistung von Oracle SQL</a></li>
<li><a href="../de461973/index.html">Probefahrt Audi e-tron</a></li>
<li><a href="../de461975/index.html">Unser Service ist sowohl gef√§hrlich als auch schwierig, oder Zyxel ATP500</a></li>
<li><a href="../de461985/index.html">Posttechnologien - wie wir die russische Post digitalisieren</a></li>
<li><a href="../de461989/index.html">Entwicklung einer Spieloberfl√§che f√ºr verschiedene Bildschirmanteile</a></li>
<li><a href="../de461993/index.html">Wie man ein Lebensmittelgesch√§ft von einem ‚Äûnormalen Designer‚Äú wird</a></li>
<li><a href="../de461995/index.html">Verwendung von residenten Proxys f√ºr Marketing und Website-Werbung</a></li>
<li><a href="../de461997/index.html">Optimieren der Abfrageleistung in PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>