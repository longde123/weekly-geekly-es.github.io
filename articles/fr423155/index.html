<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¾ğŸ¾ ğŸ…ğŸ» ğŸ‘©ğŸ½â€ğŸš€ Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 8: ModÃ¨le de sÃ©curitÃ© rÃ©seau, partie 2 ğŸšŒ ğŸ‘©ğŸ¾â€âš–ï¸ ğŸ‘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "SÃ©curitÃ© des systÃ¨mes informatiques." Nikolai Zeldovich, James Mickens. 2014 annÃ©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 8: ModÃ¨le de sÃ©curitÃ© rÃ©seau, partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/423155/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "SÃ©curitÃ© des systÃ¨mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 annÃ©e </h3><br>  Computer Systems Security est un cours sur le dÃ©veloppement et la mise en Å“uvre de systÃ¨mes informatiques sÃ©curisÃ©s.  Les confÃ©rences couvrent les modÃ¨les de menace, les attaques qui compromettent la sÃ©curitÃ© et les techniques de sÃ©curitÃ© basÃ©es sur des travaux scientifiques rÃ©cents.  Les sujets incluent la sÃ©curitÃ© du systÃ¨me d'exploitation (OS), les fonctionnalitÃ©s, la gestion du flux d'informations, la sÃ©curitÃ© des langues, les protocoles rÃ©seau, la sÃ©curitÃ© matÃ©rielle et la sÃ©curitÃ© des applications Web. <br><br>  Cours 1: Â«Introduction: modÃ¨les de menaceÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 2: Â«ContrÃ´le des attaques de piratesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 3: Â«DÃ©bordements de tampon: exploits et protectionÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 4: Â«SÃ©paration des privilÃ¨gesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 5: Â«D'oÃ¹ viennent les systÃ¨mes de sÃ©curitÃ©?Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  ConfÃ©rence 6: Â«OpportunitÃ©sÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 7: Â«Native Client SandboxÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 8: Â«ModÃ¨le de sÃ©curitÃ© rÃ©seauÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <a name="habracut"></a><br><br>  Que se passe-t-il si le navigateur ne traite pas correctement l'objet et ne peut pas identifier son type?  Dans ce cas, vous pouvez rencontrer des problÃ¨mes de sÃ©curitÃ©.  L'un d'eux est appelÃ© une attaque MIME. <br><br>  Vous connaissez probablement MIME - il s'agit d'un type d'en-tÃªtes non chiffrÃ©s comme text / html, image.jpeg, etc.  Ainsi, les anciennes versions du navigateur IE l'utilisaient car elles pensaient que cela aiderait l'utilisateur.  Mais il arrive parfois que les serveurs Web attribuent la mauvaise extension au fichier objet. <br><br>  Un serveur Web mal configurÃ© peut attacher le suffixe .html Ã  ce qu'il a rÃ©ellement l'extension .jpeg, ou vice versa, par exemple, crÃ©er foo.jpg au lieu de foo.html. <br><br><img src="https://habrastorage.org/webt/e_/ki/nn/e_kinnj8a4wb3_xvaxxyi6pnrtk.jpeg"><br><br>  Donc, dans le temps, IE essayait de vous aider.  Autrement dit, il est allÃ© prendre une sorte de ressource, tout en pensant: "OK, cette ressource prÃ©tend Ãªtre de ce type, conformÃ©ment Ã  son extension de nom de fichier."  Mais alors il ne regardera que les 256 premiers octets disponibles dans cet objet.  Et s'il y trouvait certaines significations magiques qui indiquaient qu'il y avait un type d'extension diffÃ©rent pour cet objet, il dirait simplement: Â«hÃ©, j'ai trouvÃ© quelque chose de cool ici!  "Je pense que le serveur Web a dÃ©fini cet objet par erreur, alors laissez-moi simplement traiter cet objet comme le type que j'ai trouvÃ© dans ces 256 premiers octets." <br>  Et puis tout le monde devient gagnant, car un navigateur comme a aidÃ© le dÃ©veloppeur du serveur Web, car maintenant leur site sera affichÃ© correctement.  Et l'utilisateur l'apprÃ©ciera, car il pourra dÃ©verrouiller ce contenu, qui n'Ã©tait autrefois que des ordures. <br><br>  Mais c'est une vulnÃ©rabilitÃ© Ã©vidente!  Supposons que la page contienne du contenu passif, par exemple, une image d'un domaine contrÃ´lÃ© par un attaquant.  Cependant, la page de la victime pense: Â«mÃªme si c'est le contenu d'un site de pirate malveillant, c'est juste du contenu passif.  Il ne peut rien me faire! Â»  Dans un cas extrÃªme, une image infructueuse sera affichÃ©e, mais elle ne pourra pas ouvrir de code, car le contenu passif n'a aucun privilÃ¨ge. <br><br><img src="https://habrastorage.org/webt/s4/62/z0/s462z0mmu0slljkim8tc2jwkdhm.jpeg"><br><br>  Mais le fait est qu'IE peut d'abord Â«reniflerÂ» cette image, ses 256 premiers octets.  Et un attaquant peut intentionnellement y mettre du code HTML et JavaScript.  Il s'avÃ¨re ensuite que le site de la victime apportera ce qu'il considÃ¨re Ãªtre une image, et IE exÃ©cutera du code malveillant dans le contexte de la page intÃ©grÃ©e. <br><br>  Ceci est une sorte d'exemple de la complexitÃ© des navigateurs et de la faÃ§on dont l'ajout, mÃªme de trÃ¨s bonnes intentions, peut provoquer des erreurs de sÃ©curitÃ© trÃ¨s subtiles.  Examinons donc de plus prÃ¨s comment le navigateur protÃ¨ge diverses ressources. <br><br>  Regardons les cadres et les objets de fenÃªtre (objets qui sont une fenÃªtre contenant un document DOM).  Les cadres reprÃ©sentent ces univers JavaScript indÃ©pendants dont nous avons parlÃ© ici.  Je veux dire, JavaScript est une instance du nÅ“ud DOM, comme le montre l'image de l'arbre DOM. <br><br>  De cette faÃ§on, le cadre existera en tant qu'objet de nÅ“ud DOM quelque part dans cette hiÃ©rarchie visible par JavaScript. <br><br>  En JavaScript, l'objet window est en fait un alias pour l'espace de noms global.  Cela ressemble Ã  une idÃ©e stupide.  Autrement dit, si vous deviez trouver le nom de la variable globale x, vous seriez Ã©galement en mesure d'y accÃ©der via le nom window.x. <br><br>  Ainsi, les cadres et les objets de fenÃªtre sont des rÃ©fÃ©rences trÃ¨s puissantes pour vous donner l'accessibilitÃ©.  Et ils contiennent des pointeurs les uns vers les autres.  Un cadre peut contenir un pointeur vers un objet fenÃªtre liÃ© et vice versa.  En fait, ces deux choses sont Ã©quivalentes. <br>  Les cadres et les objets de fenÃªtre reÃ§oivent la source d'origine d'origine du cadre URL, ou parce qu'ils sont toujours dans une partie sÃ©curisÃ©e du rÃ©seau, ils peuvent obtenir le suffixe du nom de domaine d'origine, c'est-Ã -dire son origine d'origine. <br><br>  Par exemple, une trame peut commencer comme ceci: .xyzcom, ici vous pouvez ignorer le schÃ©ma et le protocole pendant une seconde. <br><br>  Dans ce cas, nous pouvons supposer que la source d'origine de (document.domain) est le suffixe yzcom.  De mÃªme, la source d'origine de ce document est l'expression z.com.  Ceci est possible car z.com est un suffixe de yzcom. <br><br><img src="https://habrastorage.org/webt/5r/pb/fb/5rpbfbklmhp9nszl2vmgm2pedfw.jpeg"><br><br>  La seule chose qui ne peut pas servir de telle source est l'expression .ayzcom, car c'est le mauvais suffixe pour la source d'origine d'origine.  En outre, le suffixe source correct de la source d'origine ne peut pas Ãªtre considÃ©rÃ© simplement .com, car dans ce cas, le site pourra en quelque sorte affecter les cookies ou quelque chose de similaire sur n'importe quel site comme .com, ce qui peut avoir des consÃ©quences assez dÃ©vastatrices. <br><br>  La raison pour laquelle ces types de choses sont acceptables est qu'elles sont liÃ©es Ã  un certain type de relation de confiance existante.  Il semble donc qu'avec les trois premiers paramÃ¨tres, tout est en ordre, et le dÃ©sordre n'est qu'en .com. <br><br>  <b>Public: il</b> s'avÃ¨re qu'il est possible de faire de telles scissions Ã  tout moment ou au point final?  Par exemple, votre xyzcom peut-il Ãªtre changÃ© pour votre z.com? <br><br>  <b>Professeur:</b> non, cela ne s'applique qu'Ã  tous les points. <br><br><img src="https://habrastorage.org/webt/cl/hw/kb/clhwkbpkjrgytglv9vr0ul-3zdc.jpeg"><br><br>  <b>Public:</b> y a-t-il une raison pour laquelle cela n'a pas Ã©tÃ© fait afin que vous puissiez indiquer un super- ou un sous-domaine, mais en mÃªme temps, ils devraient en quelque sorte s'entendre sur la provenance des informations?  Disons que je ne veux accepter que ce qui a la mÃªme origine que le mien, afin que n'importe laquelle de ces ressources puisse m'attaquer.  De plus, nous rendrions cette interaction symÃ©trique, pour que je puisse aussi l'influencer.  AprÃ¨s tout, le suffixe source .com signifie que tout ce qui a le mÃªme suffixe .com peut m'affecter. <br><br>  <b>Professeur:</b> oui, c'est difficile, il y a donc plusieurs rÃ©ponses Ã  cette question.  PremiÃ¨rement, les gens Ã©taient trÃ¨s inquiets de la possibilitÃ© d'une attaque avec .com.  Par consÃ©quent, ils voulaient rendre le langage de manipulation de domaine facile Ã  comprendre.  Ainsi, ils n'ont pas permis de gÃ¢cher les paramÃ¨tres. <br><br>  Dans une seconde, je vais parler d'une chose qui vous permet de faire ce dont vous parlez, mais uniquement en ce qui concerne les suffixes de domaine.  Pour l'instant, je tiens Ã  noter que l'interface Post Message permet aux domaines de communiquer entre eux s'ils y consentent.  Donc, dans la pratique, les gens utilisent Post Message pour implÃ©menter une communication interdomaine s'ils ne peuvent pas Ã©tablir la mÃªme source d'origine en utilisant les astuces dÃ©crites ci-dessus.  De cette faÃ§on, les navigateurs peuvent restreindre les domaines en fonction de ces suffixes du domaine source.  Et ici, il y a aussi une petite nuance intÃ©ressante - les navigateurs comprennent quand (document.domain) peut Ãªtre Ã©crit, et quand il ne peut pas. <br><br>  Il y a une raison Ã  cela, que nous examinerons dans une seconde.  Ainsi, deux trames peuvent accÃ©der l'une Ã  l'autre si au moins une des deux conditions suivantes est vraie: <br><br><ul><li>  les deux ensembles de cadres dÃ©finissent (document.domain) la mÃªme valeur; </li><li>  aucun de ces cadres ne peut changer (document.domain), malgrÃ© le fait que la valeur de ce document dans les deux cadres est la mÃªme. </li></ul><br><img src="https://habrastorage.org/webt/7g/sw/lr/7gswlr-7f7br4psxicyzxe5ulyy.jpeg"><br><br>  L'idÃ©e principale de ces rÃ¨gles est qu'elles protÃ¨gent le domaine contre les attaques causÃ©es par leurs propres erreurs ou la nocivitÃ© de l'un des sous-domaines. <br><br>  Imaginez que vous disposez d'un domaine xyzcom qui tente d'attaquer le domaine yzcom parce que le premier domaine contient une erreur ou est malveillant.  Il essaiera de raccourcir le domaine yzcom en un aspect .com, puis commencera Ã  se Â«chimiserÂ» avec l'Ã©tat de JavaScript, des cookies ou d'autres choses. <br><br><img src="https://habrastorage.org/webt/ws/9g/7n/ws9g7n_geybc_ajfui0amho8ir4.jpeg"><br><br>  Donc, ces deux rÃ¨gles signifient que si yzcom ne veut pas permettre Ã  quiconque d'interagir avec lui, il ne changera jamais la valeur (document.domain).  Donc, lorsque le cadre xyzcom veut le raccourcir, le navigateur dira: "Oui, vous voulez le raccourcir, mais vous n'avez pas le droit de le faire!"  Il y a une coÃ¯ncidence de valeurs, mais le domaine yzcom n'a pas indiquÃ© qu'il souhaite y participer.  Est-ce clair?  Dans ce cas, on peut voir que la plupart des cadres fonctionnent avec la mÃªme politique d'origine. <br><br>  Nous pouvons maintenant voir comment notre nÅ“ud DOM est traitÃ©.  C'est assez simple.  En rÃ¨gle gÃ©nÃ©rale, les nÅ“uds DOM tirent leur origine du cadre environnant.  Dans le cas des cookies, c'est un peu plus compliquÃ©.  Les cookies ont un domaine et ils ont leur propre chemin.  Par exemple, vous pourriez imaginer qu'un cookie pourrait Ãªtre associÃ© aux informations suivantes, par exemple * .mit.edu / 6.858.  Dans ce cas, le cookie a un * .mit.edu / domain et un chemin d'accÃ¨s 6.858. <br><br><img src="https://habrastorage.org/webt/4-/s3/yx/4-s3yxjeuwvhrmnftskqrmbvk30.jpeg"><br><br>  Veuillez noter que ce domaine peut Ãªtre le suffixe complet des pages du domaine actuel.  Vous pouvez donc effectuer avec lui les mÃªmes astuces que celles dont nous avons parlÃ© plus tÃ´t.  Notez que ce chemin 6.858 peut Ã©galement Ãªtre reprÃ©sentÃ© comme une barre oblique, suivie de rien, ce qui indique que tous les chemins de domaine doivent avoir accÃ¨s au cookie situÃ© ici. <br><br>  Mais dans ce cas, nous avons une adresse de chemin spÃ©cifique.  Ainsi, celui qui dÃ©finit ces cookies a la possibilitÃ© de voir Ã  quoi ressemblent le domaine et le chemin.  Et ces valeurs peuvent Ãªtre dÃ©finies Ã  la fois cÃ´tÃ© serveur et cÃ´tÃ© client.  CÃ´tÃ© client, vous aurez un objet JavaScript appelÃ© document.cookie.  Il s'agit du format utilisÃ© pour indiquer tous les chemins d'accÃ¨s Ã  des objets similaires. <br><br>  Il existe un indicateur de sÃ©curitÃ© d'indicateur sÃ©curisÃ© que vous pouvez dÃ©finir sur un cookie pour indiquer qu'il s'agit d'un fichier HTTPS.  Dans ce cas, le contenu HTTP ne devrait pas avoir accÃ¨s Ã  ce cookie.  C'est l'idÃ©e principale des cookies. <br><br>  Veuillez noter que chaque fois qu'un navigateur gÃ©nÃ¨re une demande Ã  un serveur Web spÃ©cifique, il va inclure tous les cookies pertinents dans cette demande.  Il existe une sorte de ligne de correspondance et d'algorithmes qui permettent de savoir que ce sont les bons cookies qui doivent Ãªtre envoyÃ©s en rÃ©ponse Ã  une demande, car ils peuvent avoir des choses Ã©tranges avec des suffixes de domaine, etc. <br><br>  <b>Public:</b> les cadres peuvent-ils accÃ©der aux cookies les uns des autres s'ils respectent ces rÃ¨gles? <br><br>  <b>Professeur:</b> oui, les cadres peuvent le faire.  Mais cela dÃ©pend de la faÃ§on dont le document.domain est dÃ©fini, du domaine des cookies et du chemin.  Ainsi, les cadres peuvent accÃ©der aux cookies les uns des autres, d'oÃ¹ la question qui se pose: peut-il y avoir un problÃ¨me si nous permettons Ã  des cadres arbitraires d'Ã©crire des cookies arbitraires aux gens?  Il suffit de dire que ce sera mauvais.  La raison pour laquelle cela est mauvais est que ces cookies permettent au cÃ´tÃ© client de l'application de stocker des donnÃ©es utilisateur. <br><br>  Vous pouvez donc imaginer que si un attaquant peut contrÃ´ler ou redÃ©finir les cookies utilisateur, il peut, par exemple, modifier le cookie pour Gmail afin que l'utilisateur se connecte via le compte Gmail appartenant Ã  cet attaquant.  Dans ce cas, toute lettre d'utilisateur pourrait Ãªtre lue par un attaquant.  Vous pouvez imaginer que quelqu'un pourra obtenir des cookies d'Amazon.com pour mettre toutes sortes d'achats ridicules et autres dans votre panier. <br><br>  Ainsi, les cookies sont une ressource trÃ¨s importante pour la protection.  Et de nombreuses attaques de sÃ©curitÃ© rÃ©seau sont conÃ§ues pour les voler et les utiliser pour nuire. <br>  Il y a une autre question intÃ©ressante concernant les cookies.  Supposons que vous ayez un site foo.co.uk.  Que faire si un site avec ce nom d'hÃ´te est en mesure de dÃ©finir des cookies pour co.uk? <br><br><img src="https://habrastorage.org/webt/5d/96/kj/5d96kjqqlanivfvv7zm8cqud3vk.jpeg"><br><br>  Il y a ici une subtilitÃ© liÃ©e aux rÃ¨gles dont nous avons parlÃ© plus haut, car le premier site devrait pouvoir raccourcir son domaine et paramÃ©trer les cookies pour le second, tout semble lÃ©gal ici.  Mais d'un point de vue humain, nous le regardons avec suspicion, car nous comprenons que co.uk est un domaine atomique unique.  Cependant, cela Ã©quivaut Ã  .com.  On peut dire que les Britanniques ont foirÃ© qu'ils devraient avoir raison ici.  Mais ce n'est pas de leur faute.  D'un point de vue moral, il s'agit d'un seul domaine unique qui ne peut pas Ãªtre rompu.  Par consÃ©quent, nous devons disposer d'une infrastructure spÃ©ciale pour que les cookies fonctionnent correctement. <br><br>  Mozilla a un site Web appelÃ© publicsuffix.org qui contient des listes de rÃ¨gles sur la faÃ§on dont les cookies, l'origine et les domaines doivent Ãªtre raccourcis, en tenant compte du fait qu'il peut y avoir des points dans certaines choses, alors qu'en fait ils doivent Ãªtre considÃ©rÃ©s comme un seul atomique le tout. <br><br>  Ainsi, lorsque votre navigateur dÃ©couvrira comment il doit manipuler diffÃ©rents cookies, il devra alors vÃ©rifier ce cÃ´tÃ© du problÃ¨me.  Ou assurez-vous que foo.co.uk ne peut pas raccourcir le domaine en co.uk.  Il y a donc ici un problÃ¨me trÃ¨s sensible. <br><br>  Nous dÃ©couvrons de nombreux problÃ¨mes de sÃ©curitÃ© Web plus intÃ©ressants au cours du processus, car une grande partie de l'infrastructure d'origine a Ã©tÃ© dÃ©veloppÃ©e spÃ©cifiquement pour la langue anglaise.  Par exemple, du texte ASCII ou quelque chose comme Ã§a.  Il n'a pas Ã©tÃ© initialement conÃ§u pour Ãªtre utilisÃ© par la communautÃ© internationale. <br><br>  Mais comme Internet est devenu plus populaire, les gens ont commencÃ© Ã  dire: Â«hÃ©, au dÃ©but, nous avons crÃ©Ã© une conception assez large de solutions et maintenant nous devons l'adapter aux personnes qui sont obligÃ©es d'utiliser notre comprÃ©hension Ã©troite de ce que signifie la langue.Â»  Par consÃ©quent, nous sommes maintenant confrontÃ©s Ã  tous ces problÃ¨mes fous. <br><br>  ConsidÃ©rez comment les rÃ©ponses XML HTTP sont gÃ©rÃ©es par la mÃªme stratÃ©gie source d'origine.  Par dÃ©faut, JavaScript ne peut en gÃ©nÃ©rer qu'un s'il est construit sur son serveur d'origine.  Cependant, il existe une nouvelle interface appelÃ©e Cross Origin Request, ou CORS. <br><br>  Il s'agit donc de la mÃªme origine, sauf si le serveur a activÃ© ce gizmo CORS.  Fondamentalement, un nouvel en-tÃªte de rÃ©ponse HTTP est ajoutÃ© appelÃ© Access-Control-Allow-Origin. <br><br><img src="https://habrastorage.org/webt/4s/io/ow/4sioowzgalikh7xv3q9qui9vmo8.jpeg"><br><br>  Supposons que JavaScript de foo.com veuille faire une requÃªte HTTP XML Ã  bar.com.  Comme dÃ©crit dans les rÃ¨gles, l'origine croisÃ©e a lieu ici.  Et si le serveur bar.com veut autoriser cela, il retournera sa rÃ©ponse HTTP avec le titre: "oui, je laisse foo.com m'envoyer ces requÃªtes XML XML d'origine croisÃ©e." <br><br>  En fait, le serveur bar.com peut rÃ©pondre Â«nonÂ», c'est-Ã -dire qu'il peut refuser la demande.  Dans ce cas, le navigateur ne peut pas terminer la requÃªte XML HTTP.  C'est donc une sorte de nouveautÃ©, qui est apparue principalement en raison d'applications mixtes.  Il est nÃ©cessaire pour les applications de diffÃ©rents dÃ©veloppeurs et de diffÃ©rents domaines, afin qu'ils aient la possibilitÃ© d'Ã©changer des donnÃ©es entre eux. <br><br><img src="https://habrastorage.org/webt/n9/kd/w5/n9kdw5p-sfayoij0_sxnef7ct9i.jpeg"><br><br>  Ainsi, au lieu de foo.com, il peut y avoir des astÃ©risques ici si quelqu'un veut obtenir des donnÃ©es d'origine croisÃ©e, etc.  Je pense que c'est assez simple.  Il y a un tas d'autres ressources que nous pourrions regarder, comme les images.  GrÃ¢ce Ã  Access-Control-Allow-Origin, un cadre peut charger des images Ã  partir de n'importe quelle source de son choix.  Mais il ne peut pas vÃ©rifier les morceaux de cette image, car on pense qu'avec diffÃ©rentes politiques de sources d'origine, il n'est pas bon de vÃ©rifier le contenu de leurs fichiers respectifs. <br><br>  Bien que le cadre ne puisse pas vÃ©rifier les bits, il peut toujours dÃ©duire la taille des images car il voit comment ils sont placÃ©s sur la page.  Il s'agit donc d'un autre de ces cas Ã©tranges oÃ¹ la mÃªme politique de source d'origine tenterait d'empÃªcher toutes les fuites d'informations.  Mais en fait, il n'est pas en mesure d'empÃªcher tout cela, car l'intÃ©gration de l'hÃ©ritage, en fait, affiche certains types d'informations. <br><br>  Le CSS est similaire aux images, donc un cadre peut intÃ©grer du CSS Ã  partir de n'importe quelle source.  Cependant, il ne peut pas vÃ©rifier directement le texte Ã  l'intÃ©rieur du fichier CSS s'il provient d'une autre source.  Mais il peut reconnaÃ®tre ce que fait ce CSS car il crÃ©e simplement un tas de nÅ“uds et regarde ensuite comment leur style change.  Et Ã§a a l'air un peu Ã©trange. <br><br>  JavaScript est mon exemple prÃ©fÃ©rÃ© de la faÃ§on dont cette mÃªme politique d'origine essaie de prendre en charge tout type de sÃ©quence intelligente.  L'idÃ©e ici est que si vous effectuez une rÃ©cupÃ©ration croisÃ©e de JavaScript, cela est autorisÃ©.  Vous pouvez activer l'exÃ©cution de JavaScript externe dans le contexte de votre propre page, mais vous ne pouvez pas regarder le code source. <br><br><img src="https://habrastorage.org/webt/rn/7k/fo/rn7kfohopdovwvtszam718nrnge.jpeg"><br><br>  Par consÃ©quent, si vous avez une source de balise de script Ã©gale Ã  quelque chose en dehors de votre domaine, lorsque cette source est exÃ©cutÃ©e, vous pouvez y initier des fonctions.  Mais vous ne pourrez pas y voir le code source JavaScript. <br><br>  Tout cela semble trÃ¨s bien, mais il a un tas de "trous".  Par exemple, JavaScript est un langage de script dynamique.  Et les fonctions sont des objets de premiÃ¨re classe.  Ainsi, pour n'importe quelle fonction f, vous pouvez simplement utiliser la fonction f.tostring (), et cela vous donnera le code source de la fonction f.  Et les gens font Ã§a tout le temps, ils font de la rÃ©Ã©criture dynamique, etc. <br><br><img src="https://habrastorage.org/webt/yl/0s/cc/yl0scc_w8oeuvq5syu4dajkaer8.jpeg"><br><br>  Ainsi, bien que les stratÃ©gies d'origine ne vous permettent pas d'afficher directement le contenu de la balise de script, vous pouvez simplement effectuer l'opÃ©ration spÃ©cifiÃ©e et obtenir le code source. <br><br>  De mÃªme, vous pouvez obtenir votre serveur domestique Ã  partir de votre domaine, juste pour y rÃ©cupÃ©rer le code source, puis vous le renvoyer.  En fait, vous venez de demander Ã  votre serveur domestique d'exÃ©cuter le programme Wget pour obtenir le code source de cette maniÃ¨re.  Cela semble donc un peu idiot, c'est-Ã -dire que la politique d'origine ici est un peu Ã©trange. <br><br>  <b>Public:</b> Supposons que la raison pour laquelle ils le font est d'empÃªcher l'utilisateur de recevoir JavaScript, car des cookies peuvent Ã©galement Ãªtre envoyÃ©s.  Autrement dit, l'utilisateur pourra adapter le JavaScript rÃ©sultant Ã  ses besoins. <br><br>  <b>Professeur:</b> oui, Ã§a l'est. <br><br>  <b>Public:</b> si vous demandez Ã  votre serveur de le faire, il ne pourra pas vous fournir de cookies personnalisÃ©s. <br><br>  <b>Professeur:</b> c'est vrai, bien qu'en pratique le code source "brut" ne soit pas destinÃ© Ã  Ãªtre retravaillÃ© par l'utilisateur.  Mais vous avez raison, cela empÃªchera certaines attaques. <br><br> ,    ,         JavaScript,         . ,   -  ,   -,       ,       .          ,        ,   ,      .   ,  ,     . <br><br>       ,          .       -  - ,     -    HTML  JavaScript. ,    ,        .           . <br><br> ,     JavaScript,   ,   .    Java,         . <br><br><img src="https://habrastorage.org/webt/zj/qj/e1/zjqje1nf_k3svnoo1xfel-l33p0.jpeg"><br><br>       ,    HTML5     , ,      ,     ,     Java.    ,      . <br><br> ,      HTTP,        cookie.    ,     URL,    ? <br><br><img src="https://habrastorage.org/webt/vh/xg/qq/vhxgqqg7q7zf7qpw1dzh8dk8ir0.jpeg"><br><br> ,       URL- bank.com.     ,          - .  ,    URL,   ,    ,      $500     .      ,      . <br><br>    â€”           ,       origin,  bank.com -   ,   ,       cookie    .       : Â«, , ,    $500      attacker! ,   Â». <br>     .    , ,  ,     ,     .     .  ,         , ,    ,   -          .  ,     ,  CSRF. <br><br>      ,       URL.   ,    c  . <br><br>  ,   -    .  â€“  ,        ,    : <br><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag"> = </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">â€œ/transfer.cdiâ€â€¦</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Et Ã  l'intÃ©rieur de ce formulaire, nous aurons les donnÃ©es d'entrÃ©e, qui sont gÃ©nÃ©ralement utilisÃ©es pour saisir du texte, des frappes, des clics de souris, etc.  En fait, nous pouvons masquer cette entrÃ©e afin qu'elle n'apparaisse pas sur la page de l'utilisateur: type d'entrÃ©e = "cachÃ©", attribuez-lui le nom d'attribut = "csrf" et la valeur alÃ©atoire valeur = "a72f ...".  Ce formulaire sera gÃ©nÃ©rÃ© sur le serveur. <br><br><img src="https://habrastorage.org/webt/70/za/85/70za85q7xzz7ts5bfyhs7pjd-8m.jpeg"><br><br>  Ainsi, lorsque l'utilisateur accÃ¨de Ã  cette page, cÃ´tÃ© serveur, le serveur gÃ©nÃ¨re cette valeur alÃ©atoire = "a72f ..." et l'intÃ¨gre dans le code HTML que l'utilisateur reÃ§oit.  Par consÃ©quent, lorsque l'utilisateur remplit ce formulaire, cette URL du formulaire: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bank.com/xfer?amount=500&amp;to=attacker</a> <br><br>  Il est complÃ©tÃ© par un jeton alÃ©atoire: <br><br><pre> <code class="hljs objectivec">http:<span class="hljs-comment"><span class="hljs-comment">//bank.com/xfer?amount=500&amp;to=attacker/&amp;csrf=a72f...</span></span></code> </pre> <br>  Cela signifie que l'attaquant devrait maintenant pouvoir deviner le jeton spÃ©cifique que le serveur gÃ©nÃ¨re pour l'utilisateur Ã  chaque fois qu'il accÃ¨de Ã  la page de la banque.  Donc, si nous avons une valeur suffisamment alÃ©atoire, le pirate ne pourra rien simuler, car s'il indique le mauvais jeton, les rÃ¨gles du serveur rejetteront sa demande. <br><br>  58:00 min <br><br>  Suite: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques".</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ConfÃ©rence 8: ModÃ¨le de sÃ©curitÃ© rÃ©seau, partie 3</a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_1C62Twf0vs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La version complÃ¨te du cours est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matÃ©riaux plus intÃ©ressants?  Soutenez-nous en passant une commande ou en le recommandant Ã  vos amis, une <b>rÃ©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrÃ©e de gamme que nous avons inventÃ©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vÃ©ritÃ© sur VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbps Ã  partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'Ã  24 cÅ“urs et jusqu'Ã  40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en dÃ©cembre gratuitement</b> en payant pour une pÃ©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV Ã  partir de 249 $</a> aux Pays-Bas et aux Ã‰tats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">crÃ©ation d'un bÃ¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coÃ»tant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr423155/">https://habr.com/ru/post/fr423155/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr423145/index.html">Extension PHP et Kotlin Native. TroisiÃ¨me partie, probablement finale</a></li>
<li><a href="../fr423147/index.html">Ã€ propos de la stratÃ©gie et du format de stockage Ã  l'Ã¨re Hadoop</a></li>
<li><a href="../fr423149/index.html">Comparaison directe des mÃ©thodes de correction de la myopie au laser ou de ce que vous payez lorsque vous choisissez ReLEx SMILE</a></li>
<li><a href="../fr423151/index.html">Objets globaux en PHP</a></li>
<li><a href="../fr423153/index.html">Guide Node.js, partie 2: JavaScript, V8, quelques astuces de dÃ©veloppement</a></li>
<li><a href="../fr423157/index.html">Utilisation de la fonction connect () de react-redux</a></li>
<li><a href="../fr423159/index.html">Bonne fÃªte du programmeur! Aimez vos dÃ©veloppeurs</a></li>
<li><a href="../fr423161/index.html">Les entreprises veulent des donnÃ©es personnelles</a></li>
<li><a href="../fr423163/index.html">Connexion de CryptoPro Ã  Mono</a></li>
<li><a href="../fr423165/index.html">Dessin de maillage dynamique dans Unreal Engine 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>