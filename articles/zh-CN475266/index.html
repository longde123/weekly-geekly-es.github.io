<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‡ ğŸŒ¹ ğŸ§”ğŸ¼ æˆ‘ä»¬åœ¨androidä¸‹åè½¬æ‰‹æœº1ã€‚ å¦‚ä½•æ·»åŠ ä¸€äº›åŠŸèƒ½å¹¶æ”¾å¼ƒä¸€äº›æ™šä¸Š ğŸ’‹ ğŸ¤¯ ğŸŒ±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘å¿…é¡»é©¬ä¸Šè¯´ï¼Œå°½ç®¡æœ‰äººå¯èƒ½ä¼šæƒ³èµ·è¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜å¾ˆå¤§å£°-æ ¹æœ¬æ²¡æœ‰ä»»ä½•ç›´æ¥çš„ç¡¬æ ¸ã€‚ è€Œä¸”ï¼Œå°½ç®¡äº‹å®æ˜¯å€’é€€é€šå¸¸ä¸ä¿¡æ¯å®‰å…¨ç›¸å…³ï¼Œä½†æ˜¯å†ä¹Ÿä¸ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå› ä¸ºä¸éœ€è¦ç»•è¿‡ä»»ä½•ä¿æŠ¤æªæ–½ï¼ˆå°å·§çš„ä¾‹å¤–ï¼‰ã€‚ æ²¡æœ‰ä¸€ä¸ªã€‚ Mobile 1sæ˜¯å…è´¹äº§å“ï¼Œå…¶ä¸­æ²¡æœ‰å†…ç½®ä»»ä½•æ£€æŸ¥ï¼Œä¿æŠ¤å’Œä»˜è´¹åŠŸèƒ½ã€‚ 


 å› æ­¤ï¼Œæˆ‘å¸å¼•é‚£äº›å¸Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬åœ¨androidä¸‹åè½¬æ‰‹æœº1ã€‚ å¦‚ä½•æ·»åŠ ä¸€äº›åŠŸèƒ½å¹¶æ”¾å¼ƒä¸€äº›æ™šä¸Š</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475266/"><p> æˆ‘å¿…é¡»é©¬ä¸Šè¯´ï¼Œå°½ç®¡æœ‰äººå¯èƒ½ä¼šæƒ³èµ·è¿™ç¯‡æ–‡ç« çš„æ ‡é¢˜å¾ˆå¤§å£°-æ ¹æœ¬æ²¡æœ‰ä»»ä½•ç›´æ¥çš„ç¡¬æ ¸ã€‚ è€Œä¸”ï¼Œå°½ç®¡äº‹å®æ˜¯å€’é€€é€šå¸¸ä¸ä¿¡æ¯å®‰å…¨ç›¸å…³ï¼Œä½†æ˜¯å†ä¹Ÿä¸ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µï¼Œå› ä¸ºä¸éœ€è¦ç»•è¿‡ä»»ä½•ä¿æŠ¤æªæ–½ï¼ˆå°å·§çš„ä¾‹å¤–ï¼‰ã€‚ æ²¡æœ‰ä¸€ä¸ªã€‚  Mobile 1sæ˜¯å…è´¹äº§å“ï¼Œå…¶ä¸­æ²¡æœ‰å†…ç½®ä»»ä½•æ£€æŸ¥ï¼Œä¿æŠ¤å’Œä»˜è´¹åŠŸèƒ½ã€‚ </p><br><p> å› æ­¤ï¼Œæˆ‘å¸å¼•é‚£äº›å¸Œæœ›çœ‹åˆ°ä½¿ç”¨å»æ··æ·†å™¨ï¼Œä½¿ç”¨Frida / Xposedå’Œå…¶ä»–æ£˜æ‰‹è½¯ä»¶çš„äºº-æ‚¨è‡ªå·±ä¸ä¼šå‘ç°ä»»ä½•æœ‰è¶£çš„ä¸œè¥¿ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†åªä½¿ç”¨apktoolï¼Œbaksmaliï¼Œapksignerï¼Œadbï¼Œjadxï¼Œæ§åˆ¶å°ï¼Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œjavacï¼Œd8ç­‰ã€‚ </p><br><p> æˆ‘è¿˜æƒ³æå‰è®©é‚£äº›ç­‰å¾…å¯¹è¯¥å¹³å°è¿›è¡Œæ·±å…¥åˆ†ææˆ–å…¶å¼ºå¤§ä¿®æ”¹çš„äººæ„Ÿåˆ°å¤±æœ›ã€‚ ä»…å¯¹å‡ ä¸ªæ–‡ä»¶è¿›è¡Œå°çš„ç¼–è¾‘ï¼Œå®é™…ä¸Šï¼Œå³ä½¿æ˜¯æˆ‘æ²¡æœ‰å½»åº•å¼„æ¸…æ¥šçš„è¿™å‡ ä¸ªæ–‡ä»¶ï¼Œéƒ½ä½äºé¡¶éƒ¨ã€‚ </p><a name="habracut"></a><br><h1 id="s-chego-vse-nachalos"> ä¸€åˆ‡å¦‚ä½•å¼€å§‹ </h1><br><p> æˆ‘ä¼šå‘Šè¯‰æ‚¨ä¸€äº›æœ‰å…³ä¸ºä»€ä¹ˆæˆ‘çªç„¶æƒ³åˆ°ä»¥æŸç§æ–¹å¼è¿›å…¥æ‰‹æœºçš„åŸå› ã€‚ ç›®å‰ï¼Œæˆ‘ä»äº‹androidçš„æœ¬æœºå¼€å‘å·²ç»æœ‰ä¸€å¹´äº†ï¼Œä½†æ˜¯åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¥ç¨‹åºå‘˜çš„èº«ä»½å·¥ä½œäº†4å¹´ï¼Œè€Œåœ¨è¿‡å»çš„ä¸€å¹´åŠä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¸“é—¨é’ˆå¯¹ç§»åŠ¨å¹³å°è¿›è¡Œå¼€å‘ã€‚ å°½ç®¡å¥¹æ»¡è¶³äº†åŸºæœ¬éœ€æ±‚ï¼Œä½†å¥¹ä¹Ÿæœ‰å¾ˆå¤šç¼ºç‚¹ï¼ˆé™¤äº†ç¼–ç¨‹è¯­è¨€ä¹‹å¤–ï¼‰ã€‚ ç‰¹åˆ«æ˜¯ï¼Œè‡³å°‘é€šè¿‡å¸¸è§„æ‰‹æ®µå¹¶åˆ©ç”¨æˆ‘ä»¬å½“æ—¶çš„çŸ¥è¯†å­˜å‚¨ï¼Œä¸å¯èƒ½äººå·¥åµŒå…¥ä»»ä½•å¤–éƒ¨åº“ã€‚ ä¾‹å¦‚ï¼Œåœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ ‡ç­¾çš„åŠŸèƒ½è¿˜ä½¿ä¸€åˆ‡éƒ½æ„Ÿåˆ°éå¸¸éš¾è¿‡ã€‚ å…¶é…ç½®çš„å…¨éƒ¨å¯èƒ½æ€§æ˜¯åœ¨æ‚¨ç‚¹å‡»æ ‡ç­¾æ—¶ä¸ºæ ‡ç­¾æŒ‡å®šæ–‡æœ¬ã€‚ é‚£æ—¶ï¼Œè§£å†³æ­¤é—®é¢˜çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ç‰¹æ®Šå¯¹è±¡â€œ HTML Document Fieldâ€ï¼Œä½†å­˜åœ¨é—®é¢˜ã€‚ åœ¨ä½¿ç”¨1sæ—¶ï¼Œæˆ‘åœ¨androidæœ¬æœºå¼€å‘ä¸­çš„æ‰€æœ‰çŸ¥è¯†éƒ½åœ¨HelloWorldé…å¯¹ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»€è‡³æ²¡æœ‰æƒ³åˆ°å°†æ‰‹æœºæ”¹æˆ1sï¼Œæˆ–è€…æˆ‘ä»¬æ²¡æœ‰è§£å†³å®¢æˆ·å…³äº1séæ ‡å‡†æ‰©å±•çš„å„ç§é—®é¢˜ï¼Œæˆ–è€…æˆ‘ä»¬çœ‹åˆ°äº†éå¸¸ç®€å•çš„æœ¬æœºä¸å®ƒç›¸é‚»å¹¶æ­ªæ–œ/å€¾æ–œåœ°ä¸1sé›†æˆçš„åº”ç”¨ç¨‹åºï¼ˆå¹¶ä¸”1sè®¸å¯åè®®ä¼¼ä¹ç¦æ­¢åœ¨å¹³å°æœ¬èº«ä¸­è¿›è¡Œç¼–è¾‘ï¼‰ã€‚ </p><br><p> å› æ­¤ï¼Œè¿›è¡Œ1cé€†è½¬çš„ç¬¬ä¸€ä¸ªåŸå› æ˜¯æˆ‘å˜å¾—å¾ˆæ„Ÿå…´è¶£ï¼Œå¹¶ä¸”çŸ¥é“å¦‚ä½•ä½¿ç”¨å½“å‰çš„çŸ¥è¯†åº“ã€‚ æˆ‘å¿…é¡»é©¬ä¸Šè¯´ï¼Œæœ¬åœ°å¼€å‘çš„ç»éªŒå¹¶ä¸æ˜¯è¯´éœ€è¦ä»€ä¹ˆï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­å‡ ä¹æ²¡æœ‰å‘ç°ä¸‹é¢å°†è¦æè¿°çš„å†…å®¹ã€‚ å› æ­¤ï¼ŒåŸåˆ™ä¸Šï¼Œå¤§æ¦‚å‡ å¤©æˆ–å‡ å‘¨çš„æ™®é€š1snikéƒ½å¯ä»¥å¼„æ¸…æ¥šè¿™ä¸€åˆ‡ã€‚ </p><br><p> ç¬¬äºŒä¸ªåŸå› æ˜¯æˆ‘åªæƒ³å°è¯•é€‰æ‹©å…¶ä»–äººçš„apkï¼Œå› ä¸ºåœ¨æ­¤ä¹‹å‰æˆ‘ç¼ºå°‘äº†ç›¸å½“å¹¿æ³›çš„çŸ¥è¯†ï¼Œè€Œä¸”ç”±äºæˆ‘å¿…é¡»ä»æŸä¸ªåœ°æ–¹å¼€å§‹ï¼Œæ‰€ä»¥æˆ‘åªéœ€è¦1sã€‚ </p><br><h1 id="pervye-shagi"> ç¬¬ä¸€æ­¥ </h1><br><p> æˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Œå³ä½¿å€’è½¬1çš„æƒ³æ³•åªæ˜¯åœ¨è„‘æµ·ä¸­å¾˜å¾Šï¼Œæˆ‘ä¹Ÿåªæ˜¯ç”¨é¼ æ ‡å°†åº”ç”¨ç¨‹åºçš„apkæ–‡ä»¶æ‹–åˆ°AndroidStudioçª—å£ä¸Šã€‚ æˆ‘æƒ³é©¬ä¸Šè¯´ä¸€ä¸‹ï¼Œæˆ‘æ„Ÿåˆ°æœ‰äº›éš¾è¿‡ï¼Œå› ä¸ºå¤§å¤šæ•°1cä»£ç éƒ½æ˜¯ç”¨C ++ç¼–å†™çš„ï¼Œå¹¶ä¸”ä½äº.soåº“ä¸­ï¼Œè€Œå°†å®ƒä»¬åè½¬çš„éš¾åº¦æ›´å¤§ï¼Œè¿™å¹¶ä¸æœ‰è¶£ã€‚ ä½†æ˜¯classes.dexæ–‡ä»¶å®Œå…¨å¸å¼•äº†æˆ‘çš„æ³¨æ„ï¼Œç‰¹åˆ«æ˜¯å› ä¸ºå®ƒçš„å¤§å°é€‚ä¸­ï¼Œä½¿æˆ‘æœ‰æœºä¼šå‡è®¾å®ƒå¾ˆå®¹æ˜“åè½¬ã€‚ æ€»çš„æ¥è¯´ï¼Œç»“æœå°±æ˜¯è¿™æ ·ã€‚ é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒC ++ä¸­çš„å¤§å¤šæ•°ä»£ç è¿™ä¸€äº‹å®çš„æœ‰è¶£ç»“æœæ˜¯ï¼Œè®¸å¤šæ–¹æ³•å’Œç±»éƒ½é¿å…äº†ä½¿ç”¨ProGuardè¿›è¡Œå¤„ç†ã€‚ ç”¨æœ€å°çš„ä»£ç è¿›è¡Œäº’æ“ä½œæ˜¯å›°éš¾çš„ï¼›ï¼‰ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">è¿™æ˜¯æˆ‘åœ¨Studioçª—å£ä¸­çœ‹åˆ°çš„å†…å®¹ï¼ˆåˆ†è§£åçš„x86ç‰ˆæœ¬å¯ç”¨äºä»¿çœŸå™¨è€Œä¸æ˜¯å®é™…è®¾å¤‡ï¼‰</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ry/dx/6l/rydx6lnrt7oix0nqa63bftv2-8y.png"></p></div></div><br><p> å¦‚æ‚¨åœ¨ä¸Šé¢çš„å±å¹•å¿«ç…§ä¸­æ‰€è§ï¼Œè¯¥åº”ç”¨ç¨‹åºå‡ ä¹æ²¡æœ‰ç¼©å°ï¼ˆå°±é‡å‘½åç±»å’Œæ–¹æ³•è€Œè¨€ï¼‰ã€‚ å¦å¤–ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°Javaä¸­å‡ ä¹æ²¡æœ‰ä»£ç ï¼Œå› æ­¤åº“å‡ ä¹å æ®äº†æ‰€æœ‰ç©ºé—´ã€‚ </p><br><p> æ¨é€äº†ä¸€æ®µæ—¶é—´çš„ç±»åˆ—è¡¨åï¼Œæˆ‘çœ‹åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„MapImplç±»ï¼Œä»¤äººæ€€ç–‘æ˜¯ç”±ä»–æ¥è´Ÿè´£è¿™ç§è‡ªå®šä¹‰æ˜¾ç¤ºæ ‡ç­¾çš„æƒ…å†µã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">MapImplç»“æ„</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ya/rl/xh/yarlxho_dqjalx6euv2g57bddn8.png"></p></div></div><br><p> æ–¹æ³•åˆ—è¡¨åŠå…¶ç­¾åå¯å‘äº†äººä»¬å¸Œæœ›ä¸€åˆ‡éƒ½éå¸¸ç®€å•ï¼Œå› æ­¤æˆ‘å†³å®šç ”ç©¶ä¸€ä¸‹smaliä»£ç ï¼Œæ­¤åæˆ‘å˜å¾—éå¸¸ç´§å¼ ï¼Œç„¶åé˜…è¯»äº†smaliå‘½ä»¤åˆ—è¡¨ä»¥åŠå¦‚ä½•è¯»å–/ç¼–å†™å®ƒã€‚ ä½†æ˜¯ï¼Œæ­£æ˜¯åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘æ‰å†³å®šè¿™ä»¶äº‹å°†æ˜¯ç®€å•è€ŒçŸ­æš‚çš„ï¼Œå› æ­¤ï¼Œåœ¨è¿™é‡Œï¼Œæ˜¯ä¸€ä¸ªè¿›è¡Œé€†è½¬çš„æœºä¼šã€‚ å†³å®šè‡ªå·±èŠ±å‡ ä¸ªæ™šä¸Šæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆæˆ‘å¤šä¹ˆæ®‹é…·åœ°è¯¯ä¼šäº†ï¼‰ï¼Œæˆ‘å¸¦ç€é•‡å®šçš„çµé­‚ä¸ŠåºŠç¡è§‰ã€‚ </p><br><h1 id="stroyu-plany"> åˆ¶å®šè®¡åˆ’ </h1><br><p> æ—©ä¸Šé†’æ¥åï¼Œæˆ‘å†³å®šï¼Œç”±äºåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»€è‡³ä»æœªå‚ä¸è¿‡æ›¿ä»£åº”ç”¨ç¨‹åºä¸­çš„èµ„æºï¼Œå°±åƒé€»è¾‘ä¸Šçš„æ”¹å˜ä¸€æ ·ï¼Œæˆ‘æ²¡ä»€ä¹ˆå¯åŠ¨æ‘‡çš„ä»¥å¡ä»£æ›¿æ›¿æ¢æ´»åŠ¨çš„ï¼Œå› æ­¤æœ€å¥½ä»¥å°æ­¥éª¤è§£å†³é—®é¢˜ã€‚ ä¹‹åï¼Œæˆ‘ä»¥ç®€çŸ­çš„æ­¥éª¤æ¸…å•åˆ—å‡ºäº†è‡ªå·±çš„æ­¥éª¤ï¼Œè¿™äº›æ­¥éª¤åº”è¯¥ä»¥èƒ½å¤Ÿè¿›è¡Œç¼–è¾‘çš„å·¥ä½œç§»åŠ¨å¹³å°çš„å½¢å¼å¼•å¯¼æˆ‘åˆ°è¾¾æ—…ç¨‹çš„ç»ˆç‚¹â€‹â€‹ã€‚ è¯¥åˆ—è¡¨å¦‚ä¸‹ï¼š </p><br><ol><li> ä¸ºç§»åŠ¨å¹³å°å‡†å¤‡1cé…ç½®ï¼Œå…¶æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯åœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºä¸¤ä¸ªæ ‡ç­¾ã€‚ </li><li> è§£å‹ç¼©ç§»åŠ¨å¹³å°çš„apkï¼Œæ‰“åŒ…æ— æ›´æ”¹ï¼Œç¡®ä¿é…ç½®æ­£å¸¸ã€‚ </li><li> å¯¹smaliæ–‡ä»¶è¿›è¡Œå°‘é‡æ›´æ”¹ï¼Œè¿™äº›æ›´æ”¹å‡ ä¹ä¸ä¼šæ›´æ”¹ä»»ä½•å†…å®¹ï¼Œä½†æ˜¯å¯ä»¥åœ¨æ—¥å¿—ä¸­çœ‹åˆ°è¿™äº›æ›´æ”¹æˆ–æ›´æ”¹å·¥ä½œé€»è¾‘ï¼Œè¿›è¡Œæ±‡ç¼–å¹¶ç¡®ä¿å…¶æ­£å¸¸å·¥ä½œã€‚ </li><li> è¦ä½¿ç”¨Javaä¸­çš„æ˜ å°„æ¥è¦†ç›–smaliæ´»åŠ¨ï¼Œæˆ–ä½¿ç”¨ç›¸åŒçš„æ¥å£ç¼–å†™æ´»åŠ¨ï¼Œè¯·åœ¨ä¸æ›´æ”¹åŠŸèƒ½çš„æƒ…å†µä¸‹æ›¿æ¢åº”ç”¨ç¨‹åºä¸­çš„æ´»åŠ¨ã€‚ æˆ–è€…ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå¤ªæ‡’æˆ–å¤ªå¤æ‚ï¼Œåˆ™ç¼–å†™ä¸€ä¸ªç±»ï¼Œè¯¥ç±»å°†ä¸ºMapImplåšä¸€éƒ¨åˆ†å·¥ä½œï¼Œå¹¶ä»smali MapImplæ·»åŠ å¯¹å…¶æ–¹æ³•çš„è°ƒç”¨ã€‚ </li><li> å†™è¿™ç¯‡æ–‡ç« ï¼ˆæˆ‘ä¸€ç›´æƒ³å†™ç‚¹ä¸œè¥¿ï¼Œä½†æ˜¯å…¶ä»–æƒ³æ³•è¿˜åœ¨æˆ‘è„‘æµ·ä¸­é…é…¿ï¼Œä½†æ˜¯çœ‹æ¥è¿™ç»ˆäºæ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—çš„è¯é¢˜ï¼‰ </li></ol><br><p> å¥½å§ï¼Œå¥½å§ï¼Œè‡³å°‘åœ¨ç¬¬ä¸€æ®µä¸­ï¼Œæˆ‘æ²¡æœ‰é—®é¢˜ã€‚ æˆ‘ä¸‹è½½äº†è¯¥å¹³å°çš„å…è´¹æ•™è‚²ç‰ˆï¼Œä¸‹è½½äº†ç§»åŠ¨å¹³å°ï¼Œå¹¶å°†å…¶å…¨éƒ¨éƒ¨ç½²åœ¨æˆ‘çš„è®¡ç®—æœºä¸Šï¼ˆ1Cï¼Œæ‚¨æ˜¯å¦å·²ç»æœ‰Linuxçš„åŸ¹è®­ç‰ˆï¼Œæˆ‘åªæ˜¯æƒ³ç¦»å¼€Windowsï¼Œç°åœ¨æˆ‘å¿…é¡»åœ¨å…¶ä¸­åšä¸€äº›å·¥ä½œï¼‰ã€‚ é…ç½®éå¸¸ç®€å•ï¼Œåœ¨å¯åŠ¨æ—¶è°ƒç”¨ShowOnMapï¼ˆï¼‰å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨åœ°å›¾ä¸Šä¼ è¾“ä¸¤ä¸ªç‚¹ã€‚ ä»…æ­¤è€Œå·²ã€‚ </p><br><p> ä½†æ˜¯ç¬¬äºŒç‚¹ï¼Œç”±äºæˆ‘çš„æ–‡ç›²è€Œå˜å¾—æ›´åŠ æ‚²æƒ¨ã€‚ ä½†æ˜¯åœ¨é‚£é‡Œï¼Œé™¤äº†ç¬¬ä¸€ç‚¹ï¼Œå…¶ä»–æ‰€æœ‰é—®é¢˜éƒ½å­˜åœ¨ã€‚ </p><br><h1 id="perepakovyvayu-prilozhenie-bez-izmeneniy-koda"> æˆ‘é‡æ–°æ‰“åŒ…åº”ç”¨ç¨‹åºè€Œä¸æ›´æ”¹ä»£ç  </h1><br><p> è°·æ­Œç«‹å³å‘Šè¯‰æˆ‘ï¼Œæœ‰ä¸€ä¸ªå¦‚æ­¤å‡ºè‰²çš„apktoolå·¥å…·ï¼Œå®ƒå®é™…ä¸Šå…è®¸ä¸¤ä¸ªå‘½ä»¤å°†apkè§£æä¸º.smaliæ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬é‡æ–°ç»„åˆã€‚ æˆ‘å†³å®šä½¿ç”¨å®ƒã€‚ æˆ‘ç”¨ä»¥ä¸‹å‘½ä»¤è§£å‹ç¼©äº†apkï¼ˆä»¥ä¸‹å†…å®¹å°½ç®¡æœ‰æ—¶æˆ‘åœ¨Linuxä¸Šåšäº†éƒ¨åˆ†å·¥ä½œï¼Œä½†æˆ‘ä¼šæä¾›æ‰€æœ‰ç”¨äºWindowsçš„å‘½ä»¤ï¼‰ï¼š </p><br><pre><code class="plaintext hljs">apktool.bat d .\sourceApk\1cem-x86.apk -o .\build\unpacked</code> </pre> <br><p> å¹¶è·å¾—äº†ä¸€ä¸ªè§£å‹åçš„ç›®å½•ï¼Œå…¶ä¸­æ”¾ç½®äº†ä¸€å †æ–‡ä»¶ï¼Œä»¥åå¯ä»¥ä½¿ç”¨å®ƒä»¬ã€‚ ç”¨å‘½ä»¤æ‰“åŒ…apkå›æ¥ </p><br><pre> <code class="plaintext hljs">apktool.bat b .\build\unpacked -o .\build\1cem-x86.apk</code> </pre> <br><p> å°è¯•å°†å…¶å®‰è£…åœ¨æ¨¡æ‹Ÿå™¨ä¸Š </p><br><pre> <code class="plaintext hljs">adb install .\build\1cem-x86.apk</code> </pre> <br><p> æˆ‘æ”¶åˆ°ä»¥ä¸‹é”™è¯¯ï¼š </p><br><pre> <code class="plaintext hljs">Performing Streamed Install adb: failed to install .\build\1cem-x86.apk: Failure [INSTALL_PARSE_FAILED_NO_CERTIFICATES: Failed to collect certificates from /data/app/vmdl1115375036.tmp/base.apk: Attempt to get length of null array]</code> </pre> <br><p> æ€»çš„æ¥è¯´ï¼Œæœ‰å¿…è¦æ›´åŠ æ³¨æ„è¿™ä¸ªåŸºç¡€ã€‚ å½“ç„¶ï¼Œæˆ‘çŸ¥é“æœ‰ç­¾åï¼Œå¹¶ä¸”å°†å®ƒä»¬åˆ†ä¸ºé”€å”®å’Œå‘å¸ƒï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“æ²¡æœ‰ç­¾åå°±ä¸ä¼šå®‰è£…åº”ç”¨ç¨‹åºã€‚ æˆ‘å†³å®šä½¿ç”¨æˆ‘çš„å€Ÿè®°ç­¾åï¼Œå¹¶ç­¾ç½²APKç»„ </p><br><pre> <code class="plaintext hljs">apksigner.bat sign --ks C:\Users\neikist\.android\debug.keystore .\build\1cem-x86.apk</code> </pre> <br><p> æˆ‘è®¾æ³•è¿è¡Œè¯¥åº”ç”¨ç¨‹åºã€‚ æ²¡é”™ï¼Œä¸‹é¢æ˜¯å¸¦æœ‰Googleç­¾åçš„ç°å±ï¼Œè€Œä¸æ˜¯ä¸¤ç‚¹çš„åœ°å›¾ã€‚ åˆ®äº†èåœä¹‹åï¼Œæˆ‘å†³å®šäº‹å®æ˜¯ä½¿ç”¨äº†ä»1så¼€å§‹çš„Googleåœ°å›¾å¯†é’¥ï¼Œè¯¥å¯†é’¥ä¸é€‚ç”¨äºæˆ‘çš„ç­¾åã€‚ å› æ­¤ï¼Œè½¬åˆ°Googleç½‘ç«™ä¸Šçš„å¼€å‘äººå‘˜æ§åˆ¶å°ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç”¨äºåœ¨androidä¸Šä½¿ç”¨google maps apiçš„æ–°é¡¹ç›®ï¼Œæ”¶åˆ°äº†apié”®ï¼Œæˆ‘åœ¨google_maps_keyè¡Œçš„res / values / strings.xmlä¸­æŒ‡å®šäº†è¯¥é”®ï¼Œå¹¶å°†å…±äº«å¯†é’¥æ·»åŠ åˆ°äº†è¯¥é¡¹ç›®çš„æƒé™ä¸­ã€‚ æˆ‘é‡æ–°æ‰“åŒ…å¹¶é‡æ–°ç­¾åäº†apkï¼Œå¯åŠ¨äº†å®ƒï¼Œæœ€åä¸€åˆ‡åˆæ¢å¤äº†ã€‚ </p><br><h1 id="dobavlyayu-svoi-logi"> æˆ‘æ·»åŠ æˆ‘çš„æ—¥å¿— </h1><br><p> æˆ‘æƒ³åšçš„ä¸‹ä¸€ä»¶äº‹æ˜¯è‡ªåŠ¨å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¹¶å°†1cé…ç½®æ·»åŠ åˆ°å¹³å°ã€‚ æ‰‹åŠ¨è¿›è¡Œæ¯æ¬¡ç¼–è¾‘åï¼Œè¿™æ ·åšä»ç„¶æ˜¯ä¸€å›¢ç³Ÿã€‚ </p><br><p> æœ€åˆï¼Œæˆ‘ç”¨Googleæœç´¢å¹¶å°è¯•ä½¿ç”¨jadxæˆ–dex2jarå®ç”¨ç¨‹åºï¼Œä»¥å…æ‰“æ‰°é˜…è¯»smaliï¼Œè€Œæ˜¯é˜…è¯»æ›´ç†Ÿæ‚‰çš„Javaä»£ç ï¼Œä½†ç”±äºæŸäº›åŸå› å®ƒä»¬ä¸èµ·ä½œç”¨ï¼ˆåæ¥ï¼Œjadxè®¾æ³•é™·å…¥æŸç§è¨æ»¡æ•™ï¼‰ã€‚ æˆ‘ä¸å¾—ä¸æ‹†å¸smaliï¼Œå› ä¸ºäº‹å®è¯æ˜å®ƒå¹¶ä¸åƒæˆ‘æ‰€æ‹…å¿ƒçš„é‚£æ ·å¯æ€•ã€‚ </p><br><p> ä¸ºäº†äº†è§£ç§»åŠ¨å¹³å°å¦‚ä½•é€šè¿‡adbè¿æ¥ä»å°å¼æœºå¹³å°æ¥æ”¶å‘½ä»¤ä»¥å¯åŠ¨é…ç½®ï¼Œæˆ‘å†³å®šæŸ¥çœ‹åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ï¼Œå¹¶å°†è¾“å‡ºæ·»åŠ åˆ°æ„å›¾æ—¥å¿—å’Œå…¶ä»–æœ‰ç”¨ä¿¡æ¯ä¸­ã€‚ æˆ‘å†³å®šä»åº”ç”¨ç¨‹åºï¼ˆ <code>com.e1c.mobile.E1cApplication</code> ï¼‰å¼€å§‹ï¼Œå¹¶åœ¨æ„å›¾è¿‡æ»¤å™¨ï¼ˆ <code>com.e1c.mobile.App</code> ï¼‰ä¸­å…·æœ‰<code>android.intent.action.MAIN</code>æ´»åŠ¨å¼€å§‹ã€‚ æˆ‘è¿˜å¯¹æ¥æ”¶å™¨<code>com.e1c.mobile.Starter</code>æ„Ÿå…´è¶£ï¼Œå¹¶åœ¨<code>com.e1c.mobile.START_TEMPLATE</code>å’Œ<code>com.e1c.mobile.START_CMD</code>ä¸Š<code>com.e1c.mobile.START_TEMPLATE</code>äº†ä¸€ä¸ªæœ‰è¶£çš„æ„å›¾è¿‡æ»¤å™¨ã€‚ è¿™ä¸ä»–ä½¿ç”¨1så‘½ä»¤æ¥å—æ„å›¾çš„äº‹å®éå¸¸ç›¸ä¼¼ï¼Œå¹¶ä¸”æ˜¯ä»–ä»æ¨¡æ¿å¼€å§‹é…ç½®ã€‚ </p><br><p> ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘åœ¨<code>E1cApplication</code>æ‰¾ä¸åˆ°ä»»ä½•æœ‰è¶£çš„<code>E1cApplication</code> ï¼Œæ‰€æœ‰äº‹æƒ…éƒ½æ˜¯åœ¨ç¼“å­˜ä¸Šå®‰è£…å¤„ç†ç¨‹åºã€‚ </p><br><p> ä½†æ˜¯åœ¨å…¶ä»–ä¸¤ä¸ªç±»<code>Starter</code>å’Œ<code>App</code> ï¼Œæœ‰æ›´å¤šçš„ä¿¡æ¯ï¼Œè€Œä¸”å®ƒéå¸¸æœ‰ç”¨ã€‚  <code>App.onCreate(Landroid/os/Bundle;)V</code>æ–¹æ³•éå¸¸å¤§ï¼Œå› æ­¤æˆ‘ä¸ä¼šå®Œæ•´ä»‹ç»å®ƒï¼Œè€Œåªç»™å‡ºæˆ‘æ„Ÿå…´è¶£çš„éƒ¨åˆ†ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">App onCreateæ–¹æ³•åˆ‡ç‰‡</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">invoke-virtual {p0}, Lcom/e1c/mobile/App;-&gt;getIntent()Landroid/content/Intent; #     p1 move-result-object p1 new-instance v0, Ljava/lang/StringBuilder; invoke-direct {v0}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;()V invoke-virtual {v0, p0}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/Object;)Ljava/lang/StringBuilder; const-string v1, ".onCreate() " invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/String;)Ljava/lang/StringBuilder; invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;-&gt;append(Ljava/lang/Object;)Ljava/lang/StringBuilder; invoke-virtual {v0}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/String; move-result-object v0 # ,  ? invoke-static {v0}, Lcom/e1c/mobile/Utils;-&gt;V(Ljava/lang/String;)V</code> </pre> </div></div><br><p> ä»ä¸Šé¢çš„ä»£ç éƒ¨åˆ†å¯ä»¥çœ‹å‡ºï¼Œåº”ç”¨ç¨‹åºæ”¶åˆ°äº†æ„å›¾ï¼Œå°†å…¶é“¾æ¥æ”¾åœ¨<code>p1</code>å¯„å­˜å™¨ä¸­ï¼Œé€šè¿‡<code>StringBuilder</code>å°†<code>StringBuilder</code>é™„åŠ åˆ°ç±»åå’Œæ–¹æ³•ä¸Š<code>StringBuilder</code>å¹¶å°†<code>Utils</code>ç±»çš„<code>V(Ljava/lang/String;)V</code>ä¼ é€’ç»™é™æ€æ–¹æ³•ã€‚ æ˜¾ç„¶æ˜¯æ‚¨è‡ªå·±çš„æŸç§è®°å½•å™¨ã€‚ æ­¤åï¼Œå°†æ£€æŸ¥è¯¥æ„å›¾ä»¥è·å–å…¶ä»–æ•°æ®ï¼Œå¦‚æœæœ‰å¯ç”¨æ•°æ®ï¼Œ <code>Uri</code>ä»ä¸­è·å–<code>Uri</code> ï¼Œç„¶åå†é€šè¿‡<code>getQuery()</code>æ–¹æ³•ä»ä¸­è·å–ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†å…¶ä¼ é€’ç»™<code>Starter</code>ç±»ã€‚  <code>onCreate</code>æ²¡æœ‰å¯¹<code>onCreate</code>ä»»ä½•è¿›ä¸€æ­¥çš„ç ”ç©¶ï¼Œçœ‹äº†ä¸€ä¸‹å¹¶ç¡®ä¿è¿™äº›åŠ¨ä½œéå¸¸æ ‡å‡†ã€‚ é™¤éè¯¥è§†å›¾ä¼¼ä¹æ˜¯ç”±ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ç±»ä»¥ç¼–ç¨‹æ–¹å¼åˆ›å»ºçš„ï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨<code>LayoutInflater</code> ï¼Œä½†æˆ‘çš„æŒ–æ˜ä¸æ˜¯å¾ˆæ·±å…¥ï¼Œæ‰€ä»¥ä¸€åˆ‡<code>LayoutInflater</code>å¯èƒ½ï¼Œå¹¶éæˆ‘æƒ³çš„é‚£æ ·ã€‚ æˆ‘å»çš„ä¸‹ä¸€å ‚è¯¾æ˜¯<code>Starter</code> ã€‚ å¹¸è¿çš„æ˜¯ï¼Œä»–åœ¨è¡ŒåŠ¨ä¸»ä¹‰è€…ä¸­è¢«æåŠï¼Œå¹¶ä¸”å¯¹æ¸…å•æ„Ÿå…´è¶£ã€‚ </p><br><p> ä¸å¹¸çš„æ˜¯ï¼Œä»æ´»åŠ¨ä¸­è°ƒç”¨çš„æ–¹æ³•åŸæ¥æ˜¯æœ¬åœ°æ–¹æ³•ï¼ˆ <code>.method static native startCmd(Ljava/lang/String;)V</code> ï¼‰ï¼Œå› æ­¤æˆ‘æ³¨æ„äº†<code>onRecieve</code>æ–¹æ³•ï¼ˆåœ¨è¯¥æ–¹æ³•ä¸­åº”ç”¨ç¨‹åºæ¥å—å®ƒæ‰€é¢„è®¢çš„äº‹ä»¶ï¼‰ã€‚ æˆ‘ä¸ä¼šç»™å‡ºä»£ç ï¼Œå¯¹æ­¤æˆ‘å¾ˆæ„Ÿå…´è¶£ï¼Œå®ƒä¹Ÿä½¿ç”¨<code>Utils</code>ç±»çš„<code>V(Ljava/lang/String;)V</code>æ–¹æ³•è®°å½•äº†æ„å›¾ã€‚ äº‹å®è¯æ˜ï¼Œå‘æ­¤æ–¹æ³•æ·»åŠ ä¸€äº›smaliä»£ç å°±è¶³å¤Ÿäº†-è€Œä¸”ï¼Œæˆ‘å°†åœ¨å¹³å°å¼€å‘äººå‘˜é¢„æœŸçš„ç›¸åŒä½ç½®è·å–æ—¥å¿—ã€‚ è¿›å…¥Utilsç±»ï¼Œæˆ‘ç«‹å³çœ‹åˆ°2ä¸ªç©ºæ–¹æ³•Vå’ŒWã€‚æ˜¾ç„¶å®ƒä»¬æ˜¯ç©ºçš„ï¼Œå› ä¸ºåœ¨ç¼–è¯‘å‘è¡Œç‰ˆæ—¶ï¼Œå®ƒä»¬è¢«åˆ‡æ‰äº†ã€‚ æˆ‘åªæ˜¯å°†ä¼ é€’çš„å­—ç¬¦ä¸²çš„è®°å½•æ·»åŠ åˆ°æ ‡å‡†<code>android.utils.Log</code>ä¸­ã€‚ ä¸ºæ­¤ï¼Œå°†æ‰€éœ€çš„æœ¬åœ°å¯„å­˜å™¨çš„æ•°é‡ä»0æ›´æ”¹ä¸º1ï¼ˆç”¨äºæ ‡è®°è¡Œï¼‰ï¼Œå°†æ­¤å­—ç¬¦ä¸²æ”¾å…¥<code>v0</code>å¯„å­˜å™¨ä¸­ï¼Œå¹¶è¿˜æ³¨å†Œå¯¹<code>Log</code>æ–¹æ³•çš„è°ƒç”¨ </p><br><div class="spoiler">  <b class="spoiler_title">æ–¹æ³•Wå’ŒVçš„å®ç°</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> .method public static V(Ljava/lang/String;)V .locals 1 const-string v0, "neikist_V" invoke-static {v0, p0}, Landroid/util/Log;-&gt;v(Ljava/lang/String;Ljava/lang/String;)I return-void .end method .method public static W(Ljava/lang/String;)V .locals 1 const-string v0, "neikist_W" invoke-static {v0, p0}, Landroid/util/Log;-&gt;w(Ljava/lang/String;Ljava/lang/String;)I return-void .end method</code> </pre> </div></div><br><p> æˆ‘ä»1sæ¡Œé¢1så¯åŠ¨äº†mobileï¼Œå¹¶æ”¶åˆ°äº†ä»¥ä¸‹æ—¥å¿— </p><br><div class="spoiler">  <b class="spoiler_title">å¯åŠ¨ç»“æœ</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: com.e1c.mobile.Starter@139df1c.onReceive( android.app.ReceiverRestrictedContext@346b725, Intent { act=com.e1c.mobile.START_TEMPLATE flg=0x400010 cmp=com.e1c.mobile/.Starter (has extras) } ) 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: context.getPackageName() = com.e1c.mobile 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: intent.getAction() = com.e1c.mobile.START_TEMPLATE 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: App.sActivity = null 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: templatePath = /sdcard/Download/mobilegeoMA/1cema.xml 2019-10-25 19:21:31.537 29960-29960/? V/neikist_V: debugUrl = tcp://127.0.0.1:1560 2019-10-25 19:21:42.216 29960-29960/com.e1c.mobile V/neikist_V: com.e1c.mobile.App@423609b.onCreate() Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.e1c.mobile/.App bnds=[35,252][237,505] } 2019-10-25 19:21:42.651 29960-29960/com.e1c.mobile V/neikist_V: com.e1c.mobile.App$4@4c70381.run() adMobAppId = ca-app-pub-3940256099942544~3347511713 2019-10-25 19:21:42.687 29960-30009/com.e1c.mobile V/neikist_V: App.requestPermission() shouldShowRequestPermissionRationale = false 2019-10-25 19:21:46.138 29960-30009/com.e1c.mobile V/neikist_V: App.isLowBattery() sLastBatteryPercent = 1.0</code> </pre> </div></div><br><p> å¦‚æ‚¨æ‰€è§ï¼Œè¿™é‡Œæœ‰æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡adbè‡ªåŠ¨å¯åŠ¨åº”ç”¨ç¨‹åºã€‚ æ˜¯çš„ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘é™·å…¥äº†åŒé‡å›°å¢ƒã€‚ é¦–å…ˆï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†jadxæŒæ¡Javaç¿»è¯‘çš„é”®ï¼ˆå¾ˆæ˜æ˜¾ï¼Œæ— è®ºå¦‚ä½•æˆ‘ä»ç„¶å¿…é¡»ç”¨smaliç¼–å†™ï¼‰ã€‚ è€Œç¬¬äºŒä¸ªfacespalmäº‹å®æ˜¯ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘å¾’åŠ³åœ°æŠ˜ç£¨äº†å¼€å‘äººå‘˜çš„å¹³å°ï¼ˆä»…ç”¨äºé…ç½®çš„å¼€å‘å’Œè°ƒè¯•ï¼‰ï¼Œåè½¬1såº”ç”¨ç¨‹åºçš„å‘å¸ƒç‰ˆæœ¬ä¼šæ›´æ­£ç¡®ï¼Œå¹¶ä¸”æœ‰ç”¨äºç»„è£…çš„åŠå‡†å¤‡å¥½çš„gradleé¡¹ç›®ï¼Œæœ‰ä¸€ä¸ªåŒ…å«ä¾èµ–é¡¹åˆ—è¡¨å’Œå…¶ä»–æ–‡ä»¶çš„æ–‡ä»¶å¤´ã€‚ æˆ‘å¯¹æ­¤æ„Ÿåˆ°æœ‰äº›éš¾è¿‡-ä»ç„¶å†³å®šå®Œæˆæˆ‘çš„å·¥ä½œã€‚ æ— è®ºå¦‚ä½•ï¼Œä¸ºäº†æ”¯æŒè€…ï¼Œæˆ‘æ­£åœ¨åšè¿™ä¸€åˆ‡ï¼Œè€Œä¸æ˜¯ä¸ºäº†å®é™…åˆ©ç›Šã€‚ </p><br><h1 id="zapusk-platformy-cherez-adb"> é€šè¿‡adbå¯åŠ¨å¹³å° </h1><br><p> æˆ‘å†³å®šä½¿ç”¨gradleè‡ªåŠ¨å®‰è£…å¹¶é€šè¿‡adbåº”ç”¨ç¨‹åºå¯åŠ¨ã€‚ æ— è®ºå¦‚ä½•ï¼Œåˆ°é‚£æ—¶ï¼Œæˆ‘å·²ç»ç¼–å†™äº†ä¸€å°æ®µæ´—ç‰Œåˆ—è¡¨ï¼ˆè§£åŒ…ï¼Œå°†å·²ä¿®æ”¹çš„èµ„æºå’Œsmaliæ–‡ä»¶ä¸è§£åŒ…çš„åº”ç”¨ç¨‹åºï¼Œæ‰“åŒ…ï¼Œç­¾åä¸€èµ·å¤åˆ¶åˆ°ç›®å½•ä¸­ï¼Œå®é™…ä¸Šæ‰€æœ‰ä»»åŠ¡åªæ˜¯æ§åˆ¶å°å‘½ä»¤çš„æ‰§è¡Œè€…ï¼‰ã€‚ å‘ç°æœ‰ä»»åŠ¡æ·»åŠ ä»¥ä¸‹å‘½ä»¤ </p><br><pre> <code class="plaintext hljs"> adb install ./build/1cem-x86.apk adb shell pm grant com.e1c.mobile android.permission.READ_EXTERNAL_STORAGE adb push src/1cConfiguration /storage/emulated/0/Download adb shell am start -n com.e1c.mobile/.App -a android.intent.action.MAIN -c android.intent.category.LAUNCHER adb shell am broadcast -n com.e1c.mobile/.Starter -a com.e1c.mobile.START_TEMPLATE -e templatepath /storage/emulated/0/Download/1cConfiguration/1cema.xml</code> </pre> <br><p> é€šè¿‡ä»¥ä¸Šå‘½ä»¤åºåˆ—ï¼Œæˆ‘ä»¬å®‰è£…apkï¼Œæˆäºˆå·²å®‰è£…çš„åº”ç”¨ç¨‹åºè¯»å–ç£ç›˜çš„æƒé™ï¼Œå°†1sçš„é…ç½®å¤åˆ¶åˆ°è®¾å¤‡ï¼Œå¹¶ç»™å‡ºå‘½ä»¤ä»¥å¯åŠ¨1så¹¶åŠ è½½é…ç½®ã€‚ è¿™å¹¶ä¸æ˜¯åœ¨æ‰€æœ‰ç‰ˆæœ¬çš„androidä¸Šéƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œä½†æˆ‘åœ¨api 28ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œå› æ­¤ï¼Œæ­¤åºåˆ—å¯ä»¥æ­£ç¡®æ‰§è¡Œæ‰€æœ‰æ“ä½œã€‚ åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬ä¸Šï¼Œå‘è¡Œæƒå¯èƒ½å­˜åœ¨é—®é¢˜ã€‚ </p><br><h1 id="vnedryayus-v-obrabotku-dannyh-ot-1s-i-modificiruyu-metki"> æˆ‘ä»1så¼€å§‹å‚ä¸æ•°æ®å¤„ç†å¹¶ä¿®æ”¹æ ‡ç­¾ </h1><br><p> åœ¨è¿™é‡Œï¼Œæˆ‘æœ‰ä¸€äº›è¿›ä¸€æ­¥å‘å±•æ´»åŠ¨çš„é€‰æ‹©ã€‚ </p><br><ol><li> æˆ‘ç›´æ¥ç»Ÿæ²»äº†MapImpl.smaliï¼Œå› ä¸ºè€ƒè™‘åˆ°ä½¿ç”¨Googleåœ°å›¾çš„åº“å·²ç»è¢«ä¸¥é‡ç¼©å‡äº†ï¼Œæ‰€ä»¥æˆ‘ä¿è¯è¿™å°†æ˜¯ä¸€ä¸ªç›¸å½“è‰°å·¨çš„ä»»åŠ¡ï¼Œè€Œæˆ‘å°†ä¸å¾—ä¸ç”¨smaliè¯­æ³•ç¼–å†™æ‰€æœ‰å†…å®¹ã€‚ </li><li> æˆ‘ä½¿ç”¨æ„Ÿè°¢jadxè·å¾—çš„MapImpl.javaæ–‡ä»¶ï¼Œå¯¹å…¶è¿›è¡Œæ›´æ”¹ï¼Œä½¿ç”¨æˆ‘ç”¨å­˜æ ¹æ›¿æ¢å®ƒçš„ç±»ï¼Œè’¸é¦æˆsmaliï¼Œæ›¿æ¢æ–‡ä»¶å¹¶æ‰“åŒ…ã€‚ è¿™ä¸ªé€‰é¡¹å¯¹æˆ‘æ¥è¯´ä¼¼ä¹å¾ˆç´§å¼ ï¼Œå› ä¸ºæ‹¥æœ‰å¾ˆå¤šæ’å¤´ç¡®å®å¾ˆç—›ï¼Œè€Œä¸”å…¶ä¸­æœ‰äº›é—®é¢˜æˆ‘ä¸æƒ³æ‘˜ã€‚ </li><li> æˆ‘ç»“åˆäº†æ–¹æ³•1å’Œ2ï¼Œåœ¨ç‰¹æ®Šçš„æ‰©å±•ç±»MapImplExtenstion.javaçš„è°ƒç”¨ä¸­æ’å…¥äº†æ‰©å±•é€»è¾‘çš„ä¸€éƒ¨åˆ†çš„smaliä»£ç -ç»“æœï¼Œæˆ‘é€‰æ‹©äº†æ­¤é€‰é¡¹ï¼Œè¿™æ˜¯å› ä¸ºå®ƒæ¯”ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªé€‰é¡¹æ›´ç®€å•ï¼Œå¹¶ä¸”åœ¨æˆ‘çœ‹æ¥æ¯”é€‰é¡¹4è¿˜è¦å¤æ‚ä¸€äº›ã€‚ä½†çœåŠ›ï¼ˆæ˜¯ï¼Œæ¢¦æƒ³ï¼Œå¤©çœŸï¼‰ã€‚ </li><li> é€šå¸¸ï¼Œç”¨å…¶ä»–ä¸œè¥¿ä»£æ›¿Googleåœ°å›¾ï¼Œä¾‹å¦‚Yandexã€‚ è¦å®Œæˆå¦ä¸€ä¸ªé¡¹ç›®ä¸­çš„æ‰€æœ‰å·¥ä½œï¼Œåªéœ€é‡å¤MapImplç­¾åï¼Œç„¶åæœ€å°åŒ–è§£å‹ç¼©ï¼Œç„¶ååœ¨å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ°é€‚å½“çš„ä½ç½®ä¹‹å‰ï¼Œåªéœ€åˆ é™¤å®Œæˆçš„smaliæ–‡ä»¶å³å¯ã€‚ ç¼©å°çš„åº“æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æˆ‘å¿…é¡»æ³¨å†Œæ‰èƒ½è·å¾—å¡çš„å¯†é’¥ï¼Œåˆ›å»ºå•ç‹¬çš„é¡¹ç›®ï¼Œçƒ¦æ¼è¿æ¥èµ„æºç­‰ç­‰ã€‚ </li><li> ä¸é€‰é¡¹4ç›¸åŒï¼Œä½†å°†Googleæ›¿æ¢ä¸º... Googleã€‚ ä½†æ˜¯åœ¨è¿™é‡Œæˆ‘æ€€ç–‘æœ‰å¯èƒ½å°†sdkåœ°å›¾ä¸­çš„1åˆ†ä¹‹ä¸€ç¼©å°ï¼Œå¹¶ä¸”æ²¡æœ‰å®éªŒçš„æ¬²æœ›ã€‚ </li></ol><br><p> åœ¨ç¬¬ä¸‰ä¸ªé€‰é¡¹ä¹‹åï¼Œæˆ‘åœ¨srcä¸­åˆ›å»ºäº†2ä¸ªå­ç›®å½•ï¼šjavaï¼Œç”¨äºMapImplExtenstion.javaå’ŒstubJavaï¼Œç”¨äºä»…ç”¨äºç¼–è¯‘çš„æ–‡ä»¶ã€‚ ç”±äºæˆ‘å†³å®šç¨å¾®è°ƒæ•´æ ‡ç­¾ï¼Œå› æ­¤æˆ‘å¯¹ä»¥ä¸‹ä¸¤ä¸ªé¢†åŸŸæ„Ÿå…´è¶£ï¼š </p><br><div class="spoiler">  <b class="spoiler_title">å­—æ®µXjï¼šLjava / util / ArrayListå’ŒXkï¼šLjava / util / ArrayList</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> .field private final Xj:Ljava/util/ArrayList; .annotation system Ldalvik/annotation/Signature; value = { "Ljava/util/ArrayList&lt;", "Lcom/google/android/gms/maps/model/LatLng;", "&gt;;" } .end annotation .end field .field private Xk:Ljava/util/ArrayList; .annotation system Ldalvik/annotation/Signature; value = { "Ljava/util/ArrayList&lt;", "Lcom/google/android/gms/maps/model/MarkerOptions;", "&gt;;" } .end annotation .end field</code> </pre> </div></div><br><p> ä½¿ç”¨jadxåœ¨Javaä¸­åç¼–è¯‘æ—¶ï¼Œæˆ‘åœ¨åç¼–è¯‘ä»£ç ä¸­å‘ç°äº†ä¸€ç§è´Ÿè´£å¡«å……å®ƒä»¬çš„æ–¹æ³• </p><br><div class="spoiler">  <b class="spoiler_title">KNæ³•</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Bundle extras = getIntent().getExtras(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (extras != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Sd = extras.getLong(<span class="hljs-string"><span class="hljs-string">"native"</span></span>); String[] stringArray = extras.getStringArray(<span class="hljs-string"><span class="hljs-string">"titles"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[] doubleArray = extras.getDoubleArray(<span class="hljs-string"><span class="hljs-string">"coords"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (doubleArray != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; doubleArray.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; stringArray.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i2 = i * <span class="hljs-number"><span class="hljs-number">2</span></span>; LatLng latLng = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LatLng(doubleArray[i2], doubleArray[i2 + <span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Xj.add(latLng); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Xk.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MarkerOptions().c(latLng).dS(stringArray[i])); } } } }</code> </pre></div></div><br><p> å› æ­¤ï¼ŒMapImplExtensionç±»æ·»åŠ äº†ArrayList [] kNï¼ˆå­—ç¬¦ä¸²[]æ ‡é¢˜ï¼ŒåŒç²¾åº¦[]åæ ‡ï¼‰æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸­å°†è¿”å›éœ€è¦æ”¾ç½®åœ¨Xjä¸­çš„åˆ—è¡¨ï¼Œåœ¨ç¬¬äºŒä¸ªå…ƒç´ ä¸­è¿”å›ç”¨äºXkçš„åˆ—è¡¨ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">MapImplExtensionç±»</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.e1c.mobile; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.ArrayList; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.google.android.gms.maps.model.LatLng; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.google.android.gms.maps.model.MarkerOptions; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MapImplExtension</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MapImpl mapImpl; MapImplExtension(MapImpl mapImpl){ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.mapImpl = mapImpl; } ArrayList[] kN(String[] titles, <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[] coordinates) { ArrayList[] result = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList[<span class="hljs-number"><span class="hljs-number">2</span></span>]; ArrayList&lt;LatLng&gt; xj = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); ArrayList&lt;MarkerOptions&gt; xk = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;&gt;(); result[<span class="hljs-number"><span class="hljs-number">0</span></span>] = xj; result[<span class="hljs-number"><span class="hljs-number">1</span></span>] = xk; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> coordinatesOffset; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (coordinates != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; coordinates.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; titles.length; i++) { coordinatesOffset = i * <span class="hljs-number"><span class="hljs-number">2</span></span>; LatLng latlng = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LatLng(coordinates[coordinatesOffset], coordinates[coordinatesOffset + <span class="hljs-number"><span class="hljs-number">1</span></span>]); xj.add(latlng); xk.add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MarkerOptions().c(latlng).dS(<span class="hljs-string"><span class="hljs-string">" \n"</span></span> + titles[i])); } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } }</code> </pre></div></div><br><p> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘ï¼Œé¦–å…ˆåœ¨ç±»ä¸­ï¼Œç„¶ååœ¨dexä¸­ï¼Œç„¶ååœ¨smaliä¸­åç¼–è¯‘ï¼Œç„¶åä¸å…¶ä½™æ–‡ä»¶ä¸€èµ·æ‰“åŒ… </p><br><pre> <code class="plaintext hljs"> javac -encoding UTF-8 -d .\build -source 1.8 -target 1.8 -sourcepath .\src\stubJava .\src\java\com\e1c\mobile\MapImplExtenstion.java d8.bat .\build\com\e1c\mobile\MapImplExtension.class --output .\build java -jar C:\Path\to\baksmali\baksmali.jar d .\build\classes.dex -o .\build\unpackedOwn</code> </pre> <br><p> åœ¨MapImpl.smaliä¸­æ·»åŠ äº†æ–°ç±»ç±»å‹çš„æ‰©å±•å­—æ®µï¼Œå¹¶å¯¹å…¶è¿›è¡Œäº†åˆå§‹åŒ– </p><br><div class="spoiler">  <b class="spoiler_title">æ–°å¢æ ä½</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#    .field private extension:Lcom/e1c/mobile/MapImplExtension; #  ,  return-void new-instance v0, Lcom/e1c/mobile/MapImplExtension; invoke-direct {v0, p0}, Lcom/e1c/mobile/MapImplExtension;-&gt;&lt;init&gt;(Lcom/e1c/mobile/MapImpl;)V iput-object v0, p0, Lcom/e1c/mobile/MapImpl;-&gt;extension:Lcom/e1c/mobile/MapImplExtension;</code> </pre> </div></div><br><p> å¹¶ä¸”è¿˜ç”¨MapImplExtensionç±»ä¸­çš„å¤„ç†æ›¿æ¢äº†ä»1så¼€å§‹çš„MapImplç±»æ•°æ®ä¸­çš„å¤„ç†ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">MapImpl.kNï¼ˆï¼‰ä¸­çš„æ›´æ”¹</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> # v0 - ; v1 - ; v2 - extension; #  MapImplExtension.kN(...) iget-object v2, p0, Lcom/e1c/mobile/MapImpl;-&gt;extension:Lcom/e1c/mobile/MapImplExtension; invoke-virtual {v2, v1, v0}, Lcom/e1c/mobile/MapImplExtension;-&gt;kN([Ljava/lang/String;[D)[Ljava/util/ArrayList; # v0 -   ; v1 - | ; v2 -    move-result-object v0 const/4 v2, 0x0 aget-object v1, v0, v2 iput-object v1, p0, Lcom/e1c/mobile/MapImpl;-&gt;Xj:Ljava/util/ArrayList; const/4 v2, 0x1 aget-object v1, v0, v2 iput-object v1, p0, Lcom/e1c/mobile/MapImpl;-&gt;Xk:Ljava/util/ArrayList;</code> </pre> </div></div><br><p> æ‰“åŒ…å¹¶å¯åŠ¨è¯¥åº”ç”¨ç¨‹åºåï¼Œæˆ‘æ¬£å–œåœ°çœ‹åˆ°ä¸€åˆ‡æ­£å¸¸ã€‚ ä½†æ˜¯ç›®å‰ï¼Œæˆ‘è¿˜æ²¡æœ‰åšä»»ä½•èƒ½å¤Ÿæ‰©å±•ç§»åŠ¨å¹³å°åŠŸèƒ½çš„äº‹æƒ…ã€‚ åˆšåˆšæ›´æ”¹äº†åœ°å›¾ä¸Šæ ‡è®°çš„æ ‡é¢˜ã€‚ ä½†æ˜¯ï¼Œç”±äºæƒ³æ›´æ”¹æ ‡ç­¾çš„å›¾åƒï¼Œæˆ‘æ–­æ–­ç»­ç»­åœ°å·¥ä½œäº†å¾ˆé•¿æ—¶é—´ï¼Œå¹¶åœ¨æºä»£ç å’Œæ–‡æ¡£ä¸­åŸ‹äº†å¾ˆé•¿æ—¶é—´ã€‚ </p><br><h1 id="dobavlenie-novoy-funkcionalnosti"> å¢åŠ æ–°åŠŸèƒ½ </h1><br><p> é¦–å…ˆï¼Œç®€è¦è¯´æ˜å¦‚ä½•è®¾ç½®æ ‡ç­¾æ ‡è®°ã€‚  <code>MarkerOptions</code>ç±»å…·æœ‰ä¸€ä¸ª<code>public MarkerOptions icon (BitmapDescriptor iconDescriptor)</code>æ–¹æ³•<code>public MarkerOptions icon (BitmapDescriptor iconDescriptor)</code> ï¼Œç”±<code>BitmapDescriptorFactory</code>ç±»çš„ä¸€ç§é™æ€æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡å°†<code>public MarkerOptions icon (BitmapDescriptor iconDescriptor)</code>ç»™è¯¥æ–¹æ³•ã€‚ </p><br><p> å®é™…ä¸Šï¼Œåœ¨è¿™é‡Œï¼Œä¸€ä¸ªæ— èµ–åœ¨ç­‰ç€æˆ‘ã€‚ ç”±äº1cä¸ä½¿ç”¨æ­¤ä¸šåŠ¡ï¼Œå› æ­¤åœ¨ç¼©å°è¿‡ç¨‹ä¸­ä»…å‰ªåˆ‡äº†ç›¸åº”çš„ç±»ã€‚ æˆ‘ä¸å¾—ä¸æ¢å¤å®ƒä»¬ï¼Œè¿™æ˜¯ç—›è‹¦è€Œæ¼«é•¿çš„ã€‚ æ›´å‡†ç¡®åœ°è¯´ï¼Œå®ƒä»¬æ˜¯ç±»ï¼Œä½†æ˜¯å®ƒä»¬è¢«é‡å‘½åå¹¶ä¸”ä¸åŒ…å«å¿…éœ€çš„æ–¹æ³•ã€‚ é€šè¿‡é€‰æ‹©ç”¨äºæ“ä½œåœ°å›¾çš„å®Œæ•´åº“çš„ç§ç±»-é€šè¿‡ç­¾åå’Œå¸¸é‡ï¼Œæˆ‘å‘ç°äº†åº“ç±»ä¸åº”ç”¨ç¨‹åºç±»çš„å¯¹åº”å…³ç³»ï¼Œæ·»åŠ äº†å¿…è¦çš„æ–¹æ³•å’Œå­—æ®µï¼Œå¯¹å…¶è¿›è¡Œäº†é‡æ–°æ„å»ºï¼Œå¹¶ä¸”å¾ˆé«˜å…´æ­¤ä»»åŠ¡æœ€ç»ˆå¾—ä»¥å®Œæˆï¼Œå› ä¸ºå®ƒç»ˆäºæˆåŠŸäº†ï¼Œå°½ç®¡ä¸æ˜¯ç¬¬ä¸€æ¬¡å°è¯•ï¼ˆå‡ æ¬¡è¢«ç­¾åå’Œå›°æƒ‘çš„ç¼©å°ç±»æ‰€å‰²ä¼¤ï¼‰ã€‚ </p><br><div class="spoiler">  <b class="spoiler_title">ç»“æœï¼ˆå¤–è§‚ä¸å¤ªå¥½çœ‹ï¼‰ã€‚</b>  <b class="spoiler_title">ä¸¤ç‚¹çš„åæ ‡åˆ†åˆ«ä¸ºï¼ˆ45; 45ï¼‰å’Œï¼ˆ46; 46ï¼‰</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/pv/cz/lu/pvczlujpmwuu2y2bauzieeszkby.png"></p></div></div><br><p> ç”±äºæ›´æ”¹åçš„ä»£ç é‡å¾ˆå¤§-æˆ‘å°†ä¸åœ¨æœ¬æ–‡ä¸­ä»‹ç»ï¼Œå› æ­¤ä»…ç»™å‡ºç­¾åæ›´æ”¹ã€‚ å¦‚æœæœ‰äººå¯¹æˆ‘åœ¨è¿™ä¸€æ­¥æ‰€åšçš„æ‰€æœ‰ç¼–è¾‘éƒ½æ„Ÿå…´è¶£ï¼Œåˆ™å¯ä»¥æŸ¥çœ‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤æäº¤</a> ã€‚ </p><br><pre> <code class="java hljs">   Lcom/google/android/gms/maps/model/MarkerOptions -   .<span class="hljs-function"><span class="hljs-function">method </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">final</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">icon</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Lcom/google/android/gms/maps/model/a;)</span></span></span><span class="hljs-function">Lcom/google/android/gms/maps/model/MarkerOptions</span></span>;   com.google.android.gms.internal.fh   : <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zza</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zza</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zzb</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zzi</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zza</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zza</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bitmap)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>; <span class="hljs-function"><span class="hljs-function">b </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zzc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> RemoteException</span></span>;   com.google.android.gms.internal.fj     h       com.google.android.gms.maps.model.b (BitmapDescriptorFactory)    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromResource</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromAsset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultMarker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultMarker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> a </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromBitmap</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bitmap)</span></span></span><span class="hljs-function">      MapImplExtension.java   xk.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(new MarkerOptions()</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">c</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(latlng)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dS</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"  "</span></span></span></span><span class="hljs-function"><span class="hljs-params"> + titles[i])</span></span></span><span class="hljs-function">)</span></span>;     MarkerOptions markerOptions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MarkerOptions() .c(latlng) .dS(<span class="hljs-string"><span class="hljs-string">"  "</span></span> + titles[i]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//      markerOptions.icon(b.defaultMarker(b.HUE_YELLOW)); } xk.add(markerOptions);</span></span></code> </pre><br><p> æ€»ç»“ä¸€ä¸‹-ç»éªŒéå¸¸æœ‰è¶£ã€‚ è‡³å°‘å¯¹æˆ‘æ¥è¯´ã€‚ æˆ‘å¸®åŠ©æ‰¾å‡ºäº†ä¸€äº›å·¥å…·ï¼Œå¯¹dalvik / artçš„androidå’Œå­—èŠ‚ç æ ¼å¼çš„å·¥ä½œäº†è§£å¾—æ›´å¤šï¼Œé€‰æ‹©ç²¾ç®€ä»£ç çš„ç»éªŒä¹Ÿå¾ˆæœ‰ç”¨ï¼ˆåœ¨R8çš„å‘è¡Œç‰ˆä¸­ï¼Œæˆ‘æ›¾ç»åˆ‡è¿‡å®é™…ä½¿ç”¨çš„ç±»å­—æ®µï¼Œå½“æ—¶åªæœ‰é€šè¿‡è¿™ç§æ–¹æ³•æˆ‘çŸ¥é“äº†ï¼Œç°åœ¨ä¸ä¼šé€ æˆé—®é¢˜äº†ï¼‰ã€‚ </p><br><p> å¦‚æœæœ‰äººæœ‰å…´è¶£è‡ªå·±é‡å¤ä¸€åˆ‡ï¼Œç”šè‡³æœ‰å¯èƒ½å†åšæ›´å¤šçš„è¯- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æˆ‘åœ¨githubä¸Šå‘å¸ƒäº†</a>æ‰€æœ‰æºä»£ç ä»¥åŠä»åŸå§‹apkä¿®æ”¹è€Œæ¥çš„å¼¯æ›²gradleè„šæœ¬ã€‚ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN475266/">https://habr.com/ru/post/zh-CN475266/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN475252/index.html">å¦‚ä½•æ‰¹è¯„å¾®è½¯</a></li>
<li><a href="../zh-CN475254/index.html">AERODISK vAIRä½“ç³»ç»“æ„æˆ–å›½å®¶é›†ç¾¤å»ºè®¾çš„åŠŸèƒ½</a></li>
<li><a href="../zh-CN475258/index.html">åœ£å½¼å¾—å ¡é€‰ä¸¾çš„è§†è§‰å‘ˆç°-è¯­éŸ³ç¯ç»•çš„é­”åŠ›</a></li>
<li><a href="../zh-CN475260/index.html">å¼‚æ­¥å‡½æ•°å’Œè¿”å›æ‰¿è¯ºçš„å‡½æ•°ä¹‹é—´çš„åŒºåˆ«</a></li>
<li><a href="../zh-CN475264/index.html">å—…æ¢è€…ï¼šFakeSecurityå®¶æ—å¦‚ä½•æ„ŸæŸ“åœ¨çº¿å•†åº—</a></li>
<li><a href="../zh-CN475268/index.html">ä¸ç¡®å®šçš„å‚æ•°åŒ–æ˜¯åœ¨C ++å’ŒJavaä¸­æ„å»ºåº”ç”¨ç¨‹åºä½“ç³»ç»“æ„çš„é€šç”¨æ–¹æ³•ã€‚ ä»·æ ¼</a></li>
<li><a href="../zh-CN475270/index.html">SwiftUIï¼šåœ¨åˆ—è¡¨è§†å›¾ä¸­åˆ¶ä½œå¯æ‰©å±•/å¯æŠ˜å éƒ¨åˆ†</a></li>
<li><a href="../zh-CN475272/index.html">è¿ç§»åˆ°Rustä¸­çš„å¼‚æ­¥ç­‰å¾…åŸºç¡€æ¶æ„</a></li>
<li><a href="../zh-CN475276/index.html">å¦‚ä½•æ­£ç¡®å†™æ–­è¨€</a></li>
<li><a href="../zh-CN475278/index.html">åœ¨é»‘å®¢å‡è§†æ‚¨çš„åŒæ—¶å¦‚ä½•å‡è§†é»‘å®¢</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>