<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼â€ğŸ”§ ğŸ« ğŸ¤˜ Layanan geoser web. Ikhtisar solusi modern ğŸ• â˜¸ï¸ ğŸ‘¶ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebagai bagian dari hampir semua produk online, Anda dapat memenuhi tugas yang mengharuskan penggunaan layanan tertentu yang terkait dengan peta, geoc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Layanan geoser web. Ikhtisar solusi modern</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462011/"><img src="https://habrastorage.org/webt/0u/8u/jn/0u8ujnh7xzhzt6m8mp2ed630fei.jpeg"><br><br>  Sebagai bagian dari hampir semua produk online, Anda dapat memenuhi tugas yang mengharuskan penggunaan layanan tertentu yang terkait dengan peta, geocoding, geo-positioning.  Secara pribadi, saya telah mengerjakan katalog real estat online selama hampir 10 tahun, dan sebagai bagian dari sejumlah proyek lain, saya memiliki pengalaman menggunakan fungsi spesifik dari berbagai layanan geografis online. <br><br>  Dalam artikel ini, saya akan memeriksa tugas-tugas geografis yang paling sering dihadapi oleh para programmer, melakukan tinjauan singkat terhadap layanan yang menawarkan solusi untuk masalah ini, dan berbagi pengalaman saya dalam menggunakan layanan ini. <br><br>  Saya juga mengandalkan partisipasi komentator - jika Anda melihat dalam ulasan ketidaktepatan dalam uraian, kurangnya layanan baik Anda atau Anda hanya memiliki sesuatu untuk ditambahkan pada apa yang sudah Anda tulis - tulis dalam komentar, saya akan mengumpulkan semua yang ada di teks utama sehingga saya selalu memiliki daftar alat yang baik untuk masa depan. untuk semua kesempatan. <br><a name="habracut"></a><br><h2>  Daftar isi </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tampilkan peta di situs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maju dan balikkan geocoding</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengurai dan melengkapi alamat secara otomatis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Cari organisasi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Lokasi pengguna</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rute pembangunan</a> </li></ul><br><a name="sitemaps"></a><br><h2>  Tampilkan peta di situs </h2><br>  Tugas yang sangat populer adalah menampilkan peta online di sebuah situs.  Misalnya, untuk menunjukkan dengan tepat di mana di peta kantor Anda berada.  Atau di mana Anda dapat mengambil barang yang dijual pembuatnya. <br><br>  Untuk menampilkan peta, dua jenis utama API digunakan: <br><br><ul><li>  API Javascript (interaktif) </li><li>  API statis (statis) </li></ul><br><h3>  API Javascript </h3><br>  Semua layanan yang saya kembangkan sebagian besar bekerja dengan Rusia, jadi saya akan berbicara tentang API yang saya gunakan sendiri dan yang populer dengan kami.  Saya tahu bahwa bing dan penyedia peta lainnya memiliki API, tetapi saya tidak menggunakannya. <br><br>  Javascript API memungkinkan Anda menampilkan peta interaktif di situs dengan kemampuan untuk memperbesar, menampilkan penanda, berinteraksi dengan peta (menyeret penanda, menampilkan tooltips, dll.). <br><br><h4>  Javascript API Yandex.Maps </h4><br><ul><li>  Peta Rusia yang bagus </li><li>  Meskipun gratis, tidak termasuk beberapa fitur </li><li>  Peluang yang luas - label pengelompokan, dll. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/maps/jsapi/doc/2.1/quick-start/index-docpage</a> </li></ul><br><h4>  API Javascript Google Maps </h4><br><ul><li>  Peta yang bagus dari seluruh dunia </li><li>  Dengan fitur di tingkat Yandex </li><li>  Dibayar - dari $ 7 per 1000 panggilan </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/javascript/tutorial</a> </li></ul><br><h4>  API 2GIS </h4><br><ul><li>  Kartu yang sangat bagus, tetapi tidak di mana-mana. </li><li>  Selamat tinggal gratis </li><li>  Fungsionalitas API lebih lemah dari Yandex / Google, tetapi dapat diperluas menggunakan modul Leaflet </li><li>  Tetapi ada peta lantai untuk pusat perbelanjaan </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">api.2gis.ru/doc/maps/ru/quickstart</a> </li></ul><br><h4>  Peta biru </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">azure.microsoft.com/en-us/services/azure-maps</a> </li><li>  Sejumlah besar layanan, termasuk pembuat rute, menentukan lokasi dengan IP </li><li>  Ada batasan gratis dan API berbayar </li></ul><br><h4>  Kotak Map </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.mapbox.com/api/maps</a> </li><li>  Kartu lucu untuk web dan seluler. </li><li>  Saya bisa saja keliru, tetapi kartunya tampaknya hanya dalam bahasa Inggris </li><li>  Untuk aplikasi seluler, bebaskan hingga 25.000 pengguna per bulan, di web hingga 50.000 unduhan per bulan </li></ul><br><br><h3>  API statis </h3><br>  API statis dapat digunakan di mana Anda hanya perlu menampilkan gambar peta, tanpa interaktivitas.  Misalnya, Anda ingin melampirkan peta ke email, atau mengizinkan pengguna untuk mencetak petunjuk arah kepada Anda.  Nah, atau desainer Anda menggambar tata letak di mana peta digunakan alih-alih latar belakang - memuat kartu JS lengkap untuk tugas seperti itu tampaknya berlebihan.  Juga, gambar statis dapat digunakan sebagai pratinjau untuk mempercepat pemuatan halaman oleh pengguna - dan dengan membuatnya interaktif. <br><br><h4>  API Statis Yandex.Maps </h4><br><ul><li>  Ukuran maksimum 650x450 piksel </li><li>  Selamat tinggal gratis </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/maps/staticapi/doc/1.x/dg/concepts/input_params-docpage</a> </li></ul><br><h4>  API statis Google maps </h4><br><ul><li>  $ 2 per seribu permintaan </li><li>  Ukuran maksimum adalah 640x640 untuk tarif dasar dan 2048x2048 untuk premi ($ 200 per bulan) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/maps-static/intro</a> </li></ul><br><h4>  2GIS Static API </h4><br><ul><li>  Untuk beberapa alasan, situs ini terdaftar sebagai "usang" </li><li>  Selamat tinggal gratis </li><li>  Ukuran maksimum 1280x1280 </li><li>  Tidak ada di mana-mana </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">api.2gis.ru/doc/maps/1.0/static</a> </li></ul><br><h4>  Kotak Map </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.mapbox.com/api/maps</a> </li><li>  Saya bisa saja keliru, tetapi kartunya tampaknya hanya dalam bahasa Inggris </li><li>  Ukuran maksimum 1280x1280 </li><li>  Bebaskan hingga 25.000 unduhan peta per bulan </li></ul><br><a name="geocoding"></a><br><h2>  Geocoding </h2><br>  Geocoding adalah proses yang memungkinkan Anda untuk mengetahui koordinat suatu objek di alamatnya.  Nah, atau balikkan geocoding - cari tahu dengan koordinat apa objek geo berada di sana.  Bahkan, semua layanan geocoding bekerja dengan alamat yang dimasukkan dalam format sewenang-wenang, pada saat yang sama membawanya ke standar mereka.  Saya belum menemukan layanan geocoding gratis di pasaran saat ini. <br><br>  Aplikasi geocoding yang umum adalah untuk menampilkan alamat yang dimasukkan oleh pengguna di peta, atau sebaliknya (terbalik) - pengguna memberi tanda pada peta, itu harus diubah menjadi alamat. <br><br><h3>  Geocoder Yandex.Map </h3><br><ul><li>  Ada tarif gratis terbatas hingga 25.000 permintaan per hari. </li><li>  Selain jumlah permintaan, itu juga dibatasi oleh perjanjian lisensi - hasil pengkodean tidak dapat disimpan dan digunakan tanpa kartu (tetapi dapat di-cache), mereka harus ditampilkan hanya pada peta Yandex dan hanya dalam kerangka layanan publik (dapat diakses oleh semua orang atau dengan pendaftaran gratis terbuka). </li><li>  Berfungsi bagus di Rusia, baik langsung maupun mundur. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/maps/geocoder</a> </li></ul><br><h3>  Kiat dari DaData </h3><br><ul><li>  DaData memiliki layanan "petunjuk" yang memungkinkan Anda untuk menerapkan pelengkapan otomatis dari alamat yang dimasukkan pengguna. </li><li>  Ini termasuk fungsi geocoder (dapat memberikan koordinat berdasarkan alamat dan alamat dengan koordinat). </li><li>  Ia hanya bekerja di Rusia, lapisannya lemah - pada jutawan pada level 75-95%, rata-rata di Rusia sekitar 50% </li><li>  10.000 permintaan per hari gratis, tetapi tawaran itu tidak memungkinkannya digunakan sepenuhnya dalam mode otomatis - untuk geocoding otomatis, Anda perlu menggunakan layanan Standardisasi. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dadata.ru/api/suggest/address</a> </li></ul><br><h3>  Google Maps Geocoding API </h3><br><ul><li>  $ 5 per 1000 permintaan. </li><li>  Saya tidak menggunakannya, karena ada analog gratis dari Yandex dan dadata </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/geocoding/intro</a> </li></ul><br><br><h3>  Graphhopper </h3><br><ul><li>  Bebaskan hingga 500 pertanyaan per hari. </li><li>  Banyak fitur menarik lainnya. </li><li>  Bekerja dengan OpenStreetMaps </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.graphhopper.com/developers</a> </li></ul><br><h4>  Kotak Map </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.mapbox.com/api/search</a> </li><li>  Basis jalan yang lemah di Rusia, setidaknya di Kazan, jalan-jalan yang saya uji - tidak dapat ditemukan </li><li>  Gratis hingga 100.000 permintaan per bulan </li></ul><br><h3>  OpenStreetMaps Nominatim </h3><br><ul><li>  Solusi OpenSource yang dapat Anda gunakan di server Anda sendiri. </li><li>  Tidak digunakan, mungkin di komentar seseorang akan menulis tentang pengalaman mereka menggunakan </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nominatim.org/release-docs/develop/api/Overview</a> </li></ul><br><h3>  2GIS </h3><br><ul><li>  Dokumentasi untuk Javascript API menyatakan keberadaan fungsi geocoding, tetapi sebenarnya saya tidak menemukan cara menggunakannya dalam dokumentasi.  Mungkin saat ini sedang dikembangkan. </li></ul><br><img src="https://habrastorage.org/webt/zf/vt/-4/zfvt-4myl-bujpmdet-49-br-h0.png"><br><a name="parsing"></a><br><h2>  Mengurai dan melengkapi alamat secara otomatis </h2><br>  Kadang-kadang perlu untuk membiarkan pengguna memasukkan alamat dalam format acak, dan kemudian mengubah alamat ini menjadi data terstruktur - secara terpisah nama negara, wilayah, kota, jalan dan nomor rumah.  Ini diperlukan untuk semua layanan yang bekerja dengan real estat, perlu untuk menentukan alamat rangkap, untuk mengisi tanda terima surat, dll. <br><br>  Pada prinsipnya, semua layanan geocoding dari daftar di atas mengatasi tugas ini tanpa masalah.  Dengan geocoding langsung, selain koordinat, mereka juga mengembalikan informasi terstruktur tentang objek-geo yang ditemukan. <br><br>  Secara terpisah, perlu diperhatikan layanan "standardisasi" dari DaData - ke alamat dari Rusia mereka mengembalikan banyak informasi berguna yang berbeda, 10 kopeck untuk setiap alamat: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dadata.ru/api/clean/address</a> <br><br>  Selain itu, saya juga merujuk ke bagian ini tugas mencari informasi tambahan tentang alamat tersebut.  Secara khusus, penentuan distrik kota mana dari alamat yang ditentukan milik dan pencarian untuk stasiun metro terdekat adalah tugas penting jika kita mencari iklan berdasarkan alamat. <br><br><h3>  Definisi wilayah dalam kota </h3><br>  Saat ini, saya telah menemukan dua solusi untuk menentukan area di dalam kota.  Keduanya hanya bekerja untuk Rusia. <br><br>  Yang pertama dan paling jelas adalah DaData.  Banyak yang telah ditulis tentang layanan ini, ini benar-benar layanan yang baik untuk bekerja dengan alamat Rusia (dan ini bukan iklan).  Cobalah sendiri, pastikan. <br><br>  Jika Anda tidak ingin bergantung pada layanan pihak ketiga, ada solusi lain yang telah saya terapkan dan terus terapkan sejauh ini.  Ini adalah definisi distrik dengan kode alamat <abbr title="Semua-Rusia klasifikasi objek dari divisi administrasi-teritorial">OKATO</abbr> .  Setiap alamat dalam Rusia memiliki kode OKATO sendiri - 11 digit.  Dari jumlah tersebut, 5-8 pertama, tergantung pada kota, jelas menunjukkan daerah tersebut. <br><br>  Untuk kota-kota yang saya butuhkan, saya hanya mengumpulkan database kode OKATO untuk distrik, saya mendapatkan sesuatu seperti array ini: <br><br><div class="spoiler">  <b class="spoiler_title">Contoh Kode OKATO</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/gl/vz/fk/glvzfkojdmgvtmmkbbzs1u4pydc.png"><br></div></div><br>  Pertanyaan selanjutnya adalah bagaimana cara mengetahui kode alamat OKATO?  DaData mengembalikannya sebagai bagian dari layanan Tips dan Standardisasi.  Ada situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">okato-oktmo.rf</a> yang di alamatnya menunjukkan kode OKATO menggunakan dadat yang sama.  Tugas kami adalah secara independen menemukan kode OKATO di alamat, terlepas dari layanan apa pun. <br><br>  Untuk melakukan ini, kita perlu mengunduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">basis data FIAS</a> terbaru dan mengatur pencarian di sana.  Sudah ada artikel di hub dengan contoh tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cara mengimpor basis data FIAS di MSSQL</a> .  Secara umum, Anda mengonfigurasikan pencarian dengan FIASU, temukan alamat yang Anda butuhkan di sana, cari tahu kode OKATO-nya, dengan kode OKATO dari daftar distrik yang Anda kenal distrik - itu saja, masalahnya selesai. <br><br>  Jika Anda tidak ingin mandi uap dengan mengunduh 60 gigabytes file XML ke basis data Anda, ada yang lebih murah, tetapi juga kurang berfungsi dibandingkan layanan dadata yang memungkinkan Anda bekerja dengan basis data FIAS: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kladr-api.ru/docs</a> <br><br><h3>  Cari stasiun metro terdekat </h3><br>  Fungsi yang diperlukan, terutama bagi penduduk Moskow, ketika Anda perlu menemukan stasiun metro terdekat di alamat.  Untuk tugas ini saat ini saya tahu dua solusi: <br><br><h4>  Yandex Geocoder </h4><br>  Pertama, Anda perlu mengetahui koordinat alamat.  Kemudian, seperti dalam geocoding terbalik, kami meneruskan koordinat ini sebagai parameter permintaan dan jenis toponim yang dikembalikan kind = metro. <br>  Parameter terpisah menetapkan ukuran area di mana perlu untuk mencari stasiun terdekat.  Secara empiris, saya memilih nilai dari 0,02 hingga 0,05 derajat tergantung pada kota (di Moskow, radius 2 kilometer dari metro masih dianggap jarak berjalan kaki, dan di Kazan jarak antara stasiun adalah 1,5 kilometer). <br><br>  Ada juga masalah dengan metode ini, bahwa kadang-kadang metro terdekat dalam koordinat tidak selalu yang terdekat sebenarnya (misalnya, itu di sisi lain sungai, atau sesuatu seperti itu).  Anda hanya dapat menentukan metro terdekat dengan aksesibilitas menggunakan layanan membangun rute dan matriks jarak, yang akan dibahas dalam artikel di bawah ini.  Untuk penentuan kasar dari stasiun terdekat - geocoder Yandex sangat cocok, dan memungkinkan Anda untuk melakukan hingga 25.000 permintaan per hari secara gratis. <br><br><h4>  DaData </h4><br>  Ya, dan DaData dapat membantu dalam tugas ini - sebagai bagian dari tarif berbayar dari layanan "prompt" atau "standardisasi", 3 stasiun metro terdekat dan jarak ke sana juga dikembalikan ke setiap alamat. <br><a name="places"></a><br><h2>  Cari organisasi </h2><br>  Tugas umum jika Anda ingin menunjukkan kepada pelanggan Anda semacam organisasi di kotanya.  Misalnya, Anda menjual barang dengan pengiriman, dan Anda ingin menunjukkan kepada seseorang semua poin pengiriman beberapa layanan di kotanya.  Atau Anda membuat tata letak untuk dicetak, dan menunjukkan kepada pengguna di peta semua rumah percetakan tempat ia bisa pergi untuk mencetak tata letak Anda. <br><br><h3>  Pencarian Yandex oleh organisasi </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/maps/geosearch</a> </li><li>  Hingga 500 pertanyaan per hari gratis, asalkan hasilnya ditampilkan pada peta publik. </li><li>  Hasil pencarian tidak dapat disimpan atau ditampilkan pada peta selain Yandex. </li></ul><br><h3>  Google menempatkan api </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/places/web-service/usage-and-billing</a> </li><li>  Sistem tarif yang sangat rumit, saya tidak mengerti sepenuhnya.  Mungkin seseorang yang menggunakan akan menulis di komentar. </li><li>  Seperti yang saya pahami, permintaan dasar gratis, tetapi semua ext.  informasi (kontak, ulasan, ...) dibebankan secara terpisah. </li></ul><br><h3>  2GIS </h3><br>  Rumor mengatakan bahwa mereka memiliki API pribadi berbayar untuk organisasi pencarian.  Saya belum berhasil mendapatkan akses ke sana, dan ada cukup pencarian organisasi dari Yandex untuk tugas kami. <br><a name="users"></a><br><h2>  Lokasi pengguna dengan IP </h2><br>  Tugas umum di web adalah memahami dari kota mana pengunjung datang ke situs Anda.  Ada solusi untuk tugas ini dalam bentuk layanan online atau solusi yang berdiri sendiri untuk mereka yang tidak ingin bergantung pada layanan pihak ketiga. <br><br>  Layanan online untuk menentukan kota melalui IP - di sini saya dapat memberi saran (untuk Rusia) DaData lagi: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dadata.ru/api/detect_address_by_ip</a> <br>  Batasnya adalah 10.000 permintaan per hari.  Jika kehadiran Anda melebihi 10.000 entri unik per hari, masuk akal untuk mempertimbangkan solusi yang diinstal pada server Anda.  Anda dapat membaca lebih lanjut tentang mereka dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ulasan DaData tentang</a> bagaimana mereka memilih apa yang akan digunakan. <br><br>  Saya akan menggandakan informasi tersebut secara singkat: <br>  <b>IpGeoBase</b> - dulunya adalah situs yang bagus yang diperbarui setiap hari dan menyediakan basis data alamat ip dan kota-kota mereka masing-masing dalam format yang dapat dibaca mesin yang mudah dimengerti yang mudah diimpor ke dalam basis data apa pun.  Sayangnya, itu berhenti memperbarui pada 2017. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ipgeobase.ru</a> <br><br>  <b>SypexGeo</b> - masih diperbarui, datang dalam bentuk skrip php dan database untuk itu dalam format sendiri.  Bekerja cepat, sangat baik <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sypexgeo.net/en/download</a> <br><br>  <b>MaxMind</b> menawarkan untuk mengunduh basis data gratis dengan akurasi rendah dan API terpisah untuk mereka dalam berbagai bahasa pemrograman.  Basis data yang lebih akurat tersedia sebagai bagian dari produk berbayar. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dev.maxmind.com/geoip/geoip2/geolite2</a> <br><br><h2>  Menentukan lokasi pengguna berdasarkan koordinat </h2><br>  Tugas ini mirip dengan tugas geocoding terbalik, dengan sedikit perbedaan. <br><br>  Terkadang kita perlu menentukan lokasi pengguna ketika kita tahu koordinatnya dengan tepat (misalnya, kita mendapatkannya menggunakan sensor GPS perangkat atau Geolocation API di browser).  Ada dua opsi - geocoding terbalik mengembalikan nama tempat di mana pengguna berada.  Tetapi apa yang terjadi jika pengguna berada di suatu tempat di jalan raya antara kota-kota, atau di pinggiran kota atau hanya di bidang yang bersih dan ingin melihat iklan untuk penjualan tanah di bidang ini?  Tidak selalu geocoder terbalik akan mengatasi ini. <br><br>  Dalam hal ini, saya secara pribadi melakukan ini - saya memiliki dalam database saya semua koordinat kota-kota Rusia di mana kami memiliki iklan dan dengan yang kami biasanya bekerja.  Dan menurut koordinat pengguna, saya cukup menentukan kota yang paling dekat dengannya dari database kami, dengan permintaan sederhana: <br><br><pre><code class="sql hljs">ORDER BY (|lng - :lng| + |lat - :lat|) ASC LIMIT 1</code> </pre> <br><a name="directions"></a><br><h2>  Rute pembangunan </h2><br>  Terkadang Anda perlu membangun rute dari satu titik ke titik lainnya.  Misalnya, buat peta lokasi dari lokasi pengguna ke kantor Anda.  Ada solusi berbayar dari Yandex dan dari Google - perbedaan utama mereka adalah Yandex menjual langganan dengan pembayaran tahunan, dan Google menagih permintaan berdasarkan bagian dan mengurangi uang dari kartu sebulan sekali untuk bulan itu. <br>  Google juga memiliki langganan premium, yang memberikan beberapa fungsi tambahan (misalnya, meningkatkan ukuran maksimum gambar API Statis) dan setoran sesuai batas.  Ada juga solusi dari 2GIS - yang paling mahal dalam hal 1 rute yang dibangun. <br><br>  Tugas membangun rute dibagi menjadi beberapa subtugas: <br><ol><li>  Membangun rute dari titik ke titik bisa dimengerti </li><li>  Matriks jarak adalah layanan yang memungkinkan Anda untuk membangun matriks jarak dan waktu transit antara sejumlah titik keberangkatan dan kedatangan.  Misalnya, jika Anda perlu menghitung rute optimal untuk beberapa kurir yang perlu mengirimkan barang dari gudang yang berbeda ke pelanggan yang berbeda.  Atau apakah Anda menawarkan layanan pembersihan dan Anda perlu mencari tahu pembersih mana yang akan lebih nyaman dari rumah untuk sampai ke setiap pesanan hari ini dan membuat skema optimal untuk memindahkan pembersih. </li><li>  Isochrone API - membangun di sekitar area titik, yang dapat dijangkau dalam waktu yang bersamaan.  Misalnya, "temukan semua kafe dalam jarak 15 menit berjalan kaki dari posisi pengguna." </li></ol><br>  Penyedia berbeda menawarkan solusi berbeda untuk semua tugas ini. <br><br>  Berkat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">3aiats</a> , solusi Open Source gratis ditemukan - <br><h3>  Graphhopper </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.graphhopper.com/open-source</a> </li><li>  Instal di server Anda, gunakan OpenStreetMap untuk membangun rute, berjalan di Jawa </li><li>  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API gratis dan berbayar</a> untuk mereka yang tidak ingin menginstal perangkat lunak ini di server mereka. </li><li>  Ada API untuk geocoding, membangun rute, membangun jarak matriks dan mengoptimalkan rute, serta isochrone </li></ul><br><br><h3>  MapBox (terima kasih <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">ne_kotin</a> ) </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">docs.mapbox.com/api/navigation</a> </li><li>  Ada API untuk geocoding, membangun rute, membangun matriks jarak dan mengoptimalkan rute. </li><li>  Gratis hingga 100.000 permintaan per bulan </li></ul><br><br><h3>  Yandex </h3><br>  Fitur umum dari semua layanan Yandex untuk rute adalah mereka beroperasi di Rusia, Abkhazia, Azerbaijan, Armenia, Belarus, Georgia, Kazakhstan, Kirgistan, Moldova, Tajikistan, Turki, Uzbekistan, dan Ukraina. <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/routing/router</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/routing/distance_matrix</a> </li><li>  Tarif mulai 120.000 rubel per tahun </li><li>  Ada API untuk membangun rute dan matriks jarak </li><li>  Termasuk kemacetan lalu lintas, termasuk yang diperkirakan untuk waktu tertentu di masa depan </li><li>  Mampu membangun rute berjalan, dengan transportasi pribadi dan umum </li></ul><br>  Ada layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">app.swizz.ru</a> yang menggunakan Yandex API untuk membangun rute.  Layanan ini tidak memiliki API sendiri, dan mengalami masalah dengan batasan dari Yandex, tetapi pada intinya di sana Anda dapat melihat cara kerja pembuat rute Yandex.  Terima kasih atas tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">3aiats</a> <br><br><h3>  Google </h3><br>  Perbedaan utama dari Yandex adalah harga Pay-as-you-go, yaitu untuk setiap permintaan.  Untuk volume kecil, tarif akan lebih menguntungkan dengan Google, untuk besar - dengan Yandex. <br>  Juga, Google tidak memiliki batasan pada negara tempat mereka membangun rute. <br><br><h4>  Google arah api </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/directions/intro</a> </li><li>  Tarif adalah $ 5 atau $ 10 per 1000 permintaan.  10 - jika optimasi digunakan dengan memperhitungkan kemacetan lalu lintas dan titik jalan tengah.  5 - jika hanya rute antara 2 titik. </li><li>  Secara fungsi, analog dari layanan Yandex untuk membangun rute antara 2 titik, tetapi memiliki lebih banyak pengaturan </li><li>  Secara khusus, ia mampu menawarkan beberapa rute alternatif </li></ul><br><br><h4>  Google Distance Matrix API </h4><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/distance-matrix/start</a> </li><li>  Tarif 5 $ atau $ 10 untuk 1000 permintaan, mirip dengan petunjuk </li><li>  API matriks jarak reguler </li></ul><br><br><h4>  API Google Roads </h4><br>  Layanan Google unik yang memungkinkan Anda untuk bekerja dengan jalan-jalan di mana kendaraan Anda bepergian. <br>  Secara otomatis menghubungkan titik-titik rute Anda ke jalan, menunjukkan pola lalu lintas terbaik dan semua informasi tentang bagian jalan yang Anda temui di jalan. <br>  Ia tahu bagaimana cara mengikat bagian jalan terdekat ke titik-titik (misalnya, pada trek GPS yang melompat bolak-balik untuk menunjukkan jalan mana yang dilintasi rute sebenarnya). <br>  Mampu menunjukkan batas kecepatan di jalan-jalan di rute. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developers.google.com/maps/documentation/roads/intro</a> </li><li>  Tarif $ 10 untuk jalan dan $ 20 untuk 1000 permintaan untuk Batas Kecepatan </li></ul><br><br><h3>  WikiRoutes </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wikiroutes.info/developers</a> </li><li>  Bangun rute menggunakan transportasi umum </li><li>  Ada API berbayar untuk berintegrasi dengan situs </li></ul><br><br><h3>  Peta biru </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">azure.microsoft.com/en-us/services/azure-maps</a> </li><li>  Sejumlah besar layanan, termasuk pembangun rute </li><li>  Ada batasan gratis dan API berbayar </li></ul><br><br><h3>  2Gis Logistik </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">logistik.2gis.ru</a> </li><li>  Layanan untuk membangun rute </li><li>  5 rute per hari untuk 3.500 rubel per bulan, siap untuk membahas kenaikan batas </li><li>  Untuk sejumlah uang, ada pelacakan pergerakan kurir dan fungsi tambahan lainnya </li></ul><br><br><h3>  Layanan untuk mengoptimalkan logistik </h3><br>  Sebagai kelas layanan terpisah untuk membangun rute, perlu menyoroti solusi yang sudah jadi untuk mengoptimalkan logistik, yang dibebankan berdasarkan jumlah kurir / kendaraan di jalur tersebut.  Bahkan, mereka menggabungkan alat pembangun rute dan layanan lainnya untuk mengoptimalkan logistik Anda sebanyak mungkin.  Ini adalah solusi yang cukup kompleks dan khusus, jadi saya menggabungkannya ke dalam satu daftar. <br>  Terima kasih telah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">menambahkan ke</a> daftar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">3aiats</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tech.yandex.ru/routing/vrp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">zig-zag.org</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">quickrun.ru</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">maxoptra.ru</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.antor.ru</a> </li></ul><br><br><h2>  Kesimpulan </h2><br>  Di dunia saat ini, Anda dapat menemukan layanan siap pakai untuk hampir semua tugas yang perlu Anda selesaikan, atau menyelesaikannya menggunakan kombinasi layanan dari daftar di atas.  Satu-satunya pertanyaan adalah biaya solusi ini, seberapa besar manfaatnya bagi Anda. <br><br>  Banyak layanan, seiring dengan meningkatnya popularitas mereka, beralih ke sistem monetisasi yang lebih keras - sama seperti peta Google yang dulu gratis menjadi sepenuhnya dibayar, sehingga Yandex secara bertahap bergerak ke arah ini. <br><br>  Ada OpenStreetMaps terbuka, yang tampaknya membuat Anda menyelesaikan semua masalah dari daftar, tetapi untuk ini Anda perlu menggunakan sendiri, dan di samping proyek Anda, secara terpisah memelihara seluruh infrastruktur untuk peta - sejauh yang diperlukan, semua orang memutuskan sendiri. <br><br>  Mungkin, dalam ulasan saya tidak menunjukkan beberapa layanan terbaik yang Anda gunakan, atau Anda menggunakan layanan dari ulasan dan Anda memiliki sesuatu untuk ditambahkan ke apa yang sudah ditulis - tulis di komentar, saya akan menambahkan ke teks. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id462011/">https://habr.com/ru/post/id462011/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id461999/index.html">Versi lain dari lingkungan pengembangan WordPress (buruh pelabuhan, wp-cli)</a></li>
<li><a href="../id462003/index.html">Bagaimana saya memposting PWA di Svelte di Google Play</a></li>
<li><a href="../id462005/index.html">Fitur Google PageSpeed: peningkatan peringkat situs dan peringkat pencarian</a></li>
<li><a href="../id462007/index.html">Mengembangkan skrip Python yang kuat</a></li>
<li><a href="../id462009/index.html">Tren pemrograman: apa yang bisa diharapkan pada tahun 2020?</a></li>
<li><a href="../id462013/index.html">Docker storage (docker root) histori masalah migrasi</a></li>
<li><a href="../id462015/index.html">Alam semesta pelaporan SAP</a></li>
<li><a href="../id462021/index.html">Bagaimana cara berhenti melakukan hal yang sama</a></li>
<li><a href="../id462023/index.html">Cascadeur: Masa Depan Animasi Game</a></li>
<li><a href="../id462025/index.html">Model data jaringan relasional</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>