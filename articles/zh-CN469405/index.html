<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¸ ğŸ§‘ğŸ½â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ•¶ï¸ æ·±åº¦å­¦ä¹ ç°å·²ä½¿ç”¨Java â¬›ï¸ ğŸ™…ğŸ½ ğŸ‘¦ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¸å–œæ¬¢Javaï¼Ÿ æ˜¯çš„ï¼Œæ‚¨ä¸çŸ¥é“å¦‚ä½•çƒ¹é¥ªï¼ Mani Sarkaré‚€è¯·æˆ‘ä»¬ç†Ÿæ‚‰Valohaiå·¥å…·ï¼Œè¯¥å·¥å…·å¯è®©æ‚¨ä½¿ç”¨Javaè¿›è¡Œæ¨¡å‹ç ”ç©¶ã€‚ 



 è¯‘è€…çš„å…è´£å£°æ˜ æˆ‘å¸Œæœ›è¿™ä¸æ˜¯å¹¿å‘ŠåˆŠç‰©ã€‚ æˆ‘ä¸éš¶å±äºValohaiã€‚ æˆ‘åˆšåˆšç¿»è¯‘äº†æˆ‘å¼•ç”¨è¯¥é“¾æ¥çš„æ–‡ç« ã€‚ å¦‚æœç¿»è¯‘å¾—å¾ˆç¬¨æ‹™ï¼Œè¯·åŠ å…¥PMã€‚ å¦‚æœ‰å¿…è¦ï¼Œæˆ‘å¯ä»¥åˆ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æ·±åº¦å­¦ä¹ ç°å·²ä½¿ç”¨Java</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469405/"> ä¸å–œæ¬¢Javaï¼Ÿ æ˜¯çš„ï¼Œæ‚¨ä¸çŸ¥é“å¦‚ä½•çƒ¹é¥ªï¼  Mani Sarkaré‚€è¯·æˆ‘ä»¬ç†Ÿæ‚‰Valohaiå·¥å…·ï¼Œè¯¥å·¥å…·å¯è®©æ‚¨ä½¿ç”¨Javaè¿›è¡Œæ¨¡å‹ç ”ç©¶ã€‚ <br><br><img src="https://habrastorage.org/webt/et/p-/se/etp-sezekre2qlznmvgdzlgds0a.png"><br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">è¯‘è€…çš„å…è´£å£°æ˜</b> <div class="spoiler_text">æˆ‘å¸Œæœ›è¿™ä¸æ˜¯å¹¿å‘ŠåˆŠç‰©ã€‚ æˆ‘ä¸éš¶å±äºValohaiã€‚ æˆ‘åˆšåˆšç¿»è¯‘äº†æˆ‘å¼•ç”¨è¯¥é“¾æ¥çš„æ–‡ç« ã€‚ å¦‚æœç¿»è¯‘å¾—å¾ˆç¬¨æ‹™ï¼Œè¯·åŠ å…¥PMã€‚ å¦‚æœ‰å¿…è¦ï¼Œæˆ‘å¯ä»¥åˆ é™¤é“¾æ¥å¹¶æåŠå…¶ä»–å¤–éƒ¨èµ„æºã€‚ æ„Ÿè°¢æ‚¨çš„ç†è§£ã€‚ <br></div></div><br><h3> å¼•è¨€ </h3><br> å‰ä¸€æ®µæ—¶é—´ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªåä¸ºValohaiçš„äº‘æœåŠ¡ï¼Œå®ƒçš„ç”¨æˆ·ç•Œé¢ä»¥åŠè®¾è®¡å’Œå¸ƒå±€çš„ç®€å•æ€§ä»¤æˆ‘æ„Ÿåˆ°æ»¡æ„ã€‚ æˆ‘è¦æ±‚ä¸€åValohaiæˆå‘˜æä¾›æœåŠ¡ï¼Œå¹¶æ”¶åˆ°äº†æ¼”ç¤ºç‰ˆã€‚ åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä½¿ç”¨GNU Parallelï¼ŒJavaScriptï¼ŒPythonå’ŒBashç¼–å†™äº†ä¸€ä¸ªç®€å•çš„ç®¡é“-å¦ä¸€ä¸ªä»…ä½¿ç”¨GNU Parallelå’ŒBashçš„ç®¡é“ã€‚ <br><br> æˆ‘è¿˜è€ƒè™‘è¿‡ä½¿ç”¨ç°æˆçš„ä»»åŠ¡/å·¥ä½œæµç®¡ç†å·¥å…·ï¼Œä¾‹å¦‚Jenkins Xï¼ŒJenkins Pipelineï¼ŒConcourseæˆ–Airflowï¼Œä½†å‡ºäºå„ç§åŸå› ï¼Œæˆ‘å†³å®šä¸ä½¿ç”¨å®ƒã€‚ <br><br> æˆ‘æ³¨æ„åˆ°è®¸å¤šValohaiçš„ç¤ºä¾‹å’Œæ–‡æ¡£éƒ½åŸºäºPythonå’ŒRåŠå…¶å„è‡ªçš„æ¡†æ¶å’Œåº“ã€‚ æˆ‘å†³å®šä¸è¦é”™è¿‡è¿™ä¸ªæœºä¼šï¼Œå¹¶ä¸”æƒ³çº æ­£ç¼ºå°‘ç¤ºä¾‹å’Œæ–‡æ¡£çš„é—®é¢˜ã€‚ <br><br>  Valohaiä¿ƒä½¿æˆ‘ä½¿ç”¨è‘—åçš„Javaåº“<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">DL4J-Javaæ·±åº¦å­¦ä¹ </a>æ¥å®ç°æŸäº›ä¸œè¥¿ã€‚ <br><br> åœ¨å¯¹Valohaiçš„è®¾è®¡ï¼Œå¸ƒå±€å’Œå·¥ä½œæµç¨‹æ„Ÿåˆ°æ»¡æ„ä¹‹åï¼Œæˆ‘å¯¹Valohaiçš„ç¬¬ä¸€æ¬¡ä½“éªŒç»™æˆ‘ç•™ä¸‹äº†å¾ˆå¥½çš„å°è±¡ã€‚ åˆ›å»ºè€…å·²ç»è€ƒè™‘äº†å¼€å‘äººå‘˜çš„å·¥ä½œæµç¨‹å’ŒåŸºç¡€æ¶æ„çš„å„ä¸ªæ–¹é¢ã€‚ åœ¨æˆ‘ä»¬çš„ä¸–ç•Œä¸­ï¼ŒåŸºç¡€æ¶æ„å¼€å‘è¿‡ç¨‹ä¸»è¦ç”±DevOpsæˆ–SysOpså›¢é˜Ÿæ§åˆ¶ï¼Œæˆ‘ä»¬çŸ¥é“ä¸ä¹‹ç›¸å…³çš„ç»†å¾®å·®åˆ«å’Œç—›ç‚¹ã€‚ <br><br><h3> æˆ‘ä»¬éœ€è¦ä»€ä¹ˆä»¥åŠå¦‚ä½•ï¼Ÿ </h3><br> åœ¨ä»»ä½•æœºå™¨å­¦ä¹ é¡¹ç›®ä¸­ï¼Œéƒ½æœ‰ä¸¤ä¸ªé‡è¦çš„ç»„ä»¶ï¼ˆä»é«˜å±‚çš„è§’åº¦æ¥çœ‹ï¼‰-ä¸€ä¸ªå°†ä¸æ¨¡å‹ä¸€èµ·å·¥ä½œçš„ä»£ç ï¼Œä»¥åŠå°†ä¸æ•´ä¸ªåŸºç¡€ç»“æ„ç”Ÿå‘½å‘¨æœŸä¸€èµ·æ‰§è¡Œçš„åŸºç¡€ç»“æ„ä¸€èµ·å·¥ä½œçš„ä»£ç ã€‚ <br><br> å½“ç„¶ï¼Œä¹‹å‰ï¼Œä¹‹ä¸­å’Œä¹‹åéƒ½å°†éœ€è¦ä¸€äº›æ­¥éª¤å’Œç»„ä»¶ï¼Œä½†ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬éœ€è¦ä»£ç å’ŒåŸºç¡€ç»“æ„ã€‚ <br><br><h4> ä»£å· </h4><br> å¯¹äºä»£ç ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ªä½¿ç”¨DL4Jçš„å¤æ‚ç¤ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MNisté¡¹ç›®</a> ï¼Œè®­ç»ƒé›†ä¸º60,000å¼ å›¾åƒï¼Œæµ‹è¯•é›†ä¸º10,000å¼ æ‰‹å†™æ•°å­—å›¾åƒã€‚ è¯¥æ•°æ®é›†å¯é€šè¿‡DL4Jåº“è·å¾—ï¼ˆå°±åƒKerasä¸€æ ·ï¼‰ã€‚ <br><br> åœ¨å¼€å§‹ä¹‹å‰ï¼Œå»ºè®®æ‚¨å…ˆçœ‹çœ‹æˆ‘ä»¬å°†ä½¿ç”¨çš„æºä»£ç ã€‚  Javaä¸»ç±»ç§°ä¸º<a href="">org.deeplearning4j.feedforward.mnist.MLPMnistSingleLayerRunner</a> ã€‚ <br><br><h4> åŸºç¡€è®¾æ–½ </h4><br> æˆ‘ä»¬å†³å®šå°è¯•ä½¿ç”¨Valohaiä½œä¸ºæˆ‘ä»¬è¿›è¡Œå®éªŒï¼ˆè®­ç»ƒå’Œæ¨¡å‹è¯„ä¼°ï¼‰çš„åŸºç¡€ç»“æ„çš„Javaç¤ºä¾‹ã€‚  Valohaiå¯ä»¥è¯†åˆ«gitå­˜å‚¨åº“å¹¶ç›´æ¥è¿æ¥åˆ°å®ƒä»¬ï¼Œä»è€Œä½¿æˆ‘ä»¬æ— è®ºå¹³å°æˆ–è¯­è¨€å¦‚ä½•éƒ½èƒ½æ‰§è¡Œä»£ç -å› æ­¤ï¼Œæˆ‘ä»¬å°†äº†è§£å…¶å·¥ä½œåŸç†ã€‚ è¿™ä¹Ÿæ„å‘³ç€ï¼Œå¦‚æœæ‚¨ä½¿ç”¨GitOpsæˆ–â€œåŸºç¡€ç»“æ„å³ä»£ç â€ï¼Œé‚£ä¹ˆä¸€åˆ‡ä¹Ÿå°†ä¸ºæ‚¨å·¥ä½œã€‚ <br><br> ä¸ºæ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨Valohaiå¼€è®¾ä¸€ä¸ªå¸æˆ·å³å¯ã€‚ åˆ›å»ºå…è´¹å¸æˆ·åï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®å„ç§é…ç½®çš„å¤šä¸ªå®ä¾‹ã€‚ å¯¹äºæˆ‘ä»¬æƒ³åšçš„äº‹æƒ…ï¼ŒFree-Tierç»°ç»°æœ‰ä½™ã€‚ <br><br><h4>  Javaå’ŒValohaiçš„æ·±åº¦å­¦ä¹  </h4><br> æˆ‘ä»¬å°†æä¾›å¯¹Dockeræ˜ åƒçš„æ‰€æœ‰ä¾èµ–å…³ç³»ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç¼–è¯‘æˆ‘ä»¬çš„Javaåº”ç”¨ç¨‹åºï¼Œè®­ç»ƒæ¨¡å‹å¹¶ä½¿ç”¨ä½äºé¡¹ç›®å­˜å‚¨åº“æ ¹æ–‡ä»¶å¤¹ä¸­çš„ç®€å•<a href="">valohai.yaml</a>æ–‡ä»¶åœ¨Valohaiå¹³å°ä¸Šå¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚ <br><br><h4>  Javaæ·±åº¦å­¦ä¹ ï¼šDL4J </h4><br> æœ€ç®€å•çš„éƒ¨åˆ†ã€‚ æˆ‘ä»¬ä¸éœ€è¦åšå¾ˆå¤šäº‹æƒ…ï¼Œåªéœ€æ”¶é›†jarå¹¶å°†æ•°æ®é›†åŠ è½½åˆ°Dockerå®¹å™¨ä¸­å³å¯ã€‚ æˆ‘ä»¬æœ‰ä¸€ä¸ªé¢„å…ˆåˆ›å»ºçš„Dockeræ˜ åƒï¼Œå…¶ä¸­åŒ…å«åˆ›å»ºJavaåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚ æˆ‘ä»¬å°†æ­¤å›¾åƒæ”¾åœ¨Docker Hubä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡æœç´¢dl4j-mnist-single-layerï¼ˆæˆ‘ä»¬å°†ä½¿ç”¨YAMLæ–‡ä»¶ä¸­å®šä¹‰çš„ç‰¹æ®Šæ ‡è®°ï¼‰æ¥æ‰¾åˆ°å®ƒã€‚ æˆ‘ä»¬å†³å®šå°†GraalVM 19.1.1ç”¨ä½œè¯¥é¡¹ç›®çš„æ„å»ºå’Œè¿è¡Œæ—¶Javaç¯å¢ƒï¼Œå¹¶ä¸”å°†å…¶å†…ç½®åˆ°Dockeræ˜ åƒä¸­ã€‚ <br><br> ä»å‘½ä»¤è¡Œè°ƒç”¨uber jaræ—¶ï¼Œæˆ‘ä»¬å°†åˆ›å»ºç±»MLPMnistSingleLayerRunnerï¼Œè¯¥ç±»æ ¹æ®ä¼ é€’ç»™ä»¥ä¸‹å‚æ•°çš„å‚æ•°å‘Šè¯‰æˆ‘ä»¬é¢„æœŸçš„æ“ä½œï¼š <br><br><pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ MLPMnistSingleLayerRunner mlpMnistRunner = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MLPMnistSingleLayerRunner(); JCommander.newBuilder() .addObject(mlpMnistRunner) .build() .parse(args); mlpMnistRunner.execute(); }</code> </pre> <br> ä¼ é€’ç»™uber jarçš„å‚æ•°å°†è¢«æ­¤ç±»æ¥å—ï¼Œå¹¶ç”±executeï¼ˆï¼‰æ–¹æ³•å¤„ç†ã€‚ <br><br> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨--actionè®­ç»ƒå‚æ•°æ¥åˆ›å»ºæ¨¡å‹ï¼Œå¹¶ä½¿ç”¨ä¼ é€’ç»™Javaåº”ç”¨ç¨‹åºçš„--actionè¯„ä¼°å‚æ•°æ¥è¯„ä¼°åˆ›å»ºçš„æ¨¡å‹ã€‚ <br><br> å¯ä»¥åœ¨ä»¥ä¸‹å„èŠ‚ä¸­æåˆ°çš„ä¸¤ä¸ªJavaç±»ä¸­æ‰¾åˆ°å®Œæˆæ­¤å·¥ä½œçš„Javaåº”ç”¨ç¨‹åºçš„ä¸»è¦éƒ¨åˆ†ã€‚ <br><br><h3> æ¨¡å‹è®­ç»ƒ </h3><br> è‡´ç”µ <br><br><pre> <code class="plaintext hljs">./runMLPMnist.sh --action train --output-dir ${VH_OUTPUTS_DIR} or java -Djava.library.path="" \ -jar target/MLPMnist-1.0.0-bin.jar \ --action train --output-dir ${VH_OUTPUTS_DIR}</code> </pre><br> æ­¤å‘½ä»¤åœ¨æ‰§è¡Œå¼€å§‹æ—¶ä¼ é€’çš„--output-dirå‚æ•°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºmlpmnist-single-layer.pbçš„æ¨¡å‹ã€‚ ä»Valohaiçš„è§’åº¦æ¥çœ‹ï¼Œå®ƒåº”è¯¥æ”¾åœ¨$ {VH_OUTPUTS_DIR}ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼ˆè¯·å‚é˜…æ–‡ä»¶<a href="">valohai.yaml</a> ï¼‰ã€‚ <br><br> æœ‰å…³æºä»£ç ï¼Œè¯·å‚è§<a href="">MLPMNistSingleLayerTrain.java</a>ç±»ã€‚ <br><br><h3> æ¨¡å‹è¯„ä¼° </h3><br> è‡´ç”µ <br><br><pre> <code class="plaintext hljs">./runMLPMnist.sh --action evaluate --input-dir ${VH_INPUTS_DIR}/model or java -Djava.library.path="" \ -jar target/MLPMnist-1.0.0-bin.jar \ --action evaluate --input-dir ${VH_INPUTS_DIR}/model</code> </pre><br> å‡å®šåœ¨è°ƒç”¨åº”ç”¨ç¨‹åºæ—¶é€šè¿‡çš„--input-dirå‚æ•°æŒ‡å®šçš„æ–‡ä»¶å¤¹ä¸­å°†å­˜åœ¨ä¸€ä¸ªåç§°ä¸ºmlpmnist-single-layer.pbçš„æ¨¡å‹ï¼ˆåœ¨è®­ç»ƒé˜¶æ®µåˆ›å»ºï¼‰ã€‚ <br><br> æœ‰å…³æºä»£ç ï¼Œè¯·å‚è§ç±»<a href="">MLPMNistSingleLayerEvaluate.java</a> ã€‚ <br><br> æˆ‘å¸Œæœ›è¿™æ®µç®€çŸ­çš„æ’å›¾å¯ä»¥é˜æ˜æ•™å¯¼å’Œè¯„ä¼°æ¨¡å‹çš„Javaåº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ <br><br> è¿™å°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼Œä½†ä¸è¦çŠ¹è±«ï¼Œä¸å…¶ä»–<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">èµ„æº</a>ä¸€èµ·ä½¿ç”¨ï¼ˆä»¥åŠ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">README.md</a>å’Œbashè„šæœ¬ï¼‰ï¼Œå¹¶æ»¡è¶³æ‚¨çš„å¥½å¥‡å¿ƒå’Œå¯¹å¦‚ä½•å®ç°çš„äº†è§£ï¼ <br><br><h3> ç“¦æ´›æµ· </h3><br>  Valohaiå…è®¸æˆ‘ä»¬è‡ªç”±é“¾æ¥æˆ‘ä»¬çš„è¿è¡Œæ—¶ï¼Œä»£ç å’Œæ•°æ®é›†ï¼Œå¦‚ä¸‹é¢çš„YAMLæ–‡ä»¶ç»“æ„æ‰€ç¤ºã€‚ å› æ­¤ï¼Œå„ç§ç»„ä»¶å¯ä»¥å½¼æ­¤ç‹¬ç«‹åœ°å¼€å‘ã€‚ å› æ­¤ï¼Œåªæœ‰ç¨‹åºé›†å’Œè¿è¡Œæ—¶ç»„ä»¶æ‰æ‰“åŒ…åœ¨æˆ‘ä»¬çš„Dockerå®¹å™¨ä¸­ã€‚ <br><br> åœ¨è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å°†Uber JARæ”¶é›†åœ¨Dockerå®¹å™¨ä¸­ï¼Œå°†å…¶åŠ è½½åˆ°å†…éƒ¨æˆ–å¤–éƒ¨å­˜å‚¨ä¸­ï¼Œç„¶åä½¿ç”¨å…¶ä»–æ‰§è¡Œæ­¥éª¤ä»å­˜å‚¨ï¼ˆæˆ–å…¶ä»–ä½ç½®ï¼‰ä¸­åŠ è½½Uber JARå’Œæ•°æ®é›†ä»¥å¼€å§‹è®­ç»ƒã€‚ è¿™æ ·ï¼Œä¸¤ä¸ªæ‰§è¡Œæ­¥éª¤å°±è¢«æ–­å¼€äº†ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡ç¼–è¯‘ä¸€ä¸ªjarï¼Œå¹¶åœ¨ä¸€ä¸ªjarä¸Šå®Œæˆæ•°ç™¾ä¸ªè®­ç»ƒæ­¥éª¤ã€‚ ç”±äºç¨‹åºé›†å’Œè¿è¡Œæ—¶ç¯å¢ƒä¸å¿…ç»å¸¸æ›´æ”¹ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å¯¹å…¶è¿›è¡Œç¼“å­˜ï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€è®¿é—®ä»£ç ï¼Œæ•°æ®é›†å’Œæ¨¡å‹ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">valohai.yaml</a> <br> å°†Javaé¡¹ç›®ä¸ValohaiåŸºç¡€ç»“æ„é›†æˆçš„ä¸»è¦éƒ¨åˆ†æ˜¯ç¡®å®šä½äºé¡¹ç›®æ–‡ä»¶å¤¹æ ¹ç›®å½•ä¸­çš„valohai.yamlæ–‡ä»¶ä¸­æ‰§è¡Œæ­¥éª¤çš„é¡ºåºã€‚ æˆ‘ä»¬çš„valohai.yamlçœ‹èµ·æ¥åƒè¿™æ ·ï¼š <br><br><pre> <code class="xml hljs">--- - step: name: Build-dl4j-mnist-single-layer-java-app image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - cd ${VH_REPOSITORY_DIR} - ./buildUberJar.sh - echo "~~~ Copying the build jar file into ${VH_OUTPUTS_DIR}" - cp target/MLPMnist-1.0.0-bin.jar ${VH_OUTPUTS_DIR}/MLPMnist-1.0.0.jar - ls -lash ${VH_OUTPUTS_DIR} environment: aws-eu-west-1-g2-2xlarge - step: name: Run-dl4j-mnist-single-layer-train-model image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - echo "~~~ Unpack the MNist dataset into ${HOME} folder" - tar xvzf ${VH_INPUTS_DIR}/dataset/mlp-mnist-dataset.tgz -C ${HOME} - cd ${VH_REPOSITORY_DIR} - echo "~~~ Copying the build jar file from ${VH_INPUTS_DIR} to current location" - cp ${VH_INPUTS_DIR}/dl4j-java-app/MLPMnist-1.0.0.jar . - echo "~~~ Run the DL4J app to train model based on the the MNist dataset" - ./runMLPMnist.sh {parameters} inputs: - name: dl4j-java-app description: DL4J Java app file (jar) generated in the previous step 'Build-dl4j-mnist-single-layer-java-app' - name: dataset default: https://github.com/neomatrix369/awesome-ai-ml-dl/releases/download/mnist-dataset-v0.1/mlp-mnist-dataset.tgz description: MNist dataset needed to train the model parameters: - name: --action pass-as: '--action {v}' type: string default: train description: Action to perform ie train or evaluate - name: --output-dir pass-as: '--output-dir {v}' type: string default: /valohai/outputs/ description: Output directory where the model will be created, best to pick the Valohai output directory environment: aws-eu-west-1-g2-2xlarge - step: name: Run-dl4j-mnist-single-layer-evaluate-model image: neomatrix369/dl4j-mnist-single-layer:v0.5 command: - cd ${VH_REPOSITORY_DIR} - echo "~~~ Copying the build jar file from ${VH_INPUTS_DIR} to current location" - cp ${VH_INPUTS_DIR}/dl4j-java-app/MLPMnist-1.0.0.jar . - echo "~~~ Run the DL4J app to evaluate the trained MNist model" - ./runMLPMnist.sh {parameters} inputs: - name: dl4j-java-app description: DL4J Java app file (jar) generated in the previous step 'Build-dl4j-mnist-single-layer-java-app' - name: model description: Model file generated in the previous step 'Run-dl4j-mnist-single-layer-train-model' parameters: - name: --action pass-as: '--action {v}' type: string default: evaluate description: Action to perform ie train or evaluate - name: --input-dir pass-as: '--input-dir {v}' type: string default: /valohai/inputs/model description: Input directory where the model created by the previous step can be found created environment: aws-eu-west-1-g2-2xlarge</code> </pre><br><h4>  Build-dl4j-mnist-single-layer-java-appå¦‚ä½•å·¥ä½œ </h4><br> ä»YAMLæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬å®šä¹‰äº†è¿™ä¸€æ­¥éª¤ï¼Œé¦–å…ˆä½¿ç”¨Dockeræ˜ åƒï¼Œç„¶åè¿è¡Œè„šæœ¬æ¥æ„å»ºUber JARã€‚ æˆ‘ä»¬çš„Dockeræ˜ åƒå…·æœ‰è‡ªå®šä¹‰çš„æ„å»ºç¯å¢ƒä¾èµ–é¡¹ï¼ˆä¾‹å¦‚GraalVM JDKï¼ŒMavenç­‰ï¼‰ä»¥åˆ›å»ºJavaåº”ç”¨ç¨‹åºã€‚ æˆ‘ä»¬æ²¡æœ‰æä¾›ä»»ä½•è¾“å…¥æˆ–å‚æ•°ï¼Œå› ä¸ºè¿™æ˜¯ç»„è£…é˜¶æ®µã€‚ æ„å»ºæˆåŠŸåï¼Œæˆ‘ä»¬å°†åä¸ºMLPMnist-1.0.0-bin.jarï¼ˆåŸå§‹åç§°ï¼‰çš„è¶…çº§jarå¤åˆ¶åˆ°/ valohai / outputsæ–‡ä»¶å¤¹ï¼ˆè¡¨ç¤ºä¸º$ {VH_OUTPUTS_DIR}ï¼‰ã€‚ æ­¤æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè‡ªåŠ¨ä¿å­˜åœ¨é¡¹ç›®çš„å­˜å‚¨ä¸­ï¼Œä¾‹å¦‚ï¼Œåœ¨AWS S3å›æ”¶ç«™ä¸­ã€‚ æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†AWSçš„å·¥ä½œã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æ³¨æ„äº‹é¡¹</b> <div class="spoiler_text"> å…è´¹çš„Valohaiå¸æˆ·æ— æ³•ä»Dockerå®¹å™¨è¿›è¡Œç½‘ç»œè®¿é—®ï¼ˆé»˜è®¤æƒ…å†µä¸‹å¤„äºç¦ç”¨çŠ¶æ€ï¼‰ï¼Œè¯·ä¸æ”¯æŒäººå‘˜è”ç³»ä»¥å¯ç”¨æ­¤é€‰é¡¹ï¼ˆæˆ‘å¿…é¡»è¿™æ ·åšï¼‰ï¼Œå¦åˆ™æˆ‘ä»¬å°†æ— æ³•ä¸‹è½½Mavenå’Œå…¶ä»–ä¾èµ–é¡¹åœ¨ç»„è£…è¿‡ç¨‹ä¸­ã€‚ <br></div></div><br><h4>  Run-dl4j-mnist-å•å±‚ç«è½¦æ¨¡å‹å¦‚ä½•å·¥ä½œ </h4><br> è¯¥å®šä¹‰çš„è¯­ä¹‰ä¸ä¸Šä¸€æ­¥ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºæˆ‘ä»¬æŒ‡å®šäº†ä¸¤ä¸ªè¾“å…¥ï¼šä¸€ä¸ªè¾“å…¥ç”¨äºè¶…çº§jarï¼ˆMLPMnist-1.0.0.jarï¼‰ï¼Œå¦ä¸€ä¸ªè¾“å…¥ç”¨äºæ•°æ®é›†ï¼ˆè§£å‹åˆ°æ–‡ä»¶å¤¹$ {HOME} /ã€‚Deeplearning4jä¸­ï¼‰ã€‚ æˆ‘ä»¬å°†ä¼ é€’ä¸¤ä¸ªå‚æ•°---action trainå’Œ--output-dir / valohai / outputsã€‚ åœ¨æ­¤æ­¥éª¤ä¸­åˆ›å»ºçš„æ¨¡å‹å†…ç½®äº/ valohai /è¾“å‡º/æ¨¡å‹ï¼ˆè¡¨ç¤ºä¸º$ {VH_OUTPUTS_DIR} /æ¨¡å‹ï¼‰ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æ³¨æ„äº‹é¡¹</b> <div class="spoiler_text"> åœ¨Valohai Webç•Œé¢çš„``è¿è¡Œ''é€‰é¡¹å¡ä¸Šçš„è¾“å…¥å­—æ®µä¸­ï¼Œé™¤äº†ä½¿ç”¨åŸºå‡†ï¼š//æˆ–httpï¼š/ URLï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è¿è¡Œç¼–å·ï¼ˆå³ï¼ƒ1æˆ–ï¼ƒ2ï¼‰é€‰æ‹©ä»¥å‰è¿è¡Œçš„è¾“å‡ºã€‚ /ï¼Œè¾“å…¥æ–‡ä»¶åçš„å‡ ä¸ªå­—æ¯ä¹Ÿæœ‰åŠ©äºæœç´¢æ•´ä¸ªåˆ—è¡¨ã€‚ <br></div></div><br><h4>  Run-dl4j-mnist-å•å±‚-valu-modelå¦‚ä½•å·¥ä½œ </h4><br> åŒæ ·ï¼Œæ­¤æ­¥éª¤ä¸ä¸Šä¸€æ­¥ç›¸ä¼¼ï¼Œé™¤äº†æˆ‘ä»¬å°†ä¼ é€’ä¸¤ä¸ªå‚æ•°--actionè¯„ä¼°å’Œ--input-dir / valohai / inputs / modelã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬åœ¨è¾“å…¥ä¸­å†æ¬¡æŒ‡å‡ºï¼šåœ¨YAMLæ–‡ä»¶ä¸­å®šä¹‰çš„éƒ¨åˆ†ï¼Œåç§°åˆ†åˆ«ä¸ºdl4j-java-appå’Œmodelï¼Œè¿™ä¸¤ä¸ªéƒ¨åˆ†å‡æ²¡æœ‰é»˜è®¤è®¾ç½®ã€‚ è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€‰æ‹©uber jarå’Œæˆ‘ä»¬è¦è¯„ä¼°çš„æ¨¡å‹-å®ƒæ˜¯é€šè¿‡â€‹â€‹ä½¿ç”¨Webç•Œé¢çš„Run-dl4j-mnist-single-layer-train-modelæ­¥éª¤åˆ›å»ºçš„ã€‚ <br><br> å¸Œæœ›ä»¥ä¸Šè§£é‡Šäº†å®šä¹‰æ–‡ä»¶ä¸­çš„æ­¥éª¤ï¼Œä½†æ˜¯å¦‚æœæ‚¨éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œè¯·éšæ—¶æŸ¥çœ‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡æ¡£</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ•™ç¨‹</a> ã€‚ <br><br><h3>  Valohai Webç•Œé¢ </h3><br> æ”¶åˆ°å¸æˆ·åï¼Œæˆ‘ä»¬å¯ä»¥ç™»å½•å¹¶ç»§ç»­åˆ›å»ºåç§°ä¸ºmlpmnist-single-layerçš„é¡¹ç›®ï¼Œå¹¶å°†git repo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">github.com/valohai/mlpmnist-dl4j-example</a>ä¸è¯¥é¡¹ç›®ç›¸å…³è”ï¼Œç„¶åä¿å­˜è¯¥é¡¹ç›®ã€‚ <br><br> ç°åœ¨ï¼Œæ‚¨å¯ä»¥å®Œæˆè¯¥æ­¥éª¤ï¼Œçœ‹çœ‹ç»“æœå¦‚ä½•ï¼ <br><br><h4> ç”ŸæˆDL4J Javaåº”ç”¨ç¨‹åº </h4><br> è½¬åˆ°Webç•Œé¢ä¸­çš„â€œæ‰§è¡Œâ€é€‰é¡¹å¡ï¼Œç„¶åå¤åˆ¶ç°æœ‰æ‰§è¡Œæˆ–ä½¿ç”¨[åˆ›å»ºæ‰§è¡Œ]æŒ‰é’®åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œã€‚ æ‰€æœ‰å¿…éœ€çš„é»˜è®¤å‚æ•°å°†è¢«å¡«å……ã€‚ é€‰æ‹©Step Build-dl4j-mnist-single-layer-java-appã€‚ <br><br> å¯¹äº<i>ç¯å¢ƒï¼Œ</i>æˆ‘é€‰æ‹©äº†AWS eu-west-1 g2.2xlargeï¼Œç„¶åå•å‡»é¡µé¢åº•éƒ¨çš„[åˆ›å»ºæ‰§è¡Œ]æŒ‰é’®ä»¥æŸ¥çœ‹æ‰§è¡Œå¼€å§‹ã€‚ <br><br><img src="https://habrastorage.org/webt/le/18/zo/le18zo_udbscmekflaux7kqfjcw.png"><br><br><h3> æ¨¡å‹è®­ç»ƒ </h3><br> è½¬åˆ°Webç•Œé¢ä¸­çš„â€œæ‰§è¡Œâ€é€‰é¡¹å¡ï¼Œå¹¶æ‰§è¡Œä¸ä¸Šä¸€æ­¥ç›¸åŒçš„æ“ä½œï¼Œç„¶åé€‰æ‹©Run-dl4j-mnist-single-layer-train-modelã€‚ æ‚¨å°†éœ€è¦é€‰æ‹©åœ¨ä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„Javaåº”ç”¨ç¨‹åºï¼ˆåªéœ€åœ¨å­—æ®µä¸­è¾“å…¥jarï¼‰ã€‚ æ•°æ®é›†å·²ç»ä½¿ç”¨valohai.yamlæ–‡ä»¶è¿›è¡Œäº†é¢„å¡«å……ï¼š <br><br><img src="https://habrastorage.org/webt/md/ls/ov/mdlsovhg3vw9zjnpoeqhxwzgk7w.png"><br><br> å•å‡»[åˆ›å»ºæ‰§è¡Œ]å¼€å§‹ã€‚ <br><br><img src="https://habrastorage.org/webt/6n/mr/wm/6nmrwmveck6cgdughud1xgx7qdg.png"><br><br> æ‚¨å°†åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°ç»“æœï¼š <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:05 ======================================================================= 11:17:05 LayerName (LayerType) nIn,nOut TotalParams ParamsShape 11:17:05 ======================================================================= 11:17:05 layer0 (DenseLayer) 784,1000 785000 W:{784,1000}, b:{1,1000} 11:17:05 layer1 (OutputLayer) 1000,10 10010 W:{1000,10}, b:{1,10} 11:17:05 ----------------------------------------------------------------------- 11:17:05 Total Parameters: 795010 11:17:05 Trainable Parameters: 795010 11:17:05 Frozen Parameters: 0 11:17:05 ======================================================================= [&lt;--- snipped ---&gt;]</code> </pre><br> åœ¨æ‰§è¡ŒæœŸé—´å’Œæ‰§è¡Œä¹‹åï¼Œå¯ä»¥åœ¨â€œæ‰§è¡Œâ€ä¸»é€‰é¡¹å¡çš„â€œè¾“å‡ºâ€é€‰é¡¹å¡ä¸Šæ‰¾åˆ°åˆ›å»ºçš„æ¨¡å‹ï¼š <br><br><img src="https://habrastorage.org/webt/pg/g2/-k/pgg2-kmsr85x87fedfoy24lreye.png"><br><br> æ‚¨å¯èƒ½ä¼šåœ¨Outputså­é€‰é¡¹å¡ä¸­æ³¨æ„åˆ°ä¸€äº›å·¥ä»¶ã€‚ è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨æ¯ä¸ªæ—¶ä»£çš„æœ«æœŸéƒ½ç»´æŠ¤ç€æ§åˆ¶ç‚¹ã€‚ è®©æˆ‘ä»¬åœ¨æ—¥å¿—ä¸­çœ‹ä¸€ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:14 odolCheckpointListener - Model checkpoint saved: epoch 0, iteration 469, path: /valohai/outputs/checkpoint_0_MultiLayerNetwork.zip [&lt;--- snipped ---&gt;]</code> </pre><br> æ£€æŸ¥ç‚¹åœ¨ä¸‰ä¸ªæ–‡ä»¶ä¸­åŒ…å«æ¨¡å‹çš„çŠ¶æ€ï¼š <br><br><pre> <code class="plaintext hljs">configuration.json coefficients.bin updaterState.bin</code> </pre><br><h3> æ¨¡å‹è®­ç»ƒã€‚ å…ƒæ•°æ® </h3><br> æ‚¨å¯èƒ½å·²ç»åœ¨æ‰§è¡Œæ—¥å¿—ä¸­æ³¨æ„åˆ°ä»¥ä¸‹æ¡ç›®ï¼š <br><br><pre> <code class="plaintext hljs">[&lt;--- snipped ---&gt;] 11:17:05 {"epoch": 0, "iteration": 0, "score (loss function)": 2.410047} 11:17:07 {"epoch": 0, "iteration": 100, "score (loss function)": 0.613774} 11:17:09 {"epoch": 0, "iteration": 200, "score (loss function)": 0.528494} 11:17:11 {"epoch": 0, "iteration": 300, "score (loss function)": 0.400291} 11:17:13 {"epoch": 0, "iteration": 400, "score (loss function)": 0.357800} 11:17:14 odolCheckpointListener - Model checkpoint saved: epoch 0, iteration 469, path: /valohai/outputs/checkpoint_0_MultiLayerNetwork.zip [&lt;--- snipped ---&gt;]</code> </pre><br> æ­¤æ•°æ®ä½¿Valohaiå¯ä»¥è·å–ä»¥ä¸‹å€¼ï¼ˆJSONæ ¼å¼ï¼‰ï¼Œè¿™äº›å€¼å°†ç”¨äºæ„å»ºåº¦é‡ï¼Œè¿™äº›åº¦é‡å¯ä»¥åœ¨æ‰§è¡ŒæœŸé—´å’Œæ‰§è¡Œååœ¨â€œæ‰§è¡Œâ€ä¸»é€‰é¡¹å¡ä¸Šçš„å…¶ä»–â€œå…ƒæ•°æ®â€é€‰é¡¹å¡ä¸Šçœ‹åˆ°ï¼š <br><br><img src="https://habrastorage.org/webt/et/p-/se/etp-sezekre2qlznmvgdzlgds0a.png"><br><br> é€šè¿‡å°†ValohaiMetadataCreatorç±»ä¸æ¨¡å‹è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼Œä»¥ä¾¿Valohaiåœ¨è®­ç»ƒæœŸé—´å¼•ç”¨è¯¥ç±»ã€‚ åœ¨æ­¤ç±»çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¾—å‡ºäº†å‡ ä¸ªæ—¶ä»£ï¼Œå³è¿­ä»£æ¬¡æ•°å’Œå¾—åˆ†ï¼ˆæŸå¤±å‡½æ•°çš„å€¼ï¼‰ã€‚ è¿™æ˜¯è¯¥ç±»çš„ä»£ç ç‰‡æ®µï¼š <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">iterationDone</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Model model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> iteration, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> epoch)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (printIterations &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) printIterations = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (iteration % printIterations == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> score = model.score(); System.out.println(String.format( <span class="hljs-string"><span class="hljs-string">"{\"epoch\": %d, \"iteration\": %d, \"score (loss function)\": %f}"</span></span>, epoch, iteration, score) ); } }</code> </pre><br><h3> æ¨¡å‹è¯„ä¼° </h3><br> ä¸€æ—¦åœ¨ä¸Šä¸€æ­¥ä¸­æˆåŠŸåˆ›å»ºäº†æ¨¡å‹ï¼Œå°±åº”è¯¥å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚ æˆ‘ä»¬ä»¥ä¸ä»¥å‰ç›¸åŒçš„æ–¹å¼åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œï¼Œä½†æ˜¯è¿™æ¬¡é€‰æ‹©Run-dl4j-mnist-single-layer -valu-modelæ­¥éª¤ã€‚ åœ¨å¼€å§‹æ‰§è¡Œä¹‹å‰ï¼Œæˆ‘ä»¬å°†éœ€è¦å†æ¬¡é€‰æ‹©Javaåº”ç”¨ç¨‹åºï¼ˆMLPMnist-1.0.0.jarï¼‰å’Œåˆ›å»ºçš„æ¨¡å‹ï¼ˆmlpmnist-single-layer.pbï¼‰ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ï¼š <br><br><img src="https://habrastorage.org/webt/e9/_b/am/e9_bamnlhownoo40utziaqazg8e.png"><br><br> é€‰æ‹©æ‰€éœ€çš„æ¨¡å‹ä½œä¸ºè¾“å…¥åï¼Œå•å‡»[åˆ›å»ºæ‰§è¡Œ]æŒ‰é’®ã€‚ å®ƒçš„æ‰§è¡Œé€Ÿåº¦æ¯”ä¸Šä¸€ä¸ªè¦å¿«ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä»¥ä¸‹ç»“æœï¼š <br><br><img src="https://habrastorage.org/webt/gp/0i/co/gp0icomuurv7a0gt-niye5hyri4.png"><br><br> æˆ‘ä»¬çœ‹åˆ°ï¼Œâ€œ hello worldâ€å¯¼è‡´äº†ä¸€ä¸ªæ¨¡å‹ï¼Œæ ¹æ®æµ‹è¯•æ•°æ®é›†ï¼Œè¯¥æ¨¡å‹çš„å‡†ç¡®æ€§çº¦ä¸º97ï¼…ã€‚ æ··æ·†çŸ©é˜µæœ‰åŠ©äºæŸ¥æ‰¾å°†æŸä¸ªæ•°å­—é”™è¯¯åœ°é¢„æµ‹ä¸ºå¦ä¸€ä¸ªæ•°å­—çš„æƒ…å†µã€‚ <br><br> é—®é¢˜ä»ç„¶å­˜åœ¨ï¼ˆå¹¶ä¸”ä¸åœ¨æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ä¹‹å†…ï¼‰-å½“é¢å¯¹çœŸå®æ•°æ®æ—¶ï¼Œæ¨¡å‹çš„è´¨é‡å¦‚ä½•ï¼Ÿ <br><br> è¦å…‹éš†gitå­˜å‚¨åº“ï¼Œæ‚¨éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <br><br><pre> <code class="plaintext hljs"> $ git clone https://github.com/valohai/mlpmnist-dl4j-example</code> </pre><br> ç„¶åï¼Œæˆ‘ä»¬éœ€è¦å°†é€šè¿‡ä¸Šä¸€èŠ‚ä¸­çš„Webç•Œé¢åˆ›å»ºçš„Valohaié¡¹ç›®ä¸å­˜å‚¨åœ¨æœ¬åœ°è®¡ç®—æœºï¼ˆæˆ‘ä»¬åˆšåˆšå…‹éš†çš„è®¡ç®—æœºï¼‰ä¸Šçš„é¡¹ç›®é“¾æ¥ã€‚ è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ‰§è¡Œæ­¤æ“ä½œï¼š <br><br><pre> <code class="plaintext hljs">$ cd mlpmnist-dl4j-example $ vh project --help ### to see all the project-specific options we have for Valohai $ vh project link</code> </pre><br> æ‚¨å°†çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="plaintext hljs">[ 1] mlpmnist-single-layer ... Which project would you like to link with /path/to/mlpmnist-dl4j-example? Enter [n] to create a new project.:</code> </pre><br> é€‰æ‹©1ï¼ˆæˆ–é€‚åˆæ‚¨çš„é‚£ä¸ªï¼‰ï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹æ¶ˆæ¯ï¼š <br><br><pre> <code class="plaintext hljs">Success! Linked /path/to/mlpmnist-dl4j-example to mlpmnist-single-layer.</code> </pre><br> åœ¨ç»§ç»­ä¹‹å‰ï¼Œè¿˜è¦åšä¸€ä»¶äº‹ï¼Œé€šè¿‡æ‰§è¡Œä»¥ä¸‹æ“ä½œç¡®ä¿æ‚¨çš„Valohaié¡¹ç›®ä¸æœ€æ–°çš„gité¡¹ç›®åŒæ­¥ï¼š <br><br><pre> <code class="plaintext hljs"> $ vh project fetch</code> </pre><br><img src="https://habrastorage.org/webt/h0/l4/vb/h0l4vbe1eqis5kb9sd7gfslbozk.png"><br><br> ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä»CLIå®Œæˆæ­¥éª¤ï¼š <br><br><pre> <code class="plaintext hljs"> $ vh exec run Build-dl4j-mnist-single-layer-java-app</code> </pre><br> æ‰§è¡Œå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š <br><br><pre> <code class="plaintext hljs">$ vh exec info $ vh exec logs $ vh exec watch</code> </pre><br><h3> ç»“è®º </h3><br> å¦‚æˆ‘ä»¬æ‰€è§ï¼Œä¸DL4Jå’ŒValohaiä¸€èµ·å·¥ä½œéå¸¸æ–¹ä¾¿ã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å‘æ„æˆå®éªŒï¼ˆç ”ç©¶ï¼‰çš„å„ç§ç»„ä»¶ï¼Œå³æ„å»º/è¿è¡Œæ—¶ç¯å¢ƒï¼Œä»£ç å’Œæ•°æ®é›†ï¼Œå¹¶å°†å®ƒä»¬é›†æˆåˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ã€‚ <br><br> æœ¬æ–‡ä¸­ä½¿ç”¨çš„ç¤ºä¾‹æ¨¡æ¿æ˜¯å¼€å§‹åˆ›å»ºæ›´å¤æ‚é¡¹ç›®çš„å¥½æ–¹æ³•ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨Webæˆ–å‘½ä»¤è¡Œç•Œé¢æ¥ä¸Valohaiä¸€èµ·å·¥ä½œã€‚ ä½¿ç”¨CLIï¼Œæ‚¨è¿˜å¯ä»¥å°†å…¶ä¸å®‰è£…å’Œè„šæœ¬ï¼ˆç”šè‡³ä¸CRONæˆ–CI / CDä½œä¸šï¼‰é›†æˆã€‚ <br><br> å¦å¤–ï¼Œå¾ˆæ˜æ˜¾ï¼Œå¦‚æœæˆ‘æ­£åœ¨ä»äº‹ä¸AI / ML / DLç›¸å…³çš„é¡¹ç›®ï¼Œåˆ™ä¸å¿…æ‹…å¿ƒåˆ›å»ºå’Œç»´æŠ¤ç«¯åˆ°ç«¯ç®¡é“ï¼ˆè¿‡å»è®¸å¤šäººéƒ½å¿…é¡»è¿™æ ·åšï¼‰ã€‚ <br><br><h5> å‚è€ƒæ–‡çŒ® </h5><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Šçš„mlpmnist-dl4j-examplesé¡¹ç›®</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¾ˆæ£’çš„AI / ML / DLèµ„æº</a> </li><li>  <a href="">Java AI / ML / DLèµ„æº</a> </li><li>  <a href="">æ·±åº¦å­¦ä¹ å’ŒDL4Jèµ„æº</a> </li></ol><br> æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN469405/">https://habr.com/ru/post/zh-CN469405/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN469393/index.html">Flare-On 2019æŠ¥é“</a></li>
<li><a href="../zh-CN469395/index.html">åœ¨ä½•å¤„ä»¥åŠå¦‚ä½•ä½¿ç”¨å¤šåˆ—ï¼ˆCSSåˆ—ï¼‰</a></li>
<li><a href="../zh-CN469399/index.html">é˜¿å°”æ±‰æ ¼å°”æ–¯ç§‘è€¶åšç‰©é¦†é™„è¿‘çš„æ— çº¿ç½‘ç»œ</a></li>
<li><a href="../zh-CN469401/index.html">3CX WebMeetingæœåŠ¡æ›´æ–°ï¼ŒElastixåœ¨çº¿è½¬æ¢å™¨å’Œæ–°è§†é¢‘æ•™ç¨‹</a></li>
<li><a href="../zh-CN469403/index.html">æˆ‘ä»¬æ­£åœ¨é¢è¯•é«˜çº§è½¯ä»¶å¼€å‘äººå‘˜çš„èŒä½</a></li>
<li><a href="../zh-CN469407/index.html">ARIES PLC110 [M02] -MS4ï¼ŒHMIï¼ŒOPCå’ŒSCADAï¼Œæˆ–ä¸€ä¸ªäººéœ€è¦å¤šå°‘ç”˜èŠèŒ¶ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN469409/index.html">ä½¿ç”¨Performance Analyzerè¿›è¡ŒLinuxåˆ†æ</a></li>
<li><a href="../zh-CN469411/index.html">REï¼šç—›è‹¦å’Œçœ¼æ³ªåœ¨Svelte 3</a></li>
<li><a href="../zh-CN469413/index.html">ä¸Šå‘¨ç¬¬382æœŸï¼ˆ2019å¹´9æœˆ22æ—¥è‡³29æ—¥ï¼‰çš„å‰ç«¯ä¸–ç•Œæ‘˜è¦</a></li>
<li><a href="../zh-CN469415/index.html">æœ€å°çš„äº‹åŠ¡éš”ç¦»çº§åˆ«</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>