<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦉 🆔 🔂 Lassen Sie den ATM Alone-Wettbewerb an PHDays 8 🤹🏻 🤹 🔐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An den Positive Hack Days 8 fand erneut der gute alte Wettbewerb zum Hacken von Geldautomaten statt. Den Teilnehmern standen zwei Geldautomaten zur Ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lassen Sie den ATM Alone-Wettbewerb an PHDays 8</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/412735/">  An den Positive Hack Days 8 fand erneut der gute alte Wettbewerb zum Hacken von Geldautomaten statt.  Den Teilnehmern standen zwei Geldautomaten zur Verfügung, die Hardware wurde von unserem Bankensicherheitspartner Alfa-Bank zur Verfügung gestellt.  Speziell für den Wettbewerb haben wir Geldautomaten eingerichtet und Schwachstellen darin gelegt.  In 15 Minuten musste die Schutzausrüstung umgangen und Geld aus dem Gerät entnommen werden.  Der Preisfonds belief sich auf 40 000 ₽.  Ungefähr 40 Teilnehmer versuchten, die Verteidigung zu umgehen.  Leonid Krolle, Organisator des Wettbewerbs und Spezialist der Sicherheitsforschungsabteilung für Bankensysteme von Positive Technologies, erläuterte die Situation und analysierte die Aufgaben im Detail. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/lu/c9/cf/luc9cf7_e31tyqi6v7ejrodfxly.png"></a> <br><br>  <i>Lassen Sie ATM Alone Teilnehmer</i> <br><br>  Den Teilnehmern standen zwei Geldautomaten zur Verfügung.  Auf einem von ihnen ist eine Anwendungssteuerungssoftware unserer Partner installiert, die den Start nicht vertrauenswürdiger Anwendungen verhindert.  Sie können keine Anwendung ausführen, die Sie zum Abheben von Bargeld benötigen (Hallo, Cutlet Maker, BubbleMaker und Nemagiya!). <br><br>  Der zweite Geldautomat ist über das Netzwerk mit der Testverarbeitung verbunden, sodass Sie eine Bargeldabhebungsoperation durchführen können (die am Geldautomaten verfügbar ist).  Die Verarbeitung sendet jedoch ein Signal zur Ausgabe von der Kassette, in der sich kein Geld befindet.  Daher besteht die Aufgabe der Teilnehmer darin, die Verarbeitungsantwort zu ersetzen, um Geld von der richtigen Kassette auszugeben. <br><br>  Die Verbindungskabel vom Geldautomaten und der Testverarbeitung befinden sich außerhalb und können über ein Netzwerkkabel (LAN) mit ihnen verbunden werden. <br><br>  Die Spieler haben das gesamte vom System abgezogene Geld weggenommen. <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/vh/g8/io/vhg8iogibjgk2plut3n6lmlxywu.png"><br><br>  <i>Geldautomaten in zwei Tagen des Forums: Sie waren traurig und einsam</i> <br><br><h2>  Anwendungskontrolle </h2><br>  Es gibt verschiedene Möglichkeiten, um zu überprüfen, ob eine Anwendung mit einer bestimmten Whitelist übereinstimmt - von der Überprüfung des Pfads zur ausführbaren Datei oder ihres Hashs bis zur Analyse der digitalen Signatur und Erweiterung.  Tools zur Anwendungssteuerung werden am häufigsten verwendet, um zusätzlichen Schutz für Clientcomputer zu bieten (sie verbieten den Start von Software, die nicht von der Whitelist gestrichen wird) und um Sicherheit für isolierte Systeme wie Geldautomaten zu bieten, die keine ständigen Betriebsinterventionen implizieren. <br><br>  Wenn die schwarze Liste der zu blockierenden Erweiterungen mehr oder weniger universell ist und einfach zu konfigurieren ist, ist die weiße Liste der zulässigen Ausführungen standardmäßig redundant - sie enthält häufig alle Anwendungen des Betriebssystems zum Zeitpunkt der Konfiguration. <br><br>  In den letzten Jahren wurden viele Methoden beschrieben, um die Anwendungssteuerung mithilfe von Microsoft Windows-Tools zu umgehen (z. B. "rundll32", "regsvr32"), eine einfache Sperre, die den normalen Betrieb des Betriebssystems stört.  Daher ist die Feinabstimmung der Anwendungssteuerung eine komplexe und sorgfältige Arbeit, deren Ergebnis den Teilnehmern des Aufreißwettbewerbs übergeben wurde.  Beachten Sie, dass Angreifer in der realen Welt nicht so viel Zeit haben, um die Anwendungssteuerung zu umgehen. <br><br><h2>  Erster Wettkampftag </h2><br><img src="https://habrastorage.org/webt/xt/t6/f3/xtt6f3h0h1wgy5oy1ccte4rbqri.png"><br><br>  <i>Wahrheit des Lebens :)</i> <br><br>  Der Beginn des ersten Wettkampftages war geprägt von einem dichten Strom von Forumsteilnehmern, die versuchten, die Anwendungskontrolle zu umgehen und die Verarbeitungsantwort zu ersetzen - insgesamt mehr als 40 Personen. <br><br><img src="https://habrastorage.org/webt/yl/tq/96/yltq96ue_yjtqhenqxfjvzweoic.png"><br><br>  <i>Erste Teilnehmer</i> <br><br>  Insgesamt wurden 15 Minuten für die Umgehung des Schutzes an einem Geldautomaten mit Anwendungssteuerung eingeplant: Während dieser Zeit mussten Sie die Ausführung Ihres Codes verwalten.  Leider scheiterten am ersten Tag alle Versuche der Teilnehmer, ihren Exploit zu starten.  Einem Teilnehmer gelang es jedoch, ein seltsames Gerät zu finden, das an einem Geldautomaten installiert war.  Es war ein Skimmer - ein tragbarer Miniaturleser, der an einen Geldautomaten angeschlossen werden kann.  Solche Geräte helfen Betrügern, Bankkartendaten zu stehlen: Details, PIN-Code - alle Informationen, die auf dem Magnetstreifen aufgezeichnet sind. <br><br><img src="https://habrastorage.org/webt/sz/kd/sk/szkdskly0ge1n-elb3hiaz5d3ku.png"><br><br>  <i>Skimmer</i> <br><br>  Nach dem Erkennen des Skimmers mussten die Kartendaten daraus extrahiert werden: Während der Vorbereitung des Wettbewerbs schrieben die Organisatoren einen Dump einer nicht vorhandenen Karte mit einer bestimmten Nummer. <br><br><div class="spoiler">  <b class="spoiler_title">Lassen Sie uns ein wenig über die Vorbereitung eines Skimmers für einen Wettbewerb sprechen.</b> <div class="spoiler_text">  Der Skimmer besteht aus einem Magnetkopf zum Lesen und einem Gerät zum Aufzeichnen einer Audiospur (manchmal mit Wi-Fi oder Bluetooth).  Diese Instanz kann auf der Basis eines Explay-Player-Recorders oder eines ähnlichen USB-Voice-Recorders erstellt werden.  Beispiele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  In Bezug auf die Größe passen sie einfach in die Auflage des Anti-Skimmers und es ist immer noch Platz für eine Batterie, da Frankensteins Mini vorbereitet und wiederbelebt werden musste: Ein Leistungstest wurde an einem ähnlichen Gerät eines anderen Geldautomatenmodells durchgeführt.  Um Platz zu sparen, ist das USB-Port-Montagepad zugeschnitten, sodass ich den Adapter selbst herstellen musste. <br><br><img src="https://habrastorage.org/webt/e7/eu/ux/e7euux45y66_irhfyfm6te8sphy.png"><br><br>  <i>Adapter herstellen</i> <br><br>  Wir testeten die korrekte Aufnahme des Skimmer-Players gemäß den Anweisungen des Players aus dem Internet (es gab keine Zeichen auf den Tasten, da sie auf dem Gehäuse verblieben waren) und notierten die Karte und die Nummer, die die Teilnehmer vom Skimmer entfernen mussten. <br><br><img src="https://habrastorage.org/webt/vw/cc/o7/vwcco7dgqrukqqn6gvzkty9x-14.png"><br><br>  So sieht eine Karte mit Magnetpulver aus </div></div><br>  Informationen auf dem Magnetstreifen der Karte werden mithilfe der F / 2F-Frequenzcodierung (mit dem, was sie gegessen hat und wie sie decodiert werden kann - lesen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ) aufgezeichnet und repräsentieren alphanumerische Zeichen in 7-Bit-Codierung oder digitale Zeichen in 5-Bit-Codierung.  Zur Bestimmung von Lesefehlern werden Paritäts- und Längsredundanzprüfung (oder Längsstandby-Steuerung - LRC) verwendet. <br><br>  Daten auf einer beliebigen Spur müssen mit dem Start des Service-Symbols beginnen und mit dem Ende des Service-Symbols enden.  Diese Symbole werden so ausgewählt, dass Sie den Beginn eines Blocks nützlicher Informationen, die Richtung des Lesens der Karte und sogar das Codierungsformat der Informationen (5 Bit oder 7 Bit) bestimmen können. <br><br>  Steuerzeichen dienen zur Steuerung der Hardware und können nicht zur Übertragung von Informationen (Dateninhalten) verwendet werden.  Trennzeichen werden verwendet, um Datenfelder auf der Karte zu trennen. <br><br>  Bei einer 7-Bit-Codierung sind die Zeichen [\] für zusätzliche nationale Zeichen reserviert und sollten nicht im Rahmen des internationalen Informationsaustauschs verwendet werden. Das Zeichen # ist für beliebige zusätzliche grafische Zeichen reserviert. <br>  Hier ist ein Beispiel, wie es aussehen könnte: <br><br>  - Standard ISO 2 Track: <br><br>  <b>; XXXXXXXXXXXXXXXXX = JJJJJJJJJJJJJ? Z</b> - 37 Zeichen <br><br>  X ... X - Kartennummer, Z - LRC (Daten beginnen mit dem Startzeichen und enden mit dem Endzeichen, die Kartennummer ist 16-stellig, LRC ist vorhanden) <br><br><img src="https://habrastorage.org/webt/zt/l7/tm/ztl7tmpmtzjao3ulrofqqbnlv80.png"><br><br>  <i>Der Moment des Testens und Dumpings</i> <br><br>  Tatsächlich können Sie Daten vom Player in Form einer MP3-Datei kopieren, herausfinden, wo der Titel aufgenommen wurde, ihn im Audio-Editor vergrößern und Stück für Stück analysieren. Es gibt jedoch einfachere Methoden. <br><br>  Zum Beispiel: <br><br><ul><li>  SWipe ist eine Anwendung zum Lesen von Magnetstreifenkarten über einen Audioanschluss. </li><li>  Magnetstreifen-Decoder.  Ein Programm zum Dekodieren einer Magnetstreifenkarte, das die Rohdaten vom Magnetstreifen über die Soundkarte empfängt. </li></ul><br>  Mit ihnen können Sie die Audiospurdaten mehr oder weniger genau in ASCII (entschlüsselte Daten) konvertieren. <br><br>  Nach ungefähr einer Stunde wurden die Daten der im Skimmer aufgezeichneten Karte bereitgestellt.  Der Honoured Prize of Spectator Sympathy fand seinen Besitzer.  Herzlichen Glückwunsch an Maxim Vikhlyantsev! <br><br>  Der Rest der Teilnehmer kämpfte weiter um die Hauptpreise, die an die Geldautomaten hochgeladen wurden :) Jemand versuchte, die Verteidigung zu hacken, aber es gab diejenigen, die müde waren und die Hoffnung auf eine schnelle Bereicherung verloren hatten.  Trotzdem war der erste Tag stürmisch, obwohl der Hauptjackpot bei den Organisatoren blieb ... <br><br><img src="https://habrastorage.org/webt/a7/jv/qk/a7jvqksrhcpyx7mhu-l7uzuy1_m.png"><br><br><h2>  Zweiter Tag </h2><br><img src="https://habrastorage.org/webt/6t/st/ep/6tstepatpvygffsz1gjbyaxk6x0.png"><br><br>  <i>Blieb am hartnäckigsten</i> <br><br>  Am zweiten Tag des Wettbewerbs auf dem Feld für ATM-Hacking konnte man alle gleichen Teilnehmer beobachten.  Beharrlichkeit und Beharrlichkeit bei dem Versuch, einen Vektor zu finden, um den Schutz zu umgehen, blieben nicht umsonst, und hier - Stanislav Povolotsky umging die Verteidigung sicher und gewann durch die Ausführung eines nicht signierten Codes den Geldpreis am ersten Geldautomaten. <br><br><img src="https://habrastorage.org/webt/sn/9s/wd/sn9swddlya06o70a50iycymfvkg.png"><br><br>  <i>Demonstration eines erfolgreichen Jobs</i> <br><br>  Das Wesentliche des Netzwerkangriffs auf den zweiten Geldautomaten war wie folgt: Am Geldautomaten befand sich ein Laptop mit installierter Software, der die Verarbeitung emulierte. <br><br><img src="https://habrastorage.org/webt/c2/rk/_i/c2rk_ihnvcu7psjkghgf_srh6iw.png"><br><br>  <i>Emulator verarbeiten</i> <br><br>  Der Emulator wurde so konfiguriert, dass mit jeder eingelegten Karte ohne PIN-Code Geld ausgegeben wird. Die Kassette, deren Befehl der Emulator als Antwort auf die Anforderung gesendet hat, war jedoch leer.  Um dieses Problem zu lösen, war es notwendig: <br><br><ul><li>  das Antwortpaket des Verarbeitungsemulators abfangen; </li><li>  Zerlegen Sie die Verpackung und formen Sie Ihre eigene - nur mit der richtigen Patronennummer; </li><li>  Legen Sie eine Karte ein und antworten Sie beim Senden einer Anfrage zur Verarbeitung mit den geänderten Daten an den Geldautomaten. </li><li>  Führen Sie mit den Tools tcpdump, wireshark, scapy oder ettercap einen Wiederholungsangriff oder einen Spoofing-Angriff mit geänderten Daten durch, um auf den Geldautomaten zu reagieren. </li></ul><br>  tcpdump ist ein UNIX-Dienstprogramm mit einem Klon für Windows, mit dem Sie den Netzwerkverkehr abfangen und analysieren können, der über den Computer geleitet wird, auf dem dieses Programm ausgeführt wird. <br><br>  wireshark ist ein ähnliches Dienstprogramm mit einer grafischen Benutzeroberfläche, das nur "aufgeladener" ist. <br><br>  scapy ist eine interaktive Shell- und Softwarebibliothek zum Bearbeiten von Netzwerkpaketen in der Programmiersprache Python. <br><br>  ettercap ist ein Dienstprogramm zur Analyse des Netzwerkverkehrs über eine Computerschnittstelle, jedoch mit zusätzlichen Funktionen.  Mit dem Programm können Sie Angriffe wie "Mann in der Mitte" ausführen, um einen anderen Computer zu zwingen, Pakete nicht an den Router, sondern an den Angreifer zu übertragen. <br><br><img src="https://habrastorage.org/webt/4_/zf/gq/4_zfgqlxjev9u55wt0dz4tojhz0.png"><br><br>  <i>Eigentlich ändert sich nichts</i> <br><br>  Mit solch einem schwierigen Ansatz hatten die Teilnehmer Schwierigkeiten, aber sie haben sie überwunden.  Der Preis für die Fälschung der Antwort von der Verarbeitung am zweiten Geldautomaten ging an das Team - Information &amp; Public, Security Center und Usbekistan.  Mit dem, was wir ihnen gratulieren!  Die vollständige Liste der Gewinner finden Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Wettbewerbsseite</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412735/">https://habr.com/ru/post/de412735/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de412721/index.html">Drei Hoffnungen der Menschheit auf die Entdeckung von Außerirdischen</a></li>
<li><a href="../de412723/index.html">Auf der Suche nach einer neuen Milliarden-Dollar-Farbe</a></li>
<li><a href="../de412725/index.html">So machen Sie Ihre IT-Infrastruktur langweilig</a></li>
<li><a href="../de412727/index.html">Wie wähle ich ein Tool für das Prototyping im Jahr 2018 aus?</a></li>
<li><a href="../de412729/index.html">DSGVO. Ist es notwendig, es in Russland durchzuführen?</a></li>
<li><a href="../de412737/index.html">Schutz personenbezogener Daten von 3 Milliarden Menschen - Ähnlichkeiten und Unterschiede in der Gesetzgebung in den BRICS-Ländern</a></li>
<li><a href="../de412739/index.html">Schäferhund</a></li>
<li><a href="../de412741/index.html">Wie Sie aufhören können, Angst zu haben, dass künstliche Intelligenz Sie ohne Arbeit lässt</a></li>
<li><a href="../de412743/index.html">Beruf: Cyber ​​Detective</a></li>
<li><a href="../de412747/index.html">MIS. Speicherung medizinischer Daten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>