<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçü§ù‚Äçüë®üèø ü§• üòö Erstellen Sie mit dem Tilemap-System isometrische 2D-Ebenen ‚ôæ üåÅ ‚èØÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In Unity 2018.3 wurde die Unterst√ºtzung f√ºr isometrische Kachelkarten eingef√ºhrt, die den in Version 2018.2 hinzugef√ºgten Sechseckkachelkarten sehr √§h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie mit dem Tilemap-System isometrische 2D-Ebenen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469497/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/abe/6f3/004/abe6f3004d910b9ff91386b4bde99205.png" alt="Bild"></div><br>  In Unity 2018.3 wurde die Unterst√ºtzung f√ºr isometrische Kachelkarten eingef√ºhrt, die den in Version 2018.2 hinzugef√ºgten Sechseckkachelkarten sehr √§hnlich sind.  Mit den neuen Tilemap-Funktionen k√∂nnen Sie schnell und effizient 2D-Umgebungen erstellen, die auf den isometrischen und hexagonalen Gittern basieren, die in vielen klassischen Spielen verwendet wurden, einschlie√ülich der ersten Teile von Diablo und Fallout, Civilization, Age of Empires und vielen anderen. <br><br>  Beide Systeme basieren auf dem bereits vorhandenen Tilemap-System, das in Unity 2017.2 ver√∂ffentlicht wurde, und heute ist es genauso einfach, mit ihnen zu arbeiten!  Dar√ºber hinaus sind sie nativ in den Editor integriert.  In zuk√ºnftigen Versionen von Unity k√∂nnen sie auf den Paketmanager portiert werden. <br><br>  Wenn Sie mit diesen Systemen experimentieren m√∂chten, haben wir ein vorbereitetes Isometric Starter Kit-Projekt mit einem animierten Charakter und mehreren Umgebungskachels√§tzen erstellt.  Sie k√∂nnen es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">hier</a> herunterladen. <a name="habracut"></a><br><br><h2>  Projekteinstellungen f√ºr isometrische Tilemap </h2><br>  Bevor wir mit Tilemap beginnen, ist es wichtig, das Projekt korrekt einzurichten.  Isometrische Tilemap arbeitet mit zweidimensionalen Sprites und verwendet die richtige Sortierung des Renderings, um die Illusion einer isometrischen Karte mit einer Draufsicht zu erzeugen.  Wir m√ºssen daf√ºr sorgen, dass die Kacheln weiter vom Betrachter entfernt sind und zuerst die Kacheln dar√ºber liegen. <br><br>  Mit der Unity-Funktion Custom Custom Axis Sort k√∂nnen Sie die Renderreihenfolge von 2D-Objekten auf dem Bildschirm anpassen.  Dieser Parameter kann entweder f√ºr die Kamera (derzeit ist diese Methode Standard f√ºr Scriptable Render Pipelines, einschlie√ülich LWRP und HDRP) oder global auf Projektebene festgelegt werden. <br><br>  Um die benutzerdefinierte Achsensortierung auf Projektebene festzulegen, gehen Sie zu <i>Bearbeiten&gt; Projekteinstellungen&gt; Grafiken</i> .  Im Abschnitt Kameraeinstellungen sehen Sie das Dropdown-Men√º Transparenz-Sortiermodus sowie die X-, YZ-Wertoptionen f√ºr die Transparenz-Sortierachse. <br><br>  Standardm√§√üig setzt die Transparenz-Sortierachse die XYZ-Achsen auf (0, 0, 1).  Alle unsere 2D-Kacheln befinden sich jedoch tats√§chlich in derselben Z-Ebene. Um festzustellen, welche Kacheln sich vorne oder hinten befinden, m√ºssen Sie nicht die Tiefe, sondern die H√∂he verwenden.  Kacheln, die sich h√∂her auf dem Bildschirm befinden, werden nach niedrigeren Kacheln sortiert.  Um Kacheln nach H√∂he zu sortieren, √§ndern Sie den Wert f√ºr den Transparenz-Sortiermodus in Benutzerdefiniert und setzen Sie die Transparenz-Sortierachse auf (0, 1, 0). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/77f/fb4/5f7/77ffb45f77020bf6af96f3542964561a.png"></div><br>  Weitere Informationen zur Funktionsweise finden Sie auf der entsprechenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">Seite</a> zur 2D-Sortierung in der Unity-Dokumentation. <br><br>  In einigen F√§llen m√ºssen Sie m√∂glicherweise auch den Wert f√ºr die Transparenzsortierachse in Z √§ndern. Wir werden weiter unten darauf eingehen. <br><br><h2>  Kachelkartentypen </h2><br>  Das Tilemap-System besteht aus mehreren interagierenden Komponenten.  Die ersten beiden sind die Grid- und Tilemap-Spielobjekte.  Um ein Raster zu erstellen, klicken Sie einfach mit der rechten Maustaste auf eine beliebige Stelle in der Hierarchie, wechseln Sie zum 2D-Objekt und w√§hlen Sie den Typ der Tilemap aus, den Sie verwenden m√∂chten.  Standardm√§√üig wird jedes neue Raster mit einem untergeordneten Tilemap-Spielobjekt des entsprechenden Typs erstellt.  Derzeit gibt es folgende Arten von Tilemaps: <br><br>  <i>Tilemap</i> - <i>Erstellt</i> ein rechteckiges Raster und eine Tilemap.  Ein Beispiel f√ºr die Verwendung dieser Tilemap finden Sie im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">2D Game Kit</a> der Unity-Engine. <br><br>  <i>Top-Tilemap mit sechseckigem Punkt</i> - <i>Erstellt</i> ein Gitter und eine Tilemap aus Sechsecken, in denen einer der Eckpunkte jedes Sechsecks nach oben gerichtet ist. <br><br>  <i>Hexagonal Flat Top Tilemap</i> ist eine andere Art von Sechseckgitter, bei dem sich am oberen Rand des Sechsecks eine Fl√§che parallel zur Oberkante des Bildschirms befindet. <br><br>  Die letzten beiden Typen, <i>Isometrisch</i> und <i>Isometrisch Z als Y</i> , erstellen zwei verschiedene Implementierungen des isometrischen Gitters.  Der Unterschied zwischen ihnen tritt auf, wenn verschiedene Ebenen von Fliesenh√∂hen simuliert werden, beispielsweise wenn sich auf isometrischer Ebene eine hohe Plattform befindet. <br><br>  Wenn Sie separate Tilemap-Spielobjekte f√ºr jede Ebene der Kachelh√∂hen erstellen m√∂chten, ist es besser, den √ºblichen <i>isometrischen Tilemap-</i> Typ zu verwenden.  Dies vereinfacht das Erstellen automatischer Kollisionsformen, ist jedoch weniger flexibel, wenn mit H√∂hen zwischen Kacheln gearbeitet wird, da sich alle Kacheln auf derselben Ebene auf derselben ‚ÄûEbene‚Äú befinden sollten. <br><br>  Im Fall von <i>isometrischem Z als Y-Tilemap</i> arbeitet der Z-Positionswert jeder Kachel in Verbindung mit dem Parameter Transparenzachsensortierung, sodass die Kacheln √ºbereinander gestapelt erscheinen.  Beim Zeichnen auf einem Z als Y-Tilemap √§ndern wir dynamisch den Pinselparameter Z, um zwischen verschiedenen H√∂hen zu wechseln.  Um <i>Z korrekt als Y-Tilemap</i> zu rendern, ist ein zus√§tzlicher Z-Wert in der Transparenz-Sortierachse mit benutzerdefiniertem Modus erforderlich. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9a/5cb/677/b9a5cb6779c1984cb82aa805663e73af.gif"></div><br>  <i>Hinweis: Die in den Screenshots gezeigten Elemente stammen aus der Tempelkachel des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer"><i>Isometric Starter Kit-</i></a> Projekts.</i>  <i>Sie sind v√∂llig kostenlos, sodass Sie damit Ihre eigenen Umgebungen erstellen k√∂nnen!</i> <br><br>  Stellen Sie sich das Raster als eine ‚ÄûStaffelei‚Äú vor, auf der sich alle Tilemap-Spielobjekte befinden.  Und sie wiederum sind im Wesentlichen eine Leinwand, auf die wir Fliesen zeichnen werden.  Um mit dem Zeichnen auf Tilemap zu beginnen, ben√∂tigen wir au√üerdem einen Pinsel und eine Palette.  Alle Kachelelemente befinden sich in der Kachelpalette, aus der sie mit dem Pinselwerkzeug ausgew√§hlt und mit dem Zeichnen begonnen werden k√∂nnen. <br><br>  Um eine Kachelpalette zu erstellen, w√§hlen Sie Fenster&gt; 2D&gt; Kachelpalette.  W√§hlen Sie im Dropdown-Men√º oben links "Neue Palette erstellen".  Stellen Sie sicher, dass der entsprechende Maschentyp ausgew√§hlt ist.  In diesem Beispiel verwende ich die √ºbliche isometrische Tilemap sowie Assets aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">Isometric Starter Kit-</a> Projekt.  Wir geben Manual als Zellengr√∂√üe der Palette (Zellengr√∂√üe) an, um die Gr√∂√üe isometrischer Kacheln √§ndern zu k√∂nnen.  In diesem Fall wei√ü ich, dass die Gr√∂√üen meiner Kacheln einem Raster mit einer Zellengr√∂√üe von 1 x X und 0,5 x Y entsprechen.  Sie h√§ngen jedoch von der Aufl√∂sung ab, die beim Importieren der Pixelwerte pro Einheit und der Gr√∂√üe der Assets ausgew√§hlt wurde - tats√§chlich vom isometrischen Winkel, um den die Kacheln gedreht werden. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/673/805/79767380522e8028ecb0760888589d12.png"></div><br><h2>  Hinweis zum Importieren von Assets </h2><br>  M√∂glicherweise wissen Sie nicht, welche Importoptionen und Kachelkartengr√∂√üe f√ºr Ihr Verm√∂gen am besten geeignet sind.  Es gibt eine allgemeine Regel, die Sie befolgen k√∂nnen: Zuerst m√ºssen Sie die Aufl√∂sung der Kacheln betrachten.  In der Regel sind isometrische Kachelbl√∂cke gr√∂√üer als breit.  "Flache" Kacheln (die eher einer Ebene als einem W√ºrfel √§hneln) sind breiter als hoch.  Die Breite zwischen ihnen ist jedoch immer gleich.  Wenn Sie also m√∂chten, dass die Kacheln genau eine Ma√üeinheit f√ºr Unity belegen, setzen Sie die <i>Pixel pro Einheit</i> in den Kachelimporteinstellungen auf einen Wert, der ihrer Breite in Pixel entspricht.  In einigen F√§llen muss dieser Wert ge√§ndert werden, normalerweise in Richtung einer Verringerung (oder Erh√∂hung der Aufl√∂sung von Verm√∂genswerten).  Dies kann n√ºtzlich sein, wenn Sie einen Effekt wiederherstellen m√∂chten, bei dem einige Kacheln mehr als eine Gitterzelle zu belegen scheinen und benachbarte Kacheln √ºberlappen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/140/aba/539140abad90bb2fe03e911eed9c8675.gif"></div><br>  Um den korrekten Rasterwert f√ºr Kacheln durch Y zu bestimmen, nehmen Sie die H√∂he der Basis (oder des Scheitelpunkts) einer Kachel und dividieren Sie sie durch die Breite.  Dies gibt Ihnen einen Wert von Y relativ zu X, vorausgesetzt, X ist 1. Schauen wir uns einige Beispiele an: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/86a/5b8/234/86a5b823465588ce10010011b3ae2b85.png"></div><br>  In den f√ºr dieses Projekt verwendeten Pixel-Art-Assets sind alle Basiskacheln 32 Pixel hoch und 64 Pixel breit.  Daher ist die Gittergr√∂√üe in Y gleich 0,5.  Der zweite Block im Bild stammt aus dem Asset-Paket der Golden Skull Studios.  Sie k√∂nnen es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">hier sehen</a> .  Die Beispielkachel wurde reduziert, aber die urspr√ºnglichen Elemente sind 128 Pixel breit.  Die Basis der Kachel ist ungef√§hr 66 Pixel, was eine Gittergr√∂√üe Y von 66/128 ergibt, d. H. Ungef√§hr 0,515 Einheiten. <br><br><h2>  Der grundlegende Prozess der Arbeit mit Tilemap </h2><br>  Nachdem Sie sich f√ºr die richtige Gr√∂√üe des Gitters entschieden haben, f√ºgen Sie unserer Palette einige Kacheln hinzu.  Nehmen Sie einfach einen der Kachel-Sprites und ziehen Sie ihn in das Fenster Kachelpalette.  Dadurch wird das Kachel-Asset erstellt.  Es enth√§lt Informationen √ºber die Kachel selbst, z. B. die verwendeten Sprites, den Farbton und den Typ des generierten Colliders.  Wenn Sie detaillierte Informationen zur Palettenkachel ben√∂tigen, w√§hlen Sie das Auswahlwerkzeug (S) oben im Kachelpalettenfenster und klicken Sie auf diese Kachel.  Beachten Sie, dass der Inspektor sehen kann, auf welches Kachel-Asset er sich bezieht. <br><br>  Um eine neue Kachel mit Tilemap zu zeichnen, w√§hlen Sie das Pinselwerkzeug (B) und klicken Sie auf die Kachel in der Palette.  Danach k√∂nnen Sie mit der ausgew√§hlten Kachel im Szenenfenster zeichnen.  Es gibt andere Zeichenwerkzeuge wie Radiergummi (D), Kastenf√ºllung (U), Hochwasserf√ºllung (G) und Fliesenauswahl (I). <br><br>  Manchmal m√ºssen Sie die Position der Kacheln auf der Palette selbst √§ndern.  Direkt unter der Symbolleiste befindet sich eine Schaltfl√§che Bearbeiten.  Wenn Sie darauf klicken, wird der Palettenbearbeitungsmodus aktiviert, in dem die Werkzeuge die Kachelpalette selbst beeinflussen.  Vergessen Sie nicht, diesen Modus zu verlassen, nachdem Sie die erforderlichen √Ñnderungen vorgenommen haben. <br><br><h3>  Tilemap-Renderer-Modi </h3><br>  In einigen F√§llen werden Kacheln verschiedener Typen m√∂glicherweise nicht richtig sortiert, obwohl sie sich auf derselben Tilemap befinden, wie in diesem Beispiel: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ea/a2e/878/6eaa2e878effb4b905e7bb3e27a1bbe1.png"></div><br>  Dies wird durch den Parameter Mode der Tilemap Renderer-Komponente bestimmt.  Standardm√§√üig ist Mode Chunk. <br><br>  <i>Der Chunk-</i> Modus reduziert effektiv den Verbrauch von Tilemap-Assets.  Anstatt jede Kachel einzeln zu rendern, werden sie in einem Durchgang als gro√üer Block gerendert.  Dieser Modus hat jedoch zwei Hauptnachteile.  Erstens wird die dynamische Sortierung mit anderen 2D-Objekten in der Szene nicht unterst√ºtzt.  Dies bedeutet, dass die Tilemap im Chunk-Modus nicht dynamisch vor oder hinter anderen Objekten sortiert werden kann, z. B. Zeichen. Es ist jeweils nur das eine oder das andere sichtbar. Dies h√§ngt vom Parameter Reihenfolge in Ebene ab.  Es ist jedoch immer noch √§u√üerst effektiv bei der Optimierung des Spiels und kann zum Batch-Rendern gro√üer Gel√§ndefl√§chen verwendet werden. <br><br>  Dies erspart uns jedoch nicht das Problem der falschen Sortierung verschiedener Kacheln.  F√ºr das Batch-Rendering von Kacheln aus zwei oder mehr verschiedenen Sprites (z. B. Texturen) m√ºssen die Sprites zu einem einzigen Sprite Atlas-Asset kombiniert werden. <br><br>  Um einen Sprite-Atlas zu erstellen, w√§hlen Sie <i>Assets&gt; Erstellen&gt; Sprite-Atlas</i> .  Sprite Atlas enth√§lt eine Liste der <i>zu verpackenden Objekte</i> .  Ziehen Sie einfach alle Kacheln, die in Stapeln gerendert werden m√ºssen, per Drag &amp; Drop hinein und geben Sie die entsprechenden Importparameter an, die normalerweise mit den Parametern der einzelnen Sprites √ºbereinstimmen. <br><br>  Danach werden die Kacheln korrekt sortiert.  Sie sind jedoch nur im Spielmodus oder w√§hrend der Spielausf√ºhrung sichtbar. <br><br>  Daher ist es w√§hrend des Bearbeitungsprozesses besser, den <i>individuellen</i> Modus f√ºr Tilemap Renderer auszuw√§hlen.  In diesem Modus wird jedes Sprite separat sortiert.  Dies bedeutet, dass sie auch au√üerhalb des Wiedergabemodus korrekt gerendert werden, was beim Bearbeiten eines Levels sehr n√ºtzlich ist.  Nach Abschluss der Erstellung der Ebenenstruktur k√∂nnen Sie den Tilemap-Renderer-Modus jederzeit wieder auf Chunk umschalten. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/689/b8f/0e9/689b8f0e92a40d0f0093bb5f762999fa.png"></div><br>  Der individuelle Rendermodus ist auch n√ºtzlich, wenn Sie Objekte wie B√§ume, Objekte und h√∂here Grundst√ºcke hinzuf√ºgen m√ºssen, die dynamisch nach Zeichen oder untereinander sortiert werden sollen.  In diesem Beitrag aktivieren wir den Einzelmodus f√ºr alle Tilemap. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/268/978/3ef/2689783eff96afb9bc21905444f7f060.png"></div><br><h2>  Verwenden mehrerer Tilemap </h2><br>  Manchmal ist es erforderlich, mehrere Tilemap in einem Raster zu verwenden.  Bei isometrischer und hexagonaler Tilemap ist es hilfreich, die Ebene des Elements, das auf dem Raster oder den Kacheln ausgerichtet ist, die h√∂her als die erste Ebene erscheinen, zu erh√∂hen. <br><br>  Um eine weitere Tilemap mit dem Raster zu verbinden, klicken Sie mit der rechten Maustaste auf das Raster-Spielobjekt und erstellen Sie eine neue Tilemap des entsprechenden Typs. <br><br>  Um mit dem Zeichnen auf der neuen Tilemap zu beginnen, kehren Sie zum Fenster Kachelpalette zur√ºck und √§ndern Sie die aktive Tilemap unter der Hauptsymbolleiste. <br><br><h2>  Erh√∂hte Bereiche hinzuf√ºgen </h2><br>  Es gibt zwei M√∂glichkeiten, den Ebenen erh√∂hte Bereiche hinzuzuf√ºgen.  Die Auswahl der richtigen h√§ngt normalerweise von der Art der ausgew√§hlten Tilemap ab.  Wir werden jeden Fall betrachten. <br><br>  Dar√ºber hinaus haben wir ein kurzes Video zu diesem Thema vorbereitet, das diese Ans√§tze anhand der √ºblichen isometrischen Tilemap demonstriert und Kacheln Kollisionsbereiche hinzuf√ºgt.  Sehen Sie sich das Video an, wenn Sie beide M√∂glichkeiten kurz verstehen m√∂chten: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2DsKCJsEzSA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Verwenden einer regul√§ren isometrischen Tilemap </h3><br>  F√ºr die regul√§re isometrische Tilemap k√∂nnen Sie einfach eine neue Tilemap mit demselben Raster erstellen und der Reihenfolge in der Ebene einen h√∂heren Wert zuweisen.  Anschlie√üend k√∂nnen Sie den Parameter Kachelanker so √§ndern, dass die neue Ebene an einem h√∂heren Punkt im selben Raster verankert wird. <br><br>  In meiner Tilemap f√ºr X und Y der unteren Ebene ist der Kachelanker auf (0, 0) gesetzt.  Ich m√∂chte, dass die neue Ebene eine Einheit h√∂her gezeichnet wird, daher √§ndere ich den Ankerpunkt der neuen Tilemap auf (1, 1).  Ich werde auch die Reihenfolge in Ebene auf 1 setzen - eine mehr als die Basisebene. <br><br>  Jetzt k√∂nnen Sie die aktive Tilemap auf eine zweite H√∂henstufe √§ndern und mit dem Zeichnen beginnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c38/091/eb0/c38091eb0600f78c47de390d339ae8c3.gif"></div><br><br><h3>  Verwenden von Z als isometrische Y-Tilemap </h3><br>  Es kann manchmal n√ºtzlich sein, unterschiedliche H√∂hen mit einer einzigen Tilemap zu simulieren.  In einem solchen Fall k√∂nnen Z als Y Isometric Tilemap und Grid verwendet werden. <br><br>  Im Fall von Z als Y-Tilemap wirkt sich der Z-Wert jeder Kachel zus√§tzlich auf die Reihenfolge aus, in der die Kacheln gerendert werden.  Sie k√∂nnen den Wert von Z-Kacheln beim Zeichnen mit dem Pinselparameter Z-Position am unteren Rand der Kachelpalette (sowie mit den Tastenkombinationen "+" und "-") √§ndern: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a28/1ab/3f8/a281ab3f8dd22f84b274ddbb3bf40a81.png"></div><br>  Damit der Z-Wert korrekt beeinflusst und die Kacheln korrekt sortiert werden, m√ºssen Sie zum Wert f√ºr die benutzerdefinierte Achsensortierung zur√ºckkehren und den Z-Einfluss hinzuf√ºgen. Die hier verwendete Zahl steht in direktem Zusammenhang damit, wie Unity die Positionen der isometrischen Gitterzellen in Werte im Weltraum konvertiert. <br><br>  Beispielsweise hat ein Gitter mit Abmessungen gem√§√ü XYZ von (1, 0,5, 1) - Standard f√ºr Isometrie - einen Sortierwert entlang der Z-Achse von -0,26.  Wenn Sie daran interessiert sind, wie diese Zahl berechnet wird, oder wenn Sie ein Raster mit einer anderen Zellengr√∂√üe verwenden, lesen Sie weiter, um herauszufinden, wie Sie den richtigen Z-Wert f√ºr Ihren Fall finden. <br><br>  Durch Festlegen des richtigen Werts f√ºr die benutzerdefinierte Achsensortierung k√∂nnen Sie mit dem Zeichnen von Kacheln mit unterschiedlichen Z-Werten beginnen. Sie k√∂nnen auch die Inkremente konfigurieren, mit denen der Z-Wert die erh√∂hten Kacheln nach oben oder unten verschiebt, indem Sie die Z-Gr√∂√üe des Gitters √§ndern, die standardm√§√üig 1 ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4cf/1ce/9c2/4cf1ce9c2e97c429620b3e096349a9b0.gif"></div><br><h3>  Z-Wert-Berechnung </h3><br>  Es gibt eine allgemeine Formel, mit der der Z-Wert der Achsensortierung bestimmt werden kann.  Nehmen Sie zuerst die Gr√∂√üe Y des Gitters.  Wenn Sie sich noch nicht f√ºr die Gr√∂√üe von Y entschieden haben, lesen Sie den Hinweis zum Importieren von Assets oben.  Multiplizieren Sie diesen Wert mit -0,5 und subtrahieren Sie weitere 0,01. <br><br>  Nach dieser Formel ergibt ein Gitter mit einer Gr√∂√üe von (1, 0,5, 1) einen Sortierwert nach Z von -0,26.  Mit diesem Sortierwert werden die Kacheln eines beliebigen Gitters (1, 0,5, 1) korrekt sortiert. <br><br>  Wenn Sie mehr √ºber diesen Wert und √ºber Berechnungen erfahren m√∂chten, lesen Sie die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">Dokumentation</a> .  Es erkl√§rt ausf√ºhrlich die Arbeit von 2D-Renderern und was passiert, wenn isometrische Zellen in Weltraumwerte konvertiert werden. <br><br><h2>  Kollisionen hinzuf√ºgen </h2><br>  Nachdem wir einige der Kacheln √ºber die anderen gelegt haben, k√∂nnen wir mithilfe von Kollisionen die Bereiche steuern, die der Spieler erreichen kann, und die √úberg√§nge zwischen ihnen. <br><br>  Es gibt viele M√∂glichkeiten, Kollisionen hinzuzuf√ºgen, aber in unserem Fall ist es erforderlich, dass der Spieler entlang des Abhangs steigt und f√§llt, sodass es nicht so offensichtlich ist, welche Objekte Kollider haben sollten.  Mit der optionalen Tilemap k√∂nnen Konflikte manuell festgelegt werden. <br><br>  In diesem Projekt haben wir mehrere Sprites erstellt, die verschiedenen Formen entsprechen und Kollisionsbereiche definieren.  Wir k√∂nnen diese Formen auf der dritten Tilemap an Stellen zeichnen, an denen der Spieler nicht passen kann.  Zum Beispiel m√∂chten wir, dass ein Spieler einen Felsen nur entlang eines Abhangs besteigen kann und nicht direkt darauf. <br><br>  Wir k√∂nnen Tilemap Renderer auch einzigartiges Material hinzuf√ºgen, um Fliesen einen anderen Farbton zu verleihen und sie vom Rest des Levels zu unterscheiden. <br><br>  Durch Platzieren von Kollisionskacheln k√∂nnen Sie Tilemap-Kollisionen die Tilemap Collider-Komponente hinzuf√ºgen.  In diesem Fall werden f√ºr jede einzelne Kachel automatisch Kollider erstellt, die durch die Form des Sprites bestimmt werden. <br><br>  Um die Leistung zu optimieren, k√∂nnen Sie auch die Composite Collider 2D-Komponente hinzuf√ºgen und das Kontrollk√§stchen Verwendet von Composite f√ºr Tilemap Collider aktivieren.  Dadurch werden alle einzelnen Collider zu einer gro√üen Form zusammengefasst. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0a/37d/0d7/a0a37d0d790cdd5bcea7687004cf5d18.gif"></div><br><h2>  Elemente hinzuf√ºgen </h2><br>  Das Hinzuf√ºgen von Elementen zu einer Ebene ist ganz einfach.  Sie k√∂nnen Element-Sprites entweder manuell an einem beliebigen Punkt in der Szene platzieren oder Elemente an das Tilemap-Raster anh√§ngen und sie in separate Kacheln verwandeln.  W√§hlen Sie die f√ºr Sie am besten geeignete L√∂sung. <br><br>  In diesem Projekt haben wir mehrere B√§ume manuell auf der Ebene platziert.  B√§ume und Charaktere haben in der Ebene dieselbe Reihenfolge, sodass Sie den Charakter vor und hinter den B√§umen dynamisch sortieren k√∂nnen. <br><br>  Mit dem Collider k√∂nnen Sie den Punkt angeben, an dem sich der Spieler dem Baum n√§hern kann.  Dies kann auch auf verschiedene Arten erfolgen. <br><br>  Der erste wird im Video gezeigt - befestigen Sie einfach einen untergeordneten Collider am Objekt und √§ndern Sie seine Form nach Bedarf. <br><br>  Die zweite M√∂glichkeit besteht darin, die <i>benutzerdefinierte Physikform</i> f√ºr das Objekt im Sprite-Editor festzulegen.  Um den Sprite-Editor zu √∂ffnen, w√§hlen Sie das Sprite-Objekt aus und suchen Sie die Schaltfl√§che Sprite-Editor im Inspektor.  Wechseln Sie im Dropdown-Men√º oben links zum Editor f√ºr benutzerdefinierte Physikform.  Hier k√∂nnen Sie polygonale Formen erstellen, die die R√§nder des Colliders definieren.  Nachdem Sie das physische Formular festgelegt haben, k√∂nnen Sie die Polygon Collider-Komponente an das Objekt anh√§ngen. Diese entspricht diesem Formular. <br><br>  Wenn Sie in Tilemap Objekte als Kacheln verwenden, k√∂nnen Sie auch den Raster-Collider verwenden.  W√§hlen Sie das Kachel-Asset aus, das mit der Elementkachel √ºbereinstimmt (wenn Sie sich nicht erinnern, wo Sie es finden k√∂nnen, lesen Sie den Abschnitt "Grundlegender Tilemap-Prozess").  Sie sehen das Men√º Collider Type.  Standardm√§√üig ist ein Sprite als Typ festgelegt, dh der automatisch generierte Collider verwendet die oben erw√§hnte Physikform.  Wenn der Typ auf Raster eingestellt ist.  dann stimmt es immer genau mit der Form der Netzzelle √ºberein, an die das Element angeh√§ngt ist.  Vielleicht ist dies nicht der genaueste Weg, um Collider zu implementieren, aber f√ºr einige Arten von Spielen kann es n√ºtzlich sein. <br><br>  Um Collider f√ºr diese Kacheln zu verwenden, w√§hlen Sie die Tilemap mit Objekten aus und f√ºgen Sie die Tilemap Collider-Komponente hinzu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e3/98e/cc5/3e398ecc5b71b09f5179ce93956f1b9a.gif"></div><br><h2>  Verwenden von Regelkacheln </h2><br>  Regelkacheln sind √§u√üerst n√ºtzlich, um den Zeichenprozess mit Kacheln zu automatisieren.  Regelkachel funktioniert wie eine normale Kachel, verf√ºgt jedoch √ºber eine zus√§tzliche Liste von Kacheloptionen.     ()    ,         . <br><br> Rule Tiles ,          , ,     .           ,    ,      . <br><br>    Rule Tiles   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer"> 2D Extras</a> Unity  GitHub.           Tilemap,   . <br><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">Isometric Starter Kit</a>  Rule Tiles    .      ,    : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/186/ac1/31d/186ac131d5b332dd0e7091a71569ff48.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/eaf/d22/24aeafd227b8c539c6a4b077406d94b3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/966/48d/15d/96648d15de848c73803c614a1173cbd6.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a9/f3b/d11/4a9f3bd113e3763a58d63924542ba360.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80f/087/1a6/80f0871a6b4c0df7b40ecac46bba4ba1.png"></div><br><h2>   </h2><br> ,          Unity, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">  Isometric Starter kit</a>      !   ,        Tilemap  ,   . <br><br> ,   ,   ,     ,   Isometric Tilemap: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tywt9tOubEY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>       Unity  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">@castpixel</a> ;      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer"></a> .        2D-  Unity,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer"> - Learn</a> .          ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener noreferrer">Unity Asset Store</a> . <br><br>      Tilemap?       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a>  Unity Learn. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de469497/">https://habr.com/ru/post/de469497/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de469477/index.html">Apple ist an der Zeit, den Vergleich von iPad und PC einzustellen</a></li>
<li><a href="../de469479/index.html">Woher kommt die Quantenwahrscheinlichkeit?</a></li>
<li><a href="../de469491/index.html">Interaktion mit dem Asterisk-Server √ºber eine Java-Anwendung</a></li>
<li><a href="../de469493/index.html">Machen Sie C ++ wieder gro√üartig! .. in Tula</a></li>
<li><a href="../de469495/index.html">Neue Ans√§tze zum Aufbau von ACS mithilfe von WEB-Technologien</a></li>
<li><a href="../de469499/index.html">Wie wir bei Parallels es geschafft haben, uns bei Apple anzumelden</a></li>
<li><a href="../de469503/index.html">Cybersicherheit: Wir sch√ºtzen Teilnehmerdaten 2019 vor Lecks</a></li>
<li><a href="../de469505/index.html">3 praktische M√∂glichkeiten, um Gesch√§fte auf ausl√§ndische M√§rkte zu bringen: Ans√§tze und Techniken realer Unternehmen</a></li>
<li><a href="../de469507/index.html">Dritte Steam Windows Client-Sicherheitsanf√§lligkeit, jedoch nicht 0day</a></li>
<li><a href="../de469509/index.html">Winkelschemata oder wie ich meine Vorlage f√ºr Winkelkli geschrieben habe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>