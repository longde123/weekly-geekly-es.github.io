<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õ≥Ô∏è ‚öæÔ∏è üà∂ Guia do Node.js, parte 2: JavaScript, V8, alguns truques de desenvolvimento üë©üèø‚Äçü§ù‚Äçüë©üèΩ üêñ üë®‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao publicar a primeira parte da tradu√ß√£o deste guia no Node.js, decidimos descobrir a opini√£o do p√∫blico sobre se devemos continuar trabalhando no pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guia do Node.js, parte 2: JavaScript, V8, alguns truques de desenvolvimento</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/423153/">  Ao publicar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte da</a> tradu√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">deste</a> guia no Node.js, decidimos descobrir a opini√£o do p√∫blico sobre se devemos continuar trabalhando no projeto e realizamos uma pequena pesquisa.  Como se viu, aproximadamente 94% dos que votaram apoiaram nossa iniciativa.  Portanto, conhe√ßa a segunda parte do tutorial Node.js. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br>  Hoje, falaremos sobre o tipo de conhecimento de JS que voc√™ precisa ter para desenvolver aplicativos com efici√™ncia na plataforma Node.js. discutiremos as diferen√ßas entre o c√≥digo JavaScript do navegador e o servidor e falaremos sobre os mecanismos JS e algumas t√©cnicas de desenvolvimento do Node.js. <br><br><div class="spoiler">  <b class="spoiler_title">[Aconselhamos a ler] Outras partes do ciclo</b> <div class="spoiler_text">  Parte 1: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Informa√ß√µes gerais e introdu√ß√£o</a> <br>  Parte 2: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JavaScript, V8, alguns truques de desenvolvimento</a> <br>  Parte 3: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hospedagem, REPL, trabalho com o console, m√≥dulos</a> <br>  Parte 4: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">arquivos npm, package.json e package-lock.json</a> <br>  Parte 5: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm e npx</a> <br>  Parte 6: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">loop de eventos, pilha de chamadas, temporizadores</a> <br>  Parte 7: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Programa√ß√£o ass√≠ncrona</a> <br>  Parte 8: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia Node.js, Parte 8: Protocolos HTTP e WebSocket</a> <br>  Parte 9: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia Node.js, parte 9: trabalhando com o sistema de arquivos</a> <br>  Parte 10: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Guia do Node.js, Parte 10: M√≥dulos padr√£o, fluxos, bancos de dados, NODE_ENV</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PDF completo do Guia Node.js.</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Que tipo de conhecimento de JS eu preciso para o desenvolvimento do Node.js.</font> </h2><br>  Suponha que voc√™ acabou de come√ßar a programar.  Qual a profundidade necess√°ria para aprender JavaScript para dominar o Node.js com √™xito?  √â dif√≠cil para um iniciante atingir esse n√≠vel quando ganha confian√ßa suficiente em suas habilidades profissionais.  Al√©m disso, ao estudar programa√ß√£o, voc√™ pode achar que n√£o entende exatamente onde o JavaScript do navegador termina e o desenvolvimento do Node.js. come√ßa. <br><br>  Se voc√™ est√° no come√ßo do caminho de um programador JavaScript, aconselho voc√™, antes de escrever para o Node.js, a dominar bem os seguintes conceitos de linguagem: <br><br><ul><li>  Constru√ß√µes lexicais. </li><li>  Express√µes. </li><li>  Tipos. </li><li>  Vari√°veis </li><li>  Fun√ß√µes </li><li>  Esta palavra-chave. </li><li>  Fun√ß√µes de seta </li><li>  Ciclos </li><li>  Escopos. </li><li>  Matrizes </li><li>  Sequ√™ncias de modelos. </li><li>  Aplique um ponto e v√≠rgula. </li><li>  Trabalhe em modo estrito. </li></ul><br>  De fato, esta lista continua, mas se voc√™ dominar tudo, significa que voc√™ estabelecer√° uma boa base para o desenvolvimento produtivo de clientes e servidores em JavaScript. <br>  Os seguintes conceitos de linguagem tamb√©m s√£o muito importantes para entender as id√©ias de programa√ß√£o ass√≠ncrona, que s√£o uma das partes b√°sicas do Node.js.  Em particular, estamos falando sobre o seguinte: <br><br><ul><li>  Programa√ß√£o ass√≠ncrona e fun√ß√µes de retorno de chamada. </li><li>  Temporizadores. </li><li>  Promessas. </li><li>  Constru√ß√£o ass√≠ncrona / aguardada. </li><li>  Curto-circuito. </li><li>  Ciclo de eventos. </li></ul><br>  Existem muitos materiais JavaScript que permitem que os iniciantes aprendam o idioma.  Por exemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui est√°</a> o curso de treinamento do autor para este guia, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui est√° uma</a> se√ß√£o muito √∫til do MDN, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui est√° o</a> tutorial para javascript.ru.  Voc√™ pode aprender mecanismos b√°sicos de JavaScript em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">freecodecamp.com</a> . <br><br>  Acima, falamos sobre como os iniciantes podem se preocupar com a quest√£o de onde est√° o limite entre o desenvolvimento do JavaScript do servidor e do cliente.  Vamos conversar sobre isso. <br><br><h2>  <font color="#3AC1EF">Diferen√ßas entre a plataforma Node.js e o navegador</font> </h2><br>  Como o desenvolvimento JS para Node.js √© diferente da programa√ß√£o do navegador?  A semelhan√ßa entre esses ambientes √© que a mesma linguagem √© usada l√° e ali.  Mas o desenvolvimento de aplicativos projetados para serem executados em um navegador √© muito diferente do desenvolvimento de aplicativos de servidor.  Apesar de usar a mesma linguagem, existem algumas diferen√ßas importantes que transformam esses dois tipos de desenvolvimento em atividades completamente diferentes. <br><br>  Deve-se notar que, se algu√©m que costumava fazer o trabalho de front-end come√ßa a aprender o Node.js., ele tem uma oportunidade muito s√©ria de dominar rapidamente tudo o que √© necess√°rio, devido ao fato de escrever em um idioma que j√° conhece.  Se a necessidade de aprender um novo ambiente for adicionada e a necessidade de aprender um novo idioma, a tarefa ser√° muito mais complicada. <br>  Portanto, a principal diferen√ßa entre o cliente e o servidor √© o ambiente para o qual voc√™ deve programar, nos ecossistemas desses ambientes. <br><br>  No navegador, a maior parte do trabalho recai sobre v√°rias opera√ß√µes com documentos da web por meio do DOM, bem como o uso de outras APIs da plataforma da web, como, por exemplo, mecanismos para trabalhar com cookies.  O Node.js, √© claro, tem tudo isso.  N√£o h√° objeto de <code>document</code> , objeto de <code>window</code> e outros objetos fornecidos pelo navegador. <br><br>  O navegador, por sua vez, n√£o possui os mecanismos de software dispon√≠veis no ambiente Node.js. e existe na forma de m√≥dulos que podem ser conectados ao aplicativo.  Por exemplo, esta √© uma API para acessar o sistema de arquivos. <br><br>  Outra diferen√ßa entre o desenvolvimento de clientes e servidores em JS √© que, ao trabalhar em um ambiente Node.js., o desenvolvedor tem controle total sobre o ambiente.  A menos que voc√™ esteja desenvolvendo um aplicativo de c√≥digo aberto que possa ser executado em qualquer lugar, voc√™ sabe exatamente, por exemplo, em qual vers√£o do Node.js o seu projeto trabalhar√°.  Isso √© muito conveniente se comparado ao ambiente do cliente em que seu c√≥digo precisa funcionar no navegador do usu√°rio.  Al√©m disso, isso significa que voc√™ pode, sem medo de problemas, usar os recursos mais recentes do idioma. <br><br>  Como o JavaScript est√° se desenvolvendo extremamente r√°pido, os navegadores simplesmente n√£o t√™m tempo suficiente para implementar rapidamente todas as suas inova√ß√µes.  Al√©m disso, nem todos os usu√°rios trabalham nas vers√µes mais recentes dos navegadores.  Como resultado, os desenvolvedores que desejam usar algo novo em seus programas s√£o for√ßados a levar isso em conta, cuidar da compatibilidade de seus aplicativos com os navegadores que usam, o que pode resultar na necessidade de abandonar os recursos modernos do JavaScript.  Obviamente, √© poss√≠vel usar o transportador Babel para converter o c√≥digo em um formato compat√≠vel com o padr√£o EcmaScript 5, suportado por todos os navegadores, mas voc√™ n√£o precisar√° disso ao trabalhar com o Node.js. <br><br>  Outra diferen√ßa entre o Node.js e os navegadores √© que o Node.js usa o sistema do m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CommonJS</a> , enquanto nos navegadores voc√™ pode ver o in√≠cio da implementa√ß√£o do padr√£o ES Modules.  Na pr√°tica, isso significa que atualmente no Node.js., a constru√ß√£o <code>require()</code> √© usada para conectar c√≥digo externo e <code>import</code> no c√≥digo do navegador. <br><br><h2>  <font color="#3AC1EF">V8 e outros mecanismos JavaScript</font> </h2><br>  V8 √© o nome do mecanismo JavaScript usado no navegador Google Chrome.  √â ele quem √© respons√°vel pela execu√ß√£o do c√≥digo JavaScript, que entra no navegador quando se trabalha na Internet.  V8 fornece um tempo de execu√ß√£o para JavaScript.  O DOM e outras APIs da plataforma da web s√£o fornecidas pelo navegador. <br><br>  O mecanismo JS √© independente do navegador em que √© executado.  √â esse fato que possibilitou o surgimento e o desenvolvimento da plataforma Node.js.  O V8 foi escolhido como o mecanismo para o Node.js em 2009.  Como resultado do crescimento explosivo da popularidade, o Node.js V8 acabou sendo um mecanismo que agora √© respons√°vel por executar uma enorme quantidade de c√≥digo JS do lado do servidor. <br><br>  O ecossistema do Node.js √© enorme.  Gra√ßas a isso, o V8 tamb√©m √© usado, atrav√©s de projetos como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Electron</a> , para desenvolver aplicativos de desktop. <br><br>  Note-se que, al√©m do V8, existem outros mecanismos: <br><br><ul><li>  O Firefox usa o mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SpiderMonkey</a> . </li><li>  O Safari usa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JavaScriptCore</a> (tamb√©m chamado Nitro). </li><li>  O Edge usa o mecanismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Chakra</a> . </li></ul><br>  A lista de mecanismos JS n√£o se limita a isso. <br><br>  Esses mecanismos implementam a especifica√ß√£o ECMA-262, tamb√©m chamada de ECMAScript.  √â essa especifica√ß√£o que padroniza o JavaScript.  A vers√£o mais recente do padr√£o pode ser encontrada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br><h3>  <font color="#3AC1EF">Desenvolvimento do motor SJS e aspira√ß√£o de desempenho</font> </h3><br>  O mecanismo V8 √© escrito em C ++, sendo constantemente aprimorado.  Pode ser executado em muitos sistemas, particularmente Mac, Windows e Linux.  Aqui n√£o falaremos sobre os detalhes da implementa√ß√£o do V8.  Informa√ß√µes sobre eles podem ser encontradas em outras publica√ß√µes, inclusive no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">site oficial da V8</a> .  Eles mudam com o tempo, √†s vezes muito a s√©rio. <br><br>  V8 est√° em constante evolu√ß√£o, o mesmo pode ser dito de outros motores.  Isso leva, em particular, a um aumento no desempenho dos navegadores da web e da plataforma Node.js.  Os fabricantes de motores de navegadores est√£o constantemente competindo, lutando pela velocidade de execu√ß√£o do c√≥digo, isso ocorre h√° muitos anos.  Tudo isso √© ben√©fico para usu√°rios e programadores. <br><br><h3>  <font color="#3AC1EF">‚ñç Interpreta√ß√£o e compila√ß√£o</font> </h3><br>  O JavaScript √© considerado uma linguagem interpretada, mas os mecanismos modernos est√£o longe de interpretar apenas o c√≥digo JS.  Eles o compilam.  Essa tend√™ncia pode ser observada desde 2009, quando o compilador JavaScript foi adicionado no Firefox 3.5, ap√≥s o qual outros fabricantes de mecanismos e navegadores adotaram essa id√©ia. <br><br>  V8 compila JavaScript para melhorar o desempenho do c√≥digo.  Desde o advento do Google Maps em 2004, o JavaScript evoluiu, evoluiu de uma linguagem na qual, para implementar os recursos interativos de aplicativos da Web, eles geralmente escreviam algumas dezenas de linhas, em uma linguagem na qual os aplicativos de navegador compostos por milhares ou mesmo centenas s√£o escritos. mil linhas de c√≥digo.  Esses aplicativos podem ser executados por horas no navegador, o que √© muito diferente dos antigos cen√°rios de uso de JS, o c√≥digo no qual, por exemplo, s√≥ poderia ser usado para verificar a corre√ß√£o dos dados inseridos nos formul√°rios.  Em condi√ß√µes modernas, compilar o c√≥digo faz muito sentido, porque, embora a execu√ß√£o dessa etapa possa atrasar o momento em que o c√≥digo √© lan√ßado, ap√≥s a compila√ß√£o, o c√≥digo √© muito mais produtivo do que aquele que seria processado exclusivamente pelo int√©rprete e funcionaria mais r√°pido, mas funcionaria mais lentamente. <br><br>  Agora, tendo discutido algumas disposi√ß√µes sobre mecanismos JS, interpreta√ß√£o e compila√ß√£o de c√≥digo, vamos continuar praticando.  Ou seja, vamos falar sobre como desligar os aplicativos Node.js. <br><br><h2>  <font color="#3AC1EF">Saindo do aplicativo Node.js.</font> </h2><br>  Existem v√°rias maneiras de desligar os aplicativos Node.js. <br><br>  Portanto, ao executar um programa no console, voc√™ pode finalizar seu trabalho usando o atalho de teclado <code>ctrl+c</code> .  Mas estamos mais interessados ‚Äã‚Äãem m√©todos de software para desligar aplicativos.  E come√ßaremos, talvez, com o comando mais rude para sair do programa, o que, como voc√™ agora entender√°, √© melhor n√£o us√°-lo. <br><br>  O m√≥dulo de <code>process</code> kernel fornece um m√©todo conveniente que permite sair programaticamente de um aplicativo Node.js.  √â assim: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>()</code> </pre> <br>  Quando o Node.js encontra esse comando no c√≥digo, isso leva ao fato de que seu processo termina instantaneamente.  Isso significa que absolutamente tudo o que o programa fez ser√° bastante rude e incondicionalmente interrompido.  Estamos falando de retornos de chamada n√£o convidados, sobre solicita√ß√µes de rede sendo executadas no momento do lan√ßamento, sobre a√ß√µes com arquivos, sobre opera√ß√µes de grava√ß√£o em <code>stdout</code> ou <code>stderr</code> . <br><br>  Se essa situa√ß√£o lhe convier, voc√™ pode usar este m√©todo.  Quando voc√™ o chama, pode transmitir um n√∫mero inteiro que ser√° percebido pelo sistema operacional como o c√≥digo de sa√≠da do programa. <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  Por padr√£o, esse c√≥digo √© definido como 0, o que significa conclus√£o bem-sucedida.  Outros c√≥digos de sa√≠da t√™m significados diferentes, que podem ser √∫teis para us√°-los em seu pr√≥prio sistema para estabelecer a intera√ß√£o de alguns programas com outros. <br>  Detalhes sobre os c√≥digos de desligamento do programa podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Voc√™ tamb√©m pode atribuir um c√≥digo de sa√≠da √† propriedade <code>process.exitCode</code> .  √â assim: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.exitCode = <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Ap√≥s o t√©rmino do programa, o Node.js retornar√° esse c√≥digo ao sistema. <br><br>  Deve-se notar que o trabalho do programa terminar√° naturalmente por si s√≥ depois de executar todas as a√ß√µes especificadas nele.  No entanto, no caso do Node.js, geralmente existem programas que, em condi√ß√µes ideais, s√£o projetados para funcionar por tempo indeterminado.  Estamos falando, por exemplo, sobre servidores HTTP como este: <br><br><pre> <code class="hljs coffeescript">const express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) const app = express() app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req, res)</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.send(<span class="hljs-string"><span class="hljs-string">'Hi!'</span></span>) }) app.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Server ready'</span></span>))</code> </pre> <br>  Tal programa, se nada acontecer, em teoria, pode funcionar para sempre.  Nesse caso, se voc√™ chamar <code>process.exit()</code> , as opera√ß√µes executadas por ele no momento da chamada deste comando ser√£o interrompidas.  E isso √© ruim. <br><br>  Para concluir o trabalho de tais programas, voc√™ precisa usar o sinal <code>SIGTERM</code> e executar as a√ß√µes necess√°rias usando o manipulador apropriado. <br><br>  Observe que, para usar o objeto de <code>process</code> , voc√™ n√£o precisa conectar nada usando o <code>require</code> , pois esse objeto est√° dispon√≠vel para aplicativos Node.js. por padr√£o. <br><br>  Considere o seguinte exemplo: <br><br><pre> <code class="hljs coffeescript">const express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) const app = express() app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(req, res)</span></span></span><span class="hljs-function"> =&gt;</span></span> { res.send(<span class="hljs-string"><span class="hljs-string">'Hi!'</span></span>) }) app.listen(<span class="hljs-number"><span class="hljs-number">3000</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Server ready'</span></span>)) process.<span class="hljs-literal"><span class="hljs-literal">on</span></span>(<span class="hljs-string"><span class="hljs-string">'SIGTERM'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { app.close(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Process terminated'</span></span>) }) })</code> </pre> <br>  O que s√£o sinais?  Sinais s√£o um meio de intera√ß√£o entre processos no padr√£o POSIX (Interface do sistema operacional port√°til).  S√£o notifica√ß√µes enviadas ao processo para inform√°-lo sobre determinados eventos. <br><br>  Por exemplo, um sinal <code>SIGKILL</code> informa ao processo que ele precisa ser desligado imediatamente.  Idealmente, funciona exatamente como <code>process.exit()</code> . <br><br>  O sinal <code>SIGTERM</code> informa ao processo que ele precisa executar um procedimento normal de desligamento.  Esses sinais s√£o enviados por gerentes de processo, como <code>upstart</code> ou <code>supervisord</code> , e por muitos outros. <br><br>  Voc√™ pode enviar esse sinal a partir do pr√≥prio programa, usando o seguinte comando: <br><br><pre> <code class="hljs vhdl"><span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.kill(<span class="hljs-keyword"><span class="hljs-keyword">process</span></span>.pid, <span class="hljs-symbol"><span class="hljs-symbol">'SIGTERM</span></span>')</code> </pre> <br>  Para concluir com √™xito esse comando, voc√™ precisa conhecer o <code>PID</code> processo que planeja concluir. <br><br><h2>  <font color="#3AC1EF">Lendo vari√°veis ‚Äã‚Äãde ambiente do Node.js</font> </h2><br>  O m√≥dulo do kernel do <code>process</code> possui a propriedade <code>env</code> , que fornece acesso a todas as vari√°veis ‚Äã‚Äãde ambiente definidas no momento em que o processo foi iniciado. <br><br>  Aqui est√° um exemplo de trabalho com a vari√°vel de ambiente <code>NODE_ENV</code> , que, por padr√£o, est√° configurada para <code>development</code> : <br><br><pre> <code class="hljs mel">process.<span class="hljs-keyword"><span class="hljs-keyword">env</span></span>.NODE_ENV <span class="hljs-comment"><span class="hljs-comment">// "development"</span></span></code> </pre> <br>  Se, antes de executar o script, defina-o como <code>production</code> , isso indicar√° ao Node.js que o programa est√° sendo executado em um ambiente de produ√ß√£o. <br><br>  Da mesma forma, voc√™ pode trabalhar com outras vari√°veis ‚Äã‚Äãde ambiente, por exemplo, aquelas que voc√™ mesmo definiu. <br><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  Hoje, abordamos quest√µes de programa√ß√£o de navegadores e servidores em JavaScript, conversamos sobre mecanismos JS, como desligar aplicativos de servidor e como ler vari√°veis ‚Äã‚Äãde ambiente dos programas Node.js.  Da pr√≥xima vez, falaremos sobre hospedagem para aplicativos Node.js., como usar o Node.js. no modo REPL, como trabalhar com argumentos que podem ser passados ‚Äã‚Äãpara scripts quando chamados, como interagir com o console e como projetar o c√≥digo como m√≥dulos. <br><br>  <b>Caros leitores!</b>  Quais tutoriais de JavaScript voc√™ recomendaria para iniciantes? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423153/">https://habr.com/ru/post/pt423153/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423143/index.html">October Slerm: Intensivo em Kubernetes</a></li>
<li><a href="../pt423145/index.html">Extens√£o PHP e Kotlin Native. Parte tr√™s, provavelmente final</a></li>
<li><a href="../pt423147/index.html">Sobre a estrat√©gia e o formato de armazenamento na era Hadoop</a></li>
<li><a href="../pt423149/index.html">Compara√ß√£o direta dos m√©todos de corre√ß√£o da miopia a laser ou o que voc√™ paga ao escolher o ReLEx SMILE</a></li>
<li><a href="../pt423151/index.html">Objetos globais em PHP</a></li>
<li><a href="../pt423155/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 8: Modelo de Seguran√ßa de Rede, Parte 2</a></li>
<li><a href="../pt423157/index.html">Usando a fun√ß√£o connect () do react-redux</a></li>
<li><a href="../pt423159/index.html">Feliz dia do programador! Ame seus desenvolvedores</a></li>
<li><a href="../pt423161/index.html">As empresas querem dados pessoais</a></li>
<li><a href="../pt423163/index.html">Conectando o CryptoPro ao Mono</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>