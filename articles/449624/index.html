<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§° üèÇüèæ ‚§µÔ∏è C√≥mo y por qu√© leer hojas de datos, si los microcontroladores son su pasatiempo üßëüèø üöµüèº ü§ûüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La microelectr√≥nica es un pasatiempo de moda de los √∫ltimos a√±os gracias al m√°gico Arduino. Pero el problema es que, con el debido inter√©s, DigitalWri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo y por qu√© leer hojas de datos, si los microcontroladores son su pasatiempo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/449624/"><p><img src="https://habrastorage.org/webt/lz/ke/ze/lzkeze5cavhgmz6vvghudf67boa.jpeg"></p><br><p>  La microelectr√≥nica es un pasatiempo de moda de los √∫ltimos a√±os gracias al m√°gico Arduino.  Pero el problema es que, con el debido inter√©s, DigitalWrite () puede superar r√°pidamente, pero lo que debe hacer a continuaci√≥n no est√° del todo claro.  Los desarrolladores de Arduino hicieron muchos esfuerzos para reducir el umbral de entrada a su ecosistema, pero fuera de √©l todav√≠a hay un bosque oscuro de circuitos duros, inaccesible para un aficionado. </p><br><p>  Por ejemplo, hojas de datos.  Parece que lo tienen todo, t√≥malo y √∫salo.  Pero solo sus autores claramente no se plantean la tarea de popularizar los microcontroladores;  a veces <em>parece</em> que abusan intencionalmente de t√©rminos oscuros y abreviaturas cuando describen cosas simples para confundir a los no iniciados tanto como sea posible.  Pero no todo es tan malo, si lo desea, el cofre se abre. </p><br><p>  En este art√≠culo, compartir√© la experiencia de comunicar humanidades con hojas de datos con fines de pasatiempo.  El texto est√° destinado a los fan√°ticos de los pantalones Arduino que han surgido de los pantalones Arduino. Proporciona una idea de c√≥mo funcionan los microcontroladores. </p><a name="habracut"></a><br><p>  Comenzar√© con lo tradicional </p><br><h3 id="migaem-svetodiodom-na-arduino">  LED parpadeante en Arduino </h3><br><p>  E inmediatamente el c√≥digo: </p><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ DDRB |= (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;<span class="hljs-number"><span class="hljs-number">5</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ PINB = (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;<span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> k=<span class="hljs-number"><span class="hljs-number">0</span></span>; k&lt;<span class="hljs-number"><span class="hljs-number">100000</span></span>; k++); }</code> </pre> <br><p>  "¬øQu√© es eso?  - Preg√∫ntale al lector sofisticado.  - ¬øPor qu√© est√°s escribiendo algo en el registro de entrada PINB?  ¬°Es solo para leer!  De hecho, la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">documentaci√≥n de Arduino</a> , como la mayor√≠a de los art√≠culos de capacitaci√≥n en Internet, afirma que este registro es de solo lectura.  Yo mismo lo pens√© hasta que volv√≠ a leer la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">hoja</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">datos</a> de Atmega328p, preparando este art√≠culo.  Y ahi: </p><br><p><img src="https://habrastorage.org/webt/ex/bo/o1/exboo1rgwnwxty7x3sosci7a3js.png"></p><br><p>  Esta es una funcionalidad relativamente nueva, no estaba en Atmega8, no todo el mundo lo sabe o no lo menciona por razones de compatibilidad con versiones anteriores.  Pero es bastante adecuado para demostrar la idea de que vale la pena leer las hojas de datos para utilizar todas las capacidades del chip, incluidas las poco conocidas.  Y esta no es la √∫nica raz√≥n. </p><br><h2 id="zachem-esche-chitat-datashity">  ¬øPor qu√© si no leer hojas de datos </h2><br><p>  Por lo general, los controladores arduino, despu√©s de haber jugado lo suficiente con LED y AnalogWrite'ami, comienzan a conectar todo tipo de m√≥dulos y chips a la placa, para lo cual ya hay bibliotecas escritas.  Tarde o temprano, aparece una biblioteca que no funciona como deber√≠a.  Entonces el aficionado comienza a recogerlo para arreglarlo, y all√≠ ... </p><br><p>  Y est√° sucediendo algo totalmente incomprensible, por lo que debe ir a Google, leer numerosos tutoriales, extraer el c√≥digo adecuado de alguien y finalmente salirse con la suya.  Esto brinda una poderosa sensaci√≥n de logro, pero de hecho, el proceso recuerda la invenci√≥n de una bicicleta mediante ingenier√≠a inversa de una motocicleta.  Adem√°s, entender c√≥mo funciona esta bicicleta no aumenta.  Lo s√©, ya que yo mismo he estado haciendo esto por bastante tiempo. </p><br><p>  Si en lugar de esta fascinante actividad pas√© un par de d√≠as estudiando la documentaci√≥n para Atmega328, habr√≠a ahorrado una gran cantidad de tiempo.  Al final, es un microcontrolador bastante simple. </p><br><p>  Por lo tanto, es necesario leer hojas de datos al menos para imaginar c√≥mo se organiza generalmente el microcontrolador y qu√© puede hacer.  Y tambi√©n: </p><br><ul><li>  para verificar y optimizar las bibliotecas de otras personas.  A menudo son escritos por los mismos amantes que inventaron la bicicleta;  o, por el contrario, los autores intencionalmente les hacen una protecci√≥n excesiva contra el tonto.  Deje que sea tres veces m√°s grande y m√°s lento, pero definitivamente funcionar√°; </li><li>  para poder usar chips en el proyecto en el que nadie escribi√≥ la biblioteca; </li><li>  para facilitar la tarea de migraci√≥n de una l√≠nea MK a otra; </li><li>  para finalmente optimizar su antiguo c√≥digo, que no encajaba en Arduin; </li><li>  para aprender a administrar cualquier chip directamente a trav√©s de sus registros, sin molestarse en estudiar el dispositivo de sus bibliotecas, si corresponde. </li></ul><br><h2 id="zachem-pisat-v-registry-napryamuyu-kogda-est-hal-i-ll">  ¬øPor qu√© escribir directamente a los registros cuando hay HAL y LL? </h2><br><p>  <em>Vocabulario</em> <br>  <em><strong>HAL, Hardware Abstraction Layer</strong> : una biblioteca para controlar un microcontrolador con un alto nivel de abstracci√≥n.</em>  <em>Si necesita utilizar la interfaz SPI1, simplemente configuramos y habilitamos SPI1 sin preocuparnos por qu√© registros son responsables de qu√©.</em> <em><br></em>  <em><strong>LL, API de bajo nivel</strong> : una biblioteca que contiene macros o estructuras con direcciones de registro que le permite acceder a ellas por nombre.</em>  <em>DDRx, PORTx, PINx en Atmega es LL.</em> </p><br><p>  Las disputas sobre un tema "HAL, LL o registros" ocurren regularmente en los comentarios sobre Habr√©.  Sin reclamar acceso al conocimiento astral, simplemente compartir√© mi experiencia y pensamientos de aficionados. </p><br><p>  M√°s o menos resolviendo con Atmega y despu√©s de leer art√≠culos sobre el hermoso STM32, compr√© media docena de tableros diferentes, Discovery y ‚ÄúTabletas azules‚Äù, e incluso solo chips para mis productos caseros.  Todos ellos espolvoreados en una caja durante dos a√±os.  A veces me dec√≠a a m√≠ mismo: "Estoy dominando STM este fin de semana", lanz√≥ CubeMX, gener√© una configuraci√≥n para SPI, mir√© el muro de texto resultante, rico en sabores con derechos de autor de STM, y decid√≠ que de alguna manera era demasiado. </p><br><p><img src="https://habrastorage.org/webt/yv/gt/dh/yvgtdh22lukvyistr6tsjfjymic.png"></p><br><p>  Para entender lo que CubeMX escribi√≥ aqu√≠, por supuesto, puedes hacerlo.  Pero al mismo tiempo, no es realista recordar todas las formulaciones, para que luego pueda escribirlas con las manos.  Y deb√≠talo, si accidentalmente olvido poner una marca en Cuba, - hola. </p><br><p>  Pasaron dos a√±os, todav√≠a lam√≠ todo tipo de chips deliciosos, pero inaccesibles a mi entender, en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Buscador ST MCU</a> , y accidentalmente me top√© con un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culo maravilloso</a> , aunque sobre STM8.  Y de <em>repente</em> me di cuenta de que todo este tiempo estaba tocando a la puerta abierta: los registros para STM est√°n dispuestos de la misma manera que para cualquier otro MK, y el Cube es opcional para trabajar con ellos.  <em>¬øY entonces fue posible? ..</em> </p><br><p>  HAL y espec√≠ficamente STM32CubeMX es una herramienta para ingenieros profesionales que trabajan estrechamente con chips STM32.  La caracter√≠stica principal es un alto nivel de abstracci√≥n, la capacidad de migrar r√°pidamente de un MK a otro e incluso de un n√∫cleo a otro, mientras permanece dentro de la l√≠nea STM32.  Los aficionados rara vez se encuentran con tales tareas: nuestra elecci√≥n de MK generalmente se limita al rango de AliExpress, y a menudo migramos entre chips radicalmente diferentes: nos movemos de Atmega a STM, de STM a ESP, bueno, o lo que es nuevo para nuestros amigos chinos.  HAL no ayudar√° aqu√≠, y su estudio consumir√° mucho tiempo. </p><br><p>  Queda LL, pero de √©l a los registros de medio paso.  Personalmente, creo que escribir mis macros con direcciones de registro es √∫til: estudio la hoja de datos con m√°s cuidado, creo que la necesitar√© en el futuro, y lo que definitivamente no es as√≠, mejor estructurar mis programas y, en general, la superaci√≥n ayuda a recordar. </p><br><p>  Adem√°s, hay un matiz con el popular STM32F103: para ello hay dos versiones incompatibles de LL, una oficial de STM, la segunda de Leaf Labs utilizada en el proyecto STM32duino.  Si escribe una biblioteca de c√≥digo abierto (y yo ten√≠a exactamente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esa tarea</a> ), debe hacer dos versiones o acceder a los registros directamente. </p><br><p>  Finalmente, el rechazo de LL, en mi opini√≥n, simplifica la migraci√≥n, especialmente si se le aplica desde el comienzo del trabajo en el proyecto.  Ejemplo exagerado: escribe el parpadeo de Arduin en Atmel Studio sin LL: </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdint.h&gt; #define _REG(addr) (*(volatile uint8_t*)(addr)) #define DDR_B 0x24 #define OUT_B 0x25 int main(void) { volatile uint32_t k; _REG(DDR_B) |= (1&lt;&lt;5); while(1) { _REG(OUT_B) |= (1&lt;&lt;5); for (k=0; k&lt;50000; k++); _REG(OUT_B) &amp;= ~(1&lt;&lt;5); for (k=0; k&lt;50000; k++); } }</span></span></span></span></code> </pre> <br><p>  Para que este c√≥digo parpadee un LED en una bufanda china con STM8 (desde ST Visual Desktop), es suficiente cambiar dos direcciones en √©l: </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DDR_B 0x5007 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> OUT_B 0x5005</span></span></code> </pre> <br><p>  S√≠, uso la funci√≥n de conectar el LED en una placa espec√≠fica, parpadear√° muy lentamente, ¬°pero lo har√°! </p><br><h2 id="kakie-byvayut-datashity">  ¬øQu√© son las hojas de datos? </h2><br><p>  En los art√≠culos y en los foros, tanto en ruso como en ingl√©s, por "hojas de datos" se refieren a cualquier documentaci√≥n t√©cnica para chips, hago lo mismo en este texto.  Formalmente, son solo un tipo de dicha documentaci√≥n: </p><br><p>  <strong>Hoja de datos</strong> - TTX, <del>  t√°cticamente </del>  especificaciones tecnicas.  Aseg√∫rese de tener cualquier componente electr√≥nico.  La informaci√≥n de referencia es √∫til para tener a la mano, pero especialmente no hay nada que leer cuidadosamente.  Sin embargo, los chips m√°s simples a menudo se limitan a hojas de datos, para no producir documentos innecesarios;  en este caso, el <em>manual de referencia se</em> incluye aqu√≠. </p><br><p>  <strong>Manual de referencia</strong> : el manual real, un libro saludable con m√°s de 1000 p√°ginas.  El trabajo de todo lo que se inserta en el chip est√° pintado en detalle.  El documento principal para el desarrollo del microcontrolador.  A diferencia de la <em>hoja de datos</em> , las instrucciones est√°n escritas para una amplia gama de MK, contienen mucha informaci√≥n sobre la periferia que no est√° disponible en su modelo espec√≠fico. </p><br><p>  <strong>Manual de programaci√≥n</strong> o <strong>Manual de</strong> <strong>conjunto de</strong> instrucciones: instrucciones para los comandos √∫nicos del microcontrolador.  Dise√±ado para aquellos que programan en Assembler.  Los autores de los compiladores lo usan activamente para optimizar el c√≥digo, por lo que, en general, no lo necesitaremos.  Pero echar un vistazo aqu√≠ es √∫til para una comprensi√≥n general, detr√°s de algunos comandos espec√≠ficos, como salir de la interrupci√≥n, as√≠ como con el uso activo del depurador. </p><br><p>  <strong>Nota de aplicaci√≥n</strong> : consejos √∫tiles para resolver problemas espec√≠ficos, a menudo con ejemplos de c√≥digo. </p><br><p>  <strong>Hoja de erratas</strong> : una descripci√≥n de casos de comportamiento de chip no est√°ndar con opciones de omisi√≥n, si las hay. </p><br><h2 id="chto-est-v-datashitah">  ¬øQu√© hay en las hojas de datos? </h2><br><p>  Directamente en la <em>Hoja de datos,</em> podemos necesitar las siguientes secciones: </p><br><p>  <strong>Resumen del dispositivo</strong> : la primera p√°gina de la hoja de datos habla brevemente sobre el dispositivo.  Es muy √∫til en situaciones en las que en alg√∫n lugar encontr√≥ un chip (vio en una tienda, vypayali, recibi√≥ una menci√≥n) y quiere comprender qu√© es. </p><br><p>  <strong>Descripci√≥n general</strong> : una descripci√≥n m√°s detallada de las capacidades de los chips de la l√≠nea. </p><br><p>  <strong>Pinouts</strong> : esquemas de pinout para todas las cajas de chips posibles (qu√© pata tiene un pin). </p><br><p>  <strong>Descripci√≥n del pin</strong> : una descripci√≥n del prop√≥sito y las capacidades de cada pin. </p><br><p>  <strong>Mapa de memoria</strong> : apenas necesitamos un mapa de direcci√≥n en la memoria, pero a veces tambi√©n incluye una tabla de direcciones de bloques de registro. </p><br><p>  <strong>Mapa de registro</strong> : la tabla de direcciones de los bloques de registro, por regla general, se encuentra en la hoja de datos y en el <em>Manual de referencia</em> : solo <em>compensaciones de direcciones</em> . </p><br><p>  <strong>Caracter√≠sticas el√©ctricas</strong> : en esta secci√≥n, nos interesan principalmente las <strong>clasificaciones m√°ximas absolutas</strong> , que enumeran la carga m√°xima en el chip.  A diferencia del Atmega328p que no se puede matar, la mayor√≠a de los MK no le permiten conectar cargas serias a los pines, lo que se convierte en una sorpresa desagradable para los jugadores arduino. </p><br><p>  <strong>Informaci√≥n del paquete</strong> : dibujos de gabinetes asequibles √∫tiles para dise√±ar sus paquetes de circuitos. </p><br><p>  <em>El Manual de referencia est√°</em> compuesto estructuralmente por secciones en la periferia espec√≠fica indicada en su encabezado.  Cada cap√≠tulo se puede dividir en tres partes: </p><br><p>  <strong>Descripci√≥n general</strong> , <strong>Introducci√≥n</strong> , <strong>Caracter√≠sticas</strong> : una descripci√≥n general de las capacidades de la periferia; </p><br><p>  <strong>Descripci√≥n funcional</strong> , <strong>gu√≠a de uso</strong> o simplemente el bloque de la secci√≥n principal: una descripci√≥n textual detallada de los principios del dispositivo perif√©rico y c√≥mo usarlo; </p><br><p>  <strong>Registros</strong> : descripci√≥n de los registros de control.  En casos simples como GPIO o SPI, esto puede ser suficiente para comenzar a usar perif√©ricos, pero a menudo a√∫n tiene que leer las partes anteriores. </p><br><h2 id="kak-chitat-datashity">  C√≥mo leer hojas de datos </h2><br><p>  Los datashitas por costumbre asustan con su volumen y una abundancia de palabras incomprensibles.  De hecho, todo no da tanto miedo si conoces algunos trucos de la vida. </p><br><p>  Instale un <strong>buen lector de PDF</strong> .  Los datashits est√°n escritos en la gloriosa tradici√≥n de las instrucciones en papel, es genial imprimirlos, colocarlos con marcadores de pl√°stico y coserlos.  El hipertexto en ellos se observa en peque√±as cantidades.  Afortunadamente, al menos la estructura del documento est√° marcada, por lo que es muy necesario un buen lector con navegaci√≥n conveniente. </p><br><p>  Datashit no es el libro de texto de Straustrup, <strong>no tiene que leer todo lo que contiene</strong> .  Si utiliz√≥ el consejo anterior, solo busque la secci√≥n en la barra de marcadores. </p><br><p>  Las hojas de datos, especialmente los <em>manuales de referencia</em> , pueden no describir las capacidades de un chip en particular, sino <strong>toda la l√≠nea</strong> .  Esto significa que la mitad, o incluso dos tercios de la informaci√≥n no est√° relacionada con su chip.  Antes de estudiar los registros TIM7, consulte la <em>Descripci√≥n general</em> si tiene uno. </p><br><p>  Es suficiente saber <strong>ingl√©s</strong> en un <strong>nivel b√°sico</strong> .  Los datashits se componen a medias de t√©rminos desconocidos para el hablante nativo promedio, y la otra mitad se componen de estructuras de conexi√≥n simples.  Todav√≠a hay hermosas hojas de datos chinas en ingl√©s chino, donde la mitad tambi√©n son t√©rminos, y la segunda mitad es un conjunto aleatorio de palabras. </p><br><p>  Si encuentra una <strong>palabra desconocida</strong> , no intente traducirla utilizando el diccionario ingl√©s-ruso.  Si la hist√©resis lo <em>desconcierta</em> , entonces traducir ‚Äúhist√©resis‚Äù no lo calentar√°.  Utilice Google, Stack Overflow, Wikipedia, foros, donde se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">explicar√° el</a> concepto necesario <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en palabras simples con ejemplos</a> . </p><br><p>  La mejor manera de entender lo que lee es <strong>comprobar en acci√≥n</strong> .  Por lo tanto, tenga a mano el tablero de depuraci√≥n con el que est√° familiarizado, y preferiblemente dos, en caso de que, sin embargo, haya entendido mal algo y haya visto un humo m√°gico. </p><br><p>  Es una buena costumbre tener una hoja de datos a mano cuando <strong>lees el tutorial de alguien</strong> o estudias la biblioteca de otra persona.  Es posible, en √©l encontrar√° una soluci√≥n m√°s √≥ptima para su problema.  Y viceversa: si no puede comprender en la hoja de datos c√≥mo funciona el registro, busque en Google: lo m√°s probable es que alguien ya haya descrito todo en palabras simples o haya dejado un c√≥digo comprensible en el github. </p><br><h2 id="slovarik">  Vocabulario </h2><br><p>  Algunas palabras y anotaciones √∫tiles que lo ayudan a acostumbrarse a las hojas de datos m√°s r√°pido.  Lo que se record√≥ en los √∫ltimos d√≠as, adiciones y correcciones son bienvenidas. </p><br><p>  <em>Electricidad</em> <br>  <strong>Vcc</strong> , <strong>Vdd</strong> - Plus, potencia <br>  <strong>Vss</strong> , <strong>Vee</strong> - "menos", tierra <br>  <strong>actual</strong> - actual <br>  <strong>voltaje</strong> - voltaje <br>  <strong>para hundir corriente</strong> - trabajar "tierra" para una carga externa <br>  <strong>fuente de corriente</strong> - suministrar carga externa <br>  <strong>pin de sumidero / fuente alto</strong> - pin con mayor tolerancia de carga </p><br><p>  <em>IO</em> <br>  <strong>H, alto</strong> - en el pin Vcc <br>  <strong>L, bajo</strong> - en el pin Vss <br>  <strong>Alta impedancia</strong> , <strong>Hi-Z</strong> , <strong>flotante</strong> : no hay nada en el pasador, "alta resistencia", en realidad es invisible para el mundo exterior. <br>  <strong>pull up</strong> <strong>d√©bil</strong> , <strong>pull down d√©bil - resistencia</strong> incorporada pull-up / <strong>pull-down</strong> , un an√°logo aproximado de 50 kOhm (ver hoja de datos).  Se usa, por ejemplo, para evitar que el pin de entrada cuelgue en el aire y cause falsos positivos.  <em>D√©bil</em> , porque es f√°cil "matarlo". <br>  Modo de salida <strong>push</strong> -pin-pin, en el que cambia entre SALIDA <em>alta</em> y <em>baja</em> - normal con Arduino. <br>  <strong>drenaje abierto</strong> : designaci√≥n del modo de salida, en el que el pin puede ser de <em>baja</em> o <em>alta impedancia / flotante</em> .  Adem√°s, casi siempre este no es un drenaje abierto "real", hay diodos protectores, resistencias, etc.  Es simplemente una designaci√≥n del modo tierra / nada. <br>  <strong>drenaje abierto verdadero</strong> , pero este ya es un drenaje abierto real: el pasador conduce directamente al suelo si est√° abierto, o est√° en el limbo si est√° cerrado.  Esto significa que, si es necesario, se puede permitir un voltaje superior a Vcc, pero el m√°ximo todav√≠a se especifica en la hoja de datos en la secci√≥n <em>Valores nominales / voltaje m√°ximos absolutos</em> . </p><br><p>  <em>Interfaces</em> <br>  <strong>en serie</strong> - conectado <strong>en serie</strong> <br>  <strong>para encadenar</strong> : recolecte chips en una cadena mediante una conexi√≥n en serie, aumentando el n√∫mero de salidas. <br>  <strong>shift</strong> - shift, generalmente denota un cambio de bits.  En consecuencia, <strong>para entrar</strong> y <strong>salir</strong> , recibir y transmitir datos bit a bit. <br>  <strong>pestillo</strong> : una v√°lvula que cubre el b√∫fer mientras los bits se desplazan a trav√©s de √©l.  Cuando se completa la transferencia, la v√°lvula se abre, las brocas comienzan a funcionar. <br>  <strong>para sincronizar</strong> : realice una transferencia a nivel de bit, cambie todos los bits a los lugares deseados. <br>  <strong>doble b√∫fer</strong> , <strong>registro de sombra</strong> , <strong>registro de</strong> <strong>precarga</strong> : designaciones del historial cuando el registro debe ser capaz de aceptar nuevos datos, pero retenerlo hasta cierto punto.  Por ejemplo, para que el PWM funcione correctamente, sus par√°metros (ciclo de trabajo, frecuencia) no deber√≠an cambiar hasta que finalice el ciclo actual, pero ya se pueden transferir nuevos par√°metros.  En consecuencia, los actuales se mantienen en el <em>registro de sombra</em> , y los nuevos caen en el <em>registro de precarga</em> , que se registra en el registro de chip correspondiente. </p><br><p>  <em>Cada</em> <br>  <strong>preescalador</strong> - divisor de frecuencia <br>  <strong>establecer un bit</strong> : establezca el bit en 1 <br>  <strong>para borrar / restablecer un bit</strong> : restablezca el bit a 0 ( <em>restablecer</em> - chip de hoja de datos STM) <br>  <strong>para alternar un bit</strong> : cambie el valor del bit al opuesto (vea el ejemplo al comienzo del art√≠culo) </p><br><h3 id="chto-dalshe">  Que sigue </h3><br><p>  En general, se planific√≥ aqu√≠ una parte pr√°ctica con una demostraci√≥n de tres proyectos sobre STM32 y STM8, realizados espec√≠ficamente para este art√≠culo utilizando hojas de datos, con bombillas, SPI, temporizadores, PWM e interrupciones: </p><br><p><img src="https://habrastorage.org/webt/sn/xp/7d/snxp7drl8kw4yoafsgvnfxvpkwc.jpeg"></p><br><p>  Pero el texto es demasiado, por lo que los proyectos se env√≠an a la segunda parte. </p><br><p>  La habilidad de leer hojas de datos lo ayudar√° con su pasatiempo, pero es poco probable que reemplace la comunicaci√≥n en vivo con otros entusiastas en foros y salas de chat.  Para √©l, sin embargo, lo primero es apretar el idioma ingl√©s.  Por eso termin√© de leerlo: un premio especial: dos lecciones gratuitas en Skyeng en el primer pago con el c√≥digo <code>HABR2</code> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/449624/">https://habr.com/ru/post/449624/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449610/index.html">TLS 1.3 habilitado, y por qu√© deber√≠a hacer lo mismo</a></li>
<li><a href="../449612/index.html">Indibiome es el nuevo negro</a></li>
<li><a href="../449616/index.html">Entrevista de Fibonacci</a></li>
<li><a href="../449618/index.html">El futuro esta en las nubes</a></li>
<li><a href="../449622/index.html">Personal√≠zalo: personaliza tus tel√©fonos Snom</a></li>
<li><a href="../449626/index.html">Alisado cognitivo: una sesi√≥n de ilusi√≥n de exposici√≥n completa</a></li>
<li><a href="../449628/index.html">Escribimos "¬°Hola, mundo!" Aplicaci√≥n web Haskell (Spock)</a></li>
<li><a href="../449630/index.html">"Sugirieron familiarizarse con los c√°lculos de un indicador, y hay dos hojas con integrales y segundas derivadas"</a></li>
<li><a href="../449632/index.html">AMA con Habr. V.8.0. Incorporaci√≥n, noticias para todos, PWA</a></li>
<li><a href="../449634/index.html">Amo el IoT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>