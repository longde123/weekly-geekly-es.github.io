<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî≠ üìì üßô Crie ferramentas em projetos de aprendizado de m√°quina, uma vis√£o geral üñáÔ∏è üà¥ üèîÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eu estava pensando sobre a estrutura do projeto / aprendizado de m√°quina / ci√™ncia de dados / fluxo de trabalho e estava lendo opini√µes diferentes sob...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Crie ferramentas em projetos de aprendizado de m√°quina, uma vis√£o geral</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451962/"> Eu estava pensando sobre a estrutura do projeto / aprendizado de m√°quina / ci√™ncia de dados / fluxo de trabalho e estava lendo opini√µes diferentes sobre o assunto.  E quando as pessoas come√ßam a falar sobre fluxo de trabalho, desejam que seus fluxos de trabalho sejam reproduz√≠veis.  Existem muitas postagens por a√≠ que sugerem o uso do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">make</a> para manter o fluxo de trabalho reproduz√≠vel.  Embora <code>make</code> seja muito est√°vel e amplamente utilizado, eu pessoalmente gosto de solu√ß√µes de plataforma cruzada.  Afinal, √© 2019, n√£o 1977. Pode-se argumentar que se faz multiplataforma, mas, na realidade, voc√™ ter√° problemas e gastar√° tempo consertando sua ferramenta em vez de fazer o trabalho real.  Decidi dar uma olhada e verificar quais outras ferramentas est√£o dispon√≠veis.  Sim, eu decidi gastar algum tempo em ferramentas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aff/fbf/656/afffbf6566a6e67ea6427d28d76d7eea.png" alt="imagem"></div><br>  Esta postagem √© mais um convite para um di√°logo do que para um tutorial.  Talvez sua solu√ß√£o seja perfeita.  Se for, ser√° interessante ouvir sobre isso. <br><br>  Neste post, usarei um pequeno projeto Python e executarei as mesmas tarefas de automa√ß√£o com sistemas diferentes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMake</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pybuilder</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pynt</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Pavimentadora</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">doit</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Luigi</a> </li></ul><br>  Haver√° uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">tabela de compara√ß√£o</a> no final da postagem. <br><a name="habracut"></a><br>  A maioria das ferramentas que examinarei s√£o conhecidas como <em>software de automa√ß√£o de</em> <em>compila√ß√£o</em> ou <em>sistemas de compila√ß√£o</em> .  Existem in√∫meras em todos os diferentes sabores, tamanhos e complexidades.  A id√©ia √© a mesma: o desenvolvedor define regras para produzir alguns resultados de maneira automatizada e consistente.  Por exemplo, um resultado pode ser uma imagem com um gr√°fico.  Para criar essa imagem, √© necess√°rio fazer o download dos dados, limp√°-los e fazer algumas manipula√ß√µes de dados (exemplo cl√°ssico, na verdade).  Voc√™ pode come√ßar com alguns scripts de shell que far√£o o trabalho.  Depois que voc√™ voltar ao projeto, um ano depois, ser√° dif√≠cil lembrar de todas as etapas e da ordem que voc√™ precisa seguir para criar essa imagem.  A solu√ß√£o √≥bvia √© documentar todas as etapas.  Boas not√≠cias!  Os sistemas de compila√ß√£o permitem documentar as etapas em uma forma de programa de computador.  Alguns sistemas de compila√ß√£o s√£o como os scripts de shell, mas com sinos e assobios adicionais. <br><br>  A base desta publica√ß√£o √© uma s√©rie de publica√ß√µes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mateusz Bednarski</a> no fluxo de trabalho automatizado para um projeto de aprendizado de m√°quina.  Mateusz explica seus pontos de vista e fornece receitas para o uso do <code>make</code> .  Convido voc√™ a verificar as postagens dele primeiro.  Usarei principalmente o c√≥digo dele, mas com diferentes sistemas de compila√ß√£o. <br><br>  Se voc√™ quiser saber mais sobre o <code>make</code> , <code>make</code> seguir algumas refer√™ncias para algumas postagens.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Brooke Kennedy</a> fornece uma vis√£o geral de alto n√≠vel em 5 etapas f√°ceis para tornar seu projeto de ci√™ncia de dados reproduz√≠vel.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Zachary Jones</a> fornece mais detalhes sobre a sintaxe e os recursos, al√©m dos links para outras postagens.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">David Stevens</a> escreve um post muito hype sobre por que voc√™ absolutamente precisa come√ßar a usar o <code>make</code> imediatamente.  Ele fornece bons exemplos comparando <i>a maneira antiga</i> e <i>a nova</i> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Samuel Lampa</a> , por outro lado, escreve sobre por que usar <code>make</code> √© uma m√° id√©ia. <br><br>  Minha sele√ß√£o de sistemas de constru√ß√£o n√£o √© abrangente nem imparcial.  Se voc√™ quiser fazer sua lista, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wikipedia</a> pode ser um bom ponto de partida.  Conforme mencionado acima, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">abordarei</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMake</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PyBuilder</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pynt</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Paver</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">doit</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Luigi</a> .  A maioria das ferramentas nesta lista √© baseada em python e faz sentido, pois o projeto est√° em Python.  Esta postagem n√£o abordar√° como instalar as ferramentas.  Presumo que voc√™ seja bastante proficiente em Python. <br><br>  Estou interessado principalmente em testar esta funcionalidade: <br><br><ol><li>  Especificando alguns destinos com depend√™ncias.  Eu quero ver como faz√™-lo e como √© f√°cil. </li><li>  Verificando se compila√ß√µes incrementais s√£o poss√≠veis.  Isso significa que o sistema de compila√ß√£o n√£o reconstruir√° o que n√£o foi alterado desde a √∫ltima execu√ß√£o, ou seja, voc√™ n√£o precisa baixar novamente seus dados brutos.  Outra coisa que procurarei √© compila√ß√µes incrementais quando a depend√™ncia muda.  Imagine que temos um gr√°fico de depend√™ncias <code>A -&gt; B -&gt; C</code>  O alvo <code>C</code> ser√° reconstru√≠do se <code>B</code> mudar?  Se um? </li><li>  Verificando se a reconstru√ß√£o ser√° acionada se o c√≥digo-fonte for alterado, ou seja, alteramos o par√¢metro do gr√°fico gerado, da pr√≥xima vez que construirmos a imagem, ela dever√° ser reconstru√≠da. </li><li>  Verificando as maneiras de limpar artefatos de constru√ß√£o, ou seja, remover arquivos que foram criados durante a constru√ß√£o e reverter para o c√≥digo-fonte limpo. </li></ol><br>  N√£o usarei todos os alvos de compila√ß√£o do post de Mateusz, apenas tr√™s deles para ilustrar os princ√≠pios. <br><br>  Todo o c√≥digo est√° dispon√≠vel no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitHub</a> . <br><br><h2><a name="CMake"></a>  CMake </h2><br>  O CMake √© um gerador de script de constru√ß√£o, que gera arquivos de entrada para v√°rios sistemas de constru√ß√£o.  E seu nome significa marca de plataforma cruzada.  O CMake √© uma ferramenta de engenharia de software.  Sua principal preocupa√ß√£o √© sobre a cria√ß√£o de execut√°veis ‚Äã‚Äãe bibliotecas.  Portanto, o CMake sabe como criar <i>destinos a</i> partir do c√≥digo-fonte nos idiomas suportados.  O CMake √© executado em duas etapas: configura√ß√£o e gera√ß√£o.  Durante a configura√ß√£o, √© poss√≠vel configurar a futura compila√ß√£o de acordo com uma necessidade.  Por exemplo, vari√°veis ‚Äã‚Äãfornecidas pelo usu√°rio s√£o fornecidas durante esta etapa.  A gera√ß√£o √© normalmente simples e produz arquivos com os quais os sistemas de constru√ß√£o podem funcionar.  Com o CMake, voc√™ ainda pode usar o <code>make</code> , mas, em vez de escrever diretamente o makefile, voc√™ cria um arquivo CMake, que ir√° gerar o makefile para voc√™. <br><br>  Outro conceito importante √© que o CMake incentiva <i>compila√ß√µes fora da fonte</i> .  Constru√ß√µes fora da fonte mant√™m o c√≥digo fonte longe de qualquer artefato produzido.  Isso faz muito sentido para execut√°veis ‚Äã‚Äãnos quais a base de c√≥digo de fonte √∫nica pode ser compilada sob diferentes arquiteturas de CPU e sistemas operacionais.  Essa abordagem, no entanto, pode contradizer a maneira como muitos cientistas de dados trabalham.  Parece-me que a comunidade de ci√™ncia de dados tende a ter um alto acoplamento de dados, c√≥digo e resultados. <br><br>  Vamos ver o que precisamos para alcan√ßar nossos objetivos com o CMake.  Existem duas possibilidades para definir itens personalizados no CMake: destinos personalizados e comandos personalizados.  Infelizmente, precisaremos usar os dois, o que resulta em mais digita√ß√£o em compara√ß√£o com o vanila makefile.  Um destino personalizado √© considerado sempre desatualizado, ou seja, se houver um destino para o download de dados brutos, o CMake sempre o far√° novamente.  Uma combina√ß√£o de comando personalizado com destino personalizado permite manter os destinos atualizados. <br><br>  Para o nosso projeto, criaremos um arquivo chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CMakeLists.txt</a> e o colocaremos na raiz do projeto.  Vamos conferir o conte√∫do: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">cmake_minimum_required</span></span>(VERSION <span class="hljs-number"><span class="hljs-number">3.14</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> FATAL_ERROR) <span class="hljs-keyword"><span class="hljs-keyword">project</span></span>(Cmake_in_ml VERSION <span class="hljs-number"><span class="hljs-number">0.1</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> LANGUAGES NONE)</code> </pre><br>  Esta parte √© b√°sica.  A segunda linha define o nome do seu projeto, vers√£o e especifica que n√£o usaremos nenhum suporte √† linguagem incorporada (seno chamaremos de scripts Python). <br><br>  Nosso primeiro destino far√° o download do conjunto de dados IRIS: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(IRIS_URL <span class="hljs-string"><span class="hljs-string">"https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data"</span></span> CACHE <span class="hljs-keyword"><span class="hljs-keyword">STRING</span></span> <span class="hljs-string"><span class="hljs-string">"URL to the IRIS data"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(IRIS_DIR <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/data/raw) <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>(IRIS_FILE <span class="hljs-variable"><span class="hljs-variable">${IRIS_DIR}</span></span>/iris.csv) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> <span class="hljs-variable"><span class="hljs-variable">${CMAKE_COMMAND}</span></span> -E echo <span class="hljs-string"><span class="hljs-string">"Downloading IRIS."</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/download.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_URL}</span></span> <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> <span class="hljs-variable"><span class="hljs-variable">${CMAKE_COMMAND}</span></span> -E echo <span class="hljs-string"><span class="hljs-string">"Done. Checkout ${IRIS_FILE}."</span></span> WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(rawdata ALL DEPENDS <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span>)</code> </pre><br>  A primeira linha define o par√¢metro <code>IRIS_URL</code> , que √© exposto ao usu√°rio durante a etapa de configura√ß√£o.  Se voc√™ usar a GUI do CMake, poder√° definir esta vari√°vel atrav√©s da GUI: <br><br><img src="https://habrastorage.org/webt/oo/za/pj/oozapjujvjg_q86ndg6r7c5u36a.png"><br><br>  Em seguida, definimos vari√°veis ‚Äã‚Äãcom o local baixado do conjunto de dados IRIS.  Em seguida, adicionamos um comando personalizado, que produzir√° <code>IRIS_FILE</code> conforme a sa√≠da.  No final, definimos um dado <code>rawdata</code> destino personalizado que depende de <code>IRIS_FILE</code> o que significa que, para criar dados <code>rawdata</code> <code>IRIS_FILE</code> deve ser constru√≠do.  A op√ß√£o <code>ALL</code> do destino personalizado diz que os dados <code>rawdata</code> ser√£o um dos destinos padr√£o a serem constru√≠dos.  Observe que eu uso <code>CMAKE_CURRENT_SOURCE_DIR</code> para manter os dados baixados na pasta de origem e n√£o na pasta de compila√ß√£o.  Isso √© apenas para torn√°-lo o mesmo que Mateusz. <br><br>  Tudo bem, vamos ver como podemos us√°-lo.  Atualmente, estou executando-o no Windows com o compilador MinGW instalado.  Pode ser necess√°rio ajustar a configura√ß√£o do gerador para suas necessidades (execute <code>cmake --help</code> para ver a lista de geradores dispon√≠veis).  Inicie o terminal e v√° para a pasta pai do c√≥digo-fonte e, em seguida: <br><br><pre> <code class="bash hljs">mkdir overcome-the-chaos-build <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> overcome-the-chaos-build cmake -G <span class="hljs-string"><span class="hljs-string">"MinGW Makefiles"</span></span> ../overcome-the-chaos</code> </pre><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text">  - Configura√ß√£o conclu√≠da <br>  - Gerando feito <br>  - Os arquivos de compila√ß√£o foram gravados em: C: / home / espa√ßo de trabalho / superar o caos-compilar <br></div></div><br>  Com o CMake moderno, podemos construir o projeto diretamente do CMake.  Este comando chamar√° o comando <code>build all</code> : <br><br><pre> <code class="bash hljs">cmake --build .</code> </pre><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text">  Depend√™ncias de varredura de dados brutos de destino <br>  [100%] Dados brutos de destino criados <br></div></div><br>  Tamb√©m podemos visualizar a lista de destinos dispon√≠veis: <br><br><pre> <code class="bash hljs">cmake --build . --target <span class="hljs-built_in"><span class="hljs-built_in">help</span></span></code> </pre><br>  E podemos remover o arquivo baixado por: <br><br><pre> <code class="bash hljs">cmake --build . --target clean</code> </pre><br>  Veja que n√£o precisamos criar o destino limpo manualmente. <br><br>  Agora vamos para o pr√≥ximo alvo - dados pr√©-processados ‚Äã‚Äãdo IRIS.  Mateusz cria dois arquivos a partir de uma √∫nica fun√ß√£o: <code>processed.pickle</code> e <code>processed.xlsx</code>  Voc√™ pode ver como ele se sai limpando esse arquivo do Excel usando <code>rm</code> com curinga.  Eu acho que essa n√£o √© uma abordagem muito boa.  No CMake, temos duas op√ß√µes de como lidar com isso.  A primeira op√ß√£o √© usar a propriedade de diret√≥rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ADDITIONAL_MAKE_CLEAN_FILES</a> .  O c√≥digo ser√°: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(PROCESSED_FILE <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/data/processed/processed.pickle) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/preprocess.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> --excel data/processed/processed.xlsx WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS rawdata <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(preprocess DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Additional files to clean set_property(DIRECTORY PROPERTY ADDITIONAL_MAKE_CLEAN_FILES ${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.xlsx )</span></span></code> </pre><br>  A segunda op√ß√£o √© especificar uma lista de arquivos como uma sa√≠da de comando customizada: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">LIST</span></span>(APPEND PROCESSED_FILE <span class="hljs-string"><span class="hljs-string">"${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.pickle"</span></span> <span class="hljs-string"><span class="hljs-string">"${CMAKE_CURRENT_SOURCE_DIR}/data/processed/processed.xlsx"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/data/preprocess.py <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> data/processed/processed.pickle --excel data/processed/processed.xlsx WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS rawdata <span class="hljs-variable"><span class="hljs-variable">${IRIS_FILE}</span></span> src/data/preprocess.py ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(preprocess DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span>)</code> </pre><br>  Veja que nesse caso eu criei a lista, mas n√£o a usei dentro do comando personalizado.  N√£o conhe√ßo uma maneira de referenciar argumentos de sa√≠da de comando personalizado dentro dele. <br><br>  Outra coisa interessante a ser observada √© o uso de <code>depends</code> neste comando personalizado.  Definimos a depend√™ncia n√£o apenas de um destino personalizado, mas tamb√©m da sa√≠da e do script python.  Se n√£o adicionarmos depend√™ncia ao <code>IRIS_FILE</code> , a modifica√ß√£o manual do <code>iris.csv</code> n√£o resultar√° na reconstru√ß√£o do destino de <code>preprocess</code> -processo.  Bem, voc√™ n√£o deve modificar os arquivos no diret√≥rio de constru√ß√£o manualmente, em primeiro lugar.  Apenas deixando voc√™ saber.  Mais detalhes no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post de Sam Thursfield</a> .  A depend√™ncia do script python √© necess√°ria para reconstruir o destino se o script python mudar. <br><br>  E finalmente o terceiro alvo: <br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">SET</span></span>(EXPLORATORY_IMG <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span>/reports/figures/exploratory.png) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_COMMAND</span></span>(OUTPUT <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMAND</span></span> python src/visualization/exploratory.py <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span> WORKING_DIRECTORY <span class="hljs-variable"><span class="hljs-variable">${CMAKE_CURRENT_SOURCE_DIR}</span></span> DEPENDS <span class="hljs-variable"><span class="hljs-variable">${PROCESSED_FILE}</span></span> src/visualization/exploratory.py ) <span class="hljs-keyword"><span class="hljs-keyword">ADD_CUSTOM_TARGET</span></span>(exploratory DEPENDS <span class="hljs-variable"><span class="hljs-variable">${EXPLORATORY_IMG}</span></span>)</code> </pre><br>  Esse objetivo √© basicamente o mesmo que o segundo. <br><br>  Para encerrar.  O CMake parece confuso e mais dif√≠cil que o Make.  De fato, muitas pessoas criticam o CMake por sua sintaxe.  Na minha experi√™ncia, o entendimento chegar√° e √© absolutamente poss√≠vel entender at√© arquivos CMake muito complicados. <br><br>  Voc√™ ainda se colar√° bastante, pois precisar√° passar as vari√°veis ‚Äã‚Äãcorretas.  N√£o vejo uma maneira f√°cil de referenciar a sa√≠da de um comando personalizado em outro.  Parece que √© poss√≠vel faz√™-lo atrav√©s de destinos personalizados. <br><br><h2><a name="PyBuilder"></a>  Pybuilder </h2><br>  A parte do PyBuilder √© muito curta.  Eu usei o Python 3.7 no meu projeto e a vers√£o atual do PyBuilder 0.11.17 n√£o o suporta.  A solu√ß√£o proposta √© usar a vers√£o de desenvolvimento.  No entanto, essa vers√£o √© limitada ao pip v9.  Pip √© v19.3 at√© o momento da reda√ß√£o.  Que chatice.  Depois de brincar um pouco, n√£o funcionou para mim.  A avalia√ß√£o do PyBuilder foi de curta dura√ß√£o. <br><br><h2><a name="pynt"></a>  pynt </h2><br>  Pynt √© baseado em python, o que significa que podemos usar fun√ß√µes python diretamente.  N√£o √© necess√°rio agrup√°-los com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">clique</a> e fornecer uma interface de linha de comando.  No entanto, o pynt tamb√©m √© capaz de executar comandos do shell.  Vou usar fun√ß√µes python. <br><br>  Os comandos de compila√ß√£o s√£o fornecidos em um arquivo <code>build.py</code> .  Os alvos / tarefas s√£o criados com decoradores de fun√ß√µes.  As depend√™ncias da tarefa s√£o fornecidas pelo mesmo decorador. <br><br>  Como gostaria de usar fun√ß√µes python, preciso import√°-las no script de constru√ß√£o.  O Pynt n√£o inclui o diret√≥rio atual como script python, portanto, escrever algo assim: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> src.data.download <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pydownload_file</code> </pre><br>  n√£o vai funcionar.  Temos que fazer: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys sys.path.append(os.path.join(os.path.dirname(__file__), <span class="hljs-string"><span class="hljs-string">'.'</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> src.data.download <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pydownload_file</code> </pre><br>  Meu arquivo <code>build.py</code> inicial era assim: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python import os import sys sys.path.append(os.path.join(os.path.dirname(__file__), '.')) from pynt import task from path import Path import glob from src.data.download import pydownload_file from src.data.preprocess import pypreprocess iris_file = 'data/raw/iris.csv' processed_file = 'data/processed/processed.pickle' @task() def rawdata(): '''Download IRIS dataset''' pydownload_file('https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data', iris_file) @task() def clean(): '''Clean all build artifacts''' patterns = ['data/raw/*.csv', 'data/processed/*.pickle', 'data/processed/*.xlsx', 'reports/figures/*.png'] for pat in patterns: for fl in glob.glob(pat): Path(fl).remove() @task(rawdata) def preprocess(): '''Preprocess IRIS dataset''' pypreprocess(iris_file, processed_file, 'data/processed/processed.xlsx')</span></span></code> </pre><br>  E o destino do <code>preprocess</code> n√£o funcionou.  Ele estava constantemente reclamando dos argumentos de entrada da fun√ß√£o <code>pypreprocess</code> .  Parece que o Pynt n√£o lida com argumentos de fun√ß√£o opcionais muito bem.  Eu tive que remover o argumento para criar o arquivo do Excel.  Lembre-se disso se seu projeto tiver fun√ß√µes com argumentos opcionais. <br><br>  Podemos executar o pynt na pasta do projeto e listar todos os destinos dispon√≠veis: <br><br><pre> <code class="bash hljs">pynt -l</code> </pre><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text"><pre> <code class="bash hljs">Tasks <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> build file build.py: clean Clean all build artifacts exploratory Make an image with pairwise distribution preprocess Preprocess IRIS dataset rawdata Download IRIS dataset Powered by pynt 0.8.2 - A Lightweight Python Build Tool.</code> </pre><br></div></div><br>  Vamos fazer a distribui√ß√£o aos pares: <br><br><pre> <code class="bash hljs">pynt exploratory</code> </pre><br><div class="spoiler">  <b class="spoiler_title">resultado</b> <div class="spoiler_text"><pre> <code class="bash hljs">[ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"rawdata"</span></span> ] Downloading from https://archive.ics.uci.edu/ml/machine-learning-databases/iris/iris.data to data/raw/iris.csv [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"rawdata"</span></span> ] [ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"preprocess"</span></span> ] Preprocessing data [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"preprocess"</span></span> ] [ build.py - Starting task <span class="hljs-string"><span class="hljs-string">"exploratory"</span></span> ] Plotting pairwise distribution... [ build.py - Completed task <span class="hljs-string"><span class="hljs-string">"exploratory"</span></span> ]</code> </pre><br></div></div><br>  Se agora executarmos o mesmo comando novamente (ou seja, <code>pynt exploratory</code> ), haver√° uma reconstru√ß√£o completa.  Pynt n√£o rastreou que nada mudou. <br><br><h2><a name="Paver"></a>  Pavimentadora </h2><br>  Pavimentadora parece quase exatamente como Pynt.  √â um pouco diferente de uma maneira que define as depend√™ncias entre os alvos (outro decorador <code>@needs</code> ).  A Pavimentadora realiza uma reconstru√ß√£o completa a cada vez e n√£o funciona bem com fun√ß√µes que possuem argumentos opcionais.  As instru√ß√µes de compila√ß√£o s√£o encontradas no arquivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pavement.py</a> . <br><br><h2><a name="doit"></a>  doit </h2><br>  Doit parece uma tentativa de criar uma ferramenta de automa√ß√£o de compila√ß√£o verdadeiramente em python.  Pode executar c√≥digo python e comandos de shell.  Parece bastante promissor.  O que parece faltar (no contexto de nossos objetivos espec√≠ficos) √© a capacidade de lidar com depend√™ncias entre alvos.  Digamos que queremos criar um pequeno pipeline em que a sa√≠da do destino A seja usada como entrada do destino B. E digamos que estamos usando arquivos como sa√≠das, portanto, o destino A crie um arquivo denominado <code>outA</code> . <br><br><img src="https://habrastorage.org/webt/xh/te/ol/xhteolpanywbjxanltb8uxdsoly.png"><br><br>  Para criar esse pipeline, precisamos especificar o arquivo <code>outA</code> duas vezes no destino A (como resultado de um destino, mas tamb√©m retornar seu nome como parte da execu√ß√£o do destino).  Em seguida, precisaremos especific√°-lo como entrada para o destino B. Portanto, existem 3 locais no total onde precisamos fornecer informa√ß√µes sobre a <code>outA</code> .  E mesmo depois de fazer isso, a modifica√ß√£o do arquivo <code>outA</code> n√£o levar√° √† reconstru√ß√£o autom√°tica do destino B. Isso significa que, se pedirmos ao doit para construir o destino B, ele verificar√° apenas se o destino B est√° atualizado sem verificar nenhuma das depend√™ncias.  Para superar isso, precisaremos especificar <code>outA</code> 4 vezes - tamb√©m como depend√™ncia de arquivo do destino B. Vejo isso como uma desvantagem.  Make e CMake s√£o capazes de lidar com essas situa√ß√µes corretamente. <br><br>  Depend√™ncias no doit s√£o baseadas em arquivo e expressas como seq√º√™ncias de caracteres.  Isso significa que as depend√™ncias <code>./myfile.txt</code> e <code>myfile.txt</code> s√£o vistas como diferentes.  Como escrevi acima, acho a maneira de passar informa√ß√µes de destino para destino (ao usar destinos em python) um pouco estranha.  O destino possui uma lista de artefatos que ser√° produzida, mas outro destino n√£o pode us√°-lo.  Em vez disso, a fun√ß√£o python, que constitui o destino, deve retornar um dicion√°rio, que pode ser acessado em outro destino.  Vamos ver em um exemplo: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">task_preprocess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Preprocess IRIS dataset"""</span></span> pickle_file = <span class="hljs-string"><span class="hljs-string">'data/processed/processed.pickle'</span></span> excel_file = <span class="hljs-string"><span class="hljs-string">'data/processed/processed.xlsx'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">'file_dep'</span></span>: [<span class="hljs-string"><span class="hljs-string">'src/data/preprocess.py'</span></span>], <span class="hljs-string"><span class="hljs-string">'targets'</span></span>: [pickle_file, excel_file], <span class="hljs-string"><span class="hljs-string">'actions'</span></span>: [doit_pypreprocess], <span class="hljs-string"><span class="hljs-string">'getargs'</span></span>: {<span class="hljs-string"><span class="hljs-string">'input_file'</span></span>: (<span class="hljs-string"><span class="hljs-string">'rawdata'</span></span>, <span class="hljs-string"><span class="hljs-string">'filename'</span></span>)}, <span class="hljs-string"><span class="hljs-string">'clean'</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, }</code> </pre><br>  Aqui, o <code>preprocess</code> destino depende dos dados <code>rawdata</code> .  A depend√™ncia √© fornecida atrav√©s da propriedade <code>getargs</code> .  Ele diz que o argumento <code>input_file</code> da fun√ß√£o <code>doit_pypreprocess</code> √© o <code>filename</code> do <code>filename</code> de sa√≠da dos dados <code>rawdata</code> destino.  Veja o exemplo completo no arquivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dodo.py.</a> <br><br>  Pode valer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a</a> pena ler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">as hist√≥rias</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sucesso</a> do uso do doit.  Definitivamente, possui recursos interessantes, como a capacidade de fornecer uma verifica√ß√£o de destino personalizada e atualizada. <br><br><h2><a name="Luigi"></a>  Luigi </h2><br>  O Luigi se mant√©m afastado de outras ferramentas, pois √© um sistema para construir dutos complexos.  Apareceu no meu radar depois que um colega me disse que tentou o Make, nunca foi capaz de us√°-lo no Windows / Linux e se mudou para Luigi. <br><br>  Luigi visa sistemas prontos para produ√ß√£o.  Ele vem com um servidor, que pode ser usado para visualizar suas tarefas ou para obter um hist√≥rico de execu√ß√µes de tarefas.  O servidor √© chamado de <em>agendador central</em> .  Um agendador local est√° dispon√≠vel para fins de depura√ß√£o. <br><br>  Luigi tamb√©m √© diferente de outros sistemas de uma maneira como as tarefas s√£o criadas.  O Lugi n√£o age em arquivos pr√©-definidos (como <code>dodo.py</code> , <code>pavement.py</code> ou makefile).  Em vez disso, √© preciso passar um nome de m√≥dulo python.  Portanto, se tentarmos us√°-lo da mesma maneira que outras ferramentas (coloque um arquivo com tarefas na raiz do projeto), ele n√£o funcionar√°.  Temos que instalar nosso projeto ou modificar a vari√°vel ambiental <code>PYTHONPATH</code> adicionando o caminho ao projeto. <br><br>  O que √© √≥timo no luigi √© a maneira de especificar depend√™ncias entre tarefas.  Cada tarefa √© uma classe.  A <code>output</code> m√©todo informa ao Luigi onde os resultados da tarefa ser√£o finalizados.  Os resultados podem ser um √∫nico elemento ou uma lista.  O m√©todo <code>requires</code> especifica as depend√™ncias da tarefa (outras tarefas; embora seja poss√≠vel fazer uma depend√™ncia por si s√≥).  E √© isso.  O que for especificado como <code>output</code> na tarefa A ser√° passado como entrada para a tarefa B se a tarefa B se basear na tarefa A. <br><img src="https://habrastorage.org/getpro/habr/post_images/ba2/95c/bb9/ba295cbb9b744767e709aa7b3a0e358f.png"><br><br>  Luigi n√£o se importa com modifica√ß√µes de arquivo.  Ele se preocupa com a exist√™ncia do arquivo.  Portanto, n√£o √© poss√≠vel disparar recria√ß√µes quando o c√≥digo fonte √© alterado.  Luigi n√£o tem uma funcionalidade <i>limpa</i> embutida. <br><br>  As tarefas do Luigi para este projeto est√£o dispon√≠veis no arquivo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">luigitasks.py</a> .  Eu os corro do terminal: <br><br><pre> <code class="plaintext hljs">luigi --local-scheduler --module luigitasks Exploratory</code> </pre><br><h2><a name="Comparison"></a>  Compara√ß√£o </h2><br>  A tabela abaixo resume como os diferentes sistemas funcionam em rela√ß√£o aos nossos objetivos espec√≠ficos. <br><div class="scrollable-table"><table><tbody><tr><th></th><th>  Definir destino com depend√™ncia </th><th>  Constru√ß√µes incrementais </th><th>  Constru√ß√µes incrementais se o c√≥digo fonte for alterado </th><th>  Capacidade de descobrir quais artefatos remover durante o comando <code>clean</code> </th></tr><tr><td>  <strong>CMake</strong> </td><td>  sim </td><td>  sim </td><td>  sim </td><td>  sim </td></tr><tr><td>  <strong>Pynt</strong> </td><td>  sim </td><td>  n√£o </td><td>  n√£o </td><td>  n√£o </td></tr><tr><td>  <strong>Pavimentadora</strong> </td><td>  sim </td><td>  n√£o </td><td>  n√£o </td><td>  n√£o </td></tr><tr><td>  <strong>doit</strong> </td><td>  Um pouco sim </td><td>  sim </td><td>  sim </td><td>  sim </td></tr><tr><td>  <strong>Luigi</strong> </td><td>  sim </td><td>  n√£o </td><td>  n√£o </td><td>  n√£o </td></tr></tbody></table></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt451962/">https://habr.com/ru/post/pt451962/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt451950/index.html">Usinas virtuais. √â poss√≠vel gerenciar as fontes de energia "verde"?</a></li>
<li><a href="../pt451954/index.html">Mais telegramas secretos</a></li>
<li><a href="../pt451956/index.html">Usando o AppDynamics com o Red Hat OpenShift v3</a></li>
<li><a href="../pt451958/index.html">Assistimos torrents na TV inteligente sem SMS e registro</a></li>
<li><a href="../pt451960/index.html">90 vulnerabilidades de execu√ß√£o remota de c√≥digo em maio, atualiza√ß√£o ter√ßa-feira</a></li>
<li><a href="../pt451966/index.html">Os modernos dispositivos de E / S s√£o mais r√°pidos que os processadores. Vis√£o geral do artigo</a></li>
<li><a href="../pt451968/index.html">Top 3D Academy - treinamento em tecnologias aditivas nas principais empresas russas</a></li>
<li><a href="../pt451970/index.html">Thrangrycat: vulnerabilidade cr√≠tica no firmware do dispositivo Cisco permite que hackers instalem backdoors neles</a></li>
<li><a href="../pt451972/index.html">QuadCast - Soa Real</a></li>
<li><a href="../pt451974/index.html">Hist√≥ria da AMD: 50 anos de desenvolvimento r√°pido</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>