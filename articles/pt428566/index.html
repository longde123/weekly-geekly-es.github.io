<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê§ üê© üçú Fun√ß√µes da seta JavaScript: por que s√£o necess√°rias, como lidar com elas, quando us√°-las e quando n√£o ü§õüèΩ üíáüèæ üßóüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uma das inova√ß√µes mais not√°veis ‚Äã‚Äãdo JavaScript moderno √© o aparecimento de fun√ß√µes de seta, que √†s vezes s√£o chamadas de fun√ß√µes de seta "gordas". Ao...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fun√ß√µes da seta JavaScript: por que s√£o necess√°rias, como lidar com elas, quando us√°-las e quando n√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/428566/"> Uma das inova√ß√µes mais not√°veis ‚Äã‚Äãdo JavaScript moderno √© o aparecimento de fun√ß√µes de seta, que √†s vezes s√£o chamadas de fun√ß√µes de seta "gordas".  Ao declarar essas fun√ß√µes, eles usam uma combina√ß√£o especial de caracteres - <code>=&gt;</code> . <br><br>  As fun√ß√µes de seta t√™m duas vantagens principais sobre as fun√ß√µes tradicionais.  O primeiro √© uma sintaxe muito conveniente e compacta.  A segunda √© que a abordagem para trabalhar com <code>this</code> nas fun√ß√µes de seta parece mais intuitiva do que nas fun√ß√µes comuns. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/b1a/09a/721/b1a09a721fe985d3700f4f74305e68d6.jpg" alt="imagem"></a> </div><br>  √Äs vezes, essas e outras vantagens levam ao fato de que a sintaxe da seta recebe uma prefer√™ncia incondicional sobre outras formas de declarar fun√ß√µes.  Por exemplo, a popular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">configura√ß√£o de eslint</a> do Airbnb for√ßa que sempre que uma fun√ß√£o an√¥nima √© criada, essa fun√ß√£o seria do tipo flecha. <br><br>  No entanto, como outros conceitos e mecanismos usados ‚Äã‚Äãna programa√ß√£o, as fun√ß√µes de seta t√™m seus pr√≥s e contras.  Seu uso pode causar efeitos colaterais negativos.  Para usar as fun√ß√µes de seta corretamente, voc√™ precisa conhecer os poss√≠veis problemas associados a elas. <br><br>  O material, cuja tradu√ß√£o publicamos hoje, se concentrar√° em como as fun√ß√µes de seta funcionam.  Aqui, consideraremos situa√ß√µes em que seu uso pode melhorar o c√≥digo e situa√ß√µes em que eles n√£o devem ser usados. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Apresenta fun√ß√µes de seta em JavaScript</font> </h2><br>  As fun√ß√µes de seta no JavaScript s√£o algo como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fun√ß√µes lambda</a> em Python e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">blocos</a> em Ruby. <br><br>  Essas s√£o fun√ß√µes an√¥nimas com uma sintaxe especial que recebem um n√∫mero fixo de argumentos e funcionam no contexto do escopo que os inclui, ou seja, no contexto da fun√ß√£o ou outro c√≥digo no qual eles s√£o declarados. <br><br>  Vamos falar sobre isso com mais detalhes. <br><br><h3>  <font color="#3AC1EF">Arrow Fun√ß√µes de seta de sintaxe</font> </h3><br>  As fun√ß√µes de seta s√£o constru√≠das de acordo com um √∫nico esquema, enquanto a estrutura de fun√ß√µes pode ser, em casos especiais, simplificada.  A estrutura b√°sica da fun√ß√£o de seta √© assim: <br><br><pre> <code class="hljs php">(argument1, argument2, ... argumentN) =&gt; { <span class="hljs-comment"><span class="hljs-comment">//   }</span></span></code> </pre> <br>  A lista de argumentos da fun√ß√£o est√° entre par√™nteses, seguida por uma seta composta de caracteres <code>=</code> e <code>&gt;</code> e, em seguida, vem o corpo da fun√ß√£o entre chaves. <br><br>  Isso √© muito semelhante ao funcionamento das fun√ß√µes comuns, as principais diferen√ßas s√£o que a palavra-chave <code>function</code> √© omitida aqui e uma seta √© adicionada ap√≥s a lista de argumentos. <br><br>  Em certos casos, no entanto, fun√ß√µes simples de seta podem ser declaradas usando constru√ß√µes muito mais compactas. <br><br>  Considere a sintaxe usada se o corpo da fun√ß√£o for representado por uma √∫nica express√£o.  Ele permite que voc√™ fique sem colchetes que enquadram o corpo da fun√ß√£o e elimina a necessidade de retornar explicitamente os resultados da avalia√ß√£o de uma express√£o, pois esse resultado ser√° retornado automaticamente.  Por exemplo, pode ser assim: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> add = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) =&gt;</span></span> a + b;</code> </pre> <br>  Aqui est√° outra variante da nota√ß√£o abreviada da fun√ß√£o, usada quando a fun√ß√£o possui apenas um argumento. <br><br><pre> <code class="hljs php"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getFirst = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>];</code> </pre> <br>  Como voc√™ pode ver, os par√™nteses que cercam a lista de argumentos s√£o omitidos aqui.  Al√©m disso, o corpo da fun√ß√£o, que neste exemplo √© representado por um √∫nico comando, tamb√©m √© gravado sem colchetes.  Mais tarde, falaremos mais sobre os benef√≠cios de tais projetos. <br><br><h3>  <font color="#3AC1EF">Objetos de retorno e fun√ß√µes de seta de registro curto</font> </h3><br>  Ao trabalhar com fun√ß√µes de seta, tamb√©m s√£o usadas algumas constru√ß√µes de sintaxe mais complexas, √∫teis para conhecer. <br><br>  Por exemplo, tente usar uma express√£o de linha √∫nica para retornar de uma fun√ß√£o literal do objeto.  Pode parecer, dado o que j√° sabemos sobre as fun√ß√µes de seta, que uma declara√ß√£o de fun√ß√£o ser√° semelhante a esta: <br><br><pre> <code class="hljs pgsql">(<span class="hljs-type"><span class="hljs-type">name</span></span>, description) =&gt; {<span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-type"><span class="hljs-type">name</span></span>, description: description};</code> </pre> <br>  O problema com este c√≥digo √© sua ambiguidade.  Ou seja, as chaves que queremos usar para descrever o objeto literal parecem estar tentando incluir o corpo de uma fun√ß√£o nelas. <br><br>  Para indicar ao sistema que queremos dizer o objeto literal, precisamos inclu√≠-lo entre par√™nteses: <br><br><pre> <code class="hljs pgsql">(<span class="hljs-type"><span class="hljs-type">name</span></span>, description) =&gt; ({<span class="hljs-type"><span class="hljs-type">name</span></span>: <span class="hljs-type"><span class="hljs-type">name</span></span>, description: description});</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Fun√ß√µes de seta e seu contexto de execu√ß√£o</font> </h3><br>  Diferentemente de outras fun√ß√µes, as fun√ß√µes de seta n√£o t√™m seu pr√≥prio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">contexto de execu√ß√£o</a> . <br><br>  Na pr√°tica, isso significa que eles herdam as entidades <code>this</code> e <code>arguments</code> da fun√ß√£o pai. <br><br>  Por exemplo, compare as duas fun√ß√µes apresentadas no c√≥digo a seguir.  Um deles √© comum, o segundo √© flecha. <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'test object'</span></span>, <span class="hljs-attr"><span class="hljs-attr">createAnonFunction</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name);     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>);   }; }, <span class="hljs-attr"><span class="hljs-attr">createArrowFunction</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name);     <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-built_in"><span class="hljs-built_in">arguments</span></span>);   }; } };</code> </pre> <br>  H√° um objeto de <code>test</code> com dois m√©todos.  Cada um deles √© uma fun√ß√£o que cria e retorna uma fun√ß√£o an√¥nima.  A diferen√ßa entre esses m√©todos √© apenas que, no primeiro deles, a express√£o funcional tradicional √© usada e na fun√ß√£o da segunda seta. <br><br>  Se experimentarmos esse c√≥digo no console, passando os mesmos argumentos para os m√©todos do objeto, embora os m√©todos pare√ßam muito semelhantes, obteremos resultados diferentes: <br><br><pre> <code class="hljs cs">&gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> anon = test.createAnonFunction(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'world'</span></span>); &gt; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> arrow = test.createArrowFunction(<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'world'</span></span>); &gt; anon(); undefined {} &gt; arrow(); test <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { <span class="hljs-string"><span class="hljs-string">'0'</span></span>: <span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>: <span class="hljs-string"><span class="hljs-string">'world'</span></span> }</code> </pre> <br>  Uma fun√ß√£o an√¥nima tem seu pr√≥prio contexto, portanto, quando for chamada, quando voc√™ chamar <code>test.name</code> , o valor da propriedade <code>name</code> do objeto n√£o ser√° <code>test.name</code> e, quando voc√™ chamar <code>arguments</code> , a lista de argumentos da fun√ß√£o usada para criar e retornar a fun√ß√£o sob investiga√ß√£o n√£o ser√° exibida. <br><br>  No caso de uma fun√ß√£o de seta, verifica-se que seu contexto coincide com o contexto da fun√ß√£o que a criou, o que lhe d√° acesso tanto √† lista de argumentos transmitidos por essa fun√ß√£o quanto √† propriedade de <code>name</code> do objeto cujo m√©todo √© essa fun√ß√£o. <br><br><h2>  <font color="#3AC1EF">Situa√ß√µes em que as fun√ß√µes de seta aprimoram o c√≥digo</font> </h2><br><h3>  <font color="#3AC1EF">Processando listas de valores</font> </h3><br>  Fun√ß√µes lambda tradicionais, bem como fun√ß√µes de seta, depois que aparecem em JavaScript, geralmente s√£o usadas em situa√ß√µes em que uma determinada fun√ß√£o √© aplicada a cada elemento de uma determinada lista. <br><br>  Por exemplo, se houver uma matriz de valores que precise ser convertida usando o m√©todo matrizes de <code>map</code> , uma fun√ß√£o de seta √© ideal para descrever essa convers√£o: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> words = [<span class="hljs-string"><span class="hljs-string">'hello'</span></span>, <span class="hljs-string"><span class="hljs-string">'WORLD'</span></span>, <span class="hljs-string"><span class="hljs-string">'Whatever'</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> downcasedWords = words.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">word</span></span></span><span class="hljs-function"> =&gt;</span></span> word.toLowerCase());</code> </pre> <br>  Aqui est√° um exemplo extremamente comum do uso semelhante de fun√ß√µes de seta, que consiste em trabalhar com as propriedades dos objetos: <br><br><pre> <code class="hljs delphi"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> names = objects.map(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>);</code> </pre> <br>  Da mesma forma, se em vez de tradicionais <code>for</code> loops, eles usam modernos loops <code>forEach</code> baseados em <code>forEach</code> , as fun√ß√µes de seta usam <code>this</code> entidade pai, tornam seu uso intuitivo: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.examples.forEach(example =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.runExample(example); });</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Promessas e cadeias de promessas</font> </h3><br>  Outra situa√ß√£o em que as fun√ß√µes de seta permitem escrever c√≥digos mais limpos e compreens√≠veis √© representada por constru√ß√µes de software ass√≠ncronas. <br><br>  Portanto, as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">promessas</a> simplificam bastante o trabalho com c√≥digo ass√≠ncrono.  Ao mesmo tempo, mesmo se voc√™ preferir usar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">constru√ß√£o</a> ass√≠ncrona / aguardada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">,</a> voc√™ n√£o pode prescindir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">das promessas</a> , pois essa constru√ß√£o √© baseada nelas. <br><br>  No entanto, ao usar promessas, voc√™ precisa declarar fun√ß√µes chamadas ap√≥s a conclus√£o do c√≥digo ass√≠ncrono ou a conclus√£o da chamada ass√≠ncrona para uma determinada API. <br><br>  Este √© o local ideal para usar as fun√ß√µes de seta, especialmente se a fun√ß√£o resultante tiver um determinado estado, se referir a algo no objeto.  Por exemplo, pode ser assim: <br><br><pre> <code class="hljs coffeescript"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.doSomethingAsync().<span class="hljs-keyword"><span class="hljs-keyword">then</span></span>(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(result)</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.storeResult(result); });</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Transforma√ß√£o de Objetos</font> </h3><br>  Outro caso de uso comum para fun√ß√µes de seta √© encapsular transforma√ß√µes de objeto. <br><br>  Por exemplo, no Vue.js, existe um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">padr√£o</a> comum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para</a> incluir fragmentos de armazenamento do Vuex diretamente em um componente do Vue usando o <code>mapState</code> . <br><br>  Esta opera√ß√£o inclui declara√ß√µes de um conjunto de "conversores" que selecionam exatamente o que √© necess√°rio para um componente espec√≠fico a partir do estado completo inicial. <br><br>  Essas transforma√ß√µes simples s√£o o lugar perfeito para usar as fun√ß√µes de seta.  Por exemplo: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">export</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">default</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">computed</span></span>: {   ...<span class="hljs-built_in"><span class="hljs-built_in">mapState</span></span>({     results: state =&gt; state.results,     users: state =&gt; state.users,   }); } }</code> </pre> <br><h2>  <font color="#3AC1EF">Situa√ß√µes em que as fun√ß√µes de seta n√£o devem ser usadas</font> </h2><br><h3>  <font color="#3AC1EF">‚ñç M√©todos de objeto</font> </h3><br>  Existem v√°rias situa√ß√µes em que o uso das fun√ß√µes de seta n√£o √© uma boa ideia.  As fun√ß√µes de seta, se usadas de √¢nimo leve, n√£o apenas n√£o ajudam os programadores, mas tamb√©m se tornam uma fonte de problemas. <br><br>  A primeira situa√ß√£o √© usar fun√ß√µes de seta como m√©todos de objeto.  O contexto de execu√ß√£o e a <code>this</code> , espec√≠ficos para fun√ß√µes tradicionais, s√£o importantes aqui. <br><br>  Ao mesmo tempo, era popular usar uma combina√ß√£o de propriedades de classe e fun√ß√µes de seta para criar m√©todos com "liga√ß√£o autom√°tica", ou seja, aqueles que podem ser usados ‚Äã‚Äãpor manipuladores de eventos, mas permanecem vinculados √† classe.  Parecia algo assim: <br><br><pre> <code class="hljs javascript"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Counter</span></span></span><span class="hljs-class"> </span></span>{ counter = <span class="hljs-number"><span class="hljs-number">0</span></span>; handleClick = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.counter++; } }</code> </pre> <br>  Usando uma constru√ß√£o semelhante, mesmo que a fun√ß√£o <code>handleClick</code> chamada pelo manipulador de eventos e n√£o no contexto de uma inst√¢ncia da classe <code>Counter</code> , essa fun√ß√£o teve acesso aos dados dessa inst√¢ncia. <br><br>  No entanto, essa abordagem tem muitos pontos negativos aos quais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esse material √©</a> dedicado. <br><br>  Embora o uso de uma fun√ß√£o de seta aqui, √© claro, seja uma maneira conveniente de vincular uma fun√ß√£o, o comportamento dessa fun√ß√£o em muitos aspectos est√° longe de ser intuitivo, interferindo no teste e criando problemas em situa√ß√µes em que, por exemplo, eles tentam usar o objeto correspondente como um prot√≥tipo. <br><br>  Nesses casos, em vez de fun√ß√µes de seta, use fun√ß√µes comuns e, se necess√°rio, vincule a elas uma inst√¢ncia do objeto no construtor: <br><br><pre> <code class="hljs delphi"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Counter <span class="hljs-comment"><span class="hljs-comment">{ counter = 0; handleClick() {   this.counter++; }</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constructor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">{   this.handleClick = this.handleClick.bind(this); }</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">ChainsLonga cadeia de chamadas</font> </h3><br>  As fun√ß√µes de seta podem se tornar uma fonte de problemas se forem planejadas para serem usadas em muitas combina√ß√µes diferentes, em particular, em longas cadeias de chamadas de fun√ß√£o. <br><br>  A principal raz√£o para esses problemas, como ao usar fun√ß√µes an√¥nimas, √© que eles fornecem resultados extremamente pouco informativos do rastreamento da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pilha de chamadas</a> . <br><br>  Isso n√£o √© t√£o ruim se, por exemplo, houver apenas um n√≠vel de aninhamento de chamadas de fun√ß√£o, por exemplo, se estivermos falando sobre a fun√ß√£o usada no iterador.  No entanto, se todas as fun√ß√µes usadas forem declaradas como seta, e essas fun√ß√µes se chamarem, se ocorrer um erro, n√£o ser√° f√°cil descobrir o que est√° acontecendo.  As mensagens de erro ter√£o a seguinte apar√™ncia: <br><br><pre> <code class="hljs">{anonymous}() {anonymous}() {anonymous}() {anonymous}() {anonymous}()</code> </pre> <br><h3>  <font color="#3AC1EF">With Fun√ß√µes com contexto din√¢mico</font> </h3><br>  A √∫ltima das situa√ß√µes em que estamos discutindo, nas quais as fun√ß√µes de seta podem se tornar uma fonte de problemas, √© us√°-las onde voc√™ precisa de uma liga√ß√£o din√¢mica. <br><br>  Se fun√ß√µes de seta forem usadas nessas situa√ß√µes, a din√¢mica <code>this</code> liga√ß√£o n√£o funcionar√°.  Essa surpresa desagrad√°vel pode levar a que se confundam as raz√µes do que acontece com aqueles que precisam trabalhar com c√≥digo no qual as fun√ß√µes das setas s√£o usadas incorretamente. <br><br>  Aqui est√£o algumas coisas a serem lembradas ao considerar o uso das fun√ß√µes de seta: <br><br><ul><li>  Manipuladores de eventos s√£o chamados com <code>this</code> associado ao atributo de evento <code>currentTarget</code> . </li><li>  Se voc√™ ainda estiver usando jQuery, considere que a maioria dos m√©todos jQuery vincula <code>this</code> ao elemento DOM selecionado. </li><li>  Se voc√™ usa o Vue.js, m√©todos e fun√ß√µes calculadas geralmente o vinculam ao componente Vue. </li></ul><br>  Obviamente, as fun√ß√µes de seta podem ser usadas intencionalmente para alterar o comportamento padr√£o dos mecanismos de software.  Mas, especialmente nos casos com jQuery e Vue, isso geralmente entra em conflito com o funcionamento normal do sistema, o que leva ao fato de que o programador n√£o consegue entender por que algum c√≥digo que parece completamente normal se recusa a trabalhar repentinamente. <br><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  As fun√ß√µes de seta s√£o um recurso JavaScript maravilhoso e fresco.  Eles permitem, em muitas situa√ß√µes, escrever c√≥digo mais conveniente do que antes.  Mas, como √© o caso de outros recursos, eles t√™m vantagens e desvantagens.  Portanto, voc√™ precisa usar as fun√ß√µes de seta onde elas podem ser √∫teis, sem consider√°-las como um substituto completo para fun√ß√µes comuns. <br><br>  <b>Caros leitores!</b>  Voc√™ encontrou situa√ß√µes nas quais o uso das fun√ß√µes de seta leva a erros, inconvenientes ou comportamento inesperado dos programas? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt428566/">https://habr.com/ru/post/pt428566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt428556/index.html">‚ÄúO ambiente de produ√ß√£o est√° al√©m do seu controle‚Äù: Rian Lewis em testes de projetos de blockchain</a></li>
<li><a href="../pt428558/index.html">Como criei um assistente para WordPress a partir da minha profunda pregui√ßa</a></li>
<li><a href="../pt428560/index.html">An√∫ncio n√£o programado de sexta-feira</a></li>
<li><a href="../pt428562/index.html">Droidcon London. Como foi</a></li>
<li><a href="../pt428564/index.html">Pesquisa no MapKit: Dicas e truques</a></li>
<li><a href="../pt428568/index.html">Guia de desenvolvimento de aplicativos da Web nativos de rea√ß√£o</a></li>
<li><a href="../pt428570/index.html">Fun√ß√µes de ordem superior em JavaScript</a></li>
<li><a href="../pt428572/index.html">Componentes de ordem superior em React</a></li>
<li><a href="../pt428574/index.html">Eleve a comunica√ß√£o corporativa ao pr√≥ximo n√≠vel com o Zextras Chat</a></li>
<li><a href="../pt428576/index.html">[marcador] Vers√£o em PDF do tutorial do Node.js. e novo guia JavaScript</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>