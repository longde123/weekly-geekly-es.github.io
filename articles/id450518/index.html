<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕘 👩🏽‍🎤 💅🏽 Arduino dan Pemrosesan. Cara mengontrol mikrokontroler melalui port COM. Komunikasi dua arah 🧕🏼 🙏🏾 🥕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Ada kesalahpahaman di Internet bahwa untuk mengendalikan komputer menggunakan elektronik buatan sendiri, hanya papan khusus yang diperl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arduino dan Pemrosesan. Cara mengontrol mikrokontroler melalui port COM. Komunikasi dua arah</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450518/">  Halo semuanya!  Ada kesalahpahaman di Internet bahwa untuk mengendalikan komputer menggunakan elektronik buatan sendiri, hanya papan khusus yang diperlukan yang dapat dikenali sebagai perangkat USB HID.  Dan mengenai Arduino, semua orang hanya berbicara tentang <u><i>Arduino Leanardo</i></u> .  Perpustakaan populer seperti <b>Keyboard</b> dan <b>Mouse</b> , yang memungkinkan Anda untuk membuat emulasi mouse atau keyboard menggunakan mikrokontroler, dimaksudkan hanya untuk sepasang Arduino, papan Leonardo, di antara mereka. <br><br>  Saya akan berbicara tentang cara menghubungkan mikrokontroler Arduino (misalnya, mengambil <u><i>Arduino Uno</i></u> ) dan program Pemrosesannya.  Setelah menambahkan segala hal lain tentang pengetahuan Java, yang menjadi dasar pemrosesan, akan mungkin untuk menambahkan proyek di bawah kendali seluruh komputer, dan bukan hanya aplikasi sendiri.  Topik mengendalikan program komputer di Jawa bukanlah sesuatu yang rahasia, google dan Anda akan menemukan segalanya, saya jamin. <br><a name="habracut"></a><br><h3>  Unduh Development Environment (IDE) </h3><br>  Ada banyak lingkungan pengembangan terintegrasi untuk pemrograman mikrokontroler di C. murni  Dari jumlah tersebut, yang paling nyaman dapat dicatat: Atolika, Eclipse, Keil. <br><br>  Namun, untuk kesederhanaan dan aksesibilitas panduan ini, saya akan menggunakan editor IDE Arduino dan menulis dalam bahasa Arduino C.  Anda dapat mengunduh editor seperti itu dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web resmi Arduino</a> . <br><br>  Lingkungan pengembangan untuk pemrograman tentang Pengadaan Pekerjaan juga dapat diunduh dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web resmi</a> . <br><br>  Perlu dicatat, demi kesopanan, bahwa data IDE sangat mirip, karena mereka ditulis pada mesin yang sama.  Dan ketika Arduino dibuat, para pendiri berusaha menyederhanakan editor kode mereka sebanyak mungkin, seperti yang dilakukan dalam editor Pemrosesan. <br><br><h3>  Arduino  Kami merakit sirkuit dan menulis kode </h3><br>  Dalam contoh ini, saya akan menggunakan Arduino Uno.  Sebuah tombol, potensiometer, dan LED akan terhubung dengannya.  Dengan demikian, saya dapat menampilkan logis 0 atau 1. Baca logis 0 atau 1. Dan melakukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konversi Analog-Digital</a> (ADC atau ADC), mendapatkan angka dari 0 hingga 1023 (dalam Arduino Uno 10-bit ADC) tergantung pada posisi potensiometer.  Anda tidak perlu lebih banyak misalnya, karena ini adalah fungsi utama yang dapat dilakukan mikrokontroler. <br><br>  Diagram pengkabelan: <br><br><img src="https://habrastorage.org/webt/az/9e/vw/az9evwie9gjp4uojleeaoyjrnuk.png"><br><br>  Dalam diagram, LED anoda terhubung ke 5V melalui resistor pembatas (setidaknya 220 Ohm, lebih disukai 500 Ohm), oleh katoda untuk menyematkan D11.  Tombol menutup tanah dan pin D2.  Potensiometer mengubah potensial pada pin A1. <br><br>  Tugas mikrokontroler adalah sebagai berikut: Jika pesan "LED - H" tiba di antarmuka serial (Serial COM port) - hidupkan LED.  Jika pesan "LED - L" tiba, matikan LED.  Setiap 250ms mengirim pesan ke port serial (dalam hal ini, ke layar komputer) pesan "Pot -" dan nomor yang diterima oleh pembacaan analog pin A1.  Ketika sebuah tombol ditekan, kirim pesan "Tombol ditekan!" Sekali. <br><br>  Berikut adalah saran saya untuk menyelesaikan masalah ini (bukan contoh untuk diikuti): <br><br><div class="spoiler">  <b class="spoiler_title">Firmware untuk Arduino Uno</b> <div class="spoiler_text"><pre> <code class="hljs lua"><code class="cpp">#define pinPot A1 #define pinLed <span class="hljs-number"><span class="hljs-number">11</span></span> #define pinBtn <span class="hljs-number"><span class="hljs-number">2</span></span> void setup() { pinMode(pinPot, INPUT); pinMode(pinLed, OUTPUT); pinMode(pinBtn, INPUT_PULLUP); Serial.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>); Serial.println(<span class="hljs-string"><span class="hljs-string">"The program starts.\n\n"</span></span>); } void loop() { /* INITIAL VARIABLES. Segment <span class="hljs-number"><span class="hljs-number">1</span></span> */ static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> potMes[] = <span class="hljs-string"><span class="hljs-string">"Pot - "</span></span>; static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> btnMes[] = <span class="hljs-string"><span class="hljs-string">"Button is pressed!"</span></span>; static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> passLight[] = <span class="hljs-string"><span class="hljs-string">"Led - "</span></span>; static int passLength = sizeof(passLight) - <span class="hljs-number"><span class="hljs-number">1</span></span>; static int sizepm = sizeof(potMes) - <span class="hljs-number"><span class="hljs-number">1</span></span>; static int sizebtn = sizeof(btnMes) - <span class="hljs-number"><span class="hljs-number">1</span></span>; static bool flagLedState = LOW; static bool flagBtnPress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; static long int curTime = <span class="hljs-number"><span class="hljs-number">0</span></span>; static const int period = <span class="hljs-number"><span class="hljs-number">200</span></span>; static bool flagEnableRead = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; /* INITIAL VARIABLES. Segment <span class="hljs-number"><span class="hljs-number">1</span></span> */ /* FUNCTIONS CALL. Segment <span class="hljs-number"><span class="hljs-number">2</span></span> */ /* * Led is attached to HIGH voltage from one side * And to pin on the other side * By that the inverting logic */ ReadSerialForLed(passLight, passLength, &amp;flagLedState); digitalWrite(pinLed, !flagLedState); /* * Button pin always is pulled to the HIGH voltage * And only when button is pressed - Voltage on pin goes to GROUND * So it is need to invert logic when <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> pins */ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!Bounce(pinBtn) &amp;&amp; flagBtnPress == <span class="hljs-literal"><span class="hljs-literal">false</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sizebtn; i++){ Serial.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(btnMes[i]); } Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); flagBtnPress = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!flagEnableRead){ curTime = millis(); flagEnableRead = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Bounce(pinBtn)){ flagBtnPress = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } /* * Read <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> send Info <span class="hljs-string"><span class="hljs-string">"Pot - "</span></span> + var Only after first press on button * Every <span class="hljs-string"><span class="hljs-string">'period'</span></span>ms */ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(millis() - curTime &gt; period &amp;&amp; flagEnableRead){ SendData(pinPot, potMes, sizepm); curTime = millis(); } /* FUNCTIONS CALL. Segment <span class="hljs-number"><span class="hljs-number">2</span></span> */ } /* * Pot - pin with potentiometer * pMes - Array with message before Pot value * sp - size of potentiometer message */ void SendData(int Pot, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>* pMes, int sp){ static int varP[<span class="hljs-number"><span class="hljs-number">2</span></span>]; varP[<span class="hljs-number"><span class="hljs-number">0</span></span>] = analogRead(Pot); varP[<span class="hljs-number"><span class="hljs-number">1</span></span>] = varP[<span class="hljs-number"><span class="hljs-number">0</span></span>]/<span class="hljs-number"><span class="hljs-number">256</span></span>; // <span class="hljs-number"><span class="hljs-number">0</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">256</span></span> - <span class="hljs-number"><span class="hljs-number">1024</span></span>) varP[<span class="hljs-number"><span class="hljs-number">0</span></span>] = varP[<span class="hljs-number"><span class="hljs-number">0</span></span>]%<span class="hljs-number"><span class="hljs-number">256</span></span>; // <span class="hljs-number"><span class="hljs-number">0</span></span> - <span class="hljs-number"><span class="hljs-number">255</span></span> //Send Message <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(int i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sp; i++){ Serial.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">char</span></span>(pMes[i])); } //Send <span class="hljs-number"><span class="hljs-number">2</span></span> bits of data //Serial.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(varP[<span class="hljs-number"><span class="hljs-number">0</span></span>]); //Serial.<span class="hljs-built_in"><span class="hljs-built_in">write</span></span>(varP[<span class="hljs-number"><span class="hljs-number">1</span></span>]); Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(analogRead(Pot)); Serial.<span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"\n"</span></span>); } /* * Function, which is reads button pin with the bounce */ bool Bounce(int btn){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(digitalRead(btn) == <span class="hljs-literal"><span class="hljs-literal">true</span></span>){ delay(<span class="hljs-number"><span class="hljs-number">15</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(digitalRead(btn) == <span class="hljs-literal"><span class="hljs-literal">true</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } /* * If Message from Serial port, which you <span class="hljs-built_in"><span class="hljs-built_in">read</span></span> will be the same to passLight * So look at the <span class="hljs-built_in"><span class="hljs-built_in">next</span></span> symbol after Pass Message. If it is symbol <span class="hljs-string"><span class="hljs-string">'H'</span></span> - make LED to light * If it is <span class="hljs-string"><span class="hljs-string">'L'</span></span> - make LED off. */ void ReadSerialForLed(<span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *passLight_f, int passLength_f, bool* flagLedState_f){ static <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> sym; static int cntPass = <span class="hljs-number"><span class="hljs-number">0</span></span>; static bool readyGetLed = LOW; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { sym = Serial.<span class="hljs-built_in"><span class="hljs-built_in">read</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sym == passLight_f[cntPass] &amp;&amp; !readyGetLed){ cntPass++; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!readyGetLed){ cntPass = <span class="hljs-number"><span class="hljs-number">0</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(readyGetLed){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sym == <span class="hljs-string"><span class="hljs-string">'H'</span></span>){ *flagLedState_f = HIGH; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(sym == <span class="hljs-string"><span class="hljs-string">'L'</span></span>){ *flagLedState_f = LOW; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(cntPass == passLength_f){ readyGetLed = HIGH; } } }</code></code> </pre> </div></div><br>  <i>Komentar: LED terhubung ke catu daya oleh anoda.</i>  <i>Ini membalikkan logika status LED dan tidak lagi bermanfaat.</i>  <i>Tombol tidak diikat dengan resistor pull-up karena alasan ekonomi, karena Arduino Uno memiliki resistor pull-up built-in yang termasuk dalam sirkuit ketika pin diinisialisasi ke mode INPUT_PULLUP.</i> <i><br></i>  <i>Juga di firmware, pesan tentang nilai yang diambil dari potensiometer dikirim hanya setelah penekanan pertama tombol!</i> <br><br>  Untuk mengisi firmware di board, jangan lupa untuk memilih port dan board. <br><br><img src="https://habrastorage.org/webt/tt/ow/bu/ttowbuw18xkgx2celq3d3yksvdk.jpeg"><br><br>  Jika Anda tidak tahu port COM yang Anda miliki untuk papan Arduino, maka pada Windows, buka <br>  Control Panel -&gt; Device Manager dan klik pada tab "COM Ports" <br><br><img src="https://habrastorage.org/webt/im/ij/0b/imij0buxklsl9lolioy0z-_ozfm.jpeg"><br><br>  Jika port COM Anda tidak ditandatangani sebagai milik saya, Anda selalu dapat memutuskan koneksi Arduino dan melihat port mana yang hilang.  Tetapi jika tidak ada yang menghilang dan Arduin sama sekali tidak dikenali oleh komputer, maka inilah saatnya mencari solusi di Internet.  Tetapi mulailah dengan memperbarui driver atau mengganti papan. <br><br>  Ketika semuanya berhasil, coba buka monitor port dan masukkan "Led-H", "Led-L", tekan tombol, putar potensiometer dan lihat layar untuk melihat apakah semuanya ditampilkan dengan benar. <br><br>  Sudah cukup bermain - sedikit ubah kodenya. <br><br>  Ganti baris terakhir dengan kode dari komentar. <br><br><pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">//Send 2 bits of data //Serial.write(varP[0]); //Serial.write(varP[1]); Serial.print(analogRead(Pot));</span></span></code> </pre> <br>  Sekarang nilai-nilai dari potensiometer tidak akan terlihat dapat dibaca, tetapi manuver seperti itu diperlukan untuk program Pemrosesan. <br><br><h3>  Pengolahan  Kami sedang menulis sebuah program yang berinteraksi dengan mikrokontroler </h3><br>  Inti dari komunikasi antara program Pemrosesan dan mikrokontroler sangat sederhana.  Ada perpustakaan Serial untuk bahasa pemrograman ini, yang memungkinkan Anda menerima pesan yang dikirim sebagai <code>Serial.write();</code>  , dan juga memungkinkan Anda mengirim pesan sebagai <code>Serial.print();</code>  .  Penting untuk dicatat bahwa dengan pesan seperti itu dikirim, itu akan ditulis ke buffer port, yang berarti akan dibaca oleh mikrokontroler.  Jadi kita hanya perlu terhubung ke port Serial yang diinginkan dan menerima / mengirim pesan ke sana. <br><br>  Program berikut ini akan menghubungkan Serial library dan menulis di konsol editor daftar semua port COM yang dapat Anda sambungkan. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> processing.serial.*; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ String[] port = Serial.list(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; port.length; i++){ print(<span class="hljs-string"><span class="hljs-string">"Port number #"</span></span> + i + <span class="hljs-string"><span class="hljs-string">" "</span></span>); println(Serial.list()[<span class="hljs-number"><span class="hljs-number">0</span></span>]); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{}</code> </pre> <br>  Ketika Anda menulis kode ke editor dan mengklik tombol "Start" (panah 1 pada gambar), jendela aplikasi akan muncul (2) dan daftar port COM akan ditampilkan di konsol (3). <br><br><img src="https://habrastorage.org/webt/e9/v6/cx/e9v6cxk0zwyi_dxchv7nnc-fieo.jpeg"><br><br>  Saya hanya memiliki satu port COM dan dalam sheet, seperti pada array, itu akan berada di nomor 0. Untuk alasan ini, objek dari kelas <code>Serial port;</code> : <code>Serial port;</code>  ketika dibuat, akan ditentukan elemen pertama dari daftar <code>port = new Serial(this, Serial.list()[0], 9600);</code> <br><br>  Tuang di Arduin firmware terbaru kami dengan perubahan.  Kemudian tulis program ini dan jalankan.  Di dalamnya Setiap 500 milidetik pesan dikirim ke port COM untuk mematikan atau menyalakan LED.  Dan jika semuanya dilakukan dengan benar, maka setelah memulai aplikasi LED harus berkedip. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> processing.serial.*; Serial port; <span class="hljs-comment"><span class="hljs-comment">// Create object from Serial class void setup(){ port = new Serial(this, Serial.list()[0], 9600); } void draw(){ delay(500); port.write("Led - H"); delay(500); port.write("Led - L"); }</span></span></code> </pre> <br>  Atau di sini adalah contoh lain.  LED akan berubah statusnya setelah klik pada jendela aplikasi (yang dimensinya 800x800px) dengan tombol mouse. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> processing.serial.*; Serial port; <span class="hljs-comment"><span class="hljs-comment">// Create object from Serial class int cnt = 0; void setup(){ size(800, 800); port = new Serial(this, Serial.list()[0], 9600); } void draw(){} void mousePressed() { cnt++; if(cnt % 2 == 1){ port.write("Led - H"); }else{ port.write("Led - L"); } }</span></span></code> </pre> <br><h3>  Pengolahan  Contoh aplikasi kaya fitur </h3><br>  Aplikasi dasar ini mensimulasikan "penerbangan di luar angkasa", jika Anda bisa menyebutnya begitu.  Nilai dari potensiometer mengubah kecepatan penerbangan, menekan tombol mengubah arah penerbangan.  Dan setiap klik tombol mouse pada jendela aplikasi mengubah status LED (ya, saya tidak menemukan yang lebih orisinal). <br><br>  Kode saya jauh dari sempurna, jangan menganggapnya sebagai contoh yang baik.  Ini hanya contoh yang berhasil.  Ini dia. <br><br><div class="spoiler">  <b class="spoiler_title">Contoh program multifungsi</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> processing.serial.*; Serial port; <span class="hljs-comment"><span class="hljs-comment">// Create object from Serial class int val; // Data received from the serial port (symbol) int pot; // Data from potentiometer String potMes = "Pot - "; String btnMes = "Button is pressed!"; int cntPM = 0; // Counter Potentiometer Message. // When it equals to length of Pot Mess - get value. int cntBM = 0; int cntBtnPress = 0; int cntMousePress = 0; Star[] stars = new Star[1000]; float speed; int dir = 1; void setup(){ size(800, 800); for(int i = 0; i &lt; stars.length; i++){ stars[i] = new Star(); } frameRate(60); // 60 Frames per second port = new Serial(this, Serial.list()[0], 9600); // Wait for first message from Arduino delay(2000); while (port.available() &gt; 0) { val = port.read(); print(char(val)); } } void draw(){ if (port.available() &gt; 0) { val = port.read(); cntPM = CheckSymbol(potMes, cntPM, char(val), cntPM); cntBM = CheckSymbol(btnMes, cntBM, char(val), cntBM); } DrawRain(pot, 0, 1023); } void DrawRain(int speed_f, int min, int max){ background(0); translate(width/2,height/2); speed = dir*map(speed_f, min, max, 0, 50); for(int i = 0; i &lt; stars.length; i++){ stars[i].go(); stars[i].update(); stars[i].show(); } } int CheckSymbol(String mes, int index, char sym, int ret_val){ if(mes.charAt(index) == sym &amp;&amp; ret_val &lt; (mes.length() - 1)){ return (ret_val + 1); }else if( ret_val == (mes.length() - 1) &amp;&amp; mes.equals(potMes) ){ if(port.available() &gt; 0){ pot = port.read(); // First 0-255 value } if(port.available() &gt; 0){ pot += 256*port.read(); // Last 2 bits 256 - 1024 } }else if( ret_val == (mes.length() - 1) &amp;&amp; mes.equals(btnMes) ){ cntBtnPress++; dir = -dir; } return 0; } void mousePressed() { cntMousePress++; if(cntMousePress % 2 == 1){ port.write("Led - H"); }else{ port.write("Led - L"); } }</span></span></code> </pre> </div></div><br><h3>  Kesimpulan </h3><br>  Saya pikir saya perlu menulis bahwa saya mengambil ide program terakhir dari satu programmer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Daniel Shiffman</a> , yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">merekam</a> video yang dapat dimengerti bahkan untuk anak-anak tentang pemrograman pada Pemrosesan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lebih dari 140 tugas visual telah diselesaikan</a> ). <br><br>  Ketika saya mencoba mencari tahu apa dan bagaimana melakukan pemrosesan dan komunikasi Arduino sendiri, situs-situs ini benar-benar membantu saya: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">developer.alexanderklimov.ru/arduino/processing.php</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">arduino-diy.com/arduino-processing-osnovi</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450518/">https://habr.com/ru/post/id450518/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450506/index.html">Cara membuat aplikasi dari situs dan menaruhnya di Google Play dalam beberapa jam. Bagian 2/2: Aktivitas Web Tepercaya</a></li>
<li><a href="../id450508/index.html">Joe Armstrong tentang Elixir, Erlang, FP dan OOP</a></li>
<li><a href="../id450510/index.html">Lima masalah dalam operasi dan proses dukungan dari sistem TI Highload</a></li>
<li><a href="../id450514/index.html">CVT vs negara</a></li>
<li><a href="../id450516/index.html">Tanda Tangan MacOS Berkualitas</a></li>
<li><a href="../id450520/index.html">Membuat AI yang andal dan terverifikasi: kepatuhan terhadap spesifikasi, pelatihan yang andal, dan verifikasi formal</a></li>
<li><a href="../id450522/index.html">Sejarah Internet: Peluruhan, Bagian 1</a></li>
<li><a href="../id450524/index.html">Kontrol komputer melalui Telegram</a></li>
<li><a href="../id450526/index.html">10. Periksa Titik Memulai R80.20. Kesadaran Identitas</a></li>
<li><a href="../id450528/index.html">Pemahaman tentang join rusak. Untuk dilanjutkan. Mencoba Visualisasi Alternatif</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>