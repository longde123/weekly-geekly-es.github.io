<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåï ü§∞üèæ üôãüèΩ Verificando o desempenho do SOC ü§æüèø ü§òüèª üöï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje falaremos sobre o Security Operations Center (SOC) de pessoas que n√£o o criam e o configuram, mas que verificam como os outros o fizeram. A efic√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verificando o desempenho do SOC</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dsec/blog/454148/">  Hoje falaremos sobre o Security Operations Center (SOC) de pessoas que n√£o o criam e o configuram, mas que verificam como os outros o fizeram.  A efic√°cia do SOC criado para sua empresa independentemente ou por algu√©m externo √© verificada.  A verifica√ß√£o responde √† pergunta ‚ÄúO SOC cumpre as tarefas que lhe foram atribu√≠das ou n√£o, e qual a sua efic√°cia?‚Äù.  Afinal, a presen√ßa do SOC n√£o significa que ele funcione como deveria e voc√™ est√° ciente de quaisquer poss√≠veis incidentes e outros problemas de seguran√ßa.  Contaremos sobre nossa experi√™ncia na verifica√ß√£o do SOC em diferentes empresas de nossos projetos. <br><br><img src="https://habrastorage.org/webt/k8/8j/aw/k88jawtmbartkria690_ycsumny.jpeg"><br><a name="habracut"></a><br>  Para quem j√° sabe o que √© o SOC e com o que ele est√° b√™bado, sugerimos que v√° imediatamente para a segunda <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">parte do</a> artigo.  Sugerimos que voc√™ leia o restante do artigo na √≠ntegra. <br><br><h1>  Parte 1. Um pouco sobre o SOC para iniciantes </h1><br>  A prote√ß√£o dos sistemas de informa√ß√£o vem em primeiro lugar em quase todos os setores.  Qualquer acesso n√£o autorizado a informa√ß√µes pode levar a s√©rios problemas para a empresa. <br><br>  O sistema de informa√ß√µes de qualquer empresa, mesmo a menor, √© complexo e todas as suas partes devem ser protegidas de acordo com o mesmo princ√≠pio - primeiro medidas organizacionais, depois preventivas, depois ferramentas de vigil√¢ncia que detectam anomalias e ferramentas de resposta.  As pessoas est√£o no √∫ltimo, mas n√£o menos importante, est√°gio de combate √†s amea√ßas, embora aconte√ßa que um problema de seguran√ßa possa ser resolvido sem envolver as pessoas, por exemplo, bloqueando automaticamente as portas ou desconectando uma m√°quina de uma rede compartilhada.  As ferramentas usadas para proteger cada um dos componentes do sistema podem variar de empresa para empresa, mas h√° uma tend√™ncia geral - gradualmente as empresas, independentemente do seu tamanho, chegam √† id√©ia de introduzir o SOC - Security Operation Center. <br><br>  Existem v√°rias raz√µes para isso: <br><br><ul><li>  O uso do SOC reduz o custo do rastreamento manual de incidentes de seguran√ßa </li><li>  eventos do sistema se re√∫nem em um s√≥ lugar, menos prov√°vel que algum deles seja perdido; </li><li>  O SOC permite configurar regras para classificar eventos como incidentes de seguran√ßa de acordo com as necessidades e caracter√≠sticas de uma empresa espec√≠fica; </li><li>  O SOC permite minimizar o tempo de detec√ß√£o e resposta a incidentes de seguran√ßa, reduzindo assim os poss√≠veis danos √† empresa; </li><li>  os logs que se enquadram no SOC s√£o apresentados de uma s√≥ vez, o que permite investigar efetivamente incidentes de seguran√ßa, mesmo que um invasor tente observar os rastros de sua presen√ßa no sistema. </li></ul><br>  O SOC √© uma infraestrutura com muitos componentes interconectados, com base no SIEM (Gerenciamento de informa√ß√µes e eventos de seguran√ßa).  O SIEM √© um sistema de coleta, normaliza√ß√£o e correla√ß√£o de dados que coleta logs de servidores Web, m√°quinas host e outros componentes de infraestrutura, al√©m de ferramentas de seguran√ßa da informa√ß√£o instaladas em dispositivos da rede da organiza√ß√£o, correlaciona e processa-os para traz√™-los de volta ao normal.  Essa √© a principal tarefa do SIEM - trazer um grande n√∫mero de logs de diferentes fontes para um √∫nico formato para a conveni√™ncia de detectar os relacionamentos entre eles.  Isso √© necess√°rio para outro componente dos analistas do SOC - SOC que, observando as enormes listas de logs do SIEM, precisam responder a alguns dos eventos por conta pr√≥pria ou transferi-los para o trabalho de especialistas em seguran√ßa. <br><br>  N√£o h√° dois SOCs id√™nticos porque sua configura√ß√£o √© individual para cada organiza√ß√£o.  Os principais est√°gios da cria√ß√£o do SOC s√£o os seguintes: <br><br><ul><li> definir uma infraestrutura protegida, organizacional e tecnicamente; </li><li>  instala√ß√£o de todos os meios poss√≠veis / necess√°rios de prote√ß√£o e monitoramento, bem como sua configura√ß√£o; </li><li>  sele√ß√£o de um SIEM adequado e seu ajuste, dependendo das caracter√≠sticas da empresa; </li><li>  criando regras de correla√ß√£o de eventos; </li><li>  sele√ß√£o da equipe do SOC - pessoas cujo trabalho monitorar√° eventos e far√° corre√ß√µes nas regras de correla√ß√£o, al√©m de responder a eventos de seguran√ßa. </li></ul><br>  Mesmo depois de tudo ter sido definido, instalado e configurado, ningu√©m pode garantir que agora o SOC funcione como voc√™ gostaria ou como mostrado nas belas apresenta√ß√µes dos desenvolvedores do SIEM.  O problema fundamental do uso de qualquer meio de prote√ß√£o √© que praticamente ningu√©m sabe com que efic√°cia eles funcionam.  √â importante n√£o apenas instal√°-los e execut√°-los, mas tamb√©m garantir que as medidas tomadas sejam eficazes.  O n√≠vel de maturidade da empresa em quest√µes de seguran√ßa tamb√©m √© extremamente importante. <br><br>  Como o SOC √© uma estrutura complexa e com v√°rios componentes, √© importante entender que, em cada um dos est√°gios listados de sua cria√ß√£o, algo pode dar errado.  E isso provavelmente afetar√° a seguran√ßa geral do sistema e a efici√™ncia do pr√≥prio SOC. <br><br><h1><a name="part2"></a>  Parte 2. O que acontece se voc√™ n√£o verificar a efic√°cia do SOC, mas deixar tudo como est√°? </h1><br><img src="https://habrastorage.org/webt/nt/w-/d6/ntw-d6ttjy2mokg71gpq7nzye7e.jpeg"><br><br>  Para come√ßar, algo pode dar errado, mesmo com a menor <b>mudan√ßa na infraestrutura</b> da organiza√ß√£o.  E acontecem com bastante frequ√™ncia - algu√©m sai, novas pessoas chegam, algo quebra, o hardware e o software s√£o atualizados e muito mais.  Nesse caso, as configura√ß√µes do SPI e as regras de correla√ß√£o devem ser prontamente alteradas, mas geralmente esquecem disso e, quando lembram, √© tarde demais. <br><br><img src="https://habrastorage.org/webt/i8/5z/r-/i85zr-bggvrlkbclbmsjiqocawu.jpeg"><br><br>  A pr√≥xima parte do SOC em que os erros podem ocorrer √© o <b>meio de prote√ß√£o a</b> partir do qual as informa√ß√µes entram no SIEM, podem ser configuradas incorretamente e pular as a√ß√µes direcionadas ao sistema de fora.  E se a a√ß√£o do invasor n√£o for detectada por nenhum SZI existente, ele n√£o entrar√° nos logs e n√£o estar√° no SIEM, e provavelmente o servi√ßo de seguran√ßa n√£o saber√° sobre isso em breve. <br><br><img src="https://habrastorage.org/webt/mc/gz/yz/mcgzyzfaqjul-mne8abzfesqnnk.jpeg"><br><br>  O problema pode estar no <b>SIEM</b> .  Pode n√£o funcionar como voc√™ gostaria.  Eventos que caem nele podem ser correlacionados incorretamente devido a erros nas regras de correla√ß√£o, o que levar√° ao pulo das a√ß√µes do atacante.  Vale a pena esclarecer aqui que nem sempre h√° dados suficientes de uma fonte.  H√° casos em que, para determinar incidentes de seguran√ßa, √© necess√°rio combinar dados de v√°rias fontes ao mesmo tempo para obter uma imagem completa do que est√° acontecendo no sistema.  Mas pode ser que a regra esteja configurada para determinar o que aconteceu, o incidente pode n√£o ser dados suficientes de uma fonte, o que indica o fato de sua conclus√£o.  I.e.  um quebra-cabe√ßa composto de dados de v√°rias fontes n√£o funcionar√°.  Al√©m disso, as regras para alguns eventos de seguran√ßa podem n√£o existir. <br><br>  <b>No est√°gio de correla√ß√£o de eventos</b> no SIEM, v√°rios problemas podem surgir ao mesmo tempo.  Um deles pode ser um atraso na transmiss√£o de eventos de algumas fontes, o que pode interferir na correla√ß√£o bem-sucedida. <br><br>  <b>As regras para classificar eventos como incidentes</b> no SIEM podem n√£o ser configuradas corretamente por conta pr√≥pria ou podem n√£o estar dispon√≠veis para nenhum evento.  Al√©m disso, os incidentes geralmente t√™m um n√≠vel de gravidade que, se n√£o for corretamente identificado, pode levar a grandes problemas. <br><br><img src="https://habrastorage.org/webt/lp/i_/_b/lpi__b8kyefqpytkx1pvmfkdxw0.jpeg"><br><br>  <b>As pessoas que</b> trabalham com o SIEM, cuja fun√ß√£o √© responder a incidentes de seguran√ßa, tamb√©m podem causar ataques perdidos e problemas subseq√ºentes de seguran√ßa da informa√ß√£o.  Eles podem perder alguns sinais do SIEM ou reagir incorretamente √†s a√ß√µes do atacante por v√°rios motivos.  Tamb√©m existe o problema de as pessoas desistirem mais cedo ou mais tarde, e os novos funcion√°rios precisam de tempo para treinar. <br><br>  Diante do exposto, o teste do SOC para verificar o desempenho √© extremamente importante, tanto no est√°gio de implementa√ß√£o do SOC quanto no decorrer do tempo.  Como os especialistas de nossa empresa j√° possuem experi√™ncia nesse assunto, decidimos descrever os principais pontos e nuances. <br><br><h1>  Parte 3. Verificando a efic√°cia do SOC </h1><br>  O teste de SOC em uma empresa pode ser realizado em v√°rios cen√°rios.  Vamos falar sobre aqueles que nos parecem mais eficazes. <br><br>  As tarefas de teste do SOC incluem testes de seguran√ßa, reproduzindo cen√°rios de comportamento t√≠picos inerentes aos criminosos cibern√©ticos.  Estes incluem: <br><br><ul><li>  iterando pelas contas de outros usu√°rios usando for√ßa bruta, bem como usando a t√©cnica de pulveriza√ß√£o de senha.  √â poss√≠vel usar esta t√©cnica se voc√™ tiver acesso √† lista de contas existentes no sistema, por exemplo, atrav√©s do cat√°logo de endere√ßos do cliente de email.  Em nossa experi√™ncia, as t√©cnicas de pulveriza√ß√£o de senha s√£o frequentemente esquecidas e, portanto, as regras do SOC dificilmente podem detectar um ataque assim; </li><li>  bombeando dados de um recurso da Web, seja um wiki corporativo ou um gerenciador de tarefas.  Esse ataque pode ser realizado incluindo o uso de v√°rios mecanismos de rastreamento na Web e de diret√≥rio bruto.  Separadamente, os auditores prestam aten√ß√£o aos servi√ßos de API e seus recursos; </li><li>  tentativas repetidas de acessar recursos ou projetos que est√£o fora da compet√™ncia da fun√ß√£o em nome da qual o atacante trabalha.  Um exemplo simples √© a tentativa de autorizar um usu√°rio de um grupo de desenvolvedores sobre os recursos dos administradores de rede e servi√ßos de seguran√ßa; </li><li>  Tentativas de baixar uma grande quantidade de informa√ß√µes da rede corporativa usando t√©cnicas de filtragem de desvio.  Isso se refere principalmente aos t√∫neis DNS e ICMP, mas √†s vezes faz sentido come√ßar com verifica√ß√µes mais simples, por exemplo, tente procurar uma porta TCP ou UDP aberta fora, al√©m de um gateway adicional.  Para procurar gateways, a prop√≥sito, h√° uma implementa√ß√£o revisada de uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramenta</a> popular de um dos funcion√°rios. </li></ul><br>  Uma lista semelhante de verifica√ß√µes pode ser continuada por um longo tempo.  √â muito importante ser guiado pelas reais necessidades do cliente e pelas verifica√ß√µes implementadas por ele. <br><br>  O teste SOC pode ser realizado de duas maneiras: <br><br><ul><li>  cegamente - caixa preta; </li><li>  com conhecimento de infraestrutura - whitebox. </li></ul><br>  Mais detalhes sobre cada um deles. <br><br>  Primeiro de tudo, voc√™ deve verificar a opera√ß√£o do SOC no modo de teste de caixa preta.  Sua ess√™ncia √© que os funcion√°rios do departamento SOC n√£o est√£o cientes do trabalho que est√° sendo realizado e reagem a todos os eventos no modo de combate.  Os auditores / promotores de acesso t√™m acesso √† rede corporativa e as contas tamb√©m podem ser fornecidas pelos servi√ßos mais usados ‚Äã‚Äãna empresa. <br><br>  Esse modelo pressup√µe que um invasor que n√£o possui nenhuma informa√ß√£o adicional tenha acesso √† rede da empresa e a nenhuma das contas existentes de maneira desconhecida.  As a√ß√µes de um invasor s√£o caracterizadas por um alto grau de aleatoriedade e "ru√≠do".  Ele verifica ativamente a rede, itera diret√≥rios, contas, envia todas as explora√ß√µes que conhece a todas as portas, lan√ßa aplicativos da Web XSS, SQLi, RCE, SSTI, NoSQLi, etc. com vetores.  Em geral, ele se comporta de forma extremamente agressiva na esperan√ßa de invadir pelo menos alguma coisa.  Durante a auditoria, os auditores imitam as a√ß√µes de um invasor, mantendo um certo grau de insanidade, mas est√£o prontos para parar a qualquer momento, a pedido do servi√ßo SOC ou se surgirem problemas t√©cnicos.  A prop√≥sito, um resultado inesperado e agrad√°vel pode ser a descoberta de aplicativos e servi√ßos vulner√°veis ‚Äã‚Äãna infraestrutura da empresa. <br><br>  Outro modelo de teste √© o whitebox.  Nesse caso, o cen√°rio de um funcion√°rio sem escr√∫pulos √© elaborado.  Normalmente, nesse ponto, os auditores s√£o bem versados ‚Äã‚Äãna rede do cliente e podem desempenhar esse papel.  O comportamento de um invasor em potencial nesse caso pode ser caracterizado pela alta seletividade dos meios e dos alvos do ataque.  Aqui j√° √© poss√≠vel tra√ßar alguns paralelos com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ataques do APT</a> .  Os auditores atacam apenas os lugares mais fracos em sua opini√£o e usam vetores de ataque bem pensados ‚Äã‚Äãe direcionados de maneira restrita e tamb√©m tentam acessar informa√ß√µes confidenciais fora da compet√™ncia de sua fun√ß√£o de conta com a tentativa subsequente de extra√≠-las do per√≠metro seguro.  Eles tentam executar todas as a√ß√µes de forma a passar despercebidos pelo servi√ßo de seguran√ßa da empresa. <br><br>  Ap√≥s o teste, geralmente come√ßa a an√°lise e compara√ß√£o dos resultados obtidos pelos auditores e os incidentes detectados pelos funcion√°rios do SOC.  Esta etapa fornecer√° uma imagem geral da efic√°cia do trabalho atual do SOC e pode servir como ponto de partida para todos os planos adicionais para expandir as verifica√ß√µes e abordagens existentes. <br><br>  Finalmente, quando uma id√©ia da seguran√ßa da infraestrutura testada √© compilada, os auditores podem usar o teste da caixa branca para analisar o conjunto de regras existente, bem como os eventos com base nos quais essas regras s√£o formadas.  Essa intera√ß√£o entre auditores e analistas do SOC pode ser muito produtiva e, durante a consulta, ajudar√° a identificar erros e omiss√µes l√≥gicos na configura√ß√£o dos componentes do SOC.  A raiz deles geralmente √© a falta de entendimento dos analistas do SOC sobre como um invasor real pode agir e quais truques ele pode executar nos sistemas. <br><br><h1>  Conclus√£o </h1><br>  Os servi√ßos mais cr√≠ticos que merecem mais aten√ß√£o s√£o testados separadamente, usando dois modelos de intrusos. <br><br>  Um conjunto semelhante de medidas permite: <br><br><ul><li>  aumentar significativamente a conscientiza√ß√£o dos gerentes de seguran√ßa sobre o estado de sua infraestrutura; </li><li>  realizar exerc√≠cios militares para o departamento do SOC com a oportunidade de obter conselhos de especialistas na √°rea de auditoria; </li><li>  detectar e corrigir erros existentes no trabalho do SOC, bem como geralmente aumentar a seguran√ßa da empresa. </li></ul><br>  Pela ajuda na reda√ß√£o deste artigo, agrade√ßo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Denis _ttffdd_ Rybin</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ivan Chalykin</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454148/">https://habr.com/ru/post/pt454148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454132/index.html">Vigil√¢ncia por v√≠deo em orange pi zero - barato e nem um pouco zangado</a></li>
<li><a href="../pt454136/index.html">O mais belo teorema da matem√°tica: a identidade de Euler</a></li>
<li><a href="../pt454138/index.html">10 de junho, Deworkacy - QA Good Communication</a></li>
<li><a href="../pt454140/index.html">De advogado a testador em Yandex. A hist√≥ria do meu est√°gio</a></li>
<li><a href="../pt454144/index.html">No Java 13, eles querem adicionar "blocos de texto"</a></li>
<li><a href="../pt454154/index.html">"Ramos do inferno": controle em nuvem de aterros ilegais e aterros perigosos</a></li>
<li><a href="../pt454156/index.html">Pneus e protocolos em automa√ß√£o industrial: como tudo funciona</a></li>
<li><a href="../pt454160/index.html">Usando o PowerShell para aumentar os privil√©gios da conta local</a></li>
<li><a href="../pt454164/index.html">Como o teste A / B funciona no Avito?</a></li>
<li><a href="../pt454166/index.html">6 de junho - F√≥rum VeeamON em Moscou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>