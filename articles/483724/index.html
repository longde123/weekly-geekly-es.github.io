<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçò üí™üèæ üìî Trabaja con llantas personalizadas complejas Redd ü¶é üç™ üëáüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el √∫ltimo art√≠culo, comenzamos a familiarizarnos con c√≥mo trabajar con neum√°ticos est√°ndar y bien conocidos utilizando el complejo Redd, despu√©s de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Trabaja con llantas personalizadas complejas Redd</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483724/"> En el <a href="https://habr.com/ru/post/477662/">√∫ltimo art√≠culo,</a> comenzamos a familiarizarnos con c√≥mo trabajar con neum√°ticos est√°ndar y bien conocidos utilizando el complejo Redd, despu√©s de lo cual promet√≠ pasar a c√≥mo obtener acceso a neum√°ticos m√°s ex√≥ticos.  Pero despu√©s de hablar con un par de conocidos, de repente me di cuenta de que no todos le√≠an el art√≠culo escrito sobre el complejo Redd fuera de este ciclo.  Y, en consecuencia, no todos saben por qu√© estos neum√°ticos se agregaron al complejo en absoluto.  Por supuesto, puede referirse a <a href="https://habr.com/ru/post/440156/">ese art√≠culo</a> , pero me parece que ser√° m√°s correcto volver a contar su parte correspondiente con referencia al tema de este ciclo en particular.  Por lo tanto, hoy consideraremos no solo cuestiones pr√°cticas, sino tambi√©n te√≥ricas con respecto a los neum√°ticos vendidos por el complejo Redd. <br><br><img src="https://habrastorage.org/webt/af/-c/vx/af-cvxucoo4l55__goxrdffbbtc.png"><br><a name="habracut"></a><br><h2>  Parte te√≥rica aburrida </h2><br><h3>  Lo que consideraremos </h3><br>  Repasemos brevemente (en la medida de lo posible) algunas cuestiones te√≥ricas para comprender claramente por qu√© todo se hace en el complejo Redd de una forma u otra.  Primero que nada, la tarea principal del complejo ... Curiosamente, como parte de esta serie de art√≠culos, nunca he escrito sobre eso.  S√≠, y no planeo escribir.  El hecho es que la tarea principal es un acceso remoto conjunto para la depuraci√≥n de cierto hardware (desde microcontroladores hasta enormes sistemas de procesador multin√∫cleo).  Reserva de tiempo de trabajo, proporcionando acceso f√≠sico a trav√©s de canales de p√©sima media (y no solo ideal) y otras delicias.  La depuraci√≥n puede realizarse mediante JTAG o mediante otras herramientas proporcionadas por entornos de desarrollo.  Un gran equipo est√° trabajando en esto, todo es muy interesante all√≠, pero no me gusta ninguna burocracia, por lo que no quiero escribir sobre esos temas.  Quiz√°s en el futuro, alguien m√°s llene este vac√≠o ... Mientras tanto, estoy escribiendo sobre las herramientas <b>auxiliares</b> del complejo. <br><br>  S√≠, s√≠, todo lo que he estado describiendo durante m√°s de seis meses son solo cosas dise√±adas para <b>ayudar</b> a <b>los</b> desarrolladores. <br><br><div class="spoiler">  <b class="spoiler_title">Art√≠culos anteriores del ciclo</b> <div class="spoiler_text"><ol><li>  <a href="https://habr.com/ru/post/452656/">Desarrollo del "firmware" m√°s simple para FPGAs instalados en Redd, y depuraci√≥n utilizando la prueba de memoria como ejemplo.</a> </li><li>  <a href="https://habr.com/ru/post/453682/">Desarrollo del "firmware" m√°s simple para FPGAs instalados en Redd.</a>  <a href="https://habr.com/ru/post/453682/">Parte 2. C√≥digo del programa.</a> </li><li>  <a href="https://habr.com/ru/post/454938/">Desarrollo de su propio n√∫cleo para incrustar en un sistema de procesador basado en FPGA.</a> </li><li>  <a href="https://habr.com/ru/post/456008/">Desarrollo de programas para el procesador central Redd sobre el ejemplo de acceso a la FPGA.</a> </li><li>  <a href="https://habr.com/ru/post/462253/">Los primeros experimentos utilizando el protocolo de transmisi√≥n en el ejemplo de la CPU y la comunicaci√≥n del procesador en el FPGA Redd.</a> </li><li>  <a href="https://habr.com/ru/post/464795/">Merry Quartusel, o c√≥mo el procesador ha llegado a tal vida.</a> </li><li>  <a href="https://habr.com/ru/post/467353/">M√©todos de optimizaci√≥n de c√≥digo para Redd.</a>  <a href="https://habr.com/ru/post/467353/">Parte 1: efecto cach√©.</a> </li><li>  <a href="https://habr.com/ru/post/468027/">M√©todos de optimizaci√≥n de c√≥digo para Redd.</a>  <a href="https://habr.com/ru/post/468027/">Parte 2: memoria no almacenada en cach√© y operaci√≥n de bus paralelo.</a> </li><li>  <a href="https://habr.com/ru/post/469985/">Amplia optimizaci√≥n de c√≥digo: reemplazar un generador de reloj para mejorar el rendimiento del sistema.</a> </li><li>  <a href="https://habr.com/ru/post/477662/">Acceso a autobuses Redd implementados en controladores FTDI</a> </li></ol><br></div></div><br><h3>  ¬øPor qu√© en Redd se implementan neum√°ticos est√°ndar complejos? </h3><br>  Muy a menudo tiene que desarrollar equipos sin tener acceso a ellos usted mismo.  Veamos un ejemplo espec√≠fico de un proyecto que tiene buenos enlaces.  Aqu√≠, por ejemplo, est√°n mis <a href="https://www.astrosoft.ru/about/clients/cassel-aero/" rel="nofollow">helic√≥pteros</a> favoritos.  Estamos aqu√≠, y los helic√≥pteros est√°n en Suecia.  Adem√°s, ordenamos el desarrollo en el invierno, cuando los helic√≥pteros f√≠sicamente no pod√≠an realizar las funciones que implementamos para ellos (a saber, fertilizar el suelo en los bosques: el suelo en ese momento estaba bajo ventisqueros).  Resulta que los dispositivos instalados en el helic√≥ptero deben emularse durante la depuraci√≥n y volar, virtualmente. <br><br>  Pero eso es depurar.  Al probar un proyecto, la emulaci√≥n es la √∫nica opci√≥n.  El probador debe verificar todo en el n√∫mero m√°ximo de modos, clasificando varias combinaciones.  Adem√°s, debe crear situaciones con condiciones cr√≠ticas y de emergencia (un trabajo tan destructivo para los probadores).  ¬øC√≥mo hacerlo en equipos reales?  Solo en emuladores. <br><br>  ¬øC√≥mo va la comunicaci√≥n con los dispositivos modernos?  Por lo general, a trav√©s de buses est√°ndar, porque los desarrolladores de dispositivos tienden a conectarse a trav√©s de algo que los consumidores ya conocen.  Eso es solo Redd y actuar√° como un emulador de muchos dispositivos.  Sus autobuses est√°n conectados al bloque desarrollado.  Y la unidad se asegurar√° de que funciona con equipos reales, sin saber que en el otro extremo de los neum√°ticos no hay un mont√≥n de hierro, sino el complejo Redd, en el que giran varios emuladores. <br><br>  Al trabajar con equipos reales, los neum√°ticos pueden actuar como analizadores, registrando el trabajo con hardware real para analizar vuelos en caso de problemas. <br><br>  En general, debe haber tantos neum√°ticos como sea posible, y su juego lo m√°s variado posible.  Aunque, en todo lo que necesita saber la medida.  Bueno, aunque solo sea porque cada autob√∫s cuesta algo de dinero y ocupa espacio en el estuche, y tambi√©n en el conector.  Ahora consideremos qu√© estrategias se utilizan mejor para controlar estos autobuses mediante programaci√≥n. <br><br><h3>  ¬øQui√©n liderar√° el desarrollo del c√≥digo para Redd? </h3><br>  En las empresas modernas, la hora de Su Majestad est√° a la vanguardia.  El hecho es que este es un recurso muy costoso en muchos aspectos (dinero, tiempo de desarrollo, disponibilidad de un especialista en este momento particular para esta y otras tareas de la empresa, etc.), por lo que si la administraci√≥n puede ahorrar horas, lo har√°.  Si es posible no agregar desarrolladores al equipo, no se agregar√°n.  Si es posible hacer todo en menos tiempo, eliminar√°n a los desarrolladores para que puedan hacerlo en menos tiempo. <br><br>  De esto se deduce que es poco probable que den especialistas individuales para escribir emuladores.  Y si lo hacen, ser√°n programadores comunes que trabajan en la misma compa√±√≠a. <br><br>  ¬øPor qu√© estoy escribiendo esto?  En algunos art√≠culos, se considera elegante cuando se utilizan algunos idiomas especializados para las tareas de servicio de neum√°ticos no est√°ndar.  Tuve la oportunidad de trabajar con algo como esto.  Perm√≠tanme describir mis impresiones sobre el ejemplo de cosas que alguna vez se han publicado.  Aqu√≠, por ejemplo, <a href="https://www.astrosoft.ru/about/clients/bvg-group/case-959/" rel="nofollow">https://www.astrosoft.ru/about/clients/bvg-group/case-959/</a> .  Adem√°s, el lenguaje GOST recientemente sali√≥ incluso GOST.  Mi opini√≥n es la siguiente: lo que era necesario a fines de los a√±os 70 - principios de los 80, luego absolutamente innecesario a fines del primer cuarto del siglo XXI.  Aqu√≠ hay un maravilloso art√≠culo de Konstantin Chizhov, en el que lo m√°s importante de ese lenguaje (grupos de contacto) se implementa de manera perfecta y casi gratuita a trav√©s de la metaprogramaci√≥n en C ++ <a href="http://easyelectronics.ru/rabota-s-portami-vvoda-vyvoda-mikrokontrollerov-na-si.html" rel="nofollow">http://easyelectronics.ru/rabota-s-portami-vvoda-vyvoda-mikrokontrollerov-na- si.html</a> .  Este art√≠culo verifica todo para AVR.  Hice una gran comprobaci√≥n de la opci√≥n de biblioteca para Cortex M, los resultados tambi√©n son incre√≠bles.  Los optimizadores empaquetan todo de tal manera que el desarrollo directo en ensamblador no dar√° ninguna ganancia.  Y esto se aplica no solo a los grupos de contacto, sino en general a todos los controladores de mcucpp.  Es una pena que las autoridades no permitieron esta ideolog√≠a en el MAX RTOS, por lo que los resultados de la investigaci√≥n no aparecieron en la publicaci√≥n.  Pero en casa solo uso esta biblioteca. <br><br>  Todas las dem√°s cosas que se implementan en YASTEK tambi√©n est√°n perfectamente empaquetadas en la construcci√≥n C ++.  Pero la interactividad para el operador en la uni√≥n de los a√±os setenta y ochenta no lo era.  Es cierto que no estaba en los compiladores de Pascal, C y otros lenguajes.  La mayor√≠a de las veces, los compiladores eran lotes y simplemente generaban texto de ensamblador sin ninguna herramienta de depuraci√≥n.  Al hacer la nueva versi√≥n de YASTEC, agregamos operadores para enviar datos a la pantalla e incluso un depurador interactivo, pero de todos modos, estas son medias medidas en el contexto de lo que est√° sucediendo en entornos de desarrollo listos para los lenguajes de programaci√≥n ordinarios.  En resumen, los tiempos en que hab√≠a razones t√©cnicas para hacer que el lenguaje especial de YASTEK desapareciera hace mucho tiempo.  Hoy, en un lenguaje de programaci√≥n com√∫n, uno puede lograr lo mismo y mucho m√°s. <br><br>  Alguien puede decir que no fueron expertos en C ++ los que escribieron el c√≥digo all√≠, sino personalizadores comunes ... As√≠ es como es, pero ya he notado que los programadores comunes escribir√°n el c√≥digo para Redd.  No tiene sentido que la gerencia mantenga un especialista limitado para las tareas ocasionales.  Y no tiene sentido para un especialista com√∫n aprender otro idioma. <br><br>  ¬øY qu√© otras caracter√≠sticas expresivas tendr√° esto?  Al desarrollar emuladores, es posible que necesite cosas completamente ex√≥ticas.  Por ejemplo, para el emulador GPS en modo interactivo, controlamos el uso del joystick.  ¬øQu√© lenguaje orientado a problemas lo admite?  Y la flexibilidad de estos idiomas es todav√≠a.  Finalmente, la reutilizaci√≥n del c√≥digo en el discutido YESTEK no est√° a la altura, pero la b√∫squeda de soluciones preparadas en la red ... Incluso en idiomas comunes, no es solo para encontrar un <b>buen</b> ejemplo, sino tambi√©n ex√≥tico. <br><br>  Lo mismo se aplica a <a href="https://www.astrosoft.ru/about/clients/cassel-aero/case-786/" rel="nofollow">tal caso</a> , que se convirti√≥ sin problemas en <a href="https://www.astrosoft.ru/about/clients/cassel-aero/case-787/" rel="nofollow">tal</a> <a href="https://www.astrosoft.ru/about/clients/cassel-aero/case-786/" rel="nofollow">caso</a> .  En el marco de la automatizaci√≥n empresarial, SIMATIC con su avanzado sistema de configuraci√≥n y programaci√≥n es bueno, pero para un proyecto peque√±o cre√≥ m√°s problemas de los que resolvi√≥, por lo tanto, fue reemplazado por una soluci√≥n m√°s universal. <br><br><blockquote>  En total, concluimos que el trabajo de los programadores ordinarios en sus lenguajes habituales es normal para Redd.  Para otras tareas, se discute, y espec√≠ficamente para tareas auxiliares resueltas por el complejo Redd, es normal. </blockquote><br><br><h3>  C√≥mo implementar neum√°ticos </h3><br>  Pero si decimos que los programadores comunes usar√°n los neum√°ticos en sus idiomas habituales, entonces las bibliotecas para trabajar con estos autobuses deber√≠an ser lo m√°s t√≠picas posible.  En particular, la oraci√≥n se observ√≥ de inmediato: "Y vamos a poner microcontroladores en el complejo, y los programadores escribir√°n todo en ellos".  Esta opci√≥n nuevamente requiere especialistas en estos controladores.  Adem√°s, requiere una sincronizaci√≥n seria entre subsistemas.  Se decidi√≥ que, si es posible, el programador deber√≠a trabajar en el procesador central de PC familiar.  "¬øPero qu√© pasa con los FPGA?", Preguntas.  Bueno, vaya, probablemente todos notaron que para los FPGA eleg√≠ la ideolog√≠a de "desarrollo m√≠nimo en Verilog, m√°ximo familiar para los programadores".  All√≠ no puedes hacerlo m√°s convenientemente.  Pero estamos trabajando duro. <br><br>  Entonces, implementaciones t√≠picas de neum√°ticos.  Con UART, todo est√° claro.  Con SPI / I <sup>2</sup> C, se consideraron varias opciones, ya que no existe un est√°ndar de facto establecido para PC.  Pero hab√≠a un deseo de prescindir de la opci√≥n de escribir un conjunto completo: "firmware" del controlador, controlador y bibliotecas.  Quer√≠a tener algo listo.  Sin embargo, hasta el √∫ltimo momento consideramos la opci√≥n con microcontroladores que implementan a nivel USB un depurador a la la de Cypress.  El punto en esto fue puesto por los hallazgos descritos en el <a href="https://habr.com/ru/post/437112/">art√≠culo sobre DMA</a> .  Es imposible garantizar el ancho de banda solicitado en los TOR si todos los buses con flujos de datos previamente desconocidos funcionan simult√°neamente.  Y si se extiende sobre varios controladores, descansamos en el ancho de banda de USB 2.0 FS.  Por lo tanto, solo puentes FTDI.  Un puente es una funci√≥n, y USB 2.0 HS proporciona ancho de banda. <br><br>  Por cierto, en la √∫ltima secci√≥n, siempre me refer√≠ al lenguaje com√∫n de C ++.  El hecho es que en esta etapa del viaje de mi vida este es mi lenguaje de programaci√≥n principal (aunque este no fue siempre el caso).  Pero las soluciones est√°ndar son est√°ndares para funcionar perfectamente en otros lenguajes comunes hoy en d√≠a, ya sea Python, Java u otra cosa.  Por lo tanto, si un especialista en esos idiomas es arrojado a la batalla, √©l, usando estos idiomas, har√° todo no menos f√°cilmente.  Esa es la belleza de las soluciones universales. <br><br>  Pero hay algunos neum√°ticos que son tontos para colocar chips FTDI caros.  Hablaremos sobre c√≥mo se implementan en el complejo. <br><br><h2>  Mil peque√±as cosas </h2><br><h3>  ¬øPor qu√© el complejo Redd tiene una tarjeta SD conmutada? </h3><br>  Varios dispositivos en desarrollo est√°n actualizando su "firmware" utilizando una tarjeta SD.  Muy a menudo, el "firmware" se vierte en la tarjeta en forma de archivo, despu√©s de lo cual el dispositivo se apaga y, cuando se enciende, detecta el archivo de actualizaci√≥n y lo aplica.  Recientemente incursion√© en una nueva placa para una de mis impresoras 3D.  All√≠, el "firmware" de Marlin 2.0, despu√©s de algunos de los comandos M (no recuerdo el c√≥digo exacto), abri√≥ el contenido de la SD a trav√©s del bus USB, por lo que pude inyectar actualizaciones sin ning√∫n truco.  Me conect√© a trav√©s de USB, despu√©s de lo cual supe que apagu√© / encend√≠ la alimentaci√≥n (c√≥mo hacerlo con la ayuda del complejo Redd, examinamos en el <a href="https://habr.com/ru/post/477662/">art√≠culo anterior</a> ), di la orden de conectar la tarjeta SD a USB, esper√© a que apareciera el disco, complet√© el "firmware", apagu√© / volv√≠ a encenderlo y esper√© .  El firmware ha sido actualizado.  Pero no todo es tan hermoso.  A veces, una tarjeta SD debe prepararse con anticipaci√≥n.  Por cierto, si agrega la curva de "firmware" a la impresora 3D, la opci√≥n ideal descrita anteriormente tampoco funcionar√°, y tambi√©n tendr√° que preparar la tarjeta con anticipaci√≥n.  Y cuando desarrolle, cree un "firmware" que no funcione, un par de cosas insignificantes. <br><br>  Para este caso, el complejo Redd tiene una tarjeta SD conmutada.  En el diagrama del circuito el√©ctrico, se incluye de la siguiente manera: <br><br><img src="https://habrastorage.org/webt/9e/su/xj/9esuxjssl9kznrnz4dodepejj9k.png"><br><br>  Al principio, intentamos encontrar una soluci√≥n t√≠pica que permitiera cambiar el bus SDIO (no SPI, es decir, SDIO, los dispositivos tambi√©n pueden funcionar a trav√©s de esta interfaz) a trav√©s de FPGA.  Result√≥ que no existe una soluci√≥n hermosa.  Incluso las soluciones de los fabricantes de FPGA son complejas y poco cre√≠bles.  Por lo tanto, se suministraron claves anal√≥gicas que conectan f√≠sicamente la tarjeta a un conector externo o a un lector como parte de Redd.  Por lo tanto, el algoritmo de operaci√≥n es el siguiente: conectado a un lector, archivos preparados utilizando el sistema operativo Linux, conectado al dispositivo de destino.  Usamos all√≠. <br><br>  Dado que trabajar con el sistema de archivos no pertenece a cosas cr√≠ticas (solo estamos preparando los datos, para que no se requiera una velocidad especial), se decidi√≥ hacer un lector basado en el microcontrolador STM32F103.  El soporte para SDIO completo solo est√° en la versi√≥n m√°xima de este chip.  Y dado que este controlador tiene muchos contactos libres, se decidi√≥ realizar otras funciones de baja velocidad en ellos.  Considere un fragmento de un diagrama de circuito el√©ctrico, desde el cual su lista ser√° visible. <br><br><img src="https://habrastorage.org/webt/q_/lt/lq/q_ltlqt32trstidfnkm7aeffhtw.png"><br><br>  En realidad, las se√±ales relacionadas con SDIO y el cambio de tarjeta SD se resaltan en rojo.  Procedemos a considerar los colores restantes de la luz de fondo. <br><br><h3>  Unidad flash SPI </h3><br>  La segunda t√©cnica com√∫n para actualizar el "firmware" de los dispositivos de destino es con una unidad flash SPI.  Hoy en d√≠a, esto no es cada vez m√°s SPI, sino Quad-SPI.  El principio es el mismo.  Rellen√≥ los datos, luego conect√≥ la unidad flash al dispositivo y la encendi√≥.  El mecanismo Bootstrap "absorber√°" el firmware en la RAM al inicio. <br><br>  Aqu√≠ se aplica el mismo esquema, con interruptores anal√≥gicos: <br><br><img src="https://habrastorage.org/webt/l8/zn/v_/l8znv_7bcjtawlsxmrfbypheab0.png"><br><br>  Bueno, las l√≠neas relacionadas con el trabajo con una unidad flash se resaltaron en verde. <br><br><h3>  Rel√©s de estado s√≥lido bajo </h3><br>  Peri√≥dicamente, surge la tarea de simular la presi√≥n de botones en el dispositivo.  Una situaci√≥n t√≠pica: los probadores deben verificar el funcionamiento del men√∫ del dispositivo de destino.  No, una vez que puedas repasar todos los puntos, ¬øpero si los desarrolladores hacen cambios?  Para automatizar el proceso, es mejor si los botones para navegar por el men√∫ se realizar√°n autom√°ticamente (el sistema operativo en el dispositivo de destino puede tomar capturas de pantalla o escaneando el bus que va a la pantalla usando el sniffer al FPGA).  Bueno, hay muchas otras tareas en las que necesita simular mediante programaci√≥n presionar un bot√≥n.  Para esto, se agregan rel√©s de estado s√≥lido al circuito: <br><br><img src="https://habrastorage.org/webt/uf/4g/yo/uf4gyofip5mjrwxmejjm96l0i5w.png"><br><br>  ... y sus l√≠neas de control se resaltaron en azul. <br><br><h3>  Configuraci√≥n de puentes USB-SPI / I <sup>2</sup> C </h3><br>  En un art√≠culo anterior, not√© que los puentes FTDI en los que se implementan los autobuses SPI e I <sup>2</sup> C tienen patas de control CFG0 y CFG1.  En general, lo m√°s probable es que nadie necesite cambiar sus valores predeterminados (todos ceros), pero si es necesario, las l√≠neas que controlan estas se√±ales tambi√©n salen del controlador STM32 en cuesti√≥n y se resaltan en p√∫rpura. <br><br><h3>  Reinicio del dispositivo USB </h3><br>  Durante el desarrollo del sistema, se decidi√≥ que, te√≥ricamente, los dispositivos podr√≠an "congelarse".  Por ejemplo, los puentes FTDI de la primera serie ten√≠an la propiedad de "congelarse" con "terreno" inestable.  S√≠, eso fue hace m√°s de diez a√±os.  S√≠, dentro del complejo, la tierra es extremadamente estable, ya que el puente est√° en el mismo edificio que la computadora.  Pero de repente.  En general, en el ToR se estableci√≥ la posibilidad de restablecer cualquiera de los dispositivos.  Las solicitudes correspondientes son generadas por el mismo controlador STM32 y resaltadas en amarillo. <br><br><h2>  Acceso program√°tico al controlador STM32 </h2><br>  Como puede ver, la mayor√≠a de los dispositivos descritos anteriormente no son est√°ndar.  M√°s precisamente, la mayor√≠a de ellos se pueden clasificar como GPIO, pero no hay un est√°ndar de facto para ello.  La parte m√°s dif√≠cil de los dispositivos es el lector de tarjetas SD.  Por lo tanto, se decidi√≥ implementar la funcionalidad del lector SD en el controlador STM32 (afortunadamente, el entorno STM Cube MX le permite hacer esto escribiendo solo unas pocas l√≠neas de su propio c√≥digo) e implementar el resto de las funciones que el proveedor solicita al dispositivo de almacenamiento masivo subyacente al lector.  Pero como se decidi√≥ hace varios art√≠culos, las grandes narrativas son inconvenientes para la lectura.  Por lo tanto, los principios de env√≠o de comandos al Dispositivo de almacenamiento masivo desde Linux y ejemplos de acceso program√°tico al dispositivo resultante se examinar√°n la pr√≥xima vez. </div></div><p>Source: <a href="https://habr.com/ru/post/483724/">https://habr.com/ru/post/483724/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../483714/index.html">Premios y concursos para proyectos innovadores. Experiencia mundial de vendedores</a></li>
<li><a href="../483716/index.html">Uso del esc√°ner de vulnerabilidades en las bibliotecas de verificaci√≥n de dependencia utilizadas en GitlabCI</a></li>
<li><a href="../483718/index.html">C√≥mo VDI est√° transformando el entorno de la oficina</a></li>
<li><a href="../483720/index.html">Lo que nos trajo Pandas 1.0</a></li>
<li><a href="../483722/index.html">Geoanal√≠tica en el comercio minorista, parte 1: automatizamos el proceso de elegir un lugar para un negocio. 2GIS + MS Azure + ML</a></li>
<li><a href="../483726/index.html">Vanilla JavaScript y HTML. Sin marcos. No hay bibliotecas No hay problema</a></li>
<li><a href="../483730/index.html">Programmers Union 2: Slippers dej√≥ de re√≠r y se puso pensativo</a></li>
<li><a href="../483732/index.html">Lea el firmware seguro del flash STM32F1xx usando ChipWhisperer</a></li>
<li><a href="../483734/index.html">¬øQu√© precio pagamos por usar async / await en JS / C # / Rust?</a></li>
<li><a href="../483736/index.html">B√∫squeda inversa de im√°genes: una gu√≠a de la agencia de detectives Bellingcat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>