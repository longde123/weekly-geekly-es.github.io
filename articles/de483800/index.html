<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòá üë¥üèª ‚ñ´Ô∏è Schlafe nicht Wie wir gelernt haben, 12.000 Ticketangebote pro Nacht zu ver√∂ffentlichen üë©üèΩ‚Äçü§ù‚Äçüë®üèª ü•ê ü§æüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der unterbrechungsfreie Betrieb von Tausenden von Pyaterochka-Filialen h√§ngt weitgehend von zuverl√§ssiger und kundenspezifischer Software ab. Jetzt ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Schlafe nicht Wie wir gelernt haben, 12.000 Ticketangebote pro Nacht zu ver√∂ffentlichen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/483800/">  Der unterbrechungsfreie Betrieb von Tausenden von Pyaterochka-Filialen h√§ngt weitgehend von zuverl√§ssiger und kundenspezifischer Software ab.  Jetzt verwendet das Netzwerk das Produkt GK SOFTWARE, das von der Box-Version zur Entwicklung von Code in X5 verbessert wurde.  In unserem Artikel erkl√§ren wir Ihnen, welchen Weg wir bei der Installation von Releases eingeschlagen haben, um das Gesch√§ftswachstum des Unternehmens von Einzelgesch√§ften mit neuer Software auf derzeit 15.000 zu sichern. <br><br><img src="https://habrastorage.org/webt/ps/qh/vf/psqhvf_lkkljsaixaki1r0svy2w.jpeg"><br><a name="habracut"></a><br><h3>  F√§lle vergangener Tage, eine tiefe Tradition </h3><br>  Die zehnj√§hrige Periode der IT in der modernen Welt ist Geschichte.  Im Jahr 2009 wechselten die ersten Pyaterochka-Filialisten gerade zu GK, die ersten Software-Update-Aufgaben traten auf.  Der Prozess sah ungef√§hr so ‚Äã‚Äãaus: vollst√§ndig manuelle Arbeit, Analyse der Protokolle mit den ‚ÄûAugen‚Äú in jedem Gesch√§ft, st√§ndige Probleme beim Starten der Software - beim Checkout wird die Initialisierung des Ger√§ts abgebrochen, und die GK-Dienste werden nicht auf dem Server gestartet. <br><br>  W√§hrend sich das GK-System stabilisierte und die Tools aktualisierten, wurden wir √ºber die zentrale Komponente des GK-Systems - den Storemanager - in einer Anzahl von 100 bis 200 Filialen pro Nacht (pro Mitarbeiter) bereitgestellt.  Dann galt es als gro√üe Leistung.  Um die Aktualisierungsgeschwindigkeit in 1000 Filialen zu gew√§hrleisten, war bereits ein Au√üendienst erforderlich - nur mit einem Team von 6 Personen pro Nacht konnten wir die erforderliche Anzahl von Filialen erreichen.  Um eine Update-Aufgabe zu erstellen, musste jeder Laden mit seinen H√§nden ‚Äûdurchgeklickt‚Äú werden.  Jeder Job enthielt nur 50 Objekte, da aufgrund eines internen Fehlers die M√∂glichkeit bestand, dass nach dem Update alle Status verloren gingen und eine vollst√§ndige manuelle √úberpr√ºfung erforderlich war. <br><br><img src="https://habrastorage.org/webt/bw/dj/d4/bwdjd4nesmm3ton16-fuufagn-e.jpeg"><br><br>  Zu diesem Zeitpunkt wurde der Gesundheitscheck des Gesch√§fts zun√§chst anhand des Auftragsstatus durchgef√ºhrt und schlie√ülich √ºber die Verbindung zum Desktop des Kassierers und die visuelle Analyse des Kassiererbildschirms. <br><br>  Im Jahr 2014 betrug die Arbeitsintensit√§t f√ºr die Aktualisierung f√ºr 1 Person pro Nacht 150 Gesch√§fte. <br><br><h3>  Erster Durchbruch </h3><br>  Eine solche Situation mit der Geschwindigkeit und den Kosten der Aktualisierung k√∂nnte weder uns noch dem Unternehmen zusagen.  Der wichtigste Arbeitsbereich war der Prozess der Verbesserung und Automatisierung des Prozesses, um eine schnelle und qualitativ hochwertige "Zustellung" von √Ñnderungen an Gesch√§ften zu gew√§hrleisten, um Unternehmen bei der effektiven L√∂sung von Aufgaben zu unterst√ºtzen. <br><br>  Da der GK-Code nicht zu X5 geh√∂rte, konnten wir die Storemanager-Verbesserungen nicht selbst durchf√ºhren, den Prozess nicht √§ndern oder Fehler beheben.  Aus diesem Grund haben wir gemeinsam mit Auftragnehmern begonnen, ein technologisches alternatives Tool von Grund auf zu entwickeln, das wir ‚ÄûBooster‚Äú nannten. <br><br>  Wir sind der Analyse des Update-Prozesses umfassend nachgegangen und haben sie von allen Seiten betrachtet.  Und sie erhielten ein Verst√§ndnis f√ºr den Prozess, der die Grundlage f√ºr alle zuk√ºnftigen √Ñnderungen wurde.  Der Erfolg der Implementierung der √Ñnderungen h√§ngt davon ab, wie schnell wir die Distributionen der neuen Version in den Stores bereitstellen, wie wir sie f√ºr das Upgrade vorbereiten, wie der Installationsprozess organisiert wird und wie die nachfolgende Leistungspr√ºfung abl√§uft. <br><br>  "Booster" enth√§lt eine einzige Liste aller Gesch√§fte im Dashboard, Vorabpr√ºfungen und Status f√ºr jede Phase sowie die erste automatische Pr√ºfung nach dem Update. <br><br><img src="https://habrastorage.org/webt/an/lp/ve/anlpvezxubaxpa0eif_er0izpii.jpeg"><br><br>  Durch die Umsetzung des Projekts ‚ÄûBooster‚Äú konnten die Arbeitskosten um das Sechsfache gesenkt und mit Hilfe eines Mitarbeiters (bis Ende 2016) ca. 1000 Gesch√§fte pro Nacht aktualisiert werden.  Zu dieser Zeit war es ein beispielloser Durchbruch. <br><br><h3>  Erfolgsentwicklung </h3><br>  Die n√§chste Etappe bestand darin, unseren Erfolg zu festigen und weiterzuentwickeln.  Wir haben einen Pool von Verbesserungen mit dem Namen "Booster2" gestartet. <br><br>  Die Plattform wurde auf eine neue Hardware umgestellt, die Benutzeroberfl√§che wurde komplett √ºberarbeitet, wir haben das Bremsen beseitigt.  Neue Pr√ºfungen und Status f√ºr jede Stufe eingef√ºhrt. <br><br><img src="https://habrastorage.org/webt/le/ya/we/leyawey9njbhy9dapfs_t9dfnh0.jpeg"><br><br>  Wir haben dem nachts aktualisierten Mitarbeiter alle Informationen zur Verf√ºgung gestellt, um Probleme zu identifizieren und schnell zu beheben.  Die maximale Wirkung zur Unfallverh√ºtung wurde uns durch eine automatisierte √úberpr√ºfung der Funktionsf√§higkeit der Kasse anhand von Screenshots verliehen.  Das System ermittelte, wo der Bildschirmzustand vom Standard abweicht, und es waren diese Gesch√§fte, die die Mitarbeiter zuerst betrachteten. <br><br>  Mit dem aktualisierten ‚ÄûBooster‚Äú konnten von Ende 2017 bis Anfang 2018 1.500 Gesch√§fte pro Mitarbeiter und Nacht aktualisiert werden. <br><br><h3>  Vorw√§rts zu neuen H√∂hen </h3><br>  1.500 Gesch√§fte pro Nacht sind gut, wir k√∂nnen den Release-Zeitplan problemlos verwalten, zus√§tzliche Sprints f√ºr die Installation durchf√ºhren, sind bereit, eine Fehlerkorrektur durchzuf√ºhren und bis zu 6 Baugruppen an der Kasse und im Backoffice zu installieren. Unsere Aufgabe ist es jedoch, den Einzelhandel der n√§chsten Generation aufzubauen .  Das prozessuale, technische und technologische Fundament der Digitalisierung unseres Gesch√§fts ist unter anderem die Geschwindigkeit der Entwicklung und Verbreitung neuer Softwareversionen.  Und im M√§rz 2019 wurde eine ehrgeizige Aufgabe gestellt - bis zum Herbst, die Aktualisierung von 3000 Servern und 12000 Kassen in einer Nacht zu erreichen.  Wir haben uns von unserer gegenw√§rtigen Realit√§t gel√∂st und erneut eine gro√üartige analytische Arbeit geleistet, um Engp√§sse in diesem Prozess zu identifizieren.  Es wurden Aufgaben identifiziert, die Automatisierung, technische Verbesserungen, die Entwicklung neuer Spezialsoftware sowie ein allgemeines Umdenken erfordern.  Dar√ºber hinaus haben wir einen Pool organisatorischer Aufgaben gebildet. <br><br>  Als Ergebnis wurde ein internes IT-Projekt ins Leben gerufen, eine Roadmap erstellt, ein Budget berechnet, Meilensteine ‚Äã‚Äãdefiniert und der Kreis der Abteilungen und Auftragnehmer f√ºr die interne und externe Interaktion klar definiert. <br><br>  <b>Fahrplan</b> <br><br>  Lassen Sie uns die gestellten Aufgaben genauer betrachten.  Wir haben 3 Bereiche identifiziert: <br><br><ul><li>  Risikominderungsziele; </li><li>  administrative und organisatorische Aufgaben; </li><li>  Aufgaben, um aktualisierte Gesch√§fte pro Tag zu erh√∂hen. </li></ul><br>  <b>Risikominderung.</b>  Unsere Aufgabe - unabh√§ngig vom Erfolg oder Misserfolg des Updates - ist es, den Betrieb des Geldknotens und die F√§higkeit zur Kundenbetreuung sicherzustellen, d. H.  Morgens ein Gesch√§ft er√∂ffnen.  Mit der Zunahme der Anzahl der Verkaufsstellen steigt das Risiko um ein Vielfaches, dass etwas schief geht. <br><br>  Ein Mitarbeiter der Release Distribution Group ist wie ein Flugzeugpilot oder Fluglotse, der viel Verantwortung tr√§gt.  Unter solchen Bedingungen ist es notwendig, einfache und automatisierte Tools zu entwickeln, die den Faktor menschlicher Fehler minimieren. <br>  In diesem Bereich wurden Aufgaben formuliert, um ein neues System f√ºr Ladeninspektionen zu entwickeln, die Vorbereitung von Einrichtungen f√ºr die Aktualisierung zu automatisieren, Mechanismen f√ºr die Aufzeichnung von Arbeiten an der Netzwerkinfrastruktur und f√ºr die automatische Wiederherstellung zu erstellen. <br><br>  Mit dem neuen √úberpr√ºfungstool k√∂nnen Sie schnell den Zustand des gesamten Gesch√§fts bestimmen, einen Bericht √ºber eine gr√∂√üere Anzahl von Parametern erstellen und dem Supportmitarbeiter sofort die Objekte anzeigen, die am Morgen nach der Aktualisierung nicht ge√∂ffnet werden k√∂nnen.  Wir analysieren sowohl den Start der Software als auch die Schritte des Herunterladens.  Wir √ºberpr√ºfen die Bildung der Basis f√ºr den Kassierer auf der Seite des Backoffices, die Initialisierung des Equipments, das Verlassen der Registrierkassensoftware in den Registrierkassenmodus usw.  Der Prozess basiert auf dem neuesten Stand unseres Unternehmenssystems - ‚ÄûBusiness Monitoring‚Äú unter Verwendung eines modernen Technologie-Stacks (Filebeat, Kafka, ClickHouse, Grafana). <br><br>  <u>In dem Tool (System) zur umfassenden Vorbereitung der Filialen f√ºr die Aktualisierung haben</u> wir alle verstreuten √úberpr√ºfungsskripte zusammengefasst, die sich sogar auf verschiedenen Servern befinden k√∂nnten.  Wir haben automatische Skripte angeschlossen, um typische Fehler zu korrigieren (es gibt nicht gen√ºgend Speicherplatz, es gibt keine erforderlichen Rechte usw.) und an verantwortliche Mitarbeiter in verschiedenen Richtungen zu senden, wenn das Problem nicht automatisch behoben wird.  Wir haben einen Roboter hinzugef√ºgt, der "unerm√ºdlich" Wollanfragen in MFSM bearbeitet und Registrierkassen aus Verbraucherm√§rkten von der Aktualisierung der Kasse ausschlie√üt.  Ein solcher Roboter spart jeden Tag mehr als drei Stunden Arbeitszeit. <br><br>  <u>Robotertool f√ºr die Abrechnung von Arbeiten an der Netzwerkinfrastruktur</u> : Es bietet die Analyse von vollst√§ndig verteilten Briefen von Anbietern, die Identifizierung von Gesch√§ftscodes an den angegebenen SAP-Adressen und das Laden von Daten zu Datum und Uhrzeit der Arbeit in die Datenbank.  Auf der Grundlage dieser Informationen wird der Verbreitungsplan aktualisiert.  Dies beseitigt nach und nach die Momente, in denen 300 Gesch√§fte ohne Kommunikation bleiben und wir den Status von Aktualisierungen oder √úberpr√ºfungen nicht erhalten k√∂nnen. <br><br>  <u>Automatischer Wiederherstellungsmechanismus</u> : Auf der Seite des Gesch√§fts wird die Selbstdiagnose des Geldknotens erm√∂glicht, die Unm√∂glichkeit des Startens der Kasse ermittelt und das System von einem Backup wiederhergestellt, wodurch das Gesch√§ft in den meisten F√§llen morgens ge√∂ffnet werden kann, selbst wenn das Support-Personal keine Remote-Verbindung zur L√∂sung des Problems herstellen kann. <br><br>  <b>Administrative und organisatorische Aufgaben.</b>  Effektive Arbeit des Systems ist die halbe Miete, f√ºr den Erfolg ist es notwendig, die effektive Arbeit des Teams sicherzustellen. <br><br>  <b>Die L√∂sung sind zus√§tzliche Schulungen, zus√§tzliche Wochenenden zum Arbeitszeitplan und die Einrichtung der Interaktion mit allen Linien.</b>  <b>Am Wochenende bereitstellen.</b> <br><br>  Wir haben interne Schulungen f√ºr Mitarbeiter durchgef√ºhrt, um die Austauschbarkeit und die M√∂glichkeit der Neuverteilung von Aufgaben sicherzustellen.  Der Arbeitsplan des Teams wurde ebenfalls √ºberarbeitet: Alle Mitarbeiter wurden nachts in die Schicht versetzt, was die M√∂glichkeit bot, kontinuierliche Aktualisierungen sicherzustellen.  Diese Option haben wir in diesem Jahr umgesetzt.  Jetzt finden GK-Updates 7 Tage die Woche statt, ohne dass zus√§tzliches Personal hinzukommt. <br><br>  <b>Aufgaben zum Erh√∂hen der Anzahl der Gesch√§fte pro Nacht.</b>  Hier l√∂sen wir das Problem der schnellen und garantierten Lieferung von Distributionen, um die Aktualisierung einer beliebigen Anzahl von Filialen zu gew√§hrleisten, unabh√§ngig davon, wie schnell die √Ñnderungen ver√∂ffentlicht werden.  Dies beinhaltet auch Verbesserungen am System. <br><br>  Zun√§chst haben wir begonnen, das aktuelle Update-Tool ‚ÄûBooster‚Äú so effizient wie m√∂glich zu nutzen.  Auslastungstests haben die schwierigsten Vorg√§nge ergeben. Wir haben die Grenzen der M√∂glichkeiten ermittelt und Optionen f√ºr die horizontale Skalierung von Aktualisierungsinstanzen gefunden. <br><br>  Au√üerdem haben wir im Rahmen des Projekts entschieden, welches Tool aktualisiert und welches weiterentwickelt werden soll.  Als Zieltool wurde der Storemanager ausgew√§hlt, da wir mit dem Erwerb des GK-Quellcodes eigenst√§ndig Standardtools entwickeln und verbessern konnten. <br><br>  Seit dem Start des Projekts haben wir Schritte zur Implementierung aller ‚ÄûBooster‚Äú -Funktionen in Storemanager festgelegt und in diesem Jahr zus√§tzliche Anforderungen f√ºr Verbesserungen festgelegt, um die Aktualisierung der erforderlichen Anzahl von Filialen sicherzustellen. <br><br>  Wir haben auch Optionen f√ºr die Verwendung aktueller Tools ausgearbeitet, diese verbessert und die Zielinfrastruktur exklusiv f√ºr den Download-Server auf Linux portiert.  Und gemeinsam mit Kollegen haben sie ein zus√§tzliches neues Tool eingef√ºhrt, das unsere F√§higkeiten erheblich erweitert hat. <br><br><h3>  Was ist schon passiert </h3><br>  Im Moment sind die meisten Aufgaben aus unserem Plan bereits umgesetzt: <br><br><ul><li>  Aufr√ºstung und Verbesserung des Pumpensystems. </li><li>  Reduzierung der Gr√∂√üe von GK-Verteilungen. </li><li>  Administrative und organisatorische Aufgaben im Team. </li><li>  Automatisierung der Vorbereitung der Gesch√§fte f√ºr die Aktualisierung. </li><li>  Buchhaltung f√ºr Netzwerkarbeit. </li></ul><br>  Es bleibt die Aufgabe, eine neue √úberpr√ºfung der Speicher einzuf√ºhren und das Zielaktualisierungstool zu verfeinern. <br><br><img src="https://habrastorage.org/webt/ef/xr/oa/efxroa1tpnmsyc6jwoobgehdf6e.jpeg"><br><br><h3>  Was kommt als n√§chstes </h3><br>  Weiter mehr.  Jetzt zielen unsere Bem√ºhungen darauf ab, 20.000 (+) Gesch√§fte pro Nacht zu aktualisieren, aber es wird bereits eine neue Plattform mit neuen Tools und Methoden geben.  Wir werden in Zukunft definitiv dar√ºber berichten. <br><br>  <b>Die Autoren</b> <br><br>  Vasily Golubev, Leiter der Software Release Distribution Group # ITX5 <br>  Evgeny Lapshin, Leiter der Abteilung Support f√ºr Store Solutions # ITX5 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de483800/">https://habr.com/ru/post/de483800/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de483788/index.html">Winzige Inselnation verdient dank Twitch</a></li>
<li><a href="../de483790/index.html">Hinweise des IoT-Anbieters. Technologie und Wirtschaft LoRaWAN in der Stadtbeleuchtung</a></li>
<li><a href="../de483794/index.html">Los geht's: warum solltest du nicht kontroffer nehmen</a></li>
<li><a href="../de483796/index.html">Optionale Parameter in Spring-Datenrepositorys</a></li>
<li><a href="../de483798/index.html">So automatisieren Sie das Erstellen von Anzeigen in Google Ads</a></li>
<li><a href="../de483802/index.html">So starten Sie ein Produkt alleine, wenn Sie Entwickler sind: Tipps von Taylor Otvel, dem Sch√∂pfer von Laravel. Teil 1: Publikum</a></li>
<li><a href="../de483804/index.html">Richard Hamming ‚ÄûNicht existierendes Kapitel‚Äú: Wie wir wissen, was wir wissen (11-20 Minuten von 40)</a></li>
<li><a href="../de483818/index.html">Engine, Skriptsprache und visueller Roman - in 45 Stunden</a></li>
<li><a href="../de483820/index.html">Was beeinflusst die Kreditvergabe? Home Credit Default Risk Wettbewerbs√ºbersicht</a></li>
<li><a href="../de483822/index.html">5 JavaScript-Funktionen, ohne die ich keinen Code schreiben k√∂nnte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>