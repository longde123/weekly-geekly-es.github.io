<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëáüèø üåì üë©üèΩ‚Äçü§ù‚Äçüë®üèª Kami terbang melalui modul: Navigasi dalam aplikasi multi-modul dengan Jetpack üñçÔ∏è üåó ‚òéÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hampir setiap proyek yang tumbuh cepat atau lambat mulai melihat ke arah arsitektur multimodular. Pengembang tidak ingin menunggu sampai seluruh proye...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami terbang melalui modul: Navigasi dalam aplikasi multi-modul dengan Jetpack</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475104/"><p><img src="https://habrastorage.org/webt/23/qz/iv/23qzivlkfo_wcpioez5hg30oscs.png"></p><br><p>  Hampir setiap proyek yang tumbuh cepat atau lambat mulai melihat ke arah arsitektur multimodular.  Pengembang tidak ingin menunggu sampai seluruh proyek dipasang kembali, ketika hanya satu fitur yang telah diubah.  Multimodularity membantu mengisolasi fitur aplikasi dari satu sama lain, sehingga mengurangi waktu pembuatan.  Tetapi isolasi ini memberlakukan beberapa batasan pada ruang lingkup komponen.  Ketika kami menggunakan navigasi dari Jetpack dalam proyek dengan satu modul, grafik navigasi tersedia dari paket aplikasi apa pun, kami selalu dapat secara eksplisit menentukan tindakan yang harus dilakukan NavController, dan juga memiliki akses ke host global jika ada fragmen yang bersarang di dalam proyek.  Tetapi ketika ada banyak modul, muncul pertanyaan: di mana membuat grafik navigasi, bagaimana mengaksesnya dan bagaimana agar tidak bingung dalam ketergantungan modul-modul tersebut.  Kami akan membicarakan semua ini di bawah potongan. </p><a name="habracut"></a><br><h1 id="graf-navigacii">  Grafik navigasi </h1><br><p>  Yang paling penting untuk diingat ketika mendesain aplikasi multi-modul adalah dependensi.  Ketergantungan dalam pohon modul ketergantungan harus diarahkan dalam satu arah. </p><br><p><img src="https://habrastorage.org/webt/bh/q7/wu/bhq7wulj6gibpu2lizqus6bmciw.png"></p><br><p>  Modul yang paling tergantung pada aplikasi multi-modul adalah selalu modul aplikasi.  Dia tahu hampir semua modul lainnya.  Dalam aplikasi, DI biasanya diimplementasikan menggunakan berbagai kerangka kerja.  Menggunakan dependensi modul aplikasi ini, Anda dapat mengimplementasikan grafik navigasi dari host utama di dalamnya. </p><br><p>  <em>Anda harus selalu ingat bahwa modul aplikasi harus mengimplementasikan fungsionalitas sesedikit mungkin, karena itu adalah yang paling tergantung dan hampir semua perubahan dalam proyek akan menghasilkan pemasangan kembali modul aplikasi.</em> </p><br><h1 id="talk-is-cheap-show-me-the-code">  Bicara itu murah.  Tunjukkan kodenya </h1><br><p>  Dan segera menjadi contoh nyata.  Kasus kami: titik masuk ke aplikasi adalah layar splash, ia menentukan layar mana yang akan dituju: fungsi utama atau otorisasi.  Dari layar otorisasi, hanya ada transisi ke fungsi utama.  Seperti biasa, kami membuat grafik navigasi - tidak ada yang rumit. </p><br><p><img src="https://habrastorage.org/webt/yw/qe/lb/ywqelbiwlggdylk70rbgnurlkfs.png"></p><br><h1 id="dostup-k-navigacii-vnutri-modulya">  Akses ke navigasi di dalam modul </h1><br><p>  Ketika tiba saatnya untuk melakukan transisi dari satu layar ke layar dalam modul lain, muncul pertanyaan - bagaimana? </p><br><p>  Memang, di dalam modul fitur tidak ada akses ke grafik navigasi untuk mendapatkan id tindakan yang harus dijalankan NavController. </p><br><p>  Ini diselesaikan dengan menerapkan DI menggunakan antarmuka.  Alih-alih modul fitur tergantung pada grafik global navigasi dari modul aplikasi, kami akan membuat antarmuka dan menyebutnya WhatToNavCommandProvider, variabel-variabelnya adalah perintah navigasi. </p><br><p>  SplashNavCommandProvider.kt </p><br><pre><code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplashNavCommandProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toAuth: NavCommand <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toMain: NavCommand }</code> </pre> <br><p>  Antarmuka penyedia perintah itu sendiri akan diimplementasikan dalam modul aplikasi, dan kelas perintah navigasi akan memiliki bidang yang sama dengan argumen untuk metode NavController.navigate </p><br><p>  NavCommand.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NavCommand</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> action: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> args: Bundle? = <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navOptions: NavOptions? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> )</code> </pre> <br><p>  Mari kita lihat tampilannya dalam praktik.  Dari layar splash, 2 transisi dimungkinkan: ke layar otorisasi dan ke layar fungsional utama.  Dalam modul splash, buat antarmuka: </p><br><p>  SplashNavCommandProvider.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplashNavCommandProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toAuth: NavCommand <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toMain: NavCommand }</code> </pre> <br><p>  Dalam modul aplikasi, kami membuat implementasi antarmuka ini dan menggunakan kerangka kerja di (saya punya Belati), kami menyediakannya melalui antarmuka splash ke modul. </p><br><p>  SplashNavCommandProviderImpl.kt - implementasi CommandProvider </p><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplashNavCommandProviderImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-meta"><span class="hljs-class"><span class="hljs-meta">@Inject</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>() : SplashNavCommandProvider { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toAuth: NavCommand = NavCommand(R.id.action_splashFragment_to_authFragment) <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> toMain: NavCommand = NavCommand(R.id.action_splashFragment_to_mainFragment) }</code> </pre> <br><p>  SplashNavigationModule.kt - modul DI untuk menyediakan dependensi </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Module</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplashNavigationModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Binds</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bindSplashNavigator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(impl: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">SplashNavCommandProviderImpl</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: SplashNavCommandProvider }</code> </pre> <br><p>  AppActivityModule.kt - modul DI utama aplikasi </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Module</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppActivityModule</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@FragmentScope</span></span> <span class="hljs-meta"><span class="hljs-meta">@ContributesAndroidInjector( modules = [ SplashNavigationModule::class ] )</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">splashFragmentInjector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: SplashFragment ‚Ä¶ }</code> </pre> <br><p>  Dalam modul splash, kami mengimplementasikan implementasi dalam MV (di sini) baik Presenter atau ViewModel ... </p><br><p>  SplashViewModel.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SplashViewModel</span></span></span><span class="hljs-class"> </span><span class="hljs-meta"><span class="hljs-class"><span class="hljs-meta">@Inject</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">constructor</span></span></span></span>( <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> splashNavCommandProvider: SplashNavCommandProvider ) ...</code> </pre> <br><p>  Ketika logika layar menganggap bahwa sudah waktunya untuk beralih ke layar lain, kami mentransfer perintah ke fragmen kami dan menginformasikan bahwa kami perlu beralih ke layar lain. </p><br><p>  <em>Mungkin untuk mengimplementasikan implementasi SplashNavCommandProvider langsung ke fragmen, tetapi kemudian kita kehilangan kemampuan untuk menguji navigasi.</em> </p><br><p>  Dalam fragmen itu sendiri, untuk menyelesaikan transisi, Anda perlu mendapatkan NavController.  Jika layar saat ini bukan fragmen bersarang, maka kita cukup mendapatkan NavController dengan metode findNavController () dan memanggil metode navigasi di atasnya: </p><br><pre> <code class="kotlin hljs">findNavController().navigate(toMain)</code> </pre> <br><p>  Anda dapat membuatnya sedikit lebih nyaman dengan menulis ekstensi untuk fragmen </p><br><p>  Framentmentxt.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> Fragment.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(navCommand: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">NavCommand</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { findNavController().navigate(navCommand.action, navCommand.args, navCommand.navOptions) }</code> </pre> <br><p>  Kenapa hanya untuk fragmen?  Karena saya menggunakan pendekatan SingleActivity, jika Anda memiliki beberapa di antaranya, maka Anda dapat membuat ekstensi juga untuk Aktivitas. </p><br><p>  Maka navigasi di dalam fragmen akan terlihat seperti ini </p><br><pre> <code class="kotlin hljs">navigate(toMain)</code> </pre> <br><h1 id="vlozhennye-fragmenty">  Fragmen bersarang </h1><br><p>  Navigasi dalam fragmen bersarang dapat terdiri dari dua jenis: </p><br><ul><li>  Transisi dalam wadah bersarang </li><li>  Masuk ke dalam wadah satu atau lebih tingkat lebih tinggi.  Misalnya, host aktivitas global </li></ul><br><p>  Dalam kasus pertama, semuanya sederhana, ekstensi yang kami tulis di atas cocok untuk kami.  Dan untuk menyelesaikan transisi dalam kasus kedua, Anda perlu mendapatkan NavController dari host yang diinginkan.  Untuk melakukan ini, Anda harus mendapatkan id host ini di dalam modul.  Karena hanya modul yang mengimplementasikan grafik navigasi dari host ini yang memiliki akses kepadanya, kami akan membuat dependensi dan mengimplementasikannya dalam modul fitur, di mana akses ke NavController tertentu diperlukan, melalui Belati. </p><br><p>  Modul GlobalHostModule.kt - DI untuk menyediakan dependensi id host global </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Provides</span></span> <span class="hljs-meta"><span class="hljs-meta">@GlobalHost</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">provideGlobalHostId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> = R.id.host_global</code> </pre> <br><p>  AppActivityModule.kt - modul DI utama aplikasi </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@FragmentScope</span></span> <span class="hljs-meta"><span class="hljs-meta">@ContributesAndroidInjector( modules = [ GlobalHostModule::class, ProfileNavigationModule::class, ... ] )</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">profileKnownFragmentInjector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: ProfileKnownFragment</code> </pre> <br><p>  Menanamkan ketergantungan host id dalam fragmen </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> <span class="hljs-meta"><span class="hljs-meta">@GlobalHost</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hostId = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p>  Saat fragmen disarangkan, ada baiknya membuat Qualifier untuk setiap host atau menggunakan Qualifier yang Ada Dinamai sehingga Dagger memahami int yang akan disediakan. </p><br><p>  Globalhost.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-meta"><span class="hljs-meta">@Qualifier</span></span> <span class="hljs-meta"><span class="hljs-meta">@Retention(AnnotationRetention.RUNTIME)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">annotation</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GlobalHost</span></span></span></span></code> </pre> <br><p>  Setelah id dependensi dari host yang diinginkan diperoleh dalam fragmen, Anda bisa mendapatkan NavController oleh id host.  Kami akan meningkatkan ekstensi kami untuk kemampuan melakukan transisi dalam wadah apa pun: </p><br><p>  Framentmentxt.kt </p><br><pre> <code class="kotlin hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> Fragment.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">navigate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(navCommand: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">NavCommand</span></span></span></span><span class="hljs-function"><span class="hljs-params">, hostId: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">? = </span></span><span class="hljs-literal"><span class="hljs-function"><span class="hljs-params"><span class="hljs-literal">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> navController = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hostId == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { findNavController() } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Navigation.findNavController(requireActivity(), hostId) } navController.navigate(navCommand.action, navCommand.args, navCommand.navOptions) }</code> </pre> <br><p>  Kode dalam cuplikan </p><br><pre> <code class="kotlin hljs">navigate(toAuth, hostId)</code> </pre> <br><p>  Ini adalah hal-hal penting dalam navigasi menggunakan Jetpack dalam arsitektur multi-modul.  Jika Anda memiliki pertanyaan, maka saya akan dengan senang hati menjawabnya di komentar :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id475104/">https://habr.com/ru/post/id475104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id475090/index.html">.NET Core dengan Pratinjau Notebook Jupyter 1</a></li>
<li><a href="../id475092/index.html">"Saya akan membacanya nanti": nasib yang sulit dari kumpulan halaman web offline</a></li>
<li><a href="../id475096/index.html">Mengumumkan .NET Core 3.1 Pratinjau 2</a></li>
<li><a href="../id475098/index.html">Otomatisasi pengadaan poster bioskop online</a></li>
<li><a href="../id475100/index.html">Cara menggunakan crypto untuk menciptakan "barang publik" tanpa risiko bagi investor</a></li>
<li><a href="../id475106/index.html">Pengumuman utama konferensi Microsoft Ignite 2019</a></li>
<li><a href="../id475110/index.html">.NET Core dengan Jupyter Notebooks - Pratinjau 1</a></li>
<li><a href="../id475114/index.html">Memperkenalkan .NET Core 3.1 Pratinjau 2</a></li>
<li><a href="../id475116/index.html">.NET Core 3 untuk Windows Desktop</a></li>
<li><a href="../id475124/index.html">Kasus: Otomatisasi Instagram. Apakah Anda menjual melalui pos media sosial?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>