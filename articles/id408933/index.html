<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👆🏽 👨🏿‍💻 👨🏽‍🎨 Penggantian sakelar tekanan mekanis dengan sakelar digital (ke pemilik sumur) 🏤 🅾️ 🈁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika saya pertama kali dihadapkan pada penyesuaian saklar tekanan mekanis dengan pegas, saya menyadari bahwa saya perlu panggilan ke teman, atau leb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Penggantian sakelar tekanan mekanis dengan sakelar digital (ke pemilik sumur)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/408933/"> Ketika saya pertama kali dihadapkan pada penyesuaian saklar tekanan mekanis dengan pegas, saya menyadari bahwa saya perlu panggilan ke teman, atau lebih tepatnya kepada ayah saya, karena mekanismenya, meskipun dipikirkan dengan baik dan toleran terhadap kesalahan, berada pada tingkat tinggi, tetapi ada kelemahan bahkan penyesuaian satu kali pada wajah. . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/13e/24d/072/13e24d0724dea32524577289dea261f6.jpg" alt="gambar"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/953/7be/772/9537be77296c01b41348a4e722cef8bf.jpg" alt="gambar"></div><br>  Saya meminta potongan, lebih menarik di sana;) <br><a name="habracut"></a><br>  Saya menemukan jawabannya dan bahkan berhasil menyesuaikannya, tetapi saya menghabiskan waktu dan gugup untuk hal ini.  Kemudian saya menyadari bahwa relai digital akan bagus, cukup tekan tombol dan atur yang diinginkan.  Tentu saja, banyak yang dapat mengutuk saya dalam beberapa hal: <br><br>  "Kamu orang bodoh yang tidak bisa berurusan dengan saklar tekanan paling sederhana dan dua pegas." <br>  - mekanik mengarahkan, itu akan bekerja selamanya. <br>  - mengapa ada sesuatu untuk diatur: sekali tukang ledeng ditetapkan untuk rubel XX * (tingkat negara) dan semua <br><br>  Tanpa masalah, Anda dapat melanjutkan daftar untuk waktu yang lama, tetapi berdasarkan sifat teknik Anda, saya ingin mengembangkan dan meningkatkan segala sesuatu di sekitar saya, dan tidak memuntir mata air dan berpikir ketika kontak relai mekanis terbakar di sana dan relai proteksi pompa termal mulai bekerja ketika Anda semua menggunakan sabun: D, dan bahkan lebih baik istrimu :) <br><br>  Kita harus membayar upeti, relay mekanik telah bekerja untuk saya selama 4 tahun dan tidak ada yang terjadi dengan itu (pah pah pah), saya hanya perlu membangun kembali, membersihkan kontak, dan ini "KLIK!" Mulai berkilau.  mereka sedikit tegang di garasi dan ... takut mouse saya, sehingga dia harus melarikan diri. <br><br><div class="spoiler">  <b class="spoiler_title">Melarikan diri</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/-fVq93IuNN0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Karena saya menyukai otomatisasi dan telah beralih dari 1-kawat ke Arduino melalui esp, saya dapat dan melakukan berbagai kerajinan di rumah, atau lebih tepatnya perangkat, untuk membuat hidup lebih mudah.  Lingkaran teman tahu tentang daftar proyek yang saya coba selesaikan dan laksanakan, tetapi sama sekali tidak ada waktu untuk itu.  Konstruksi bak mandi akan muncul sepanjang musim panas (750 jam), maka salju akan menumpuk :), dan inilah Tahun Baru di hidung! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/d20/61c/46b/d2061c46b4400e77cb2c657f745003d9.jpg" alt="gambar"></div><br>  Banyak orang "mencintai" saya juga, terutama dari bidang TI.  Tapi ini hanya menyenangkan, hidup adalah hal yang menarik, dan tanpanya dengan cara apa pun.  Juga banyak terima kasih kepada semua yang mendukung saya - tanpa kata-kata baik Anda, drive tidak akan sama.  Terima kasih kepada istri saya untuk memahami cinta papan saya) <br><br>  Dari lirik, kita melompat ke kenyataan.  Saya berbalik mencari relay digital dan menyadari bahwa sangat sulit ke arah ini, baik asing untuk $ 100 dan tidak sama sekali seperti yang saya inginkan ... atau mekanik untuk $ 15.  Saya bawa dalam $, karena sudah lama diketahui bahwa jika kita beralih ke $, maka bahkan nenek tidak akan mandi, seperti koin.  Tapi aku bajingan - rumah itu terhubung ke Internet, tapi tidak ada saklar tekanan - gila! <br><br>  Tema untuk troll: Saya mulai bekerja dengan Arduino yang berasal dari Tiongkok, bukan yang asli, tetapi yang Cina, mereka bekerja dengan cara yang sama, di mana ada kesalahan kecil, tetapi mereka tidak menyakiti saya dengan cara seperti memuntahkan lava negatif dan mengocok esp8266, yang mati karena statika lebih cepat daripada Anda akan mencolokkannya ke komputer Anda, dan bahkan dengan kekuatan 3,3, yang Anda harus pergi dan temukan), kecuali itu NodeMCU, yang saya suka. <br><br>  Saya suka esp8266 dan Arduino dan orang-orang, tetapi untuk duduk dengan cepat untuk merakit perangkat otomasi yang bekerja dan STABIL, arduino adalah hal yang sangat diperlukan + Wiring C-language membantu banyak untuk dengan cepat menyadari apa yang diperlukan.  (tidak ada yang akan mencela apa yang Anda tulis dalam bahasa skrip Lua rem).  esp8266 (pendapat saya) - bagus di mana Anda tidak perlu mengukur ADC dan Internet diperlukan.  Meskipun "pembakaran \ kelembabannya" sangat mengecewakan. <br><br>  Kami kembali ke domba-domba kami, yaitu estafet :) <br><br>  Akibatnya, saya menemukan sensor di China seharga $ 5, dengan ADC 0-5V dan memutuskan untuk mencobanya.  Meski begitu, aku dengan bodohnya menyalakan untuk menerapkannya dan merakit perangkat.  Fantasi erotis langsung dimulai, bagaimana LED akan berkedip) dan tombol untuk penyesuaian ditekan, dan angka yang dihargai akan menyala pada layar biru ikonik China dan semua ini akan bekerja dengan tekanan nyata di sisir kami. <br><br>  Saya memikirkannya, menguraikannya, menggambarnya, merencanakannya, memesannya, dan mulai menulis kode sampai erotika berlalu dengan pikiran. <br><br>  Ketika sensor tiba, saya menyadari bahwa sensor dibuat dengan sangat baik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/cac/9f7/0e4/cac9f70e428dc26b50ef47c3f69e21a3.jpg" alt="gambar"></div><br>  Lebih lanjut, saya menyadari bahwa itu mulai menunjukkan data bukan dari awal, tetapi dari 0.5V ke 4.5V.  dari 0 hingga 12 bar.  Saya sangat senang, karena saya senang mengenali singularitas perangkat ini, Anda dapat melacak ketika sensor mati dan tidak menunjukkan 0,5 didambakan pada output. <br><br>  Penyisipan sensor ke sistem saat ini, meninggalkan mekanik "berjaga-jaga". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/953/ff1/9a8/953ff19a89efd97c7de0c335a0d841a0.jpg" alt="gambar"></div><br>  Satu hal yang menyedihkan, tidak ada data pada sensor, bagaimana menghitung pembacaannya, tetapi karena ada garis linear pada grafik, saya harus (malu, saya akui) untuk membuka buku teks ALGEBRA dan belajar lagi, ingat bagaimana mereka membangun hubungan linear langsung di persamaan :) oleh dua poin dan tentang mukjizat, saya dengan cepat mendapatkan (Anda dapat mempermalukan saya) formula sederhana yang dihargai, di mana, setelah mengubah sinyal ADC ke VOLTS, saya mengerti berapa banyak tekanan yang saya miliki di Bar.  Karena sensor itu sendiri dikeluarkan dari 0 hingga 1.2Mpa - tidak sulit untuk diterjemahkan ke dalam Bar - mengetahui bahwa: <br><br>  1 Pa = 1.0E-5 bar <br>  yaitu 1200000Pa = 12Bar <br>  Karena tekanan dari pompa tidak melebihi 4Bar, sensor ini cukup untuk mata! <br><br>  Kemudian saya mengambil Arduino Uno - itu tergeletak terlalu banyak, saya biasanya menggunakannya untuk desain berengsel cepat, pengujian, dan kemudian saya menggunakan Arduino Nano, karena tidak memiliki body kit kiri dan ukurannya 3 kali lebih kecil!  Dan ya, Arduinist asal China akan memaafkan saya, saya minta maaf untuk menontonnya, saya harus membiarkannya masuk ke perangkat!  Saya pikir dan membeli kotak plastik IP55 kecil, minum lubang di bawah layar, yang saya beli 4 tahun yang lalu!  Karl!  Dan kemudian saya tidak menyadari bahwa LCD 16 * 2 ini akan masuk ke bisnis yang bermanfaat.  Saya mengambil 2 tombol otomatis di pasar mobil, menyolder kabel, dan bahkan tidak mendesain papan secara terpisah, seperti yang saya lakukan untuk Nano - karena Uno bodoh besar dan sama sekali tidak untuk tujuan seperti itu. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a6e/c78/d35/a6ec78d35d2e73c21da5ab9f53bfbd25.jpg" alt="gambar"><br><br>  Algoritma ini cukup sederhana dan masih menjalani tes lapangan, kode proyek untuk melihat lebih dekat terletak di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  Saya tidak malu mempostingnya jika ada kritik yang membangun, saya siap untuk melakukan perubahan, karena terbuka untuk diskusi apa pun. <br><br>  Saya mencoba memasukkan prinsip-prinsip berikut ke dalam algoritma: <br><br>  - Inisialisasi data: saat startup, semua variabel untuk operasi diperiksa dan dimulai <br>  - Polling awal sensor: diperiksa jika sensor tidak gagal (jika terjadi kegagalan, relai pompa terputus untuk berjaga-jaga) data dihitung dan ditransfer ke tekanan saat ini di sisir (sisir distribusi, ke tetangga yang terhubung + inlet pompa + akumulator hidrolik) jika semuanya berada dalam tekanan set bawah dan atas, maka kami terus mendengarkan dan menghitung data <br>  - Data ditampilkan secara visual di layar sebagai: <br><br>  tekanan rendah - tekanan saat ini - tekanan tinggi <br>  indeks penurunan tekanan - [blok, tunjukkan tekanan dalam sistem] <br><br>  Ini memungkinkan Anda untuk dengan cepat menilai situevina apa yang terjadi. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a16/a6f/711/a16a6f7117f1602f238acc0115cba914.jpg" alt="gambar"><br><br>  - Jika tekanan saat ini lebih rendah dari RENDAH: relai keadaan padat dipotong oleh 15A (diuji selama bertahun-tahun) dan pompa menyala dan menghasilkan air dengan tenang, cepat, tanpa percikan dan klik.  Tekanan TOP membuat relai.  Pompa tidak akan pernah hidup dan mati, jika ada, dengan pembacaan sensor yang berada di luar kisaran yang wajar.  Ini keamanan. <br><br>  - Saya menghitung indeks penurunan tekanan ketika setengah dari tekanan tetap di sisir dan yang sebelumnya dan saat ini diperiksa setiap 10 detik, jika perbedaannya kurang dari standar 0,05 - maka indeks saat ini berubah dan pompa menyala AKAN JAUH, yaitu, logikanya adalah konsumsi air yang cepat dan bahwa untuk memprediksi masuknya pompa, saya menggunakan logika ini.  Logikanya tidak bekerja sejauh ini pada 100%, karena saya masih menguji saat ini, ada kelemahan yang terkait dengan milis () waktu dari arduins sendiri, itu sedikit mengganggu saya, tetapi saya akan menemukan solusi untuk perhitungan yang jelas.  Logika dipicu di awal, dan kemudian indeks turun menjadi 0,01 dan logika tidak lagi berfungsi, tetapi ini tidak mempengaruhi hidup dan mati pompa.  Di sini Anda dapat mengikuti topik "pompa harus dinyalakan beberapa kali per jam dan tidak lebih" - Anda berhak untuk ini), saya tidak akan berdebat - topik ini sedang dianalisis. <br><br>  - ada tombol samping yang memungkinkan Anda untuk mengatur ambang RENDAH dan TINGGI untuk menghidupkan dan mematikan pompa SECARA DINAMIS, tanpa mem-boot ulang, hanya dengan bodoh saat terbang - lihat layar dan tekan tombol samping ....  nyaman!  data segera ditulis ke EEPPROM dan ketika unit dihidupkan, itu dimuat dari sana (ini adalah memori konstan untuk menulis angka dari 0 hingga 255 byte, itu tidak cukup untuk tingkah kecil).  Pada saat yang sama, ada titik bahwa angka floating point sangat sulit dan pendarahan yang hanya diputuskan pada bagian saya seperti ini: mengetahui bahwa angka x.x0 adalah tekanan tipe float, dapat dengan mudah dikonversi menjadi byte jika Anda mengalikan dengan 10 dan menulis ke memori, yaitu: contoh: 1.80 * 10 = 18 - setelah perkalian, angka float membuang nol terakhir secara otomatis dan kami mendapatkan angka yang sesuai dengan tipe byte, ketika membaca, kami membaginya dengan 10.0 dan mendapatkan bentuk sebaliknya untuk bekerja di sistem dan tipe float kami. <br><br>  - Semua yang baik akan tersedia untuk "membaca saja" di luar rumah, yang akan memungkinkan kita untuk memahami situasi dengan tekanan tidak hanya dalam tekanan arteri, tetapi juga di pipa! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e04/3c9/963/e043c99632033b3dc2fe5bf4479c726f.jpg" alt="gambar"><br><br>  Yah, itu saja, sudah dimaafkan, siapa pun yang terganggu oleh detail kode, JENIS data bodoh dan detail intim memuat data dari memori, lewati ini, karena, mengetahui bahwa ada orang-orang dari bidang TI, mereka akan bertanya semua jenis pertanyaan atau sebaliknya, tertawa dari algoritma sederhana saya yang tidak menggunakan AI \ ML yang trendi dan algoritma big cool dan big data lainnya.  Semoga para insinyur juga akan memahami bagian lain yang terkait dengan bagian mekanik. <br><br>  Secara umum, kesimpulannya adalah ini: Anda dapat melakukan segalanya, Anda dapat melakukannya dengan mudah, melakukannya dengan minat, dan seperti yang pernah dikatakan oleh seorang komentator favorit saya: Anda bisa menjadi orang dewasa dan “bermain dengan mainan anak-anak”. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/geektimes/post_images/b98/8d9/760/b988d9760525a615924a2c77c37bb68f.jpg" alt="gambar"></div><br><div class="spoiler">  <b class="spoiler_title">uji coba lapangan</b> <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/cn3C7iSAZ1k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  Topi Anda, otomatisasi, pria yang cakap dan semoga hari Anda menyenangkan! <br><br>  Gulma: <br><br>  - Saya terus menguji indeks penurunan tekanan untuk mulai prematur <br>  - Arduino uno (Cina) - masalah dengan millis () timer telah terungkap - Saya akan memeriksa arduino nano (itu tidak pernah terjadi sebelumnya, saya kira model melengkung) (saya tidak mengerti, jadi saya tidak mengerti) <br>  - Kesalahan dinyatakan 1,5% - dari 1,2Bar - ini 0,18Bar - sebenarnya - Saya memiliki tempat 0,3 relatif terhadap pengukur tekanan saya, tapi saya tidak tahu berapa banyak itu terletak ... jadi 2% memungkinkan kesalahan maks - Anda dapat memasukkan algoritma (seperti yang saya lakukan) kesalahan dan akan lebih atau kurang seperti kebenaran.  Jangan meluncurkan satelit - itu akan dilakukan) <br><br>  <b>upd:</b> label harga di wilayah $ 15-18 dirilis untuk produk. <br><br>  Selamat Tahun Baru!  Biarkan semua rencana Anda menjadi kenyataan, BATHES akan dibangun, akan ada PANAS di rumah dan seluruh keluarga Anda yang ramah akan bersama Anda!  Semoga hanya ada kabar baik di tahun baru. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id408933/">https://habr.com/ru/post/id408933/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id408923/index.html">"Terima kasih atas bantuannya, kawan!" Mempercepat PC gaming AMD Ryzen</a></li>
<li><a href="../id408925/index.html">Steampunk Hi-Fi: masa lalu alternatif untuk peralatan suara</a></li>
<li><a href="../id408927/index.html">Steam berhenti menerima pembayaran dalam Bitcoin karena tingginya volatilitas cryptocurrency</a></li>
<li><a href="../id408929/index.html">Pengembang beberapa game ponsel menambang cryptocurrency di smartphone pengguna</a></li>
<li><a href="../id408931/index.html">Tinjau Notebook ASUS N580VD</a></li>
<li><a href="../id408935/index.html">Antena Cerdas untuk Jaringan LTE</a></li>
<li><a href="../id408939/index.html">Laporan akhir tentang proyek satelit Mayak</a></li>
<li><a href="../id408941/index.html">Konektor diagnostik OBD-II sebagai antarmuka untuk IoT</a></li>
<li><a href="../id408943/index.html">Apa yang dilakukan kebosanan pada seseorang: ilmu kesadaran yang mengembara</a></li>
<li><a href="../id408945/index.html">Jutawan bitcoin anonim memberikan $ 86 juta untuk amal.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>