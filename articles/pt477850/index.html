<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèº üéí üí∞ Reagir nativo - uma bala de prata para todos os problemas? Como escolhemos uma ferramenta de plataforma cruzada para o Profi.ru üå≠ üÜô ‚öìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° pessoal, meu nome √© Gevorg. Sou o chefe de dispositivos m√≥veis da Profi.ru. Quero compartilhar com voc√™ a hist√≥ria de nosso experimento com o Reac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reagir nativo - uma bala de prata para todos os problemas? Como escolhemos uma ferramenta de plataforma cruzada para o Profi.ru</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477850/">  Ol√° pessoal, meu nome √© Gevorg.  Sou o chefe de dispositivos m√≥veis da Profi.ru.  Quero compartilhar com voc√™ a hist√≥ria de nosso experimento com o React Native.  Vou contar como avaliamos os pr√≥s e os contras do desenvolvimento do React Native - na teoria e na pr√°tica.  O artigo ser√° √∫til para quem estiver interessado no desenvolvimento de dispositivos m√≥veis entre plataformas, mas ainda n√£o decidiu se deve seguir esse caminho ou n√£o. <br><br><h3>  Acelera√ß√£o m√°xima </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/0o/zn/yo/0oznyopzpx-vmsq5ud5hxlkoirm.gif" width="600"></div><br>  Tudo come√ßou com o fato de termos decidido acelerar o desenvolvimento em 10 vezes no n√≠vel da empresa.  Estabelecemos uma meta imposs√≠vel de ir al√©m do horizonte habitual de eventos e experimentar coisas novas.  Todas as equipes de desenvolvimento do Profi.ru fizeram os experimentos.  Naquela √©poca, a empresa tinha 13 desenvolvedores m√≥veis nativos, incluindo eu e dois l√≠deres de equipe.  Minha equipe trabalhou em dois aplicativos m√≥veis.  No primeiro, os clientes procuram especialistas, no segundo, especialistas.  Para mim, esse per√≠odo foi incompreens√≠vel e emocionalmente estressante.  De acordo com meus sentimentos, fizemos tanto que tudo funcionou rapidamente. <br><br>  Usamos uma arquitetura comum em todo o projeto e monitoramos a pureza do c√≥digo.  Geradores usados ‚Äã‚Äãque criam todos os arquivos do m√≥dulo.  Eles tentaram tirar toda a l√≥gica de neg√≥cios no back-end.  Montamos CI / CD e aplicativos cobertos com testes E2E.  Por tudo isso, alguns aplicativos foram lan√ßados de forma est√°vel uma vez por semana.  Eu n√£o tinha ideia de como acelerar o desenvolvimento duas vezes.  De longe, √†s 10. Portanto, determinamos o que √© importante para n√≥s. <br><a name="habracut"></a><br><ol><li>  Base de c√≥digo unificada.  Eu queria que todos os nossos desenvolvedores m√≥veis escrevessem o mesmo c√≥digo.  Em um idioma, sem diferen√ßas de plataforma entre iOS e Android.  Para acelerar o desenvolvimento pela metade. </li><li>  F√°cil de aprender nova ferramenta.  Para que, ao expandir a equipe, n√£o tenhamos problemas de reciclagem ou contrata√ß√£o. </li><li>  Libera√ß√µes r√°pidas.  Para que possamos liberar n√£o uma vez por semana, mas todos os dias. </li><li>  Atualiza√ß√µes instant√¢neas.  Para que todos os usu√°rios recebam atualiza√ß√µes imediatamente.  Como agora est√° acontecendo no desenvolvimento web. </li></ol><br>  Ap√≥s uma breve revis√£o, tr√™s candidatos apareceram: React Native, Flutter, Kotlin / Native.  Nem o Flutter nem o Kotlin Native podem ser liberados rapidamente.  E consideramos isso talvez o mais importante.  Al√©m disso, essas tecnologias eram completamente cruas na √©poca.  Decidimos usar o React Native - ele pode ser lan√ßado instantaneamente.  Al√©m disso, a maioria dos nossos desenvolvedores j√° usou o React. <br><br>  Em geral, eu era negativo sobre as ferramentas de plataforma cruzada - como a maioria dos desenvolvedores m√≥veis nativos.  V√° a qualquer confer√™ncia m√≥vel e fale sobre isso - voc√™ ser√° imediatamente chapado.  Eu mesmo amo isso :-) Portanto, para confirmar ou refutar os medos, realizamos nossa investiga√ß√£o. <br><br><h3>  Pr√≥s, riscos e problemas </h3><br>  Estudamos exemplos de uso do React Native em diferentes empresas - bem-sucedidas e n√£o t√£o boas.  Com o chefe de desenvolvimento, Borey Egorov leu com mais de tr√™s d√∫zias de artigos e outros materiais.  Alguns discutiram cada par√°grafo.  No final do artigo - links para os mais interessantes.  Observamos os pontos que podem nos acelerar, poss√≠veis riscos e perguntas.  Depois disso, conversamos com desenvolvedores de tr√™s empresas.  Em cada um dos caras, eles criaram um produto em massa e trabalharam com o React Native por pelo menos um ano. <br><br>  Com os profissionais, tudo ficou bem √≥bvio. <br><br><ol><li>  Base de c√≥digo geral. </li><li>  Over-the-Air, ou atualiza√ß√£o por via a√©rea, ignorando a loja. </li><li>  A partir dos dois primeiros pontos, segue-se que a velocidade de entrega de recursos aos usu√°rios aumentar√°. </li><li>  Os desenvolvedores da Web poder√£o escrever c√≥digo para aplicativos m√≥veis.  Se um desenvolvedor da Web conhece o React bem, ele pode aprender rapidamente o React Native.  E se o desenvolvedor m√≥vel j√° conhece essa plataforma, pode entrar no desenvolvimento da Web com relativa rapidez. </li></ol><br>  A lista de riscos era mais longa :-) <br><br>  <b>O primeiro risco</b> .  Em vez de uma plataforma, a longo prazo, somos for√ßados a oferecer suporte a tr√™s: Android, iOS e React Native. <br><br>  √Äs vezes, a tela do desenvolvedor se parece com isso: <br><br><img src="https://habrastorage.org/webt/up/jj/pi/upjjpis1hslt16uazem0kvpbet8.png"><br><br>  <b>Realidade</b>  Um de nossos interlocutores injetou o React Native no c√≥digo existente.  Sim, uma terceira plataforma completa aparece, mas voc√™ n√£o sai do desenvolvimento nativo.  Sua equipe teve que sincronizar o estado entre o React Native e o c√≥digo nativo.  Isso exigiu muita altern√¢ncia entre diferentes partes de c√≥digo / paradigmas e IDEs diferentes.  Portanto, eles decidiram escrever um novo projeto a partir do zero, criar uma estrutura no React Native e j√° inserir pe√ßas nativas onde forem necess√°rias.  Ficou melhor. <br><br>  <b>O segundo risco.</b>  React Native Black Box - √†s vezes, h√° situa√ß√µes em que um desenvolvedor n√£o entende por que um bug apareceu.  Voc√™ deve procurar em qualquer lugar: no c√≥digo React Native, na parte nativa do produto ou na pr√≥pria plataforma React Native. <br><br>  <b>Realidade</b>  Os caras com quem conversamos envolveram o aplicativo com logs e v√°rias ferramentas: Crashlytics, Kibana e assim por diante.  Os problemas permanecem, mas fica claro onde eles surgem. <br><br>  <b>O terceiro risco.</b>  Em artigos, foi encontrado frequentemente que o React Native √© adequado para projetos pequenos, mas n√£o para produtos grandes com funcionalidade de plataforma. <br><br>  <b>Realidade</b>  Examinamos se existem grandes empresas no mercado que trabalham com o React Native.  Acabou - existem dezenas, sen√£o centenas.  Incluindo Skype, Tesla, Walmart, Uber Eats e Cozinha na √°rea. <br><br>  <b>Quarto risco.</b>  Cada vez que voc√™ atualiza seu sistema operacional da Apple ou do Google, o projeto pode ser interrompido. <br><br>  <b>Realidade</b>  Decidimos que o risco era perfeitamente aceit√°vel.  O mesmo risco existe para o desenvolvimento nativo.  Quando o novo sistema operacional para iOS e Android √© lan√ßado, voc√™ adapta seu aplicativo a ele. <br><br>  <b>O quinto risco.</b>  N√£o h√° suporte ao sistema de 64 bits no Android, e o problema est√° aberto desde 2015.  E desde agosto de 2019, o Google Play n√£o aceita compila√ß√µes que suportam apenas sistemas de 32 bits. <br><br>  <b>Realidade</b>  Analisamos o problema em que a equipe do React Native trabalhou no ver√£o de 2018.  Eles prometeram adicionar suporte no pr√≥ximo lan√ßamento, embora ainda n√£o tenham totalmente corrigido o suporte para o sistema de 64 bits.  Isso ficou muito chateado.  O suporte foi adicionado mais tarde, mas alguns dispositivos Android caem ap√≥s a transi√ß√£o.  Como descobrimos mais tarde, o percentual √© escasso, mas ainda assim foi o ponto mais doloroso para mim. <br><br>  <b>Sexto risco.</b>  A probabilidade de que amanh√£, a Apple ou o Google libere uma nova vers√£o do sistema operacional e quebre o React Native.  Ou uma nova tecnologia que Profi.ru, em princ√≠pio, n√£o ser√° capaz de suportar. <br><br>  <b>Realidade</b>  N√£o h√° garantias para n√≥s ou para muitas outras empresas.  Voc√™ percebe o risco e o corre, ou tenta outra coisa.  Decidimos fazer e resolver todos os problemas assim que estiverem dispon√≠veis. <br><br>  <b>S√©timo risco.</b>  N√£o foi poss√≠vel dizer com anteced√™ncia a rapidez com que o React Native ser√° comparado ao aplicativo nativo e qual desempenho ele mostrar√°. <br><br>  <b>Realidade</b>  A cita√ß√£o literal de um de nossos interlocutores √© "listas de elementos de altura vari√°vel quando a rolagem diminui a velocidade".  Decidimos verificar na pr√°tica.  Um pouco mais √† frente - no momento em que escrevemos o primeiro prot√≥tipo do aplicativo, n√£o vimos esse problema, mas quando desenvolvemos um aplicativo completo, havia muitas perguntas sobre o desempenho do React Native. <br><br>  <b>Oitavo risco.</b>  N√£o est√° claro com que rapidez podemos encontrar desenvolvedores do React Native.  No HeadHunter, encontrei cerca de 300 curr√≠culos, apesar de haver mais de 150 mil desenvolvedores para iOS. <br><br>  <b>Realidade</b>  Eles n√£o se aprofundaram aqui, pois haviam contratado desenvolvedores do React mais de uma vez e sabiam o que procurar.  Decidimos que, como √∫ltimo recurso, podemos treinar novamente os desenvolvedores do React no React Native. <br><br>  Havia tamb√©m o risco de algu√©m deixar a equipe, pois os desenvolvedores de dispositivos m√≥veis n√£o gostam dessa tecnologia.  A prop√≥sito, eu estava certa.  Algu√©m saiu :-( <br><br>  Estou cansado de escrever React Native, ent√£o o que se segue √© apenas RN :-) <br><br><h3>  O que mudamos e o que n√£o </h3><br>  Discutimos os resultados da investiga√ß√£o com os fundadores da empresa, Sergey Kuznetsov e Yegor Rudi, e obtivemos o aval do experimento. <br><br>  Decidimos criar um novo produto a partir do zero, e n√£o inseri-lo em um j√° existente.  E tamb√©m - n√£o toque em nosso aplicativo cliente.  Era bastante maduro e, economicamente, n√£o fazia sentido mudar radicalmente alguma coisa.  Al√©m disso, era importante para n√≥s que o aplicativo cliente tivesse sua pr√≥pria experi√™ncia nativa para iOS e Android. <br><br>  Mas quer√≠amos mudar radicalmente o pedido de especialistas.  Ao contr√°rio do cliente, n√£o tivemos vergonha de os especialistas terem a mesma experi√™ncia de intera√ß√£o para aplicativos iOS e Android.  Al√©m disso, acreditamos que em um produto para especialistas podemos ficar sem anima√ß√£o e efeitos visuais.  Mas antes que toda a equipe mudasse para uma nova tecnologia, era necess√°rio sentir como ela funciona. <br><br><h3>  Experi√™ncia em a√ß√£o </h3><br><img src="https://habrastorage.org/webt/fa/--/gc/fa--gc2ogfnd-pjntizl_0jvoaa.png"><br><br>  Em dezembro de 2018, reunimos uma equipe de tr√™s pessoas.  Dois desenvolvedores do React e um nativo - eu.  Entendo como o Android funciona e sou versado no desenvolvimento do iOS. <br><br>  Como parte do experimento, quer√≠amos verificar os seguintes pontos: <br><br><ul><li>  como os lan√ßamentos instant√¢neos funcionam no RN; </li><li>  como √© a intera√ß√£o entre os componentes nativos e o RN; </li><li>  podemos usar nossos componentes nativos; </li><li>  como o RN trabalha com c√¢mera, push e diplink; </li><li>  como a navega√ß√£o e a economia de estado funcionam no RN; </li><li>  tanto quanto podemos fazer com o pixel RN perfeito; </li><li>  como o teste autom√°tico funciona no RN; </li><li>  a rapidez com que o desenvolvedor nativo ou React pode aprender a tecnologia. </li></ul><br>  Obtivemos os primeiros resultados em um m√™s e meio ap√≥s mergulharmos no desenvolvimento. <br><br><ul><li>  Comecei a escrever c√≥digo no RN depois de apenas duas semanas.  Para mim, a tecnologia era completamente descomplicada.  Um de nossos desenvolvedores do React me ajudou muito - ele falou sobre o React / Redux e o JS em geral.  Era necess√°rio entrar nos meandros do React / Redux, mas depois de um tempo o "neur√¥nio come√ßou a aprender", como diz nossa empresa :-) </li><li>  Fiquei agradavelmente surpreso que, de alguma forma, o JS + Flow forne√ßa uma digita√ß√£o forte.  Para JS, eu tinha expectativas muito mais baixas.  Ao mesmo tempo, eu definitivamente daria prefer√™ncia a Swift e Kotlin: para mim, elas s√£o muitas vezes mais bonitas e agrad√°veis ‚Äã‚Äãque JS, mas aqui as principais palavras s√£o ‚Äúpara mim‚Äù. </li><li>  Nos ajudou a equipe incluir desenvolvedores que podem escrever c√≥digo para iOS, Android e React.  Cada plataforma tem seus pr√≥prios problemas espec√≠ficos.  Para resolv√™-los, a equipe deve ser multifuncional. </li><li>  Libera√ß√µes instant√¢neas funcionam.  Para mim √© como m√°gica.  N√£o √© necess√°rio aguardar lan√ßamentos e atualiza√ß√µes da Apple.  Procurado - tirado e liberado. </li><li>  Muitas vezes o projeto fracassou.  Isso realmente n√£o √© legal.  Voc√™ pegou as altera√ß√µes do ramo, tentou executar - e n√£o importa.  Foi muito chato.  Em algum momento, acabamos de escrever um script que limpa o projeto completamente.  Isso n√£o quer dizer que eles resolveram o problema como um todo, mas acabaram com a maior parte. </li><li>  Ainda assim, temos que trabalhar com tr√™s plataformas, apesar de escrevermos principalmente c√≥digo no RN.  Todos os desenvolvedores tinham tr√™s IDEs: Xcode, Android Studio, WebStorm. </li><li>  Pushas, ‚Äã‚Äãdeeplinks, c√¢mera, in√≠cio da navega√ß√£o.  Mas eles come√ßam com a ajuda de bibliotecas de terceiros ou as bibliotecas no c√≥digo nativo devem ser gravadas por voc√™ mesmo e, em seguida, conectadas ao RN. </li></ul><br>  No final do artigo, quero voltar ao t√≠tulo.  Ent√£o o RN √© uma bala de prata para todos os problemas?  Decidimos por n√≥s mesmos que n√£o.  Ao mesmo tempo, eles conseguiram o que queriam.  Aumentamos v√°rias vezes a velocidade de entrega de recursos e agora podemos liber√°-lo para todos os usu√°rios todos os dias.  Tamb√©m √© importante que equipes multifuncionais tenham aparecido na empresa, onde cada desenvolvedor escreve c√≥digo no Android / iOS e na web. <br><br>  E sim, os aplicativos na loja :-) <br><br><h3>  Artigos √∫teis sobre React Native </h3><br><ol><li>  <a href="https://blog.discordapp.com/why-discord-is-sticking-with-react-native-ccc34be0d427">Por que a disc√≥rdia continua com o React Native - Fanghao (Robin) Chen</a> </li><li>  <a href="https://www.youtube.com/watch%3Fv%3DWOMnm8mrWFE">Como eu amei e odiei reagir nativo - Andrey Melikhov</a> </li><li>  <a href="https://habr.com/ru/company/qlean/blog/416097/">Reagir nativo do ponto de vista de um desenvolvedor m√≥vel - Andrey Konstantinov</a> </li><li>  <a href="https://instagram-engineering.com/react-native-at-instagram-dd828a9a90c7%3Fgi%3Db3f998d41414">Reagir nativo no Instagram - Instagram Engineering</a> </li><li>  <a href="https://engineering.udacity.com/react-native-a-retrospective-from-the-mobile-engineering-team-at-udacity-89975d6a8102">React Native: Uma retrospectiva da equipe de engenharia m√≥vel da Udacity - Nate Ebel</a> </li><li>  <a href="https://medium.com/%40samat/react-native-%25D0%25B1%25D0%25B0%25D1%2582%25D0%25BB-%25D0%25BF%25D0%25BE-%25D1%2584%25D0%25B0%25D0%25BA%25D1%2582%25D0%25B0%25D0%25BC-%25D0%25B2-%25D0%25BE%25D0%25B4%25D0%25BD%25D0%25BE%25D0%25BC-%25D0%25B4%25D0%25B5%25D0%25B9%25D1%2581%25D1%2582%25D0%25B2%25D0%25B8%25D0%25B8-73f2ad5bab7f">React Native: batalhas de fatos de um ato - Samat Galimov</a> </li><li>  <a href="https://medium.com/airbnb-engineering/sunsetting-react-native-1868ba28e30a">P√¥r do sol reagir nativo - Gabriel Peal</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt477850/">https://habr.com/ru/post/pt477850/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt477838/index.html">Analisador est√°tico PVS-Studio como ferramenta de prote√ß√£o contra vulnerabilidades de dia zero</a></li>
<li><a href="../pt477840/index.html">Analisador de c√≥digo est√°tico PVS-Studio como prote√ß√£o contra vulnerabilidades de dia zero</a></li>
<li><a href="../pt477844/index.html">5 etapas da ideia √† aplica√ß√£o pr√°tica de aprendizado de m√°quina com o SAP Data Intelligence</a></li>
<li><a href="../pt477846/index.html">Resumo de eventos para profissionais de RH em TI de dezembro de 2019</a></li>
<li><a href="../pt477848/index.html">O pequeno segredo de um grande cora√ß√£o: o primeiro cardiograma de baleia azul da hist√≥ria</a></li>
<li><a href="../pt477852/index.html">Hipocrisia n√£o t√≥xica</a></li>
<li><a href="../pt477854/index.html">O que acontece ao conectar dentro e fora de um t√∫nel VPN</a></li>
<li><a href="../pt477856/index.html">Aceleradores de flash PCI-E de 800 GB a 6,4 TB: do amanhecer √† vida em um PC / servidor comum</a></li>
<li><a href="../pt477858/index.html">Trabalho fora da mesa: que projetos realmente surgiram ap√≥s a pr√©-acelera√ß√£o?</a></li>
<li><a href="../pt477860/index.html">Como os servi√ßos de banco de dados gerenciados s√£o organizados no Yandex.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>