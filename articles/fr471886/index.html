<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👨‍👧‍👦 ❌ 🌡️ VMmanager 6: présentation de la box et comparaison avec la génération précédente 🐱 👨🏼‍💻 🧝🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le 8 octobre, une version en boîte de VMmanager 6, le nouveau panneau de contrôle de virtualisation, a été lancée. Maintenant, il peut être installé s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VMmanager 6: présentation de la box et comparaison avec la génération précédente</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ispsystem/blog/471886/"><img src="https://habrastorage.org/webt/wr/u8/5k/wru85kpnvi_2y_f-vmiyqufvdmu.jpeg"><br><br><p>  Le 8 octobre, une version en boîte de VMmanager 6, le nouveau panneau de contrôle de virtualisation, a été lancée.  Maintenant, il peut être installé sur le serveur et utilisé pour vendre des machines virtuelles ou gérer votre propre infrastructure.  Dans cet article, nous comparons la nouvelle génération avec la précédente - VMmanager 5 et VMmanager 6. <br></p><br><p>  Les deux panneaux prennent en charge la virtualisation KVM et gèrent le serveur physique à l'aide de libvirt. <br></p><br><p>  VMmanager 5 est sorti en 2013, VMmanager 6 - en 2019.  La nouvelle génération est plus pratique et plus résistante au stress.  Prend en charge l'imagerie, la gestion des tâches et la surveillance. <br></p><br><p>  Dans cet article, nous comparons deux générations de panneaux.  Parlons d'abord des différences conceptuelles: architecture, interface et résistance aux charges.  Dans la deuxième partie, nous verrons comment des tâches identiques sont résolues dans deux panneaux. <br></p><a name="habracut"></a><br><p>  Plus d'informations sur le produit se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">trouvent dans la section VMmanager 6 du</a> site Web <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ISPsystem</a> . </p><br><h2>  Partie 1. Différences conceptuelles </h2><br><h3>  L'architecture </h3><br><p>  <strong>VMmanager 5</strong> était un monolithe écrit en C ++, ce qui compliquait inutilement à certains endroits le développement de choses simples. <br></p><br><p>  C'est pourquoi dans <strong>VMmanager 6,</strong> nous avons utilisé Python pour des tâches simples, telles que la configuration de nœuds, la configuration de machines virtuelles, le travail avec libvirt.  Ce code est plus facile à écrire, à déboguer et à «assembler».  Ils en ont parlé <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans un autre article sur Habré</a> . <br></p><br><p>  Tâches où la décentralisation des données n'est pas terrible et une mise à l'échelle horizontale est nécessaire, nous sommes passés à Golang, mettant en évidence la logique métier dans les microservices.  Curieusement, nous avons également gagné en vitesse et en facilité de développement.  Le reste de la logique continue de tirer parti du monolithe en C ++ - fiabilité, vitesse et cohérence des données. <br></p><br><p>  De plus, VMmanager 6 est livré dans des conteneurs Docker.  VMmanager 5 a été installé à l'aide de packages.  Un avantage certain de la conteneurisation est la haute prévisibilité du comportement des applications (l'environnement est toujours le même).  Il est devenu plus facile de reproduire des situations ou des problèmes, il n'est pas nécessaire de faire de nombreux assemblages pour différents systèmes d'exploitation, le déploiement est plus rapide. <br></p><br><p> Dans VMmanager 5, l'installation de packages comportait de nombreuses dépendances pouvant entrer en conflit avec des packages déjà installés.  Il y avait des situations où la suppression d'un package inoffensif avec l'option <em>«-y»</em> supprimait le panneau entier par dépendance. <br></p><br><blockquote>  Autre changement majeur: VMmanager 6 prend en charge les images.  Une image est une copie complète d'un disque VM.  Il est utilisé lors de la création de machines virtuelles et de sauvegardes.  À ne pas confondre avec les images ISO dans VMmanager 5 - ce sont deux technologies différentes. </blockquote><br><h3>  Résistance à la charge </h3><br><p>  Une conséquence importante des changements d'architecture est une résistance accrue à la charge. <br></p><br><p>  <strong>VMmanager 5</strong> ne résiste pas à de lourdes charges: si plus de 500 machines virtuelles sont créées, il commence à fonctionner lentement.  Pour contourner cette limitation, les fournisseurs installent un autre VMmanager et y créent de nouvelles machines virtuelles.  Les grands fournisseurs peuvent avoir plusieurs panneaux: selon le nombre d'emplacements ou les tarifs. <br></p><br><p>  Dans VMmanager 5, beaucoup a été fait dans le processus principal et, en règle générale, dans un seul thread.  Pour gérer les opérations longues, il y avait un module longtask (l'ancêtre de taskmanager, un service de répartition des tâches dans la sixième version), mais nous n'avons pas immédiatement commencé à l'utiliser activement.  Il n'y avait pas de mécanisme de verrouillage dans la tâche longue, uniquement des files d'attente dans lesquelles les tâches pouvaient être exécutées strictement une par une dans l'ordre dans lequel elles étaient arrivées.  Une tâche ne pouvait pas tenir sur plusieurs lignes.  Les opérations à longue tâche elles-mêmes étaient des fichiers spéciaux sur disque.  Et un grand nombre de fichiers dans un répertoire crée une charge sérieuse sur tous les systèmes UNIX.  Cela n'a pas permis de répartir les tâches entre plusieurs répartiteurs / serveurs. <br></p><br><p>  La charge dans <strong>VMmanager 6</strong> est répondue par un service spécial de gestion des tâches - Taskmanager.  Désormais, la plupart des opérations sont exécutées différées dans des processus distincts.  Cela augmente la réactivité du système - une demande distincte ne peut pas bloquer son fonctionnement;  et augmente également la stabilité - si quelque chose se passe mal, cela n'affectera pas l'ensemble du système, tout au plus certaines opérations.  Un système flexible de verrous et une isolation élevée des processus individuels permettent une mise en file d'attente et une exécution optimales des tâches en parallèle, si possible. <br></p><br><p>  Toujours dans la nouvelle version, il a été décidé de séparer le lecteur et l'écrivain (processus qui sont responsables des opérations de lecture et d'écriture dans le système).  Contrairement à VMmanager 5, l'utilisateur du panneau peut toujours obtenir des informations, car les threads de lecture peuvent toujours fonctionner en parallèle, quel que soit le nombre d'opérations d'écriture en cours. <br></p><br><h3>  Interface </h3><br><p>  La différence la plus notable entre les deux générations est l'interface.  Et ce n'est pas seulement une question de design.  Différences de vitesse et de réactivité. <br></p><br><p>  L'interface de <strong>VMmanager 5</strong> est obsolète à la fois en apparence et en «comportement».  Le premier est visible à l'œil nu, et le second est visible pendant de longues opérations: si vous arrêtez la machine virtuelle ou lancez la migration de masse, une barre de progression de blocage apparaîtra à l'écran.  Si l'utilisateur effectue de nombreuses opérations de ce type, quelqu'un d'autre attendra simplement de voir la liste des machines virtuelles. <br></p><br><img src="https://habrastorage.org/webt/z6/id/i4/z6idi4wag3txvgphy0mxs8vh3v8.png"><br><p>  <em>Barre de progression de blocage lorsqu'une machine virtuelle s'arrête dans VMmanager 5</em> <br></p><br><p>  Parallèlement aux modifications de conception, <strong>VMmanager 6</strong> est venu avec des modifications architecturales côté client.  Auparavant, les modèles de page étaient générés à partir de fichiers xml côté serveur, maintenant c'est SPA (Single Page Application) basé sur le framework Angular populaire.  L'application se compose de modules indépendants séparés (téléchargés sur demande) et de composants.  Les composants sont alloués à la bibliothèque et sont développés conformément au système de conception. <br></p><br><p>  Pour augmenter la réactivité, la communication avec le serveur se fait à l'aide de l'API REST et de WebSocket.  Dans la plupart des cas, nous essayons d'utiliser des opérations non bloquantes ou retardées.  La partie client est notifiée de toute modification de l'application, qu'il s'agisse de créer une machine virtuelle ou de changer l'état d'un nœud dans une table, via un service spécial.  Ce service se renseigne sur les modifications du stockage de valeurs-clés, où les événements proviennent de tous les microservices. <br></p><br><p>  Ainsi, l'interface VMmanager 6 est non seulement devenue plus moderne, mais aussi plus pratique, réactive et «conviviale». <br></p><br><p><img src="https://habrastorage.org/webt/zn/ul/yt/znulyte1b3fvzwsc_luiu-148-m.png"><br>  <em>Lorsqu'une machine virtuelle s'arrête dans VMmanager 6, l'interface n'est pas bloquée.</em>  <em>Le statut peut être observé dans la liste des machines virtuelles</em> <br></p><br><h2>  Partie 2. Résolution de problèmes </h2><br><h3>  Création de machines virtuelles </h3><br><p>  Passons aux tâches.  Le premier est la création d'une VM. <br></p><br><p>  <strong>VMmanager 5</strong> crée une machine virtuelle en 8-10 minutes - longtemps.  En effet, le processus se déroule par les moyens habituels: les packages sont téléchargés, déployés, installés.  Pour que les clients n'aient pas à attendre, les fournisseurs écrivent des plug-ins: ils créent une machine virtuelle à l'avance, et lorsque le client arrive, réaffectez-la.  Un utilisateur élevé peut créer lui-même une machine virtuelle, mais vous devrez remplir un formulaire complexe. <br></p><br><img src="https://habrastorage.org/webt/qv/lr/mt/qvlrmtkhnnevdghy0s-8ugev5bm.png"><br><p>  <em>Formulaire de création de machine virtuelle dans VMmanager 5</em> <br></p><br><p>  <strong>VMmanager 6</strong> utilise un nouveau mécanisme pour créer des machines virtuelles.  Le panneau ne télécharge pas les packages, mais déploie une copie de l'image.  Pas besoin d'écrire des plugins supplémentaires: l'émission de VM même sans eux est rapide - de 1 minute 20 secondes à 2 minutes.  Les pannes de réseau ou la sortie d'une nouvelle version du système d'exploitation n'affecte plus l'installation, et si elle démarre, elle prendra définitivement fin.  La forme de création d'une VM est devenue beaucoup plus simple. <br></p><br><img src="https://habrastorage.org/webt/-f/s8/af/-fs8afiwezzgp7oxy1c1kfof9dq.png"><br><p>  <em>Formulaire de création de machine virtuelle dans VMmanager 6</em> <br></p><br><h3>  Création de modèles de système d'exploitation </h3><br><p>  Les fournisseurs vendent des machines virtuelles à leurs clients avec WordPress, 1C-Bitrix ou d'autres logiciels.  Les entreprises qui utilisent VMmanager pour leurs besoins internes créent un grand nombre de machines virtuelles du même type pour tester, déployer des services internes et leurs propres logiciels.  La configuration de chaque machine est la routine de l'administrateur ou du testeur.  Le panneau de contrôle permet de l'automatiser: une fois que vous avez configuré le modèle et créé des VPS préconfigurés à partir de celui-ci. <br></p><br><p>  Dans <strong>VMmanager 5,</strong> les modèles de système d'exploitation sont stockés dans des référentiels.  Pour ajouter votre modèle, vous devez créer un référentiel et préparer les fichiers de configuration du système d'exploitation.  Le référentiel est créé sur un serveur distinct.  Le modèle se compose d'une description XML et d'un fichier de configuration, ainsi que de tous les fichiers nécessaires pour créer le système d'exploitation.  L'administrateur doit préparer le modèle.  La tâche n'est pas facile et il est peu probable qu'elle soit résolue sans instructions. <br></p><br><img src="https://habrastorage.org/webt/or/d6/-b/ord6-bjjj1poidkehamw-bkp8ue.png"><br><p>  <em>Modèles de système d'exploitation dans VMmanager 5. Vous pouvez démarrer l'installation à partir de l'interface, mais vous ne pouvez pas configurer le modèle</em> <br></p><br><p>  Le modèle de système d'exploitation dans <strong>VMmanager 6</strong> est une image disque d'une machine virtuelle avec un système d'exploitation installé.  Pour créer un modèle avec un logiciel supplémentaire, il suffit de le configurer sur une machine virtuelle et de créer une image de son disque.  Après cela, toutes les machines virtuelles créées à partir de cette image seront configurées de la même manière.  Seuls les paramètres réseau et l'accès à la machine virtuelle changeront - ils ne sont pas écrits sur l'image.  La tâche est simple, l'administrateur s'en sortira sans instructions.  Bien sûr, les amateurs de scripts peuvent toujours les utiliser - il existe une telle possibilité dans VMmanager 6. <br></p><br><p><img src="https://habrastorage.org/webt/2m/gl/1r/2mgl1rsgj0xo9tl46v4s7dz0zis.png"><br>  <em>Création d'une machine virtuelle à partir d'une image utilisateur dans VMmanager 6</em> <br></p><br><h3>  Statistiques et suivi </h3><br><p>  Les services de statistiques et de surveillance sont des aides indispensables pour tout administrateur système.  Ils vous permettent de répondre rapidement aux situations d'urgence qui se produisent sur les nœuds et les machines virtuelles.  Un afflux soudain de visiteurs, une attaque DDoS ou un script défectueux peut fortement charger la machine virtuelle.  Si vous n'agissez pas, il échouera, ainsi que le site ou le projet qui s'y trouve.  C'est pratique lorsque le système de surveillance est inclus dans le panneau. <br></p><br><p>  <strong>VMmanager 5</strong> dispose d'un mécanisme de surveillance de l'état des machines virtuelles.  Toutes les 10 minutes, il analyse le nombre de paquets envoyés sur le réseau et le nombre de demandes d'écriture sur le disque de la machine virtuelle.  Les 10 principaux nœuds du trafic sortant, de la charge du processeur et de la mémoire sont affichés sur la page principale du panneau.  Il n'y a aucune notification par mail ou messagerie instantanée. <br></p><br><img src="https://habrastorage.org/webt/cb/14/2l/cb142lm6wgzfkmn1plz5a-w4pe8.png"><br><p>  <em>Statistiques sur les nœuds du VMmanager 5. S'il n'y a pas suffisamment de données, les graphiques sont moches</em> <br></p><br><p>  <strong>VMmanager 6</strong> surveille également l'état des machines virtuelles et des nœuds, comme précédemment, collecte des statistiques sur l'utilisation des ressources.  Mais suivant les besoins des utilisateurs, nous avons développé un nouveau système de surveillance en ligne pour les nœuds et les VM.  Il surveille la consommation de RAM, de CPU et de disque dur, surveille l'activité du réseau.  Si la charge devient critique, il est impossible de ne pas le remarquer - les données de surveillance sont affichées dans les listes de nœuds et de machines virtuelles, ainsi que sur les cartes individuelles de ces entités.  Après avoir visité la liste des nœuds, l'administrateur peut immédiatement remarquer lequel des serveurs est surchargé et par quel indicateur.  Le tableau de bord est en cours de développement, l'apparence est attendue dans le panel cette année. <br></p><br><img src="https://habrastorage.org/webt/ub/il/bz/ubilbz57ku3hkiwxw7cc7ogakxy.png"><br><p>  <em>Carte de noeud dans VMmanager 6. Voici des informations sur la charge et les statistiques sur les machines virtuelles créées</em> <br></p><br><h3>  Mail </h3><br><p>  Cela est pratique lorsque le panneau rend compte d'événements ou de problèmes actuels.  Pour ce faire, il doit prendre en charge l'envoi de messages. <br></p><br><p>  Il n'y a aucun moyen de gérer le courrier dans <strong>VMmanager 5</strong> .  Seul un administrateur peut réinitialiser un mot de passe oublié; vous ne pouvez pas le restaurer automatiquement.  Les notifications de création de machine virtuelle sont envoyées par BILLmanager.  Ajoutez un nouvel événement pour les alertes - le tout. <br></p><br><p>  <strong>VMmanager 6</strong> peut envoyer du courrier.  Des notifications arrivent déjà sur la création et la réinstallation de machines virtuelles, des lettres de récupération de mot de passe.  Lorsque la facturation est activée, l'envoi de messages à partir du panneau peut être désactivé.  À l'avenir, il y aura des notifications de problèmes survenus sur les nœuds de machine virtuelle.  Il est également prévu de mettre en place l'envoi de notifications aux messageries instantanées. <br></p><br><h3>  Gestion des tâches </h3><br><p>  Il ne suffit pas d'en apprendre davantage sur le problème, vous devez trouver rapidement sa cause et le résoudre.  Pourquoi la machine virtuelle n'a pas créé ou le script ne s'est pas exécuté, quelles opérations dans le système échouent souvent - tout cela peut être trouvé dans la liste des tâches VMmanager 6. <br></p><br><p>  <strong>VMmanager 5</strong> n'a pas de mécanisme de surveillance des tâches, car il n'y avait pas de mécanisme de tâches lui-même (voir la première partie de l'article).  L'exécution partielle des tâches en arrière-plan peut être surveillée dans la section "État du système".  Vous pouvez voir l'heure de début et de fin, ainsi que l'état - terminé avec succès ou avec une erreur.  Une opération de tâche longue bloquée peut être interrompue de force.  Mais si la machine virtuelle n'a pas été créée, vous ne pourrez pas en trouver la raison à partir du panneau: vous devrez prendre l'ID et aller dans la console "grab logs". <br></p><br><img src="https://habrastorage.org/webt/vo/vt/ls/vovtlsh6e0mkpfmnsddsjkfvuhk.png"><br><p>  <em>Gestion des tâches dans VMmanager 5. Vous pouvez voir l'heure et l'état de démarrage ou terminer le script</em> <br></p><br><p>  <strong>L'</strong> utilisateur de <strong>VMmanager 6</strong> gère les opérations dans la "Liste des tâches".  Il stocke des informations sur les opérations en cours et terminées sur les machines virtuelles, les nœuds et les modèles de système d'exploitation.  Par la durée des tâches, vous pouvez suivre les modèles: quelle opération a pris quel temps, qui l'a démarrée.  S'il a échoué, le journal est visible - il est affiché dans l'interface.  Si le script ne s'exécute pas, un code d'erreur apparaîtra dans l'interface.  Effacez immédiatement quoi faire. <br></p><br><img src="https://habrastorage.org/webt/hc/l1/jq/hcl1jq1p1ph_ihcpxgebcg2uza4.png"><br><p>  <em>La liste des tâches dans VMmanager 6. Vous pouvez comprendre qui, quoi et quand</em> <br></p><br><img src="https://habrastorage.org/webt/dv/zk/nb/dvzknb79x4mo30uwsnseuq87x2g.png"><br><p>  <em>Carte de la tâche qui s'est terminée avec une erreur.</em>  <em>Un journal est visible directement dans le panneau - vous n'avez pas besoin de "manger quoi que ce soit" dans la console</em> <br></p><br><h3>  Sauvegardes </h3><br><p>  C'est l'une des tâches qui est résolue différemment dans deux panneaux. <br></p><br><p>  <strong>VMmanager 5.</strong> Vous pouvez créer des copies de toutes ou de machines virtuelles spécifiques.  Les sauvegardes sont stockées sur le disque local ou sur un stockage FTP distant - une ou plusieurs.  La description XML de la machine virtuelle est copiée, des copies de ses disques virtuels, un vidage de mémoire sont créés, et tout cela est compressé dans l'archive. <br></p><br><img src="https://habrastorage.org/webt/nn/hd/ms/nnhdmshiknknbhacr6wryd3uove.png"><br><p>  <em>Sauvegarde de machines virtuelles dans VMmanager 5</em> <br></p><br><p>  <strong>VMmanager 6</strong> .  Il n'y a pas de sauvegarde au sens habituel - tout est stocké dans la base de données.  Si le panneau échoue, mais que la base de données est enregistrée, il ne sera pas difficile de restaurer le système.  Le rôle des sauvegardes de machines virtuelles est assuré par des images.  Vous pouvez restaurer une machine virtuelle endommagée à partir d'une image si nécessaire.  Maintenant, les images sont créées avec VM arrêtée, mais à l'avenir, elles peuvent être créées sans arrêt et vendues via la facturation. <br></p><br><img src="https://habrastorage.org/webt/t8/zi/2t/t8zi2ttnnuhyfvfvhwsaclqocqu.png"><br><p>  <em>Création d'une image dans VMmanager 6</em> <br></p><br><h3>  Prise en charge native du centre de données Hetzner </h3><br><p>  Hetzner est un centre de données populaire parmi les fournisseurs russes.  Il utilise la sécurité des ports pour la protection, donc lorsque vous travaillez avec lui, des paramètres réseau spéciaux sont nécessaires. <br></p><br><p>  Dans <strong>VMmanager 5, le</strong> réseau des nœuds Hetzner doit être configuré manuellement: modifiez les fichiers de configuration du panneau, configurez l'interface réseau et le pont réseau du serveur et activez le transfert.  En même temps, un panneau ne peut gérer qu'un seul cluster - si le fournisseur a ses propres serveurs en plus de ceux loués par Hetzner, ils doivent être configurés dans un panneau séparé. <br></p><br><p>  <strong>VMmanager 6</strong> prend en charge Hetzner natif.  L'administrateur ajoute un cluster de type Hetzner et connecte les serveurs.  Après cela, le routage suit le modèle de ce centre de données, les paramètres de la machine virtuelle sont définis en fonction du type de cluster dans lequel ils se trouvent.  En même temps, dans le même panneau, il peut y avoir des clusters avec d'autres paramètres réseau.  Soit dit en passant, la gestion de plusieurs clusters est l'une des principales fonctionnalités de VMmanager 6. <br></p><br><img src="https://habrastorage.org/getpro/habr/post_images/a34/b36/cbe/a34b36cbe37fc39647bbe41c9192c7e5.png"><br><p>  <em>Formulaire de création de cluster de type Hetzner dans VMmanager 6</em> <br></p><br><h3>  Stockage local </h3><br><p>  <strong>VMmanager 5</strong> prend en charge le stockage de fichiers et LVM.  Dans un cluster, il peut y avoir des nœuds avec différents types de stockage (comme le temps l'a montré, le mécanisme s'est avéré non réclamé et a nécessité beaucoup de ressources).  Le panneau prend également en charge un grand nombre de types différents de stockage connecté au réseau.  Dans la sixième version, dans les prochaines versions, nous implémenterons la prise en charge de la plus populaire d'entre elles - Ceph-storage. <br></p><br><p>  <strong>VMmanager 6</strong> prend en charge le stockage de fichiers et LVM.  Dans un cluster, il ne peut y avoir de nœuds avec différents types de stockage.  Cela élimine les problèmes de migration - ils sont inévitables si certains des disques sont dans le stockage de fichiers, et certains dans LVM. <br></p><br><h3>  Configuration requise </h3><br><p>  <strong>VMmanager 5</strong> : un serveur propre avec CentOS 6 et 7, 100-150 Go pour la partition racine. <br></p><br><p>  <strong>VMmanager 6</strong> : un serveur propre avec CentOS 7, un processeur dual-core avec une fréquence de 3 GHz, 4 Go de RAM, 40 Go d'espace disque.  Le serveur n'a pas besoin d'être en fer, le virtuel fera l'affaire. <br></p><br><h3>  Prix ​​/ Transition </h3><br><p>  <strong>VMmanager 5</strong> coûte 8 euros par nœud par mois, 80 - si vous achetez pour un an.  Chaque nouveau nœud coûte 8 euros.  Désormais, seuls ceux qui ont déjà acheté une licence pour VMmanager 5 peuvent l'acheter. <br></p><br><p>  <strong>Le coût de VMmanager 6 se</strong> compose de deux parties: le prix des nœuds et un ensemble de machines virtuelles. <br></p><br><ul><li>  Les nœuds sont vendus un à la fois, à 4 euros / mois pour chacun. </li><li>  Les machines virtuelles sont vendues en packages.  Le forfait minimum comprend 20 VM et coûte 8 euros / mois. </li></ul><br><p>  Pour les clients disposant de licences VMmanager 5 actives, une offre spéciale est valable pour l'achat de VMmanager 6. Les conditions et les détails de la migration peuvent être trouvés <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans l'annonce sur le site Web ISPsystem</a> . <br></p><br><h3>  Conclusion </h3><br><p>  Les cinquième et sixième générations de VMmanager conviennent à la gestion de la virtualisation.  Mais la différence entre eux est grande.  Pour résumer: <br></p><br><ul><li>  <strong>VMmanager 5</strong> doit être utilisé pour résoudre des tâches non standard: lorsque vous avez besoin d'images ISO.  Et aussi - des instantanés et des stockages réseau (iSCSI, NFS, Ceph, GlusterFS). </li><li>  <strong>VMmanager 6 est</strong> plus pratique et plus rapide, résiste à de lourdes charges et convient à presque toutes les tâches.  D'ici la fin de l'année, nous prévoyons d'ajouter la prise en charge d'IPv6, des magasins Ceph, ainsi qu'un tableau de bord administrateur et une notification des problèmes au courrier et au messager. </li></ul><br><p>  VMmanager 6 a déjà été évalué par 30 fournisseurs.  Avis - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans l'annonce</a> sur le site Web ISPsystem. </p><br><p>  Les détails et spécificités maximum sont dans la documentation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VMmanager 5</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">VMmanager 6</a> . <br></p><br><br><blockquote>  Vous pouvez essayer gratuitement VMmanager 6. La version d'essai est valable 30 jours.  Pour l'utiliser, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">laissez une demande</a> et suivez les instructions de la lettre de réponse. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr471886/">https://habr.com/ru/post/fr471886/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr471874/index.html">Comment nous avons contourné les directives d'examen et lancé un serveur par téléphone</a></li>
<li><a href="../fr471876/index.html">PDU et All-All-All: distribution d'alimentation en rack</a></li>
<li><a href="../fr471880/index.html">Idée pour Geek Halloween, ou le temps de choisir GeekMask</a></li>
<li><a href="../fr471882/index.html">Une liste ouverte d'événements PHP, de conférenciers et d'organisateurs sur GitHub</a></li>
<li><a href="../fr471884/index.html">10 utilitaires ApexSQL gratuits pour gérer les bases de données Microsoft SQL Server</a></li>
<li><a href="../fr471890/index.html">Inférence variationnelle - qu'est-ce que c'est et que mange-t-elle?</a></li>
<li><a href="../fr471892/index.html">6 histoires pratiques de nos jours de semaine SRE</a></li>
<li><a href="../fr471896/index.html">Le livre de jeu intérieur. Fonctionnalités réseau dans le nouveau moteur Ansible 2.9</a></li>
<li><a href="../fr471904/index.html">Planificateur de ressources chez HPE InfoSight</a></li>
<li><a href="../fr471906/index.html">Les dangers des optimisations incorrectes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>