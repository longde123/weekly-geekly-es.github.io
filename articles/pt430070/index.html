<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëßüèæ ü§Æ üöµ Pilha e fila s√£o dois paradigmas ruins e o que pode ser feito sobre isso üßëüèø üòö ü¶ì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Existem duas estruturas de dados conhecidas por qualquer programador e consideradas t√£o axiomas que ningu√©m sequer tenta analisar se elas s√£o necess√°r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pilha e fila s√£o dois paradigmas ruins e o que pode ser feito sobre isso</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430070/"><p>  Existem duas estruturas de dados conhecidas por qualquer programador e consideradas t√£o axiomas que ningu√©m sequer tenta analisar se elas s√£o necess√°rias, se h√° algum benef√≠cio delas e se esse dano n√£o as excede. </p><a name="habracut"></a><br><h2 id="ochered">  Fila </h2><br><p>  Primeiro de tudo, discutiremos a fila.  Qual √© o significado da fila?  Uma fila √© um buffer.  E quando precisamos de um buffer?  Quando n√£o temos tempo para processar os eventos recebidos no ritmo de sua chegada. <br>  Em conex√£o com o exposto, surge uma √∫nica pergunta: por que?  A resposta √© que esperamos que algo aconte√ßa e, de repente, o sistema nos permita processar eventos. </p><br><p>  Primeiro, vamos lidar com o primeiro par√°grafo.  O que deveria acontecer com o sistema, que de <strong>repente</strong> para de frear e come√ßa a digerir os dados mais rapidamente?  Provavelmente, algum processo intensivo em recursos simplesmente encerrar√° e liberar√° recursos.  Mas e se isso n√£o acontecer?  O que fazer com os dados?  Sabe-se que: ou apenas as redefinimos ou o sistema inteiro fica paralisado por falta de recursos. </p><br><p>  Duck, existem duas perguntas: </p><br><ol><li>  E por que voc√™ n√£o pode soltar os dados imediatamente se sabemos que n√£o temos recursos para process√°-los?  √â por isso que √© imposs√≠vel fazer uma fila a partir de um elemento? </li><li>  Ou a pergunta inversa.  Por que temos ilus√µes e n√£o fornecemos ao sistema a quantidade necess√°ria de recursos para processar os dados na taxa de recebimento? </li></ol><br><p>  As respostas para essas perguntas s√£o, de fato, √≥bvias.  Simplesmente n√£o sabemos como projetar sistemas de software e hardware.  Como se soub√©ssemos projet√°-los, saber√≠amos quantos dados de entrada temos, a taxa de recebimento, quanto precisamos process√°-los e, portanto, poder√≠amos calcular a real necessidade de recursos.  Mas o estado atual das ferramentas e metodologias de desenvolvimento de TIC, com exce√ß√£o de uma parte dos sistemas tecnol√≥gicos (e de modo algum todos eles), n√£o nos permite fazer c√°lculos objetivos dos requisitos de recursos. </p><br><p>  E encerramos essas defici√™ncias com todos os tipos de buffers, em particular, na forma de filas.  Como resultado, temos uma bomba colocada na funda√ß√£o do edif√≠cio, mesmo no n√≠vel do po√ßo da funda√ß√£o, porque essas muletas servem como fonte de v√°rios problemas desprez√≠veis e dif√≠ceis de entender, com confiabilidade, seguran√ßa e simplesmente a qualidade do trabalho. </p><br><p>  Mas, vamos continuar, √† nossa frente est√° minha estrutura mais ‚Äúfavorita‚Äù - a pilha! </p><br><h2 id="stek">  Stack </h2><br><p>  Isso √© certo, como Hoar disse uma vez sobre Null, que este √© um erro de bilh√£o de d√≥lares, portanto o mesmo pode ser dito sobre a pilha. </p><br><p>  Essa √© uma das estruturas mais problem√°ticas usadas nas TIC e √© altamente desej√°vel evitar a pr√°tica m√°xima da cria√ß√£o de hardware e software, at√© a completa erradica√ß√£o. </p><br><p>  Ent√£o, qual √© exatamente o problema da pilha?  Sim, exatamente o mesmo que com a fila.  Pilhas s√£o fundamentalmente imposs√≠veis de organizar.  Assim que h√° uma pessoa que prev√™ com <strong>precis√£o</strong> quanta mem√≥ria a pilha de qualquer programa arbitr√°rio precisa, pe√ßo desculpas pessoalmente e escrevo um artigo enorme que estava errado e pe√ßo perd√£o. </p><br><p>  Mas algo me diz que √© improv√°vel que isso aconte√ßa no futuro pr√≥ximo. </p><br><p>  Vamos analisar por que precisamos de pilhas?  Sim, exatamente para o mesmo, para o qual a fila.  Este √© um buffer.  Ou seja, essas s√£o muletas para uma mente pregui√ßosa que n√£o deseja projetar corretamente sistemas de software e hardware. </p><br><blockquote>  Portanto, a li√ß√£o √© a seguinte: recurs√µes devem ser evitadas onde houver uma solu√ß√£o iterativa √≥bvia.  No entanto, isso n√£o significa que as recurs√µes devem ser descartadas a todo custo.  Existem muitos bons exemplos de uso da recurs√£o, que demonstraremos nas se√ß√µes e cap√≠tulos subsequentes.  O fato de haver implementa√ß√µes de procedimentos recursivos em m√°quinas praticamente n√£o recursivas prova que, para fins pr√°ticos, qualquer programa recursivo pode ser transformado em um puramente iterativo.  No entanto, isso requer trabalho expl√≠cito com a pilha de recurs√£o, e essas a√ß√µes geralmente obscurecem a ess√™ncia do programa, para que possa ser dif√≠cil de entender.  Conclus√£o: algoritmos de natureza recursiva e n√£o iterativa precisam ser formulados como procedimentos recursivos. <br>  Nicklaus Wirth.  Algoritmos e estruturas de dados </blockquote><p>  Concordando com o mestre sobre as op√ß√µes de convers√£o, n√£o concordo com suas abordagens suaves para usar a pilha. </p><br><p>  Apresentei um teorema: qualquer algoritmo de pilha pode ser convertido em um loop, e aqueles que n√£o podem ser convertidos s√£o ruins. </p><br><p>  A pr√°tica de chamar subprogramas com a passagem de par√¢metros pela pilha deve ser interrompida, e a recurs√£o que n√£o se expande no loop e outras pr√°ticas amplamente usadas tamb√©m devem ir para l√°. </p><br><p>  Podemos substituir a pilha para os seguintes casos: </p><br><ol><li>  Recurs√£o, implementada na forma de expandir o algoritmo da pilha em um loop com um bloco de dados que √© alterado durante a execu√ß√£o do loop. </li><li>  Se precisar transferir par√¢metros, voc√™ organizar√° um sistema de firmware com mensagens.  E sobre mensagens, vamos para as linhas que foram descritas na primeira parte do artigo.  Se voc√™ realmente deseja uma pilha, obviamente n√£o deve enviar dezenas e centenas de kilobytes de objetos para l√°, mas precisar√° alocar mem√≥ria para isso normalmente, no heap. </li></ol><br><p>  Ao mesmo tempo, no n√≠vel superior, os programadores podem usar qualquer estrutura de dados, e cabe aos compiladores transform√°-los para excluir o uso da pilha. </p><br><p>  Obviamente, algumas das oportunidades provavelmente ser√£o perdidas, mas isso, se considerado em detalhes, n√£o √© um fato. </p><br><h2 id="blockout">  Bloqueio </h2><br><p>  Em 1995, com meu colega de classe, formulei os princ√≠pios de constru√ß√£o de um sistema operacional que excluiu esses dois paradigmas. </p><br><p>  Os princ√≠pios foram os seguintes: </p><br><ol><li>  Software - redes de processos em intera√ß√£o. </li><li>  A intera√ß√£o dos processos √© realizada atrav√©s da troca de mensagens. </li><li>  A rede de processos de intera√ß√£o est√° organizada da seguinte forma: as fontes de mensagens prim√°rias em uma rede s√£o <strong>apenas</strong> eventos do mundo externo fornecidos pelo equipamento, os consumidores finais das mensagens s√£o <strong>apenas</strong> dispositivos que executam a√ß√µes no mundo externo.  Ou seja, a rede come√ßa no mundo real e termina nele. </li><li>  Os processos n√£o podem ter prioridades.  As prioridades podem ter apenas uma rede de processos. </li><li>  A rede <strong>nunca</strong> armazena em buffer as mensagens.  O complexo de hardware e software deve ser organizado de maneira a conseguir processar mensagens no ritmo de seu recebimento do mundo exterior. </li><li>  O complexo de hardware √© uma rede de n√≥s de computa√ß√£o conectados por canais de comunica√ß√£o. </li><li>  Cada n√≥ possui um "custo", dependendo de sua capacidade de processamento, tamanho da mem√≥ria, carga e fator de peso, levando em considera√ß√£o os custos de sua cria√ß√£o e manuten√ß√£o. </li><li>  Cada canal de comunica√ß√£o possui um ‚Äúcusto‚Äù, dependendo de sua largura de banda, congestionamento e coeficiente de peso, levando em considera√ß√£o os custos de cria√ß√£o e manuten√ß√£o. </li><li>  O sistema operacional fornece o lan√ßamento de processos em resposta a mensagens recebidas e roteamento de mensagens. </li><li>  O sistema operacional garante a distribui√ß√£o de processos e mensagens entre os n√≥s da computa√ß√£o, otimizando a fun√ß√£o f (cpu, mem) na topologia da rede, levando em considera√ß√£o o custo de transmiss√£o do c√≥digo do processo e das mensagens para o n√≥. </li><li>  Dada a constru√ß√£o do sistema, voc√™ sempre pode calcular com <strong>precis√£o</strong> a quantidade de mem√≥ria necess√°ria para o processo.  A quantidade necess√°ria de tempo de contagem pode ser calculada com <strong>precis√£o com</strong> base na an√°lise do algoritmo. </li></ol><br><h2 id="processor-bind">  Processador BIND </h2><br><p>  Como parte de sua carreira de professor, juntamente com os alunos, ele participou do concurso de emuladores de CPU IEEE.  Um processador sem pilha de uso geral da arquitetura de Harvard foi desenvolvido usando um sistema de comando semelhante aos ARMs anteriores.  Al√©m disso, a id√©ia esquecida dos transportadores foi incorporada √† CPU e o processador foi equipado com 16 canais de transmiss√£o e recep√ß√£o de 8 bits. </p><br><p>  Consequentemente, n√£o houve opera√ß√µes de chamada / retorno no processador.  Somente uma transi√ß√£o condicional / incondicional foi poss√≠vel.  Dado que quase ningu√©m escreve no assembler no momento, todas as perguntas sobre a gera√ß√£o de um programa em c√≥digo de m√°quina deveriam ser atribu√≠das ao compilador. </p><br><p>  O principal objetivo desse processador era suportar perfeitamente os princ√≠pios do sistema operacional Blockout no n√≠vel do hardware, criando uma rede de processadores no n√≥ de computa√ß√£o local conectado por canais de comunica√ß√£o pelos quais os processos j√° ser√£o distribu√≠dos. </p><br><h2 id="vyvody">  Conclus√µes </h2><br><p>  O texto mostra as falhas fatais da fila e empilha as estruturas de dados.  S√£o apresentados os princ√≠pios de projeto de sistemas de software e hardware que permitem excluir essas estruturas da pr√°tica da aplica√ß√£o. </p><br><p>  Este texto √©, antes, uma compila√ß√£o de pensamentos que ocorreram ao longo da carreira em TI, por assim dizer, para reduzir tudo em um s√≥ lugar. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430070/">https://habr.com/ru/post/pt430070/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430058/index.html">Processos de onda em linhas hidr√°ulicas. O b√°sico</a></li>
<li><a href="../pt430060/index.html">Hackspace, Denis Perevalov, Anastasia Krokhaleva - a m√°gica da programa√ß√£o</a></li>
<li><a href="../pt430062/index.html">Microsservi√ßos. Padr√µes de desenvolvimento e refatora√ß√£o com exemplos Java</a></li>
<li><a href="../pt430064/index.html">C ++: uma sess√£o de arqueologia espont√¢nea e por que voc√™ n√£o deve usar fun√ß√µes vari√°veis ‚Äã‚Äãno estilo de C</a></li>
<li><a href="../pt430068/index.html">Ordem da cris√°lida</a></li>
<li><a href="../pt430072/index.html">Swift do lado do servidor subestimado: Entrevista com Paul Hudson</a></li>
<li><a href="../pt430074/index.html">Como quase peguei um v√≠rus tentando vender botas</a></li>
<li><a href="../pt430076/index.html">Transmiss√£o gratuita do DotNext 2018 Moscow</a></li>
<li><a href="../pt430078/index.html">Como controlar aparelhos el√©tricos, modelos controlados por r√°dio, carrinhos motorizados</a></li>
<li><a href="../pt430080/index.html">Movendo-se para um cluster executando o 1C-Bitrix: Ambiente da Web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>