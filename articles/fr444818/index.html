<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë• üöΩ ‚úãüèº Citymobil - un guide pour les startups pour augmenter la stabilit√© en pleine croissance. Partie 1 ü•ã üßõüèø üçÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Avec cet article, j'ouvre un court cycle de deux articles dans lequel je d√©crirai en d√©tail comment nous avons r√©ussi √† augmenter la stabilit√© des ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Citymobil - un guide pour les startups pour augmenter la stabilit√© en pleine croissance. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/444818/"><img src="https://habrastorage.org/webt/tg/zt/hu/tgzthuqleqe3rr2u80shu4lxkzo.png"><br><br>  Avec cet article, j'ouvre un court cycle de deux articles dans lequel je d√©crirai en d√©tail comment nous avons r√©ussi √† augmenter la stabilit√© des services Citymobil plusieurs fois sur plusieurs mois.  L'article commence par une histoire sur notre entreprise, sur la t√¢che, sur la raison de l'apparition du probl√®me de l'augmentation de la stabilit√© et sur les limites.  Citymobil est un agr√©gateur de taxis √† croissance rapide.  En 2018, il a augment√© de plus de 15 fois le nombre de voyages r√©ussis.  Certains mois, la croissance a d√©pass√© 50% par rapport au mois pr√©c√©dent. <br><br>  L'activit√© a progress√© √† pas de g√©ant (et continue de cro√Ætre): la charge sur les serveurs, la taille de l'√©quipe et la fr√©quence des d√©ploiements ont augment√©.  Parall√®lement √† cela, de nouvelles menaces √† la stabilit√© du service sont apparues.  L'entreprise a √©t√© confront√©e √† la t√¢che la plus importante - ne pas arr√™ter la croissance de l'entreprise pour accro√Ætre sa stabilit√©.  Dans cet article, je vais vous expliquer comment nous avons r√©ussi √† r√©aliser cette t√¢che en peu de temps. <br><a name="habracut"></a><br><h2>  1. √ânonc√© du probl√®me: que voulons-nous am√©liorer exactement? </h2><br>  Avant d'am√©liorer quelque chose, vous devez apprendre √† le mesurer afin de comprendre clairement s'il y a une am√©lioration.  Plus la valeur mesur√©e est proche de termes favorables aux entreprises, mieux c'est.  Parce que plus il y a de chances que nous am√©liorions ce dont l'entreprise a vraiment besoin.  Du point de vue de son succ√®s, le param√®tre le plus important pour nous est le nombre de voyages termin√©s avec succ√®s (ci-apr√®s bri√®vement - le nombre de voyages).  C'est pr√©cis√©ment par ce param√®tre que les investisseurs nous √©valuent lorsqu'ils prennent une d√©cision d'investissement.  Plus il y a de voyages, plus l'entreprise co√ªte cher. <br><br>  Certains voyages font un profit, certains - une perte.  Mais tous les voyages sont tout aussi importants pour nous, m√™me non rentables, car ils vous permettent d'augmenter la part de march√© (en fait, la perte sur les voyages est un paiement pour augmenter la part de march√©).  Par cons√©quent, chaque voyage suppl√©mentaire re√ßu est bon et chaque voyage perdu est mauvais.  Tous les voyages sont √©gaux en termes de r√©ussite commerciale. <br><br>  De l√†, nous avons obtenu un crit√®re compr√©hensible pour mesurer la stabilit√©: le nombre de voyages perdus sont des voyages que nous avons clairement perdus en raison de probl√®mes techniques.  Un probl√®me technique signifie, par exemple, un bug dans le code, une 500√®me erreur, un crash sur l'infrastructure, une rupture de l'int√©gration avec un service partenaire (par exemple, Google maps). <br><br><h2>  2. Comment compter les voyages perdus? </h2><br>  Les d√©placements perdus sont parfois faciles √† calculer, parfois difficiles.  Par exemple, dans le cas d'un d√©ni de service complet, lorsque rien ne fonctionne (pah-pah-pah), il est tr√®s facile de calculer les trajets perdus.  Nous connaissons le graphique de tendance du nombre de voyages avant l'automne, nous voyons la tendance de ce graphique apr√®s l'automne, nous terminons la ligne entre le point o√π il a commenc√© simple et le point o√π il s'est termin√©.  La zone du graphique du nombre de d√©placements sous cette ligne termin√©e correspond aux d√©placements perdus. <br><br>  Dans le graphique suivant, la ligne noire montre les voyages un certain jour et la ligne verte montre les voyages il y a une semaine.  L'axe des X est le temps.  Sur l'axe Y, le nombre de d√©placements dans un certain intervalle de temps autour du point X. Un pic clair est vu sous la forme d'un triangle √† angle aigu.  L'aire de ce triangle est le nombre de d√©placements perdus.  Bien s√ªr, il s'agit d'un montant approximatif, car  le graphique est fluctuant, mais nous comprenons que m√™me une pr√©cision de 10 √† 20% nous suffit pour estimer l'ampleur de l'accident pour une entreprise. <br><br><img src="https://habrastorage.org/webt/z_/md/hz/z_mdhzjx1q--f_uvb9t-caeof0a.png"><br><br>  Si simple n'est pas complet, mais partiel (aussi, pah-pah-pah), alors le calcul est un peu plus compliqu√©.  Par exemple, s'il y a un bug √† cause duquel 10% des commandes ne sont jamais distribu√©es en voiture, alors nous voyons un √©chec sur le planning de voyage, puis un rebond (apr√®s correction du bug).  Dans une situation similaire, les d√©placements perdus sont la zone d√©limit√©e au-dessus par la ligne de tendance;  √† partir du bas - le calendrier r√©el du nombre de trajets, vers la gauche - la ligne verticale du d√©but du temps d'arr√™t, vers la droite - la ligne verticale de la fin du temps d'arr√™t. <br><br>  Le graphique ci-dessous montre que le pic descendant n'est pas si √©vident, mais la pr√©sence de trajets pour la semaine pr√©c√©dente sans pic descendant permet de comprendre qu'un pic descendant est une perte.  En outre, une comparaison des trajets pour la journ√©e en cours et le m√™me jour de la semaine avec la semaine pr√©c√©dente montre clairement que le pic le plus √† droite n'est pas des trajets perdus, mais un √©chec habituel √† cette heure de la journ√©e, car  il correspond √† la semaine pr√©c√©dente. <br><br><img src="https://habrastorage.org/webt/wa/rs/ea/warseaaonaeeqltcmavt4ckjc2c.png"><br><br>  Il est g√©n√©ralement difficile de construire une ligne de tendance, car  le graphique en dents de scie.  Dans ce cas, la comparaison d'une semaine √† l'autre nous aide.  Si vous dessinez deux lignes sur le m√™me graphique - la semaine derni√®re et la ligne actuelle - il se trouve que les deux courbes plus ou moins sont de forme similaire, mais diff√®rent uniquement en ce que l'une est au-dessus de l'autre (la semaine en cours habituelle est plus √©lev√©e que la pr√©c√©dente, bien qu'il y ait exceptions).  La comparaison d'une semaine √† l'autre est importante, car chaque jour de la semaine, en raison de circonstances diff√©rentes, a un horaire diff√©rent.  En regardant le graphique d'une semaine √† l'autre, vous pouvez comprendre o√π pourrait √™tre la ligne de tendance des voyages d'aujourd'hui. <br><br>  De toute √©vidence, un voyage perdu en soi est un probl√®me beaucoup plus grave qu'un seul voyage perdu.  Un client qui souhaite quitter d'une mani√®re ou d'une autre quittera, par exemple, un service comp√©titif et ne pourra par la suite nous revenir, ou ne reviendra que lorsqu'un concurrent le d√©cevra, ce qui est peu probable, car  les concurrents sont tr√®s forts.  De plus, m√™me si un concurrent d√©√ßoit le client, alors le client n'est pas un fait qu'il reviendra, car tout se ressemblera dans sa t√™te pour que tout le monde ait un mauvais service, et il ne sert √† rien de sauter par-dessus les concurrents. <br><br>  Autrement dit, un voyage perdu en raison de probl√®mes techniques signifie, en fait, quelques voyages perdus. <br><br>  Afin de ne pas √™tre confondu en termes, nous appelons les voyages perdus directement en raison d'un probl√®me technique, <i>les voyages perdus primaires</i> et les voyages perdus en raison du d√©part du concurrent, <i>les voyages perdus secondaires</i> . <br><br>  Id√©alement, pour calculer les dommages totaux subis par une entreprise √† partir d'un seul voyage perdu, vous devez comprendre combien il a g√©n√©r√© le voyage perdu secondaire.  C'est-√†-dire  il est n√©cessaire de multiplier le nombre de trajets perdus initiaux par un certain coefficient <i>K</i> , qui peut √™tre calcul√© sur la base de la fr√©quence moyenne d'utilisation du service et du temps moyen de retour de l'utilisateur apr√®s avoir quitt√© le concurrent. <br><br>  En supposant que le coefficient <i>K</i> ne change pas beaucoup au fil du temps, pour comprendre la tendance des pertes de voyages, il suffit de consid√©rer les principaux voyages perdus et d'essayer de r√©duire leur nombre, car le ratio des principaux voyages perdus d'une p√©riode √† l'autre sera le m√™me que le ratio des voyages secondaires perdus d'une p√©riode √† l'autre. p√©riode.  Exemple: si nous avons perdu 1000 voyages primaires le mois dernier, puis les voyages secondaires, nous avons perdu 1000 * <i>K</i> , et au total, nous avons perdu 1000 * (1+ <i>K</i> ).  Si, en outre, au cours du mois en cours, nous avons perdu 500 voyages primaires, puis les voyages secondaires, nous avons perdu 500 * <i>K</i> , et au total, nous avons perdu 500 * (1+ <i>K</i> ).  Dans le m√™me temps, quelle que soit la valeur du coefficient <i>K</i> , nous avons commenc√© √† perdre des d√©placements 1000 * (1+ <i>K</i> ) / (500 * (1+ <i>K</i> )) = 2 fois moins. <br><br>  M√™me si le coefficient <i>K</i> change avec le temps, c'est-√†-dire  est fonction du temps K (t), alors nous sommes toujours int√©ress√©s √† r√©duire le nombre de d√©placements primaires perdus.  Car si K (t) cro√Æt avec le temps, alors nous sommes d'autant plus oblig√©s de faire des efforts pour perdre moins de d√©placements primaires, car  les d√©g√¢ts caus√©s par la perte de chacun sont de plus en plus importants.  D'un autre c√¥t√©, si K (t) diminue avec le temps, cela signifie que pour une raison quelconque, les utilisateurs nous sont de plus en plus fid√®les, malgr√© le mauvais service, ce qui signifie que nous devons simplement r√©pondre √† leurs attentes! <br><br>  Total: nous luttons pour une diminution constante des d√©placements primaires perdus. <br><br><h2>  3. D'accord, nous consid√©rons les voyages perdus.  Et ensuite? </h2><br>  Arm√© d'un outil compr√©hensible pour mesurer les trajets perdus, nous nous tournons vers la partie la plus int√©ressante - comment le faire pour r√©duire les pertes?  Et sans ralentir la croissance actuelle!  Puisque subjectivement il nous a sembl√© que la part du lion des probl√®mes techniques √† cause desquels les trajets sont perdus est li√©e au backend, nous avons d√©cid√© de faire tout d'abord attention au processus de d√©veloppement du backend.  Pour ce qui est de l‚Äôavenir, je dirai que cela s‚Äôest av√©r√© comme √ßa - le backend est devenu le principal champ de bataille pour les voyages perdus. <br><br><h2>  4. Comment fonctionne le processus </h2><br>  Les probl√®mes surviennent g√©n√©ralement en raison du roulement de code et d'autres actions manuelles.  Les services qui ne changent jamais et ne touchent jamais, √©chouent parfois aussi, mais cette exception n'est qu'une r√®gle de confirmation. <br><br>  L'exception la plus dr√¥le de mon exp√©rience √©tait le service suivant.  Lorsque je travaillais chez RBC en 2006 (Dieu, quel √¢ge j'ai!), Ensuite, sur l'un des services de messagerie de RBC, il y avait une passerelle par laquelle tout le trafic passait et qui v√©rifiait les adresses IP pour √™tre sur liste noire.  Le service fonctionnait sur FreeBSD et fonctionnait correctement.  Mais un jour, il a cess√© de travailler.  Devinez pourquoi?  Un disque s'est effondr√© sur cette machine (mauvais blocs accumul√©s, accumul√©s et accumul√©s).  √âmiett√© 3 ans avant le d√©ni de service dans le service (!).  Et tout vivait avec un disque dispers√©.  Et puis la "brasse", pour une raison qui lui est inconnue par les motifs de Phryakhov, a d√©cid√© de se tourner soudainement vers un disque en ruine et finalement de geler.  Je suis s√ªr que Linux ne ferait pas √ßa.  Mais ceci est un holivar s√©par√©. <br><br>  Pour r√©sumer ce qui pr√©c√®de, les probl√®mes sont dus √† une intervention manuelle.  Une fois dans mon enfance, √† l'√¢ge de 10 √† 12 ans, lors d'un de mes voyages dans la for√™t, j'ai entendu de mon p√®re une phrase dont je me suis souvenu toute ma vie: "pour que le feu de joie ne s'√©teigne pas, vous n'avez tout simplement pas besoin de le toucher."  Je pense que beaucoup d'entre nous se souviennent des moments o√π nous avons jet√© du bois de chauffage dans un feu d√©j√† br√ªlant et qu'il s'est √©teint pour une raison inconnue. <br><br>  En bout de ligne: les probl√®mes sont cr√©√©s par les actions manuelles d'une personne, par exemple, en jetant du bois de chauffage dans un feu d√©j√† bien br√ªl√©, qui coupe l'oxyg√®ne et √©teint un incendie, ou en d√©ployant du code avec des bogues en production.  Par cons√©quent, pour comprendre la cause des probl√®mes dans les services, vous devez comprendre exactement comment le d√©ploiement se produit et comment fonctionne le processus de d√©veloppement. <br><br>  Le processus √©tait enti√®rement ax√© sur le d√©veloppement rapide et √©tait organis√© comme suit: <br><br><ul><li>  20-30 sorties par jour; </li><li>  les d√©veloppeurs se d√©ploient; </li><li>  tests rapides dans un environnement de test par le d√©veloppeur; </li><li>  tests automatis√©s / unitaires minimaux, r√©visions minimales. </li></ul><br>  Les d√©veloppeurs dans les conditions les plus difficiles, en fait, sans zones arri√®re couvertes face √† l'AQ, avec un √©norme flux de t√¢ches productives et d'exp√©riences importantes pour les entreprises, ont travaill√© de mani√®re aussi cibl√©e et coordonn√©e que possible, ont r√©solu des probl√®mes complexes de mani√®re simple, n'ont pas permis au code de ¬´grandir¬ª, des probl√®mes commerciaux bien compris , tr√®s responsable des changements, a rapidement annul√© le ralenti.  Citymobil n'est pas unique ici.  Il y a 8 ans dans Mail.ru Mail, quand je suis venu travailler l√†-bas, il y avait une situation similaire.  Et nous avons √©galement lanc√© Mail.ru Cloud rapidement et simplement, sans faire de r√©v√©rence.  Et d√©j√† chang√© par la suite les processus afin d'atteindre une plus grande stabilit√©. <br><br>  Vous l'avez s√ªrement remarqu√© par vous-m√™me: quand personne ne vous couvre le dos, quand vous √™tes seul avec la production, quand un √©norme fardeau de responsabilit√© s'√©crase - vous faites des miracles.  J'ai moi-m√™me v√©cu une telle exp√©rience (encore plus hardcore).  Il √©tait une fois, au si√®cle dernier (estimation, Internet √©tait d√©j√† au si√®cle dernier, je suis surpris quand je m'en souviens), j'ai travaill√© comme le seul d√©veloppeur du service de messagerie newmail.ru, je l'ai d√©ploy√© moi-m√™me et j'ai test√© la production moi-m√™me √† vous-m√™me via <code>if (!strcmp(username, ‚Äúdanikin‚Äù)) { ‚Ä¶ some new code‚Ä¶ }</code> :-) Par cons√©quent, cette situation est proche de moi. <br><br>  Je ne suis pas surpris si je savais qu'avec une approche aussi simple ¬´√† genoux¬ª, de nombreuses start-ups ont commenc√©, √† la fois r√©ussies et infructueuses, mais anim√©es par la m√™me passion - se concentrer sur la croissance rapide des entreprises et la conqu√™te du march√©. <br><br>  Pourquoi le processus √©tait-il sp√©cifiquement dans Citymobil?  Au d√©part, il y avait peu de d√©veloppeurs.  Ils ont travaill√© dans l'entreprise pendant longtemps et avaient une bonne compr√©hension du code et des affaires.  Les d√©ploiements ont eu lieu plusieurs fois par jour.  Les erreurs √©taient extr√™mement rares.  Le processus a parfaitement fonctionn√© dans ces conditions. <br><br><h2>  5. Pourquoi un bon processus a-t-il menac√© la stabilit√©? </h2><br>  Avec l'augmentation des investissements dans le projet, nous avons rendu nos plans de produits plus agressifs et avons commenc√© √† embaucher de nombreux d√©veloppeurs.  Le nombre de d√©ploiements sur la production a augment√©, mais leur qualit√© devrait chuter, car les nouveaux gars se sont plong√©s dans le syst√®me et l'essence m√™me de l'entreprise dans des conditions de combat.  Avec une augmentation du nombre de d√©veloppeurs, la stabilit√© a commenc√© √† chuter m√™me pas de mani√®re lin√©aire, mais quadratique (le nombre de d√©ploiements a augment√© lin√©airement et la qualit√© du d√©ploiement moyen a √©galement chut√© lin√©airement; "lin√©airement" * "lin√©airement" == "quadratique"). <br><br>  Il √©tait √©vident qu'il √©tait impossible de laisser le processus sous cette forme.  Il n'a tout simplement pas √©t√© emprisonn√© dans de nouvelles conditions.  Mais il a fallu le changer sans pr√©judice du time-to-market, c'est-√†-dire avec la pr√©servation de 20-30 sorties par jour (et avec une augmentation de leur nombre proportionnellement √† la taille de l'√©quipe).  En effet, c'est dans un grand nombre de versions que tout le point a √©t√© soulign√©.  Nous avons grandi rapidement, mis en place de nombreuses exp√©riences, √©valu√© rapidement leurs r√©sultats et mis en place de nouvelles exp√©riences.  Nous avons rapidement test√© des hypoth√®ses de produits et d'affaires, √©tudi√© celles-ci et propos√© de nouvelles hypoth√®ses, que nous avons √† nouveau rapidement test√©es, etc. Nous ne voulions en aucun cas r√©duire ce rythme.  De plus, ils voulaient l'augmenter et augmenter la vitesse d'embauche des d√©veloppeurs.  C'est-√†-dire  nos actions visant √† la croissance des entreprises ont cr√©√© une menace pour la stabilit√©, mais nous ne voulions en aucun cas corriger ces actions. <br><br><h2>  6. Ok, la t√¢che est claire, le processus est clair.  Et ensuite? </h2><br>  Ayant de l'exp√©rience dans Mail.ru Mail et Mail.ru Cloud, o√π la stabilit√© a √©t√© mise en avant, o√π les d√©ploiements une fois par semaine, d√©crit en d√©tail les fonctionnalit√©s et les cas de test, tout est couvert par des tests automatiques et unitaires, le code est revu au moins une fois, et parfois trois fois, je suis tomb√© sur une situation compl√®tement nouvelle. <br><br>  Il semblerait que tout soit simple: r√©p√©tez le processus dans Citymobil comme dans Mail ou le Cloud et augmentez la stabilit√© du service.  Mais, comme dans cette blague obsc√®ne, il y a des nuances: a) les d√©ploiements dans le Mail / Cloud sont effectu√©s une fois par semaine, et non 30 fois par jour, et dans Citymobil nous ne voulions pas sacrifier la fr√©quence des versions, b) dans le Mail / Cloud tout le code couvert par des tests auto / unitaires, et dans Citymobil nous n'avions ni le temps ni les ressources pour cela, toutes les forces du d√©veloppement backend √©taient consacr√©es au test d'hypoth√®ses et √† l'am√©lioration des produits.  Dans le m√™me temps, il n'y avait pas assez de d√©veloppeurs back-end, m√™me √† des vitesses de recrutement √©lev√©es (merci en particulier √† HR Citymobil - ce sont les meilleures RH au monde! Je pense qu'il y aura un article s√©par√© sur notre processus RH), c'est-√†-dire qu'il n'y avait aucun moyen de s'engager dans des tests et des revues serr√©s sans ralentir. <br><br><h2>  7. Lorsque vous ne savez pas quoi faire, apprenez des erreurs </h2><br>  Alors qu'avons-nous fait comme par magie dans Citymobil?  Nous avons d√©cid√© d'apprendre des erreurs.  La m√©thode pour am√©liorer le service en apprenant des erreurs est aussi ancienne que le monde.  Si le syst√®me fonctionne bien, alors c'est bien.  Si le syst√®me fonctionne avec des erreurs, c'est √©galement une bonne chose, car vous pouvez apprendre de ces erreurs.  Cela semble facile.  Faire ... est aussi simple.  L'essentiel est de se fixer un objectif. <br><br>  Comment avons-nous √©tudi√©?  Nous avons commenc√© par enregistrer scrupuleusement des informations sur chaque accident majeur et mineur.  Franchement, je ne voulais pas vraiment faire √ßa au d√©part, car j'esp√©rais un miracle et je pensais que les accidents s'arr√™teraient d'eux-m√™mes.  Bien s√ªr, rien ne s'est arr√™t√©.  De nouvelles r√©alit√©s exigeaient impitoyablement des changements. <br><br>  Nous avons commenc√© √† consigner tous les accidents dans une table Google commune.  Pour chaque accident, les br√®ves informations suivantes ont √©t√© fournies: <br><br><ul><li>  date, heure, dur√©e; </li><li>  cause profonde </li><li>  ce qu'ils ont fait pour r√©soudre le probl√®me; </li><li>  impact sur l'entreprise (nombre de voyages perdus, autres effets); </li><li>  conclusions. </li></ul><br>  Pour les accidents majeurs, nous avons cr√©√© des fichiers volumineux s√©par√©s avec des descriptions d√©taill√©es minute par minute, du moment o√π l'accident a commenc√© jusqu'au moment de l'ach√®vement: ce que nous avons fait, quelles d√©cisions nous avons prises (g√©n√©ralement ces descriptions sont appel√©es analyse post mortem).  Et dans le tableau g√©n√©ral, nous avons ajout√© des liens vers une telle autopsie. <br><br>  L'objectif de ce dossier √©tait le suivant: tirer des conclusions dont la mise en ≈ìuvre r√©duira les pertes de d√©placements.  En outre, il √©tait tr√®s important de formuler avec pr√©cision quelle √©tait la ¬´cause profonde¬ª et quelles √©taient les ¬´conclusions¬ª.  Ces mots sont compr√©hensibles en eux-m√™mes.  Mais chacun comprend √† sa mani√®re. <br><br><h2>  8. Un exemple d'une erreur sur laquelle ils ont appris </h2><br>  La cause premi√®re est l‚Äô√©limination de ce qui emp√™chera des accidents similaires √† l‚Äôavenir.  Et les conclusions sont de savoir comment √©liminer la cause profonde (ou r√©duire la probabilit√© de son apparition). <br><br>  La cause profonde est toujours plus profonde qu'il n'y para√Æt.  Les conclusions sont toujours plus compliqu√©es qu'elles ne le semblent.  Afin de ne pas se calmer et de ne pas insister sur ce qui semble √™tre, il faut toujours √™tre insatisfait de la cause fondamentale pr√©tendument trouv√©e et toujours insatisfait des conclusions all√©gu√©es.  Ce m√©contentement cr√©e la ferveur d'une analyse plus approfondie. <br><br>  Permettez-moi de vous donner un exemple: d√©ploy√© le code - tout est tomb√©, annul√© - tout a fonctionn√©.  Quelle est la cause profonde?  <i>D√©ployez</i> -vous, dites-vous.  Si elle n'√©tait pas l√†, il n'y aurait pas d'accident.  Alors quelle est la conclusion: ne pas d√©ployer?  Mauvaise conclusion (nuisible aux entreprises, pour √™tre pr√©cis).  Autrement dit, ce n'est probablement pas la cause premi√®re, vous devez creuser plus profond√©ment.  <i>D√©ployez avec un bug</i> .  La cause profonde?  Disons.  Comment y rem√©dier?  Par des tests, dites-vous.  Quels tests?  Par exemple, une r√©gression compl√®te de toutes les fonctionnalit√©s.  Ceci est une bonne conclusion, souvenez-vous-en.  Mais la stabilit√© doit √™tre am√©lior√©e ici et maintenant, alors qu'il n'y a pas de r√©gression compl√®te.  Besoin de creuser encore plus profond√©ment.  <i>D√©ploiement avec un bogue qui s'est produit du fait que nous avons d√©bogu√© l'impression dans une table de la base de donn√©es, l'avons charg√©e au-del√† de toute mesure et la base de donn√©es s'est rompue sous charge</i> .  C'est d√©j√† plus int√©ressant.  Il devient imm√©diatement clair que m√™me un test de r√©gression complet ne vous sauvera pas de ce probl√®me.  Apr√®s tout, la base de test n'aura pas la m√™me charge que la production. <br><br>  Quelle est la cause profonde de ce probl√®me, si vous creusez encore plus profond√©ment?  Pour le savoir, nous avons discut√© avec le d√©veloppeur.  Il s'est av√©r√© qu'il √©tait habitu√© au fait que la base supporte les charges.  Mais dans les conditions de croissance rapide du projet, la base a r√©ussi hier, mais aujourd'hui elle n'est plus l√†.  Peu d'entre nous ont travaill√© sur des projets qui augmentent de 50% de mois en mois.  Par exemple, pour moi, c'est le premier projet de ce type.  Apr√®s avoir plong√© dans un tel projet, vous commencez √† prendre conscience de nouvelles r√©alit√©s.  Jusqu'√† la premi√®re fois que vous rencontrez quelque chose, vous ne saurez jamais ce qui se passe. <br><br>  Le d√©veloppeur a imm√©diatement sugg√©r√© la bonne solution √† la cause de la chute: d√©boguer l'impression dans un fichier, √©crire le fichier hors ligne par cron dans la base de donn√©es en un seul flux avec des feuillets.  S'il y a trop d'impression de d√©bogage, la base de donn√©es ne s'allongera pas, seules les informations de d√©bogage y appara√Ætront hors du temps.  √âvidemment, ce d√©veloppeur a d√©j√† appris de son erreur et ne le r√©p√©tera pas √† l'avenir.  Mais d'autres d√©veloppeurs doivent √©galement en savoir plus.  Comment?  Besoin de leur dire.  Comment le faire entendre?  Racontez-leur toute l'histoire du d√©but √† la fin, expliquez ce qu'elle a men√© et sugg√©rez imm√©diatement comment le faire, √©coutez leurs questions et r√©pondez-y. <br><br><h2>  9. Que pouvez-vous apprendre d'autre de cette erreur, ou √† faire et √† ne pas faire </h2><br>  Nous continuons donc d'analyser cet accident.  L'entreprise se d√©veloppe rapidement, de nouveaux employ√©s arrivent.  Comment vont-ils apprendre de cette erreur?  Dites √† chaque nouvel employ√©?  De toute √©vidence, il y aura de plus en plus d'erreurs - comment faire en sorte que tout le monde apprenne d'eux?  La r√©ponse est presque √©vidente: obtenez un fichier de choses √† faire et √† ne pas faire (lire ¬´√† faire et √† ne pas faire¬ª)!  Dans une traduction gratuite en russe, l'idiome √† faire et √† ne pas faire signifie ¬´ce qui est bon et ce qui est mauvais¬ª.  Dans ce dossier, nous √©crivons toutes les conclusions sur le th√®me du d√©veloppement.  Nous montrons le fichier √† tous les nouveaux employ√©s, et le montrons √©galement dans le chat g√©n√©ral des d√©veloppeurs chaque fois que le fichier est mis √† jour, et nous demandons √† tout le monde de le relire (afin de rafra√Æchir √† la fois les anciennes connaissances et les nouvelles). <br><br>  Vous direz que tout le monde ne lira pas attentivement.  Vous direz que beaucoup oublieront imm√©diatement apr√®s avoir lu.  Et vous aurez raison les deux fois.  Mais vous ne nierez pas que quelqu'un aura quelque chose en t√™te.  Et c'est d√©j√† bien.  Selon l'exp√©rience de Citymobil, les d√©veloppeurs prennent ce dossier tr√®s au s√©rieux et les cas o√π certaines le√ßons ont √©t√© oubli√©es √©taient extr√™mement rares.  Soit dit en passant, le fait m√™me que la le√ßon ait √©t√© oubli√©e peut √™tre consid√©r√© comme un probl√®me et une conclusion peut en √™tre tir√©e, c'est-√†-dire pour comprendre les d√©tails et comprendre comment changer le processus pour l'avenir.  Tr√®s souvent, ces fouilles conduisent √† une formulation plus pr√©cise et claire des choses √† faire et √† ne pas faire. <br><br>  Conclusion de l'accident d√©crit ci-dessus: cr√©ez un fichier de choses √† faire et √† ne pas faire, √©crivez ce que vous avez appris, montrez le fichier √† toute l'√©quipe et demandez √† tous les nouveaux arrivants de l'√©tudier. <br><br>  D'apr√®s les conseils g√©n√©raux que nous avons compris dans l'analyse des accidents: ne pas utiliser l'expression ¬´facteur humain¬ª.  D√®s que vous dites cela, ils le comprennent tous imm√©diatement de sorte que rien ne doit √™tre fait, aucune conclusion n'est n√©cessaire, les gens ont eu tort, tort et vont se tromper.  Par cons√©quent, au lieu de prononcer cette phrase, il est n√©cessaire de tirer une <i>conclusion sp√©cifique</i> .  Conclusion - c'est au moins une petite, mais une petite √©tape pour changer le processus, am√©liorer la surveillance, am√©liorer les outils automatiques.  √Ä partir de ces petites √©tapes, le tissu d'un service stable est cousu! <br><br><h2>  10. Au lieu d'un √©pilogue </h2><br>  Dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">deuxi√®me partie,</a> je vais vous parler des types d'accidents selon l'exp√©rience de Citymobil et me plonger dans les d√©tails de chaque type d'accident, ainsi que vous dire quelles conclusions nous avons tir√©es des accidents, comment nous avons chang√© le processus, qui a introduit l'automatisation.  Le plus int√©ressant dans la deuxi√®me partie!  Restez √† l'√©coute! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr444818/">https://habr.com/ru/post/fr444818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr444806/index.html">Moira participe au Google Summer of Code 2019</a></li>
<li><a href="../fr444808/index.html">D√©ploiements canaries automatiques avec Flagger et Istio</a></li>
<li><a href="../fr444810/index.html">Processeurs et marketing en informatique</a></li>
<li><a href="../fr444814/index.html">Cryptographie en Java. Chiffrement de classe</a></li>
<li><a href="../fr444816/index.html">Menuiserie DIY: attentes et r√©alit√©</a></li>
<li><a href="../fr444820/index.html">Mockdown: le moyen le plus rapide pour cr√©er des wireframes</a></li>
<li><a href="../fr444822/index.html">JDK 9 / JEP 280: la concat√©nation de cha√Ænes ne sera plus jamais la m√™me</a></li>
<li><a href="../fr444824/index.html">√Ä quoi ressemblent les robots Amazon et FedEx Courier</a></li>
<li><a href="../fr444828/index.html">Une explication simple des algorithmes de recherche de chemin et A *</a></li>
<li><a href="../fr444830/index.html">Signature √©lectronique cloud en Russie et dans le monde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>