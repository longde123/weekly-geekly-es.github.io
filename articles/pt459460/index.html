<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéóÔ∏è ‚ùÑÔ∏è üèß As dificuldades de trabalhar com o Redux e sua solu√ß√£o üç∞ üë®üèø‚Äçüíº ü§õüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Redux entre n√≥s 
 Este √© um dos mais populares gerenciadores de estado . 

 √â f√°cil de usar, transparente e previs√≠vel. Com ele, voc√™ pode organizar o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>As dificuldades de trabalhar com o Redux e sua solu√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459460/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df8/bc8/3b0/df8bc83b092a5fd1f20da8bee9ffd297.png" alt="imagem"></div><br><h3>  Redux entre n√≥s </h3><br>  Este √© um dos mais populares <i>gerenciadores de estado</i> . <br><br>  √â f√°cil de usar, transparente e previs√≠vel.  Com ele, voc√™ pode organizar o armazenamento e a modifica√ß√£o de dados.  E se assumirmos que <i>a√ß√µes</i> `` e <i>redutores '</i> ' s√£o parte do <i>redux</i> `a, podemos dizer sem exagero que ele √© o detentor de toda a l√≥gica da √°rea de assunto (tamb√©m conhecida como l√≥gica de neg√≥cios) de nossos aplicativos. <br><br><h3>  Tudo √© t√£o r√≥seo? </h3><br>  Por toda a sua simplicidade e transpar√™ncia, o uso do <i>redux</i> tem v√°rias desvantagens ... <br><a name="habracut"></a><br>  Os dados no <i>estado</i> ` <i>redux`</i> e est√£o em um objeto <i>javascript</i> simples e podem ser obtidos da maneira usual, basta <b>conhecer o caminho</b> . <br><br>  Mas como organizamos esses dados?  Existem apenas duas op√ß√µes: uma <u>lista simples</u> e um <u>modelo hier√°rquico</u> . <br><br>  Uma lista simples √© uma √≥tima op√ß√£o para um aplicativo no qual existe apenas, por exemplo, um contador ... Para algo mais s√©rio, precisamos de uma estrutura hier√°rquica.  Al√©m disso, cada n√≠vel de dados ter√° menos conhecimento que o anterior.  Tudo √© l√≥gico e compreens√≠vel, mas o <b>caminho para os dados se torna composto</b> . <br><br><div class="spoiler">  <b class="spoiler_title">Exemplo</b> <div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dataHierarchy = { <span class="hljs-attr"><span class="hljs-attr">user</span></span>: { id, name, experience, <span class="hljs-attr"><span class="hljs-attr">achievements</span></span>: { firstTraining, threeTrainingsInRow, }, }, <span class="hljs-attr"><span class="hljs-attr">training</span></span>: { currentSetId, status, totalAttemptsCount, attemptsLeft, <span class="hljs-attr"><span class="hljs-attr">mechanics</span></span>: { ... }, }, };</code> </pre> <br>  Aqui, sob a chave do usu√°rio, os dados do usu√°rio s√£o armazenados, em particular realiza√ß√µes.  Mas as conquistas n√£o precisam saber nada sobre o restante dos dados do usu√°rio. <br><br>  Da mesma forma, a mec√¢nica espec√≠fica do treinamento n√£o precisa saber quantas tentativas o usu√°rio deixou - esses s√£o dados de treinamento em geral. <br></div></div><br><br>  A presen√ßa de uma estrutura hier√°rquica de dados e a falta de uma abordagem modular para esses dados levam ao fato de que, <b>em todos os lugares em</b> que esses dados s√£o usados, <b>√© necess√°rio conhecer o caminho completo</b> para eles.  Em outras palavras, isso cria uma <b>coes√£o da estrutura de armazenamento de dados e de suas estruturas de exibi√ß√£o</b> e leva a dificuldades com o refator do caminho e / ou reorganiza√ß√£o da estrutura de dados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a5/05a/d97/3a505ad974baa4a9e17bff93588ab34a.png" alt="imagem"><br><br><div class="spoiler">  <b class="spoiler_title">A m√°gica do IDE n√£o ajudar√°</b> <div class="spoiler_text">  Podemos dizer que agora existem IDEs poderosos que alteram os caminhos com um comando, mas pouco pode alterar v√°rias chaves aninhadas de um objeto ou entender que parte do caminho est√° em uma vari√°vel. <br></div></div><br>  Outro desafio √© testar.  Sim, h√° um artigo separado na documenta√ß√£o para teste de <i>redux</i> , mas agora n√£o se trata de testar artefatos individuais como <i>redutor</i> e <i>criador de a√ß√µes</i> . <br><br>  Dados, <i>a√ß√µes</i> e <i>redutores</i> geralmente s√£o interconectados.  E uma √°rvore de dados logicamente relacionados √© geralmente atendida por v√°rios <i>redutores</i> , que voc√™ precisa testar incluindo juntos. <br><br>  Adicione a esta lista os <i>seletores</i> cujos resultados dependem, em especial, do trabalho dos <i>redutores</i> . <br><br>  Em geral, voc√™ pode testar tudo isso, mas precisa lidar com v√°rios artefatos que s√£o interconectados apenas por l√≥gica e conven√ß√µes. <br><br>  E se surg√≠ssemos uma estrutura, por exemplo, com dados do usu√°rio, incluindo listas de amigos, m√∫sicas favoritas e outras coisas, al√©m da funcionalidade de alter√°-las atrav√©s <i>dos redutores de a√ß√£o</i> .  Talvez at√© escrevamos v√°rios testes para toda essa funcionalidade.  E agora, no pr√≥ximo projeto, precisamos da mesma coisa ... <br><br>  <b>Como codificar barato?</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06f/de3/217/06fde3217b754843ff3e41a272602bae.gif" alt="imagem"></div><br><h3>  Procure uma solu√ß√£o </h3><br>  Para descobrir como preservar os benef√≠cios do <i>redux</i> e se livrar das desvantagens descritas, voc√™ precisa entender do que isso depende no ciclo de vida dos dados: <br><br><ul><li>  <i>Eventos de</i> relat√≥rio de <i>a√ß√£o</i> , personalizados e muito mais </li><li>  <i>O redutor</i> reage √†s <i>a√ß√µes</i> e altera ou n√£o altera o estado dos dados </li><li>  A altera√ß√£o de dados √© um evento em si e pode causar a altera√ß√£o de outros dados. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b4/afb/955/0b4afb95591ec1d921c0a06948d2a60e.png" alt="imagem" width="400"></div><br>  O controlador nesse caso √© uma abstra√ß√£o que processa a√ß√µes do usu√°rio e altera√ß√µes de dados na <i>loja</i> .  Ele n√£o precisa ser uma classe separada, como regra, ele √© espalhado por componentes. <br><br><h3>  Combine todo o zool√≥gico de <i>redux</i> em uma caixa preta </h3><br>  Mas e se voc√™ <i>agrupar a√ß√µes</i> , <i>redutores</i> e <i>seletores</i> em um m√≥dulo e ensin√°-lo a n√£o depender de um caminho espec√≠fico para a localiza√ß√£o de seus dados? <br><br>  E se todas <i>as</i> a√ß√µes do <i>usu√°rio</i> , por exemplo, forem confirmadas chamando o m√©todo da inst√¢ncia: <i>user.addFriend (friendId)</i> ?  E os dados s√£o obtidos atrav√©s do getter: <i>user.getFriendsCount ()</i> ? <br><br>  E se pudermos importar todas as funcionalidades do usu√°rio com uma <i>importa√ß√£o</i> simples? <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> userModule <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'node_modules/user-module'</span></span>;</code> </pre> <br>  √â conveniente?  Especialmente considerando que, para isso, voc√™ n√£o precisa escrever um monte de c√≥digo extra: <br>  <i>O pacote npm</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">redux-module-creator</a> fornece todas as funcionalidades para a cria√ß√£o de <b>m√≥dulos <i>redux</i> fracamente acoplados, <i>reutiliz√°veis</i> e testados</b> . <br><br>  Cada m√≥dulo consiste em um <i>controlador</i> , um <i>redutor</i> e uma <i>a√ß√£o</i> e possui os seguintes recursos: <br><br><ul><li>  integra-se √† loja por meio de uma chamada ao m√©todo integrador e, para alterar o local da integra√ß√£o, √© necess√°rio alterar apenas o local da chamada do integrador e seu par√¢metro <br><br><img src="https://habrastorage.org/getpro/habr/post_images/482/b12/c12/482b12c1271164c347c87372dbb4e31e.png" alt="imagem"><br></li><li>  o controlador tem uma conex√£o com sua parte dos dados na <i>loja</i> , lembrando o caminho que √© passado para o <i>integrator ()</i> uma vez.  Isso elimina a necessidade de conhec√™-lo ao usar dados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/518/271/2f0/5182712f07a7d8dc1414e413930ff734.png" alt="imagem"><br></li><li>  o controlador √© o detentor de todos os seletores, adaptadores etc. necess√°rios </li><li>  Para rastrear altera√ß√µes, √© poss√≠vel assinar altera√ß√µes em <u>seus pr√≥prios</u> dados </li><li>  <i>o redutor</i> pode usar o contexto de chamada - uma inst√¢ncia do m√≥dulo e obter <i>actionType`s</i> pertencentes ao m√≥dulo.  Isso elimina a necessidade de importar <i>v√°rias a√ß√µes</i> e reduz a probabilidade de erro. </li><li>  <i>As a√ß√µes</i> obt√™m o contexto de uso, porque se tornam parte da inst√¢ncia do m√≥dulo: agora n√£o √© apenas <i>trainingFinished</i> , mas <i>readingModule.actions.trainingFinished</i> </li><li>  agora existem <i>a√ß√µes</i> no namespace do m√≥dulo, o que permite criar eventos com o mesmo nome para diferentes m√≥dulos </li><li>  cada m√≥dulo pode ser instanciado v√°rias vezes e cada inst√¢ncia √© integrada em diferentes partes da <i>loja</i> </li><li>  <i>a√ß√µes</i> para diferentes inst√¢ncias de m√≥dulos t√™m diferentes <i>actionType</i> - voc√™ pode responder a eventos de uma inst√¢ncia espec√≠fica </li></ul><br>  Como resultado, obtemos uma caixa preta que pode gerenciar seus dados e possui al√ßas para se comunicar com c√≥digo externo. <br><br>  Ao mesmo tempo, √© o mesmo <i>redux</i> , com seu fluxo de dados unidirecional, transpar√™ncia e previsibilidade. <br><br>  E como esses s√£o todos o mesmo redux e os mesmos <i>redutores</i> , √© poss√≠vel construir qualquer estrutura a partir deles que a l√≥gica do dom√≠nio do aplicativo exija. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt459460/">https://habr.com/ru/post/pt459460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt459450/index.html">A vulnerabilidade do software de teleconfer√™ncia com zoom permite que qualquer site espie os usu√°rios via webcam</a></li>
<li><a href="../pt459452/index.html">Agro-rob√¥ com IA aprendeu a coletar cuidadosamente apenas salada amadurecida do jardim</a></li>
<li><a href="../pt459454/index.html">Como foi a primeira hackathon no The Standoff</a></li>
<li><a href="../pt459456/index.html">Dagaz: Epis√≥dios (Parte 1)</a></li>
<li><a href="../pt459458/index.html">ok.tech: Os dados explicam # 2</a></li>
<li><a href="../pt459462/index.html">SEO para Yandex. Pesquisar tudo?</a></li>
<li><a href="../pt459464/index.html">Lua em Moscou 2019: entrevista com Roberto Jerusalem</a></li>
<li><a href="../pt459466/index.html">Lua em Moscou 2019: Entrevista com Roberto Ierusalimschy</a></li>
<li><a href="../pt459470/index.html">Parte 4: Ainda executando o Linux no RISC-V RISC-V</a></li>
<li><a href="../pt459472/index.html">Heroku + Docker + Bota de primavera</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>