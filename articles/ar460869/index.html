<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐ผโ๐ซ ๐น ๐ง๐ฟ ุงูุชุนุฑู ุนูู ุงููุงุฆูุงุช ูู ุงูููุช ุงููุนูู ุนูู ูุธุงู ุงูุชุดุบูู iOS ุจุงุณุชุฎุฏุงู YOLOv3 โ๏ธ ๐คฝ๐ป ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ุจุงูุฌููุน! 

 ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ููุชุจ ุจุฑูุงูุฌูุง ุตุบูุฑูุง ูุญู ูุดููุฉ ุงูุชุดุงู ุงููุงุฆูุงุช ูุงูุชุนุฑู ุนูููุง (ุงูุชุดุงู ุงููุงุฆู) ูู ุงูููุช ุงููุนูู. ุณูุชู ูุชุงุจุฉ ุงูุจุฑูุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุชุนุฑู ุนูู ุงููุงุฆูุงุช ูู ุงูููุช ุงููุนูู ุนูู ูุธุงู ุงูุชุดุบูู iOS ุจุงุณุชุฎุฏุงู YOLOv3</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460869/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gr/ah/g9/grahg9mh7movhc2fcbn7m-yfoxu.png"></div><br>  ูุฑุญุจุง ุจุงูุฌููุน! <br><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ููุชุจ ุจุฑูุงูุฌูุง ุตุบูุฑูุง ูุญู ูุดููุฉ ุงูุชุดุงู ุงููุงุฆูุงุช ูุงูุชุนุฑู ุนูููุง (ุงูุชุดุงู ุงููุงุฆู) ูู ุงูููุช ุงููุนูู.  ุณูุชู ูุชุงุจุฉ ุงูุจุฑูุงูุฌ ุจูุบุฉ ุจุฑูุฌุฉ ุณูููุช ูููุตุฉ iOS.  ูุงูุชุดุงู ุงููุงุฆูุงุช ุ ุณูู ูุณุชุฎุฏู ุดุจูุฉ ุนุตุจูุฉ ุชูุงููููุฉ ูุน ุจููุฉ ุชุณูู YOLOv3.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุชุนูู ููููุฉ ุงูุนูู ูู iOS ูุน ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุจุงุณุชุฎุฏุงู ุฅุทุงุฑ ุนูู CoreML ุ ูููู ูููู ููุงููุฉ ุดุจูุฉ YOLOv3 ูููููุฉ ุงุณุชุฎุฏุงู ููุนุงูุฌุฉ ูุฎุฑุฌุงุช ูุฐู ุงูุดุจูุฉ.  ุณูููู ุฃูุถูุง ุจุงูุชุญูู ูู ุชุดุบูู ุงูุจุฑูุงูุฌ ูููุงุฑูุฉ ุนุฏุฉ ุตูุบ ูู YOLOv3: YOLOv3-tiny ู YOLOv3-416. <br><br>  ุณุชููู ุงููุตุงุฏุฑ ูุชุงุญุฉ ูู ููุงูุฉ ุงูููุงูุฉ ุ ุจุญูุซ ูููู ุงูุฌููุน ูุงุฏุฑูู ุนูู ุงุฎุชุจุงุฑ ุชุดุบูู ุงูุดุจูุฉ ุงูุนุตุจูุฉ ุนูู ุฃุฌูุฒุชูู. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูุดู ุงููุงุฆู </h2><br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุณูู ูููู ุจุงุฎุชุตุงุฑ ูุง ูููุฉ ุงููุดู ุนู ุงููุงุฆูุงุช (ุงูุชุดุงู ุงููุงุฆู) ูู ุงูุตูุฑุฉ ููุง ูู ุงูุฃุฏูุงุช ุงููุณุชุฎุฏูุฉ ููุฐุง ุงูููู.  ุฃููู ุฃู ุงููุซูุฑูู ุนูู ุฏุฑุงูุฉ ุจูุฐุง ุงูููุถูุน ุ ูููู ูุง ุฃุฒุงู ุฃุณูุญ ูููุณู ุจุงูุชุญุฏุซ ููููุงู ุนูู. <br><br>  ุงูุขู ุ ูุชู ุญู ุงููุซูุฑ ูู ุงูููุงู ูู ูุฌุงู ุฑุคูุฉ ุงูููุจููุชุฑ ุจุงุณุชุฎุฏุงู ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงูุชูุงููููุฉ (ุงูุดุจูุงุช ุงูุนุตุจูุฉ ุงูุชูุงููููุฉ) ุ ูููุง ุจุนุฏ CNN.  ุจุณุจุจ ุจููุชูุง ุ ูุฅููุง ุชุณุชุฎุฑุฌ ุงูููุฒุงุช ูู ุงูุตูุฑุฉ ุจุดูู ุฌูุฏ.  ุชูุณุชุฎุฏู ุดุจูุงุช CNN ูู ุงูุชุตููู ุ ูุงูุงุนุชุฑุงู ุ ูุงูุชุฌุฒุฆุฉ ุ ูุบูุฑูุง ุงููุซูุฑ. <br><br>  ุชุตูููุงุช CNN ุงูุดุงุฆุนุฉ ููุชุนุฑู ุนูู ุงูุฃุดูุงุก: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>R-CNN.</b>  ูููููุง ุฃู ูููู ุงููููุฐุฌ ุงูุฃูู ูุญู ูุฐู ุงููุดููุฉ.  ูุนูู ูุซู ูุตูู ุงูุตูุฑุฉ ุงูุนุงุฏูุฉ.  ูุชู ุชุบุฐูุฉ ููุงุทู ูุฎุชููุฉ ูู ุงูุตูุฑุฉ ุจุฅุฏุฎุงู ุงูุดุจูุฉ ููุชู ุนูู ุชูุจุคุงุช ููุง.  ุจุทูุก ุฌุฏูุง ูุฃูู ูุฏูุฑ ุตูุฑุฉ ูุงุญุฏุฉ ุนุฏุฉ ุขูุงู ูู ุงููุฑุงุช. </li><li style=";text-align:right;direction:rtl">  <b>ุณุฑูุน R-CNN.</b>  ุชุนูู ูุณุฎุฉ ูุญุณูุฉ ูุฃุณุฑุน ูู R-CNN ุนูู ูุจุฏุฃ ููุงุซู ุ ูููู ุฃููุงู ูุชู ุชุบุฐูุฉ ุงูุตูุฑุฉ ุจุฃููููุง ุฅูู ุฅุฏุฎุงู CNN ุ ุซู ูุชู ุฅูุดุงุก ุงูููุงุทู ูู ุงูุชูุซูู ุงูุฏุงุฎูู ุงููุณุชูู.  ูููู ูุง ูุฒุงู ุจุทูุฆุง ุฌุฏุง ููููุงู ูู ุงูููุช ุงูุญูููู. </li><li style=";text-align:right;direction:rtl">  <b>ุฃุณุฑุน R-CNN.</b>  ูุชูุซู ุงูุงุฎุชูุงู ุงูุฑุฆูุณู ุนู ุงูุณุงุจู ูู ุฃูู ุจุฏูุงู ูู ุฎูุงุฑุฒููุฉ ุงูุจุญุซ ุงูุงูุชูุงุฆู ุ ูุฅูู ูุณุชุฎุฏู ุดุจูุฉ ุนุตุจูุฉ ูุชุญุฏูุฏ ุงูููุงุทู "ูุญูุธูุง". </li><li style=";text-align:right;direction:rtl">  <b>YOLO.</b>  ููุงู ูุจุฏุฃ ูุฎุชูู ุชูุงููุง ุนู ุงูุชุดุบูู ููุงุฑูุฉู ุจุงููุจุงุฏุฆ ุงูุณุงุจูุฉ ูุง ูุณุชุฎุฏู ุงูููุงุทู ุนูู ุงูุฅุทูุงู.  ุงูุฃุณุฑุน.  ุณูุชู ููุงูุดุฉ ุงููุฒูุฏ ูู ุงูุชูุงุตูู ุญูู ูุฐุง ุงูููุถูุน ูู ุงูููุงู. </li><li style=";text-align:right;direction:rtl">  <b>SSD.</b>  ุฅูู ูุดุงุจู ูู ุญูุซ ุงููุจุฏุฃ ูู YOLO ุ ููููู ูุณุชุฎุฏู VGG16 ูุดุจูุฉ ูุงุณุชุฎุฑุงุฌ ุงูููุฒุงุช.  ุฃูุถุง ุณุฑูุน ุฌุฏุง ูููุงุณุจุฉ ููุนูู ูู ุงูููุช ุงูุญูููู. </li><li style=";text-align:right;direction:rtl">  <b>ููุฒุฉ ุดุจูุงุช ุงููุฑู (FPN).</b>  ููุงู ููุน ุขุฎุฑ ูู ุงูุดุจูุงุช ูุซู Single Shot Detector ุ ูุธุฑูุง ูููุฒุงุช ุงุณุชุฎุฑุงุฌ ุงูููุฒุงุช ุฃูุถู ูู SSD ูุชุนุฑู ุนูู ุงููุงุฆูุงุช ุงูุตุบูุฑุฉ. </li><li style=";text-align:right;direction:rtl">  <b>RetinaNet.</b>  ูุณุชุฎุฏู ูุฒูุฌูุง ูู FPN + ResNet ูุจูุถู ูุธููุฉ ุฎุทุฃ ุฎุงุตุฉ (ููุฏ ุจุคุฑู) ุ ูุนุทู ุฏูุฉ ุฃุนูู. </li></ul><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูู ูุณุชุฎุฏู ุจููุฉ YOLO ุ ุฃู ุงูุชุนุฏูู ุงูุฃุฎูุฑ ููุง ุ YOLOv3. <br><br><h2 style=";text-align:right;direction:rtl">  ููุงุฐุง ููููุ </h2><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/i4/fy/lq/i4fylqlbpgsp-mu3w6k96zd5e1u.jpeg"></div><br><br>  YOLO ุฃู You Only Look Once ูู ุจููุฉ CNN ุงูุดุงุฆุนุฉ ููุบุงูุฉ ุ ูุงูุชู ุชูุณุชุฎุฏู ููุชุนุฑู ุนูู ูุงุฆูุงุช ูุชุนุฏุฏุฉ ูู ุตูุฑุฉ ูุง.  ูููู ุงูุญุตูู ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุงููุงููุฉ ุญูู ูุฐุง ุงูููุถูุน ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููููุน ุงูุฑุณูู</a> ุ ูููููู ุฃูุถูุง ุงูุนุซูุฑ ุนูู ุงูููุดูุฑุงุช ุงูุชู ุชุตู ุจุงูุชูุตูู ุงููุธุฑูุฉ ูุงููููู ุงูุฑูุงุถู ููุฐู ุงูุดุจูุฉ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุตู ุนูููุฉ ุงูุชุฏุฑูุจ. <br><br>  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ููุฐู ุงูุจููุฉ ููุงุฑูุฉ ุจุงูุฃูุธูุฉ ุงูุฃุฎุฑู ูู ุฃู ูุนุธู ุงูุฃูุธูุฉ ุชุทุจู CNN ุนุฏุฉ ูุฑุงุช ุนูู ููุงุทู ูุฎุชููุฉ ูู ุงูุตูุฑุฉ ุ ูู YOLO ุ ูุชู ุชุทุจูู CNN ูุฑุฉ ูุงุญุฏุฉ ุนูู ุงูุตูุฑุฉ ุจุฃููููุง ุฏูุนุฉ ูุงุญุฏุฉ.  ุชูุณู ุงูุดุจูุฉ ุงูุตูุฑุฉ ุฅูู ููุน ูู ุงูุดุจูุฉ ูุชุชููุน ุงูุตูุงุฏูู ุงููุญูุทูุฉ ูุงุญุชูุงู ูุฌูุฏ ูุงุฆู ูุฑุบูุจ ููู ููู ูุณู. <br><br>  ุชุชูุซู ูุฒุงูุง ูุฐุง ุงูููุฌ ูู ุฃู ุงูุดุจูุฉ ุชูุธุฑ ุฅูู ุงูุตูุฑุฉ ุจุฃููููุง ูู ุงูุญุงู ูุชุฑุงุนู ุงูุณูุงู ุนูุฏ ุงูุชุดุงู ูุงุฆู ูุงูุชุนุฑู ุนููู.  YOLO ุฃุณุฑุน ุจู 1000 ูุฑุฉ ูู R-CNN ูุญูุงูู 100 ูุฑุฉ ุฃุณุฑุน ูู Fast R-CNN.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุทูู ุดุจูุฉ ุนูู ุฌูุงุฒ ูุญููู ูููุนุงูุฌุฉ ุนุจุฑ ุงูุฅูุชุฑูุช ุ ูุฐูู ููุฐู ูู ุฃูู ุฌูุฏุฉ ุจุงููุณุจุฉ ููุง. <br><br>  ูููู ุงูุงุทูุงุน ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ุญูู ููุงุฑูุฉ ุงูุจููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br><h4 style=";text-align:right;direction:rtl">  YOLOv3 </h4><br>  YOLOv3 ูู ูุณุฎุฉ ูุชูุฏูุฉ ูู ุจููุฉ YOLO.  ูุชููู ูู 106 ุทุจูุฉ ุชูุงููููุฉ ูููุชุดู ุงูุฃุฌุณุงู ุงูุตุบูุฑุฉ ุจุดูู ุฃูุถู ููุงุฑูุฉ ุจุณุงุจูุชูุง YOLOv2.  ุงูููุฒุฉ ุงูุฑุฆูุณูุฉ ูู YOLOv3 ูู ุฃู ููุงู ุซูุงุซ ุทุจูุงุช ูู ุงูุฅุฎุฑุงุฌ ุ ูู ูููุง ูุตูู ูููุดู ุนู ูุงุฆูุงุช ุฐุงุช ุฃุญุฌุงู ูุฎุชููุฉ. <br>  ุงูุตูุฑุฉ ุฃุฏูุงู ุชูุถุญ ูููููุง ุงูุชุฎุทูุทู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cl/rf/_j/clrf_jqzkt1qfszivfchhxkujv4.png"></div><br><br>  <b>YOLOv3-tiny</b> - ุฅุตุฏุงุฑ ูุตูุฑ ูู ุจููุฉ YOLOv3 ุ ูุชููู ูู ุทุจูุงุช ุฃูู (ููุงู ุทุจูุชุงู ููุท ููุฅุฎุฑุงุฌ).  ูุชูุจุฃ ุจุฃุดูุงุก ุฃุตุบุฑ ุญุฌููุง ููู ูุฎุตุต ููุฌููุนุงุช ุงูุจูุงูุงุช ุงูุตุบูุฑุฉ.  ูููู ูุธุฑูุง ูููููู ุงูููุทูุน ุ ุชุดุบู ุฃูุฒุงู ุงูุดุจูุฉ ููุฏุงุฑูุง ุตุบูุฑูุง ูู ุงูุฐุงูุฑุฉ (ุญูุงูู 35 ููุฌุงุจุงูุช) ูุชูุชุฌ FPS ุฃุนูู.  ูุฐูู ุ ููุถู ุงุณุชุฎุฏุงู ูุซู ูุฐู ุงูุจููุฉ ุนูู ุฌูุงุฒ ูุญููู. <br><br><h2 style=";text-align:right;direction:rtl">  ููุชุจ ุจุฑูุงูุฌูุง ููุชุนุฑู ุนูู ุงููุงุฆูุงุช </h2><br>  ุงูุฌุฒุก ุงูููุชุน ูุจุฏุฃ! <br><br>  ูููู ุจุฅูุดุงุก ุชุทุจูู ูุชุนุฑู ุนูู ุงููุงุฆูุงุช ุงููุฎุชููุฉ ูู ุงูุตูุฑุฉ ูู ุงูููุช ุงููุนูู ุจุงุณุชุฎุฏุงู ูุงููุฑุง ุงููุงุชู.  ุณูุชู ูุชุงุจุฉ ุฌููุน ุงูุดูุฑุงุช ุจูุบุฉ ุจุฑูุฌุฉ Swift 4.2 ูุณูุชู ุชุดุบูููุง ุนูู ุฌูุงุฒ iOS. <br><br>  ูู ูุฐุง ุงูุจุฑูุงูุฌ ุงูุชุนูููู ุ ุณูุฃุฎุฐ ุดุจูุฉ ุฌุงูุฒุฉ ูุน ุฌุฏุงูู ุชู ุชุฏุฑูุจูุง ูุณุจููุง ุนูู ูุฌููุนุฉ ุจูุงูุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">COCO</a> .  ููุนุฑุถ 80 ูุตูู ูุฎุชููุฉ.  ูุฐูู ุ ุณูููู ุจุฅููุงู ุงูุฎูุงูุง ุงูุนุตุจูุฉ ูุฏููุง ุงูุชุนุฑู ุนูู 80 ูุงุฆููุง ูุฎุชูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ูู Darknet ุฅูู CoreML </h4><br>  ุชู ุชูููุฐ ุจููุฉ YOLOv3 ุงูุฃุตููุฉ ุจุงุณุชุฎุฏุงู ุฅุทุงุฑ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Darknet</a> . <br><br>  ุนูู ูุธุงู ุงูุชุดุบูู iOS ุ ุจุฏุกูุง ูู ุงูุฅุตุฏุงุฑ 11.0 ุ ุชูุฌุฏ ููุชุจุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">CoreML</a> ุฑุงุฆุนุฉ ุชุชูุญ ูู ุชุดุบูู ููุงุฐุฌ ุงูุชุนูู ุงูุขูู ุนูู ุงูุฌูุงุฒ ูุจุงุดุฑุฉู.  ูููู ููุงู ูููุฏูุง ูุงุญุฏุฉ: <b>ูุง ูููู ุชุดุบูู ุงูุจุฑูุงูุฌ ุฅูุง ุนูู ุฌูุงุฒ ูุนูู ุจูุธุงู ุงูุชุดุบูู iOS 11 ููุง ููู.</b> <br><br>  ุงููุดููุฉ ูู ุฃู CoreML ูุง ูููู ุณูู ุงูุชูุณูู <i>ุงููุญุฏุฏ</i> ููููุฐุฌ <i>.coreml</i> .  ุจุงููุณุจุฉ ุฅูู ุงูููุชุจุงุช ุงูุฃูุซุฑ ุดููุนูุง ุ ูุซู Tensorflow ุฃู Keras ุฃู XGBoost ุ ูููู ุงูุชุญููู ูุจุงุดุฑุฉู ุฅูู ุชูุณูู CoreML.  ููู ุจุงููุณุจุฉ ุฅูู Darknet ูุง ููุฌุฏ ูุซู ูุฐุง ุงูุงุญุชูุงู.  ูุชุญููู ุงููููุฐุฌ ุงููุญููุธ ูุงููุฏุฑุจ ูู Darknet ุฅูู CoreML ุ ููููู ุงุณุชุฎุฏุงู ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญูุธ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Darknet</a> ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ONNX</a> ุ ุซู ุชุญูููู ูู ONNX ุฅูู CoreML. <br><br>  ุณูู ูุณุชุฎุฏู ุทุฑููุฉ ุฃูุซุฑ ุจุณุงุทุฉ ูุณูุณุชุฎุฏู ุชุทุจูู Keras ูุชุทุจูู YOLOv3.  ุฎูุงุฑุฒููุฉ ุงูุฅุฌุฑุงุก ูู: ุชุญููู ุฃูุฒุงู Darknet ูู ูููุฐุฌ Keras ุ ูุญูุธูุง ุจุชูุณูู Keras ูุชุญููููุง ูุจุงุดุฑุฉู ุฅูู CoreML ูู ูุฐุง. <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุชุญููู Darknet.</b>  ูู ุจุชูุฒูู ูููุงุช ูููุฐุฌ Darknet-YOLOv3 ุงููุฏุฑุจูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ููุง</a> .  ูู ูุฐู ุงูููุงูุฉ ุ ุณุฃุณุชุฎุฏู ุจูุงุฆูู: YOLOv3-416 ู YOLOv3-tiny.  ุณูุญุชุงุฌ ุฅูู ูููุงุช cfg ูุงูุฃูุฒุงู. </li><li style=";text-align:right;direction:rtl">  <b>ูู Darknet ุฅูู Keras.</b>  ุฃููุงู ุ ุงุณุชูุณุงุฎ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุฏุน</a> ุ ุงูุชูู ุฅูู ูุฌูุฏ ุงูุฑูุจู ููู ุจุชุดุบูู ุงูุฃูุฑ: <br><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">python convert.py yolov3.cfg yolov3.weights yolo.h5</code> </pre> <br>  ุญูุซ ูุงู yolov3.cfg ู yolov3.weights ุจุชูุฒูู ูููุงุช Darknet.  ูุชูุฌุฉ ูุฐูู ุ ูุฌุจ ุฃู ูููู ูุฏููุง ููู ุจุงูููุญู <i>.h5</i> - ูุฐุง ูู ูููุฐุฌ YOLOv3 ุงููุญููุธ ุจุชูุณูู Keras. </li><li style=";text-align:right;direction:rtl">  <b>ูู Keras ุฅูู CoreML.</b>  ุจูู ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ.  ูุชุญููู ุงููููุฐุฌ ุฅูู CoreML ุ ุชุญุชุงุฌ ุฅูู ุชุดุบูู ุงูุจุฑูุงูุฌ ุงููุตู python (ูุฌุจ ุนููู ุฃููุงู ุชุซุจูุช ููุชุจุฉ coremltools ูู python): <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> coremltools coreml_model = coremltools.converters.keras.convert( <span class="hljs-string"><span class="hljs-string">'yolo.h5'</span></span>, input_names=<span class="hljs-string"><span class="hljs-string">'image'</span></span>, image_input_names=<span class="hljs-string"><span class="hljs-string">'image'</span></span>, input_name_shape_dict={<span class="hljs-string"><span class="hljs-string">'image'</span></span>: [<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-number"><span class="hljs-number">416</span></span>, <span class="hljs-number"><span class="hljs-number">416</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]}, <span class="hljs-comment"><span class="hljs-comment">#      image_scale=1/255.) coreml_model.input_description['image'] = 'Input image' coreml_model.save('yolo.mlmodel')</span></span></code> </pre> </li></ol><br>  ูุฌุจ ุฃู ูุชู ุชูููุฐ ุงูุฎุทูุงุช ุงูููุถุญุฉ ุฃุนูุงู ููุทุฑุงุฒูู YOLOv3-416 ู YOLOv3-tiny. <br>  ุนูุฏูุง ูููุง ุจูู ูุฐุง ุ ูุฏููุง ูููุงู: yolo.mlmodel ู yolo-tiny.mlmodel.  ุงูุขู ููููู ุงูุจุฏุก ูู ูุชุงุจุฉ ุฑูุฒ ุงูุชุทุจูู ููุณู. <br><br><h4 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุชุทุจูู iOS </h4><br>  ูู ุฃุตู ูู ุฑูุฒ ุงูุชุทุจูู ุ ููููู ุฑุคูุชู ูู ุงููุณุชูุฏุน ุ ููู ุฑุงุจุท ุณูุชู ุชูุฏููู ูู ููุงูุฉ ุงูููุงู.  ุงุณูุญูุง ูู ุฃู ุฃููู ุฃู ูุฏููุง ุซูุงุซุฉ UIViewController ูุงุญุฏ: OnlineViewController ุ PhotoViewController ู SettingsViewController.  ุงูุฃูู ูู ุฅุฎุฑุงุฌ ุงููุงููุฑุง ูุงููุดู ุนู ุงููุงุฆูุงุช ุนุจุฑ ุงูุฅูุชุฑูุช ููู ุฅุทุงุฑ.  ูู ุงูุซุงููุฉ ุ ููููู ุงูุชูุงุท ุตูุฑุฉ ุฃู ุชุญุฏูุฏ ุตูุฑุฉ ูู ุงููุนุฑุถ ูุงุฎุชุจุงุฑ ุงูุดุจูุฉ ุนูู ูุฐู ุงูุตูุฑ.  ูุญุชูู ุงูุฅุนุฏุงุฏ ุงูุซุงูุซ ุนูู ุงูุฅุนุฏุงุฏุงุช ุ ููููู ุงุฎุชูุงุฑ ุทุฑุงุฒ YOLOv3-416 ุฃู YOLOv3- ุงูุตุบูุฑ ุ ููุฐูู ุงุฎุชูุงุฑ ุนุชุจุงุช IoU (ุงูุชูุงุทุน ุนูู ุงูุงุชุญุงุฏ) ูุซูุฉ ุงููุงุฆู (ุงุญุชูุงู ูุฌูุฏ ูุงุฆู ูู ูุณู ุงูุตูุฑุฉ ุงูุญุงููุฉ). <br><br>  <b>ุชุญููู ุงูููุงุฐุฌ ูู CoreML</b> <br><br>  ุจุนุฏ ุฃู ูููุง ุจุชุญููู ุงููููุฐุฌ ุงููุฏุฑุจ ูู ุชูุณูู Darknet ุฅูู CoreML ุ ูุฏููุง ููู ุจุงูุงูุชุฏุงุฏ <i>.mlmodel</i> .  ูู ุญุงูุชู ุ ููุช ุจุฅูุดุงุก ููููู: <i>yolo.mlmodel</i> ู <i>yolo-tiny.mlmodel</i> ุ ููุทุฑุงุฒูู YOLOv3-416 ู YOLOv3-tiny ุ ุนูู ุงูุชูุงูู.  ุงูุขู ููููู ุชุญููู ูุฐู ุงููููุงุช ูู ูุดุฑูุน ูู Xcode. <br><br>  ูููู ุจุฅูุดุงุก ูุฆุฉ ModelProvider ุ ุญูุซ ุณูุชู ุชุฎุฒูู ุงููููุฐุฌ ุงูุญุงูู ูุทุฑู ุงุณุชุฏุนุงุก ุงูุดุจูุฉ ุงูุนุตุจูุฉ ุจุดูู ุบูุฑ ูุชุฒุงูู ููุชูููุฐ.  ูุชู ุชุญููู ุงููููุฐุฌ ุจูุฐู ุงูุทุฑููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadModel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type: YOLOType)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.model = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">YOLO</span></span>(type: type) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">assertionFailure</span></span>(<span class="hljs-string"><span class="hljs-string">"error creating model"</span></span>) } }</code> </pre><br>  ูุฆุฉ YOLO ูุณุคููุฉ ูุจุงุดุฑุฉู ุนู ุชุญููู ูููุงุช <i>.mlmodel</i> ููุนุงูุฌุฉ ูุฎุฑุฌุงุช ุงูุทุฑุงุฒ.  ุชูุฒูู ูููุงุช ุงูููุงุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url: <span class="hljs-type"><span class="hljs-type">URL?</span></span> = <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.type = type <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> type { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .v3_Tiny: url = <span class="hljs-type"><span class="hljs-type">Bundle</span></span>.main.url(forResource: <span class="hljs-string"><span class="hljs-string">"yolo-tiny"</span></span>, withExtension:<span class="hljs-string"><span class="hljs-string">"mlmodelc"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.anchors = tiny_anchors <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .v3_416: url = <span class="hljs-type"><span class="hljs-type">Bundle</span></span>.main.url(forResource: <span class="hljs-string"><span class="hljs-string">"yolo"</span></span>, withExtension:<span class="hljs-string"><span class="hljs-string">"mlmodelc"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.anchors = anchors_416 } <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> modelURL = url <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">YOLOError</span></span>.modelFileNotFound } <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { model = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">MLModel</span></span>(contentsOf: modelURL) } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(error) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">YOLOError</span></span>.modelCreationError }</code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูููุฐุฌ ModelProvider ุงููุงูู.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> CoreML protocol ModelProviderDelegate: class { func show(predictions: [YOLO.Prediction]?, stat: ModelProvider.Statistics, error: YOLOError?) } @available(macOS 10.13, iOS 11.0, tvOS 11.0, watchOS 4.0, *) class ModelProvider { struct Statistics { var timeForFrame: Float var fps: Float } static let shared = ModelProvider(modelType: Settings.shared.modelType) var model: YOLO! weak var delegate: ModelProviderDelegate? var predicted = 0 var timeOfFirstFrameInSecond = CACurrentMediaTime() init(modelType type: YOLOType) { loadModel(type: type) } func reloadModel(type: YOLOType) { loadModel(type: type) } private func loadModel(type: YOLOType) { do { self.model = try YOLO(type: type) } catch { assertionFailure("error creating model") } } func predict(frame: UIImage) { DispatchQueue.global().async { do { let startTime = CACurrentMediaTime() let predictions = try self.model.predict(frame: frame) let elapsed = CACurrentMediaTime() - startTime self.showResultOnMain(predictions: predictions, elapsed: Float(elapsed), error: nil) } catch let error as YOLOError { self.showResultOnMain(predictions: nil, elapsed: -1, error: error) } catch { self.showResultOnMain(predictions: nil, elapsed: -1, error: YOLOError.unknownError) } } } private func showResultOnMain(predictions: [YOLO.Prediction]?, elapsed: Float, error: YOLOError?) { if let delegate = self.delegate { DispatchQueue.main.async { let fps = self.measureFPS() delegate.show(predictions: predictions, stat: ModelProvider.Statistics(timeForFrame: elapsed, fps: fps), error: error) } } } private func measureFPS() -&gt; Float { predicted += 1 let elapsed = CACurrentMediaTime() - timeOfFirstFrameInSecond let currentFPSDelivered = Double(predicted) / elapsed if elapsed &gt; 1 { predicted = 0 timeOfFirstFrameInSecond = CACurrentMediaTime() } return Float(currentFPSDelivered) } }</code> </pre><br></div></div><br>  <b>ูุนุงูุฌุฉ ุฅุฎุฑุงุฌ ุงูุดุจูุฉ ุงูุนุตุจูุฉ</b> <br><br>  ุงูุขู ุฏุนููุง ูุชุนุฑู ุนูู ููููุฉ ูุนุงูุฌุฉ ูุฎุฑุฌุงุช ุงูุดุจูุฉ ุงูุนุตุจูุฉ ูุงูุญุตูู ุนูู ุงููุฑุจุนุงุช ุงููุญูุทุฉ ุงูููุงุจูุฉ.  ูู Xcode ุ ุฅุฐุง ุญุฏุฏุช ููููุง ูููุฐุฌููุง ุ ููููู ุฑุคูุฉ ูุง ูู ุนููู ููุดุงูุฏุฉ ุทุจูุงุช ุงูุฅุฎุฑุงุฌ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/m_/3b/vz/m_3bvzkroynfyfkpv1fal-ydf_k.png"></div><br>  <i>ุงูุฏุฎูู ูุงูุฎุฑูุฌ YOLOv3- ุตุบูุฑุฉ.</i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/0l/nl/hy/0lnlhydblax7trhpzdte8bojc0y.png"></div><br>  <i>ุงููุฏุฎู ูุงูุฎุฑูุฌ YOLOv3-416.</i> <br><br>  ููุง ุชุฑูู ูู ุงูุตูุฑุฉ ุฃุนูุงู ุ ูุฏููุง ุซูุงุซ ุทุจูุงุช YOLOv3-416 ูุงุซูุชุงู ูุทุจูุงุช ุงูุฅุฎุฑุงุฌ ุงูุจุงูุบุฉ ุงูุตุบุฑ YOLOv3 ูู ูู ูููุง ูุชู ุชููุน ูุฑุจุนุงุช ุฑุจุท ูููุงุฆูุงุช ุงููุฎุชููุฉ. <br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฐู ูุฌููุนุฉ ููุชุธูุฉ ูู ุงูุฃุฑูุงู ุ ุฏุนูุง ูุชุนุฑู ุนูู ููููุฉ ุชุญููููุง. <br><br>  ูุณุชุฎุฏู ูููุฐุฌ YOLOv3 ุซูุงุซ ุทุจูุงุช ููุฎุฑุฌ ูุชูุณูู ุงูุตูุฑุฉ ุฅูู ุดุจูุฉ ูุฎุชููุฉ ุ ุชุญุชูู ุฃุญุฌุงู ุฎูุงูุง ูุฐู ุงูุดุจูุงุช ุนูู ุงูููู ุงูุชุงููุฉ: 8 ู 16 ู 32. ูููุชุฑุถ ุฃู ูุฏููุง ุตูุฑุฉ ุจุญุฌู 416 ร 416 ุจูุณู ุนูุฏ ุงูุฅุฏุฎุงู ุ ุซู ุณูููู ููุตูููุงุช ุงูุฅุฎุฑุงุฌ (ุงูุดุจูุงุช) ุญุฌู 52 ร 52 ู 26 ร 26 ู 13 ร 13 (416/8 = 52 ู 416/16 = 26 ู 416/32 = 13).  ูู ุญุงูุฉ YOLOv3-tiny ุ ูู ุดูุก ูู ููุณู ุ ูููู ุจุฏูุงู ูู ุซูุงุซ ุดุจูุงุช ุ ูุฏููุง ุงุซููู: 16 ู 32 ุ ุฃู ุ ูุตูููุงุช ุฐุงุช ุฃุจุนุงุฏ 26 ร 26 ู 13 ร 13. <br><br>  ุจุนุฏ ุจุฏุก ุชุดุบูู ูููุฐุฌ CoreML ุงููุญูู ุ ูุญุตู ุนูู ูุงุฆููู (ุฃู ุซูุงุซุฉ) ูู ูุฆุฉ MLMultiArray ูู ุงูุฅุฎุฑุงุฌ.  ูุฅุฐุง ูุธุฑุช ุฅูู ุฎุงุตูุฉ ุดูู ูุฐู ุงููุงุฆูุงุช ุ ูุณูุฑู ุงูุตูุฑุฉ ุงูุชุงููุฉ (ุนูู YOLOv3-tiny): <p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>255</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>26</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>26</mn><mo stretchy=&quot;false&quot;>]</mo><mspace linebreak=&quot;newline&quot; /><mo stretchy=&quot;false&quot;>[</mo><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>255</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>13</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mn>13</mn><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="6.033ex" viewBox="0 -832 33095.6 2597.7" role="img" focusable="false" style="vertical-align: -4.101ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(13486,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31" x="278" y="0"></use><g transform="translate(779,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31" x="1044" y="0"></use><g transform="translate(1544,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(1809,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-35" x="1001" y="0"></use></g><g transform="translate(3311,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(3576,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-36" x="500" y="0"></use></g><g transform="translate(4577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(4842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-5D" x="5843" y="0"></use></g><g transform="translate(13486,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-5B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31" x="278" y="0"></use><g transform="translate(779,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31" x="1044" y="0"></use><g transform="translate(1544,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(1809,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-35" x="1001" y="0"></use></g><g transform="translate(3311,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(3576,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-33" x="500" y="0"></use></g><g transform="translate(4577,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(4842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-33" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-5D" x="5843" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">[</mo><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>255</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>26</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>26</mn><mo stretchy="false">]</mo><mspace linebreak="newline"></mspace><mo stretchy="false">[</mo><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>255</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>13</mn><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mn>13</mn><mo stretchy="false">]</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> [1 ุ 1 ุ 255 ุ 26 ุ 26] \\ [1 ุ 1 ุ 255 ุ 13 ุ 13] </script></p><br>  ููุง ูู ูุชููุน ุ ุณูููู ุญุฌู ุงููุตูููุงุช 26 ร 26 ู 13 ร 13. ูููู ูุงุฐุง ูุนูู ุงูุฑูู 255ุ  ููุง ุฐูุฑูุง ุณุงุจููุง ุ ุชููู ุทุจูุงุช ุงูุฅุฎุฑุงุฌ ูู ูุตูููุงุช 52 ร 52 ู 26 ร 26 ู 13 ร 13.  ุงูุญูููุฉ ูู ุฃู ูู ุนูุตุฑ ูู ุนูุงุตุฑ ูุฐู ุงููุตูููุฉ ููุณ ุฑูููุง ุ ุจู ูู ูุงูู.  ุฃู ุฃู ุทุจูุฉ ุงูุฅุฎุฑุงุฌ ุนุจุงุฑุฉ ุนู ูุตูููุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ.  ูุฐุง ุงููุชุฌู ูู ุงูุจุนุฏ B x (5 + C) ุ ุญูุซ B ูู ุฑูู ุงููุฑุจุน ุงููุญูุท ูู ุงูุฎููุฉ ุ C ูู ุนุฏุฏ ุงููุฆุงุช.  ูู ุฃูู ูุฃุชู ุงูุฑูู 5ุ  ูุงูุณุจุจ ูู ุฐูู ูู: ุจุงููุณุจุฉ ููู box-a ุ ูู ุงููุชููุน ุฃู ูููู ููุงู ูุงุฆู (ุซูุฉ ุงููุงุฆู) - ูุฐุง ูู ุฑูู ูุงุญุฏ ุ ูุงูุฃุฑุจุนุฉ ุงููุชุจููุฉ ูู x ุ ู y ุ ูุงูุนุฑุถ ูุงูุงุฑุชูุงุน ูููุฑุจุน ุงููุชููุน a.  ููุถุญ ุงูุดูู ุฃุฏูุงู ุชูุซูููุง ุชุฎุทูุทููุง ููุฐุง ุงููุชุฌู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/3d/j3/rl/3dj3rlk_te-4x-pthae9mreq7k0.png"></div><br>  <i>ุชูุซูู ุชุฎุทูุทู ูุทุจูุฉ ุงููุฎุฑุฌุงุช (ุฎุฑูุทุฉ ุงููุนุงูู).</i> <br><br>  ุจุงููุณุจุฉ ูุดุจูุชูุง ุงููุฏุฑุจุฉ ุนูู 80 ูุตููุง ุ ูุชู ุงูุชูุจุค ุจู 3 ูุฑุจุนุงุช ูุฑุจุนุฉ - ุฃ ููู ุฎููุฉ ูู ุดุจูุฉ ุงูุชูุณูู ุ ููู ูููุง - 80 ุฏุฑุฌุฉ ูู ุงูุงุญุชูุงูุงุช + ุซูุฉ ุงููุงุฆู + 4 ุฃุฑูุงู ูุณุคููุฉ ุนู ููุถุน ูุญุฌู ูุฐุง ุงููุฑุจุน - ุฃ.  ุงููุฌููุน: 3 ร (5 + 80) = 255. <br><br>  ููุญุตูู ุนูู ูุฐู ุงูููู ูู ูุฆุฉ MLMultiArray ุ ูู ุงูุฃูุถู ุงุณุชุฎุฏุงู ูุคุดุฑ ุฃููู ูุตููู ุจูุงูุงุช ูุญุณุงุจ ุงูุนููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> pointer = <span class="hljs-type"><span class="hljs-type">UnsafeMutablePointer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Double</span></span>&gt;(<span class="hljs-type"><span class="hljs-type">OpaquePointer</span></span>(out.dataPointer)) <span class="hljs-comment"><span class="hljs-comment">//    if out.strides.count &lt; 3 { throw YOLOError.strideOutOfBounds } let channelStride = out.strides[out.strides.count-3].intValue let yStride = out.strides[out.strides.count-2].intValue let xStride = out.strides[out.strides.count-1].intValue func offset(ch: Int, x: Int, y: Int) -&gt; Int { //     return ch * channelStride + y * yStride + x * xStride }</span></span></code> </pre><br>  ุชุญุชุงุฌ ุงูุขู ุฅูู ูุนุงูุฌุฉ ูุชุฌู ูููู ูู 255 ุนูุตุฑูุง.  ููู ูุฑุจุน ุ ุชุญุชุงุฌ ุฅูู ุงูุญุตูู ุนูู ุชูุฒูุน ุงูุงุญุชูุงู ูู 80 ูุฆุฉ ุ ููููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู ูุธููุฉ softmax. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุง ูู softmax</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ูุธููุฉ ูุญูู ุงููุชุฌู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mi>x</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.354ex" height="2.074ex" viewBox="0 -772.3 4027.5 892.8" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.28ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="3025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="3455" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ mathbb x </script>  ุงูุจุนุฏ K ูู ูุชุฌู ูู ููุณ ุงูุจุนุฏ ุ ุญูุซ ูู ุชูุณูู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.154ex" height="2.349ex" viewBox="0 -772.3 4371.8 1011.3" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.555ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="1128" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="2019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="2596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="3025" y="0"></use><g transform="translate(3455,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="809" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ mathbb x_i </script>  ูุชู ุชูุซูู ุงููุชุฌู ุงููุงุชุฌ ุจุฑูู ุญูููู ูู ุงููุงุตู ุงูุฒููู [0ุ1] ููุฌููุน ุงูุฅุญุฏุงุซูุงุช ูู 1. <p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>x</mi></mrow><msub><mo stretchy=&quot;false&quot;>)</mo><mi>i</mi></msub><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>x</mi><mi>i</mi></msub></mrow></msup></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>K</mi></mrow></msubsup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>x</mi><mi>k</mi></msub></mrow></msup></mrow></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.144ex" height="3.037ex" viewBox="0 -890.8 17714.6 1307.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.968ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-67" x="1065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="1545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="2424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-28" x="2953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="3593" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="4471" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="5001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="5362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="5939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-62" x="6368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="6798" y="0"></use><g transform="translate(7370,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="550" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="8382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-66" x="9688" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-72" x="10238" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="10690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="11219" y="0"></use><g transform="translate(11653,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="809" y="-213"></use></g></g><g transform="translate(12868,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-75" x="719" y="0"></use><g transform="translate(1292,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-4B" x="1242" y="488"></use><g transform="translate(878,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6B" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="521" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-31" x="1300" y="0"></use></g></g><g transform="translate(3543,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6B" x="809" y="-213"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>b</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mi>x</mi></mrow><msub><mo stretchy="false">)</mo><mi>i</mi></msub><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>x</mi><mi>i</mi></msub></mrow></msup></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>k</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>K</mi></mrow></msubsup><mrow class="MJX-TeXAtom-ORD"><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><msub><mi>x</mi><mi>k</mi></msub></mrow></msup></mrow></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> \ sigma (\ mathbb {x}) _ i = \ frac {e ^ {x_i}} {\ sum_ {k = 1} ^ {K} {e ^ {x_k}}} </script></p>  ุญูุซ K ูู ุจุนุฏ ุงููุชุฌู. <br></div></div><br>  ูุธููุฉ Softmax ุนูู ุณูููุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">softmax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">inout</span></span></span></span><span class="hljs-function"><span class="hljs-params"> [Float])</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> len = vDSP_Length(x.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-built_in"><span class="hljs-built_in">count</span></span> = <span class="hljs-type"><span class="hljs-type">Int32</span></span>(x.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>) vvexpf(&amp;x, x, &amp;<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sum: <span class="hljs-type"><span class="hljs-type">Float</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span> vDSP_sve(x, <span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;sum, len) vDSP_vsdiv(x, <span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;sum, &amp;x, <span class="hljs-number"><span class="hljs-number">1</span></span>, len) }</code> </pre><br>  ููุญุตูู ุนูู ุฅุญุฏุงุซูุงุช ูุฃุญุฌุงู ูุฑุจุน ุงูุฅุญุงุทุฉ a ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ุงูุตูุบ: <p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>x</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>c</mi><mi>x</mi></msub><mspace linebreak=&quot;newline&quot; /><mi>y</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>c</mi><mi>y</mi></msub><mspace linebreak=&quot;newline&quot; /><mi>w</mi><mo>=</mo><msub><mi>p</mi><mi>w</mi></msub><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>w</mi></mrow></msup><mspace linebreak=&quot;newline&quot; /><mi>h</mi><mo>=</mo><msub><mi>p</mi><mi>h</mi></msub><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>h</mi></mrow></msup></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="13.262ex" viewBox="0 -832 33095.6 5710.1" role="img" focusable="false" style="vertical-align: -11.33ex; max-width: 638px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(11502,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="2156" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-67" x="2971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="3452" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="4330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-28" x="4860" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="5499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="6076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="6605" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="6967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-29" x="7539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-2B" x="8151" y="0"></use><g transform="translate(9152,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="613" y="-213"></use></g></g><g transform="translate(11604,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="2081" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="2551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-67" x="2896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6D" x="3377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="4255" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-28" x="4785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="5424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="6001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="6530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-79" x="6892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-29" x="7389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-2B" x="8001" y="0"></use><g transform="translate(9002,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-79" x="613" y="-213"></use></g></g><g transform="translate(13787,-3064)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-77" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="994" y="0"></use><g transform="translate(2050,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-77" x="712" y="-213"></use></g><g transform="translate(3160,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="930" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1459" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-77" x="1821" y="0"></use></g></g></g><g transform="translate(13956,-4593)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="854" y="0"></use><g transform="translate(1910,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="712" y="-213"></use></g><g transform="translate(2921,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="353" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="930" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1459" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="1821" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>x</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>x</mi></msub><mspace linebreak="newline"></mspace><mi>y</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>i</mi><mi>g</mi><mi>m</mi><mi>a</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>c</mi><mi>y</mi></msub><mspace linebreak="newline"></mspace><mi>w</mi><mo>=</mo><msub><mi>p</mi><mi>w</mi></msub><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>w</mi></mrow></msup><mspace linebreak="newline"></mspace><mi>h</mi><mo>=</mo><msub><mi>p</mi><mi>h</mi></msub><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>h</mi></mrow></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> x = \ sigma (\ hat x) + c_x \\ y = \ sigma (\ hat y) + c_y \\ w = p_we ^ {\ hat w} \\ h = p_he ^ {\ hat h} </script></p><br>  ุญูุซ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>x</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>w</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>h</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.291ex" height="2.419ex" viewBox="0 -780.1 10028.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="1717" y="0"></use><g transform="translate(2290,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="2805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="3381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="3911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-79" x="4272" y="0"></use><g transform="translate(4770,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="5285" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="5861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="6391" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-77" x="6752" y="0"></use><g transform="translate(7469,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="7984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="8560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="9090" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="9451" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>x</mi><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><mi>h</mi></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ hat x ุ \ hat y ุ \ hat w ุ \ hat h </script>  - ุฅุญุฏุงุซูุงุช ุณ ุต ุต ุงููุชููุนุฉ ูุงูุนุฑุถ ูุงูุงุฑุชูุงุน ุ ุนูู ุงูุชูุงูู ุ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x633;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x64A;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x62C;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x645;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x627;</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.846ex" height="2.66ex" viewBox="0 -832 3808.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(250,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุณ</text></g><g transform="translate(976,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(1506,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุฌ</text></g><g transform="translate(1973,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ู</text></g><g transform="translate(2285,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุง</text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-28" x="2457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="2846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-29" x="3419" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mo>ุณ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ู</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ุฌ</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ู</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ุง</mo></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7"> \ ุณูุฌูุง (x) </script>  ูู ูุธููุฉ ุงูุณููู ุ ู <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>w</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x60C;</mo></mrow><msub><mi>p</mi><mi>h</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.632ex" height="2.419ex" viewBox="-38.5 -780.1 2424.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-77" x="712" y="-213"></use><g transform="translate(1110,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">ุ</text></g><g transform="translate(1375,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-68" x="712" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>w</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo>ุ</mo></mrow><msub><mi>p</mi><mi>h</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-8"> p_w ุ p_h </script>  - ููู ุงููุฑุงุณู (ุงููุฑุงุณู) ูุซูุงุซุฉ ุตูุงุฏูู.  ูุชู ุชุญุฏูุฏ ูุฐู ุงูููู ุฃุซูุงุก ุงูุชุฏุฑูุจ ููุชู ุชุนููููุง ูู ููู Helpers.swift: <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> anchors1: [<span class="hljs-type"><span class="hljs-type">Float</span></span>] = [<span class="hljs-number"><span class="hljs-number">116</span></span>,<span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-number"><span class="hljs-number">156</span></span>,<span class="hljs-number"><span class="hljs-number">198</span></span>, <span class="hljs-number"><span class="hljs-number">373</span></span>,<span class="hljs-number"><span class="hljs-number">326</span></span>] <span class="hljs-comment"><span class="hljs-comment">//     let anchors2: [Float] = [30,61, 62,45, 59,119] //     let anchors3: [Float] = [10,13, 16,30, 33,23] //    </span></span></code> </pre><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ng/zf/pv/ngzfpvvch8bhnkdapz6url5ok-w.png"></div><br>  <i>ุชูุซูู ุชุฎุทูุทู ูุญุณุงุจ ููุถุน ุงููุฑุจุน ุงููุญูุท.</i> <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฑูุฒ ูุงูู ููุนุงูุฌุฉ ุทุจูุงุช ุงูุฅุฎุฑุงุฌ.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(output out: MLMultiArray, name: String)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">throws</span></span> -&gt; [<span class="hljs-type"><span class="hljs-type">Prediction</span></span>] { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> predictions = [<span class="hljs-type"><span class="hljs-type">Prediction</span></span>]() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> grid = out.shape[out.shape.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>].intValue <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> gridSize = <span class="hljs-type"><span class="hljs-type">YOLO</span></span>.inputSize / <span class="hljs-type"><span class="hljs-type">Float</span></span>(grid) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> classesCount = labels.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(out.shape) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> pointer = <span class="hljs-type"><span class="hljs-type">UnsafeMutablePointer</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Double</span></span>&gt;(<span class="hljs-type"><span class="hljs-type">OpaquePointer</span></span>(out.dataPointer)) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> out.strides.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> &lt; <span class="hljs-number"><span class="hljs-number">3</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">YOLOError</span></span>.strideOutOfBounds } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> channelStride = out.strides[out.strides.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>-<span class="hljs-number"><span class="hljs-number">3</span></span>].intValue <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> yStride = out.strides[out.strides.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>-<span class="hljs-number"><span class="hljs-number">2</span></span>].intValue <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xStride = out.strides[out.strides.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span>-<span class="hljs-number"><span class="hljs-number">1</span></span>].intValue <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">offset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ch: Int, x: Int, y: Int)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ch * channelStride + y * yStride + x * xStride } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ..&lt; grid { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ..&lt; grid { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> box_i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ..&lt; <span class="hljs-type"><span class="hljs-type">YOLO</span></span>.boxesPerCell { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> boxOffset = box_i * (classesCount + <span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bbx = <span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset, x: x, y: y)]) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bby = <span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset + <span class="hljs-number"><span class="hljs-number">1</span></span>, x: x, y: y)]) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bbw = <span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset + <span class="hljs-number"><span class="hljs-number">2</span></span>, x: x, y: y)]) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> bbh = <span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset + <span class="hljs-number"><span class="hljs-number">3</span></span>, x: x, y: y)]) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> confidence = sigmoid(<span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset + <span class="hljs-number"><span class="hljs-number">4</span></span>, x: x, y: y)])) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> confidence &lt; confidenceThreshold { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> x_pos = (sigmoid(bbx) + <span class="hljs-type"><span class="hljs-type">Float</span></span>(x)) * gridSize <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> y_pos = (sigmoid(bby) + <span class="hljs-type"><span class="hljs-type">Float</span></span>(y)) * gridSize <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> width = exp(bbw) * <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.anchors[name]![<span class="hljs-number"><span class="hljs-number">2</span></span> * box_i] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> height = exp(bbh) * <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.anchors[name]![<span class="hljs-number"><span class="hljs-number">2</span></span> * box_i + <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> ..&lt; <span class="hljs-number"><span class="hljs-number">80</span></span> { classes[<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>] = <span class="hljs-type"><span class="hljs-type">Float</span></span>(pointer[offset(ch: boxOffset + <span class="hljs-number"><span class="hljs-number">5</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>, x: x, y: y)]) } softmax(&amp;classes) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> (detectedClass, bestClassScore) = argmax(classes) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> confidenceInClass = bestClassScore * confidence <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> confidenceInClass &lt; confidenceThreshold { <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> } predictions.append(<span class="hljs-type"><span class="hljs-type">Prediction</span></span>(classIndex: detectedClass, score: confidenceInClass, rect: <span class="hljs-type"><span class="hljs-type">CGRect</span></span>(x: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(x_pos - width / <span class="hljs-number"><span class="hljs-number">2</span></span>), y: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(y_pos - height / <span class="hljs-number"><span class="hljs-number">2</span></span>), width: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(width), height: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span>(height)))) } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> predictions }</code> </pre><br></div></div><br>  <b>ุบูุฑ ุงูุญุฏ ุงูุฃูุตู ููุน</b> <br><br>  ุจูุฌุฑุฏ ุงุณุชูุงู ุฅุญุฏุงุซูุงุช ูุฃุญุฌุงู ุงูุตูุงุฏูู ุงููุญูุทูุฉ ูุงูุงุญุชูุงูุงุช ุงูููุงุจูุฉ ูุฌููุน ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงูุตูุฑุฉ ุ ููููู ุงูุจุฏุก ูู ุฑุณููุง ุฃุนูู ุงูุตูุฑุฉ.  ูููู ููุงู ูุดููุฉ ูุงุญุฏุฉ!  ูุฏ ูุญุฏุซ ูุซู ูุฐุง ุงููููู ุนูุฏูุง ูุชู ุชููุน ุงูุนุฏูุฏ ูู ุงูุตูุงุฏูู ุฐุงุช ุงูุงุญุชูุงูุงุช ุงูุนุงููุฉ ุฅูู ุญุฏ ูุง ููุงุฆู ูุงุญุฏ.  ูุงุฐุง ุชูุนู ูู ูุฐู ุงูุญุงูุฉุ  ููุง ุฎูุงุฑุฒููุฉ ุจุณูุทุฉ ุฅูู ุญุฏ ูุง ุชุณูู ููุน ุบูุฑ ุฃูุตู ูุฃุชู ููุณุงุนุฏุชูุง. <br><br>  ุงูุฎูุงุฑุฒููุฉ ูู ููุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญู ูุจุญุซ ุนู ูุฑุจุน ูุญูุท ุจู ุฃุนูู ุงุญุชูุงู ููุงูุชูุงุก ุฅูู ุงููุงุฆู. </li><li style=";text-align:right;direction:rtl">  ูุญู ูุฐูุจ ูู ุฎูุงู ุฌููุน ุงููุฑุจุนุงุช ุงููุญูุทุฉ ุงูุชู ุชูุชูู ุฃูุถุง ุฅูู ูุฐุง ุงููุงุฆู. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุญุฐููุง ุฅุฐุง ูุงู ุงูุชูุงุทุน ููู ุงูุงุชุญุงุฏ (IoU) ูุน ุงููุฑุจุน ุงููุญูุท ุงูุฃูู ุฃูุจุฑ ูู ุงูุญุฏ ุงููุญุฏุฏ. </li></ol><br>  ูุชู ุงุญุชุณุงุจ IoU ุจุงุณุชุฎุฏุงู ุตูุบุฉ ุจุณูุทุฉ: <p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi><mi>o</mi><mi>U</mi></mrow><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>A</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>A</mi><mi>s</mi><mi>s</mi><mi>o</mi><mi>c</mi><mi>i</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>A</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="61.693ex" height="2.419ex" viewBox="0 -780.1 26562.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6F" x="504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-55" x="990" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMAIN-3D" x="4047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-66" x="5353" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-72" x="5904" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="6355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="6885" y="0"></use><g transform="translate(7318,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6E" x="504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1105" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="1466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-72" x="1933" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="2384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="2854" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="3320" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="3754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="4115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6F" x="4461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6E" x="4946" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-41" x="5547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-72" x="6297" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="6749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="7215" y="0"></use></g></g><g transform="translate(17075,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-78" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="1650" y="0"></use><g transform="translate(2012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-41" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-73" x="1220" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6F" x="1689" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-63" x="2175" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="2608" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="2954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-74" x="3483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-69" x="3845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6F" x="4190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-6E" x="4676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-41" x="5276" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-72" x="6027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-65" x="6478" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/460869/&amp;usg=ALkJrhjVYIjVKDjNHmUUhWVCsB7Gc2L1Bw#MJMATHI-61" x="6945" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi><mi>o</mi><mi>U</mi></mrow><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>s</mi><mi>e</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>A</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></mrow><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>A</mi><mi>s</mi><mi>s</mi><mi>o</mi><mi>c</mi><mi>i</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi>A</mi><mi>r</mi><mi>e</mi><mi>a</mi></mrow></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> \ text {IoU} = \ frac {\ text {Intersection Area}} {\ text {Association Area}} </script></p><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุญุณุงุจ IOU.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IOU</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a: CGRect, b: CGRect)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Float</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> areaA = a.width * a.height <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> areaA &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> areaB = b.width * b.height <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> areaB &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> intersection = a.intersection(b) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> intersectionArea = intersection.width * intersection.height <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">Float</span></span>(intersectionArea / (areaA + areaB - intersectionArea)) }</code> </pre><br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุบูุฑ ุงูุญุฏ ุงูุฃูุตู ููุน.</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nonMaxSuppression</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(boxes: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">inout</span></span></span></span><span class="hljs-function"><span class="hljs-params"> [Prediction], threshold: Float)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> i &lt; boxes.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j = i + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> j &lt; boxes.<span class="hljs-built_in"><span class="hljs-built_in">count</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> iou = <span class="hljs-type"><span class="hljs-type">YOLO</span></span>.<span class="hljs-type"><span class="hljs-type">IOU</span></span>(a: boxes[i].rect, b: boxes[j].rect) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> iou &gt; threshold { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> boxes[i].score &gt; boxes[j].score { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> boxes[i].classIndex == boxes[j].classIndex { boxes.remove(at: j) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { j += <span class="hljs-number"><span class="hljs-number">1</span></span> } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> boxes[i].classIndex == boxes[j].classIndex { boxes.remove(at: i) j = i + <span class="hljs-number"><span class="hljs-number">1</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { j += <span class="hljs-number"><span class="hljs-number">1</span></span> } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { j += <span class="hljs-number"><span class="hljs-number">1</span></span> } } i += <span class="hljs-number"><span class="hljs-number">1</span></span> } }</code> </pre><br></div></div><br>  ุจุนุฏ ุฐูู ุ ูููู ุงุนุชุจุงุฑ ุงูุนูู ูุจุงุดุฑุฉ ูุน ูุชุงุฆุฌ ุงูุชูุจุค ุจุงูุดุจูุฉ ุงูุนุตุจูุฉ ููุชูููุง.  ุจุนุฏ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ูุชุงุจุฉ ุงููุธุงุฆู ูุงููุตูู ููุญุตูู ุนูู ููุทุงุช ูู ุงููุงููุฑุง ุ ูุนุฑุถ ุงูุตูุฑุฉ ุนูู ุงูุดุงุดุฉ ูุชูุฏูู ุตูุงุฏูู ุงูุฑุจุท ุงููุชููุนุฉ.  ูู ุฃุตู ูู ูุฐู ุงูุดูุฑุฉ ูู ูุฐู ุงูููุงูุฉ ุ ููู ูููู ุนุฑุถูุง ูู ุงููุณุชูุฏุน. <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุฃููู ููุช ุจุฅุถุงูุฉ ุงููููู ูู ุงูุชูุนูู ููุตูุงุฏูู ุงููุญูุทูุฉ ุนูุฏ ูุนุงูุฌุฉ ุงูุตูุฑ ุนุจุฑ ุงูุฅูุชุฑูุช ุ ููู ูุฐู ุงูุญุงูุฉ ูููู ุงููุชูุณุท โโุงููุนุชุงุฏ ูููุถุน ูุญุฌู ุงููุฑุจุน ุงููุชูุจุฃ ุจู ุฎูุงู ุงูุฅุทุงุฑุงุช ุงูุซูุงุซูู ุงูุฃุฎูุฑุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ุงุฎุชุจุงุฑ ุงูุจุฑูุงูุฌ </h4><br>  ุงูุขู ูุญู ุงุฎุชุจุงุฑ ุงูุชุทุจูู. <br><br>  ุงุณูุญูุง ูู ุฃู ุฃุฐูุฑู ูุฑุฉ ุฃุฎุฑู: ููุงู ุซูุงุซุฉ ุนูุงุตุฑ ุชุญูู ูู ViewView ูู ุงูุชุทุจูู ุ ูุงุญุฏุฉ ููุนุงูุฌุฉ ุงูุตูุฑ ุฃู ุงูููุทุงุช ุ ููุงุญุฏุฉ ููุนุงูุฌุฉ ุฏูู ุงูููุฏูู ุนุจุฑ ุงูุฅูุชุฑูุช ุ ูุงูุซุงูุซุฉ ูุฅุนุฏุงุฏ ุงูุดุจูุฉ. <br><br>  ููุจุฏุฃ ูุน ุงูุซุงูุซ.  ูู ุฐูู ููููู ุงุฎุชูุงุฑ ูุงุญุฏ ูู ูููุฐุฌูู YOLOv3-tiny ุฃู YOLOv3-416 ุ ูุงุฎุชูุงุฑ ุญุฏ ุงูุซูุฉ ูุนุชุจุฉ IoU ุ ููุง ููููู ุชูููู ุฃู ุชุนุทูู ููุงูุญุฉ ุงูุชุนุฑุฌุงุช ุนุจุฑ ุงูุฅูุชุฑูุช. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/sb/zq/tz/sbzqtzy6hai51objkormfzvtbuq.jpeg"></div><br>  ุงูุขู ุฏุนูุง ูุฑู ููู ุชุนูู ุงูุฎูุงูุง ุงูุนุตุจูุฉ ุงููุฏุฑุจุฉ ูุน ุตูุฑ ุญููููุฉ ุ ูุฐูู ููุชูุท ุตูุฑุฉ ูู ุงููุนุฑุถ ูููุฑุฑูุง ุนุจุฑ ุงูุดุจูุฉ.  ุชูุถุญ ุงูุตูุฑุฉ ุฃุฏูุงู ูุชุงุฆุฌ YOLOv3-tiny ุจุฅุนุฏุงุฏุงุช ูุฎุชููุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nr/j3/fj/nrj3fjpw0yvxgl2cigujbcb-1p4.png"></div><br>  <i>ุฃูุถุงุน ุชุดุบูู ูุฎุชููุฉ ูู YOLOv3- ุตุบูุฑุฉ.</i>  <i>ุงูุตูุฑุฉ ุงููุณุฑู ุชูุถุญ ุงููุถุน ุงููุนุชุงุฏ ููุนูููุฉ.</i>  <i>ูู ุงูููุชุตู - ุงูุญุฏ ุงูุฃุฏูู IoU = 1 ุฃู</i>  <i>ููุง ูู ุฃู ุงูุญุฏ ุงูุฃูุตู ุบูุฑ ุงูุฃูุตู ููููุฏ.</i>  <i>ุนูู ุงููููู ุชูุฌุฏ ุนุชุจุฉ ููุฎูุถุฉ ูุซูุฉ ุงููุงุฆู ุ ุฃู</i>  <i>ูุชู ุนุฑุถ ุฌููุน ูุฑุจุนุงุช ุงูุฑุจุท ุงูููููุฉ.</i> <br><br>  ูุง ููู ูู ูุชูุฌุฉ YOLOv3-416.  ูุฏ ุชูุงุญุธ ุฃูู ููุงุฑูุฉู ุจู YOLOv3-tiny ุ ูุฅู ุงูุฅุทุงุฑุงุช ุงููุงุชุฌุฉ ุฃูุซุฑ ุตุญุฉ ุ ููุฐูู ูุชู ุงูุชุนุฑู ุนูู ุงููุงุฆูุงุช ุงูุฃุตุบุฑ ูู ุงูุตูุฑุฉ ุ ูุงูุชู ุชุชูุงูู ูุน ุนูู ุทุจูุฉ ุงูุฅุฎุฑุงุฌ ุงูุซุงูุซุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wc/nj/xq/wcnjxqeygnuriffqpatmtvevyfo.png"></div><br>  <i>ูุนุงูุฌุฉ ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู YOLOv3-416.</i> <br><br>  ุนูุฏูุง ุชู ุชุดุบูู ูุถุน ุงูุชุดุบูู ุนุจุฑ ุงูุฅูุชุฑูุช ุ ุชูุช ูุนุงูุฌุฉ ูู ุฅุทุงุฑ ูุชู ุฅุฌุฑุงุก ุชูุจุค ูู ุ <b>ูุชู ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ุนูู iPhone XS ุ</b> ูุฐูู ูุงูุช ุงููุชูุฌุฉ ููุจููุฉ ุชูุงููุง ูููุง ุฎูุงุฑู ุงูุดุจูุฉ.  <b>ุชูุชุฌ YOLOv3-tiny ูุชูุณุท โโ30 - 32 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ ุ YOLOv3-416 - ูู 23 ุฅูู 25 ุฅุทุงุฑูุง ูู ุงูุซุงููุฉ.</b>  ูููู ุงูุฌูุงุฒ ุงูุฐู ุชู ุงุฎุชุจุงุฑู ูุซูุฑูุง ุชูุงููุง ุ ูุฐูู ูู ุงูููุงุฐุฌ ุงูุณุงุจูุฉ ูุฏ ุชุฎุชูู ุงููุชุงุฆุฌ ุ ููู ูุฐู ุงูุญุงูุฉ ููุถู ุงุณุชุฎุฏุงู YOLOv3-tiny ุจุงูุทุจุน.  ููุทุฉ ูููุฉ ุฃุฎุฑู: ูุณุชุบุฑู yolo-tiny.mlmodel (YOLOv3-tiny) ุญูุงูู 35 ููุบุงุจุงูุช ุ ุจูููุง ูุฒู yolo.mlmodel (YOLOv3 -16) ุญูุงูู 250 ููุบุงุจุงูุช ุ ููู ูุฑู ูุจูุฑ ุฌุฏูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br>  ูุชูุฌุฉ ูุฐูู ุ ุชูุช ูุชุงุจุฉ ุชุทุจูู iOS ุฃูู ุจูุณุงุนุฏุฉ ุดุจูุฉ ุนุตุจูุฉ ููููู ุงูุชุนุฑู ุนูู ุงููุงุฆูุงุช ุงูููุฌูุฏุฉ ูู ุงูุตูุฑุฉ.  ููุฏ ุฑุฃููุง ููููุฉ ุงูุนูู ูุน ููุชุจุฉ CoreML ูููููุฉ ุงุณุชุฎุฏุงููุง ูุชูููุฐ ูุฎุชูู ุงูููุงุฐุฌ ุงููุฏุฑุจุฉ ูุณุจููุง (ุจุงูููุงุณุจุฉ ุ ููููู ุฃูุถูุง ุงูุชุฏุฑูุจ ุนูููุง).  ุชู ุญู ูุดููุฉ ุงูุชุนุฑู ุนูู ุงููุงุฆู ุจุงุณุชุฎุฏุงู ุดุจูุฉ YOLOv3.  ุนูู iPhone XS ุ ูุฐู ุงูุดุจูุฉ (YOLOv3-tiny) ูุงุฏุฑุฉ ุนูู ูุนุงูุฌุฉ ุงูุตูุฑ ุนูู ุชุฑุฏุฏ ~ 30 ููุทุฉ ูู ุงูุซุงููุฉ ุ ููู ูุง ูููู ุชูุงููุง ููุชุดุบูู ูู ุงูููุช ุงููุนูู. <br><br>  ูููู ุงูุงุทูุงุน ุนูู ุฑูุฒ ุงูุชุทุจูู ุงููุงูู ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar460869/">https://habr.com/ru/post/ar460869/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar460859/index.html">IThink # 3 ูุคุชูุฑ ูู ุฎุงุฑููู - ุนูู ุฃุณุงุณ WWDC 2019</a></li>
<li><a href="../ar460861/index.html">ุฌุงูุง ุณูุฑูุจุช ูุทุงู ุงููุนุฌู ูุงูุฅุบูุงู</a></li>
<li><a href="../ar460863/index.html">ุชูุงุตูู ุชุนุทู Cloudflare 2 ููููู 2019</a></li>
<li><a href="../ar460865/index.html">ุงููุงุณ ุนูู ุงูููุฑ. ูุตุงุฏุฑ</a></li>
<li><a href="../ar460867/index.html">Sourcery ูุชุญููู ุชููุงุฆูุง ุฅูู ููุงูู ูุงุฆู ุงููุฌุงู</a></li>
<li><a href="../ar460873/index.html">ููุงุฐุง Turok: ุฏููุงุตูุฑ ููุชุฑ N64 ูุจู ุณููุงุช ูู ููุชู</a></li>
<li><a href="../ar460875/index.html">ููู ุชูุตููุง ูู QIWI ุฅูู ุฃุณููุจ ุดุงุฆุน ููุชูุงุนู ุจูู View ู ViewModel ุถูู MVVM</a></li>
<li><a href="../ar460877/index.html">Kubernetes-adventure Dailymotion: ุจูุงุก ุงูุจููุฉ ุงูุชุญุชูุฉ ูู ุงูุณุญุจ + ูู ุฃูุงูู ุงูุนูู</a></li>
<li><a href="../ar460879/index.html">ุชูุฑูุบ ูุงุฒุงู 2019 - ูุคุชูุฑ ูุทูุฑู ุชุชุงุฑุณุชุงู. ูุญู ููุจู ุทูุจุงุช ุงูุชูุงุฑูุฑ</a></li>
<li><a href="../ar460881/index.html">ุตุนูุจุงุช ุชุทุจูู ุชูููุงุช ุงูุชุนุฑู ุงูุถูุฆู ุนูู ุงูุญุฑูู ูู ุฃูุธูุฉ DLP ุ ุฃู ููููุฉ ุชุญุถูุฑ ุงูุชุนุฑู ุงูุถูุฆู ุนูู ุงูุญุฑูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>