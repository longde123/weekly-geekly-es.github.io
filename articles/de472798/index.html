<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÑÔ∏è üåé üèê Yandex-Karten f√ºr Taxi-Anwendung üßõüèΩ üé∞ ‚ÜñÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="F√ºr die meisten Anwendungen, die Geostandorte, Karten und Wegbeschreibungen verwenden, bevorzuge ich Google Maps. Denn Google Maps verf√ºgt √ºber umfang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Yandex-Karten f√ºr Taxi-Anwendung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472798/"> F√ºr die meisten Anwendungen, die Geostandorte, Karten und Wegbeschreibungen verwenden, bevorzuge ich Google Maps.  Denn Google Maps verf√ºgt √ºber umfangreiche Funktionen, eine gute Dokumentation sowie ein hervorragendes Mapkit zur Umsetzung von visuellen und Programmierideen.  Leider ist Google Maps kein Allheilmittel f√ºr die Umsetzung aller m√∂glichen Aufgaben.  Das Problem ist, dass es Orte, St√§dte usw. gibt, die vom Unternehmen nicht vollst√§ndig verstanden werden, und aus diesem Grund sind Hausnummern und sogar ganze Stra√üen m√∂glicherweise nicht verf√ºgbar. <br><a name="habracut"></a><br>  In Abb.  1 Sie k√∂nnen in Google Maps und in Abb. 1 sehen, wie einer der Stadtteile aussieht.  2 Sie k√∂nnen sehen, wie dasselbe Gebiet nur auf Yandex-Karten aussieht. <br><br><img src="https://habrastorage.org/webt/oc/y6/kt/ocy6ktmxhraxrjvnycrofuli1b8.png" alt="Bild"><br>  <i>Abb.</i>  <i>1</i> <br><br><img src="https://habrastorage.org/webt/-1/jo/tw/-1jotwn2nydytdxml6qjlhsuhk4.png" alt="Bild"><br>  <i>Abb.</i>  <i>2</i> <br><br>  Meiner Meinung nach ist der Unterschied mit dem Auge sichtbar. Es ist sofort klar, dass die Karten von Google diesen Teil der Stadt aus irgendeinem Grund nicht funktionieren konnten / konnten / wollten. Wie Sie sehen, fehlen sowohl Hausnummern als auch Stra√üennamen. <br><br>  Da es f√ºr eine Taxi-Anwendung sehr wichtig ist, die zuverl√§ssigsten Informationen √ºber die Stadt und ihre Stra√üen (Unternehmen, Institutionen usw.) zu erhalten, wurde beschlossen, Yandex-Karten zu verwenden.  Egal wie viel Zeit ich mit Yandex-Karten arbeite, das Gef√ºhl ist wie beim ersten Mal, leider verursachen viele von ihnen nicht ganz positive Emotionen.  Vielleicht kann mich jemand reparieren, aber die Dokumentation f√ºr das Mapkit ist ziemlich knapp, und ich musste viele der notwendigen Funktionen aus dem herausarbeiten, was es war. <br><br><h3>  Kartenstyling </h3><br>  Um Ihrer Karte Einzigartigkeit zu verleihen oder eine Karte in Ihr Design einzubetten, m√ºssen Sie ihr den erforderlichen Stil geben.  Die einzige Methode, die ich gefunden habe, hat mich nicht wirklich angesprochen, da das Anpassen einer Karte mit ihr ziemlich unpraktisch ist. Soweit ich wei√ü, habe ich nur die Parameter Farbton, S√§ttigung und Helligkeit verstanden. <br><br><pre><code class="java hljs">String style = <span class="hljs-string"><span class="hljs-string">"["</span></span> + <span class="hljs-string"><span class="hljs-string">" {"</span></span> + <span class="hljs-string"><span class="hljs-string">" \"featureType\" : \"all\","</span></span> + <span class="hljs-string"><span class="hljs-string">" \"stylers\" : {"</span></span> + <span class="hljs-string"><span class="hljs-string">" \"hue\" : \"1\","</span></span> + <span class="hljs-string"><span class="hljs-string">" \"saturation\" : \"-1\","</span></span> + <span class="hljs-string"><span class="hljs-string">" \"lightness\" : \"0.78\""</span></span> + <span class="hljs-string"><span class="hljs-string">" }"</span></span> + <span class="hljs-string"><span class="hljs-string">" }"</span></span> + <span class="hljs-string"><span class="hljs-string">"]"</span></span>; mapView.getMap().setMapStyle(style);</code> </pre> <br><h3>  Bitte um Vorschl√§ge </h3><br>  Bevor die endg√ºltige Version der Eingabeaufforderungsanforderung erreicht wurde, wurden mehrere Methoden erneut √ºberpr√ºft. Dies ist die letzte und effektivste Methode, um Eingabeaufforderungen √ºber SuggestSession zu erhalten. <br><br>  Erstellen Sie zun√§chst eine Instanz des SearchManager-Objekts und eine Instanz des <i>SuggestSession-</i> Objekts: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SearchManager searchManager; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> SuggestSession suggestSession = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>;</code> </pre> <br>  Initialisieren Sie searchManager in der onCreate () -Methode <br><br><pre> <code class="java hljs">searchManager = SearchFactory.getInstance() .createSearchManager(SearchManagerType.COMBINED);</code> </pre><br>  Au√üerdem initialisieren wir in der requestSuggest-Methode (String-Abfrage) das suggestSession-Objekt und vergessen nicht, dass wir nicht jedes Mal eine neue Sitzung erstellen m√ºssen. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (suggestSession == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) suggestSession = searchManager.createSuggestSession();</code> </pre><br>  Um Tipps zu Unternehmen zu erhalten, verwenden wir den Parameter SuggestType.BIZ. Um Daten zur Region des Benutzers abzurufen, m√ºssen Sie BoundigBox verwenden, das wie folgt initialisiert wird: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> BoundingBox BOUNDING_BOX = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BoundingBox( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point(<span class="hljs-number"><span class="hljs-number">66.066191</span></span>, <span class="hljs-number"><span class="hljs-number">76.468435</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Point(<span class="hljs-number"><span class="hljs-number">66.149326</span></span>, <span class="hljs-number"><span class="hljs-number">76.824836</span></span>));</code> </pre><br>  Dabei ist der erste Punkt die untere linke Ecke und die zweite rechte obere Ecke Ihres rechteckigen Sektors. <br><br><pre> <code class="java hljs">suggestSession.suggest(query, BOUNDING_BOX, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SuggestOptions() .setSuggestTypes(SuggestType.BIZ.value) .setUserPosition(CENTER), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SuggestSession.SuggestListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull List&lt;SuggestItem&gt; list)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull Error error)</span></span></span><span class="hljs-function"> </span></span>{ } });</code> </pre><br>  Wenn wir Stra√üen, H√§user usw. ben√∂tigen, verwenden wir den Parameter SuggestType.BIZ: <br><br><pre> <code class="java hljs">suggestSession.suggest(query, BOUNDING_BOX, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SuggestOptions() .setSuggestTypes(SuggestType.GEO.value) .setUserPosition(CENTER), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SuggestSession.SuggestListener() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onResponse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull List&lt;SuggestItem&gt; list)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onError</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@NonNull Error error)</span></span></span><span class="hljs-function"> </span></span>{ } });</code> </pre><br>  Eines der festgestellten Probleme war auch die Tatsache, dass f√ºr denselben Namen mehrere identische Werte herauskamen. Ich rate Ihnen daher, diese sofort auf Ihrer Seite zu sortieren. <br><br>  Und das Letzte, was ich heute teilen m√∂chte, ist, Ihr SuggestItem in der Liste anzuzeigen.  Anfangs schien alles klar zu sein, da das Objekt mehrere Eigenschaften hat: <br><br><pre> <code class="java hljs">getSearchText(); getDisplayText();</code> </pre><br>  Was meiner Meinung nach impliziert, dass es eine vollst√§ndige Zeile f√ºr die Suche und eine Zeile f√ºr die Anzeige gibt, aber in 99% der F√§lle stimmen diese Zeilen √ºberein, um einen einfachen Stra√üennamen ohne Verwendung regul√§rer Ausdr√ºcke zu erhalten (dies k√∂nnte die Anzeige besch√§digen, da konnte die zum Verst√§ndnis notwendigen Daten k√ºrzen: Stra√üenname, Hausnummer, Wohnung usw.), die folgende Funktion wurde verwendet: <br><br><pre> <code class="java hljs">suggestItem.getTitle().getText();</code> </pre><br>  Seltsamerweise liefert diese Funktion das notwendige Ergebnis, obwohl diese Option anfangs nicht so offensichtlich schien. <br><br>  In der Tat ist dies nur ein paar kleine Dinge, die in dieser Anwendung angetroffen werden mussten.  Um den Artikel nicht zu dehnen, √ºberlasse ich ihn dem zweiten Teil, da Routen erstellt, Markierungen angezeigt und!  Das ist in einer Anwendung wie einem Taxi ebenso wichtig, die Bewegung eines Autos auf einer Karte mit seiner Drehung. <br><br>  Matvienko Alexander, Hossein Fakhr. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de472798/">https://habr.com/ru/post/de472798/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de472780/index.html">Warum Freunde meiden oder wie ich alle meine Vorteile verloren habe?</a></li>
<li><a href="../de472782/index.html">Warum 3D-Kopfschmerzen / Teil 8 Defokussierung und die Zukunft von 3D</a></li>
<li><a href="../de472790/index.html">Antiquit√§ten: i-Mate Jasjar, ein Kommunikator f√ºr Unternehmen</a></li>
<li><a href="../de472792/index.html">Computer basierend auf NOR-Ventilen: im integrierten Bordcomputer von Apollo</a></li>
<li><a href="../de472796/index.html">JA zuckt FAANG * oder [praktischer Leitfaden] bei der Jobsuche in den USA / Europa f√ºr IT-Spezialisten zusammen</a></li>
<li><a href="../de472802/index.html">MIRO ist eine offene Indoor-Roboterplattform. Teil 2 - Roboterdesign</a></li>
<li><a href="../de472810/index.html">An den Anfang Systemadministrator: Wie man Ordnung aus dem Chaos macht</a></li>
<li><a href="../de472812/index.html">L√∂scht der Server, wenn der Rauchtest des Rechenzentrums ‚ÄûFeuer gefangen‚Äú hat?</a></li>
<li><a href="../de472814/index.html">Meine erste virtuelle Maschine: wie man nicht durcheinander bringt</a></li>
<li><a href="../de472816/index.html">Elegante Muster in modernem JavaScript (Bill Sourour Team Cycle)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>