<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•É üë¥üèº ‚õ±Ô∏è Eh bien Apple BLEee üåî üï≥Ô∏è üïõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apple pr√©sente activement aux masses l'id√©e que tout est d√©sormais en ordre avec la confidentialit√© des donn√©es utilisateur pour leurs produits. Mais ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eh bien Apple BLEee</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/463639/"><p>  Apple pr√©sente activement aux masses l'id√©e que tout est d√©sormais en ordre avec la confidentialit√© des donn√©es utilisateur pour leurs produits.  Mais les chercheurs d'Hexway ont d√©couvert que le m√©canisme Bluetooth LE (BLE) standard et activement utilis√© vous permet d'en apprendre beaucoup sur votre iPhone. </p><br><p>  Si le Bluetooth est activ√©, toute personne dans la plage du signal peut d√©couvrir: </p><br><ul><li>  √©tat de l'appareil </li><li>  facturer des informations; </li><li>  nom de l'appareil </li><li>  Statut Wi-Fi </li><li>  disponibilit√© du tampon; </li><li>  Version iOS </li><li>  num√©ro de t√©l√©phone </li></ul><br><p><img src="https://habrastorage.org/webt/m9/qz/-d/m9qz-do9oa75iyybzwvj4du78cu.png"></p><a name="habracut"></a><br><p>  Cela est probablement d√ª √† la nouvelle fonctionnalit√© ¬´Find my¬ª annonc√©e cette ann√©e ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la fonctionnalit√© ¬´Find My¬ª d'Apple utilise une cryptographie tr√®s intelligente | WIRED</a> ).  Son essence est de cr√©er un √©cosyst√®me d'appareils Apple qui √©changent des informations BLE entre eux <em>pour suivre les appareils vol√©s et perdus sans utiliser le GPS et les canaux de communication mobiles, m√™me lorsqu'ils sont √©teints</em> .  Bien qu‚Äôil ait √©t√© d√©clar√© que </p><br><blockquote>  ... il a construit la fonctionnalit√© sur un syst√®me de cryptage unique soigneusement con√ßu pour emp√™cher exactement ce type de suivi - m√™me par Apple lui-m√™me <br>  Traduction: [Find my] utilise un cryptosyst√®me unique con√ßu pour emp√™cher le suivi [par d'autres personnes], y compris Apple. </blockquote><br><h2 id="primery-aktualnyh-vektorov-atak">  Exemples de vecteurs d'attaque pertinents </h2><br><h3 id="airdrop">  Airdrop </h3><br><p>  Cette technologie vous permet d'√©changer des fichiers entre des appareils Apple sans connexion Internet.  Chaque fois que vous "partagez" l'appareil envoie un hachage de votre t√©l√©phone au SHA256.  Ainsi, apr√®s avoir cr√©√© une base de donn√©es de num√©ros de t√©l√©phone (hachage: num√©ro de t√©l√©phone), vous pouvez capturer assez efficacement les t√©l√©phones dans les endroits bond√©s ... et envoyer des messages personnalis√©s √† leurs propri√©taires via iMessage (vous pouvez obtenir le nom du propri√©taire via TrueCaller ou √† partir du nom de l'appareil).  Le profit pour les magasins est plus qu'√©vident: spammer tous les passants. </p><br><h3 id="poluchenie-wi-fi-paroley">  Obtenir des mots de passe Wi-Fi </h3><br><p>  Lorsqu'il est connect√© √† un r√©seau Wi-Fi Apple, l'appareil envoie une demande de diffusion et un appareil compatible Apple peut vous aider √† acc√©der au r√©seau si l'utilisateur le souhaite.  Si vous obtenez 3 octets de hachage d'un employ√© et, lorsque vous essayez de vous connecter au r√©seau d'entreprise, effectuez une diffusion avec les donn√©es re√ßues, alors l'autre employ√© sera tr√®s gentil et, en voyant un nom familier dans la demande, partagera le mot de passe avec vous. </p><br><h2 id="kak-eto-rabotaet">  Comment √ßa marche </h2><br><h3 id="analiz-ble-paketov">  Analyse des paquets BLE </h3><br><p>  En modifiant les scripts du paquet py-bluetooth-utils, vous pouvez afficher le renifleur du trafic BLE.  Apple utilise des messages ADV_IND pour envoyer l'√©tat de l'appareil. </p><br><p>  <em>Annoncez la structure du package</em> </p><br><p><img src="https://habrastorage.org/webt/qn/ar/tg/qnartgyw8poy82dp28fuyrmwtqm.png"></p><br><h3 id="nearby-soobscheniya">  Messages √† proximit√© </h3><br><p> <strong>Exemples de types de messages:</strong> <br>  0x05 - Airdrop <br>  0x07 - Airpods <br>  0x10 - √Ä proximit√© <br>  0x0b - Regarder la connexion <br>  0x0c - Transfert <br>  0x0d - Param√®tres Wi-Fi <br>  0x0e - Hotspot <br>  0x0f - R√©seau de connexion Wi-Fi </p><br><p>  <strong>Vous pouvez √©galement obtenir les statuts des packages √† proximit√©:</strong> <br>  0x0b - √âcran d'accueil <br>  0x1c - √âcran d'accueil <br>  0x1b - √âcran d'accueil <br>  0x11 - √âcran d'accueil <br>  0x03 - D√©sactiv√© <br>  0x18 - D√©sactiv√© <br>  0x09 - D√©sactiv√© <br>  0x13 - D√©sactiv√© <br>  0x0a - D√©sactiv√© <br>  0x1a - D√©sactiv√© <br>  0x01 - D√©sactiv√© <br>  0x07 - √âcran de verrouillage <br>  0x17 - √âcran de verrouillage <br>  0x0e - Appel <br>  0x5b - √âcran d'accueil <br>  0x5a - D√©sactiv√© </p><br><p>  En cons√©quence, vous pouvez cr√©er un analyseur de paquets BLE simple: </p><br><p><img src="https://habrastorage.org/webt/yb/46/hp/yb46hphbjtrmnws1ll1b2njgek4.png"></p><br><h3 id="wi-fi">  Wifi </h3><br><p>  Lorsque vous essayez de vous connecter au Wi-Fi √† partir du p√©riph√©rique <strong>A, un</strong> paquet de la structure suivante est envoy√© contenant les trois premiers octets des hachages SHA256 d'AppleID (5-7 octets), le num√©ro de t√©l√©phone (8-11 octets), le courrier √©lectronique (12-14 octets): </p><br><p><img src="https://habrastorage.org/webt/89/5c/ww/895cww-dhaj6v9kvfjmxhcsjii8.png"></p><br><p>  Vraisemblablement, les appareils Apple ont hach√© tous les contacts et compar√©s √† ceux re√ßus dans le package publicitaire.  Lorsque le p√©riph√©rique <strong>B</strong> re√ßoit un paquet avec des hachages de contacts correspondants, le p√©riph√©rique <strong>B</strong> offrira un mot de passe de connexion r√©seau au p√©riph√©rique <strong>A.</strong> </p><br><p>  Si vous g√©n√©rez une table de hachage de num√©ros de t√©l√©phone pour une r√©gion sp√©cifique (environ plusieurs millions), alors pour les 3 premiers octets du hachage, vous pouvez obtenir une collision de l'ordre de plusieurs dizaines de num√©ros par hachage.  Il existe deux fa√ßons de v√©rifier l'exactitude des nombres: </p><br><ol><li>  Certains num√©ros peuvent √™tre exclus en les v√©rifiant via le HLR ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HLR Lookup - Front Page - Index</a> ). </li><li>  √âtant donn√© que le num√©ro doit √™tre li√© √† AppleID, vous pouvez v√©rifier via iMessage. </li></ol><br><p>  Dans tous les cas, l'ensemble de nombres obtenu permettra de d√©sanonymiser le propri√©taire assez efficacement (par exemple, en utilisant davantage les m√©thodes d'ing√©nierie sociale). </p><br><h3 id="airdrop-1">  Airdrop </h3><br><p>  Apple AirDrop dispose de trois param√®tres de confidentialit√©: </p><br><ol><li>  R√©ception. </li><li>  Contacts uniquement. </li><li>  Tout le monde. </li></ol><br><p>  Lorsque AirDrop d√©marre, un paquet de la structure suivante est envoy√©, contenant deux octets de hachage AppleID, un e-mail et un num√©ro de t√©l√©phone: </p><br><p><img src="https://habrastorage.org/webt/gs/zp/eb/gszpebo9vd4ndcd9volhmxudpea.png"></p><br><p>  Dans le m√™me temps, AirDrop n'est utilis√© que pour initier le transfert; pour le transfert de donn√©es lui-m√™me, la connexion peer2peer via Wi-Fi (AWDL - Apple Wireless Direct Link) est utilis√©e. </p><br><p>  Pendant l'authentification, l'exp√©diteur envoie les <strong>donn√©es d'enregistrement de</strong> l' <strong>exp√©diteur</strong> pour v√©rifier les param√®tres de confidentialit√© du destinataire.  Ce message contient le hachage SHA256 complet de l'exp√©diteur.  Ainsi, un attaquant peut r√©pondre √† toutes les autres requ√™tes AirDrop BLE, en recevant des hachages complets de num√©ros. </p><br><p>  Sch√©ma de fonctionnement d'AirDrop: </p><br><p><img src="https://habrastorage.org/webt/bd/tw/pl/bdtwpldckibjre2qd2nrltpkuti.png"></p><br><h2 id="rezyumiruya">  R√©sumer </h2><br><p>  Seule une partie des fuites d'informations possibles √† l'aide de BLE est prise en compte.  Pour le moment, il est difficile d'appeler cela une vuln√©rabilit√©, plut√¥t une mise en ≈ìuvre mal pens√©e du nouvel √©cosyst√®me d'Apple.  En principe, ils ont eux-m√™mes d√©clar√©: </p><br><blockquote>  Apple avertit qu'il s'agit toujours d'une version quelque peu simplifi√©e du protocole Find My et que le syst√®me est toujours susceptible de changer avant sa sortie dans MacOS Catalina et iOS 13 plus tard cette ann√©e.  ¬© <br>  Filaire <br>  Traduction: Apple a averti qu'une version simplifi√©e du protocole Find My est actuellement utilis√©e et devrait √™tre mise √† jour dans les prochaines versions vers la fin de l'ann√©e. </blockquote><p>  Pour le moment, il n'y a aucun moyen d'emp√™cher les fuites de donn√©es autres que la d√©sactivation de Bluetooth.  De plus, ce comportement est typique des versions iOS 10.3.1 et sup√©rieures (y compris iOS 13 beta).  Les appareils plus anciens (jusqu'√† l'iPhone 6s) utilisent √©galement cette fonctionnalit√©, mais avec un nombre limit√© de messages, peut-√™tre pour √©conomiser la batterie. </p><br><h2 id="ssylki">  Les r√©f√©rences </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub - hexway / apple_bleee: recherche Apple BLE</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apple bleee.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tout le monde sait ce qui se passe sur votre iPhone - hexway</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463639/">https://habr.com/ru/post/fr463639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463625/index.html">Surveillance du r√©seau et d√©tection de l'activit√© r√©seau anormale √† l'aide des solutions Flowmon Networks</a></li>
<li><a href="../fr463627/index.html">Biblioth√®que de g√©n√©rateur de code assembleur pour microcontr√¥leurs AVR. Partie 4</a></li>
<li><a href="../fr463629/index.html">Configuration de NextCloud + ONLYOFFICE sur le m√™me serveur √† l'aide de Docker</a></li>
<li><a href="../fr463631/index.html">Dialogues sur les lettres</a></li>
<li><a href="../fr463637/index.html">Tester votre infrastructure en tant que code avec Pulumi. 2e partie</a></li>
<li><a href="../fr463647/index.html">Vid√©os et rapports avec SmartMail Meetup: Frontend</a></li>
<li><a href="../fr463649/index.html">Note analytique. R√©vision de l'ordonnance du minist√®re de l'√ânergie de la F√©d√©ration de Russie du 6 novembre 2018 N 1015</a></li>
<li><a href="../fr463651/index.html">Math√©matiques discr√®tes pour WMS: algorithme de compression des marchandises dans les cellules (partie 2)</a></li>
<li><a href="../fr463653/index.html">Limitations des jeux 16 bits et de leur recr√©ation dans Unity</a></li>
<li><a href="../fr463655/index.html">La naissance d'un projet ou comment √©crire son propre CMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>