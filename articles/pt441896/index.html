<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêó üõµ üèª Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 9 üÖæÔ∏è üëÜ üßîüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Coleta de dados 
 Links para todas as partes: 
 Parte 1. Obtendo Acesso Inicial (Acesso Inicial) 
 Parte 2. Execu√ß√£o 
 Parte 3. Fixa√ß√£o (Persist√™ncia)...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 9</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441896/"><h2>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Coleta de dados</a> </h2><br>  <b>Links para todas as partes:</b> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1. Obtendo Acesso Inicial (Acesso Inicial)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2. Execu√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3. Fixa√ß√£o (Persist√™ncia)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 4. Escalonamento de Privil√©gios</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 5. Evas√£o de Defesa</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 6. Obtendo credenciais (acesso a credenciais)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 7. Descoberta</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 8. Movimento Lateral</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 9. Coleta de Dados (Cole√ß√£o)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 10 Exfiltra√ß√£o</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 11. Comando e Controle</a> <br><br>  As t√©cnicas para coletar dados em um ambiente comprometido incluem m√©todos para identificar, localizar e coletar diretamente informa√ß√µes direcionadas (por exemplo, arquivos confidenciais), a fim de prepar√°-las para posterior exfiltra√ß√£o.  A descri√ß√£o dos m√©todos de coleta de informa√ß√µes tamb√©m abrange a descri√ß√£o dos locais de armazenamento de informa√ß√µes em sistemas ou redes nas quais os oponentes podem pesquis√°-las e colet√°-las. <br><br>  Os indicadores da implementa√ß√£o da maioria das t√©cnicas de coleta de dados apresentadas no ATT &amp; CK s√£o processos que usam APIs, WMI, PowerShell, Cmd ou Bash para capturar informa√ß√µes de destino de dispositivos de entrada / sa√≠da ou abrir arquivos para leitura v√°rias vezes e depois copiar os dados recebidos para um local espec√≠fico no sistema ou na rede de arquivos .  As informa√ß√µes durante a coleta de dados podem ser criptografadas e combinadas em arquivos compactados. <br><br>  Identifica√ß√£o e bloqueio de software potencialmente perigoso e mal-intencionado usando ferramentas para organizar listas brancas de aplicativos como as Pol√≠ticas de Restri√ß√£o do AppLocker e Sofware no Windows, criptografia e armazenamento de informa√ß√µes confidenciais fora dos sistemas locais, restri√ß√£o de direitos s√£o oferecidas como recomenda√ß√µes gerais sobre prote√ß√£o contra a coleta de dados. acesso do usu√°rio a diret√≥rios de rede e armazenamento de informa√ß√µes corporativas; aplica√ß√£o de uma diretiva de senha e autentica√ß√£o de dois fatores em um ambiente protegido. <a name="habracut"></a><br><br>  <i>O autor n√£o √© respons√°vel pelas poss√≠veis consequ√™ncias da aplica√ß√£o das informa√ß√µes contidas no artigo e tamb√©m se desculpa por poss√≠veis imprecis√µes feitas em algumas formula√ß√µes e termos.</i>  <i>As informa√ß√µes publicadas s√£o uma recontagem gratuita do conte√∫do do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MITRE ATT &amp; CK</a> .</i> <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Captura de √°udio</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: um</i> advers√°rio pode usar perif√©ricos de computador (por exemplo, microfone ou webcam) ou aplicativos (por exemplo, servi√ßos de chamadas de voz e v√≠deo) para capturar grava√ß√µes de √°udio e ouvir conversas confidenciais.  Software ou scripts maliciosos podem ser usados ‚Äã‚Äãpara interagir com dispositivos perif√©ricos por meio das fun√ß√µes da API fornecidas pelo sistema operacional ou aplicativo.  Os arquivos de √°udio coletados podem ser gravados em um disco local com subsequente exfiltra√ß√£o. <br><br>  <i>Dicas de seguran√ßa:</i> A oposi√ß√£o direta √† t√©cnica acima pode ser dif√≠cil, pois requer controle detalhado sobre o uso da API.  A detec√ß√£o de atividades maliciosas tamb√©m pode ser dif√≠cil devido √† variedade de fun√ß√µes da API. <br><br>  Dependendo da finalidade do ataque do sistema, os dados sobre o uso da API podem ser completamente in√∫teis ou, pelo contr√°rio, fornecer conte√∫do para detectar outras atividades maliciosas que ocorrem no sistema.  Um indicador de atividade inimiga pode ser um processo desconhecido ou incomum de acessar a API associada a dispositivos ou software que interagem com um microfone, dispositivos de grava√ß√£o, programas de grava√ß√£o ou um processo que grava periodicamente arquivos que cont√™m dados de √°udio no disco. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cole√ß√£o automatizada</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: um</i> invasor pode usar ferramentas de automa√ß√£o para coletar dados internos, como scripts, para localizar e copiar informa√ß√µes que atendem a determinados crit√©rios - tipo de arquivo, local, nome, intervalos de tempo.  Essa funcionalidade tamb√©m pode ser integrada aos utilit√°rios de acesso remoto.  No processo de automatizar a coleta de dados com o objetivo de identificar e mover arquivos, tamb√©m podem ser aplicadas t√©cnicas para detectar arquivos e diret√≥rios ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Descoberta de Arquivos e Diret√≥rios</a> ) e c√≥pia remota de arquivos (C√≥pia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Remota de Arquivos</a> ). <br><br>  <i>Recomenda√ß√µes de prote√ß√£o: a</i> criptografia e o armazenamento de informa√ß√µes confidenciais fora do sistema s√£o uma maneira de neutralizar a coleta de arquivos; no entanto, se a invas√£o durar muito tempo, o advers√°rio poder√° detectar e obter acesso aos dados de outras maneiras.  Por exemplo, um keylogger instalado no sistema, interceptando a entrada, pode coletar senhas para descriptografar documentos protegidos.  Para impedir o hacking de documentos criptografados offline por for√ßa bruta, voc√™ deve usar senhas fortes. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados da √°rea de transfer√™ncia</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o: os</i> oponentes podem coletar dados da √°rea de transfer√™ncia do Windows armazenados durante a c√≥pia de informa√ß√µes por usu√°rios dentro ou entre aplicativos. <br><br>  <b>Windows</b> <br>  Os aplicativos podem acessar os dados da √°rea de transfer√™ncia usando a API do Windows. <br><br>  <b>MacOS</b> <br>  O OSX possui um comando <i>pbpast interno</i> para capturar o conte√∫do da √°rea de transfer√™ncia. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> N√£o bloqueie o software com base na identifica√ß√£o do comportamento associado √† captura do conte√∫do da √°rea de transfer√™ncia, pois  o acesso √† √°rea de transfer√™ncia √© um recurso padr√£o de muitos aplicativos do Windows.  Se a organiza√ß√£o decidir rastrear esse comportamento dos aplicativos, os dados de monitoramento dever√£o ser comparados com outras a√ß√µes suspeitas ou n√£o relacionadas ao usu√°rio. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados Estadiados</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o:</i> antes da exfiltra√ß√£o, os dados coletados s√£o geralmente colocados em um diret√≥rio espec√≠fico.  Os dados podem ser armazenados em arquivos separados ou combinados em um √∫nico arquivo usando compacta√ß√£o ou criptografia.  Os shells de comando interativos podem ser usados ‚Äã‚Äãcomo ferramentas, a funcionalidade cmd e bash pode ser usada para copiar dados para um local intermedi√°rio. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados de reposit√≥rios de informa√ß√µes</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Usu√°rio <br>  <i>Descri√ß√£o: os</i> oponentes podem extrair informa√ß√µes valiosas dos reposit√≥rios de informa√ß√µes - ferramentas que permitem armazenar informa√ß√µes, como regra, para otimizar a colabora√ß√£o ou a troca de dados entre usu√°rios.  O armazenamento de informa√ß√µes pode conter uma enorme variedade de dados que podem ajudar os invasores a atingir outros objetivos ou fornecer acesso a informa√ß√µes direcionadas. <br><br>  A seguir, √© apresentada uma pequena lista de informa√ß√µes que podem ser encontradas em reposit√≥rios de informa√ß√µes e de valor potencial para um invasor: <br><br><ul><li>  Pol√≠ticas, Procedimentos e Padr√µes; </li><li>  Esquemas de redes f√≠sicas / l√≥gicas; </li><li>  Esquemas de arquitetura de sistemas; </li><li>  Documenta√ß√£o t√©cnica do sistema; </li><li>  Credenciais para teste / desenvolvimento; </li><li>  Planos de trabalho / projeto; </li><li>  Trechos de c√≥digo fonte; </li><li>  Links para diret√≥rios de rede e outros recursos internos. </li></ul><br>  Reposit√≥rios comuns de informa√ß√µes: <br><br>  <b>Microsoft SharePoint</b> <br>  Ele est√° localizado em muitas redes corporativas e √© frequentemente usado para armazenar e trocar uma quantidade significativa de documenta√ß√£o. <br><br>  <b>Conflu√™ncia atlassiana</b> <br>  Frequentemente encontrado em ambientes de desenvolvimento junto com o Atlassian JIRA.  Confluence √© normalmente usado para armazenar documenta√ß√£o relacionada ao desenvolvimento. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> medidas <i>recomendadas</i> para impedir a coleta de dados de reposit√≥rios de informa√ß√µes: <br><br><ul><li>  Desenvolvimento e publica√ß√£o de pol√≠ticas que definem informa√ß√µes aceit√°veis ‚Äã‚Äãa serem registradas no armazenamento de informa√ß√µes; </li><li>  Implementa√ß√£o de mecanismos de controle de acesso, que incluem autentica√ß√£o e autoriza√ß√£o correspondente; </li><li>  Garantir o princ√≠pio do menor privil√©gio; </li><li>  Revis√£o peri√≥dica dos privil√©gios da conta; </li><li>  Impedir o acesso a contas v√°lidas v√°lidas que podem ser usadas para acessar reposit√≥rios de informa√ß√µes. </li></ul><br>  Como os reposit√≥rios de informa√ß√µes geralmente t√™m uma base de usu√°rios bastante grande, detectar seu uso mal-intencionado pode ser uma tarefa n√£o trivial.  No m√≠nimo, o acesso aos armazenamentos de informa√ß√µes executados por usu√°rios privilegiados (por exemplo, Dom√≠nio, Empresa ou Shema Admin) deve ser cuidadosamente monitorado e evitado, pois esses tipos de contas n√£o devem ser usados ‚Äã‚Äãpara acessar dados nos armazenamentos.  Se for poss√≠vel monitorar e alertar, voc√™ precisar√° rastrear usu√°rios que recuperam e visualizam um grande n√∫mero de documentos e p√°ginas.  Esse comportamento pode indicar a opera√ß√£o do software que recupera dados do armazenamento.  Em ambientes de alta maturidade, os sistemas User-Behavioraln Analytics (UBA) podem ser usados ‚Äã‚Äãpara detectar anormalidades no comportamento do usu√°rio. <br><br>  O Microsoft SharePoint pode ser configurado para registrar o acesso do usu√°rio a p√°ginas e documentos espec√≠ficos.  No Confluence Atlassian, o registro semelhante pode ser configurado atrav√©s do AccessLogFilter.  Uma detec√ß√£o mais eficiente provavelmente exigir√° infraestrutura adicional para armazenar e analisar logs. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados do sistema local</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o:</i> Dados confidenciais podem ser obtidos de fontes locais do sistema, como um sistema de arquivos ou banco de dados, com a finalidade de posterior exfiltra√ß√£o. <br><br>  Os invasores geralmente procuram arquivos nos computadores que invadiram.  Eles podem fazer isso usando a interface da linha de comandos (cmd).  M√©todos para automatizar o processo de coleta de dados tamb√©m podem ser usados. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados da unidade compartilhada em rede</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o:</i> dados confidenciais podem ser coletados de sistemas remotos que possuem unidades de rede acess√≠veis ao p√∫blico (pasta de rede local ou servidor de arquivos) dispon√≠veis para o advers√°rio. <br><br>  Para detectar arquivos de destino, um invasor pode procurar recursos de rede em computadores que foram comprometidos.  Para coletar informa√ß√µes, os shells de comando interativos e as fun√ß√µes comuns da linha de comando podem ser usadas. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dados da m√≠dia remov√≠vel (Dados da m√≠dia remov√≠vel)</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Descri√ß√£o:</i> dados confidenciais podem ser coletados de qualquer m√≠dia remov√≠vel (unidade √≥ptica, unidade USB, etc.) conectada a um sistema comprometido. <br><br>  Para detectar arquivos de destino, um invasor pode procurar por m√≠dia remov√≠vel em computadores comprometidos.  Para coletar informa√ß√µes, √© poss√≠vel usar tanto os shells de comando interativos quanto as fun√ß√µes comuns da linha de comando, al√©m de ferramentas de automa√ß√£o para coleta de dados. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Coleta de E-mail</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Descri√ß√£o:</i> para coletar informa√ß√µes confidenciais, os atacantes podem usar caixas de correio eletr√¥nicas personalizadas.  Os dados contidos no email podem ser obtidos nos arquivos de dados do Outlook (.pst) ou nos arquivos de cache (.ost).  Com credenciais de usu√°rio, um advers√°rio pode interagir diretamente com o servidor do Exchange e obter acesso a uma interface da Web de email externa, como o Outlook Web Access. <br><br>  <i>Recomenda√ß√µes de seguran√ßa: o</i> uso da criptografia fornece uma camada adicional de prote√ß√£o para informa√ß√µes confidenciais transmitidas por email.  O uso de criptografia assim√©trica exigir√° que o advers√°rio obtenha um certificado privado com uma chave de criptografia.  O uso da autentica√ß√£o de dois fatores em sistemas p√∫blicos de correio da web √© a melhor pr√°tica para minimizar a possibilidade de um invasor usar as credenciais de outra pessoa. <br><br>  Existem v√°rias maneiras de um invasor obter um email direcionado, cada um com seu pr√≥prio mecanismo de detec√ß√£o.  Os indicadores de atividade maliciosa podem ser: acesso aos arquivos de dados de email do sistema local para exfiltra√ß√£o subsequente, processos incomuns que se conectam ao servidor de email na rede, bem como padr√µes de acesso at√≠picos e tentativas de autentica√ß√£o em servidores Web de email p√∫blicos.  Acompanhe processos e argumentos de linha de comando que podem ser usados ‚Äã‚Äãpara coletar arquivos de dados de email.  As ferramentas de acesso remoto podem interagir diretamente com a API do Windows.  Os dados tamb√©m podem ser recuperados usando v√°rias ferramentas de gerenciamento do Windows, como WMI ou PowerShell. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Captura de entrada</a> </h3><br>  <i>Sistema:</i> Windows, Linux, macOS <br>  <i>Direitos:</i> Administrador, Sistema <br>  <i>Descri√ß√£o: os</i> invasores podem usar os meios de capturar as entradas do usu√°rio para obter as credenciais das contas existentes.  O registro de chaves √© o tipo mais comum de captura de entrada do usu√°rio, incluindo muitos m√©todos diferentes de interceptar pressionamentos de tecla, mas existem outros m√©todos para obter informa√ß√µes de destino, como chamar uma solicita√ß√£o de UAC ou gravar um shell para o provedor de credenciais padr√£o (Windows Credential Providers).  O registro de chaves √© a maneira mais comum de roubar credenciais quando o uso de t√©cnicas de descarte de credenciais √© ineficiente e o invasor √© for√ßado a permanecer passivo por um determinado per√≠odo de tempo. <br><br>  Para coletar credenciais do usu√°rio, um invasor tamb√©m pode instalar um keylogger de software em portais corporativos externos, por exemplo, na p√°gina de login da VPN.  Isso √© poss√≠vel depois que um portal ou servi√ßo √© comprometido pela obten√ß√£o de acesso administrativo leg√≠timo, que por sua vez pode ser organizado para fornecer acesso de backup nos est√°gios de obten√ß√£o do acesso inicial e prote√ß√£o no sistema. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> garanta a detec√ß√£o e o bloqueio de software potencialmente perigoso e mal-intencionado usando ferramentas como AppLocker ou pol√≠ticas de restri√ß√£o de software.  Tome medidas para reduzir os danos se um invasor obtiver credenciais.  Siga <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">as pr√°ticas recomendadas da Microsoft para desenvolver e administrar sua rede corporativa</a> . <br><br>  Os keyloggers podem modificar o registro e instalar drivers.  As fun√ß√µes da API comumente usadas s√£o SetWindowsHook, GetKeyState, GetAsyncKeyState.  As chamadas para fun√ß√µes da API por si s√≥ n√£o podem ser indicativas de registro de chaves, mas em conjunto com uma an√°lise das altera√ß√µes no registro, a detec√ß√£o de instala√ß√µes de drivers e a apar√™ncia de novos arquivos no disco podem indicar atividade maliciosa.  Acompanhe a apar√™ncia dos Provedores de credenciais personalizadas no registro: <br><br> <code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Authentication\Credential Providers</code> <br> <br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Homem no navegador</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">(Homem no navegador (MitB), rota√ß√£o do navegador)</a> </h3><br>  <i>Sistema:</i> Windows <br>  <i>Direitos:</i> Administrador, Sistema <br>  <i>Descri√ß√£o:</i> durante v√°rios m√©todos de ataque do MitB, um advers√°rio, aproveitando a vulnerabilidade do navegador da v√≠tima, pode modificar o conte√∫do da Web usando um programa malicioso, por exemplo, adicionar campos de entrada a uma p√°gina, modificar a entrada do usu√°rio, interceptar informa√ß√µes.  Um exemplo espec√≠fico √© o caso em que um invasor injeta software no navegador que permite que cookies, sess√µes HTTP, certificados SSL de cliente sejam herdados e use o navegador como uma maneira de autenticar e acessar a intranet. <br><br>  Um ataque requer privil√©gios SeDebugPrivilege e processos de alta integridade (Entendendo o Modo Protegido).  Ao definir o proxy HTTP, HTTP e HTTPS, o tr√°fego √© redirecionado do navegador do atacante atrav√©s de um navegador do usu√°rio.  Ao mesmo tempo, o tr√°fego do usu√°rio n√£o muda e a conex√£o proxy √© desconectada assim que o navegador √© fechado.  Isso permite ao advers√°rio, incluindo a visualiza√ß√£o de p√°ginas da web como um usu√°rio atacado. <br><br>  Normalmente, para cada nova guia, o navegador cria um novo processo com permiss√µes e certificados separados.  Usando essas permiss√µes, um advers√°rio pode acessar qualquer recurso na intranet que seja acess√≠vel por meio de um navegador com direitos existentes, como o Sharepoint ou o Webmail.  A rota√ß√£o do navegador tamb√©m elimina a prote√ß√£o de autentica√ß√£o de dois fatores. <br><br>  Recomenda√ß√µes de prote√ß√£o <i>:</i> Recomenda <i>-se que o</i> vetor de <i>prote√ß√£o</i> tenha como objetivo restringir as permiss√µes do usu√°rio, evitando a escalada de privil√©gios e ignorando o UAC.  Feche todas as sess√µes do navegador regularmente e quando n√£o forem mais necess√°rias.  A detec√ß√£o MitB √© extremamente dif√≠cil, pois  o tr√°fego inimigo √© disfar√ßado como tr√°fego normal do usu√°rio, nenhum novo processo √© criado, nenhum software adicional √© usado e a unidade local do host atacado n√£o √© afetada.  Os logs de autentica√ß√£o podem ser usados ‚Äã‚Äãpara auditar logins de usu√°rios em aplicativos Web espec√≠ficos, no entanto, pode ser dif√≠cil identificar atividades maliciosas entre eles, porque  atividade corresponder√° ao comportamento normal do usu√°rio. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Captura de tela</a> </h3><br>  Sistema: Windows, Linux, macOS <br>  Descri√ß√£o: durante a coleta de informa√ß√µes, os oponentes podem tentar capturar imagens da √°rea de trabalho.  A funcionalidade correspondente pode ser inclu√≠da nas ferramentas de acesso remoto usadas ap√≥s o comprometimento. <br><br>  Mac <br>  O OSX usa o comando screencapture interno para capturar capturas de tela. <br>  Linux <br>  No Linux, h√° um comando xwd. <br><br>  <i>Recomenda√ß√µes de prote√ß√£o:</i> Como m√©todo de detec√ß√£o, √© recomend√°vel monitorar processos que usam a API para capturar capturas de tela e gravar arquivos no disco.  No entanto, dependendo da legitimidade de tal comportamento em um sistema espec√≠fico, uma correla√ß√£o adicional dos dados que est√£o sendo coletados com outros eventos no sistema provavelmente ser√° necess√°ria para detectar atividades maliciosas. <br><br><h3>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Captura de V√≠deo</a> </h3><br>  <i>Sistema:</i> Windows, macOS <br>  <i>Descri√ß√£o: um</i> advers√°rio pode usar perif√©ricos de computador (por exemplo, c√¢meras e webcams integradas) ou aplicativos (por exemplo, servi√ßos de chamada de v√≠deo) para capturar v√≠deo ou imagem.  A captura de v√≠deo, diferentemente dos m√©todos de captura de tela, envolve o uso de dispositivos e aplicativos para gravar v√≠deo, em vez de capturar imagens da tela da v√≠tima.  Em vez de arquivos de v√≠deo, as imagens podem ser capturadas em determinados intervalos. <br>  Software ou scripts maliciosos podem ser usados ‚Äã‚Äãpara interagir com dispositivos por meio da API fornecida pelo sistema operacional ou aplicativo para capturar v√≠deo ou imagens.  Os arquivos coletados podem ser gravados no disco e posteriormente filtrados. <br><br>  V√°rios programas maliciosos diferentes s√£o conhecidos pelo macOS, por exemplo, Proton e FriutFly, que podem gravar v√≠deos da webcam do usu√°rio. <br><br>  <i>Dicas de seguran√ßa:</i> A oposi√ß√£o direta √† t√©cnica acima pode ser dif√≠cil porque requer controle detalhado da API.  Os esfor√ßos de prote√ß√£o devem ter como objetivo evitar c√≥digos indesejados ou desconhecidos no sistema. <br><br>  Identifique e bloqueie softwares potencialmente perigosos e mal-intencionados que podem ser usados ‚Äã‚Äãpara gravar sons usando o AppLocker e as Pol√≠ticas de restri√ß√£o de software. <br><br>  A detec√ß√£o de atividades maliciosas tamb√©m pode ser dif√≠cil devido a v√°rias APIs.  Dependendo de como o sistema sendo atacado, os dados de telemetria relacionados √† API podem ser in√∫teis ou, pelo contr√°rio, fornecer conte√∫do para outras atividades maliciosas que ocorrem no sistema.  Um indicador de atividade inimiga pode ser um processo desconhecido ou incomum de acessar a API associada a dispositivos ou software que interagem com um microfone, dispositivos de grava√ß√£o, programas de grava√ß√£o ou um processo que grava periodicamente arquivos no disco que cont√™m dados de √°udio. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt441896/">https://habr.com/ru/post/pt441896/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt441882/index.html">VMware NSX para o menor. Parte 3. Configurando o DHCP</a></li>
<li><a href="../pt441886/index.html">Nos √∫ltimos 12 anos, nunca mostrei um curr√≠culo</a></li>
<li><a href="../pt441888/index.html">SIP do megafone em casa</a></li>
<li><a href="../pt441890/index.html">Tudo o que voc√™ precisa saber sobre as extens√µes de aplicativos para iOS</a></li>
<li><a href="../pt441892/index.html">Criando um modelo de fluxo de dados para transmitir dados do Pub / Sub para o BigQuery com base no GCP usando o Apache Beam SDK e Python</a></li>
<li><a href="../pt441898/index.html">Sketch + Node.js: gerando √≠cones para muitas plataformas e marcas</a></li>
<li><a href="../pt441900/index.html">Satya Nadella falou sobre coopera√ß√£o com o Pent√°gono</a></li>
<li><a href="../pt441902/index.html">Como a tecnologia cria novas realidades</a></li>
<li><a href="../pt441904/index.html">Instalando uma Tela IPS no Thinkpad T430S</a></li>
<li><a href="../pt441906/index.html">Vamos implantar no Openshift</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>