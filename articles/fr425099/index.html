<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿ ğŸ˜Ÿ ğŸ˜‡ Ce que j'ai compris et quels problÃ¨mes j'ai rencontrÃ©s lors de la crÃ©ation d'un clone de Hacker News ğŸ— ğŸ„ ğŸï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D'un traducteur: Cet article est une traduction abrÃ©gÃ©e de la publication originale du dÃ©veloppeur Web Jesse Horne. Son travail et en mÃªme temps son h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ce que j'ai compris et quels problÃ¨mes j'ai rencontrÃ©s lors de la crÃ©ation d'un clone de Hacker News</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/425099/"><img src="https://habrastorage.org/getpro/habr/post_images/9d2/2a8/a7c/9d22a8a7c00b7d82fb381a39ec725b64.jpg"><br><br>  D'un traducteur: Cet article est une traduction abrÃ©gÃ©e de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">publication</a> originale <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">du</a> dÃ©veloppeur Web Jesse Horne.  Son travail et en mÃªme temps son hobby est le webdesign.  Jesse partage souvent ses meilleures pratiques et leÃ§ons apprises avec d'autres programmeurs, expÃ©rimentÃ©s et dÃ©butants. <br><br>  Il y a quelque temps, j'ai Ã©crit un article assez volumineux sur Hacker News, qui a reÃ§u un solide soutien des lecteurs.  J'ai attirÃ© l'attention sur les capacitÃ©s de cette ressource et j'ai dÃ©cidÃ© d'essayer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'en crÃ©er un clone</a> afin d'acquÃ©rir de nouvelles expÃ©riences et connaissances. <br><a name="habracut"></a><br><blockquote>  <b>Skillbox recommande:</b> Un cours de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dÃ©veloppeur PHP</a> pratique d'un an. <br>  <b>Nous vous rappelons:</b> <i>pour tous les lecteurs de Â«HabrÂ» - une remise de 10 000 roubles lors de l'inscription Ã  un cours Skillbox en utilisant le code promo Â«HabrÂ».</i> </blockquote><br>  Au dÃ©part, cela me semblait Ãªtre un grand objectif, oÃ¹ l'ensemble d'outils et de tactiques de travail Ã©tait prÃ©dÃ©terminÃ©.  Auparavant, j'ai travaillÃ© sur des tÃ¢ches plus petites en utilisant diffÃ©rents langages et cadres.  La seule chose qui n'existait pas Ã©tait un projet majeur qui permettrait de rassembler tout cela. <br><br>  J'ai dÃ©cidÃ© de travailler sur un nouveau projet Ã  partir de zÃ©ro en utilisant le langage Crystal.  Il s'agit d'un outil pratique, qui est Ã©galement nouveau.  C'est rapide, les principes de travail avec lui sont similaires Ã  Ruby.  Il est typÃ© statistiquement et est open source.  Mais juste une nouvelle langue ne suffit pas non plus, j'ai donc dÃ©cidÃ© de compliquer ma tÃ¢che, et de ne pas faire un clone de Hacker News, mais une version amÃ©liorÃ©e de cette ressource. <br><br>  Soit dit en passant, je pensais que la crÃ©ation d'un clone normal serait une tÃ¢che facile.  Et le fait que ce ne soit pas le cas, je m'en suis rendu compte un peu plus tard, en commenÃ§ant le travail. <br><br>  <b>Ne pas balayer trop haut</b> <br><br>  Je ne veux pas dire que vous ne devez pas vous fixer dâ€™objectifs ambitieux.  Essayez d'atteindre les Ã©toiles, avec ou sans Ã©pines.  RÃªver est utile, essayer de rÃ©aliser ce que je ne pouvais pas faire avant est nÃ©cessaire pour rÃ©ussir sur l'Ã©chelle professionnelle. <br><br>  J'ai dit que vous ne devriez pas essayer de vous <s>prÃ©cipiter</s> immÃ©diatement <s>dans l'embrasure d'</s> une tÃ¢che complexe et vaste.  Choisissez ce dont vous avez besoin Ã  un moment particulier pour mettre en Å“uvre l'idÃ©e.  De plus, je recommande de diviser les objectifs importants en objectifs plus petits.  Si vous avez trop de code dans lequel il y a beaucoup de Â«dÃ©chetsÂ», essayez de simplifier et de tout structurer. <br><br>  Je ne peux mÃªme pas mettre en mots Ã  quel point il est important de diviser une grande tÃ¢che en plusieurs plus petites. <br><br>  Dans mon cas, j'ai rencontrÃ© divers nouveaux problÃ¨mes que je n'avais pas rencontrÃ©s auparavant.  Tout d'abord, je n'ai travaillÃ© qu'une seule fois sur Crystal - lorsque je crÃ©ais une application dont la complexitÃ© n'Ã©tait pas beaucoup plus Ã©levÃ©e que la complexitÃ© d'un programme comme Â«Hello, world!Â».  Dans le passÃ©, j'utilisais Python, Lua, PHP.  La nouvelle langue a Ã©tÃ© le premier obstacle Ã  la mise en Å“uvre du projet. <br><br>  <b>Le second Ã©tait le cadre</b> .  Crystal, Ã©tant un nouveau langage, n'a toujours pas trop de frameworks et de documentation pour eux.  J'ai dÃ©cidÃ© d'utiliser Kemal pour mon clone.  J'espÃ©rais que le cadre est intuitif, car je l'ai rencontrÃ© dans mon travail.  Mais voici un autre cas - les choses individuelles n'Ã©taient pas faciles Ã  comprendre.  Par exemple, certaines sections du code semblaient tout Ã  fait normales, mais pour une raison quelconque, cela ne fonctionnait pas.  Et il Ã©tait difficile de trouver la cause du problÃ¨me sur Internet pour la mÃªme raison - la nouveautÃ© du langage et du cadre lui-mÃªme.  Dans certains cas, j'ai dÃ» m'arrÃªter longtemps et m'occuper de la cause du problÃ¨me.  Jusqu'Ã  prÃ©sent, je n'ai jamais regardÃ© la source, par exemple, le mÃªme flacon. <br><br>  <b>Le troisiÃ¨me obstacle</b> est les objectifs spÃ©cifiques que j'ai choisis pour le projet.  Afin de rendre mon clone plus utile, j'ai dÃ©cidÃ© d'ajouter un certain nombre de fonctionnalitÃ©s fonctionnelles.  J'ai travaillÃ© avec Hacker News plus tÃ´t, donc je connais beaucoup les avantages et les inconvÃ©nients de cette ressource.  Il m'est venu Ã  l'esprit qu'il serait bon de puiser dans les analyses fournies par GitHub.  En les utilisant, j'ai pu ajouter des statistiques sur le nombre de vues et l'activitÃ© des utilisateurs sur le site. <br><br>  J'ai donc dÃ©cidÃ© que mon clone devrait afficher au moins les vues et les clics pour chaque publication.  Une telle fonction serait probablement utile pour les utilisateurs, et sa mise en Å“uvre serait une bonne pratique pour moi.  Mais je ne pensais pas que Ã§a prendrait si longtemps!  Maintenant, le projet est plus une preuve de concept qu'une ressource toute faite.  En plus des vues et des clics, j'ai Ã©galement dÃ©cidÃ© d'ajouter un affichage des commentaires qui apparaissent afin qu'ils apparaissent en temps rÃ©el.  Sans cette tÃ¢che supplÃ©mentaire, le projet aurait Ã©tÃ© achevÃ© beaucoup plus rapidement. <br><br>  Maintenant, le projet prend en charge l'autorisation, la publication et le tri des messages, l'interaction avec d'autres utilisateurs en commentant et en affichant les profils, etc. <br><br>  <b>Le quatriÃ¨me problÃ¨me auquel</b> je suis confrontÃ© est le chaos.  Les migrations, les modÃ¨les, les vues, les contrÃ´leurs API, le code CSS et JavaScript s'accumulent trÃ¨s rapidement.  Et tout cela devient un gÃ¢chis.  J'ai essayÃ© de rÃ©soudre le problÃ¨me et j'ai presque rÃ©ussi.  Mais des endroits partiellement problÃ©matiques dans le code de mon projet se produisent toujours - vous pouvez facilement le remarquer.  Ainsi, dans de nombreux endroits, le code est rÃ©pÃ©tÃ©, les points de terminaison ne sont pas organisÃ©s, la dÃ©nomination est compliquÃ©e, ce qui entraÃ®ne une augmentation de la quantitÃ© de code et un grand nombre de requÃªtes vers la base de donnÃ©es.  Petit Ã  petit, je rÃ©sous ce problÃ¨me. <br><br>  <b>Dans de nombreux endroits, le code est rÃ©pÃ©tÃ©</b> <br><br>  Lorsque le projet a commencÃ©, j'ai rÃ©solu les problÃ¨mes tels qu'ils se prÃ©sentaient.  Par exemple, il Ã©tait nÃ©cessaire de vÃ©rifier si l'utilisateur Ã©tait authentifiÃ© - et j'ai trouvÃ© une solution originale qui prenait environ trois lignes selon l'itinÃ©raire.  J'Ã©tais pressÃ© de mettre en Å“uvre les solutions trouvÃ©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/faf/a2b/142/fafa2b142f94d3d413c25c8889938de6.jpg"><br><br>  En gÃ©nÃ©ral, j'ai dÃ» suivre les principes de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DRY</a> dÃ¨s le dÃ©but.  Ne vous rÃ©pÃ©tez pas!  J'avais besoin d'Ã©crire un programme intermÃ©diaire qui ferait ce qui Ã©tait nÃ©cessaire, puis d'appliquer simplement la solution trouvÃ©e dans les cas oÃ¹ elle Ã©tait requise.  Ã€ l'avenir, j'ajusterai mon projet en fonction de ce principe. <br><br>  <b>DÃ©signation et organisation des points de terminaison</b> <br><br>  J'avais l'habitude de dÃ©velopper l'API dans l'Ã©quipe Pioneer.  Nous avons utilisÃ© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">REST</a> , un style d'architecture que j'ai jurÃ© en tant que nouveau membre de l'Ã©quipe Pioneer.  Dans cette Ã©quipe, j'ai travaillÃ© sur les petits Ã©lÃ©ments d'une Ã©norme application.  Mais dans mon nouveau projet, j'ai dÃ» tout Ã©crire Ã  partir de zÃ©ro. <br><br>  Une Â«API RESTfulÂ» doit avoir une interface uniforme, comme le Wiki le dit.  Dans mon projet, j'ai tout organisÃ© pour que les points de terminaison soient dÃ©finis dans des fichiers sources, qui Ã©taient appelÃ©s en fonction de la fonction ou du but.  L'enregistrement et la sortie de l'application ont Ã©tÃ© enregistrÃ©s dans "auth.cr".  Le nom d'utilisateur a Ã©tÃ© enregistrÃ© dans "user.cr". <br><br>  Sans aucun doute, cette partie nÃ©cessite un traitement.  Ã€ l'avenir, je vais tout organiser pour que les actions se rapportent au point de terminaison "/ user", simplement parce que tout cela est liÃ© Ã  "User".  Par exemple, pour amÃ©liorer la structure du projet, je vais diviser le code en parties plus pratiques et gÃ©rables avec un grand nombre de fichiers.  Je vais crÃ©er le dossier Â«src / user / auth /Â», qui contiendra les fonctions de connexion, d'enregistrement et de sortie utilisateur de l'application. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/857/b21/861/857b21861b663781c60ea6ae8fb29845.png" alt="1_6dy_OCE7_Cjj_Df7_A0s_Aj_3i_Q"></a> <br><br>  <b>Trop de demandes</b> <br><br>  Dans ce projet, j'essaie de faire Ã©voluer mes idÃ©es.  Trop de requÃªtes sont actuellement effectuÃ©es dans la base de donnÃ©es.  Donc, si l'application comptait une centaine d'utilisateurs, je deviendrais fou en essayant de savoir combien de requÃªtes de base de donnÃ©es sont effectuÃ©es toutes les quelques secondes.  DÃ©sormais, le client met Ã  jour l'Ã©tat des messages toutes les 10 minutes.  De plus, la publication dÃ©termine cycliquement si elle a Ã©tÃ© consultÃ©e par l'utilisateur.  Lors de chaque vÃ©rification, une requÃªte est envoyÃ©e Ã  la base de donnÃ©es, qui est effectuÃ©e conformÃ©ment au filtre actuel.  Et tout cela charge considÃ©rablement le serveur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/270/faf/fe9/270faffe964e6f1e60721f8b9a6d4dc2.jpg"><br><br>  Tout ce qui est dÃ©crit ci-dessus n'est que des exemples de problÃ¨mes que je rencontre tout le temps.  Je ne peux pas les dÃ©crire en entier.  Cependant, je pense maintenant Ã  documenter mes problÃ¨mes et mes solutions.  J'espÃ¨re que tout cela aidera d'autres programmeurs Ã  voir et Ã  comprendre mes erreurs et Ã  Ã©viter les leurs.  Je sais que si j'utilise une combinaison de Redis et MySQL ou Postgres, je peux accÃ©lÃ©rer l'exÃ©cution des requÃªtes.  Mais pour l'instant, je m'attarderai lÃ -dessus. <br><br>  J'espÃ¨re que vous avez apprÃ©ciÃ© l'article et que vous avez pu apprendre quelque chose d'utile par vous-mÃªme. <br><br><blockquote>  <b>Skillbox recommande:</b> <br><br><ul><li>  Cours en ligne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Profession frontend-developer"</a> . </li><li>  Cours pÃ©dagogique en ligne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Profession d'un dÃ©veloppeur web"</a> . </li><li>  Cours pratique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Mobile Developer PRO"</a> . </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425099/">https://habr.com/ru/post/fr425099/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425087/index.html">Openspace Agility: PrÃ©sentation d'Agile dans toute l'entreprise (maintenant avec leadership!)</a></li>
<li><a href="../fr425089/index.html">L'informatique dans le monde animal: recherche d'aliments pour fourmis et TCP / IP</a></li>
<li><a href="../fr425091/index.html">Que se passe-t-il avec les cotes de popularitÃ© des langages de programmation?</a></li>
<li><a href="../fr425093/index.html">Solutions IoT pour le logement et les services communaux: quels seront les compteurs intelligents et qui devrait les entretenir?</a></li>
<li><a href="../fr425095/index.html">Webinaire ouvert "Jeu" 2048 "</a></li>
<li><a href="../fr425101/index.html">Docker + Laravel = â¤</a></li>
<li><a href="../fr425103/index.html">EmpÃªchez Google Predators de poursuivre vos enfants</a></li>
<li><a href="../fr425105/index.html">Intel ME Manufacturing Mode - une menace cachÃ©e ou ce qui se cache derriÃ¨re la vulnÃ©rabilitÃ© CVE-2018-4251 du MacBook</a></li>
<li><a href="../fr425107/index.html">Digest Fintech: problÃ¨mes de biomÃ©trie sur mobile, location de tÃ©lÃ©phones Samsung, titres sur la blockchain</a></li>
<li><a href="../fr425109/index.html">Le livre Â«Java dans le cloud. Spring Boot, Spring Cloud, Cloud Foundry Â»</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>