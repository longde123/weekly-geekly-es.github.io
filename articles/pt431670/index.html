<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÇüèª üéç üèÆ Suporte do Zen e da arte do c√≥digo puro üóØÔ∏è üì§ ü§î</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! 

 N√£o h√° fim em falar sobre c√≥digo limpo , mas o pr√≥ximo artigo de Dave Nicoletta √© muito metaf√≥rico e, espero, realmente digno de tradu√ß√£o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Suporte do Zen e da arte do c√≥digo puro</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/431670/"><img src="https://habrastorage.org/webt/dy/_b/ms/dy_bmsgytde0kk1i352o8d2d-o8.jpeg"><br><br>  Ol√° Habr! <br><br>  N√£o h√° fim em falar sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digo limpo</a> , mas o pr√≥ximo artigo de Dave Nicoletta √© muito metaf√≥rico e, espero, realmente digno de tradu√ß√£o.  Que seja um pouco "edificante", como o autor avisa os leitores com anteced√™ncia no artigo original. <br><br>  Boa leitura. <br><a name="habracut"></a><br>  Em casa, ao longo dos anos, um mau h√°bito se estabeleceu.  Usando qualquer ferramenta, esquecemos de coloc√°-la em seu lugar.  Na pr√≥xima vez que algu√©m precisou, eles tiveram que gastar mais tempo procurando uma ferramenta do que resolvendo um problema.  O mais triste √© que mesmo quem pegou o instrumento por √∫ltimo e o jogou em qualquer lugar estava condenado √†s mesmas buscas.  Frequentemente, era mais r√°pido comprar novos equipamentos do que procurar a ferramenta que possu√≠mos - sabemos com certeza!  - em algum lugar por a√≠. <br><br>  Portanto, temos quatro chaves de fenda Phillips de tamanho m√©dio da Philips, tr√™s com um slot chato, um monte de pin√ßas e chaves extras, conjuntos de adaptadores.  Sem mencionar a impressionante cole√ß√£o de canetas, novelos de fita, baterias e outras coisas boas espalhadas por toda parte. <br><br>  Uma vez que decidimos: basta!  Alocamos seu lugar para todas as coisas e colocamos as coisas em ordem com nosso invent√°rio.  Ferramentas entregues doadas √† caridade.  Fizemos todos os esfor√ßos para cultivar a autodisciplina e sempre colocamos as ferramentas apenas em seu lugar depois de trabalharmos com elas.  A qualidade e o volume de trabalho por unidade de tempo aumentaram bastante.  O estresse, o dinheiro desperdi√ßado e o humor estragado se tornaram muito menos. <br><br><h3>  Colocar ordem na garagem corporativa </h3><br>  E se os mec√¢nicos de autom√≥veis que trabalham em uma garagem corporativa largassem ferramentas em qualquer lugar?  Eles passavam mais tempo procurando ferramentas do que realmente trabalhando.  Os detalhes seriam colocados no lugar errado, perdidos, enferrujados, estragados, seriam simplesmente roubados.  Os custos de fornecimento aumentariam bastante. <br><br>  Levaria mais tempo para concluir as tarefas, mas a qualidade do trabalho diminuiria.  Quando um mec√¢nico precisa trabalhar com ferramentas enferrujadas, desgastadas e quebradas, √© dif√≠cil para ele encaixar e prender as pe√ßas adequadamente.  Al√©m disso, o h√°bito de arrumar uma bagun√ßa na oficina afetar√° inevitavelmente a qualidade do trabalho. <br><br>  Os clientes estar√£o fartos de transfer√™ncias intermin√°veis ‚Äã‚Äãde trabalhos finais.  Em breve eles ir√£o para oficinas mais confi√°veis.  De alguma forma, sem voc√™.  Talvez as analogias com o desenvolvimento e suporte de software j√° sejam √≥bvias. <br><br><h3>  Colocando ordem no desenvolvimento de software </h3><br>  Vejamos um exemplo espec√≠fico: refatora√ß√£o incremental. <br><br>  Essa express√£o √© intrigante para muitos.  N√£o sei qual palavra os confunde: "incremental" ou "refatora√ß√£o". <br><br>  A refatora√ß√£o incremental (gradual) √© fundamentalmente diferente da grande escala.  Parece para muitos que qualquer refatora√ß√£o √© necessariamente "em larga escala", que deve ser "autorizada" por algu√©m e, portanto, supostamente, o trabalho deve ser arrastado.  De fato, se negligenciar a refatora√ß√£o no decorrer do trabalho, tudo ser√° atrasado significativamente. <br><br>  A maioria dos treinadores t√©cnicos, inclusive eu, dificilmente explica a diferen√ßa neste caso;  n√£o porque essa diferen√ßa seja por defini√ß√£o complicada, mas porque √© realmente dif√≠cil formular em palavras.  No entanto, acho que o h√°bito de considerar cuidadosamente o estoque dispon√≠vel e monitorar o suprimento √© uma boa analogia nesse caso. <br><br><h3>  Refatora√ß√£o gradual </h3><br>  Fazer refatora√ß√£o gradual √© como manter a ordem em uma bancada de trabalho, mesmo no auge do trabalho.  Usou uma chave de fenda - coloque-a no lugar.  Antes de cada nova tarefa, n√£o reconstruiremos um workshop para isso.  O ponto, ao contr√°rio, √© a capacidade de terminar ... como terminar o que voc√™ come√ßou.  Despir as pontas. <br><br>  A refatora√ß√£o gradual n√£o leva muito tempo extra e n√£o requer a permiss√£o de algu√©m de cima.  Nesse caso, voc√™ precisa pedir permiss√£o para n√£o limpar o c√≥digo, se precisar se apressar.  A capacidade de manter constantemente o c√≥digo limpo deve de fato ser considerada a habilidade profissional b√°sica de um programador.  √â uma pena que hoje, o "c√≥digo limpo" precise de propaganda, e alguns programadores se op√µem a trazer tanta pureza.  A refatora√ß√£o gradual n√£o tem absolutamente nada com a refatora√ß√£o arquitet√¥nica em larga escala, o que realmente requer um planejamento cuidadoso, alocando tempo, dinheiro e pessoas para isso. <br><br><h3>  Regra de escoteiro </h3><br>  Na programa√ß√£o, existe a chamada "regra de reconhecimento": mantenha o c√≥digo pelo menos t√£o limpo quanto foi recebido.  O mesmo se aplica ao armazenamento de ferramentas de trabalho em casa.  Se estivermos procurando um alicate, mas observe que a chave de fenda acidentalmente entrou na cruz e a chave de fenda cruzou na fenda, n√≥s, no processo, colocamos no lugar.  N√£o precisamos de aprova√ß√£o oficial para fazer isso. <br><br>  √â assim que a refatora√ß√£o gradual funciona.  Antes de n√≥s existe um peda√ßo de c√≥digo, e precisamos adicionar uma nova condi√ß√£o √† lista de constru√ß√µes dispon√≠veis.  Percebemos que a lista √© implementada como um grande bloco if / else.  Decidimos que ele precisa ser reprojetado como um comutador ou um operador de sele√ß√£o, enquanto adiciona uma condi√ß√£o.  Pode-se argumentar: isso √© realmente muito melhor do que o bloco if / else?  Sim, voc√™ est√° certo: n√£o muito.  Mas um pouco melhor.  Quando algu√©m ler este c√≥digo depois de voc√™, ele poder√° refin√°-lo ainda melhor, pois voc√™ melhorou sua posi√ß√£o inicial.  Se voc√™ j√° fez algo assim antes, provavelmente percebeu que, lendo cuidadosamente todas as condi√ß√µes, √†s vezes encontrava constru√ß√µes duplicadas, e ent√£o a ordem n√£o ideal de express√µes;  talvez voc√™ tenha encontrado alguma condi√ß√£o que nunca pode ser cumprida, ou mesmo um ‚Äúburaco‚Äù l√≥gico pelo qual toda a sequ√™ncia de controle cair√° no bloco if / else, e alguns casos n√£o ser√£o processados.  Apenas regozije-se que voc√™ o descobriu agora, e n√£o tarde da noite, ao receber um ticket correspondente do servi√ßo de suporte t√©cnico.  Nesse momento em que os olhos se unem, n√£o h√° absolutamente nenhum desejo de entender o c√≥digo confuso. <br><br>  Talvez adicionaremos alguma nova funcionalidade ao aplicativo e notamos que a fun√ß√£o / m√©todo que escrevemos √© muito semelhante a outra (outra) que j√° temos na base de c√≥digo.  Depois de passar apenas alguns segundos, vamos nos livrar dessa duplica√ß√£o, mesmo sem as ferramentas adicionais oferecidas em nossos servi√ßos nos IDEs chiques.  Voc√™ pode refatorar sem hesitar, pois nos acostumamos √† autodisciplina e garantimos que os microtestes (testes de unidade) que cobrem este caso j√° foram escritos.  Ent√£o a refatora√ß√£o manual n√£o √© terr√≠vel.  No final, invente pelo menos uma raz√£o para n√£o? <br><br><h3>  ‚ÄúLongo prazo‚Äù geralmente n√£o √© t√£o longo quanto parece </h3><br>  Frequentemente, ou√ßo de pessoas diferentes que a refatora√ß√£o traz benef√≠cios de "longo prazo".  Embora, em teoria, seja aqui, no mundo real, voc√™ precise constantemente entregar o trabalho em termos estritos.  No entanto, se falarmos sobre manter a pureza do c√≥digo por meio de uma pequena refatora√ß√£o gradual, o "longo prazo" dura exatamente at√© o momento em que algu√©m toca na base de c√≥digo.  Exatamente at√© a pr√≥xima. <br><br>  A m√° not√≠cia √© que o oposto √© verdadeiro.  Se voc√™ n√£o limpar o c√≥digo enquanto trabalha, ele se deteriora rapidamente.  N√£o temos um "airbag" de dez anos que nos permita acumular impunidade at√© que os problemas comecem.  A pr√≥xima mudan√ßa que precisar√° ser feita levar√° um tempo inaceitavelmente longo, o risco de regress√£o do c√≥digo aumentar√° e a situa√ß√£o sem a devida aten√ß√£o apenas piorar√°. <br><br>  Se estivermos hackeando apenas para satisfazer o desejo do cliente (e ele desejar o produto acabado mais rapidamente), como continuaremos atendendo a essas solicita√ß√µes depois de garantir que nenhuma altera√ß√£o r√°pida seja feita mais, desde que trouxemos o c√≥digo ao estado confus√£o, e √© imposs√≠vel mant√™-lo? <br><br><h3>  O que √© r√°pido, o que √© lento? </h3><br>  Os clientes sempre querem que voc√™ trabalhe mais, independentemente da velocidade da sua organiza√ß√£o.  A maneira mais eficaz de reduzir o tempo de lan√ßamento √© fazer tudo certo;  fazer bem;  Limpe constantemente as extremidades, sempre, sem exce√ß√£o.  Cortando os cantos para ‚Äúacelerar‚Äù, na pr√°tica, apenas diminu√≠mos a velocidade, e n√£o na ef√™mera ‚Äúperspectiva de longo prazo‚Äù, mas aqui e agora. <br><br>  Quando o cliente exige que voc√™ trabalhe mais r√°pido, isso n√£o significa que ele permite que voc√™ trabalhe sem cuidado.  Naturalmente, parece √≥bvio para ele que, ap√≥s cada solicita√ß√£o, n√£o deve nos lembrar que ele est√° interessado em alta qualidade.  A alta qualidade est√° impl√≠cita como um dos componentes do nosso trabalho. <br><br>  Como engenheiros, n√≥s mesmos escolhemos considerar a refatora√ß√£o gradual como o elemento b√°sico de nossa atividade profissional.  N√£o perguntamos se podemos trabalhar como deveria, assim como o cirurgi√£o n√£o pergunta ao contador se ele tem tempo para lavar as m√£os antes da opera√ß√£o.  O tempo gasto na opera√ß√£o √© exatamente o tempo necess√°rio para que a opera√ß√£o seja bem-sucedida.  O paciente precisa ser cuidadosamente removido do ap√™ndice e, ap√≥s a alta, a pessoa pode retornar √† vida normal - sem infec√ß√£o da ferida e sem tamp√£o no abd√¥men.  Isso s√≥ piorar√° se uma pessoa for retirada da sala de cirurgia dez minutos antes do necess√°rio e, em seguida, as complica√ß√µes come√ßarem. <br><br>  Freq√ºentemente, nesse caso, eles defendem que, se "tudo √© feito de acordo com a ci√™ncia", acaba sendo "muito longo".  De fato, ‚Äúmuito tempo‚Äù √© o tempo que leva para corrigir as consequ√™ncias se o trabalho foi feito √†s pressas e sem o profissionalismo adequado.  A recupera√ß√£o da infec√ß√£o √© um choque real para o paciente e sua fam√≠lia; isso inevitavelmente afetar√° seu trabalho.  Uma segunda opera√ß√£o, na qual um tamp√£o esquecido deve ser cortado do abd√¥men, √© uma interven√ß√£o muito mais s√©ria, e ser√° necess√°ria apenas porque a pessoa foi operada com pressa pela primeira vez. <br><br>  Ao programar, se voc√™ precisar fazer cinco regress√µes do c√≥digo devido ao fato de algu√©m ter escrito com pressa, n√£o √© poss√≠vel falar em "economia de tempo".  Pelo contr√°rio, as altera√ß√µes s√£o feitas por mais tempo.  O trabalho n√£o √© "conclu√≠do" at√© que seja feito corretamente.  Se a equipe tiver que gastar horas e dias corrigindo erros ap√≥s a "prepara√ß√£o para o rascunho", isso significa tempo perdido que poderia ser gasto em outro trabalho √∫til.  Este √© um lucro perdido. <br><br>  Tais erros causam consequ√™ncias semelhantes √†s ondas e levam a perdas de tempo e dinheiro a longo prazo e, √†s vezes, √† perda de clientes.  Um estresse adicional recai sobre os ombros dos pr√≥prios engenheiros;  moral baixa, alta rotatividade de pessoal.  Por isso, um parafuso cada vez mais dif√≠cil e uma diminui√ß√£o ainda maior da moralidade e do envolvimento no trabalho. <br><br><h3>  D√≠vida t√©cnica como met√°fora </h3><br>  Sempre que voc√™ se voltar para o tema da refatora√ß√£o gradual, algu√©m o lembrar√° definitivamente da d√≠vida t√©cnica.  Eles dir√£o: "Temos um prazo t√£o longo que √© necess√°rio apenas cortar custos".  Acrescentar√£o que, nesse caso, a equipe acumula conscientemente d√≠vidas t√©cnicas, guiadas pelas necessidades do neg√≥cio. <br><br>  Aqueles que dizem isso n√£o entendem essa met√°fora, e talvez nenhuma met√°fora. <br><br>  A met√°fora n√£o pretende ser uma descri√ß√£o completa e abrangente da coisa que est√° sendo caracterizada. <br>  Uma met√°fora ajuda em geral a esbo√ßar uma impress√£o de um aspecto dessa coisa. <br>  As pessoas tendem a substituir uma coisa por sua met√°fora e depois operam com uma met√°fora como se ela e <br>  o descrito √© uma e a mesma coisa.  N√£o, isso n√£o √© a mesma coisa.  O ponto. <br><br>  Al√©m disso, √© comum as pessoas interpretarem amplamente uma met√°fora al√©m do seu contexto original.  Assim, o significado da met√°fora √© obscurecido e se torna cada vez menos √∫til. <br>  Ward Cunningham prop√¥s uma met√°fora para a d√≠vida t√©cnica, descrevendo as intera√ß√µes com os clientes no setor financeiro.  Ele procurou uma met√°fora adequada para esse contexto espec√≠fico, para enfatizar como a realiza√ß√£o gradual de oportunidades ajuda a criar um ciclo de feedback durante o qual o programa √© constantemente otimizado.  Ele n√£o quis dizer "cortar custos para criar a ilus√£o de desenvolvimento r√°pido". <br><br>  O conceito original da met√°fora da d√≠vida t√©cnica implicava que o c√≥digo era necessariamente mantido limpo.  As pessoas que entendem o problema deixado no c√≥digo avan√ßam passo a passo em dire√ß√£o √† sua solu√ß√£o, e o c√≥digo sempre ser√° preciso o suficiente para que tais melhorias graduais possam ser feitas.  N√£o √© uma quest√£o de que algumas raz√µes t√©cnicas possam justificar por que o c√≥digo √© indesej√°vel e requer corre√ß√µes constantes. <br><br>  Cortar os cantos para entregar rapidamente o trabalho n√£o √© um ac√∫mulo de d√≠vida t√©cnica.  Este √© um truque comum. <br><br><h3>  Quem √© respons√°vel? </h3><br>  Para obter uma entrega r√°pida, voc√™ precisa se livrar dos problemas ao trabalhar.  Um desses problemas √© o c√≥digo n√£o solicitado.  Voc√™ pode se livrar desse obst√°culo passo a passo aprendendo a trabalhar a autodisciplina.  Nesse caso, n√£o importa como voc√™ trabalha - de acordo com o modelo "cascata" ou com o "aggail".  N√≥s mesmos escolhemos como trabalhar sempre que tocamos no teclado. <br><br>  Eu resumo.  Se voc√™ trabalhar corretamente, incluindo a limpeza das extremidades, beneficiar√° apenas o cliente, patrocinadores, gerentes, aqueles que apoiar√£o nosso c√≥digo no futuro e, √© claro, para n√≥s mesmos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt431670/">https://habr.com/ru/post/pt431670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt431656/index.html">CraSSh: quebrando todos os navegadores modernos com c√°lculos de CSS</a></li>
<li><a href="../pt431660/index.html">Recursos do jogo usando o ECS: adicione kit de primeiros socorros ao atirador</a></li>
<li><a href="../pt431664/index.html">Antena phase center (FCA) e sua pesquisa no Ansys HFSS</a></li>
<li><a href="../pt431666/index.html">Intelig√™ncia artificial. Propriedade intelectual. Perigo</a></li>
<li><a href="../pt431668/index.html">Novidades do GoLand 2018.3</a></li>
<li><a href="../pt431674/index.html">Nanoleaf Canvas: Logo em todas as paredes</a></li>
<li><a href="../pt431676/index.html">Rob√¥ de tato: pode ouvir e n√£o interrompe</a></li>
<li><a href="../pt431678/index.html">H√° um desenvolvedor m√≥vel na floresta, v√™ - Kotlin est√° pegando fogo. Ele se sentou em Kotlin e queimou</a></li>
<li><a href="../pt431682/index.html">Marriott vazou dados pessoais de 500 milh√µes de clientes</a></li>
<li><a href="../pt431686/index.html">Exceto IoT: Miranet botnet lan√ßou ataque a m√°quinas Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>