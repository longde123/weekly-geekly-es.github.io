<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÇüèø üîè üë©üèª‚Äçüíª Degrada√ß√£o graciosa. Relat√≥rio Yandex.Taxi üö£üèø üë©üèΩ‚Äçüåæ üí∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os servi√ßos devem ser escritos para que a funcionalidade m√≠nima seja sempre mantida - mesmo que componentes cr√≠ticos falhem. Ilya Sidorov, chefe de um...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Degrada√ß√£o graciosa. Relat√≥rio Yandex.Taxi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/438606/">  Os servi√ßos devem ser escritos para que a funcionalidade m√≠nima seja sempre mantida - mesmo que componentes cr√≠ticos falhem.  Ilya Sidorov, chefe de uma das equipes de desenvolvimento de produtos do back-end Yandex.Taxi, explicou em seu relat√≥rio como deixamos o usu√°rio pedir um carro quando certas partes do sistema n√£o funcionam e por que l√≥gica ativamos as vers√µes simplificadas do servi√ßo. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/AGg6jQ8c7a8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  √â importante escrever n√£o apenas servi√ßos que funcionem bem, mas tamb√©m servi√ßos que funcionem bem. </blockquote><a name="habracut"></a><br>  "Estou muito feliz em ver todos voc√™s."  Hoje vou falar sobre degrada√ß√£o graciosa.  Se voc√™ procur√°-lo no Yandex, provavelmente aprender√° como fazer seu site funcionar sem JS.  Vou lhe contar um pouco sobre outra coisa.  Sobre degrada√ß√£o graciosa em rela√ß√£o ao back-end. <br><br><img src="https://habrastorage.org/webt/iq/jt/d_/iqjtd_bdklo3pamg3m24l8vuroi.jpeg"><br><br>  Vamos come√ßar com a defini√ß√£o.  Como √© na realidade? <br><br><img src="https://habrastorage.org/webt/_p/xv/ze/_pxvzecaz6chduqig03o3xcxnsq.jpeg"><br><br>  √â aqui que nosso aplicativo Yandex.Taxi √© apresentado caso um dos servi√ßos n√£o funcione - o servi√ßo para escolher o destino para onde o motorista o levar√°.  Como voc√™ pode ver, nesta tela n√£o h√° um bot√£o grande "Pedir um t√°xi", o que significa que o usu√°rio n√£o poder√° usar o servi√ßo.  Mas voc√™ pode tentar degradar e permitir que o usu√°rio n√£o escolha o ponto B. <br><br>  Ent√£o ele n√£o conseguir√° descobrir o pre√ßo exato da viagem, n√£o poderemos construir uma rota, mas o usu√°rio ter√° um bot√£o "Solicitar um t√°xi" e poder√° usar nosso servi√ßo.  A principal fun√ß√£o do nosso aplicativo estar√° dispon√≠vel.  √â sobre isso que quero falar hoje.  Sobre como degradar corretamente e o que pode ser feito com um servi√ßo que foi quebrado. <br><br>  Plano de desempenho.  Vou lhe dizer como degradar o que fazer com o servi√ßo.  Voc√™ pode desativ√°-lo e tamb√©m usar um comportamento diferente.  Depois, mostrarei como entender quando √© hora de desligar nosso servi√ßo.  E no final, falarei sobre algumas nuances que tivemos que enfrentar ao criar um sistema de degrada√ß√£o autom√°tica para o Yandex.Taxi. <br><br>  O que pode ser feito com um servi√ßo que est√° quebrado?  Voc√™ pode desativar a funcionalidade.  Se o servi√ßo de previs√£o de destinos individuais n√£o funcionar, desative esse servi√ßo.  Se o bate-papo entre o motorista e o passageiro n√£o funcionar, voc√™ o desligar√°.  Se voc√™ n√£o pode pedir um carro, desativa o bot√£o "Encomendar um carro". Ah, n√£o, isso n√£o funciona.  Nem todas as funcionalidades podem ser desativadas.  E se voc√™ n√£o pode desativar algo, precisa usar uma abordagem diferente.  Por exemplo, voc√™ pode tentar criar um layout ou funcionalidade simplificada.  Chamamos um comportamento t√£o simplificado em Yandex de ab√≥bora - dizemos que o servi√ßo se transformou em ab√≥bora. <br><br>  Vamos considerar essas solu√ß√µes em mais detalhes. <br><br><img src="https://habrastorage.org/webt/kx/ax/6y/kxax6y_rsi3jmftoafoauxjbh1s.jpeg"><br><br>  Como desativar servi√ßos?  Voc√™ provavelmente pode fazer a arquitetura certa.  Suponha que tenhamos um servi√ßo monol√≠tico.  Se uma de suas partes falhar, o servi√ßo inteiro ser√° interrompido.  Mas se dividirmos o servi√ßo em partes para que os clientes usem servi√ßos diferentes para diferentes solicita√ß√µes, ele se tornar√° muito melhor. <br><br>  Como isso funcionar√° em um exemplo?  Existe um servi√ßo Yandex.Taxi, no qual existem duas fun√ß√µes principais: pedir um t√°xi e conversar com o motorista.  Desde que tenhamos um back-end monol√≠tico, se o bate-papo com o motorista falhar, a funcionalidade b√°sica de pedir um t√°xi ser√° afetada. <br><br><img src="https://habrastorage.org/webt/mj/_x/i0/mj_xi0omqlaxn2ex1enlh-oiapi.jpeg"><br><br><img src="https://habrastorage.org/webt/mr/ca/ru/mrcaruv0giuwducafpjjdzoih_g.jpeg"><br><br>  O que voc√™ pode tentar fazer?  Divida o servi√ßo monol√≠tico em duas partes.  Uma parte ser√° respons√°vel por pedir um t√°xi e a outra - pela comunica√ß√£o com o motorista. <br><br>  Agora tudo parece muito melhor.  Se o bate-papo com o motorista for interrompido, todo o resto continuar√° funcionando corretamente. <br><br><img src="https://habrastorage.org/webt/hl/5q/oc/hl5qocwpwgfjq9kfoz8ytpp026c.jpeg"><br><br>  Como voc√™ pode ver, o cliente usa APIs diferentes, solicita√ß√µes diferentes para fazer um pedido e se comunicar com o driver. <br><br>  Mas, de fato, parece que agora tudo n√£o est√° t√£o bem, porque h√° uma conex√£o esp√∫ria entre o servi√ßo de bate-papo e o servi√ßo de pedidos.  E pode acontecer que o servi√ßo de pedidos use um servi√ßo de bate-papo ocioso.  Nesse caso, a funcionalidade principal n√£o funcionar√°. <br><br><img src="https://habrastorage.org/webt/qb/qo/sm/qbqosmna7oy3tpgm1furclwvhve.jpeg"><br><br>  E, neste caso, tudo est√° muito melhor.  A comunica√ß√£o falsa desapareceu e agora nossos servi√ßos s√£o verdadeiramente independentes um do outro.  Portanto, se o servi√ßo de bate-papo falhar, voc√™ ainda pode pegar um t√°xi. <br><br>  A conclus√£o √© a seguinte: se voc√™ deseja degradar usando a separa√ß√£o de servi√ßos, √© muito importante tornar os servi√ßos independentes um do outro.  Isso significa que eles devem ter diferentes pontos de entrada, diferentes pontos de extremidade.  Eles devem ter tempos de execu√ß√£o diferentes.  E, √© claro, eles devem usar bancos de dados diferentes.  Caso contr√°rio, um servi√ßo quebrado pode interromper todos os outros servi√ßos ao longo da cadeia. <br><br><img src="https://habrastorage.org/webt/dv/5g/6w/dv5g6wvfqd4bslnt_gtuq98fp0c.jpeg"><br><br>  Bem, descobrimos como desativar a funcionalidade.  Vamos agora ver como fazer a funcionalidade padr√£o, como fazer ab√≥bora.  Nesta tela, nosso servi√ßo de previs√£o de destinos.  O servi√ßo usa IA inteligente para prever o usu√°rio os melhores destinos para ele no momento.  E se a IA estiver cansada, usamos o comportamento padr√£o e oferecemos ao usu√°rio que saia de Moscou. <br><br>  Vamos ver como isso funciona na pr√°tica. <br><br><img src="https://habrastorage.org/webt/rl/mn/ns/rlmnnsuc1yuabspgykb7gbp66g0.jpeg"><br><br>  Temos um cliente, ele entra em contato com o servi√ßo de destino e recebe um erro. <br><br><img src="https://habrastorage.org/webt/n2/xz/ss/n2xzsswp3s3f3hqyli4itiwalrg.jpeg"><br><br>  Agora duas situa√ß√µes s√£o poss√≠veis.  A primeira situa√ß√£o, se a falha foi √∫nica, √© apenas uma solicita√ß√£o com falha.  Nesse caso, apenas cometemos um erro no cliente, ele far√° uma solicita√ß√£o novamente e obter√° seus destinos favoritos. <br><br>  Mas se a falha for grande, ligamos a ab√≥bora e o usu√°rio obt√©m o comportamento padr√£o. <br><br><img src="https://habrastorage.org/webt/aa/cc/wg/aaccwgxqymnx_tv_bx7wecp280a.jpeg"><br><br>  Mas esse comportamento de pele dura √© muito mais f√°cil de implementar, e essa ab√≥bora √© muito confi√°vel, por isso nos permite trabalhar mesmo quando a IA falha.  Se soubermos que os usu√°rios frequentemente viajam para os aeroportos, n√£o perceberemos uma deteriora√ß√£o significativa na vida dos usu√°rios. <br><br><img src="https://habrastorage.org/webt/8b/ba/ub/8bbaubspczecbmr19soymzichkw.jpeg"><br><br>  Mesmo que o modo de degrada√ß√£o esteja ativado, a ab√≥bora est√° ligada, mas o usu√°rio entra em contato com o servi√ßo e recebe uma resposta bem-sucedida, ent√£o usamos essa resposta, n√£o a ab√≥bora.  E esse comportamento - quando, no caso de uma resposta, a usamos, e no caso de um erro, usamos uma ab√≥bora - chamamos o modo fallback. <br><br><img src="https://habrastorage.org/webt/xh/be/d_/xhbed_whpaswh3kcm266bb3nvgu.jpeg"><br><br>  Sem erro - uma resposta bem-sucedida.  H√° um erro - uma ab√≥bora.  Dizemos que o fallback foi ativado. <br><br>  Eu resolvi o que pode ser feito com um servi√ßo que foi quebrado.  Voc√™ pode deslig√°-lo ou ligar a ab√≥bora.  Vamos agora passar para a segunda parte e ver como diagnosticar. <br><br>  Temos duas grandes perguntas que precisam ser respondidas.  A primeira √© quando voc√™ precisa desligar o servi√ßo e ligar a ab√≥bora.  A segunda √© quando voc√™ precisa desligar a ab√≥bora e ligar novamente o servi√ßo.  Antes de podermos responder a essas perguntas, precisamos esclarecer um ponto. <br><br><img src="https://habrastorage.org/webt/oa/v-/aj/oav-ajs4vulerqj0l-kejssr3os.jpeg"><br><br>  Em qualquer sistema complexo que interaja com um grande n√∫mero de agentes, sempre h√° algum hist√≥rico de erros.  Neste slide, vemos uma programa√ß√£o real de chamadas para um de nossos servi√ßos.  V√°rios milhares de RPS chegam a ele, temos um pouco menos de 1% de erros.  Aqui est√° a escala logar√≠tmica. <br><br>  Erros podem ser causados ‚Äã‚Äãpor v√°rias coisas.  Talvez seja algum tipo de processo interno, atualizando algum tipo de banco de dados ou apenas processos em segundo plano.  Talvez os clientes atendam √†s solicita√ß√µes erradas, mas o fato permanece: sempre teremos um hist√≥rico de erros.  Vamos pegar e seguir em frente. <br><br><img src="https://habrastorage.org/webt/zt/5x/af/zt5xafqrsvrpgh7btzw3wquwhz0.jpeg"><br><br>  Ent√£o, usamos a solu√ß√£o com base em estat√≠sticas.  Temos um banco de dados especial no qual salvamos estat√≠sticas, salvamos o n√∫mero de consultas bem-sucedidas, o n√∫mero de consultas com erros e as consultas para as quais o fallback foi inclu√≠do.  Tomamos e acumulamos estat√≠sticas de nosso servi√ßo por um per√≠odo de tempo com uma janela deslizante.  Quando a propor√ß√£o de solicita√ß√µes com erros nessa janela deslizante excede um determinado limite, ativamos o fallback.  E quando o n√∫mero de erros se torna menor que o limite, n√≥s o desativamos. <br><br>  Preste aten√ß√£o nas √°reas selecionadas.  √Äs 19:01, os primeiros erros come√ßaram a aparecer, mas at√© agora a participa√ß√£o deles √© muito pequena e, at√© 19:02, n√£o inclu√≠mos fallback.  √Äs 19:02, o limite foi excedido, ativamos o fallback.  √Äs 19:08, o processo inverso: os erros foram encerrados, mas por algum tempo o fallback foi ativado, porque o limite ainda √© excedido em nossa janela deslizante.  √Äs 19:09, desativamos o fallback. <br><br>  N√≥s descobrimos quando desligar o servi√ßo.  √â necess√°rio responder √† segunda pergunta: quando ativ√°-la.  √â simples: usamos a mesma solu√ß√£o com base em estat√≠sticas. <br><br><img src="https://habrastorage.org/webt/cf/6i/_g/cf6i_gshfqjz-f-_ozsm-5dschc.jpeg"><br><br>  √â importante n√£o removermos a carga do servi√ßo, mesmo se ativarmos o modo de degrada√ß√£o.  √â isso que nos permite continuar recebendo estat√≠sticas, mesmo se mostrarmos uma ab√≥bora ao usu√°rio.  Assim, podemos determinar que os erros terminaram, o servi√ßo foi reparado.  Assim, voc√™ pode ativ√°-lo novamente. <br><br><img src="https://habrastorage.org/webt/_y/oy/40/_yoy405yondy4eeajs-w9izowsk.jpeg"><br><br>  Quando falamos de degrada√ß√£o, n√£o podemos dizer sobre monitoramento.  Um bom monitoramento √© metade do sucesso, a meio caminho do desligamento autom√°tico ou degrada√ß√£o autom√°tica.  √â importante entendermos que tipo de problemas acontecem com nosso servi√ßo, qual a natureza dos erros e com que frequ√™ncia eles ocorrem.  E talvez no primeiro est√°gio nem precisamos de um disjuntor.  Simplesmente, se a luz de monitoramento acender, podemos ligar e desligar o servi√ßo manualmente.  Quando a l√¢mpada de monitoramento se apaga, ligamos o servi√ßo. <br><br>  Se fizermos a degrada√ß√£o autom√°tica, uma troca autom√°tica, √© importante fazer o monitoramento do fallback em si.  Se o sistema de degrada√ß√£o funcionar bem o suficiente, os usu√°rios, de fato, poder√£o n√£o perceber que algo est√° quebrado em n√≥s.  N√≥s mesmos podemos, se n√£o houver monitoramento, n√£o not√°-lo.  √â importante monitorar o fallback, √© importante entender quando ele est√° ativado, quando est√° desativado, para que as estat√≠sticas estejam dispon√≠veis e possamos entender por quanto tempo a funcionalidade n√£o funciona, se nosso back-end fica pior ou melhor com o tempo, dependendo de quanto tempo achamos que o fallback . <br><br>  Tudo est√° com a parte principal. <br><br>  No final, gostaria de dizer algumas nuances que tivemos que enfrentar quando desenvolv√≠amos um sistema de degrada√ß√£o autom√°tica no Yandex.Taxi. <br><br><img src="https://habrastorage.org/webt/21/ur/00/21ur007sv9i3fawffu1c1capo4i.jpeg"><br><br>  A primeira coisa que voc√™ deve prestar aten√ß√£o √© a consist√™ncia.  Se voc√™ estiver degradando automaticamente um determinado servi√ßo, √© importante que o servi√ßo responda consistentemente a todos os seus clientes.  Se voc√™ tiver dois clientes que usam o servi√ßo, √© importante que as respostas para esses dois clientes em caso de degrada√ß√£o sejam consistentes.  E se voc√™ tiver um servi√ßo envolvido em algum processo demorado, precisar√° entender: talvez no in√≠cio e no final do processo o servi√ßo funcione corretamente e em algum lugar no meio do fallback esteja ativado. <br><br>  Parece complicado, mas vamos tentar explicar com um exemplo.  Talvez fique mais claro. <br><br><img src="https://habrastorage.org/webt/vb/mz/tu/vbmztuwstwtzxbm_-nz48jwi68m.jpeg"><br><br>  Aqui est√° o nosso bate-papo entre motorista e passageiro.  A maneira mais f√°cil de degrad√°-lo √© desativ√°-lo.  Vamos imaginar que o bate-papo para o motorista esteja interrompido.  O que vai acontecer?  O cliente gravar√° no bate-papo, mas o driver n√£o ver√° as mensagens.  Eles provavelmente ser√£o muito infelizes, jurar√£o nossa aplica√ß√£o quando se conhecerem.  Nesse caso, √© importante que o bate-papo seja ativado ao mesmo tempo ou desligado ao mesmo tempo para todos os participantes no bate-papo.  Isso √© o que chamo de consist√™ncia. <br><br><img src="https://habrastorage.org/webt/ib/si/wa/ibsiwas6avgxafxsndgmxm5e2pg.jpeg"><br><br>  A segunda nuance diz respeito ao fato de que nosso aplicativo Yandex.Taxi √© distribu√≠do geograficamente: os t√°xis podem ser encomendados em Moscou, Krasnoyarsk ou Helsinque.  Isso deve ser levado em considera√ß√£o mesmo no desenvolvimento de sistemas de degrada√ß√£o.  Imagine que temos muitas solicita√ß√µes bem-sucedidas e muito poucas solicita√ß√µes com erros.  Parece que esta √© uma situa√ß√£o normal, o fundo de erros est√° sempre presente.  Mas voc√™ pode olhar para a mesma imagem de maneira diferente. <br><br>  Voc√™ pode ver que o servi√ßo n√£o funciona no Mytishchi e √© necess√°rio ativar o fallback para esses usu√°rios.  A conclus√£o √©: voc√™ precisa criar as estat√≠sticas certas.  Para n√≥s, como um servi√ßo de distribui√ß√£o geogr√°fica, isso tamb√©m significa que precisamos criar estat√≠sticas por cidade.  Se fizermos as estat√≠sticas corretamente, veremos imediatamente que a maioria das solicita√ß√µes do Mytishchi s√£o interrompidas e ativamos o fallback especificamente para usu√°rios do Mytishchi.  E para todos os outros usu√°rios, continuaremos trabalhando no modo normal, porque para eles o servi√ßo funciona corretamente. <br><br><img src="https://habrastorage.org/webt/in/y1/3n/iny13ni3cyni0noprsmqqk3rnsk.jpeg"><br><br>  Talvez para outros servi√ßos haja condi√ß√µes diferentes e outras nuances. <br><br>  Nossos servi√ßos est√£o se tornando mais complexos.  Muitas vezes, eles dependem do mundo exterior, o que n√£o podemos prever.  Portanto, √© importante escrever n√£o apenas servi√ßos que funcionem bem, mas tamb√©m servi√ßos que funcionem bem.  Se voc√™ aprender algo novo, diga aos colegas, compartilhe.  Curta, compartilhe, republique.  Degrade corretamente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt438606/">https://habr.com/ru/post/pt438606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt438596/index.html">Salvando dados do usu√°rio ap√≥s o recarregamento da p√°gina</a></li>
<li><a href="../pt438598/index.html">React & BEM - colabora√ß√£o oficial. Parte hist√≥rica</a></li>
<li><a href="../pt438600/index.html">SciPy, entrada e sa√≠da em MATLAB</a></li>
<li><a href="../pt438602/index.html">Desmontamos o protocolo de mensagens de pager POCSAG, parte 1</a></li>
<li><a href="../pt438604/index.html">Bitrix em um monte de Nginx + PHP-FPM, configurando o CNC, bem como um cache composto com feedback atrav√©s do nginx. Configura√ß√£o modificada</a></li>
<li><a href="../pt438610/index.html">Templates Figma responsivos: Criando um componente de design flex√≠vel para navega√ß√£o m√≥vel iOS</a></li>
<li><a href="../pt438614/index.html">O que √© uma anima√ß√£o ociosa de qualidade? Os desenvolvedores compartilham seus exemplos favoritos.</a></li>
<li><a href="../pt438618/index.html">Fazendo um projetor a laser de texto DIY</a></li>
<li><a href="../pt438620/index.html">Meu caminho como desenvolvedor de jogos iniciante</a></li>
<li><a href="../pt438622/index.html">Bonsai: mecanismo wiki da fam√≠lia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>