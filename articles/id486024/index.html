<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍💼 🔭 👲🏽 Grafik yang sangat sederhana dalam R untuk sains dan jurnalisme 🌍 🚂 🥥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="R adalah alat yang sangat ampuh untuk bekerja dengan statistik: dari pra-pemrosesan hingga membangun model kompleksitas dan grafis yang sesuai. 


 Pe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Grafik yang sangat sederhana dalam R untuk sains dan jurnalisme</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486024/"><p>  R adalah alat yang sangat ampuh untuk bekerja dengan statistik: dari pra-pemrosesan hingga membangun model kompleksitas dan grafis yang sesuai. </p><br><p>  Permintaan Google sederhana akan menyediakan sejumlah besar literatur tentang bagaimana "menggunakan R dengan mudah dan cepat." Akan ada banyak buku dan banyak catatan tentang <a href="https://stackoverflow.com/questions/tagged/r">Stack Overflow</a> , yang, pada pandangan pertama, tampak seperti gudang contoh yang tak ada habisnya, masing-masing dalam dua hitungan akan mengumpulkan kode yang diperlukan untuk menyelesaikan masalah tertentu.  Namun, pada kenyataannya ini sama sekali tidak benar.  Ada sangat sedikit bahan yang akan memberi tahu, misalnya, bagaimana membangun jadwal sederhana "dari awal" dengan resep yang sudah jadi untuk memecahkan kesulitan yang akan timbul dalam proses penyelesaian masalah ini. </p><br><p>  Untuk mengatasi masalah praktis, diperlukan petunjuk langkah demi langkah spesifik, dan bukan deskripsi terperinci tentang kekuatan penuh dari suatu paket.  Selain itu, contoh pelatihan siap pakai ( <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D1%2580%25D0%25B8%25D1%2581%25D1%258B_%25D0%25A4%25D0%25B8%25D1%2588%25D0%25B5%25D1%2580%25D0%25B0">iris yang</a> sama) sering kali tidak banyak berguna, karena mereka segera melewati salah satu tahap terpenting dalam bekerja dengan statistik - pengumpulan awal dan pemrosesan data itu sendiri.  Tetapi justru untuk pekerjaan ini bahwa hampir sebagian besar dari semua waktu sering dibutuhkan!  Masalah terpisah adalah pembuatan jadwal yang sesuai dengan standar formal, dan lebih sering informal, dari lingkungan profesional tertentu. </p><br><p>  Rekan-rekan saya dan saya secara teratur perlu melakukan lebih banyak visualisasi statistik dan model berdasarkan pada mereka untuk mempublikasikan hasil ilmiah.  Karena studi ini menyangkut ekonomi, banyak dari karya ini mirip dengan jurnalisme profesional. </p><br><p>  Pada titik tertentu, menjadi jelas bahwa untuk kerja tim yang efektif diperlukan semacam pipa pemrosesan statistik yang lengkap.  Artikel ini lahir sebagai panduan pengantar untuk rekan kerja dan lembar contekan untuk menjalankan konveyor ini.  Tampaknya materi ini dapat bermanfaat bagi khalayak yang lebih luas. </p><a name="habracut"></a><br><h1 id="grafika-v-r-bez-boli-poshagovoe-rukovodstvo">  R Pain-Free Graphics: Panduan </h1><br><h2 id="bazovaya-nastroyka-r">  Pengaturan dasar R </h2><br><p>  Untuk bekerja, Anda memerlukan bundel standar: <a href="https://www.r-project.org/">R</a> + <a href="https://rstudio.com/products/rstudio/download/">RStudio</a> .  Mereka tersedia secara gratis untuk semua platform umum.  R diinstal terlebih dahulu, kemudian RStudio.  Biasanya tidak ada masalah. </p><br><p>  Sebelum bekerja, lebih baik untuk segera menyimpan skrip baru di suatu tempat di sistem file Anda dan segera menginstal direktori kerja R di folder tempat skrip disimpan (menu Sesi - Atur Direktori Kerja - Untuk Sumber Lokasi File).  Catatan terakhir penting, karena jika tidak, memulai skrip eksternal atau asli setelah me-reboot RStudio tidak akan terjadi.  Untuk beberapa alasan, RStudio tidak melakukan ini secara default, yang logis. </p><br><p>  Bahkan dalam paket dasar R ada alat visualisasi standar (fungsi <em>plot</em> ) yang memungkinkan Anda untuk membuat banyak jenis grafik, namun demikian, fitur-fitur ini jelas tidak cukup untuk ilustrasi yang lengkap dan sangat dapat disesuaikan. </p><br><p>  Pustaka yang paling banyak digunakan untuk grafik dalam R adalah paket <a href="https://ggplot2.tidyverse.org/">ggplot2</a> , yang juga akan kita gunakan. </p><br><p>  Perlu juga segera menginstal paket <em>readxl</em> (untuk membaca file .xls, .xlsx) dan <em>dplyr</em> (untuk bekerja dengan array), <em>skala</em> (untuk bekerja dengan skala data yang berbeda), <em>Kairo</em> (untuk menggambar grafik dari ggplot ke file).  Semua ini dapat dilakukan dengan satu perintah: </p><br><pre><code class="plaintext hljs">install.packages("ggplot2", "readxl", "scales", "dplyr", "Cairo")</code> </pre> <br><h2 id="sbor-i-podgotovka-dannyh">  Pengumpulan dan persiapan data </h2><br><p>  Hal yang paling mengejutkan adalah bahwa tahap ini dalam literatur apa pun, apakah itu buku teoritis yang serius tentang statistik teoretis terapan atau pedoman untuk paket statistik tertentu, dikhususkan untuk ruang dan waktu yang sangat kecil.  Namun demikian, menurut pengalaman penelitian independen dan manajemen siswa dan kolega junior, diketahui bahwa pada tahap ini bagian terbesar dari waktu dan upaya dapat jatuh, oleh karena itu sangat penting untuk menyelamatkan mereka bahkan ketika memecahkan masalah teknis murni. </p><br><p>  Ada dua pertanyaan di sini: </p><br><ol><li>  Bagaimana memilih format file yang benar? </li><li>  Apa cara terbaik untuk menyusun data? </li></ol><br><p>  Dengan format, dilema itu sederhana: CSV versus Microsoft Excel (tidak begitu penting, "baru" .xlsx .xls lama).  Banyak orang berpikir bahwa manfaat CSV dari kesederhanaan (pada kenyataannya, ini adalah file teks biasa di mana nilai kolom dipisahkan oleh koma atau titik koma) dan kecepatan.  Tapi saya memilih Excel karena dua alasan: pertama, dalam file ini Anda dapat menyimpan beberapa tabel secara bersamaan pada tab yang berbeda, dan kedua, yang lebih penting, Anda tidak perlu berpikir tentang memilih pemisah kolom yang tepat dan tempat desimal.  Untuk CSV, ini seringkali harus ditulis secara manual dalam kode R dan pastikan bahwa file data disimpan dengan pengaturan yang sama. </p><br><p>  Penataan data adalah masalah yang lebih kompleks, membutuhkan pemahaman dasar tentang bagaimana database harus diatur. <del>  Jika Anda tidak masuk ke teori database relasional tentang berbagai bentuk normal, maka </del>  Tabel data harus <em>berlebihan,</em> mis. Berisi kolom tambahan.  Ini diperlukan agar nanti dalam skrip di R Anda dapat secara fleksibel memilih informasi tertentu untuk diproses lebih lanjut.  Misalnya, jika kita ingin menggambarkan rangkaian waktu primitif, maka kita harus membuat kolom yang sesuai dengan semua karakteristik pengelompokan yang mungkin.  Misalnya, jika ini adalah serangkaian pengamatan tahunan populasi kota bersyarat Severovostochinsk, maka kita akan membutuhkan kolom berikut: <em>tahun</em> (tahun), <em>var</em> (nama indikator), <em>nilai</em> (nilai indikator). </p><br><div class="scrollable-table"><table><thead><tr><th>  tahun </th><th>  var </th><th>  nilai </th></tr></thead><tbody><tr><td>  1990 </td><td>  Ukuran populasi </td><td>  102 </td></tr><tr><td>  1991 </td><td>  Ukuran populasi </td><td>  103 </td></tr><tr><td>  1992 </td><td>  Ukuran populasi </td><td>  104 </td></tr></tbody></table></div><br><p>  Kami akan memberikan input data apa pun ke gaya penyajian informasi ini. </p><br><h2 id="primer">  Contoh </h2><br><p>  <strong>Tujuan:</strong> untuk membangun perbandingan dinamika volume panen di Rusia, Distrik Federal Siberia, dan Wilayah Krasnoyarsk pada 2009-2018. </p><br><p>  Memperoleh data untuk tugas ini cukup sederhana: cari saja indikator yang sesuai dalam <a href="https://fedstat.ru/indicator/37848">Sistem Informasi Antar Departemen dan Statistik Terpadu</a> .  Kehalusan datang berikutnya.  Anda dapat segera mengunduh data dalam format .xlsx dan kemudian menyusunnya secara manual seperti yang ditunjukkan di atas.  Untungnya, beberapa sumber informasi (misalnya, EMISS) memungkinkan Anda melakukan ini dengan kemampuan layanan itu sendiri, yang sangat menyederhanakan pekerjaan dan mengurangi waktu yang diperlukan untuk menyelesaikannya. </p><br><p>  Jadi, untuk EMISS sudah cukup untuk masuk ke mode "Pengaturan" (tombol yang sesuai di sudut kanan atas halaman data) dan memindahkan semua tanda, kecuali untuk "Periode" dari kolom "Kolom" ke kolom "Baris".  Ternyata meja itu hampir siap untuk pekerjaan kita di masa depan.  Selanjutnya, sudah di Excel (atau editor lain yang cocok), masuk akal untuk membawa struktur tabel ke bentuk yang mirip dengan yang disajikan di atas dan pastikan bahwa baris pertama hanya berisi nama variabel, dengan data dalam bahasa Latin (pada prinsipnya, R dapat bekerja dengan judul berbahasa Rusia) tapi ini merepotkan saat menulis kode).  Hasilnya adalah tabel seperti itu (sebuah fragmen diberikan dalam beberapa baris). </p><br><div class="scrollable-table"><table><thead><tr><th>  judul </th><th>  lokasi </th><th>  tahun </th><th>  nilai </th></tr></thead><tbody><tr><td>  Kayu yang dipanen </td><td>  Rusia secara keseluruhan </td><td>  2009 </td><td>  158868.3 </td></tr><tr><td>  Kayu yang dipanen </td><td>  Rusia secara keseluruhan </td><td>  2010 </td><td>  173633.7 </td></tr><tr><td>  Kayu yang dipanen </td><td>  FD Siberia </td><td>  2009 </td><td>  47161.58 </td></tr><tr><td>  Kayu yang dipanen </td><td>  Wilayah Krasnoyarsk </td><td>  2009 </td><td>  12111.48 </td></tr><tr><td>  Kayu yang dipanen </td><td>  Wilayah Krasnoyarsk </td><td>  2010 </td><td>  12078.6 </td></tr></tbody></table></div><br><p>  Sekarang Anda dapat memanggil <code>logging</code> sheet ini, menyimpan seluruh buku ke file <code>graphs.xlsx</code> dan pergi ke RStudio. </p><br><p>  Kami menghubungkan perpustakaan yang diperlukan. </p><br><pre> <code class="plaintext hljs">library(ggplot2) library(readxl) library(Cairo) library(scales) library(dplyr)</code> </pre> <br><p>  Jika jadwal sedang disiapkan untuk publikasi berbahasa Rusia, Anda harus mengkonfigurasi lokasi yang sesuai.  Opsi paling modern yang akan berfungsi dalam banyak kasus, tentu saja, pengkodean UTF-8: </p><br><pre> <code class="plaintext hljs">Sys.setlocale("LC_ALL", "ru_RU.UTF-8")</code> </pre> <br><p>  Jika sistemnya sudah tua (beberapa Windows atau Linux kuno), maka Anda harus terlebih dahulu memahami pengkodean apa yang digunakan secara default - ini bukan tugas yang sederhana, yang jauh dari tujuan artikel ini. </p><br><p>  Sekarang Anda perlu memuat data ke dalam R. </p><br><pre> <code class="plaintext hljs">df_logging &lt;- read_excel("graphs.xlsx", sheet ="logging")</code> </pre> <br><p>  Opsi <code>sheet</code> sini menetapkan nama lembar di dalam buku kerja Excel dari mana data akan dimuat. </p><br><p>  Kami menyusun versi paling sederhana dari jadwal yang diperlukan. </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value)) + geom_line(aes(linetype=location))</code> </pre> <br><img src="https://habrastorage.org/webt/us/fr/of/usfrof2gizhjlejcid_nvctyf6y.png"><br><p>  Pada prinsipnya, hampir "out of the box" ternyata menjadi jadwal yang sangat layak, yang cukup cocok untuk analisis awal dari proses yang diteliti, tetapi dari sudut pandang publikasi yang mungkin, masih membutuhkan penyempurnaan yang signifikan. </p><br><p>  Pertama, mari kita bawa gaya grafis ke gaya yang lebih akademis.  Paket <code>ggplot2</code> memiliki beberapa <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">tema</a> dasar yang sudah jadi.  Tema <code>theme_classic</code> dapat dikenali sebagai yang paling cocok untuk kasus kami.  Sebagai bagian dari konfigurasinya, Anda dapat segera mengatur ukuran dasar font dan headset-nya.  Preferensi pribadi saya milik sistem font modern <a href="http://rus.paratype.ru/pt-sans-pt-serif">PT Sans, PT Serif, PT Mono</a> .  Tapi, tentu saja, Anda bisa bertanya Times atau Helvetica yang lebih klasik.  Juga, publikasi di mana publikasi tersebut direncanakan dapat memiliki instruksi khusus dalam hal ini.  Titik dasar ditentukan secara empiris menjadi 12 pt. </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value)) + geom_line(aes(linetype=location)) + theme_classic(base_family = "PT Sans", base_size = 12)</code> </pre> <br><img src="https://habrastorage.org/webt/qi/iu/xo/qiiuxoipgdyjymilgxmuobd1eqm.png"><br><p>  Selanjutnya, pindahkan legenda dari bidang kanan grafik ke bawah (menggunakan instruksi <code>theme</code> ) dan pada saat yang sama memberikan nama yang bermakna pada sumbu (instruksi <code>labs</code> ).  Di sepanjang sumbu Y, kami menulis nama indikator dengan satuan pengukuran ("Volume penebangan, juta meter kubik"), dan menghapus label di sepanjang sumbu X sama sekali, karena jelas bahwa tahun ditandai di sana. </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value)) + geom_line(aes(linetype=location)) + theme_classic(base_family = "PT Sans", base_size = 12) + theme(legend.title = element_blank(), legend.position="bottom", legend.spacing.x = unit(0.5, "lines")) + labs(x = "", y = " , . . ", color="")</code> </pre> <br><img src="https://habrastorage.org/webt/ia/lb/ww/ialbww1uazrcpr094vbiivbkw84.png"><br><p>  Untuk membuat satuan ukuran lebih nyaman untuk persepsi, kita akan bergerak dari seribu meter kubik.  m hingga jutaan.  Untuk melakukan ini, cukup bagi nilai-nilai dengan 1000, yaitu, sesuaikan baris pertama dari kode kami sebagai berikut: </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value/1000))</code> </pre> <br><p>  Pada saat yang sama, Anda perlu mengubah unit dalam prasasti: </p><br><pre> <code class="plaintext hljs">labs(x = "", y = " ,  . ", color="")</code> </pre> <br><p>  Dan segera kami akan sedikit meningkatkan gaya gambar dengan menambahkan titik-titik untuk menunjukkan setiap nilai yang diamati, untuk itu kami akan menambahkan instruksi: </p><br><pre> <code class="plaintext hljs">geom_point(size=2)</code> </pre> <br><p>  Anda juga dapat secara eksplisit mengatur gaya garis itu sendiri.  Adalah logis untuk menjadikan indikator untuk Rusia garis yang solid, dan untuk Distrik Federal Siberia dan Wilayah Krasnoyarsk - versi intermiten yang berbeda: </p><br><pre> <code class="plaintext hljs">scale_linetype_manual(values=c("twodash", "solid", "dotted"))</code> </pre> <br><p>  Sekarang kode umum dan grafik terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value/1000)) + geom_line(aes(linetype=location)) + geom_point(size=1) + theme_classic(base_family = "PT Sans", base_size = 12) + theme(legend.title = element_blank(), legend.position="bottom", legend.spacing.x = unit(0.5, "lines")) + scale_linetype_manual(values=c("twodash", "solid", "dotted")) + labs(x = "", y = " ,  . ", color="")</code> </pre> <br><img src="https://habrastorage.org/webt/x_/0i/-q/x_0i-qbvghhild9wwm3jab5kpcc.png"><br><p>  Tetap menyelesaikan tugas yang lebih substantif - untuk meningkatkan konten informasi dari jadwal kami.  Sekarang dapat dilihat dari itu bahwa, secara umum, indikator untuk semua objek pengamatan telah tumbuh, apalagi, sejak sekitar 2014 itu lebih kuat dari sebelumnya.  Tetapi akan jauh lebih jelas jika kita menggambarkan langsung pada grafik juga nilai-nilai di tahun-tahun pertama dan terakhir dan, katakanlah, di puncak 2011.  Pernyataan <code>geom_text</code> baru akan membantu: </p><br><pre> <code class="plaintext hljs">geom_text(aes(label=format(value/1000, digits = 3, decimal.mark = ",")), data = subset(df_logging, year == 2009 | year == 2018 | year == 2011), check_overlap = TRUE, vjust=-0.8)</code> </pre> <br><p>  Pada pandangan pertama, itu terlihat agak rumit, dan saya harus mengatakan bahwa itu benar-benar tidak mudah untuk dirakit.  Saya akan mencoba menjelaskan apa yang terjadi di sini.  Dengan sendirinya, <code>geom_text</code> menambahkan label teks ke bagan.  Untuk instruksi ini, satu set data diperlukan.  Jika kami menentukan <code>df_logging</code> langsung di dalamnya, kami akan mendapatkan prasasti di atas setiap titik.  Ini dilakukan cukup sering, tetapi untuk rangkaian waktu yang cukup sederhana seperti kita, pendekatan ini hanya akan menciptakan suara visual yang tidak perlu tanpa memberi kita informasi baru tentang perilaku indikator yang diamati.  Oleh karena itu, kami hanya akan mengambil tahun-tahun yang penting untuk memahami dinamika indikator: 2009 (awal pengamatan), 2011 (puncak lokal), 2018 (akhir pengamatan).  Ini akan membantu bagian standar. </p><br><p>  Untuk tampilan angka yang benar sesuai dengan tradisi berbahasa Rusia, kita membutuhkan koma sebagai pemisah bilangan bulat dan desimal ( <code>decimal.mark</code> desimal), dan untuk memotong jumlah tempat desimal, instruksi digit.  Berbagai eksperimen dengannya, termasuk penggunaan fungsi <code>round</code> , mengarah pada fakta bahwa jika kita membutuhkan satu tempat desimal, kita perlu memberikan nilai <code>3</code> ke <code>digits</code> . </p><br><p>  Opsi <code>check_overlap</code> tidak diperlukan secara langsung di sini, tetapi dapat berguna dalam kasus lain: ini adalah kontrol otomatis label yang tumpang tindih.  Opsi vjust mengontrol penempatan label secara vertikal.  Nilai dipilih berdasarkan pertimbangan rasa. </p><br><img src="https://habrastorage.org/webt/fk/m2/fb/fkm2fbzy05xdbulnx1rs8mznimu.png"><br><p>  Sekarang jadwalnya benar-benar menarik untuk dipertimbangkan! </p><br><p>  Tetapi masalah yang tidak terduga ditemukan - nilai kanan atas "dipotong" oleh ukuran vertikal gambar.  Ada beberapa cara untuk mengatasi masalah ini.  Saya keluar dengan sedikit bentangan skala sumbu vertikal dengan batas atas eksplisit 250 juta meter kubik.  m: </p><br><pre> <code class="plaintext hljs">scale_y_continuous(limits = c(0,250))</code> </pre> <br><img src="https://habrastorage.org/webt/nm/sv/il/nmsvilg49qwuzhj3biqrhohepao.png"><br><p>  Selesai!  Jadi, kode akhir terlihat seperti ini: </p><br><pre> <code class="plaintext hljs">ggplot(data=df_logging, aes(x=year, y=value/1000)) + geom_line(aes(linetype=location)) + geom_point(size=1) + theme_classic(base_family = "PT Sans", base_size = 12) + theme(legend.title = element_blank(), legend.position="bottom", legend.spacing.x = unit(0.5, "lines")) + geom_text(aes(label=format(value/1000, digits = 3, decimal.mark = ",")), data = subset(df_logging, year == 2009 | year == 2018 | year == 2011), check_overlap = TRUE, vjust=-0.8) + geom_text(aes(label=format(value/1000, digits = 3, decimal.mark = ",")), data = subset(df_logging, year == 2009 | year == 2018 | year == 2011), check_overlap = TRUE, vjust=-0.8) + scale_linetype_manual(values=c("twodash", "solid", "dotted")) + scale_y_continuous(limits = c(0,250)) + labs(x = "", y = " ,  . ", color="")</code> </pre> <br><blockquote>  Gambar yang dihasilkan dimasukkan dalam monograf: Modernisasi struktural sebagai faktor dalam meningkatkan daya saing daerah (pada contoh Wilayah Krasnoyarsk) / ed.  Shishatsky N.G. - Novosibirsk: IEOPP SB RAS, 2020 (dalam publikasi). </blockquote><br><h2 id="eksport">  Ekspor </h2><br><p>  Plug-in penglihatan grafik yang terintegrasi dengan RStudio memungkinkan Anda untuk mengekspor gambar dalam beberapa format tanpa perintah tambahan, hanya dalam beberapa klik.  Masalahnya adalah bahwa untuk tugas-tugas praktis layanan ini praktis tidak berguna.  Saat menyimpan ke format raster (.jpg, .png), pengaturan default sangat rendah, jadi ketika Anda mengimpor gambar, misalnya, di Word, itu akan kabur.  Dengan vektor .eps atau .pdf, situasinya benar-benar lebih buruk: penyimpanan terjadi baik dengan kesalahan yang tidak memungkinkan membuka file, atau disimpan tanpa kemungkinan menggunakan prasasti berbahasa Rusia. </p><br><p>  Solusinya adalah dengan menggunakan fungsi <code>ggsave</code> dari paket <code>ggplot</code> . </p><br><p>  Jika output memerlukan file raster biasa, misalnya, dari format .png, semuanya cukup sederhana: </p><br><pre> <code class="plaintext hljs">ggsave("logging.png", width=709, height=549, units="px")</code> </pre> <br><p>  Geometri (opsi <code>width</code> dan <code>height</code> ) dan satuan ukuran ( <code>units</code> ) dapat dihilangkan, tetapi kemudian secara default gambar akan diekspor persegi, yang hampir tidak nyaman.  Oleh karena itu, lebih baik untuk membuat proporsi Anda sendiri dan ukuran yang diperlukan dan mengatur parameter ini secara manual, seperti yang dilakukan pada baris kode di atas. </p><br><p>  Untuk penggunaan gambar selanjutnya dalam publikasi kertas, masuk akal untuk mengekspor gambar dalam format vektor, sehingga nantinya dalam tata letak ada kemungkinan untuk mengubah geometri gambar secara bebas.  Banyak majalah lebih suka format .eps - juga nyaman untuk menggunakannya untuk ekspor ke Word.  Kita akan membutuhkan driver Kairo yang sudah diinstal dan terhubung: </p><br><pre> <code class="plaintext hljs">ggsave(filename = "export.eps", width=15, height=11.6, units="cm", device = cairo_ps)</code> </pre> <br><p>  File akan disimpan di direktori saat ini di mana skrip R berada. </p><br><h1 id="chto-esche-pochitat">  Apa lagi yang harus dibaca </h1><br><p>  Literatur tentang grafik dalam R cukup banyak.  Berikut adalah beberapa contoh, yang pertama adalah karya pembuat paket ggplot: </p><br><ul><li>  <a href="https://ggplot2-book.org/">Wickham, Hadley.</a>  <a href="https://ggplot2-book.org/">ggplot2: Grafik Elegan untuk Analisis Data</a> ; </li><li>  <a href="https://r-graphics.org/">Chang, Winston.</a>  <a href="https://r-graphics.org/">R Graphics Cookbook, edisi ke-2</a> ; </li><li>  <a href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html">Prabhakaran, Selva.</a>  <a href="http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html">50 Visualisasi ggplot2 Top - Daftar Master (Dengan Kode R Lengkap)</a> . </li></ul><br><p>  Mungkin buku terbaik dan terinci tentang grafik dalam R dalam bahasa Rusia adalah buku karya <a href="https://tsamsonov.github.io/r-geo-course/">Timofei Samsonov.</a>  <a href="https://tsamsonov.github.io/r-geo-course/">Visualisasi dan analisis data geografis dalam bahasa R.</a>  Ini adalah panduan terperinci yang sangat baik untuk banyak masalah umum dan khusus yang dapat diselesaikan dengan R. </p><br><p>  Anda juga dapat merekomendasikan buku dalam bahasa Rusia tentang R secara umum: <br>  <a href="https://github.com/ranalytics/data-mining">Shitikov V.K., Mastitsky S.E. Klasifikasi, regresi, algoritma Data Mining menggunakan R. 2017</a> . </p><br><p>  Contoh menarik dan memotivasi adalah <a href="http://johnburnmurdoch.github.io/slides/r-ggplot/">presentasi yang kuat tentang penggunaan ggplot2 dalam mempersiapkan gambar untuk koran Financial Times yang berpengaruh</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id486024/">https://habr.com/ru/post/id486024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486000/index.html">ADSM3. Sistem IPAM / DCIM</a></li>
<li><a href="../id486006/index.html">Simpan status obrolan di tumpukan</a></li>
<li><a href="../id486010/index.html">Membuat demo untuk ponsel lama - AONDEMO</a></li>
<li><a href="../id486014/index.html">Tur SLAC: Laboratorium Akselerator Nasional Departemen Energi AS di Stanford</a></li>
<li><a href="../id486018/index.html">Hasil Survei Sesi</a></li>
<li><a href="../id486028/index.html">Jaringan saraf dalam produksi gigi palsu</a></li>
<li><a href="../id486030/index.html">Ulasan Lampu Jalan TL-SREET 55 5K</a></li>
<li><a href="../id486032/index.html">Bagaimana menjadi desainer dialog</a></li>
<li><a href="../id486034/index.html">Entri cepat ke manajemen produk melalui Open source</a></li>
<li><a href="../id486036/index.html">Analisis sentimen teks pada Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>