<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎞️ 👩🏾 🧜🏼 Was ist neu in ARKit 2.0? 👲🏼 🎁 👩🏻‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seit dem Ende der WWDC-Konferenz sind zwei Wochen vergangen. Sitzungen wurden beobachtet, die Dokumentation wurde erneut gelesen, Demo-Projekte wurden...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Was ist neu in ARKit 2.0?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/415277/"><p>  Seit dem Ende der WWDC-Konferenz sind zwei Wochen vergangen.  Sitzungen wurden beobachtet, die Dokumentation wurde erneut gelesen, Demo-Projekte wurden durchgeführt, sodass Sie alle in einem Artikel gesammelten Informationen ausfüllen können. </p><br><p><img src="https://habrastorage.org/webt/2d/i0/fz/2di0fzqtunavm8tg3hykpecsijc.jpeg"></p><br><p>  In der ersten Version von ARKit war es möglich, die Bewegung des Telefons im Weltraum zu verfolgen, die Menge und Wärme des Lichts zu bestimmen und Informationen über horizontale Ebenen zu erhalten.  ARKit 1.5, das mit iOS 11.3 veröffentlicht wurde, verbesserte die Bildqualität, fügte die Definition vertikaler Ebenen, die Erkennung statischer 2D-Bilder und den Autofokus hinzu.  Mal sehen, was in Version 2.0 hinzugefügt wurde. </p><a name="habracut"></a><br><h1 id="sohranenie-i-vosstanovlenie-ar-karty">  Speichern und Wiederherstellen einer AR-Karte </h1><br><p>  Wir hatten die Möglichkeit, die Umgebungskarte zusammen mit den beabstandeten Objekten der Augmented Reality zu speichern.  Mit einer Karte können Sie eine AR-Sitzung damit initialisieren. Danach werden zuvor platzierte Objekte an den richtigen Stellen angezeigt.  Die gespeicherte Karte kann auch auf den Server übertragen und auf anderen Geräten verwendet werden. </p><br><p> Es wird folgendermaßen implementiert: <code>ARSession</code> verfügt <code>getCurrentWorldMapWithCompletionHandler</code> Methode <code>getCurrentWorldMapWithCompletionHandler</code> , die <code>ARWorldMap</code> .  In diesem Objekt werden Informationen zu Kontrollpunkten gespeichert, mit deren Hilfe ARKit die Nullkoordinate der Szene wiederherstellen kann, sowie ein <code>ARAnchors</code> Array, an das Objekte angehängt werden können.  <code>ARWorldMap</code> kann gespeichert oder irgendwohin gesendet werden.  Um eine Karte wiederherzustellen, müssen Sie sie in das Feld <code>ARSessionConfiguration</code> der <code>ARSessionConfiguration</code> bevor Sie die Sitzung starten.  Nach dem Start wechselt der Sitzungsstatus mit dem Grund <code>.relocalizing</code> .  Sobald ARKit genügend Punkte für die Wiederherstellung gesammelt hat, wird die <code>.normal</code> auf die richtige Position gesetzt und der Sitzungsstatus wechselt in den <code>.normal</code> Zustand. </p><br><p>  Für eine optimale Leistung empfiehlt Apple Folgendes: </p><br><ul><li>  Scannen Sie die Szene aus verschiedenen Blickwinkeln.  Die Anordnung der Punkte ist größer und genauer. </li><li>  Die Umgebung sollte statisch und gut strukturiert sein. </li><li>  Eine Reihe von Punkten sollte ziemlich dicht sein. </li></ul><br><p>  Sie müssen diese Parameter nicht <code>ARFrame</code> überwachen, da <code>ARFrame</code> jetzt über ein <code>worldMappingStatus</code> Feld verfügt.  Sie müssen sie jedoch beim Entwerfen der Anwendung berücksichtigen. </p><br><h1 id="mnogopolzovatelskaya-dopolnennaya-realnost">  Multiplayer Augmented Reality </h1><br><p>  Der Mechanismus zum Speichern der Umgebungskarte ermöglichte das Synchronisieren des Koordinatensystems zwischen mehreren Geräten.  Wenn Sie die Position der einzelnen Geräte relativ zur Umgebungskarte kennen, können Sie Mehrbenutzerszenarien erstellen. </p><br><p>  Bei der Präsentation wurde das Spiel SwiftShot gezeigt, in dem Sie aus Ihrer Schleuder auf die Schleuder eines Gegners schießen müssen. </p><br><p><img src="https://habrastorage.org/webt/z1/lp/rf/z1lprfnvrnxq2o2sqdkl2vin344.png"></p><br><p>  Das Spiel ist in Swift + SceneKit geschrieben.  Benutzeraktionen werden mithilfe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MultipeerConnectivity-</a> Frameworks synchronisiert.  Anwendungsquellen können hier heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> . </p><br><h1 id="otrazhenie-okruzhayuschey-sredy">  Umweltreflexion </h1><br><p>  Wenn ich der Szene ein Metallobjekt der virtuellen Realität hinzufüge, möchte ich darin eine Reflexion von Objekten der realen Welt sehen.  Zu diesem <code>ARWorldTrackingConfiguration</code> die <code>ARWorldTrackingConfiguration</code> ein <code>environmentTexturing</code> Feld.  Wenn Sie <code>SceneKit</code> als Engine verwenden und das Feld <code>environmentTexturing</code> auf <code>.automatic</code> , erhalten Sie das folgende Ergebnis: </p><br><p><img src="https://habrastorage.org/webt/f3/ba/ou/f3baouz187lrgfla2rgmoxjydik.jpeg"></p><br><p>  ARKit empfängt das Bild von der Kamera und erstellt eine kubische Karte mit der Textur der Umgebung.  Informationen, die nicht in den Rahmen gefallen sind, werden mithilfe von Algorithmen für maschinelles Lernen generiert. </p><br><h1 id="otslezhivanie-peremeschayuschihsya-2d-izobrazheniy">  Verfolgen Sie bewegte 2D-Bilder </h1><br><p>  In ARKit 1.5 wurde nur die Verfolgung statischer Bilder angezeigt.  In der zweiten Version wird die Einschränkung aufgehoben, und jetzt können Sie die Koordinaten von bewegten Bildern abrufen.  Ähnliche Funktionen wurden früher vom Vuforia SDK bereitgestellt.  Bei der Präsentation wurde als Anwendungsbeispiel das Ersetzen von Fotos durch Videos in einem Fotorahmen gezeigt: </p><br><p><img src="https://habrastorage.org/webt/mo/ic/k3/moick3qpoyutswqgder0umkdjgc.gif"></p><br><p>  Für eine bessere Verfolgung müssen Sie kontrastierende, gut strukturierte Bilder mit unterschiedlichen Merkmalen verwenden.  Xcode warnt Sie, wenn diese Anforderung nicht erfüllt wird. </p><br><p>  Um Bilder zu verfolgen, müssen Sie <code>ARImageTrackingConfiguration</code> .  Das <code>trackingImages</code> Array wird an die Konfiguration übergeben und <code>maximumNumberOfTrackedImages</code> .  Bildkoordinaten werden als <code>ARImageAnchor</code> . </p><br><h1 id="otslezhivanie-statichnyh-3d-obektov">  Verfolgung statischer 3D-Objekte </h1><br><p>  Unterstützung für die Erkennung statischer 3D-Objekte wurde hinzugefügt.  Vor der Erkennung muss das Objekt gescannt werden.  Sie können dies mit einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anwendung von Apple</a> tun.  Das zu scannende Objekt sollte fest, matt und gut strukturiert sein. </p><br><p>  Um Objekte zu verfolgen, erstellen Sie ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ARReferenceObject</a> aus einer Datei oder einem Ressourcenverzeichnis und fügen Sie es <code>ARWorldTrackingConfiguration.detectionObjects</code> .  Informationen zu den Objekten, die Sie im <code>ARFrame</code> . </p><br><p>  Als Beispiel zeigte die Präsentation die Anzeige von Informationen über die Statuette im Museum in Augmented Reality. </p><br><h1 id="otslezhivanie-lica">  Gesichtsverfolgung </h1><br><p>  In früheren Versionen war es möglich, die Koordinaten und die Drehung des Gesichts, das polygonale Netz des Gesichts und eine Reihe von Mischungen (51 Emotionen mit einem Fortschritt von null auf eins) zu erhalten.  In der zweiten Version werden wir drei Neuerungen sehen: </p><br><h3 id="opredelenie-napravlennogo-sveta">  Definition von gerichtetem Licht. </h3><br><p>  ARKit 2 verwendet ein Gesichtsbild als Lichtinformationsquelle.  Damit können Sie die Intensität, Temperatur und Richtung des Lichts bestimmen.  Dadurch werden die Masken realistischer. </p><br><h3 id="otslezhivanie-yazyka">  Sprachverfolgung. </h3><br><p>  Den <code>tongueOut</code> wurde eine Zunge hinzugefügt, die den [0,1] Grad der „Höhe“ der Sprache anzeigt.  Ich kann hinzufügen, dass fast alle meine Freunde versucht haben, die Sprache zu zeigen, der ich mit Animoji gespielt habe. </p><br><h3 id="otslezhivanie-vzglyada">  Eye Tracking. </h3><br><p>  ARFaceAnchor verfügt über drei neue Felder: <code>leftEyeTransform</code> , <code>rightEyeTransform</code> und <code>lookAtPoint</code> .  Es gibt bereits Demos im Internet mit Anwendungsbeispielen: </p><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); width: 500px; margin: 10px auto; max-width: 100%; min-width: 220px;" data-tweet-id="1004821303486906369"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><h1 id="obschie-uluchsheniya-v-novoy-versii">  Allgemeine Verbesserungen in der neuen Version: </h1><br><ul><li>  Initialisierung und Definition von Ebenen haben sich beschleunigt; </li><li>  Die Verfolgung des Telefons im Weltraum und die Bestimmung von Flugzeugen ist präziser geworden. </li><li>  Die Genauigkeit der Bestimmung der Grenzen von Ebenen mit der Ausdehnung der Ebene hat sich verbessert. </li><li>  Unterstützung des Seitenverhältnisses 4: 3 hinzugefügt (jetzt wird dieses Format standardmäßig ausgewählt). </li></ul><br><p>  Alle Verbesserungen mit Ausnahme des Übergangs zu einem Seitenverhältnis von 4: 3 werden automatisch auf Ihre Anwendungen angewendet.  Für letzteres müssen Sie die Anwendung mit dem neuen SDK neu erstellen. </p><br><hr><br><p>  Wenn die Informationen für Sie nützlich waren, unterstützen Sie mich mit dem Aufwärtspfeil.  Und ich bin bereit, Fragen in den Kommentaren zu beantworten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de415277/">https://habr.com/ru/post/de415277/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de415265/index.html">Auf der Suche nach einem Nachfolger des KL-7: RACE und AROFLEX</a></li>
<li><a href="../de415269/index.html">Funktionsweise von JS: Abstrakte Syntaxbäume, Analyse und deren Optimierung</a></li>
<li><a href="../de415271/index.html">Wie Gantt-Diagramme das Projektmanagement vereinfachen</a></li>
<li><a href="../de415273/index.html">Erlernen der Grundlagen der Programmierung</a></li>
<li><a href="../de415275/index.html">Das Buch "C # 7 und .NET Core. Plattformübergreifende Entwicklung für Profis. 3. Auflage</a></li>
<li><a href="../de415279/index.html">Warum mit einem Mikroskop Nägel einschlagen, wenn Sie Alpine Linux haben?</a></li>
<li><a href="../de415283/index.html">OWASP TOP 10 Projekt: Einführung</a></li>
<li><a href="../de415285/index.html">MBLT DEV 2018: Erstredner und neueste Frühbuchertickets</a></li>
<li><a href="../de415287/index.html">Klassifikation der Eigenschaften von Raum-Zeit-Volumina (Luftverteidigung)</a></li>
<li><a href="../de415289/index.html">Crowd-Tests oder Wo Sie Erfahrungen für die erste Testarbeit sammeln können</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>