<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí¶ üóíÔ∏è üë®üèæ‚Äçüéì Programa√ß√£o orientada a depura√ß√£o ou tristeza aos olhos do integrador üßö üî∞ üêà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aconteceu que, nos √∫ltimos anos, costurei Frankenstein, e n√£o esculpi estatuetas de porcelana fofas de pastoras e limpadores de chamin√©. Crio solu√ß√µes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programa√ß√£o orientada a depura√ß√£o ou tristeza aos olhos do integrador</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442892/"><p>  Aconteceu que, nos √∫ltimos anos, costurei Frankenstein, e n√£o esculpi estatuetas de porcelana fofas de pastoras e limpadores de chamin√©.  Crio solu√ß√µes baseadas no Magento 2. Isso significa que o material de origem para mim √© o sonho de qualquer arque√≥logo.  A camada cultural com tra√ßos de v√°rias "eras" e "civiliza√ß√µes".  Ele pode ser usado para estudar o desenvolvimento do pensamento do programador em comunidades PHP / JS na √∫ltima d√©cada. </p><br><p>  E essa √© apenas a base, e o complemento s√£o m√≥dulos de terceiros que precisam ser integrados.  Aqui j√° √© poss√≠vel encontrar manifesta√ß√µes de intelig√™ncia extraterrestre.  Alguns m√≥dulos s√£o criados por criaturas desenvolvidas, com pensamento muito semelhante aos criadores da base, mas voc√™ encontra aqueles que deseja levar o autor pelo ombro, olha profundamente nos olhos dele e pergunta de maneira amig√°vel: "De <em>que planeta voc√™ √©, nativo?</em> " </p><br><p><img src="https://habrastorage.org/webt/7_/ad/je/7_adjedqio4dyoclps-_jxbg5ha.jpeg" alt="imagem"></p><br><p> O depurador ajuda a costurar Frankenstein a partir desse material.  Abaixo est√° minha t√©cnica pessoal de codifica√ß√£o superior, que pode complicar a vida de qualquer pessoa que, como eu, use o depurador diariamente em sua vida.  √â pequeno, com quatro posi√ß√µes, mas toda vez que encontro algo assim durante a depura√ß√£o, fico triste.  Talvez meu post reduza o n√∫mero de tristezas no mundo, ou talvez n√£o.  Eu vou pelo menos tentar. </p><a name="habracut"></a><br><h1 id="obfuskaciya-i-shifrovanie-koda">  Ofusca√ß√£o e criptografia de c√≥digo </h1><br><p>  Isso est√° fora de competi√ß√£o.  Me deparei algumas vezes com m√≥dulos que exigem que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ionCube</a> funcione, e posso dizer que a √∫ltima coisa que vou fazer √© colocar um m√≥dulo semelhante no meu projeto.  Apoio totalmente a minifica√ß√£o do c√≥digo JS, especialmente quando a fonte usual est√° pr√≥xima, mas a ofusca√ß√£o e a criptografia s√£o um mal destilado e concentrado.  Estou lhe dizendo como um integrador. </p><br><h1 id="iv-odnostrochnyy-kod">  IV  C√≥digo de linha √∫nica </h1><br><p>  Salvar em linhas de c√≥digo √© o mais inofensivo da minha lista: </p><br><pre><code class="plaintext hljs">if ($cond) aaa(); else bbb();</code> </pre> <br><p>  Desliga duas etapas nesta linha durante a execu√ß√£o passo a passo do programa (c√°lculo da condi√ß√£o, execu√ß√£o da ramifica√ß√£o <code>true</code> ou <code>false</code> ).  Tudo bem, voc√™ s√≥ precisa ter em mente quantas vezes voc√™ executou uma etapa nesta linha e acompanhar o valor de <code>$cond</code> na lista de vari√°veis.  Com o tempo, o automatismo se desenvolveu. </p><br><p>  Um pouco pior √© que voc√™ n√£o pode definir um ponto de interrup√ß√£o incondicional na ramifica√ß√£o <code>true</code> ou <code>false</code> .  Em vez de um √∫nico clique no IDE, voc√™ precisar√° trabalhar um pouco mais com o mouse / teclado, adicionando um ponto de interrup√ß√£o condicional. </p><br><p>  A op√ß√£o ideal √© quando cada etapa execut√°vel (condi√ß√£o, luz <code>true</code> , luz <code>false</code> ) estiver em sua pr√≥pria linha: </p><br><pre> <code class="plaintext hljs">if ($cond) aaa(); else bbb();</code> </pre> <br><h1 id="iii-rezultat-vyrazhenie">  III  Resultado da express√£o </h1><br><p>  Usando express√µes em condi√ß√µes: </p><br><pre> <code class="plaintext hljs">if (exp()) ...</code> </pre> <br><p>  ciclos: </p><br><pre> <code class="plaintext hljs">foreach (exp() as $item) ...</code> </pre> <br><p>  como par√¢metros: </p><br><pre> <code class="plaintext hljs">foo(exp(), ...)</code> </pre> <br><p>  e retornar resultado: </p><br><pre> <code class="plaintext hljs">return exp();</code> </pre> <br><p>  n√£o apenas torna o c√≥digo "mais denso", facilitando a compreens√£o, mas tamb√©m torna a depura√ß√£o mais dif√≠cil - voc√™ n√£o v√™ os valores de execu√ß√£o das express√µes na lista de vari√°veis ‚Äã‚Äãdo depurador.  Eu tenho que adicionar rel√≥gios (uma <em>pergunta interessante, e se voc√™ monitorar os geradores atrav√©s de rel√≥gios, isso afetar√° a execu√ß√£o do programa?</em> ). </p><br><p>  A op√ß√£o ideal √© uma vari√°vel tempor√°ria: </p><br><pre> <code class="plaintext hljs">$exp = exp(); if ($exp) ...</code> </pre> <br><h1 id="ii-mnozhestvo-tochek-vyhoda">  II  Muitos pontos de sa√≠da </h1><br><p>  Muitas vezes me deparei com a recomenda√ß√£o de ter apenas um ponto de sa√≠da da fun√ß√£o e muitas vezes me deparei com uma viola√ß√£o dessa recomenda√ß√£o (um exemplo inventado, mas t√≠pico): </p><br><pre> <code class="plaintext hljs">public function onEvent($event) { if($event == 'entrance') { return 'entranceRoute'; } else if($event == 'exit') { return 'exitRoute'; } return 'defaultRoute'; }</code> </pre> <br><p>  Aqui est√° uma op√ß√£o mais correta: </p><br><pre> <code class="plaintext hljs">public function onEvent($event) { $result = 'defaultRoute'; if($event == 'entrance') { $result = 'entranceRoute'; } else if($event == 'exit') { $result = 'exitRoute'; } return $result; }</code> </pre> <br><p>  √â isso, n√£o preciso dispersar pontos de interrup√ß√£o em cada <code>return</code> ou fazer um passo a partir da primeira linha (se o c√≥digo de chamada me der a oportunidade de ver o resultado em uma vari√°vel separada) para entender como a execu√ß√£o foi conclu√≠da.  Imagine uma fun√ß√£o com 120 linhas e 22 retornos dentro?  E eu mesmo debati isso e suspeito que esse n√£o seja o limite. </p><br><h1 id="i-kaskadnyy-vyzov-metodov">  I. Chamadas de m√©todo em cascata </h1><br><p>  Meu favorito √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todo em cascata</a> : </p><br><pre> <code class="plaintext hljs">$collection -&gt;addFilterByProduct(...) -&gt;addShowInStoresFilter(...) -&gt;addPublicFilter(...) -&gt;addApprovedStatusFilter(...) -&gt;addCreatedAtLessThanNowFilter(...);</code> </pre> <br><p>  Se eu precisar entrar no m√©todo <code>addApprovedStatusFilter()</code> , que √© interface e implementado em v√°rias classes diferentes (uma classe espec√≠fica √© determinada em tempo de execu√ß√£o), a coisa mais simples √© definir um ponto de interrup√ß√£o em <code>$collection</code> e <code>addFilterByProduct</code> tudo por sua vez ( <code>addFilterByProduct</code> , <code>addShowInStoresFilter</code> , <code>addPublicFilter</code> ) at√© o lugar certo.  Se voc√™ combinar isso usando express√µes nos par√¢metros e nos resultados retornados, o caminho ficar√° completamente fechado.  No original, esse c√≥digo fica assim: </p><br><pre> <code class="plaintext hljs">$collection -&gt;addFilterByProduct($this-&gt;getProduct()) -&gt;addShowInStoresFilter($this-&gt;_storeManager-&gt;getStore()-&gt;getId()) -&gt;addPublicFilter() -&gt;addApprovedStatusFilter() -&gt;addCreatedAtLessThanNowFilter();</code> </pre> <br><p>  Sim, com m√©todos em cascata, o c√≥digo se torna mais leg√≠vel, mas o d√©bito se torna mais dif√≠cil.  N√£o tenho nada contra a cascata de set'er (como regra geral, n√£o estrear setter): </p><br><pre> <code class="plaintext hljs">$answerModel -&gt;setAuthorName(...) -&gt;setStatus(...) -&gt;setCreatedAt(...) -&gt;setAuthorEmail(...) -&gt;setCustomerId(...) -&gt;setHelpfulness(...)</code> </pre> <br><p>  Mas o c√≥digo que cont√©m a l√≥gica que pode ter que ser debitada, ou talvez sozinho, √© melhor escrever " <em>old school</em> " (eu mesmo fa√ßo isso): </p><br><pre> <code class="plaintext hljs">$collection-&gt;addFilterByProduct(...); $collection-&gt;addShowInStoresFilter(...); $collection-&gt;addPublicFilter(...); $collection-&gt;addApprovedStatusFilter(...); $collection-&gt;addCreatedAtLessThanNowFilter(...);</code> </pre> <br><p>  Tornou-se muito mais dif√≠cil perceber? </p><br><p>  Ou aqui est√£o as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recomenda√ß√µes para um</a> bom estilo de programa√ß√£o: </p><br><pre> <code class="plaintext hljs">ladder.up().up().down().up().down().showStep();</code> </pre> <br><p>  Veja isso do ponto de vista de um integrador, que deve entrar no segundo n√≠vel. </p><br><h1 id="rezyume">  Sum√°rio </h1><br><p>  N√£o quero dizer que essas t√©cnicas sejam usadas em seu c√≥digo por " <em>alien√≠genas</em> ".  De modo algum, na maioria das vezes, eles visam reduzir a quantidade de c√≥digo.  Mas essas t√©cnicas complicam a depura√ß√£o.  Uma pessoa n√£o tem a velocidade de um computador e, para alcan√ßar o c√≥digo do problema, o integrador deve primeiro verificar (n√£o entender, ou seja, verificar) o progresso do programa nos pontos principais.  Tudo isso, tendo por um lado a tarefa de melhorar o entendimento do c√≥digo, de fato, durante a depura√ß√£o, esse entendimento √© prejudicado.  Eles interferem n√£o no local do c√≥digo, mas interferem no acesso √† √°rea do problema, que, em geral, precisa de um entendimento real. </p><br><h1 id="disclaimer">  Isen√ß√£o de responsabilidade </h1><br><p>  O precedente √© o resultado de deforma√ß√£o profissional pessoal e pode diferir das opini√µes baseadas em outras deforma√ß√µes profissionais. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt442892/">https://habr.com/ru/post/pt442892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt442882/index.html">[V√≠deo] "Piems n√£o s√£o necess√°rios" e mais tr√™s id√©ias de gerenciamento de projetos</a></li>
<li><a href="../pt442884/index.html">A tecnologia j√° permite que voc√™ converse com o carro como pessoa</a></li>
<li><a href="../pt442886/index.html">Sketch + Node.js: gere √≠cones para muitas plataformas e marcas. Parte 2</a></li>
<li><a href="../pt442888/index.html">Personalizar select em css puro</a></li>
<li><a href="../pt442890/index.html">CYOD? COPE? BYOD?</a></li>
<li><a href="../pt442896/index.html">A produ√ß√£o aditiva de ciclo completo em uma empresa de avia√ß√£o √© uma quest√£o para o futuro pr√≥ximo</a></li>
<li><a href="../pt442898/index.html">Solu√ß√µes para o problema de bots de spam adicionados a grupos de telegramas</a></li>
<li><a href="../pt442900/index.html">Por que precisamos de descentraliza√ß√£o da Internet e por que isso √© inevit√°vel</a></li>
<li><a href="../pt442902/index.html">Cinco dicas para aprender a aceitar com calma o feedback no trabalho</a></li>
<li><a href="../pt442904/index.html">Sobre a funcionalidade dos dispositivos de seguran√ßa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>