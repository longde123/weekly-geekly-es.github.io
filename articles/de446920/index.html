<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍶 🆒 😳 Reverse Engineering von April Fool von Google 👩‍🚒 👩🏻‍🎤 🎶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vielleicht hat einer von Ihnen bemerkt, dass Google am 1. April das interaktive Spiel "Snake" zur Google Maps-Anwendung für Android und iOS hinzugefüg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reverse Engineering von April Fool von Google</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/446920/"><img src="https://habrastorage.org/getpro/habr/post_images/652/8f8/687/6528f8687ec814cb2ae33bfc63f46f97.jpg"><br><br>  Vielleicht hat einer von Ihnen bemerkt, dass Google am 1. April das interaktive Spiel "Snake" zur Google Maps-Anwendung für Android und iOS hinzugefügt hat. <br><br>  Check Point-Spezialisten sind normalerweise damit beschäftigt, die neuesten Cyber-Bedrohungen zu erforschen, aber sie waren sehr an diesem Spiel interessiert, obwohl sie von den Verlusten sehr verärgert waren ... daher entstand ein logischer Gedanke: Warum nicht knacken? <br><a name="habracut"></a><br>  Daher begannen unsere schelmischsten Mitarbeiter, über die umgekehrte Entwicklung der Anwendung mithilfe von Remote-Debugging nachzudenken.  Im Allgemeinen haben sie es geschafft, und bald haben wir die Aufgabe, nie zu verlieren, erfolgreich abgeschlossen - und sogar eine einfache KI hinzugefügt, die das Spiel selbst spielt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b62/c71/fc4/b62c71fc418fcb097b52c4245eeb4d6c.jpg" width="550"></div><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/865/187/d2b/865187d2b602ab168bdfafd147e64598.png"></div><br><br>  In diesem Hinweis beschreiben wir detailliert den Hack. <br><br>  Zuerst haben wir die Anwendung auf dem virtuellen Gerät über Genymotion geöffnet und die „Schlange“ gestartet, die sich im Menü in der oberen rechten Ecke befindet. <br><br>  Es sieht so aus, als würde das Spiel in WebView angezeigt, daher haben wir mit dem Remote-Debugging in den Chrome-Entwicklertools begonnen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/513/35d/b2a/51335db2aeb6fec60fce9f3b15ad8dc5.png"><br><br>  Dann gingen sie zur Site und fanden die Datei v18.js auf der Registerkarte Quelle, die mehrere interessante Funktionen enthielt. <br><br>  Zunächst initiiert die Funktion <b>fa ()</b> ein 20 × 20-Feld: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.height = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.width = <span class="hljs-number"><span class="hljs-number">20</span></span>;</code> </pre> <br>  Unser Hauptziel ist es, eine Funktion zu finden und zu ändern, die bestimmt, wann eine Schlange gegen eine Wand oder gegen sich selbst stößt, um die Möglichkeit des Verlusts zu deaktivieren.  Die Variablen <i>width</i> und <i>height</i> stellen die Abmessungen des Spielfelds dar. Daher haben wir im Quellcode nach <i>Breite</i> und <i>Höhe</i> gesucht und die Funktion <b>F (a, b) gefunden</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7db/875/4aa/7db8754aa46203e12e8cc609cd7c106e.png"></div><br><br>  Es sieht so aus, als würde <b>F (a, b)</b> prüfen, ob die Koordinaten des Körpers der Schlange innerhalb des Feldes liegen.  Eine Möglichkeit besteht darin, die Bedingungen in der Funktion vollständig zu entfernen, damit sie immer die Wahrheit zurückgibt, und uns so zum „Regime Gottes“ zu überführen, wo wir durch Wände gehen können, ohne zu sterben. <br><br>  Dazu haben wir die <i>Inspect-</i> Taste in der Remote-Konsole gedrückt und die Funktion <b>F (a, b)</b> wie folgt geändert: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/21e/14d/452/21e14d452d2b31afdec5ca293cc2eb86.png"></div><br><br>  Jetzt können wir durch die Wände gehen: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/5e1/7c8/27d/5e17c827d93c1e9dffbc3e73c9be1998.png"></a> </div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">1. Gott-Modus</font></i> <br><br>  Das ist alles sehr gut, aber wir müssen immer noch spielen und die Leute selbst einsammeln, um Punkte zu verdienen.  Der nächste Hack wird dieses Problem lösen. <br><br>  Es gibt viele Aufrufe von <b>wa (a)</b> im Aufrufstapel.  Wenn wir diese Funktion untersuchen, werden wir feststellen, dass sie rekursiv ist und für die Abfrage von Animationsframes verantwortlich ist.  <b>wa (a)</b> ruft die Funktionen <b>xa (a, b)</b> und <b>ya (a) auf</b> , die Spielsteine ​​(Zug, Personen) bzw. Feld anzeigen. <br><br>  Betrachten Sie die Funktion <b>xa (a, b)</b> : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd0/524/984/bd052498424b070f1927505e064bb65c.png"></div><br><br>  Es werden zwei Argumente benötigt: 'a' und 'b'.  Die erste ist Teil der globalen Variablen Q, die interessante Informationen über unser Spiel enthält, einschließlich eines Arrays, das ein Spielfeld darstellt (Abb. 2), in dem wir einen Zug (M), Personen und Objekte (K) sehen.  Die Funktion berechnet auch die Punktzahl und speichert sie in ci, was ebenfalls Qb entspricht <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/342/6db/729/3426db7294084bde0b602e57ac0a9b71.png"></a> </div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">2. Das Array des Spielfelds</font></i> <br><br>  Dieses Array entspricht diesem Feld: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70a/08f/84e/70a08f84e4494a9b822c72b3d33ebc2e.png"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">3. Das Spielfeld</font></i> <br><br>  <b>xa (a)</b> bezieht sich auch auf die Funktion <b>sa (a)</b> in Fig.  4, die jedes Mal, wenn eine neue Person erstellt wird, zufällige Koordinaten erzeugt.  Wenn Sie die Funktion mehrmals aufrufen, können Sie so viele Personen erstellen, wie Sie möchten (Abb. 5). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/182/38f/358/18238f358816860cf2de195f0428b335.png"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">4. Rufen Sie die Funktion <b>sa (a) auf</b></font></i> <br><br>  Wie hier: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c8f/c01/d3b/c8fc01d3b7c183913a11a30183772a47.png"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">5. Funktionsaufruf mit der Erstellung einer beliebigen Anzahl von Personen auf der Karte</font></i> <br><br>  Bitte beachten Sie, dass sich die Punktzahl nicht ändert, auch wenn Sie <b>sa (a)</b> mehrmals anrufen und die Person nehmen.  Bei der Auswahl eines Passagiers wird die Funktion <b>ka (a, b)</b> in Abb.  6. Daher muss es geändert werden, damit sie bei jedem Anruf 10 Punkte hinzufügt und die Punktzahl auf dem Bildschirm aktualisiert. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e96/091/159/e9609115944b21a2e324b99c46d9c094.png"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">6. Aktualisierte Funktion</font></i> <br><br>  Die Koordinaten jedes Teils des Zuges sind in Qbob angegeben, wobei das erste Element der erste Anhänger im Zug ist. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4e6/d8e/0ea/4e6d8e0ea5fc7dc12186a5a27ee63f08.png"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">7. Wagenreihe</font></i> <br><br>  Dies wird benötigt, um eine einfache KI zu erstellen.  Beginnen wir mit seiner Logik: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d25/e30/214/d25e30214681ad9d0469982f9a596830.jpg"></div><br>  <i><font color="gray">Abb.</font></i>  <i><font color="gray">8. KI-Logik</font></i> <br><br>  Eine Schlange ist eine Zustandsmaschine (Zustandsmaschine): <br><br><ol><li>  Bei X = 19 gehen wir <b>runter</b> bis wir zu Y = 19 kommen. </li><li>  Gehen Sie bei X = 19 und Y = 19 nach <b>links</b> zu X = 0. </li><li>  Wir übergeben die Zustandsmaschine für Zickzacke: <br><ol><li>  Eine Zelle nach oben und <b>rechts</b> nach X = 18. </li><li>  Eine Zelle <b>hoch</b> und <b>links</b> auf X = 0. </li><li>  Zurück zu Schritt A. </li></ol></li><li>  Gehen Sie bei Y = 0 nach <b>rechts</b> zu X = 19. </li><li>  Gehen Sie zurück zu Schritt 1. </li></ol><br>  Der vollständige Code wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf GitHub veröffentlicht</a> . <br><br>  Video: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/sRHW4ScWqoM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de446920/">https://habr.com/ru/post/de446920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de446908/index.html">Empfehlungen zur Informationssicherheit von DLP und FSTEC: Überschneiden von Parallelen</a></li>
<li><a href="../de446912/index.html">Wie viel kostet die Sicherheit von Webanwendungen (am Beispiel von Barracuda WAF-as-a-Service)?</a></li>
<li><a href="../de446914/index.html">Warum unterrichtest du gehen</a></li>
<li><a href="../de446916/index.html">Hierarchische Adressbuchveröffentlichung Aktualisiert von Zimbra Docs und anderen Neuheiten in Zimbra 8.8.12</a></li>
<li><a href="../de446918/index.html">Ich habe diese 6 Lektionen der Arbeit mit Cloudformation fürs Leben gelernt.</a></li>
<li><a href="../de446922/index.html">Die Katze unter der Haube. Teil 2</a></li>
<li><a href="../de446924/index.html">Darstellung beliebiger Polynome in Form endlicher Differenzen mit beliebigem Schritt</a></li>
<li><a href="../de446926/index.html">"Also wurde mir klar, dass ich jetzt ein Date Engineer bin und auf eine andere Art und Weise sich auf dem Markt positionieren kann."</a></li>
<li><a href="../de446932/index.html">TDMS Fairway und BIM</a></li>
<li><a href="../de446938/index.html">Partikelsystem in der Kernanimation. Weihnachtsgeschichte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>