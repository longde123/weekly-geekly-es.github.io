<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ûñ ü¶ê üéÖüèΩ Erneute Prognose, Teil 1 üôãüèº üë®üèΩ‚Äçüè≠ üë©‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Betrachten Sie die Vorhersage von Zeitreihen. Lassen Sie uns versuchen, Anf√ºhrungszeichen oder etwas anderes vorherzusagen, das sich als n√ºtzlich hera...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erneute Prognose, Teil 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435590/"> Betrachten Sie die Vorhersage von Zeitreihen.  Lassen Sie uns versuchen, Anf√ºhrungszeichen oder etwas anderes vorherzusagen, das sich als n√ºtzlich herausstellt. <br><br><img src="https://habrastorage.org/webt/vu/9t/i1/vu9ti19agphjfufbbndeff5xjj4.jpeg"><br><a name="habracut"></a><br>  Nehmen wir als Grundlage die Prognose, die im Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Das Zeitreihen-Prognosemodell f√ºr das Beispiel der maximalen √Ñhnlichkeit vorgestellt wird: Erkl√§rung und Beispiel</a> (dieser Artikel geh√∂rt nicht mir).  Der kurze Punkt ist, dass das √§hnlichste Segment des Diagramms links von der Prognose in der Vergangenheit gesucht wird und von diesem alten Besten dann die Werte rechts vom Diagramm genommen und als Prognose verwendet werden. <br><br>  Ich werde weiter gehen.  Bei der Berechnung der Prognose nehme ich nicht einen Fall, der die beste Korrelation aufweist, sondern eine Packung der besten.  Und die Prognose ist der Durchschnitt der Ergebnisse f√ºr dieses Paket.  Dies macht es m√∂glich zu verstehen, dass der gefundene Wert eine Regelm√§√üigkeit und kein zuf√§lliges Zusammentreffen mit der gew√ºnschten Prognose oder eine zuf√§llige Abweichung ist, wenn die Prognose von der tats√§chlichen abweicht. <br><br>  Die Verwendung der besten Einzeloption wie in diesem Artikel ist nicht korrekt. Au√üerdem wird die Wahrscheinlichkeitsverteilung mit einem Wert aus dieser Verteilung bestimmt.  Wenn Sie ein sehr gro√ües Diagramm mit zuf√§lligen Daten erstellen und eine Suche nach ihnen starten, werden sicherlich korrelierende Segmente darin sein, und m√∂glicherweise sogar mit einem Koeffizienten von 0,9999, aber es ist √ºberhaupt nicht notwendig, dass √§hnliche Segmente diesen Segmenten weiterhin folgen - es ist immer noch so alles ist zuf√§llig.  Und Sie m√ºssen nur eine Packung solcher Segmente nehmen und berechnen, dass die Varianz der nachfolgenden Daten geringer ist als die Varianz, die aus einer Zufallsstichprobe dieser Daten gebildet wird.  Und wenn die Streuung der Packung geringer ist - dann ist dies die Prognose.  Obwohl dies auch keine genaue Darstellung m√∂glicher Fehler ist, reicht dies vorerst aus. <br><br>  Das hei√üt,  <b>Prognose ist</b> nicht das Prinzip der Stichprobe und Korrelation der verglichenen Segmente, das wir verwenden. Hauptsache, dass aufgrund der Anwendung dieser Stichprobe die Varianz der gew√ºnschten Werte geringer w√§re als aufgrund der Zufallsstichprobe. <br><br>  Die Varianz dieses Pakets erm√∂glicht es auch zu bewerten, welche Option besser aus fr√ºheren F√§llen ausgew√§hlt werden kann.  Schlie√ülich ist es m√∂glich, nicht immer ein Segment korrelierender Daten auszuw√§hlen und nicht immer die Pearson-Korrelation zu verwenden.  Und eine solche Auswahl kann f√ºr jeden prognostizierten Punkt separat getroffen werden.  F√ºr welche Art von Stichprobe die Varianz geringer ist, ist diese Option f√ºr den aktuellen Punkt besser. <br><br>  Welche Packungsgr√∂√üe sollte es sein?  Dies beruht auf der Frage der Konfidenzintervalle.  Um nicht sehr viel zu laden, wird erw√§hnt, dass es besser ist, mindestens 30 Beispiele zu verwenden, um den Durchschnittswert zu bestimmen.  Wenn es einen √úberschuss an Testdaten gibt, w√ºrde ich mindestens 100 nehmen. <br><br>  Das Verh√§ltnis der Standardabweichungen der Stichprobe gem√§√ü dem Algorithmus und dem zuf√§lligen kann als theoretischer Erfolgskoeffizient des Prognosealgorithmus f√ºr den aktuellen Punkt zum Zwecke des Vergleichs mit anderen Stichprobenalgorithmen oder zur Bestimmung des Nutzens dieser Prognose im Allgemeinen bezeichnet werden, w√§hrend der tats√§chliche Wert noch nicht verf√ºgbar ist. <br><br><img src="https://habrastorage.org/webt/5c/5z/1m/5c5z1mvlg8betcdjgytvaxqcopc.png" alt="koef_forecast = 1 - std_dev_forecast / std_dev_random"><br><br>  Dieser Koeffizient kann in einigen F√§llen negative Werte annehmen.  Die Punkte, an denen dies auftritt, sind von geringem Interesse, ebenso wie die Punkte mit einem Koeffizienten von Null.  Bei einer Vorhersagbarkeit von 100% ist sie gleich eins. <br><br>  Kommen wir noch einmal zu praktischen Beispielen aus diesem Artikel.  Nachdem wir die kleinen Fehler dort korrigiert haben, erhalten wir das folgende Ergebnis, das mit diesem Artikel und diesem Algorithmus √ºbereinstimmt: <br><br>  <b>Berechnung der Prognose zum Zeitpunkt 01.09.2012 23:00 Position 52631</b> <b><br></b>  <b>Gesamtwerte auf √Ñhnlichkeit gepr√ºft 2184</b> <b><br></b>  <b>die beste Korrelation 0,958174 Position 52295</b> <b><br></b>  <b>√úbertragungskoeffizienten alpha (1/2) 1.03117 -11.1992</b> <b><br></b>  <b>Prognosefehler von Fact Mape 5,210%</b> <br><br>  mape - Der Begriff aus dem Originalartikel Mean Absolute Percentage Error wird nach der Formel berechnet <br>  <b>Abs (Prognose - Fakt) / Fakt</b> <br><br>  Und jetzt treffen wir eine Auswahl nicht einer einzigen besten √Ñhnlichkeit, sondern einer Packung der besten und aller Dinge, um einen Moment vorherzusagen und zu sehen, was passiert: <br><br>  <b>0 korr 0,958174 pos 52295 mape 5,210%</b> <b><br></b>  <b>1 korr 0,953571 pos 52151 mape 6,566%</b> <b><br></b>  <b>2 korr 0,953532 pos 45599 mape 11,642%</b> <b><br></b>  <b>3 korr 0,951462 pos 45743 mape 7,033%</b> <b><br></b>  <b>4 korr 0,950921 pos 45575 mape 3,300%</b> <b><br></b>  <b>5 korr 0,950789 pos 38687 mape 3,538%</b> <b><br></b> <br>  Der Korrelationswert √§ndert sich hier von Wert zu Wert vernachl√§ssigbar.  Gleichzeitig variiert der Wert des Prognoseergebnisses zwischen 3% und 11%.  Das hei√üt,  Diese anf√§nglichen 5% sind nichts anderes als ein Zufall, sie k√∂nnten 11% und 3% sein. <br><br>  Unter den in diesem Artikel angegebenen √Ñhnlichkeitsbedingungen k√∂nnen insgesamt 2184 Werte verglichen werden.  Von diesen nahm ich eine Packung der Besten in 1500 Teilen, sortiert nach abnehmender Korrelation, und zeigte sie in einer Grafik an.  Die Korrelation in dieser Packung von den besten 0,958 fiel von links nach rechts auf 0,715.  Die Schwankung des Ergebnisses hat sich jedoch praktisch nicht ge√§ndert: <br><br><img src="https://habrastorage.org/webt/o6/jz/wl/o6jzwlcdck1ynbs8oss9um0aios.png"><br><br>  Es ist ersichtlich, dass die Abh√§ngigkeit des Ergebnisses von der Korrelation sehr gering ist, aber es scheint trotzdem da zu sein.  Im Allgemeinen nehmen wir eine Packung mit den Top-100-Werten und berechnen die Prognose, wie bereits erw√§hnt, anhand des Durchschnitts f√ºr diese Packung.  Das Ergebnis ist wie folgt: <b>mape 5,824%, stddev mape 7,035%</b> .  Diese 5,8% sind jedoch kein Zufall mehr, sondern der Durchschnitt der Verteilung - die wahrscheinlichste Prognose.  Die Mape-Standardabweichung ist gr√∂√üer als die Mape selbst, dies liegt jedoch daran, dass die Mape eine nicht symmetrische Verteilung aufweist. <br><br>  Ich habe auch die gleiche Prognose berechnet, aber unter Verwendung einer bedingten Zufallsstichprobe, genauer gesagt, einfach gemittelt aus allen m√∂glichen Optionen, <b>betrug</b> das <b>Mape-</b> Ergebnis <b>8,246%</b> .  Durch Zufallsstichprobe ist der Fehler etwas gr√∂√üer, aber dieser Wert liegt immer noch im Bereich der Streuung, die aus der besten Stichprobe berechnet wurde.  F√ºr den berechneten Punkt liegt der von mir angegebene theoretische Prognosekoeffizient nahe bei Null, genauer gesagt <b>koef_forecast = -0,041</b> .  Ich habe es nicht aus stddev mape gez√§hlt (es enth√§lt die tats√§chliche Prognose), sondern aus den absoluten Werten der Prognose. Wenn Sie sich das Programm ansehen, werden dort die Anfangszahlen daf√ºr angegeben. <br><br>  Dies gilt jedoch f√ºr den Zeitstempel, der im Originalartikel erw√§hnt wurde.  Wenn wir jedoch "9/4/2012 23:00" (Monat / Tag / Jahr) sagen, dann ist der theoretische Effizienzkoeffizient <b>koef_forecast = 0,21</b> und <b>mape = 3,126%, mape_rand = 7,147%</b> .  Das hei√üt,  koef_forecast hat im Voraus gezeigt, dass der aktuelle Punkt genauer berechnet wird als der vorherige.  Das Wesentliche an der N√ºtzlichkeit dieses Koeffizienten ist, dass Sie das Ergebnis zumindest irgendwie auswerten k√∂nnen, bevor Sie die tats√§chlichen Daten erhalten, weil  tats√§chliche Daten nehmen nicht daran teil.  Je h√∂her es ist, desto besser.  Ich habe bereits erw√§hnt, dass ein absolut vorhergesagter Punkt einen Koeffizienten von eins haben wird. <br><br>  Sie k√∂nnen selbst sehen, wie sich all diese Zahlen in meinem Demo-Programm unter Qt C ++ √§ndern. Dort k√∂nnen Sie das Datum und die Gr√∂√üe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pakets</a> ausw√§hlen: die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Quellen auf Github</a> <br><br>  Die besten Werte werden nach folgendem Algorithmus ausgew√§hlt: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> OrdPack::add_value(<span class="hljs-keyword"><span class="hljs-keyword">double</span></span> koef, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i_pos) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::isfinite(koef)==<span class="hljs-literal"><span class="hljs-literal">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (koef &lt;= <span class="hljs-number"><span class="hljs-number">0.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mmap_ord.size() &lt; ma_count_for_pack) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mmap_ord.size()==<span class="hljs-number"><span class="hljs-number">0</span></span>) mi_koef = koef; mi_koef = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::min(mi_koef, koef); mmap_ord.insert({-koef,i_pos}); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (koef &gt; mi_koef) { mmap_ord.insert({-koef,i_pos}); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (mmap_ord.size() &gt; ma_count_for_pack) mmap_ord.erase(--mmap_ord.end()); mi_koef = -(--mmap_ord.end())-&gt;first; } }</code> </pre> <br>  Es macht keinen Sinn, die gesamte Quelle hier zu ver√∂ffentlichen, es ist dort nicht kompliziert und mit Kommentaren.  Die Basis in der Prozedur MainWindow :: to_do_test () in der Datei <a href="">mainwindow.cpp</a> . <br><br>  Im Moment werde ich weiterhin versuchen, im n√§chsten Teil etwas vorherzusagen. <br><br>  PS.  Bitte hinterlassen Sie Ihre Kommentare dazu, ob alles klar ist, was fehlt.  Ich habe bereits einen ungef√§hren Plan f√ºr das, was als n√§chstes geschrieben werden soll, erstellt, aber mit Ihren Kommentaren werde ich es besser machen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de435590/">https://habr.com/ru/post/de435590/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de435580/index.html">Java, Spring, Kurento und Media Services</a></li>
<li><a href="../de435582/index.html">Wie f√ºge ich einen Index auf einem geladenen System rund um die Uhr ohne Ausfallzeiten hinzu?</a></li>
<li><a href="../de435584/index.html">Slush 2018. Erster Tag, Zweiter Tag</a></li>
<li><a href="../de435586/index.html">Die Kunst des Schamanismus oder der benutzerdefinierten Firmware f√ºr Olinuxino. Kernel und Ubuntu Teil 3</a></li>
<li><a href="../de435588/index.html">F√∂rderung einer mobilen Anwendung mit echter Erfahrung in Zahlen</a></li>
<li><a href="../de435592/index.html">Azoren: letztes Pflanzenreservat mitten im Atlantik</a></li>
<li><a href="../de435594/index.html">Routendiagramm f√ºr Apache Camel</a></li>
<li><a href="../de435600/index.html">So migrieren Sie zu einem anderen Mobilfunkbetreiber und gehen nicht bankrott (f√ºr iOS-Besitzer)</a></li>
<li><a href="../de435602/index.html">Azure-Pr√ºfungsvorbereitung</a></li>
<li><a href="../de435604/index.html">BlaBlaCar wurde zu dem, wof√ºr es nicht gedacht war</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>