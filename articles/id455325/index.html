<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😠 👩🏼‍🤝‍👨🏻 🛀🏿 Porting aplikasi desktop ke .NET Core 👆🏻 🧒🏽 🧛🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Karena saya telah bekerja dengan komunitas untuk porting aplikasi desktop dari .NET Framework ke .NET Core, saya perhatikan bahwa ada dua kelompok ora...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Porting aplikasi desktop ke .NET Core</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/455325/"><p>  Karena saya telah bekerja dengan komunitas untuk porting aplikasi desktop dari .NET Framework ke .NET Core, saya perhatikan bahwa ada dua kelompok orang: beberapa menginginkan daftar instruksi yang sangat sederhana dan singkat untuk membuat aplikasi mereka di-porting ke .NET Core sementara yang lain lebih suka pendekatan yang lebih berprinsip dengan lebih banyak informasi latar belakang.  Alih-alih menulis dokumen "Pisau Swiss Army", kami akan menerbitkan dua posting blog, satu untuk setiap kamp: </p><br><ul><li>  <strong>Posting ini adalah kasus sederhana</strong> .  Ini berfokus pada instruksi sederhana dan aplikasi yang lebih kecil dan merupakan cara termudah untuk memindahkan aplikasi Anda ke .NET Core. </li><li>  <strong>Kami akan menerbitkan posting lain untuk kasus yang lebih rumit</strong> .  Posting ini akan lebih fokus pada aplikasi non-sepele, aplikasi WPF seperti dengan dependensi pada WCF dan paket UI pihak ketiga. </li></ul><br><p>  Jika Anda lebih suka menonton video daripada membaca, ini adalah video tempat saya melakukan semua yang dijelaskan di bawah ini. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tp1EOFtnTmA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><h2>  Langkah 0 - Prasyarat </h2><br><p>  Untuk port aplikasi desktop Anda ke Core, Anda akan memerlukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">.NET Core 3</a> dan Visual Studio 2019. </p><br><h2>  Langkah 1 - Jalankan analisa portabilitas </h2><br><p>  Sebelum porting, Anda harus memeriksa seberapa kompatibel aplikasi Anda dengan .NET Core.  Untuk melakukannya, unduh dan jalankan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">.NET Portability Analyzer</a> . </p><br><ul><li>  Pada tab pertama, Ringkasan Portabilitas, jika Anda hanya memiliki 100% pada kolom .NET Core (semuanya disorot dalam warna hijau), kode Anda sepenuhnya kompatibel, lanjutkan ke Langkah 2. </li><li>  Jika Anda memiliki nilai kurang dari 100%, pertama-tama lihat semua rakitan yang bukan bagian dari aplikasi Anda.  Untuk itu, periksa apakah penulisnya menyediakan versi untuk .NET Core atau .NET Standard. </li><li>  Sekarang lihat bagian lain dari rakitan yang berasal dari kode Anda.  Jika Anda tidak memiliki salah satu majelis Anda yang tercantum dalam laporan portabilitas, lanjutkan ke Langkah 2. Jika demikian, buka tab Detail, filter tabel dengan mengklik Majelis kolom dan hanya fokus pada yang berasal dari aplikasi Anda.  Berjalan daftar dan refactor kode Anda untuk berhenti menggunakan API atau mengganti penggunaan API dengan alternatif dari .NET Core. </li></ul><br><p> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/4b0/588/322/4b05883226eaae0b7c4dd18a893f5741.png" width="615" height="232"></a> </p><br><h2>  Langkah 2 - Bermigrasi ke .csproj gaya SDK </h2><br><p>  Di <strong>Solution Explorer</strong> klik kanan pada proyek Anda (bukan pada solusi!).  Apakah Anda melihat <strong>Edit File Proyek</strong> ?  Jika ya, Anda sudah menggunakan file proyek bergaya SDK, jadi Anda harus pindah ke <strong>Langkah 3</strong> .  Jika tidak, lakukan hal berikut. </p><br><ul><li> Periksa di <strong>Solution Explorer</strong> jika proyek Anda berisi file paket.config.  Jika tidak, tidak ada tindakan yang diperlukan, jika Anda melakukannya, klik kanan pada <strong>paket.config</strong> dan pilih <strong>Migrasi paket.config ke PackageReference</strong> .  Kemudian klik <strong>OK</strong> . </li><li>  Buka file proyek Anda dengan mengklik kanan pada proyek dan pilih <strong>Unload Project</strong> .  Kemudian klik kanan pada proyek dan pilih <strong>Edit &lt;nama proyek Anda&gt; .csproj</strong> . </li><li>  Salin konten file proyek di suatu tempat, misalnya ke Notepad, sehingga Anda dapat mencarinya nanti. </li><li>  Hapus semuanya dari file proyek Anda yang dibuka di Visual Studio (Saya tahu ini terdengar agresif, tetapi kami hanya akan menambahkan konten yang diperlukan dari salinan yang baru saja kami buat dalam beberapa langkah).  Alih-alih teks yang baru saja Anda hapus, tempel kode berikut. Untuk aplikasi WinForms: <br><br><pre> <code class="cs hljs">&lt;Project Sdk=<span class="hljs-string"><span class="hljs-string">"Microsoft.NET.Sdk.WindowsDesktop"</span></span>&gt; &lt;PropertyGroup&gt; &lt;OutputType&gt;WinExe&lt;/OutputType&gt; &lt;TargetFramework&gt;net472&lt;/TargetFramework&gt; &lt;UseWindowsForms&gt;<span class="hljs-literal"><span class="hljs-literal">true</span></span>&lt;/UseWindowsForms&gt; &lt;GenerateAssemblyInfo&gt;<span class="hljs-literal"><span class="hljs-literal">false</span></span>&lt;/GenerateAssemblyInfo&gt; &lt;/PropertyGroup&gt; &lt;/Project&gt;</code> </pre> <br>  Untuk aplikasi WPF: <br><br><pre> <code class="cs hljs">&lt;Project Sdk=<span class="hljs-string"><span class="hljs-string">"Microsoft.NET.Sdk.WindowsDesktop"</span></span>&gt; &lt;PropertyGroup&gt; &lt;OutputType&gt;WinExe&lt;/OutputType&gt; &lt;TargetFramework&gt;net472&lt;/TargetFramework&gt; &lt;UseWPF&gt;<span class="hljs-literal"><span class="hljs-literal">true</span></span>&lt;/UseWPF&gt; &lt;GenerateAssemblyInfo&gt;<span class="hljs-literal"><span class="hljs-literal">false</span></span>&lt;/GenerateAssemblyInfo&gt; &lt;/PropertyGroup&gt; &lt;/Project&gt;</code> </pre> </li><li>  Di Notepad, cari <code>PackageReference</code> .  Jika Anda tidak menemukan apa pun, lanjutkan.  Jika Anda menemukan <code>PackageReference</code> , salin seluruh <code>&lt;ItemGroup&gt;</code> yang berisi <code>PackageReference</code> dalam file proyek Anda, dibuka di Visual Studio, tepat di bawah garis yang telah Anda tempel pada langkah di atas.  Lakukan untuk setiap kemunculan <code>PackageReference</code> Anda temukan.  Blok yang disalin akan terlihat seperti ini. <br><br><pre> <code class="cs hljs">&lt;ItemGroup&gt; &lt;PackageReference Include=<span class="hljs-string"><span class="hljs-string">"NUnit"</span></span>&gt; &lt;Version&gt;<span class="hljs-number"><span class="hljs-number">3.11</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>&lt;/Version&gt; &lt;/PackageReference&gt; &lt;/ItemGroup&gt;</code> </pre> </li><li>  Sekarang lakukan hal yang sama seperti di atas untuk <code>ProjectReference</code> .  Jika Anda tidak menemukan apa pun, lanjutkan.  Jika Anda menemukan item <code>ProjectReference</code> , mereka akan terlihat seperti ini. <br><br><pre> <code class="cs hljs">&lt;ItemGroup&gt; &lt;ProjectReference Include=<span class="hljs-string"><span class="hljs-string">"..\WindowsFormsApp1\WindowsFormsApp1.csproj"</span></span>&gt; &lt;Project&gt;{<span class="hljs-number"><span class="hljs-number">7b</span></span>ce0d50<span class="hljs-number"><span class="hljs-number">-17f</span></span>e<span class="hljs-number"><span class="hljs-number">-4f</span></span>da-b6b7-e7960aed8ac2}&lt;/Project&gt; &lt;Name&gt;WindowsFormsApp1&lt;/Name&gt; &lt;/ProjectReference&gt; &lt;/ItemGroup&gt;</code> </pre> </li><li>  Anda dapat menghapus baris dengan properti <code>&lt;Project&gt;</code> dan <code>&lt;Name&gt;</code> , karena mereka tidak diperlukan dalam gaya file proyek baru.  Jadi untuk setiap <code>ProjectReference</code> yang Anda temukan (jika ada), salin saja <code>ItemGroup</code> dan <code>ProjectReference</code> seperti ini. <br><br><pre> <code class="cs hljs">&lt;ItemGroup&gt; &lt;ProjectReference Include=<span class="hljs-string"><span class="hljs-string">"..\WindowsFormsApp1\WindowsFormsApp1.csproj"</span></span> /&gt; &lt;/ItemGroup&gt;</code> </pre> <br>  Simpan semuanya.  Tutup file .csproj di Visual Studio.  Klik kanan pada proyek Anda di <strong>Solution Explorer</strong> dan pilih <strong>Reload Project</strong> .  Bangun kembali dan pastikan tidak ada kesalahan. <br><p>  Berita bagus, Anda baru saja memperbarui file proyek ke gaya SDK baru!  Proyek ini masih menargetkan .NET Framework, tetapi sekarang Anda akan dapat menargetkan ulang ke .NET Core. </p><br><h2>  Langkah 3 - Retarget ke .NET Core </h2><br><p>  Buka file proyek Anda dengan mengklik dua kali pada proyek Anda di <strong>Solution Explorer</strong> .  Temukan properti <code>&lt;TargetFramework&gt;</code> dan ubah nilainya menjadi <code>netcoreapp3.0</code> .  Sekarang file proyek Anda akan terlihat seperti ini: </p><br><pre> <code class="cs hljs">&lt;Project Sdk=<span class="hljs-string"><span class="hljs-string">"Microsoft.NET.Sdk.WindowsDesktop"</span></span>&gt; &lt;PropertyGroup&gt; &lt;OutputType&gt;WinExe&lt;/OutputType&gt; &lt;TargetFramework&gt;netcoreapp3<span class="hljs-number"><span class="hljs-number">.0</span></span>&lt;/TargetFramework&gt; ... &lt;/PropertyGroup&gt; ... &lt;/Project&gt;</code> </pre> <br><p>  Bangun dan jalankan proyek Anda.  <strong>Selamat, Anda porting ke .NET Core 3!</strong> </p><br><h2>  Memperbaiki kesalahan </h2><br><p>  Jika Anda mendapatkan kesalahan seperti </p><br><pre> <code class="cs hljs">The type or <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> &lt;<span class="hljs-title"><span class="hljs-title">some</span></span> <span class="hljs-title"><span class="hljs-title">name</span></span>&gt; <span class="hljs-title"><span class="hljs-title">could</span></span> <span class="hljs-title"><span class="hljs-title">not</span></span> <span class="hljs-title"><span class="hljs-title">be</span></span> <span class="hljs-title"><span class="hljs-title">found</span></span></code> </pre> <br><p>  atau </p><br><pre> <code class="cs hljs">The name &lt;some name&gt; does not exist <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the current context</code> </pre> <br><p>  dan laporan portabilitas Anda berwarna hijau, seharusnya mudah diperbaiki dengan menambahkan paket NuGet dengan pustaka yang sesuai.  Jika Anda tidak dapat menemukan paket NuGet dengan pustaka yang hilang, coba rujuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Microsoft.Windows.Compatibility</a> .  Paket ini menambahkan ~ 21K .NET API dari .NET Framework. </p><br><h2>  Bekerja dengan desainer </h2><br><p>  Meskipun dimungkinkan untuk mengedit antarmuka pengguna aplikasi Anda melalui kode, pengembang biasanya lebih suka menggunakan desainer visual.  Dengan .NET Core, kami harus merancang ulang cara perancang bekerja dengan proyek .NET Core: </p><br><ul><li>  Desainer WPF sudah dalam pratinjau dan kami sedang berupaya menambahkan lebih banyak fungsionalitas untuk itu. </li><li>  Desainer WinForms untuk .NET Core akan tersedia nanti, dan sementara itu di sana Anda dapat menggunakan desainer .NET Framework WinForms sebagai solusinya. </li></ul><br><p>  Berikut adalah bagaimana Anda dapat menggunakan desainer .NET Framework WinForms: </p><br><ol><li>  Salin file .csproj Anda (misalkan Anda memiliki <code>MyProject.csproj</code> ), berikan nama yang berbeda, misalnya <code>MyProject.NetFramework.csproj</code> dan letakkan di sebelah file proyek yang ada. </li><li>  Pastikan proyek Anda ditutup di Visual Studio, buka proyek baru <code>MyProject.NetFramework.csproj</code> . <br>  Di <strong>Solution Explorer</strong> klik kanan pada proyek Anda dan pilih <strong>Properties</strong> .  Di tab Aplikasi (harus terbuka secara default) setel <strong>nama Majelis</strong> dan <strong>namespace Default</strong> ke nilai yang sama seperti dalam proyek awal Anda (hapus ".NetFramework" dari nama-nama). <br>  Simpan solusi ini di sebelah solusi yang ada. </li><li>  Buka file proyek baru dan ubah <code>&lt;TargetFramework&gt;</code> ke <code>net472</code> . </li><li>  Sekarang ketika Anda perlu menggunakan perancang WinForms, muat proyek Anda dengan file proyek <code>MyProject.NetFramework.csproj</code> dan Anda akan mendapatkan pengalaman penuh perancang .NET Framework.  Ketika Anda selesai dengan perancang, tutup dan buka proyek Anda dengan file proyek .NET Core. </li><li>  Ini hanya solusi sampai desainer WinForms untuk .NET Core siap. </li></ol><br><h2>  Mengapa port ke .NET Core </h2><br><p>  Lihat video di mana Scott Hunter dan saya berbicara tentang semua hal baru yang datang dengan .NET Core 3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Porting ke .NET Core 3.0</a> . </p></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id455325/">https://habr.com/ru/post/id455325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id455314/index.html">Apa itu jaringan layanan</a></li>
<li><a href="../id455316/index.html">Kami memodifikasi tumpukan Bluetooth untuk meningkatkan suara pada headphone tanpa codec AAC, aptX dan LDAC</a></li>
<li><a href="../id455318/index.html">Apa saja area aplikasi pencetakan 3D?</a></li>
<li><a href="../id455319/index.html">Artis 3D alur kerja. Bagaimana tidak menenggelamkan banyak informasi. Bagian 1</a></li>
<li><a href="../id455321/index.html">Lakukan otomatisasi rumah sendiri</a></li>
<li><a href="../id455329/index.html">Pengumuman Azure IoT Edge Tools (Pratinjau)</a></li>
<li><a href="../id455331/index.html">Bagaimana komputer belajar bagaimana mengenali gambar dengan sangat baik</a></li>
<li><a href="../id455333/index.html">Siapa yang meletakkan Python di Pembaruan Windows 10 Mei 2019?</a></li>
<li><a href="../id455335/index.html">Petty Petty Joy # 3: Puisi</a></li>
<li><a href="../id455337/index.html">Siapa yang menambahkan Python ke pembaruan Windows terbaru?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>