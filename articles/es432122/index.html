<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏼 🤞🏾 🥚 Xcode y depuración avanzada en LLDB: parte 2 🏑 🛬 🐩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas tardes, hoy les traigo a su atención la segunda parte del artículo sobre depuración de aplicaciones en LLDB. 

 En la primera parte, descubrimo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Xcode y depuración avanzada en LLDB: parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432122/">  Buenas tardes, hoy les traigo a su atención la segunda parte del artículo sobre depuración de aplicaciones en LLDB. <br><br>  En la primera parte, descubrimos cómo usar puntos de interrupción en Xcode para modificar las propiedades existentes de las variables y agregar una línea de código a través de comandos de instrucciones. <br><br>  Creé un proyecto de demostración intencionalmente con algunos errores para descubrir cómo usar diferentes tipos de puntos de interrupción en LLDB para depurar la aplicación. <br><br>  Si no ha estudiado la primera parte del artículo, es mejor comenzar con él.  Permítame recordarle una regla importante de este tutorial: hasta el final de este artículo, no detiene el compilador y no reinicia la aplicación después del primer lanzamiento.  Corrige errores durante la ejecución del programa. <br><a name="habracut"></a><br>  <b>Miradores</b> <br><br>  Entonces, el siguiente error en la aplicación: <br><br>  <i>3. Puede cargar publicaciones más de 7 veces.</i> <br><br>  Cómo reproducir el error: <br><br><ul><li>  Encienda Internet en su iPhone / simulador </li><li>  Desplácese hacia abajo hasta el final de la tabla para cargar más publicaciones. </li><li>  Puede cargar publicaciones más de 7 veces (aunque en esta aplicación el usuario no debería tener esa oportunidad). </li></ul><br>  Como una de las opciones para detectar errores, debe averiguar cómo <i>se</i> actualiza la variable de número entero <i>pageNumber</i> después de cargar nuevas publicaciones en la página.  Como todavía no está familiarizado con mi código, debe dedicar un tiempo a comprender lo que sucede en él. <br><br>  No te preocupes  Aplica un poco de magia. <br><br>  Desde la primera parte del artículo, aprendimos que la solicitud GET HTTP se ejecuta en la sección <i>Redes de la marca pragma</i> .  Contiene exactamente una función <i>loadPosts</i> .  Coloque un punto de interrupción en la primera línea de esta función y arrastre la tabla hacia abajo para actualizar.  El compilador se detendrá en este punto de interrupción. <br><br><img src="https://habrastorage.org/webt/gg/rd/wq/ggrdwq_c8zezh0eryalmj_yr6xy.png" alt="imagen"><br>  <i>Objetivo-c</i> <br><br><img src="https://habrastorage.org/webt/4z/fa/gh/4zfaghwfq-ul5i0ydferg26rhsg.png" alt="imagen"><br>  <i>Veloz</i> <br><br>  En la ventana inferior del depurador, haga clic en el botón "Mostrar variables".  Aparecerá una nueva ventana a la izquierda, en la que verá todas las variables PostsTableViewController. <br><br><img src="https://habrastorage.org/webt/dt/lm/v6/dtlmv6arqywkmaeku0r7g6ibamu.png" alt="imagen"><br><br>  Apunte el cursor a pageNumber, haga clic derecho y seleccione "Watch _pageNumber" / "Watch pageNumber" para Objective-C y Swift, respectivamente. <br><br><img src="https://habrastorage.org/webt/6x/6t/-v/6x6t-v_tvu6re53bnufw-kjk96w.png" alt="imagen"><br>  <i>Objetivo-c</i> <br><br><img src="https://habrastorage.org/webt/p4/dk/nu/p4dknu-mwwpg0ep0kruupp-c3no.png" alt="imagen"><br>  <i>Veloz</i> <br><br>  Por lo tanto, creó el denominado punto de observación para la variable pageNumber.  El punto de observación es un tipo de punto de interrupción que detiene el depurador cada vez que cambia el valor de la variable. <br><br><img src="https://habrastorage.org/webt/dn/86/rr/dn86rrhnz6ntwcsqvr57hdpctyw.png" alt="imagen"><br>  <i>Objetivo-c</i> <br><br><img src="https://habrastorage.org/webt/nz/fl/rk/nzflrkgw-fb4zsdgeasqbil3m4o.png" alt="imagen"><br>  <i>Veloz</i> <br><br>  Continuar el programa.  El depurador se detiene y ve algo como lo siguiente: <br><br>  <b>Objetivo-c</b> <br><br><img src="https://habrastorage.org/webt/hy/ew/5c/hyew5c2_0tqfdwstkpjy3mtq1as.png" alt="imagen"><br><br><ol><li>  Registra los valores antiguos y nuevos de la variable <i>pageNumber</i> . </li><li>  Seguimiento de una pila de código que cambia el valor de la variable <i>pageNumber</i> . </li><li>  El punto actual que causó el <i>cambio de la</i> variable <i>pageNumber</i> es el método de establecimiento de esta variable. </li></ol><br>  Si hace referencia al paso 1 en el seguimiento de la pila, lo llevará al siguiente fragmento de código: <br><br><img src="https://habrastorage.org/webt/li/qc/ma/liqcmas4b7cjleyofwbbkrsac0u.png" alt="imagen"><br><br>  <b>Veloz</b> <br><br><img src="https://habrastorage.org/webt/jf/ug/bf/jfugbf11anrcjroqqpikijthzm0.png" alt="imagen"><br><br><ol><li>  El depurador le informa que el punto de observación que estableció ha revelado algo. </li><li>  Seguimiento de una pila de código que cambia el valor de la variable <i>pageNumber</i> . </li><li>  El punto actual que causó el <i>cambio de la</i> variable <i>pageNumber</i> es la función <i>updateForNetworkCallEnd</i> . </li></ol><br>  Es lógico concluir que cada vez que se realiza una solicitud HTTP GET exitosa, la variable <i>pageNumber</i> se incrementa en 1 hasta que la variable de <i>estado</i> (del tipo enum) está en el estado "activo".  Esta variable puede tener 2 estados: activo ("activo") o inactivo ("inactivo").  El estado "activo" significa que el usuario puede cargar publicaciones (es decir, no se ha alcanzado el límite de 7 descargas).  El estado "inactivo", por el contrario, supone que el usuario ya no podrá cargar publicaciones.  Como resultado, necesitamos agregar lógica a la función <i>updateForNetworkCallEnd</i> , que verificaría la variable <i>pageNumber</i> y establecería la variable de <i>estado</i> en el estado apropiado. <br><br>  Como habrás adivinado, es mucho más fácil probar primero la hipótesis sin detener el compilador antes de hacer cambios en el código. <br><br>  Observo que en la sección <i>Soporte de la marca pragma</i> ya tenemos la función que necesitamos ( <i>setToInactiveState</i> ), que establece la variable de <i>estado</i> en "inactivo". <br>  Agregue un punto de interrupción una línea por encima de la condición <i>if</i> .  Agregue también el siguiente comando de instrucciones al depurador. <br><br>  <b>Objetivo-c</b> <br><br><pre><code class="objectivec hljs">expression <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.pageNumber &gt;= <span class="hljs-number"><span class="hljs-number">7</span></span>) {[<span class="hljs-keyword"><span class="hljs-keyword">self</span></span> setToInactiveState]}</code> </pre> <br><img src="https://habrastorage.org/webt/n1/xq/i6/n1xqi6cete7y7axy3mwhmaoiypo.png" alt="imagen"><br><br>  <b>Veloz</b> <br><br><pre> <code class="objectivec hljs">expression <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.pageNumber &gt;= <span class="hljs-number"><span class="hljs-number">7</span></span>) {setToInactiveState()}</code> </pre> <br><br><img src="https://habrastorage.org/webt/o6/q-/-k/o6q--kvxy7om339ov4hvq8elh40.png" alt="imagen"><br><br>  Después de eso, elimine el primer punto de interrupción que utilizó para establecer el punto de observación.  También desactive el punto de observación mismo. <br><br><img src="https://habrastorage.org/webt/8t/tw/xv/8ttwxvs9yktf5mm4fupg6sxmhnc.png" alt="imagen"><br>  <i>Objetivo-c</i> <br><br><img src="https://habrastorage.org/webt/u2/73/nf/u273nfcotvsi2b_ulsygpyjgkje.png" alt="imagen"><br>  <i>Objetivo-c</i> <br><br><img src="https://habrastorage.org/webt/zm/8r/vr/zm8rvrmo4zxy12unx4ifgc13ifa.png" alt="imagen"><br>  <i>Veloz</i> <br><br><img src="https://habrastorage.org/webt/f6/jv/bz/f6jvbzg0gq56-8wl_8wcw-4q_j8.png" alt="imagen"><br>  <i>Veloz</i> <br><br>  Ahora desplácese hacia arriba en las tablas, arrastre hacia abajo para actualizar y comience a voltear. <br>  ¡Todo salió bien!  Pero es demasiado temprano para celebrar, ¡todavía tenemos un error que solucionar! <br><br>  <b>Que sigue</b> <br><br>  La tercera parte final del artículo, en la que aprendemos sobre otro tipo de puntos de interrupción: simbólicos (puntos de interrupción simbólicos). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432122/">https://habr.com/ru/post/es432122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432112/index.html">Intel XMM 8160: un módem universal multimodo 5G</a></li>
<li><a href="../es432114/index.html">Usar rutas SVG en el lienzo para mover objetos</a></li>
<li><a href="../es432116/index.html">Tendencia sincrónica de JS: encuesta</a></li>
<li><a href="../es432118/index.html">Un gerente de proyecto con TK en mano no es un signo de gestión de proyectos</a></li>
<li><a href="../es432120/index.html">Lenovo pagará a los propietarios de computadoras portátiles $ 8.3 millones de compensación por instalar el malware Superfish</a></li>
<li><a href="../es432128/index.html">Muletas, Narnia, Procrustes Ninja: tres dolores tímidos en una startup</a></li>
<li><a href="../es432130/index.html">Autumn Mitaps sobre desarrollo móvil en la oficina de Tutu.ru</a></li>
<li><a href="../es432132/index.html">William Shakespeare: dificultades para traducir sonetos al ruso</a></li>
<li><a href="../es432134/index.html">Generación de entornos basados ​​en sonido y música en Unity3D. Parte 2. Crear una pista 2D a partir de música</a></li>
<li><a href="../es432136/index.html">Enfríe la CPU en el centro de datos: la impresión láser 3D ayudará</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>