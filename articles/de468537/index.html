<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚫️ 👩🏿‍🤝‍👩🏼 ⏰ Grundlagen von DevOps. Einstieg in das Projekt von Grund auf neu 🤼 💅🏿 🛢️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im November 2018 wurde in Litauen eine Abteilung für Informationsunterstützung eingerichtet, in der Andrei Yumashev die Leitung erhielt. Im vergangene...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Grundlagen von DevOps. Einstieg in das Projekt von Grund auf neu</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/468537/">  Im November 2018 wurde in Litauen eine Abteilung für Informationsunterstützung eingerichtet, in der <strong>Andrei Yumashev</strong> die Leitung erhielt.  Im vergangenen Jahr hilft die Abteilung dem Unternehmen bei der Arbeit und Entwicklung und hält die gesamte Infrastruktur unter Kontrolle.  Das war aber nicht immer der Fall.  Vor dem Aufbau der Arbeit sah sich Andrei mit Ruinen konfrontiert: halbtoten Nagios, bedingt lebenden Kakteen und komatösen Puppen, 120-seitigem toten Wiki, inkohärenten Aufgabentabellen und Eisenlisten, veralteter Architektur, 340 inaktiven Kernen, 2 TB RAM und 17 TB Speicherplatz, der aus irgendeinem Grund nicht in den Inventartabellen erfasst wurde.  Pläne, die nicht funktionieren, Fristen, die brechen, Arbeitsumgebung und Tools, die nicht vorhanden sind - all dies erwartete Andrei in einem neuen Projekt. <br><br><img src="https://habrastorage.org/webt/jr/wy/ag/jrwyagng-7fixaij6vkk8bbnet8.jpeg"><br><br>  Auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DevOpsConf 2019 machte</a> Andrei einen Bericht, in dem er anhand von Live-Beispielen zeigte, was es wert ist und was nicht, wenn Sie ein Projekt betreten, das Sie nicht gesehen oder schlecht kennen.  Unter dem Schnitt befindet sich eine aktualisierte Version der Geschichte - wie man die Bandbreite der Probleme richtig analysiert und einen Aktivitätsplan erstellt, wie man den KPI richtig berechnet und wann man rechtzeitig anhält. <br><a name="habracut"></a><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YOaIg9By0fU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <strong>Andrey Yumashev</strong> ist Inhaber seiner eigenen Entwicklungsunternehmen in verschiedenen Bereichen (online und offline), Berater für die Konstruktion von Prozessen und Leiter der Abteilung für Informationsunterstützung bei LiteRes. <br><br>  Ein bisschen über LiteRes.  Dies ist der größte Anbieter von elektronischen und Hörbüchern in Russland, ein Verlag und eine Reihe von Partnerschaftsprojekten.  Dies sind Hunderttausende von Perl-Zeilen, mehrere Datenbankcluster und Repositorys.  Dies sind 2 GB ausgehender Datenverkehr pro Sekunde, Hunderttausende eindeutiger Anforderungen pro Tag, mehrere Racks in verschiedenen Rechenzentren und mehr als 100 Server.  Alles in allem ist dies nicht nur ein E-Bookstore. <br><br><h2>  Erste Schritte </h2><br>  Ich habe früher stückweise in LiteRes gearbeitet.  Das Unternehmen übt die Entwicklung von Mitarbeitern mit der Registrierung von Remote-Mitarbeitern im Staat aus. <br><br>  Das Aufgabenerfüllungssystem in Litern arbeitet nach dem Prinzip einer „Auktion“.  Im internen Task-Tracker beschreiben Manager und Architekten Aufgaben für interne Projekte und bewerten diese in lokaler Währung.  Die Währung ist "Pilze, Gras und Baum". <br><br>  Dann beginnt die "einfache Auktion" - jeder Entwickler kann die Aufgabe übernehmen oder verhandeln.  Gut gemacht - du wirst bezahlt.  Ich habe überhaupt nicht gearbeitet - du verstehst es nicht.  Auf spielerische Weise sind Menschen daran interessiert, Aufgaben zu erledigen.  Weitere Informationen zu diesem System finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Präsentation von</a> Dmitry Gribov. <br><br><img src="https://habrastorage.org/webt/1a/zj/wj/1azjwjlwwzndujp6trjhdlzwyn4.jpeg"><br>  <em>Arbeite für die Pilze.</em> <br><br>  Das System passte zu mir - ich unterstützte die Perl-Programmiererfahrung, arbeitete, wenn es zweckmäßig war, und verbrachte nicht zu viel Zeit damit.  In diesem Modus verbrachte ich einige Jahre bis November letzten Jahres und dachte, ich verstehe die Struktur des Ökosystems. <br><br><h3>  Ich habe mich geirrt </h3><br>  Ich wurde in das Unternehmen eingeladen und informiert, dass meine Dienste als Perl-Entwickler nicht benötigt wurden, und mir wurde angeboten, eine neue Abteilung zu leiten.  Im November 2018 wurde ich Leiter der Informationsabteilung. <br><br>  Vor mir lagen Freiräume: mehrere Gestelle mit Eisen in mehreren Rechenzentren in Moskau, veraltete Architektur, ausländische Ressourcen und das fast vollständige Fehlen relevanter Dokumentation für alles.  Die Einführung klang ungefähr so: "Nun ist dies Ihr Erbe, verbessern Sie sich, brechen Sie nicht und unterstützen Sie."  Es gab eine vorgefertigte Liste von Aufgaben und groben Plänen für das kommende Jahr.  Es war notwendig, all dies zu verstehen und in eine menschliche Form zu bringen. <br><blockquote>  Ich hatte das Gefühl, in den Abgrund zu schauen, und der Abgrund sah mich an. </blockquote>  Die Erfahrung der letzten Jahre hat mir sehr geholfen, als ich eine klare Position bei der Arbeit mit einem Fremden oder unverständlich entwickelte.  Zuallererst ist dies eine gründliche Studie und ein minimaler Aktionsplan.  Hier habe ich angefangen. <br><br><h2>  Sauberkeit ist der Schlüssel zur Gesundheit </h2><br>  Ordnung ist in erster Linie. <br><br>  Für den ersten Monat gelang es zu finden: <br><br><ul><li>  verstreute Google Sheets mit aktuellen Aufgaben und einer Prise nützlicher Informationen; </li><li>  verstreute Dokumente: Wörter, Texte, Fetzen des alten Wikis 120 Seiten; </li><li>  halb toter alter Nagios; </li><li>  bedingte Live-Überwachung von Kakteen; </li><li>  sehr alte Marionette mit seltenen Lebenszeichen. </li></ul><br>  Alle diese Ruinen sammelten auch 400 Metriken. <br><br><img src="https://habrastorage.org/webt/gu/q9/bx/guq9bxrahvxth1pywoi2rgw8ck0.jpeg"><br>  <em>Die Ruinen, die ich im ersten Monat gefunden habe.</em> <br><br>  Ich habe ein bisschen Spaß gemacht, alles fließend gelesen und mich an die Trello-Prozesse gehalten.  Er übertrug die aktuellen Aufgaben seiner Kollegen auf ihn und begann zu träumen - einen Plan für das Quartal und das Jahr zu schreiben. <br><br><h3>  Erster Fehler </h3><blockquote>  Keine Pläne, bis Sie die Gegend erkunden. </blockquote>  Der Plan strahlte vor Hitze und Gesundheit, berücksichtigte jedoch nicht die Realität.  Es war schön und einfach: Überwachung implementieren, Protokolle analysieren und Bereitstellung auf CI / CD übertragen.  Irgendwann am Ende gab es eine träge „Analyse der Schwächen des Projekts“.  Klassische erste Schritte. <br><br>  Ich habe die Hauptsache vergessen.  Meine erste Priorität ist nicht die Implementierung von Tools für die Implementierung von Tools, sondern die Gewährleistung der Lebensfähigkeit und Stabilität des gesamten Dienstes. <br><br>  Während ich den Plan schrieb und von den Fragen meiner Kollegen gequält wurde, kamen die ersten Probleme.  Einer der Knoten eines der Cluster-Cluster hatte nicht mehr genügend Speicherplatz, und die SSD als Ganzes endete auf dem anderen Knoten desselben Clusters.  Ich kaufte dringend neue größere Festplatten und unsere Abteilung sammelte schnell Erfahrung beim Ersetzen dieser Festplatten, indem sie das System von Festplatte zu Festplatte kopierte.  Nach dem Ersetzen der Festplatten haben wir den Cluster über SST von Grund auf neu erstellt.  Der Cluster basiert auf Percona und Galera, und solche Unterhaltung geht ihm nicht umsonst. <br><br>  Während ich zwischen Rechenzentren unterwegs war, entstanden die <strong>ersten Zweifel</strong> an dem Plan. <br><br><img src="https://habrastorage.org/webt/3d/or/b2/3dorb2jimqxrud9f-mtog3yqltw.jpeg"><br>  <em>Ahhhhhh!</em> <br><br>  Gleichzeitig war die Intensität der Schwarzarbeit so hoch, dass ich nicht einmal daran dachte, eine vollständige Krankengeschichte zu sammeln, sondern einfach ein paar Fotos für weitere Studien machte. <br><br>  Parallel dazu erschien eine weitere Einführung.  In Litern gibt es Audioversionen von Büchern.  Damit der Hörer die Aufnahme nicht jedes Mal zurückspult, haben wir einen Mechanismus, der den Moment des Stopps verfolgt.  Beim nächsten Hören wird die Audioversion aus dem gewünschten Bereich wiedergegeben.  Für diese Aufgabe wurden etwa 500 Kerne schneller gefunden, ein Terabyte RAM und ein wenig Analyse in Java. <br><br>  Ich begann, Azure, Google, DigitalOcean und alles andere, was Droplet-Lösungen bieten, zu informieren.  Containerisierung bittet, warum nicht fröhlich umsetzen?  Darüber hinaus gab es im "großen" Plan einen separaten Punkt. <br><br>  Ein Monat in Korrespondenz und Ausschreibung ist vergangen, alles wurde zu den Aufgaben in Trello hinzugefügt, von denen ich einen bedeutenden Teil generiert habe, aber das Ergebnis hat sich nicht weiterentwickelt.  Ich fragte mich, ob ich dorthin gehen würde.  Vor mir hat alles irgendwie funktioniert und wird nicht aufhören, egal wie viel leere Aktivität ich zeige.  Ich setzte mich sorgfältig hin, um das Inventar zu studieren, das ich Stück für Stück sammeln konnte.  Dann stand er auf und ging in die zweite Runde der Rechenzentren. <br><br>  Der zweite ruhige Besuch in den Rechenzentren brachte alles an seinen Platz.  Als ich das alles nicht in der Konsole, nicht in Excel, sondern lebendig sah, änderte sich mein Bewusstsein für die Realität radikal.  Mir wurde klar, dass ich überhaupt nicht mit dem beschäftigt bin, was ich sollte.  Denn zuerst musst du verstehen, womit ich arbeite. <br><blockquote>  Bis ich verstehe, womit ich arbeite, sind alle Pläne Zeitverschwendung. </blockquote>  Ich studierte die Racks, verglich die Realität mit Listen, nahm Änderungen vor und stieß auf eine Halbeinheit mit 20 Klingen.  Von 20 arbeiteten nur 4. Ich ruckte mit den Klingen und stellte fest, dass wir keine Tröpfchen für die Lösung brauchten.  Weil ich 340 ruhende Kerne, 2 Terabyte RAM und 17 Terabyte Speicherplatz gefunden habe!  Dies sind alte Backends, alte Knoten von Clustern, die einfach nicht mehr verwendet wurden, und die Zeit hat die Erinnerung an ihre Existenz gelöscht.  Ich habe Kubernetes auf diese Klingen gerollt und eine wichtige Aufgabe erledigt. <br><br><h3>  Erste Fehlerausgabe </h3><blockquote>  Analysieren und studieren.  Ohne eine vorläufige Analyse der Situation fährt der Zug nicht. </blockquote>  Dank einer nachdenklichen Reise zu den Feldern hatte ich bereits einen ziemlich relevanten Plan für die Ausrüstung und die Gesamtarchitektur des Systems in der Hand.  Auf dem Hof ​​war Januar.  Ich verbrachte zwei Monate damit, von denen ich die Hälfte nur hin und her schoss.  Ich wusste nicht, welche Art von Feuer zuerst gelöscht werden sollte, welches Problem zuerst gelöst werden sollte - die Routine mit Unterstützung ging nirgendwo hin. <br><br>  Parallel dazu habe ich drei Regeln abgeleitet.  Dies sind die Folgen des ersten Fehlers. <br><br><img src="https://habrastorage.org/webt/pk/bc/d6/pkbcd6tndhw7uz0jlv7wkttizts.jpeg"><br>  <em>Drei Folgerungen.</em> <br><br><h3>  Zweiter Plan </h3><br>  Ich habe sekundäre Aufgaben aus dem Vordergrund geworfen - Protokollanalyse und CI / CD-Implementierung.  Im Ausmaß einer allgemeinen Katastrophe sind diese kleinen Dinge nicht wichtig.  Liter hat jahrelang gearbeitet und eine eigene Logik für die Arbeit mit Protokollen entwickelt und einen selbstgemachten rollenden Dämon erworben.  Ich habe in den fünften Plan hineingeschoben, was funktionierte und keine Intervention erforderte. <br><br>  Der zweite Plan sah ungefähr so ​​aus. <br><br>  <strong>Beschäftige dich mit der Überwachung</strong> .  In seiner jetzigen Form spiegelte es nicht mindestens ein Drittel der Probleme wider, obwohl es funktionierte. <br><br>  <strong>Beschreiben Sie die allgemeine Logik der gesamten Liter</strong> .  Servernamen sind großartig, aber Schlüsselpakete sind ein wichtiges Wissen: Was, Wo, Wo, Warum und Warum.  Der vorherige Fehler machte deutlich, dass ohne dies in keiner Weise. <br><br>  <strong>Skalieren</strong> .  Fast die letzten freien Ressourcen nahmen Kubernetes.  Nach minimalen Schätzungen sollte er den gesamten Arbeitspool in sechs Monaten fertigstellen. <br><br>  <strong>Inventar und Zustand der Ausrüstung</strong> .  Als Teil der Reise habe ich buchstäblich ein Web von einer Reihe von Servern gesäubert, die Angst vor ihren Tags hatten - "Backup", "Abonnieren", "BGP".  Wieder Scheiben, fallende Scheiben. <br><br>  <strong>Anleitungen an die Realität anpassen</strong> .  Die meisten Anweisungen sind veraltet oder unvollständig. <br><br>  Die ersten sechs Monate vergingen unbemerkt beim Umsatz, beim Kauf von Ausrüstung und bei Problemen, und ich etablierte mich schließlich im zweiten Fehler. <br><br><h3>  Zweiter Fehler </h3><blockquote>  Unterschätzen Sie nicht. </blockquote>  <strong>Jeder Begriff, der mir in den Sinn kommt, wird unterschätzt</strong> .  Natürlich können Sie schnell von dem Projekt profitieren.  Um die Rendite zu maximieren, multiplizieren Sie die geplante Zeit <strong>mindestens zweimal</strong> .  Besonders bei einem komplexen und hoch belasteten Projekt, dessen Verkehr um mehr als 100% pro Jahr stetig wächst. <br><br>  Warum mindestens zweimal?  Wenn das Projekt instabil und nicht erforscht ist, sollten Sie darauf vorbereitet sein, dass jede Aktivität zu anderen Aktivitäten an benachbarten Orten führt.  Es scheint, dass das Ersetzen von Festplatten - was ist einfacher?  Das Verfahren ist einfach, bis Sie auf einen Kauf stoßen, dann die Zeit für ausfallzeitspezifische Knoten planen und nach dem Ersetzen einer Festplatte warten.  Ich schätzte diese einfache Operation eine Woche.  Am Ende dauerte es zweieinhalb Wochen - selbst mit einem einfachen Beschaffungsschema. <br><br>  Ein weiteres Beispiel ist der Kauf und die Installation neuer Geräte.  Kaufen und bleiben, was ist so schwer?  Ich habe nicht mehr als einen Monat dafür gebraucht, ohne die Lieferzeit zu berücksichtigen.  Tatsächlich steht immer noch eines der drei Chassis vor meinem Schreibtisch.  Dies liegt daran, dass die Ausrüstung einfach nicht genügend Platz hatte - wir haben den Platz in den Löchern zwischen der aktuellen Installation berechnet.  Als wir in einem der Rechenzentren ankamen, um das Rack zu erschüttern, stellten wir plötzlich fest, dass die beiden Server „unantastbar“ waren.  Der erste ist der Host, und es ist einfach nicht sicher, ihn zu berühren.  Der zweite ist ein Korb mit 16 Festplatten, der heruntergefahren wird und mit einem Haufen Datenhaufen behaftet ist.  Die Strohhalme wurden nicht gelegt, die Analyse wurde nicht durchgeführt, und es ist gut, dass sie zwei von drei kleben konnten. <br><br>  <strong>Wenn es so aussieht, als ob alles einfach sein wird, werden Sie bald Probleme haben</strong> .  Diese Installation warf eine neue Frage auf: Wenn mit dem Ort alles so schlecht ist, wie werden wir dann expandieren?  Eine kleine Aufgabe brachte jetzt einen riesigen Schweiß hervor.  Im Jahr 2020 laut Plan die Übertragung eines Rechenzentrums in ein anderes und die Erweiterung des Restes durch Racks.  Dies bedeutet eine Migration innerhalb des Rechenzentrums zwischen den Modulen.  Die Migration wurde durch die Umstrukturierung des Netzwerks und dessen Übertragung auf 10G ergänzt. <br><blockquote>  Unterschätzen Sie nicht das Timing, die Eintrittsschwelle und die Konsequenzen. </blockquote><br><h3>  Grundbegriffe </h3><br>  Natürlich wird das Wesen von Fehlern bereits im Wiki als Grundkonzept beschrieben. <br><br>  <strong>Jeder bürokratische Prozess dauert mindestens einen Monat</strong> .  Dies gilt für die Beschaffung, den Abschluss neuer Bedingungen mit einem Rechenzentrum oder anderen Auftragnehmern - für alles.  Nehmen Sie es als Tatsache. <br><br>  <strong>Nach Vertragsschluss und Zahlung dauert jede Lieferung mindestens eineinhalb Wochen</strong> , von den Festplatten bis zu den Verarbeitern.  Erfahren Sie, wie Sie mit Lieferanten über Vorliefertermine verhandeln.  Beispielsweise werden Datenträger jetzt bis zur Zahlung und sogar vor der Genehmigung des Antrags in kleinen Mengen an uns versendet. <br><br>  <strong>Obwohl es kein klares Verständnis der Implementierung gibt, bleibt jeder Plan, etwas zu implementieren, ein Plan.</strong>  Je kürzer die Schritte, desto besser. <br><br>  Um beispielsweise von MySQL zu ClickHouse zu wechseln, sieht ein großer Schritt folgendermaßen aus: "Lassen Sie uns einen Server füllen, dann ein Ticket für die Wiedereingliederung ziehen und fliegen!"  Tatsächlich führte eine detaillierte Untersuchung des Problems zu neuen Schritten: zusätzlicher Kauf von Geräten, z. B. Prozessoren und Festplatten, detaillierte Tickets zum Ändern der Logik des Benutzerverhaltens-Trackers, Aufrechterhaltung der umgekehrten Integration, Warteschlangenserver und viele andere. <br><blockquote>  Je detaillierter der Plan ist, desto besser.  Mit einem breiten Pinselstrich zu schreiben ist eine Garantie für 100% Fehler in der Frist. </blockquote>  <strong>Setzen Sie jeden Plan maximaler Kritik aus und erwarten Sie ein maximales Risiko</strong> .  Stellen Sie sicher, dass Sie den Plan aus geschäftlicher Sicht betrachten - welchen Gewinn jeder Schritt bringt. <br><br>  Wir mussten obligatorische Implementierungen durchführen: Überwachung, Ansible, aber wir haben die Geschäftskomponente nicht vergessen. <br><br><ul><li>  Durch Ändern der Netzwerkarchitektur können wir zusätzlichen Datenverkehr akzeptieren und viele aktuelle Probleme lösen. </li><li>  Durch Ändern der Art der Speicherung von Inhalten reduzieren wir die Anzahl der Fehler bei der Rückgabe von Büchern und beschleunigen die Arbeit mit Daten. </li><li>  Verschieben Sie das Backend in die Cloud - skalieren Sie die Last während Marketingkampagnen sofort. </li><li>  Die Übersetzung von Tracking in ClickHouse bietet Analysten die Möglichkeit, die Bedürfnisse unserer geliebten Leser und Zuhörer besser zu verstehen. </li></ul><br>  <strong>Der beste Weg, um mit einer Situation umzugehen, in der Sie sich mit dem Thema nicht auskennen, besteht darin, sich an Spezialisten zu wenden, nicht an einen Stapelüberlauf</strong> .  Sprachkontakt löst das Problem um ein Vielfaches schneller als lange Korrespondenz oder das Lesen von Dokumentationen. <br><br><h3>  Sechs Monate später </h3><br>  Trotz der Tatsache, dass die Grundaufgaben, auf die ich mich zu Beginn konzentrierte, dank Recherchen und Korrekturen immer noch ins Schleudern gerieten, erschien etwas Gutes auf meinen Händen. <br><br>  <strong>Selbstgeschriebenes Tool zur Bestandsaufnahme von Netzwerken und Adressen.</strong>  Er tippte regelmäßig auf alle unsere Subnetze und überprüfte zusätzlich die Daten mit der BIND-Konfiguration.  Dies machte es einfach und schnell, neue Dienste in Betrieb zu nehmen und die tatsächliche Last der Netzwerkpools zu verstehen.  Ich wollte wirklich keine Zeit damit verbringen, aber ich konnte keine fertige Alternative finden, und es dauerte viel Zeit, eine Adresse zu finden, die einer neuen Ressource zugewiesen werden konnte.  Während des Schreibens des Tools wurde der erste Entwurf des Plans im Netzwerk angezeigt. <br><br>  <strong>Puppe ist nicht mehr so ​​tot und verwirrt</strong> .  Ich war mit einer Schlussfolgerung aus Fehler Nummer eins bewaffnet und habe nicht einmal versucht, zu Ansible zu wechseln, was für mich angenehmer ist. <br><br>  <strong>Mehr oder weniger manipulierte Nagios</strong> .  Ich habe es vom Büro in das Rechenzentrum verlegt und an drei Stellen verteilt.  Es war viel schneller und billiger als die Implementierung von Zabbix.  Wir haben ein Loch mit Warnungen geschlossen, die zeitlich und ereignismäßig falsch sind, eine einfache Neukonfiguration der Regeln und die Einführung zusätzlicher Steuerknoten. <br><br>  <strong>Grundlegendes</strong> zur Wartung der verwendeten Datenbankcluster. <br><br>  <strong>Stark geschwollenes Wiki</strong> .  Sie "wurde fett" durch Kommentare und Anweisungen zum Arbeiten mit Umgebungen. <br><br>  <strong>Drei HP-Chassis</strong> , die wir für die zukünftige Installation gekauft haben. <br><br>  <strong>Den Weg zum Rest des Jahres 2019</strong> klarer <strong>verstehen</strong> . <br><br>  <strong>Recyceltes Ökosystem</strong> für Abteilungsarbeiten. <br><br>  In all diesen sechs Monaten habe ich fast alleine gearbeitet.  Die Mitarbeiter, die geerbt haben, waren mehr Systemadministratoren.  Sie waren nicht wirklich bestrebt, sich mit der Essenz von DevOps zu befassen. <br><br>  Mit großen Schwierigkeiten fand ich zwei Spezialisten im Team - Junior und Middle.  Ich habe die maximale Menge an Wissen, Aussehen und Passwörtern von aktuellen Administratoren gesammelt und mich schweren Herzens von ihnen getrennt. <br><br><h3>  Arbeitssystem, Umgebung und Werkzeuge </h3><br>  Ich werde Ihnen sagen, wie wichtig es ist, ein funktionierendes Ökosystem und eine funktionierende Umwelt einzuführen.  Ich habe Trello bereits erwähnt, aber nicht gesagt, warum und warum ich es implementiert habe.  Ohne die Festlegung von Zielen und strukturierten Daten wird keine Arbeit erstellt.  Dies wird teilweise durch den ersten Fehler belegt - sammeln Sie alles, was ist. <br><blockquote>  Nimm alles, gib nichts. </blockquote>  <strong>Der Prozess ist der Motor des Fortschritts</strong> .  Daher habe ich die ganze Zeit an dem System gearbeitet, trotz der Behinderung von Forschung und Arbeitsabläufen.  Dank des Systems stellte ich sechs Monate später die Dampflokomotive der Abteilung auf stabile Schienen. <br><br>  Die Einführung unterstützender Tools und ein kurzer Kurs zu deren Verwendung sparen Ihnen und Ihren Kollegen viel Zeit.  Vor allem, wenn Sie selbst an der Spitze das Management verstehen und ein wenig in der Lage sind, Ordnung auf dem Desktop und im Leben aufrechtzuerhalten. <br><br>  <strong>Wir erschweren die Werkzeuge nicht, wir gehen vom Einfachen aus und führen das Notwendige ein</strong> .  Anfang des Jahres dachte ich, welcher Task-Tracker zu uns passen würde.  Jira und Redmine sofort entlassen - zu viel Kontrolle.  Wir würden Zeit damit verbringen, die Formulare auszufüllen, keine Aufgaben.  Google Sheets - Ich denke, es lohnt sich nicht zu erklären, warum nicht. <br><br>  <strong>Trello war perfekt</strong> .  Ein paar einfache Spalten: "Backlog" - in dem sich alle festgestellten Fehler oder Aufgaben für die Zukunft summieren, "Bis zum Abschluss" - die wichtigsten zu erledigenden Aufgaben und "Fertig stellen".  Wenig später gab es fünf Spalten: "Backlog", "Pause", "Sprint", "Finish" und "Study". <br><br>  In der "Pause" trugen Dinge, die im Sprintprozess an Relevanz verloren haben.  In „Lernen“ - Aufgaben, die Forschung erfordern und erst verloren gehen sollten, wenn Wissen verstanden und in das Wiki übertragen wurde.  Der Sprint ist ein Beweis dafür, dass wir auf das Sprint-System umgestellt haben.       — 2 .      ,     . <strong>      </strong> . <br><br> <strong>  </strong> —  ,  Trello.      . ,      ,   .           2-3   ,       . ,         . <br><br>      .      — Puppet, Nagios, DNS —   SVN   GitLab.    Jenkins.    DNS    ,     Puppet     -   .       ,     1Password.       . <br><blockquote>        ,    . </blockquote><br><h3>  Die Probleme </h3><br>       :  ,    , .    ,      . <br><br>       —            .      .    ,     ,           .  ,          — «.». <br><br>   (  )  -    DDoS-      . ,      ,      DDoS.      DNS   ,   10         DNS .     ,         — , ,  — .   ,     20     . <br><br>        Cloudflare     .               Anti-DDoS     .  ,      Cloudflare        .       .        ,  DDoS'   ,   . <br><br>         .          KPI. <br><br><h3>   KPI </h3><br>          .           .  ,  ,    . <br><br>      KPI.    —    . <br><br><ul><li>     .   —  . </li><li> Downtime.   —  . </li><li>     .    ,  --,   ,    .    ,    . </li></ul><br>         KPI,    — . ,   ,    KPI,        . <br><br>   .      90%.      ,    .  —  ,  .      .         ,        . <br><br> <strong>    -Nagios  -Puppet</strong>     Zabbix  Grafana  Ansible.      «        ». <br><br>      Prometheus          ,   Zabbix.      Zabbix,   Prometheus —     .        —      .                . <br><br> <strong>  ,     ,    </strong> . <br><br><ul><li>  . </li><li>     . </li><li>   . </li><li> . </li></ul><br><h3>   </h3><br>       .   ,  <strong>   ,    </strong> .     —    .          ,     . <br><br>       .    -    -,  -  .    ,     .      .         .       .       . <br><br>    ,            . <br><br><img src="https://habrastorage.org/webt/cx/ts/v2/cxtsv2pow8pwufw6dzq6ovfai6q.jpeg"><br>       2  .   3     « »,   —   .    . <br><br> <strong> </strong> .      :  ,      ,    ,    Ansible,    . <br><br> <strong> .</strong>          ,        .      .        . <br><br> <strong>  </strong> . <br><br> <strong></strong> — ,  ,  .       . <br><br> <strong> </strong> .    —  ,             . <br><br>      .      ,           .      .      2019.    ,  ,    , —     .                . <br><br><h3>    </h3><br>         .    . <br><blockquote>   . </blockquote>       ,  -    ,    .         . <br><br><ul><li>        ,  ,      . </li><li>   ,      . </li><li>    , ,    — . </li><li>      ,  ,  ,  —   ,       . </li></ul><br>       .    ,    - .        ,   ,  ,    . <br><blockquote>    . </blockquote>     — , , .     ,    ,     . <br><br><img src="https://habrastorage.org/webt/mo/rs/us/morsusn140tgpjhqq_r7j_brdlc.jpeg"><br><br>   ,     —  -   . ,     . <br><br><ul><li>        . </li><li>      ,    . </li><li>      ,      ,    . </li></ul><br>       «  ,    ».   ,        —  ,  , ,  . <br><br>    ,     ,     . <br><br><h2>   —    </h2><br>  Ansible? ,  ,   Puppet  ?        —     . <br><br><img src="https://habrastorage.org/webt/q6/7v/5j/q67v5jtkws8xri9l2v-eflfci8e.jpeg"><br><br>          CI/CD?   ,  .  CI/CD  ,      — . <strong>    .</strong> <br><br>    ,  ,      .      - ?   ,          KPI?       ,    -. <strong> -</strong> —  ,    ,   . <br><blockquote>  . </blockquote><br> <b>  :</b> <br><br><ul><li>    —      . </li><li>         . </li><li>    ,     . </li></ul><br><blockquote>    DevOpsConf  .     —  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> , ,     .    DevOps-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HighLoad++ 2019</a>  .   DevOps 13     AWS,    Lamoda,    ,    Kubernetes,    Kubernetes,   Kubernetes   .          « <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> »  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a> .    HighLoad++      —  ,   -. .       —    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468537/">https://habr.com/ru/post/de468537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468527/index.html">Synthese eines Controllers nach der inversen Dynamikproblemmethode</a></li>
<li><a href="../de468529/index.html">Gorynych zähmen oder eBPF in Ghidra dekompilieren</a></li>
<li><a href="../de468531/index.html">Der erste PHP-Bot für VKontakte</a></li>
<li><a href="../de468533/index.html">Trampen auf DevOps mit Express 42</a></li>
<li><a href="../de468535/index.html">Benötigen Sie keine Protokolle?</a></li>
<li><a href="../de468541/index.html">Drag & Drop-Komponenten für blinde Benutzer? Sie machen Witze?</a></li>
<li><a href="../de468543/index.html">Wochentags Programmkomitee FrontendConf. Interview mit Sergey Popov</a></li>
<li><a href="../de468545/index.html">"Alice, lass uns zum Frontend gehen!"</a></li>
<li><a href="../de468547/index.html">Englisch sprechend, CSS, Grid und Barrierefreiheit bei FrontendConf</a></li>
<li><a href="../de468549/index.html">GPU gebunden. So übertragen Sie alles auf die Grafikkarte und ein bisschen mehr. Animationen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>