<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≥ üëçüèΩ üçÄ Guide JavaScript Partie 4: Fonctionnalit√©s üà∫ ü§û üë®üèΩ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous publions aujourd'hui la quatri√®me partie de la traduction du manuel JavaScript, consacr√©e aux fonctions. 

 ‚Üí Partie 1: premier programme, foncti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guide JavaScript Partie 4: Fonctionnalit√©s</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/430382/">  Nous publions aujourd'hui la quatri√®me partie de la traduction du manuel JavaScript, consacr√©e aux fonctions. <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: premier programme, fonctionnalit√©s linguistiques, normes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: style de code et structure du programme</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3: variables, types de donn√©es, expressions, objets</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4: caract√©ristiques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5: tableaux et boucles</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6: exceptions, points-virgules, litt√©raux g√©n√©riques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7: mode strict, ce mot-cl√©, √©v√©nements, modules, calculs math√©matiques</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 8: Pr√©sentation des fonctionnalit√©s d'ES6</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 9: Pr√©sentation des normes ES7, ES8 et ES9</a> <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/jf/eo/1s/jfeo1s-pygp9g5pazca5kjwvwoa.jpeg"></a> <br><br><h2>  <font color="#3AC1EF">Fonctions JavaScript</font> </h2><br>  Parlons des fonctions en JavaScript, examinons-les en g√©n√©ral et consid√©rons les d√©tails √† leur sujet, dont la connaissance vous permettra de les utiliser efficacement. <br><a name="habracut"></a><br>  Une fonction est un bloc de code ind√©pendant qui, une fois d√©clar√©, peut √™tre appel√© autant de fois que n√©cessaire.  Une fonction peut, bien que non n√©cessaire, accepter des param√®tres.  Les fonctions renvoient une seule valeur. <br><br>  Les fonctions en JavaScript sont des objets, ou plut√¥t, ce sont des objets de type <code>Function</code> .  Leur principale diff√©rence avec les objets ordinaires, en leur donnant les capacit√©s exceptionnelles qu'ils poss√®dent, est que les fonctions peuvent √™tre appel√©es. <br><br>  De plus, les fonctions en JavaScript sont appel√©es ¬´fonctions de premi√®re classe¬ª car elles peuvent √™tre affect√©es √† des variables, elles peuvent √™tre pass√©es √† d'autres fonctions en tant qu'arguments et elles peuvent √™tre renvoy√©es √† partir d'autres fonctions. <br><br>  Premi√®rement, nous consid√©rons les caract√©ristiques du travail avec les fonctions et les constructions syntaxiques correspondantes qui existaient dans le langage avant l'av√®nement de la norme ES6 et qui sont toujours pertinentes. <br><br>  Voici √† quoi ressemble une d√©claration de fonction. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSomething</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// - }</span></span></code> </pre> <br>  De nos jours, ces fonctions sont dites "normales", ce qui les distingue des fonctions "fl√®ches" apparues dans ES6. <br><br>  Vous pouvez affecter une fonction √† une variable ou une constante.  Une telle construction est appel√©e une expression de fonction. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// - }</span></span></code> </pre> <br>  Vous pouvez remarquer que dans l'exemple ci-dessus, la fonction est affect√©e √† une constante, mais elle-m√™me n'a pas de nom.  Ces fonctions sont appel√©es anonymes.  Des fonctions similaires peuvent recevoir des noms.  Dans ce cas, nous parlons d'une expression de fonction nomm√©e (expression de fonction nomm√©e). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doSomFn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// - }</span></span></code> </pre> <br>  L'utilisation de telles expressions augmente la commodit√© du d√©bogage (dans les messages d'erreur o√π la trace de pile est effectu√©e, le nom de la fonction est visible).  Le nom de la fonction dans une expression fonctionnelle peut √©galement √™tre n√©cessaire pour que la fonction puisse s'appeler, ce qui est indispensable pour impl√©menter des algorithmes r√©cursifs. <br><br>  Dans la norme ES6, des fonctions fl√®ches sont apparues, qui sont particuli√®rement pratiques √† utiliser sous la forme de ¬´fonctions en ligne¬ª - comme arguments pass√©s √† d'autres fonctions (rappels). <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - }</span></span></code> </pre> <br>  Les fonctions fl√©ch√©es, en plus du fait que les structures utilis√©es pour les d√©clarer, sont plus compactes que l'utilisation de fonctions ordinaires, elles en diff√®rent par certaines caract√©ristiques importantes, dont nous parlerons ci-dessous. <br><br><h2>  <font color="#3AC1EF">Param√®tres de fonction</font> </h2><br>  Les param√®tres sont des variables qui sont d√©finies au stade de la d√©claration d'une fonction et contiendront les valeurs qui lui sont transmises (ces valeurs sont appel√©es arguments).  Les fonctions en JavaScript peuvent n'avoir aucun param√®tre ou avoir un ou plusieurs param√®tres. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - } const doSomethingElse = foo =&gt; { // - } const doSomethingElseAgain = (foo, bar) =&gt; { // - }</span></span></code> </pre> <br>  Voici quelques exemples de fonctions fl√©ch√©es. <br><br>  √Ä partir de la norme ES6, les fonctions peuvent avoir ce que l'on appelle des ¬´param√®tres par d√©faut¬ª. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, bar = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'hey'</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - }</span></span></code> </pre> <br>  Ils repr√©sentent des valeurs standard qui sont d√©finies par les param√®tres des fonctions si, lors de son appel, les valeurs de certains param√®tres ne sont pas d√©finies.  Par exemple, la fonction illustr√©e ci-dessus peut √™tre appel√©e √† la fois en lui transmettant les deux param√®tres qu'elle re√ßoit et par d'autres m√©thodes. <br><br><pre> <code class="javascript hljs">doSomething(<span class="hljs-number"><span class="hljs-number">3</span></span>) doSomething()</code> </pre> <br>  Dans ES8, il est devenu possible de mettre une virgule apr√®s le dernier argument d'une fonction (c'est ce qu'on appelle une virgule de fin).  Cette fonctionnalit√© vous permet d'augmenter la commodit√© de l'√©dition de code lors de l'utilisation de syst√®mes de contr√¥le de version pendant le d√©veloppement du programme.  Des d√©tails √† ce sujet peuvent √™tre trouv√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Les arguments pass√©s aux fonctions peuvent √™tre repr√©sent√©s sous forme de tableaux.  Afin d'analyser ces arguments, vous pouvez utiliser un op√©rateur qui ressemble √† trois points (il s'agit de ce que l'on appelle "l'op√©rateur d'extension" ou "l'op√©rateur d'√©talement").  Voici √† quoi √ßa ressemble. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, bar = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'hey'</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - } const args = [2, 'ho!'] doSomething(...args)</span></span></code> </pre> <br>  Si les fonctions doivent prendre de nombreux param√®tres, il peut √™tre difficile de se souvenir de l'ordre de leur s√©quence.  Dans de tels cas, des objets avec des param√®tres et des possibilit√©s de d√©structuration d'objets ES6 sont utilis√©s. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ foo = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, bar = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'hey'</span></span></span></span><span class="hljs-function"><span class="hljs-params"> }</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - console.log(foo) // 2 console.log(bar) // 'ho!' } const args = { foo: 2, bar: 'ho!' } doSomething(args)</span></span></code> </pre> <br>  Cette technique permet, en d√©crivant les param√®tres sous forme de propri√©t√©s d'objet et en passant la fonction √† l'objet, d'obtenir l'acc√®s de la fonction aux param√®tres par leurs noms sans utiliser de constructions suppl√©mentaires.  En savoir plus sur cette technique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br><h2>  <font color="#3AC1EF">Valeurs renvoy√©es par les fonctions</font> </h2><br>  Toutes les fonctions renvoient une certaine valeur.  Si la commande de retour n'est pas explicitement sp√©cifi√©e, la fonction renverra <code>undefined</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">foo = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, bar = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'hey'</span></span></span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// - } console.log(doSomething())</span></span></code> </pre> <br>  L'ex√©cution de la fonction se termine soit apr√®s l'ex√©cution de tout le code qu'elle contient, soit apr√®s que le mot-cl√© <code>return</code> √©t√© rencontr√© dans le code.  Lorsque ce mot-cl√© est rencontr√© dans une fonction, son op√©ration est termin√©e et le contr√¥le est transf√©r√© √† l'endroit d'o√π la fonction a √©t√© appel√©e. <br><br>  Si apr√®s le mot-cl√© <code>return</code> vous sp√©cifiez une certaine valeur, cette valeur revient √† la place de l'appel de fonction suite √† l'ex√©cution de cette fonction. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'test'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = doSomething() <span class="hljs-comment"><span class="hljs-comment">// result === 'test'</span></span></code> </pre> <br>  Une seule valeur peut √™tre renvoy√©e par une fonction.  Afin de pouvoir renvoyer plusieurs valeurs, vous pouvez les renvoyer sous forme d'objet √† l'aide d'un litt√©ral d'objet ou sous forme de tableau, et lors de l'appel d'une fonction, utilisez la construction d'affectation destructrice.  Les noms des param√®tres sont enregistr√©s.  Dans le m√™me temps, si vous devez travailler avec un objet ou un tableau renvoy√© par une fonction, notamment sous la forme d'un objet ou d'un tableau, vous pouvez vous passer de l'affectation destructrice. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'Roger'</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [ name, age ] = doSomething() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(name, age) <span class="hljs-comment"><span class="hljs-comment">//Roger 6</span></span></code> </pre> <br>  La construction <code>const [ name, age ] = doSomething()</code> peut √™tre lue comme suit: "d√©clarez le <code>name</code> et les constantes d' <code>age</code> et affectez-leur les valeurs des √©l√©ments du tableau que la fonction renverra." <br>  Voici √† quoi ressemble la m√™me chose en utilisant un objet. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> {<span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Roger'</span></span>, <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { name, age } = doSomething() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(name, age) <span class="hljs-comment"><span class="hljs-comment">//Roger 6</span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Fonctions imbriqu√©es</font> </h2><br>  Les fonctions peuvent √™tre d√©clar√©es √† l'int√©rieur d'autres fonctions. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doSomethingElse = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {} doSomethingElse() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'test'</span></span> } doSomething()</code> </pre> <br>  La port√©e d'une fonction imbriqu√©e est limit√©e par une fonction ext√©rieure √† elle; elle ne peut pas √™tre appel√©e de l'ext√©rieur. <br><br><h2>  <font color="#3AC1EF">M√©thodes d'objet</font> </h2><br>  Lorsque des fonctions sont utilis√©es comme propri√©t√©s d'objets, ces fonctions sont appel√©es m√©thodes d'objet. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { <span class="hljs-attr"><span class="hljs-attr">brand</span></span>: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span>, <span class="hljs-attr"><span class="hljs-attr">start</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Started`</span></span>) } } car.start()</code> </pre> <br><h2>  <font color="#3AC1EF">Ce mot-cl√©</font> </h2><br>  Si nous comparons la fl√®che et les fonctions ordinaires utilis√©es comme m√©thodes d'objets, nous pouvons trouver leur diff√©rence importante, qui consiste dans la signification du mot <code>this</code> cl√© <code>this</code> .  Prenons un exemple. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { <span class="hljs-attr"><span class="hljs-attr">brand</span></span>: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, <span class="hljs-attr"><span class="hljs-attr">model</span></span>: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span>, <span class="hljs-attr"><span class="hljs-attr">start</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Started </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.brand}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.model}</span></span></span><span class="hljs-string">`</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">stop</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Stopped </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.brand}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.model}</span></span></span><span class="hljs-string">`</span></span>) } } car.start() <span class="hljs-comment"><span class="hljs-comment">//Started Ford Fiesta car.stop() //Stopped undefined undefined</span></span></code> </pre> <br>  Comme vous pouvez le voir, appeler la m√©thode <code>start()</code> conduit au r√©sultat attendu, mais la m√©thode <code>stop()</code> ne fonctionne √©videmment pas correctement. <br><br>  Cela est d√ª au fait que le mot-cl√© this se comporte diff√©remment lorsqu'il est utilis√© dans les fonctions fl√®che et ordinaires.  A savoir, le <code>this</code> dans la fonction fl√®che contient un lien vers le contexte qui inclut la fonction.  Dans ce cas, lorsqu'il s'agit du navigateur, ce contexte est l'objet <code>window</code> . <br><br>  Voici √† quoi ressemble l'ex√©cution d'un tel code dans la console du navigateur. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> test = { <span class="hljs-attr"><span class="hljs-attr">fn</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) }, <span class="hljs-attr"><span class="hljs-attr">arrFn</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } } test.fn() test.arrFn()</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b3/7c4/c29/4b37c4c299f7f21c40c77c372d34974f.png"></div><br>  <i><font color="#999999">Ce mot-cl√© figure dans les fonctions conventionnelles et fl√©ch√©es</font></i> <br><br>  Comme vous pouvez le voir, l'appeler dans une fonction r√©guli√®re signifie appeler l'objet, et <code>this</code> dans la fonction fl√®che pointe vers la <code>window</code> . <br><br>  Tout cela signifie que les fonctions fl√©ch√©es ne conviennent pas au r√¥le des m√©thodes objet et constructeur (si vous essayez d'utiliser la fonction fl√®che comme constructeur, une <code>TypeError</code> sera <code>TypeError</code> ). <br><br><h2>  <font color="#3AC1EF">Expressions fonctionnelles appel√©es imm√©diatement</font> </h2><br>  L'expression de fonction imm√©diatement invoqu√©e (IIFE) est une fonction qui est appel√©e automatiquement imm√©diatement apr√®s sa d√©claration. <br><br><pre> <code class="javascript hljs">;(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'executed'</span></span>) })()</code> </pre> <br>  Le point-virgule avant IIFE est facultatif, mais son utilisation vous permet de vous assurer contre les erreurs associ√©es au placement automatique des points-virgules. <br><br>  Dans l'exemple ci-dessus, le mot <code>executed</code> ira √† la console, apr√®s quoi l'IFEF quittera.  L'IFEF, tout comme les autres fonctions, peut restituer les r√©sultats de son travail. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> something = (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'IIFE'</span></span> })() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(something)</code> </pre> <br>  Apr√®s avoir ex√©cut√© cet exemple simple, la console obtiendra la ligne <code>IIFE</code> , qui s'est av√©r√©e √™tre <code>something</code> apr√®s avoir ex√©cut√© l'expression de fonction imm√©diatement appel√©e.  Il peut sembler que cette conception ne pr√©sente aucun avantage particulier.  Cependant, si dans l'IFEF certains calculs complexes sont effectu√©s qui ne doivent √™tre effectu√©s qu'une seule fois, apr√®s quoi les m√©canismes correspondants ne sont pas n√©cessaires - l'utilit√© de l'IFEF est √©vidente.  A savoir, avec cette approche, apr√®s l'ex√©cution de IIFE, seul le r√©sultat renvoy√© par la fonction sera disponible dans le programme.  De plus, nous pouvons rappeler que les fonctions peuvent renvoyer d'autres fonctions et objets.  Nous parlons de fermetures, nous en parlerons ci-dessous. <br><br><h2>  <font color="#3AC1EF">Mise √† niveau des fonctionnalit√©s</font> </h2><br>  Avant que le code JavaScript ne soit ex√©cut√©, il est r√©organis√©.  Nous avons d√©j√† parl√© du m√©canisme de hissage des variables d√©clar√©es √† l'aide du mot-cl√© <code>var</code> .  Un m√©canisme similaire fonctionne avec des fonctions.  √Ä savoir, nous parlons du fait que les d√©clarations de fonctions au cours du traitement du code avant son ex√©cution sont d√©plac√©es vers la partie sup√©rieure de leur port√©e.  Par cons√©quent, par exemple, il s'av√®re que vous pouvez appeler la fonction avant qu'elle ne soit d√©clar√©e. <br><br><pre> <code class="javascript hljs">doSomething() <span class="hljs-comment"><span class="hljs-comment">//did something function doSomething() { console.log('did something') }</span></span></code> </pre> <br>  Si vous d√©placez un appel de fonction pour qu'il passe apr√®s sa d√©claration, rien ne changera. <br><br>  Si, dans une situation similaire, une expression fonctionnelle est utilis√©e, un code similaire g√©n√©rera une erreur. <br><br><pre> <code class="javascript hljs">doSomething() <span class="hljs-comment"><span class="hljs-comment">//TypeError var doSomething = function () { console.log('did something') }</span></span></code> </pre> <br>  Dans ce cas, il s'av√®re que bien que la d√©claration de la variable <code>doSomething</code> monte en haut de l'√©tendue, cela ne s'applique pas √† l'op√©ration d'affectation. <br>  Si, au lieu de <code>var</code> , vous utilisez les mots cl√©s <code>let</code> ou <code>const</code> dans une situation similaire, ce code ne fonctionnera pas non plus, cependant, le syst√®me affichera un message d'erreur diff√©rent ( <code>ReferenceError</code> plut√¥t que <code>TypeError</code> ), car lors de l'utilisation de <code>let</code> et <code>const</code> , les d√©clarations variables et constantes ne sont pas d√©clench√©es. <br><br><h2>  <font color="#3AC1EF">Fonctions fl√©ch√©es</font> </h2><br>  Nous allons maintenant parler davantage des fonctions fl√©ch√©es que nous avons d√©j√† rencontr√©es.  Ils peuvent √™tre consid√©r√©s comme l'une des innovations les plus importantes de la norme ES6, ils diff√®rent des fonctions ordinaires non seulement par leur apparence, mais aussi par leur comportement.  De nos jours, ils sont tr√®s largement utilis√©s.  Il n'y a peut-√™tre pas un seul projet moderne o√π ils ne seraient pas utilis√©s dans la grande majorit√© des cas.  Nous pouvons dire que leur apparence a chang√© √† jamais l'apparence du code JS et les caract√©ristiques de son travail. <br><br>  D'un point de vue purement externe, la syntaxe de d√©claration des fonctions fl√©ch√©es est plus compacte que la syntaxe des fonctions ordinaires.  Voici la d√©claration d'une fonction r√©guli√®re. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myFunction = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br>  Voici l'annonce de la fonction fl√®che, qui, en g√©n√©ral, si vous ne tenez pas compte des caract√©ristiques des fonctions fl√®che, est similaire √† la pr√©c√©dente. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myFunction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//... }</span></span></code> </pre> <br>  Si le corps d'une fonction fl√®che ne contient qu'une seule commande, dont le r√©sultat renvoie cette fonction, elle peut √™tre √©crite sans accolades et sans le mot cl√© <code>return</code> .  Par exemple, une telle fonction renvoie la somme des arguments qui lui sont pass√©s. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myFunction = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a,b</span></span></span><span class="hljs-function">) =&gt;</span></span> a + b <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myFunction(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//3</span></span></code> </pre> <br>  Comme vous pouvez le voir, les param√®tres des fonctions fl√©ch√©es, comme dans le cas des fonctions ordinaires, sont d√©crits entre parenth√®ses.  De plus, si une telle fonction ne prend qu'un seul param√®tre, elle peut √™tre sp√©cifi√©e sans parenth√®ses.  Par exemple, voici une fonction qui renvoie le r√©sultat de la division du nombre qui lui est pass√© par 2. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myFunction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function"> =&gt;</span></span> a / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myFunction(<span class="hljs-number"><span class="hljs-number">8</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//4</span></span></code> </pre> <br>  En cons√©quence, il s'av√®re que les fonctions fl√©ch√©es sont tr√®s pratiques √† utiliser dans les situations o√π de petites fonctions sont n√©cessaires. <br><br><h3>  <font color="#3AC1EF">‚ñç Retour implicite des r√©sultats de la fonction</font> </h3><br>  Nous avons d√©j√† abord√© cette caract√©ristique des fonctions fl√©ch√©es, mais elle est si importante qu'elle devrait √™tre discut√©e plus en d√©tail.  Nous parlons du fait que les fonctions fl√®ches sur une seule ligne supportent le retour implicite des r√©sultats de leur travail.  Un exemple de retour d'une valeur primitive d'une fonction de fl√®che sur une seule ligne que nous avons d√©j√† vu.  Et si une telle fonction devait retourner un objet?  Dans ce cas, les accolades du litt√©ral objet peuvent confondre le syst√®me, donc les parenth√®ses sont utilis√©es dans le corps de la fonction. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myFunction = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ({<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'test'</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> obj = myFunction() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(obj.value) <span class="hljs-comment"><span class="hljs-comment">//test</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Mot-cl√© et fonctions fl√©ch√©es</font> </h3><br>  Ci-dessus, lorsque nous avons examin√© les fonctionnalit√©s du <code>this</code> , nous avons compar√© les fonctions r√©guli√®res et les fl√®ches.  Cette section est destin√©e √† attirer votre attention sur l'importance de leurs diff√©rences.  Le <code>this</code> , en lui-m√™me, peut entra√Æner certaines difficult√©s, car il d√©pend du contexte de l'ex√©cution du code et de l'activation ou non du mode strict. <br><br>  Comme nous l'avons vu, lorsque vous utilisez le <code>this</code> dans une m√©thode d'un objet repr√©sent√© par une fonction r√©guli√®re, <code>this</code> pointe vers l'objet auquel appartient la m√©thode.  Dans ce cas, nous parlons de lier le mot <code>this</code> cl√© <code>this</code> √† une valeur qui repr√©sente le contexte de la fonction.  En particulier, si une fonction est appel√©e en tant que m√©thode objet, le mot-cl√© this est li√© √† cet objet. <br><br>  Dans le cas des fonctions fl√©ch√©es, il s'av√®re que la liaison n'est pas effectu√©e en elles; elles utilisent le <code>this</code> de leur port√©e.  Par cons√©quent, il n'est pas recommand√© de les utiliser comme m√©thodes d'objet. <br><br>  Le m√™me probl√®me se produit lors de l'utilisation de fonctions comme gestionnaires d'√©v√©nements pour les √©l√©ments DOM.  Par exemple, le <code>button</code> √©l√©ment HTML <code>button</code> utilis√© pour d√©crire les boutons.  L'√©v√©nement <code>click</code> est <code>click</code> lorsqu'un utilisateur clique sur un bouton.  Pour r√©pondre √† cet √©v√©nement dans le code, vous devez d'abord obtenir un lien vers l'√©l√©ment correspondant, puis lui affecter un gestionnaire d'√©v√©nements <code>click</code> tant que fonction.  En tant que tel gestionnaire, vous pouvez utiliser √† la fois la fonction r√©guli√®re et la fonction fl√®che.  Mais, si dans le gestionnaire d'√©v√©nements vous devez acc√©der √† l'√©l√©ment pour lequel il est appel√© (c'est-√†-dire √† <code>this</code> ), la fonction de fl√®che ne fonctionnera pas ici, car la valeur <code>this</code> disponible en elle pointe vers l'objet <code>window</code> .  Afin de tester cela en pratique, cr√©ez une page HTML dont le code est illustr√© ci-dessous et cliquez sur les boutons. <br><br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"fn"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Function</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"arrowFn"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Arrow function</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="javascript"><span class="xml"><span class="javascript">     </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">const</span></span></span></span><span class="xml"><span class="javascript"> f = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"fn"</span></span></span></span><span class="xml"><span class="javascript">)     f.addEventListener(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'click'</span></span></span></span><span class="xml"><span class="javascript">, </span></span><span class="hljs-function"><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> (</span></span></span><span class="hljs-params"></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span></span><span class="xml"><span class="javascript">{         alert(</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">this</span></span></span></span><span class="xml"><span class="javascript"> === f)     })     </span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">const</span></span></span></span><span class="xml"><span class="javascript"> af = </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">document</span></span></span></span><span class="xml"><span class="javascript">.getElementById(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">"arrowFn"</span></span></span></span><span class="xml"><span class="javascript">)     af.addEventListener(</span></span><span class="hljs-string"><span class="xml"><span class="javascript"><span class="hljs-string">'click'</span></span></span></span><span class="xml"><span class="javascript">, () =&gt; {         alert(</span></span><span class="hljs-keyword"><span class="xml"><span class="javascript"><span class="hljs-keyword">this</span></span></span></span><span class="xml"><span class="javascript"> === </span></span><span class="hljs-built_in"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="xml"><span class="javascript">)     })   </span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Dans ce cas, lorsque vous cliquez sur ces boutons, des fen√™tres contenant <code>true</code> appara√Ætront.  Cependant, dans le gestionnaire d'√©v√©nements <code>click</code> du bouton avec l'identifiant <code>fn</code> , l'√©galit√© de <code>this</code> le bouton est v√©rifi√©e, et dans le bouton avec l'identifiant <code>arrowFn</code> l'√©galit√© de <code>this</code> et l'objet de la <code>window</code> v√©rifi√©s. <br><br>  Par cons√©quent, si vous devez appeler <code>this</code> dans le gestionnaire d'√©v√©nements de l'√©l√©ment HTML, la fonction fl√®che ne fonctionnera pas pour la conception d'un tel gestionnaire. <br><br><h2>  <font color="#3AC1EF">Court-circuits</font> </h2><br>  Les fermetures sont un concept important en JavaScript.  En fait, si vous avez √©crit des fonctions JS, vous avez √©galement utilis√© des fermetures.  Les fermetures sont utilis√©es dans certains mod√®les de conception - dans le cas o√π vous devez organiser un contr√¥le strict de l'acc√®s √† certaines donn√©es ou fonctions. <br><br>  Lorsqu'une fonction est appel√©e, elle a acc√®s √† tout ce qui est √† la port√©e de l'ext√©rieur.  Mais il n'y a pas d'acc√®s √† ce qui est d√©clar√© √† l'int√©rieur de la fonction.  Autrement dit, si une variable (ou une autre fonction) a √©t√© d√©clar√©e dans une fonction, elles sont inaccessibles au code externe, soit pendant l'ex√©cution de la fonction, soit apr√®s l'ach√®vement de son travail.  Cependant, si une autre fonction est renvoy√©e par la fonction, cette nouvelle fonction aura acc√®s √† tout ce qui a √©t√© d√©clar√© dans la fonction d'origine.  Dans ce cas, tout cela sera cach√© au code externe dans la fermeture. <br><br>  Prenons un exemple.  Voici une fonction qui prend le nom du chien, puis l'affiche dans la console. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bark = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dog</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> say = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${dog}</span></span></span><span class="hljs-string"> barked!`</span></span> ;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(say))() } bark(<span class="hljs-string"><span class="hljs-string">`Roger`</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Roger barked!</span></span></code> </pre> <br>  La valeur renvoy√©e par cette fonction ne nous int√©resse pas encore, le texte est affich√© dans la console en utilisant IIFE, qui dans ce cas ne joue pas de r√¥le particulier, cependant, cela nous aidera √† voir la connexion entre cette fonction et sa variante, dans laquelle, au lieu d'appeler une fonction qui affiche texte √† la console, nous retournerons cette fonction √† partir de la fonction r√©√©crite <code>bark()</code> . <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prepareBark = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dog</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> say = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${dog}</span></span></span><span class="hljs-string"> barked!`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(say) } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> bark = prepareBark(<span class="hljs-string"><span class="hljs-string">`Roger`</span></span>) bark() <span class="hljs-comment"><span class="hljs-comment">// Roger barked!</span></span></code> </pre> <br>  Le r√©sultat du code dans deux cas est le m√™me.  Mais dans le deuxi√®me cas, ce qui a √©t√© transf√©r√© √† la fonction d'origine lors de son appel (le nom du chien, <code>Roger</code> ) est stock√© dans la fermeture, apr√®s quoi il est utilis√© par une autre fonction revenue de l'original. <br><br>  Faisons une autre exp√©rience - cr√©ez, en utilisant la fonction d'origine, deux nouvelles pour diff√©rents chiens. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prepareBark = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">dog</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> say = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${dog}</span></span></span><span class="hljs-string"> barked!`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(say) } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rogerBark = prepareBark(<span class="hljs-string"><span class="hljs-string">`Roger`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sydBark = prepareBark(<span class="hljs-string"><span class="hljs-string">`Syd`</span></span>) rogerBark() sydBark()</code> </pre> <br>  Ce code affichera les √©l√©ments suivants. <br><br><pre> <code class="javascript hljs">Roger barked! Syd barked!</code> </pre> <br>  Il s'av√®re que la valeur de la constante constante est li√©e √† la fonction renvoy√©e par la fonction <code>prepareBark()</code> . <br><br>  Notez que <code>say</code> , lorsque vous appelez √† nouveau <code>prepareBark()</code> , il obtient une nouvelle valeur, tandis que la valeur enregistr√©e dans <code>say</code> premi√®re fois que <code>prepareBark()</code> appel√©e ne change pas.  Le fait est qu'√† chaque appel √† cette fonction, une nouvelle fermeture est cr√©√©e. <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Aujourd'hui, nous avons parl√© des fonctions ordinaires et des fl√®ches, des caract√©ristiques de leur d√©claration et de leur utilisation, du comportement de <code>this</code> mot cl√© dans diff√©rentes situations et des fermetures.  La prochaine fois, nous discuterons des tableaux et des boucles. <br><br>  <b>Chers lecteurs!</b>  Que pensez-vous des fonctions fl√®ches en JavaScript? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430382/">https://habr.com/ru/post/fr430382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430372/index.html">Voiture √† hydrog√®ne. Est-il temps de dire au revoir √† l'essence?</a></li>
<li><a href="../fr430374/index.html">Ing√©nierie des donn√©es et plus encore: bandes vid√©o Wrike et diapositives de la r√©union</a></li>
<li><a href="../fr430376/index.html">Guide JavaScript, partie 6: exceptions, points-virgules, litt√©raux de mod√®le</a></li>
<li><a href="../fr430378/index.html">J2CL - Mieux vaut tard que jamais</a></li>
<li><a href="../fr430380/index.html">Guide JavaScript Partie 5: Tableaux et boucles</a></li>
<li><a href="../fr430384/index.html">Cr√©ation de cartes √† partir d'entit√©s de bruit</a></li>
<li><a href="../fr430386/index.html">Construction d'une centrale de stockage √† semi-conducteurs en Inde</a></li>
<li><a href="../fr430388/index.html">Conf√©rence Web Summit</a></li>
<li><a href="../fr430392/index.html">Comment d√©velopper et tester des API avec mon ¬´v√©lo¬ª PieceofScript</a></li>
<li><a href="../fr430394/index.html">Impl√©mentation de la recherche instantan√©e dans Android √† l'aide de RxJava</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>