<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¥š ğŸƒ ğŸ Bukan Peninggalan Baru: Pandangan pada Datadog dan Atatus ğŸ‘¨ğŸ¼â€ğŸ­ ğŸ‘‹ â•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam lingkungan SRE- / DevOps-engineer, Anda tidak akan terkejut bahwa suatu hari seorang klien (atau sistem pemantauan) muncul dan mengatakan bahwa ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bukan Peninggalan Baru: Pandangan pada Datadog dan Atatus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/465177/"><img src="https://habrastorage.org/webt/rp/lp/ct/rplpctt6yzam8cvxnufgkygd3um.png"><br><br>  Dalam lingkungan SRE- / DevOps-engineer, Anda tidak akan terkejut bahwa suatu hari seorang klien (atau sistem pemantauan) muncul dan mengatakan bahwa "semuanya hilang": situs tidak berfungsi, pembayaran tidak lulus, kehidupan membusuk ... kehidupan membusuk ... Tidak peduli bagaimana saya ingin membantu dalam situasi ini Ini bisa sangat sulit untuk dilakukan tanpa alat yang sederhana dan mudah dimengerti.  Seringkali masalah disembunyikan dalam kode aplikasi itu sendiri - Anda hanya perlu melokalkannya. <br><br><h2>  Dan dalam kesedihan, dan dalam sukacita ... </h2><br>  Kebetulan kami sudah lama sangat menyukai New Relic.  Telah dan tetap menjadi alat yang sangat baik untuk memantau kinerja aplikasi, dan juga memungkinkan Anda untuk instrumen arsitektur layanan mikro (menggunakan agen Anda) dan banyak lagi.  Dan semuanya bisa menjadi luar biasa, jika bukan karena perubahan dalam kebijakan penetapan harga layanan: <b>biayanya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telah</a> meningkat 3+ kali <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sejak 2013</a></b> .  Selain itu, sejak tahun lalu, mendapatkan akun percobaan memerlukan komunikasi dengan manajer pribadi, yang membuatnya sulit untuk menghadirkan produk ke pelanggan potensial. <a name="habracut"></a><br><br>  Situasi yang biasa: Relik Baru tidak diperlukan secara â€œberkelanjutanâ€, ia hanya diingat pada saat masalah dimulai.  Tetapi Anda masih perlu membayar secara teratur (140 USD per server per bulan), dan dalam infrastruktur cloud yang dapat disesuaikan secara otomatis, jumlahnya agak besar.  Meskipun ada kemungkinan "Pay-As-You-Go," tetapi untuk mengaktifkan New Relic Anda harus me-restart aplikasi, yang dapat menyebabkan hilangnya situasi masalah di mana semuanya dimulai.  Belum lama ini, New Relic memperkenalkan rencana tarif baru - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Essentials</a> , yang sekilas tampak seperti alternatif yang masuk akal untuk Profesional ... tetapi setelah diteliti lebih dekat ternyata beberapa fungsi penting hilang (khususnya, tidak memiliki <i>Transaksi Utama</i> , <i>Penelusuran Aplikasi Silang, Pelacakan</i> <i>Terdistribusi</i> ) . <br><br>  Akibatnya, kami berpikir untuk menemukan alternatif yang lebih murah, dan pilihan kami jatuh pada dua layanan Datadog dan Atatus.  Kenapa tepatnya pada mereka? <br><br><h2>  Tentang pesaing </h2><br>  Saya harus segera mengatakan bahwa ada solusi lain di pasar.  Kami bahkan mempertimbangkan opsi Open Source, tetapi tidak setiap klien memiliki kapasitas gratis untuk meng-host solusi yang di-host-sendiri ... - selain itu, mereka akan membutuhkan perawatan tambahan.  Pasangan yang kami pilih ternyata paling dekat dengan <b>kebutuhan kami</b> : <br><br><ul><li>  dukungan built-in dan dikembangkan untuk aplikasi PHP (tumpukan klien kami sangat beragam, tetapi merupakan pemimpin yang jelas dalam konteks menemukan alternatif untuk Relik Baru); </li><li>  biaya terjangkau (kurang dari 100 USD per bulan per host); </li><li>  instrumentasi otomatis; </li><li>  Integrasi kubernet </li><li>  kesamaan dengan antarmuka New Relic adalah nilai tambah yang nyata (karena teknisi kami terbiasa dengan hal itu). </li></ul><br>  Karena itu, pada tahap seleksi awal, kami menghilangkan beberapa solusi populer lainnya, dan khususnya: <br><br><ul><li>  Tideways, AppDynamics, dan Dynatrace - untuk harganya; </li><li>  Stackify - diblokir di Federasi Rusia dan menunjukkan terlalu sedikit data. </li></ul><br>  Artikel selanjutnya disusun sedemikian rupa sehingga solusi yang dipertimbangkan akan disajikan secara singkat terlebih dahulu, setelah itu saya akan berbicara tentang interaksi khas kami dengan Relik Baru dan pengalaman / kesan melakukan operasi serupa di layanan lain. <br><br><h3>  Presentasi pesaing terpilih </h3><br><img src="https://habrastorage.org/webt/mu/el/kq/muelkqnuiwzgvaz_jtton8mrbzs.png"><br>  Mungkin semua orang mendengar tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Relik Baru</b></a> ?  Layanan ini mulai dikembangkan lebih dari 10 tahun yang lalu, pada tahun 2008.  Kami telah menggunakannya secara aktif sejak 2012 dan tidak mengalami masalah integrasi dengan sejumlah besar aplikasi di PHP, Ruby dan Python, dan kami juga memiliki pengalaman berintegrasi dengan C # dan Go.  Para penulis layanan memiliki solusi untuk memantau aplikasi, infrastruktur, menelusuri infrastruktur layanan mikro, aplikasi yang mudah digunakan untuk perangkat pengguna telah dibuat, dan banyak lagi. <br><br>  Namun, agen New Relic bekerja pada protokol milik, ia tidak memiliki dukungan OpenTracing.  Instrumentasi tingkat lanjut memerlukan pengeditan khusus untuk Relik Baru.  Akhirnya, dukungan untuk Kubernetes memiliki status eksperimental sejauh ini. <br><br><img src="https://habrastorage.org/webt/4t/ae/fp/4taefp5hohou0ekzzmcrnduvzlu.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Datadog</b></a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>yang</b></a> memulai pengembangannya pada 2010, terlihat jauh lebih menarik daripada New Relic dalam hal penggunaannya di lingkungan Kubernetes.  Secara khusus, ini mendukung integrasi dengan NGINX Ingress, pengumpulan log, statsd dan protokol OpenTracing, yang memungkinkan Anda untuk melacak permintaan pengguna dari saat terhubung ke akhir pekerjaan, serta menemukan log untuk permintaan ini (baik di sisi server web dan di samping) konsumen). <br><br>  Saat menggunakan Datadog, kami dihadapkan dengan fakta bahwa terkadang ada kesalahan dalam membangun peta layanan mikro, dan beberapa kelemahan teknis.  Misalnya, dia salah menentukan jenis layanan (dia mengambil Django untuk layanan caching) dan menyebabkan kesalahan ke-500 dalam aplikasi PHP menggunakan perpustakaan Predis yang populer. <br><br><img src="https://habrastorage.org/webt/h5/te/m9/h5tem9e4arkqlsoed48qc0u9xha.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>Atatus</b></a> adalah instrumen termuda;  layanan diluncurkan pada 2014.  Anggaran pemasarannya jelas lebih rendah daripada pesaing yang terdaftar, yang menyebutkan lebih jarang.  Namun demikian, alat itu sendiri sangat mirip dengan New Relic, dan tidak hanya dalam fitur (APM, pemantauan Browser, dll.), Tetapi juga dalam penampilan. <br><br>  Kelemahan signifikan hanya mendukung untuk Node.js dan PHP.  Di sisi lain, ini diterapkan jauh lebih baik daripada Datadog.  Berbeda dengan yang terakhir, Atatus tidak memerlukan aplikasi untuk mengubah atau mengatur tag tambahan dalam kode. <br><br><h2>  Bagaimana kami bekerja dengan Relik Baru </h2><br>  Sekarang mari kita cari tahu bagaimana kita biasanya menggunakan Relik Baru.  Misalkan kita memiliki masalah yang perlu diselesaikan: <br><br><img src="https://habrastorage.org/webt/mk/_t/bv/mk_tbvlysng7--qgh2gvhjum4cg.png"><br><br>  Sangat mudah untuk melihat <b>lonjakan</b> pada grafik - kami menganalisisnya.  Di New Relic, transaksi web langsung dipilih untuk aplikasi web, semua komponen ditunjukkan dalam grafik kinerja, ada panel tingkat kesalahan, tingkat permintaan ... Yang terpenting, langsung dari panel ini Anda dapat berpindah antar bagian aplikasi yang berbeda (misalnya, mengklik pada MySQL akan ke bagian basis data). <br><br>  Karena dalam contoh ini kita melihat lonjakan aktivitas <b>PHP</b> , klik pada bagan ini dan secara otomatis pergi ke <b>Transaksi</b> : <br><br><img src="https://habrastorage.org/webt/02/2v/b_/022vb_o0euwqk8jaf2qh1z4pges.png"><br><br>  Daftar transaksi, yang pada dasarnya adalah pengendali dari model MVC, sudah disortir berdasarkan <b>Kebanyakan memakan waktu</b> , yang sangat nyaman: kita segera melihat apa yang dilakukan aplikasi.  Berikut adalah contoh permintaan panjang yang dikumpulkan secara otomatis oleh New Relic.  Switching sorting mudah ditemukan: <br><br><ul><li>  pengontrol aplikasi yang paling banyak dimuat; </li><li>  Pengontrol yang paling sering diminta </li><li>  yang paling lambat dari pengendali. </li></ul><br>  Selain itu, Anda dapat memperluas setiap transaksi dan melihat apa yang dilakukan aplikasi pada saat eksekusi kode: <br><br><img src="https://habrastorage.org/webt/vq/bz/sk/vqbzsk-cj4sp9prjqwx16hnzy4k.png"><br><br>  Akhirnya, contoh jejak kueri panjang (yang bekerja lebih dari 2 detik) disimpan dalam aplikasi.  Inilah panel untuk transaksi panjang: <br><br><img src="https://habrastorage.org/webt/jk/b_/ux/jkb_uxm9a3tx9ed6wdtufrz5g6u.png"><br><br>  Dapat dilihat bahwa dua metode membutuhkan banyak waktu, dan dengan itu waktu ketika permintaan dieksekusi, URI dan domainnya juga ditampilkan.  Sangat sering ini membantu untuk menemukan kueri di log.  Pergi ke <b>detail Trace</b> , Anda dapat melihat dari mana metode ini dipanggil: <br><br><img src="https://habrastorage.org/webt/_1/m6/li/_1m6li8g6zgv8siatzj1mrqiclc.png"><br><br>  Dan dalam <b>Kueri basis data</b> - mengevaluasi kueri basis data yang dieksekusi pada saat aplikasi: <br><br><img src="https://habrastorage.org/webt/ru/xv/k7/ruxvk7jbfe-93duilolwh3nj7p8.png"><br><br>  Berbekal pengetahuan ini, kita dapat menilai penyebab perlambatan aplikasi dan, bersama dengan pengembang, mengembangkan strategi untuk memecahkan masalah.  Pada kenyataannya, New Relic tidak selalu memberikan gambaran yang jelas, tetapi membantu memilih vektor investigasi: <br><br><ul><li>  <code>PDO::Construct</code> panjang menuntun kami ke fungsi pgpoll yang aneh; </li><li>  ketidakstabilan dalam waktu <code>Memcache::Get</code> konfigurasi yang disarankan dari mesin virtual; </li><li>  peningkatan waktu yang mencurigakan untuk memproses templat menyebabkan loop bersarang dengan tanda centang untuk keberadaan 500 avatar dalam penyimpanan objek; </li><li>  dan seterusnya ... </li></ul><br>  Itu juga terjadi bahwa alih-alih mengeksekusi kode pada layar utama, sesuatu yang berkaitan dengan penyimpanan data eksternal tumbuh - dan tidak masalah apa yang akan terjadi: Redis atau PostgreSQL - semuanya tersembunyi di tab <b>Databases</b> . <br><br><img src="https://habrastorage.org/webt/ku/ke/xe/kukexe0cn79kgj_x_40dt79au5e.png"><br><br>  Anda dapat memilih basis spesifik untuk penelitian dan mengurutkan kueri - mirip dengan bagaimana hal itu dilakukan dalam Transaksi.  Dan dengan masuk ke tab permintaan, Anda dapat melihat seberapa banyak permintaan ini ditemukan di masing-masing pengontrol aplikasi, serta mengevaluasi seberapa sering itu disebut.  Ini sangat nyaman: <br><br><img src="https://habrastorage.org/webt/ac/jm/xq/acjmxqt0dop9r1ncalo1enmrihq.png"><br><br>  Tab <b>Layanan Eksternal</b> berisi data serupa, yang menyembunyikan permintaan untuk layanan HTTP eksternal, seperti mengakses penyimpanan objek, mengirim acara ke penjaga, atau sejenisnya.  Menurut kontennya, tab ini benar-benar mirip dengan Basis Data: <br><br><img src="https://habrastorage.org/webt/vv/2h/al/vv2halrqjfjjpqltn7ty1had57y.png"><br><br><h2>  Pesaing: peluang dan kesan </h2><br>  Sekarang hal yang paling menarik adalah membandingkan kemampuan New Relic dengan apa yang ditawarkan pesaing.  Sayangnya, kami tidak dapat menguji ketiga alat pada versi yang sama dari satu aplikasi yang berjalan dalam produksi.  Namun demikian, kami mencoba membandingkan situasi / konfigurasi yang paling identik. <br><br><h3>  1. Datadog </h3><br>  Datadog menyambut kami dengan panel dengan dinding layanan: <br><br><img src="https://habrastorage.org/webt/yt/vv/rt/ytvvrt5tlhegxiaoanulug0dwfu.png"><br><br>  Dia mencoba memecah aplikasi menjadi komponen / layanan mikro, jadi dalam contoh aplikasi Django kita melihat 2 koneksi ke PostgreSQL ( <code>defaultdb</code> dan <code>postgres</code> ), serta Celery, Redis.  Bekerja dengan Datadog mengharuskan Anda memiliki pengetahuan minimum tentang prinsip-prinsip MVC: Anda harus memahami dari mana permintaan pengguna berasal.  Biasanya <b>peta layanan</b> membantu dengan ini: <br><br><img src="https://habrastorage.org/webt/t3/19/r9/t319r9yb96o3h0fjhdmi5wzdxbc.png"><br><br>  Ngomong-ngomong, ada sesuatu yang serupa di New Relic: <br><br><img src="https://habrastorage.org/webt/f8/sr/tq/f8srtq3vds1qmm2ddrp_g-d6pwo.png"><br><br>  ... selain itu, peta mereka, menurut pendapat saya, dibuat lebih sederhana dan lebih mudah dipahami: ini menampilkan bukan komponen dari satu aplikasi (yang akan membuatnya tidak perlu dirinci, seperti dalam kasus Datadog), tetapi hanya layanan atau layanan mikro tertentu. <br><br>  Kembali ke Datadog: jelas dari peta layanan bahwa permintaan pengguna datang ke Django.  Mari kita pergi ke layanan Django dan akhirnya melihat apa yang kita harapkan: <br><br><img src="https://habrastorage.org/webt/c3/ip/fk/c3ipfkqpsv9jxxr1m0y9lqz7fvw.png"><br><br>  Sayangnya, secara default tidak ada grafik <b>waktu transaksi Web yang</b> mirip dengan yang kita lihat di panel utama New Relic.  Namun, ini dapat dikonfigurasikan sebagai ganti dari <b>% dari waktu yang dihabiskan</b> grafik.  Cukup untuk mengubahnya ke <b>waktu rata</b> - <b>rata per permintaan berdasarkan Jenis</b> ... dan sekarang bagan yang sudah familier melihat kita! <br><br><img src="https://habrastorage.org/webt/0l/jb/4m/0ljb4m2fh3_mbje9ihwvo6hlwge.png"><br><br>  Mengapa Datadog memilih jadwal yang berbeda adalah misteri bagi kami.  Itu juga membuat frustasi bahwa sistem tidak mengingat pilihan pengguna (tidak seperti kedua pesaing), dan karena itu hanya pembuatan panel kustom yang menyelamatkan. <br><br>  Tetapi saya senang dengan kesempatan di Datadog untuk beralih dari grafik ini ke metrik server terkait, membaca log dan mengevaluasi beban penangan server web (Gunicorn).  Semuanya hampir sama seperti di New Relic ... dan bahkan beberapa lagi (log)! <br><br>  Di bawah grafik adalah transaksi yang sepenuhnya mirip dengan Relik Baru: <br><br><img src="https://habrastorage.org/webt/ln/pg/u5/lnpgu5fj2oclzdzlc1uwwjjtfkm.png"><br><br>  Dalam Datadog, transaksi disebut <b>sumber daya</b> .  Anda dapat mengurutkan pengontrol berdasarkan jumlah permintaan, berdasarkan waktu respons rata-rata, dengan waktu berlalu maksimum untuk periode waktu yang dipilih. <br><br>  Anda dapat memperluas sumber daya dan melihat semua yang telah kami amati di Relik Baru: <br><br><img src="https://habrastorage.org/webt/3s/c1/5k/3sc15ksmnyvw_e-gyfagahxtep8.png"><br><br>  Ada statistik pada sumber daya, dan daftar panggilan internal umum, dan contoh permintaan yang dapat diurutkan berdasarkan kode respons ... Omong-omong, teknisi kami sangat menyukai penyortiran ini. <br><br>  Sumber daya contoh apa pun di Datadog dapat diperluas dan dieksplorasi: <br><br><img src="https://habrastorage.org/webt/k8/tm/j8/k8tmj8vcz91rwmv-_lvshtzd8qi.png"><br><br>  Parameter kueri, diagram ringkasan waktu yang telah berlalu untuk masing-masing komponen, dan diagram air terjun, di mana urutan panggilan terlihat, disajikan.  Juga, beralih ke tampilan pohon diagram air terjun juga tersedia: <br><br><img src="https://habrastorage.org/webt/og/uu/ro/oguurozj3wo9vibezkytxmmc0c4.png"><br><br>  Dan hal yang paling menarik adalah melihat beban host tempat permintaan dieksekusi, dan melihat log permintaan. <br><br><img src="https://habrastorage.org/webt/vg/n6/be/vgn6belqdye20suvjgsq5kje3wu.png"><br><br>  Integrasi hebat! <br><br>  Anda mungkin bertanya-tanya di mana tab <b>Databases</b> dan <b>Layanan Eksternal</b> berada, seperti di New Relic.  Mereka tidak ada di sini: karena Datadog mem-parsing aplikasi ke dalam komponen-komponen, PostgreSQL akan dianggap sebagai <b>layanan yang terpisah</b> , dan alih-alih Layanan Eksternal, layak untuk mencari <code>aws.storage</code> (itu akan sama untuk setiap layanan eksternal lain yang dapat diakses oleh aplikasi). <br><br><img src="https://habrastorage.org/webt/qp/bp/ap/qpbpapt5pqxtre_bkspuob-myqe.png"><br><br>  Dan berikut ini adalah contoh dengan <code>postgres</code> : <br><br><img src="https://habrastorage.org/webt/nb/u6/ea/nbu6eaa6-6xlbkipsijjn4i9rxg.png"><br><br>  Sebenarnya, ada semua yang kami inginkan: <br><br><img src="https://habrastorage.org/webt/ww/r8/-c/wwr8-cpjbw26yv_chyaknlyolfe.png"><br><br>  Itu bisa dilihat dari mana "layanan" permintaan datang. <br><br>  Tidak akan berlebihan untuk mengingat bahwa Datadog terintegrasi sempurna dengan NGINX Ingress dan memungkinkan penelusuran ujung-ke-ujung dari saat permintaan masuk dalam kluster, dan juga memungkinkan Anda untuk menerima metrik statsd, mengumpulkan log, dan metrik host. <br><br>  Nilai tambah yang besar dari Datadog adalah harganya <i>terdiri</i> dari infrastruktur pemantauan, APM, uji Log Management dan Synthetics, yaitu  Anda dapat secara fleksibel memilih rencana. <br><br><h3>  2. Atatus </h3><br>  Tim Atatus mengklaim bahwa layanan mereka "sama dengan Relik Baru, tetapi lebih baik."  Mari kita lihat apakah ini benar-benar demikian. <br><br>  Bilah judul benar-benar terlihat sama, tetapi tidak mungkin untuk menentukan Redis dan memcached yang digunakan dalam aplikasi. <br><br><img src="https://habrastorage.org/webt/-v/f8/9t/-vf89tugun8vmi3f8vc5upnswpq.png"><br><br>  APM memilih semua transaksi secara default, meskipun biasanya hanya Web yang diperlukan.  Seperti pada Datadog, tidak ada cara untuk pergi ke layanan yang diinginkan dari panel utama.  Selain itu, transaksi terdaftar setelah kesalahan, yang untuk APM tidak terlihat sangat logis. <br><br>  Dalam transaksi Atatus, semuanya sama dengan New Relic mungkin.  Minus - Anda tidak dapat langsung melihat dinamika untuk masing-masing pengontrol.  Anda harus mencarinya di tabel controller, mengurutkan berdasarkan <b>Most Time Consumed</b> : <br><br><img src="https://habrastorage.org/webt/1r/gm/df/1rgmdfhp2wi-etyz90cp-nhicne.png"><br><br>  Daftar pengendali yang biasa tersedia di tab <b>Jelajahi</b> : <br><br><img src="https://habrastorage.org/webt/n6/bm/4e/n6bm4epe4rgm1o0-j6gckbe5xcs.png"><br><br>  Dalam beberapa hal, tabel ini menyerupai Datadog dan lebih mirip dengan yang ada di New Relic. <br><br>  Setiap transaksi dapat dikerahkan dan lihat apa yang dilakukan aplikasi: <br><br><img src="https://habrastorage.org/webt/om/nj/jz/omnjjzghaohvdghitkkynauqwd8.png"><br><br>  Panel ini juga lebih menyerupai Datadog: ada sejumlah permintaan, gambaran panggilan secara keseluruhan.  Panel atas menyediakan tab dengan kesalahan <b>HTTP Failures</b> dan contoh permintaan <b>Session Traces yang</b> lambat: <br><br><img src="https://habrastorage.org/webt/jc/cp/xo/jccpxoykxlwophfgejumdduui88.png"><br><br>  Jika Anda melakukan transaksi, Anda bisa melihat contoh jejak, Anda bisa mendapatkan daftar permintaan ke database dan melihat header permintaan.  Semuanya mirip dengan Relik Baru: <br><br><img src="https://habrastorage.org/webt/_c/lb/dn/_clbdnkiqpd-6spg325of0c09o0.png"><br><br>  Secara umum, Atatus senang dengan jejak terperinci - tanpa menempelkan panggilan Relik Baru ke dalam blok pengingat: <br><br><img src="https://habrastorage.org/webt/m5/ub/hk/m5ubhk5bxdzyqwg3oaidmflbmjc.png"><br><img src="https://habrastorage.org/webt/hv/3s/27/hv3s27-mped0zuubmx9qs-7b_7c.png"><br><br>  Namun, tidak ada cukup filter yang akan (seperti di New Relic) memotong permintaan ultrafast (&lt;5ms).  Di sisi lain, menampilkan respons transaksi akhir (berhasil atau salah) menyenangkan. <br><br>  Panel <b>Databases</b> akan membantu Anda memeriksa permintaan ke database eksternal yang dibuat aplikasi.  Biarkan saya mengingatkan Anda bahwa Atatus hanya menemukan PostgreSQL dan MySQL, meskipun Redis dan memcached juga terlibat dalam proyek ini. <br><br><img src="https://habrastorage.org/webt/rj/1z/vn/rj1zvn9n6wvmcbzcx1fj65x1mmg.png"><br><br>  Permintaan diurutkan berdasarkan kriteria yang biasa: frekuensi respons, waktu respons rata-rata, dan sebagainya.  Saya juga ingin mencatat tab dengan pertanyaan paling lambat - ini sangat nyaman.  Selain itu, data pada tab ini untuk PostgreSQL bertepatan dengan data dari ekstensi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pg_stat_statements</a> - hasil yang sangat baik! <br><br><img src="https://habrastorage.org/webt/-4/th/4c/-4th4c5ykhiikiwtmrk23rr7g7g.png"><br><br>  Tab <b>Permintaan Eksternal</b> identik dengan Database. <br><br><h2>  Kesimpulan </h2><br>  Kedua alat yang disajikan berkinerja baik dalam peran APM.  Salah satu dari mereka dapat menawarkan minimum yang diperlukan.  Ringkaslah kesan kami sebagai berikut: <br><br><h3>  Datadog </h3><br>  Pro: <br><br><ul><li>  jadwal tarif yang nyaman (APM biaya 31 USD per host); </li><li>  tampil baik dengan Python; </li><li>  kemampuan untuk berintegrasi dengan OpenTracing </li><li>  Integrasi kubernet </li><li>  Integrasi dengan NGINX Ingress. </li></ul><br>  Cons: <br><br><ul><li>  Satu-satunya APM yang menyebabkan tidak dapat diaksesnya aplikasi karena kesalahan modul (predis) </li><li>  alat bantu PHP yang lemah; </li><li>  sebagian definisi layanan yang aneh dan tujuannya. </li></ul><br><h3>  Atatus </h3><br>  Pro: <br><br><ul><li>  instrumentasi mendalam dari PHP; </li><li>  Antarmuka pengguna baru seperti Relic. </li></ul><br>  Cons: <br><br><ul><li>  tidak bekerja pada sistem operasi yang lebih lama (Ubuntu 12.05, CentOS 5); </li><li>  alat-alat otomatis yang lemah; </li><li>  dukungan hanya untuk dua bahasa (Node.js dan PHP); </li><li>  pengoperasian antarmuka yang lambat. </li></ul><br>  Dengan harga Atatus sebesar 69 USD per bulan per server, kami lebih suka menggunakan Datadog, yang terintegrasi sempurna untuk kebutuhan kami (aplikasi web dalam K8) dan memiliki banyak fitur yang bermanfaat. <br><br><h2>  PS </h2><br>  Baca juga di blog kami: <br><br><ul><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Alat untuk pengembang aplikasi yang berjalan di Kubernetes</a> "; </li><li>  â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kubectl-debug plugin untuk debugging di pod Kubernetes</a> â€; </li><li>  "Layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mikro: ukuran penting, bahkan jika Anda memiliki Kubernet</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id465177/">https://habr.com/ru/post/id465177/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id465161/index.html">Model data quintet dan ratusan gigabytes data</a></li>
<li><a href="../id465163/index.html">Pencetakan 3D: kasing luar biasa dan sedikit lebih menarik</a></li>
<li><a href="../id465167/index.html">Perencanaan Sumberdaya. Mengapa itu tidak berhasil? Bagian 1</a></li>
<li><a href="../id465169/index.html">DIY dari PVS-Studio: Gamification of Achievements</a></li>
<li><a href="../id465173/index.html">Bagaimana cara mengubah biaya berlangganan yang dibuat di aplikasi Anda. App Store Connect dan Google Play Console</a></li>
<li><a href="../id465179/index.html">Apakah otomasi akan menggantikan pengujian manual?</a></li>
<li><a href="../id465181/index.html">Tempat licin di C ++ 17</a></li>
<li><a href="../id465185/index.html">Standar pengawasan video baru: warna pada malam hari, anti noise, ePoE</a></li>
<li><a href="../id465187/index.html">6 frase bahasa Inggris yang dapat digunakan dalam negosiasi gaji dengan perusahaan asing</a></li>
<li><a href="../id465189/index.html">Workflow Satu Tim Pengembangan Sprint</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>