<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úåüèº ü§û ü§≥üèª Ist die Sicherheit in AEM ein Plattform- oder Implementierungsproblem? üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ‚õπüèΩ üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gepostet von: Andrey Pinchuk | Zertifizierter Senior AEM Entwickler 



 Stellen Sie sich die Situation vor: Sie schlafen ruhig und sehen Ihren dritte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ist die Sicherheit in AEM ein Plattform- oder Implementierungsproblem?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468231/">  <b>Gepostet von: Andrey Pinchuk</b> |  Zertifizierter Senior AEM Entwickler <br><br><p> Stellen Sie sich die Situation vor: Sie schlafen ruhig und sehen Ihren dritten Traum, als pl√∂tzlich ein Telefon klingelt - ein unzufriedener Kunde beschwert sich, dass das gesamte System nicht verf√ºgbar ist.  Stimmen Sie zu, solche Ereignisse sind f√ºr das Leben des AEM-Entwicklers, des gesamten Teams und des L√∂sungsanbieters unangenehm.  Es gibt nichts zu tun, einen fr√ºhen Aufstieg und die Suche nach einer L√∂sung. </p><br><p>  Um zu verhindern, dass solche freudlosen Momente in Ihrem Berufsleben auftreten, erz√§hle ich Ihnen typische Sicherheitsprobleme und wie Sie sich besser gegen sie versichern k√∂nnen. <br><br><img src="https://habrastorage.org/webt/2p/ca/zq/2pcazqfyuk50yhozwz437lgg6ok.png"><br><a name="habracut"></a><br></p><p>  Ich werde mich an einen solchen Plan halten: </p><br><ol><li>  Sicherheit auf Autorenebene; </li><li>  Sicherheit auf Ver√∂ffentlichungsstufe; </li><li>  Dispatcher-Sicherheit </li><li>  CSRF-Rahmenschutz; </li><li>  DDoS-Angriffe. </li></ol><p></p><br><h3>  Grundlegende Sicherheitstipps f√ºr Adobe Experience Manager </h3><br><p>  Die Welt der AEM-Projekte wird noch besser, wenn jeder Entwickler ein gemeinsames Verst√§ndnis daf√ºr hat, wie die Plattform im Allgemeinen vor Datenlecks gesch√ºtzt werden kann.  Nach dem folgenden Diagramm haben wir einen Autor, mehrere Verlage und zwei oder mehr Disponenten (die sogenannten Balancer).  Tats√§chlich sind diese drei Ebenen in Bezug auf den Datenschutz in erster Linie zu beachten.  Dies sind die klassischen Arbeitsregeln, die in der AEM-Community auf der ganzen Welt allgemein anerkannt sind. </p><br><img src="https://habrastorage.org/webt/yd/_b/b3/yd_bb3wjvrc6-qsjbfdu456ldjo.png"><br><br><p>  <b>1. Verwenden Sie HTTPS</b> .  AEM entwickelt sich schnell weiter und bietet die Flexibilit√§t, einen Autor f√ºr ein anderes, sichereres Protokoll zu erstellen.  Es reicht aus, den Schl√ºssel ‚ÄûSSL-Assistent‚Äú zu generieren, einen Pfad dazu zu erstellen und somit ein sichereres Protokoll zu verwenden.  In Empfehlungen von Adobe ist dieser Schritt genau die erste Priorit√§t in Bezug auf die Sicherheit. </p><br><p>  <b>2. Installieren Sie Pakete mit den neuesten Updates.</b>  Der Standardprozess des Entwicklers besteht darin, dass Sie bei der Arbeit an Komponenten und Diensten in Google nach L√∂sungen suchen m√ºssen.  Ziel dieses Schritts ist die regelm√§√üige √úberwachung von Service Pack und Hot Fixes.  Dann verschwinden viele Probleme, einschlie√ülich der Datensicherheit.  Obwohl dies kein Allheilmittel ist, ist es wichtig, das System auf dem neuesten Stand zu halten. </p><br><img src="https://habrastorage.org/webt/a9/sq/mc/a9sqmc0pb_yexkdabwazbcjot1q.png"><br><br><p>  <b>3. Ordentliche Seiten mit Fehlermeldungen erstellen.</b>  Wenn Sie zun√§chst eine Seite mit einer kurzen Beschreibung des Fehlers erstellen, stellt der Client sofort fest, dass der Fehler nicht funktioniert, w√§hrend der Entwickler das Problem bereits l√∂st.  Es ist logisch, dass diese Informationen nicht an Ihnen weitergegeben werden, aber Sie vermeiden Panik seitens des Clients und der Tester sowie Verwirrung bei den Aufgaben. </p><br><p>  <b>4. Weigern Sie sich, ein Passwort festzulegen und melden Sie sich bei "admin-admin" an.</b>  Es w√§re nicht lustig, aber das Problem mit schlechtem Login und Passwort ist selbst in AEM weit verbreitet.  Infolgedessen erhalten wir aus Gr√ºnden der Geschwindigkeit oder anderer √úberlegungen das anf√§lligste System.  Wenn Sie feststellen, dass die primitiven Anmeldedaten festgelegt sind, versuchen Sie, das Team / die Vorgesetzten zu √ºberzeugen und sie so schnell wie m√∂glich in zuverl√§ssigere zu √§ndern. </p><br><h3>  Sicherheit auf Autorenebene </h3><br><p>  <b>Verwenden Sie zuerst vpn</b> .  Die Verwendung eines virtuellen gesch√ºtzten Netzwerks ist die Arbeit eines sicheren privaten Netzwerks, um eine sichere Verbindung zwischen Ihnen und dem Server herzustellen.  Dies ist ein einfaches und wichtiges Tool: Da Ihr Datenverkehr verschl√ºsselt wird, ist es unm√∂glich herauszufinden, von wo Sie Ihre Daten senden.  Es stellt sich heraus, dass mit vPn niemand auf Ihre Instanz zugreifen kann. </p><br><p>  Dieser Ansatz eignet sich f√ºr Remote-Entwickler und alle, deren Arbeit an verschiedenen Standorten mit einer instabilen Internetverbindung ausgef√ºhrt wird. </p><br><p>  Zweitens sollte <b>Ihr "Autor" immer geschlossen sein, auch von Google</b> .  Sie k√∂nnen also ein Passwort abrufen und das System hacken: Nachl√§ssig kann der Autor indiziert werden.  Um Ihre Sicherheitsanf√§lligkeit in einer Suchmaschine zu √ºberpr√ºfen, geben Sie in deren Zeile Ihre Domain und Ihren Autor sowie den Pfad zu crx ein.  Ja, Sie k√∂nnen Yandex oder Google kontaktieren, um eine solche Zeile im SERP zu l√∂schen.  W√§hrend das Problem behoben wird, ist das System jedoch bereits √∂ffentlich verf√ºgbar. </p><br><img src="https://habrastorage.org/webt/rr/7f/j2/rr7fj2hxg9y-1d5ltu-oryk_dyy.png"><br><br><p>  Drittens sollten <b>Sie die Berechtigungen des Benutzers "admin" nicht untersch√§tzen</b> , der am h√§ufigsten die M√∂glichkeit hat, verf√ºgbare Vorg√§nge auszuf√ºhren. </p><br><p>  Dies ist besonders wichtig, wenn sich ein Mitarbeiter vom Unternehmen verabschiedet.  In der Tat ist der Zugriff auf die Instanz f√ºr die meisten Unternehmen nicht pers√∂nlich, sondern √ºber ein Administratorkonto.  Es ist logischer, das Gegenteil zu tun und sich der spezifischen √Ñnderungen eines bestimmten Autors im System bewusst zu sein. </p><br><p>  In AEM 6.1 wurde ein neuer Ansatz eingef√ºhrt, mit dem Sie bestimmte Rechte f√ºr ein Bundle oder einen Benutzerdienst festlegen k√∂nnen.  Es ist jedoch besser, ein pers√∂nliches Profil zu erstellen: Es ist f√ºr den Mitarbeiter angenehm und f√ºr das Unternehmen einfacher zu verfolgen, wer √ºber welche Zugriffsebenen auf das System verf√ºgt.  Dieser Ansatz ist f√ºr Autoren- und Herausgeberebenen relevant. </p><br><h3>  Sicherheit ver√∂ffentlichen </h3><br><p>  In der Regel stellen sie erst nach langer Zeit im Projekt fest, dass sie den anonymen Benutzer nicht √ºberpr√ºft haben.  Und w√§hrend ein gew√∂hnlicher Benutzer m√∂glicherweise Einschr√§nkungen f√ºr Vorg√§nge hat, hat ein anonymer Benutzer - was h√§ufig vorkommt - viel mehr Rechte, um Vorg√§nge auszuf√ºhren. </p><br><br><br><p>  Der <b>Apache Sling Referrer-</b> Filter ist ein praktischer und effektiver Mechanismus, um Ihre Anwendung sicher zu machen.  Wenn Sie beispielsweise Metriken an AEM senden, werden Informationen zum Senden von Daten im Posteingang angezeigt.  Wenn Sie den Standardwert √ºberschreiten, kann ein Drittanbieter-System diese Anforderung senden.  Dies bedeutet, dass niemand eine Anfrage senden kann.  Sie geben die Dom√§ne in die Konfiguration ein, zum Zeitpunkt der Anforderung vergleicht sie sie mit den urspr√ºnglich eingegebenen Daten, und wenn alles √ºbereinstimmt, erfolgt die Integration. </p><br><p>  Es wird sich herausstellen, dass der Filter flexibler konfiguriert werden kann: Sie k√∂nnen die Anforderung, die Methode und den Host angeben.  Es gibt auch einen leeren Wert oder ein Sternchen f√ºr detailliertere Abfragen. </p><br><img src="https://habrastorage.org/webt/fy/t4/bk/fyt4bkzbztvzsanwyl9ccketyg4.png"><br><br><h3>  Sicherheit auf Dispatcher-Ebene </h3><br><p>  Entwickler sind in 10% der F√§lle mit Streit konfrontiert.  Dies ist also die Hauptkonfigurationsdatei, in der wir den Typ der URL festlegen (Verbieten / Zulassen). </p><br><img src="https://habrastorage.org/webt/7v/rk/2z/7vrk2zbjsetu9dnsqear1msjc2k.png"><br><p>  Normalerweise erledigen Entwickler eine kleine Aufgabe, erstellen eine Regel und vergessen, dass dadurch eine Sicherheitsanf√§lligkeit entsteht.  Damit niemand versucht, Ihre Instanz anzugreifen, m√ºssen Sie die URL zum Zeitpunkt der Verf√ºgbarkeit mit Selektoren √ºberpr√ºfen. </p><br><p>  √úber die Konfigurationsdatei k√∂nnen Sie die Verarbeitung von Headern festlegen.  Denn je genauer Sie den Zack, die Methode usw. angeben, desto weniger wird eine solch detaillierte Einstellung definitiv etwas kaputt machen.  Dies sind elementare Beispiele.  Was ist, wenn es Hunderte solcher Regeln gibt und das Navigieren schwieriger ist? </p><br><p>  Am einfachsten ist es, die Protokollierung zu aktivieren.  Abh√§ngig von der Version von Apache kann sich der Arbeitsmechanismus geringf√ºgig √§ndern.  Das System wird Ihnen jedoch sofort mitteilen, welche URL welche bestimmte Regel f√ºr Sie ausarbeitet und welche noch korrigiert werden muss. </p><br><p>  Sie k√∂nnen in den Regeln auch Dom√§nen angeben: Dies ist ein Verweis auf die Integration. <br>  Sobald der Dispatcher f√ºr das Caching verwendet wird, werden Anforderungen um ein Vielfaches schneller ausgef√ºhrt: Sie m√ºssen nirgendwo hingehen und nachsehen, und Sie k√∂nnen sie sofort an den Client senden.  Au√üerdem verbessert diese Methode die Sicherheit Ihrer Anwendung erheblich. </p><br><p>  <b>F√§lschung von Cross Site Request</b> - gef√§lschte Anfrage. </p><br><img src="https://habrastorage.org/webt/9k/w7/60/9kw7603ebineyd4p_q09k1knkqa.png"><br><p>  Allgemeines CSRF-Prinzip: Angenommen, Sie verwenden Ihr Konto auf der Website der Bank.  Nach der Autorisierung haben Sie eine Standardsitzung mit Cookies im Browser, Sie erhalten eine E-Mail und folgen dem Link zu einer verd√§chtigen Site.  Darauf hat ein Angreifer ein Formular eingebettet, nach dessen Abschluss Ihre Daten an die Website der Bank gesendet werden. </p><br><p>  Der Punkt liegt im HTTP-Protokoll.  Ein Angreifer ben√∂tigt nicht viele Daten: Diese Anfrage ist ausreichend.  Der Bankserver wird sehen: Eine Anfrage ist eingetroffen, es gibt Cookies und eine Sitzung, alles ist in Ordnung.  So funktionieren typische Angriffe. </p><br><p>  <b>Was kann AEM geben, um die F√§lschung von Abfragen zu verhindern?</b> <br>  Ein klassisches Beispiel f√ºr Schutz ist die Erzeugung eines "Geheimnisses" in einer Zeichenfolge.  Wenn das Formular generiert wird, wird dieses geheime Token aus dem ausgeblendeten Feld hinzugef√ºgt.  Wenn Sie zur Website des Angreifers gehen, erkennt das System das Fehlen eines Tokens oder dessen Ung√ºltigkeit und lehnt das Senden von Daten ab.  Manchmal sch√ºtzen sie sich selbst vor den Benutzern. </p><br><p>  Jetzt haben Sie einen regul√§ren Jack, in dem Sie kein verstecktes Feld hinzuf√ºgen k√∂nnen.  In der Autorisierungsphase gibt der Server ein Cookie mit einem Namen mit SCRF an Sie zur√ºck, √ºbertr√§gt es in den Header und sendet es an den Server.  Sie haben also die Anfrage unterschrieben. </p><br><h3>  AEM erledigt alles f√ºr Sie: Es generiert Schl√ºssel, Token und √ºberpr√ºft die Formular√ºbermittlung </h3><br><p>  Es gibt F√§lle, in denen eine Anwendung in React geschrieben ist und es einen schwierigen Moment bei der Integration gibt.  AEM hat diese Situation ber√ºcksichtigt: Gehen Sie einfach zu inpoint und unterschreiben Sie es zur √úberpr√ºfung.  Geeignet bei Verwendung von nicht standardm√§√üigen Komponenten und Bibliotheken. </p><br><img src="https://habrastorage.org/webt/vr/ol/di/vroldiimo4y2eqxgn15b_ywjgba.png"><br><p>  <b>Was kann noch getan werden, um das System zu sch√ºtzen:</b> <br></p><ul><li>  Verantwortliche Bibliotheken.  Es macht keinen Sinn, etwas hinzuzuf√ºgen, bis Sie etwas kaputt machen. </li><li>  Auf der niedrigen Ebene k√∂nnen Sie alle "Geheimnisse" sehen.  Dies ist eine Art Validierung Ihrer Daten. </li><li>  Es ist ganz einfach: Es gibt eine fertige API und Sie sind bereits vor dieser Art von Angriff gesch√ºtzt. </li></ul><p></p><br><h3>  DDOS-Angriff - der zweitbeliebteste Angriff </h3><br><p>  Ziel ist es, die physischen F√§higkeiten des Servers zu ersch√∂pfen.  Auf einigen Hosts werden Millionen von Anfragen gestellt.  Wenn sie unendlich viele werden, beginnt das System physisch nicht mehr damit umzugehen.  In der Regel greifen sie aus mehreren Quellen m√§chtig an und verwenden ein VPN.  100% davon sind nicht versichert;  aber lasst uns ihnen nicht helfen. </p><br><img src="https://habrastorage.org/webt/uz/w_/vz/uzw_vzpogptidow1qta7i5dbl5i.png"><br><p>  In welchen F√§llen ist das System anf√§llig: <br><br></p><ul><li>  Konfigurieren Sie das System mit dem falschen Suffix. </li><li>  Es gibt viele Anfragen nach Avs, die der Dispatcher in der √ñffentlichkeit nicht weiterleiten kann. </li><li>  Wenn es nicht verboten ist, eine unbegrenzte Anzahl von Inhaltsknoten anzuzeigen.  Insbesondere der JSON-Renderer, der die Baumstruktur auf mehreren Ebenen √ºberqueren kann. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">localhost</a> : 4502 / .json kann das gesamte Repository im JSON-Format sichern. </li></ul><p></p><br><p>  Um Ihre Arbeit an AEM sicherer zu machen, konzentrieren Sie sich auf die Funktionen bestimmter Benutzer. </p><br><p>  Vergessen Sie nicht, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adobe-Sicherheitscheckliste durchzugehen</a> und alles mit Ihrem Projekt auf AEM stabil zu halten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468231/">https://habr.com/ru/post/de468231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468217/index.html">Dr. Jekyll und Mr. Hyde Unternehmenskultur</a></li>
<li><a href="../de468219/index.html">Erweiterbare Erweiterungsmechanismen in JavaScript</a></li>
<li><a href="../de468223/index.html">Habr Weekly # 19 / BT-T√ºr f√ºr die Katze, warum die KI betr√ºgt, was der zuk√ºnftige Arbeitgeber fragen soll, ein Tag mit iPhone 11 Pro</a></li>
<li><a href="../de468225/index.html">Reduzieren der Bundle-Gr√∂√üe mit Webpack Analyzer und React Lazy / Suspense</a></li>
<li><a href="../de468229/index.html">Ein Hinweis zur Leere in JavaScript und TypeScript</a></li>
<li><a href="../de468233/index.html">Die M√∂glichkeit, 4 Millionen Zeilen Python-Code zu √ºberpr√ºfen. Teil 1</a></li>
<li><a href="../de468235/index.html">Die M√∂glichkeit, 4 Millionen Zeilen Python-Code zu √ºberpr√ºfen. Teil 2</a></li>
<li><a href="../de468237/index.html">Die M√∂glichkeit, 4 Millionen Zeilen Python-Code zu √ºberpr√ºfen. Teil 3</a></li>
<li><a href="../de468239/index.html">Auswahl der richtigen Datenstruktur in Swift</a></li>
<li><a href="../de468241/index.html">TR-069 bei Mikrotik. Testen von Freeacs als Autokonfigurationsserver f√ºr RouterOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>