<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✌🏼 🤞 🤳🏻 Ist die Sicherheit in AEM ein Plattform- oder Implementierungsproblem? 👨‍👩‍👦‍👦 ⛹🏽 🧑🏽‍🤝‍🧑🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gepostet von: Andrey Pinchuk | Zertifizierter Senior AEM Entwickler 



 Stellen Sie sich die Situation vor: Sie schlafen ruhig und sehen Ihren dritte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ist die Sicherheit in AEM ein Plattform- oder Implementierungsproblem?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468231/">  <b>Gepostet von: Andrey Pinchuk</b> |  Zertifizierter Senior AEM Entwickler <br><br><p> Stellen Sie sich die Situation vor: Sie schlafen ruhig und sehen Ihren dritten Traum, als plötzlich ein Telefon klingelt - ein unzufriedener Kunde beschwert sich, dass das gesamte System nicht verfügbar ist.  Stimmen Sie zu, solche Ereignisse sind für das Leben des AEM-Entwicklers, des gesamten Teams und des Lösungsanbieters unangenehm.  Es gibt nichts zu tun, einen frühen Aufstieg und die Suche nach einer Lösung. </p><br><p>  Um zu verhindern, dass solche freudlosen Momente in Ihrem Berufsleben auftreten, erzähle ich Ihnen typische Sicherheitsprobleme und wie Sie sich besser gegen sie versichern können. <br><br><img src="https://habrastorage.org/webt/2p/ca/zq/2pcazqfyuk50yhozwz437lgg6ok.png"><br><a name="habracut"></a><br></p><p>  Ich werde mich an einen solchen Plan halten: </p><br><ol><li>  Sicherheit auf Autorenebene; </li><li>  Sicherheit auf Veröffentlichungsstufe; </li><li>  Dispatcher-Sicherheit </li><li>  CSRF-Rahmenschutz; </li><li>  DDoS-Angriffe. </li></ol><p></p><br><h3>  Grundlegende Sicherheitstipps für Adobe Experience Manager </h3><br><p>  Die Welt der AEM-Projekte wird noch besser, wenn jeder Entwickler ein gemeinsames Verständnis dafür hat, wie die Plattform im Allgemeinen vor Datenlecks geschützt werden kann.  Nach dem folgenden Diagramm haben wir einen Autor, mehrere Verlage und zwei oder mehr Disponenten (die sogenannten Balancer).  Tatsächlich sind diese drei Ebenen in Bezug auf den Datenschutz in erster Linie zu beachten.  Dies sind die klassischen Arbeitsregeln, die in der AEM-Community auf der ganzen Welt allgemein anerkannt sind. </p><br><img src="https://habrastorage.org/webt/yd/_b/b3/yd_bb3wjvrc6-qsjbfdu456ldjo.png"><br><br><p>  <b>1. Verwenden Sie HTTPS</b> .  AEM entwickelt sich schnell weiter und bietet die Flexibilität, einen Autor für ein anderes, sichereres Protokoll zu erstellen.  Es reicht aus, den Schlüssel „SSL-Assistent“ zu generieren, einen Pfad dazu zu erstellen und somit ein sichereres Protokoll zu verwenden.  In Empfehlungen von Adobe ist dieser Schritt genau die erste Priorität in Bezug auf die Sicherheit. </p><br><p>  <b>2. Installieren Sie Pakete mit den neuesten Updates.</b>  Der Standardprozess des Entwicklers besteht darin, dass Sie bei der Arbeit an Komponenten und Diensten in Google nach Lösungen suchen müssen.  Ziel dieses Schritts ist die regelmäßige Überwachung von Service Pack und Hot Fixes.  Dann verschwinden viele Probleme, einschließlich der Datensicherheit.  Obwohl dies kein Allheilmittel ist, ist es wichtig, das System auf dem neuesten Stand zu halten. </p><br><img src="https://habrastorage.org/webt/a9/sq/mc/a9sqmc0pb_yexkdabwazbcjot1q.png"><br><br><p>  <b>3. Ordentliche Seiten mit Fehlermeldungen erstellen.</b>  Wenn Sie zunächst eine Seite mit einer kurzen Beschreibung des Fehlers erstellen, stellt der Client sofort fest, dass der Fehler nicht funktioniert, während der Entwickler das Problem bereits löst.  Es ist logisch, dass diese Informationen nicht an Ihnen weitergegeben werden, aber Sie vermeiden Panik seitens des Clients und der Tester sowie Verwirrung bei den Aufgaben. </p><br><p>  <b>4. Weigern Sie sich, ein Passwort festzulegen und melden Sie sich bei "admin-admin" an.</b>  Es wäre nicht lustig, aber das Problem mit schlechtem Login und Passwort ist selbst in AEM weit verbreitet.  Infolgedessen erhalten wir aus Gründen der Geschwindigkeit oder anderer Überlegungen das anfälligste System.  Wenn Sie feststellen, dass die primitiven Anmeldedaten festgelegt sind, versuchen Sie, das Team / die Vorgesetzten zu überzeugen und sie so schnell wie möglich in zuverlässigere zu ändern. </p><br><h3>  Sicherheit auf Autorenebene </h3><br><p>  <b>Verwenden Sie zuerst vpn</b> .  Die Verwendung eines virtuellen geschützten Netzwerks ist die Arbeit eines sicheren privaten Netzwerks, um eine sichere Verbindung zwischen Ihnen und dem Server herzustellen.  Dies ist ein einfaches und wichtiges Tool: Da Ihr Datenverkehr verschlüsselt wird, ist es unmöglich herauszufinden, von wo Sie Ihre Daten senden.  Es stellt sich heraus, dass mit vPn niemand auf Ihre Instanz zugreifen kann. </p><br><p>  Dieser Ansatz eignet sich für Remote-Entwickler und alle, deren Arbeit an verschiedenen Standorten mit einer instabilen Internetverbindung ausgeführt wird. </p><br><p>  Zweitens sollte <b>Ihr "Autor" immer geschlossen sein, auch von Google</b> .  Sie können also ein Passwort abrufen und das System hacken: Nachlässig kann der Autor indiziert werden.  Um Ihre Sicherheitsanfälligkeit in einer Suchmaschine zu überprüfen, geben Sie in deren Zeile Ihre Domain und Ihren Autor sowie den Pfad zu crx ein.  Ja, Sie können Yandex oder Google kontaktieren, um eine solche Zeile im SERP zu löschen.  Während das Problem behoben wird, ist das System jedoch bereits öffentlich verfügbar. </p><br><img src="https://habrastorage.org/webt/rr/7f/j2/rr7fj2hxg9y-1d5ltu-oryk_dyy.png"><br><br><p>  Drittens sollten <b>Sie die Berechtigungen des Benutzers "admin" nicht unterschätzen</b> , der am häufigsten die Möglichkeit hat, verfügbare Vorgänge auszuführen. </p><br><p>  Dies ist besonders wichtig, wenn sich ein Mitarbeiter vom Unternehmen verabschiedet.  In der Tat ist der Zugriff auf die Instanz für die meisten Unternehmen nicht persönlich, sondern über ein Administratorkonto.  Es ist logischer, das Gegenteil zu tun und sich der spezifischen Änderungen eines bestimmten Autors im System bewusst zu sein. </p><br><p>  In AEM 6.1 wurde ein neuer Ansatz eingeführt, mit dem Sie bestimmte Rechte für ein Bundle oder einen Benutzerdienst festlegen können.  Es ist jedoch besser, ein persönliches Profil zu erstellen: Es ist für den Mitarbeiter angenehm und für das Unternehmen einfacher zu verfolgen, wer über welche Zugriffsebenen auf das System verfügt.  Dieser Ansatz ist für Autoren- und Herausgeberebenen relevant. </p><br><h3>  Sicherheit veröffentlichen </h3><br><p>  In der Regel stellen sie erst nach langer Zeit im Projekt fest, dass sie den anonymen Benutzer nicht überprüft haben.  Und während ein gewöhnlicher Benutzer möglicherweise Einschränkungen für Vorgänge hat, hat ein anonymer Benutzer - was häufig vorkommt - viel mehr Rechte, um Vorgänge auszuführen. </p><br><br><br><p>  Der <b>Apache Sling Referrer-</b> Filter ist ein praktischer und effektiver Mechanismus, um Ihre Anwendung sicher zu machen.  Wenn Sie beispielsweise Metriken an AEM senden, werden Informationen zum Senden von Daten im Posteingang angezeigt.  Wenn Sie den Standardwert überschreiten, kann ein Drittanbieter-System diese Anforderung senden.  Dies bedeutet, dass niemand eine Anfrage senden kann.  Sie geben die Domäne in die Konfiguration ein, zum Zeitpunkt der Anforderung vergleicht sie sie mit den ursprünglich eingegebenen Daten, und wenn alles übereinstimmt, erfolgt die Integration. </p><br><p>  Es wird sich herausstellen, dass der Filter flexibler konfiguriert werden kann: Sie können die Anforderung, die Methode und den Host angeben.  Es gibt auch einen leeren Wert oder ein Sternchen für detailliertere Abfragen. </p><br><img src="https://habrastorage.org/webt/fy/t4/bk/fyt4bkzbztvzsanwyl9ccketyg4.png"><br><br><h3>  Sicherheit auf Dispatcher-Ebene </h3><br><p>  Entwickler sind in 10% der Fälle mit Streit konfrontiert.  Dies ist also die Hauptkonfigurationsdatei, in der wir den Typ der URL festlegen (Verbieten / Zulassen). </p><br><img src="https://habrastorage.org/webt/7v/rk/2z/7vrk2zbjsetu9dnsqear1msjc2k.png"><br><p>  Normalerweise erledigen Entwickler eine kleine Aufgabe, erstellen eine Regel und vergessen, dass dadurch eine Sicherheitsanfälligkeit entsteht.  Damit niemand versucht, Ihre Instanz anzugreifen, müssen Sie die URL zum Zeitpunkt der Verfügbarkeit mit Selektoren überprüfen. </p><br><p>  Über die Konfigurationsdatei können Sie die Verarbeitung von Headern festlegen.  Denn je genauer Sie den Zack, die Methode usw. angeben, desto weniger wird eine solch detaillierte Einstellung definitiv etwas kaputt machen.  Dies sind elementare Beispiele.  Was ist, wenn es Hunderte solcher Regeln gibt und das Navigieren schwieriger ist? </p><br><p>  Am einfachsten ist es, die Protokollierung zu aktivieren.  Abhängig von der Version von Apache kann sich der Arbeitsmechanismus geringfügig ändern.  Das System wird Ihnen jedoch sofort mitteilen, welche URL welche bestimmte Regel für Sie ausarbeitet und welche noch korrigiert werden muss. </p><br><p>  Sie können in den Regeln auch Domänen angeben: Dies ist ein Verweis auf die Integration. <br>  Sobald der Dispatcher für das Caching verwendet wird, werden Anforderungen um ein Vielfaches schneller ausgeführt: Sie müssen nirgendwo hingehen und nachsehen, und Sie können sie sofort an den Client senden.  Außerdem verbessert diese Methode die Sicherheit Ihrer Anwendung erheblich. </p><br><p>  <b>Fälschung von Cross Site Request</b> - gefälschte Anfrage. </p><br><img src="https://habrastorage.org/webt/9k/w7/60/9kw7603ebineyd4p_q09k1knkqa.png"><br><p>  Allgemeines CSRF-Prinzip: Angenommen, Sie verwenden Ihr Konto auf der Website der Bank.  Nach der Autorisierung haben Sie eine Standardsitzung mit Cookies im Browser, Sie erhalten eine E-Mail und folgen dem Link zu einer verdächtigen Site.  Darauf hat ein Angreifer ein Formular eingebettet, nach dessen Abschluss Ihre Daten an die Website der Bank gesendet werden. </p><br><p>  Der Punkt liegt im HTTP-Protokoll.  Ein Angreifer benötigt nicht viele Daten: Diese Anfrage ist ausreichend.  Der Bankserver wird sehen: Eine Anfrage ist eingetroffen, es gibt Cookies und eine Sitzung, alles ist in Ordnung.  So funktionieren typische Angriffe. </p><br><p>  <b>Was kann AEM geben, um die Fälschung von Abfragen zu verhindern?</b> <br>  Ein klassisches Beispiel für Schutz ist die Erzeugung eines "Geheimnisses" in einer Zeichenfolge.  Wenn das Formular generiert wird, wird dieses geheime Token aus dem ausgeblendeten Feld hinzugefügt.  Wenn Sie zur Website des Angreifers gehen, erkennt das System das Fehlen eines Tokens oder dessen Ungültigkeit und lehnt das Senden von Daten ab.  Manchmal schützen sie sich selbst vor den Benutzern. </p><br><p>  Jetzt haben Sie einen regulären Jack, in dem Sie kein verstecktes Feld hinzufügen können.  In der Autorisierungsphase gibt der Server ein Cookie mit einem Namen mit SCRF an Sie zurück, überträgt es in den Header und sendet es an den Server.  Sie haben also die Anfrage unterschrieben. </p><br><h3>  AEM erledigt alles für Sie: Es generiert Schlüssel, Token und überprüft die Formularübermittlung </h3><br><p>  Es gibt Fälle, in denen eine Anwendung in React geschrieben ist und es einen schwierigen Moment bei der Integration gibt.  AEM hat diese Situation berücksichtigt: Gehen Sie einfach zu inpoint und unterschreiben Sie es zur Überprüfung.  Geeignet bei Verwendung von nicht standardmäßigen Komponenten und Bibliotheken. </p><br><img src="https://habrastorage.org/webt/vr/ol/di/vroldiimo4y2eqxgn15b_ywjgba.png"><br><p>  <b>Was kann noch getan werden, um das System zu schützen:</b> <br></p><ul><li>  Verantwortliche Bibliotheken.  Es macht keinen Sinn, etwas hinzuzufügen, bis Sie etwas kaputt machen. </li><li>  Auf der niedrigen Ebene können Sie alle "Geheimnisse" sehen.  Dies ist eine Art Validierung Ihrer Daten. </li><li>  Es ist ganz einfach: Es gibt eine fertige API und Sie sind bereits vor dieser Art von Angriff geschützt. </li></ul><p></p><br><h3>  DDOS-Angriff - der zweitbeliebteste Angriff </h3><br><p>  Ziel ist es, die physischen Fähigkeiten des Servers zu erschöpfen.  Auf einigen Hosts werden Millionen von Anfragen gestellt.  Wenn sie unendlich viele werden, beginnt das System physisch nicht mehr damit umzugehen.  In der Regel greifen sie aus mehreren Quellen mächtig an und verwenden ein VPN.  100% davon sind nicht versichert;  aber lasst uns ihnen nicht helfen. </p><br><img src="https://habrastorage.org/webt/uz/w_/vz/uzw_vzpogptidow1qta7i5dbl5i.png"><br><p>  In welchen Fällen ist das System anfällig: <br><br></p><ul><li>  Konfigurieren Sie das System mit dem falschen Suffix. </li><li>  Es gibt viele Anfragen nach Avs, die der Dispatcher in der Öffentlichkeit nicht weiterleiten kann. </li><li>  Wenn es nicht verboten ist, eine unbegrenzte Anzahl von Inhaltsknoten anzuzeigen.  Insbesondere der JSON-Renderer, der die Baumstruktur auf mehreren Ebenen überqueren kann. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">localhost</a> : 4502 / .json kann das gesamte Repository im JSON-Format sichern. </li></ul><p></p><br><p>  Um Ihre Arbeit an AEM sicherer zu machen, konzentrieren Sie sich auf die Funktionen bestimmter Benutzer. </p><br><p>  Vergessen Sie nicht, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adobe-Sicherheitscheckliste durchzugehen</a> und alles mit Ihrem Projekt auf AEM stabil zu halten. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468231/">https://habr.com/ru/post/de468231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468217/index.html">Dr. Jekyll und Mr. Hyde Unternehmenskultur</a></li>
<li><a href="../de468219/index.html">Erweiterbare Erweiterungsmechanismen in JavaScript</a></li>
<li><a href="../de468223/index.html">Habr Weekly # 19 / BT-Tür für die Katze, warum die KI betrügt, was der zukünftige Arbeitgeber fragen soll, ein Tag mit iPhone 11 Pro</a></li>
<li><a href="../de468225/index.html">Reduzieren der Bundle-Größe mit Webpack Analyzer und React Lazy / Suspense</a></li>
<li><a href="../de468229/index.html">Ein Hinweis zur Leere in JavaScript und TypeScript</a></li>
<li><a href="../de468233/index.html">Die Möglichkeit, 4 Millionen Zeilen Python-Code zu überprüfen. Teil 1</a></li>
<li><a href="../de468235/index.html">Die Möglichkeit, 4 Millionen Zeilen Python-Code zu überprüfen. Teil 2</a></li>
<li><a href="../de468237/index.html">Die Möglichkeit, 4 Millionen Zeilen Python-Code zu überprüfen. Teil 3</a></li>
<li><a href="../de468239/index.html">Auswahl der richtigen Datenstruktur in Swift</a></li>
<li><a href="../de468241/index.html">TR-069 bei Mikrotik. Testen von Freeacs als Autokonfigurationsserver für RouterOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>