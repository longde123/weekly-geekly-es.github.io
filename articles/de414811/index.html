<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñêÔ∏è ‚ôâÔ∏è üç• Integrieren Sie Telegramm und Avaya ü§ûüèæ üë®üèº‚Äçüöí üõÄüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Als das gesch√§ftliche Problem der Erstellung eines Hochgeschwindigkeitsmechanismus zur Benachrichtigung des Benutzers √ºber Ereignisse im Contact Cente...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Integrieren Sie Telegramm und Avaya</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414811/">  Als das gesch√§ftliche Problem der Erstellung eines Hochgeschwindigkeitsmechanismus zur Benachrichtigung des Benutzers √ºber Ereignisse im Contact Center (√úberlauf von Warteschlangen) und einer Telefonvermittlung (Benachrichtigung √ºber verpasste Anrufe) aufkam, kam der Gedanke √ºber Telegramm auf. <br><br>  In dieser Situation, Telegramm, ist dies nur eine der m√∂glichen Optionen.  Kann per SMS erfolgen.  Sie k√∂nnen es per E-Mail kitschig machen, und dann kommt es auf einem Handy zum Benutzer und der Server Push wird daraus herauskommen.  Oder machen Sie es direkt in der Anwendung auf Ihrem Handy, damit Push direkt von ihr bezogen wird. <br><br>  Aber jede Methode hat ihre Nachteile.  Sie m√ºssen f√ºr SMS bezahlen.  E-Mail macht den Benutzer st√§ndig blind und der Benutzer reagiert nicht mehr.  F√ºr jede Plattform muss eine separate Anwendung auf dem Telefon erstellt werden. Installieren und organisieren Sie die Registrierung von Token auf den internen Servern des Unternehmens.  Eine L√∂sung mit Telegramm hat diese Nachteile nicht, obwohl die Anwendung nat√ºrlich auf einem Handy, Desktop oder woanders installiert werden sollte.  Telegramm hat jedoch auch ein Minus.  Dies ist unser lieber Roskomnadzor, der ihn nicht sehr mag.  Dies f√ºhrt zu einer zus√§tzlichen Pikantheit der Implementierung. <br><br>  Also. <br><a name="habracut"></a><br>  Inspiriert von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">jenem machte</a> ich mich an die Arbeit. <br><br>  Zu Beginn habe ich in BotFather einen Bot erstellt <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f4/9e1/f51/9f49e1f51a177f2fc8b5cf99d98ca294.png" alt="Bild"><br><br>  Als n√§chstes sollten Sie bereits direkt mit der API arbeiten. <br><br>  Nachdem ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diese</a> w√ºrdige Ver√∂ffentlichung gefunden hatte, wandte ich mich an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hetzner</a> und organisierte meinen http-Proxy f√ºr die Arbeit mit API f√ºr nur 3 Euro pro Monat auf deutschem Gebiet. <br><br>  Der n√§chste erforderliche Schritt besteht darin, eine Gruppe zu erstellen, die Ihre Benutzer und den neu erstellten Chat-Bot enth√§lt.  Dies ist Spam-Schutz.  Was Viber zum Beispiel fehlt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd1/23c/243/dd123c2439d1d315b0e20026e15422e9.png" alt="Bild"><br><br>  Als n√§chstes m√ºssen Sie die Nummern der erforderlichen Benutzer finden. <br>  Dazu muss jeder Benutzer eine Nachricht in den Chat werfen.  Im Allgemeinen ist es willk√ºrlich.  Zu diesem Zweck verwenden wir jedoch beispielsweise das Phrasenregister und eine bestimmte Nummer.  Die Nummer ist die Kennung f√ºr die TK-Anlage. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/00b/38c/792/00b38c7928b8b272ef644915a0a3efc7.png" alt="Bild"><br><br>  Wenden wir uns nun der API zu. <br><br>  Mit dem neu erstellten Proxy stellen wir die folgende Anfrage direkt von der Proxy-Shell.  Wenn Sie Ihren Browser bereits auf die Verwendung umgestellt haben, k√∂nnen Sie dies direkt √ºber den Browser tun. <br><br><pre><code class="hljs smalltalk">root@ubuntu-dsenash ~ # wget https://api.telegram.org/bot553:<span class="hljs-type"><span class="hljs-type">AAGrXfKHw</span></span>/getUpdates -<span class="hljs-number"><span class="hljs-number">-2018</span></span><span class="hljs-number"><span class="hljs-number">-06</span></span><span class="hljs-number"><span class="hljs-number">-21</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span>-- https://api.telegram.org/bot553:<span class="hljs-type"><span class="hljs-type">AAGrXfKHw</span></span>/getUpdates <span class="hljs-type"><span class="hljs-type">Resolving</span></span> api.telegram.org (api.telegram.org)... <span class="hljs-number"><span class="hljs-number">149.154</span></span><span class="hljs-number"><span class="hljs-number">.167</span></span><span class="hljs-number"><span class="hljs-number">.220</span></span>, <span class="hljs-number"><span class="hljs-number">2001</span></span>:<span class="hljs-number"><span class="hljs-number">67</span></span>c:<span class="hljs-number"><span class="hljs-number">4e8</span></span>:f004::<span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-type"><span class="hljs-type">Connecting</span></span> to api.telegram.org (api.telegram.org)|<span class="hljs-number"><span class="hljs-number">149.154</span></span><span class="hljs-number"><span class="hljs-number">.167</span></span><span class="hljs-number"><span class="hljs-number">.220</span></span>|:<span class="hljs-number"><span class="hljs-number">443.</span></span>.. connected. <span class="hljs-type"><span class="hljs-type">HTTP</span></span> request sent, awaiting response... <span class="hljs-number"><span class="hljs-number">200</span></span> <span class="hljs-type"><span class="hljs-type">OK</span></span> <span class="hljs-type"><span class="hljs-type">Length</span></span>: <span class="hljs-number"><span class="hljs-number">370</span></span> [application/json] <span class="hljs-type"><span class="hljs-type">Saving</span></span> to: <span class="hljs-string"><span class="hljs-string">'getUpdates'</span></span> getUpdates <span class="hljs-number"><span class="hljs-number">100</span></span>%[==================================================================================&gt;] <span class="hljs-number"><span class="hljs-number">370</span></span> --.-<span class="hljs-type"><span class="hljs-type">KB</span></span>/s in <span class="hljs-number"><span class="hljs-number">0</span></span>s <span class="hljs-number"><span class="hljs-number">2018</span></span><span class="hljs-number"><span class="hljs-number">-06</span></span><span class="hljs-number"><span class="hljs-number">-21</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span> (<span class="hljs-number"><span class="hljs-number">14.1</span></span> <span class="hljs-type"><span class="hljs-type">MB</span></span>/s) - <span class="hljs-string"><span class="hljs-string">'getUpdates'</span></span> saved [<span class="hljs-number"><span class="hljs-number">370</span></span>/<span class="hljs-number"><span class="hljs-number">370</span></span>] root@ubuntu-dsenash ~ # cat getUpdates {<span class="hljs-comment"><span class="hljs-comment">"ok"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,<span class="hljs-comment"><span class="hljs-comment">"result"</span></span>:[{<span class="hljs-comment"><span class="hljs-comment">"update_id"</span></span>:<span class="hljs-number"><span class="hljs-number">90770</span></span>, <span class="hljs-comment"><span class="hljs-comment">"message"</span></span>:{<span class="hljs-comment"><span class="hljs-comment">"message_id"</span></span>:<span class="hljs-number"><span class="hljs-number">43</span></span>,<span class="hljs-comment"><span class="hljs-comment">"from"</span></span>:{<span class="hljs-comment"><span class="hljs-comment">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">3918</span></span>,<span class="hljs-comment"><span class="hljs-comment">"is_bot"</span></span>:<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>,<span class="hljs-comment"><span class="hljs-comment">"first_name"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"Dmitry"</span></span>,<span class="hljs-comment"><span class="hljs-comment">"last_name"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"Senashenko"</span></span>,<span class="hljs-comment"><span class="hljs-comment">"language_code"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"ru"</span></span>},<span class="hljs-comment"><span class="hljs-comment">"chat"</span></span>:{<span class="hljs-comment"><span class="hljs-comment">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">3918</span></span>,<span class="hljs-comment"><span class="hljs-comment">"first_name"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"Dmitry"</span></span>,<span class="hljs-comment"><span class="hljs-comment">"last_name"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"Senashenko"</span></span>,<span class="hljs-comment"><span class="hljs-comment">"type"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"private"</span></span>},<span class="hljs-comment"><span class="hljs-comment">"date"</span></span>:<span class="hljs-number"><span class="hljs-number">1529572218</span></span>,<span class="hljs-comment"><span class="hljs-comment">"text"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"/register 1000"</span></span>,<span class="hljs-comment"><span class="hljs-comment">"entities"</span></span>:[{<span class="hljs-comment"><span class="hljs-comment">"offset"</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-comment"><span class="hljs-comment">"length"</span></span>:<span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-comment"><span class="hljs-comment">"type"</span></span>:<span class="hljs-comment"><span class="hljs-comment">"bot_command"</span></span>}]}}]}root@ubuntu-dsenash ~ #</code> </pre> <br>  Anstelle von "553XXXXXXX: AAGrXfKHwhhhhhhhhhhhhhhhhhhhhhhhhh" wird angezeigt, was Sie von BotFather erhalten haben. <br><br>  In der Antwort suchen wir nach der Kennung des Benutzers, der die Registernachricht hinterlassen hat. <br>  Im obigen Text sehen wir die Nachricht selbst: "/ register 1000" <br>  Und die gesuchte Benutzer-ID: "id": 3918xxxxx " <br>  Anstelle von xxxxx gibt es nat√ºrlich reelle Zahlen. <br><br>  Jetzt k√∂nnen Sie den Betrieb des Bots und der API direkt von der Shell oder von Ihrem Browser aus mit der folgenden Anfrage √ºberpr√ºfen: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">api.telegram.org/bot553XXXXXXX</a> : AAGrXfKHwhhhhhhhhhhhhhhhhhhhhhhhhh / sendMessage? text = Your_queue_is_overloaded &amp; chat_id = 3918xxxxx <br><br>  Wobei bot553XXXXXXX: AAGrXfKHwhhhhhhhhhhhhhhhhhhhhhhhhhh die Bot-Nummer und der Schl√ºssel ist, die von BotFather empfangen wurden, und 3918xxxxx die Benutzernummer ist, die aus dem vorherigen Schritt erhalten wurde. <br>  Sie k√∂nnen im Text Russisch verwenden, aber Leerzeichen m√ºssen durch% 20 ersetzt werden. <br><br>  Als Ergebnis dieses Befehls wurde die Nachricht gleichzeitig per Telegramm auf dem Desktop und auf dem Mobiltelefon empfangen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/089/51d/bde/08951dbde1dc243edcb80fdf55988c0e.png" alt="Bild"><br><img src="https://habrastorage.org/getpro/habr/post_images/e56/4bf/1a3/e564bf1a3305d24912c88679295b8a2c.jpg" alt="Bild"><br><br>  Der Browser gab die folgende Antwort zur√ºck: <br><img src="https://habrastorage.org/getpro/habr/post_images/d20/ee5/1e1/d20ee51e1baeda78488aea8e7fbc4c33.png" alt="Bild"><br>  Die API funktioniert also.  Jetzt werden wir mit der Integration in die Avaya-Telefonzentrale fortfahren.  Zu diesem Zweck werde ich Avaya Aura Experience Portal 7.1 verwenden.  Es wird zur Organisation von IVR im Avaya-√ñkosystem verwendet und ist eine vollst√§ndig softwarebasierte, virtualisierte und intelligente Serviceplattform.  Das wichtige Merkmal ist die M√∂glichkeit, Java-Code einzuf√ºgen, den wir f√ºr die Integration in Telegram ben√∂tigen.  Ich werde keine Anzeigen erstellen, aber meiner Meinung nach ist dies eines der besten Avaya-Produkte, und Sie k√∂nnen wirklich erstaunliche Dinge darauf schreiben.  Zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sprachsteuerung einer Teekanne</a> oder ernsthaftere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Transkription von Gespr√§chen im laufenden Betrieb</a> . <br><br>  Dieses IVR-System ist sicherlich nicht billig, aber es gibt einige Besonderheiten.  Es ist vom Hafen lizenziert.  Weil  Wir planen, es in K√ºrze zu verwenden, ein Port wird ausreichen.  Und ein Port hat relativ niedrige Kosten.  Bei der Virtualisierung ben√∂tigt das System nur 2 Core / 4 GB RAM / 60 GB HDD.  Im Allgemeinen kann es auf fast jedem Laptop oder Desktop installiert werden.  Nun, wie eine Kirsche auf einem Kuchen - dieses Produkt verf√ºgt √ºber einen Testmodus, mit dem Sie es 30 Tage lang kostenlos verwenden k√∂nnen. <br><br>  Um die Aufgabe zu erf√ºllen, m√ºssen wir einen IVR-Anruf nach einem Ereignis in der Telefonvermittlung organisieren und dann so konfigurieren, dass das entsprechende Ereignis an die neu erstellte API gesendet wird. <br><br>  Wenn wir die Aufgabe in Betracht ziehen, den Supervisor √ºber den √úberschuss der Anzahl der Anrufe in der Warteschlange an das Contact Center zu informieren, muss in der Telefonvermittlung der Hauptvektor ge√§ndert und ein zus√§tzlicher erstellt werden. <br><br>  CALL VECTOR <br><br>  Nummer: 5 Name: Vektor f√ºr F√§higkeit 5 <br><br>  01 gehe zu Schritt 5, wenn Anrufe in Fertigkeit 5 pri m&gt; 5 in die Warteschlange gestellt werden <br>  02 Warteschlange bis Fertigkeit 5 pri m <br>  03 Wartezeit 30 Sekunden H√∂rstille <br>  04 gehe zu Schritt 3, wenn bedingungslos <br>  05 Route-zu-Nummer 1214 mit cov n, wenn bedingungslos <br>  06 gehe zu Schritt 2, wenn bedingungslos <br><br>  Dieser Vektor √ºberpr√ºft unmittelbar vor dem T√§tigen eines Anrufs in der Warteschlange die Anzahl der Anrufe in dieser Warteschlange.  Wenn es 5 √ºberschreitet, geht der Anruf zu Schritt 5, wo er an die Nummer 1214 weitergeleitet wird. Diese Nummer wird an IVR weitergeleitet. <br><br>  In der Bedingung in Schritt 1 k√∂nnen Sie eine gro√üe Anzahl von Parametern √ºberpr√ºfen, die ein Indikator f√ºr die Last im Contact Center sind.  Zum Beispiel EWT, die Anzahl der verf√ºgbaren Agenten, die Anzahl der angemeldeten Agenten, die Anzahl der Anrufe in der Warteschlange, das Servicelevel usw.  und wenn dieser oder jener Indikator √ºberschritten wird, leiten Sie den Anruf an IVR weiter. <br><br>  Eine Anwendung in IVR sendet eine Nachricht an Telegram und leitet den Anruf sofort an das Contact Center an einen √§hnlichen Vektor weiter, nur ohne die Schritte 1 und 5. <br><br>  Die Verz√∂gerungszeit f√ºr einen solchen Verarbeitungsanruf betr√§gt ungef√§hr 100 Millisekunden, was f√ºr den Anrufer absolut unbedeutend ist. <br><br>  Der zweite Vektor sieht folgenderma√üen aus: <br><br>  CALL VECTOR <br><br>  Nummer: 6 Name: F√§higkeit 5 Direkt <br><br>  01 Warteschlange bis Fertigkeit 5 pri m <br>  02 Wartezeit 30 Sekunden H√∂rstille <br>  03 gehe zu Schritt 2, wenn bedingungslos <br><br>  Der Ereignisaufruf wird also an IVR umgeleitet.  Fahren wir mit der Entwicklung einer Anwendung fort. <br><br>  Anwendungen f√ºr das Avaya Aura Experience Portal werden in Eclipse mit dem installierten Orchestration Designer-Plugin entwickelt.  Auf diese Weise k√∂nnen Sie die Entwicklung f√ºr ungelernte Benutzer in den Drag &amp; Drop-Modus zum Verschieben von Quadraten und Pfeilen √ºbertragen, ohne in Java-Code einzutauchen. <br><br>  Nun, qualifizierte Benutzer k√∂nnen bereits Java-Code einbetten.  Als N√§chstes wird die Anwendung als Servlet zusammengestellt und in Tomcat bereitgestellt, wo der IVR beim Empfang eines Anrufs verweist. <br><br>  Die Anwendung ist wie folgt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea4/642/f6c/ea4642f6ce2ec7fb74c91b7358ecd96d.png" alt="Bild"><br>  Der Aufruf geht an den AppRoot-Knoten, dann werden die Variablen vorverarbeitet und der Aufruf geht an den Telegram Connector, der bereits reiner Java-Code ist.  Nach dem Senden der Nachricht wird der Anruf an das Contact Center weitergeleitet. <br><br>  Um die Einstellungen zu vereinfachen, werden konfigurierbare Variablen verwendet, mit denen Sie die Einstellungen interner Anwendungsvariablen im Webportal des Experience Portals selbst anzeigen k√∂nnen.  Dies ist erforderlich, damit beim √Ñndern der Einstellungen die Anwendung nicht neu erstellt wird. <br><br>  Der Variablenblock lautet wie folgt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18b/e28/245/18be2824579a9b4f92360f1f0dc88cd2.png" alt="Bild"><br><br>  Wie konfigurierbare Variablen eine DNIS-Variable mit Untervariablen verwenden.  Um Variablen in Java-Code zu √ºbertragen, werden in Gro√übuchstaben geschriebene Variablen verwendet. <br><br>  Die prim√§re Verarbeitungseinheit ist wie folgt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/483/83a/fb7/48383afb780dc41fa22a0e1d3a7edb5b.png" alt="Bild"><br><br>  Vergib mir Liebhaber von sauberem Code.  Der URL-Block sieht schrecklich aus.  Dies sind die Funktionen von Orchestration Designer.  Nat√ºrlich war es richtiger, es direkt in Java-Code in einer Zeile zu sammeln, aber es war wichtig f√ºr mich zu √ºberpr√ºfen, welche URL in Java-Code gelangt und musste es so sammeln. <br><br>  Der Stecker selbst sieht extrem minimalistisch aus: <br><br><pre> <code class="hljs vbscript"> <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> str = mySession.getVariable(IProjectVariables.URL).getSimpleVariable().getStringValue(); str = str.replaceAll(<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-string"><span class="hljs-string">"%20"</span></span>); IVariableField variable = mySession.getVariableField(IProjectVariables.RESPONSEINFO); variable.setValue(str); URL url; try { url = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(str); InputStream <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> = url.openConnection().getInputStream(); BufferedReader reader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BufferedReader( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputStreamReader( <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> ) ); <span class="hljs-built_in"><span class="hljs-built_in">String</span></span> line = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>( ( line = reader.readLine() ) != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ) { <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> = <span class="hljs-built_in"><span class="hljs-built_in">response</span></span> + line; } reader.close(); } catch (IOException e) { e.printStackTrace(); }</code> </pre> <br>  Die Funktionen mySession.getVariable und mySession.getVariableField werden ben√∂tigt, um Informationen aus der Anwendung in Java-Code zu √ºbertragen und eine Antwort zur√ºckzugeben. <br><br>  Das hei√üt,  Wir haben die URL nach dem oben genannten Prinzip gebildet und sie gestartet, indem wir das zur√ºckgegeben haben, was der Server zur√ºckgegeben hat. <br><br>  Das ist die gesamte Anwendung und im Allgemeinen die gesamte L√∂sung.  Das IVR-Webportal selbst mit konfigurierbaren Variablen lautet wie folgt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e51/fb5/337/e51fb5337854466f60505a035b031d35.png" alt="Bild"><br><br>  Wenn jemand daran interessiert ist, eine echte Demonstration des Prototyps zu sehen, kann er sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier sehen</a> . <br><br>  Nun, es gab einige Kirschen auf dem Kuchen.  Genauer gesagt sogar zwei. <br><br>  Ich habe schon √ºber das erste geschrieben.  Damit die L√∂sung funktioniert, m√ºssen Sie den Anwendungsserver √ºber einen Proxy, der sich nicht in Russland befindet, mit Telegram verbinden.  Ich hoffe, dieser Unsinn endet jemals. <br><br>  Nun, die zweite Kirsche.  Nat√ºrlich muss die Verbindung zum Telegramm verschl√ºsselt sein und die Verbindung erfolgt √ºber https.  Und nat√ºrlich wird daf√ºr ein nicht selbstsigniertes Zertifikat verwendet.  Und dieses Zertifikat gibt kein Telegramm.  Und im Gegensatz zum Browser kann der Anwendungsserver ohne Zertifikat keine einfache Verbindung herstellen.  Die Kirsche auf dem Kuchen ist also der Prozess, dieses Zertifikat zu finden und es auf den Anwendungsserver hochzuladen.  Nach diesem Vorgang funktionierte sofort alles auf magische Weise. <br><br>  Ich glaube, dass eine Person, die meinen Weg erfolgreich besteht, dieses Zertifikat auch erfolgreich finden wird.  Die Hauptsache ist, dass er wei√ü, dass er gefunden werden muss. <br><br>  Vielen Dank f√ºr Ihre Aufmerksamkeit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de414811/">https://habr.com/ru/post/de414811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de414799/index.html">LLTR Teil 0: Automatische Erkennung der Netzwerktopologie und nicht verwaltete Switches. Mission unm√∂glich?</a></li>
<li><a href="../de414801/index.html">Moscow Vue.js Meetup # 2 bei der Mail.Ru Group</a></li>
<li><a href="../de414803/index.html">Wie wir IoT-Zahlungen bei einem Hackathon in Hongkong gesehen haben</a></li>
<li><a href="../de414805/index.html">Offenes Webinar "Alternative Rekrutierungsmethoden"</a></li>
<li><a href="../de414809/index.html">Swift 4.1: Warum Apple flatMap in compactMap umbenannt hat</a></li>
<li><a href="../de414813/index.html">Erstellen von Vorlagen in der Jetbrains-IDE</a></li>
<li><a href="../de414817/index.html">Cyber-Oma oder wie wir einen Tag gehackt haben</a></li>
<li><a href="../de414819/index.html">Willkommen zum Unreal Engine 4 Meetup an diesem Samstag in St. Petersburg</a></li>
<li><a href="../de414821/index.html">Praktischer Videokurs der School of Information Security</a></li>
<li><a href="../de414825/index.html">Die einzigen Gef√ºhle, die ich f√ºhlen kann, sind Wut und Angst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>