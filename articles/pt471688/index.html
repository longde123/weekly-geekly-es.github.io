<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖüèº üëºüèΩ üë®‚Äçüî¨ Como a AWS fabrica seus servi√ßos resilientes. Escala de rede üë®üèΩ‚Äçüíº ‚òØÔ∏è üíÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A rede Amazon Web Services possui 69 locais em todo o mundo em 22 regi√µes: EUA, Europa, √Åsia, √Åfrica e Austr√°lia. Em cada zona, existem at√© 8 data cen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como a AWS fabrica seus servi√ßos resilientes. Escala de rede</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/471688/"> A rede Amazon Web Services possui 69 locais em todo o mundo em 22 regi√µes: EUA, Europa, √Åsia, √Åfrica e Austr√°lia.  Em cada zona, existem at√© 8 data centers - Data Processing Centers.  Cada data center possui milhares ou centenas de milhares de servidores.  A rede √© constru√≠da de forma que todos os cen√°rios de interrup√ß√£o improv√°veis ‚Äã‚Äãsejam levados em considera√ß√£o.  Por exemplo, todas as regi√µes s√£o isoladas uma da outra e as zonas de acesso s√£o espa√ßadas a v√°rios quil√¥metros de dist√¢ncia.  Mesmo se voc√™ cortar o cabo, o sistema alternar√° para os canais de backup e a perda de informa√ß√µes equivaler√° a unidades de pacotes de dados.  Sobre que outros princ√≠pios a rede √© constru√≠da e como √© constru√≠da, dir√° a Vasily Pantyukhin. <br><br><img src="https://habrastorage.org/webt/5p/_u/v_/5p_uv_g6etdeiay-nwb0r6v8ns0.png"><br><br>  <b>Vasily Pantyukhin</b> come√ßou como administrador do Unix em empresas .ru, passou 6 anos nas grandes gl√¢ndulas da Sun Microsystem e, por 11 anos, pregou a centralidade de dados do mundo na EMC.  Evoluiu naturalmente para nuvens privadas e depois tornou-se p√∫blico.  Agora, como arquiteto do Amazon Web Services, o aconselhamento t√©cnico ajuda voc√™ a viver e crescer na nuvem da AWS. <br><br>  Na parte anterior da trilogia de dispositivos da AWS, Vasily examinou o dispositivo de servidores f√≠sicos e o dimensionamento do banco de dados.  Nitro-cards, hypervisor personalizado baseado no banco de dados KVM, Amazon Aurora - tudo isso no artigo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como a AWS" prepara "seus servi√ßos el√°sticos.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Escala de servidor e banco de dados</a> . ‚Äù  Leia para mergulhar no contexto ou assista a um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">v√≠deo da</a> apresenta√ß√£o. <br><br>  Nesta parte, focaremos no dimensionamento da rede - um dos sistemas mais complexos da AWS.  Evolu√ß√£o de uma rede plana para a Virtual Private Cloud e seu dispositivo, servi√ßos internos Blackfoot e HyperPlane, o problema de um vizinho barulhento e, no final - a escala da rede, backbone e cabos f√≠sicos.  Sobre tudo isso sob o corte. <br><br>  <i>Isen√ß√£o de responsabilidade: tudo abaixo √© da opini√£o pessoal de Vasily e pode n√£o coincidir com a posi√ß√£o da Amazon Web Services.</i> <br><a name="habracut"></a><br><h2>  Escala de rede </h2><br>  AWS Cloud lan√ßado em 2006.  Sua rede era bastante primitiva - com uma estrutura plana.  O intervalo de endere√ßos privados era comum a todos os inquilinos da nuvem.  Ao iniciar uma nova m√°quina virtual, voc√™ acidentalmente recebeu um endere√ßo IP dispon√≠vel desse intervalo. <br><br><img src="https://habrastorage.org/webt/kj/u9/jw/kju9jwz69aeoldlbn6yn_vmtzom.jpeg"><br><br>  Essa abordagem foi f√°cil de implementar, mas limitou fundamentalmente o uso da nuvem.  Em particular, era bastante dif√≠cil desenvolver solu√ß√µes h√≠bridas que combinavam redes privadas no local e na AWS.  O problema mais comum foi a interse√ß√£o de intervalos de endere√ßos IP. <br><br><img src="https://habrastorage.org/webt/lw/fu/tg/lwfutg75jtwalgbliyv-rmdhfbc.jpeg"><br><br><h3>  Nuvem privada virtual </h3><br>  A nuvem estava em demanda.  √â hora de pensar na escalabilidade e na possibilidade de seu uso por dezenas de milh√µes de inquilinos.  Rede plana tornou-se um grande obst√°culo.  Portanto, pensamos em como isolar os usu√°rios um do outro no n√≠vel da rede, para que eles possam selecionar independentemente os intervalos de IP. <br><br><img src="https://habrastorage.org/webt/fl/tw/co/fltwcomu7sr802932c3wyyaucve.jpeg"><br><br>  O que vem √† mente primeiro quando voc√™ pensa em isolamento de rede?  √â claro que <b>VLAN</b> e <b>VRF s√£o roteamento e encaminhamento virtual</b> . <br><br>  Infelizmente, isso n√£o funcionou.  O ID da VLAN √© de apenas 12 bits, o que fornece apenas 4096 segmentos isolados.  Mesmo nos comutadores maiores, voc√™ pode usar no m√°ximo 1-2 mil VRF.  O uso combinado de VRF e VLAN nos d√° apenas alguns milh√µes de sub-redes.  Definitivamente, isso n√£o √© suficiente para dezenas de milh√µes de inquilinos, cada um dos quais deve poder usar v√°rias sub-redes. <br><br>  Ainda assim, simplesmente n√£o podemos comprar o n√∫mero necess√°rio de caixas grandes, por exemplo, da Cisco ou Juniper.  H√° duas raz√µes: √© extremamente caro e n√£o queremos nos tornar dependentes de suas pol√≠ticas de desenvolvimento e corre√ß√£o. <br><br><blockquote>  H√° apenas uma conclus√£o - preparar sua pr√≥pria decis√£o. </blockquote><br>  Em 2009, anunciamos o <b>VPC</b> - <b>Virtual Private Cloud</b> .  O nome criou ra√≠zes e agora muitos provedores de nuvem tamb√©m o usam. <br><br>  VPC √© uma rede virtual de rede definida por software ( <b>SDN</b> ).  Decidimos n√£o inventar protocolos especiais nos n√≠veis L2 e L3.  A rede √© executada em Ethernet e IP padr√£o.  Para transmiss√£o em uma rede, o tr√°fego da m√°quina virtual √© encapsulado em um inv√≥lucro de nosso pr√≥prio protocolo.  Indica o ID que pertence √† VPC do inquilino. <br><br><img src="https://habrastorage.org/webt/x7/yh/nc/x7yhncwzn9xfi677tpy65s3td18.jpeg"><br><br>  Isso parece f√°cil.  No entanto, √© necess√°rio resolver v√°rios problemas t√©cnicos s√©rios.  Por exemplo, onde e como armazenar dados de mapeamento para endere√ßos MAC / IP virtuais, IDs de VPC e endere√ßos MAC / IP f√≠sicos correspondentes.  Em uma escala da AWS, esta √© uma tabela enorme que deve funcionar com lat√™ncia m√≠nima.  O <b>servi√ßo de mapeamento</b> , que √© manchado com uma camada fina em toda a rede, √© respons√°vel por isso. <br><br>  Em m√°quinas de novas gera√ß√µes, o encapsulamento √© realizado pelos cart√µes Nitro no n√≠vel do ferro.  Em casos mais antigos, encapsulamento e decapsula√ß√£o de software. <br><br><img src="https://habrastorage.org/webt/6q/pt/zr/6qptzrmyqowtaimwlbu6mqobr44.jpeg"><br><br>  Vamos ver como isso funciona em termos gerais.  Vamos come√ßar com o n√≠vel L2.  Suponha que tenhamos uma m√°quina virtual com IP 10.0.0.2 em um servidor f√≠sico 192.168.0.3.  Ele envia dados para uma m√°quina virtual 10.0.0.3 que vive em 192.168.1.4.  Uma solicita√ß√£o ARP √© gerada, que fica na placa de rede Nitro.  Para simplificar, acreditamos que as duas m√°quinas virtuais vivem na mesma VPC "azul". <br><br><img src="https://habrastorage.org/webt/vl/u5/hv/vlu5hvvmaufe2e2jirp0mz14ugg.png"><br><br>  O cart√£o substitui o endere√ßo de origem pelo seu e envia o quadro ARP para o servi√ßo de mapeamento. <br><br><img src="https://habrastorage.org/webt/0j/d9/lx/0jd9lx41a5744ptq64tdrmgzxya.png"><br><br>  O servi√ßo de mapeamento retorna as informa√ß√µes necess√°rias para a transmiss√£o pela rede f√≠sica L2. <br><br><img src="https://habrastorage.org/webt/3e/ir/nt/3eirntgsopwiccgdaaneovvgqxe.png"><br><br>  A placa nitro na resposta ARP substitui o MAC na rede f√≠sica pelo endere√ßo na VPC. <br><br><img src="https://habrastorage.org/webt/fv/uo/kh/fvuokhk6mswvl5i8ifguxgxrhee.png"><br><br>  Ao transferir dados, agrupamos o MAC e o IP l√≥gicos em um wrapper VPC.  Tudo isso √© transmitido pela rede f√≠sica usando as placas IP Nitro apropriadas da origem e do destino. <br><br><img src="https://habrastorage.org/webt/4k/4i/u-/4k4iu-ei5cp9cdk-vfqmmf8vtig.png"><br><br>  A m√°quina f√≠sica em que o pacote se destina a executar verifica√ß√µes.  Isso √© para evitar a possibilidade de falsifica√ß√£o.  A m√°quina envia uma solicita√ß√£o especial ao servi√ßo de mapeamento e pergunta: ‚ÄúDa m√°quina f√≠sica 192.168.0.3, recebi um pacote projetado para 10.0.0.3 na VPC azul.  Ele √© leg√≠timo? <br><br><img src="https://habrastorage.org/webt/vv/qn/0e/vvqn0ecobvoxvxw8-1u3hgc8k48.png"><br><br>  O servi√ßo de mapeamento verifica sua tabela de aloca√ß√£o de recursos e permite ou nega a passagem do pacote.  Em todas as novas inst√¢ncias, a valida√ß√£o adicional √© agregada nos cart√µes Nitro.  √â imposs√≠vel se locomover mesmo teoricamente.  Portanto, a falsifica√ß√£o de recursos em outra VPC n√£o funcionar√°. <br><br><img src="https://habrastorage.org/webt/xx/tr/wa/xxtrwaqlrsbhdledrligrt0mfjc.png"><br><br>  Em seguida, os dados s√£o enviados para a m√°quina virtual √† qual se destinam. <br><br><img src="https://habrastorage.org/webt/1i/hb/py/1ihbpywnhbngzsuzs8376qf0i8g.png"><br><br>  O servi√ßo de mapeamento tamb√©m funciona como um roteador l√≥gico para transferir dados entre m√°quinas virtuais em diferentes sub-redes.  Tudo √© conceitualmente simples l√°, n√£o vou analis√°-lo em detalhes. <br><br><img src="https://habrastorage.org/webt/rr/rj/9n/rrrj9nvl-jwgk54pzowtmqm6ynm.png"><br><br>  Acontece que durante a transmiss√£o de cada pacote, os servidores acessam o servi√ßo de mapeamento.  Como lidar com atrasos inevit√°veis?  <b>Armazenamento em cache</b> , √© claro. <br><br>  Todo o charme √© que voc√™ n√£o precisa armazenar em cache a tabela enorme inteira.  M√°quinas virtuais de um n√∫mero relativamente pequeno de VPCs vivem em um servidor f√≠sico.  As informa√ß√µes precisam ser armazenadas em cache apenas sobre essas VPCs.  A transfer√™ncia de dados para outras VPCs na configura√ß√£o "padr√£o" ainda n√£o √© leg√≠tima.  Se funcionalidades como peering de VPC forem usadas, informa√ß√µes sobre os VPCs correspondentes ser√£o carregadas adicionalmente no cache. <br><br><img src="https://habrastorage.org/webt/cj/vu/uh/cjvuuhb_xbbsrhjdzxpf0x7lnck.jpeg"><br><br>  Com a transfer√™ncia de dados para o VPC descoberto. <br><br><h3>  P√©-preto </h3><br>  O que fazer nos casos em que o tr√°fego precisa ser transmitido para fora, por exemplo, na Internet ou atrav√©s de uma VPN no solo?  √â aqui que o <b>Blackfoot</b> , o servi√ßo interno da AWS, nos ajuda.  Ele foi projetado por nossa equipe sul-africana.  Portanto, o servi√ßo recebeu o nome do pinguim que vive na √Åfrica do Sul. <br><br><img src="https://habrastorage.org/webt/af/7s/gf/af7sgf9jhvniudixr94rqhwgdy0.jpeg"><br><br>  Blackfoot decapsula o tr√°fego e faz o que precisa com ele.  Os dados da Internet s√£o enviados como est√£o. <br><br><img src="https://habrastorage.org/webt/fi/93/02/fi9302-pumvdpx70gqpo7ufaaqw.png"><br><br>  Os dados s√£o decapsulados e agrupados novamente em um inv√≥lucro IPsec ao usar uma VPN. <br><br><img src="https://habrastorage.org/webt/jk/ag/iu/jkagiufrbqprn50vjuxqy_hwbe8.png"><br><br>  Ao usar o Direct Connect, o tr√°fego √© marcado e transmitido para a VLAN correspondente. <br><br><img src="https://habrastorage.org/webt/yj/xj/i0/yjxji0wexg4cugs-cztvnv_wvxs.png"><br><br><h3>  HyperPlane </h3><br>  Este √© um servi√ßo de controle de fluxo interno.  Muitos servi√ßos de rede exigem o monitoramento do <b>status do fluxo de dados</b> .  Por exemplo, ao usar o NAT, o controle de fluxo deve garantir que cada par "IP: porta de destino" tenha uma porta de sa√≠da exclusiva.  No caso do balanceador <b>NLB</b> - <b>Network Load Balancer</b> , o fluxo de dados sempre deve ser direcionado para a mesma m√°quina virtual de destino.  Grupos de seguran√ßa √© um firewall com estado.  Ele monitora o tr√°fego recebido e abre implicitamente as portas para o fluxo de pacotes de sa√≠da. <br><br><img src="https://habrastorage.org/webt/wq/pa/kk/wqpakkyp8v_rdhyuclzte2e2y6w.jpeg"><br><br>  Na nuvem da AWS, os requisitos de lat√™ncia de transmiss√£o s√£o extremamente altos.  Portanto, o <b>HyperPlane √©</b> fundamental para a sa√∫de de toda a rede. <br><br><img src="https://habrastorage.org/webt/ov/cr/wm/ovcrwmosat9fxborz1tmkxkjt_4.jpeg"><br><br>  O Hyperplane √© constru√≠do em m√°quinas virtuais EC2.  N√£o h√° m√°gica aqui, apenas ast√∫cia.  O truque √© que elas s√£o m√°quinas virtuais com grande RAM.  As transa√ß√µes s√£o transacionais e executadas exclusivamente na mem√≥ria.  Isso permite atrasos de apenas dezenas de microssegundos.  Trabalhar com um disco mataria todo o desempenho. <br><br>  O Hyperplane √© um sistema distribu√≠do de um grande n√∫mero de m√°quinas EC2.  Cada m√°quina virtual possui uma largura de banda de 5 GB / s.  Em toda a rede regional, isso gera terabits selvagens de largura de banda e permite processar <b>milh√µes de conex√µes por segundo</b> . <br><br>  O HyperPlane funciona apenas com threads.  O encapsulamento de pacotes VPC √© completamente transparente para ele.  A vulnerabilidade em potencial nesse servi√ßo interno ainda n√£o permitir√° romper o isolamento da VPC.  Por seguran√ßa, os n√≠veis abaixo s√£o respons√°veis. <br><br><h3>  Vizinho barulhento </h3><br>  H√° tamb√©m o <b>problema do</b> <b>vizinho barulhento</b> .  Suponha que tenhamos 8 n√≥s.  Esses n√≥s processam os encadeamentos de todos os usu√°rios da nuvem.  Tudo parece estar bem e a carga deve ser distribu√≠da igualmente em todos os n√≥s.  Os n√≥s s√£o muito poderosos e dif√≠ceis de sobrecarregar. <br><br>  Mas estamos construindo nossa arquitetura com base em cen√°rios improv√°veis. <br><br><blockquote>  Baixa probabilidade n√£o significa impossibilidade. </blockquote><br>  Podemos imaginar uma situa√ß√£o em que um ou mais usu√°rios gerem muita carga.  Todos os n√≥s do HyperPlane est√£o envolvidos no processamento dessa carga e outros usu√°rios podem sentir algum tipo de degrada√ß√£o do desempenho.  Isso destr√≥i o conceito de nuvem, no qual os inquilinos n√£o t√™m como se influenciar. <br><br><img src="https://habrastorage.org/webt/gc/ni/_l/gcni_lqe59zlatesmuodjxmcxcm.png"><br><br>  Como resolver o problema de um vizinho barulhento?  A primeira coisa que vem √† mente √© o sharding.  Nossos 8 n√≥s s√£o logicamente divididos em 4 shards com 2 n√≥s em cada um.  Agora, um vizinho barulhento ser√° prejudicado por apenas um quarto de todos os usu√°rios, mas muito mais. <br><br><img src="https://habrastorage.org/webt/e7/vz/-v/e7vz-vablrrhawvz2xbvb1psfxu.png"><br><br>  Vamos fazer diferente.  Cada usu√°rio possui apenas tr√™s n√≥s. <br><br><img src="https://habrastorage.org/webt/md/su/px/mdsupxahouehxh6y-jffnyhjpyy.png"><br><br>  O truque √© atribuir n√≥s a diferentes usu√°rios aleatoriamente.  Na imagem abaixo, o usu√°rio azul intercepta os n√≥s com um dos outros dois usu√°rios - verde e laranja. <br><br><img src="https://habrastorage.org/webt/xw/ee/yz/xweeyztmogrwbeomfqi_sbec0u0.png"><br><br>  Com 8 n√≥s e 3 usu√°rios, a probabilidade de um vizinho barulhento cruzar com um dos usu√°rios √© de 54%.  √â com essa probabilidade que o usu√°rio azul afetar√° outros inquilinos.  Al√©m disso, apenas uma parte de sua carga.  No nosso exemplo, essa influ√™ncia ser√° pelo menos de alguma forma impercept√≠vel para todos, mas apenas para um ter√ßo de todos os usu√°rios.  Este j√° √© um bom resultado. <br><div class="scrollable-table"><table><tbody><tr><td>  O n√∫mero de usu√°rios que se cruzam <br></td><td>  Probabilidade em porcentagem <br></td></tr><tr><td>  0 0 <br></td><td>  18% <br></td></tr><tr><td>  1 <br></td><td>  54% <br></td></tr><tr><td>  2 <br></td><td>  26% <br></td></tr><tr><td>  3 <br></td><td>  2% <br></td></tr></tbody></table></div><br>  Vamos aproximar a situa√ß√£o da real - pegue 100 n√≥s e 5 usu√°rios em 5 n√≥s.  Nesse caso, nenhum dos n√≥s se cruza com uma probabilidade de 77%. <br><div class="scrollable-table"><table><tbody><tr><td>  O n√∫mero de usu√°rios que se cruzam <br></td><td>  Probabilidade em porcentagem <br></td></tr><tr><td>  0 0 <br></td><td>  77% <br></td></tr><tr><td>  1 <br></td><td>  21% <br></td></tr><tr><td>  2 <br></td><td>  1,8% <br></td></tr><tr><td>  3 <br></td><td>  0,06% <br></td></tr><tr><td>  4 <br></td><td>  0,0006% <br></td></tr><tr><td>  5 <br></td><td>  0,00000013% <br></td></tr></tbody></table></div><br>  Em uma situa√ß√£o real com um grande n√∫mero de n√≥s e usu√°rios do HyperPlane, o impacto potencial de um vizinho barulhento em outros usu√°rios √© m√≠nimo.  Esse m√©todo √© chamado de <b>fragmenta√ß√£o aleat√≥ria</b> .  Minimiza o efeito negativo da falha do n√≥. <br><br>  Com base no HyperPlane, muitos servi√ßos s√£o criados: Network Load Balancer, NAT Gateway, Amazon EFS, AWS PrivateLink, AWS Transit Gateway. <br><br><h3>  Escala de rede </h3><br>  Agora vamos falar sobre a escala da pr√≥pria rede.  Para outubro de 2019, a AWS oferece seus servi√ßos em <b>22 regi√µes</b> e mais 9 est√£o planejadas. <br><br><ul><li>  Cada regi√£o cont√©m v√°rias zonas de disponibilidade.  Existem 69 deles no mundo. <br></li><li>  Cada AZ consiste em centros de processamento de dados.  N√£o h√° mais de 8 deles. <br></li><li>  No data center, h√° um grande n√∫mero de servidores, alguns at√© 300.000. <br></li></ul><br>  Agora, tudo isso √© calculado em m√©dia, multiplicado e obt√©m uma figura impressionante que mostra a <b>escala da nuvem da Amazon</b> . <br><br>  Entre as zonas de acesso e o data center, muitos canais √≥pticos s√£o instalados.  Em uma de nossas maiores regi√µes, apenas 388 canais foram estabelecidos para a comunica√ß√£o do AZ entre si e os centros de comunica√ß√£o com outras regi√µes (Centros de Tr√¢nsito).  No total, isso d√° um louco <b>5000 Tbit</b> . <br><br><img src="https://habrastorage.org/webt/zi/nj/bj/zinjbjkov6298ccr_kuiux7z89k.jpeg"><br><br>  Backbone A AWS foi criada especificamente para a nuvem e otimizada para trabalhar com ela.  N√≥s o constru√≠mos em canais de <b>100 GB / s</b> .  N√≥s os controlamos totalmente, com exce√ß√£o das regi√µes da China.  O tr√°fego n√£o √© compartilhado com as cargas de outras empresas. <br><br><img src="https://habrastorage.org/webt/e-/ko/hs/e-kohsjs0wax_tmb0zd3l5xh5ys.png"><br><br>  Obviamente, n√£o somos o √∫nico provedor de nuvem com uma rede de backbone privada.  Cada vez mais empresas grandes est√£o seguindo esse caminho.  Isso √© confirmado por pesquisadores independentes, por exemplo, da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegeography</a> . <br><br><img src="https://habrastorage.org/webt/my/en/ad/myenadxrsqlm4a58uyc6a_us7kq.jpeg"><br><br>  O gr√°fico mostra que a participa√ß√£o de provedores de conte√∫do e de nuvem est√° aumentando.  Por esse motivo, a propor√ß√£o de tr√°fego da Internet de provedores de backbone est√° diminuindo constantemente. <br><br>  Vou explicar por que isso acontece.  Anteriormente, a maioria dos servi√ßos da Web estava dispon√≠vel e consumida diretamente da Internet.  Agora, mais e mais servidores est√£o localizados na nuvem e est√£o dispon√≠veis na <b>CDN</b> - <b>Content Distribution Network</b> .  Para acessar o recurso, o usu√°rio passa pela Internet apenas at√© o CDN PoP - <b>Ponto de Presen√ßa</b> mais pr√≥ximo.  Na maioria das vezes, est√° em algum lugar pr√≥ximo.  Em seguida, ele sai da Internet p√∫blica e voa pelo Atl√¢ntico atrav√©s de uma espinha dorsal privada, por exemplo, e chega diretamente ao recurso. <br><br>  Gostaria de saber como a Internet mudar√° em 10 anos se essa tend√™ncia continuar? <br><br><h3>  Canais f√≠sicos </h3><br>  Os cientistas ainda n√£o descobriram como aumentar a velocidade da luz no Universo, mas fizeram grandes avan√ßos nos m√©todos de transmiss√£o atrav√©s da fibra √≥ptica.  Atualmente, estamos usando cabos de fibra 6912.  Isso ajuda a otimizar significativamente o custo de sua instala√ß√£o. <br><br>  Em algumas regi√µes, temos que usar cabos especiais.  Por exemplo, na regi√£o de Sydney, usamos cabos com um revestimento especial contra cupins. <br><br><img src="https://habrastorage.org/webt/qc/vn/wh/qcvnwhnrrbnil48u0qqgblljgna.jpeg"><br><br>  Ningu√©m est√° a salvo de problemas e, √†s vezes, nossos canais s√£o danificados.  A foto √† direita mostra cabos √≥pticos em uma das regi√µes americanas que foram arrancadas pelos construtores.  Como resultado do acidente, apenas 13 pacotes de dados foram perdidos, o que √© surpreendente.  Mais uma vez - apenas 13!  O sistema literalmente mudou instantaneamente para os canais de backup - a balan√ßa funciona. <br><br>  Galopamos sobre alguns servi√ßos e tecnologias em nuvem da Amazon.  Espero que voc√™ tenha pelo menos uma id√©ia da escala das tarefas que nossos engenheiros precisam resolver.  Pessoalmente, estou muito interessado nisso. <br><br><blockquote>  Esta √© a parte final da trilogia de Vasily Pantyukhin sobre o dispositivo da AWS.  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira</a> parte descreve a otimiza√ß√£o do servidor e a escala do banco de dados, e a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">segunda</a> descreve as fun√ß√µes sem servidor e o Firecracker. <br><br>  No <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HighLoad ++</a> em novembro, Vasily Pantyukhin compartilhar√° novos detalhes do dispositivo Amazon.  Ele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">falar√°</a> sobre as causas das falhas e o design dos sistemas distribu√≠dos na Amazon.  Em 24 de outubro, voc√™ ainda pode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">reservar um</a> bilhete por um bom pre√ßo e pagar mais tarde.  Estamos esperando por voc√™ no HighLoad ++, venha conversar! </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt471688/">https://habr.com/ru/post/pt471688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt471670/index.html">Tentando Jetpack Compose em batalha?</a></li>
<li><a href="../pt471676/index.html">Golpistas por telefone. A segunda a√ß√£o, na qual eu corro e corro para o caixa eletr√¥nico mais pr√≥ximo</a></li>
<li><a href="../pt471678/index.html">Prestar servi√ßos sob demanda</a></li>
<li><a href="../pt471684/index.html">Por que voc√™ precisa criar m√≥dulos para o nginx</a></li>
<li><a href="../pt471686/index.html">Como a AWS fabrica seus servi√ßos resilientes. Escala de servidor e banco de dados</a></li>
<li><a href="../pt471700/index.html">Como escolhi uma pilha tecnol√≥gica com uma base para o futuro</a></li>
<li><a href="../pt471702/index.html">Aplicativos Web com aprimoramento cibern√©tico</a></li>
<li><a href="../pt471704/index.html">O livro ‚ÄúMitoc√¥ndrias ego√≠stas. Como manter a sa√∫de e mover a velhice "</a></li>
<li><a href="../pt471706/index.html">9 problemas t√≠picos de rede que podem ser detectados usando a an√°lise NetFlow (usando o Flowmon como exemplo)</a></li>
<li><a href="../pt471708/index.html">Storypoints s√£o perigosos para o desenvolvimento de aplicativos cliente-servidor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>