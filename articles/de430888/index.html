<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐈 👇🏾 💅🏻 Wie sicher ist es, R-Pakete für die Arbeit mit der API für Werbesysteme zu verwenden? 🛍️ 🎌 🙇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In letzter Zeit stellten sie mir ziemlich oft die Frage, wie sicher es ist, verschiedene vorgefertigte Erweiterungen zu verwenden, d. H. Pakete für di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie sicher ist es, R-Pakete für die Arbeit mit der API für Werbesysteme zu verwenden?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430888/"><p> In letzter Zeit stellten sie mir ziemlich oft die Frage, wie sicher es ist, verschiedene vorgefertigte Erweiterungen zu verwenden, d. H.  Pakete für die R-Sprache geschrieben, besteht die Möglichkeit, dass das Werbekonto in die falschen Hände gerät </p><br><p>  In diesem Artikel werde ich ausführlich darauf eingehen, wie der Autorisierungsmechanismus in den meisten Paketen und APIs von Werbediensten funktioniert und wie die im Artikel beschriebenen Pakete so sicher wie möglich verwendet werden. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bca/7b8/9dc/bca7b89dc9efcb6238b8ab3f6f0a1116.jpg" alt="Bild"></div><a name="habracut"></a><br>  Die Informationen in diesem Artikel sind technisch gesehen nicht die einfachsten. Da der Text nicht so trocken und technisch ist wie die übliche Hilfe, wage ich es, die Rolle eines Leitfadens auszuprobieren, und werde Sie zur einfachsten Wahrnehmung durch die Materialien dieses Artikels führen. <br><p>  Unser Sightseeing-Bus ist bereits angekommen. Nehmen Sie Platz und sehen Sie sich unsere aktuelle Reiseroute an. </p><br><h2 id="soderzhanie">  Inhalt </h2><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie der Autorisierungsprozess in den meisten modernen Werbediensten funktioniert</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Woher kam die Sicherheitsfrage?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was bedroht Sie mit einem Token-Abfangen?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was tun, wenn jemand Ihren Token in Besitz genommen hat?</a> </li><li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">So verwenden Sie R-Pakete am sichersten, um mit den API-Werbesystemen zu arbeiten</a> </p><br><p>  5.1.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjBpQBas6rTWikkwFnEYVh1hNeKfw#ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rym">ryandexdirect und rym - Pakete für die Arbeit mit den APIs Yandex.Direct und Yandex.Metrica</a> <br>  5.2.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjBpQBas6rTWikkwFnEYVh1hNeKfw#rfacebookstat">rfacebookstat- Pakete für die Arbeit mit dem Facebook-Werbekonto</a> <br>  5.3.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjBpQBas6rTWikkwFnEYVh1hNeKfw#rvkstat">rvkstat - Pakete für die Arbeit mit dem VK-Konto</a> <br>  5.4.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/430888/&amp;usg=ALkJrhjBpQBas6rTWikkwFnEYVh1hNeKfw#rmytarget">rmytarget - MyTarget Dashboard-Pakete</a> </p><br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> </li></ol><br><h2 id="kak-ustroen-process-avtorizacii-v-bolshinstve-sovremennyh-reklamnyh-servisov">  Wie der Autorisierungsprozess in den meisten modernen Werbediensten funktioniert </h2><br><p>  Der Treffpunkt unserer Exkursionsgruppe ist das OAuth-Protokoll. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2f8/fe9/b7a/2f8fe9b7a06b8ee4007f04aedd3bbbca.jpg"></p><br><p>  Fast alle Dienste, mit denen API arbeiten musste, führen eine Autorisierung mit dem OAuth 2.0-Protokoll durch. Sie haben bereits ausführlicher darüber auf dem Hub geschrieben, die daran interessiert sind, einen Spaziergang in der Wildnis zu machen. Bitte, Sie haben eine solche Gelegenheit, Sie können dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> tun. </p><br><p>  Wenn Sie die Bedeutung auf den Punkt bringen, erlaubt OAuth der Anwendung (in unserem Fall ist das R-Paket eine solche Anwendung), für die Sie die Erlaubnis erteilt haben, einige Aktionen in Ihrem Namen auszuführen, ohne dass Sie Ihren Benutzernamen und Ihr Passwort vom Werbekonto auf diese Anwendung übertragen müssen. wieder aus Sicherheitsgründen. </p><br><p>  Anstelle eines Benutzernamens und eines Kennworts verwendet das OAuth-Protokoll ein Token. Hierbei handelt es sich um eine generierte Zeichenfolge, die aus einer Reihe von Buchstaben und Zahlen besteht und Informationen in verschlüsselter Form speichert: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7ad/5e4/eed/7ad5e4eed98381e9d537fdcbd9e59fcd.png"></p><br><ul><li>  Für welchen Benutzer die Anwendung die Anforderung ausführt </li><li>  Hat der Benutzer dieser Anwendung wirklich Zugriff auf ihre Daten gewährt? </li><li>  Verfügt der Benutzer selbst über die erforderlichen Berechtigungen, um mit den Werbematerialien zu arbeiten, auf die er sich bezieht? </li></ul><br><p>  Für den Autorisierungsprozess und die Arbeit mit der API müssen Sie die Anwendung normalerweise in der API registrieren.  Ferner sollte diese Anwendung eine Bestätigung vom API-Supportteam eines bestimmten Werbesystems erhalten, d. H.  Der Autor beschreibt zunächst ausführlich, wie und warum er die API verwenden wird. All dies wird überprüft, moderiert. Nur wenn der Support auf der Seite der Werbeplattform keine Sicherheitsfragen enthält, erhält der Autor des Pakets Zugriff auf die API und mit Hilfe seiner registrierten Anwendung Sie Paket können Sie sich mit der ID und dem Geheimnis authentifizieren, die für diese Anwendung ausgestellt wurden. </p><br><h2 id="otkuda-voznik-vopros-bezopasnosti">  Woher kam die Sicherheitsfrage? </h2><br><p>  Wir machen weiter. Versuchen wir herauszufinden, wo die Sicherheitsfrage bei der Verwendung von Paketen aufgetreten ist. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/936/2cc/0c6/9362cc0c6ecf870b58c9b45d32e9299f.jpg"></p><br><p>  Im Allgemeinen ist das Problem der Sicherheit des Zugriffs auf Werbetafeln mehr als gerechtfertigt, da Werbebüros über Geld verfügen und häufig nicht klein genug sind. Daher ist die Sicherheit von Werbekonten ein viel ernsteres Problem als die Sicherheit des Zugriffs beispielsweise auf ein reguläres Benutzerprofil in sozialen Netzwerken. </p><br><p>  Tatsache ist, dass R in den meisten Fällen bei der Autorisierung Benutzer der Pakete zum Browser umleitet, um zunächst den Zugriff auf das Konto zu bestätigen. Zu diesem Zeitpunkt befinden Sie sich auf der Serviceseite mit der API, mit der Sie arbeiten werden.  Nach der Bestätigung wird der Benutzer auf die Seite umgeleitet, auf der das Token generiert wird, oder auf den Autorisierungsbestätigungscode, der anschließend in die R-Konsole eingegeben werden muss. </p><br><p>  Die meisten Benutzer sind daher besorgt, da die Websites, auf denen das Token selbst oder der Autorisierungsbestätigungscode generiert wird, von Drittanbietern stammen und nichts mit dem Werbedienst selbst zu tun haben. Natürlich haben sie entweder einen Google Analytics-Zähler oder einen Yandex.Metrica-Zähler und den Websitebesitzer. In den meisten Fällen ist dies nach Ansicht vieler auch der Autor des Pakets. Über diese Website kann sie ihre Token in Besitz nehmen und über sie Zugriff auf die Verwaltung ihrer Werbematerialien erhalten. </p><br><h2 id="chem-vam-grozit-perehvat-tokena">  Was bedroht Sie mit einem Token-Abfangen? </h2><br><p>  Lassen Sie uns darüber sprechen, was es Ihnen im Allgemeinen ermöglicht, ein Token zu erstellen, wenn es in die Hände eines Angreifers fällt. </p><br><p>  Das Token muss auf die gleiche Weise gespeichert werden wie alle anderen Daten, die für den Zugriff auf das Konto erforderlich sind, d. H.  Wenn der Token in eine der beiden Hände fällt, kann derjenige, der ihn in Besitz genommen hat, Ihre Werbematerialien verwalten: Löschen Sie sie, ändern Sie beispielsweise, es ist möglich, den Text der Anzeige und den Link, zu dem sie führt, zu ändern. </p><br><p>  Die gute Nachricht ist, dass Sie, wie oben geschrieben, mit dem OAuth-Protokoll die Möglichkeit erhalten, Ihre Werbematerialien zu verwalten, ohne einen Benutzernamen und ein Passwort von Ihrem Konto anzugeben, d. H.  Selbst wenn jemand Ihren Token in Besitz genommen hat, kann er Ihr Konto mit seiner Hilfe nicht stehlen.  Mit keiner einzigen API können Sie Ihr Passwort anfordern und vor allem ändern, damit Ihr Konto nicht entfernt wird. Die Werbung für Ihre Website über Ihr Konto ist jedoch einfach. </p><br><h2 id="chto-delat-esli-kto-to-zavladel-vashim-tokenom">  Was tun, wenn jemand Ihren Token in Besitz genommen hat? </h2><br><p>  Wenn Sie Ihren Token versehentlich übertragen haben, geraten Sie nicht in Panik.  Tatsächlich ist dies nicht das Ende der Welt. In den meisten Fällen gibt es eine Reihe von Aktionen, mit denen zuvor ausgegebene Token zurückgesetzt werden. In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem Abschnitt der Yandex.Direct-API-Referenz wird beispielsweise der</a> Vorgang des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abrufs</a> zuvor ausgegebener Token ausführlich beschrieben. </p><br><p>  In den meisten Fällen reicht es aus, unabhängig davon, mit welcher Werbesystem-API Sie arbeiten, nur das Kennwort für Ihr Konto zu ändern. </p><br><h2 id="kak-naibolee-bezopasno-ispolzovat-r-pakety-dlya-raboty-s-api-reklamnyh-sistem">  So verwenden Sie R-Pakete am sichersten, um mit den API-Werbesystemen zu arbeiten </h2><br><p>  Und jetzt haben wir den interessantesten Teil unserer Tour erreicht. Dann werde ich darüber sprechen, wie es am sichersten ist, die von mir entwickelten Pakete zu verwenden, da ich mit den APIs der Systeme, mit denen sie arbeiten, gut vertraut bin. </p><br><p>  Ich möchte darauf hinweisen, dass alle ausgegebenen Token auf der Seite der Werbeplattform gespeichert sind, nicht auf der Anwendung, über die das R-Paket funktioniert, sodass selbst der Benutzer der registrierten Anwendung für die Arbeit mit der Werbeplattform-API keinen Zugriff auf das Token selbst hat. </p><br><h3 id="ryandexdirecthttpsgithubcomselesnowryandexdirect-i-rymhttpsgithubcomselesnowrym---pakety-dlya-raboty-s-api-yandeksdirekt-i-yandeksmetriki">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ryandexdirect</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rym</a> - Pakete für die Arbeit mit den APIs Yandex.Direct und Yandex.Metrica </h3><br><p>  Beide Pakete verwenden den Yandex OAuth-Dienst. Weitere Informationen finden Sie unter diesem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> . </p><br><p>  Das ryandexdirect-Paket enthält zwei Funktionen zur Autorisierung: </p><br><ul><li> <code>yadirAuth</code> - zweistufige Autorisierung </li><li>  <code>yadirGetToken</code> - Anforderung eines Autorisierungstokens </li></ul><br><p>  Wenn Sie die yadirAuth-Funktion verwenden, dh ich empfehle, sie bei der Arbeit mit ryandexdirect zu verwenden, läuft der Autorisierungsprozess gemäß <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dem hier</a> beschriebenen Schema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ab</a> . Die einzige Sicherheitsanfälligkeit ist in diesem Fall der Zeitraum vom Generieren des Bestätigungscodes bis zur Eingabe in die R-Konsole. </p><br><p>  Im Folgenden wird erläutert, wie Google Analytics Daten zu Besuchen <strong>der</strong> Seite zur Generierung von <strong>Bestätigungscodes</strong> anzeigt. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/61e/43a/5bc/61e43a5bcd179c4a8008feb36245f9e1.png"></p><br><p>  Das heißt,  Der Code steht nach dem '?' - Zeichen und wird als GET-Parameter betrachtet, der den Google Analytics-Zähler erfasst. Die Lebensdauer eines solchen Bestätigungscodes endet jedoch unmittelbar nach seiner Verwendung, d. h.  direkt nachdem Sie es in die Konsole R eingegeben haben. Die maximale Lebensdauer eines solchen Codes beträgt 10 Minuten. </p><br><p>  Die zweite Funktion, <code>yadirGetToken</code> , führt die Autorisierung gemäß dem anderen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> beschriebenen Schema durch.  Und wenn es verwendet wird, wird kein Bestätigungscode erzeugt, d.h.  Nachdem Sie dem Paket die Berechtigung zum Zugriff auf die Daten erteilt haben, gelangen Sie zur Seite zur Token-Generierung.  Das Token in der URL selbst wird nach dem Zeichen '#' zurückgegeben. Dies ist kein get-Parameter, sondern ein Anker, oder da dieser Teil der URL auch als Hash bezeichnet wird.  Der Browser überträgt diese Daten nicht und wird dementsprechend nicht weiter an Google Analytics-Berichte übertragen, d. H.  Besuche dieser Seite in Berichten werden wie folgt angezeigt: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/633/040/b06/633040b066ca52c3ffba4d6d464dee02.png"></p><br><p>  In diesem zweiten Fall gibt es keine Risiken, aber das Minus der Verwendung der Funktion yadirGetToken besteht darin, dass die Anmeldeinformationen nicht in einer Datei auf Ihrem PC gespeichert werden und diese Daten dementsprechend nicht zwischen verschiedenen R-Sitzungen verwendet werden können, was nicht sehr praktisch ist.  Sie speichern das mit seiner Hilfe erhaltene Token und verwenden es in den Skripten als Textzeichenfolge. Die Lebensdauer eines solchen Tokens beträgt 1 Jahr. Danach kann das Paket es nicht mehr automatisch ersetzen, wie dies bei Verwendung der Funktion yadirGetAuth der Fall ist. </p><br><p>  Es gibt eine Funktion rym_auth im rym-Paket zur Autorisierung, die ein vollständiges Analogon der yadirAuth-Funktion ist, deren Operationsschema ich bereits ausführlich beschrieben habe. </p><br><h3 id="rfacebookstathttpsgithubcomselesnowrfacebookstat---pakety-dlya-raboty-s-reklamnym-kabinetom-facebook">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rfacebookstat</a> - Pakete für die Arbeit mit dem Facebook-Werbekonto </h3><br><p>  Der Authentifizierungsprozess in der Facebook Marketing API wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausführlich beschrieben. </p><br><p>  Um die Autorisierung zu übergeben, verfügt das Paket rfacebookstat über die Funktion <code>fbGetToken</code> . Es funktioniert genauso wie die zuvor beschriebene Funktion <code>yadirGetToken</code> aus dem Paket ryandexdirect, d. H.  Alles wird durch einstufige Authentifizierung implementiert.  Es besteht keine Gefahr, dass Ihr Token über Google Analytics-Berichte abgefangen wird. Es wird angezeigt, wie ein Besuch der Token-Generierungsseite in Google Analytics aussieht. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/2c5/c13/5e7/2c5c135e71c0fdf1270aed25d59d4cef.png"></p><br><h3 id="rvkstathttpsgithubcomselesnowrvkstat---pakety-dlya-raboty-s-reklamnym-kabinetom-vkontakte">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rvkstat</a> - Pakete für die Arbeit mit dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VK-Konto</a> </h3><br><p>  Der Vkontakte-Authentifizierungsprozess wird in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API-Hilfe beschrieben</a> . <br>  In rvkstat können Sie eine von zwei Funktionen zur Autorisierung verwenden: </p><br><ul><li>  <code>vkAuth</code> - Autorisierungsschema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fluss des Autorisierungscodes</a> , d.h.  zweistufige Autorisierung. </li><li>  <code>vkGetToken</code> - Autorisierung gemäß dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">impliziten</a> Ablaufschema, einstufige Autorisierung, wobei das Token an das Gerät gebunden ist. </li></ul><br><p>  <code>vkAuth</code> bietet eine zweistufige Authentifizierung, im Wesentlichen ein Analogon der am Anfang dieses Blocks beschriebenen <code>yadirAuth</code> Funktion, jedoch nur zur Autorisierung in der Vkontakte-API und nicht in Yandex. </p><br><p>  Die Besonderheit bei der Arbeit mit der Vkontakte-API besteht in diesem Fall darin, dass die Registrierung Ihrer Anwendung und der Zugriff auf die API dort recht einfach ist. Sie müssen keine Formulare ausfüllen, in denen Sie detailliert beschreiben müssen, wie und warum Sie die API verwenden.  Da Sie Ihre Anwendung bei der Arbeit mit rvkstat verwenden, funktioniert das Abfangen des Bestätigungscodes nicht, da  Es ist an Ihre Anwendung gebunden. Um ein Token damit abzufangen, müssen Sie die <em>ID</em> und das <em>Geheimnis</em> Ihrer Anwendung kennen. Der Code selbst ermöglicht es Ihnen nicht, ein Token für Sie zu erhalten. </p><br><p>  Mit der <code>vkGetToken</code> Funktion können Sie das Token auf schnellste Weise <code>vkGetToken</code> Außerdem ist das empfangene Token an das Gerät gebunden, von dem es angefordert wurde, d. H.  Selbst wenn jemand es bekommt, kann er es nur von demselben PC aus verwenden, von dem er angefordert wurde.  Gleichzeitig befindet sich das Token in der URL beim Generieren nach dem Zeichen "#" und wird, wie bereits erwähnt, nicht in Google Analytics-Berichte aufgenommen. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3d7/f57/b52/3d7f57b52c9f662007c801a4f8c214fc.png"></p><br><h3 id="rmytargethttpsgithubcomselesnowrmytarget---pakety-dlya-raboty-s-reklamnym-kabinetom-mytarget">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">rmytarget</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">MyTarget Dashboard-</a> Pakete </h3><br><p>  Derzeit gibt es in der MyTarget-API drei Autorisierungsschemata. Einzelheiten dazu finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . </p><br><p>  Die Funktion myTarAuth ist für die Autorisierung in der MyTarget-API in rmytarget vorgesehen. Standardmäßig wird das <em>Autorisierungsschema Authorization Code Grant</em> verwendet, mit dem Sie mit der MyTarget-API arbeiten können, ohne persönlich darauf zugreifen zu müssen.  Das heißt,  Ich habe die Anwendung bereits registriert, sie wurde vom MyTarget-API-Support genehmigt, und Sie gewähren ihr Zugriff, um in Ihrem Namen mit dem Konto zu arbeiten. </p><br><p>  <em>Authorization Code Grant</em> ist ein zweistufiges Autorisierungsschema, das dem von der <code>yadirAuth</code> Funktion im ryandexdirect-Paket implementierten ähnlich ist. </p><br><p>  Es funktioniert wie folgt: </p><br><ul><li>  Sie starten die Funktion, woraufhin der Browser geöffnet wird. </li><li>  Auf der MyTarget-Dienstseite erteilen Sie die Berechtigung zum Zugriff auf Ihr Konto. </li><li>  Sie werden zur Paketseite weitergeleitet, auf der der Bestätigungscode generiert wird.  Die maximale Lebensdauer dieses Codes beträgt 1 Stunde, endet jedoch sofort, nachdem Sie ein Token damit erhalten haben. </li><li>  Sie geben den kopierten Bestätigungscode in die R-Konsole ein und erhalten ein Token für die Arbeit mit der API. </li></ul><br><p>  In diesem Fall ist der Bestätigungscode ein get-Parameter und wird in Google Analytics-Berichten aufgezeichnet. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/f08/183/573/f08183573b76c823fd84e754382fe9bf.png"></p><br><p>  Wenn Sie jedoch genau hinschauen, enthält die URL zusätzlich zum Code <em>(Parametercode abrufen)</em> einen weiteren Parameterstatus.  Dies ist eine Zeichenfolge, auch ein Token, das vom rmytarget-Paket selbst generiert und unmittelbar nach dem Start der Funktion an den Browser gesendet wird. Dieser Parameter ist eindeutig und der Autorisierungsbestätigungscode ist daran angehängt.  Selbst wenn Sie sowohl den Bestätigungscode als auch das Status-Token abfangen, können Sie diese Kombination nicht verwenden, da  Erstens gibt es keinen Ort, an dem das Status-Token eingegeben werden kann, und wie ich bereits geschrieben habe, ist es einzigartig, und selbst wenn es einen Ort gab, an dem es eingegeben werden kann, kann es nicht erneut gesendet werden.  Daher ist dieses Autorisierungsschema völlig sicher. </p><br><p>  Wenn Ihnen diese Option dennoch verdächtig erscheint, können Sie mit rmytarget und der Funktion <code>myTarAuth</code> die verbleibenden zwei Autorisierungsschemata verwenden: </p><br><ul><li>  <em>Client Credentials Grant</em> , wird verwendet, um mit persönlichen Kontodaten über die API zu arbeiten </li><li>  <em>Agency Client Credentials Grant</em> , der verwendet wird, um mit den Daten ihrer eigenen Kunden von Agenturen / Managern zu arbeiten. </li></ul><br><p>  In diesem Fall müssen Sie unabhängig auf die MyTarget-API zugreifen. Derzeit können nur juristische Personen darauf zugreifen. Sie wird manuell ausgestellt. Um den Zugriff anzufordern, müssen Sie das Feedback-Formular verwenden. Alle Details finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . </p><br><p>  Wenn Sie es dennoch geschafft haben, Ihre Anwendung für die Arbeit mit der MyTarget-API zu registrieren, können Sie sich mit der Funktion myTarAuth ganz einfach mit einem der beiden oben aufgeführten Schemata authentifizieren. Übergeben Sie dazu den Wert FALSE an das Argument <em>code_grant</em> und verwenden Sie die folgenden Argumente: </p><br><ul><li>  <em>grant_type</em> - Der Typ Ihres Kontos, in diesem Fall ein reguläres Kundenkonto, nimmt die Werte "client_credentials" oder "agentur_client_credentials" an. </li><li>  <em>agentur_client_name</em> - Client-Anmeldung vom Agentenkonto, die nur verwendet wird, wenn grant_type = "agentur_client_credentials". </li><li>  <em>client_id</em> - ID wird Ihnen ausgestellt, wenn Sie den Zugriff auf die MyTarget-API bestätigen. </li><li>  <em>client_secret</em> - <em>Wird</em> Ihnen ausgestellt, wenn Sie den Zugriff auf die MyTarget-API zusammen mit der Client-ID bestätigen. </li></ul><br><div class="spoiler">  <b class="spoiler_title">Beispielcode für die Erteilung von Client-Anmeldeinformationen</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Beispielcode für das Autorisierungsschema Gewährung von Anmeldeinformationen für Agency-Kunden</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">myTargetAuth &lt;- myTarAuth(code_grant = FALSE, grant_type = "agency_client_credentials", client_id = "XXXXXXXXXX", client_secret = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", agency_client_name = "xxxxxxxxx@agency_client")</code> </pre> </div></div><br><p>  Bei Verwendung dieses Ansatzes wird die Authentifizierung ohne Interaktion mit der rmytarget-Paketwebsite durchgeführt. </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Hier endet unsere Tour, da heute mehr als 10.000 Pakete in den Haupt-Repositories veröffentlicht werden - CRAN und mehr als 80.000 auf GitHub. Abschließend möchte ich noch ein paar Worte zur Sicherheit ihrer Verwendung sagen. </p><br><p>  Achten Sie zunächst darauf, ob es ein Paket gibt, das Sie für CRAN benötigen, da dies das offizielle Repository für die R-Sprache ist. Pakete unterliegen einer recht strengen Moderation durch ein Team von Spezialisten aus diesem Repository, bevor sie dort veröffentlicht werden.  Das Paket wird dort erst veröffentlicht, wenn es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den CRAN-Richtlinien</a> vollständig entspricht.  Wenn das Paket in CRAN vorhanden ist, können Sie daher sicher sein, dass seine Verwendung für Sie sicher ist. </p><br><p>  Außerdem möchte ich darauf hinweisen, dass der Code aller Pakete für die R-Sprache offen ist. Sie können sich vor dem Start immer den Code einer ihrer Funktionen ansehen. </p><br><p>  Versuchen Sie auch, Artikel über die Anwendung dieses Pakets zu finden. R-Benutzer sind durchaus bereit, Informationen auszutauschen, und Sie werden wahrscheinlich Fälle finden, in denen mehr oder weniger beliebte Pakete verwendet werden.  Wenn sie über ein Paket schreiben, bedeutet dies, dass sie es verwenden und anscheinend niemand Probleme damit hatte. </p><br><p>  Schauen Sie auch, wer der Autor des Pakets ist. Es gibt zwei Möglichkeiten, dies zu tun: </p><br><ol><li>  Führen Sie nach der Installation des Pakets den Befehl <code>utils::packageDescription("_")$Author</code> </li><li>  Zeigen Sie die <em>DESCRIPTION-</em> Datei in der Paketquelle an. </li></ol><br><p>  Versuchen Sie, Informationen über den Autor in einem weltweiten Netzwerk zu finden. Wenn eine Person überhaupt öffentlich ist, ist es unwahrscheinlich, dass sie ihren Ruf riskiert, um ein Zeichen für den Zugriff auf Ihr Werbekonto und Ihre Werbematerialien zu erhalten.  Oft ist ein Ruf teurer als Geld, das auf zweifelhafte Weise erhalten wird. </p><br><p>  Wenn Sie ein Paket von GitHub installieren, installieren Sie es aus dem Repository des Autors und nicht aus einem Zweig. In der Regel gibt es viele solcher Zweige in gängigen Repositorys: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a0b/805/0cf/a0b8050cfecfc935ff10f0af4c9bc339.png" alt="Ryandexdirekte Zweige"></p><br><p>  Tatsache ist, dass die Zweige vom Autor des Pakets nicht aktualisiert werden, was bedeutet, dass Sie nicht die aktuellste Version erhalten.  Außerdem kann der GitHub-Benutzer, der den Zweig erstellt hat, Änderungen an seinem Code selbst vornehmen, unabhängig davon, ob Sie solchen Änderungen vertrauen oder nicht. </p><br><p>  Sie können auf der GitHub-Seite sehen, aus welchem ​​Repository der Zweig erstellt wurde. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/0e5/d1f/797/0e5d1f797cdb3a225a4f43ebc5b4f174.png"></p><br><p>  Übertragen Sie Ihre Token unter keinen Umständen an Dritte. Speichern Sie sie auf die gleiche Weise, wie Sie Kennwörter von Konten speichern. Auch wenn Sie ein Beispiel für einen Code anzeigen müssen, tun Sie dies, ohne Token anzugeben. </p><br><p>  Denken Sie daran, dass in den allermeisten Fällen die Verwendung von R-Paketen für Sie völlig sicher ist. Ich hoffe, dieser Artikel überzeugt Sie davon und spricht darüber, wie der Autorisierungsprozess in der API der beliebtesten Werbeplattformen funktioniert. </p><br><p>  Viel Glück, sei vorsichtig, aber gib nicht der Paranoia nach. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de430888/">https://habr.com/ru/post/de430888/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de430878/index.html">Verfügbares PhpStorm 2018.3</a></li>
<li><a href="../de430880/index.html">Eine weitere Implementierung der Datenverarbeitung</a></li>
<li><a href="../de430882/index.html">Xiaomi Aqara Wechseln Sie von ZigBee zu Z-Wave</a></li>
<li><a href="../de430884/index.html">Druckerei: Warum "LANIT-Integration" eine eigene "Druckerei" eröffnete</a></li>
<li><a href="../de430886/index.html">Aktualisieren Sie die SPPermission-Bibliothek und den Hasser</a></li>
<li><a href="../de430890/index.html">Wo Agilität schrecklich ist, besonders Scrum</a></li>
<li><a href="../de430892/index.html">Die Kombination aus plattformübergreifendem und nativem Ansatz bei der Entwicklung mobiler Anwendungen</a></li>
<li><a href="../de430894/index.html">Situation: Marken geben immer mehr Geld für Werbung in Podcasts aus - wir verstehen warum</a></li>
<li><a href="../de430896/index.html">Die Linux Foundation hat Fonds für GraphQL und Ceph eingerichtet - warum werden sie benötigt und was kann man von ihnen erwarten?</a></li>
<li><a href="../de430900/index.html">Der erste Laser in der Geschichte: was es war</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>