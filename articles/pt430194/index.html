<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👇 👩🏻‍🚀 🤛🏾 Guia: Criando aplicativos sem servidor ✌🏼 👨‍👨‍👧‍👦 🧑🏾‍🤝‍🧑🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje estamos elaborando um guia para a criação de aplicativos sem servidor. Inclui 3 seções principais: criação de lógica sem servidor, configuração d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Guia: Criando aplicativos sem servidor</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/430194/">  Hoje estamos elaborando um guia para a criação de aplicativos sem servidor.  Inclui 3 seções principais: criação de lógica sem servidor, configuração de gatilhos e uso de ligações.  Inscreva-se agora! <br><br><img src="https://habrastorage.org/webt/7z/ev/61/7zev61cth7zx0w8eienjjyxi91a.jpeg"><a name="habracut"></a><br><br><h2>  1. Introdução </h2><br>  Imagine trabalhar para uma empresa de escadas rolantes que investiu pesadamente em tecnologia IoT para rastrear seu produto localmente.  Você controla o processamento de dados dos sensores de temperatura nos mecanismos de acionamento das escadas rolantes.  Você acompanha os dados de temperatura e adiciona um sinalizador para indicar que a temperatura do mecanismo de acionamento está muito alta.  Nos sistemas a jusante, esses dados permitem determinar a necessidade de serviço. <br><br>  Sua empresa recebe dados de sensores de vários locais e de diferentes modelos de escadas rolantes.  Esses dados são fornecidos em vários formatos, incluindo o envio de arquivos em lote, recuperações agendadas do banco de dados, mensagens na fila e dados recebidos do hub de eventos.  Você deseja desenvolver um serviço reutilizável que permita processar dados de temperatura de todas essas fontes. <br><br>  Ao desenvolver serviços como esse usando estratégias tradicionais de arquitetura corporativa, você precisará considerar a infraestrutura do servidor e sua manutenção com antecedência: aloque o equipamento necessário, planeje sua instalação, coordene o trabalho com o departamento de TI para gerenciá-lo etc. A computação sem servidor é uma alternativa.  Com a computação sem servidor, o provedor de nuvem gerencia o provisionamento e a manutenção da infraestrutura, permitindo que você se concentre completamente na criação de aplicativos lógicos.  O serviço Azure Functions é um componente essencial da oferta de Computação sem Servidor do Azure, permitindo que você execute trechos de código ou funções escritas em sua própria linguagem de programação por conta própria na nuvem. <br><br><h2>  Objetivos de aprendizagem </h2><br>  Neste módulo, você aprenderá como executar as seguintes tarefas: <br><br><ul><li>  Determinando a adequação da computação sem servidor para atender às necessidades de negócios. </li><li>  Crie um Aplicativo de Recursos do Azure no Portal do Azure. </li><li>  Executando uma função usando gatilhos. </li><li>  Rastreando e testando recursos do Azure no portal do Azure </li></ul><br><h2>  Determinando a adequação da computação sem servidor para atender às necessidades de negócios </h2><br>  Para ajudá-lo a descobrir se a computação sem servidor deve ser aplicada, primeiro forneceremos informações gerais sobre esse conceito. <br><br><h4>  O que é computação sem servidor? </h4><br>  A computação sem servidor é um FaaS (recurso como serviço) ou microsserviço hospedado em uma plataforma em nuvem.  A lógica de negócios é executada no formato de funções, o que significa que você não precisa preparar ou dimensionar manualmente a infraestrutura.  Todo o gerenciamento de infraestrutura é realizado pelo provedor de serviços em nuvem.  O aplicativo aumenta ou diminui automaticamente, dependendo da carga.  O Azure oferece várias maneiras de criar esse tipo de arquitetura.  As duas abordagens mais comuns estão usando os Aplicativos Lógicos do Azure e os Recursos do Azure.  Neste módulo, vamos considerá-los. <br><br><h4>  O que são os Recursos do Azure? </h4><br>  Recursos O Azure é uma plataforma de computação sem servidor.  Ele permite que os desenvolvedores implementem a lógica de negócios que pode ser executada sem preparar a infraestrutura.  As funções são estruturalmente bem dimensionadas e você paga apenas pelos recursos realmente usados.  O código de função pode ser criado em qualquer linguagem conveniente, incluindo C #, F # e JavaScript.  O NuGet e o NPM também são suportados, o que possibilita o uso de muitas bibliotecas populares na lógica de negócios. <br><br><h4>  Benefícios da solução de computação sem servidor </h4><br>  A computação sem servidor é uma ótima opção para hospedar código de lógica de negócios na nuvem.  Os serviços sem servidor, como o Azure Functions, permitem criar lógica de negócios em qualquer idioma que seja adequado a você.  Você obtém o dimensionamento automático, não precisa se preocupar com o gerenciamento de servidores e paga apenas pelos recursos realmente utilizados, e não pelo tempo reservado.  Abaixo estão mais alguns recursos da solução sem servidor que você precisa considerar. <br><br><h4>  Falta de alocação excessiva de infraestrutura </h4><br>  Suponha que você preparou servidores de máquinas virtuais e forneceu a eles recursos suficientes para cargas de pico.  Durante períodos de pouca carga de trabalho, é provável que você pague por infraestrutura não utilizada.  A computação sem servidor ajuda a resolver o problema da alocação excessiva de recursos, uma vez que o dimensionamento é realizado automaticamente e você paga apenas pelo trabalho ativo da função. <br><br><h4>  Lógica sem estado </h4><br>  Funções sem estado são ótimas para computação sem servidor;  instâncias de função são criadas e excluídas mediante solicitação.  Se o rastreamento de estado for necessário, ele poderá ser armazenado no serviço de armazenamento apropriado. <br><br><h4>  Gerenciamento de eventos </h4><br>  Funções são orientadas a eventos.  Isso significa que eles são executados apenas em resposta a algum evento (acionador), por exemplo, recebendo uma solicitação HTTP ou adicionando uma mensagem à fila.  Os gatilhos são configurados na definição da função.  Essa abordagem simplifica bastante a base de códigos, permitindo declarar apenas fontes de dados (ligação de gatilho / entrada) e destino (ligação de saída).  Você não precisa escrever para criar seu próprio código para trabalhar com filas, blobs, hubs etc. Tudo o que resta é criar lógica de negócios. <br><br><h4>  As funções podem ser usadas em ambientes de computação tradicionais. </h4><br>  As funções são um componente essencial da computação sem servidor, mas, ao mesmo tempo, servem como plataforma de computação para a execução de qualquer tipo de código.  Se o aplicativo precisar ser alterado, você sempre poderá implantar o mesmo projeto em um ambiente de servidor familiar, ganhando flexibilidade para controlar o dimensionamento, iniciar em redes virtuais e até isolar completamente as funções. <br><br><h4>  Desvantagens de uma solução de computação sem servidor </h4><br>  A computação sem servidor nem sempre é ideal para hospedar a lógica de negócios.  A seguir, estão alguns dos recursos que podem afetar sua decisão de hospedar serviços na computação sem servidor. <br><br><h4>  Prazo de execução </h4><br>  Por padrão, as funções usam um tempo de espera de 5 minutos.  Pode ser aumentado, mas não mais que 10 minutos.  Se a função demorar mais de 10 minutos, poderá ser hospedada em uma máquina virtual.  Além disso, se seu serviço iniciar com uma solicitação HTTP e você esperar receber uma resposta HTTP, o tempo de espera será limitado a 2,5 minutos.  E, finalmente, há uma oportunidade adicional de criar funções estáveis ​​para orquestrar o desempenho de várias funções sem limite de tempo. <br><br><h4>  Frequência de execução </h4><br>  A segunda característica é a frequência de execução.  Se é esperado que vários clientes executem a função continuamente de uma só vez, seria razoável avaliar o uso e calcular o custo do uso das funções adequadamente.  Talvez hospedar um serviço em uma máquina virtual seja mais barato. <br><br>  Ao dimensionar a cada 10 segundos, apenas uma instância do aplicativo de função pode ser criada, mas não mais de 200 instâncias no total.  Lembre-se de que cada instância pode servir várias execuções simultâneas, ou seja, não há limite na quantidade de tráfego que cada instância pode manipular.  Diferentes tipos de gatilhos têm diferentes requisitos de dimensionamento.  Examine o gatilho selecionado e suas limitações associadas. <br><br><h2>  Crie um aplicativo de recurso no portal do Azure </h2><br><blockquote>  Este tutorial requer uma sandbox <br><br>  A sandbox fornece acesso gratuito aos recursos do Azure necessários para este tutorial.  Sua assinatura do Azure não será cobrada. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Entre na sandbox</a> <br></blockquote><br>  Agora você está pronto para começar a implementar o serviço de controle de temperatura.  No módulo anterior, você determinou que uma solução sem servidor é mais adequada para resolver seus problemas.  Agora vamos criar um aplicativo de função para armazenar a função do Azure. <br><br><h4>  O que é um aplicativo de funções? </h4><br>  As funções são colocadas em um contexto chamado aplicativo de função.  Os aplicativos de funções permitem agrupar e estruturar logicamente funções e computar recursos no Azure.  Em nosso exemplo, você criará um aplicativo de função para hospedar o serviço de controle de temperatura para o acionamento do elevador.  Para criar um aplicativo de recursos, é necessário tomar várias decisões, incluindo a escolha de um plano de serviço e uma conta de armazenamento adequada. <br><br><h4>  Escolhendo um plano de serviço </h4><br>  Os aplicativos de funções podem usar um dos dois tipos de plano de serviço.  O primeiro desses tipos é um plano de serviço baseado no consumo.  Esse plano é útil ao usar a plataforma de aplicativos do Azure sem servidor.  Um plano de serviço baseado em consumo fornece dimensionamento automático e o pagamento é cobrado apenas pela duração das funções.  Um plano de serviço baseado em consumo permite que você configure um período de espera para concluir uma função.  Por padrão, esse período é de 5 minutos, mas pode ser aumentado para 10 minutos. <br><br>  O segundo tipo é o Plano de Serviço de Aplicativo do Azure.  Esse plano evita períodos de espera executando continuamente o aplicativo na máquina virtual selecionada.  Se você usar um plano de serviço de aplicativo, precisará gerenciar os recursos para o aplicativo em que a função é executada.  A rigor, isso não nos permite considerar o plano sem servidor.  Mas, em algumas circunstâncias, funciona melhor, por exemplo, se as funções forem usadas constantemente ou exigirem mais poder de processamento ou tempo de execução mais longo do que um plano baseado em consumo pode fornecer. <br><br><h4>  Requisitos da conta de armazenamento </h4><br>  O aplicativo de função criado deve estar vinculado à conta de armazenamento.  Você pode selecionar uma conta de armazenamento existente ou criar uma nova.  O aplicativo de funções usa essa conta de armazenamento para operações internas, como log de execução de funções e gerenciamento de gatilhos de execução.  Se um plano de serviço baseado em consumo for usado, o código de função e os arquivos de configuração também serão armazenados aqui. <br><br><h2>  Criando um Aplicativo de Função </h2><br>  Vamos criar um aplicativo de recursos no portal do Azure. <br><br>  Faça logon no <a href="">portal</a> do <a href="">Azure</a> usando a mesma conta com a qual você ativou a sandbox. <br><br>  Clique no botão Criar Recurso no canto superior esquerdo do portal do Azure e selecione Introdução&gt; Aplicativo de Função sem Servidor para abrir a coluna Criar para o aplicativo de função.  A mesma coluna pode ser aberta através do item de menu Cálculos&gt; Função do aplicativo. <br><br><img src="https://habrastorage.org/webt/qd/o6/df/qdo6dfwqw05hjofsqltq0ddzqhe.png"><br><br>  Escolha um nome de aplicativo globalmente exclusivo.  Será usado como o URL base do seu serviço.  Você pode nomear, por exemplo, escalator-functions-xxxxxxx, substituindo as cruzes pelas iniciais e ano de nascimento.  Se esse nome não for globalmente exclusivo, tente outras combinações.  Os caracteres válidos são a - z, 0–9 e -. <br><br>  Selecione a assinatura do Azure em que deseja hospedar o aplicativo de recursos. <br><br>  Selecione um grupo de recursos existente chamado [nome do grupo de recursos da caixa de areia]. <br><br>  Selecione seu sistema operacional Windows. <br><br>  Para Plano de canal, selecione Plano de consumo, que é usado para alocação sem servidor. <br><br>  Na lista, selecione a localização geográfica mais próxima de você.  No sistema de trabalho, você precisa escolher o local mais próximo das funções de seus clientes ou consumidores. <br><br>  Uma sandbox gratuita permite criar recursos em um subconjunto das regiões globais do Azure.  Ao criar qualquer recurso, selecione uma região da seguinte lista: <br><br><ul><li>  Oeste dos EUA 2 </li><li>  Centro-Oeste dos Estados Unidos </li><li>  Centro-Sul dos EUA </li><li>  EUA Central </li><li>  Leste dos EUA </li><li>  Europa Ocidental </li><li>  Sudeste da Ásia </li><li>  Leste do Japão </li><li>  Brasil sul </li><li>  Sudeste da Austrália </li><li>  Índia central </li></ul><br>  Para o parâmetro Pilha de tempo de execução, selecione JavaScript na lista suspensa, pois é nesse idioma que implementaremos exemplos de funções neste exercício. <br><br>  Crie uma conta de armazenamento.  O Azure o nomeará automaticamente usando o nome do aplicativo.  Você pode substituir esse nome por qualquer outro, mas sempre exclusivo. <br><br>  Verifique se o Azure Application Insights está ativado e selecione a região mais próxima de você (ou de seus clientes). <br><br>  Escolha Criar.  A implantação levará vários minutos.  Após a conclusão, você receberá uma notificação. <br><br><h2>  Validando um Aplicativo de Recursos do Azure </h2><br>  No menu no lado esquerdo do portal do Azure, selecione Grupos de Recursos.  Você verá o grupo de recursos [nome do grupo de recursos da caixa de areia] na lista de grupos disponíveis. <br><br><img src="https://habrastorage.org/webt/o8/rz/qw/o8rzqwrbnapxppbpsfow18kutmi.png">  . <br><br>  Selecione o grupo de recursos [nome do grupo de recursos da caixa de areia].  Uma lista de recursos aparece, semelhante à imagem a seguir. <br><br><img src="https://habrastorage.org/webt/g2/zs/p9/g2zsp9vbiunm1-gwromnvl1cano.png"><br><br>  O elemento relâmpago designado aqui como serviço de aplicativo é a nova função de aplicativo.  Clique nele para abrir os detalhes do novo recurso.  Ela recebe uma URL pública que pode ser aberta no navegador e verifique se o aplicativo de funções está funcionando corretamente. <br><br>  Você pode continuar estudando o guia em nosso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">portal Microsoft Learn</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430194/">https://habr.com/ru/post/pt430194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430180/index.html">"A mente está online." Entre em contato com uma mente diferente</a></li>
<li><a href="../pt430182/index.html">CodeOne 2018 como JavaOne, mas apenas na máscara</a></li>
<li><a href="../pt430186/index.html">Computação preguiçosa na vida cotidiana</a></li>
<li><a href="../pt430188/index.html">Configurando HTTP / 2 usando Apache 2.4, PHP 7 e Ubuntu 18.04 LTS como exemplo</a></li>
<li><a href="../pt430190/index.html">Credibilidade, Valores-P e Crise da Reprodutibilidade</a></li>
<li><a href="../pt430196/index.html">Ir lintpack: gerenciador de linter composable</a></li>
<li><a href="../pt430198/index.html">De um contador Geiger, combinações e arduinos. Parte Um - Teoria</a></li>
<li><a href="../pt430200/index.html">Preço das ações da Nvidia cai em meio ao colapso do mercado de criptomoedas e declínio do interesse na mineração</a></li>
<li><a href="../pt430202/index.html">Escrevendo um sistema de partículas que interagem com pares em C ++ usando o DirectX 11</a></li>
<li><a href="../pt430204/index.html">Curso MIT "Segurança de sistemas de computadores". Palestra 18: “Navegação Privada na Internet”, Parte 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>