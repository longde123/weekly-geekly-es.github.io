<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïû ü•î üìñ DIY DeepFake [Teil 1] ‚õÖÔ∏è ü•ô üèôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Trotz aller Freuden des Internets hat es viele Nachteile, und einer der schrecklichsten ist die Irref√ºhrung von Menschen. Clickbait, Fotobearbeitung, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DIY DeepFake [Teil 1]</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470323/"> Trotz aller Freuden des Internets hat es viele Nachteile, und einer der schrecklichsten ist die Irref√ºhrung von Menschen.  Clickbait, Fotobearbeitung, falsche Nachrichten - all diese Tools werden aktiv verwendet, um normale Benutzer im globalen Netzwerk zu t√§uschen. In den letzten Jahren hat jedoch ein neues potenziell gef√§hrliches Tool namens DeepFake an Dynamik gewonnen. <br><br>  Ich habe mich k√ºrzlich f√ºr diese Technologie interessiert.  Zum ersten Mal erfuhr ich davon aus dem Bericht eines der Redner auf der ‚ÄûAI Conference 2018‚Äú.  Dort wurde ein Video gezeigt, in dem der Algorithmus durch Audioaufnahme ein Video mit der Anziehungskraft von Barack Obama erzeugte.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zu einer Auswahl von Videos, die mit dieser Technologie erstellt wurden</a> .  Die Ergebnisse haben mich sehr inspiriert und ich habe mich entschlossen, diese Technologie besser zu verstehen, um sie in Zukunft abzulehnen.  Daf√ºr habe ich beschlossen, DeepFake in C # zu schreiben.  Als Ergebnis habe ich ein solches Ergebnis erhalten. <br><br><img src="https://habrastorage.org/webt/w1/bw/lp/w1bwlpk1ulrf5srvffcrow1i_gm.jpeg" alt="Bild"><br><br>  Viel Spa√ü beim Lesen! <br><a name="habracut"></a><br>  <b>Allgemeine Grunds√§tze</b> <br><br>  Ausgangspunkt war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Projekt.  Daraus habe ich genau gelernt, wie der Gesichtsersatz in Videos funktioniert. <br><br><ol><li>  Laden eines Bildes, mit dem wir ein Gesicht machen werden </li><li>  Gesichtsextraktion </li><li>  3D-Maskenerstellung </li><li>  Video ist in Frames unterteilt </li><li>  Der Bereich der Gesichtslokalisierung im Rahmen wird berechnet </li><li>  Der Winkel und der Gesichtsausdruck werden berechnet </li><li>  √úbertragen Sie Rotation und Mimik auf ein 3D-Modell </li><li>  Rendern </li><li>  Ersetzen einer realen Person im Rahmen durch das Ergebnis des Renderns </li></ol><br>  Video zur Demonstration der Arbeit des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FaceSwap-Projekts</a> : <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/yZRuSsyxvos" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ich beschloss, die Arbeit in drei Teile zu teilen: <br><br>  1.) Ersetzen eines Gesichts in einem Foto durch ein Gesicht eines anderen ohne Verwendung einer 3D-Maske <br>  2.) Abschluss des Austauschs mit der 3D-Maske <br>  3.) Videoverarbeitung <br><br>  Der Gesichtsersatz auf dem Foto kann in folgende Punkte zerlegt werden: <br><br><ol><li>  Laden eines Bildes, mit dem wir ein Gesicht machen werden </li><li>  Laden des Bildes, auf das das Gesicht projiziert wird </li><li>  Gesichtsextraktion </li><li>  Skalieren des von Bild 2 aufgenommenen Gesichts auf das Seitenverh√§ltnis in Bild 1 </li><li>  Ersetzen Sie das Gesicht in Bild 1 durch das Gesicht in Bild 2 </li></ol><br>  <b>Betten Sie ein Bild in ein anderes ein</b> <br><br>  Als erstes habe ich ein Bild in ein anderes eingebettet.  Das Skript <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zad1.py</a> wird verwendet, um die Einbettung in das urspr√ºngliche Projekt zu demonstrieren. <br>  Als Ergebnis wird die Datei ‚ÄûeyeHandBlend.jpg‚Äú erstellt, in der das Auge in die Hand eingebettet ist. <br><br><img src="https://habrastorage.org/webt/hq/lh/kh/hqlhkh0sbobhcknnoazomtpucag.jpeg" width="309" alt="eyeHandBlend.jpg"><br><br>  Dieser Algorithmus besteht aus 2 Teilen. Der erste Teil √ºbertr√§gt die Farbe aus dem Bereich mit dem Gesicht im Originalbild auf das Gesicht, das eingef√ºgt werden muss.  Die zweite Option macht die Bildr√§nder mit der gew√ºnschten Fl√§che transparent und verringert die Transparenz, wenn sie sich der Bildmitte n√§hert. <br><br>  Ich habe den ersten Teil komplett aus dem urspr√ºnglichen Projekt √ºbernommen. <br><br><div class="spoiler">  <b class="spoiler_title">Python-Code</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">colorTransfer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(src, dst, mask)</span></span></span><span class="hljs-function">:</span></span> transferredDst = np.copy(dst) <span class="hljs-comment"><span class="hljs-comment">#indeksy nie czarnych pikseli maski maskIndices = np.where(mask != 0) #src[maskIndices[0], maskIndices[1]] zwraca piksele w nie czarnym obszarze maski maskedSrc = src[maskIndices[0], maskIndices[1]].astype(np.int32) maskedDst = dst[maskIndices[0], maskIndices[1]].astype(np.int32) meanSrc = np.mean(maskedSrc, axis=0) meanDst = np.mean(maskedDst, axis=0) maskedDst = maskedDst - meanDst maskedDst = maskedDst + meanSrc maskedDst = np.clip(maskedDst, 0, 255) transferredDst[maskIndices[0], maskIndices[1]] = maskedDst return transferredDst</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Code auf C # portiert</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Bitmap </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewColor</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Bitmap src, Bitmap ins, Rectangle r</span></span></span><span class="hljs-function">)</span></span> { List&lt;Vector&gt; srV = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Vector&gt;(); List&lt;Vector&gt; inV = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Vector&gt;(); ; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = rX; i &lt; rX + r.Width<span class="hljs-number"><span class="hljs-number">-2</span></span>; i+=<span class="hljs-number"><span class="hljs-number">3</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> j = rY; j &lt; rY + r.Height<span class="hljs-number"><span class="hljs-number">-3</span></span>; j+=<span class="hljs-number"><span class="hljs-number">4</span></span>) { Color color = src.GetPixel(i, j); Color color2 = ins.GetPixel(i, j); srV.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[] { color.R, color.G, color.B }.ToVector()); inV.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span>[] { color2.R, color2.G, color2.B }.ToVector()); } } Vector meanSrc = Vector.Mean(srV.ToArray()) / <span class="hljs-number"><span class="hljs-number">255</span></span>; Vector meanInk = Vector.Mean(inV.ToArray()) / <span class="hljs-number"><span class="hljs-number">255</span></span>; Tensor tensor = ImgConverter.BmpToTensor (ins.Clone(r, PixelFormat.Format32bppArgb)); tensor = tensor.DivD(meanInk); tensor = tensor.PlusD(meanSrc); tensor = tensor.TransformTensor(x =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (x &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) x = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ImgConverter.TensorToBitmap(tensor); }</code> </pre><br></div></div><br>  Um die Kanten transparenter als der zentrale Teil des Bildes zu machen, wurde zur Berechnung des Alphakanals eine radiale Basisfunktion der folgenden Form eingef√ºhrt: <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mspace linebreak=&quot;newline&quot; /><mi>k</mi><mo>=</mo><mn>190</mn><mspace linebreak=&quot;newline&quot; /><mi>n</mi><mo>=</mo><mn>3</mn><mspace linebreak=&quot;newline&quot; /><mi>r</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>&amp;#x2212;</mo><msub><mi>C</mi><mi>w</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1.2</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>W</mi></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>&amp;#x2212;</mo><msub><mi>C</mi><mi>h</mi></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>H</mi></mrow><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mspace linebreak=&quot;newline&quot; /><mtext>&amp;#xA0;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>=</mo><mn>255</mn><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mi>k</mi><mtext>&amp;#xA0;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>r</mi></mrow><mi>n</mi></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="48.598ex" height="11.696ex" viewBox="0 -780.1 20924 5035.8" role="img" focusable="false" style="vertical-align: -9.884ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-3D" x="799" y="0"></use><g transform="translate(1855,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-39" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(0,-1200)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-33" x="1934" y="0"></use></g><g transform="translate(0,-2489)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-3D" x="729" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-28" x="1785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-66" x="2425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-72" x="2975" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-61" x="3427" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-63" x="3956" y="0"></use><g transform="translate(4390,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-2212" x="567" y="0"></use><g transform="translate(1568,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-77" x="1011" y="-213"></use></g></g><g transform="translate(7280,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-32" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-63" x="1529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-64" x="1963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6F" x="2486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-74" x="2972" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-57" x="3333" y="0"></use></g><g transform="translate(11662,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-32" x="550" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-2B" x="12728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-28" x="13728" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-66" x="14368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-72" x="14918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-61" x="15370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-63" x="15899" y="0"></use><g transform="translate(16333,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-2212" x="634" y="0"></use><g transform="translate(1635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-68" x="1011" y="-213"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-48" x="19192" y="0"></use><g transform="translate(20080,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-32" x="550" y="513"></use></g></g><g transform="translate(0,-3921)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-61" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-70" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-68" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-61" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-3D" x="2965" y="0"></use><g transform="translate(4021,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-63" x="5773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-64" x="6206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6F" x="6730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-74" x="7215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-65" x="7577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-78" x="8043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-70" x="8616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-28" x="9119" y="0"></use><g transform="translate(9509,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6B" x="778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-63" x="1550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-64" x="1983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6F" x="2507" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-74" x="2992" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-72" x="3354" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-6E" x="5381" y="596"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMAIN-29" x="13839" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mspace linebreak="newline"></mspace><mi>k</mi><mo>=</mo><mn>190</mn><mspace linebreak="newline"></mspace><mi>n</mi><mo>=</mo><mn>3</mn><mspace linebreak="newline"></mspace><mi>r</mi><mo>=</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>‚àí</mo><msub><mi>C</mi><mi>w</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1.2</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>W</mi></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>‚àí</mo><msub><mi>C</mi><mi>h</mi></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>H</mi></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace linebreak="newline"></mspace><mtext>&nbsp;</mtext><mi>a</mi><mi>l</mi><mi>p</mi><mi>h</mi><mi>a</mi><mo>=</mo><mn>255</mn><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>e</mi><mi>x</mi><mi>p</mi><mo stretchy="false">(</mo><msup><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mi>k</mi><mtext>&nbsp;</mtext><mi>c</mi><mi>d</mi><mi>o</mi><mi>t</mi><mi>r</mi></mrow><mi>n</mi></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-1"> \\ k = 190 \\ n = 3 \\ r = (\ frac {i-C_w} {1.2 \ cdot W}) ^ 2 + (\ frac {j-C_h} {H}) ^ 2 \\ \ alpha = 255 \ cdot exp ({- k \ cdot r} ^ n) </script><br><br>  k und n wurden empirisch ausgew√§hlt. <br>  i - Pixelindex entlang der OX-Achse <br>  j - Pixelindex entlang der OY-Achse <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>C</mi><mi>w</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.071ex" height="2.419ex" viewBox="0 -780.1 1322.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-77" x="1011" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mi>w</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> C_w </script>  - Komponente x der Bildmitte <br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>C</mi><mi>h</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.841ex" height="2.419ex" viewBox="0 -780.1 1223.1 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/470323/&amp;usg=ALkJrhi6xR39vQaerL9hRe38RmqCGp57Kg#MJMATHI-68" x="1011" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>C</mi><mi>h</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> C_h </script>  - Komponente y der Bildmitte <br><br>  Als Ergebnis habe ich folgendes Ergebnis erhalten: <br><br><img src="https://habrastorage.org/webt/wq/w9/ab/wqw9abniw6gptbn_kk4_q5zq3t4.jpeg" width="309" alt="eyeHandBlend.jpg"><br><br>  <b>Gesichtssuche</b> <br><br>  Um nach Gesichtern auf dem Foto zu suchen, gibt es viele Algorithmen: <br><br><ul><li>  Viola-Jones-Algorithmus (Haar Cascades) </li><li>  Schwein + svm </li><li>  R-CNN </li><li>  Schnelle r-cnn </li><li>  Schneller r-cnn </li><li>  Yolo </li></ul><br>  Urspr√ºnglich wurde der Viola-Jones-Algorithmus verwendet, der sich jedoch als nicht genau genug herausstellte, weil  hervorgehobene Gesichter nicht genau.  Der Auswahlbereich einer Person stimmte nicht mit dem Auswahlbereich der zweiten Person √ºberein, aufgrund dessen der Austausch durch Fehler erfolgte. Ein Beispiel f√ºr die Auswahl von Gesichtern unter Verwendung dieses Algorithmus ist unten gezeigt.  Gesichter k√∂nnen verschoben werden, d.h.  In einem Bild werden beide Ohren erfasst, in dem anderen nur eines.  Solche Fehler wirken sich ziemlich stark auf das Endergebnis aus (auf dem Foto hat die vorherige Bibliothek bei der Arbeit mit DLib nicht immer das Gesicht gefunden, aber die Screenshots wurden leider nicht gespeichert). <br><br><img src="https://habrastorage.org/webt/lk/6p/sg/lk6psgjhiqyispratrubpxk8afw.jpeg"><br><br>  Als n√§chstes entschied ich mich, Orientierungspunkte aus der Dlib-Bibliothek zu verwenden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DlibDotNet gefunden</a> , das auf .Net Core geschrieben ist.  Zur Verwendung im .Net Framework wurde ein Zwischenprojekt zu .Net Standard 2.0 mit den Hauptfunktionen, Gesichtssuche und Hervorhebung von Orientierungspunkten erstellt. <br><br><div class="spoiler">  <b class="spoiler_title">C # -Code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function">[] </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Face</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">byte</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] bts, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> row, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> col, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> st</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> img = Dlib.LoadImageData&lt;RgbPixel&gt; (ImagePixelFormat.Bgr, bts, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)row, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)col, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)st ); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> face = faceDetector.Operator(img)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] rect = { face.Left, face.Top, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)face.Width, (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)face.Height}; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> rect; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt; FacePoints(<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bts, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> row, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> col, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> st) { List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt; points = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[]&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> img = Dlib.LoadImageData&lt;RgbPixel&gt; (ImagePixelFormat.Bgr, bts, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)row, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)col, (<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)st); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> face = faceDetector.Operator(img)[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> shape = shapePredictor.Detect(img, face); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; shape.Parts; i++) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> point = shape.GetPart((<span class="hljs-keyword"><span class="hljs-keyword">uint</span></span>)i); points.Add(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>[] { point.X, point.Y }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> points; }</code> </pre><br></div></div><br>  Dann schrieb er eine Bibliothek auf .Net Framework 4.6.1, in der er die gesamte Logik implementierte. <br><br>  Ein Beispiel f√ºr das Erhalten von Langmarks: <br><br><img src="https://habrastorage.org/webt/ha/k_/rq/hak_rq1nx58hnrlwrevqw1_bygw.jpeg"><br><br>  Eine Person kann genauer unterschieden werden, indem die Punkte ganz links, rechts, oben und unten gefunden und Rahmen darauf aufgebaut werden. <br><br><img src="https://habrastorage.org/webt/te/pw/-x/tepw-xziyju0zs60bbawi4_wnpc.jpeg"><br><br>  Dann wurde das Gesicht in der unteren rechten Ecke aus dem Bild herausgeschnitten und unter Verwendung des oben beschriebenen Algorithmus in das Bild eingef√ºgt: ‚ÄûCaballero de la mano en el pecho‚Äú. <br><br>  Das folgende Ergebnis wurde erhalten. <br><br><img src="https://habrastorage.org/webt/w1/bw/lp/w1bwlpk1ulrf5srvffcrow1i_gm.jpeg" alt="Bild"><br><br><ul><li>  Die zur Demonstration der Algorithmen verwendeten Personen stammen aus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem Projekt</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Benutzte Bibliotheken</a> . </li><li>  <a href="">Formpr√§diktor (68 Punkte)</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zum Projekt</a> . </li></ul><br>  Im n√§chsten Artikel m√∂chte ich eine 3D-Maske aus einem Foto erstellen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470323/">https://habr.com/ru/post/de470323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470309/index.html">Xamarin.Forms Shell</a></li>
<li><a href="../de470311/index.html">Holzspielzeug, Teil Sieben - 1993</a></li>
<li><a href="../de470313/index.html">Holzspielzeug, Teil Acht - 1994</a></li>
<li><a href="../de470317/index.html">C ++ Abk√ºrzung Spickzettel und mehr. Teil 2: "und nicht nur"</a></li>
<li><a href="../de470321/index.html">Holzspielzeug, Teil Neun - 1995</a></li>
<li><a href="../de470327/index.html">Anwendung von MATLAB / Simulink mit Ger√§ten von InSys JSC</a></li>
<li><a href="../de470331/index.html">Wie identifiziere ich indizierte ISI-, Scopus- oder Scimago-Protokolle?</a></li>
<li><a href="../de470333/index.html">Programmierer-, Manager-, MVC- und Akzeptanzkriterien</a></li>
<li><a href="../de470337/index.html">Wie ich 3 Monate in Y. Market gearbeitet und gek√ºndigt habe</a></li>
<li><a href="../de470347/index.html">Wie man HERE API in kurzer Zeit lernt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>