<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧕 👚 👶 Pemeringkatan mendalam untuk membandingkan dua gambar 👨🏽‍🤝‍👨🏼 💉 🥑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya mempersembahkan untuk Anda terjemahan dari artikel “Kesamaan Gambar dengan Peringkat Tinggi” oleh Akarsh Zingade. 

 Algoritma Pering...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pemeringkatan mendalam untuk membandingkan dua gambar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457928/">  Halo, Habr!  Saya mempersembahkan untuk Anda terjemahan dari artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">“Kesamaan Gambar dengan Peringkat Tinggi”</a> oleh Akarsh Zingade. <br><br><h2>  Algoritma Peringkat Tinggi </h2><br>  Konsep " <i>kesamaan dua gambar</i> " tidak diperkenalkan, jadi mari kita perkenalkan konsep ini setidaknya dalam kerangka artikel. <br><br>  <b>Kesamaan dari dua gambar</b> adalah hasil membandingkan dua gambar sesuai dengan kriteria tertentu.  Ukuran kuantitatifnya menentukan tingkat kesamaan antara diagram intensitas dua gambar.  Menggunakan ukuran kesamaan, beberapa fitur yang menggambarkan gambar dibandingkan.  Sebagai ukuran kesamaan, jarak Hamming, jarak Euclidean, jarak Manhattan, dll. <br><a name="habracut"></a><br>  <b>Deep Ranking</b> - mempelajari kesamaan gambar berbutir halus, mengkarakterisasi rasio kemiripan gambar yang terbagi halus menggunakan satu set triplet. <br><br><h3>  Apa itu triplet? </h3><br>  Triplet berisi gambar permintaan, gambar positif dan negatif.  Di mana gambar positif lebih seperti gambar permintaan daripada negatif. <br><br>  <b>Contoh satu set kembar tiga:</b> <br><br><img src="https://cdn-images-1.medium.com/max/1000/0*vw4M7uZ5exyLZfLv." alt="gambar"><br><br>  Baris pertama, kedua dan ketiga sesuai dengan gambar permintaan.  Baris kedua (gambar positif) lebih mirip gambar permintaan daripada baris ketiga (gambar negatif). <br><br><h3>  Arsitektur Jaringan Peringkat Tinggi </h3><br>  Jaringan ini terdiri dari 3 bagian: pengambilan sampel triplet, ConvNet dan lapisan peringkat. <br>  Jaringan menerima kembar tiga gambar sebagai input.  Satu gambar triplet berisi gambar permintaan <math> </math> $ inline $ p_i $ inline $   citra positif <math> </math> $ inline $ p_i ^ + $ inline $   dan citra negatif <math> </math> $ inline $ p_i ^ - $ inline $   yang secara independen ditransmisikan ke tiga jaringan saraf yang dalam identik. <br><br>  Lapisan peringkat teratas - mengevaluasi fungsi triplet loss.  Kesalahan ini diperbaiki di lapisan bawah untuk meminimalkan fungsi kerugian. <br><img src="https://cdn-images-1.medium.com/max/1000/0*ICR1FjUFC8xHXoh1." alt="gambar"><br><br>  Sekarang mari kita lihat lebih dekat lapisan tengah: <br><br><img src="https://cdn-images-1.medium.com/max/1000/0*tOd5HC3R-kFqobpM." alt="gambar"><br><br>  ConvNet dapat berupa jaringan saraf dalam (artikel ini akan membahas salah satu penerapan jaringan saraf convolutional VGG16).  ConvNet berisi lapisan konvolusional, lapisan kumpulan maksimum, lapisan normalisasi lokal, dan lapisan yang sepenuhnya terhubung. <br>  Dua bagian lainnya menerima gambar dengan laju sampling berkurang dan melakukan tahap konvolusi dan penyatuan maks.  Kemudian tahap normalisasi dari tiga bagian terjadi dan pada akhirnya mereka digabungkan dengan lapisan linier dengan normalisasi selanjutnya. <br><br><h3>  Formasi Triplet </h3><br>  Ada beberapa cara untuk membuat file triplet, misalnya, gunakan penilaian pakar.  Tetapi artikel ini akan menggunakan algoritma berikut: <br><br><ol><li>  Setiap gambar di kelas membentuk gambar permintaan. </li><li>  Setiap gambar, kecuali untuk gambar permintaan, akan membentuk gambar positif.  Tetapi Anda dapat membatasi jumlah gambar positif untuk setiap permintaan gambar </li><li>  Gambar negatif dipilih secara acak dari kelas mana pun yang bukan kelas gambar permintaan </li></ol><br><h3>  Fungsi kerugian triplet </h3><br>  Tujuannya adalah untuk melatih fungsi yang menetapkan jarak kecil untuk gambar yang paling mirip dan yang besar untuk yang berbeda.  Ini dapat dinyatakan sebagai: <br><img src="https://cdn-images-1.medium.com/max/1000/0*kC_DghyAeP7ulsGL." alt="gambar"><br>  Di mana <b>l</b> adalah koefisien kehilangan untuk kembar tiga, <b>g</b> adalah koefisien kesenjangan antara jarak antara dua pasang gambar: ( <math> </math> $ inline $ p_i $ inline $   , <math> </math> $ inline $ p_i ^ + $ inline $   ) dan ( <math> </math> $ inline $ p_i $ inline $   , <math> </math> $ inline $ p_i ^ - $ inline $   ), <b>fungsi f</b> - embedding yang menampilkan gambar dalam vektor, <math> </math> $ inline $ p_i $ inline $   Apakah gambar permintaan, <math> </math> $ inline $ p_i ^ + $ inline $   Adalah citra positif, <math> </math> $ inline $ p_i ^ - $ inline $   Adalah gambar negatif, dan <b>D</b> adalah jarak Euclidean antara dua titik Euclidean. <br><br><h3>  Implementasi Algoritma Deep Ranking </h3><br>  Implementasi dengan Keras. <br><br>  Tiga jaringan paralel digunakan untuk kueri, citra positif dan negatif. <br><br>  Ada tiga bagian utama dalam implementasi, yaitu: <br><br><ol><li>  Implementasi tiga jaringan saraf multiskala paralel </li><li>  Implementasi fungsi kerugian </li><li>  Generasi triplet </li></ol><br>  Mempelajari tiga jaringan paralel dalam akan menghabiskan banyak sumber daya memori.  Alih-alih tiga jaringan paralel dalam yang menerima gambar permintaan, gambar positif dan negatif, gambar-gambar ini akan dimasukkan secara berurutan ke satu jaringan saraf yang dalam pada input dari jaringan saraf.  Tensor yang ditransfer ke lapisan kehilangan akan berisi lampiran gambar di setiap baris.  Setiap baris sesuai dengan setiap gambar input dalam suatu paket.  Karena gambar permintaan, gambar positif dan gambar negatif secara berurutan ditransmisikan, baris pertama akan sesuai dengan gambar permintaan, yang kedua ke gambar positif, dan yang ketiga ke gambar negatif, dan kemudian diulang sampai akhir paket.  Dengan demikian, layer peringkat menerima embedding semua gambar.  Setelah itu, fungsi kerugian dihitung. <br><br>  Untuk mengimplementasikan layer peringkat, kita perlu menulis fungsi kerugian kita sendiri, yang akan menghitung jarak Euclidean antara gambar permintaan dan gambar positif, serta jarak Euclidean antara gambar permintaan dan gambar negatif. <br><br><div class="spoiler">  <b class="spoiler_title">Implementasi fungsi perhitungan kerugian</b> <div class="spoiler_text"><pre><code class="python hljs">_EPSILON = K.epsilon() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_loss_tensor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_true, y_pred)</span></span></span><span class="hljs-function">:</span></span> y_pred = K.clip(y_pred, _EPSILON, <span class="hljs-number"><span class="hljs-number">1.0</span></span>-_EPSILON) loss = tf.convert_to_tensor(<span class="hljs-number"><span class="hljs-number">0</span></span>,dtype=tf.float32) <span class="hljs-comment"><span class="hljs-comment"># initialise the loss variable to zero g = tf.constant(1.0, shape=[1], dtype=tf.float32) # set the value for constant 'g' for i in range(0,batch_size,3): try: q_embedding = y_pred[i+0] # procure the embedding for query image p_embedding = y_pred[i+1] # procure the embedding for positive image n_embedding = y_pred[i+2] # procure the embedding for negative image D_q_p = K.sqrt(K.sum((q_embedding - p_embedding)**2)) # calculate the euclidean distance between query image and positive image D_q_n = K.sqrt(K.sum((q_embedding - n_embedding)**2)) # calculate the euclidean distance between query image and negative image loss = (loss + g + D_q_p - D_q_n ) # accumulate the loss for each triplet except: continue loss = loss/(batch_size/3) # Average out the loss zero = tf.constant(0.0, shape=[1], dtype=tf.float32) return tf.maximum(loss,zero)</span></span></code> </pre> <br></div></div><br>  Ukuran paket harus selalu kelipatan 3. Karena triplet berisi 3 gambar dan gambar triplet ditransmisikan secara berurutan (kami mengirim setiap gambar ke jaringan saraf yang dalam secara berurutan) <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sisa kode ada di sini</a> <br><br><div class="spoiler">  <b class="spoiler_title">Referensi</b> <div class="spoiler_text">  [1] Pengakuan Objek dari Fitur Invariant Skala Lokal- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.cs.ubc.ca/~lowe/papers/iccv99.pdf</a> <br><br>  [2] Histogram Gradien Berorientasi untuk Deteksi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Manusia- courses.engr.illinois.edu/ece420/fa2017/hog_for_human_detection.pdf</a> <br><br>  [3] Mempelajari Kesamaan Gambar Butiran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halus</a> dengan Ranking <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tinggi- static.googleusercontent.com/media/research.google.com/en//pubs/archive/42945.pdf</a> <br><br>  [4] ImageNet Klasifikasi dengan Neural Networks Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">convolutional- makalah.nips.cc/paper/4824-imagenet-klasifikasi-dengan-deep-convolutional-neural-networks.pdf</a> <br><br>  [5] Putus Sekolah: Cara Sederhana untuk Mencegah Jaringan Saraf Tiruan dari Overfitting- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.cs.toronto.edu/~hinton/absps/JMLRdropout.pdf</a> <br><br>  [6] ImageNet: Basis Data Gambar Hirarki Skala Besar- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">www.image-net.org/papers/imagenet_cvpr09.pdf</a> <br><br>  [7] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Querying</a> Gambar Fast Multiresolution.g.washington.edu/projects/query/mrquery.pdf <br><br>  [8] Pengambilan Gambar Skala Besar dengan Vektor Fisher Terkompresi- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.401.9140&amp;rep=rep1&amp;type=pdf</a> <br><br>  [9] Melampaui Kantung Fitur: Pencocokan Piramida Spasial untuk Mengenali Kategori Pemandangan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Alam- ieeexplore.ieee.org/document/1641019</a> <br><br>  [10] Pengambilan Sampel yang Konsisten, Sketsa Tertimbang, dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">L1- static.googleusercontent.com/media/research.google.com/id/pubs/archive/36928.pdf</a> <br><br>  [11] Pembelajaran online skala besar tentang kemiripan gambar melalui pemeringkatan- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jmlr.csail.mit.edu/papers/volume11/chechik10a/chechik10a.pdf</a> <br><br>  [12] Mempelajari Kesamaan Gambar Butiran <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Halus</a> dengan Ranking <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tinggi- users.eecs.northwestern.edu/~jwa368/pdfs/deep_ranking.pdf</a> <br><br>  [13] Kesamaan Gambar menggunakan Deep Ranking- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">medium.com/@akarshzingade/image-similarity-using-deep-ranking-c1bd83855978</a> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457928/">https://habr.com/ru/post/id457928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457906/index.html">Dokter percaya bahwa dalam waktu dekat, perangkat pembuat vaksin akan muncul di rumah dan apotek</a></li>
<li><a href="../id457910/index.html">WebFPGA - Pengembangan Verilog di browser</a></li>
<li><a href="../id457916/index.html">Solusi tugas WorldSkills dari modul Network dalam kompetensi "CCA". Bagian 2 - Pengaturan Dasar</a></li>
<li><a href="../id457920/index.html">Jet world: buka akses gratis ke laporan konferensi Joker 2018 + ulasan tentang sepuluh besar</a></li>
<li><a href="../id457926/index.html">Perbandingan Sertifikasi Agile, Bagian 1 - ICAgile, Scrum.org, ScrumAlliance dan PMI</a></li>
<li><a href="../id457930/index.html">Pengetikan dinamis yang aman secara statis ala Python</a></li>
<li><a href="../id457932/index.html">Analisis kontes Bypass IDS di Positive Hack Days 9</a></li>
<li><a href="../id457936/index.html">Kami mengundang Anda ke konferensi Zabbix pertama di Rusia</a></li>
<li><a href="../id457940/index.html">Cara mengintip ke pihak lawan</a></li>
<li><a href="../id457942/index.html">Apa yang saya pelajari tentang pengoptimalan dengan Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>