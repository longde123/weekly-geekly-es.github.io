<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📟 🕜 🔁 Apakah Android memimpikan punk listrik? Bagaimana saya mengajar jaringan saraf untuk menulis musik 👩🏾‍🤝‍👨🏿 🏅 💗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam kursus pembelajaran mesin di Artezio, saya bertemu dengan model pembelajaran yang bisa membuat musik. Musik adalah bagian penting dalam hidup sa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apakah Android memimpikan punk listrik? Bagaimana saya mengajar jaringan saraf untuk menulis musik</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/439546/">  Dalam kursus pembelajaran mesin di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artezio,</a> saya bertemu dengan model pembelajaran yang bisa membuat musik.  Musik adalah bagian penting dalam hidup saya, selama bertahun-tahun saya bermain dalam kelompok (punk rock, reggae, hip-hop, rock, dll.) Dan saya adalah pendengar yang fanatik. <br><br>  Sayangnya, banyak kelompok, yang mana saya adalah penggemar berat di masa muda saya, bubar karena berbagai alasan.  Atau mereka tidak putus, tetapi apa yang mereka rekam sekarang ... secara umum, akan lebih baik jika mereka putus. <br><br>  Saya ingin tahu apakah sekarang ada model siap pakai yang dapat belajar di trek salah satu grup favorit saya dan membuat komposisi yang sama.  Karena musisi sendiri tidak lagi sangat sukses, mungkin jaringan saraf dapat menangani mereka? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/72f/844/01f/72f84401f2af035271021780fc848fe8.png"></div>  <a href="">Sumber</a> <br><a name="habracut"></a><br>  Mempelajari model yang sudah jadi, saya dengan cepat menemukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel seperti itu</a> dengan ikhtisar dari enam opsi yang paling terkenal.  Ini tentu saja tentang format musik digital.  Dapat dilihat dari artikel bahwa dua pendekatan utama untuk generasi musik dapat dibedakan: berdasarkan aliran audio digital (suara yang kita dengar dari speaker - audio mentah, file wav) dan berdasarkan bekerja dengan MIDI (notasi musik). <br><br>  Saya menjatuhkan opsi dengan audio mentah, dan itulah sebabnya. <br><br><ul><li>  Hasilnya tidak mengesankan - penggunaan model seperti itu untuk musik polifonik memberikan hasil yang sangat spesifik.  Ini tidak biasa, Anda dapat membuat lukisan yang menarik, tetapi tidak cocok untuk tujuan saya: kedengarannya aneh, tapi saya ingin mendengar sesuatu yang mirip dengan aslinya. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d9/229/364/5d9229364d98bee837d9bcf7cb3e1bac.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber</a> <br><br>  Contoh yang bagus dengan musik piano: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Dan dengan musik orkestra atau rock, itu terdengar jauh lebih aneh: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Di sini orang-orang mencoba memproses Black Metal dan tidak hanya dalam audio mentah. <br><br><ul><li> Dalam komposisi band-band favorit saya, berbagai instrumen suara - vokal, drum, bass, gitar, synthesizer.  Setiap instrumen berbunyi bersama dengan yang lainnya.  Saya mencari model yang akan bertindak dengan cara yang sama, yaitu, akan bekerja tidak hanya dengan instrumen individu, tetapi juga memperhitungkan suara bersama mereka. <br><br>  Ketika seorang musisi perlu mempelajari bagian dari instrumen dengan telinga, ia mencoba untuk mengisolasi instrumen yang ia butuhkan dari keseluruhan aliran suara.  Kemudian ia mengulangi suaranya sampai ia mencapai hasil yang sama.  Tugasnya bukan yang termudah bahkan untuk orang dengan pendengaran yang baik - musik bisa sulit, instrumen "bergabung". </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dcd/5d1/8eb/dcd5d18eb46a6d383ffbc378d3fc7adb.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber</a> <br><br>  Saya menemukan alat perangkat lunak yang mencoba memecahkan masalah serupa.  Ada beberapa proyek yang melakukan ini berdasarkan pembelajaran mesin.  Misalnya, ketika saya sedang menulis teks ini, Magenta merilis instrumen baru, Wave2Midi2Wave, yang mampu "melepas" catatan piano dan secara realistis "memainkannya kembali".  Ada alat lain, meskipun secara umum tugas ini belum diselesaikan. <br><br>  Jadi, untuk mempelajari bagian dari sebuah karya, paling mudah untuk membuat catatan yang sudah jadi.  Ini cara termudah.  Adalah logis untuk mengasumsikan bahwa akan lebih mudah bagi jaringan saraf untuk bekerja dengan representasi musik dari musik, di mana setiap instrumen diwakili oleh trek yang terpisah. <br><br><ul><li>  Dalam hal audio mentah, hasilnya adalah campuran dari semua instrumen, bagian tidak dapat secara individual dimuat ke sequencer (editor audio), dikoreksi, mengubah suara, dan sebagainya.  Saya cukup senang jika jaringan saraf membuat hit, tetapi membuat kesalahan dalam beberapa catatan - ketika bekerja dengan catatan, saya dapat dengan mudah memperbaikinya, dengan audio mentah ini hampir mustahil. </li></ul><br>  Notasi musik juga memiliki kelemahan.  Itu tidak memperhitungkan massa nuansa kinerja.  Ketika datang ke MIDI, tidak selalu diketahui siapa file MIDI ini, seberapa dekat mereka dengan aslinya.  Mungkin kompiler hanya membuat kesalahan, karena itu bukan tugas yang mudah untuk "menghapus" permainan. <br><br>  Ketika bekerja dengan catatan polifonik, perlu untuk memastikan bahwa instrumen setiap saat selaras.  Selain itu, penting bahwa urutan momen ini logis dari sudut pandang manusia. <br><br>  Ternyata tidak ada begitu banyak solusi yang dapat bekerja dengan catatan, dan bahkan tidak dengan satu instrumen, tetapi dengan beberapa suara pada saat yang sama.  Awalnya saya kehilangan pandangan tentang proyek Magenta dari Google TensorFlow, karena itu digambarkan sebagai "bukan polifonik."  Pada saat itu, perpustakaan MusicVAE belum diterbitkan, jadi saya memilih proyek BachBot. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b7/fef/993/2b7fef9935afb9f001bf954dd0fc097b.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber</a> <br><br><h2>  Bachbot </h2><br>  Ternyata solusi untuk masalah saya sudah ada.  Dengarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Selamat Ulang Tahun yang</a> disetel oleh BachBot dan terdengar seperti nyanyian Bach. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Paduan suara adalah musik tertentu, terdiri dari empat suara: sopran, biola, tenor dan bass.  Setiap instrumen dapat menghasilkan satu not pada satu waktu.  Di sini Anda harus masuk sedikit ke dalam musik.  Kami akan berbicara tentang musik dalam dimensi empat perempat. <br><br>  Dalam notasi musik, not memiliki dua indikator - pitch (to, re, mi ...) dan durasi (integer, setengah, delapan, keenam belas, tiga puluh detik).  Dengan demikian, seluruh nada bertahan seluruh ketukan, dua setengah catatan seluruh ketukan, enam belas enam belas ketukan seluruh. <br><br>  Dalam mempersiapkan data untuk pelatihan jaringan saraf, pencipta BachBot memperhitungkan hal-hal berikut: <br><br><ul><li>  agar tidak merobohkan model dengan akord dari kunci yang berbeda, yang bersama-sama tidak akan terdengar harmonis, semua paduan suara mengarah ke kunci yang sama; </li><li>  jaringan saraf harus dilengkapi dengan nilai-nilai diskrit, dan musik adalah proses yang berkelanjutan, yang berarti bahwa diskritisasi diperlukan.  Satu instrumen dapat memainkan nada yang panjang dan utuh, dan yang lain pada saat yang sama beberapa keenam belas.  Untuk mengatasi masalah ini, semua nada dipecah menjadi enam belas.  Dengan kata lain, jika not keempat muncul dalam note, ia muncul empat kali sebagai input keenambelas yang sama - pertama kali dengan bendera yang ditekan, dan tiga kali berikutnya dengan bendera yang diteruskan. </li></ul><br>  Format data adalah sebagai berikut - (nada, nada baru | kelanjutan bunyi not lama) <br><br>  (56, Benar) # Soprano <br>  (52, Salah) # Alt <br>  (47, Salah) # Tenor <br>  (38, Salah) # Bass <br><br>  Setelah mengusir semua paduan suara dari dataset musik21 populer melalui prosedur ini, penulis BachBot menemukan bahwa tidak banyak kombinasi kombinasi dari empat catatan dalam paduan suara (jika Anda membawa mereka ke kunci yang sama), meskipun tampaknya berpotensi 128 x 128 x 128 x 128 (tingkat pitch 128 digunakan dalam midi).  Ukuran kamus bersyarat tidak sebesar itu.  Ini adalah komentar yang aneh, kami akan kembali ketika kami berbicara tentang MusicVAE.  Jadi, kita memiliki paduan suara Bach direkam dalam bentuk urutan merangkak seperti itu. <br><br>  Sering dikatakan bahwa musik adalah bahasa.  Oleh karena itu, tidak mengherankan bahwa pencipta BachBot menerapkan teknologi populer di NLP (Natural Language Processing) untuk musik, yaitu mereka melatih <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jaringan LSTM</a> pada dataset yang dihasilkan dan mendapatkan model yang dapat melengkapi satu atau beberapa instrumen atau bahkan membuat paduan suara dari awal.  Artinya, Anda mengatur alt, tenor dan bass, dan BachBot menambahkan melodi sopran untuk Anda, dan bersama-sama itu terdengar seperti Bach. <br><br>  Ini adalah contoh lain: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Kedengarannya bagus! <br><br>  Anda dapat menonton <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video ini</a> lebih detail.  Ada analitik yang menarik di sana, yang dikumpulkan berdasarkan survei di situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">bachbot.com</a> <br><br>  Pengguna didorong untuk membedakan paduan suara Bach asli dari musik yang diciptakan oleh jaringan saraf.  Hasil menyebutkan bahwa jika jaringan saraf menciptakan bagian bass untuk semua pengaturan lain, maka hanya setengah dari pengguna dapat membedakan paduan suara yang dibuat oleh jaringan saraf dari yang asli.  Lucu, tetapi kebanyakan ahli musik bingung.  Dengan alat lain, segalanya sedikit lebih baik.  Kedengarannya menghina bagi saya sebagai pemain bass - pemain biola tampaknya diperlukan untuk saat ini, tetapi sudah waktunya bagi pemain bass untuk memoles keterampilan drywall. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/701/bb9/cc6/701bb9cc6cdff8a20f0ede768324cd81.png"></div><br><h1>  Magenta </h1><br>  Mempelajari BachBot, saya menemukan bahwa itu termasuk dalam proyek Magenta (Google TensorFlow).  Saya memutuskan untuk melihat lebih dekat dan menemukan bahwa dalam kerangka Magenta beberapa model menarik telah dikembangkan, salah satunya hanya dikhususkan untuk bekerja dengan komposisi polifonik.  Magenta membuat alat luar biasa dan bahkan telah meluncurkan plugin untuk editor audio Ableton, yang sangat bagus dalam hal aplikasi untuk musisi. <br><br>  Favorit saya: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">beat blender</a> (membuat variasi pada bagian drum yang diberikan) dan <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">loop laten</a> (menciptakan transisi di antara melodi). <br><br>  Gagasan utama alat MusicVAE, yang saya putuskan untuk digunakan, adalah bahwa pencipta mencoba untuk menggabungkan model dan variational auto encoder - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VAE</a> pada jaringan LSTM. <br><br>  Jika Anda ingat, dalam percakapan tentang Bach Bot, kami perhatikan bahwa kamus akor tidak terdiri dari elemen 128x128x128x128, tetapi lebih sedikit.  Pembuat MusicVAE juga memperhatikan ini dan memutuskan untuk menggunakan ruang laten terkompresi. <br><br>  Ngomong-ngomong, yang khas, untuk melatih MusicVAE, Anda tidak perlu menerjemahkan sumber menjadi satu kunci.  Transposing tidak perlu, saya kira, karena kode sumber masih akan dikonversi oleh auto-encoder dan informasi nada suara akan hilang. <br><br>  VAE dirancang sedemikian rupa sehingga memungkinkan decoder untuk secara efisien memulihkan data dari dataset pelatihan, sementara ruang laten mewakili distribusi yang halus dari fitur-fitur data input. <br><br>  Ini adalah poin yang sangat penting.  Hal ini memungkinkan untuk membuat objek serupa dan melakukan interpolasi yang bermakna secara logis.  Di ruang asli, kami memiliki varian 128x128x128x128 yang menggabungkan suara empat not, tetapi pada kenyataannya, tidak semua digunakan (terdengar bagus di telinga manusia).  Encoder otomatis variasional mengubah mereka menjadi set yang jauh lebih kecil di ruang tersembunyi, dan Anda dapat menghasilkan operasi matematika di ruang ini yang memiliki makna yang bermakna dari sudut pandang ruang asli, misalnya, titik tetangga akan menjadi fragmen musik yang serupa. <br><br>  Contoh yang baik adalah bagaimana menambahkan kacamata ke foto menggunakan auto encoder di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini</a> .  Anda dapat membaca lebih lanjut tentang cara kerja Muisc VAE di situs web resmi Magenta di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini</a> , ada juga tautan ke arXiv. <br><br>  Jadi, instrumen dipilih, tetap menggunakannya dengan tujuan asli saya - untuk membuat musik baru berdasarkan trek yang sudah direkam dan mengevaluasi berapa banyak ini akan terdengar seperti suara grup asli.  Magenta tidak bekerja pada laptop Windows saya dan untuk waktu yang lama telah menghitung model tanpa GPU.  Setelah menderita dengan mesin virtual, wadah buruh pelabuhan, dll., Saya memutuskan untuk menggunakan cloud. <br><br>  Google menyediakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">notebook colab</a> tempat Anda dapat menikmati model Magenta.  Namun, dalam kasus saya, itu tidak mungkin untuk melatih model, proses macet sepanjang waktu karena berbagai pembatasan - jumlah memori yang tersedia, batas waktu mati, kurangnya garis perintah normal dan hak root untuk menginstal perpustakaan yang diperlukan.  Secara hipotesis, bahkan ada kesempatan untuk menggunakan GPU, tetapi, saya ulangi, saya tidak bisa menginstal model dan memulainya. <br><br>  Saya berpikir untuk membeli server dan, oh, semoga berhasil, saya menemukan bahwa Google menyediakan layanan Google Cloud cloud dengan GPU, dan bahkan ada masa percobaan gratis.  Benar, ternyata di Rusia mereka secara resmi hanya tersedia untuk badan hukum, tetapi mereka membiarkan saya masuk dalam mode uji coba gratis. <br><br>  Jadi, saya membuat mesin virtual di GoogleCloud dengan satu modul GPU, menemukan di internet beberapa file midi dari salah satu grup favorit saya dan mengunggahnya ke folder midi di cloud. <br><br>  Instal Magenta: <br><br><pre><code class="plaintext hljs">pip install magenta-gpu</code> </pre> <br>  Sangat menyenangkan bahwa semua ini dapat diinstal dengan satu tim, saya pikir, tapi ... kesalahan.  Sepertinya Anda harus menyentuh baris perintah, maaf. <br><br>  Kami melihat kesalahan: perpustakaan rtmidi tidak diinstal pada mesin cloud, tanpanya Magenta tidak berfungsi. <br><br>  Dan itu, pada gilirannya, lumpuh karena kurangnya paket libasound2-dev, dan saya juga tidak memiliki hak akses root. <br><br>  Tidak begitu menakutkan: <br><br><pre> <code class="plaintext hljs">sudo su root apt-get install libasound2-dev</code> </pre> <br>  Hore, sekarang instalasi pip rtmidi berjalan tanpa kesalahan, seperti halnya instalasi pip magenta-gpu. <br><br>  Kami menemukan di Internet dan mengunduh file sumber di folder midi.  Mereka terdengar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">seperti ini</a> . <br><br>  Kami mengonversi midi ke format data yang sudah dapat digunakan jaringan: <br><br><pre> <code class="plaintext hljs">convert_dir_to_note_sequences \ --input_dir=midi\ --hparams=sampling_rate=1000.0\ --output_file=notesequences_R2Midi.tfrecord \ --log=DEBUG \ --recursive</code> </pre> <br>  dan mulai pelatihan <br><br><pre> <code class="plaintext hljs">music_vae_train \ --config=hier-multiperf_vel_1bar_med \ --run_dir=/home/RNCDtrain/ \ --num_steps=1 \ --checkpoints_to_keep=2 \ --hparams=sampling_rate=1000.0 \ --hparams=batch_size=32,learning_rate=0.0005 \ --num_steps=5000 \ --mode=train \ --examples_path=notesequences_R2Midi.tfrecord</code> </pre> <br>  Lagi-lagi masalahnya.  Tensorflow lumpuh dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kesalahan</a> - tidak dapat menemukan perpustakaan, untungnya, beberapa hari yang lalu seseorang telah menggambarkan kesalahan ini, dan sumber Python dapat diperbaiki. <br><br>  Kami naik ke folder <br><br><pre> <code class="plaintext hljs">/usr/local/lib/python2.7/dist-packages/tensorflow_probability/python/distributions#</code> </pre> <br>  dan ganti baris impor, seperti yang dijelaskan dalam bug di github. <br><br>  Luncurkan music_vae_train lagi dan ... Hore!  Pelatihan telah berakhir! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b5/46c/498/0b546c498699b6d4fbca1b95af41bd51.jpg"></div>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Sumber</a> <br><br>  hier-multiperf_vel_1bar_med - Saya menggunakan model polifonik (hingga 8 instrumen) yang masing-masing menghasilkan satu ukuran. <br><br>  Parameter penting adalah checkpoints_to_keep = 2, kapasitas disk di awan terbatas, salah satu masalahnya adalah bahwa proses pembelajaran telah terputus sepanjang waktu karena overflow disk, pos pemeriksaan cukup berat - masing-masing 0,6-1 gigabytes. <br><br>  Di suatu tempat di 5000 era, kesalahan mulai melonjak sekitar 40-70.  Saya tidak tahu apakah ini hasil yang baik atau tidak, tetapi tampaknya dengan sedikit data pelatihan, jaringan akan dilatih kembali lebih lanjut dan tidak ada gunanya membuang waktu GPU sehingga dengan ramah disediakan kepada saya secara gratis di pusat data Google.  Kami beralih ke generasi. <br><br>  Untuk beberapa alasan, ketika menginstal Magenta tidak menginstal file generasi itu sendiri, saya harus meletakkannya dengan tangan saya di folder ke yang lain: <br><br><pre> <code class="plaintext hljs">curl -o music_vae_generate.py https://raw.githubusercontent.com/tensorflow/magenta/master/magenta/models/music_vae/music_vae_generate.py</code> </pre> <br>  Akhirnya, buat fragmen: <br><br><pre> <code class="plaintext hljs">music_vae_generate --config=hier-multiperf_vel_1bar_med --checkpoint_file=/home/RNCDtrain/train/ --mode=sample --num_outputs=32 --output_dir=/home/andrey_shagal/  --temperature=0.3</code> </pre> <br>  konfigurasi - tipe pembangkitan, persis sama seperti saat pelatihan - multitrack, 1 jam <br>  checkpoint_file - folder tempat mendapatkan file terakhir dengan model yang terlatih <br>  mode - sample - buat sampel (ada pilihan lain interpolasi - buat ukuran transisi antara dua ukuran) <br>  num_outputs - berapa banyak karya yang akan dihasilkan <br>  suhu - parameter pengacakan saat membuat sampel, dari 0 hingga 1. Pada 0, hasilnya lebih mudah diprediksi, lebih dekat ke sumbernya, pada 1 - Saya seorang seniman, seperti yang saya lihat. <br><br>  Pada output, saya mendapatkan 32 fragmen per ukuran.  Setelah menyalakan generator beberapa kali, saya mendengarkan fragmen dan merekatkan yang terbaik dalam satu lagu: neurancid.mp3. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Jadi, "Saya menghabiskan musim panas ini."  Saya puas.  Tentu saja, radio "Maksimum" tidak mungkin membawanya ke daftar putar, tetapi jika Anda mendengarkan, itu benar-benar terlihat seperti grup Rancid yang asli.  Suara, tentu saja, berbeda dari rekaman studio, tetapi kami terutama bekerja dengan catatan.  Selanjutnya, ada ruang untuk tindakan - proses midi dengan berbagai plug-in VST, rekam ulang bagian-bagian dengan musisi live atau tunggu sampai orang-orang dari Wave2Midi2Wave mendapatkan gitar dengan kelebihan beban. <br><br>  Tidak ada keluhan tentang catatan tersebut.  Idealnya, saya ingin jaringan saraf untuk membuat karya besar atau setidaknya hit untuk top 100 Billboard. Tapi sementara dia belajar bagaimana <s>menggunakan alkohol dan obat-obatan</s> dari rocker <s>,</s> untuk memainkan seluruh ketukan satu nada dalam delapan (pada kenyataannya, tidak hanya, tetapi saya bangga dengan kebapakannya. transisi dari 20 hingga 22 detik).  Ada alasan untuk ini, dan lebih banyak tentang mereka. <br><br><ol><li>  Sejumlah kecil data. </li><li>  Model yang saya gunakan menghasilkan fragmen dalam ukuran satu ukuran.  Dalam punk rock, sebagai suatu peraturan, tidak banyak peristiwa terjadi dalam satu ukuran. </li><li>  Transisi dan melodi yang menarik hanya bekerja dengan latar nada riff, transisi dari akor ke akor, dan auto-encoder, bersama dengan sejumlah kecil data, tampaknya telah kehilangan sebagian besar nada, dan bahkan mengurangi semua riff menjadi dua konsonan dan beberapa akor atonal.  Kita perlu mencoba model yang bekerja dengan 16 ukuran, sangat disayangkan bahwa hanya tiga suara yang tersedia di dalamnya. </li></ol><br>  Saya menghubungi para pengembang, mereka merekomendasikan untuk mencoba mengurangi dimensi ruang laten, karena mereka melatih jaringan mereka pada 200.000 trek, dan saya melatih pada 15. Saya tidak bisa mencapai efek yang terlihat dari mengurangi ruang-z, tetapi masih ada sesuatu yang perlu dikerjakan. <br><br>  By the way, monoton dan monoton jauh dari selalu minus.  Dari ritual perdukunan ke pesta teknologi, seperti yang Anda tahu, satu langkah.  Kita harus mencoba untuk melatih model pada sesuatu seperti ini - sambutan hangat, techno, dub, reggae, kontra hip-hop.  Tentunya, ada peluang untuk menciptakan sesuatu yang menyenangkan zombie.  Saya menemukan sekitar 20 lagu Bob Marley di midi dan, voila la, loop yang sangat bagus: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Di atas bagian midi direkam ulang dengan live bass dan gitar, diproses oleh synthesizer VST untuk membuat fragmen terdengar lebih segar.  Dalam yang asli, jaringan mengeluarkan not-not saja.  Jika Anda memainkannya dengan pemutar midi standar, kedengarannya seperti ini: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Tentunya, jika Anda membuat sejumlah gambar drum tematik dasar, mulai di beat blender + bagian dasar bass dan synths dengan loop laten (ada lebih banyak tentang mereka), sangat mungkin untuk menjalankan algoritma untuk radio techno yang akan terus membuat lagu baru atau bahkan satu trek tak berujung.  Buzz abadi! <br><br>  MusicVAE juga menyediakan kesempatan untuk melatih jaringan untuk menghasilkan fragmen trio 16-bar - drum, bass dan lead.  Cukup menarik juga.  Input data - file multitrack midi - sistem terbagi menjadi tiga kali lipat dalam semua kemungkinan kombinasi dan selanjutnya melatih model.  Jaringan seperti itu membutuhkan sumber daya yang jauh lebih banyak, tetapi hasilnya segera 16 siklus!  Tidak mungkin menolak.  Saya mencoba membayangkan bagaimana sebuah grup yang memainkan sesuatu antara Rancid dan NOFX dapat terdengar, memuat untuk pelatihan tentang jumlah trek yang sama dari setiap grup: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ada juga bagian midi yang direkam ulang gitar live.  Pemain midi standar seperti ini: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Menarik!  Ini jelas lebih baik daripada grup pertama saya!  Dan omong-omong, model yang sama ini memberi kita jazz gratis yang layak: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Masalah yang saya temui: <br><br><ol><li>  Kurangnya berdiri yang baik dan nyaman yang akan mengurangi waktu yang dibutuhkan untuk menunggu pelatihan.  Model ini hanya bekerja di bawah linux, pelatihannya panjang, tanpa GPU untuk waktu yang sangat lama, dan sepanjang waktu saya ingin mencoba mengubah parameter dan melihat apa yang terjadi.  Misalnya, server cloud dengan satu prosesor GPU 100 era untuk model "trio 16 siklus" dihitung selama 8 jam. </li><li>  Masalah pembelajaran mesin yang khas adalah kurangnya data.  Hanya 15 file midi - sangat kecil untuk memahami musik.  Jaringan saraf, tidak seperti saya di masa muda saya, tidak mendengarkan 6 album tengik, saya tidak pergi ke konser, hasil ini diperoleh dari 15 trek midi yang tidak diketahui oleh siapa pun yang jauh dari aslinya.  Sekarang, jika Anda tetap di sekitar gitaris dengan sensor dan mengambil setiap suara dari setiap nada ... Mari kita lihat bagaimana ide Wave2Midi2Wave berkembang.  Mungkin dalam beberapa tahun akan mungkin untuk menolak catatan dalam memecahkan masalah seperti itu. </li><li>  Musisi harus jatuh dengan jelas ke dalam ritme, tetapi tidak sempurna.  Di akhir pekan pertengahan, tidak ada dinamika dalam catatan (misalnya, dalam drum), mereka semua dilakukan pada volume yang sama, persis dalam satu klik (seperti yang dikatakan oleh para musisi, tepatnya dalam irama), bahkan jika Anda secara acak mendiversifikasikannya, musik mulai berbunyi lebih hidup dan lebih menyenangkan.  Sekali lagi, Wave2Midi2Wave sudah berurusan dengan masalah ini. </li></ol><br>  Sekarang Anda memiliki beberapa gagasan tentang kemungkinan AI dalam menciptakan musik dan preferensi musik saya.  Menurut Anda peran apa yang menunggu AI dalam proses kreatif di masa depan?  Dapatkah mesin menciptakan musik dengan pijakan yang sama atau bahkan lebih baik daripada manusia untuk menjadi asisten dalam proses kreatif?  Atau kecerdasan buatan akan menjadi terkenal di bidang musik hanya untuk kerajinan primitif. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id439546/">https://habr.com/ru/post/id439546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id439534/index.html">Pemrograman hasil dan penggunaan drone dalam produksi minyak - 10 kuliah dari konferensi GIS Tech Russia</a></li>
<li><a href="../id439538/index.html">Pemrograman Masyarakat</a></li>
<li><a href="../id439540/index.html">Etherblade.net - proyek opensource untuk membuat encapsulator lalu lintas ethernet di FPGA (bagian satu)</a></li>
<li><a href="../id439542/index.html">Nintendo memperjelas bahwa hanya pembajakan yang dapat menyimpan sejarah gim video</a></li>
<li><a href="../id439544/index.html">Koloni. Bab 24: Keberangkatan</a></li>
<li><a href="../id439550/index.html">Hackquest 2018. Hasil & Tulisan. Hari 1-3</a></li>
<li><a href="../id439552/index.html">Ekstensi Chrome berbahaya</a></li>
<li><a href="../id439556/index.html">TDMS Fairway. Metodologi PMBOK dan organisasi desain Rusia</a></li>
<li><a href="../id439558/index.html">Telepon lama baru. Temukan kembali telepon PSTN</a></li>
<li><a href="../id439560/index.html">Adaptor blockchain Ethereum untuk platform data IRIS InterSystems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>