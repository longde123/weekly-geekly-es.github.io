<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😟 👨‍🎤 🤟🏽 Téléchargement de contrôleurs sans utiliser de console Arduino IDE 🙇🏻 🚹 👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Présentation 

 Lorsque vous travaillez avec des contrôleurs d'un système distribué, vous devez souvent redémarrer les contrôleurs. L'utilisation de l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Téléchargement de contrôleurs sans utiliser de console Arduino IDE</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437360/">  <b>Présentation</b> <br><br>  Lorsque vous travaillez avec des contrôleurs d'un système distribué, vous devez souvent redémarrer les contrôleurs.  L'utilisation de la console Arduino IDE pour le redémarrage par le client n'est pas très pratique, car pour chaque type de contrôleur, il est nécessaire de configurer (ou vérifier) ​​le type de carte et les numéros de port COM, ce travail doit être effectué par du personnel familiarisé avec l'IDE, et tous les clients ne veulent pas savoir que le système est construit sur les contrôleurs Arduino. <br><br>  Dans ce travail, nous considérons les options de téléchargement des contrôleurs (Arduino sur Atmega328 et Atmega32u4 et un contrôleur Teensy compatible) dans des commandes distinctes et via un fichier de commandes, sans utiliser l'IDE. <br><a name="habracut"></a><br>  <b>Disposition des cartes de communication USB COM Arduino</b> <br><br>  En organisant le canal de communication série, les cartes Arduino peuvent être divisées en cartes avec un convertisseur USB-UART et en cartes avec des microcontrôleurs qui prennent en charge la communication USB sans convertisseurs externes.  Les premiers incluent Arduino UNO, Arduino NANO, Arduino Mini, Arduino UNO Ethernet, Arduino UNO WiFi cartes basées sur des microcontrôleurs <b>Atmega328</b> .  Les seconds sont les cartes Arduino Leonardo, Arduino Micro, Arduino Yun Mini, Arduino Industrial 101, Arduino Leonardo Ethernet avec contrôleurs <b>Atmega32u4</b> [1]. <br><br>  <b>Télécharger le contrôleur Arduino (Atmega328) avec avrdude.exe</b> <br><br>  Le téléchargement du fichier <b>hexadécimal</b> sur le contrôleur Arduino peut être fait avec <b>avrdude.exe</b> .  Ce programme fait partie du package de la console IDE, par exemple, Arduino version 1.8.5.  Le chargeur avrdude.exe est lancé par l'utilitaire <b>cmd</b> ou <b>invite de commande</b> , qui sont lancés comme illustré à la figure 1. <br><br><img src="https://habrastorage.org/webt/wl/ss/2z/wlss2zwbdi6n07hyhpnq0dil3cs.png"><br>  <i><b>Figure 1</b></i>  <i>Un exemple d'exécution de l'utilitaire d'invite de commandes.</i> <br><br>  Pour obtenir un exemple d'écriture d'une commande pour charger du code <b>hexadécimal</b> dans un contrôleur Arduino sur votre ordinateur, procédez comme suit. <br><br>  • Connectez Arduino <br>  • Téléchargez l'IDE Arduino <br>  • Sélectionnez un type de carte Arduino dans le menu&gt; Outils&gt; Carte&gt; <br>  • Sélectionnez le port COM sur la carte dans le menu&gt; Outils&gt; Port&gt; <br>  • Définissez le drapeau de téléchargement dans l'onglet Préférences: menu Arduino IDE&gt; Fichier&gt; Préférences&gt; Afficher la sortie détaillée pendant&gt; téléchargement <br>  • Menu Lancer&gt; Esquisse&gt; Télécharger <br>  • Une fois le téléchargement terminé, dans la fenêtre de sortie de la console Arduino IDE, recherchez la commande avec <b>avrdude</b> , elle ressemble, par exemple, à ceci: <br><br><pre><code class="dos hljs"><span class="hljs-function"><span class="hljs-function">C:\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Program</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Files</span></span></span><span class="hljs-function"> (</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x86</span></span></span><span class="hljs-function">)\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arduino</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hardware</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tools</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avr</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bin</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avrdude</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CC</span></span></span><span class="hljs-function">:\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Program</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Files</span></span></span><span class="hljs-function"> (</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x86</span></span></span><span class="hljs-function">)\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Arduino</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hardware</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tools</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avr</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">etc</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">avrdude.conf</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">v</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">patmega328p</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">carduino</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PCOM3</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">b115200</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">D</span></span></span><span class="hljs-function"> -</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Uflash:w</span></span></span><span class="hljs-function">:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">C</span></span></span><span class="hljs-function">:\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Users</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">user</span></span></span><span class="hljs-function">-2\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AppData</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Local</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Temp</span></span></span><span class="hljs-function">\</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">arduino_build_628118</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Blink.ino.hex:i</span></span></span></span></code> </pre> <br>  Pour exécuter la <b>commande avrdude</b> avec l'utilitaire d'invite de commandes, des guillemets doubles doivent être entrés dans la commande, comme illustré ci-dessous. <br><br><pre> <code class="dos hljs">"C:\Program Files (x86)\Arduino\hardware\tools\avr/bin/&lt;b&gt;avrdude&lt;/b&gt;" -"CC:\Program Files (x86)\Arduino\hardware\tools\avr/etc/avrdude.conf" -v -patmega328p -carduino -PCOM3 -b115200 -D -Uflash:w:C:\Users\user-<span class="hljs-number"><span class="hljs-number">2</span></span>\AppData\Local\Temp\arduino_build_628118/Blink.ino.hex:i</code> </pre> <br>  La commande ci-dessus peut être utilisée pour charger des programmes <b>hexadécimaux</b> dans un contrôleur Arduino avec une puce Atmega328 et un convertisseur USB-UART séparé.  Pour les contrôleurs avec Atmega32u4 qui prend en charge la communication USB sans convertisseur matériel, des étapes supplémentaires sont nécessaires pour exécuter la commande, qui sont décrites ci-dessous dans la section correspondante. <br><br>  Étant donné que le programme compilé - le fichier hex est stocké dans le dossier des fichiers temporaires pendant que la console IDE est ouverte (.. \ AppData \ Local \ Temp \ ..), il est préférable de copier le fichier hex dans un dossier séparé, copiez le chargeur de démarrage avrdude.exe et le fichier avrdude.conf là-bas . <br><br>  Après avoir déplacé les fichiers (figure 2), par exemple, vers le dossier C: \ ArdIDE, la commande de téléchargement avec les chemins d'accès aux fichiers mis à jour prend la forme, comme illustré à la figure 3. <br><br><img src="https://habrastorage.org/webt/3y/a9/qu/3ya9quyk39sfe7b4wrimctn1oj4.png" alt="image"><br>  <i><b>Figure 2</b></i>  <i>Placer le chargeur de démarrage et le fichier hexadécimal dans un dossier séparé.</i> <br><br><img src="https://habrastorage.org/webt/db/z8/o4/dbz8o4hd_gxxctq5eylpqfy5fpi.png" alt="image"><br>  <i><b>Figure 3</b></i>  <i>Lancement du chargeur de démarrage avrdude avec l'invite de commande.</i> <br><br>  <b>Chargement du contrôleur Teensy avec le chargeur teensy_post_compile.exe</b> <br>  Après avoir installé le logiciel <b>Teensyduino des</b> contrôleurs <b>Teensy</b> , les contrôleurs correspondants apparaissent dans la liste des périphériques de la console Arduino IDE (voir Figure 4). <br><br><img src="https://habrastorage.org/webt/d1/i9/fm/d1i9fmfdets2d189mht-nin6fuk.png" alt="image"><br>  <i><b>Figure 4</b></i>  <i>Liste des contrôleurs Teensy dans la console Arduino IDE.</i> <br><br>  Un exemple d'écriture d'une commande pour charger du code hexadécimal dans un contrôleur <b>Teensy</b> peut être obtenu en suivant la séquence ci-dessus pour les contrôleurs Arduino.  Dans la fenêtre de sortie, vous devez trouver l'exemple de chargeur de démarrage - la commande <b>teensy_post_compile</b> .  Pour le téléchargement hors ligne, vous pouvez copier les fichiers nécessaires dans un dossier séparé, par exemple, comme indiqué ci-dessous.  Les fichiers teensy_post_compile, teensy_post_compile.exe et teensy.exe peuvent être extraits du package Arduino complété par l'application Teensy. <br><br><img src="https://habrastorage.org/webt/vl/gg/0l/vlgg0lyhdxajm9sao25nkywshgw.png" alt="image"><br><br>  Vous trouverez ci-dessous des exemples de commandes de téléchargement de fichiers hexadécimaux Blink_1.ino et Blink_2.ino vers deux contrôleurs Teensy connectés à un ordinateur via un concentrateur USB. <br><br><pre> <code class="dos hljs">"C:\TnsIDE/teensy_post_compile" -file=Blink_2.ino "-<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=C:\TnsIDE" "-tools=C:\TnsIDE" -board=TEENSY31 -reboot -port=usb:<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>A0000/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span> -portlabel=COM19 (Teensy <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) Serial -portprotocol=Teensy</code> </pre> <br><pre> <code class="dos hljs">"C:\TnsIDE/teensy_post_compile" -file=Blink_1.ino "-<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=C:\TnsIDE" "-tools=C:\TnsIDE" -board=TEENSY31 -reboot -port=usb:<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>A0000/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span> -portlabel=COM23 (Teensy <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) Serial -portprotocol=Teensy</code> </pre> <br>  Dans ces entrées, les ports concentrateurs sont désignés comme usb: 0 / 1A0000 / 0/1/1/1 et usb: 0 / 1A0000 / 0/1/1/2. <br><br>  <b>Télécharger le contrôleur Arduino (Atmega32U4) avec avrdude.exe</b> <br><br>  Les cartes Arduino UNO, Leonardo, Micro, etc. sont basées sur le microcontrôleur ATmega32U4.  Ce microcontrôleur possède un canal USB intégré (USB 2.0 pleine vitesse), par conséquent, le téléchargement de programmes dans celui-ci diffère du chargement envisagé dans les microcontrôleurs ATmega328 via un convertisseur USB-UART supplémentaire. <br><br>  Le numéro de port COM du contrôleur Arduino est répertorié dans la liste du gestionnaire de périphériques, par exemple. <br><br><img src="https://habrastorage.org/webt/is/1f/l1/is1fl1gua3m9pqumjbm_ewjcznc.png" alt="image"><br><br>  Lorsque le port COM virtuel du contrôleur Arduino pro Micro est ouvert (avec n'importe quelle fréquence de transmission de 1200, ..., 9600, ... 115200 bauds), le contrôleur est réinitialisé et le programme utilisateur est lancé.  Dans l'environnement MATLAB, le programme de création de port virtuel est le suivant. <br><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% create port. s=serial('COM15','Baudrate',9600); % 115200 fopen(s);</span></span></code> </pre> <br>  Après avoir fermé le port COM virtuel avec une fréquence non égale à 1200 bauds, par exemple, comme indiqué ci-dessous <br><br><pre> <code class="matlab hljs">fclose(s); delete(s); clear s</code> </pre> <br>  Le programme utilisateur du contrôleur est exécuté. <br><br>  La réinitialisation du contrôleur et le démarrage du chargeur de démarrage du contrôleur sont effectués après l'ouverture et la fermeture du port COM avec une fréquence de 12 000 bauds par l'environnement externe, par exemple MATLAB, comme illustré ci-dessous. <br><br><pre> <code class="matlab hljs"><span class="hljs-comment"><span class="hljs-comment">% create port. s=serial('COM15','Baudrate',1200); % 115200 fopen(s); pause(1.5); fclose(s); delete(s); clear s</span></span></code> </pre><br>  La même opération peut être effectuée avec la commande de <b>mode</b> , comme le montre la figure 5. <br><br><img src="https://habrastorage.org/webt/-h/ur/s6/-hurs6ijb6cerpwn77rcapxe0ja.png" alt="image"><br>  <i><b>Figure 5</b></i>  <i>Exécution de la commande de mode dans l'invite de commandes.</i>  <i>La commande définit la fréquence de transmission pour le port COM15 sur 1200 bauds, ce qui provoque la réinitialisation du contrôleur et le démarrage du chargeur de démarrage, et modifie également temporairement les numéros de port virtuel du contrôleur dans la liste des périphériques.</i> <br><br>  Après avoir fermé le port (commande fclose (s)), le chargeur du contrôleur crée son propre port virtuel (CDC), qui apparaît dans la liste du gestionnaire de périphériques avec un nouveau numéro pendant environ 8 secondes. <br><br><img src="https://habrastorage.org/webt/yf/ft/xr/yfftxr16gynamwlmykfujcv7e9w.png" alt="image"><br><br>  Après la durée d'existence du nouveau port virtuel (8 secondes), le port COM avec le numéro d'origine est renvoyé à la liste du gestionnaire de périphériques. <br><br><img src="https://habrastorage.org/webt/ma/rn/zp/marnzpy8381ca1qibgndsvrwqva.png" alt="image"><br><br>  Pendant l'existence du nouveau port COM, le programme utilisateur peut être téléchargé via le contrôleur à l'aide de l'exemple de <b>commande avrdude de</b> la console Arduino IDE.  L'obtention d'un exemple de commande avrdude bootloader dans un IDE Arduino est similaire à l'option ci-dessus pour les microcontrôleurs Atmega328.  Le port virtuel créé disparaît de la liste des périphériques après le redémarrage de la carte et le port COM avec le numéro d'origine est renvoyé à la liste. <br><br>  Le chargeur de démarrage peut également être démarré en connectant la broche RST de la carte Arduino à la masse GND. <br>  Si la réinitialisation automatique du contrôleur (en créant et en désactivant le port COM à une fréquence de 1200 bauds) ne fonctionne pas, le chargement des appareils (Arduino Leonardo, Arduino Pro Micro) basé sur le microcontrôleur ATmega32U4 peut être effectué via la console Arduino IDE dans l'ordre suivant. <br><br>  1. Appuyez et maintenez le bouton «Reset» (ou court-circuitez la broche RST à la masse).  La connexion série USB est déconnectée.  Le port COM du contrôleur disparaît de la liste du gestionnaire de périphériques. <br><br>  2. Appuyez sur le bouton <img src="https://habrastorage.org/webt/ct/el/-_/ctel-_2i_bs4uuoxpuwb_vvbecy.png" alt="image">  Téléchargez (Ctrl + U) Arduino IDE.  La figure 6 montre l'état initial du gestionnaire de périphériques (à gauche) et de l'IDE Arduino (à droite) à ce stade <br><img src="https://habrastorage.org/webt/tt/hg/pp/tthgpp3zk28gngzwuhitxzxmcam.png" alt="image"><br>  <i><b>Figure 6</b></i>  <i>Le numéro de port COM dans le gestionnaire de périphériques et une indication du processus de compilation du programme dans la console Arduino IDE.</i> <br><br>  3. Attendez que l'indicateur d'état termine la compilation de «Compilation» et procède au téléchargement de «Téléchargement», comme le montre la figure 7. <br><br><img src="https://habrastorage.org/webt/qd/zq/rl/qdzqrlrq4o3aj3whqvmul_ctvpu.png" alt="image"><br>  <i><b>Figure 7</b></i>  <i>Le numéro du nouveau port COM temporaire dans le gestionnaire de périphériques et une indication du processus de chargement du programme dans la console Arduino IDE.</i> <br><br>  4. Relâchez le bouton «Reset» (ouvrez la broche RST).  La connexion USB est rétablie.  Téléchargement en cours.  L'indicateur indique la fin du téléchargement avec la phrase Terminé le téléchargement (voir figure 8) <br><br><img src="https://habrastorage.org/webt/ij/9m/76/ij9m76fez8yzm1x-utxv5tsmqgo.png" alt="image"><br>  <i><b>Figure 8</b></i>  <i>Le numéro de port COM dans le gestionnaire de périphériques et une indication de la fin du chargement du programme dans la console Arduino IDE.</i> <br><br>  <b>Téléchargement des contrôleurs via un fichier bat (commande) bat</b> <br><br>  Le chargement hors ligne (sans utiliser la console Arduino IDE) peut être effectué à l'aide d'un fichier batch (batch).  Un exemple de fichier batch (avec l'extension bat) pour télécharger des fichiers HEX sur deux contrôleurs Arduino Pro Micro (Atmega32u4) connectés à l'ordinateur via le premier concentrateur, à deux contrôleurs Teensy connectés à l'ordinateur via le deuxième concentrateur et au contrôleur Arduino UNO (Atmega328) ci-dessous.  Les fichiers HEX téléchargés et tous les programmes nécessaires pour cela ont été précédemment placés dans le dossier partagé illustré à la figure 9. <br><br><img src="https://habrastorage.org/webt/ik/s8/7j/iks87jfpuuccla8c9jfubiidypg.png" alt="image"><br>  <i><b>Figure 9</b></i>  <i>Exemple de contenu d'un dossier pour le chargement hors ligne de 5 contrôleurs: Arduino Pro Micro (Atmega32u4), Teensy et Arduino UNO (Atmega328)</i> <i><br></i> <br>  Le fichier de commandes mcLoad.bat pour le chargement hors ligne de cinq contrôleurs est illustré ci-dessous.  Un délai d'une seconde (TIMEOUT / T 1 / NOBREAK) est ajouté avant le chargement des contrôleurs Arduino Pro Micro.  Un délai de 2 secondes est entré avant le chargement du deuxième contrôleur Teensy.  Une fois le chargement de tous les contrôleurs terminé, la fenêtre du programme Teensy.exe se ferme. <br><br><pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> OFF <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> UPLOAD: Arduino Pro Micro <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">mode</span></span> COM42 BAUD=<span class="hljs-number"><span class="hljs-number">12000</span></span> TIMEOUT /T <span class="hljs-number"><span class="hljs-number">1</span></span> /NOBREAK avrdude -Cavrdude.conf -v -patmega32u4 -cavr109 -PCOM45 -b57600 -D -Uflash:w:micro.ino.hex:i <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> UPLOAD: Arduino Pro Micro <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-built_in"><span class="hljs-built_in">mode</span></span> COM43 BAUD=<span class="hljs-number"><span class="hljs-number">12000</span></span> TIMEOUT /T <span class="hljs-number"><span class="hljs-number">1</span></span> /NOBREAK avrdude -Cavrdude.conf -v -patmega32u4 -cavr109 -PCOM44 -b57600 -D -Uflash:w:micro.ino.hex:i <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> UPLOAD: Arduino UNO avrdude -Cavrdude.conf -v -patmega328p -carduino -PCOM3 -b115200 -D -Uflash:w: BlinkUNO.ino.hex:i <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> UPLOAD: Teensy <span class="hljs-number"><span class="hljs-number">1</span></span> "C:\mcLOAD/teensy_post_compile" -file=Blink_1_Teensy.ino "-<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=C:\mcLOAD" "-tools=C:\mcLOAD" -board=TEENSY31 -reboot -port=usb:<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>A0000/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span> -portlabel=COM23 (Teensy <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) Serial -portprotocol=Teensy <span class="hljs-built_in"><span class="hljs-built_in">REM</span></span> Delay <span class="hljs-number"><span class="hljs-number">2</span></span> seconds: TIMEOUT /T <span class="hljs-number"><span class="hljs-number">2</span></span> /NOBREAK <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> UPLOAD: Teensy <span class="hljs-number"><span class="hljs-number">2</span></span> "C:\mcLOAD/teensy_post_compile" -file=Blink_2_Teensy.ino "-<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>=C:\mcLOAD" "-tools=C:\mcLOAD" -board=TEENSY31 -reboot -port=usb:<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>A0000/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span> -portlabel=COM19 (Teensy <span class="hljs-number"><span class="hljs-number">3</span></span>.<span class="hljs-number"><span class="hljs-number">2</span></span>) Serial -portprotocol=Teensy <span class="hljs-built_in"><span class="hljs-built_in">REM</span></span> Close Teensy.exe <span class="hljs-built_in"><span class="hljs-built_in">taskkill</span></span> /f /IM Teensy.exe</code> </pre> <br>  La déconnexion du contrôleur de la ligne USB n'affecte pas le chargement des contrôleurs restants. <br><br>  Pour exclure le nom Arduino de la liste des gestionnaires de périphériques, par exemple «Arduino UNO (COMX)», vous pouvez utiliser des programmes, par exemple RegOwnersahipEx, ou des clones matériels de contrôleurs Arduino, par exemple WAVGAT, qui est indiqué dans la liste des périphériques comme «USB-SERIAL CH340 (COMX) ) ». <br><br>  <b>Liste bibliographique</b> <br><br>  1. Comparaison des cartes Arduino (tableau) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">digitrode.ru/arduino-comparison.html</a> <br>  2. Arduino Micro, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">shop.pimoroni.com/products/arduino-micro</a> <br>  3. Dr.  Bob Davidov.  Technologies de contrôle informatique dans les systèmes techniques portalnp.ru/author/bobdavidov. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr437360/">https://habr.com/ru/post/fr437360/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr437350/index.html">Une voiture à l'ère de la multifonctionnalité. Quelles conversions sont possibles?</a></li>
<li><a href="../fr437352/index.html">L'informatique quantique dans les jeux, ou devenir fou au sérieux</a></li>
<li><a href="../fr437354/index.html">Affaiblir les noix, partie 2: la période de vote pour les publications et autres changements</a></li>
<li><a href="../fr437356/index.html">Qu'est-il arrivé au SSD en 2018</a></li>
<li><a href="../fr437358/index.html">Gestion de la compatibilité des produits</a></li>
<li><a href="../fr437364/index.html">Le contrôle de Tele2 coûtera à Rostelecom 240 milliards de roubles</a></li>
<li><a href="../fr437366/index.html">Comment pirater une usine: les systèmes de radiocommande comme maillon faible de la production moderne</a></li>
<li><a href="../fr437368/index.html">MOSDROID # 15 Phosphore</a></li>
<li><a href="../fr437372/index.html">Trois astuces simples pour réduire les images de docker</a></li>
<li><a href="../fr437374/index.html">Les utilisateurs de Facebook louent leurs comptes avec de l'argent et des ordinateurs portables gratuits</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>