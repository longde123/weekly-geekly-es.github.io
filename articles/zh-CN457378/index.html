<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☣️ 😾 👩🏾‍🤝‍👩🏼 id Software如何根据Commander Keen的技术创建Wolfenstein 3D 👩‍🎨 🔼 ⚒️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本文是《 Game Engine Black Book： Wolfenstein 3D》的一部分 ， 该书 详细研究了历史，代码和开发，对第一人称射击游戏的纳粹分子毁灭对游戏业产生了巨大影响。 

 本章揭示了游戏的起源，并讨论了如何在 Commander Keen 的成功和技术的基础上构建游戏，该...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>id Software如何根据Commander Keen的技术创建Wolfenstein 3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457378/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/82d/c05/d5d/82dc05d5ded4dafbe6f28e2bb94e11cf.png" alt="图片"></div><br>  <em>本文是《 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Game Engine Black Book：</a></em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Wolfenstein 3D》的一部分</a> <em>，</em> <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">该书</a></em> <em>详细研究了历史，代码和开发，对第一人称射击游戏的纳粹分子毁灭对游戏业产生了巨大影响。</em> <br><br>  <em>本章揭示了游戏的起源，并讨论了如何在</em> Commander Keen <em>的成功和技术的基础上构建游戏，该游戏</em> <em>本身是基于未成功出售</em> <em>PC</em> <em>版Nintendo</em> Mario 3 <em>端口的遗迹而建立的</em> <em>。</em> <br><br>  <em>由作者和程序员Fabien Sanglar编写的完整书籍可以<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">纸质或数字形式</a>购买。</em> <br><br>  1990年，来自Shreveport（路易斯安那州）的小型公司Softdisk在共享软件市场成功开展了业务。 <br><br> 通过提供基于订阅的视频游戏分发服务，Softdisk每月创建并通过邮件向其订阅者发送新游戏。 生意做得不错，但是公司的一些员工更有野心。 <br><br> 他们认为自己有足够的技能可以扩大规模，因此想证明这一点。 他们创造了一种对侧滚动进行编程的新方法，并将这种技术称为自适应磁贴刷新。 它使您可以在PC上执行硬件滚动（滚动屏幕），以便计算机可以与NES竞争。 在1990年代初期，他们在周末不停地工作，在PC上重新制作《 <em>超级马里奥3》</em> ，以展示其任天堂的技能。 <br><a name="habracut"></a><br> 他们自称为Deep团队的Ideas能够克隆<em>Mario</em> ，但不幸的是，她无法说服Nintendo与他们签约。 无论这家日本公司印象如何，它都希望<em>Mario</em>系列仅保留在Nintendo游戏机上。 <br><br><blockquote>  “我们将演示发送给了美国的任天堂，然后她又将其发送给了京都的总部。 高层管理人员观看了演示，并留下了深刻的印象。 但是，他们不希望自己的知识产权出现在设备以外的任何设备上，因此他们只是称赞我们，并说这是不可能的。”  -John Romero，程序员 </blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a4/186/e2c/4a4186e2cb120a79dc05be63df7d5330.png"></div><br>  <i>PC上的Mario。</i>  <i>IFD的首字母缩写代表“来自深处的想法”。</i> <br><br> 事实证明，这一集足以使他们相信自己，他们不仅拥有与野心相称的才能，而且拥有一支具有良好职业道德的协调良好的团队，有可能为他们带来巨大的机会。  1991年2月，Softdisk的四名员工实现了信仰的飞跃，成立了自己的id Software公司。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/201/253/44b/20125344bcc0b8dbbd2f4bd3e75b25de.png"></div><br>  <i>id Software的创始人。</i> <br><br>  （您可以在David Kushner的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">《厄运大师》中</a>了解更多有关此内容的信息。） <br><br> 他们立即利用为PC版<em>Mario 3</em>开发的技术，开始发行自己的游戏并建立知识产权。 在不浪费时间的情况下，该团队一年至少发布了三场比赛。 <br><br><ul><li>  <em>指挥官基恩</em> <em>第1集，第2集和第3集：入侵Vorticons</em> （1990年12月14日） </li><li>  <em>指挥官基恩</em> <em>第4、5和6集：再见银河</em> （1991年12月15日） </li><li> 独立游戏<em>指挥官基恩</em> ： <em>外星人吃了我的保姆</em> （1991年12月） </li></ul><br> 由FormGen发行的这些游戏立即获得了成功，并且销量很好。 团队还继续为Softdisk编写游戏，其中大多数使用自适应磁贴更新： <br><br><ul><li>  <em>指挥官基恩（Keen Dreams）</em> （1991） </li><li>  <em>鬼屋中的危险戴夫</em> （1991） </li><li>  <em>营救流浪者</em> （1991） </li><li>  <em>营救漫游者2</em> （1991） </li><li>  <em>暗影骑士</em> （1991） </li><li>  <em>Hovertank 3D</em> （1991年4月）。 </li><li>  <em>地下墓穴3D：新维度</em> （1991年11月） </li></ul><br>  1991年春季，新一代的id软件技术开始出现。 在游戏《 <em>Hovertank 3D》中，</em>玩家在坦克里面。 到目前为止，它还没有纹理贴图，并且游戏进度仍然相当缓慢。  <em>《地下墓穴3D》</em>标志着游戏中纹理的出现和沉浸感的增强：玩家现在可以在第一人称视角中控制向导。 <br><br>  1991年11月，团队结束了对SoftDisk的所有义务。 她的下一款游戏将使用这些家伙创造的3D技术，并将以<em>Wolfenstein 3D</em>的名称发行。 由于游戏的规模和雄心壮志，又有4个人加入了该团队，现在有8名员工。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6b2/03f/7d0/6b203f7d048330f4fbf98b366ca73522.png"></div><br><blockquote>  “詹森（Jason Blochowiak）从一开始就是id的一部分，但是在发展Wulf的过程中，我们的道路有所不同。”  -程序员约翰·卡马克（John Carmack）。 </blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b18/b9f/87b/b18b9f87b27026988b467d44d5674a43.png"></div><br>  <i>复活节彩蛋团队在命运之矛的照片。</i>  <i>下面的铭文：“我们没有裤子。”</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e8/fff/812/1e8fff8126ad80468dac459b2763a6c9.png"></div><br>  <i>实际上，裤子仍在上面。</i> <br><br><h2> 组织机构 </h2><br>  1991年9月，在汤姆（Tom）和杰森（Jason）的学校回忆的带领下，团队从什里夫波特（Shreveport）迁至麦迪逊（威斯康星州）。 伙计们将他们的办公室定居在2622年高岭径（High Ridge Trail）上的松树（Pines）住宅大楼的两层砖砌建筑中。除了卡马克（Carmack）不在乎，他都住在步行距离之内，他并不在意不便之处：他定居在办公室二楼。 <br><br>  <em>Wolfenstein 3D</em>的开发始于1992年1月。 温度下降，雪从天上掉下来，所以团队完全沉浸在工作中，很少离开办公室。 发展历时四个月。  <em>Wolfenstein 3D</em>于1992年5月发布。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a5/5be/aea/2a55beaeacfb6326c0fa65c4e95d8019.png"></div><br> 在这四个月的过程中，团队工作的组织对于那个时代的游戏工作室来说是相当标准的：四个人坐在同一个房间里，支持快速的发展速度和强烈的友情感（由于约翰·罗梅罗和汤姆·霍尔的沟通风格而产生了很多噪音）。 <br><br> 下图显示了与SNES的夹角，其中在<em>F-Zero</em>和《龙与地下城》区域中经常进行无数的游戏，而《龙与地下城》区域在《末日大师》中经常提到。 一个团队成员（约翰·卡马克）住在工作室上方的事实是很平常的事情。 <br><br><blockquote>  “我们首先从软盘上传输数据开始，但是最后我们创建了基于同轴以太网*的Novell网络。 我们没有版本控制系统。 令人惊讶的是，直到Quake 3才有了它，在开发过程中，我们开始使用Visual Source Safe。”  -程序员约翰·卡马克（John Carmack）。 <br><br>  *约翰·罗梅罗（John Romero）的评论：“ 1991年11月，住在麦迪逊市，我们花了7,000美元购买了Novell Netware 3.11系统。 它包括文件服务器，电缆和网卡。” </blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/619/b1f/565/619b1f565c934b126015221fe8750b07.png"></div><br> 每个人都在最好的PC上工作，这些PC可以花钱购买：功能最强大的386-DX 33MHz，4MB RAM。 <br><br><h2> 程式设计 </h2><br> 该开发是在Borland C ++ 3.1（但使用C语言）环境中进行的，默认情况下以VGA模式3进行工作：文本屏幕尺寸为80 x 25个字符。 <br><br>  John Carmack处理了运行时代码。  John Romero对许多工具进行了编程（TED5地图编辑器，IGRAB资源打包器，MUSE音乐打包器）。  Jason Blohovyak编写了重要的游戏子系统（输入管理器，页面管理器，声音管理器，用户管理器）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15e/53e/7ca/15e53e7cacc7e128321bb5221b5a40e2.png"></div><br>  Borland解决方案是一个多合一的系统。 尽管存在一些不稳定因素，但名为BC.EXE的IDE提供了尴尬的多窗口代码编辑功能，并带有突出显示的语法。 编译器和链接器也是系统的一部分，并具有名称BCC.EXE和TLINK.EXE。 <br><br> 但是，不需要切换到命令行模式。  IDE允许您创建，组装，执行和调试项目。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/416/0e5/f0d/4160e5f0dafcf5d0fac51660bde8340b.png"></div><br> 为了补偿CRT屏幕的小尺寸，一些开发人员使用了两个监视器。  （John Romero注意：“我和John Carmack都与Turbo Debugger一起在小型12英寸琥珀色单色单色显示器上工作。”） <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/005/51b/895/00551b895dd6f45efdf7203194f30192.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b4/95b/5df/2b495b5dfd09753c53ab180bb02f14e3.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/704/bcd/883/704bcd883124c2a425708e4c7cc2470b.png"></div><br><h2> 游戏图形资源 </h2><br> 所有图形资源均由Adrian Carmack创建（Kevin Cloud创建了多个纹理，并且还参与了<em>Wolfenstein 3D</em>手册的设计和结构）。 所有工作都在Deluxe Paint（由Electronic Arts的Brent Iverson编写）中完成，并保存在ILBM（InterLeaved BitMap）文件中（专有Deluxe Paint格式）。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6fe/d82/903/6fed829033803a33737e973233d40d2e.png"></div><br> 由于VGA模式基于调色板的使用（颜色不是由24位RGB值设置的，而是由指向256色表的索引设置的），因此创建过程很复杂。 首先，Adrian必须做出一个关键决定-哪种颜色会落入调色板（例如，在某些游戏中， <em>Monkey Island</em>使用了根据游戏部分而有所不同的多个调色板。IdSoftware选择了一个更简单的解决方案，并在整个游戏中使用了一个调色板），然后用这些颜色绘制所有内容。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0ec/87b/5e9/0ec87b5e9e7d0bcc37ee0f650050d62a.png"></div><br>  <i>德军总部3D调色板。</i>  <i>游戏中的所有内容都是使用这256种颜色绘制的。</i> <br><br> 调色板的坐标水平从0x00到0x0F，垂直从0x00到0xF0。 下面的水平蓝色渐变始于0xF0，终止于0xFE。  0xFF（用粉红色标记）是一种特殊的颜色，引擎认为它是透明的，并且在渲染时总是被跳过。 <br><br> 用鼠标手动绘制所有资源。 由于在屏幕上显示帧缓冲区时，VGA模式会对其进行拉伸，因此Adrian必须小心并以游戏应能工作的分辨率（320x200）绘制所有内容。 <br><br><blockquote>  “阿德里安和凯文直接在Deluxe Paint工作，当时我们没有扫描工具。”  -程序员约翰·卡马克（John Carmack）。 </blockquote><br> 图形资源分为两类： <br><br><ul><li>  VGAGRAPH，VGAHEAD和VGADICT文件中随游戏提供的2D菜单项 </li><li>  VSWAP档案中提供的3D模式元素（墙和子画面） </li></ul><br><h2> 资源生产过程 </h2><br> 生成图形资源后，IGRAB工具将所有ILBM打包到一个档案中，并生成带有资源标识符的C头文件。 引擎直接使用这些ID引用资源。 <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0bd/02a/9a1/0bd02a9a1560172a582ce8b02e3bdbc4.png"></div><br>  <i>2D菜单的资源创建管道。</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa9/c79/646/fa9c7964690c16ca289f74e936a2d628.png"></div><br>  <i>在引擎代码中，枚举中严格规定了资源的使用。</i>  <i>该枚举是HEAD表中的偏移量，从中获取DATA存档中的偏移量。</i>  <i>由于这一层的间接链接，可以在不修改源代码的情况下重新生成和重新排序资源。</i> <br><br>  <u><strong>有趣的事实：</strong></u>这样的系统在发布源代码后导致了问题。 捆绑包中的.h标头与来自<em>Wolfenstein 3D</em>的共享软件版本或更早版本的资源文件不匹配。 公布的头条新闻摘自《命运之矛》。 您可以在fabiensanglard.net网站上的文章“我们像在院子里一样进行编译，1992年进行编译”中观察到这导致了什么图形混乱<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">（该</a>文章在Habré上的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">翻译</a> ）。 <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>Wolfenstein</em></a>于1992年发布的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">官方<em>3D</em>指南</a>介绍了创作过程。 它包含汤姆·霍尔（Tom Hall）的许多图纸，并显示了一堆汤姆（Tom）绘制的草图，并由一组艺术家翻译为像素。 <br><br><blockquote>  <em>“当Id创意总监汤姆·霍尔（Tom Hall）提出银幕的构想时，他给阿德里安·卡马克（Adrian Carmack）画了草图。</em>  <em>以下是Tom设计的初始屏幕设计的一些示例。</em>  <em>我为游戏选择了第三稿。”</em>  <em>-《德军总部3D指南》</em> </blockquote><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a73/96f/4b7/a7396f4b7a9c102f12d033f1109a7722.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/82d/c05/d5d/82dc05d5ded4dafbe6f28e2bb94e11cf.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c03/eb8/f2a/c03eb8f2a19b5ad8e12922707db91a0c.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b75/9e2/83e/b759e283efd0468065aa0c75b4da77b4.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b4/6f2/e7c/5b46f2e7c00adf45a5233268eacde4de.png"></div><br> 该手册还包含当时团队的几张照片； 我建议您阅读它以了解上下文。 <br><br>  [在NeXT ColorStation上创建的指导设计。 这是唯一使用史蒂夫·乔布斯（Steve Jobs）的机器创建<em>Wolfenstein 3D的情况</em> ，尽管id在1991年12月购买了它。 后来，在1993年，NeXT系列工作站成为了<em>Doom</em>生产输送机中的关键要素。 </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN457378/">https://habr.com/ru/post/zh-CN457378/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN457352/index.html">买方展示信息的结论</a></li>
<li><a href="../zh-CN457354/index.html">性能测试的数据混淆</a></li>
<li><a href="../zh-CN457362/index.html">RUVDS的推广：在夏天准备服务器</a></li>
<li><a href="../zh-CN457366/index.html">狂热者，铁杆或观众-您是哪种游戏玩家？</a></li>
<li><a href="../zh-CN457374/index.html">减少您的Android项目的构建时间</a></li>
<li><a href="../zh-CN457380/index.html">超现代的OpenGL。 第二部分</a></li>
<li><a href="../zh-CN457382/index.html">高性能程序员的7个习惯</a></li>
<li><a href="../zh-CN457386/index.html">Linux虚拟接口简介：隧道</a></li>
<li><a href="../zh-CN457390/index.html">马达加斯加-对比之岛</a></li>
<li><a href="../zh-CN457392/index.html">节省移动跨平台开发费用：Skyeng案例研究</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>