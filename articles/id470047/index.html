<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘†ğŸ» ğŸ‘¨ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ¢ Saya melihat ke belakang untuk melihat apakah dia melihat ke belakang - 2 atau ke pusat data saya sendiri melalui AWS ğŸ¤­ ğŸ“± ğŸ¤²ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kami menerbitkan semua layanan yang terletak di hypervisor rumah melalui layanan EC2 Amazon Web Services melalui instance gratis untuk Amazon Linux AM...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Saya melihat ke belakang untuk melihat apakah dia melihat ke belakang - 2 atau ke pusat data saya sendiri melalui AWS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470047/"><img src="https://habrastorage.org/webt/hb/3k/nj/hb3knjstg1kmyhx0g_bzk-r5jiu.jpeg" alt="gambar"><br><br>  Kami menerbitkan semua layanan yang terletak di hypervisor rumah melalui layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">EC2 Amazon Web Services</a> melalui instance gratis untuk Amazon Linux AMI 2018 menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libreswan</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">xl2tpd</a> dan dengan sedikit distorsi ... <br><a name="habracut"></a><br>  Administrator sistem dari bisnis tradisional (non-TI) dengan pengalaman, biasanya setelah beberapa saat, memiliki peternakan virtualisasi server sendiri di rumah untuk menguji tumpukan solusi di lapangan.  Ini bisa berupa tiruan dangkal dari jaringan kantor-cabang terdistribusi, pengujian infrastruktur terintegrasi ketersediaan tinggi, penyebaran versi baru dari beberapa solusi, dll. <br><br>  Secara eksternal, dapat terlihat dari PC rumahan sederhana yang dipompa dengan hypervisor built-in dan NAS tingkat konsumen sebagai penyimpanan iSCSI (atau bahkan sebagai mesin virtual sederhana pada PC yang sama) ke server rack-mount berukuran kecil penuh yang dibeli untuk unit kontrol yang dihapus murah dengan silsilah dari pusat data barat, dengan tsiska BU yang sama untuk konektivitas jaringan dan terjebak di Fibre Channel yang sama, dibeli di NAS pasar sekunder, tetapi sudah kelas bisnis. <br><br>  Tentu saja, di zaman kita yang menggila untuk cloud, seluruh infrastruktur dapat dengan mudah digunakan di pusat data cloud, tetapi ini masih tidak selalu memungkinkan, terutama karena biayanya.  Tidak masalah jika pengujian membutuhkan beberapa mesin virtual ringan dari paket yang tersedia, tetapi bagaimana jika bertugas Anda harus memutar beberapa lusin atau bahkan ratusan "mesin virtual" yang terpisah dengan berbagai layanan, dan Anda juga ingin memiliki arsip sehingga Anda dapat memilikinya kapan saja. ada sampel yang memutar konfigurasi / pengaturan setahun yang lalu.  Atau ada kebutuhan untuk mentransfer semua jebakan dengan sinkronisasi yang sama antara ADDS dan ADFS sebelum mentransfer beberapa layanan bisnis yang ada ke MS Azure yang sama. <br><br>  Masalah utama dalam hal ini adalah publikasi (penerusan) semua infrastruktur ini ke luar, sehingga Anda dapat berlatih menghubungkan pengguna dari luar ke "situs server" rumah Anda atau ke layanan "cloud" Anda sendiri, atau integrasi dengan layanan pihak ketiga dll. <br><br>  Baik jika koneksi rumah dirancang untuk tarif bisnis, dalam hal ini tidak ada masalah dengan permintaan yang masuk, dan alamat IP hampir selalu "putih", statis. <br><br>  Tetapi apa yang harus dilakukan ketika penyedia "rumah" yang biasa hadir di tempat tinggal, yang selain itu hanya dapat memberikan alamat dari jaringan Pribadi.  Atau itu akan memberikan alamat putih, tetapi secara tradisional memotong semua yang masuk dari kisaran port istimewa (&lt;1024)?  Atau Anda adalah siswa miskin yang klise dan tidak mampu membayar tarif bulanan yang dirancang untuk badan hukum.  Atau apakah Anda sering harus mengubah tempat tinggal Anda, menyeret server virtual Anda "barang-barang" ke punuk?  Sebuah kasus khusus juga relevan bagi mereka yang tinggal di luar CIS, ketika penyedia secara paksa menyediakan peralatan sendiri untuk menghubungkan ke Internet dan di sana Anda secara fisik tidak dapat mengkonfigurasi penerusan port yang Anda butuhkan ke peternakan virtual di rumah di luar. <br><br>  Salah satu solusinya adalah dengan menggunakan salah satu layanan VPN pihak ketiga.  Sayangnya, beberapa dari mereka mengizinkan izin koneksi masuk sehubungan dengan terowongan, paling sering itu adalah layanan berbayar terpisah.  Juga dalam hal ini, pilihan alamat IP eksternal akan sangat terbatas jika Anda ingin menguji situasi dengan kehadiran alamat IP eksternal di negara tertentu, terlebih lagi, sebagai suatu peraturan, tidak ada jaminan bahwa pada saat yang sama sekelompok klien layanan VPN lainnya tidak menggantung pada alamat ini. , atau akan menjadi statis untuk waktu yang lama, yang penting untuk menyiapkan catatan subdomain layanan di DNS. <br><br>  Juga layak (IMHO), meskipun beberapa metode sesat, adalah untuk menggunakan router "virtual" Anda sendiri pada beberapa platform cloud eksternal dengan kemampuan untuk mengkonfigurasi terowongan VPN dari farm hypervisor rumah ke mesin virtual ini di cloud, dengan koneksi masuk yang diperlukan diteruskan dari antarmuka jaringan eksternal layanan cloud to home hypervisor.  Dan idealnya, hampir tidak membayar apa pun untuk semuanya. <br><br>  Baru-baru ini kehilangan pekerjaan saya, dan dengan itu akses ke kebun pengujian perusahaan yang hangat dan nyaman, tetapi sebagai imbalannya menerima banyak waktu luang untuk memperbarui keterampilan saya, saya memutuskan untuk memberikan layanan dari hypervisor rumah saya kesempatan untuk melihat koneksi klien yang masuk. <br><br>  Penulis baris ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">â€œmencintai semua jenis penyimpangan infrastrukturâ€</a> , sehingga sebagai router virtual kita akan menggunakan contoh Amazon Web Services (AWS) EC2 t2.micro gratis untuk Linux, yang alih-alih AWS: VPC (secara teori) akan memberikan sedikit lebih banyak fleksibilitas dalam debugging dan fitur , dan topologi penyimpangan VPN ini ditunjukkan di bawah ini: <br><br><img src="https://habrastorage.org/webt/xs/o5/_k/xso5_kg5gwlm9ozy9pj7udiqxuc.png" alt="gambar"><br><br>  Apa yang kita lihat di sini? <br><br>  Ada mesin virtual (750 jam kerja per bulan selama tahun ini), gratis (misalnya), di Linux, yang digunakan di AWS: EC2.  Panggilan masuk dari beberapa pengguna layanan rumah Anda jatuh ke alamat IPv4 putih eksternal dari Elastic IP, kemudian melalui aturan masuk (Inbound) di "Grup Keamanan" port yang kita butuhkan memetakan ke dalam ke antarmuka jaringan contoh, kemudian paket permintaan ini melalui iptables melalui terowongan IPSec ke mesin virtual untuk Windows 2016, di mana, menggunakan perutean, RRAS sampai ke layanan yang diinginkan di dalam virtual farm rumah.  Kami memberikan perhatian khusus pada kehadiran tiga NAT sekaligus: satu di AWS Linux, satu di router "jaringan kantor" dan satu lagi, secara implisit, pada router rumah. <br><br>  Dalam hal ini (saya), mesin virtual di bawah Windows Server 2016 memainkan peran router untuk mensimulasikan jaringan kantor dan platform servernya, MS WAP digunakan di dalamnya bersamaan dengan mesin terpisah dengan MS ADFS dan lainnya, sehingga tidak ada masalah untuk menggantinya dengan OS lain. bahkan sepotong buatan sendiri secukupnya.  Dengan Windows RRAS, ngomong-ngomong, segala sesuatunya menjadi rumit di sepanjang jalan, di sepanjang jalan saya harus berurusan dengan berbagai momen tidak menyenangkan (tentang yang di bawah), jadi jika Anda memilih untuk tidak menyukai MS Windows Server sebagai router, maka dengan sistem operasi lain mungkin lebih mudah. <br><br>  Pertama kita akan membuat akun AWS jika Anda masih belum memilikinya.  Tidak ada masalah dengan pembuatan akun itu sendiri, Anda hanya perlu menunjukkan rincian kartu plastik Anda, dari mana 1 USD akan didebet (dan kemudian dikembalikan) sebagai cek. <br><br>  Hanya dua poin yang perlu disebutkan di sini: <br><br><ol><li>  Pastikan untuk mengunjungi AWS: IAM (Identity and Access Management) dan aktifkan MFA (Multi-Factor Authentication) untuk akun baru Anda, atau bahkan lebih baik, seperti yang direkomendasikan AWS - buat akun terpisah dengan MFA juga dan terus bekerja melalui pembatasan hak-hak terkait. dia.  Jika tidak, Anda mungkin berakhir dalam situasi yang tidak menyenangkan ketika Trojan mencuri kredensial AWS dari PC Anda dan, misalnya, seseorang menambang dari hati Anda dengan biaya Anda pada paket contoh kinerja tinggi yang mahal ... </li><li>  Untuk alasan praktis, sebaiknya Anda menyiapkan lansiran anggaran.  Ini dilakukan dalam pengaturan akun, item menu yang sesuai disebut "Dasbor Manajemen Penagihan &amp; Biaya".  Pada panel yang terbuka, pilih item "Anggaran" di sebelah kiri dan konfigurasikan anggaran bulanan yang direncanakan sesuai selera menggunakan wisaya bawaan.  Jangan lupa untuk mengatur peringatan di sana: jika melebihi jumlah yang ditentukan, Anda akan segera menerima pesan.  Ini berguna jika Anda belum pernah bekerja dengan AWS sebelumnya dan takut untuk secara tidak sengaja â€œmendapatkanâ€ jumlah bulat dalam percobaan Anda. </li></ol><br>  Selanjutnya, kita perlu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AWS: EC2</a> . <br><br>  Salah satu langkah paling penting adalah memilih wilayah AWS (dasarnya pusat data) di mana kami ingin menggunakan mesin virtual kami.  Penempatan akan secara langsung mempengaruhi lokasi geografis "router virtual" Anda, dan karenanya penundaan jaringan saat bekerja dengannya.  Ini penting karena  AWS tidak menyediakan migrasi langsung antar kawasan ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layanan Migrasi Server AWS bawaan</a> hanya dapat memigrasi sesuatu ke cloud AWS itu sendiri) dan jika terjadi kesalahan penempatan, lebih mudah untuk membuat kembali instance baru lagi di lokasi yang diinginkan.  Atau, Anda harus menghapus gambar dari instance (Gambar, built-in EC2) di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AWS: S3</a> (layanan penyimpanan) dan dari sana tarik gambar ini ke instance EC2 di wilayah baru.  Dalam kasus saya, wilayah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Frankfurt</a> pada awalnya dipilih: <br><br><img src="https://habrastorage.org/webt/8c/2s/yh/8c2syhsrly1luamcwjsvbmlnbtg.png" alt="gambar"><br><br>  Kami membuat instance baru, pilih opsi <b>"Free tier only"</b> di sebelah kiri, yang akan membatasi daftar gambar yang diusulkan hanya yang gratis.  Saya memilih <b>"Amazon Linux AMI 2018"</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lebih lanjut</a> tentang distribusi Linux di AWS), karena  pada "Amazon Linux 2 AMI" xl2tpd tidak berfungsi dengan baik karena sifat dari kernel yang dirakit oleh Amazon. <br><br>  Anda dapat memilih gambar Linux lain yang Anda kenal dari daftar yang disediakan.  Anda juga dapat masuk lebih dalam ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AWS Marketplace</a> dan mencari gambar alternatif di sana, cukup hati-hati membaca komentar tentang biayanya: gambar itu sendiri dan sumber daya komputasi dapat gratis, tetapi Anda harus membayar ekstra untuk ruang disk, dll. <br><br>  Kami memilih tipe yang diusulkan <b>"t2.micro"</b> , ia menyediakan 1 vCPU, 1 GB memori, 8-30 GB (SSD / Magnetic) ruang disk dan 750 jam kerja gratis setiap bulan selama setahun.  Cukup untuk "router virtual" kami.  Perlu dicatat bahwa ruang disk kosong dan waktu kerja dihabiskan untuk semua kasus, jadi dalam kasus kesulitan keuangan Anda tidak perlu membuat / menjalankannya lebih dari yang Anda mampu kecuali gratis. <br><br>  Klik pada wizard "Next ...", pada langkah ke-3 kami meninggalkan semua nilai default, pada tanggal 4 kami setuju dengan standar disk drive SSD 8 gigabyte yang diusulkan dan instance dimulai dengan tombol Tinjau dan Luncurkan: <br><br><img src="https://habrastorage.org/webt/ta/dv/of/tadvofw_fyn1iozzpgvxiwaswla.png"><br><br>  Setelah itu kita akan mendapatkan jendela dengan pesan tentang membuat pasangan kunci baru untuk menghubungkan ke kita melalui SSH dan proposal untuk memberi nama pasangan ini dan mengunduh kunci pribadi dalam format * .pem.  Kami akan sangat membutuhkannya di masa depan, sehingga disarankan untuk segera menyimpannya di tempat yang aman.  Jika file ini hilang, Anda akan kehilangan kemampuan untuk terhubung dari jarak jauh ke instance yang menggunakannya.  Di EC2, tidak ada cara untuk meregenerasi lagi untuk instance yang ada, satu-satunya cara adalah menghubungkan disk instance ke instance lain yang memiliki akses dan pengeditan tombol berikutnya. <br><br>  Setelah beberapa saat, instance akan diluncurkan, ia akan memiliki alamat IPv4 internal (pribadi) dan eksternal (publik), serta dua nama DNS yang sesuai. <br>  Segera konfigurasikan Grup Keamanan untuk memastikan arus lalu lintas untuk layanan yang Anda butuhkan: <br><br><img src="https://habrastorage.org/webt/ex/rh/7y/exrh7yxlnlqsb36u5pdqifxrdb8.png"><br><br>  Kita akan membutuhkan port masuk yang terbuka 500, 1701, 4500 UDP, dan 4500 TCP untuk mengatur terowongan VPN IPSec L2TP, HTTP &amp; HTTPS untuk menerbitkan layanan pertanian rumah, akses eksternal ke instance melalui SSH dibuat secara otomatis ketika membuat instance, karena  EC2 pada dasarnya tidak mengandung akses built-in ke konsol mesin virtual melalui antarmuka web-nya.  Hanya ada kemampuan untuk melihat layar: <br><br><img src="https://habrastorage.org/webt/zr/g4/uw/zrg4uw5t3_nihfjq8qaipfwxfkw.png"><br><br>  Dianjurkan untuk mengkonfigurasi akses melalui VPN dan SSH hanya dari alamat IP rumah Anda.  Urutan aturan di Grup Keamanan tidak masalah. <br><br>  Karena kami akan menggunakan beberapa dokumentasi NAT, AWS merekomendasikan menonaktifkan <b>"Pemeriksaan sumber / tujuan jaringan"</b> dalam kasus ini: <br><br><img src="https://habrastorage.org/webt/oa/6m/mg/oa6mmgeh6dyzg6sjxzdj0lkzbne.png"><br><br>  Karena kita akan menggunakan tunneling IPSec, dan bukan transport, pengaturan ini tidak masuk akal bagi kita, tetapi untuk berjaga-jaga, lebih baik mematikannya. <br><br>  Terhubung melalui SSH ke instance kami.  Jika Anda menggunakan klien SSH grafis, misalnya, Putty, untuk menghubungkan, bantuan built-in pada koneksi, yang disebut oleh RMB pada contoh -&gt; Connect, akan membantu Anda: <br><br><img src="https://habrastorage.org/webt/dc/tm/s1/dctms1dbkmpble2n5vojwkdq3py.png"><br><br>  Amazon Linux mempertahankan silsilah dari RHEL dan CentOS, sehingga pengelola paket yum digunakan. <br><br>  Semua operasi yang dijelaskan di bawah ini harus dilakukan dengan eskalasi hak istimewa, oleh karena itu kami mendahului mereka dengan sudo atau hanya berfungsi sebagai root. <br><br>  Pembaruan pertama: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum update</span></span></code> </pre> <br>  Sebagai perangkat lunak untuk mengatur server VPN, kami akan menggunakan kombinasi libreswan dan xl2tpd. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">LibreSwan</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cabang</a> dari Openwan dan analog dari StrongSwan) adalah implementasi VPN IPSec dan IKE (Internet Key Exchange) yang populer.  Itu dapat dengan benar memotong berbagai jenis NAT dan kombinasinya, yang sangat penting ketika mengatur tunneling IPSec. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">xl2tpd</a> juga banyak digunakan, keunggulan utamanya adalah kemampuan bawaan untuk mengautentikasi dan mengirimkan parameter koneksi klien melalui ppp saat menghubungkan (misalnya, alamat IP, pengaturan rute default, server dns, dll.), yang menghilangkan kebutuhan untuk penyebaran DHCP dan Radius tambahan bagi kami tugas sederhana. <br><br>  Karena xl2tpd tidak dalam repositori standar Amazon Linux, kita perlu mengaktifkan EPEL (Paket Ekstra untuk Linux Perusahaan): <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum-config-manager --enable epel</span></span></code> </pre> <br><h3>  Instal paket yang diperlukan: </h3><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># yum install libreswan xl2tpd -y</span></span></code> </pre> <br><h3>  Aktifkan perutean level kernel: </h3><br>  di file <b>/etc/sysctl.conf kita</b> menulis: <br><br><pre> <code class="bash hljs">net.ipv4.ip_forward = 1 net.ipv4.conf.all.accept_redirects = 0 net.ipv4.conf.all.secure_redirects = 1 net.ipv4.conf.all.send_redirects = 0 net.ipv4.conf.default.accept_redirects = 0 net.ipv4.conf.default.secure_redirects = 0 net.ipv4.conf.default.send_redirects = 0 net.ipv4.conf.lo.accept_redirects = 0 net.ipv4.conf.lo.secure_redirects = 0 net.ipv4.conf.lo.send_redirects = 0 net.ipv4.conf.eth0.accept_redirects = 0 net.ipv4.conf.eth0.secure_redirects = 0 net.ipv4.conf.eth0.send_redirects = 0 net.ipv4.conf.all.rp_filter = 0 net.ipv4.conf.default.rp_filter = 0 net.ipv4.conf.eth0.rp_filter = 0</code> </pre><br>  Nonaktifkan <b>rp_filter</b> di sesi saat ini agar tidak melakukan reboot: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># for f in /proc/sys/net/ipv4/conf/*/rp_filter ; do # echo 0 &gt; $f # done</span></span></code> </pre><br>  Kami menerapkan pengaturan dan memeriksa ketersediaan perutean: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># sysctl -p /etc/sysctl.conf # cat /proc/sys/net/ipv4/ip_forward</span></span></code> </pre><br>  Kita perlu memastikan penerusan paket yang datang (sehubungan dengan antarmuka publik dari instance) dari port layanan yang diperlukan ke terowongan IPSec masa depan kita.  Untuk ini, perlu tidak hanya de-NAT paket-paket ini, tetapi juga untuk melakukan penyamaran pada antarmuka <b>ppp0</b> . <br>  Kami akan menggunakan fitur <b>iptables</b> built-in untuk ini, yang dalam kasus Amazon Linux awalnya dikonfigurasi untuk sepenuhnya mengizinkan lalu lintas ke segala arah: <br><br>  membuat DNAT dari port yang diperlukan: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 80 -j DNAT --to-destination 10.100.0.2:80 # iptables -t nat -A PREROUTING -p tcp -i eth0 --dport 443 -j DNAT --to-destination 10.100.0.2:443</span></span></code> </pre> <br>  teruskan semua paket yang datang ke port-port ini ke alamat gerbang Windows: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 80 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT # iptables -A FORWARD -p tcp -d 10.100.0.2 --dport 443 -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT</span></span></code> </pre> <br>  lakukan penyamaran untuk paket-paket ini: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE</span></span></code> </pre><br>  Dianjurkan untuk menjaga aturan iptables sehingga mereka mengencangkan secara otomatis ketika instance dimulai kembali: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># service iptables save</span></span></code> </pre> <br>  Dalam hal ini, kami menggunakan DNAT (NAT Tujuan) dari port TCP yang diperlukan dari antarmuka jaringan eth0 dari instance ke arah alamat IPv4 10.100.0.2, yang merupakan alamat pada antarmuka ppp layanan RRAS gerbang Windows kami di hypervisor rumah. <br><br>  Berikut ini adalah poin yang sangat penting: karena layanan di dalam hypervisor harus dapat menanggapi permintaan yang diterima dari instance AWS, maka perlu untuk memberikan penyamaran (mengganti alamat pengirim) pada antarmuka <b>ppp0</b> instance sebelum mengirim paket, jika jawabannya akan menuju arah yang sama sekali berbeda: dari gerbang Windows di hypervisor melewati terowongan IPSec langsung ke router default (router rumah), sebagai akibatnya, tentu saja, itu akan dibuang di sisi klien dari layanan, seolah-olah itu berasal dari sumber yang tidak diminta.  Jika menyamar digunakan dalam header paket di pintu masuk ke terowongan vpn, alamat pengirim akan berubah dari alamat di suatu tempat di Internet ke alamat <b>ppp0 dari</b> antarmuka contoh AWS: EC2, mis.  dalam kasus saya di 10.100.0.1 <br><br>  Sebagai alternatif untuk menggunakan iptables untuk distribusi Linux lain atau sistem * NIX, Anda dapat merekomendasikan rinetd lama yang baik, di mana semua ini dilakukan secara umum dalam satu baris dalam konfigurasi <b>rinetd.conf</b> : <br><br><pre> <code class="bash hljs">&lt;ip <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;port <span class="hljs-built_in"><span class="hljs-built_in">source</span></span>&gt; &lt;ip destination&gt; &lt;port destination&gt;</code> </pre> <br>  Satu-satunya hal yang perlu diaktifkan dalam kasus ini di kernel adalah kemungkinan routing / NAT traffic. <br><br><h3>  Saatnya memasak libreswan. </h3><br>  File <b>/etc/ipsec.conf</b> berisi instruksi untuk mengunduh semua file .conf dari /etc/ipsec.d/, jadi kami membuat file konfigurasi baru di direktori /etc/ipsec.d/aws_vpn.conf dan menambahkannya ke: <br><br><pre> <code class="bash hljs">config setup <span class="hljs-comment"><span class="hljs-comment">#       # plutostderrlog=/var/log/pluto.log # logfile=/var/log/pluto.log # plutodebug = all #  NAT-T -   NAT- nat_traversal=yes oe=off protostack=netkey nhelpers=0 interfaces=%defaultroute conn aws_vpn type=tunnel auto=start forceencaps=yes pfs=no fragmentation=yes authby=secret left=%defaultroute #   &lt;â€¦&gt;      Elastic IP leftid=&lt;â€¦&gt; #   &lt;â€¦&gt;     (172...) leftsubnet=&lt;â€¦&gt;/32 leftnexthop=%defaultroute leftprotoport=17/1701 rightprotoport=17/%any right=%any rightsubnetwithin=0.0.0.0/0 rightsubnet=vhost:%priv</span></span></code> </pre><br>  Untuk kesederhanaan, kami akan menggunakan otentikasi IPSec berdasarkan kunci bersama (PSK), bukan sertifikat, jadi kami harus menentukannya secara eksplisit.  File <b>/etc/ipsec.secrets</b> berisi instruksi untuk mengunduh semua file .secrets dari <b>/etc/ipsec.d/</b> , di sana kami membuat file baru <b>/etc/ipsec.d/aws_vpn.secrets</b> dan tentukan PSK di dalamnya dalam format: <br><br><pre> <code class="bash hljs">&lt;     172...&gt; %any : PSK <span class="hljs-string"><span class="hljs-string">"&lt; PSK&gt;"</span></span></code> </pre> <br>  Sebagai contoh: <br><br><pre> <code class="bash hljs">172.31.20.120 %any : PSK <span class="hljs-string"><span class="hljs-string">"Pa$</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$w0rd</span></span></span><span class="hljs-string">"</span></span></code> </pre> <br>  Karena koneksi ppp akan digunakan di dalam terowongan IPSec, dan ada autentikasi sendiri, kami mengonfigurasinya juga: <br>  Kami memasukkan nama pengguna dan kata sandi dalam file <b>/ etc / ppp / chap-secrets</b> dalam format: <br><br><pre> <code class="bash hljs">&lt;user&gt; * &lt;password&gt; *</code> </pre> <br>  Sebagai contoh: <br><br><pre> <code class="bash hljs">aws_user * Pa$<span class="hljs-variable"><span class="hljs-variable">$w0rd</span></span> *</code> </pre> <br>  Saat menghubungkan ke klien ppp, dimungkinkan untuk melewati sejumlah opsi untuk mengkonfigurasi antarmuka jaringan dan tabel perutean pada bagiannya. <br><br>  Dalam file <b>/etc/ppp/options.xl2tpd</b> , setel opsi ini: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  xl2tpd  ip   ipcp-accept-local ipcp-accept-remote #    defaultroute   Windows-    nodefaultroute noccp auth #   RRAS  Windows-  mschap-v2   require-mschap-v2 #   MTU  MRU mtu 1410 mru 1410 lock</span></span></code> </pre><br>  Karena  kita tidak perlu memberikan alamat dns, menang, dll ke klien.  hal - semua opsi lain perlu dikomentari. <br><br>  Di sini Anda memerlukan penjelasan tentang konfigurasi. <br><br>  Perilaku standar untuk koneksi VPN adalah menginstal Rute Default baru di tabel klien, yang memaksa semua lalu lintas dari itu ke Internet untuk "pergi" melalui server vpn.  Dalam kasus kami, ini salah, karena  tujuan gerbang Windows adalah untuk menyediakan akses simulasi ke Internet dari jaringan kantor virtual di belakangnya di hypervisor dan untuk mempublikasikan sumber daya layanan internal ke luar melalui AWS: EC2, sehingga tidak rasional untuk mengarahkan semua lalu lintas melalui instance ke AWS: EC2.  Inilah sebabnya mengapa Anda perlu mencegah koneksi VPN di RRAS dari mengubah rute default (ke router rumah). <br><br>  Penting juga untuk memilih nilai MTU dan MRU yang benar: kami menggunakan tunneling IPSec dan ukuran muatan yang terlalu besar mungkin tidak sesuai dengan batas enkapsulasi, yang akan menyebabkan fragmentasi dan kemungkinan besar kesalahan.  Jika itu muncul, coba pertama-tama untuk mengurangi nilai-nilai ini, misalnya, ke 1280. Nilai-nilai yang ditunjukkan dalam konfigurasi yang diberikan kompatibel dengan klien Windows VPN. <br><br><h3>  Masih mengkonfigurasi xl2tpd </h3><br>  Kami mengkonfigurasi semua yang diperlukan dalam file konfigurasi xl2tpd <b>/etc/xl2tpd/xl2tpd.conf</b> : <br><br><pre> <code class="bash hljs">[global] port=1701 ipsec saref = yes ; ,      ;debug tunnel = yes ;debug avp = yes ;debug network = yes ;debug state = yes ;debug tunnel = yes [lns default] name = AWSvpnServer ;       ppp ip range = 10.100.0.2-10.100.0.2 ;    ppp0 AWS:EC2  <span class="hljs-built_in"><span class="hljs-built_in">local</span></span> ip = 10.100.0.1 require authentication = yes require chap = yes refuse pap = yes pppoptfile = /etc/ppp/options.xl2tpd length bit = yes</code> </pre><br><h3>  Kami memeriksa semua yang telah kami lakukan </h3><br>  Kami mencoba menjalankan kedua layanan dan memeriksa konfigurasi: <br><br><pre> <code class="bash hljs">service ipsec start service xl2tpd start ipsec verify</code> </pre><br>  Layanan mungkin sudah berjalan, dalam hal ini mereka hanya restart. <br><br>  Jika semuanya baik-baik, maka keluaran dari ipsec verifikasi harus sama dengan tangkapan layar: <br><br><img src="https://habrastorage.org/webt/o1/rv/br/o1rvbrchcizb6jn9qewgrj_hrn4.png"><br><br>  Anda dapat men-debug xl2tpd secara interaktif dengan menjalankannya dengan sakelar -D dan menggantungnya di â€œjendelaâ€ terpisah dari terminal SSH menggunakan utilitas <b>layar</b> : <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># xl2tpd -D</span></span></code> </pre> <br>  Dalam hal ini, proses xl2tpd tidak akan masuk ke latar belakang, tetapi akan menampilkan semua aktivitasnya di layar terminal. <br><br>  Jika ada masalah, Anda perlu menghapus komentar opsi debugging di konfigurasi (lihat komentar) dan lihat isi log sistem dan file <b>/var/log/pluto.log</b> .  Perlu juga memperhatikan konten opsi <b>virtual_private / virtual-private</b> dalam file <b>/etc/ipsec.conf</b> , ini mencantumkan semua jaringan pribadi yang tersedia untuk bertukar data melalui IPSec.  Jika karena alasan tertentu Anda memiliki pengalamatan sendiri, misalnya, Anda menggunakan kumpulan alamat IPv4 putih Anda sendiri, Anda harus membuat perubahan pada parameter ini. <br><br><h3>  Mari kita beralih ke langkah terakhir - mengatur layanan RRAS di gerbang Windows dan memeriksa publikasi layanan dari Internet </h3><br>  Diasumsikan bahwa hypervisor rumah Anda memiliki mesin virtual yang menjalankan Windows 2012R2 atau lebih baru, yang digunakan dalam mode grafis (Desktop), dan ada dua adapter jaringan dalam mesin virtual ini: satu melihat ke jaringan rumah dan memiliki router rumah sebagai rute default dan yang lainnya menjadi jaringan â€œkantorâ€ virtual lokal, di mana ada layanan yang diterbitkan di luar.  Domain Windows adalah opsional, kecuali tentu saja layanan itu sendiri memerlukannya. <br><br>  Kami menginstal semua peran yang diperlukan menggunakan Server Manager atau menggunakan cmdlet PowerShell <b>Install-WindowsFeature</b> : <br><br><img src="https://habrastorage.org/webt/lv/vw/ul/lvvwull1qus2dpgplvaxfvjv_gq.png"><img src="https://habrastorage.org/webt/pc/ag/80/pcag80h9dc8jq6gtim8jbdoeseq.png"><br><br>  Di sini saya mendemonstrasikan pemasangan peran melalui grafik, karena dengan begitu masih akan lebih mudah untuk memanggil wizard pengaturan dari Server Manager dan mengkonfigurasi layanan RRAS sendiri dalam jadwal, yang akan menyenangkan kita dengan antarmuka lama yang baik dari saat Windows Server 2003: <br><br><img src="https://habrastorage.org/webt/ai/rx/hz/airxhzrmjcbvyopop4rt_rcu4ga.png"><br><br>  Klik RMB di server Anda, pilih <b>"Konfigurasi dan Aktifkan Perutean dan Akses Jarak Jauh"</b> lalu konfigurasikan secara manual: <br><br><img src="https://habrastorage.org/webt/na/gj/bc/nagjbch0d6jxmyjzgywhnqqe17s.png"><br><br>  Silakan pilih semua gagak, lengkapi wizard dan mulai layanan: <br><br><img src="https://habrastorage.org/webt/ku/ir/sq/kuirsqjvnmskwfjrikybcl2kacu.png"><br><br>  Pertama, mari kita lepaskan jaringan area lokal virtual kami di luar.  Kami pergi ke IPv4-&gt; NAT dan membuat antarmuka baru, sebagai antarmuka yang ada di mana NAT akan diimplementasikan, pilih antarmuka eksternal (yang terlihat di Internet, atau lebih tepatnya di jaringan rumah Anda), tandai sebagai publik dan aktifkan NAT di atasnya: <br><br><img src="https://habrastorage.org/webt/gk/zh/lx/gkzhlxjyvjsgkhdnfvaqyhcn3xo.png"><img src="https://habrastorage.org/webt/kw/wx/xw/kwwxxw5u1gtezu2moo-3beokuli.png"><br><br>  Kami memeriksa bagaimana lalu lintas dari LAN virtual keluar melalui gerbang kami.  Kami belum perlu mengkonfigurasi Windows Firewall. <br><br>  Jika semuanya baik-baik saja, kami akhirnya akan menciptakan apa yang kami perjuangkan, koneksi VPN ke instance AWS kami dan memeriksa publikasi layanan kami.  Kami masuk ke snap-in RRAS ke <b>â€œNetwork Interfacesâ€</b> dan membuat antarmuka Demand-dial baru dengan nama arbitrer: <br><br><img src="https://habrastorage.org/webt/-v/04/yx/-v04yxa-najhry2evwovvtydsby.png"><br><br>  Segera pilih koneksi L2TP, sehingga antarmuka baru kami tidak akan secara otomatis mencoba menentukan jenis VPN dan akibatnya koneksi akan lebih cepat: <br><br><img src="https://habrastorage.org/webt/jg/mw/xb/jgmwxbg1nzbih2grilgopxrlfv8.png"><br><br>  Selanjutnya dalam wizard kami menunjukkan alamat publik cloud kami (dalam kasus saya, Elastic IP).  Pada langkah selanjutnya, biarkan semuanya apa adanya, karena  kami tidak memerlukan koneksi situs ke situs: <br><br><img src="https://habrastorage.org/webt/fa/fn/p7/fafnp7fmggqxnbmosjcpdkx1wck.png"><img src="https://habrastorage.org/webt/d1/zc/wm/d1zcwmsgomejupu7if4ynp2rqjk.png"><br><br>  Tentukan akun pengguna di mana kami mengkonfigurasi koneksi ppp (dalam file <b>/ etc / ppp / chap-secrets</b> ).  Tidak diperlukan nama domain: <br><br><img src="https://habrastorage.org/webt/zc/to/ei/zctoei91of_eyji6fncqhgvcii4.png"><br><br>  Wizard membuat koneksi baru.  Sekarang tinggal mengkonfigurasinya.  Kami akan menyesuaikan batas waktu idle (Idle-time), menghapus CHAP yang ketinggalan zaman hanya mendukung MS-CHAPv2, tentukan kunci PSK di â€œProperti Lanjutanâ€ (yang ditetapkan untuk xl2tpd dalam file /etc/ipsec.d/aws_vpn. rahasia) dan hapus IPv6: <br><br><img src="https://habrastorage.org/webt/a0/qf/tf/a0qftfatglil4qkjv-hyn5hzvlc.png"><img src="https://habrastorage.org/webt/ax/hy/hu/axhyhuwgchr9z2vhmel17jjbx1s.png"><img src="https://habrastorage.org/webt/vq/xl/qz/vqxlqzejzpi3rs0i9x0r5ol9fkg.png"><img src="https://habrastorage.org/webt/km/ro/um/kmroumh0brc2_yq3przzb-a7jm8.png"><br><br>  Setelah membuat antarmuka baru, Anda juga harus masuk ke properti layanan RRAS itu sendiri, mengaktifkan kebijakan IPSec Anda untuk L2TP dan menentukan PSK Anda.  Mereka diminta untuk memulai kembali layanan RRAS. <br><br><img src="https://habrastorage.org/webt/h8/0w/zk/h80wzkz1pfymizhrqruvwrgj9di.png"><br><br>  Tampaknya semuanya dapat dengan aman mengangkat antarmuka baru dan menikmati pekerjaan.  Tapi tidak.  Karena kenyataan bahwa kami menggunakan NAT di sisi AWS: EC2 misalnya, klien Windows VPN tidak akan dapat terhubung ke node Nat-Traversal tersebut.  Ini berlaku untuk versi klien (hingga yang terbaru pada saat penulisan artikel Windows 10 build ini) dan untuk versi server. <br><br>  Untungnya, ada solusi resmi untuk masalah ini dalam bentuk suntingan di registri pengaturan layanan Kebijakan IPSec diikuti oleh reboot: <br><br>  Di <br>  <b>HKEY_LOCAL_MACHINE \ SYSTEM \ CurrentControlSet \ Services \ PolicyAgent</b> <br>  buat kunci DWORD (32-bit) <br>  <b>AsumsikanUDPEncapsulationContextOnSendRule = 2</b> <br>  dan reboot Windows Gate kami. <br><br>  Layanan RRAS sayangnya terkenal karena ketidakteraturan dalam konfigurasi dan operasi, dan bahkan setelah reboot, ia melakukan awal yang tertunda.  Jadi Anda dapat mempercepatnya setelah reboot. <br>  Jika semuanya dilakukan dengan benar, koneksi akan berfungsi dalam 5-10 detik. <br><br>  Masih membuat publikasi sumber daya yang diperlukan di gerbang Windows itu sendiri. <br><br>  Untuk pengujian kami akan mengerjakan publikasi dari server web.  Pertama, lihat terowongan IPSec kami dan aturan iptables. <br><br>  Dengan tangan gemetar, kami memeriksa dari PC sewenang-wenang yang terhubung ke Internet: <br><br><img src="https://habrastorage.org/webt/ho/yg/c-/hoygc-blrya-dt30hytsmdruezg.png"><img src="https://habrastorage.org/webt/8v/yc/q7/8vycq7c2bsc6dqjcc3t7qzcacje.png"><br><br>  Wow, berhasil ... <br><br>  Selama instalasi peran yang diperlukan, MS IIS "asli" dipasang secara paksa, tetapi kami menginginkannya lebih mudah.  Untuk ini, pada platform Windows, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b>HFS</b></a> (HTTP File Server) sangat cocok - gratis, tidak memerlukan instalasi, memberikan halaman tertentu dan header HTTP, dapat bekerja pada port arbitrary (secara default adalah 8080, jadi dalam kasus kami perlu mengkonfigurasi ulang ke 80), dan juga segera menulis di konsolnya dari mana koneksi berasal, yang sangat nyaman untuk debugging publikasi banyak sumber daya web pada platform Windows.  Untuk menggunakannya, Anda harus terlebih dahulu menghentikan situs MS IIS untuk melepaskan ikatan server tertanam dari port yang diperlukan.  Karena kami tidak ingin menginstal konsol manajemen MS IIS (pada kenyataannya, konsol MS IIS 6 akan hadir untuk kompatibilitas, tetapi IIS 7+ tidak dapat dikontrol melalui itu), kami akan melakukan ini melalui PowerShell: <br><br><pre> <code class="bash hljs">Stop-WebSite -Name <span class="hljs-string"><span class="hljs-string">"Default Web Site"</span></span></code> </pre> <br>  atau cukup melalui utilitas manajemen iisreset: <br><br><pre> <code class="bash hljs">iisreset /stop</code> </pre> <br>  Setelah itu, Anda harus mengizinkan lalu lintas masuk ke port 80 di Firewall Windows bawaan. <br>  Kami memulai HFS dan memeriksa: <br><br><img src="https://habrastorage.org/webt/ti/u2/bc/tiu2bcpm3ynhzteryfe9njxvfq4.png"><br><br>  Semuanya bagus.  Kami telah mencapai hal itu dari mana saja di Internet, Anda dapat melihat server web yang tinggal di rumah kami sebagai mesin virtual dalam hypervisor sewenang-wenang. <br><br>  Sentuhan terakhir: kami mengajarkan RRAS untuk meneruskan semua permintaan seperti itu dari luar ke jaringan kantor virtual, di mana menurut legenda, kami memiliki server web lain. <br><br>  Untuk melakukan ini, kita kembali ke snap-in manajemen RRAS di IPv4-&gt; NAT dan RMB pada antarmuka VPN kami, di mana kami memilih tab <b>"Layanan dan Port"</b> , tandai di daftar Server Web dan tentukan server web di jaringan virtual internal yang sumber dayanya ingin kami publikasikan ke internet: <br><br><img src="https://habrastorage.org/webt/d7/bq/jv/d7bqjv0ir3a2l8w4vzxpdax8nra.png"><br><br>  Klik OK dan ... semuanya sudah siap.  Kami memeriksa - semuanya akan berfungsi dengan baik. <br><br>  Sedemikian sederhana, Anda dapat dengan cepat mempublikasikan hampir semua layanan dan sumber daya, dari situs, server mail ke beberapa integrasi kompleks.  Biasanya, untuk sebagian besar dari mereka, Anda harus memiliki domain DNS Anda sendiri dengan kemampuan untuk membuat subdomain di dalamnya dan mengedit catatan yang diperlukan.  Juga disarankan untuk menggunakan sertifikat SSL untuk menerbitkan sumber daya web, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berkat LetsEncrypt</a> dan layanan yang kompatibel dengan ACME lainnya, semua ini dapat dilakukan sepenuhnya gratis dan dengan pembaruan otomatis. <br><br>  Ketika Anda me-restart instance, alamat IPv4 publik tidak berubah - hanya ketika dihentikan, tetapi masih disarankan untuk menggunakan alamat IPv4 statis di AWS: EC2.  Statis dalam arti bahwa ketika Anda mematikan instance Anda, itu akan tetap ditugaskan untuk itu, dan tidak akan jatuh ke kolam renang umum umum.  Tentu saja, ini perlu agar tidak mengganggu setiap saat dengan konfigurasi ulang catatan DNS di domain, dan tidak ada yang membatalkan TTL dengan caching.  Harganya banyak uang dan disebut, seperti yang telah disebutkan di atas, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IP Elastis</a> . <br><br><h3>  Otomatisasi proses primitif </h3><br>  Akhirnya, saya ingin menyebutkan fitur hebat lainnya dari AWS: EC2 - konfigurasi cepat instance yang dapat digunakan.  Ada banyak opsi penyebaran cepat di AWS: EC2, hingga layanan khusus (dan agak rumit, tetapi sangat kuat), tetapi ada yang paling sederhana: pada langkah 3 di wisaya untuk membuat contoh baru di bagian bawah adalah bidang <b>"Data pengguna"</b> .  Anda dapat menempatkan skrip di bash atau bahkan PowerShell di dalamnya (dalam hal instance untuk Windows), dan skrip ini akan dieksekusi secara otomatis segera setelah membuat instance. <br>  Yaitu  Anda dapat sedikit memodifikasi semua perintah dan konfigurasi di atas untuk membuat skrip bash Anda sendiri dan menggunakannya untuk dengan cepat meningkatkan router AWS: EC2 virtual tersebut.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pelajari lebih lanjut tentang fitur ini</a> . <br><br>  Terima kasih telah meluangkan waktu untuk membaca artikel ini. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id470047/">https://habr.com/ru/post/id470047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id470033/index.html">F # 2: Lingkungan FSI</a></li>
<li><a href="../id470035/index.html">Generator delusi: membuat teks dalam bahasa apa pun menggunakan jaringan saraf</a></li>
<li><a href="../id470037/index.html">F # 3: Pemformatan Teks</a></li>
<li><a href="../id470043/index.html">Ilmu di balik cara kerja otak kita yang terbaik, dan bagaimana teknologi dan lingkungan kita dapat membantu</a></li>
<li><a href="../id470045/index.html">Visual Studio untuk Mac: Fitur Utama Editor Baru</a></li>
<li><a href="../id470049/index.html">Memperkenalkan Manajemen Paket NuGet tingkat solusi dalam Visual Studio untuk Mac</a></li>
<li><a href="../id470055/index.html">Memperkenalkan Level Solusi Manajemen Paket NuGet di Visual Studio untuk Mac</a></li>
<li><a href="../id470057/index.html">Visual Studio untuk Mac: 5 Fitur Keren Baru</a></li>
<li><a href="../id470061/index.html">Cara menulis lebih sedikit kode dan lebih masuk akal</a></li>
<li><a href="../id470063/index.html">Semantik maya tanpa SMS dan registrasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>