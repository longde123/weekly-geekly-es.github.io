<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏽 🏂🏽 🕢 Configurer le contrôle infrarouge du climatiseur à partir de gadgets ou «Préparer le chariot en été» 🐻 🐗 👩🏾‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les systèmes domotiques modernes, le contrôle climatique le plus souvent dans la liste des tâches à résoudre est en deuxième position après avoir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Configurer le contrôle infrarouge du climatiseur à partir de gadgets ou «Préparer le chariot en été»</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/iridiummobile/blog/389049/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les systèmes domotiques modernes, le contrôle climatique le plus souvent dans la liste des tâches à résoudre est en deuxième position après avoir travaillé avec des appareils d'éclairage. La gamme d'équipements utilisés dans ce scénario est très large. Les lignes supérieures sont occupées par des appareils professionnels de CVC (chauffage, ventilation et climatisation - chauffage, ventilation et climatisation), y compris le chauffage par le sol, les systèmes de recirculation d'air et les plafonds froids. Dans le segment accessible, nous voyons les climatiseurs domestiques traditionnels et de nombreux radiateurs électriques et chaudières à gaz, et les tâches de ventilation sont le plus souvent résolues par la méthode «manuelle» d'ouverture des fenêtres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus pratique de contrôler le climatiseur est de s'y connecter via une interface spécialisée qui fournit non seulement l'envoi de commandes, mais également la surveillance de l'état, ainsi que des informations sur l'état et les éventuels dysfonctionnements. Cependant, cette option n'est disponible que sur certains modèles, elle peut nécessiter l'achat d'unités supplémentaires et elle peut difficilement être qualifiée de abordable. Cependant, aujourd'hui, avec la prolifération de normes telles que AllJoyn, HomeKit et SmartThings, des modèles similaires </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commencent à apparaître</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le segment plus de masse.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, il existe un autre moyen de contrôler le climatiseur - en utilisant le canal IR. </font><font style="vertical-align: inherit;">Les avantages de cette approche incluent la polyvalence (un émetteur IR peut servir simultanément différents équipements dans la pièce) et son faible coût. </font><font style="vertical-align: inherit;">L'inconvénient est l'absence totale de rétroaction de l'appareil géré. </font><font style="vertical-align: inherit;">De plus, cette solution ne garantit même pas la livraison des commandes. </font><font style="vertical-align: inherit;">Dans quelle mesure cette méthode est appropriée pour vous de décider, cependant, à notre avis, la disponibilité d'une telle option est préférable à un manque total de contrôle.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez l'équipement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons quelles sont les options pour envoyer des commandes IR. </font><font style="vertical-align: inherit;">L'un des plus populaires et universels d'aujourd'hui peut être appelé les appareils fabriqués par Global Cache. </font><font style="vertical-align: inherit;">La gamme de produits comprend une douzaine et demi de modèles qui fournissent une surveillance et un contrôle via IR, RS-232 et contacts secs. </font><font style="vertical-align: inherit;">Nous recommandons ces solutions fiables pour cette tâche dans le cadre d'une installation professionnelle, dont vous devrez assumer la responsabilité.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a93/ea6/8ea/a93ea68ea44142e7890d4f375676697c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour fonctionner avec tous les émetteurs, une interface réseau (filaire ou sans fil) et un protocole basé sur TCP / IP sont utilisés. </font><font style="vertical-align: inherit;">La disponibilité d'une documentation détaillée facilite l'intégration de ces solutions dans votre système d'automatisation. </font><font style="vertical-align: inherit;">Notez que le progiciel iRidium dispose d'une base de données de configuration intégrée pour l'équipement Global Cache, ce qui simplifie encore plus leur utilisation.</font></font><br>
<br>
<img src="https://habrastorage.org/files/7a8/b50/257/7a8b50257c194044b1f6bd25ce85b094.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'inconvénient des appareils de ce fabricant est leur coût assez élevé. Comme alternative plus abordable, en particulier pour ceux qui aiment tout faire de leurs propres mains, nous pouvons appeler la fabrication d'un émetteur basé sur un microcontrôleur. La plate-forme Arduino bien connue est bien adaptée pour la formation et l'assemblage de planche à pain. Vous aurez besoin de n'importe quelle carte (les exigences en entrées et sorties dans ce projet sont minimes), une interface réseau ou un module approprié pour fournir un accès à distance, une LED infrarouge et juste quelques détails supplémentaires. Des exemples de tels appareils sur le réseau peuvent être facilement trouvés et adaptés à vos tâches (voir, par exemple, une option de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SparkFun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/files/71f/96f/1f0/71f96f1f0d484f9e9553cb522e82daa2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est également conseillé d'acheter un module récepteur IR, nécessaire pour étudier le protocole de votre climatiseur. </font><font style="vertical-align: inherit;">Notez que l'un des principaux paramètres du protocole IR physique est la fréquence de modulation (les valeurs les plus courantes sont 38 et 36 kHz). </font><font style="vertical-align: inherit;">Il est possible «d'apprendre» à un appareil à transmettre des données à différentes fréquences, mais les récepteurs sont réglés sur une valeur fixe, ce qui peut prendre plusieurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous étudions le protocole</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'étape suivante consiste à décrypter le protocole de contrôle de votre climatiseur. La télécommande a généralement un ensemble de boutons de base - augmenter et diminuer la température, sélectionner un mode, contrôler le ventilateur, sélectionner la direction de la sortie d'air, éteindre. </font></font><br>
<br>
<img src="https://habrastorage.org/files/998/d12/511/998d125112464cdeb5b5163c8d278461.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement aux équipements audio-vidéo, la télécommande du climatiseur de chaque commande envoyée utilise un ensemble complet de tous les paramètres. Ainsi, l'option traditionnelle de «pousser les boutons, enregistrer toutes les commandes, lire les enregistrements», qui ne nécessite généralement pas la connaissance des détails du protocole, ne convient pas ici.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre cas, nous devons d'abord créer des enregistrements dans lesquels un seul paramètre change, par exemple la température. Ensuite, corrigez-le et essayez de modifier un autre paramètre en écrivant des données dans le deuxième groupe. Notez que si vous utilisez Arduino, alors, très probablement, vous devez corriger les fichiers de la bibliothèque standard pour augmenter la durée maximale de la commande enregistrée en mode RAW. </font></font><br>
<br>
<img src="https://habrastorage.org/files/53b/e26/989/53be2698903e4fac8f74161e3c298d67.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans entrer dans les détails, nous montrons quelques exemples. La sortie de Global Cache dans l'utilitaire propriétaire iLearn pourrait ressembler à ceci:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sendir, 1: 1,24,37914,1,1,116,115,116,168,22,62,21,20,22,62,21,20,22,20,21,62,22,20,21,62,21,20, 21,63,21,62,21,21,21,20,21,21,21,62,21,62,21,20,22,20,21,62,22,62,21,20,22, 20,21,62,21,21,21,20,22,20,21,21,21,62,21,21,21,62,21,62,21,21,21,20,21,21, 21,21,21,20,21,63,21,62,21,20,21,21,21,62,21,63,21,20,21,21,21,21,21,20,21, 21,21,20,21,21,21,21,21,62,21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,21, 21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,63,21,62,21,62,21,63,22,20,21, 21,21,3700</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la bibliothèque </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IRremote</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'Arduino, le format de sortie est différent:</font></font><br>
<br>
<pre>Raw (150): 4316 3050 -3000 3050 -4350 600 -1600 550 -550 550 -1600 600 -500 550 -550 550 -1600 600 -500 600 -1550 550 -550 650 -1500 600 -500 650 -450 550 -550 600 -1550 550 -1600 600 -500 650 -450 650 -450 600 -1550 650 -450 600 -500 600 -500 600 -450 650 -450 600 -500 600 -450 650 -1550 550 -550 600 -1550 550 -550 600 -500 600 -450 650 -450 650 -450 600 -500 600 -500 600 -1550 600 -1550 600 -500 650 -450 600 -500 600 -500 550 -500 600 -500 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 650 -1550 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 600 -500 600 -500 600 -500 550 -500 650 -450 650 -450 600 -450 650 -450 600 -1600 600 -500 500 -1650 600 -1550 650 -1550 600 -1550 650 -1550 600</pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par de simples manipulations à partir des données des lignes enregistrées (par exemple, les matériaux de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site </font><font style="vertical-align: inherit;">peuvent aider ici </font><font style="vertical-align: inherit;">), nous obtenons des codes binaires, qui, dans notre cas, ont une taille de neuf octets. </font><font style="vertical-align: inherit;">Après avoir recherché tous les paramètres, il a été possible de découvrir le codage utilisé par notre climatiseur, produit par la marque la plus célèbre, les domaines:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10100101 tttt011p dd100000 00101000 00001100 ff000000 mmm00000 00000000 ssssssss</font></font><font></font>
                                                              <font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tttt: température préréglée -16 (réglage - de 16 à 30 degrés)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p: 0 - activer, 1 - désactiver </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dd: swing (00 - auto, 01 - haut, 10 - bas, 11 - mouvement)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ff: ventilateur (00 - automatique, 11 - première vitesse, 10 - deuxième vitesse, 01 - troisième vitesse)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mmm: mode (000 - auto, 001 - refroidissement, 010 - vidange, 011 - chauffage, 100 - ventilateur)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ssssssss: checksum (la somme des huit premiers octets modulo 256)</font></font><font></font>
</pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous gérons</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ces données, il est déjà facile d'écrire un programme pour créer les codes binaires requis pour le contrôle de la climatisation pour Global Cache et Arduino. </font><font style="vertical-align: inherit;">Dans ce cas, il est souhaitable d'utiliser un contrôleur ou un panneau avec un support de programmation, qui vous permettra de générer les commandes nécessaires "à la volée", en y enregistrant tous les paramètres, comme le fait la télécommande d'origine. </font><font style="vertical-align: inherit;">En particulier, dans iRidium Mobile à cet effet, vous pouvez utiliser la possibilité de programmer en JavaScript, et d'envoyer au périphérique exécutif via un réseau local, vous avez besoin du pilote AV &amp; Custom Systems.</font></font><br>
<br>
<img src="https://habrastorage.org/files/44b/72a/eaa/44b72aeaa1c74802882b514099aecf1c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez qu'ici, vous pouvez également implémenter et afficher le mode actuel du climatiseur. Cependant, il faut savoir que les informations proviendront des variables internes du panneau de commande, et non directement du climatiseur, car la commande IR est dans ce cas unilatérale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de l'utilisation de plusieurs climatiseurs dans la même pièce, ainsi que pour une livraison plus fiable des commandes IR, il peut être nécessaire d'installer des LED IR directement sur les fenêtres des récepteurs de chaque appareil. </font></font><br>
<br>
<img src="https://habrastorage.org/files/0a4/849/138/0a48491389b8421d9cc79639dc34cb41.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a qu'un seul climatiseur dans la pièce, un émetteur IR correctement installé peut être suffisant, ce qui est également utile pour contrôler d'autres équipements, tels qu'un ventilateur ou un centre de musique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nécessaire, le système de contrôle peut être complété par des capteurs de température réels, un capteur de consommation de climatiseur (pour contrôler son inclusion), un capteur de fenêtre pour bloquer le fonctionnement, des modes de contrôle automatique, en tenant compte de la dynamique de la température de la rue, un calendrier et d'autres fonctionnalités.</font></font><br>
</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr389049/">https://habr.com/ru/post/fr389049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr389035/index.html">Scanner de livres bricolage</a></li>
<li><a href="../fr389039/index.html">Pilote de carte graphique: alors à qui appartient le bug?</a></li>
<li><a href="../fr389041/index.html">Everykey: la clé universelle de vos gadgets</a></li>
<li><a href="../fr389043/index.html">Evolution des supports de stockage, partie 4: disques SSD</a></li>
<li><a href="../fr389045/index.html">Elon Musk n'a pas peur de la voiture électrique d'Apple: la rivalité sera utile à l'industrie</a></li>
<li><a href="../fr389051/index.html">CNET Smart Home: terrain d'essai de gadgets</a></li>
<li><a href="../fr389053/index.html">Maison intelligente. Cerveaux</a></li>
<li><a href="../fr389057/index.html">CES 2016: LG et Samsung annoncent une maison intelligente</a></li>
<li><a href="../fr389063/index.html">Comment les voitures carrées des années 80 ont été rationalisées par les années 90</a></li>
<li><a href="../fr389065/index.html">La sonde de l'aube a envoyé des photos détaillées des cratères de Ceres</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>