<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö¥üèΩ üèÇüèΩ üï¢ Configurer le contr√¥le infrarouge du climatiseur √† partir de gadgets ou ¬´Pr√©parer le chariot en √©t√©¬ª üêª üêó üë©üèæ‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les syst√®mes domotiques modernes, le contr√¥le climatique le plus souvent dans la liste des t√¢ches √† r√©soudre est en deuxi√®me position apr√®s avoir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Configurer le contr√¥le infrarouge du climatiseur √† partir de gadgets ou ¬´Pr√©parer le chariot en √©t√©¬ª</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/iridiummobile/blog/389049/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les syst√®mes domotiques modernes, le contr√¥le climatique le plus souvent dans la liste des t√¢ches √† r√©soudre est en deuxi√®me position apr√®s avoir travaill√© avec des appareils d'√©clairage. La gamme d'√©quipements utilis√©s dans ce sc√©nario est tr√®s large. Les lignes sup√©rieures sont occup√©es par des appareils professionnels de CVC (chauffage, ventilation et climatisation - chauffage, ventilation et climatisation), y compris le chauffage par le sol, les syst√®mes de recirculation d'air et les plafonds froids. Dans le segment accessible, nous voyons les climatiseurs domestiques traditionnels et de nombreux radiateurs √©lectriques et chaudi√®res √† gaz, et les t√¢ches de ventilation sont le plus souvent r√©solues par la m√©thode ¬´manuelle¬ª d'ouverture des fen√™tres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus pratique de contr√¥ler le climatiseur est de s'y connecter via une interface sp√©cialis√©e qui fournit non seulement l'envoi de commandes, mais √©galement la surveillance de l'√©tat, ainsi que des informations sur l'√©tat et les √©ventuels dysfonctionnements. Cependant, cette option n'est disponible que sur certains mod√®les, elle peut n√©cessiter l'achat d'unit√©s suppl√©mentaires et elle peut difficilement √™tre qualifi√©e de abordable. Cependant, aujourd'hui, avec la prolif√©ration de normes telles que AllJoyn, HomeKit et SmartThings, des mod√®les similaires </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commencent √† appara√Ætre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le segment plus de masse.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, il existe un autre moyen de contr√¥ler le climatiseur - en utilisant le canal IR. </font><font style="vertical-align: inherit;">Les avantages de cette approche incluent la polyvalence (un √©metteur IR peut servir simultan√©ment diff√©rents √©quipements dans la pi√®ce) et son faible co√ªt. </font><font style="vertical-align: inherit;">L'inconv√©nient est l'absence totale de r√©troaction de l'appareil g√©r√©. </font><font style="vertical-align: inherit;">De plus, cette solution ne garantit m√™me pas la livraison des commandes. </font><font style="vertical-align: inherit;">Dans quelle mesure cette m√©thode est appropri√©e pour vous de d√©cider, cependant, √† notre avis, la disponibilit√© d'une telle option est pr√©f√©rable √† un manque total de contr√¥le.</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choisissez l'√©quipement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons quelles sont les options pour envoyer des commandes IR. </font><font style="vertical-align: inherit;">L'un des plus populaires et universels d'aujourd'hui peut √™tre appel√© les appareils fabriqu√©s par Global Cache. </font><font style="vertical-align: inherit;">La gamme de produits comprend une douzaine et demi de mod√®les qui fournissent une surveillance et un contr√¥le via IR, RS-232 et contacts secs. </font><font style="vertical-align: inherit;">Nous recommandons ces solutions fiables pour cette t√¢che dans le cadre d'une installation professionnelle, dont vous devrez assumer la responsabilit√©.</font></font><br>
<br>
<img src="https://habrastorage.org/files/a93/ea6/8ea/a93ea68ea44142e7890d4f375676697c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour fonctionner avec tous les √©metteurs, une interface r√©seau (filaire ou sans fil) et un protocole bas√© sur TCP / IP sont utilis√©s. </font><font style="vertical-align: inherit;">La disponibilit√© d'une documentation d√©taill√©e facilite l'int√©gration de ces solutions dans votre syst√®me d'automatisation. </font><font style="vertical-align: inherit;">Notez que le progiciel iRidium dispose d'une base de donn√©es de configuration int√©gr√©e pour l'√©quipement Global Cache, ce qui simplifie encore plus leur utilisation.</font></font><br>
<br>
<img src="https://habrastorage.org/files/7a8/b50/257/7a8b50257c194044b1f6bd25ce85b094.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'inconv√©nient des appareils de ce fabricant est leur co√ªt assez √©lev√©. Comme alternative plus abordable, en particulier pour ceux qui aiment tout faire de leurs propres mains, nous pouvons appeler la fabrication d'un √©metteur bas√© sur un microcontr√¥leur. La plate-forme Arduino bien connue est bien adapt√©e pour la formation et l'assemblage de planche √† pain. Vous aurez besoin de n'importe quelle carte (les exigences en entr√©es et sorties dans ce projet sont minimes), une interface r√©seau ou un module appropri√© pour fournir un acc√®s √† distance, une LED infrarouge et juste quelques d√©tails suppl√©mentaires. Des exemples de tels appareils sur le r√©seau peuvent √™tre facilement trouv√©s et adapt√©s √† vos t√¢ches (voir, par exemple, une option de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SparkFun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/files/71f/96f/1f0/71f96f1f0d484f9e9553cb522e82daa2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©galement conseill√© d'acheter un module r√©cepteur IR, n√©cessaire pour √©tudier le protocole de votre climatiseur. </font><font style="vertical-align: inherit;">Notez que l'un des principaux param√®tres du protocole IR physique est la fr√©quence de modulation (les valeurs les plus courantes sont 38 et 36 kHz). </font><font style="vertical-align: inherit;">Il est possible ¬´d'apprendre¬ª √† un appareil √† transmettre des donn√©es √† diff√©rentes fr√©quences, mais les r√©cepteurs sont r√©gl√©s sur une valeur fixe, ce qui peut prendre plusieurs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous √©tudions le protocole</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tape suivante consiste √† d√©crypter le protocole de contr√¥le de votre climatiseur. La t√©l√©commande a g√©n√©ralement un ensemble de boutons de base - augmenter et diminuer la temp√©rature, s√©lectionner un mode, contr√¥ler le ventilateur, s√©lectionner la direction de la sortie d'air, √©teindre. </font></font><br>
<br>
<img src="https://habrastorage.org/files/998/d12/511/998d125112464cdeb5b5163c8d278461.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement aux √©quipements audio-vid√©o, la t√©l√©commande du climatiseur de chaque commande envoy√©e utilise un ensemble complet de tous les param√®tres. Ainsi, l'option traditionnelle de ¬´pousser les boutons, enregistrer toutes les commandes, lire les enregistrements¬ª, qui ne n√©cessite g√©n√©ralement pas la connaissance des d√©tails du protocole, ne convient pas ici.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre cas, nous devons d'abord cr√©er des enregistrements dans lesquels un seul param√®tre change, par exemple la temp√©rature. Ensuite, corrigez-le et essayez de modifier un autre param√®tre en √©crivant des donn√©es dans le deuxi√®me groupe. Notez que si vous utilisez Arduino, alors, tr√®s probablement, vous devez corriger les fichiers de la biblioth√®que standard pour augmenter la dur√©e maximale de la commande enregistr√©e en mode RAW. </font></font><br>
<br>
<img src="https://habrastorage.org/files/53b/e26/989/53be2698903e4fac8f74161e3c298d67.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans entrer dans les d√©tails, nous montrons quelques exemples. La sortie de Global Cache dans l'utilitaire propri√©taire iLearn pourrait ressembler √† ceci:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sendir, 1: 1,24,37914,1,1,116,115,116,168,22,62,21,20,22,62,21,20,22,20,21,62,22,20,21,62,21,20, 21,63,21,62,21,21,21,20,21,21,21,62,21,62,21,20,22,20,21,62,22,62,21,20,22, 20,21,62,21,21,21,20,22,20,21,21,21,62,21,21,21,62,21,62,21,21,21,20,21,21, 21,21,21,20,21,63,21,62,21,20,21,21,21,62,21,63,21,20,21,21,21,21,21,20,21, 21,21,20,21,21,21,21,21,62,21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,21, 21,21,21,20,21,21,21,20,21,21,21,21,21,20,21,63,21,62,21,62,21,63,22,20,21, 21,21,3700</font></font></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la biblioth√®que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IRremote</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'Arduino, le format de sortie est diff√©rent:</font></font><br>
<br>
<pre>Raw (150): 4316 3050 -3000 3050 -4350 600 -1600 550 -550 550 -1600 600 -500 550 -550 550 -1600 600 -500 600 -1550 550 -550 650 -1500 600 -500 650 -450 550 -550 600 -1550 550 -1600 600 -500 650 -450 650 -450 600 -1550 650 -450 600 -500 600 -500 600 -450 650 -450 600 -500 600 -450 650 -1550 550 -550 600 -1550 550 -550 600 -500 600 -450 650 -450 650 -450 600 -500 600 -500 600 -1550 600 -1550 600 -500 650 -450 600 -500 600 -500 550 -500 600 -500 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 650 -1550 600 -500 600 -500 600 -450 650 -450 600 -450 650 -450 600 -500 600 -500 600 -500 550 -500 650 -450 650 -450 600 -450 650 -450 600 -1600 600 -500 500 -1650 600 -1550 650 -1550 600 -1550 650 -1550 600</pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par de simples manipulations √† partir des donn√©es des lignes enregistr√©es (par exemple, les mat√©riaux de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site </font><font style="vertical-align: inherit;">peuvent aider ici </font><font style="vertical-align: inherit;">), nous obtenons des codes binaires, qui, dans notre cas, ont une taille de neuf octets. </font><font style="vertical-align: inherit;">Apr√®s avoir recherch√© tous les param√®tres, il a √©t√© possible de d√©couvrir le codage utilis√© par notre climatiseur, produit par la marque la plus c√©l√®bre, les domaines:</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10100101 tttt011p dd100000 00101000 00001100 ff000000 mmm00000 00000000 ssssssss</font></font><font></font>
                                                              <font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tttt: temp√©rature pr√©r√©gl√©e -16 (r√©glage - de 16 √† 30 degr√©s)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p: 0 - activer, 1 - d√©sactiver </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dd: swing (00 - auto, 01 - haut, 10 - bas, 11 - mouvement)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ff: ventilateur (00 - automatique, 11 - premi√®re vitesse, 10 - deuxi√®me vitesse, 01 - troisi√®me vitesse)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mmm: mode (000 - auto, 001 - refroidissement, 010 - vidange, 011 - chauffage, 100 - ventilateur)</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ssssssss: checksum (la somme des huit premiers octets modulo 256)</font></font><font></font>
</pre><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous g√©rons</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ces donn√©es, il est d√©j√† facile d'√©crire un programme pour cr√©er les codes binaires requis pour le contr√¥le de la climatisation pour Global Cache et Arduino. </font><font style="vertical-align: inherit;">Dans ce cas, il est souhaitable d'utiliser un contr√¥leur ou un panneau avec un support de programmation, qui vous permettra de g√©n√©rer les commandes n√©cessaires "√† la vol√©e", en y enregistrant tous les param√®tres, comme le fait la t√©l√©commande d'origine. </font><font style="vertical-align: inherit;">En particulier, dans iRidium Mobile √† cet effet, vous pouvez utiliser la possibilit√© de programmer en JavaScript, et d'envoyer au p√©riph√©rique ex√©cutif via un r√©seau local, vous avez besoin du pilote AV &amp; Custom Systems.</font></font><br>
<br>
<img src="https://habrastorage.org/files/44b/72a/eaa/44b72aeaa1c74802882b514099aecf1c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez qu'ici, vous pouvez √©galement impl√©menter et afficher le mode actuel du climatiseur. Cependant, il faut savoir que les informations proviendront des variables internes du panneau de commande, et non directement du climatiseur, car la commande IR est dans ce cas unilat√©rale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de l'utilisation de plusieurs climatiseurs dans la m√™me pi√®ce, ainsi que pour une livraison plus fiable des commandes IR, il peut √™tre n√©cessaire d'installer des LED IR directement sur les fen√™tres des r√©cepteurs de chaque appareil. </font></font><br>
<br>
<img src="https://habrastorage.org/files/0a4/849/138/0a48491389b8421d9cc79639dc34cb41.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a qu'un seul climatiseur dans la pi√®ce, un √©metteur IR correctement install√© peut √™tre suffisant, ce qui est √©galement utile pour contr√¥ler d'autres √©quipements, tels qu'un ventilateur ou un centre de musique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si n√©cessaire, le syst√®me de contr√¥le peut √™tre compl√©t√© par des capteurs de temp√©rature r√©els, un capteur de consommation de climatiseur (pour contr√¥ler son inclusion), un capteur de fen√™tre pour bloquer le fonctionnement, des modes de contr√¥le automatique, en tenant compte de la dynamique de la temp√©rature de la rue, un calendrier et d'autres fonctionnalit√©s.</font></font><br>
</div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr389049/">https://habr.com/ru/post/fr389049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr389035/index.html">Scanner de livres bricolage</a></li>
<li><a href="../fr389039/index.html">Pilote de carte graphique: alors √† qui appartient le bug?</a></li>
<li><a href="../fr389041/index.html">Everykey: la cl√© universelle de vos gadgets</a></li>
<li><a href="../fr389043/index.html">Evolution des supports de stockage, partie 4: disques SSD</a></li>
<li><a href="../fr389045/index.html">Elon Musk n'a pas peur de la voiture √©lectrique d'Apple: la rivalit√© sera utile √† l'industrie</a></li>
<li><a href="../fr389051/index.html">CNET Smart Home: terrain d'essai de gadgets</a></li>
<li><a href="../fr389053/index.html">Maison intelligente. Cerveaux</a></li>
<li><a href="../fr389057/index.html">CES 2016: LG et Samsung annoncent une maison intelligente</a></li>
<li><a href="../fr389063/index.html">Comment les voitures carr√©es des ann√©es 80 ont √©t√© rationalis√©es par les ann√©es 90</a></li>
<li><a href="../fr389065/index.html">La sonde de l'aube a envoy√© des photos d√©taill√©es des crat√®res de Ceres</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>