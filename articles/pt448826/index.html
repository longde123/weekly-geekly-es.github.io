<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßí üëö üßóüèº Ar condicionado IT. Parte I ü§¢ üõµ üí™üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Centavo, as coisas melhoram quando h√° bluetooth ¬© Sheldon, TBBT 
 Embora a casa seja " testada ", todos tentaram faz√™-lo da maneira mais correta poss√≠...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ar condicionado IT. Parte I</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448826/"><blockquote>  Centavo, as coisas melhoram quando h√° bluetooth ¬© Sheldon, TBBT </blockquote><br>  Embora a casa seja " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">testada</a> ", todos tentaram faz√™-lo da maneira mais correta poss√≠vel - bom isolamento, janelas com vidros duplos decentes, etc. <br><br>  No inverno, em dias claros, o sol aquecia a casa a tal ponto que o aquecimento com piso radiante era desligado por um termostato.  Tudo parece estar bem, mas chegou a primavera e ficou claro que a casa estava superaquecida e precisava ser resfriada. <br><br>  Previmos esse cen√°rio e nos preparamos para a instala√ß√£o de um ar-condicionado com anteced√™ncia: instalamos todas as rodovias necess√°rias na fase de constru√ß√£o. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Para a quest√£o do windows</b> <div class="spoiler_text">  Em geral, √© claro, valeria a pena colocar janelas com vidros duplos com √≥culos MF e I, mas aqui a "espada de dois gumes" (no entanto, como sempre) - elas n√£o receberiam calor livre do sol no inverno. <br><br>  Idealmente, seria o primeiro a calcular o que √© mais lucrativo: √© menos usar um piso radiante el√©trico para aquecimento no per√≠odo frio ou menos, usar um ar condicionado para esfriar para aquecer e, com base nessa an√°lise, escolher quais janelas <b>com</b> vidros duplos ser√£o instaladas mais <b>corretamente</b> . <br><br>  Mas ningu√©m fez essa an√°lise, ent√£o temos o que temos. <br><br>  A prop√≥sito, nem os construtores nem os trabalhadores de janelas recomendaram quais janelas com vidros duplos seriam melhores para usar no nosso caso.  Voc√™ precisa descobrir por conta pr√≥pria (incluindo pagar por erros). <br></div></div><br>  Um dos crit√©rios importantes para a escolha de um condicionador de ar para minha ‚Äúcasa de teste‚Äù √© a possibilidade de sua integra√ß√£o ao sistema de ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">casa inteligente</a> ‚Äù. <br><br><div class="spoiler">  <b class="spoiler_title">Integra√ß√£o "barata e alegre"</b> <div class="spoiler_text">  Obviamente, a integra√ß√£o mais f√°cil de quase qualquer condicionador de ar √© usar comandos de controle remoto por infravermelho.  Mas essa op√ß√£o n√£o me serve por raz√µes ideol√≥gicas: n√£o h√° informa√ß√µes sobre o estado atual do dispositivo. <br><br>  Portanto, descartamos imediatamente essa op√ß√£o e seguimos em frente. <br></div></div><br><h3>  Farinha de escolha </h3><br>  Naturalmente, os demais par√¢metros tamb√©m s√£o muito importantes (das principais prioridades: a opera√ß√£o mais silenciosa, a classe de consumo de energia n√£o √© menor que "A", o pre√ßo). <br><br>  A escolha recaiu sobre o inversor Electrolux (s√©rie Atrium).  O fabricante indica explicitamente que o ar condicionado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pode ser controlado via WiFi</a> (voc√™ s√≥ precisa adquirir o m√≥dulo WiFi opcional). <br><br>  O pre√ßo √© relativamente humano (outros modelos de inversores com WiFi s√£o cerca de 30% mais caros, o que √© de alguma forma demais para uma pousada). <br><br><div class="spoiler">  <b class="spoiler_title">Wake Up Call</b> <div class="spoiler_text">  O fornecedor, por algum motivo, fala hesitante sobre o m√≥dulo WiFi e, de todas as formas poss√≠veis, foge de sua entrega sob v√°rios pretextos.  Agora entendo que isso √© um "sino", mas seguimos em frente. <br></div></div><br>  Ajuda, manuais e outras informa√ß√µes do Google - (mais ou menos) requerem o m√≥dulo Smart Wi-Fi Electrolux ECH / WF-01.  E n√£o h√° escassez (este m√≥dulo tamb√©m √© usado para aquecedores de √°gua e convectores el√©tricos do mesmo fabricante) e o pre√ßo √© mais do que acess√≠vel - menos de mil rublos (em geral, deveria ter sido levemente alertado).  O aplicativo de gerenciamento √© um para todos esses tipos de dispositivos, o que parece bastante razo√°vel: o fabricante deseja que um "ecossistema" seja formado. <br><br>  Um pouco mais de pesquisa (espiando o c√≥digo normal do aplicativo Android) e verifica-se que o aplicativo se comunica com a nuvem no endere√ßo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">dongle.rusklimat.ru/api</a> - sim, torna-se ainda mais interessante e os pensamentos aparecem imediatamente como ser√° necess√°rio fornecer integra√ß√£o com o sistema dom√©stico inteligente (UD). <br><br><div class="spoiler">  <b class="spoiler_title">"Bell" n√∫mero dois</b> <div class="spoiler_text">  A an√°lise de um cliente ocorreu em um dos sites, onde ele disse que a nuvem frequentemente "afundava" e, inicialmente, ele estava esperando e torturando o suporte t√©cnico por cerca de dois meses antes do sistema funcionar como anunciado.  A revis√£o √© bastante antiga - pensei que j√° havia resolvido os problemas e tudo ficaria bem. <br></div></div><br>  O sistema de divis√£o foi encomendado, o dia da instala√ß√£o foi nomeado - tudo est√° claro: algumas horas e uma frescura agrad√°vel √© fornecida. <br><br><img src="https://habrastorage.org/webt/xh/qa/eo/xhqaeou4lqkpkhzasferpb52qpg.jpeg"><br><br>  Agora √© hora de pedir um m√≥dulo opcional. <br><br><h3>  Ancinho </h3><br>  O m√≥dulo Smart WiFi chegou - n√£o √© nada de especial: uma "unidade flash" √°spera com um √∫nico bot√£o e um LED que brilha vagamente atrav√©s do gabinete (√© claro, quando conectado √† energia). <br><br><img src="https://habrastorage.org/webt/pd/ky/6z/pdky6zvzhyne4lpuo0ryek9yewq.jpeg"><br><br>  Eu o conectei primeiro ao laptop (preciso ver o que o m√≥dulo "finge ser)) ... ... mas nenhum dispositivo novo apareceu no sistema (fiquei surpreso, mas por algum motivo n√£o muito). <br><br>  Ok, vamos tentar us√°-lo regularmente: o m√≥dulo pegou o conector correspondente na unidade interna do ar condicionado. <br><br><img src="https://habrastorage.org/webt/kg/pn/uc/kgpnuc-pmsqnle2ce9k1xgxfbau.jpeg"><br><br><div class="spoiler">  <b class="spoiler_title">Verso da placa de v√≠deo</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/jo/6p/fg/jo6pfg5g7toybpwkbg-wig29kw0.jpeg"><br></div></div><br>  Instalei o programa e seguiu as instru√ß√µes: ele pressionou o bot√£o no m√≥dulo por cinco segundos - ele come√ßou a piscar o LED amarelo (modo Smartlink), na caixa de di√°logo exibida, indicava o nome da rede wifi e sua senha ... a luz no m√≥dulo piscava e ficava azul (de acordo com as instru√ß√µes - modo normal). <br><br>  Embora tudo tenha sido feito de acordo com as instru√ß√µes, o dispositivo n√£o apareceu no programa (v√°rios medos come√ßaram a ser justificados). <br><br>  Bem, tudo bem, seguimos em frente e tentamos entender com o que estamos lidando - analisamos a interface da web do roteador.  Roteador - mostrou que o novo dispositivo wifi est√° conectado e funcionando (aplausos, uma pequena vit√≥ria e algo ainda funciona). <br><br>  Ao mesmo tempo, o roteador passou neste m√≥dulo como um recipiente de vidro: o nome do novo host √© "HF-LPT220". <br><br>  Uma pesquisa r√°pida mostrou que este √© um SoC UART-WiFi (cerca de US $ 5 por varejo e 60 a 80 centavos de d√≥lar para compras em grandes quantidades). <br><br><h3>  Uma aut√≥psia revelou que o paciente morreu de uma aut√≥psia. </h3><br>  Desconectamos o m√≥dulo do ar condicionado e abrimos a caixa deste apito (ele abre com facilidade e facilidade). <br><br><img src="https://habrastorage.org/webt/ft/gv/v2/ftgvv2jtp8kwwninldqtekvt1iw.jpeg"><br><br>  Pode ser visto na foto acima que o roteador disse a verdade: um m√≥dulo de tr√™s centavos com cintas m√≠nimas (estabilizador de energia, LED (duas cores), bot√£o, conversor de n√≠vel) - j√° ficou claro que mesmo o pre√ßo solicitado para este m√≥dulo era obviamente muito alto (ok , assumimos que eles tamb√©m determinaram a remunera√ß√£o do trabalho de programadores que deveriam escrever firmware que proporcionasse a funcionalidade necess√°ria). <br><br>  Preste aten√ß√£o aos contatos assinados do conector usb (de usb - apenas o gabinete do conector e o mesmo local dos cabos de alimenta√ß√£o) - portanto, n√£o surpreende que o m√≥dulo n√£o tenha sido detectado pelo computador. <br><br><img src="https://habrastorage.org/webt/_m/mk/o_/_mmko_2i4lh5xfeisxtzqekfhwk.jpeg"><br><br>  Assim, a automa√ß√£o do controle deste ar condicionado - voc√™ pode faz√™-lo em qualquer coisa (pelo menos no Arduino) - voc√™ s√≥ precisa saber quais comandos o sistema espera receber. <br><br>  Mas essas informa√ß√µes sobre as equipes simplesmente n√£o o fazemos. <br><br><h3>  Vetores de pensamento </h3><br>  Na verdade, como todos os componentes est√£o √† m√£o e algumas informa√ß√µes adicionais apareceram sobre o que realmente temos, as seguintes op√ß√µes parecem l√≥gicas: <br><br><ol><li>  An√°lise da troca de rede - a ideia era implementar um ‚Äúservidor proxy‚Äù, para o qual encaminhar a troca inicial entre o ar condicionado e a ‚Äúnuvem‚Äù (por meio de um roteador) e, a partir desse ‚Äúproxy‚Äù - para organizar a intera√ß√£o com a ‚Äúnuvem‚Äù.  Em seguida, integre esse servidor ao sistema dom√©stico inteligente - ao mesmo tempo, seria poss√≠vel realizar trabalho atrav√©s de um aplicativo padr√£o para o ar condicionado e controle via UD (scripts autom√°ticos, etc.). </li><li>  Conecte o computador via m√≥dulo USB-UART √† unidade interna do sistema, selecione a taxa de c√¢mbio e "ou√ßa", o que o ar condicionado informa ao m√≥dulo (quero acreditar que a troca est√° acontecendo, independentemente de o m√≥dulo padr√£o estar conectado ou n√£o).  Espero que depois de receber comandos do controle remoto IR, o ar condicionado os execute e envie a mensagem correspondente atrav√©s do m√≥dulo WiFi para a "nuvem" para exibir o status atual.  E espero que os desenvolvedores sejam pregui√ßosos e essas mensagens sejam id√™nticas aos comandos recebidos do m√≥dulo WiFi. </li><li>  Conecte o computador via m√≥dulo USB-UART ao m√≥dulo WiFi e tente usar o aplicativo padr√£o para "guiar" o ar condicionado e ao mesmo tempo receber comandos do m√≥dulo WiFi para o sistema dividido.  Essa op√ß√£o √© muito promissora para an√°lise, mas, infelizmente, meu ar condicionado n√£o apareceu no aplicativo padr√£o (no momento) - portanto, n√£o √© poss√≠vel enviar comandos pelo telefone. </li></ol><br><h3>  Tentativas </h3><br>  Como o aplicativo regular n√£o foi iniciado com o m√≥dulo WiFi, comecei com o mais simples - segui a op√ß√£o 2: peguei o USB-UART e me conectei √† unidade interna do ar condicionado. <br><br>  Infelizmente, a op√ß√£o n√£o trouxe resultado - o sistema de divis√£o √© ‚Äúsilencioso‚Äù em todas as velocidades de troca e n√£o reage a est√≠mulos externos de forma alguma.  Aparentemente, a ‚Äúprote√ß√£o contra hackers‚Äù est√° embutida: provavelmente, o m√≥dulo WiFi original envia alguns dados, segundo os quais a unidade principal reconhece a ‚Äúnossa‚Äù e troca. <br><br>  Ao lidar com sua hip√≥tese, ele escreveu v√°rias cartas: para a Electrolux e para desenvolvedores de software m√≥vel. <br><br><h4>  Electrolux </h4><br>  Na verdade, todos os equipamentos clim√°ticos da marca Electrolux s√£o fornecidos oficialmente pela Rusklimat (meu primeiro contato com esta empresa foi h√° cerca de 10 anos e estava longe de ser agrad√°vel, mas isso √© outra hist√≥ria).  Portanto, n√£o fiquei muito surpreso quando, em resposta a uma solicita√ß√£o no site da Electrolux, vim de um especialista t√©cnico da Rusclimate. <br><br>  Bem, a resposta foi com o sentido de que o m√≥dulo que eu comprei n√£o se encaixa nos aparelhos de ar condicionado, mas ainda n√£o existe um "adequado" e s√≥ √© esperado em meados de julho de 2019. <br><br><h4>  Desenvolvedores de software para dispositivos m√≥veis </h4><br>  O desenvolvedor de software para Rusklimat √© a empresa Ipol LLC.  Os desenvolvedores responderam que, na vers√£o atual, os aparelhos de ar condicionado n√£o eram compat√≠veis, e da solicita√ß√£o de "compartilhar o protocolo de troca", √© claro, eles responderam que n√£o divulgavam essas informa√ß√µes. <br><br><h3>  O fim? </h3><br>  Claro que n√£o!  Agora, resta apenas esperar o fabricante lan√ßar um m√≥dulo WiFi "compat√≠vel" e repetir todos os vetores de engenharia reversa, mas com o m√≥dulo "correto". <br><br>  Enquanto isso, voltarei √† op√ß√£o de automa√ß√£o "barata e alegre" (vou ter que controlar a opera√ß√£o do ar condicionado usando uma c√¢mera de vigil√¢ncia por v√≠deo - a unidade interna fica dentro do quadro). <br><br>  Se, de repente, algu√©m descobrir como fazer a ‚Äúcoisa certa‚Äù, ficarei feliz em receber uma dica.  E se algu√©m j√° "seguiu esse caminho" e compartilha o protocolo de troca - ficarei feliz;) <br><br>  A prop√≥sito, nas entranhas da unidade interna havia uma placa de informa√ß√µes muito interessante que fornece mais alguns "vetores": <br><br><img src="https://habrastorage.org/webt/ik/zc/dg/ikzcdgu-kj8ygctuhrovp3cvqg4.jpeg"><br><br>  PS " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte II</a> ", com uma descri√ß√£o detalhada da solu√ß√£o "barato e alegre" ser√° mais tarde (voc√™ s√≥ precisa encontrar tempo). <br><br>  Espero que o PPS ‚ÄúParte III‚Äù com a solu√ß√£o ‚Äúcerta‚Äù apare√ßa ap√≥s a aquisi√ß√£o de um m√≥dulo compat√≠vel (resta aguardar sua apari√ß√£o √† venda). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt448826/">https://habr.com/ru/post/pt448826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt448808/index.html">Sobre coisas simples, complicadas. "Dormindo a√ßo". Como lubrificar parafusos enferrujados ou n√£o WD-40 com um √∫nico ...</a></li>
<li><a href="../pt448810/index.html">Como eu peguei um hacker</a></li>
<li><a href="../pt448812/index.html">Miss√£o lunar ‚ÄúBereshit‚Äù - procura a primeira biblioteca lunar ap√≥s o in√≠cio do acidente de sua transportadora</a></li>
<li><a href="../pt448814/index.html">Linguagem Bosque - Nova Linguagem de Programa√ß√£o da Microsoft</a></li>
<li><a href="../pt448820/index.html">Ferrugem + CLion = Amor</a></li>
<li><a href="../pt448828/index.html">Transformador Tesla com bobinas impressas, soldou tr√™s componentes - e pronto</a></li>
<li><a href="../pt448830/index.html">Por onde come√ßar o desenvolvimento da arquitetura?</a></li>
<li><a href="../pt448836/index.html">Stadia √© uma revolu√ß√£o na ind√∫stria de jogos?</a></li>
<li><a href="../pt448838/index.html">O que √© marketing de conte√∫do em ingl√™s e por que gravar um podcast com o pai</a></li>
<li><a href="../pt448840/index.html">Eventos digitais em Moscou, de 22 a 28 de abril</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>