<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéé üëÜüèΩ ü§õ Ekstensi PHP dan Kotlin Asli. Bagian satu, naif üñïüèª üëçüèΩ üë®üèΩ‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini membahas pendekatan paling naif dan termudah untuk membuat ekstensi PHP menggunakan Kotlin Native. Saya menarik perhatian Anda pada fakta ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ekstensi PHP dan Kotlin Asli. Bagian satu, naif</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/415471/"><img align="right" src="https://habrastorage.org/webt/o7/db/cw/o7dbcwsbe8kad4jkw84guc_2n4m.png">  Artikel ini membahas pendekatan paling naif dan termudah untuk membuat ekstensi PHP menggunakan Kotlin Native.  Saya menarik perhatian Anda pada fakta yang tidak <b>dengan</b> , tetapi <b>dengan penggunaan</b> . <br><br>  Ini lebih merupakan semacam tutorial dengan deskripsi masalah yang muncul saat melintasi landak dengan landak dan cara untuk menyelesaikannya.  Tidak akan ada wahyu, tapi mungkin seseorang akan berguna. <br><br>  Jadi, jika tertarik, maka selamat datang ke kucing. <br><a name="habracut"></a><br>  <b>Tujuannya</b> adalah untuk menulis ekstensi dengan satu fungsi `hello ($ name)` yang mengambil string dan mencetak `Hello, $ name!`. <br><br>  Kami akan memutuskan secara naif, seperti namanya. <br><br><ol><li>  Mari kita menulis fungsi di Kotlin </li><li>  Kompilasi di perpustakaan bersama </li><li>  Dengan cara klasik (dalam C), kami menulis ekstensi yang akan mengalihkan panggilan fungsi ke pustaka ini </li></ol><br>  Tampaknya sederhana, tetapi sebuah rake sudah mengintai di rumput lebat: <br><br><ol><li>  Ada sejumlah contoh penggunaan C-libraries di Kotlin, tetapi saya tidak dapat menemukan sesuatu yang memadai untuk menggunakan fungsi-fungsi perpustakaan Kotlin di C (well, mungkin saya terlihat buruk, apa yang sebenarnya) </li><li>  Compiler kotlinc memuat dependensi saat pertama kali dimulai.  Tetapi nasib buruknya adalah mesin virtual Linux saya di cloud perusahaan.  Tanpa, bahkan secara teoritis, kemampuan untuk mencapai Internet. </li><li>  Rake ini kemungkinan besar disebabkan oleh kurangnya pengalaman dalam C, tetapi saya akan memberi tahu Anda bagaimana linker itu mengolok-olok saya. </li></ol><br>  <i>Semua yang terjadi pada Red Hat Enterprise Linux Server rilis 7.5.</i> <br><br><h3>  Ayo pergi! </h3><br>  Untuk memulai, instal ... Tidak, bukan kompiler Kotlin.  Pertama, instal JDK.  Yah seperti itu. <br>  Kemudian instal kompiler Kotlin.  Cukup unduh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">arsip dari github</a> dan unzip, misalnya, ke direktori home. <br><br>  Di dunia yang ideal, pada permulaan pertama, ia mengunduh semua dependensi sendiri, tetapi, dengan tidak adanya Internet, kami melanjutkan sebagai berikut (pengetahuan rahasia diperoleh dalam kelonggaran dari karyawan JetBrains): <br><br><ul><li>  Kami membuat skrip Kotlin sederhana sehingga ada sesuatu untuk memulai kompilator di langkah berikutnya </li><li>  Kita mulai $ KOTLIN_HOME / bin / kotlinc SimpleScript.kt, tunggu sebentar dan tekan CTRL + C - ini untuk membuat struktur folder di direktori home </li><li>  Kami mencari di file $ KOTLIN_HOME / konan / konan.properties, di bagian dengan arsitektur kami, dan mencari item: <br><br></li></ul><pre><code class="hljs powershell">dependencies.linux_x64 = \ clang<span class="hljs-literal"><span class="hljs-literal">-llvm</span></span><span class="hljs-literal"><span class="hljs-literal">-5</span></span>.<span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-literal"><span class="hljs-literal">-linux</span></span><span class="hljs-literal"><span class="hljs-literal">-x86</span></span><span class="hljs-literal"><span class="hljs-literal">-64</span></span> \ tar<span class="hljs-built_in"><span class="hljs-built_in">get-gcc</span></span><span class="hljs-literal"><span class="hljs-literal">-toolchain</span></span><span class="hljs-literal"><span class="hljs-literal">-3</span></span><span class="hljs-literal"><span class="hljs-literal">-linux</span></span><span class="hljs-literal"><span class="hljs-literal">-x86</span></span><span class="hljs-literal"><span class="hljs-literal">-64</span></span> \ libffi<span class="hljs-literal"><span class="hljs-literal">-3</span></span>.<span class="hljs-number"><span class="hljs-number">2.1</span></span><span class="hljs-literal"><span class="hljs-literal">-2</span></span><span class="hljs-literal"><span class="hljs-literal">-linux</span></span><span class="hljs-literal"><span class="hljs-literal">-x86</span></span><span class="hljs-literal"><span class="hljs-literal">-64</span></span></code> </pre> <br><ul><li>  Kami pergi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori khusus</a> dan mengunduh semua yang di atas. </li><li>  Kami menambahkan semua ini ke ~ / .konan / cache (saya ingatkan Anda bahwa direktori home Linux adalah tilde) </li></ul><br>  Sekarang, pada awal pertama, kompiler akan menggunakan distribusi ini dan tidak akan mendapatkan di Internet. <br><br>  Harap dicatat bahwa dependensinya tidak terlalu kecil dan, setelah menginstalnya, direktori rumah saya menjadi lebih berat 3,4 GB.  Bagi mereka yang memiliki volume terpisah di bawah pekerjaan rumah mereka, itu bisa sangat penting. <br><br>  Setelah itu, dengan manajer paket standar, instal php dan php-devel yang sesuai. <br>  Tentang ini, langkah-langkah persiapan sudah berakhir. <br><br>  Karena tidak layak berbicara tentang menulis ekstensi PHP, kami akan mendapatkan kode sesingkat mungkin. <br><br><h3>  Mari kita mulai dengan Kotlin </h3><br>  <b>hellokt.kt</b> <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kt_print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string:</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>{ println(<span class="hljs-string"><span class="hljs-string">"Hello, </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$string</span></span></span><span class="hljs-string">!!!"</span></span>) }</code> </pre> <br>  Dalam berbagai manual dan tutorial, baik kotlinc atau konanc digunakan sebagai kompiler, yang agak membingungkan.  Jadi - itu adalah hal yang sama.  Ini buktinya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/a_/dp/dd/a_dpddiqqgfq_u5hfiq6pv_byik.png"></div><br>  Kompilasi <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># $KOTLINC_HOME/kotlinc -opt ./hellokt.kt -o hellokt -produce dynamic</span></span></code> </pre> <br>  Dengan <b>sakelar</b> -opt <b>,</b> pustaka lebih kecil.  <b>-produce dynamic</b> memberitahu compiler untuk melakukan <b>library bersama</b> untuk platform saat ini. <br><br>  Setelah eksekusi, kita akan memiliki dua file: libhellokt.so dan hellokt_api.h.  Perpustakaan dan file header untuk itu.  Harap perhatikan bahwa awalan dan sufiks dihasilkan secara otomatis dan kami tidak dapat memengaruhi mereka (mungkin). <br><br>  Dalam kasus kami, kami mendapatkan file header seperti itu. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> KONAN_HELLOKT_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> KONAN_HELLOKT_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus extern </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"C"</span></span></span><span class="hljs-meta"> { #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus typedef bool hellokt_KBoolean; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> typedef _Bool hellokt_KBoolean; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> typedef char hellokt_KByte; typedef unsigned short hellokt_KChar; typedef short hellokt_KShort; typedef int hellokt_KInt; typedef long long hellokt_KLong; typedef float hellokt_KFloat; typedef double hellokt_KDouble; typedef void* hellokt_KNativePtr; struct hellokt_KType; typedef struct hellokt_KType hellokt_KType; typedef struct { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* Service functions. */</span></span></span><span class="hljs-meta"> void (*DisposeStablePointer)(hellokt_KNativePtr ptr); void (*DisposeString)(const char* string); hellokt_KBoolean (*IsInstance)(hellokt_KNativePtr ref, const hellokt_KType* type); </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* User functions. */</span></span></span><span class="hljs-meta"> struct { struct { void (*kt_print)(const char* string); } root; } kotlin; } hellokt_ExportedSymbols; extern hellokt_ExportedSymbols* hellokt_symbols(void); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __cplusplus } </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* extern "C" */</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* KONAN_HELLOKT_H */</span></span></span></span></code> </pre> <br>  Akses ke fungsi kt_print kami akan seperti ini. <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">hellokt_symbols</span></span>()<span class="hljs-selector-tag"><span class="hljs-selector-tag">-</span></span>&gt;<span class="hljs-selector-tag"><span class="hljs-selector-tag">kotlin</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.root</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.kt_print</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">char</span></span> *);</code> </pre> <br>  <i>Saya akan memberi tahu Anda tentang kelas dan paket di bawah ini - ada nuansa.</i> <br><br><h3>  Perpustakaan siap, buka C </h3><br>  <b>config.m4</b> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cara membuatnya</a> ) <br><br><pre> <code class="hljs bash">PHP_ARG_ENABLE(hello, whether to <span class="hljs-built_in"><span class="hljs-built_in">enable</span></span> hello support,[ --<span class="hljs-built_in"><span class="hljs-built_in">enable</span></span>-hello Enable hello support]) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">test</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$PHP_HELLO</span></span></span><span class="hljs-string">"</span></span> != <span class="hljs-string"><span class="hljs-string">"no"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> PHP_ADD_LIBRARY_WITH_PATH(hellokt, /path/to/compiled/library, HELLO_SHARED_LIBADD) PHP_NEW_EXTENSION(hello, hello.c, <span class="hljs-variable"><span class="hljs-variable">$ext_shared</span></span>) PHP_SUBST(HELLO_SHARED_LIBADD) <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre> <br>  Baris pertama diperlukan! <br><blockquote>  Hal pertama yang terlihat dalam contoh config.m4 di atas, selain dari beberapa komentar, adalah tiga baris menggunakan PHP_ARG_WITH () dan PHP_ARG_ENABLE (). <br>  ... <br>  Setiap ekstensi harus menyediakan setidaknya satu atau yang lain dengan nama ekstensi, sehingga pengguna dapat memilih untuk membangun ekstensi ke dalam PHP atau tidak. </blockquote><br>  Perhatikan bahwa dalam PHP_ADD_LIBRARY_WITH_PATH, argumen pertama adalah nama perpustakaan.  Bukan libhellokt, yaitu hellokt.  Saya membunuh dua jam sampai saya tahu mengapa saya tidak dapat menemukan perpustakaan.  (di sini dia adalah kisah yang dijanjikan tentang linker bullying). <br><br>  Sekarang, sebenarnya, kode ekstensi itu sendiri <br><br>  <b>hello.c</b> <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"php.h"</span></span></span><span class="hljs-meta"> </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    #include "hellokt_api.h" #define PHP_MY_EXTENSION_VERSION "1.0" #define PHP_MY_EXTENSION_EXTNAME "hello" PHP_FUNCTION(hello); static zend_function_entry hello_functions[] = { PHP_FE(hello, NULL) }; zend_module_entry hello_module_entry = { #if ZEND_MODULE_API_NO &gt;= 20010901 STANDARD_MODULE_HEADER, #endif PHP_MY_EXTENSION_EXTNAME, hello_functions, NULL, NULL, NULL, NULL, NULL, #if ZEND_MODULE_API_NO &gt;= 20010901 PHP_MY_EXTENSION_VERSION, #endif STANDARD_MODULE_PROPERTIES }; ZEND_GET_MODULE(hello) PHP_FUNCTION(hello) { char * name; size_t name_len; if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, "s", &amp;name, &amp;name_len) == FAILURE) { RETURN_NULL(); } hellokt_symbols()-&gt;kotlin.root.kt_print(name); //   efree(name); }</span></span></span></span></code> </pre> <br>  Ada beberapa artikel tentang menulis ekstensi PHP, dan dokumentasinya sudah ada, jadi saya akan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membatasi</a> diri saya pada tautan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menggunakan zend_parse_parameters</a> - itu akan ada di tempatnya. <br><br>  Nah, maka semuanya ada di jalan yang digulung: <br><br><pre> <code class="hljs erlang-repl"># $PHP_PATH/phpize # ./configure --with-php-config=$PHP_PATH/php-config # make # $PHP_PATH/php -dextension=./modules/hello.so -r <span class="hljs-string"><span class="hljs-string">"echo hello('World');"</span></span> Hello, World!!!</code> </pre><br><h3>  Bonus, tentang kelas dan paket </h3><br>  Misalkan kita ingin melakukan feng shui dan membutakan kode ini. <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello.kt; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloKt</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kt_print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { println(<span class="hljs-string"><span class="hljs-string">"Hello, </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$string</span></span></span><span class="hljs-string">!!!"</span></span>) } }</code> </pre> <br>  Tidak ada cara untuk melakukan pemanggilan metode biasa di sini - pertama-tama Anda harus membuat kelas dan memberikannya argumen pertama ke fungsi yang dipanggil. <br><br><pre> <code class="cpp hljs">hellokt_kref_hello_kt_HelloKt helloKt = { <span class="hljs-number"><span class="hljs-number">0</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!helloKt.pinned){ helloKt = hellokt_symbols()-&gt;kotlin.root.hello.kt.HelloKt.HelloKt(); } hellokt_symbols()-&gt;kotlin.root.hello.kt.HelloKt.kt_print(helloKt, name);</code> </pre> <br>  Apa selanjutnya  Penolakan perpustakaan bersama, meminimalkan penggunaan C dan, apa yang tidak bercanda, kerangka mini adalah hal semacam itu.  Doakan saya semoga berhasil!  :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id415471/">https://habr.com/ru/post/id415471/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id415461/index.html">OpenAI membuat kemajuan dalam Dota 2: tim semi-profesional dikalahkan</a></li>
<li><a href="../id415463/index.html">HPE Superdome Flex: Tingkat Kinerja dan Penskalaan Baru</a></li>
<li><a href="../id415465/index.html">Berapa banyak kehidupan yang dimiliki elektrolit, pakaian tua dan tutup botol?</a></li>
<li><a href="../id415467/index.html">Kontes Pemrograman: Perdagangan (Pengumuman)</a></li>
<li><a href="../id415469/index.html">Adblock untuk radio</a></li>
<li><a href="../id415473/index.html">Siapa yang memindai Internet. Saatnya menempa besi</a></li>
<li><a href="../id415475/index.html">Analisis kode lama ketika kode sumber hilang: harus dilakukan atau tidak?</a></li>
<li><a href="../id415477/index.html">Memantau pengoperasian sistem rumah pinggiran kota: langkah pertama menuju rumah pintar</a></li>
<li><a href="../id415481/index.html">Venezuela memblokir koneksi langsung ke Tor dan mengacaukan lalu lintas ke jembatan</a></li>
<li><a href="../id415483/index.html">7 kesalahan umum saat membandingkan server Anda dengan cloud</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>