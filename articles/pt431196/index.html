<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôçÔ∏è üöú ü¶Ñ Como o Yandex.Taxi prev√™ o tempo de entrega do carro usando o aprendizado de m√°quina üï¶ üë¶üèº üåò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine que voc√™ precisa chamar um t√°xi. Voc√™ abre o aplicativo, v√™ que o carro chegar√° em cerca de sete minutos, clique em "Encomendar" - e ... o car...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como o Yandex.Taxi prev√™ o tempo de entrega do carro usando o aprendizado de m√°quina</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431196/">  Imagine que voc√™ precisa chamar um t√°xi.  Voc√™ abre o aplicativo, v√™ que o carro chegar√° em cerca de sete minutos, clique em "Encomendar" - e ... o carro fica a 15 minutos de voc√™, se houver.  Concorda, desagrad√°vel? <br><br>  Neste artigo, falaremos sobre como os m√©todos de aprendizado de m√°quina ajudam o Yandex.Taxi a prever melhor o ETA (Hora estimada de chegada - hora prevista de chegada). <br><br><img src="https://habrastorage.org/webt/bf/5e/aq/bf5eaq56xusobc6hswfokurhe0u.png"><br><a name="habracut"></a><br>  Primeiro, lembre-se de que o usu√°rio v√™ no aplicativo antes de fazer o pedido: <br><br><img width="300" src="https://habrastorage.org/webt/xk/qf/cg/xkqfcgfun58vtoyhun-ldoq-wra.png"><br><br>  No mapa, o azul indica os pontos ideais para embarcar em um t√°xi.  Pino vermelho - o ponto para o qual o usu√°rio chama um t√°xi.  O alfinete mostra quanto tempo o carro chegar√°.  Em um mundo perfeito.  Mas, no mundo real, outras pessoas pr√≥ximas tamb√©m se chamam carro atrav√©s do aplicativo Yandex.Taxi.  E n√£o sabemos qual carro ir√° para quem, porque eles s√£o distribu√≠dos somente ap√≥s o pedido.  Se o carro j√° foi atribu√≠do, para a previs√£o, usaremos o roteamento e o tempo do Yandex.Maps ao percorrer o caminho ideal.  Desta vez (possivelmente com uma pequena margem), mostraremos o usu√°rio imediatamente ap√≥s o pedido.  A quest√£o permanece: como se pode prever a ETA antes de fazer o pedido? <br><br>  E aqui o aprendizado de m√°quina aparece.  Fazemos uma sele√ß√£o com objetos e as respostas corretas e ensinamos o algoritmo a adivinhar a resposta de acordo com as caracter√≠sticas do objeto.  No nosso caso, os objetos s√£o sess√µes de usu√°rio, as respostas s√£o o tempo ap√≥s o qual o carro realmente chegou.  Os sinais do objeto podem ser par√¢metros num√©ricos conhecidos antes da ordem: o n√∫mero de motoristas e usu√°rios do aplicativo pr√≥ximo ao pino, a dist√¢ncia dos ve√≠culos de servi√ßo mais pr√≥ximos e outros valores potencialmente √∫teis. <br><br><h2>  Por que isso √© importante </h2><br><br>  Em um mundo ideal, as pessoas fazem tudo com anteced√™ncia e sempre planejam seu tempo com precis√£o.  Mas n√≥s vivemos no mundo real.  Se uma pessoa est√° atrasada para o trabalho ou, pior ainda, para o aeroporto, √© importante que ela entenda se chegar√° a tempo de sair e chegar ao seu destino. <br>  Ao decidir o que pedir, o futuro passageiro √© guiado, entre outras coisas, pelo tempo de espera.  Pode ser muito diferente em aplicativos diferentes para chamar um t√°xi e em tarifas diferentes de um aplicativo.  Para que o usu√°rio n√£o se arrependa da escolha, √© muito importante mostrar o ETA exato. <br><br>  Tudo parece ser simples.  Crie mais placas, treine um modelo, como o CatBoost, preveja o tempo antes da chegada do carro - e voc√™ pode terminar a√≠.  Mas a experi√™ncia mostra que √© melhor n√£o se apressar e pensar com cuidado, e depois faz√™-lo. <br><br>  A princ√≠pio, n√£o t√≠nhamos d√∫vida de que era necess√°rio prever o tempo em que o motorista chegaria ao usu√°rio.  Sim, n√£o sabemos ao certo qual carro ser√° atribu√≠do antes do pedido.  Mas podemos prever o ETA usando dados n√£o sobre um driver espec√≠fico, mas sobre os drivers nas proximidades do pedido.  Obviamente, a previs√£o deve ser honesta o suficiente para que o usu√°rio possa planejar o tempo. <br><br>  Mas o que significa "honesto"?  Afinal, qualquer algoritmo de previs√£o √© ruim ou apenas estatisticamente bom.  H√° resultados bem-sucedidos e francamente ruins, mas voc√™ precisa "mediar" para n√£o se desviar significativamente das respostas corretas.  Deve-se entender que "em m√©dia" √© diferente.  Por exemplo, a m√©dia √© de pelo menos tr√™s conceitos das estat√≠sticas: expectativa, mediana e moda.  A imagem do magn√≠fico livro de Darrell Huff "Como mentir usando estat√≠sticas" mostra perfeitamente a diferen√ßa: <br><br><img width="600" src="https://habrastorage.org/webt/lu/i4/ia/lui4iawdwfbczidpq-rcivxyrr4.png"><br><br>  Queremos que o modelo, em m√©dia, cometa alguns erros.  Dependendo do valor da "m√©dia", existem duas op√ß√µes para avaliar a qualidade das previs√µes.  A primeira op√ß√£o √© mostrar ao usu√°rio a expectativa matem√°tica de tempo antes da chegada do t√°xi.  Como resultado, um modelo ser√° treinado para minimizar o quadrado m√©dio do erro de previs√£o (Mean Squared Error, MSE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></msubsup><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><mi>i</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><mi>n</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="54.112ex" height="3.262ex" viewBox="0 -987.6 23298.2 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-53" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-45" x="1697" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-3D" x="2739" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-66" x="4045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="4596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="5047" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-63" x="5577" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-31" x="6010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="6511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-73" x="7361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-75" x="7831" y="0"></use><g transform="translate(8403,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-28" x="10530" y="0"></use><g transform="translate(10920,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-2212" x="11977" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-68" x="13228" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="13804" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-74" x="14334" y="0"></use><g transform="translate(14695,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-342"></use></g><g transform="translate(15530,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="16623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="17075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-67" x="17420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-68" x="17901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-74" x="18477" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="18839" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="19368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="19820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6F" x="20271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-77" x="20757" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6D" x="21473" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="22352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="22697" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mi>S</mi><mi>E</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></msubsup><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><mi>n</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> MSE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} (y_i - \ hat {y} _i) ^ 2 \ rightarrow min </script></p><br><br>  Aqui <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>y</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.939ex" height="1.817ex" viewBox="0 -520.7 834.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>y</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> y_i </script>  - respostas corretas, <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.928ex" height="2.539ex" viewBox="0 -780.1 2552.3 1093.4" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-74" x="1356" y="0"></use><g transform="translate(1717,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-342"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ hat {y} _i </script>  - previs√µes modelo. <br><br>  Outra op√ß√£o n√£o deve ser confundida com a previs√£o da ETA principalmente em uma dire√ß√£o, para cima ou para baixo.  Nesse caso, mostraremos ao usu√°rio a mediana da distribui√ß√£o do tempo antes da chegada do t√°xi.  Como resultado, ser√° treinado um modelo que otimiza o m√≥dulo m√©dio do erro de previs√£o (Mean Absolute Error, MAE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi></mrow></msubsup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>&amp;#x2212;</mo><mtext>&amp;#xA0;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi></mrow><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mtext>&amp;#xA0;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><mi>n</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.786ex" height="2.901ex" viewBox="0 -832 22727.3 1249" role="img" focusable="false" style="vertical-align: -0.969ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-41" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-45" x="1802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-3D" x="2844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-66" x="4150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="4701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="5152" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-63" x="5682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-31" x="6115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="6616" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-73" x="7466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-75" x="7936" y="0"></use><g transform="translate(8508,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="1242" y="499"></use><g transform="translate(878,-308)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-7C" x="10635" y="0"></use><g transform="translate(10914,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-2212" x="11971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-68" x="13222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="13798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-74" x="14328" y="0"></use><g transform="translate(14689,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="693" y="-342"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMAIN-7C" x="15524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="16052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="16504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-67" x="16849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-68" x="17330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-74" x="17906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-61" x="18268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="18797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-72" x="19249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6F" x="19700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-77" x="20186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6D" x="20902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-69" x="21781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/yandex/blog/431196/&amp;usg=ALkJrhgy_Yr-zqJ37RRf0KvRaPNbmosbjg#MJMATHI-6E" x="22126" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mi>A</mi><mi>E</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><msubsup><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>n</mi></mrow></msubsup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>y</mi><mi>i</mi></msub><mo>‚àí</mo><mtext>&nbsp;</mtext><mi>h</mi><mi>a</mi><mi>t</mi><msub><mrow class="MJX-TeXAtom-ORD"><mi>y</mi></mrow><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mtext>&nbsp;</mtext><mi>r</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>a</mi><mi>r</mi><mi>r</mi><mi>o</mi><mi>w</mi><mi>m</mi><mi>i</mi><mi>n</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> MAE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} | y_i - \ hat {y} _i | \ rightarrow min </script></p><br><br>  Mas percebemos que est√°vamos nos adiantando um pouco. <br><br><h2>  Repensando a declara√ß√£o do problema </h2><br>  Ap√≥s a consulta, sabemos que tipo de carro vai para o usu√°rio, o que significa que podemos estimar seu tempo de viagem no Yandex.Maps.  Este tempo √© mostrado no alfinete ap√≥s o pedido.  Por um lado, agora temos mais informa√ß√µes e a previs√£o ser√° mais precisa, mas, por outro lado, essa tamb√©m √© uma estimativa com erro. <br><br>  Esse foi o problema na tarefa de pin do ETA.  Enquanto o motorista n√£o estiver designado, √© necess√°rio prever <b>exatamente o tempo que o roteamento Yandex.Mart mostrar√°</b> e n√£o o tempo real antes da entrega do carro. <br><br>  Parece que bobagem: em vez do valor exato, considere outra previs√£o como alvo?  Mas isso faz sentido, e aqui est√° o porqu√™.  No caminho para voc√™, o carro designado pode demorar.  O motorista entrou em uma situa√ß√£o perigosa na estrada, em um congestionamento devido a um acidente ou saiu para comprar √°gua.  Tais atrasos s√£o dif√≠ceis de prever.  Eles criam ru√≠do adicional na vari√°vel de destino, devido √† qual a tarefa j√° dif√≠cil de prever a ETA no pino se torna ainda mais dif√≠cil. <br><br>  Como se livrar do barulho?  Preveja a vari√°vel de destino suavizada - o tempo que √© mostrado ap√≥s a m√°quina ser atribu√≠da com base na rota para o usu√°rio. <br><br>  Essa √© a l√≥gica do ponto de vista dos neg√≥cios: voc√™ n√£o pode gastar o tempo na estrada pelo caminho ideal da ETA, mas atrasos adicionais podem ser reduzidos trabalhando com os motoristas. <br><br><h2>  M√©tricas, dados, modelo e treinamento de qualidade </h2><br>  Descobrimos que, para o ETA no pino, √© necess√°rio prever n√£o o tempo real, mas o tempo que ser√° recebido ap√≥s a atribui√ß√£o da m√°quina ao longo do percurso.  Das duas m√©tricas de qualidade, MAE e MSE, escolhemos o MAE.  Talvez, do ponto de vista da intuitividade da previs√£o, seja mais l√≥gico avaliar a expectativa m√©dia (MSE) do que a mediana (MAE).  Mas o MAE tem uma caracter√≠stica interessante: o modelo √© mais resistente a valores discrepantes entre os exemplos de treinamento. <br><br>  Os sinais s√£o divididos em grupos: <br>  - constru√≠do pela hora atual; <br>  - geo (coordenadas, dist√¢ncia ao centro da cidade e objetos significativos no mapa); <br>  - pino (quantos e quais carros est√£o pr√≥ximos, sua densidade calculada de maneira diferente); <br>  - estat√≠sticas sobre a zona (como sempre cometemos erros, quanto previmos); <br>  - dados sobre os motoristas mais pr√≥ximos (quanto tempo eles alcan√ßam, quanto o primeiro est√° mais pr√≥ximo que o segundo, etc.). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Obviamente</a> , o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CatBoost foi</a> treinado nesses sinais.  O argumento decisivo foi que o aumento de gradiente implementado no CatBoost sobre √°rvores equilibradas h√° muito se estabeleceu como um m√©todo de aprendizado de m√°quina muito poderoso, e o m√©todo de codifica√ß√£o de recursos categ√≥ricos no CatBoost compensa regularmente por nossas tarefas.  Outro recurso interessante da biblioteca √© o aprendizado r√°pido na GPU. <br><br>  Agora, algumas palavras sobre quais modelos foram comparados.  O ETA inicial (antes de ser especificado pelo aprendizado de m√°quina) foi calculado com base no hor√°rio em que a m√°quina mais pr√≥xima do usu√°rio poderia chegar.  O modelo atual (usado no aplicativo agora) √© o que acabou sendo feito usando o aprendizado de m√°quina e sobre o <b>que √© este artigo.</b>  Al√©m disso, um novo modelo ser√° lan√ßado em breve na produ√ß√£o.  Ela usa uma ordem de magnitude de recursos mais significativos para resolver o problema.  A tabela abaixo mostra as medidas de qualidade desses modelos em dados hist√≥ricos.  A prop√≥sito, ainda temos muitos planos - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">venha ajudar</a> . <br><br>  <b>Qualidade de previs√£o de valida√ß√£o ETA *</b> <br><br><div class="scrollable-table"><table><tbody><tr><td><br></td><td>  Erro absoluto m√©dio <br></td><td>  Erro mais de 1 minuto <br></td><td>  Erro mais de 2 minutos <br></td><td>  Erro mais de 5 minutos <br></td></tr><tr><td width="124"><p>  ETA original </p><br></td><td width="125"><p>  82.082 </p><br></td><td width="125"><p>  29,95 </p><br></td><td width="125"><p>  18,12 </p><br></td><td width="125"><p>  3,7 </p><br></td></tr><tr><td width="124"><p>  Modelo atual </p><br></td><td width="125"><p>  79,276 (-3,4) </p><br></td><td width="125"><p>  29,33 (-2,1) </p><br></td><td width="125"><p>  16,98 (‚Äì6,3) </p><br></td><td width="125"><p>  3 (‚Äì19,2) </p><br></td></tr><tr><td width="124"><p>  Novo modelo </p><br></td><td width="125"><p>  78,414 (‚Äì4,5) </p><br></td><td width="125"><p>  28,95 (-3,4) </p><br></td><td width="125"><p>  16,62 (‚Äì8,2) </p><br></td><td width="125"><p>  2,8 (‚Äì23,2) </p><br></td></tr></tbody></table></div><br><br>  * Porcentagem (entre par√™nteses indica a altera√ß√£o do ETA original). <br><br>  O aprendizado de m√°quina nos permitiu ganhar cerca de dois segundos, ou 3,4% do desvio m√©dio da previs√£o.  E no novo modelo - quase mais um segundo, um total de 4,5%.  Mas, a partir desses n√∫meros, √© dif√≠cil entender que o ETA melhorou significativamente.  Para sentir os benef√≠cios do aprendizado de m√°quina, preste aten√ß√£o na √∫ltima coluna.  As perdas com uma previs√£o de mais de 5 minutos se tornaram 19,2% e, no novo modelo - at√© 23,2% menos!  A prop√≥sito, esses erros ocorrem apenas em 3 e 2,8% dos casos em modelos que usam aprendizado de m√°quina. <br><br><h2>  Sum√°rio </h2><br>  Especificamos o ETA no pino principalmente para fornecer aos usu√°rios uma previs√£o confi√°vel.  Mas, √© claro, com qualquer aplica√ß√£o de aprendizado de m√°quina nos neg√≥cios, √© imperativo avaliar o efeito econ√¥mico.  E entenda se √© compar√°vel ao custo de constru√ß√£o e implementa√ß√£o de modelos.  Ap√≥s o teste A / B on-line, descobrimos que, usando o aprendizado de m√°quina, recebemos um aumento estatisticamente significativo na convers√£o de um pedido em uma viagem (afinal, um pedido pode ser cancelado) e um aumento na convers√£o de uma sess√£o do usu√°rio para um pedido. <br><br>  Nos dois casos, estamos falando de um efeito da ordem de 0,1 pontos percentuais.  A prop√≥sito, isso n√£o contradiz a signific√¢ncia estat√≠stica: em nossos volumes de dados, mesmo essa diferen√ßa √© detectada de maneira confi√°vel em 2 a 4 semanas.  E com a relev√¢ncia dos neg√≥cios, de fato, tudo tamb√©m n√£o √© ruim: os custos de atualiza√ß√£o do ETA s√£o repelidos pelo aumento da convers√£o em apenas alguns meses. <br><br>  Como resultado, obtivemos um caso √∫til e ilustrativo.  O refinamento do ETA no alfinete tornou-se uma hist√≥ria instrutiva sobre a sele√ß√£o cuidadosa da vari√°vel alvo.  No lado do produto, este √© um exemplo muito motivador: aprimoramos o aplicativo e vimos que os usu√°rios o apreciavam.  Esperamos que o ETA refinado ajude nossos passageiros a encontrar reuni√µes, trens e avi√µes com mais frequ√™ncia. <br><br>  PS Se voc√™ estiver interessado em outras tecnologias Yandex.Taxi, recomendamos um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">post sobre pre√ßos din√¢micos</a> , publicado recentemente por meu colega. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt431196/">https://habr.com/ru/post/pt431196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt431186/index.html">Design por tipos: Como tornar estados inv√°lidos inexprim√≠veis em C #</a></li>
<li><a href="../pt431188/index.html">Aspectos t√©cnicos do bloqueio da Internet na R√∫ssia. Desafios e perspectivas</a></li>
<li><a href="../pt431190/index.html">Como avaliar o n√≠vel da empresa de SEO sem concluir um acordo com ela</a></li>
<li><a href="../pt431192/index.html">AWC apresenta Firecracker - micro-virtualiza√ß√£o para Linux</a></li>
<li><a href="../pt431194/index.html">Hardcore tubo quente. Como foi o DotNext 2018 Moscow</a></li>
<li><a href="../pt431198/index.html">Como o expedidor funciona</a></li>
<li><a href="../pt431200/index.html">Godot: sobre a quest√£o do uso regular de analisadores de c√≥digo est√°tico</a></li>
<li><a href="../pt431202/index.html">Debian e Devuan juntam for√ßas para sysvinit</a></li>
<li><a href="../pt431204/index.html">Backdoor em uma das depend√™ncias da biblioteca EventStream</a></li>
<li><a href="../pt431208/index.html">Splunk atrav√©s dos olhos de um novato: como fizemos um sistema de invent√°rio de armazenamento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>