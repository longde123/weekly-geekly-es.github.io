<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüåæ üéè üôè C√≥mo usar las herramientas Twilio, Python y Google para automatizar tu boda üéÅ üòå ü•â</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El autor del art√≠culo cuenta c√≥mo logr√≥ aplicar habilidades de programaci√≥n para automatizar los procesos de rutina de su propio evento de boda. 

 Pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo usar las herramientas Twilio, Python y Google para automatizar tu boda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wirex/blog/402827/">  <i>El autor del art√≠culo cuenta c√≥mo logr√≥ aplicar habilidades de programaci√≥n para automatizar los procesos de rutina de su propio evento de boda.</i> <br><br>  Para la mayor√≠a de las personas, el 3 de septiembre de 2016 fue el s√°bado m√°s com√∫n, pero en mi memoria esta fecha permanecer√° para siempre, porque fue en este d√≠a que mi esposa y yo celebramos una boda. <br><br><img src="https://habrastorage.org/files/38f/a56/92c/38fa5692cb0b44e5886d66d912a39b87.jpg" alt="imagen"><br><br>  Al planificar una boda, debe tener en cuenta muchos puntos: comida, decoraci√≥n y decoraci√≥n, l√°mparas de mesa (s√≠, separadas de la decoraci√≥n), flores, alojamiento para invitados, transporte, entretenimiento y la elecci√≥n del lugar.  En general, cuando planifica una boda, se enfrenta a muchas inc√≥gnitas, pero estaba seguro de una cosa: ninguna boda puede prescindir de un mont√≥n de listas, listas anidadas que no terminan hasta el final.  Mientras m√°s listas flotaban ante mis ojos, m√°s a menudo comenc√© a pensar en c√≥mo mejorar el proceso de preparaci√≥n.  Fue dolorosamente ineficiente y todo el trabajo se realiz√≥ manualmente.  Estaba seguro de que la tecnolog√≠a ciertamente podr√≠a ayudar a mejorar al menos algunos de los puntos. <br><a name="habracut"></a><br>  Te sorprender√° saber que invitar a personas a una boda es costoso (m√°s de 380 libras por persona).  Primero debe enviar invitaciones preliminares con una fecha y una breve notificaci√≥n, y solo entonces, de pleno derecho, con una descripci√≥n m√°s detallada del evento.  Todo esto, adem√°s, se env√≠a por correo, lo que significa que es lento.  Los intentos de "atrapar" a los invitados y obtener una respuesta de ellos acerca de si quieren venir a las vacaciones con comida y bebida gratis (aunque, al parecer, ¬øqui√©n no quiere?) Toma mucho tiempo.  Y, por √∫ltimo, enviar invitaciones no es respetuoso con el medio ambiente, ya que las tarjetas de papel son algo √∫nico, se olvidan r√°pidamente y se vuelven in√∫tiles para cualquiera. <br><br>  Pero volvamos a las listas.  Dividimos a los invitados en varios grupos: <br><br><ol><li>  Los que te gustar√≠a ver en el festival </li><li>  Los que respondieron la segunda invitaci√≥n pidiendo una respuesta. </li><li>  Los que aceptaron la invitaci√≥n. </li><li>  Los que aceptaron la invitaci√≥n y eligieron la comida. </li></ol><br>  Pero me gustan las listas: tienen algunos requisitos predefinidos que los convierten en un gran objeto para la automatizaci√≥n. <br><br><h3>  Mensaje en una botella </h3><br>  Estaba seguro de que todos los hu√©spedes potenciales, independientemente de su edad, ten√≠an un tel√©fono m√≥vil, lo que significaba que hab√≠a llegado el momento de Twilio.  El c√≥digo proporcionado aqu√≠ se puede omitir de forma segura si lo desea, ya que siempre est√° disponible en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio de GitHub</a> correspondiente. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">El SMS</a> como canal de comunicaci√≥n se adapta perfectamente a mis necesidades.  Podr√≠a configurar el env√≠o masivo de mensajes, procesando las respuestas de manera r√°pida y eficiente.  Al hacer los primeros bocetos de trabajo del producto y considerando las opciones de la base de datos, intent√© hacer algo simple que pudiera compartirse f√°cilmente y no quer√≠a dedicar mucho tiempo a la apariencia.  Al final, me encontr√© con la biblioteca de python gspread, que me permiti√≥ leer y escribir en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">tablas de google</a> .  Esta no era la opci√≥n m√°s r√°pida, sino m√°s bien flexible, lo que facilitaba el acceso a las tablas y la lectura de los resultados. <br><br>  Para el primer aviso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cre√© una tabla</a> con tres columnas: <br><br><ul><li>  Nombre </li><li>  N√∫mero de tel√©fono </li><li>  Confirmation_status (estado de confirmaci√≥n) </li><li>  Estado del detalle de contacto </li><li>  Message_count (El n√∫mero de mensajes enviados al invitado fue √∫til en el futuro) </li></ul><br>  Despu√©s de completar la entrada de datos b√°sicos, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ejecut√© la</a> lista a trav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">gspread</a> , que envi√≥ un SMS a cada invitado que posee un n√∫mero de tel√©fono m√≥vil: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gspread <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> oauth2client.client <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SignedJwtAssertionCredentials <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> twilio.rest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TwilioRestClient <span class="hljs-comment"><span class="hljs-comment">#      #     json,    json_key = json.load(open('.json')) scope = ['https://spreadsheets.google.com/feeds'] credentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'].encode(), scope) gc = gspread.authorize(credentials) wks = gc.open("wedding_guests") #     workbook- wks_attendees = wks.get_worksheet(0) #     ACCOUNT_SID = 'TWILIO_ACCOUNT_SID' AUTH_TOKEN = 'TWILIO_AUTH_TOKEN' client = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN) #    ,   range    for num in range(2, 60): print "sleeping for 2 seconds" time.sleep(2) #         guest_number = wks_attendees.acell('B'+str(num)).value guest_name = wks_attendees.acell('A'+str(num)).value Message_body = &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2709&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; Save the date! &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2709&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Lauren Pang and Thomas Curtis are delighted to invite you to our wedding.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Saturday 3rd September 2016. &lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Colville Hall,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;Chelmsford Road,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;White Roding,&lt;span class="pl-cce"&gt;\n&lt;/span&gt;CM6 1RQ.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;The Ceremony begins at 2pm.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;More details will follow shortly!&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;Please text YES if you are saving the date and can join us or text NO if sadly, you won't be able to be with us.&lt;span class="pl-cce"&gt;\n\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2B50&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-k"&gt;u&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u2764&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, if not guest_number: #      print guest_name + ' telephone number empty not messaging' wks_attendees.update_acell('E'+str(num), '0') else: print 'Sending message to ' + guest_name client.messages.create( to="+" + guest_number, #  +   e.164 from_="", #     Twillio body=message_body, ) wks_attendees.update_acell('E'+str(num), int(wks_attendees.acell('E'+str(num)).value) + 1) # increment the message count row else: # else-  print 'finished'</span></span></code> </pre> <br>  Y dado que los SMS de texto generalmente se ven un poco aburridos, agregu√© un poco de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Unicode</a> para darle vida.  As√≠ es como se ve√≠a el mensaje para los invitados afortunados: <br><br><img src="https://habrastorage.org/files/f19/36c/7bb/f1936c7bbccd4cb29115c1fa182321f3.png" alt="imagen" width="340"><br><br>  A continuaci√≥n, utilic√© Flask como servidor web, realic√© mi solicitud de URL para que Twilio Messaging se√±alara / mensajes, y agregu√© verificaciones simples para analizar respuestas: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@app.route("/messages", methods=['GET', 'POST']) def hello_guest():  if "yes" in body_strip:    #      confirmation_status    wks_attendees.update_acell("F"+str(guest_confirmation_cell.row), 'Accepted')  #    ¬´ ¬ª       resp.message(u"\u2665" + "Thanks for confirming, we'll be in touch!" + u"\u2665")  # r ,    elif "no" in from_body.lower():    #    ¬´ ¬ª       wks_attendees.update_acell("F"+str(guest_confirmation_cell.row), 'Declined')    #       resp.message("Sorry to hear that, we still love you though!")  else:  #  ,        resp.message("You sent a different keyword, we need a yes or a no, you sent: "+           from_body)  return str(resp)</span></span></code> </pre><br><img src="https://habrastorage.org/files/e4e/e69/8e9/e4ee698e94b448ef9c8d6c3ac112f51d.png" alt="imagen" align="left" width="340"><img src="https://habrastorage.org/files/85b/422/750/85b42275037c4d16af0e6e2de2cffadf.png" alt="imagen" width="340"><br><br>  El primer mensaje se envi√≥ a las 8:37 a.m. del 19 de febrero, y la primera confirmaci√≥n se recibi√≥ un poco m√°s tarde a las 8:40.  A las 9:38, ya hab√≠a recibido 23 confirmaciones, es decir, ¬°el 32% de las respuestas estaban en mi bolsillo!  2 d√≠as despu√©s del inicio del env√≠o masivo, el 58% de los invitados ya han confirmado su participaci√≥n.  A pesar del √©xito evidente, mi futura esposa a√∫n no ha quedado 100% impresionada con mi servicio de SMS para invitaciones de boda, y decid√≠ agregar m√°s funcionalidades a la aplicaci√≥n. <br><br>  Estad√≠sticas!  Podr√≠a crear una lista de invitados actualizada y proporcionarla a pedido, d√°ndole a mi futura novia un comentario instant√°neo.  El c√≥digo result√≥ ser bastante simple, ya que ya hab√≠a configurado algunos de los contadores m√°s simples en la tabla antes, y por lo tanto todo se redujo a obtener el contenido de las celdas individuales y agregarlas a SMS: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    guest_confirmed = wks_attendees.acell('C70').value guest_unconfirmed = wks_attendees.acell('C71').value guest_no_response = wks_attendees.acell('C72').value guest_acceptance = wks_attendees.acell('C73').value elif "numbers" in from_body.lower():  #   ( - ,   )  resp.message("RSVP update:\n\nTotal Accepted: " + guest_confirmed         "\n\nTotal declined: " guest_unconfirmed "\n\nTotal no response: "+         guest_no_response + "\n\nTotal acceptance rate: " + guest_acceptance)</span></span></code> </pre><br>  Ejemplo de SMS enviado por este c√≥digo: <br><br><img src="https://habrastorage.org/files/910/1cc/089/9101cc08985742d58228a005a33271a8.png" alt="imagen" width="340"><br><br>  Puede que no se vea muy hermoso, pero es muy informativo. <br><br>  El hecho de que Lauren ahora pudiera seguir las actualizaciones autom√°ticas de la lista de invitados nos ahorr√≥ muchos dolores de cabeza.  Como resultado, recib√≠ su aprobaci√≥n para la integraci√≥n generalizada de SMS, y pronto esta herramienta se utiliz√≥ en casi todos los procesos donde era posible.  Algunas de las aplicaciones eran obvias, por ejemplo, enviando notificaciones por SMS sobre el lanzamiento de un sitio de bodas (hecho, por cierto, en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Heroku</a> ), o trabajando con listas de regalos de bodas y muchas otras soluciones de las que estoy orgulloso hasta el d√≠a de hoy. <br><br><h3>  Fiesta gloriosa </h3><br>  Despu√©s de compilar la lista de invitados y recopilar respuestas, lleg√≥ a la lecci√≥n, que generalmente se pospone hasta m√°s tarde, descubriendo las preferencias de gusto de los invitados.  El primer paso fue enviar otro SMS informando a los invitados sobre la necesidad de visitar el sitio web y seleccionar las categor√≠as de alimentos servidos usando el formulario de Google.  El formulario parec√≠a bastante ordinario, pero llenaba el mismo archivo en el que hab√≠a datos sobre los visitantes.  Por lo tanto, ahora ten√≠amos una mesa de visitantes que aceptaban invitaciones y una mesa que completaba el formulario de selecci√≥n de alimentos.  Si estuvi√©ramos hablando de cualquier herramienta de automatizaci√≥n ordinaria, tendr√≠a que esperar a que los invitados elijan lentamente sus platos, pero mi boda se celebr√≥ con el apoyo de Twillio, y esto significa que podr√≠a obtener una respuesta de los invitados con un m√≠nimo esfuerzo. <br><br>  Fue necesario verificar dos tablas con el nombre de los invitados y actualizar el estado de los platos seleccionados al recibir nueva informaci√≥n.  Esto requiri√≥ algunas campanas y silbatos adicionales en el c√≥digo, pero tan pronto como termin√© con ellos, pude ejecutar el script tan pronto como sea necesario, recibiendo SMS con la √∫ltima informaci√≥n en la salida: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> gspread <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> oauth2client.client <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SignedJwtAssertionCredentials <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> twilio.rest <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TwilioRestClient <span class="hljs-comment"><span class="hljs-comment">#     json,    json_key = json.load(open('')) scope = ['https://spreadsheets.google.com/feeds'] credentials = SignedJwtAssertionCredentials(json_key['client_email'],                      json_key['private_key'].encode(),                      scope) gc = gspread.authorize(credentials) wks = gc.open("")  #      wks_attendees = wks.get_worksheet(0)  #   wks_food = wks.get_worksheet(1)  #    ACCOUNT_SID = 'TWILIO_ACCOUNT_SID' AUTH_TOKEN = 'TWILIO_AUTH_TOKEN' client = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN) #   . -       for num in range(2, 60):  food_guest_name = wks_food.acell('B'+str(num)).value  #        if food_guest_name:    attendees_name = wks_attendees.find(val_food_guest_name).value    attendees_name_row = wks_attendees.find(val_food_guest_name).row    menu_status = wks_attendees.acell("G"+str(attendees_name_row)).value    if food_guest_name == attendees_name:      print      if menu_status == 'Y':  #   ,          print('Skipping')      else:  #    ,           print ('Food sheet name ' + food_guest_name + 'Attendees sheet name ' + attendees_name)        #            wks_attendees.update_acell("G"+str(attendees_name_row), 'Y')    else:      print('nothing found, moving on')      wks_attendees.update_acell('E'+str(num), int(wks.acell('E'+str(num)).value) + 1)  #      else:    #           client.messages.create(from_="",  #  Twillio                to="",  #                  body="Finished processing current meal listnnGuest meals confirmed" + guest_meals_confirmed + "\n\nGuest meals unconfirmed: " + guest_meals_unconfirmed)</span></span></code> </pre><br>  Ahora que ten√≠a una lista precisa de invitados y una lista de platos constantemente actualizada, ten√≠a sentido hacer p√∫blicas estas estad√≠sticas utilizando la aplicaci√≥n principal.  Para esto, solo era necesario agregar el contenido de las celdas correspondientes a la respuesta de SMS: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#           elif "food" in body_strip.strip():  resp.message("Guest meals decided:" + guest_meals_confirmed + "\nGuest meals undecided: " + guest_meals_unconfirmed + "\n\nMenu breakdown:\n\n" + starter_option_1 +": " + starter_option_1_amount + "\n" + starter_option_2 +": " + starter_option_2_amount + "\n" + starter_option_3 +": " + starter_option_3_amount + "\n" + main_option_1 +": " + main_option_1_amount + "\n" + main_option_2 +": " + main_option_2_amount + "\n" + main_option_3 +": " + main_option_3_amount + "\n" + dessert_option_1 + ": " + dessert_option_1_amount + "\n" + dessert_option_2 + ": " + dessert_option_2_amount)</span></span></code> </pre><br><img src="https://habrastorage.org/files/13c/a50/9dc/13ca509dc74a4dcd9401f68f736fa69c.png" alt="imagen" width="340"><br><br>  Esta medida result√≥ ser muy √∫til, ya que permiti√≥ a la empresa que cumpl√≠a las vacaciones estar al tanto de nuestro progreso y proporcion√≥ informaci√≥n muy pr√°ctica de aquellos que a√∫n no hab√≠an hecho su elecci√≥n.  El siguiente contendiente para la automatizaci√≥n fue el proceso de recibir respuestas de los invitados.  Para hacer esto, solo era necesario revisar la lista, encontrar en ella "violadores" que no eligieron sus platos y enviarles mensajes. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">72</span></span>):  <span class="hljs-comment"><span class="hljs-comment">#         print "sleeping for 3 seconds"  time.sleep(3)  #            wedding_guest_number = wks_attendees.acell('B'+str(num)).value  #     wedding_guest_name = wks_attendees.acell('A'+str(num)).value  #     menu_guest = wks_attendees.acell('G'+str(num)).value  if not wedding_guest_number:    print wedding_guest_name+' telephone number empty not messaging'  #   ,     .            wks_attendees.update_acell('H'+str(num), '1')  #         else:    if menu_guest == "N":  #    !      !      print 'Sending message to '+wedding_guest_name      client.messages.create(        to="+" + wedding_guest_number,        from_="",  #   Twillio        body="If you have received this message, you have not chosen your food options for Tom &amp; Lauren's Wedding!\n\nYou can pick your choices via the website, no paper or postage required!\n\nhttp://www.yourwebsitehere.com/food"      )      wks_attendees.update_acell('H'+str(num), int(wks_attendees.acell('H'+str(num)).value) + 1)  #        else:          # else-   print 'finished'</span></span></code> </pre><br><img src="https://habrastorage.org/files/40a/1dd/ed8/40a1dded8a0b4697b34f7698bbc2917b.png" alt="imagen" width="340"><br><br>  El gran d√≠a se acercaba m√°s r√°pido de lo que pod√≠amos imaginar.  Lo √∫nico que tuvimos que hacer fue enviar el √∫ltimo SMS, recordando a los invitados los detalles b√°sicos y la necesidad de armarse con un paraguas, lo que ayudar√≠a a protegerse del t√≠pico verano lluvioso brit√°nico: <br><br><img src="https://habrastorage.org/files/752/007/52e/75200752e7b04a8a8c488b8b923567a7.png" alt="imagen" width="340"><br><br><h3>  En conclusi√≥n </h3><br>  Organizar una boda nunca es f√°cil.  En cualquier momento, puede parecerle que muchos aspectos del evento est√°n fuera de su control.  La automatizaci√≥n definitivamente me facilit√≥ la vida al proporcionar un canal directo de comunicaci√≥n con los hu√©spedes e innumerables herramientas para seguir sus respuestas y recordarles cualquier necesidad de decidir y responder.  Ella nos ayud√≥ a tomar uno de los asuntos m√°s tediosos que acompa√±an tales eventos en nuestras propias manos, y nos permiti√≥ liberar mucho tiempo y enfocarnos en otros componentes importantes de un evento tan importante en nuestras vidas. <br><br>  Crear soluciones escalables para tareas complejas nunca es f√°cil, e incluso una de las versiones finales de mi aplicaci√≥n apenas podr√≠a hacer frente a las tareas en algunos lugares.  Inicialmente, plane√© desarrollar una soluci√≥n m√°s completa, con visualizaci√≥n del progreso, integraci√≥n de voz, menos dependiente de los scripts de CLI, pero el tiempo prevaleci√≥ en esta carrera.  En general, estoy satisfecho con c√≥mo result√≥ todo.  No hay sistemas de comunicaci√≥n perfectos.  Siempre debe usar el canal que sea m√°s adecuado para su audiencia, ya sea <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SMS</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">voz</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">chat</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">video</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sem√°foro</a> . <br><br>  Si desea hablar sobre la automatizaci√≥n de bodas, env√≠eme un correo electr√≥nico en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Twitter</a> . <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/329/5ba/c7b/3295bac7b7fb4687b452049ac5cec9bc.png" alt="imagen"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es402827/">https://habr.com/ru/post/es402827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es402813/index.html">Gadgets del mercado de pulgas: videoc√°mara Toshiba Camileo P10</a></li>
<li><a href="../es402815/index.html">Cometa Hale-Bopp</a></li>
<li><a href="../es402817/index.html">Enredo cu√°ntico sin confusi√≥n: ¬øqu√© es?</a></li>
<li><a href="../es402821/index.html">Tesla Amazing: pegatinas geek de autores de Rusia que se pueden pegar en cualquier lugar</a></li>
<li><a href="../es402823/index.html">La industria de tecnolog√≠a de seguros como una de las verticales fintech de m√°s r√°pido crecimiento</a></li>
<li><a href="../es402829/index.html">Una breve gu√≠a del mundo de los consorcios blockchain</a></li>
<li><a href="../es402831/index.html">Para comprender el futuro de la industria de servicios financieros, debe dejar de pensar en t√©rminos de tecnolog√≠a financiera</a></li>
<li><a href="../es402833/index.html">C√≥mo funciona la infraestructura de internet</a></li>
<li><a href="../es402835/index.html">10 tendencias de Insurtech 2017</a></li>
<li><a href="../es402837/index.html">¬øPor qu√© la realidad virtual es una aplicaci√≥n asesina para blockchain?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>