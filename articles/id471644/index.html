<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✋ 👨‍👧‍👦 🤜🏼 Lagi tentang phpQuery 🤙🏽 🤦🏽 👛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam untuk semuanya. Baru-baru ini, saya mengambil pesanan di mana diperlukan untuk secara otomatis menarik data ke situs (dengan kata lain, menulis ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lagi tentang phpQuery</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471644/">  Salam untuk semuanya.  Baru-baru ini, saya mengambil pesanan di mana diperlukan untuk secara otomatis menarik data ke situs (dengan kata lain, menulis parser). <br><br>  Isi artikel: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kata Pengantar</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tentang phpQuery</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memulai</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian praktis</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kesimpulan</a> </li></ul><br><a name="habracut"></a><br><h3><anchor>  Kata Pengantar </anchor></h3><br>  Karena saya bekerja di php, mata saya tertuju pada perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">phpQuery</a> .  Tentu saja, saya setuju bahwa ada banyak perpustakaan lain, termasuk yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dibangun ke dalam php secara default</a> , tetapi untuk programmer biasa yang bekerja freelance selama akhir pekan, Anda perlu semacam keajaiban.  Untungnya, kemalasan membuat kita semua.  Satu kemalasan Ceko menyebabkan penciptaan phpQuery. <br><br>  Saya tidak menemukan dokumentasi dalam bahasa Rusia untuk perpustakaan ini (mungkin saya terlihat buruk?).  Menemukan banyak pertanyaan dari pendatang baru ke forum, dan tidak dapat membaca dokumentasi dalam bahasa Inggris, saya berpikir untuk menulis artikel ini.  Harap dicatat bahwa artikel ini ditulis terutama <b>untuk pemula</b> . <br><cut><br><h3><anchor>  Mari kita mulai </anchor></h3><br>  PhpQuery bukan perpustakaan tercepat, tetapi salah satunya.  Dengan versi php yang lebih baru hampir tidak terlihat.  Beban utama, seperti sebelumnya, terletak pada pemuatan halaman. <br>  Ini memiliki banyak fitur yang tidak disebutkan dalam banyak manual berbahasa Rusia. <br>  Beberapa programmer, karena tidak mengerti phpQuery, menjalankan untuk membuat perpustakaan mereka sendiri (seperti rekan-rekan kami dari dunia js).  Ya, perpustakaan ini memiliki kelemahan utama - kode ini sudah usang, tetapi berfungsi dengan sendirinya. <br><br><h3><anchor>  Mulai </anchor>  bekerja </h3><br>  Cukup sulit bagi pemula untuk segera memahami cara kerja phpQuery.  Tetapi saya akan mencoba "mengunyah" semua momen sulit sebanyak mungkin. <br><br>  Banyak metode perpustakaan ini bertujuan untuk bekerja dengan Dom, seolah-olah kami sedang mengerjakan jQuery.  Dan nama-nama perpustakaan ini semirip mungkin. <br><br>  Dan begitulah.  Pertama, kita perlu memutuskan situs tempat kita akan mengambil kode HTML.  Omong-omong, ini tidak harus menjadi situs.  Jika kita sudah memiliki html (xml) dalam file (variabel), maka kita dapat memuatnya dari sana. <br><br><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/**  : $siteName = "site.com/";  : $siteName = "index.html"; */</span></span> $html = file_get_contents(<span class="hljs-string"><span class="hljs-string">"$siteName"</span></span>);</code> </pre> <br>  Selanjutnya, kita perlu meneruskan kode yang dihasilkan ke penangan phpQuery <br><br><pre> <code class="php hljs">$dom = phpQuery::newDocument($html);</code> </pre> <br>  Metode "newDocument ()" akan mengembalikan objek dom yang dengannya kita dapat bekerja. <br><br>  Sekarang kita dapat menemukan sesuatu di objek dom ini.  Mari kita bayangkan bahwa kita membuka halaman situs di mana ada blok seperti itu: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"product-essential"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"brand-link"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://-_.com/-_"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"- "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"brand-name"</span></span></span><span class="hljs-tag">&gt;</span></span>- <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"product-name"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Jeans Denim<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"price-info"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"price-box"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"regular-price"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"product-price-424337"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"price"</span></span></span><span class="hljs-tag">&gt;</span></span>€ 200<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"description"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"product-description"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sku"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> ID :<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>830214303<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Dalam contoh ini, ada garis dengan tautan ke merek, nama merek, nama produk, deskripsi, ID, dan harga. <br><br><h3><anchor>  Praktis </anchor>  bagian dari </h3><br>  Mari kita coba untuk mendapatkan semua data di atas. <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   $html = file_get_contents("https://-_.com/"); //   dom $dom = phpQuery::newDocument($html); //    dom    .product-essential,    find().        . foreach($dom-&gt;find(".product-essential") as $key =&gt; $value){ //  dom    phpQuery.       pq();    ($)  jQuery. $pq = pq($value); //        .brand-link     "href"    attr(); $productHref[$key]["brand-href"] = $pq-&gt;find(".brand-link")-&gt;attr("href"); //   .     &lt;span class="brand-name"&gt;- &lt;/span&gt;. //    ,   &lt;span&gt;       text(); $productHref[$key]["brand-name"] = $pq-&gt;find(".brand-name")-&gt;text(); //      . //    ,      . //         &lt;h1&gt;,     &lt;div class="brand-name"&gt; $productHref[$key]["product-name"] = $pq-&gt;find(".product-name h1")-&gt;text(); // PhpQuery    ,    , . //      ! //     . $productHref[$key]["product-price"] = $pq-&gt;find(".price-info .price-box .regular-price .price")-&gt;text(); //    $productHref[$key]["product-description"] = $pq-&gt;find(".description .product-description")-&gt;text(); //       . //      next(); //           . $productHref[$key]["product-id"] = $pq-&gt;find(".description .sku span")-&gt;next()-&gt;text(); }</span></span></code> </pre><br>  Pada output, kita mendapatkan array ini: <br><br><pre> <code class="xml hljs">Array ( [0] =&gt; Array ( [brand-href] =&gt; https://-_.com/-_ [brand-name] =&gt; -  [product-name] =&gt; Jeans Denim [product-price] =&gt; € 200 [product-description] =&gt;   [product-id] =&gt; 830214303 ) )</code> </pre><br><h3><anchor>  Kesimpulan </anchor></h3><br>  PhpQuery adalah perpustakaan yang sangat berguna, tetapi sayangnya terlalu berat.  Jadi, setelah melalui elemen-elemen, disarankan untuk membongkar dokumen: <br><br><pre> <code class="php hljs">phpQuery::unloadDocuments();</code> </pre> <br>  Terlepas dari kenyamanan perpustakaan, saya menyarankan Anda untuk tidak membiasakan diri dengannya.  Ini mungkin paling cocok untuk memecahkan masalah kecil.  Tapi perpustakaan ini masih agak ketinggalan jaman. <br><br>  Perpustakaan ini memiliki kemampuan untuk menambahkan item dengan cepat.  Tapi kita akan menyentuh topik ini di artikel selanjutnya. </cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id471644/">https://habr.com/ru/post/id471644/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id471630/index.html">Kesenangan terlarang: di negara mana PornHub diblokir dan mengapa</a></li>
<li><a href="../id471634/index.html">Cara membangun pemasaran email di perusahaan dan menghindari masalah: 6 langkah praktis</a></li>
<li><a href="../id471636/index.html">Kendaraan tak berawak: algoritma animasi. Laporan Yandex</a></li>
<li><a href="../id471640/index.html">Tinjauan umum tentang teknik analisis blockchain anonim</a></li>
<li><a href="../id471642/index.html">Pembunuh waktu sejak kecil</a></li>
<li><a href="../id471650/index.html">AI pizza: bagaimana kami menggunakan dua jaringan saraf berulang</a></li>
<li><a href="../id471652/index.html">Hidupku bersama Boost Graph Library</a></li>
<li><a href="../id471654/index.html">Bagaimana kami mengembangkan perangkat hal yang tahan terhadap internet</a></li>
<li><a href="../id471658/index.html">Penipu telepon. Tindakan pertama di mana saya diberitahu tentang scammers lainnya</a></li>
<li><a href="../id471660/index.html">Kuliah Psikologi Pemain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>