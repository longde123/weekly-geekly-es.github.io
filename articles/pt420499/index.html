<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíù üë©üèæ‚Äçüéì üóëÔ∏è Anatomia de sistemas de recomenda√ß√£o. Parte um üëèüèº ü¶ä ‚ñ´Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eu trabalho como cientista de dados na CleverDATA . Estamos envolvidos em projetos de aprendizado de m√°quina, e uma das solicita√ß√µes mais frequentes p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Anatomia de sistemas de recomenda√ß√£o. Parte um</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lanit/blog/420499/"> Eu trabalho como cientista de dados na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CleverDATA</a> .  Estamos envolvidos em projetos de aprendizado de m√°quina, e uma das solicita√ß√µes mais frequentes para o desenvolvimento de solu√ß√µes de marketing baseadas em aprendizado de m√°quina √© o desenvolvimento de modelos de recomenda√ß√£o. <br><br>  Neste artigo, falarei sobre sistemas de recomenda√ß√£o, tentarei fornecer uma vis√£o geral mais completa das abordagens existentes e explicarei nos dedos como os algoritmos funcionam.  Parte do material √© baseado em um bom curso nos sistemas de recomenda√ß√£o do laborat√≥rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MovieLens</a> (com o qual a maioria das pessoas est√° familiarizada com o mesmo conjunto de dados para recomenda√ß√µes de teste), o restante √© da experi√™ncia pessoal.  O artigo consiste em duas partes.  O primeiro descreve a declara√ß√£o do problema e fornece uma vis√£o geral dos algoritmos de recomenda√ß√£o simples (mas populares).  No segundo artigo, falarei sobre m√©todos mais avan√ßados e alguns aspectos pr√°ticos da implementa√ß√£o. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/652/779/d2d/652779d2ded29db0c8412ad892d0df72.jpg"></a> </div>  <a href="">Fonte</a> <br><a name="habracut"></a><br><h3>  <font color="#0057b6">Revis√£o e declara√ß√£o do problema</font> </h3><br>  A tarefa do sistema de recomenda√ß√£o √© informar o usu√°rio sobre um produto no qual ele possa estar mais interessado em um determinado momento.  O cliente recebe informa√ß√µes e o servi√ßo ganha dinheiro com a presta√ß√£o de servi√ßos de qualidade.  Os servi√ßos n√£o s√£o necessariamente vendas diretas dos produtos oferecidos.  O servi√ßo tamb√©m pode ganhar comiss√µes ou simplesmente aumentar a lealdade do usu√°rio, o que se traduz em publicidade e outras receitas. <br><br>  Dependendo do modelo de neg√≥cios, as recomenda√ß√µes podem ser sua base, como, por exemplo, no TripAdvisor, ou podem ser apenas um servi√ßo adicional conveniente (como, por exemplo, em algumas lojas de roupas on-line), projetado para melhorar a Experi√™ncia do Cliente e tornar a navega√ß√£o no cat√°logo mais confort√°vel. <br><br>  A personaliza√ß√£o do marketing online √© uma tend√™ncia √≥bvia da √∫ltima d√©cada.  Segundo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">McKinsey</a> , 35% da receita da Amazon ou 75% da receita da Netflix s√£o provenientes de produtos recomendados, e esse percentual provavelmente crescer√°.  Os sistemas de refer√™ncia s√£o sobre o que oferecer ao cliente para faz√™-lo feliz. <br><br>  Para ilustrar toda a variedade de servi√ßos de recomenda√ß√£o, darei uma lista das principais caracter√≠sticas com as quais voc√™ pode descrever qualquer sistema de recomenda√ß√£o. <br><br><ol><li>  <b>Assunto da recomenda√ß√£o</b> - o que √© recomendado. <br><br>  H√° muita variedade aqui - podem ser produtos (Amazon, Ozon), artigos (Arxiv.org), not√≠cias (Surfingbird, Yandex.Zen), imagens (500px), v√≠deos (YouTube, Netflix), pessoas (Linkedin, LonelyPlanet), m√∫sica (Last.fm, Pandora), listas de reprodu√ß√£o e muito mais.  Em geral, voc√™ pode recomendar qualquer coisa. <br></li><li>  <b>O objetivo da recomenda√ß√£o</b> √© o motivo pelo qual √© recomendado. <br><br>  Por exemplo: comprar, informar, treinar, fazer contatos. <br></li><li>  <b>O contexto da recomenda√ß√£o</b> √© o que o usu√°rio est√° fazendo no momento. <br><br>  Por exemplo: assistindo mercadorias, ouvindo m√∫sica, conversando com pessoas. <br></li><li>  <b>A fonte da recomenda√ß√£o</b> √© quem recomenda: <br><br>  - audi√™ncia (classifica√ß√£o m√©dia dos restaurantes no TripAdvisor), <br>  - Usu√°rios interessados <br>  - comunidade de especialistas (√†s vezes quando se trata de um produto complexo, como, por exemplo, vinho). <br></li><li>  <b>O grau de personaliza√ß√£o</b> . <br><br>  Recomenda√ß√µes n√£o pessoais - quando voc√™ √© recomendado da mesma forma que todos os outros.  Eles permitem a segmenta√ß√£o por regi√£o ou hor√°rio, mas n√£o levam em considera√ß√£o suas prefer√™ncias pessoais. <br><br>  Uma op√ß√£o mais avan√ßada √© quando as recomenda√ß√µes usam dados da sua sess√£o atual.  Voc√™ examinou v√°rios produtos e, na parte inferior da p√°gina, oferece produtos similares. <br><br>  As recomenda√ß√µes pessoais usam todas as informa√ß√µes dispon√≠veis sobre o cliente, incluindo o hist√≥rico de suas compras. <br></li><li>  <b>Transpar√™ncia</b> <br><br>  As pessoas confiam mais na recomenda√ß√£o se entenderem exatamente como ela foi recebida.  Portanto, h√° menos risco de se deparar com sistemas "inescrupulosos" que promovem bens pagos ou colocam produtos mais caros mais altos no ranking.  Al√©m disso, um bom sistema de recomenda√ß√£o deve ser capaz de lidar com cr√≠ticas e truques de vendas comprados. <br><br>  Manipula√ß√µes, a prop√≥sito, tamb√©m n√£o s√£o intencionais.  Por exemplo, quando um novo sucesso de p√∫blico √© lan√ßado, a primeira coisa que os f√£s fazem √©, portanto, a classifica√ß√£o pode ser superestimada nos primeiros dois meses. <br></li><li>  <b>O formato da recomenda√ß√£o</b> . <br><br>  Pode ser uma janela pop-up, uma lista classificada que aparece em uma se√ß√£o espec√≠fica do site, uma faixa de op√ß√µes na parte inferior da tela ou qualquer outra coisa. <br></li><li>  <b>Algoritmos</b> <br><br>  Apesar dos muitos algoritmos existentes, todos eles se resumem a v√°rias abordagens b√°sicas, que ser√£o descritas mais adiante.  Os mais cl√°ssicos s√£o os algoritmos baseados em resumo (n√£o pessoais), baseados em conte√∫do (modelos baseados na descri√ß√£o do produto), filtragem colaborativa (filtragem colaborativa), fatora√ß√£o de matriz (m√©todos baseados na decomposi√ß√£o de matriz) e outros. <br></li></ol><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d4/db2/906/6d4db2906e4c73fe2dfc75325e55157b.png" width="400"></div>  <a href="">Fonte</a> <br><br>  No centro de qualquer sistema de recomenda√ß√£o est√° a chamada matriz de prefer√™ncias.  Essa √© uma matriz, em um eixo no qual todos os clientes do servi√ßo (Usu√°rios) s√£o separados e, por outro, objetos da recomenda√ß√£o (Itens).  Na interse√ß√£o de alguns pares (usu√°rio, item), essa matriz √© preenchida com classifica√ß√µes (classifica√ß√µes) - este √© um indicador conhecido do interesse do usu√°rio neste produto, expresso em uma determinada escala (por exemplo, de 1 a 5). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9a/1cd/f0d/b9a1cdf0d459d5bd938dcd269dc04678.jpg"></div><br>  Os usu√°rios geralmente avaliam apenas uma pequena parte dos produtos que est√£o no cat√°logo, e a tarefa do sistema de recomenda√ß√£o √© resumir essas informa√ß√µes e prever a atitude do cliente em rela√ß√£o a outros produtos sobre os quais nada se sabe.  Em outras palavras, voc√™ precisa preencher todas as c√©lulas vazias na imagem acima. <br><br>  Os padr√µes de consumo das pessoas s√£o diferentes e novos produtos n√£o precisam ser recomendados.  Voc√™ pode mostrar posi√ß√µes repetidas, por exemplo, para reabastecer o estoque.  De acordo com este princ√≠pio, dois grupos de mercadorias s√£o distinguidos. <br><br><ul><li>  <b>Repet√≠vel</b> .  Por exemplo, xampus ou aparelhos de barbear sempre necess√°rios. <br></li><li>  <b>√önico</b> .  Por exemplo, livros ou filmes que raramente s√£o readquiridos. <br></li></ul><br>  Se o produto n√£o puder ser atribu√≠do explicitamente a uma das classes, faz sentido determinar a admissibilidade de compras repetidas individualmente (algu√©m vai √† loja apenas para uma pasta de amendoim de uma determinada marca e para algu√©m √© importante tentar tudo o que est√° no cat√°logo). <br><br>  O conceito de "interesse" tamb√©m √© subjetivo.  Alguns usu√°rios precisam apenas de itens de sua categoria favorita (recomenda√ß√µes conservadoras), enquanto algu√©m, pelo contr√°rio, √© mais responsivo a produtos ou grupos de produtos n√£o padr√£o (recomenda√ß√µes arriscadas).  Por exemplo, a hospedagem de v√≠deo pode recomendar ao usu√°rio apenas novos epis√≥dios de suas s√©ries favoritas e periodicamente oferecer a ele novos programas ou at√© novos g√™neros.  Idealmente, voc√™ deve escolher uma estrat√©gia para exibir recomenda√ß√µes para cada cliente separadamente, usando a modelagem de uma categoria de cliente. <br><br>  As classifica√ß√µes do usu√°rio podem ser obtidas de duas maneiras: <br><br><ul><li>  classifica√ß√µes expl√≠citas - o usu√°rio coloca a classifica√ß√£o do produto, deixa um coment√°rio, gosta da p√°gina, <br></li><li>  classifica√ß√µes impl√≠citas - o usu√°rio n√£o expressa explicitamente sua atitude, mas pode-se tirar uma conclus√£o indireta de suas a√ß√µes: ele comprou o produto - isso significa que ele gosta, l√™ a descri√ß√£o por um longo tempo - significa que h√° interesse etc. <br></li></ul><br>  Obviamente, as prefer√™ncias expl√≠citas s√£o melhores - o pr√≥prio usu√°rio diz que gostou.  No entanto, na pr√°tica, nem todos os sites oferecem a oportunidade de expressar explicitamente seu interesse, e nem todos os usu√°rios desejam faz√™-lo.  Ambos os tipos de classifica√ß√µes s√£o mais frequentemente usados ‚Äã‚Äãde uma s√≥ vez e se complementam bem. <br><br>  Tamb√©m √© importante distinguir entre os termos Previs√£o (previs√£o do grau de interesse) e a pr√≥pria Recomenda√ß√£o (mostrando a recomenda√ß√£o).  O que e como mostrar √© uma tarefa separada que usa as estimativas obtidas na etapa de Previs√£o, mas pode ser implementada de maneiras diferentes. <br><br>  √Äs vezes, o termo ‚Äúrecomenda√ß√£o‚Äù √© usado em um sentido mais amplo e refere-se a qualquer otimiza√ß√£o, seja uma sele√ß√£o de clientes para correspond√™ncia de publicidade, determinando o pre√ßo ideal da oferta ou simplesmente escolhendo a melhor estrat√©gia de comunica√ß√£o com o cliente.  No artigo, limito-me √† defini√ß√£o cl√°ssica desse termo, denotando a escolha do produto mais interessante para o cliente. <br><br><h3>  <font color="#0057b6">Recomenda√ß√µes n√£o personalizadas</font> </h3><br>  Vamos come√ßar com recomenda√ß√µes n√£o personalizadas, pois s√£o as mais f√°ceis de implementar.  Neles, o interesse potencial do usu√°rio √© simplesmente determinado pela classifica√ß√£o m√©dia do produto: "Todo mundo gosta, ent√£o voc√™ vai gostar".  A maioria dos servi√ßos trabalha com esse princ√≠pio quando o usu√°rio n√£o est√° conectado ao sistema, por exemplo, o mesmo TripAdvisor. <br><br>  As recomenda√ß√µes podem ser mostradas de diferentes maneiras - como um banner ao lado da descri√ß√£o do produto (Amazon), como resultado de uma solicita√ß√£o classificada por um par√¢metro espec√≠fico (TripAdvisor) ou de alguma outra forma. <br><br>  As classifica√ß√µes do produto tamb√©m podem ser exibidas de v√°rias maneiras.  Pode haver estrelas pr√≥ximas ao produto, n√∫mero de curtidas, diferen√ßa entre votos positivos e negativos (como geralmente √© feito nos f√≥runs), propor√ß√£o de classifica√ß√µes altas ou mesmo um histograma de classifica√ß√µes.  Os histogramas s√£o a maneira mais informativa, mas eles t√™m uma desvantagem - s√£o dif√≠ceis de comparar entre si ou de classificar, quando voc√™ precisa listar produtos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b73/0ea/d52/b730ead5266ac0ad83e4a22aef73e91f.jpg"></div><br><h4>  <font color="#0057b6">Problema de partida a frio</font> </h4><br>  Uma partida a frio √© uma situa√ß√£o t√≠pica em que ainda n√£o foram acumulados dados suficientes para o sistema recomendador funcionar corretamente (por exemplo, quando um produto √© novo ou raramente √© comprado).  Se a classifica√ß√£o m√©dia for calculada pelas estimativas de apenas tr√™s usu√°rios (igor92, xyz_111 e oleg_s), essa avalia√ß√£o claramente n√£o ser√° confi√°vel e os usu√°rios entender√£o isso.  Frequentemente, nessas situa√ß√µes, as classifica√ß√µes s√£o ajustadas artificialmente. <br><br>  A primeira maneira √© mostrar n√£o o valor m√©dio, mas a m√©dia suavizada (m√©dia amortecida).  O significado √© o seguinte: com um pequeno n√∫mero de classifica√ß√µes, a classifica√ß√£o exibida √© mais inclinada a algum tipo de indicador "m√©dio" seguro e, assim que um n√∫mero suficiente de novas classifica√ß√µes √© obtido, o ajuste "m√©dio" deixa de funcionar. <br><br>  Outra abordagem √© calcular intervalos de confian√ßa para cada classifica√ß√£o.  Matematicamente, quanto mais estimativas, menor varia√ß√£o da m√©dia e, portanto, mais confian√ßa em sua corre√ß√£o.  E como uma classifica√ß√£o, voc√™ pode exibir, por exemplo, o limite inferior do intervalo (limite baixo do IC).  Ao mesmo tempo, fica claro que esse sistema ser√° bastante conservador, com tend√™ncia a subestimar as classifica√ß√µes de novos produtos (a menos que, √© claro, isso seja um sucesso). <br><br>  Como as estimativas s√£o limitadas a uma determinada escala (por exemplo, de 0 a 1), a maneira usual de calcular o intervalo de confian√ßa √© pouco aplic√°vel aqui: devido √†s caudas de distribui√ß√£o que v√£o ao infinito e √† simetria do pr√≥prio intervalo.  Existe uma maneira alternativa e mais precisa de calcul√°-lo - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Wilson Confidence Interval</a> .  Nesse caso, s√£o obtidos intervalos assim√©tricos aproximadamente desse tipo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/b3/ks/rt/b3ksrtynyspkk3lnfpawslijoou.jpeg"></div><br>  Na figura acima, a classifica√ß√£o horizontal da classifica√ß√£o m√©dia √© plotada e a vertical √© o spread em torno da m√©dia.  A cor indica diferentes tamanhos de amostra (obviamente, quanto maior a amostra, menor o intervalo de confian√ßa). <br><br>  O problema do arranque a frio √© igualmente relevante para recomenda√ß√µes n√£o personalizadas.  A abordagem geral aqui √© substituir o que n√£o pode ser contado no momento por v√°rias heur√≠sticas (por exemplo, substituir por uma classifica√ß√£o m√©dia, usar um algoritmo mais simples ou n√£o usar um produto at√© que os dados sejam coletados). <br><br><h4>  <font color="#0057b6">Relev√¢ncia das recomenda√ß√µes</font> </h4><br>  Em alguns casos, tamb√©m √© importante considerar o "frescor" da recomenda√ß√£o.  Isto √© especialmente verdade para artigos ou postagens em f√≥runs.  Entradas novas frequentemente devem chegar ao topo.  Para fazer isso, use fatores de amortecimento.  Abaixo est√£o algumas f√≥rmulas para calcular a classifica√ß√£o de artigos em sites de m√≠dia. <br><br>  Exemplo de c√°lculo de classifica√ß√£o na revista Hacker: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vc/yr/sn/vcyrsnoylizvctaq3ilbafaosbq.jpeg"></div>  onde U = upvotes, D = downvotes e P (Penalty) - ajuste adicional para a implementa√ß√£o de outras regras de neg√≥cios <br><br>  C√°lculo de classifica√ß√£o no Reddit: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/g-/zj/fg/g-zjfghqsstjvuryzd-b9c92hjk.jpeg"></div>  onde U = n√∫mero de votos a favor, D = n√∫mero de votos contra, T = tempo de grava√ß√£o.  O primeiro termo estima a "qualidade da grava√ß√£o" e o segundo faz uma corre√ß√£o pelo tempo. <br><br>  Obviamente, uma f√≥rmula universal n√£o existe e cada servi√ßo inventa a f√≥rmula que melhor resolve seu problema - √© verificada empiricamente. <br><br><h3>  <font color="#0057b6">Recomenda√ß√µes baseadas em conte√∫do</font> </h3><br>  As recomenda√ß√µes pessoais sugerem o uso m√°ximo de informa√ß√µes sobre o pr√≥prio usu√°rio, principalmente sobre suas compras anteriores.  Uma das primeiras foi a abordagem de filtragem baseada em conte√∫do.  Na estrutura dessa abordagem, a descri√ß√£o do produto (conte√∫do) √© comparada com os interesses do usu√°rio obtidos de suas classifica√ß√µes anteriores.  Quanto mais o produto atende a esses interesses, maior o interesse potencial do usu√°rio √© avaliado.  O requisito √≥bvio aqui √© que todos os produtos no cat√°logo tenham uma descri√ß√£o. <br><br>  Historicamente, o assunto das recomenda√ß√µes baseadas em conte√∫do costuma ser uma descri√ß√£o n√£o estruturada: filmes, livros, artigos.  Tais sinais podem ser, por exemplo, descri√ß√µes de texto, cr√≠ticas, elenco e muito mais.  No entanto, nada impede o uso de sinais num√©ricos ou categ√≥ricos comuns. <br><br>  Recursos n√£o estruturados s√£o descritos de maneira t√≠pica para os vetores de texto no espa√ßo das palavras ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modelo de espa√ßo vetorial</a> ).  Cada elemento desse vetor √© um recurso que potencialmente caracteriza o interesse do usu√°rio.  Da mesma forma, um produto √© um vetor no mesmo espa√ßo. <br><br>  √Ä medida que o usu√°rio interage com o sistema (digamos, ele compra filmes), as descri√ß√µes vetoriais dos bens comprados por ele s√£o combinadas (resumidas e normalizadas) em um √∫nico vetor e, assim, um vetor de seus interesses √© formado.  Al√©m disso, basta encontrar um produto cuja descri√ß√£o seja mais pr√≥xima do vetor de interesses, ou seja,  resolver o problema de encontrar n vizinhos mais pr√≥ximos. <br><br>  Nem todos os elementos s√£o igualmente significativos: por exemplo, palavras aliadas, obviamente, n√£o carregam carga √∫til.  Portanto, ao determinar o n√∫mero de elementos correspondentes em dois vetores, todas as medidas devem primeiro ser pesadas por sua signific√¢ncia.  Essa tarefa √© resolvida pela transforma√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TF-IDF</a> , bem conhecida em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Text Mining</a> , que atribui mais peso a interesses mais raros.  A coincid√™ncia de tais interesses √© mais importante na determina√ß√£o da proximidade de dois vetores do que a coincid√™ncia dos populares. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ns/yf/-l/nsyf-lljlfb0r7bjrc_l3xonto0.jpeg"></div><br>  O princ√≠pio TF-IDF aqui √© igualmente aplic√°vel a atributos nominais comuns, como, por exemplo, g√™nero, diretor, idioma.  TF - uma medida da import√¢ncia do atributo para o usu√°rio, IDF - uma medida da "raridade" do atributo. <br><br>  Existe toda uma fam√≠lia de transforma√ß√µes semelhantes (por exemplo, BM25 e similares), mas, em subst√¢ncia, todas repetem a mesma l√≥gica que o TF-IDF: atributos raros devem ter mais peso ao comparar produtos.  A imagem abaixo ilustra como o peso do TF-IDF depende do TF e do IDF.  O eixo horizontal mais pr√≥ximo √© DF: frequ√™ncia de atributo entre todos os produtos, o eixo horizontal distante √© TF: logaritmo de frequ√™ncia de atributo do usu√°rio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/248/b71/1f2/248b711f2b0f9c813c8e88ced69bafbd.png"></div><br>  Alguns pontos que podem ser levados em considera√ß√£o durante a implementa√ß√£o. <br><br><ul><li>  Ao formar uma apresenta√ß√£o de mercadorias no espa√ßo vetorial, em vez de palavras individuais, voc√™ pode usar telhas ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n gramas</a> (pares consecutivos de palavras, triplos etc.).  Isso tornar√° o modelo mais detalhado, mas ser√£o necess√°rios mais dados para o treinamento. <br></li><li>  Em locais diferentes da descri√ß√£o do produto, o peso das palavras-chave pode ser diferente (por exemplo, uma descri√ß√£o de filme pode consistir em um t√≠tulo, uma breve descri√ß√£o e uma descri√ß√£o detalhada). <br></li><li>  As descri√ß√µes de produtos de diferentes usu√°rios podem ter pesos diferentes.  Por exemplo, podemos dar mais peso aos usu√°rios ativos que possuem muitas classifica√ß√µes. <br></li><li>  Da mesma forma, voc√™ pode pesar e produzir.  Quanto maior a classifica√ß√£o m√©dia de um objeto, maior o seu peso (semelhante ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PageRank</a> ). <br></li><li>  Se a descri√ß√£o do produto permitir links para fontes externas, voc√™ poder√° ficar confuso e analisar tamb√©m todas as informa√ß√µes de terceiros relacionadas ao produto. <br></li></ul><br>  Pode-se ver que a filtragem baseada em conte√∫do repete quase completamente o mecanismo de correspond√™ncia de documentos de consulta usado em mecanismos de pesquisa como Yandex e Google.  A √∫nica diferen√ßa est√° na forma de uma consulta de pesquisa - aqui est√° um vetor que descreve os interesses do usu√°rio e h√° as palavras-chave do documento solicitado.  Quando os mecanismos de pesquisa come√ßaram a adicionar personaliza√ß√£o, a distin√ß√£o foi apagada ainda mais. <br><br>  Como medida da proximidade de dois vetores, a dist√¢ncia do cosseno √© mais frequentemente usada. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a6/136/c9b/0a6136c9bd4144fabc84b53b4e0b6f49.png"></div><br>  Quando uma nova avalia√ß√£o √© adicionada, o vetor de interesses √© atualizado de forma incremental (apenas para os elementos que foram alterados).  Ao recontar, faz sentido atribuir novas estimativas um pouco mais de peso, pois as prefer√™ncias podem variar. <br><br><h3>  <font color="#0057b6">Filtragem colaborativa (op√ß√£o baseada no usu√°rio)</font> </h3><br>  Essa classe de sistemas come√ßou a se desenvolver ativamente nos anos 90.  Como parte da abordagem, as recomenda√ß√µes s√£o geradas com base nos interesses de outros usu√°rios semelhantes.  Tais recomenda√ß√µes s√£o o resultado de uma "colabora√ß√£o" de muitos usu√°rios.  Da√≠ o nome do m√©todo. <br><br>  A implementa√ß√£o cl√°ssica do algoritmo √© baseada no princ√≠pio de k vizinhos mais pr√≥ximos.  Nos dedos - para cada usu√°rio, procuramos k mais parecido com ele (em termos de prefer√™ncias) e complementamos as informa√ß√µes sobre o usu√°rio com dados conhecidos de seus vizinhos.  Por exemplo, se voc√™ sabe que seus vizinhos est√£o muito satisfeitos com o filme "Sangue e Concreto" e n√£o o assistiu por algum motivo, esta √© uma excelente ocasi√£o para oferecer a voc√™ este filme para exibi√ß√£o no s√°bado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/it/fv/alitfv0yszejlvhji0agoy01amg.jpeg"></div><br>  A figura acima ilustra o princ√≠pio do m√©todo.  Na matriz de prefer√™ncias, o usu√°rio √© destacado em amarelo para o qual queremos determinar as classifica√ß√µes para novos produtos (pontos de interroga√ß√£o).  Tr√™s de seus vizinhos mais pr√≥ximos s√£o destacados em azul. <br><br>  ‚ÄúSemelhan√ßa‚Äù √©, neste caso, sin√¥nimo de ‚Äúcorrela√ß√£o‚Äù de interesses e pode ser considerado de v√°rias maneiras (al√©m da correla√ß√£o de Pearson, h√° tamb√©m uma dist√¢ncia cosseno, h√° uma dist√¢ncia de Jacquard, dist√¢ncia de Hamming, etc.). <br><br>  A implementa√ß√£o cl√°ssica do algoritmo tem um √≥bvio menos - √© pouco aplic√°vel na pr√°tica devido √† complexidade quadr√°tica.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De fato, como qualquer m√©todo do vizinho mais pr√≥ximo, requer o c√°lculo de todas as dist√¢ncias entre pares entre usu√°rios (e pode haver milh√µes de usu√°rios). </font><font style="vertical-align: inherit;">√â f√°cil calcular que a complexidade do c√°lculo da matriz de dist√¢ncia ser√°</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>m</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.072ex" height="2.901ex" viewBox="0 -935.7 3475.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMAIN-32" x="849" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMATHI-6D" x="2207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/company/lanit/blog/420499/&amp;usg=ALkJrhjN601fdl7_FjJHCJzWHyzsgpLJDQ#MJMAIN-29" x="3085" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></mo><msup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></mi><mn><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></mn></msup><mi><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></mi><mo stretchy="false"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></mo></math></span></span><script type="math/tex" id="MathJax-Element-1">O(n^2m)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onde n √© o n√∫mero de usu√°rios e m √© o n√∫mero de produtos. </font><font style="vertical-align: inherit;">Com um milh√£o de usu√°rios, √© necess√°rio um m√≠nimo de 4 TB para armazenar a matriz de dist√¢ncia bruta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esse problema pode ser parcialmente resolvido com a compra de ferro de alto desempenho. </font><font style="vertical-align: inherit;">Mas se voc√™ se aproximar com sabedoria, √© melhor introduzir corre√ß√µes no algoritmo:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atualize as dist√¢ncias n√£o em todas as compras, mas em lotes (por exemplo, uma vez por dia), </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N√£o recalcule completamente a matriz de dist√¢ncia, mas atualize-a gradualmente, </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optar por algoritmos iterativos e aproximados (por exemplo, ALS). </font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para que o algoritmo seja eficaz, √© importante que algumas suposi√ß√µes sejam cumpridas. </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O gosto das pessoas n√£o muda com o tempo (ou muda, mas para todos da mesma forma). </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se os gostos das pessoas coincidem, eles coincidem em tudo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, se dois clientes preferem os mesmos filmes, eles tamb√©m gostam dos mesmos livros. </font><font style="vertical-align: inherit;">Isso geralmente acontece quando os produtos recomendados s√£o homog√™neos (por exemplo, apenas filmes). </font><font style="vertical-align: inherit;">Se n√£o for assim, alguns clientes podem ter as mesmas prefer√™ncias alimentares, e as opini√µes pol√≠ticas s√£o diretamente opostas - aqui o algoritmo ser√° menos eficaz.</font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vizinhan√ßa do usu√°rio no espa√ßo de prefer√™ncias (seus vizinhos), que analisaremos para gerar novas recomenda√ß√µes, pode ser escolhida de diferentes maneiras. Podemos trabalhar com todos os usu√°rios do sistema em geral, podemos definir um certo limite de proximidade, podemos selecionar v√°rios vizinhos aleatoriamente ou pegar os n vizinhos mais semelhantes (essa √© a abordagem mais popular). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os autores do MovieLens como n√∫mero ideal de vizinhos fornecem n√∫meros de 30 a 50 vizinhos para filmes e 25 a 100 para recomenda√ß√µes arbitr√°rias. √â claro aqui que, se levarmos muitos vizinhos, teremos mais chances de ru√≠dos aleat√≥rios e vice-versa, se tomarmos muito pouco, obteremos recomenda√ß√µes mais precisas, mas menos produtos podem ser recomendados. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma etapa importante na prepara√ß√£o dos dados √© a normaliza√ß√£o das estimativas.</font></font><br><br><h3> <font color="#0057b6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Padroniza√ß√£o de dados (dimensionamento)</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como todos os usu√°rios avaliam de forma diferente - algu√©m coloca cinco em uma linha e voc√™ raramente espera quatro de algu√©m - √© melhor normalizar os dados antes de calcular, ou seja, </font><font style="vertical-align: inherit;">levar a uma escala √∫nica para que o algoritmo possa compar√°-los corretamente entre si. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naturalmente, a estimativa prevista precisar√° ser convertida na escala original pela transforma√ß√£o inversa (e, se necess√°rio, arredondar para o n√∫mero inteiro mais pr√≥ximo). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem v√°rias maneiras de normalizar:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centraliza√ß√£o (centraliza√ß√£o m√©dia) - das classifica√ß√µes do usu√°rio, subtra√≠mos a classifica√ß√£o m√©dia </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* relevante apenas para matrizes n√£o bin√°rias</font></font></i> <br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padroniza√ß√£o (z-score) - al√©m da centraliza√ß√£o, dividimos sua classifica√ß√£o pelo desvio padr√£o do usu√°rio, </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* aqui, ap√≥s a convers√£o reversa, a classifica√ß√£o pode ir al√©m da escala (ou seja, por exemplo, 6 em uma escala de cinco pontos), mas tais situa√ß√µes s√£o bastante raras e eles s√£o resolvidos simplesmente arredondando para a estimativa aceit√°vel mais pr√≥xima.</font></font></i> <br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padroniza√ß√£o dupla - na primeira vez em que normalizamos as classifica√ß√µes dos usu√°rios, na segunda vez - nas classifica√ß√µes do produto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se o filme "O Melhor Filme" tem uma classifica√ß√£o m√©dia de 2,5 e o usu√°rio atribui 5, ent√£o esse √© um fator forte que indica que esses filmes s√£o claramente do seu gosto.</font></font><br></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ‚Äúsimilaridade‚Äù ou correla√ß√£o das prefer√™ncias de dois usu√°rios pode ser considerada de maneiras diferentes. </font><font style="vertical-align: inherit;">De fato, precisamos apenas comparar dois vetores. </font><font style="vertical-align: inherit;">Listamos alguns dos mais populares.</font></font><br><br><ol><li>   ‚Äî  ,       . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/110/e8c/698/110e8c698e7cf685c3bc2041afb25cec.png"></div><br>    ‚Äî     ,      . <br><br>           50 / min(50, Rating intersection)    damping factor,       . <br></li><li>   <br><br>   ‚Äî  , ..      ,     .         . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fdd/59e/325/fdd59e32550c21f7007bd4242a9a7b29.png"></div></li><li>   <br><br>    .  ,      ‚Äî     ,     . <br><br><img src="https://habrastorage.org/webt/jo/s3/vn/jos3vnkilzsvrkevdfsm8xl22gq.png"><br><br>   ‚Äî  ,     (..    ),       .  ,       . <br></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um desenvolvimento interessante da abordagem colaborativa s√£o as chamadas recomenda√ß√µes baseadas em confian√ßa, que levam em conta n√£o apenas a proximidade das pessoas de acordo com seus interesses, mas tamb√©m a proximidade "social" e o grau de confian√ßa entre elas. </font><font style="vertical-align: inherit;">Se, por exemplo, vemos que no Facebook uma garota visita periodicamente uma p√°gina com grava√ß√µes em √°udio de sua amiga, confia em seu gosto musical. </font><font style="vertical-align: inherit;">Portanto, as recomenda√ß√µes para a garota podem misturar completamente novas m√∫sicas da lista de reprodu√ß√£o do amigo.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/63b/62c/55e/63b62c55e1f68e966d6b4928617cc406.jpg"></div><br><h3> <font color="#0057b6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Justifica√ß√£o das recomenda√ß√µes</font></font></font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â importante que o usu√°rio confie no sistema de recomenda√ß√£o e, para isso, deve ser simples e compreens√≠vel. </font><font style="vertical-align: inherit;">Se necess√°rio, uma explica√ß√£o compreens√≠vel da recomenda√ß√£o deve estar sempre dispon√≠vel (na explica√ß√£o da terminologia em ingl√™s). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como parte da explica√ß√£o, √© bom mostrar a avalia√ß√£o do produto dos vizinhos, de acordo com qual atributo (por exemplo, ator ou diretor), houve uma coincid√™ncia, bem como a confian√ßa do sistema na avalia√ß√£o (confian√ßa). </font><font style="vertical-align: inherit;">Para n√£o sobrecarregar a interface, voc√™ pode colocar todas essas informa√ß√µes no bot√£o "Mais informa√ß√µes".</font></font><br><br>  Por exemplo: <br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Voc√™ pode gostar do filme ... porque ele toca l√° ... e ..." </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Usu√°rios com gostos musicais semelhantes classificaram o √°lbum ... 4.5 em 5." </font></font></li></ul><br><h3>  <font color="#0057b6">Sum√°rio</font> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso terminar√° a primeira parte do artigo. </font><font style="vertical-align: inherit;">Examinamos a declara√ß√£o geral do problema, conversamos sobre recomenda√ß√µes n√£o pessoais, descrevemos duas abordagens cl√°ssicas (filtragem baseada em conte√∫do e colaborativa) e tamb√©m abordamos o t√≥pico de recomenda√ß√µes substanciadas. </font><font style="vertical-align: inherit;">Em geral, essas duas abordagens s√£o suficientes para criar um sistema de recomenda√ß√£o pronto para produ√ß√£o. </font><font style="vertical-align: inherit;">Na pr√≥xima parte, continuarei a revis√£o e falarei sobre m√©todos mais modernos, incluindo aqueles que envolvem redes neurais e aprendizado profundo, bem como sobre modelos h√≠bridos.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enquanto isso, veja nossas vagas.</font></font></b> <div class="spoiler_text"><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquiteto de front-end</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvedor Java (Big Data)</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engenheiro de sistemas Linux</font></font></a> </li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt420499/">https://habr.com/ru/post/pt420499/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt420489/index.html">Novos processadores ARM podem competir com o Core i5</a></li>
<li><a href="../pt420491/index.html">Meu jeito de guerreiro, ou como eu preparei uma aplica√ß√£o para a vida em Sailfish</a></li>
<li><a href="../pt420493/index.html">O servi√ßo de pedidos de comida americano pode se tornar Amaz√¥nia no mundo dos restaurantes</a></li>
<li><a href="../pt420495/index.html">Tela de renderiza√ß√£o de √°gua</a></li>
<li><a href="../pt420497/index.html">Singularidade de vegetais: Kroger lan√ßa robocouriers para clientes de frutas e vegetais no Arizona</a></li>
<li><a href="../pt420501/index.html">Linux na RAM: debirf way 2018</a></li>
<li><a href="../pt420503/index.html">JS Developer Day, diferentes cidades e comunidades - um feriado</a></li>
<li><a href="../pt420505/index.html">O OpenAI Five ganhar√° a equipe profissional do The International</a></li>
<li><a href="../pt420507/index.html">Antecedentes: a Internet global para todos e seus criadores</a></li>
<li><a href="../pt420509/index.html">Um problema √≥bvio ao usar assert</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>