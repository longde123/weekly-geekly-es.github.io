<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßî üí™üèæ üèÜ Gerenciamento de mem√≥ria Python: um pouco sobre a fragmenta√ß√£o de mem√≥ria ‚ùÑÔ∏è üç° üë≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Algumas reflex√µes sobre este artigo . 

 Outro dia, fiquei interessado em como o Python Memory Management funciona no CPython para Python3 para o Ubun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gerenciamento de mem√≥ria Python: um pouco sobre a fragmenta√ß√£o de mem√≥ria</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479744/"> <s>Algumas reflex√µes sobre este <a href="https://rushter.com/blog/python-memory-managment/">artigo</a> .</s> <br><br>  Outro dia, fiquei interessado em como o Python Memory Management funciona no CPython para Python3 <s>para o Ubuntu de 64 bits</s> . <br><br><h2>  Pouco de teoria </h2><br>  A biblioteca do sistema glibc possui um alocador de malloc.  Cada processo possui uma √°rea de mem√≥ria chamada heap.  Ao alocar mem√≥ria dinamicamente chamando a fun√ß√£o malloc, obtemos uma parte do monte desse processo.  Se o tamanho da mem√≥ria solicitada for pequeno (n√£o mais que 128 KB), a mem√≥ria poder√° ser retirada das listas de peda√ßos livres.  Se isso n√£o for poss√≠vel, a mem√≥ria ser√° <s>alocada</s> usando a chamada de sistema mmap <s>(sbrk, brk)</s> .  A chamada do sistema mmap mapeia a mem√≥ria virtual para a mem√≥ria f√≠sica.  A mem√≥ria √© exibida em p√°ginas de 4KB.  Peda√ßos grandes (acima de 128 KB) s√£o sempre alocados atrav√©s da chamada do sistema mmap.  Ao liberar mem√≥ria, se um pequeno bloco livre estiver em uma √°rea de mem√≥ria descongelada, parte da mem√≥ria poder√° retornar ao sistema operacional.  Peda√ßos grandes retornam imediatamente ao sistema operacional. <br><a name="habracut"></a><br>  Informa√ß√µes extra√≠das de uma <a href="https://acm.bsu.by/w/index.php%3Ftitle%3DC2017/%25D0%2590%25D0%25BB%25D0%25BB%25D0%25BE%25D0%25BA%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580%25D1%258B">palestra sobre alocadores em C.</a> <br><br>  O CPython possui seu pr√≥prio alocador (PyMalloc) para o "heap privado" e alocadores para cada tipo de objeto que funciona "em cima" do primeiro.  O PyMalloc solicita blocos de mem√≥ria de 256 KB atrav√©s do malloc na biblioteca do sistema operacional chamada Arenas.  Eles, por sua vez, s√£o divididos em Pools por 4KB.  Cada Pool √© dividido em peda√ßos de tamanho fixo e cada um pode ser dividido em peda√ßos de um de 64 tamanhos. <br><br>  Alocadores para cada tipo usam os Chunks j√° alocados, se houver.  Se n√£o houver, o PyMalloc emitir√° uma nova piscina da primeira arena, na qual h√° um local para uma nova piscina (as arenas s√£o "classificadas" em ordem decrescente de ocupa√ß√£o).  Se isso n√£o funcionar, o PyMalloc solicita ao sistema operacional uma nova arena.  Exceto quando o tamanho da mem√≥ria solicitada √© superior a 512B, a mem√≥ria √© alocada diretamente atrav√©s do malloc da biblioteca do sistema. <br><br>  Quando um objeto √© exclu√≠do, a mem√≥ria n√£o √© retornada ao sistema operacional, mas os Chunks simplesmente retornam aos Pools correspondentes e os Pools √†s Arenas.  A arena retorna ao sistema operacional quando todos os Chunks s√£o libertados.  Pelo que parece, se um n√∫mero relativamente pequeno de Chunks for usado na Arena, toda a mem√≥ria da Arena ser√° usada pelo PVM.  Mas como os blocos com mais de 128 KB s√£o alocados via mmap, a Arena gratuita retornar√° imediatamente ao sistema operacional. <br><br>  Eu gostaria de focar em dois pontos: <br><br><ol><li>  Acontece que o PyMalloc aloca 256 KB de mem√≥ria <b>f√≠sica</b> ao criar uma nova Arena. </li><li>  Somente Arenas gratuitas s√£o retornadas ao sistema operacional. </li></ol><br><h2>  Exemplo </h2><br>  Considere o seguinte exemplo: <br><br><pre><code class="python hljs">iterations = <span class="hljs-number"><span class="hljs-number">2000000</span></span> l = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(iterations): l.append(<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(iterations): l[i] = {} s = [] <span class="hljs-comment"><span class="hljs-comment"># [1] # s = l[::2] # [2] # s = l[2000000 // 2::] # [3] # s = l[::100] # [4] for i in range(iterations): l[i] = None for i in range(iterations): l[i] = {}</span></span></code> </pre> <br>  No exemplo, √© criada uma lista l de 2 milh√µes de elementos, todos apontando para um objeto Nenhum.  No pr√≥ximo ciclo, um objeto √© criado para cada elemento - um dicion√°rio vazio.  Em seguida, √© criada uma segunda lista s, cujos elementos apontam para alguns objetos referenciados por alguns elementos da primeira lista.  Ap√≥s o pr√≥ximo rastreamento, os itens da lista l novamente come√ßam a apontar para o objeto Nenhum.  E no √∫ltimo ciclo, os dicion√°rios s√£o criados novamente para cada elemento da primeira lista. <br><br>  Op√ß√µes da lista S: <br><br><ol><li><pre> <code class="plaintext hljs">s = []</code> </pre> </li><li><pre> <code class="plaintext hljs">s = l[::2]</code> </pre> </li><li><pre> <code class="plaintext hljs">s = l[200000 // 2::]</code> </pre> </li><li><pre> <code class="plaintext hljs">s = l[::100]</code> </pre> </li></ol><br>  Estamos interessados ‚Äã‚Äãno consumo de mem√≥ria em cada caso. <br><br>  Executaremos este script com o log do PyMalloc ativado: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PYTHONMALLOCSTATS=<span class="hljs-string"><span class="hljs-string">"True"</span></span> &amp;&amp; python3 source.py 2&gt;result.txt</code> </pre><br><h2>  Explica√ß√£o dos resultados </h2><br>  Nas imagens, voc√™ pode ver o consumo de mem√≥ria em cada caso.  <i>No eixo da abscissa, n√£o h√° correla√ß√£o de valores com o momento em que esse consumo ocorreu, apenas cada valor nos logs est√° associado ao seu n√∫mero de s√©rie.</i> <br><br><img src="https://habrastorage.org/webt/e0/tk/ak/e0tkakp6umcmmx5xopaqno1phyc.png" alt="imagem"><br><br><h4>  "Sem elementos" </h4><br>  No primeiro caso, a lista s est√° vazia.  Depois de criar os objetos no segundo ciclo, aproximadamente 500 MB de mem√≥ria s√£o consumidos.  E todos esses objetos s√£o exclu√≠dos no terceiro ciclo e a mem√≥ria usada √© retornada ao sistema operacional.  No √∫ltimo ciclo, a mem√≥ria dos objetos √© alocada novamente, o que leva ao consumo dos mesmos 500 MB. <br><br><h4>  "A cada segundo" </h4><br>  No caso em que criamos uma lista com cada segundo elemento da lista l, podemos notar que a mem√≥ria n√£o √© retornada ao sistema operacional.  Ou seja, nesse caso, observamos uma situa√ß√£o em que dicion√°rios de aproximadamente 250 MB s√£o exclu√≠dos, mas em cada Pool existem Chunks que n√£o s√£o exclu√≠dos, pelo que as Arenas correspondentes n√£o s√£o liberadas.  Por√©m, quando criamos os dicion√°rios pela segunda vez, os Chunks gratuitos desses pools s√£o reutilizados, e √© por isso que apenas 250 MB de nova mem√≥ria s√£o alocados. <br><br><h4>  "A segunda metade" </h4><br>  No caso em que criamos uma lista a partir da segunda metade dos elementos da lista l, a primeira metade est√° em arenas separadas, devido √†s quais aproximadamente 250 MB de mem√≥ria s√£o retornados ao sistema operacional.  Depois disso, aproximadamente 500 MB s√£o realocados para novos dicion√°rios, motivo pelo qual o consumo total na regi√£o √© de 750 MB. <br><br>  Nesse caso, diferentemente do segundo, a mem√≥ria √© parcialmente retornada ao sistema operacional.  O que, por um lado, permite que outros processos usem essa mem√≥ria, por outro lado, exige chamadas do sistema para liber√°-la e realoc√°-la. <br><br><h4>  "Todo cent√©simo" </h4><br>  O √∫ltimo caso parece ser o mais interessante.  L√°, criamos uma segunda lista de cada cent√©simo elemento da primeira lista, o que requer aproximadamente 5 MB.  Por√©m, devido ao fato de um certo n√∫mero de Chunks ocupados permanecer em cada Arena, essa mem√≥ria n√£o √© liberada e o consumo permanece no n√≠vel de 500 MB.  Quando criamos dicion√°rios pela segunda vez, quase nenhuma mem√≥ria nova √© alocada e os Chunks alocados pela primeira vez s√£o reutilizados. <br><br>  Nesta situa√ß√£o, devido √† fragmenta√ß√£o da mem√≥ria, usamos 100 vezes mais do que precisamos.  Por√©m, quando essa mem√≥ria √© necess√°ria repetidamente, n√£o precisamos fazer chamadas do sistema para aloc√°-la. <br><br><h2>  Sum√°rio </h2><br>  Vale ressaltar que a fragmenta√ß√£o da mem√≥ria √© poss√≠vel ao usar muitos alocadores.  No entanto, voc√™ precisa usar cuidadosamente algumas estruturas de dados, por exemplo, aquelas que possuem uma estrutura em √°rvore, como as √°rvores de pesquisa.  Como opera√ß√µes arbitr√°rias de adi√ß√£o e exclus√£o podem levar √† situa√ß√£o descrita acima, pelo que a conveni√™ncia de usar essas estruturas em termos de consumo de mem√≥ria estar√° em d√∫vida. <br><br><div class="spoiler">  <b class="spoiler_title">C√≥digo para renderizar imagens</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(filename)</span></span></span><span class="hljs-function">:</span></span> ms = [] <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(filename, <span class="hljs-string"><span class="hljs-string">"r"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> line <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> f: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> line.startswith(<span class="hljs-string"><span class="hljs-string">"Total"</span></span>): m = float(line.split()[<span class="hljs-number"><span class="hljs-number">-1</span></span>].replace(<span class="hljs-string"><span class="hljs-string">","</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)) / <span class="hljs-number"><span class="hljs-number">1024</span></span> / <span class="hljs-number"><span class="hljs-number">1024</span></span> ms.append(m) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ms ms_1 = parse_result(<span class="hljs-string"><span class="hljs-string">"_1.txt"</span></span>) ms_2 = parse_result(<span class="hljs-string"><span class="hljs-string">"_2.txt"</span></span>) ms_3 = parse_result(<span class="hljs-string"><span class="hljs-string">"_3.txt"</span></span>) ms_4 = parse_result(<span class="hljs-string"><span class="hljs-string">"_4.txt"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>)) fontdict = { <span class="hljs-string"><span class="hljs-string">"fontsize"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"fontweight"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, } plt.subplot(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">" "</span></span>, fontdict=fontdict, loc=<span class="hljs-string"><span class="hljs-string">"left"</span></span>) plt.plot(ms_1) plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#666666'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-.'</span></span>) plt.minorticks_on() plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'minor'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#999999'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.2</span></span>) plt.tick_params(axis=<span class="hljs-string"><span class="hljs-string">'both'</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, labelsize=<span class="hljs-number"><span class="hljs-number">15</span></span>, labelbottom=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">"MB"</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">15</span></span>) plt.subplot(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">" "</span></span>, fontdict=fontdict, loc=<span class="hljs-string"><span class="hljs-string">"left"</span></span>) plt.plot(ms_2) plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#666666'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-.'</span></span>) plt.minorticks_on() plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'minor'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#999999'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.2</span></span>) plt.tick_params(axis=<span class="hljs-string"><span class="hljs-string">'both'</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, labelsize=<span class="hljs-number"><span class="hljs-number">15</span></span>, labelbottom=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">"MB"</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">15</span></span>) plt.subplot(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">" "</span></span>, fontdict=fontdict, loc=<span class="hljs-string"><span class="hljs-string">"left"</span></span>) plt.plot(ms_3) plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#666666'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-.'</span></span>) plt.minorticks_on() plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'minor'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#999999'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.2</span></span>) plt.tick_params(axis=<span class="hljs-string"><span class="hljs-string">'both'</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, labelsize=<span class="hljs-number"><span class="hljs-number">15</span></span>, labelbottom=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">"MB"</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">15</span></span>) plt.subplot(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">" "</span></span>, fontdict=fontdict, loc=<span class="hljs-string"><span class="hljs-string">"left"</span></span>) plt.plot(ms_4) plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#666666'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-.'</span></span>) plt.minorticks_on() plt.grid(b=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>, which=<span class="hljs-string"><span class="hljs-string">'minor'</span></span>, color=<span class="hljs-string"><span class="hljs-string">'#999999'</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'-'</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.2</span></span>) plt.tick_params(axis=<span class="hljs-string"><span class="hljs-string">'both'</span></span>, which=<span class="hljs-string"><span class="hljs-string">'major'</span></span>, labelsize=<span class="hljs-number"><span class="hljs-number">15</span></span>, labelbottom=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">"MB"</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">15</span></span>)</code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479744/">https://habr.com/ru/post/pt479744/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479728/index.html">Como organizar uma inicializa√ß√£o bem-sucedida?</a></li>
<li><a href="../pt479732/index.html">Pare de emitir outra coisa como um vazamento de mem√≥ria</a></li>
<li><a href="../pt479736/index.html">C√¢meras ou lasers</a></li>
<li><a href="../pt479738/index.html">Como o Youtube e o Instagram: internacionalizando e localizando um aplicativo Python</a></li>
<li><a href="../pt479742/index.html">Quintal - uma malha de servi√ßo automatizada sobre uma infraestrutura h√≠brida e em v√°rias nuvens</a></li>
<li><a href="../pt479746/index.html">O software corporativo torna seus funcion√°rios mais legais. Voc√™ precisa disso?</a></li>
<li><a href="../pt479748/index.html">GoLand 2019.3 com desempenho aprimorado, suporte aprimorado para m√≥dulos Go e muito mais</a></li>
<li><a href="../pt479750/index.html">2. Introdu√ß√£o ao Fortinet v 6.0. Arquitetura da solu√ß√£o</a></li>
<li><a href="../pt479756/index.html">Abrir dados. Roscosmos. Apanha-se com a Am√©rica</a></li>
<li><a href="../pt479758/index.html">Pentest. A pr√°tica de teste de penetra√ß√£o ou "hacking √©tico". Novo curso da OTUS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>