<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÅ üöÑ üé¥ Texto datilografado ass√≠ncrono em aplicativos avan√ßados da Internet e decoradores para combat√™-lo üíÄ üí® üî¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Desde o advento do async / await , o Typescript publicou muitos artigos que exaltam essa abordagem de desenvolvimento ( hackernoon , blog.bitsrc.io , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Texto datilografado ass√≠ncrono em aplicativos avan√ßados da Internet e decoradores para combat√™-lo</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464773/"><p> Desde o advento do <code>async</code> / <code>await</code> , o Typescript publicou muitos artigos que exaltam essa abordagem de desenvolvimento ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hackernoon</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">blog.bitsrc.io</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">habr.com</a> ).  N√≥s os usamos desde o in√≠cio, no lado do cliente (quando os ES6 Generators suportavam menos de 50% dos navegadores).  E agora quero compartilhar minha experi√™ncia, porque a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">execu√ß√£o paralela</a> n√£o √© tudo que seria bom saber nesse caminho. </p><a name="habracut"></a><br><p>  Eu realmente n√£o gosto do artigo final: algo pode ser incompreens√≠vel.  Em parte devido ao fato de n√£o poder fornecer c√≥digo propriet√°rio - apenas para descrever a abordagem geral.  Portanto: </p><br><ul><li>  n√£o hesite em fechar a guia sem ler </li><li>  se voc√™ conseguir, pe√ßa detalhes pouco claros </li><li>  Terei prazer em aceitar conselhos e cr√≠ticas dos mais persistentes e minuciosamente descobertos. </li></ul><br><p>  <strong>Lista de tecnologias principais:</strong> </p><br><ul><li>  O projeto foi escrito principalmente em Typescript usando v√°rias bibliotecas Javascript.  A biblioteca principal √© o ExtJS.  O React tem uma qualidade inferior na moda, mas √© mais adequado para um produto corporativo com uma interface rica: muitos componentes prontos, tabelas bem projetadas prontas para uso, um rico ecossistema de produtos relacionados para simplificar o desenvolvimento. </li><li>  Servidor multithread ass√≠ncrono. </li><li>  O RPC atrav√©s do Websocket √© usado como um transporte entre o cliente e o servidor.  A implementa√ß√£o √© semelhante ao .NET WCF. <br><ul><li>  Qualquer objeto √© um servi√ßo. </li><li>  Qualquer objeto pode ser transmitido por valor e por refer√™ncia. </li></ul></li><li>  A interface de solicita√ß√£o de dados se assemelha ao GraphQL do Facebook, apenas no Typescript. </li><li>  Comunica√ß√£o bidirecional: a inicializa√ß√£o da atualiza√ß√£o de dados pode ser iniciada no cliente e no servidor. </li><li>  O c√≥digo ass√≠ncrono √© gravado sequencialmente atrav√©s do uso das fun√ß√µes <code>async</code> / waitit do Typesrcipt. </li><li>  A API do servidor √© gerada no TypeScript: se for alterada, a compila√ß√£o mostrar√° imediatamente em caso de erro. </li></ul><br><p>  <strong>Qual √© a sa√≠da</strong> </p><br><p>  Vou lhe contar como trabalhamos com isso e o que fizemos para a execu√ß√£o segura e n√£o competitiva de c√≥digo ass√≠ncrono: nossos decoradores de Typesrcipt que implementam a funcionalidade das filas.  Do b√°sico √† solu√ß√£o da condi√ß√£o de corrida e outras dificuldades que surgem durante o processo de desenvolvimento. </p><br><h2 id="kak-strukturirovany-dannye-poluchaemye-s-servera">  Como os dados recebidos do servidor est√£o estruturados </h2><br><p>  O servidor retorna um objeto pai que cont√©m dados (outros objetos, cole√ß√µes de objetos, linhas etc.) em suas propriedades na forma de um gr√°fico.  Isso se deve, inter alia, ao pr√≥prio aplicativo: </p><br><ul><li>  faz da an√°lise de dados / ML um gr√°fico direcionado de n√≥s manipuladores. </li><li>  cada n√≥, por sua vez, pode conter seu pr√≥prio gr√°fico incorporado </li><li>  Os gr√°ficos t√™m depend√™ncias: os n√≥s podem ser "herdados" e novos n√≥s s√£o criados por sua "classe". </li></ul><br><p>  Mas a estrutura de consulta na forma de gr√°fico pode ser aplicada em quase qualquer aplicativo, e o GraphQL, tanto quanto eu sei, tamb√©m menciona isso em suas especifica√ß√µes. </p><br><p>  Estrutura de dados de exemplo: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   interface IParent { ServerId: string; Nodes: INodes; // INodes -     INode } //     interface INodes&lt;TNode extends INode&gt; extends ICollection { IndexOf(item: TNode): number; Item(index: number): TNode; // ...     } //    interface INode extends IItem { Guid: string; Name: string; DisplayName: string; Links: ILinks; // ILinks -    Info: INodeInfo; //    -  } //      interface ILink { Guid: string; DisplayName: string; SourceNode: INode; //   -  TargetNode: INode; //   ,   } interface INodeInfo { Component: IComponent; ConfigData: IData; }</span></span></code> </pre><br><h2 id="kak-klient-poluchaet-dannye">  Como um cliente recebe dados </h2><br><p>  √â simples: quando voc√™ solicita uma propriedade de um objeto de um tipo n√£o escalar, o RPC retorna <code>Promise</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> Nodes = Parent.Nodes; <span class="hljs-comment"><span class="hljs-comment">// Nodes -&gt; Promise&lt;INodes&gt;</span></span></code> </pre><br><h3 id="asinhronnost-bez-callback-hell">  Assincronia sem um "inferno de retorno de chamada". </h3><br><p>  Para organizar um c√≥digo ass√≠ncrono "sequencial", a funcionalidade Typescript <code>async</code> / <code>await</code> √© usada: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowNodes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">parent: IParent</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    let Nodes = await parent.Nodes; //       await Nodes.forEachParallel(async function(node): Promise&lt;void&gt; { await RenderNode(node); //          }); }</span></span></code> </pre><br><p>  N√£o faz sentido insistir nisso em detalhes, no hub j√° existe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">material detalhado</a> suficiente.  Eles apareceram no Typcript em 2016.  N√≥s usamos essa abordagem desde que ela apareceu no ramo de recursos do reposit√≥rio Typescript, por isso, temos problemas por um longo tempo e agora estamos trabalhando com prazer.  J√° faz algum tempo e em produ√ß√£o. </p><br><p>  Resumidamente, a ess√™ncia para aqueles que n√£o est√£o familiarizados com o assunto: </p><br><p>  Assim que voc√™ adicionar a palavra <code>async</code> chave <code>async</code> √† fun√ß√£o, ela retornar√° automaticamente o <code>Promise&lt;_&gt;</code> .  Caracter√≠sticas de tais fun√ß√µes: </p><br><ul><li>  Express√µes dentro de fun√ß√µes <code>async</code> com <code>await</code> (que retornam <code>Promise</code> ) interromper√£o a execu√ß√£o da fun√ß√£o e continuar√£o ap√≥s a resolu√ß√£o da <code>Promise</code> esperada. </li><li>  Se ocorrer uma exce√ß√£o na fun√ß√£o <code>async</code> , a <code>Promise</code> retornada ser√° rejeitada com essa exce√ß√£o. </li><li>  Ao compilar no c√≥digo Javascript, haver√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">geradores</a> para o padr√£o ES6 ( <code>function*</code> vez de <code>async function</code> e <code>yield</code> vez de <code>await</code> ) ou c√≥digo assustador com a <code>switch</code> para ES5 (m√°quina de estado).  <code>await</code> √© uma palavra-chave que aguarda o resultado de uma promessa.  No momento da reuni√£o, durante a execu√ß√£o do c√≥digo, a fun√ß√£o <code>ShowNodes</code> √© interrompida e, enquanto aguarda os dados, o Javascript pode executar outro c√≥digo. </li></ul><br><p>  No c√≥digo acima, a cole√ß√£o possui um m√©todo <code>forEachParallel</code> que chama um retorno de chamada ass√≠ncrono para cada n√≥ em paralelo.  Ao mesmo tempo, <code>await</code> antes que o <code>Nodes.forEachParallel</code> aguarde todos os retornos de chamada.  Por dentro da implementa√ß√£o - <code>Promise.all</code> : </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *            * @param items  * @param callbackfn  * @param [thisArg]   ,      this  callbackfn */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">forEachParallel</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items: IItemArray&lt;T&gt;, callbackfn: (value: T, index: int, items: IItemArray&lt;T&gt;</span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> | </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function">&gt;, </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thisArg</span></span></span><span class="hljs-function">?: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">any</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xCount = items ? <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> items.Count : <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!xCount) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xActions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Array</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> | any&gt;&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xCount</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">for</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">let</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">; i &lt; xCount; i++</span></span></span><span class="hljs-function">) { </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">let</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xItem</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Item</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">); </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xActions</span></span></span><span class="hljs-function">[</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">i</span></span></span><span class="hljs-function">] = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ExecuteCallback</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xItem, callbackfn, i, items, thisArg</span></span></span><span class="hljs-function">); } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">await</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Promise</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">all</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">xActions</span></span></span><span class="hljs-function">); } /**   </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item</span></span></span><span class="hljs-function">   </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">callbackfn</span></span></span><span class="hljs-function"> */ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">async</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ExecuteCallback</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">T</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item: </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">Promise</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;T&gt; | T, callbackfn: (value: T, index: int, items: IItemArray&lt;T&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span> | any&gt;, <span class="hljs-attr"><span class="hljs-attr">index</span></span>: int, <span class="hljs-attr"><span class="hljs-attr">items</span></span>: IItemArray&lt;T&gt;, thisArg?: any): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xItem = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> item; <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> callbackfn.call(thisArg, xItem, index, items); }</code> </pre><br><p>  Este √© o a√ß√∫car sint√°tico: esses m√©todos devem ser usados ‚Äã‚Äãn√£o apenas para suas cole√ß√µes, mas tamb√©m para matrizes Javascript padr√£o. </p><br><p>  A fun√ß√£o <code>ShowNodes</code> parece extremamente n√£o ideal: quando solicitamos outra entidade, esperamos por ela toda vez.  A conveni√™ncia √© que esse c√≥digo possa ser escrito rapidamente, portanto essa abordagem √© boa para a cria√ß√£o r√°pida de prot√≥tipos.  Na vers√£o final, voc√™ precisa usar o idioma da consulta para reduzir o n√∫mero de chamadas para o servidor. </p><br><h2 id="yazyk-zaprosov">  Idioma de consulta </h2><br><p>  Existem v√°rias fun√ß√µes usadas para "criar" uma solicita√ß√£o de dados do servidor.  Eles ‚Äúinformam‚Äù ao servidor quais n√≥s do gr√°fico de dados retornar√£o na resposta: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *       item    Promise  , *      properties */</span></span> selectAsync&lt;T extends IItem&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item: T, properties: (</span></span></span><span class="hljs-function">) =&gt;</span></span> any[]): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;T&gt;; <span class="hljs-comment"><span class="hljs-comment">/** *   items,       properties */</span></span> selectAsyncAll&lt;T extends ICollection&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items: T[], properties: (</span></span></span><span class="hljs-function">) =&gt;</span></span> any[]): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;T[]&gt;; <span class="hljs-comment"><span class="hljs-comment">/**    selectAsync     */</span></span> select&lt;T&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">item: T, properties: (</span></span></span><span class="hljs-function">) =&gt;</span></span> any[]): T; <span class="hljs-comment"><span class="hljs-comment">/**    selectAsync     */</span></span> selectAll&lt;T&gt;<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">items: T[], properties: (</span></span></span><span class="hljs-function">) =&gt;</span></span> any[]): T[];</code> </pre><br><p>  Agora, vejamos a aplica√ß√£o dessas fun√ß√µes para solicitar os dados incorporados necess√°rios com uma chamada para o servidor: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowNodes</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">parentPoint: IParent</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       IParent -    selectAsync ( // Promise,  ). let Parent = await selectAsync(parentPoint, parent =&gt; [ //           selectAll(parent.Nodes, nodes =&gt; [node.Name, node.DisplayName]) // [node.Name, node.DisplayName] -        ]); //      Parent.Nodes ... }</span></span></code> </pre><br><p>  Um exemplo de uma consulta um pouco mais complexa com informa√ß√µes profundamente incorporadas: </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//     parent.Nodes  selectAsyncAll,    let Parent = await selectAsyncAll(parent.Nodes, nodes =&gt; [ //    : select(node, node =&gt; [ node.Name, node.DisplayName, selectAll(node.Links, link =&gt; [ link.Guid, link.DisplayName, select(link.TargetNode, targetNode =&gt; [targetNode.Guid]) ]), select(node.Info, info =&gt; [info.Component]) //    IInfo    IComponent,   ,   ,        ]) ]);</span></span></code> </pre><br><p>  A linguagem de consulta ajuda a evitar solicita√ß√µes desnecess√°rias ao servidor.  Mas o c√≥digo nunca √© perfeito e certamente conter√° v√°rias solicita√ß√µes competitivas e, como resultado, condi√ß√£o de corrida. </p><br><h2 id="race-condition-i-puti-resheniya">  Condi√ß√£o de Corrida e Solu√ß√µes </h2><br><p>  Como <code>FuncOne</code> eventos do servidor e escrevemos c√≥digo com um grande n√∫mero de solicita√ß√µes ass√≠ncronas, uma condi√ß√£o de corrida pode ocorrer quando a fun√ß√£o <code>async</code> <code>FuncOne</code> interrompida, aguardando <code>Promise</code> .  Nesse momento, um evento do servidor (ou da pr√≥xima a√ß√£o do usu√°rio) pode ocorrer e, ap√≥s a execu√ß√£o competitiva, alterar o modelo no cliente.  Ent√£o o <code>FuncOne</code> ap√≥s resolver a promessa, pode recorrer, por exemplo, aos recursos j√° exclu√≠dos. </p><br><p>  Imagine uma situa√ß√£o t√£o simplificada: o objeto <code>IParent</code> tem um <code>IParent</code> servidor <code>IParent</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/**   */</span></span> Parent.OnSynchronize.AddListener(<span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  .   ,  . });</span></span></code> </pre><br><p>  √â chamado quando a lista de n√≥s <code>INodes</code> no servidor √© atualizada.  Ent√£o, no cen√°rio a seguir, uma condi√ß√£o de corrida √© poss√≠vel: </p><br><ol><li>  Causamos a remo√ß√£o ass√≠ncrona do n√≥ do cliente, aguardando a conclus√£o para excluir o objeto do cliente <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnClickRemoveNode</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">node: INode</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> removedOnServer: boolean = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Parent.RemoveNode(node); <span class="hljs-comment"><span class="hljs-comment">//     if (removedOnServer) .... }</span></span></code> </pre> </li><li>  Por meio de <code>Parent.OnSynchronize</code> , <code>Parent.OnSynchronize</code> uma atualiza√ß√£o do evento da lista de n√≥s. </li><li>  <code>Parent.OnSynchronize</code> processado e exclui o objeto do cliente. </li><li>  <code>async OnClickRemoveNode()</code> continua a ser executado ap√≥s a primeira <code>await</code> e √© feita uma tentativa de excluir um objeto de cliente j√° exclu√≠do. </li></ol><br><p>  Voc√™ pode verificar a exist√™ncia de um objeto cliente no <code>OnClickRemoveNode</code> .  Este √© um exemplo simplificado e nele uma verifica√ß√£o semelhante √© normal.  Mas e se a cadeia de chamadas for mais complicada?  Portanto, usar uma abordagem semelhante ap√≥s cada <code>await</code> √© uma m√° pr√°tica: </p><br><ul><li>  O c√≥digo t√£o inchado √© complicado de suportar e estender. </li><li>  O c√≥digo n√£o funciona conforme o <code>OnClickRemoveNode</code> : a exclus√£o no <code>OnClickRemoveNode</code> e a exclus√£o real do objeto cliente ocorre em outro lugar.  N√£o deve haver uma viola√ß√£o da sequ√™ncia definida pelo desenvolvedor, caso contr√°rio, haver√° erros de regress√£o. </li><li>  Isso n√£o √© confi√°vel o suficiente: se voc√™ esquecer de fazer uma verifica√ß√£o em algum lugar, haver√° um erro.  O perigo √©, em primeiro lugar, que uma verifica√ß√£o esquecida n√£o leve a um erro localmente e em um ambiente de teste, e para usu√°rios com um atraso maior na rede, isso ocorrer√°. </li><li>  E se o controlador ao qual esses manipuladores pertencem pode ser destru√≠do?  Depois de cada <code>await</code> para verificar sua destrui√ß√£o? </li></ul><br><p>  Outra quest√£o surge: e se houver muitos m√©todos competitivos semelhantes?  Imagine que existem mais: </p><br><ul><li>  Adicionando um n√≥ </li><li>  Atualiza√ß√£o do n√≥ </li><li>  Adicionar / Remover Links </li><li>  M√©todo de convers√£o de v√°rios n√≥s </li><li>  Comportamento complexo do aplicativo: alteramos o estado de um n√≥ e o servidor come√ßa a atualizar os n√≥s dependentes dele. </li></ul><br><p>  √â necess√°ria uma implementa√ß√£o arquitet√¥nica que, em princ√≠pio, elimina a possibilidade de erros devido a condi√ß√£o de corrida, a√ß√µes paralelas do usu√°rio etc.  A solu√ß√£o correta para eliminar a altera√ß√£o simult√¢nea do modelo do cliente ou servidor √© implementar uma se√ß√£o cr√≠tica com uma fila de chamadas.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Decoradores datilografados</a> ser√£o √∫teis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> para marcar declarativamente essas fun√ß√µes competitivas do controlador ass√≠ncrono. </p><br><p>  <strong>Descrevemos os requisitos e os principais recursos desses decoradores:</strong> </p><br><ol><li>  No interior, uma fila de chamadas para fun√ß√µes ass√≠ncronas deve ser implementada.  Dependendo do tipo de decorador, uma chamada de fun√ß√£o pode ser enfileirada ou rejeitada se houver outras chamadas. </li><li>  As fun√ß√µes marcadas exigir√£o um contexto de execu√ß√£o para vincular √† fila.  Voc√™ deve criar explicitamente uma fila ou faz√™-lo automaticamente com base na exibi√ß√£o √† qual o controlador pertence. </li><li>  S√£o necess√°rias informa√ß√µes sobre a destrui√ß√£o da inst√¢ncia do controlador (por exemplo, a propriedade <code>IsDestroyed</code> ).  Para impedir que os decoradores fa√ßam chamadas em fila ap√≥s a destrui√ß√£o do controlador. </li><li>  Para o controlador View, adicionamos a funcionalidade de aplicar uma m√°scara transl√∫cida para excluir a√ß√µes no momento em que a fila √© executada e indicar visualmente o processamento em andamento. </li><li>  Todos os decoradores devem terminar com uma chamada para <code>Promise.done()</code> .  Nesse m√©todo, voc√™ precisa implementar o <code>handler</code> exce√ß√µes n√£o tratadas.  Uma coisa muito √∫til: <br><ul><li>  as exce√ß√µes que ocorreram no <code>Promise</code> n√£o s√£o capturadas pelo manipulador de erros padr√£o (que, por exemplo, exibe uma janela com texto e um rastreamento de stak); portanto, voc√™ pode n√£o not√°-las (se n√£o monitorar o console o tempo todo durante o desenvolvimento).  E o usu√°rio n√£o os ver√° - isso tornar√° o suporte dif√≠cil.  Nota: √© poss√≠vel se inscrever para lidar com o evento de <code>unhandledrejection</code> tratamento, mas ainda assim apenas o Chrome e o Edge o suportam: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'unhandledrejection'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// handling... });</span></span></code> </pre> </li><li>  como marcamos a fun√ß√£o mais alta do manipulador de eventos <code>async</code> como decoradores, obtemos todo o erro de rastreamento de pilha. </li></ul></li></ol><br><p>  Agora, fornecemos uma lista aproximada desses decoradores com uma descri√ß√£o e, em seguida, mostramos como eles podem ser aplicados. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * : * 1.      * 2.      ,   . * *  ,  :   ,         */</span></span> @Lock <span class="hljs-comment"><span class="hljs-comment">/** * : *     ,     . * *  ,     :   ,   . */</span></span> @LockQueue <span class="hljs-comment"><span class="hljs-comment">/** *  LockQueue .  -         * *   ,       . ,   . */</span></span> @LockBetween <span class="hljs-comment"><span class="hljs-comment">/** * : *       ,   . *     . :     ,     300 .       . */</span></span> @LockDeferred(<span class="hljs-number"><span class="hljs-number">300</span></span>) <span class="hljs-comment"><span class="hljs-comment">// ,    ,     : interface ILockTarget { /** * ,   View,   .   ,        ,     ,        */ GetControllerView?(): IView; /**  true     */ IsDestroyed: boolean; }</span></span></code> </pre><br><p>  As descri√ß√µes s√£o bastante abstratas, mas assim que voc√™ vir um exemplo de uso com explica√ß√µes, tudo ficar√° mais claro: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphController</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ILockTarget</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** ,      .      */</span></span> private View: IView; public GetControllerView(): IView { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.View; } <span class="hljs-comment"><span class="hljs-comment">/**      . */</span></span> @Lock private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnClickRemoveNode(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**     . */</span></span> @Lock private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnClickRemoveLink(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**     */</span></span> @Lock private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnClickAddNewNode(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    " " */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerUpdateNode(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    " " */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerAddLink(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    " " */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerAddNode(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    -   */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerRemoveNode(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    -       */</span></span> @LockBetween private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerSynchronize(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**    -    (/warning/error/...) */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnServerUpdateNodeStatus(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } <span class="hljs-comment"><span class="hljs-comment">/**       */</span></span> @LockDeferred(<span class="hljs-number"><span class="hljs-number">300</span></span>) private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnSearchFieldChange(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { ... } }</code> </pre><br><p>  Agora vamos analisar alguns cen√°rios t√≠picos de poss√≠veis erros e sua elimina√ß√£o pelos decoradores: </p><br><ol><li>  O usu√°rio inicia uma a√ß√£o: <code>OnClickRemoveNode</code> , <code>OnClickRemoveLink</code> .  Para o processamento adequado, √© necess√°rio que n√£o haja outros manipuladores em execu√ß√£o na fila (cliente ou servidor).  Caso contr√°rio, por exemplo, esse erro √© poss√≠vel: <br><ul><li>  O modelo no cliente ainda √© atualizado para o estado atual do servidor </li><li>  Iniciamos a exclus√£o do objeto antes que a atualiza√ß√£o seja conclu√≠da (a fila tem um manipulador <code>OnServerSynchronize</code> ).  Mas esse objeto n√£o est√° mais l√° - apenas a sincroniza√ß√£o completa ainda n√£o foi conclu√≠da e ainda √© exibida no cliente. <br>  Portanto, todas as a√ß√µes iniciadas pelo usu√°rio, o decorador de <code>Lock</code> devem rejeitar se houver outros manipuladores na fila com o mesmo contexto de fila.  Dado que o servidor √© ass√≠ncrono, isso √© especialmente importante.  Sim, o Websocket envia solicita√ß√µes sequencialmente, mas se o cliente interromper a sequ√™ncia, ocorreremos um erro no servidor. </li></ul></li><li>  Iniciamos a adi√ß√£o de um n√≥: <code>OnClickAddNewNode</code> .  <code>OnServerSynchronize</code> , <code>OnServerAddNode</code> eventos v√™m do servidor. <br><ul><li>  <code>OnClickAddNewNode</code> pegou a fila (se houvesse algo nela, o decorador de <code>Lock</code> desse m√©todo rejeitaria a chamada) </li><li>  <code>OnServerSynchronize</code> , <code>OnServerAddNode</code> , executado sequencialmente ap√≥s <code>OnClickAddNewNode</code> , n√£o competindo com ele. </li></ul></li><li>  A fila possui <code>OnServerUpdateNode</code> e <code>OnServerUpdateNode</code> .  Suponha que durante a execu√ß√£o do primeiro, o usu√°rio feche o <code>GraphController</code> .  Em seguida, a segunda chamada para <code>OnServerUpdateNode</code> n√£o deve ser executada automaticamente para n√£o executar a√ß√µes no controlador destru√≠do, o que √© garantido que levar√° a um erro.  Para isso, a interface <code>ILockTarget</code> possui <code>IsDestroyed</code> - o decorador verifica o sinalizador sem executar o pr√≥ximo manipulador da fila. <br>  Lucro: n√£o √© necess√°rio escrever <code>if (!this.IsDestroyed())</code> ap√≥s cada <code>await</code> . </li><li>  Altera√ß√µes em v√°rios n√≥s s√£o acionadas.  <code>OnServerSynchronize</code> eventos <code>OnServerSynchronize</code> , <code>OnServerUpdateNode</code> v√™m do servidor.  Sua execu√ß√£o competitiva levar√° a erros irreprodut√≠veis.  Mas desde  <code>LockQueue</code> eles estiverem marcados pelos <code>LockBetween</code> e <code>LockBetween</code> , eles ser√£o executados sequencialmente. </li><li>  Imagine que os n√≥s podem ter gr√°ficos de n√≥s aninhados dentro deles.  <code>GraphController #1</code> ,       ‚Äî   <code>GraphController #2</code> . , <code>GraphController</code> -    ,   (  ‚Äî         ), ..     .  : <br><ul><li>  </li><li>    </li><li>    <code>GraphController #2</code> ,     ,    . </li></ul></li><li> <code>OnSearchFieldChange</code>   ,       .         -  .  <code>@LockDeferred(300)</code>     300 :         ,     ,    300 .  ,       .  : <br><ul><li>   ,   500 ,         .     ‚Äî        <code>OnSearchFieldChange</code> ,     . </li><li>      <code>OnSearchFieldChange</code>    ‚Äî        ,   . </li></ul></li></ol><br><h2 id="chto-nuzhno-znat-pri-ispolzovanii-dekoratorov">       </h2><br><ol><li>  Deadlock:     <code>Handler1</code> ,    ,   <code>await</code>   <code>Handler2</code> ,  <code>LockQueue</code> ,    <code>Handler2</code> ‚Äî <code>Handler1</code>    . </li><li>  ,     View      . :            ,      ‚Äî                . </li></ol><br><h2 id="profilirovanie-zaprosov-k-serveru">     </h2><br><p>    ,     ,        .  : </p><br><ul><li>       - <code>&lt;Class&gt;</code> . <code>&lt;Method&gt;</code> =&gt; <code>&lt;Time&gt;</code> (  ). </li><li>       . </li><li>        . </li></ul><br><h2 id="desert">  </h2><br><p> ,    ,           ,    .        ?         ?  : </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GraphController</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ILockTarget</span></span></span><span class="hljs-class"> </span></span>{ private View: IView; public GetControllerView(): IView { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.View; } <span class="hljs-comment"><span class="hljs-comment">/**     . */</span></span> @Lock private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> RunBigDataCalculations(): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Start(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> UpdateSmth(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> End(); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> CleanUp(); } <span class="hljs-comment"><span class="hljs-comment">/**   . */</span></span> @LockQueue private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> OnChangeNodeState(node: INode): <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>&gt; { <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> GetNodeData(node); <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> UpdateNode(node); } }</code> </pre><br><p>   : </p><br><ol><li>  <code>RunBigDataCalculations</code> . </li><li>  <code>await Start();</code> </li><li>   /  (  ) </li><li>   <code>await Start();</code> ,   <code>await UpdateSmth();</code>      . </li></ol><br><p> : </p><br><ol><li>  <code>RunBigDataCalculations</code> . </li><li>    <code>OnChangeNodeState</code> ,          (..  ). </li><li>   <code>await GetNodeData(node);</code> </li><li>   /  (  ) </li><li>   <code>await GetNodeData(node);</code> ,   <code>await UpdateNode(node);</code>      . </li></ol><br><p>      - .  : </p><br><ul><li>   : </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** *       ,      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> interface IQueuedDisposableLockTarget extends ILockTarget { <span class="hljs-comment"><span class="hljs-comment">/**     . Lock          IsDisposing() === true */</span></span> IsDisposing(): boolean; SetDisposing(): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span>; }</code> </pre> <br><ul><li>        : </li></ul><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">QueuedDispose</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">controller: IQueuedDisposableLockTarget</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">void</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//      let xQueue = GetQueue(controller); // 1. ,     -,   -   if (xQueue.Empty) { controller.Dispose(); return; } // 2.  ,     " ",     ,   . controller.SetDisposing(); // 3.   finally   xQueue.finally(() =&gt; { debug.assert(!IsDisposed(controller), "-      ,  "); controller.Dispose(); }); }</span></span></code> </pre><br><p>  ,          .    <code>QueuedDispose</code>     : </p><br><ul><li>         .       . </li><li>   <code>QueuedDispose</code>     <code>controller</code> .         ‚Äî  ExtJS     . </li></ul><br><p> <strong></strong> </p><br><p>  ,          , ..         . ,      ?    ,  . </p><br><p>    ,      : </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    vk.com</a> <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    Telegram</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464773/">https://habr.com/ru/post/pt464773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464759/index.html">Dezenas de livros √°geis que o gerente de projetos precisar√° em 2020</a></li>
<li><a href="../pt464761/index.html">Um mod pequeno transforma Tesla em uma esta√ß√£o de vigil√¢ncia por v√≠deo</a></li>
<li><a href="../pt464763/index.html">Benchmarks para servidores no Linux: uma sele√ß√£o de ferramentas abertas</a></li>
<li><a href="../pt464765/index.html">Configurando o FreePBX + GoIP</a></li>
<li><a href="../pt464769/index.html">Como o Badoo tornou poss√≠vel fornecer 200 mil fotos por segundo</a></li>
<li><a href="../pt464775/index.html">21 de setembro - Badoo PHP Meetup # 3: Desempenho</a></li>
<li><a href="../pt464777/index.html">Por que const n√£o acelera o c√≥digo C / C ++?</a></li>
<li><a href="../pt464779/index.html">Sobre abelhas hedonistas, a maneira como as pessoas as fazem trabalhar e drones</a></li>
<li><a href="../pt464781/index.html">TVs inteligentes: CRT para HDR</a></li>
<li><a href="../pt464785/index.html">Benef√≠cios Beeline n√£o competitivos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>