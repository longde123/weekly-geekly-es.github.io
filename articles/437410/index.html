<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚤 🙇🏾 ♍️ Introducción a Spring Boot con Spring Data Mongo 🏏 🧞 🤫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos ¡Nos apresuramos a felicitar a los estudiantes por sus vacaciones profesionales e informarles que en febrero comenzaremos el curso "Desar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introducción a Spring Boot con Spring Data Mongo</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/437410/">  Hola a todos  ¡Nos apresuramos a felicitar a los estudiantes por sus vacaciones profesionales e informarles que en febrero comenzaremos el curso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Desarrollador en el Marco de Primavera"</a> !  Este será el tema de la publicación de hoy. <br><br>  La Liga de la Justicia está en peligro, y solo Alfred puede salvar a todos, con el nuevo sistema de gestión con Spring Boot, Spring Data y MongoDB. <br><br>  Para la Liga de la Justicia, los tiempos oscuros han llegado cuando el impresionante Darkside decidió esclavizar a la humanidad.  Batman y Wonder Woman comenzaron a buscar miembros de la Liga, y solo falta un punto importante: el sistema de gestión adecuado para los miembros de la Liga de la Justicia. <br><br><img src="https://habrastorage.org/webt/y6/t0/ks/y6t0ks5nlsjsx5xhidlakvsh4w4.png"><a name="habracut"></a><br><br>  No hay tiempo suficiente para crear un proyecto voluminoso desde cero, por lo que Batman pasa esta difícil tarea a su querido Alfred (Robin es demasiado impredecible), quien recuerda algo llamado Spring Boot, que lo ayudará a no perder el tiempo resolviendo pequeños matices de configuración del proyecto y cambiando rápidamente para escribir el código de la aplicación. <br>  Entonces, nuestro querido Alfred comienza a usar Spring Boot para crear rápidamente un sistema de administración de membresía de la Liga de la Justicia.  Como mínimo, sus partes de back-end, ya que Batman trabaja directamente con la API REST. <br><br>  Hay muchas formas convenientes de configurar las aplicaciones Spring Boot.  En este artículo, nos centramos en el método tradicional de descargar un paquete (Spring CLI) y configurarlo desde cero en Ubuntu.  Spring también admite el empaquetado del proyecto en línea con su <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">herramienta</a> .  Descargue la última versión estable <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> .  En este artículo, estoy usando la versión 1.3.0.M1. <br><br>  Después de desempaquetar el archivo descargado, para empezar, configure los siguientes parámetros en el perfil: <br><br><pre><code class="java hljs">SPRING_BOOT_HOME=&lt;extracted path&gt;/spring-<span class="hljs-number"><span class="hljs-number">1.3</span></span>.0.M1 PATH=$SPRING_BOOT_HOME/bin:$PATH</code> </pre> <br>  Luego agregue lo siguiente al archivo bashrc: <br><br><pre> <code class="bash hljs">&lt;extracted-path&gt;/spring-1.3.0.M1/shell-completion/bash/spring</code> </pre> <br>  Esto agregará autocompletado a la línea de comando cuando trabaje con spring-cli para crear aplicaciones Spring Boot.  Recuerde que para confirmar los cambios necesita "fuente" el perfil y los archivos "bashrc". <br><br>  Este artículo utiliza la siguiente pila de tecnología: <br><br><ul><li>  RESTO de primavera </li><li>  Datos de primavera </li><li>  MongoDB. </li></ul><br>  Comenzamos creando una plantilla de proyecto de aplicación ejecutando el siguiente comando.  Tenga en cuenta que un proyecto de muestra se puede descargar desde mi repositorio de GitHub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aquí</a> . <br><br><pre> <code class="java hljs">spring init -dweb,data-mongodb,flapdoodle-mongo --groupId com.justiceleague --artifactId justiceleaguemodule --build maven justiceleaguesystem</code> </pre> <br>  Esto generará un proyecto maven con Spring MVC y Spring Data con MongoDB integrado. <br>  Por defecto, spring-cli crea un proyecto llamado "Demo".  Por lo tanto, debemos cambiar el nombre de la clase de aplicación generada correspondiente.  Si utilizó las fuentes de mi repositorio GitHub mencionado anteriormente, puede omitir este paso. <br>  Con Spring Boot, ejecutar la aplicación es tan simple como ejecutar el archivo JAR creado por el proyecto.  Lo que simplemente llama a la clase de aplicación anotada por @SpringBootApplication para cargar Spring.  Veamos cómo se ve: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.SpringApplication; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.autoconfigure.SpringBootApplication; <span class="hljs-comment"><span class="hljs-comment">/** *   spring boot,   -    *   * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@SpringBootApplication</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueManagementApplication</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ SpringApplication.run(JusticeLeagueManagementApplication.class, args); } }</code> </pre><br>  Luego pasamos a las clases de dominio, donde se usan Spring Data junto con MongoDB para determinar el nivel de datos.  La clase de dominio es la siguiente: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.domain; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.bson.types.ObjectId; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.annotation.Id; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.index.Indexed; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.mapping.Document; <span class="hljs-comment"><span class="hljs-comment">/** *         ,  *    MongoDB * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Document</span></span>(collection = <span class="hljs-string"><span class="hljs-string">"justiceLeagueMembers"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueMemberDetail</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> ObjectId id; <span class="hljs-meta"><span class="hljs-meta">@Indexed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String superPower; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String location; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">JusticeLeagueMemberDetail</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name, String superPower, String location)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.superPower = superPower; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.location = location; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> id.toString(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ObjectId(id); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSuperPower</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> superPower; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSuperPower</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String superPower)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.superPower = superPower; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLocation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> location; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setLocation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String location)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.location = location; } }</code> </pre> <br>  Spring Data es intuitivo, especialmente si tiene experiencia con JPA / Hibernate.  Las anotaciones son muy similares.  Lo único nuevo es la anotación. <br><br><pre> <code class="bash hljs">@Document</code> </pre> <br>  que denota el nombre de la colección en la base de datos Mongo.  También hay un índice definido para los nombres de superhéroes, ya que muchas consultas se relacionan con búsquedas por nombre. <br><br>  Spring Data introdujo la funcionalidad de una definición de repositorio simple, lista para usar que admite operaciones CRUD regulares y algunas operaciones de lectura.  Por lo tanto, en nuestra aplicación, utilizamos las capacidades de los repositorios de Spring Data, así como la clase de repositorio de la siguiente manera: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.dao; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.repository.MongoRepository; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.repository.Query; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.domain.JusticeLeagueMemberDetail; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MongoRepository</span></span></span><span class="hljs-class"> &lt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueMemberDetail</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">String</span></span></span><span class="hljs-class"> &gt; </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *        ,   . *  . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> superHeroName *        . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment">   {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> JusticeLeagueMemberDetail}   *  . */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Query</span></span>(<span class="hljs-string"><span class="hljs-string">"{ 'name' : {$regex: ?0, $options: 'i' }}"</span></span>) <span class="hljs-function"><span class="hljs-function">JusticeLeagueMemberDetail </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findBySuperHeroName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">final</span></span></span></span><span class="hljs-function"><span class="hljs-params"> String superHeroName)</span></span></span></span>; }</code> </pre> <br>  Las operaciones de guardado estándar están integradas en el tiempo de ejecución de Spring a través de un proxy, por lo que solo necesita definir la clase de dominio en el repositorio. <br><br>  Como puede ver, solo se define un método.  Con la anotación <code>@Query</code> estamos buscando un superhéroe con expresiones regulares.  La opción "i" significa ignorar mayúsculas y minúsculas al intentar encontrar una coincidencia en MongoDB. <br><br>  Luego, procedemos a la implementación de la lógica de almacenamiento de nuevos miembros de la Liga de la Justicia a través del nivel de servicio. <br><br><img src="https://habrastorage.org/webt/e4/nr/b-/e4nrb-ng5zg6ymccyae20lge8l0.png"><br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.service.impl; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.stereotype.Service; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.constants.MessageConstants.ErrorMessages; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.dao.JusticeLeagueRepository; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.domain.JusticeLeagueMemberDetail; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.exception.JusticeLeagueManagementException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.service.JusticeLeagueMemberService; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.JusticeLeagueMemberDTO; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.transformer.DTOToDomainTransformer; <span class="hljs-comment"><span class="hljs-comment">/** *     {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> JusticeLeagueMemberService}   * ,     * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Service</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueMemberServiceImpl</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueMemberService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JusticeLeagueRepository justiceLeagueRepo; <span class="hljs-comment"><span class="hljs-comment">/** * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritDoc</span></span></span><span class="hljs-comment">} */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addMember</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JusticeLeagueMemberDTO justiceLeagueMember)</span></span></span><span class="hljs-function"> </span></span>{ JusticeLeagueMemberDetail dbMember = justiceLeagueRepo.findBySuperHeroName(justiceLeagueMember.getName()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dbMember != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JusticeLeagueManagementException(ErrorMessages.MEMBER_ALREDY_EXISTS); } JusticeLeagueMemberDetail memberToPersist = DTOToDomainTransformer.transform(justiceLeagueMember); justiceLeagueRepo.insert(memberToPersist); } }</code> </pre><br>  Una vez más, es bastante simple: si el participante ya existe, recibimos un error.  De lo contrario, agregue el participante.  Tenga en cuenta que esto utiliza el método Spring Data ya implementado del repositorio de inserción, que definimos anteriormente. <br><br>  Finalmente, Alfred está listo para mostrar la nueva funcionalidad que desarrolló a través de la API REST usando Spring REST, para que Batman comience a enviar detalles a través de HTTP; está constantemente en movimiento: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.web.rest.controller; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.validation.Valid; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.http.HttpStatus; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.http.MediaType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RequestBody; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RequestMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RequestMethod; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.ResponseBody; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.ResponseStatus; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.web.bind.annotation.RestController; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.constants.MessageConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.service.JusticeLeagueMemberService; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.JusticeLeagueMemberDTO; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.ResponseDTO; <span class="hljs-comment"><span class="hljs-comment">/** *    REST API . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@RestController</span></span> <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(<span class="hljs-string"><span class="hljs-string">"/justiceleague"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueManagementController</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> JusticeLeagueMemberService memberService; <span class="hljs-comment"><span class="hljs-comment">/** *             * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> justiceLeagueMember *    . * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> an instance of {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> ResponseDTO}     *   . */</span></span> <span class="hljs-meta"><span class="hljs-meta">@ResponseBody</span></span> <span class="hljs-meta"><span class="hljs-meta">@ResponseStatus</span></span>(value = HttpStatus.CREATED) <span class="hljs-meta"><span class="hljs-meta">@RequestMapping</span></span>(method = RequestMethod.POST, path = <span class="hljs-string"><span class="hljs-string">"/addMember"</span></span>, produces = { MediaType.APPLICATION_JSON_VALUE }, consumes = { MediaType.APPLICATION_JSON_VALUE }) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ResponseDTO </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addJusticeLeagueMember</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@Valid @RequestBody JusticeLeagueMemberDTO justiceLeagueMember)</span></span></span><span class="hljs-function"> </span></span>{ ResponseDTO responseDTO = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseDTO(ResponseDTO.Status.SUCCESS, MessageConstants.MEMBER_ADDED_SUCCESSFULLY); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { memberService.addMember(justiceLeagueMember); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { responseDTO.setStatus(ResponseDTO.Status.FAIL); responseDTO.setMessage(e.getMessage()); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> responseDTO; } }</code> </pre> <br>  Batman no es suficiente, por lo que proporcionamos funcionalidad en forma de carga JSON, aunque Alfred sería anticuado y preferiría XML. <br><br>  Nuestro viejo amigo Alfred es un secuaz de TDD (desarrollo basado en pruebas, traducido "desarrollo a través de pruebas"), por lo que quiere probar la funcionalidad.  Y así, miramos las pruebas de integración escritas por Alfred para asegurarnos de que la versión inicial del sistema de administración de la Liga de la Justicia sea correcta y predecible.  Tenga en cuenta que aquí solo mostramos las pruebas REST API.  Alfred ha abrazado un volumen más grande, que se puede encontrar en el repositorio de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> . <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.test.util; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.net.UnknownHostException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.After; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.AfterClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Before; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.BeforeClass; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.runner.RunWith; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.beans.factory.annotation.Autowired; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.boot.test.context.SpringBootTest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.data.mongodb.core.MongoTemplate; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.test.context.junit4.SpringRunner; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.test.web.servlet.MockMvc; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.fasterxml.jackson.databind.ObjectMapper; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.domain.JusticeLeagueMemberDetail; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.MongodExecutable; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.MongodStarter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.config.IMongodConfig; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.config.MongodConfigBuilder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.config.Net; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> de.flapdoodle.embed.mongo.distribution.Version; <span class="hljs-comment"><span class="hljs-comment">/** *     ,     , *            . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(SpringRunner.class) <span class="hljs-meta"><span class="hljs-meta">@SpringBootTest</span></span> <span class="hljs-meta"><span class="hljs-meta">@AutoConfigureMockMvc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseIntegrationTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> MockMvc mockMvc; <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> ObjectMapper mapper; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MongodExecutable mongodExecutable; <span class="hljs-meta"><span class="hljs-meta">@Autowired</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> MongoTemplate mongoTemplate; <span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mapper = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ObjectMapper(); } <span class="hljs-meta"><span class="hljs-meta">@After</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">after</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ mongoTemplate.dropCollection(JusticeLeagueMemberDetail.class); } <span class="hljs-comment"><span class="hljs-comment">/** *      mongodb     *  . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> UnknownHostException * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> IOException */</span></span> <span class="hljs-meta"><span class="hljs-meta">@BeforeClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> UnknownHostException, IOException </span></span>{ MongodStarter starter = MongodStarter.getDefaultInstance(); IMongodConfig mongoConfig = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MongodConfigBuilder().version(Version.Main.PRODUCTION) .net(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Net(<span class="hljs-number"><span class="hljs-number">27017</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)).build(); mongodExecutable = starter.prepare(mongoConfig); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { mongodExecutable.start(); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception e) { closeMongoExecutable(); } } <span class="hljs-meta"><span class="hljs-meta">@AfterClass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">afterClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ closeMongoExecutable(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeMongoExecutable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mongodExecutable != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { mongodExecutable.stop(); } } }</code> </pre> <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.justiceleague.justiceleaguemodule.web.rest.controller; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.hamcrest.beans.SamePropertyValuesAs; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Assert; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.junit.Test; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.http.MediaType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.test.web.servlet.request.MockMvcRequestBuilders; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.springframework.test.web.servlet.result.MockMvcResultMatchers; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.constants.MessageConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.constants.MessageConstants.ErrorMessages; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.domain.JusticeLeagueMemberDetail; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.test.util.BaseIntegrationTest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.JusticeLeagueMemberDTO; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.ResponseDTO; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> com.justiceleague.justiceleaguemodule.web.dto.ResponseDTO.Status; <span class="hljs-comment"><span class="hljs-comment">/** *      REST-,  * {</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@link</span></span></span><span class="hljs-comment"> JusticeLeagueManagementController} * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@author</span></span></span><span class="hljs-comment"> dinuka * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JusticeLeagueManagementControllerTest</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseIntegrationTest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *          *   . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> Exception */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testAddJusticeLeagueMember</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ JusticeLeagueMemberDTO flash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JusticeLeagueMemberDTO(<span class="hljs-string"><span class="hljs-string">"Barry Allen"</span></span>, <span class="hljs-string"><span class="hljs-string">"super speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"Central City"</span></span>); String jsonContent = mapper.writeValueAsString(flash); String response = mockMvc .perform(MockMvcRequestBuilders.post(<span class="hljs-string"><span class="hljs-string">"/justiceleague/addMember"</span></span>) .accept(MediaType.APPLICATION_JSON) .contentType(MediaType.APPLICATION_JSON).content(jsonContent)) .andExpect(MockMvcResultMatchers.status().isCreated()).andReturn().getResponse().getContentAsString(); ResponseDTO expected = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseDTO(Status.SUCCESS, MessageConstants.MEMBER_ADDED_SUCCESSFULLY); ResponseDTO receivedResponse = mapper.readValue(response, ResponseDTO.class); Assert.assertThat(receivedResponse, SamePropertyValuesAs.samePropertyValuesAs(expected)); } <span class="hljs-comment"><span class="hljs-comment">/** *   ,       *    ,     . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> Exception */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testAddJusticeLeagueMemberWhenMemberAlreadyExists</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ JusticeLeagueMemberDetail flashDetail = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JusticeLeagueMemberDetail(<span class="hljs-string"><span class="hljs-string">"Barry Allen"</span></span>, <span class="hljs-string"><span class="hljs-string">"super speed"</span></span>,<span class="hljs-string"><span class="hljs-string">"Central City"</span></span>); mongoTemplate.save(flashDetail); JusticeLeagueMemberDTO flash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JusticeLeagueMemberDTO(<span class="hljs-string"><span class="hljs-string">"Barry Allen"</span></span>, <span class="hljs-string"><span class="hljs-string">"super speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"Central City"</span></span>); String jsonContent = mapper.writeValueAsString(flash); String response = mockMvc .perform(MockMvcRequestBuilders.post(<span class="hljs-string"><span class="hljs-string">"/justiceleague/addMember"</span></span>). accept(MediaType.APPLICATION_JSON) .contentType(MediaType.APPLICATION_JSON).content(jsonContent)) .andExpect(MockMvcResultMatchers.status().isCreated()).andReturn().getResponse() .getContentAsString(); ResponseDTO expected = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ResponseDTO(Status.FAIL, ErrorMessages.MEMBER_ALREDY_EXISTS); ResponseDTO receivedResponse = mapper.readValue(response, ResponseDTO.class); Assert.assertThat(receivedResponse, SamePropertyValuesAs.samePropertyValuesAs(expected)); } <span class="hljs-comment"><span class="hljs-comment">/** *   ,      , *          JSON . *    -  . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> Exception */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testAddJusticeLeagueMemberWhenNameNotPassedIn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     ,   //     . JusticeLeagueMemberDTO flash = new JusticeLeagueMemberDTO (null, "super speed", "Central City"); String jsonContent = mapper.writeValueAsString(flash); mockMvc.perform(MockMvcRequestBuilders.post("/justiceleague/addMember") .accept(MediaType.APPLICATION_JSON) .contentType(MediaType.APPLICATION_JSON).content(jsonContent)) .andExpect(MockMvcResultMatchers.status().is4xxClientError()); } }</span></span></code> </pre> <br>  Eso es probablemente todo.  Con la ayuda de Spring Boot, Alfred pudo crear rápidamente un sistema de administración de la Liga de la Justicia que funcionaba mínimamente con una API REST.  Con el tiempo, ampliaremos la funcionalidad de esta aplicación y veremos cómo Alfred encuentra un enfoque para implementar la aplicación a través de Docker en una instancia de Amazon AWS administrada por Kubernetes.  Nos esperan tiempos emocionantes, ¡así que conéctese! <br><br>  Tradicionalmente, esperamos sus comentarios y estamos invitados a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un seminario web abierto</a> , que se llevará a cabo el 6 de febrero por el candidato de ciencias físicas y matemáticas - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Yuri Dvorzhetsky</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/437410/">https://habr.com/ru/post/437410/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../437396/index.html">¿Por qué CarPrice es impulsado por inteligencia artificial?</a></li>
<li><a href="../437400/index.html">El gasto en la nube superó el gasto en infraestructura tradicional por primera vez, ¿qué significa</a></li>
<li><a href="../437402/index.html">Cómo le enseñé al robot a correr en videos de YouTube</a></li>
<li><a href="../437406/index.html">Microkernel seL4. Verificación formal de programas en el mundo real.</a></li>
<li><a href="../437408/index.html">802.1x, EX2200, NPS y todo-todo-todo ...</a></li>
<li><a href="../437414/index.html">Donde más de 20 millones de tarjetas de transporte son vulnerables en Rusia: desensamblamos y desarrollamos MIFARE Classic</a></li>
<li><a href="../437416/index.html">Gestión de capacidad: encontrar el equilibrio perfecto</a></li>
<li><a href="../437418/index.html">Acerca de las entidades, DTO, ORM y carga diferida</a></li>
<li><a href="../437420/index.html">¿Quieres LED eternos? Descubra soldadores y archivos. O iluminación casera casera</a></li>
<li><a href="../437422/index.html">Punto de partida</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>