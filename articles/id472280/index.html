<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§ğŸ» ğŸ’§ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» Tugas menentukan keberadaan telapak tangan pada pemindai vena ğŸ‘©â€ğŸ‘©â€ğŸ‘§ ğŸ‘ŒğŸ¾ ğŸ“</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entah bagaimana saya jatuh ke tangan tugas ujian. Minat akademis menang dan saya memutuskan untuk duduk di tugas ini. Solusi saya tidak mengklaim opti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tugas menentukan keberadaan telapak tangan pada pemindai vena</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/472280/"><p>  Entah bagaimana saya jatuh ke tangan tugas ujian.  Minat akademis menang dan saya memutuskan untuk duduk di tugas ini.  Solusi saya tidak mengklaim optimal dan benar.  Saya hanya ingin menyelesaikannya. </p><a name="habracut"></a><br><h3 id="ishodnye-dannye">  Sumber data </h3><br><p>  Inti dari tugas ini adalah untuk menulis program yang menentukan apakah telapak tangan dilampirkan ke pemindai oleh gambar gambar dari pemindai urat nadi. </p><br><p>  Data awal - beberapa gambar dengan hasil yang diketahui. </p><br><p><img src="https://habrastorage.org/webt/h1/cu/zl/h1cuzlj3aovoqsiwnuhxv6mq1wy.png"></p><br><h3 id="rezultat">  Hasil </h3><br><p>  Program dengan antarmuka grafis dengan kemampuan untuk memilih gambar dari daftar.  Setelah memilih gambar dianalisis dan setelah analisis hasilnya ditampilkan dalam bentuk tulisan <strong>Baik</strong> atau <strong>Buruk</strong> . </p><br><p><img src="https://habrastorage.org/webt/hy/cl/e7/hycle7wo8dcilu9fhyb4mrz808s.png"></p><br><p><img src="https://habrastorage.org/webt/tw/w-/xy/tww-xylxayflz1zxcy9mfh1a0yy.png"></p><br><h3 id="algoritm">  Algoritma </h3><br><p>  Algoritma analisis gambar cukup sederhana.  Untuk memulai, saya membuat kelas <strong>ImageAnalyser</strong> dengan antarmuka berikut </p><br><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ImageAnalyser</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: ImageAnalyser(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">explicit</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ImageAnalyser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> QImage&amp;)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">analyze</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> QImage&amp;)</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">analyze</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&gt; data(); <span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> ~ImageAnalyser(); };</code> </pre> <br><p>  Di dalam kelas ini, saya memutuskan untuk membagi gambar menjadi 4 bagian untuk setiap sumber cahaya.  Dan untuk setiap gambar, hitung kecerahan rata-rata relatif terhadap sumbu <strong>X</strong> dan <strong>Y.</strong>  Ini jelas ditunjukkan pada gambar di bawah ini. </p><br><p><img src="https://habrastorage.org/webt/la/cy/z-/lacyz-1bbsexcq3zwabexlgttzy.gif"></p><br><p>  Hasilnya, kami mendapatkan delapan grafik dengan tingkat kecerahan rata-rata. </p><br><p><img src="https://habrastorage.org/webt/ue/ab/ek/ueabekcb-mecppzu_cs6lpryjme.gif"></p><br><p>  Selanjutnya, Anda perlu menganalisis grafik ini.  Saya memutuskan untuk menggunakan fungsi korelasi dengan membandingkan grafik yang dihasilkan dengan beberapa grafik "sempurna".  Grafik ideal dalam kasus ini hanyalah persegi panjang, yang saya dapatkan dengan cara berikut: </p><br><pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; ImageAnalyser::prepare_ideal_array(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; <span class="hljs-built_in"><span class="hljs-built_in">array</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> min = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>&gt;(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>.size() * <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> max = <span class="hljs-keyword"><span class="hljs-keyword">static_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span>&gt;(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>.size() * <span class="hljs-number"><span class="hljs-number">0.45</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ideal_value = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; ideal; ideal.resize(<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>.size()); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> i = min; i &lt; max; ++i) { ideal[i] = ideal_value; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ideal; }</code> </pre> <br><p>  Untuk membandingkan grafik dan, dengan demikian, mendapatkan nilai korelasinya, saya menggunakan fungsi <strong>gsl_stats_correlation</strong> , implementasi yang saya curi secara jujur â€‹â€‹dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perpustakaan Ilmiah GNU</a> . </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">double</span></span> ImageAnalyser::gsl_stats_correlation(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; data) { <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; ideal = prepare_ideal_array(data); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> stride1 = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> stride2 = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sum_xsq = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sum_ysq = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> sum_cross = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> mean_x = data[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> mean_y = ideal[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; data.size(); ++i) { <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> ratio = i / (i + <span class="hljs-number"><span class="hljs-number">1.0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_x = data[i * stride1] - mean_x; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> delta_y = ideal[i * stride2] - mean_y; sum_xsq += delta_x * delta_x * ratio; sum_ysq += delta_y * delta_y * ratio; sum_cross += delta_x * delta_y * ratio; mean_x += delta_x / (i + <span class="hljs-number"><span class="hljs-number">1.0</span></span>); mean_y += delta_y / (i + <span class="hljs-number"><span class="hljs-number">1.0</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> r = sum_cross / (<span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(sum_xsq) * <span class="hljs-built_in"><span class="hljs-built_in">sqrt</span></span>(sum_ysq)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r; }</code> </pre> <br><p>  Selanjutnya, Anda hanya perlu menganalisis nilai korelasi.  Saya memutuskan bahwa jika setidaknya satu nilai korelasi kurang dari 0,5, maka telapak tangan tidak terpasang ke sensor atau tidak terpasang dengan baik. </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> ImageAnalyser::is_good(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>&gt;&amp; correlation, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;&amp; maximums) { <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> result = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> min_corr = *<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::min_element(correlation.begin(), correlation.end()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (min_corr &lt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>) { result = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> min_val = *<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::min_element(maximums.begin(), maximums.end()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (min_val &lt; <span class="hljs-number"><span class="hljs-number">30</span></span>) { result = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; }</code> </pre> <br><p>  Juga terlihat dari kode bahwa analisis tingkat kecerahan dilakukan - jika nilainya kurang dari 30, maka kami juga percaya bahwa telapak tangan tidak terpasang. </p><br><h3 id="stek-ispolzuemyh-tehnologiy">  Tumpukan teknologi yang digunakan </h3><br><ul><li>  C / c ++ </li><li>  Pencipta qt </li><li>  QtCharts </li><li>  Perpustakaan Ilmiah GNU </li></ul><br><h4 id="ishodniki">  Kode sumber </h4><br><p>  <a href="">https://github.com/techlinked/PalmDetector.git</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id472280/">https://habr.com/ru/post/id472280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id472268/index.html">Meningkatkan kontrol Microsoft Edge di Chromium</a></li>
<li><a href="../id472270/index.html">"Anda tidak memiliki akses ke doa saat ini": manik-manik hi-tech dari Vatikan diretas dalam 15 menit</a></li>
<li><a href="../id472272/index.html">Gim baru dengan suasana lama di Three.js. Bagian 2</a></li>
<li><a href="../id472274/index.html">Remote SSH: kiat dan peretasan</a></li>
<li><a href="../id472278/index.html">Git favorit saya berkomitmen</a></li>
<li><a href="../id472288/index.html">9 ekstensi browser yang berguna untuk pengembang (daftar untuk 2020)</a></li>
<li><a href="../id472290/index.html">Struktur vs. Kelas</a></li>
<li><a href="../id472292/index.html">Pemblokiran Konten: Panggung Dunia</a></li>
<li><a href="../id472294/index.html">Buat game dan video di YouTube. Percobaan interaksi saya dan penghasilan dari ini</a></li>
<li><a href="../id472296/index.html">Sistem perlindungan kebocoran untuk mesin cuci</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>