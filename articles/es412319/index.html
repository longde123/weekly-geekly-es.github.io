<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê™ üë©üèª‚Äçüåæ ‚ôÄÔ∏è Hecho a mano por un ingeniero electr√≥nico: desmonte PocketBook 631 Plus y equ√≠pelo con una bater√≠a solar üÉè üñïüèæ üë®üèª‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! Soy Artem Litvinovich, un desarrollador con muchos a√±os de experiencia, un radioaficionado desde la infancia, y yo mismo dise√±√© los lect...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hecho a mano por un ingeniero electr√≥nico: desmonte PocketBook 631 Plus y equ√≠pelo con una bater√≠a solar</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pocketbook/blog/412319/">  Hola a todos!  Soy Artem Litvinovich, un desarrollador con muchos a√±os de experiencia, un radioaficionado desde la infancia, y yo mismo dise√±√© los lectores.  En mi opini√≥n, hacerlo usted mismo seg√∫n sus requisitos: es mucho m√°s interesante y conveniente que comprar un producto terminado.  Por ejemplo, el mismo lector.  En mi cuenta hay cuatro modelos de lectores ensamblados personalmente de componentes encontrados en el mercado de la radio y ordenados desde China. <br><br>  Por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> se describe la tinta, Leonid Kaganov todav√≠a la consider√≥ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> , todas las artesan√≠as anteriores est√°n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Imprimo los estuches yo mismo en una impresora 3D, que tambi√©n dise√±√© yo mismo.  Y cuando eres demasiado vago para escribir, esculpo en epoxy. <br><br>  La experiencia, como saben, se ha acumulado muy seria y hasta cierto punto √∫nica.  Y ahora los chicos de PocketBook recurrieron a m√≠ con una propuesta para hacer alg√∫n tipo de mod uno de sus modelos.  Como resultado, decidimos armar un lector con una bater√≠a solar basada en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PocketBook 631 Plus</a> , uno de los principales lectores de la l√≠nea.  Hablar√© sobre esto en una publicaci√≥n. <br><br><img src="https://habrastorage.org/webt/ec/bv/pp/ecbvppnqtvvceryz9e5uzjcf9uo.jpeg"><br><a name="habracut"></a><br>  No entrar√© en detalles sobre el funcionamiento de este modelo desde el punto de vista del usuario.  Muchos escribieron cu√°ntos formatos admite, qu√© aplicaciones tiene, c√≥mo funciona el soporte de audio y qu√© tan bien este Pocketbook habla libros en quince idiomas.  Solo se√±alar√© que, en general, estoy de acuerdo con estas declaraciones: el lector es experimentado y realmente sofisticado. <br><br>  Habiendo recibido el lector en mis manos, ni siquiera lo encend√≠, lo desarme inmediatamente.  Por lo tanto, comenzaremos examinando lo que hay dentro de ella.  Esto es m√°s interesante para m√≠.  Desmontar el lector es solo uno, dos, tres.  Vamos! <br><br>  Una vez, con la ayuda de una cu√±a de pl√°stico, el panel frontal se ajusta. <br><br><img src="https://habrastorage.org/webt/63/_d/ik/63_dikwuji_u5hzh19vr0rjarri.jpeg"><br><br>  Dos: el marco de la pantalla desde el panel frontal est√° perfectamente despegado.  Sospecho que est√° sellado para complicar la entrada de humedad y polvo en el interior a trav√©s del espacio.  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PocketBook 631 Plus</a> , a diferencia del mismo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PocketBook 641 Aqua 2</a> , oficialmente no se declara la protecci√≥n contra el agua.  Sin embargo, los "principios" de protecci√≥n est√°n presentes aqu√≠.  Con tales elementos estructurales, el roc√≠o de humedad de este modelo, presumiblemente, no da mucho miedo. <br><br><img src="https://habrastorage.org/webt/i_/6s/tb/i_6stbp-s7sshaoo8u2cc7nmjke.jpeg"><br><br>  Y tres: los tornillos que sujetan el lector en el estuche se aflojan. <br><br><img src="https://habrastorage.org/webt/fi/gn/uk/fignukbr8hrldhffxfmka6isl10.jpeg"><br><br><h2>  ¬øEn qu√© consiste un lector moderno? </h2><br>  A primera vista, puede parecer que todo es terriblemente complicado aqu√≠, pero, en general, el dispositivo es bastante simple. <br><br>  Para simplificar, compare con mi lector casero, que se encuentra a la derecha. <br><br><img src="https://habrastorage.org/webt/cc/6k/xc/cc6kxchye-2re-lmmtrwguisgre.jpeg"><br><br>  Tres bloques claramente se destacan en mi tablero. <br><br><ul><li>  Esquema de energ√≠a de pantalla roja.  La pantalla de tinta electr√≥nica est√° controlada electrost√°ticamente y requiere varios niveles de voltaje, positivo y negativo. </li><li>  Verde: controlador de potencia, carga y descarga de la bater√≠a.  Las bater√≠as de litio se cargan con corriente continua y producen un voltaje inestable.  La electr√≥nica requiere una constante de 3.3V.  La bater√≠a solar produce una corriente inc√≥moda.  En consecuencia, necesita un controlador de CC para cargar, un convertidor de voltaje para descarga y un limitador de potencia para el panel solar. </li><li>  El amarillo es una unidad de computadora.  Hay un procesador, memoria y almacenamiento de datos, con todos los flejes. </li></ul><br>  Sorprendentemente, en esencia, el lector es solo una computadora que ahorra energ√≠a con una pantalla especial y un relleno de software. <br><br><img src="https://habrastorage.org/webt/wb/eg/2q/wbeg2qtpl2ynflcfxwggimtgsa0.jpeg"><br><br><h2>  Ahora eche un vistazo al interior del lector desde PocketBook </h2><br>  Aqu√≠ puede ver bloques similares: energ√≠a, trabajo con la pantalla y una computadora.  Adem√°s, hay dos unidades m√°s: un m√≥dulo Wi-Fi azul y un c√≥dec de audio rosa.  Esto √∫ltimo es bastante inusual: en casi todos los lectores modernos con pantallas E Ink no hay capacidades de sonido.  Su presencia es uno de los "trucos" √∫nicos del PocketBook 631 Plus. <br><br><img src="https://habrastorage.org/webt/xi/qr/2d/xiqr2dukro-mqkhg1-tb91g1t_u.jpeg"><br><br>  Echemos un vistazo m√°s de cerca al interior del lector PocketBook. <br><br>  El m√≥dulo del procesador, MCIMX6L7DVN10AB, se ve en el m√≥dulo del procesador.  Este es un ARM Cortex-A9, de un solo n√∫cleo, 32 bits, nominalmente 1 GHz.  La cosa es significativamente m√°s poderosa que la que uso.  Lo que no es sorprendente: Pocketbook lee 18 formatos sin conversi√≥n preliminar (PDF, PDF-DRM, EPUB, EPUB-DRM, DJVU, FB2, FB2.ZIP, DOC, DOCX, RTF, PRC, TCR, TXT, CHM, HTM, HTML, MOBI y ACSM), as√≠ como voz sobre texto, navega por Internet, juega juegos y sabe c√≥mo organizar saltos de palabras.  Para el mantenimiento y la implementaci√≥n de todo esto, se necesita hierro adecuado. <br><br>  A la derecha del procesador hay una memoria, NT5CC256M16DP.  Esto es DDR3, 4 Gbps (512 MB). <br><br>  Detr√°s de la memoria hay una ranura MicroSD normal con una tarjeta de 8 GB, que act√∫a como almacenamiento incorporado.  Es barato, alegre y conveniente: <s>si lo desea, la memoria interna se puede ampliar f√°cilmente</s> (la verificaci√≥n mostr√≥ que la tarjeta est√° atada por alg√∫n tipo de identificador de hardware, por lo que la palabra "f√°cil" es inapropiada en este caso), y en caso de una reuni√≥n catastr√≥fica del lector con el firmamento de la Tierra, La recuperaci√≥n de datos requiere solo un lector de tarjetas. <br><br>  En la tarjeta, se detecta Linux ordinario, lo cual es bueno.  A la derecha est√° el conector de depuraci√≥n UART.  Si lo explora, ver√° la pantalla de bienvenida de U-Boot 2009.08 y un mont√≥n de informaci√≥n de depuraci√≥n. <br><br><img src="https://habrastorage.org/webt/qb/mo/yd/qbmoydvbjseytik74ef4dcoszcu.jpeg"><br><br>  Al lado del m√≥dulo del procesador hay una unidad Wi-Fi con un interruptor y un arn√©s.  RTL8189FTV, m√≥dulo todo en uno 802.11b / g / n conectado a trav√©s del bus SDIO. <br><br>  Poner m√≥dulos listos para este tipo de funci√≥n, en lugar de soldarlos discretamente en la placa, es una de las pr√°cticas est√°ndar en el desarrollo de la electr√≥nica. <br><br><img src="https://habrastorage.org/webt/jl/4o/3o/jl4o3o_cgrm8s30lq3ovvrxidjm.jpeg"><br><br>  En el otro lado est√° el c√≥dec, un convertidor de sonido de digital a actual en auriculares.  ALC5640 sigue siendo de la misma compa√±√≠a Realtek, toma sonido a trav√©s de I2S y emite sonido est√©reo de 1.5 W a un altavoz de 8 Ohm a trav√©s de un amplificador de clase D. Tambi√©n es algo t√≠pico. <br><br><img src="https://habrastorage.org/webt/yu/qm/cx/yuqmcxjaynljjoytxrmjsgetgdi.jpeg"><br><br>  Sobre el sonido est√° la unidad de control de pantalla. <br><br>  TPS65185 es un generador de voltaje para pantallas de tinta electr√≥nica.  NN2003, o algo similar con "2" en la parte superior de la marca no se pudo identificar, pero parece algo relacionado con el poder de la luz de fondo.  Y el zForce NN1001 es algo as√≠ como un controlador de pantalla t√°ctil IR. <br><br><img src="https://habrastorage.org/webt/ei/nf/ss/einfssr3lqgoleheszta-clxqpy.jpeg"><br><br>  Finalmente, la fuente de alimentaci√≥n principal.  En el centro est√° el chip principal: RC5T619.  Este es un controlador de potencia multifuncional con convertidores incorporados, c√°lculo de consumo, carga de bater√≠a, interfaces para comunicarse con el procesador, etc. Tambi√©n tiene un reloj en tiempo real que deber√≠a funcionar incluso cuando todo lo dem√°s est√° apagado.  Una fuente de alimentaci√≥n tan altamente integrada juega un papel importante en el hecho de que una sola carga del lector es suficiente para aproximadamente un mes y medio de uso activo.  Veremos m√°s de cerca este chip m√°s tarde, cuando conectaremos un panel solar al lector. <br><br><img src="https://habrastorage.org/webt/nd/lr/d1/ndlrd1ds3zi_gxgdou5ncy3qvbw.jpeg"><br><br>  Dando la vuelta al tablero, encontramos la pantalla, la m√°s interesante de este libro. <br><br><img src="https://habrastorage.org/webt/kw/uu/xg/kwuuxgpw4lvief4nivuu4_t1kiw.jpeg"><br><br>  La pantalla est√° pegada al marco; en el otro lado del marco, la bater√≠a est√° pegada.  La placa est√° atornillada y, en cierta medida, todo el caso. <br><br><img src="https://habrastorage.org/webt/vo/wx/ac/vowxacfzpsdd_bkdce3stddr1m0.jpeg"><br><br>  ¬øCu√°n diferente es esta pantalla de 6 pulgadas "E Ink Carta" de √∫ltima generaci√≥n de la pantalla normal de E Ink que puedes comprar en la tienda? <br><br>  A modo de comparaci√≥n, aqu√≠ est√° mi pantalla de 7 pulgadas de una empresa china. <br><br><img src="https://habrastorage.org/webt/je/8e/jt/je8ejt4wlcciofhvwthkn6ib8wy.jpeg"><br><br>  Al poner la misma imagen en ambos, inmediatamente puede notar las diferencias.  Mi pantalla, aunque m√°s grande, tiene una resoluci√≥n de solo 480 x 800 y 120 DPI, mientras que la Pocket tiene una resoluci√≥n de 1072 x 1448 y 300 DPI.  Bueno, la calidad de la matriz en s√≠ misma es m√°s alta: como fabricante principal del primer escal√≥n, PocketBook usa pantallas del m√°s alto nivel de calidad: Grado A ("primer grado", antes del rechazo).  Para marcas m√°s peque√±as, y para la venta en forma de repuestos, hay Grado B - pantallas con algunos defectos (est√°ndares aceptables). <br><br><img src="https://habrastorage.org/webt/u7/4q/ne/u74qnevu7sujcvv0kl8qngtpb7u.jpeg"><br><br>  Si observa de cerca, puede ver otra gran diferencia: en la pantalla de bolsillo, los "colores" son m√°s suaves. <br><br><img src="https://habrastorage.org/webt/co/1c/i4/co1ci4tt_p6wemfwyjqhr-pgq_8.jpeg"><br><br>  Esto no es sorprendente, porque, a diferencia del "chino" en blanco y negro, la pantalla de bolsillo es monocroma y admite <s>50</s> 16 tonos de gris. <br><br><img src="https://habrastorage.org/webt/01/ea/sz/01easzhea0b9qdft1pox1y4fvrm.jpeg"><br><br>  De hecho, esto se debe no tanto a la pantalla (aunque, por supuesto, tambi√©n), sino a un circuito de control m√°s sofisticado que el m√≠o.  B√°sicamente, estas dos pantallas no son muy diferentes entre s√≠, y la principal diferencia est√° en el enlace. <br><br>  Echemos un vistazo m√°s de cerca a la tecnolog√≠a en s√≠.  Una pantalla de tinta electr√≥nica es un cristal, en un lado del cual hay una matriz de electrodos de control, y en el otro, una serie de burbujas con l√≠quido sellado en pl√°stico transparente, en el que flotan las bolas microsc√≥picas.  El blanco es positivo, el negro es negativo.  La matriz de control gira electrost√°ticamente las bolas, mostrando as√≠ la imagen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/v3/68/jj/v368jjwrr_-c3thtzjuiha-hfee.jpeg"></div><br>  En la parte posterior, dicha pantalla est√° reflejada, y el cableado de las se√±ales de control talladas en el vidrio es visible. <br><br><img src="https://habrastorage.org/webt/ob/92/ty/ob92tybeaqu6jhqcs5whuz3peg4.jpeg"><br><br><img src="https://habrastorage.org/webt/hr/ef/fe/hreffeu4wizsqlf_brlxg2r33wa.jpeg"><br><br>  Si mira la pantalla a la luz, puede ver una cuadr√≠cula de control delgada detr√°s del ruido de las c√°psulas aplicadas de manera desigual.  Debido a esta irregularidad, la retroiluminaci√≥n de una pantalla de tinta electr√≥nica es una tarea bastante trivial: si solo la resalta desde atr√°s, se ver√° como una miga de vidrio. <br><br><img src="https://habrastorage.org/webt/oh/uk/dq/ohukdqaw2djprg1qqkk8jyvwqgo.jpeg"><br><br>  De alguna manera, incluso se parece al papel normal. <br><br><img src="https://habrastorage.org/webt/ai/xn/xu/aixnxuukm1q8ctrmtrjbmn9b3tk.jpeg"><br><br>  La pantalla de la billetera est√° pegada al marco, y es probable que los intentos de separarlos terminen tristemente.  Sin embargo, hay un lugar en el borde donde tambi√©n puede iluminarlo y ver una estructura similar. <br><br><img src="https://habrastorage.org/webt/_8/nw/0y/_8nw0ydgqsbyybx31amamfwj9ag.jpeg"><br><br>  Vemos que hay un marco negro en la parte superior de la pantalla, y en el tablero debajo hay un conjunto de algunos detalles. <br>  Que es esto <br><br><img src="https://habrastorage.org/webt/bs/ip/jw/bsipjw-tuo5lcrihofwil-us-oq.jpeg"><br><br>  ¬°Adem√°s, el marco no es simple, sino transparente en luz infrarroja!  Y las protuberancias en √©l parecen lentes.  ¬øPara qu√© es todo esto? <br><br><img src="https://habrastorage.org/webt/tf/-m/9k/tf-m9k1m8raheldckdroq3tsgqe.jpeg"><br><br>  El enigma se resuelve de manera muy simple.  Recordamos un intercomunicador ordinario con un teclado de hierro, que extra√±amente deja de funcionar cuando sus bordes est√°n cubiertos de nieve.  En los bordes de este teclado hay un conjunto de luz y fotodiodos en los que brillan.  Al rastrear la sombra de esta iluminaci√≥n, el procesador puede entender en qu√© n√∫mero apareci√≥ el dedo. <br><br><img src="https://habrastorage.org/webt/uu/hv/bf/uuhvbfkno4hvju15zeohmhwxge8.jpeg"><br><br>  En nuestro lector de poketbook, el dise√±o es similar, solo que m√°s preciso.  En los bordes hay LED infrarrojos, que se enfocan en los fotodiodos desde el lado opuesto, y al sombrear el procesador calcula la ubicaci√≥n del dedo. <br><br><img src="https://habrastorage.org/webt/vr/ai/mv/vraimvmc4ygocb1z9rgp9kwy-ag.jpeg"><br><br>  Una placa flexible con LED est√° pegada en la parte inferior de la pantalla con una tira.  Esta es la famosa iluminaci√≥n con una temperatura de luz variable.  Vas a la izquierda, la luz se est√° enfriando, a la derecha, se est√° calentando.  La idea es esta: antes de acostarse, es mejor leer con una luz de fondo c√°lida, gracias a esto el aparato visual se relaja m√°s r√°pido.  Hay dos versiones de este tipo de resaltado, una desarrollada por E Ink y la otra una copia china.  Una copia es peor porque consume aproximadamente un tercio m√°s de energ√≠a.  En PocketBook 631 Plus es el correcto, E Inca. <br><br><img src="https://habrastorage.org/webt/w5/oc/ed/w5ocedeiawtu1gtkzwgncupxcue.jpeg"><br><br><img src="https://habrastorage.org/webt/9x/v3/pb/9xv3pbwe9axrdwxoushiiactpqi.jpeg"><br>  <i>Ve a la derecha: la luz se est√° calentando</i> <br><br>  Como todo ingenioso, el secreto es simple: la retroiluminaci√≥n consta de LED alternos: c√°lido, fr√≠o, c√°lido, fr√≠o, etc. <br><br>  El brillo de cada mitad se controla de forma independiente, lo que permite una transici√≥n suave del fr√≠o al calor. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/hz6IwtRFOug" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  En esta revisi√≥n de los interiores se puede completar, vuelva a armar el lector y proceda a la carga.  En condiciones normales, el libro se carga desde un USB est√°ndar con una corriente de 0.9A. <br><br>  Esto es de 4,5 W y deber√≠a proporcionar una carga completa de su bater√≠a de 1,5 A / h durante aproximadamente una hora. <br><br><img src="https://habrastorage.org/webt/q6/t4/kx/q6t4kxmyd6_whb5b_xwfogpbvvq.jpeg"><br><br>  A medida que disminuye la corriente disponible, el libro contin√∫a cargando tranquilamente hasta casi cero.  Parece que el controlador de carga es de poco inter√©s para el est√°ndar USB, y puede cargar desde cualquier voltaje hasta el voltaje de la bater√≠a. <br><br><img src="https://habrastorage.org/webt/vl/nz/g6/vlnzg6blp6pznh9iv3lrg0p61-4.jpeg"><br><br>  ¬øQu√© sucede al cargar y descargar?  Recordamos el RC5T619, que controla el subsistema de energ√≠a.  Este es un controlador integrado para alimentaci√≥n, carga y medici√≥n.  Tiene dos canales para la entrada de carga y alimentaci√≥n externa, convertidores de voltaje integrados, salida a la bater√≠a y salidas de consumo, entradas de sensor (por ejemplo, temperatura de la bater√≠a) y mucho m√°s.  Todo esto est√° configurado tanto a nivel de circuito como program√°ticamente en el bus I2C. <br><br>  En el mismo bus, el procesador recibe informaci√≥n de √©l sobre la carga restante en la bater√≠a, sobre el estado de carga, sobre la hora actual, etc. <br><br><img src="https://habrastorage.org/webt/oc/3x/ut/oc3xutahobnx7ylr7sw_hxmhm0i.png"><br><br>  ¬øCu√°l es la dificultad de determinar el nivel de carga de una bater√≠a de litio?  ¬øNo puedes medir el voltaje en √©l?  Por desgracia, el voltaje en √©l no es lineal, en su mayor parte constante, y altamente dependiente de la carga. <br><br><img src="https://habrastorage.org/webt/al/1d/55/al1d55ofazoolofpiwc9bitfct4.png"><br><br>  En la pr√°ctica, se utiliza un contador colgante para determinar el nivel de carga.  Al igual que un medidor el√©ctrico en un departamento, considera cu√°nta carga fluy√≥ de la bater√≠a a la carga y de la carga a la bater√≠a.  Esta es la √∫nica forma confiable de mostrar de manera confiable el nivel de la bater√≠a.  Y dicho medidor generalmente est√° integrado en el controlador de potencia.  El proceso de cargar una bater√≠a de litio tampoco es f√°cil, a diferencia del plomo, por ejemplo.  El proceso de carga consta de dos etapas: corriente continua y voltaje constante.  En la primera etapa, se suministra corriente, limitada al valor m√°ximo seguro, generalmente a 1C (una capacidad de bater√≠a por hora).  Cuando el voltaje de la bater√≠a alcanza su valor m√°ximo (4.20V), comienza la segunda etapa, cuando este voltaje se mantiene en la entrada y la corriente cae.  Al final, la corriente alcanza un umbral m√°s bajo, generalmente 0.1C, y la carga se detiene. <br><br>  Todo esto, nuevamente, es el controlador de potencia integrado. <br><br>  Obviamente, para conectar otra fuente de alimentaci√≥n, deber√° pasar por ella.  Idealmente, podr√≠a usar la segunda entrada de carga, VADP, pero hay un peque√±o problema: no est√° separado en la placa de nuestro lector, y el controlador es un chip BGA, un rect√°ngulo de pl√°stico con bolas de contacto en el lado inferior, y llega a las entradas VADP, esencialmente imposible <br><br><img src="https://habrastorage.org/webt/tm/w6/7h/tmw67hoakl5xbd_9xxjol1jcups.jpeg"><br><br>  Por lo tanto, debe conectarse a la entrada VUSB, es decir, al conector de alimentaci√≥n est√°ndar del lector.  Por lo tanto, es bueno que contin√∫e carg√°ndose incluso a muy bajo voltaje y corriente. <br><br>  Con esta conexi√≥n, hay algunas cosas a considerar. <br><br>  En primer lugar, no debe interferir con la carga normal.  Es decir, no se permite el flujo de corriente del sol a la carga o la computadora.  En segundo lugar, no debe absorber corriente durante la carga externa.  Es decir  El flujo de corriente de la carga al circuito del panel solar no est√° permitido. <br><br>  El primero es bastante simple: aplicaremos un voltaje mucho menor que el de una carga o una computadora.  El lector puede cargarse de √©l, pero la fuente externa no lo notar√°. <br><br>  El segundo tampoco es dif√≠cil: para el panel solar necesitar√° un controlador de punto de m√°xima potencia, dentro o en la salida del cual habr√° un diodo. <br><br>  ¬øQu√© tipo de controlador es este y por qu√© es necesario?  Echemos un vistazo a los paneles solares. <br><br>  Hay muchos tipos de c√©lulas solares.  Convencionales, familiares para todos los elementos de silicio con un tinte azulado y cableado en la superficie (en la foto de la izquierda) son los m√°s efectivos.  Su desventaja es que con el tiempo son destruidos por la luz solar, y en diez a√±os pierden la mayor parte de su poder. <br><br>  Mi libro utiliza un elemento de capa delgada en seleniuro de cobre-indio-galio (derecha), que es una vez y media menos efectivo, pero m√°s duradero. <br><br><img src="https://habrastorage.org/webt/g4/qv/5l/g4qv5le5nhazx2z18fo7wv7zhg4.jpeg"><br>  <i>Ambos paneles constan de 11 elementos conectados en serie.</i> <br><br>  Surge la pregunta: ¬øqu√© panel poner en nuestro PocketBook?  Por lo general, estoy a favor de la longevidad, pero en este caso, una sensaci√≥n de belleza, llevada a una esquina lejana, requer√≠a ser escuchada, y me decid√≠ por la opci√≥n de la izquierda: es un panel de silicona t√≠pico que encaja perfectamente en la caja del libro. <br><br><img src="https://habrastorage.org/webt/ku/yd/no/kuydno5wzaxkjtl_l0dru3avzvk.jpeg"><br><br>  La bater√≠a solar es una fuente de energ√≠a no lineal.  La ley de Ohm generalmente describe una bater√≠a o fuente de alimentaci√≥n simple: a medida que la resistencia que se les aplica disminuye, la corriente aumenta y el voltaje disminuye.  En otras palabras, son una fuente de voltaje con resistencia en serie equivalente. <br><br>  Con una bater√≠a solar, con una disminuci√≥n de la resistencia, la corriente permanece aproximadamente constante y el voltaje cae.  Esto est√° m√°s cerca de la fuente de corriente con voltaje superior limitado.  Aqu√≠, por ejemplo, hay un gr√°fico de corriente a voltaje para uno de mis grandes paneles solares. <br><br><img src="https://habrastorage.org/webt/hl/7x/ph/hl7xph_ndkgy6pqmieyinlnxysy.jpeg"><br><br>  Si conecta un controlador de carga de bater√≠a convencional a dicha fuente, la carga intentar√° consumir tanta corriente como est√© disponible (ser√° una resistencia baja), el voltaje en el panel caer√° y, con √©l, la energ√≠a caer√°: la potencia total est√° disponible solo cerca del punto de operaci√≥n, donde El producto de corriente y voltaje es m√°ximo. <br><br>  Para solucionar este problema, el panel solar generalmente est√° conectado a trav√©s de un controlador de punto de alimentaci√≥n constante.  Un convertidor de pulso que no permite que la carga intente extraer m√°s energ√≠a del panel de la que es capaz de entregar a su voltaje √≥ptimo.  De hecho, convierte la caracter√≠stica no lineal del panel en √≥hmico. <br><br>  La implementaci√≥n m√°s simple de tal controlador es un convertidor reductor con retroalimentaci√≥n tambi√©n en el voltaje de entrada, y no solo en la salida. <br><br>  A medida que disminuye la resistencia de salida, dicho convertidor reducir√° el voltaje (y aumentar√° la corriente) para que permanezca un voltaje constante en la entrada. <br><br>  Eche un vistazo a un circuito convertidor buck de cosecha propia en el controlador MC34063 PWM. <br><br><img src="https://habrastorage.org/webt/1b/xr/-u/1bxr-ujxf0tquj7icbl3v24xquw.png"><br><br>  Este chip tiene una llave incorporada que se abre y se cierra a una frecuencia de decenas de kilohercios.  Cuando est√° abierto, la corriente fluye a trav√©s de √©l y a trav√©s de la inductancia, ganando gradualmente voltaje de salida.  Cuando est√° cerrado, la corriente fluye a trav√©s del diodo y la inductancia (el inductor tiende a resistir un cambio en la corriente que fluye a trav√©s de √©l), perdiendo gradualmente el voltaje.  El voltaje "triangular" resultante es suavizado por el capacitor de salida para acercarse a constante. <br><br>  Cuanto m√°s tiempo est√© abierta la llave (ancho de pulso), mayor ser√° el voltaje de salida.  Porque  generalmente se requiere un voltaje constante, la salida es un divisor de retroalimentaci√≥n que alimenta una se√±al al amplificador de error en el controlador.  Esto le permite reducir el ancho de pulso si el voltaje es demasiado alto y aumentarlo al rev√©s. <br><br>  ¬øC√≥mo hacer un controlador con la m√°xima retenci√≥n de energ√≠a de este circuito?  Es necesario agregarle un peque√±o prefijo. <br><br><img src="https://habrastorage.org/webt/a8/25/qd/a825qdq_zyal7w2jd3pwum7i4uk.png"><br><br>  El transistor est√° abierto cuando el voltaje de entrada es m√°s alto que el voltaje establecido, el voltaje en su lado del diodo es cero y el controlador limita el voltaje de salida, como de costumbre. <br><br>  Si el voltaje de entrada cae por debajo del valor establecido, el transistor comienza a cerrarse y un voltaje proporcional a la entrada llega a la l√≠nea de retroalimentaci√≥n.  Y bloquea la se√±al de la salida.  El controlador percibe esto como un voltaje de salida incrementado y reduce la longitud del pulso, evitando as√≠ que la carga absorba demasiada potencia y caiga el voltaje de entrada. <br><br>  Si probamos este circuito en una placa de pruebas, funcionar√° m√°s o menos, pero con caracter√≠sticas bastante terribles. <br><br><img src="https://habrastorage.org/webt/m9/bk/yd/m9bkydjawid79q23ihrqtwfyo30.jpeg"><br><br>  En la pr√°ctica, hacer su propio convertidor de pulso es una tarea ingrata y no muy efectiva.  Especialmente en detalles tan antiguos como el MC34063. <br><br>  Por lo tanto, utilizaremos la pr√°ctica est√°ndar, es decir, m√≥dulos listos para usar. <br><br>  La parte principal de nuestro circuito es un prefijo invertido de retroalimentaci√≥n del voltaje de entrada.  Y se puede conectar a cualquier circuito convertidor reductor est√°ndar, que tiene un divisor externo para la retroalimentaci√≥n del voltaje de salida.  En consecuencia, tomamos un m√≥dulo reductor t√≠pico para varios vatios y le soldamos la salida del diodo prefijo. <br><br><img src="https://habrastorage.org/webt/ul/ni/sq/ulnisq2pw8t8_vjbxxy0yyrlayw.jpeg"><br><br>  Como era de esperar, todo funciona casi sin problemas. <br><br><img src="https://habrastorage.org/webt/rs/cc/ak/rsccaka9wov4zmu8ls1slgcr8mg.jpeg"><br><br>  Ahora puede eliminar partes innecesarias y verificar el circuito en modo de voltaje de corriente constante, simulando un panel solar. <br><br><img src="https://habrastorage.org/webt/sf/em/0a/sfem0aub-rljfepe3ozs9unhvhu.jpeg"><br>  <i>Como puede ver, el circuito mantiene perfectamente el voltaje de entrada m√≠nimo</i> <br><br>  Transferimos el circuito de una placa de prueba conveniente a una permanente, y el resultado es un dise√±o compacto y bastante plano. <br><br><img src="https://habrastorage.org/webt/7z/cl/le/7zclletg6hon7og5t7_xvy_p-p0.jpeg"><br><br>  No hay espacio libre en exceso dentro del lector, y el dise√±o a√∫n no es lo suficientemente plano como para caber entre la cubierta posterior y el tablero, por lo que, en cualquier caso, debe montar todo desde el exterior y sacrificar el dise√±o. <br><br>  Si el libro se hizo originalmente con la expectativa de carga solar, entonces tal problema no habr√≠a surgido, como recordamos, hab√≠a mucho espacio libre en el tablero. <br><br><img src="https://habrastorage.org/webt/ph/ob/me/phobmen1my1mmyk8q7eo4xdwrfk.jpeg"><br><br>  El √∫nico lugar m√°s o menos conveniente donde puede colocar el controlador es en la parte posterior del panel solar.  Incluso hay un marco punteado que lo insin√∫a. <br><br><img src="https://habrastorage.org/webt/7q/kp/d7/7qkpd7kgt1e_kd6n3rwldcy1qjk.jpeg"><br><br>  Antes de la asamblea final, tiene sentido probarlo todo, pero la sombr√≠a primavera de Mosc√∫ en el D√≠a X se neg√≥ obstinadamente a cooperar. <br><br><img src="https://habrastorage.org/webt/1x/nf/ys/1xnfysapns41fssf_nkcdr0mdjk.jpeg"><br><br>  Tengo que conseguir mi "sustituto del sol": un bloque de LED con una potencia total de 1 kW y una temperatura de color de 4000 K, previamente calibrado con un medidor de luz.  Da luz diurna de verano a una distancia de 29 cm. <br><br>  La primitividad del sistema de enfriamiento del modelo de "gran pieza de aluminio" lleva al hecho de que la unidad puede sobrecalentarse y quemarse en 6 minutos, de los cuales el destino puede salvarle la imperfecci√≥n de las bater√≠as modernas, que dura solo 5 minutos. <br><br><img src="https://habrastorage.org/webt/af/ij/la/afijlaxyg-fbl5cnnzg_06fdx0e.jpeg"><br><br>  Es dif√≠cil creer cu√°n intensa es la luz solar: un kilovatio de luz por metro cuadrado.  Solo si coloca tales l√°mparas a un metro una de la otra en la parte superior del medio planeta, puede obtener algo cercano al poder del sol. <br><br><img src="https://habrastorage.org/webt/1g/jw/cg/1gjwcgw3nroamb5uxmawyso7ghe.jpeg"><br><br>  Debido a la luminosidad, no puede ver lo que muestra el dispositivo: la carga viene con una potencia de aproximadamente 0.7W.  Esto est√° cerca de lo esperado: panel de 1 W y 70% de eficiencia del convertidor.  A esta velocidad, el lector cargar√° desde cero durante aproximadamente 8 horas. <br><br>  En realidad, en nuestras latitudes y clima inconstante, se requerir√° dos veces m√°s: el valor nominal de la potencia del panel de 1 W se da para la luz solar nominal de 1000 W por m2.  Lo que sucede al mediod√≠a en los tr√≥picos, o en un laboratorio bajo un sustituto del sol. <br><br><img src="https://habrastorage.org/webt/oy/fx/rh/oyfxrhdivvkr3rzg8mzf2lswago.jpeg"><br><br>  Ahora que la prueba ha pasado, finalmente puede adjuntar el panel al libro. <br><br>  Debido al grosor del transductor, hay un espacio de medio cent√≠metro entre el panel y la carcasa.  Debe cerrarlo, por lo que debe calentar la impresora 3D e imprimir el marco. <br><br><img src="https://habrastorage.org/webt/2m/nw/nv/2mnwnvkvt4evmmipp2feax3lhie.jpeg"><br><br>  El marco est√° unido al cuerpo, y dentro de √©l perforamos un agujero para los cables. <br><br><img src="https://habrastorage.org/webt/jm/rw/j3/jmrwj34tepjquhtmheef05ihxus.jpeg"><br><br>  Los pines del controlador se pasan a trav√©s de los agujeros y se sueldan a la entrada. <br><br><img src="https://habrastorage.org/webt/gz/du/dq/gzdudq9btucwr3zixot9yymsyns.jpeg"><br><br>  Obviamente, tal dise√±o no ganar√° ning√∫n concurso de belleza y dise√±o.  Y en la pr√°ctica, el aumento de grosor en un factor de 1.5 es bastante notable: el lector ya no es tan conveniente en su bolsillo y no cabe en las cubiertas. <br><br>  Para que el lugar no desaparezca en vano, uno podr√≠a, por ejemplo, llenarlo con una bater√≠a m√°s espaciosa.  O coloque un soporte con bisagras debajo del panel, y es conveniente colocarlo sobre la mesa, y el dise√±o ser√° m√°s sim√©trico.  Pero, de hecho, tal elemento de dise√±o ser√≠a m√°s razonable integrarlo inicialmente en el lector o hacerlo como un dispositivo separado.  Al colocar el controlador en el tablero y hacer un recorte para el panel en la caja, puede obtener un lector del mismo grosor que el modelo original. <br><br><img src="https://habrastorage.org/webt/-d/9j/tk/-d9jtkgi9kogxr6hx5or4yep4sm.jpeg"><br><br>  Mientras tanto, a trav√©s de la bruma de las nubes, el sol finalmente sali√≥ del cascar√≥n, y puedes ver en vivo que la unidad est√° funcionando. <br><br><img src="https://habrastorage.org/webt/uw/ro/uy/uwrouyd4w3xwtdareczgjshod5e.jpeg"><br><br>  En total, podemos concluir que ser√≠a genial para el fabricante, la compa√±√≠a PocketBook, adoptar paneles solares y alg√∫n d√≠a podr√≠a producir lectores con ellos. <br><br>  El volumen del dise√±o interno resultante no significa en absoluto que el producto de f√°brica sea el mismo: es como comparar un autom√≥vil a gasolina convertido en motores el√©ctricos, con un ba√∫l lleno de bater√≠as y un centro de gravedad derribado, con una m√°quina que originalmente fue dise√±ada como un autom√≥vil el√©ctrico. <br><br>  En palabras inteligentes, la energ√≠a solar ahora est√° en tendencia, la tecnolog√≠a est√° avanzando, los precios de los paneles est√°n cayendo r√°pidamente.  Y todos creen que el futuro est√° con ellos.  Por lo tanto, un lector con carga solar incorporada puede iniciar la moda en dispositivos m√≥viles con tanta comodidad.  Lector: un dispositivo con un consumo de energ√≠a extremadamente bajo y, por supuesto, una gran √°rea de alojamiento.  Lo que lo convierte en un caso de uso casi √≥ptimo en esta direcci√≥n. <br><br>  Para resumir el proyecto en s√≠, la parte m√°s dif√≠cil fue hacer que el controlador del punto de m√°xima potencia en una escala tan peque√±a.  Esta es una de esas √°reas donde pr√°cticamente no hay m√≥dulos listos hasta el momento, y por lo tanto cada uno es para s√≠ mismo. <br><br>  La parte m√°s interesante para m√≠ fue descubrir c√≥mo funcionan los lectores y las pantallas modernos.  La √∫ltima vez (alrededor de 2007) desarme un lector bastante antiguo, que fue uno de los primeros en el mercado, y no fue mucho m√°s dif√≠cil que el m√≠o.  El dise√±o de la pantalla t√°ctil result√≥ ser inesperado: nunca antes hab√≠a encontrado la tecnolog√≠a de una red IR a√©rea de tal tama√±o y precisi√≥n, y no esperaba encontrarla all√≠.  Bueno, los otros aspectos de ingenier√≠a en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PocketBook 631 Plus</a> parec√≠an bastante l√≥gicos y pensados, se puede ver que el lector se desarroll√≥ de buena fe, lejos de la rodilla y no en absoluto para los aficionados. <br><br>  As√≠ son las cosas.  Eso es todo, y espero que hayas aprendido algo nuevo hoy.  Contestar√© las preguntas en los comentarios, escribir. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412319/">https://habr.com/ru/post/es412319/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412307/index.html">La frase "No seas malvado" se elimin√≥ del prefacio del C√≥digo de Google.</a></li>
<li><a href="../es412309/index.html">La fuerza reduce los s√≠ntomas de depresi√≥n, no peor que el ejercicio aer√≥bico.</a></li>
<li><a href="../es412311/index.html">Una IA entrenada en navegaci√≥n, desarroll√≥ un sistema similar a una "br√∫jula" de un cerebro de mam√≠fero</a></li>
<li><a href="../es412313/index.html">TooWheels - silla de ruedas con documentaci√≥n abierta</a></li>
<li><a href="../es412315/index.html">El servicio Google Duplex asusta con su discurso hermoso y correcto, hay insatisfechos</a></li>
<li><a href="../es412323/index.html">¬øMi algoritmo tiene problemas mentales?</a></li>
<li><a href="../es412325/index.html">Spectrum-48 contra un paquete de cigarrillos, papilla de un hacha o lo que puede hacer el video STM32F103C8T6 + (actualizaci√≥n)</a></li>
<li><a href="../es412327/index.html">La visi√≥n del matem√°tico peatonal: por qu√© nuestros caminos son guano</a></li>
<li><a href="../es412329/index.html">Impresora 3D Anet A8 con marco de acero</a></li>
<li><a href="../es412331/index.html">Los asistentes digitales obedecen comandos que son inaudibles para los humanos.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>