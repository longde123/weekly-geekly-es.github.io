<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴 🏂🏽 🤽 SNMPv3示例 🗽 🚃 🤽🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SNMP（简单网络管理协议）的版本3是很久以前出现的，以应对版本2在安全性方面的薄弱功能 。 然而，尽管协议[1]的协议版本3描述的可用性和广泛分布，但基于SNMP v3的实现的描述却很少。 本篇文章反映了对“元素管理器GUI”（以下称为EM）和“ Multi-Haul Transport Plat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SNMPv3示例</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484442/">  SNMP（简单网络管理协议）的版本3是很久以前出现的，以应对版本2在安全性方面的<a href="http://net-snmp.sourceforge.net/wiki/index.php/TUT:Security" rel="nofollow">薄弱功能</a> 。 然而，尽管协议[1]的协议版本3描述的可用性和广泛分布，但基于SNMP v3的实现的描述却很少。 本篇文章反映了对“元素管理器GUI”（以下称为EM）和“ Multi-Haul Transport Platform”（以下称为MHTP）的转储的研究。 <br><a name="habracut"></a><br> 我们将研究启动和认证应用程序时EM发出的一系列SNMP获取和设置请求，以及对这些请求的MHTP响应。 在研究查询的顺序和内容之前，需要注意以下几点： <br><br>  1）为了成功进行身份验证，客户端（EM）必须具有有关以下USM参数（RFC 3414）的信息： <br><br>  •用户名-例如  “管理员”， <br>  •身份验证协议-MD5， <br>  •验证密钥-例如  '12345'， <br>  •隐私协议-AES， <br>  •隐私密钥-例如  '12345'， <br>  •上下文名称-'tnms'。 <br><br>  2）在客户端上创建UDP连接时，操作系统选择“源端口”（不要与“目标端口”混淆，对于SNMP get / set，默认为161）。  “源端口”的值可能会随着客户端应用程序的不同启动而改变。 在此实现中，“源端口”的值用于OID的动态形成。 例如，如果选择“源端口” = 60583，则字节0xEC和0xA7以及动态后缀是形式为“ .236.167”的OID的一部分。 <br><br>  3）客户端知道自己的IP地址，并将其用于动态形成OID。 例如，对于客户端IP地址“ 10.60.1.5”，“。10.60.1.5。”的一部分将出现在某些请求的OID中。 <br><br>  4）上述用户名值也用于OID的形成。 例如，对于“管理员”，是.65.100.109.105.110.105.115.116.114.97.116.111.114的一部分。  （ASCII）。 <br><br> 现在，我们开始启动EM，身份验证和创建会话时，获取和设置请求的顺序和内容（转储部分未在下面给出）： <br><br>  <u><b>请求1和2。</b></u>根据RFC 5343，我们“发现” EngineID，EngineBoots和EngineTime参数， <br><p>  <b>要求：</b> <br> 数据：获取请求， <br>  msgData：纯文本， <br> 变量绑定：- </p><br><p>  <b>答：</b> <br> 数据：报告， <br>  msgData：纯文本， <br> 变量绑定：（1个项目） <br>  1.3.6.1.6.3.15.1.1.4（ <a href="" rel="nofollow">usmStatsUnknownEngineIDs</a> ）（Integer32）==&gt; 1。 <br></p><br> 有趣的是，从请求4开始使用获得的EngineBoots和EngineTime值，并且在请求3中必须为它们设置零值。 <br><br>  <b><u>请求3.</u></b>请求usmStatsNotInTimeWindows <br><p>  <b>要求：</b> <br> 数据：获取请求， <br>  msgData：加密的PDU， <br> 变量绑定：- </p><br><p>  <b>答：</b> <br> 数据：报告， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.6.3.15.1.1.2.0（ <a href="" rel="nofollow">usmStatsNotInTimeWindows</a> ）（Integer32）==&gt; 0。 <br></p><br>  SNMP引擎在权威窗口之外接收的数据包总数。 <br><br>  <b><u>要求4</u> 。</b>  SnmpAgentState请求。 <br>  <b>要求：</b> <br> 数据：获取请求， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.4.1.42229.1.1.1.7.128.6.0 <br><br>  <b>答：</b> <br> 数据：获取响应， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.4.1.42229.1.1.1.7.128.6.0（snmpAgentState）（Integer32）==&gt; 3（启用）。 <br><br> 代理商状态。 <br><br>  <b><u>要求5</u> 。</b>  SysDescr请求 <br>  <b>要求：</b> <br> 数据：获取请求， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.2.1.1.1.0（sysDescr） <br><br>  <b>答：</b> <br> 数据：获取响应， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.2.1.1.1.0（sysDescr）==&gt;'---------版权所有2019 ******。 保留所有权利。  （OctetString） <br><br>  <b><u>请求6。interfaceVersion</u></b>请求在结构上类似于4和5。 <br>  <b><u>请求7。</u></b>请求usmXUserLastSuccessfulLogin <br>  <b>要求：</b> <br> 数据：获取请求， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.4.1.42229.1.1.1.9.2.1.13.13.65.100.109.105.110.105.115.116.114.97.116.111.114 <br><br>  <b>答：</b> <br> 数据：获取响应， <br>  msgData：加密的PDU， <br> 变量绑定：（1个项目） <br>  1.3.6.1.4.1.42229.1.1.1.9.2.1.13.13.65.100.109.105.110.105.115.116.114.97.116.111.114（usmXUserLastSuccessfulLogin） <br>  ==&gt; 07：e3：09：0a：06：1f：36：00：2b：00：0（OctetString） <br>  ==&gt; 2019-09-10等 <br> 用户名（'管理员'）-'。65.100.109.105.110.105.115.116.114.97.116.111.114。'直接包含在OID中，要求其最后一次成功认证的时间。 <br><br>  <b><u>请求8.</u></b>请求创建会话 <br>  <b>要求：</b> <br> 数据：设置请求， <br>  msgData：加密的PDU， <br> 变量绑定：（4个项目） <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.2.6.10.60.1.5.236.167 ==&gt; 4（Integer32）==&gt; createAndGo 1.3.6.1.4.1.42229.1.1.1.9.6.1.5.6.10.60.1。 5.236.167 ==&gt; 2（Integer32）==&gt; sessionRemoteLogin <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.3.6.10.60.1.5.236.167 ==&gt; 41646d696e6973747261746f72（OctetString）==&gt; sessionUserName（'Administrator'） <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.4.6.10.60.1.5.236.167 ==&gt; 4043542020（OctetString）==&gt; sessionManager ==&gt;'root' <br>  <b>答：</b> <br> 数据：获取响应， <br>  msgData：加密的PDU， <br> 变量绑定：（4个项目） <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.2.6.10.60.1.5.236.167 ==&gt; 4（Integer32）==&gt; createAndGo 1.3.6.1.4.1.42229.1.1.1.9.6.1.5.6.10.60.1。 5.236.167 ==&gt; 2（Integer32）==&gt; sessionRemoteLogin <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.3.6.10.60.1.5.236.167 ==&gt; 41646d696e6973747261746f72（OctetString）==&gt; sessionUserName（'Administrator'） <br>  1.3.6.1.4.1.42229.1.1.1.9.6.1.4.6.10.60.1.5.236.167 ==&gt; 4043542020（OctetString）==&gt; sessionManager ==&gt;'root' <br>  IP地址和源端口直接包含在OID中：“。10.60.1.5.236.167”。 <br><br> 文章简要说明了MHTP固有的SNMP v3实现的功能。 <br><br>  [1] Douglas R. Mauro和Kevin J. Schmidt“基本SNMP”（第二版）。 <br>  [2] <a href="https://gtacknowledge.extremenetworks.com/articles/How_To/How-to-decrypt-SNMPv3-packets-in-Wireshark" rel="nofollow">gtacknowledge.extremenetworks.com/articles/How_To/How-to-decrypt-SNMPv3-packets-in-Wireshark</a> <br>  [3] <a href="http://labs.spritelink.net/talking-snmpv3-with-nsn-hit7300" rel="nofollow">labs.spritelink.net/talking-snmpv3-with-nsn-hit7300</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN484442/">https://habr.com/ru/post/zh-CN484442/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN484428/index.html">选择一个没有投资者的创业公司的想法：相反</a></li>
<li><a href="../zh-CN484430/index.html">全球首款支持HDR的VR眼镜：松下对原型的了解</a></li>
<li><a href="../zh-CN484436/index.html">不感恩的开源：最快的Web服务器的开发人员已删除其存储库-重要更新</a></li>
<li><a href="../zh-CN484438/index.html">著名的流体方程泄漏</a></li>
<li><a href="../zh-CN484440/index.html">使用标准Windows工具进行完全备份</a></li>
<li><a href="../zh-CN484444/index.html">工作条件如何影响电池或奇迹般的复活</a></li>
<li><a href="../zh-CN484446/index.html">Python 3.5使用asyncio实现并发</a></li>
<li><a href="../zh-CN484448/index.html">DEFCON会议27.砍警察。 第一部分</a></li>
<li><a href="../zh-CN484454/index.html">哈布拉侦探：你的照片丢了</a></li>
<li><a href="../zh-CN484456/index.html">ReactJS，服务器端渲染和处理页面元标记的一些技巧</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>