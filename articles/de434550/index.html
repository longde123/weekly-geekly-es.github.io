<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèΩ üõµ üö∂üèª Die Innenseiten von Retro-Spielen: Punch-Out f√ºr NES üôçüèø üà≤ ü§¥üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Teil 1. Passw√∂rter 
 Das Punch-Out von NES-Spiel Mike Tyson verwendet ein Passwortsystem, mit dem Spieler das Spiel von einem bestimmten Punkt aus for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Innenseiten von Retro-Spielen: Punch-Out f√ºr NES</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434550/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0b/41b/4f2/b0b41b4f285c002424e55b62ff530362.png" alt="Bild"></div><br><h2>  Teil 1. Passw√∂rter </h2><br>  Das Punch-Out von NES-Spiel Mike Tyson verwendet ein Passwortsystem, mit dem Spieler das Spiel von einem bestimmten Punkt aus fortsetzen k√∂nnen.  Jedes Passwort besteht aus 10 Ziffern, die zwischen 0 und 9 liegen k√∂nnen. Das Spiel kann zwei Arten von Passw√∂rtern akzeptieren, die ich als "normale" und "spezielle" Passw√∂rter bezeichne.  Spezielle Passw√∂rter sind bestimmte Kombinationen von 10 Ziffern, auf deren Eingabe das Spiel auf einzigartige Weise reagiert.  Eine vollst√§ndige Liste spezieller Passw√∂rter sieht folgenderma√üen aus: <br><br><ul><li>  075 541 6113 - Besetztzeichen 1 </li><li>  800 422 2602 - Besetztzeichen 2 </li><li>  206 882 2040 - Besetztzeichen 3 </li><li>  135 792 4680 - Spiel in einem versteckten Turnier: "Another World Circuit" (damit das Passwort akzeptiert wird, m√ºssen Sie die Auswahltaste gedr√ºckt halten und A + B dr√ºcken) </li><li>  106 113 0120 - Anzeige der Titel (damit das Passwort akzeptiert wird, m√ºssen Sie die Auswahltaste gedr√ºckt halten und A + B dr√ºcken) </li><li>  007 373 5963 - versetzt den Spieler in den Kampf mit Mike Tyson </li></ul><br>  Die zweite Art von Passw√∂rtern, die vom Spiel akzeptiert werden, sind regul√§re Passw√∂rter.  In regul√§ren Passw√∂rtern wird der Fortschritt, den der Spieler im Spiel gemacht hat, verschl√ºsselt.  Die folgenden Spieldaten sind in einem regul√§ren Passwort verschl√ºsselt: <br><br><ul><li>  Anzahl der Karrieregewinne </li><li>  Anzahl der Karriereverluste </li><li>  Knockout gewinnt </li><li>  N√§chster Gegner </li></ul><br><h2>  Passwortcodierung </h2><br>  Um beispielsweise die Passwortgenerierung zu untersuchen, verwenden wir ein Spiel mit 24 Siegen, 1 Niederlage, 19 Ausscheidungswettk√§mpfen und beginnen das Weltturnier mit einem Kampf gegen Super Macho Man. <br><a name="habracut"></a><br>  Der Vorgang des Codierens des Status eines Spiels in einem Passwort beginnt mit dem Sammeln der Anzahl von Gewinnen, Verlusten und Knockouts im Puffer.  Das Spiel pr√§sentiert jede Zahl in Form eines <a title="Bin√§rcodierte Dezimalstelle" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bin√§ren Dezimalcodes</a> , der aus 8 Bits pro Ziffer und 2 Ziffern f√ºr jeden Wert besteht.  Das hei√üt, f√ºr 24 Siege ben√∂tigen Sie ein Byte mit einem Wert von 2 und ein zweites Byte mit einem Wert von 4. Dasselbe gilt f√ºr Paare von Bytes f√ºr Verluste und Knockouts, dh es werden insgesamt 6 Bytes Daten erhalten.  In der folgenden Abbildung sind diese 6 Bytes mit dezimalen und bin√§ren Werten angegeben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/489/fab/198/489fab1987ec36a598e9f53353ddab14.png"></div><br>  Der n√§chste Schritt besteht darin, eine Pr√ºfsumme f√ºr diese 6 Bytes zu generieren.  Das Pr√ºfsummenbyte wird berechnet, indem 6 separate Bytes addiert und das Ergebnis von 255 subtrahiert werden. In unserem Fall 2 + 4 + 0 + 1 + 1 + 9 = 17, dh 255 - 17 = 238. <br><br>  Dann schreiben wir ein paar Bits von 6 Bytes in einen neuen Puffer.  Dieser Puffer kann als ein 28-Bit-Zwischenwert interpretiert werden, den wir Schritt f√ºr Schritt ausf√ºllen werden.  Bits aus dem ersten Puffer werden in Zweiergruppen unterteilt und an verschiedene fest codierte Positionen des zweiten Puffers verschoben.  Dies ist der erste von mehreren Schritten, deren einzige Aufgabe darin besteht, die Daten einfach zu verschleiern, um das Generieren von Passw√∂rtern f√ºr Spieler zu erschweren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/369/41d/366/36941d366047379b7279a42b1305ea86.png"></div><br>  Beachten Sie, dass nicht alle Bits aus dem urspr√ºnglichen Puffer in den neuen Zwischenpuffer √ºbertragen werden.  Diese Bits werden ignoriert, da bekannt ist, dass sie immer 0 sind. Dank der Spielregeln reicht es aus, die Anzahl der Verluste im Passwort mit nur 2 Informationsbits zu √ºbertragen.  Wenn die Gesamtzahl der Verluste 3 erreicht, tritt ein Spielende auf und der Spieler erh√§lt kein Passwort.  Daher reicht es v√∂llig aus, die Anzahl der Verluste mit den Zahlen 0, 1 und 2 zu beschreiben, und daf√ºr reichen nur 2 Bits aus. <br><br>  Dann schreiben wir andere Bitpaare in den Zwischenpuffer.  Die ersten vier Paare werden aus dem zuvor berechneten Pr√ºfsummenwert entnommen.  Ein weiteres Paar wird vom Wert des Feindes genommen.  Der Wert eines Gegners ist eine Zahl, die angibt, gegen welchen Gegner ein Spieler nach Eingabe eines Passworts k√§mpfen wird.  Drei m√∂gliche feindliche Werte k√∂nnen verwendet werden: <br><br>  0 - DON FLAMENCO (erster Kampf des gro√üen Turniers) <br><br>  1 - PISTON HONDA (erster Kampf des Weltturniers) <br><br>  2 - SUPER MACHO MAN (letzter Kampf des Weltturniers) <br><br>  Da wir ein Passwort generieren wollten, das uns mit Super Macho Man konfrontiert, verwenden wir 2 als Wert des Gegners. Anschlie√üend werden die Pr√ºfsummenbits und die Werte des Gegners wie folgt in die Zwischenbits geschrieben: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0e5/e6c/b30/0e5e6cb30922b23fc4f27cb10edfa383.png"></div><br>  Der n√§chste Schritt besteht darin, mehrere zyklische Permutationen der Zwischenbits links durchzuf√ºhren.  Eine zyklische Permutation nach links bedeutet, dass alle Bits um eine Position nach links verschoben werden und das am weitesten links liegende Bit sich bewegt und zum am weitesten rechts liegenden wird.  Um die Anzahl der Permutationen auf der linken Seite zu berechnen, nehmen wir die Summe aus dem Wert des Gegners und der Anzahl der Verluste, addieren 1 und dividieren dieses Ergebnis durch 3.  In unserem Fall stellt sich heraus, dass 2 + 1 + 1 = 4. Dann ist der Rest von 4/3 1, sodass wir die Zwischenbits einmal zyklisch nach links verschieben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9b6/877/748/9b68777488be3ba29882276e1bb9f3be.png"></div><br>  Zu diesem Zeitpunkt sind die Zwischenbits bereits gr√ºndlich gemischt und es ist Zeit, sie zu brechen, um die Zahlen zu erhalten, aus denen das Passwort besteht.  Passw√∂rter sollten aus 10 Ziffern bestehen, daher werden 28 Zwischenbits in 10 separate Zahlen aufgeteilt, die wir als Passwortwerte P0, P1, P2 usw. bezeichnen.  Jeder der ersten neun Passwortwerte empf√§ngt 3 Datenbits und der letzte erh√§lt nur eines der Zwischenbits.  Um den fertigen Passwortwert zu vervollst√§ndigen, werden wir auch Bits einf√ºgen, die die Anzahl der im vorherigen Schritt durchgef√ºhrten Permutationen angeben. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/afe/071/3ee/afe0713eea345b68c5a429b804b146c5.png"></div><br>  Schlie√ülich f√ºgen wir jedem Passwortwert einen eindeutigen, fest codierten Offset hinzu.  Die fertige Passwortziffer ist der Rest dieser Summe aus der Division durch 10. In der siebten Position verwenden wir beispielsweise den Versatz 1, dh wir erhalten 5 + 1 = 6, und die letzte Ziffer ist der Rest von 6/10, dh 6. In der vierten Position verwenden wir Offset 7, das hei√üt, wir erhalten 5 + 7 = 12, und die endg√ºltige Zahl entspricht dem Rest 12/10, dh 2. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f08/767/d3f/f08767d3fb4dff169947863869e2d7db.png"></div><br>  Also haben wir vorgefertigte Passwortziffern bekommen, die im Spiel √ºberpr√ºft werden k√∂nnen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/70f/3df/4d4/70f3df4d44e3dee701740b7d1408a8c4.png"></div><br><h2>  Passwortdecodierung </h2><br>  Das Dekodieren von Passw√∂rtern auf die Anzahl der Gewinne / Verluste / Knockouts und den Wert des Gegners ist eine einfache Implementierung in umgekehrter Reihenfolge aller oben beschriebenen Schritte.  Ich werde es den Lesern als Aufgabe √ºberlassen.  Das Spiel weist jedoch zwei bemerkenswerte Fehler auf, die beim Dekodieren und √úberpr√ºfen der vom Spieler eingegebenen Passw√∂rter auftreten. <br><br>  Der erste Fehler tritt im allerersten Schritt des Dekodierens des Kennworts auf, dh beim Subtrahieren von Offsets, um zu den Kennwortwerten zur√ºckzukehren.  Die anf√§nglichen Passwortwerte enthielten jeweils 3 Datenbits, dh ihre Werte vor dem Anwenden von Offsets sollten im Bereich von 0 bis 7 liegen.  Der Spieler kann jedoch ein Passwort eingeben, das nach Abzug des Versatzes einen Passwortwert von 8 oder 9 ergibt (dividiert durch 10 mit dem Rest).  Anstatt ein solches Passwort sofort abzulehnen, √ºberpr√ºft das Spiel diesen Fall f√§lschlicherweise nicht und erm√∂glicht es Ihnen, dem Passwortwert ein zus√§tzliches Datenbit hinzuzuf√ºgen, das den Satz von Zwischenbits so verschmutzen kann, dass Passw√∂rter nicht mehr eindeutig sind.  Da bestimmte Zwischenbits entweder mit der entsprechenden Ziffer des Passworts oder mit einem zus√§tzlichen Bit des benachbarten Passwortwerts gesetzt werden k√∂nnen, gibt es viele Passw√∂rter, die in denselben Satz von Zwischenbits konvertiert werden k√∂nnen.  Aus diesem Grund k√∂nnen Sie verschiedene Passw√∂rter finden, die das gleiche Ergebnis im Spiel liefern, obwohl sie eindeutig sein sollten. <br><br>  Der zweite Fehler ist ein Fehler in der Logik, mit der das Spiel Daten nach dem Entschl√ºsseln des Passworts √ºberpr√ºft.  Das Spiel versucht, die folgenden Bedingungen anzuwenden: <br><br><ul><li>  Die im Passwort gespeicherte Pr√ºfsumme entspricht der Pr√ºfsumme, die unter Ber√ºcksichtigung der Anzahl der im Passwort gespeicherten Gewinne / Verluste / Knockouts erhalten werden soll </li><li>  Verlustwert ist 0, 1 oder 2 </li><li>  Der feindliche Wert ist 0, 1 oder 2 </li><li>  Die Anzahl der im Passwort gespeicherten zyklischen Permutationen ist die richtige Anzahl, wobei der Wert der Verluste und der Wert des im Passwort gespeicherten Gegners ber√ºcksichtigt werden </li><li>  Alle im Passwort gespeicherten Gewinn- / Verlust- / Ko-Nummern liegen im Bereich von 0 bis 9 </li><li>  gewinnt&gt; = 3 </li><li>  gewinnt&gt; = Ko </li></ul><br>  Wenn eine dieser Bedingungen nicht erf√ºllt ist, muss das Spiel das Passwort ablehnen.  Es gibt jedoch einen Fehler bei der Implementierung der Endpr√ºfung (n√§mlich beim √úberpr√ºfen der von BCD codierten Zahlen). Anstatt den Sieg&gt; = Knockouts zu √ºberpr√ºfen, erlaubt das Spiel F√§lle, in denen die obere Anzahl der Siege 0, die untere Anzahl der Siege&gt; = 3 und die obere Anzahl der Knockouts kleiner als die untere Anzahl ist gewinnt.  Zum Beispiel wird ein Rekord mit 3 Siegen, 0 Verlusten und 23 Ko-Spielen vom Spiel akzeptiert (was das Passwort 099 837 5823 best√§tigt), obwohl er abgelehnt werden sollte (da es unm√∂glich ist, 23 K√§mpfe durch Ko zu gewinnen, wenn Sie in nur 3 K√§mpfen gewonnen haben). <br><br><h2>  Fazit </h2><br>  Die besonderen Details eines solchen Codierungsschemas sind nur bei Punch-Out zu finden, aber die allgemeine Idee, wichtige Teile des Spielzustands zu erhalten, sie mit der M√∂glichkeit der Wiederherstellung zu konvertieren, um den Anfangszustand zu verschleiern, und sie dann zu verwenden, um eine bestimmte Anzahl von Zeichen zu generieren, um dem Spieler als Passwort zu demonstrieren, ist ein ziemlich universeller Ansatz.  Sie k√∂nnen Pr√ºfsummen verwenden, damit versehentliche Kennwort√§nderungen (z. B. wenn ein Spieler einen Fehler macht) meistens zu dessen Ablehnung f√ºhren, anstatt ein anderes Kennwort mit einem zuf√§lligen Spielstatus zu erstellen. <br><br><h2>  Teil 2. √úberblick √ºber Punch-Out </h2><br>  Jeder K√§mpfer bei Mike Tysons Punch-Out !!!  gesteuert durch ein oder mehrere interpretierte Bytecode-Skripte.  Der Charakter des Spielers, Little Mac, f√ºhrt ein einfaches Skript aus, das die Logik jeder Aktion enth√§lt, die dem Spieler zur Verf√ºgung steht (Ausweichen, Blockieren, Schlagen usw.). Die Charaktere des Gegners werden von drei Ebenen unabh√§ngiger Skripte gesteuert, die zusammen das Verhalten des Charakters erzeugen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0b/c1e/911/d0bc1e9118006e13ce453f7ed991cead.png"></div><br><h2>  Match-Skript </h2><br>  Das Feindskript der h√∂chsten Ebene wird in allen drei Kampfrunden ausgef√ºhrt und steuert die ehrgeizigsten √Ñnderungen im Verhalten des Gegners.  Ich werde dieses Skript "Match-Skript" nennen.  Seine Hauptaufgabe ist es, die Verhaltensweisen auszuw√§hlen, die der Feind als Reaktion auf verschiedene Ereignisse w√§hrend des Kampfes ausf√ºhren wird.  Zum Beispiel beginnt ein bestimmtes Verhalten unmittelbar nach dem Aufstehen des Gegners nach einem Niederschlag oder wenn dem Spieler die Herzen ausgehen und er m√ºde wird.  Diese Verhaltensweisen werden in die Tabelle geschrieben und von der Spiel-Engine als Reaktion auf die entsprechenden Ereignisse aufgerufen.  Das Match-Skript legt auch die Anfangswerte f√ºr die Konfigurationsoptionen fest, die sich auf die Komplexit√§t des Kampfes beziehen (z. B. die Zeit, die der Gegner nach einem verpassten Treffer verwundbar bleibt). Schlie√ülich wartet das Match-Skript w√§hrend des Kampfes auf bestimmte tempor√§re Markierungen, um √Ñnderungen an den zuvor festgelegten Werten vorzunehmen . <br><br><h2>  Verhaltensskript </h2><br>  Das Skript eines Gegners auf einer niedrigeren Ebene ist ein "Verhaltensskript".  Diese Ebene ist f√ºr die Abfolge bestimmter Schl√§ge und Angriffe verantwortlich, die der Gegner im Rahmen des aktuellen Verhaltens ausf√ºhren muss (festgelegt durch das Match-Skript). Verhaltensskripte f√ºhren Befehle wie ‚ÄûAnwenden des rechten Sto√ües, Pause f√ºr 28 Frames, zuf√§lliges Anwenden des linken oder rechten Uppercuts, Wiederholen aller es ist 5 mal. "  Das Skript verf√ºgt auch √ºber Befehle zum Lesen und Schreiben an eine beliebige Adresse im Speicher der Spiel-Engine, sodass das Verhalten sehr dynamisch sein kann. <br><br><h2>  Animationsskript </h2><br>  Das Gegner-Skript der untersten Ebene ist ein ‚ÄûAnimationsskript‚Äú.  Solche Skripte f√ºhren die Details jedes einzelnen Treffers, Blocks oder Spezialangriffs als Teil des Verhaltens aus (definiert durch das Verhaltensskript). Auf dieser Ebene k√∂nnen Befehle wie "Sprite 23 dem aktuellen Frame der feindlichen Animation zuweisen, es jedes zweite Frame um 1 Pixel nach unten und rechts verschieben." √Ñndern Sie f√ºr die n√§chsten 10 Bilder das Animationsbild in Sprite 24 und spielen Sie den Soundeffekt 7 "ab.  Zus√§tzlich zu Animationsbefehlen f√ºhren Animationsskripte auch Sequenzen verschiedener √Ñnderungen der Spielzust√§nde aus, die eng mit den Bewegungen des Feindes zusammenh√§ngen.  In einer langen Animation eines Spezialangriffs kann ein Animationsskript beispielsweise Befehle einf√ºgen, die den Feind mit einem Treffer √ºber einen sehr kurzen Zeitraum f√ºr Niederschlag anf√§llig machen.  Wie Verhaltensskripte k√∂nnen Animationsskripte beliebige Speicheradressen in der Spiel-Engine lesen und schreiben, um dynamischere Effekte zu erzielen. <br><br><h2>  Skript Little Mac </h2><br>  Das vom Charakter des Little Mac-Players ausgef√ºhrte Skript ist den feindlichen Animationsskripten am √§hnlichsten.  Es √§ndert den aktuellen Frame der reflektierten Animation und bewegt den Player √ºber den Bildschirm.  Wie Animationsskripte f√ºhrt das Little Mac-Skript Sequenzen bestimmter Spielereignisse aus, z. B. zu welchem ‚Äã‚ÄãZeitpunkt der Mac den Feind treffen sollte oder wann er einen Block oder eine Umgehung ausf√ºhren sollte.  Das Little Mac-Skript steuert die Eingabe des Players, √§hnlich wie Verhaltensskripte feindliche Animationsskripte steuern. <br><br>  Jedes dieser vier Skripte wird von einem eigenen Interpreter verarbeitet.  Obwohl viele von ihnen dieselbe Funktionalit√§t haben, z. B. grundlegende Steuerungssteuerung und direkten Zugriff auf den Speicher, implementiert jedes System seine eigene Version und teilt den gemeinsamen Code (oder den Opcode-Bereich) nicht mit anderen Systemen.  Dadurch kann jeder Skripttyp sehr spezifisch sein und effektiv einen kleinen Satz von Zielbefehlen verwenden.  Skriptdaten machen etwa 22% der nicht grafischen Daten der Spielekassette aus (der Maschinencode f√ºr die Spiel-Engine selbst macht nur 17% aus), daher war es sehr wichtig, dass die Skripte ein kompaktes Aussehen haben. <br><br><h2>  Teil 3. Punch-Out-Match-Skript </h2><br>  Das Skript des Spiels steuert das Verhalten des Gegners auf h√∂chster Ebene.  Die Hauptoperation, die er immer wieder ausf√ºhrt, besteht darin, auf eine bestimmte Zeit der Runde zu warten und in diesem Moment √Ñnderungen an den Konfigurationsdaten des Gegners vorzunehmen.  Das Video zeigt die erste Runde des ersten Kampfes gegen Bald Bull sowie ein Match-Skript, das das Gesamtverhalten steuert. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/99DN0sM9ep8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es gibt drei Hauptoperationen, die ein √úbereinstimmungsskript ausf√ºhren kann.  Der erste besteht darin, zu warten, bis der runde Timer einen bestimmten Wert erreicht.  Die zweite ist zu fragen, ob sich das aktuelle Verhalten des Gegners ge√§ndert hat.  Verhaltensweisen werden in der Kampfkonfigurationstabelle im Speicher aufgezeichnet und dann zu unterschiedlichen Zeiten von den Match-Skripten und der Spiel-Engine selbst aufgerufen.  Die Tabelle enth√§lt zwei Verhaltenssegmente, die von √úbereinstimmungsskripten verwendet werden.  Ich nenne sie "grundlegendes" Verhalten und "spezielles" Verhalten.  Besondere Verhaltensweisen sind beispielsweise ein Bull Charge-Schlag eines Gegners von Bald Bull oder Honda Rush eines Gegners von Piston Honda, und die Hauptverhaltensweisen sind die √ºblichen Treffer, die der Gegner f√ºr den Rest der Zeit liefert.  Die spezifischen Verhaltensskripte, die zur Implementierung dieser Verhaltensweisen verwendet werden, k√∂nnen durch das Match-Skript direkt w√§hrend des Kampfes ge√§ndert werden, sodass die K√§mpfer mit einem Hauptverhalten beginnen und sp√§ter zu einem anderen wechseln k√∂nnen (wie im Video zu sehen ist, tut Bald Bull dies, wenn der Timer 0 erreicht : 20.) <br><br>  Eine Funktion zum √Ñndern von Verhaltensweisen, die von Match-Skripten ausgef√ºhrt werden, besteht darin, dass sie durch Verhaltens√§nderungen ersetzt werden k√∂nnen, die von der Spiel-Engine angefordert werden.  Die Spiel-Engine verwendet vier Verhaltenssegmente, um neue Verhaltensweisen anzufordern, wenn der Mac alle Herzen verliert und m√ºde wird und wenn der Gegner nach einem Niederschlag aufsteht.  Wenn das Match-Skript die Anforderung zum √Ñndern des Verhaltens erf√ºllt hat, aber eines dieser vier Ereignisse der Spiel-Engine auftritt, bevor die Anforderung verarbeitet wird (Anforderungen k√∂nnen nicht verarbeitet werden, bis der Gegner in den Wartezustand wechselt), legt die Spiel-Engine das gew√ºnschte Verhalten fest und die Anforderung f√ºr das Match-Skript wird abgelehnt.  Einige K√§mpfer, wie beispielsweise Bald Bull, fordern innerhalb kurzer Zeit mehrmals ein besonderes Verhalten.  Dies scheint nur erforderlich zu sein, um die Wahrscheinlichkeit zu verringern, dass eine dieser Anforderungen versehentlich gel√∂scht wird. <br><br>  Die dritte Hauptoperation des Match-Skripts ist das Patchen des Speichers.  Die meisten Speicher-Patches wirken sich auf die Battle-Konfigurationstabelle aus, in der Verhaltensskripte aufgezeichnet werden.  Zus√§tzlich zu den Verhaltenss√§tzen enth√§lt die Tabelle Daten zur Komplexit√§t des Kampfes.  Wenn der Timer im Video beispielsweise 0:30 erreicht, √§ndert Bald Bull seine Sicherheitseinstellungen.  Dies f√ºhrt dazu, dass der Spieler ihn nicht l√§nger t√§uschen kann, indem er nach oben dr√ºckt und dann einen Schlag auf den K√∂rper ausf√ºhrt.  Match-Skripte k√∂nnen au√üerdem beliebige Speicheradressen patchen, diese Funktion wird jedoch nur einmal verwendet - zu Beginn der zweiten Runde mit Mike Tyson, sodass der Spieler zum ersten Mal einen Stern erh√§lt, wenn er ihn trifft, der sich im Standby-Modus befindet. <br><br><h2>  Teil 4. Punch-Out-Verhaltensskript </h2><br>  Nun betrachten wir Verhaltensskripte, die direkt an der Implementierung von Verhalten beteiligt sind. <br><br>  Das Video zeigt eine Interpretation dessen, wie das konkurrierende Verhaltensskript von Piston Honda 1 in englischen Teams aussehen k√∂nnte. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_Q9_7vSLndQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Animationsbefehle </h2><br>  Verhaltensskripte sind f√ºr das sequentielle Starten von Animationen verantwortlich, genauso wie Match-Skripte f√ºr das Starten von Animationen verantwortlich waren.  Der Befehl <code>anim</code> spielt eine bestimmte Animation ab, und der Befehl <code>anim_rnd</code> f√ºhrt eine Animation aus, die zuf√§llig aus einer Liste von 8 Optionen ausgew√§hlt wurde.  Im obigen Video wird zum Zeitpunkt einer zuf√§lligen Auswahl aus einer Liste von Optionen die ausgew√§hlte Option vor√ºbergehend rot hervorgehoben.  Wenn Piston Honda seine ersten beiden St√∂√üe ausf√ºhrt, <code>anim</code> f√ºr jeden von ihnen eine <code>anim</code> verwendet.  Danach w√§hlt er mit <code>anim_rnd</code> zuf√§llig aus einem Set mit 6 Hook-Animationen und 2 leeren Animationen.  Infolgedessen hakt er in 75% der F√§lle und unternimmt in 25% der F√§lle nichts. <br><br>  Aus Sicht des Skripts wird das Verhalten der Animationen synchron abgespielt, da der Skriptinterpreter angehalten wird, wenn sich das Animationssystem nicht im Leerlaufmodus befindet. <br><br><h2>  Ausf√ºhrungssteuerungsbefehle </h2><br>  Es gibt mehrere Befehle, die die Ausf√ºhrung des Verhaltensskripts selbst √§ndern.  <code>pause</code> k√∂nnen die Skriptausf√ºhrung f√ºr eine bestimmte Anzahl von Frames oder f√ºr die Anzahl von Frames anhalten, die zuf√§llig aus einer Liste von 2 Optionen ausgew√§hlt wurden. <br><br>  Es gibt verschiedene Verzweigungsbefehle, die unter bestimmten Bedingungen optional zu verschiedenen Teilen des Verhaltensskripts wechseln.  Der <code>branch_rnd</code> hat eine bestimmte Wahrscheinlichkeit, dass bei jeder Ausf√ºhrung eine Verzweigung auftritt.  Ein Sonderfall der probabilistischen Verzweigung ist der Befehl <code>branch_always</code> mit einer Verzweigungswahrscheinlichkeit von 100%. <br><br>  In den Verhaltensskriptinterpreter ist ein einfacher Schleifenmechanismus integriert.  Der Befehl <code>set_loop_count</code> legt den aktuellen Wert des Schleifenz√§hlers fest.  Jedes Mal, <code>branch_while_loop</code> Befehl <code>branch_while_loop</code> verringert er den Wert des Schleifenz√§hlers um eins und f√ºhrt nur dann eine Verzweigung durch, wenn der <code>branch_while_loop</code> gr√∂√üer als Null ist. <br><br>  Die letzte Art der Verzweigung √ºberpr√ºft den Speicherinhalt, um eine Entscheidung √ºber die Verzweigung zu treffen.  Piston Honda verwendet diesen Befehl <code>branch_mem_test</code> um zu √ºberpr√ºfen, ob sein letzter Treffer in einem bestimmten Verhalten erfolgreich war.  Wenn der Treffer das Ziel trifft, verzweigt er sich f√ºr den n√§chsten Treffer.  Wenn der Treffer nicht erfolgreich war, wird der Befehl <code>branch_while_loop</code> , um den Treffer nur dann fortzusetzen, wenn sich 5 fehlgeschlagene Treffer ansammeln. <br><br><h2>  Verhaltensbefehle </h2><br>  Es gibt zwei Befehle, mit denen Verhaltensskripte das Verhaltenssystem selbst steuern k√∂nnen.  Der Befehl <code>begin_behavior_main</code> verwendet, um das aktuelle ausf√ºhrbare Verhalten zu beenden und das Hauptverhalten zu starten.  Dies unterscheidet sich von der Verzweigung im Verhaltensskript, da der Teil des Skripts, der als aktuelles ‚ÄûHauptverhalten‚Äú betrachtet wird, w√§hrend des Spiels durch das √úbereinstimmungsskript ge√§ndert werden kann (siehe den vorherigen Teil des Artikels √ºber √úbereinstimmungsskripte). <br><br>  Ein weiterer verhaltensbezogener Befehl ist <code>enable_behavior_change</code> .  Wenn ein neues Verhalten gestartet wird, beginnt es mit einem Sperrstatus, wenn alle weiteren Anforderungen zum √Ñndern des Verhaltens blockiert sind.  Mit dem Befehl <code>enable_behavior_change</code> signalisiert <code>enable_behavior_change</code> Skript, dass es bereit ist, andere Verhaltensweisen zuzulassen.  Beispielsweise wird im speziellen Verhalten von Piston Honda der Befehl <code>enable_behavior_change</code> nie ausgef√ºhrt. Wenn der Mac w√§hrend dieser Zeit m√ºde ist, wird das spezielle Verhalten fortgesetzt.  Knockdown-Ereignisse umgehen dieses System jedoch. Wenn also w√§hrend des besonderen Verhaltens des Kolben-Honda die Hauptfigur niedergeschlagen wird, wird das Verhalten in jedem Fall ge√§ndert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434550/">https://habr.com/ru/post/de434550/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434538/index.html">Der Kampf um den Weltraum: Was passiert auf dem Satelliten-Internetmarkt?</a></li>
<li><a href="../de434540/index.html">Was tun mit Menschen, die durch Roboter ersetzt werden?</a></li>
<li><a href="../de434542/index.html">Automatisierung des Qualit√§tskontrollprozesses f√ºr Unternehmensspeicherdaten</a></li>
<li><a href="../de434544/index.html">"Wir wollen keinen Krieg" - Interview mit Adblock Plus-Direktor Ben Williams</a></li>
<li><a href="../de434548/index.html">Der Patriot von Simbabwe gibt 5.000 US-Dollar f√ºr die Digitalisierung des Heimatlandes in Google Street View aus</a></li>
<li><a href="../de434552/index.html">GDG SPb. Was wir in einem Jahr geschafft haben</a></li>
<li><a href="../de434558/index.html">Sibirische Support-Community: Start</a></li>
<li><a href="../de434560/index.html">Was lehrte 2018 oder praktische Schritte zur Einf√ºhrung digitaler Technologien im Jahr 2019</a></li>
<li><a href="../de434562/index.html">Samsung SSD 860 QVO 1 TB und 4 TB: der erste Consumer-SATA-QLC (1 Teil)</a></li>
<li><a href="../de434564/index.html">Das Zeichnen macht 10% der Arbeit des UX-Designers aus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>