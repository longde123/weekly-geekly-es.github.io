<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โฝ๏ธ โ๏ธ โ๏ธ ูุดุฑ ุงูุชุทุจููุงุช ุนูู ูุฌููุนุงุช Kubernetes ูุชุนุฏุฏุฉ ูุน Helm ๐ ๐ฉ๐ปโ๐คโ๐จ๐พ ๐ถ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููู ูุณุชุฎุฏู Dailymotion Kubernetes: ูุดุฑ ุงูุชุทุจูู 


 ุจุฏุฃูุง ูู Dailymotion ุจุงุณุชุฎุฏุงู Kubernetes ูู ุงูุฅูุชุงุฌ ููุฐ 3 ุณููุงุช. ูููู ูุดุฑ ุงูุชุทุจููุงุช ุนูู ูุฌููุนุงุช ูุชุน...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุดุฑ ุงูุชุทุจููุงุช ุนูู ูุฌููุนุงุช Kubernetes ูุชุนุฏุฏุฉ ูุน Helm</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/458934/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/8f/-s/8h/8f-s8hlxikospwqtqw5wjcexjri.jpeg"></p><br><h2 id="kak-dailymotion-ispolzuet-kubernetes-razvertyvanie-prilozheniy" style=";text-align:right;direction:rtl">  ููู ูุณุชุฎุฏู Dailymotion Kubernetes: ูุดุฑ ุงูุชุทุจูู </h2><br><p style=";text-align:right;direction:rtl">  ุจุฏุฃูุง ูู Dailymotion ุจุงุณุชุฎุฏุงู Kubernetes ูู ุงูุฅูุชุงุฌ ููุฐ 3 ุณููุงุช.  ูููู ูุดุฑ ุงูุชุทุจููุงุช ุนูู ูุฌููุนุงุช ูุชุนุฏุฏุฉ ูุง ูุฒุงู ูู ุฏูุงุนู ุณุฑูุฑู ุ ูุฐูู ุญุงูููุง ูู ุงูุณููุงุช ุงูููููุฉ ุงููุงุถูุฉ ุชุญุณูู ุฃุฏูุงุชูุง ูุณูุฑ ุงูุนูู ูุฏููุง. </p><a name="habracut"></a><br><h3 id="s-chego-nachalos" style=";text-align:right;direction:rtl">  ูู ุฃูู ุจุฏุฃุชุ </h3><br><p style=";text-align:right;direction:rtl">  ููุถุญ ููุง ููู ููุดุฑ ุชุทุจููุงุชูุง ุนูู ุงูุนุฏูุฏ ูู ูุฌููุนุงุช Kubernetes ุญูู ุงูุนุงูู. </p><br><p style=";text-align:right;direction:rtl">  ููุดุฑ ูุงุฆูุงุช Kubernetes ูุชุนุฏุฏุฉ ูู ููุช ูุงุญุฏ ุ ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Helm</a> ุ ููุชู ุชุฎุฒูู ุฌููุน ูุฎุทุทุงุชูุง ูู ูุณุชูุฏุน ุจูุงุจุฉ ูุงุญุฏ.  ููุดุฑ ููุฏุณ ุงูุชุทุจูู ุงููุงูู ูู ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช ุ ูุณุชุฎุฏู ูุง ูุณูู ุงููุฎุทุท ุงููุนูู.  ูู ุฌููุฑู ุ ูุฐุง ูุฎุทุท ููุนูู ุนู ุงูุชุจุนูุงุช ููุณูุญ ูู ุจุชููุฆุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฎุฏูุงุชูุง ุจูุงุณุทุฉ ุฃูุฑ ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุชุจูุง ุฃูุถูุง ูุตูุง ุจูุซูููุง ุตุบูุฑูุง ุฃุนูู ูููู ููููุงู ุจุงูุชุญููุงุช ูุฅูุดุงุก ุงููุฎุทุทุงุช ูุฅุถุงูุฉ ุงูุฃุณุฑุงุฑ ููุดุฑ ุงูุชุทุจููุงุช.  ูุชู ุชูููุฐ ูู ูุฐู ุงูููุงู ุนูู ุงููุธุงู ุงูุฃุณุงุณู ุงููุฑูุฒู CI ุจุงุณุชุฎุฏุงู ุตูุฑุฉ ุนุงูู ูููุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูุตู ุงูู ูุฐู ุงูููุทุฉ. </p><br><blockquote style=";text-align:right;direction:rtl">  ุงููุฐูุฑุฉ.  ุนูุฏูุง ุชูุฑุฃ ูุฐุง ุ ุชู ุจุงููุนู ุงูุฅุนูุงู ุนู ุฃูู ูุฑุดุญ ูุฅุตุฏุงุฑ Helm 3.  ุชุญุชูู ุงููุณุฎุฉ ุงูุฑุฆูุณูุฉ ุนูู ูุฌููุนุฉ ูุงููุฉ ูู ุงูุชุญุณููุงุช ุงููุตููุฉ ูุญู ุจุนุถ ุงููุดููุงุช ุงูุชู ูุงุฌููุงูุง ูู ุงููุงุถู. </blockquote><br><h3 id="rabochiy-process-razrabotki-chartov" style=";text-align:right;direction:rtl">  ุชุทููุฑ ุงูุฑุณู ุงูุจูุงูู ุณูุฑ ุงูุนูู </h3><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุชุทุจููุงุช ุ ูุณุชุฎุฏู ุงูุชูุฑุน ุ ููุฑุฑูุง ุชุทุจูู ููุณ ุงูููุฌ ุนูู ุงูุฑุณูู ุงูุจูุงููุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ูุชู ุงุณุชุฎุฏุงู ูุฑุน ุงูุชุทููุฑ ูุฅูุดุงุก ูุฎุทุทุงุช ุณูุชู ุงุฎุชุจุงุฑูุง ุนูู ูุฌููุนุงุช ุงูุชุทููุฑ. </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ููู ุทูุจ ุงูุชุฌููุน ุฅูู <strong>ุงูุฑุฆูุณู</strong> ุ ูุชู ุฅูุฏุงุนู ูู ุงูุชุฏุฑูุฌ. </li><li style=";text-align:right;direction:rtl">  ุฃุฎูุฑูุง ุ ูููู ุจุฅูุดุงุก ุทูุจ ุชุฌููุน ูุฏูุน ุงูุชุบููุฑุงุช ุฅูู ูุฑุน <strong>prod</strong> ูุชุทุจูููุง ูู ุงูุฅูุชุงุฌ. </li></ul><br><p style=";text-align:right;direction:rtl">  ูู ุจูุฆุฉ ููุง ูุณุชูุฏุนูุง ุงูุฎุงุต ุงูุฐู ูุฎุฒู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฎุทุทุงุชูุง</a> ุ ููุญู ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Chartmuseum</a> ูุน ูุงุฌูุงุช ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููููุฏุฉ ููุบุงูุฉ.  ูุจุงูุชุงูู ุ ูุฅููุง ูุถูู ุงูุนุฒูุฉ ุงูุตุงุฑูุฉ ุจูู ุงูุจูุฆุงุช ูุงูุชุญูู ูู ุงูุฑุณูู ุงูุจูุงููุฉ ูู ุธุฑูู ุญููููุฉ ูุจู ุงุณุชุฎุฏุงููุง ูู ุงูุฅูุชุงุฌ. </p><br><p style=";text-align:right;direction:rtl"> <a href=""><img src="https://habrastorage.org/webt/rz/vt/uk/rzvtuk6q7b_rkeaxnyujzhmfjog.png"></a> </p><br><p style=";text-align:right;direction:rtl">  <em>ูุณุชูุฏุนุงุช ุงูุชุฎุทูุท ูู ุจูุฆุงุช ูุฎุชููุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุนูุฏูุง ูุฑุณู ุงููุทูุฑูู ูุฑุน dev ุ ูุชู ุฅุฑุณุงู ูุณุฎุฉ ูู ูุฎุทุทูู ุชููุงุฆููุง ุฅูู dev Chartmuseum.  ูุจุงูุชุงูู ุ ูุณุชุฎุฏู ุฌููุน ุงููุทูุฑูู ููุณ ูุณุชูุฏุน ุงูุชุฎุฒูู ุ ูุชุญุชุงุฌ ุฅูู ุงูุฅุดุงุฑุฉ ุจุนูุงูุฉ ุฅูู ุฅุตุฏุงุฑ ุงููุฎุทุท ุงูุฎุงุต ุจู ุญุชู ูุง ุชุณุชุฎุฏู ุชุบููุฑุงุช ุดุฎุต ุขุฎุฑ ุนู ุทุฑูู ุงูุฎุทุฃ. </p><br><p style=";text-align:right;direction:rtl">  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุจุฑูุงูุฌ Python ุงูุตุบูุฑ ุงูุฎุงุต ุจูุง ุจูุญุต ูุงุฆูุงุช Kubernetes ููุงุจู ููุงุตูุงุช Kubernetes OpenAPI ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kubeval</a> ูุจู ูุดุฑูุง ุนูู Chartmusem. </p><br><h3 id="obschee-opisanie-rabochego-processa-razrabotki-charta" style=";text-align:right;direction:rtl">  ุณูุฑ ุงูุนูู ูู ุชุทููุฑ ุงููุฎุทุท ุงูุนุงู </h3><br><p style=";text-align:right;direction:rtl"> <a href=""><img src="https://habrastorage.org/webt/yd/cw/qw/ydcwqw-vqfitu5bj8ky4nh7xxea.png"></a> </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ูููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุท ุฃูุงุจูุจ</a> ูููุง ูููุงุตูุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">gazr.io</a> ููุฑุงูุจุฉ ุงูุฌูุฏุฉ (ุงููุจุฑ ุ ุงุฎุชุจุงุฑ ูุญุฏุฉ). </li><li style=";text-align:right;direction:rtl">  ุฅุฑุณุงู ุตูุฑุฉ ุนุงูู ูููุงุก ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช Python ุงูุชู ุชูุดุฑ ุชุทุจููุงุชูุง. </li><li style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏ ุงูุจูุฆุฉ ุจุงุณู ุงููุฑุน. </li><li style=";text-align:right;direction:rtl">  ุชุญูู yaml Kubernetes ุงููููุงุช ูุน Kubeval. </li><li style=";text-align:right;direction:rtl">  ูู ุชููุงุฆููุง ุจุฒูุงุฏุฉ ุฅุตุฏุงุฑ ุงููุฎุทุท ูุงููุฎุทุทุงุช ุงูุฃุตู (ุงููุฎุทุทุงุช ุงูุชู ุชุนุชูุฏ ุนูู ุงููุฎุทุท ุงูุฌุงุฑู ุชุบููุฑู). </li><li style=";text-align:right;direction:rtl">  ุชูุฏูู ูุฎุทุท ุฅูู Chartmuseum ูุทุงุจู ุจูุฆุชู </li></ol><br><h2 id="upravlenie-razlichiyami-v-klasterah" style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุงููุฑู ุงูุนูููุฏูุฉ </h2><br><h3 id="federaciya-klasterov" style=";text-align:right;direction:rtl">  ุงุชุญุงุฏ ุงููุชูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุงู ููุงู ููุช ุงุณุชุฎุฏููุง ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kubernetes Cluster Federation</a> ุ ุญูุซ ููููู ุฅุนูุงู ูุงุฆูุงุช Kubernetes ูู ููุทุฉ ููุงูุฉ API ูุงุญุฏุฉ.  ูููู ูุงูุช ููุงู ูุดุงูู.  ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูููู ุฅูุดุงุก ุจุนุถ ูุงุฆูุงุช Kubernetes ุนูุฏ ููุทุฉ ููุงูุฉ ุงูุงุชุญุงุฏ ุ ูุฐูู ูุงู ูู ุงูุตุนุจ ุงูุญูุงุธ ุนูู ุงููุงุฆูุงุช ุงููุฏูุฌุฉ ูุงููุงุฆูุงุช ุงูุฃุฎุฑู ูููุฌููุนุงุช ุงููุฑุฏูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ุงููุดููุฉ ุ ุจุฏุฃูุง ูู ุฅุฏุงุฑุฉ ุงููุฌููุนุงุช ุจุดูู ูุณุชูู ุ ุงูุฃูุฑ ุงูุฐู ุณููู ุงูุนูููุฉ ุฅูู ุญุฏ ูุจูุฑ (ุงุณุชุฎุฏููุง ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงูุงุชุญุงุฏ ุ ููู ุงูุซุงููุฉ ุ ูููู ุฃู ูุชุบูุฑ ุดูุก). </p><br><h3 id="georaspredelennaya-platforma" style=";text-align:right;direction:rtl">  ููุตุฉ ุชูุฒูุน ุงูุฌุบุฑุงููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุชู ุชูุฒูุน ููุตุชูุง ูู 6 ููุงุทู - 3 ูุญูููุง ู 3 ูู ุงูุณุญุงุจุฉ. </p><br><p style=";text-align:right;direction:rtl"> <a href=""><img src="https://habrastorage.org/webt/jq/c1/mr/jqc1mru36g5byams4wddzducauw.png"></a> <br>  <em>ุชูุฒูุน ุงูููุฒุนุฉ</em> </p><br><h3 id="globalnye-znacheniya-helm" style=";text-align:right;direction:rtl">  ููู ูููู ุงูุนุงูููุฉ </h3><br><p style=";text-align:right;direction:rtl">  4 ููู ูููู ุงูุนุงูููุฉ ุชุณูุญ ูู ุจุชุญุฏูุฏ ุงูุงุฎุชูุงูุงุช ุจูู ุงููุฌููุนุงุช.  ูุฌููุน ูุฎุทุทุงุชูุง ุ ููุงู ุญุฏ ุฃุฏูู ูู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ. </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">global: cloud: True env: staging region: us-central1 clusterName: staging-us-central1</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ุงูููู ุงูุนุงูููุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุณุงุนุฏ ูุฐู ุงูููู ูู ุชุญุฏูุฏ ุณูุงู ุชุทุจููุงุชูุง ูุชุณุชุฎุฏู ูู ููุงู ูุฎุชููุฉ: ุงููุฑุงูุจุฉ ุ ุงูุชุชุจุน ุ ุงูุชุณุฌูู ุ ุฅุฌุฑุงุก ููุงููุงุช ุฎุงุฑุฌูุฉ ุ ุงูุชุญุฌูู ุ ุฅูุฎ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  "ุณุญุงุจุฉ": ูุฏููุง ููุตุฉ ูุฎุชูุทุฉ Kubernetes.  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ูุดุฑ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุงูุฎุงุตุฉ ุจูุง ูู ููุงุทู GCP ููู ูุฑุงูุฒ ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจูุง. </li><li style=";text-align:right;direction:rtl">  "Env": ูุฏ ุชุฎุชูู ุจุนุถ ุงูููู ููุจูุฆุงุช ุบูุฑ ุงูุนุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุนุฑููุงุช ุงูููุงุฑุฏ ูุชููููุงุช autoscale. </li><li style=";text-align:right;direction:rtl">  "ุงูููุทูุฉ": ุชุณุงุนุฏ ูุฐู ุงููุนูููุงุช ูู ุชุญุฏูุฏ ูููุน ุงููุชูุฉ ููููู ุงุณุชุฎุฏุงููุง ูุชุญุฏูุฏ ุฃูุฑุจ ููุงุท ุงูููุงูุฉ ููุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ. </li><li style=";text-align:right;direction:rtl">  "ClusterName": ุฅุฐุง ูุนูุฏูุง ูุฑูุฏ ุชุญุฏูุฏ ูููุฉ ุงููุชูุฉ ุงููุฑุฏูุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุง ูุซุงู ููููุณ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{{/* Returns Horizontal Pod Autoscaler replicas for GraphQL*/}} {{- define "graphql.hpaReplicas" -}} {{- if eq .Values.global.env "prod" }} {{- if eq .Values.global.region "europe-west1" }} minReplicas: 40 {{- else }} minReplicas: 150 {{- end }} maxReplicas: 1400 {{- else }} minReplicas: 4 maxReplicas: 20 {{- end }} {{- end -}}</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ูุซุงู ูููู ุงููุงูุจ</em> </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุนุฑูู ูุฐุง ุงูููุทู ูู ูุงูุจ ุงููุณุงุนุฏ ุญุชู ูุง ุชุณุฏ Kubernetes YAML. </p><br><h3 id="obyavlenie-prilozheniya" style=";text-align:right;direction:rtl">  ุฅุนูุงู ุงูุชุทุจูู </h3><br><p style=";text-align:right;direction:rtl">  ุชุนุชูุฏ ุฃุฏูุงุช ุงููุดุฑ ุงูุฎุงุตุฉ ุจูุง ุนูู ุงูุนุฏูุฏ ูู ูููุงุช YAML.  ูููุง ููู ูุซุงู ุนู ููููุฉ ุฅุนูุงููุง ุนู ุงูุฎุฏูุฉ ูุทูุจูููุฌูุง ุชุญุฌูููุง (ุนุฏุฏ ุงููุณุฎ ุงููุชูุงุซูุฉ) ูู ูุธุงู ุงููุฌููุนุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">releases: - foo.world foo.world: # Release name services: # List of dailymotion's apps/projects foobar: chart_name: foo-foobar repo: git@github.com:dailymotion/foobar contexts: prod-europe-west1: deployments: - name: foo-bar-baz replicas: 18 - name: another-deployment replicas: 3</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ุชุนุฑูู ุงูุฎุฏูุฉ</em> </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุฑุณู ุชุฎุทูุทู ูุฌููุน ุงูุฎุทูุงุช ุงูุชู ุชุญุฏุฏ ุณูุฑ ุนูู ุงููุดุฑ ูุฏููุง.  ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ุชูุดุฑ ุงูุชุทุจูู ุนูู ูุฌููุนุงุช ุนูู ูุชุนุฏุฏุฉ ูู ููุช ูุงุญุฏ. </p><br><p style=";text-align:right;direction:rtl"> <a href=""><img src="https://habrastorage.org/webt/iu/qh/xk/iuqhxki4nfqoi0mus258j0feylu.png"></a> <br>  <em>ุฎุทูุงุช ูุดุฑ ุฌููููุฒ</em> </p><br><h3 id="a-sekrety" style=";text-align:right;direction:rtl">  ูุงุฐุง ุนู ุงูุฃุณุฑุงุฑุ </h3><br><p style=";text-align:right;direction:rtl">  ูููุง ูุชุนูู ุจุงูุฃูุงู ุ ูุฅููุง ูุชุชุจุน ุฌููุน ุงูุฃุณุฑุงุฑ ูู ุฃูุงูู ูุฎุชููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฎุฒููุง</a> ูู ูุณุชูุฏุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Vault</a> ุงููุฑูุฏ ูู ุจุงุฑูุณ. </p><br><p style=";text-align:right;direction:rtl">  ุชููู ุฃุฏูุงุช ุงููุดุฑ ุงูุฎุงุตุฉ ุจูุง ุจุงุณุชุฎุฑุงุฌ ููู ุงูุฃุณุฑุงุฑ ูู Vault ุ ูุนูุฏูุง ูุญูู ููุช ุงููุดุฑ ุ ูู ุจุฅุฏุฑุงุฌูุง ูู Helm. </p><br><p style=";text-align:right;direction:rtl">  ููููุงู ุจุฐูู ุ ุญุฏุฏูุง ุงูุชุนููู ุจูู ุงูุฃุณุฑุงุฑ ูู Vault ูุงูุฃุณุฑุงุฑ ุงูุชู ุชุญุชุงุฌ ุฅูููุง ุชุทุจููุงุชูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">secrets: - secret_id: "stack1-app1-password" contexts: - name: "default" vaultPath: "/kv/dev/stack1/app1/test" vaultKey: "password" - name: "cluster1" vaultPath: "/kv/dev/stack1/app1/test" vaultKey: "password"</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุฏ ุญุฏุฏูุง ุงูููุงุนุฏ ุงูุนุงูุฉ ุงูุชู ูุฌุจ ุงุชุจุงุนูุง ุนูุฏ ูุชุงุจุฉ ุงูุฃุณุฑุงุฑ ุฅูู Vault. </li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ุงูุณุฑ ูุดูุฑ <strong>ุฅูู ุณูุงู ุฃู ูุฌููุนุฉ ูุญุฏุฏุฉ</strong> ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ ุฅุฏุฎุงู ูุญุฏุฏ.  (ููุง ุ ูุญุชูู ุณูุงู cluster1 ุนูู ูููุชู ุงูุฎุงุตุฉ ุจูููุฉ ุงููุฑูุฑ ุงูุณุฑูุฉ ุงูููุฏุณ-app1). </li><li style=";text-align:right;direction:rtl">  ุฎูุงู ุฐูู ุ ูุชู ุงุณุชุฎุฏุงู ุงููููุฉ <strong>ุงูุงูุชุฑุงุถูุฉ</strong> . </li><li style=";text-align:right;direction:rtl">  ููู ุนูุตุฑ ูู ูุฐู ุงููุงุฆูุฉ ุ ูุชู ุฅุฏุฑุงุฌ ุฒูุฌ ูููุฉ ุงูููุชุงุญ ูู <strong>ุณุฑ Kubernetes</strong> .  ูุฐูู ุ ูุฅู ุงูููุท ุงูุณุฑู ูู ูุฎุทุทุงุชูุง ุจุณูุท ููุบุงูุฉ. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: v1 data: {{- range $key,$value := .Values.secrets }} {{ $key }}: {{ $value | b64enc | quote }} {{ end }} kind: Secret metadata: name: "{{ .Chart.Name }}" labels: chartVersion: "{{ .Chart.Version }}" tillerVersion: "{{ .Capabilities.TillerVersion.SemVer }}" type: Opaque</code> </pre> <br><h2 id="problemy-i-ogranicheniya" style=";text-align:right;direction:rtl">  ุงููุดุงูู ูุงููููุฏ </h2><br><h3 id="rabota-s-neskolkimi-repozitoriyami" style=";text-align:right;direction:rtl">  ุงูุนูู ูุน ูุณุชูุฏุนุงุช ูุชุนุฏุฏุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุญู ุงูุขู ูุดุงุฑู ูู ุชุทููุฑ ุงููุฎุทุทุงุช ูุงูุชุทุจููุงุช.  ููุฐุง ูุนูู ุฃู ุงููุทูุฑูู ูุฌุจ ุฃู ูุนูููุง ูู ูุณุชูุฏุนูู git: ุฃุญุฏููุง ููุชุทุจูู ุ ูุงูุซุงูู ูุชุญุฏูุฏ ูุดุฑู ูู Kubernetes.  2 ูู ูุณุชูุฏุนุงุช git ุนุจุงุฑุฉ ุนู ุณูุฑ ุนูู ุ ููู ุงูุณูู ุนูู ุงููุจุชุฏุฆ ุฃู ูุชุดูุด. </p><br><h3 id="upravlyat-obobschennymi-chartami-hlopotno" style=";text-align:right;direction:rtl">  ุฅุฏุงุฑุฉ ุงููุฎุทุทุงุช ุงูููุฎุตุฉ ุฃูุฑ ูุฒุนุฌ </h3><br><p style=";text-align:right;direction:rtl">  ููุง ูููุง ุณุงุจููุง ุ ุชุนุชุจุฑ ุงููุฎุทุทุงุช ุงูุนุงูุฉ ููุงุฆูุฉ ุฌุฏูุง ูุชุญุฏูุฏ ุงูุชุจุนูุงุช ููุดุฑ ุงูุชุทุจููุงุช ุงููุชุนุฏุฏุฉ ุจุณุฑุนุฉ.  ููููุง ูุณุชุฎุฏู <code>--reuse-values</code> ูุชุฌูุจ ุชูุฑูุฑ ูู ุงูููู ูู ูู ูุฑุฉ ููุดุฑ ูููุง ุงูุชุทุจูู ุงููุชุถูู ูู ูุฐุง ุงููุฎุทุท ุงููุนูู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุณูุฑ ุนูู ุงูุชุณููู ุงููุณุชูุฑ ุ ูุฏููุง ููุท ูููุชุงู ุชุชุบูุฑุงู ุจุงูุชุธุงู: ุนุฏุฏ ุงููุณุฎ ุงููุชูุงุซูุฉ ูุนูุงูุฉ ุงูุตูุฑุฉ (ุงูุฅุตุฏุงุฑ).  ูุชู ุชุบููุฑ ุงูููู ุงูุฃุฎุฑู ุงูุฃูุซุฑ ุซุจุงุชูุง ูุฏูููุง ุ ููุฐุง ูุนูุฏ ุฅูู ุญุฏ ูุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุฃู ูุคุฏู ุฎุทุฃ ูู ูุดุฑ ูุฎุทุท ุนุงู ุฅูู ุฅุฎูุงูุงุช ุฎุทูุฑุฉ ุ ููุง ุฑุฃููุง ูู ุชุฌุฑุจุชูุง ุงูุฎุงุตุฉ. </p><br><h3 id="obnovlenie-neskolkih-faylov-konfiguracii" style=";text-align:right;direction:rtl">  ุชุญุฏูุซ ูููุงุช ุงูุชูููู ูุชุนุฏุฏุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุถูู ูุทูุฑ ุชุทุจูููุง ุฌุฏูุฏูุง ุ ูุชุนูู ุนููู ุชุบููุฑ ุนุฏุฉ ูููุงุช: ุงูุฅุนูุงู ุนู ุงูุชุทุจูู ุ ููุงุฆูุฉ ูู ุงูุฃุณุฑุงุฑ ุ ูุฅุถุงูุฉ ุงูุชุทุจูู ุงุนุชูุงุฏูุง ุนูู ูุง ุฅุฐุง ูุงู ููุฌูุฏูุง ุนูู ุงููุฎุทุท ุงููุนูู. </p><br><h3 id="razresheniya-jenkins-slishkom-rasshireny-v-vault" style=";text-align:right;direction:rtl">  ุฃุฐููุงุช Jenkins ููุชุฏุฉ ุฌุฏูุง ูู Vault </h3><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูุฏููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AppRole</a> ูุงุญุฏ ููุฑุฃ ูู ุงูุฃุณุฑุงุฑ ูู Vault. </p><br><h3 id="process-otkata-ne-avtomatizirovan" style=";text-align:right;direction:rtl">  ุนูููุฉ ุงูุงุณุชุนุงุฏุฉ ููุณุช ุขููุฉ </h3><br><p style=";text-align:right;direction:rtl">  ููุชุฑุงุฌุน ุ ุชุญุชุงุฌ ุฅูู ุชุดุบูู ุงูุฃูุฑ ุนูู ุนุฏุฉ ูุฌููุนุงุช ุ ููุฐุง ูุญููู ุจุงูุฃุฎุทุงุก.  ูููู ุจุชูููุฐ ูุฐู ุงูุนูููุฉ ูุฏูููุง ููุชุฃูุฏ ูู ุชุญุฏูุฏ ูุนุฑู ุงูุฅุตุฏุงุฑ ุงูุตุญูุญ. </p><br><h2 id="my-dvizhemsya-v-storonu-gitops" style=";text-align:right;direction:rtl">  ูุญู ูุชุฌู ูุญู GitOps </h2><br><h3 id="nasha-cel" style=";text-align:right;direction:rtl">  ูุฏููุง </h3><br><p style=";text-align:right;direction:rtl">  ูุฑูุฏ ุฃู ูุนูุฏ ุงููุฎุทุท ุฅูู ูุณุชูุฏุน ุงูุชุทุจูู ุงูุฐู ููุดุฑู. </p><br><p style=";text-align:right;direction:rtl">  ุณูุฑ ุงูุนูู ุณูููู ูู ููุณู ูู ุฃุฌู ุงูุชูููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุชู ุฅุฑุณุงู ูุฑุน ุฅูู ุงููุนุงูุฌ ุ ุณูุจุฏุฃ ุงููุดุฑ ุชููุงุฆููุง.  ุณูููู ุงูุงุฎุชูุงู ุงูุฑุฆูุณู ุจูู ูุฐุง ุงูููุฌ ูุณูุฑ ุงูุนูู ุงูุญุงูู ูู ุฃู <strong>ูู ุดูุก ุณูุชู ุฅุฏุงุฑุชู ูู ุจูุงุจุฉ</strong> (ุงูุชุทุจูู ููุณู ูุทุฑููุฉ ูุดุฑู ูู Kubernetes). </p><br><p style=";text-align:right;direction:rtl">  ููุงู ุงูุนุฏูุฏ ูู ุงููุฒุงูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุฃูุซุฑ ูุถูุญุง</strong> ุจูุซูุฑ ูููุทูุฑ.  ูู ุงูุฃุณูู ุชุนูู ููููุฉ ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู ุงููุฎุทุท ุงููุญูู. </li><li style=";text-align:right;direction:rtl">  ูููู ุชุญุฏูุฏ ุชุนุฑูู ูุดุฑ ุงูุฎุฏูุฉ ูู <strong>ููุงู ุฑูุฒ</strong> ุงูุฎุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุฅุฏุงุฑุฉ ุฅุฒุงูุฉ ุงููุฎุทุทุงุช ุงููุนููุฉ</strong> .  ุณูููู ููุฎุฏูุฉ ุฅุตุฏุงุฑ ูููู ุงูุฎุงุต ุจูุง.  ุณูุชูุญ ูู ุฐูู ุฅุฏุงุฑุฉ ุฏูุฑุฉ ุญูุงุฉ ุงูุชุทุจูู (ุงูุชุฑุงุฌุน ุ ุงูุชุฑููุฉ) ุนูู ุฃุตุบุฑ ูุณุชูู ุ ุญุชู ูุง ุชุคุซุฑ ุนูู ุงูุฎุฏูุงุช ุงูุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  <strong>ููุงุฆุฏ git</strong> ูุฅุฏุงุฑุฉ ุงูุฑุณูู ุงูุจูุงููุฉ ูู: ุงูุชุฑุงุฌุน ุนู ุงูุชุบููุฑุงุช ุ ููุฑุงุฌุนุฉ ุงูุญุณุงุจุงุช ุ ููุง ุฅูู ุฐูู. ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุงูุชุฑุงุฌุน ุนู ุงูุชุบููุฑ ูู ุงูุฑุณู ุงูุจูุงูู ุ ูููููู ุงูููุงู ุจุฐูู ุจุงุณุชุฎุฏุงู git.  ูุจุฏุฃ ุงููุดุฑ ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  ูุฏ ุชููุฑ ูู ุชุญุณูู ุณูุฑ ุนููู ูู ุงูุชุทููุฑ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุซู <strong>Skaffold</strong> ุ ูุงูุชู ูููู ูููุทูุฑูู ูู ุฎูุงููุง ุงุฎุชุจุงุฑ ุงูุชุบููุฑุงุช ูู ุณูุงู ูุดุจู ุงูุฅูุชุงุฌ. </li></ul><br><h3 id="dvuhetapnaya-migraciya" style=";text-align:right;direction:rtl">  ุงููุฌุฑุฉ ุนูู ูุฑุญูุชูู </h3><br><p style=";text-align:right;direction:rtl">  ูุณุชุฎุฏู ูุทูุฑููุง ุณูุฑ ุงูุนูู ูุฐุง ููุฐ ุนุงููู ุ ูุฐูู ูุญุชุงุฌ ุฅูู ุชุฑุญูู ุบูุฑ ูุคูู.  ูุฐูู ุ ูุฑุฑูุง ุฅุถุงูุฉ ูุฑุญูุฉ ูุณูุทุฉ ูู ุงูุทุฑูู ุฅูู ุงููุฏู. <br>  ุงูุฎุทูุฉ ุงูุฃููู ุจุณูุทุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญุงูุธ ุนูู ุจููุฉ ููุงุซูุฉ ูุชูููู ูุดุฑ ุงูุชุทุจูู ุ ูููู ูู ููุณ ุงููุงุฆู ุงููุณูู DailymotionRelease. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: "v1" kind: "DailymotionRelease" metadata: name: "app1.ns1" environment: "dev" branch: "mybranch" spec: slack_channel: "#admin" chart_name: "app1" scaling: - context: "dev-us-central1-0" replicas: - name: "hermes" count: 2 - context: "dev-europe-west1-0" replicas: - name: "app1-deploy" count: 2 secrets: - secret_id: "app1" contexts: - name: "default" vaultPath: "/kv/dev/ns1/app1/test" vaultKey: "password" - name: "dev-europe-west1-0" vaultPath: "/kv/dev/ns1/app1/test" vaultKey: "password"</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุตุฏุงุฑ ูุงุญุฏ ููู ุชุทุจูู (ุจุฏูู ูุฎุทุทุงุช ูุนููุฉ). </li><li style=";text-align:right;direction:rtl">  ุงูุฑุณูู ุงูุจูุงููุฉ ูู ูุณุชูุฏุน ุชุทุจูู ุจูุงุจุฉ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุชุญุฏุซูุง ูุน ุฌููุน ุงููุทูุฑูู ุ ูุฐูู ุจุฏุฃุช ุนูููุฉ ุงูุชุฑุญูู ุจุงููุนู.  ูุง ูุฒุงู ูุชู ุงูุชุญูู ูู ุงููุฑุญูุฉ ุงูุฃููู ุจุงุณุชุฎุฏุงู ููุตุฉ CI.  ูุฑูุจุงู ุณุฃูุชุจ ููุดูุฑูุง ุขุฎุฑ ุนู ุงููุฑุญูุฉ ุงูุซุงููุฉ: ููู ุชุญูููุง ุฅูู ุณูุฑ ุนูู GitOps ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Flux</a> .  ุณูู ุฃุฎุจุฑูู ููู ุฃูุดุฃูุง ุฌููุนูุง ูุงูุตุนูุจุงุช ุงูุชู ูุงุฌููุงูุง (ุนุฏุฉ ูุณุชูุฏุนุงุช ุ ุฃุณุฑุงุฑ ุ ุฅูุฎ).  ุงุชุจุน ุงูุฃุฎุจุงุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุ ุญุงูููุง ูุตู ุชูุฏููุง โโูู ุณูุฑ ุนูู ูุดุฑ ุงูุชุทุจูู ุฎูุงู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ููุง ุฃุฏู ุฅูู ุฃููุงุฑ ุญูู ุทุฑููุฉ GitOps.  ูู ูุตู ุฅูู ุงููุฏู ูุณูุจูุบ ุนู ุงููุชุงุฆุฌ ุ ููููุง ุงูุขู ููุชูุนูู ุจุฃููุง ูุนููุง ุฐูู ุจุดูู ุตุญูุญ ุนูุฏูุง ูุฑุฑูุง ุชุจุณูุท ูู ุดูุก ูุฌุนูู ุฃูุฑุจ ุฅูู ุนุงุฏุงุช ุงููุทูุฑูู. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar458934/">https://habr.com/ru/post/ar458934/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar458924/index.html">ุงูุญูุงุฏุซ ุชุณุงุนุฏู ุนูู ุงูุชุนูู</a></li>
<li><a href="../ar458926/index.html">ุงููุฃุณุงุฉ ูุง ุชุฃุชู ูุญุฏูุง</a></li>
<li><a href="../ar458928/index.html">XLNet ููุงุจู ุจูุฑุช</a></li>
<li><a href="../ar458930/index.html">ููู ูุตู ุทูุงุจ ุจูุฑู ุฅูู ููุงุฆูุงุช ุจุทููุฉ ุชุญููู ุงูุจูุงูุงุช ุงูุฏูููุฉ 2019 ููุฃุณ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar458932/index.html">ููุชุง - ุฃู ููู ููููู ูุนุฑูุฉ ูู ุดูุก</a></li>
<li><a href="../ar458936/index.html">"ูู ุงูุณูู ุงูุฅุฌุงุจุฉ ุจุฏูุงู ูู ุงูุตูุช" - ููุงุจูุฉ ูุจูุฑุฉ ูุน ูุงูุฏ ุฐุงูุฑุฉ ุงููุนุงููุงุช ุ ููุฑูุณ ููุฑููุดู</a></li>
<li><a href="../ar458938/index.html">ุชู ุชุฌููุน C ++ 20 ุ ูุชู ุจุฏุก ุชุดุบูู C ++ 23. ูุชุงุฆุฌ ุงูุงุฌุชูุงุน ูู ููููููุง</a></li>
<li><a href="../ar458940/index.html">ููู ููุฐูุง ุงุฎุชุจุงุฑ ุฑุดููุฉ</a></li>
<li><a href="../ar458944/index.html">ุชูุธูู ููุธู ูุจุฏุฃ ุจู ... ุงุญุชุฑุงู. ุณูููู ุจููุงุจูุฉ ุงููููุฏุณ</a></li>
<li><a href="../ar458948/index.html">Habr Weekly # 8 / Yandex Sorcerers ุ ูุชุงุจ ุนู ุฃููุฑ ุจูุงุฏ ูุงุฑุณ ุ ููุชููุจ ุถุฏ ุงููุชุณูููู ุ ููุฒุฑ "ููุจ" ุงูุจูุชุงุบูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>