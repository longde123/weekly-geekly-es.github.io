<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛶 👨🏾‍🌾 📝 Bagaimana melakukan pencarian pengguna di GitHub tanpa React + RxJS 6 + Komposisi Ulang 🎒 👩🏽‍🤝‍👨🏾 📤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini adalah tanggapan terhadap artikel terjemahan “Cara mencari pengguna di GitHub menggunakan React + RxJS 6 + Komposisi Ulang” , yang baru sa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana melakukan pencarian pengguna di GitHub tanpa React + RxJS 6 + Komposisi Ulang</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419653/">  Artikel ini adalah tanggapan terhadap artikel terjemahan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">“Cara mencari pengguna di GitHub menggunakan React + RxJS 6 + Komposisi Ulang”</a> , yang baru saja kemarin mengajarkan kita bagaimana menggunakan React, RxJS, dan Komposisi Ulang bersama-sama.  Baiklah, saya usulkan sekarang untuk melihat bagaimana ini dapat diimplementasikan tanpa alat-alat ini. <br><br><img src="https://habrastorage.org/webt/o_/ig/ob/o_igobe416ik1nqyqp0pa8m0dbo.png"><br><a name="habracut"></a><br><br><div class="spoiler">  <b class="spoiler_title">Penafian</b> <div class="spoiler_text">  <i>Tampaknya banyak orang bahwa artikel ini mengandung elemen trolling, ditulis dengan tergesa-gesa dan pada penggemar ... Jadi, ini benar.</i> <br></div></div><br><br>  Karena ini adalah artikel kembali, saya memutuskan untuk membangunnya dalam format langkah-demi-langkah yang sama seperti aslinya.  Selain itu, artikel ini juga bertujuan untuk membandingkan implementasi asli dengan yang dijelaskan di sini.  Oleh karena itu, berisi banyak referensi dan kutipan dari aslinya.  Mari kita mulai. <br><br><blockquote>  Artikel ini ditujukan untuk orang yang berpengalaman dengan Bereaksi dan RxJS.  Saya hanya berbagi templat yang menurut saya berguna untuk membuat UI seperti itu. </blockquote><br>  Artikel ini ditujukan untuk orang yang berpengalaman dengan Javascript (ES6), HTML, dan CSS.  Selain itu, dalam implementasi saya, saya akan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kerangka</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SvelteJS</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"menghilang"</a> , tetapi sangat sederhana sehingga Anda tidak perlu memiliki pengalaman menggunakannya untuk memahami kode. <br><br>  Kami melakukan hal yang sama: <br><br><img src="https://habrastorage.org/webt/td/kk/jm/tdkkjm_g27kgq-l5h881veo9i5q.gif"><br><br><blockquote>  Tanpa kelas, bekerja dengan siklus hidup atau setState. </blockquote><br>  Ya, tanpa kelas, bekerja dengan siklus hidup atau setState.  Dan juga tanpa React, ReactDOM, RxJS, Recompose.  Dan selain itu, tanpa componentFromStream, buatEventHandler, kombinasikanterakhir, peta, mulaiDengan, setObservableConfig, BehaviorSubject, gabung, dari, catchError, delay, filter, map, pluck, switchMap, tap, {omong kosong lain} ... Singkatnya, Anda mengerti. <br><br><h3>  Persiapan </h3><br>  Yang Anda butuhkan adalah dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh REPL</a> saya di situs web SvelteJS.  Anda dapat mengendus di sana, baik secara lokal, mengunduh sumber dari sana (tombol dengan ikon karakteristik). <br><br>  Pertama, buat file App.html sederhana, yang akan menjadi komponen root dari widget kami, dengan konten berikut: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GitHub username"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">input</span></span></span><span class="css"> { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">20px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">1px</span></span></span><span class="css"> solid black; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">border-radius</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">3px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin-bottom</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">10px</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">10px</span></span></span><span class="css">; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  Selanjutnya, saya menggunakan gaya dari artikel asli.  Harap perhatikan bahwa saat ini mereka berada dalam ruang lingkup, mis.  hanya berlaku untuk komponen ini dan Anda dapat menggunakan nama tag dengan aman jika relevan. <br><br>  Saya akan menulis gaya langsung di komponen, karena SFC, dan juga karena REPL tidak mendukung ekspor CSS / JS / HTML ke file yang berbeda, meskipun ini mudah dilakukan dengan menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">preprocessors Svelte</a> . <br><br><h3>  <s>Komposisikan ulang</s> </h3><br>  Sedang beristirahat ... <br><br><h3>  <s>Komponen sebaris</s> </h3><br>  ... berjemur ... <br><br><h3>  <s>Konfigurasi</s> </h3><br>  ... minum kopi ... <br><br><h3>  <s>Komposisi ulang + RxJS</s> </h3><br>  ... sementara yang lain ... <br><br><h3>  <s>Peta</s> </h3><br>  ... bekerja. <br><br><h3>  Tambahkan pengendali acara </h3><br>  Bukan benar-benar seorang pawang tentu saja, hanya yang mengikat: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">username</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GitHub username"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Ya, kami mendefinisikan nilai nama pengguna default: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { data() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">username</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript"> }; } }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Sekarang, jika Anda mulai mengetik sesuatu di bidang input, nilai nama pengguna akan berubah. <br><img src="https://habrastorage.org/webt/3h/xj/ew/3hxjewq7xkgqe_uhg5dqdbvt4wy.gif"><br><br><h3>  <s>Masalah telur dan ayam</s> </h3><br>  Tidak ada ayam, tidak ada telur, tidak ada masalah dengan hewan lain, kami tidak menggunakan RxJS. <br><br><h3>  <s>Merajut bersama</s> </h3><br>  Semuanya sudah reaktif dan terkoneksi.  Jadi kita minum kopi. <br><br><h3>  Komponen Pengguna </h3><br><blockquote>  Komponen ini akan bertanggung jawab untuk menampilkan pengguna yang namanya akan kami transfer kepadanya.  Ini akan menerima nilai dari komponen App dan menerjemahkannya ke dalam permintaan AJAX. </blockquote><br>  "Wow wow wow, tenang saja" © <br><br>  Bersama kami, komponen ini akan menjadi bodoh dan hanya menampilkan kartu pengguna yang cantik sesuai dengan model yang diketahui sebelumnya.  Tidak masalah dari mana data dapat berasal dan / atau di tempat antarmuka mana kami ingin menunjukkan kartu ini. <br><br>  Komponen User.html akan terlihat seperti ini: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"github-card user-card"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header User"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"avatar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://github.com/{login}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{avatar_url}&amp;s=80"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{name}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>{name || login}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"status"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://github.com/{login}?tab=repositories"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>{public_repos}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Repos <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://gist.github.com/{login}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>{public_gists}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Gists <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://github.com/{login}/followers"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>{followers}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">strong</span></span></span><span class="hljs-tag">&gt;</span></span>Followers <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/*  */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br><h3>  <s>Jsx / css</s> </h3><br>  CSS baru saja ditambahkan ke komponen.  Alih-alih JSX, kami memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">HTMLx</a> tertanam di Svelte. <br><br><h3>  <s>Wadah</s> </h3><br>  Wadah adalah komponen induk untuk komponen Pengguna.  Dalam hal ini, itu adalah komponen dari App. <br><br><h3>  <s>debounceTime</s> </h3><br>  Input teks debug tidak masuk akal jika operasi hanya menimpa nilai dalam model data.  Jadi dalam pengikatan itu sendiri kita tidak membutuhkan ini. <br><br><h3>  <s>memetik</s> </h3><br><h3>  <s>filter</s> </h3><br><h3>  <s>peta</s> </h3><br><h3>  Terhubung </h3><br>  Mari kembali ke App.html dan mengimpor komponen Pengguna: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> User <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./User.html'</span></span>;</code> </pre><br><br><h3>  Permintaan data </h3><br><blockquote>  GitHub menyediakan API untuk mengambil informasi pengguna: </blockquote><br>  Untuk demonstrasi, kami hanya menulis file api.js kecil yang akan mengabstraksi penerimaan data dan mengekspor fungsi yang sesuai: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> axios <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'axios'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUserCard</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">username</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> axios.get(<span class="hljs-string"><span class="hljs-string">`https://api.github.com/users/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${username}</span></span></span><span class="hljs-string">`</span></span>) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">res</span></span></span><span class="hljs-function"> =&gt;</span></span> res.data); }</code> </pre><br><br>  Dan seperti itu, kami mengimpor fungsi ini ke App.html. <br><br>  Sekarang kita merumuskan masalah dalam bahasa yang lebih spesifik: kita perlu mengubah nilai lain ketika mengubah satu nilai dalam model data (nama pengguna).  Kami akan menyebutnya pengguna, masing-masing - data pengguna yang kami dapatkan dari API.  Reaktivitas dalam segala kejayaannya. <br><br>  Untuk melakukan ini, tulis properti Svelte yang dihitung menggunakan konstruksi berikut di App.html: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { getUserCard } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./api.js'</span></span></span><span class="javascript">; ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... computed: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">user</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">{ username }</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> username &amp;&amp; getUserCard(username) } }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Itu saja, sekarang ketika Anda mengubah nama pengguna, permintaan akan dikirim untuk menerima data pada nilai ini.  Namun, karena binder merespons setiap perubahan, yaitu input ke bidang teks, akan ada terlalu banyak permintaan dan kami akan dengan cepat melampaui semua batas yang tersedia. <br><br>  Dalam artikel asli, masalah ini diselesaikan oleh fungsi debounceTime yang dibangun ke dalam RxJS, yang mencegah kita terlalu sering meminta data.  Untuk implementasi kami, Anda dapat menggunakan solusi mandiri, seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">debounce-janji</a> atau solusi lain yang sesuai, karena ada banyak pilihan. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> debounce </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'debounce-promise'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> { getUserCard } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./api.js'</span></span></span><span class="javascript">; ... const getUser = debounce(getUserCard, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1000</span></span></span><span class="javascript">); ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... computed: { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">user</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">{ username }</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> username &amp;&amp; getUser(username) } }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Jadi, lib ini membuat versi debounce dari fungsi yang diteruskan ke sana, yang kemudian kita gunakan di properti yang dihitung. <br><br><h3>  <s>switchMap</s> </h3><br><h3>  ajax </h3><br><blockquote>  RxJS menyediakan implementasi ajax sendiri yang bekerja sangat baik dengan switchMap! </blockquote><br>  Karena kita tidak menggunakan RxJS dan terutama switchMap, kita bisa menggunakan pustaka apa saja untuk bekerja dengan ajax. <br><br>  Saya menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aksioma</a> karena nyaman bagi saya, tetapi Anda dapat menggunakan apa saja dan itu tidak mengubah esensi masalah ini. <br><br><h3>  Coba </h3><br>  Pertama, kita perlu mendaftarkan komponen Pengguna untuk menggunakannya sebagai tag templat, karena impor itu sendiri tidak menambahkan komponen ke konteks templat: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">import</span></span></span><span class="javascript"> User </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">from</span></span></span><span class="javascript"> </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'./User.html'</span></span></span><span class="javascript">; ... export </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">components</span></span></span><span class="javascript">: { User } ... }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Terlepas dari coretan yang kelihatannya berlebihan, ini memungkinkan, antara lain, untuk memberikan nama tag yang berbeda untuk instance dari komponen yang sama, membuat templat Anda lebih dapat dipahami secara semantik. <br><br>  Lebih lanjut, nilai pengguna bukanlah data itu sendiri, tetapi janji untuk data itu.  Karena kami adalah pekerja lepas dan tidak ingin melakukan pekerjaan apa pun, hanya minum kopi dengan kue. <br><br>  Untuk mentransfer data nyata ke komponen Pengguna, kami dapat menggunakan desain khusus untuk bekerja dengan janji: <br><br><pre> <code class="html hljs xml">{#await user} <span class="hljs-comment"><span class="hljs-comment">&lt;!--     --&gt;</span></span> {:then user} <span class="hljs-comment"><span class="hljs-comment">&lt;!--      .    . --&gt;</span></span> {#if user} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">User</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...user</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/if} {/await}</code> </pre><br>  Masuk akal untuk memeriksa keberadaan objek data sebelum meneruskannya ke komponen Pengguna.  Operator Spread di sini memungkinkan Anda untuk "membagi" suatu objek menjadi alat peraga yang terpisah saat membuat instance komponen Pengguna. <br><br><img src="https://habrastorage.org/webt/ml/1c/1c/ml1c1c5qwdhfpq4slz_38vjoym8.gif"><br><br>  Pekerjaan lebih pendek. <br><br><h3>  Menangani kesalahan </h3><br><blockquote>  Coba masukkan nama pengguna yang tidak ada. <br>  ... <br>  Aplikasi kami rusak. </blockquote><br>  Mungkinkah ya, tetapi milik kita pasti tidak))) Hanya tidak akan terjadi apa-apa, meskipun ini tidak terjadi. <br><br><h3>  catchError </h3><br>  Tambahkan blok tambahan untuk pemrosesan yang ditolak janji: <br><br><pre> <code class="html hljs xml">{#await user} {:then user} {#if user} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">User</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...user</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/if} {:catch error} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Error</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...error</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/await}</code> </pre><br><br><h3>  Kesalahan Komponen </h3><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span>Oops!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span>{response.status}: {response.data.message}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">b</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Please try searching again.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><blockquote>  Sekarang UI kami terlihat jauh lebih baik: </blockquote><br>  Dan jangan katakan, dan yang paling penting tidak ada upaya. <br><br><img src="https://habrastorage.org/webt/ix/2k/af/ix2kaf9saodoqtihwcajw_rb2s4.gif"><br><br><h3>  Memuat indikator </h3><br>  Singkatnya, bid'ah lebih lanjut mulai di sana, dengan semua jenis Subjek Perilaku dan lainnya menyukai mereka.  Kami hanya menambahkan indikator memuat dan kami tidak akan memerah susu gajah: <br><br><pre> <code class="html hljs xml">{#await user} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>Loading...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span> {:then user} {#if user} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">User</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...user</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/if} {:catch error} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Error</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...error</span></span></span><span class="hljs-tag">} /&gt;</span></span> {/await}</code> </pre><br><blockquote>  Hasil? </blockquote><br>  Dua komponen kecil tanpa logika (Pengguna dan Kesalahan) dan satu komponen kendali (Aplikasi), di mana logika bisnis yang paling rumit dijelaskan dalam satu baris - menciptakan properti yang dihitung.  Tidak ada menyikat benda yang dapat diamati dari kepala hingga ujung kaki dan menghubungkan +100500 alat yang tidak Anda butuhkan. <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Demo interaktif</a> <br><br>  Tulis kode sederhana dan jelas.  Tulis lebih sedikit kode, yang berarti lebih sedikit pekerjaan dan lebih banyak waktu dengan keluarga Anda.  Hidup! <br><br>  Semua kebahagiaan dan kesehatan! <br><br><blockquote>  Semua :) </blockquote><br><br><h4>  Fyi </h4><br>  Jika Anda sudah melihat contoh di REPL, maka Anda mungkin memperhatikan roti panggang dengan peringatan dari kiri bawah: <br><blockquote>  Dikompilasi, tetapi dengan 1 peringatan - periksa konsol untuk detailnya </blockquote><br>  Jika Anda tidak terlalu malas untuk membuka konsol, Anda akan melihat pesan ini: <br><blockquote>  Pemilih CSS yang tidak digunakan <br>  .user-card .Organization { <br>  posisi latar belakang: kanan atas; <br>  } <br></blockquote><br>  Svelte Static Analyzer memberi tahu kami bahwa beberapa gaya komponen tidak digunakan.  Selain itu, atas permintaan Anda atau perintah pengaturan kompiler default, gaya yang tidak digunakan akan dihapus dari bundel css terakhir tanpa partisipasi Anda. <br><br><h4>  P / s </h4><br>  Baca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel lain tentang Svelte</a> , serta lihat saluran telegram berbahasa Rusia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SvelteJS</a> .  Kami akan senang melihat Anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id419653/">https://habr.com/ru/post/id419653/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id419641/index.html">Membuat C # AI Sederhana di Unity</a></li>
<li><a href="../id419643/index.html">Konferensi Rekayasa Perangkat Lunak EPAM Minsk: Wujudkan</a></li>
<li><a href="../id419647/index.html">Seminar “Black Friday dalam e-commerce. Rahasia Bertahan Hidup, 16 Agustus, Moskow</a></li>
<li><a href="../id419649/index.html">Sedikit tentang kucing, atau yang CAT kami pilih untuk sinkronisasi podcast</a></li>
<li><a href="../id419651/index.html">Baik GA maupun YM. Bagaimana kami membuat clickstream kami sendiri</a></li>
<li><a href="../id419655/index.html">Musik di apartemen. Menanamkan</a></li>
<li><a href="../id419657/index.html">Bagaimana kecerdasan kolektif dikembangkan untuk sekawanan drone</a></li>
<li><a href="../id419659/index.html">Di mana Hollywood menggambarkan hacker dengan benar, dan di mana - secara keliru</a></li>
<li><a href="../id419661/index.html">Membuat stasiun radio dari GTA: San Andreas</a></li>
<li><a href="../id419663/index.html">Organisasi pemerintah memikat pencipta pH ultra-kecil dengan kontrak, bonus, dan penyederhanaan birokrasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>