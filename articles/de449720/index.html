<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÇ üßëüèº‚Äçü§ù‚Äçüßëüèº üôÜüèø Wie man einen Regenbogen reitet: die Geschichte der Schaffung eines dunklen Themas ü§æüèª ‚öïÔ∏è üôåüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im September haben wir das dunkle Thema der offiziellen VK-Anwendung f√ºr iOS ver√∂ffentlicht, und vor einer Woche fand die Ver√∂ffentlichung auch auf An...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man einen Regenbogen reitet: die Geschichte der Schaffung eines dunklen Themas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vk/blog/449720/"><p><img src="https://habrastorage.org/webt/p4/md/2m/p4md2mlmfaohgyosbxkyo9jbfyq.jpeg"></p><br><p>  Im September haben wir das dunkle Thema der offiziellen VK-Anwendung f√ºr iOS ver√∂ffentlicht, und vor einer Woche fand die Ver√∂ffentlichung auch auf Android statt.  Hinter diesem Start steht eine gro√üartige gemeinsame Arbeit von Entwicklern und Designern.  Gemeinsam haben wir VK nicht nur auf die dunkle Seite umgestellt, sondern auch die Herangehensweise an die Arbeit mit Farben in unseren Benutzeroberfl√§chen ernsthaft ge√§ndert, ihre Auswahl vereinfacht und die Wahrscheinlichkeit von Fehlern verringert und unn√∂tige Stile hervorgebracht. </p><br><p>  Mein Name ist Mikhail Likhachev, ich bin ein f√ºhrender Designer von VK.  Ich werde Ihnen erz√§hlen, wie ein kleines Team 300 Bildschirme angepasst und alle in mobilen Anwendungen vorhandenen Farben systematisiert hat. Dazu haben wir sie zwischen Plattformen synchronisiert und die Arbeit mit ihnen in einem einzigen Designsystem mit Token zusammengefasst.  Ich werde meine Eindr√ºcke dar√ºber teilen, wie wir jetzt damit leben und ob der Designprozess komplizierter geworden ist. </p><a name="habracut"></a><br><h3 id="zachem-nuzhna-tyomnaya-tema">  Warum brauchen wir ein dunkles Thema? </h3><br><p>  Reduzierter Kontrast und dunkler Hintergrund helfen dabei, die Anwendung bei schlechten Lichtverh√§ltnissen zu verwenden, ohne Ihre Augen zu belasten.  Google <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">best√§tigt,</a> dass Ger√§te mit AMOLED-Bildschirmen bei Verwendung eines dunklen Themas ohne Aufladen l√§nger halten.  Und viele Leute m√∂gen nur die schwarze Farbe oder m√∂chten ein frisches Designthema (nat√ºrlich ohne Neugestaltung). </p><br><p>  Jetzt ist das dunkle Thema nicht nur in g√§ngigen Anwendungen implementiert, sondern auch in macOS, tvOS-Betriebssystemen und Android-Startern.  Und sein Erscheinen auf allen iOS- und Android-Ger√§ten wird sicherlich nicht lange auf sich warten lassen. </p><br><p>  F√ºr uns war dies auch die Implementierung einer lang erwarteten Funktion - Benutzer fragten h√§ufiger nach einem dunklen Thema.  Es stellte sich heraus, dass es sehr gefragt war - mittlerweile verwenden mehr als 20% der Zuschauer regelm√§√üig ein dunkles Thema auf iOS und Android. </p><br><h1 id="sistema-cvetov">  Farbsystem </h1><br><p>  Bevor wir ein dunkles Thema erstellen konnten, mussten wir die Farbpalette unserer Anwendung neu organisieren.  Das Ziel war Folgendes: Sowohl im Code als auch im Design sollten keine Farben vorhanden sein, die nicht in der festen Palette enthalten sind.  Bei einem kleinen Satz von Farben ist es einfacher, das dunkle Thema anzupassen. </p><br><p> Als wir die gesamte Anwendung √ºberpr√ºften und alle Farben sammelten, hatten wir mehr als 200 eindeutige HEX-Werte.  Seit der Ver√∂ffentlichung der ersten Version der VK-App f√ºr iOS sind mehr als 6 Jahre vergangen. Die Anwendung wurde mehrfach √ºberarbeitet.  Irgendwo bis jetzt sind nicht aktualisierte Bildschirme erhalten geblieben, und irgendwo gab es Situationen, in denen dieselbe Farbe einen Wert hatte, der sich √§u√üerst unwesentlich unterscheidet.  Beispielsweise kann eine einzelne Farbe in HSB unterschiedliche HEX-Werte in Photoshop und Sketch haben. </p><br><p>  Unsere Anwendung ist sehr gro√ü.  Wir k√∂nnen sagen, dass dies mehrere Anwendungen in einer sind: Nachrichten, Musik, Videos, Geschichten, Sendungen, ein ganzer Messenger und viele andere ebenso wichtige Abschnitte und Dienste.  Wir haben 300-400 einzigartige Bildschirme gez√§hlt, von denen jeder viele Zust√§nde hat.  Alleine Nachrichten haben verschiedene Arten der Aufzeichnung von Aufzeichnungen und mehr als 15 Arten von angeh√§ngten Materialien.  F√ºr eine solche Anwendung wird ein komplexeres System ben√∂tigt, bei dem die Farben nach Kontraststufen aufgeschl√ºsselt werden, damit sie nicht nur f√ºr ein dunkles Thema, sondern auch f√ºr neue Steuerelemente einfacher ausgew√§hlt werden k√∂nnen. </p><br><p>  In Bezug auf die Organisation des Farbsystems hat uns der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ansatz von Material Design am besten</a> gefallen.  Wir haben drei erweiterte Paletten in einem √§hnlichen System vorbereitet: Grau, Kaltgrau und Blau.  Gleichzeitig haben wir die Farben durch Kontraststufen mit herk√∂mmlichen Werten von 0 bis 1000 geteilt, wobei 0 die hellste und 1000 die dunkelste ist.  Diese Nummern wurden zusammen mit dem Namen der Palette zu Bezeichnern von Farben - Grau 100, Blau 300 usw. </p><br><p><img src="https://habrastorage.org/webt/w1/pm/lx/w1pmlx_zb1l2-tsbdr_10qauyz4.png"></p><br><p>  Bei der Auswahl der Farben hilft das HSB-Farbmodell.  Darin ist Farbton der Farbton, S√§ttigung ist die S√§ttigung und Helligkeit ist die Helligkeit.  Der Farbton reicht von 0 bis 360 ¬∞, und wir verwenden einen festen Wert von 212 ¬∞ in den Schnittstellen als Markenfarbton.  S√§ttigung und Helligkeit werden von 0 bis 100% eingestellt. </p><br><p>  Da wir die Graupalette in 10 Hauptt√∂ne unterteilen, verwenden wir in Helligkeit einen Schritt von 10%.  Dann mischen wir die blaue Farbe mit der S√§ttigung entlang einer kleinen Kurve und passen gleichzeitig die Helligkeitswerte an, um die ben√∂tigte Kontrastabstufung beizubehalten. </p><br><p>  Auf die gleiche Weise haben wir die kalten grauen und blauen Paletten aufgenommen.  Kaltes Grau wird an Stellen verwendet, an denen ein ges√§ttigterer Farbton zur Kombination mit Blau erforderlich ist. F√ºr Akzente, verschiedene Schaltfl√§chen, Text und Links sind mehrere blaue Farben erforderlich. </p><br><p><img src="https://habrastorage.org/webt/ev/n-/co/evn-coa5bfuvnnkoeaopv3muzqk.png"></p><br><p>  Wir verwenden Grau am h√§ufigsten f√ºr eine Vielzahl von Elementen: Hintergr√ºnde, Substrate, Teiler, Symbole, Texte verschiedener Ebenen.  Die meisten Graut√∂ne, die wir bereits ausgew√§hlt hatten, hatten einen √§hnlichen Kontrastunterschied. Bei der Aktualisierung der Palette haben wir die Werte mehrerer Farben geringf√ºgig verschoben, um sie an die neue Logik anzupassen.  Und erg√§nzte auch den fehlenden Teil der Farben im dunklen Spektrum, um sie f√ºr ein dunkles Thema zu verwenden. </p><br><p>  Absolut alle in der Anwendung verwendeten Farben wurden der Palette hinzugef√ºgt, einschlie√ülich derer, die verschiedene Ereignisse in Benachrichtigungen darstellen, und sogar Farben aus dem Graffiti-Zeichenmodus in Storys.  Alles ist viel transparenter geworden: Jetzt werden alle Farben der Anwendung an einem Ort gesammelt.  Und wenn Sie eine neue Farbe f√ºr einen bestimmten Fall hinzuf√ºgen, m√ºssen Sie sorgf√§ltig √ºberlegen und pr√ºfen, ob die Farbe von den vorhandenen Farben geeignet ist. </p><br><p>  Nachdem die vordefinierte Palette vorbereitet worden war, musste sie in der Anwendung angewendet werden und mehr als 200 verf√ºgbare HEX-Werte durch einen neuen Satz von mehr als 50 ersetzen.  F√ºgen Sie alle diese Farben in Form statischer Variablen in eine Datei ein, wobei jede Farbe aus der Palette einen eindeutigen Namen hat. </p><br><p>  Unsere Entwickler vom Infrastruktur-Team f√ºr iOS und Android haben dies aufgegriffen.  Die Jungs haben einen Algorithmus vorbereitet, der die Farbe durch die n√§chste aus der neuen Palette ersetzt, was den Prozess erheblich beschleunigt hat.  Dann haben wir alle Bildschirme mit Testern √ºberpr√ºft, damit nirgendwo die falsche Farbe angewendet wurde, und schlie√ülich haben wir das dunkle Thema aufgegriffen. </p><br><h2 id="podbor-cvetov-v-tyomnoy-teme">  Passende Farben in einem dunklen Thema </h2><br><p>  Wir begannen, die Farben des dunklen Themas auf den Layouts der Hauptbildschirme auszuprobieren, um die verwendeten Hauptt√∂ne zu bestimmen.  F√ºr den Hintergrund verwenden wir Grau 900 - die Farbe ist einen Ton heller als Schwarz, um den Kontrast zwischen Hintergrund und Text zu verringern.  Aus dem gleichen Grund wurde der Text nicht Wei√ü, sondern Grau 100 gew√§hlt. </p><br><p>  Alle Hauptfarben f√ºr das dunkle Thema wurden durch die gleiche Abstufung wie im Licht identifiziert.  Nachdem wir die Stile in einer Reihe nacheinander in Helligkeit nacheinander angeordnet haben, haben wir die entsprechenden Werte ausgew√§hlt, sie invertiert und die Kontraststufe um einen Ton verschoben.  Anschlie√üend haben wir die Farben auf den Layouts getestet und sichergestellt, dass alle Elemente lesbar sind. </p><br><p><img src="https://habrastorage.org/webt/l2/zn/_h/l2zn_hvobwvuaboaqjff-xctl9i.png"></p><br><p>  <em>Tabelle der verwendeten Prim√§rfarben</em> </p><br><p>  Im dunklen Thema haben wir weniger Farben verwendet: Der blaue Hut und die blauen Kn√∂pfe wurden monochrom, die Palette der verwendeten Graut√∂ne wurde enger und die kaltgraue Palette verwandelte sich in ein normales Grau, wobei der Kontrast beibehalten wurde.  Die Akzentelemente blieben blau - f√ºr ein dunkles Thema wurde ein hellerer und weniger ges√§ttigter Farbton gew√§hlt. </p><br><p><img src="https://habrastorage.org/webt/my/8y/md/my8ymdnjeingejpr0z0az7eiyqi.png"></p><br><p>  Es gab auch Problembereiche wie modale Fenster und Karten.  Das Dimmen unter ihnen wollte nicht in Wei√ü umgewandelt werden, und ohne zus√§tzliche Ma√ünahmen in einem dunklen Thema w√ºrde der √ºbliche Hintergrund des Inhalts mit der Umgebung verschmelzen.  Um dies zu vermeiden, haben wir f√ºr modale Karten den Hintergrund heller als gew√∂hnlich ausgew√§hlt und einen Strich hinzugef√ºgt (bisher nur bei Android), um sie besser von der untersten Ebene zu trennen. </p><br><p>  Solche Beispiele haben gezeigt, dass wir bei der Implementierung eines dunklen Themas ein flexibleres System ben√∂tigen. </p><br><h1 id="tehnicheskaya-realizaciya">  Technische Umsetzung </h1><br><p>  Nachdem wir die entsprechenden Farben f√ºr das dunkle Thema in den Modellen ausgew√§hlt hatten, begannen wir, diese Angelegenheit auf den Code zu √ºbertragen. </p><br><p>  Wie wir in den Modellen gesehen haben, ist es nicht unsere Option, einfach die Farbanpassung von einem hellen in ein dunkles Thema einzuf√ºhren.  Wei√ü wird nicht immer durch Schwarz ersetzt: Elemente derselben Farbe in einem hellen Thema k√∂nnen in einem dunklen Thema unterschiedliche Farben haben.  Wir brauchten eine genaue Kontrolle dar√ºber, wie jedes Element oder jede Gruppe gemeinsamer Stile in einem dunklen Thema neu gestrichen wird.  Elemente m√ºssen ihre Farbe entsprechend der im Namen der Variablen enthaltenen Bedeutung √§ndern. </p><br><p>  Wir haben uns f√ºr den folgenden Ansatz entschieden, bei dem das Token der eindeutige Name eines Elements oder einer Gruppe von Elementen ist (z. B. background_content) und sein Wert nur eine Farbe aus einer festen Palette sein kann (z. B. Wei√ü).  Wir haben ein Schema im JSON-Format erstellt, in das alle Token mit ihren Werten in jedem Thema geschrieben werden. </p><br><p>  Ein solches Schema ist einer CSS-Datei mit Elementkennungen und ihren Stilen sehr √§hnlich, jedoch im JSON-Format. </p><br><p><img src="https://habrastorage.org/webt/ip/6a/n8/ip6an8f3myqgg-tl_z5uxminlye.png"><br>  <em>Wie sieht das Schema mit den Token background_content und text_primary aus?</em> </p><br><p>  Alles, was wir haben, ist auf GitHub verf√ºgbar: </p><br><ul><li>  <a href="">eine Palette</a> mit allen Farben und ihren eindeutigen Namen; </li><li>  <a href="">Schema</a> mit allen Token und ihren Werten in hellen und dunklen Themen. </li></ul><br><p>  Aus dem JSON-Schema generieren Entwickler auf allen Plattformen Code in dem Format, das sie ben√∂tigen.  Sie k√∂nnen dies anhand von Codebeispielen f√ºr iOS auf den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Folien von</a> Anton Spivak aus seiner Rede auf dem CodeFest nachlesen.  Der Bericht √ºber die Android-Implementierung aus der Rede von Arseniy Vasiliev auf der AppConf ist hier zu sehen. </p><br><p>  Denken Sie daran, dass wir beschlossen haben, ein striktes System zu erstellen, in dem Sie die Farbe nur √ºber die interne Palette angeben k√∂nnen, dh, Sie k√∂nnen keinen beliebigen HEX-Farbcode im Wert des Tokens registrieren.  Der Alpha-Parameter kann zum Token-Wert hinzugef√ºgt werden, um zus√§tzliche Farbtransparenz anzuzeigen.  Wir planen, diesen Parameter zu verwenden, um beim Ber√ºhren von Steuerelementen einen deaktivierten Status und einen deaktivierten Status hinzuzuf√ºgen, um der Palette nicht dieselben Farben mit unterschiedlicher Transparenz hinzuzuf√ºgen. </p><br><p>  Derzeit verf√ºgt das Programm bereits √ºber mehr als 150 Token.  Es gibt globale Variablen sowie vollst√§ndig gezeichnete Stile jedes Steuerelements sowie eindeutige F√§lle, die sich nicht f√ºr eine logischere Kombination eignen, z. B. Blasenstile aus Nachrichten. </p><br><p><img src="https://habrastorage.org/webt/vu/6o/aq/vu6oaqrhkgf7nvec62hjrkqshai.png"><br>  <em>Beispiele f√ºr h√§ufig verwendete Token</em> </p><br><p>  Ein wichtiger Punkt ist, dass es notwendig ist, die Token klar und kurz zu benennen, um sie einfach und schnell zu finden.  Das Prinzip der Benennung wurde wie folgt gew√§hlt - von gr√∂√üer zu kleiner.  Durch diese Logik wird in globalen Stilen zuerst der allgemeine Typ angegeben, und die Komponenten haben der Reihe nach einen Namen, einen Status und am Ende ein bestimmtes neu gestrichenes Element.  Wenn m√∂glich, sollte das Token universell sein - es sollte den Typ und die semantische Bedeutung widerspiegeln und nicht den Ort und den Inhalt in einem bestimmten Fall. </p><br><h1 id="dalneyshaya-rabota-so-shemoy">  Weitere Arbeit mit der Schaltung </h1><br><h2 id="sketch-i-zeplin">  Skizze und Zeplin </h2><br><p>  Der n√§chste Schritt: Sie m√ºssen Entwicklern verst√§ndliche Informationen zu den in den Layouts verwendeten Token geben.  Zu diesem Zweck haben wir das Token in Form eines Symbols visualisiert. Neben dem Namen gibt es eine Vorschau der Farbe, die in dunklen und hellen Themen verwendet wird, sowie die Namen der Farben aus der Palette. </p><br><p>  Wir haben solche Token in Form von Symbolen generiert, nachdem wir den gr√∂√üten Teil der Strecke zusammengesetzt hatten, und es gab bereits viele Token.  Um sie nicht manuell zu erstellen, haben wir ein kleines Plug-In vorbereitet, das die aktuelle Version des JSON-Schemas aufruft und daraus Token in Form von Symbolen aus der Vorlage generiert, wobei Farben aus den allgemeinen Stilen der dortigen Farbbibliothek ersetzt werden.  Mit demselben Plugin generieren wir ein Bibliotheksupdate: Neue Token werden hinzugef√ºgt und die Werte vorhandener werden aktualisiert.  Das Symbol aus der Bibliothek wird in allen Layouts aktualisiert, in denen es verwendet wird. </p><br><p><img src="https://habrastorage.org/webt/u3/y6/fy/u3y6fyjdsadpikzvudxylefq8cq.png"><br>  <em>So sieht das Token wie ein Symbol aus</em> </p><br><p>  Wir f√ºgen solche Token neben den Layouts hinzu und senden alles zusammen an Zeplin.  Wenn der Name nicht sofort klar ist oder Sie kl√§ren m√ºssen, zu welchem ‚Äã‚ÄãElement die Token geh√∂ren, f√ºgen Sie eine Beschreibung hinzu und unterteilen Sie die Token in Abschnitte, in denen bestimmte Elemente beschrieben werden.  Mithilfe des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sketch Runner-</a> Plugins zur schnellen Suche nach Symbolnamen haben wir unseren Konstruktor f√ºr die Beschreibung dunkler Designs in Form von Layoutanmerkungen erhalten. </p><br><p><img src="https://habrastorage.org/webt/7n/wu/ts/7nwutsgqh_zensn7zzid_re9ddm.gif"><br>  <em>Hinzuf√ºgen einer Beschreibung der verwendeten Token</em> </p><br><p>  Wir haben keine native, einfache und visuelle L√∂sung f√ºr das Einbetten von Token in Layouts gefunden, die weiter an Zeplin gesendet werden.  Obwohl Zeplin eindeutige Farben benennen kann, kann in unserem Schema eine Farbe in mehreren Token gleichzeitig verwendet werden. </p><br><p>  Anstatt f√ºr jeden von Hunderten von Bildschirmen eine dunkle Version zu zeichnen, beschreiben wir einfach alles in Form von Token, wodurch Designer Zeit sparen.  Alle verf√ºgbaren Tokenwerte f√ºr die Komponenten wurden bereits getestet, und Sie m√ºssen nur die richtigen ersetzen.  Der einzige Punkt der Wahrheit ist das UI-Kit - darin finden Sie nicht nur den aktuellen Status der Komponente, sondern auch die verwendeten Token. </p><br><p>  Fehler bei der Implementierung des dunklen Themas k√∂nnen bereits in der Testphase beim √úberpr√ºfen von Screenshots festgestellt werden.  Tester selbst k√∂nnen eine eindeutig falsche Farbe feststellen und den Designer um Hilfe bitten. Um einen Fehler zu beheben, ben√∂tigen Sie nur den Namen des richtigen Tokens. </p><br><h2 id="obnovleniya-shemy">  Schema-Updates </h2><br><p>  Wenn Sie das Schema aktualisieren, die Werte vorhandener Token ersetzen oder neue erstellen m√ºssen, m√ºssen Sie nur die JSON-Datei bearbeiten.  Dazu rufen wir die aktuelle Version des Schemas auf und nehmen √Ñnderungen in einem Texteditor vor, ohne zu vergessen, beim Hinzuf√ºgen eines Tokens Werte f√ºr alle Themen hinzuzuf√ºgen.  Es ist geplant, eine Anwendung f√ºr sich selbst zu erstellen, mit der Sie das Schema auf einfachere Weise bearbeiten k√∂nnen. Dies reicht jedoch vorerst aus. </p><br><p>  Nachdem wir das aktualisierte Schema vorbereitet haben, senden wir die Pull-Anfrage an GitHub (Anfrage zum √Ñndern der Datei), die von den Entwicklern gepr√ºft und genehmigt wird.  Nach dem Zusammenf√ºhren der √Ñnderungen m√ºssen Entwickler das Update der UI-Bibliothek versch√§rfen. In 15 Minuten werden in der n√§chsten Entwickler-Assembly neue Farben angezeigt. </p><br><p>  Um Token im Schema umzubenennen oder zu entfernen, erstellen wir ein umfangreiches Update, indem wir die Version in GitHub erh√∂hen.  Dies bedeutet, dass eine solche Version nicht automatisch angewendet werden kann. Vor dem Aktualisieren der Version der UI-Bibliothek m√ºssen Entwickler alle √Ñnderungen unterst√ºtzen: Aktualisieren Sie die Token-Namen. Wenn das gel√∂schte Token irgendwo verwendet wurde, m√ºssen Sie dem Kommentar aus der √Ñnderungsliste folgen, der angibt, welches Token ben√∂tigt wird Verwenden Sie stattdessen. </p><br><p>  Wir k√∂nnen solche Aktualisierungen ver√∂ffentlichen, wenn wir das Schema umgestalten: wenn bekannt ist, wie Token am besten benannt werden k√∂nnen, oder wenn sich herausstellt, dass mehrere Token zu einem zusammengefasst werden, wobei die Logik erhalten bleibt. </p><br><h2 id="krossplatformennost-i-vkui">  Plattform√ºbergreifend und VKUI </h2><br><p>  Die Farben in iOS- und Android-Anwendungen sind nahezu identisch, sodass das bei der Arbeit mit iOS erstellte Farbschema f√ºr Android geeignet ist.  Wenn es Plattformunterschiede gab, k√∂nnen Sie jederzeit Token mit dem Plattformsuffix erstellen. </p><br><p>  Zus√§tzlich zu nativen Anwendungen haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VKUI</a> .  Dies ist eine Reihe von React-Komponenten, mit denen Sie Schnittstellen erstellen k√∂nnen, die von unseren Anwendungen nicht zu unterscheiden sind.  Wir verwenden VKUI, um Testprodukte in VK zu erstellen sowie f√ºr Bildschirme, die wir vom Server aus steuern m√∂chten, ohne die Anwendung zu aktualisieren.  Dar√ºber hinaus wird diese Bibliothek zum Erstellen von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VK Apps-Diensten von</a> Drittanbietern verwendet. </p><br><p>  VKUI wurde nach demselben Design und mit denselben Komponenten wie native Anwendungen erstellt, sodass f√ºr die Anwendung des Schemas und die Unterst√ºtzung eines dunklen Themas keine neuen Layouts erforderlich waren.  F√ºr uns ist dies eine weitere Plattform, die wir unterst√ºtzen, nur enth√§lt sie einen Wechsel zwischen iOS und Android. </p><br><p>  Sie k√∂nnen die Implementierung des VK-Entwurfssystems in Form von React-Komponenten in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VKUI Styleguide sehen</a> .  Und das Interessanteste ist, dass Sie auf dieser Seite die von uns verwendeten Komponenten live sehen und das Thema und die Plattform wechseln k√∂nnen. </p><br><p>  In naher Zukunft werden wir die Dokumentation von VKUI aktualisieren und weitere Informationen √ºber die Arbeit unseres Designteams sammeln - es wird viele interessante Dinge geben Ô∏è </p><br><h2 id="otdelnaya-tema-dlya-messendzhera">  Separates Thema f√ºr den Messenger </h2><br><p>  VK Me, das bisher nur in Kasachstan getestet wird, ist ein separater Messenger mit der M√∂glichkeit, sich per Telefonnummer zu registrieren.  Darin haben wir nicht nur die Funktionalit√§t erleichtert, sondern nur die Kommunikation belassen, sondern auch das Design vereinfacht. </p><br><p>  Der Hut im Lichtthema wurde wei√ü, um sich auf die Kommunikation zu konzentrieren, und das Blau wurde heller und ges√§ttigter. </p><br><p><img src="https://habrastorage.org/webt/v2/u1/dm/v2u1dmccrno937eo3etdilsncqs.png"></p><br><p>  Der Messenger basiert auf dem Nachrichtenmodul aus der Hauptanwendung, dh, er verwendet dieselben Komponenten und dasselbe Schema, um alle Farben zu beschreiben.  Um beispielsweise den Header und die Suche neu zu zeichnen, mussten die Werte der entsprechenden Token ersetzt werden: header_background, header_tint, header_text, search_bar_background, search_bar_field_background search_bar_field_tint und andere. </p><br><p>  Auf relativ einfache Weise konnten wir die gesamte Anwendung in kurzer Zeit neu streichen und ein neues Designthema erstellen. </p><br><h2 id="rabota-s-grafikoy">  Arbeite mit Grafiken </h2><br><p>  Der gesamte Satz von Symbolen, die in Anwendungen verwendet werden, ist wei√ü geschnitten und kann einfach mit einem Token aus der Schaltung neu gestrichen werden. </p><br><p>  Bei zweifarbigen Symbolen traten Schwierigkeiten auf: Symbole, die in Form von Abzeichen auf Avatare gelegt wurden und einen wei√üen Strich ben√∂tigten, wurden zweifarbig geschnitten.  Dies neu zu streichen w√§re nicht einfach.  Wir teilen diese Symbole in zwei Ebenen auf, die Vorderseite und den Hintergrund, die als Maske verwendet werden und die erforderliche Form ausschneiden. </p><br><p><img src="https://habrastorage.org/webt/0f/dg/l8/0fdgl8i9br4-dzygwalhfgaobyi.png"></p><br><p>  Android verf√ºgt auch √ºber 9-Patch-Grafiken, mit denen beispielsweise Karten mit Schatten gezeichnet werden.  Der Schatten in ihnen ist schwarz und die F√ºllung der Karte ist wei√ü.  Um die Grafiken hier nicht in zwei Ebenen aufzuteilen, verwendeten die Entwickler den Farbmischmodus Multiplizieren - auf diese Weise wird der schwarze Schatten nicht neu gestrichen und die Farbe wird nur auf den f√ºr uns erforderlichen wei√üen Bereich der Bilder angewendet. </p><br><h2 id="itogi">  Zusammenfassung </h2><br><p>  Bei der Implementierung eines dunklen Themas haben wir Prozesse ernsthaft gepumpt und die Beziehung zwischen Design und Entwicklung auf eine neue Ebene gebracht. </p><br><p>  Ein einziges Schema, das die gesamte Arbeit mit Farben in die Anwendung einbezieht, ist zu einem leistungsstarken, aber erschwinglichen Werkzeug f√ºr Designer geworden und vereinfacht zuk√ºnftige Designaktualisierungen.  Das Ma√ü an Verantwortung und Aussagekraft beim Erstellen von Stilen und Hinzuf√ºgen von Farben hat zugenommen. </p><br><p>  Wenn klare Namen auftauchten, die den Kontrast der Farben widerspiegelten, war es viel einfacher, mit ihnen zu navigieren als mit HEX-Werten.  Gleiches gilt f√ºr Token - sie werden aufgrund der in ihnen eingebetteten Bedeutung gespeichert, und die Einhaltung der Logik in den auf mehreren Plattformen und Anwendungen verwendeten Stilen wird zu einem unverzichtbaren Bestandteil des Prozesses. </p><br><p>  Der Prozess war nicht nur f√ºr Designer, sondern auch f√ºr Entwickler und Tester zeitaufw√§ndig.  Aber es hat sich gelohnt - das dunkle Thema sammelte positive Nutzerkritiken, und die Kommentare zum ‚Äûdunklen Thema‚Äú, die sich in VK verbreiteten und sogar dar√ºber hinausgingen, wurden zu einem Mem. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449720/">https://habr.com/ru/post/de449720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449708/index.html">Citymobil - ein Handbuch zur Verbesserung der Verf√ºgbarkeit bei Unternehmenswachstum f√ºr Startups. Teil 3</a></li>
<li><a href="../de449712/index.html">W√∂chentliche Nachrichten: HDD-Nachfrage sinkt, staatliches Internetgesetz genehmigt, 5G-Ger√§teproduktion in Russland</a></li>
<li><a href="../de449714/index.html">Null ist nicht immer Null</a></li>
<li><a href="../de449716/index.html">Acronis er√∂ffnet Entwicklern zum ersten Mal den Zugriff auf die API</a></li>
<li><a href="../de449718/index.html">KI lehrte, das posttraumatische Syndrom durch menschliche Stimme zu bestimmen</a></li>
<li><a href="../de449722/index.html">Eckeffekte</a></li>
<li><a href="../de449724/index.html">Stahlliquidatoren</a></li>
<li><a href="../de449728/index.html">Verkehr oder Verschl√ºsselung des Verkehrs in Direct Connect, Teil 3</a></li>
<li><a href="../de449730/index.html">Kryptow√§hrung: lebt oder stirbt? Teil 2. Politische und wirtschaftliche Trends</a></li>
<li><a href="../de449740/index.html">Wir schauen uns ‚ÄûFenster zur Stadt‚Äú in hoher Qualit√§t an</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>