<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ë üë®üèæ‚Äçüé® üë¥ Haiku-Betriebssystem: Portieren von Anwendungen und Erstellen von Paketen ü§πüèæ üë©üèø‚Äçüíº üé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Herbst dieses Jahres wurde nach 6 Jahren Entwicklungszeit die erste Beta-Version von "R1 / beta1" des Haiku- Betriebssystems ver√∂ffentlicht. Ich ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Haiku-Betriebssystem: Portieren von Anwendungen und Erstellen von Paketen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434690/">  Im Herbst dieses Jahres wurde nach 6 Jahren Entwicklungszeit die erste Beta-Version von "R1 / beta1" des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku, Betriebssystem, Wikipedia-Seite.">Haiku-</a> Betriebssystems ver√∂ffentlicht.  Ich verfolge dieses interessante Projekt seit langer Zeit, das darauf abzielt, das 1994-2000 existierende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="BeOS, Wikipedia-Seite.">BeOS-</a> System neu zu erschaffen und weiterzuentwickeln.  Sobald ich Nachrichten √ºber die Ver√∂ffentlichung der Haiku-Beta-Version auf IT-Nachrichtenseiten sah, entschied ich mich sofort zu sehen, was zu dieser lang erwarteten Ver√∂ffentlichung hinzugef√ºgt wurde.  Nachdem ich das System in der virtuellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="VirtualBox, offizielle Seite.">VirtualBox-</a> Maschine installiert und ein wenig mit den Hauptfunktionen vertraut gemacht hatte, dachte ich, es w√§re sch√∂n, der OpenSource-Community, die dieses Betriebssystem entwickelt, heute ein wenig zu helfen.  Ich habe mich entschlossen, mit dem zu beginnen, was ich ein wenig Erfahrung gesammelt habe: einige Spielprojekte zu portieren. <br><br><div style="text-align:center;"><img title="Der Desktop des Haiku-Bestrebungen." src="https://habrastorage.org/webt/aw/eo/qy/aweoqyqziwcmq_qcwirvpf6drno.png"></div><br>  <i>Der Desktop des Haiku-Betriebssystems.</i> <br><br>  Sp√§ter habe ich versucht, einige vorhandene Anwendungen und Bibliotheken zu verfeinern.  Dies ist meine kleine Aktivit√§t in verschiedenen Open Source-Repositories, denen dieser Artikel gewidmet sein wird.  Darin werde ich die Probleme, auf die ich gesto√üen bin, konsequent beschreiben und √ºber Methoden zu ihrer L√∂sung sprechen.  Ich habe versucht, die meisten Patches, die w√§hrend dieser Arbeit erstellt wurden, an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Upstream, Softwareentwicklung, Wikipedia-Seite.">vorgelagerte</a> bestehende Projekte zu senden, um Haiku-Unterst√ºtzung zu bieten und ihre Entwickler f√ºr die Existenz alternativer Betriebssysteme zu interessieren. <br><a name="habracut"></a><br>  Das Haiku-Betriebssystem verwendet einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Hybridkernel, Wikipedia-Seite.">Hybridkern</a> , bei dem es sich um eine Implementierung der Mikrokernel-Architektur handelt, mit der die erforderlichen Module dynamisch geladen werden k√∂nnen.  Es basiert auf der Verzweigung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NewOS, offizielle Seite.">NewOS-</a> Kernels, der von einem ehemaligen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Be Inc., Wikipedia-Seite.">Be Inc.-</a> Ingenieur entwickelt wurde  Von Travis Geiselbrecht.  Heute arbeitet dieser Entwickler bei Google an einem Kernel namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Zirkon, schreibgesch√ºtzter Quellenspiegel, GitHub-Repository.">Zircon</a> f√ºr das neue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Google Fuchsia, Wikipedia-Seite.">Google Fuchsia-</a> Betriebssystem, aber das ist eine andere Geschichte.  Da Haiku-Entwickler die Bin√§rkompatibilit√§t mit BeOS deklarieren, m√ºssen sie nicht zwei bekannte Architekturzweige unterst√ºtzen, sondern drei: x86_64, x86 und x86_gcc2.  Die letztere Architektur ist eine Menge Kompatibilit√§t mit dem Compiler der alten Version von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GNU Compiler Collection, Wikipedia-Seite.">GCC</a> 2.95.  Ihr ist es zu verdanken, dass es m√∂glich ist, Anwendungen auszuf√ºhren, die f√ºr das urspr√ºngliche BeOS-Betriebssystem geschrieben wurden.  Leider k√∂nnen Haiku-Entwickler aufgrund dieser Kompatibilit√§tslast die modernen Funktionen der Programmiersprache C ++ nicht in System-APIs verwenden.  Sie bereiten jedoch Installationsimages f√ºr nur zwei Architekturen vor: x86_64 und x86.  Die Haiku-Distribution f√ºr x86 ist hybride: Trotz der Tatsache, dass alle Systemkomponenten aus Gr√ºnden der Bin√§rkompatibilit√§t unter x86_gcc2 erstellt wurden, hat der Benutzer die M√∂glichkeit, moderne Anwendungen zu installieren oder zu erstellen, die f√ºr moderne Compiler und x86-Architekturen entwickelt wurden .  Die Haiku-Distribution f√ºr die x86_64-Architektur ist vollst√§ndig 64-Bit und kann keine 32-Bit-BeOS- und Haiku-Anwendungen ausf√ºhren.  Es gibt jedoch Kompatibilit√§t auf API-Ebene. Wenn Sie also den Quellcode der Anwendung f√ºr BeOS oder Haiku x86 zur Hand haben, k√∂nnen Sie ihn einfach unter Haiku x86_64 kompilieren und alles sollte funktionieren.  Ein Betriebssystem-Image f√ºr die x86_64-Architektur wird f√ºr die Installation auf realer Hardware empfohlen, wenn Sie keine Unterst√ºtzung f√ºr bestimmte BeOS-Anwendungen oder 32-Bit-Haiku-Anwendungen ben√∂tigen. <br><br>  Es ist erw√§hnenswert, dass in diesem Betriebssystem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="POSIX, Wikipedia-Seite.">POSIX-</a> Standard teilweise unterst√ºtzt wird.  Diese Grundlage √§hnelt UNIX-√§hnlichen Systemen und erleichtert die Portierung ihrer Software.  Die Hauptprogrammiersprache ist C ++, sie wird aktiv verwendet, da die √∂ffentlichen APIs von Haiku haupts√§chlich ein objektorientiertes Programmierparadigma verfolgen.  Trotzdem verbietet niemand die Verwendung der Programmiersprache C, nur in den meisten F√§llen m√ºssen die entsprechenden Kompatibilit√§tsebenen geschrieben werden.  Die Softwareschnittstelle des Betriebssystems ist in separaten Systemframeworks zusammengefasst, die f√ºr eine bestimmte Gelegenheit verantwortlich sind, z. B. f√ºr eine Schnittstelle oder Netzwerkunterst√ºtzung.  Dies ist ein bisschen wie das, was unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Apple Developer-Dokumentation.">macOS</a> oder im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Alle Qt-Module, offizielle Dokumentation.">Qt-</a> Framework verf√ºgbar ist.  Es muss beachtet werden, dass dieses Betriebssystem Einzelbenutzer ist, obwohl einige Entwicklungen in Richtung der Bereitstellung eines Mehrbenutzer-Arbeitsmodus f√ºr Haiku-Entwickler verf√ºgbar sind. <br><br>  Ich kann den Lesern dieses Artikels nur die positiven Erfahrungen mit der Verwendung des in Haiku verf√ºgbaren erweiterten Anwendungsfenster-Verwaltungssystems mitteilen.  Meiner Meinung nach ist es eines der bequemsten und in seiner Art das Markenzeichen dieses Betriebssystems. <br><br><div style="text-align:center;"><img title="Erweiterte Fensterverwaltung im Haiku-Management: Besch√§ftigt f√ºr Kacheln und Registerkarten." src="https://habrastorage.org/webt/tw/cm/qe/twcmqedw1ofbempjx2ktaxjesmi.png"></div><br>  <i>Erweiterte Fensterverwaltung im Haiku-Betriebssystem: Unterst√ºtzung f√ºr Kacheln und Registerkarten.</i> <br><br>  Fenster k√∂nnen wie in modernen Browsern in Registerkarten miteinander verbunden, miteinander verbunden und bequem in der Gr√∂√üe ge√§ndert werden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Kachelfenster-Manager, Wikipedia-Seite.">Einfache Kacheln</a> , das √úbertragen der Kontexte einiger Anwendungen von einem Fenster in ein anderes und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Replicant, BeOS, Wikipedia-Site.">Replikanten werden</a> unterst√ºtzt.  Weitere Informationen zu allen Funktionen des lokalen Fenstersystems finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haikus GUI, offizielle Haiku-Dokumentation.">offiziellen Dokumentation</a> . Dort werden alle erforderlichen Tastenkombinationen beschrieben. <br><br>  Ich werde in diesem Artikel keinen vollst√§ndigen √úberblick √ºber alle Funktionen und F√§higkeiten von Haiku schreiben, da diejenigen, die daran interessiert sind, die erforderlichen Informationen im Internet selbst leicht finden k√∂nnen. <br><br><a name="article-content"></a><h2>  Inhalt: </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1. Pakete und Repositories in Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2. Erste Schritte: Portierung des Adamant Armor Affection Adventure</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3. √Ñnderung des vorhandenen NXEngine-Ports (Cave Story)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4. Portierung des Gish-Spiels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5. Das BeGameLauncher-Projekt, mit dem Sie schnell Starter f√ºr Spiele erstellen k√∂nnen</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6. Portierung von Xash3D: Legend√§res Half-Life-Spiel und offizielle Add-Ons</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7. Portierung der beiden Teile des Spiels Serious Sam: The First Encounter und The Second Encounter</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8. Portierung des Vangers-Spiels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">9. Implementierung von Dialogen in der SDL2-Bibliothek f√ºr Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">10. Portieren Sie meine Gabel von Cool Reader</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">11. Fertigstellung des KeymapSwitcher-Programms</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">12. Schlussfolgerung</a> <br><br><a name="packages"></a><h2>  1. Pakete und Repositories in Haiku </h2><br>  Im Vergleich zum urspr√ºnglichen BeOS ist in Haiku eine bedeutende Innovation aufgetaucht: ein Paketverwaltungssystem, das verschiedene Tools zum Abrufen und Installieren von Software aus verschiedenen Quellen enth√§lt.  Solche Quellen k√∂nnen die offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Repositories, offizielle Haiku-Dokumentation.">Haiku-</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorts, GitHub-Repository.">HaikuPorts-</a> Repositories, inoffizielle Repositories und einfach separate und speziell vorbereitete HPKG-Pakete sein.  Solche Funktionen zum Installieren und Aktualisieren von Software sind in der Welt der Unix-√§hnlichen Betriebssysteme seit langem bekannt, aber jetzt hat Haiku mit all ihrer Leistung und Bequemlichkeit erfolgreich erreicht, was gew√∂hnlichen Benutzern dieses Betriebssystems nur gefallen kann.  Dank der Infrastruktur, die auf dem Paketmanager basiert, kann jetzt jeder Entwickler problemlos eine neue oder vorhandene Open Source-Anwendung portieren oder die Ergebnisse seiner Arbeit zum HaikuPorts-Softwareport-Repository hinzuf√ºgen. Danach stehen sie allen Haiku-Benutzern zur Verf√ºgung.  Infolgedessen √§hnelt das resultierende √ñkosystem dem von MacOS-Betriebssystemen mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Homebrew, Der fehlende Paketmanager f√ºr macOS.">Homebrew</a> , FreeBSD mit ihren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="√úber FreeBSD-Ports, Offizielle FreeBSD-Site.">Ports</a> , Windows mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MSYS2 ist eine Software-Distribution und Build-Plattform f√ºr Windows.">MSYS2</a> oder Arch Linux mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Arch Linux-Benutzer-Repository.">AUR</a> . <br><br>  Ein Tool zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorter, GitHub-Repository.">Erstellen von</a> Paketen und Portierungssoftware namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorter, GitHub-Repository.">HaikuPorter</a> wird separat vom Betriebssystem geliefert und mithilfe eines kleinen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorts-Dokumentation, GitHub-Wiki-Seite.">Handbuchs</a> im Repository auf GitHub installiert.  Nach der Installation dieses Dienstprogramms von demselben GitHub wird der gesamte Rezeptbaum heruntergeladen, an dem der Entwickler arbeitet.  Das Rezept ist ein regul√§res Shell-Skript mit Anweisungen, anhand derer HaikuPorter das erforderliche HPKG-Paket sammelt.  Es ist bemerkenswert, dass das Tool selbst in der Programmiersprache <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Python, Programmiersprache, Wikipedia-Seite.">Python</a> 2 geschrieben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Python, Programmiersprache, Wikipedia-Seite.">ist</a> , eng mit dem vorhandenen Paketverwaltungssystem interagiert und das Standardtool <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Git, Wikipedia-Seite.">Git</a> intern verwendet, um √Ñnderungen am Quellcode der Software zu korrigieren und eine Reihe von Patches zu generieren.  Dank dieses Technologie-Stacks ist das Erstellen von Rezepten zum Erstellen von HPKG-Paketen und Software-Patches in Form von Patchset-Dateien sehr bequem und einfach.  In den meisten F√§llen musste ich bei der Arbeit mit HaikuPorter nur drei Befehle verwenden: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> hp=<span class="hljs-string"><span class="hljs-string">"haikuporter -S -j4 --get-dependencies --no-source-packages"</span></span> hp libsdl2 hp libsdl2 -c hp libsdl2 -e</code> </pre> <br>  Der erste Befehl sammelt einfach das ausgew√§hlte Paket, der zweite Befehl l√∂scht das Build-Verzeichnis und der dritte Befehl erstellt oder aktualisiert eine Reihe von Patches entsprechend Ihren √Ñnderungen, die im Git-Repository des Arbeitsverzeichnisses durch Commits aufgezeichnet wurden. <br><br>  Um ein Paket im HaikuPorts-Repository zu ver√∂ffentlichen und allen Haiku-Benutzern zur Verf√ºgung zu stellen, muss der Entwickler HaikuPorter installieren, den Rezeptbaum erweitern, das HPKG-Paket lokal sammeln und testen und sich dann auf die Verzweigung des Rezeptbaums festlegen. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Verteilte Versionskontrolle, Pull-Anfragen, Wikipedia-Seite.">Stellen Sie</a> dann eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Verteilte Versionskontrolle, Pull-Anfragen, Wikipedia-Seite.">Pull-Anfrage</a> auf GitHub.  Haiku-Entwickler sollten die ver√∂ffentlichten Arbeiten ber√ºcksichtigen. Anschlie√üend entscheiden sie, Ihre √Ñnderungen im Repository zusammenzuf√ºhren oder zur √úberarbeitung zu senden.  Wenn die √Ñnderungen akzeptiert werden, sammelt derselbe auf dem Build-Server installierte HaikuPorter das Paket remote und ver√∂ffentlicht es automatisch im Repository. <br><br>  Der Beta-Version von ‚ÄûR1 / beta1‚Äú des Haiku-Betriebssystems wurde ein spezielles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuDepot, offizielle Haiku-Dokumentation.">HaikuDepot-</a> Programm hinzugef√ºgt, mit dem Pakete und Repositorys √ºber eine grafische Benutzeroberfl√§che und nicht √ºber Konsolenbefehle im Terminal bearbeitet werden k√∂nnen. <br><br><div style="text-align:center;"><img title="Das HaikuDepot-Programm, das auf dem Haiku-Betriebssystem ausgef√ºhrt wird." src="https://habrastorage.org/webt/bv/7d/bt/bv7dbtkhvrdz4nunutpahn4kate.png"></div><br>  <i>Das HaikuDepot-Programm, das auf dem Haiku-Betriebssystem ausgef√ºhrt wird.</i> <br><br>  Dank dieses Tools k√∂nnen unerfahrene und unerfahrene Haiku-Benutzer ihre Paketbasis bequem verwalten.  Es ist erw√§hnenswert, dass diese Anwendung nicht nur eine GUI-Shell √ºber dem vorhandenen Paketmanager ist, sondern auch zus√§tzliche Funktionen implementiert.  Beispielsweise k√∂nnen autorisierte Benutzer Bewertungen f√ºr Pakete bewerten und schreiben, die f√ºr die Installation verf√ºgbar sind.  Dar√ºber hinaus verf√ºgt HaikuDepot √ºber eine spezielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku Depot Website.">Haiku Depot-</a> Website, auf der Sie Paket√§nderungen im Internet anzeigen oder einzelne HPKG-Pakete herunterladen k√∂nnen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="aaaa"></a><h2>  2. Erste Schritte: Portierung des Adamant Armor Affection Adventure </h2><br>  Nachdem ich mich mit der Funktionalit√§t des Betriebssystems in der virtuellen VirtualBox-Maschine vertraut gemacht hatte, beschloss ich, die darin enthaltene SDL2-Bibliothek zu evaluieren und das Spiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Portierung von Adamant Armor Affection Adventure unter Android OS.">Adamant Armor Affection Adventure</a> nach Haiku zu portieren, das ich zuvor √ºber die √úbertragung auf die Android-Plattform geschrieben hatte.  F√ºr die Erstellung des Programms waren keine √Ñnderungen am Quellcode erforderlich. Ich habe lediglich alle erforderlichen Tools, Bibliotheken und deren Header-Dateien aus dem Repository installiert und Folgendes ausgef√ºhrt: <br><br><pre> <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> = off -DCMAKE_C_FLAGS = "- D__linux__" -DSDL2_INCLUDE_DIR = `finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR =` finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> </pre><br>  Da Haiku √ºber POSIX verf√ºgt, l√∂sen die Definitionen -D__linux__ oder <strong>-D__unix__</strong> viele der Probleme, die mit der Definition einer Plattform verbunden sind.  Es ist jedoch anzumerken, dass es am besten ist, die Verwendung aufzugeben und die Haiku-Unterst√ºtzung im Projektquellcode zu implementieren, wenn √§hnliche Buildprobleme auftreten.  <strong>Wenn Sie</strong> das Dienstprogramm <strong>finddir</strong> mit einem bestimmten Argument <strong>aufrufen</strong> , k√∂nnen Sie den richtigen Pfad zu den Header-Dateien f√ºr verschiedene Architekturen ermitteln. <br><br>  Durch Ausf√ºhren der obigen Befehle habe ich eine ausf√ºhrbare Datei kompiliert, die perfekt lief, und das Spiel hat perfekt funktioniert.  Ich dachte, es w√§re cool, ein autarkes HPKG-Paket mit dem Spiel vorzubereiten, und daf√ºr ging ich tief ins Internet, um nach den Informationen zu suchen, die ich brauchte.  Dann kannte ich keine praktischen Tools f√ºr die Portierung von Software wie HaikuPorter, √ºber die ich im obigen Abschnitt geschrieben habe. Um mein Ziel zu erreichen, habe ich mich entschlossen, ein Systempaket zu betr√ºgen und zu zerlegen, um zu sehen, wie es in und angeordnet ist in Analogie tun. <br><br>  Im Internet fand ich die gew√ºnschten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Erstellung eines HPKG-Pakets, HaikuOS - Russischsprachiges Wiki.">Informationen</a> , entpackte dann ein zuf√§lliges Systempaket mit dem im lokalen Dateimanager integrierten <strong>Expander-</strong> Archivierungsprogramm, fand die <strong>.PackageInfo-</strong> Datei, bearbeitete sie und ersetzte die Dateien gem√§√ü der Struktur meiner Anwendung.  Dann habe ich einfach die Befehle ausgef√ºhrt, um das HPKG-Paket zu erstellen und auf dem System zu installieren: <br><br><pre> <code class="bash hljs">package create -C AAAA/ aaaa.pkg pkgman install aaaa.pkg</code> </pre><br>  Leider war das Starten des Spiels √ºber das Men√º "Anwendungen" nicht erfolgreich.  Beim Ausf√ºhren der ausf√ºhrbaren Datei im Terminal wurde die Fehlermeldung angezeigt, dass die zum Ausf√ºhren und Ausf√ºhren der Anwendung erforderlichen Datendateien nicht gefunden werden konnten.  Wenn in diesem Fall im Terminal in das Verzeichnis des Anwendungspakets gewechselt wird, hat alles einwandfrei begonnen.  Dies f√ºhrte mich zu der Idee, dass Sie beim Starten des Spiels √ºber das Men√º eine erzwungene √Ñnderung des Anwendungsverzeichnisses vornehmen m√ºssen.  Dies kann entweder mit einem Shell-Skript oder durch √Ñndern der Quelle des Spiels erfolgen.  Ich habe die zweite Option gew√§hlt und etwas √Ñhnliches zu diesem Code hinzugef√ºgt: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __HAIKU__ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// To make it able to start from Deskbar chdir(dirname(argv[0])); #endif</span></span></span></span></code> </pre><br>  Ganz am Anfang der Startfunktion <strong>main ()</strong> , die dieses Problem vollst√§ndig l√∂ste und das Paket als funktionsf√§hig erwies.  In den Kommentaren zu den Nachrichten √ºber die Ver√∂ffentlichung der Haiku-Beta-Version auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku R1 / beta1 ver√∂ffentlicht - Open Source - News.">Linux.org.ru habe</a> ich den Link zu meinem zusammengestellten Paket gel√∂scht und jemanden gebeten, mich an einige aktive Benutzergemeinschaften dieses Betriebssystems zu senden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku R1 / beta1 ver√∂ffentlicht - Open Source - News.">, und</a> bin dann ins Bett gegangen. <br><br><div style="text-align:center;"><img title="Adamant Armor Affection Adventure-Spielport auf Haiku." src="https://habrastorage.org/webt/fw/v-/lg/fwv-lgs1iqaf-bm-gdsoft2dwww.png"></div><br>  <i>Adamant Armor Affection Adventure-Spielport auf Haiku.</i> <br><br>  Am Morgen schrieb mir eine Person mit dem Spitznamen <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">3dEyes</a></strong> eine E-Mail.  Wie sich sp√§ter herausstellte, <strong>versteckte sich Gerasim Troeglazov</strong> , einer der aktiven Haiku-Entwickler und Autor des Qt-Framework-Ports f√ºr dieses Betriebssystem, hinter diesem Namen.  Er zeigte mir das HaikuPorts-Repository und erkl√§rte mir, wie man das HaikuPorter-Dienstprogramm verwendet.  Au√üerdem schrieb er ein Rezept f√ºr die Erstellung des HPKG-Pakets f√ºr Adamant Armor Affection Adventure und f√ºgte es HaikuDepot hinzu. <br><br>  Nachdem ich alle von diesem Entwickler vorgenommenen √Ñnderungen analysiert hatte, stellte ich fest, dass mein manuell zusammengestelltes Paket einige Nachteile aufwies. Beispielsweise wurden die Einstellungen nicht gespeichert, da die bereitgestellten Verzeichnisse der installierten Pakete keine Schreibfunktionen hatten.  Dieses Problem beim Schreiben von Einstellungen oder Speichern in seinem Paket wurde elegant mithilfe von Symlinks in einem speziellen Verzeichnis gel√∂st, auf das zur Aufzeichnung zugegriffen werden kann und das zum Speichern von Benutzerdaten vorgesehen ist.  Mein Paket hatte auch kein eigenes Originalsymbol. <br><br>  Au√üerdem habe ich erfahren, dass Haiku keine Hardwarebeschleunigung f√ºr 3D-Grafiken hat und dass dieselbe OpenGL programmgesteuert mit CPU-Leistung gerendert wird.  F√ºr schwere Grafikanwendungen ist dies nat√ºrlich nicht gut, aber f√ºr √§ltere Spiele ist dies mehr als genug.  Ich entschied mich sogar, das Spielpaket speziell zu √ºberpr√ºfen und installierte Haiku auf meinem alten Laptop, dh auf echter Hardware.  Zu meiner √úberraschung wurde das Bild von Adamant Armor Affection Adventure so schnell gerendert, dass ich nicht bemerkt h√§tte, dass das Rendern von meinem Prozessor durchgef√ºhrt wird, wenn sie mir nicht von der fehlenden Hardwarebeschleunigung erz√§hlt h√§tten. <br><br>  <strong>Projektquelle: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Adamant Armor Affection Adventure, GitHub-Repository.">https://github.com/EXL/AdamantArmorAffectionAdventure</a></strong> <br><br>  Ich habe die manuelle Erstellung von HPKG-Paketen bis zu besseren Zeiten verschoben und bin vollst√§ndig auf die Verwendung des HaikuPorter-Tools und das Schreiben von Rezepten umgestiegen.  Manchmal gibt es jedoch Situationen, in denen eine manuelle Neuerstellung des Pakets erforderlich ist.  Wenn HaikuPorter beispielsweise die Haiku-Nachtversion in der <strong>.PackageInfo-</strong> Datei zu hoch <strong>einstellt</strong> und das Paket auf der Release-Version des Betriebssystems getestet werden muss.  Es ist erw√§hnenswert, dass ich dank der Reaktionsf√§higkeit und Erfahrung von Gerasim die vielen Feinheiten beim Erstellen von Paketen f√ºr das Haiku-Betriebssystem verstehen und meine Arbeit fortsetzen konnte. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="nxengine"></a><h2>  3. √Ñnderung des vorhandenen NXEngine-Ports (Cave Story) </h2><br>  Ich war unglaublich √ºberrascht, im HaikuPorts-Repository ein Rezept zu finden, das auf meine Abzweigung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) √ºber NXEngine f√ºr verschiedene Plattformen.">NXEngine-</a> Engine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) √ºber NXEngine f√ºr verschiedene Plattformen.">f√ºr das Spiel Cave Story verweist</a> , das ich schon sehr lange in meinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) √ºber NXEngine f√ºr verschiedene Plattformen.">Blog analysiert</a> hatte.  Das Rezept und die Patches wurden von einem Entwickler namens <strong>Zolt√°n Mizsei erstellt</strong> , der den Spitznamen <strong>extrowerk verwendet</strong> und viele Pakete f√ºr Haiku aktiv verwaltet. <br><br>  Eine oberfl√§chliche Analyse, die Installation des Pakets und das Starten der Anwendung ergaben dieselben Probleme, die ich im vorherigen Abschnitt dieses Artikels beschrieben habe: Das Speichern des Spiels funktionierte nicht, die Einstellungen wurden auch nicht gespeichert und das Paket hatte nicht das urspr√ºngliche Symbol.  Ich entschied mich, diese M√§ngel zu beheben und begann an dem Patch zu arbeiten, wobei ich zuerst alle Ideen des Extrowerks integrierte.  Ich habe das Original- <strong>Makefile</strong> f√ºr das Haiku-Betriebssystem geschrieben und das Schreiben und Speichern verschiedener Benutzerdaten korrigiert. <br><br><div style="text-align:center;"><img title="Port des Cave Story-Spiels basierend auf der NXEngine-Engine, die im Haiku-Betriebssystem gestartet wurde." src="https://habrastorage.org/webt/cu/fy/xs/cufyxskkttfmgcra7wcq9blp88g.png"></div><br>  <i>Port des Cave Story-Spiels basierend auf der NXEngine-Engine, die im Haiku-Betriebssystem gestartet wurde.</i> <br><br>  Da das Spiel die russische und die englische Version mit unterschiedlichen ausf√ºhrbaren Dateien und Datendateien voraussetzte, entschied ich mich f√ºr ein gemeinsames Paket, das zwei Versionen gleichzeitig kombiniert und automatisch die richtige basierend auf der vom Benutzer gew√§hlten Systemsprache ausw√§hlt.  Dies wurde mit dem einfachsten Shell-Skript implementiert: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [[ `locale -l` == ru* ]] ; then EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/RUS/Cave Story" else EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/ENG/Cave Story" fi "$EXE" $@</span></span></code> </pre><br>  Dieses Skript wird gestartet, wenn ein Spielelement im Men√º "Anwendungen" ausgew√§hlt wird und das aktuelle Systemgebietsschema bestimmt.  F√ºr den Fall, dass der Benutzer Russisch als Systemsprache gew√§hlt hat, wird die russische Version des Spiels und in allen anderen F√§llen die englische Version gestartet. <br><br>  Aber mit der Erstellung des urspr√ºnglichen Symbols f√ºr die Anwendung musste ich ziemlich basteln.  Tatsache ist, dass im Haiku-Betriebssystem nur Vektorsymbole des speziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="500-Byte-Bilder: Das Haiku-Vektorsymbolformat.">HVIF-</a> Formats <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="500-Byte-Bilder: Das Haiku-Vektorsymbolformat.">zul√§ssig sind</a> , die als Attribute des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Sei Dateisystem, Wikipedia-Seite.">Be File System-</a> Dateisystems festgelegt werden.  In der offiziellen Dokumentation finden Sie zwei gro√üe Handb√ºcher zum Erstellen eigener Symbole f√ºr Anwendungen: Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Icon Guidelines, Development, Offizielle Haiku-Site.">erste Handbuch</a> beschreibt den Zeichen- und Entwurfsstil und das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Icon-O-Matic, offizielle Haiku-Dokumentation.">zweite Handbuch enth√§lt</a> ausf√ºhrliche Informationen zur Verwendung des <strong>Icon-O-Matic-</strong> Systemprogramms zum Erstellen von Symbolen. <br><br>  Mit Icon-O-Matic k√∂nnen Sie die einfachsten SVG-Dateien importieren und das resultierende Symbol in das f√ºr HaikuPorter erforderliche Format exportieren, das als HVIF RDef bezeichnet wird und dasselbe HVIF darstellt, jedoch in eine Textansicht konvertiert wurde.  RDef-Dateien k√∂nnen nicht nur Bilder enthalten, sondern auch zus√§tzliche Informationen, z. B. die Version der Anwendung und ihre Beschreibung.  In gewisser Weise √§hneln diese Dateien RES-Dateien, die in Windows verwendet werden.  Die folgenden Befehle im Rezept kompilieren die RDef-Dateien und setzen das Ergebnis auf spezielle Attribute: <br><br><pre> <code class="bash hljs">rc nxengine-launcher.rdef resattr -o <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/Cave Story"</span></span> nxengine-launcher.rsrc addResourcesToBinaries <span class="hljs-variable"><span class="hljs-variable">$sourceDir</span></span>/build/nxengine-rus.rdef <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/RUS/Cave Story"</span></span></code> </pre><br>  Dar√ºber hinaus <strong>ist</strong> in den Rezepten die Funktion <strong>addResourcesToBinaries</strong> definiert, mit der diese Arbeit automatisiert werden kann.  Es gibt ein, aber sehr ernstes Problem mit Icon-O-Matic: Die SVG-Dateien, die der beliebte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Inkscape, offizielle Seite.">Inkscape-</a> Vektoreditor speichert, werden entweder nicht ge√∂ffnet oder importiert, ohne einige erforderliche Funktionen zu unterst√ºtzen, z. B. Farbverl√§ufe.  Daher ist eine Abenteuerquest mit der Konvertierung von Rasterbildern in Vektorbilder mithilfe verschiedener kostenpflichtiger und kostenloser Online- und Offline-Konverter und dem anschlie√üenden √ñffnen der resultierenden SVG-Dateien in Icon-O-Matic kl√§glich gescheitert.  Sp√§ter habe ich das Problem des √ñffnens von SVG-Dateien gel√∂st und eine Problemumgehung gefunden, aber ich werde weiter unten dar√ºber schreiben.  In der Zwischenzeit habe ich beschlossen, die Standardfunktionen von Icon-O-Matic zu nutzen und das Symbol selbst zu zeichnen.  Nach einer halben Stunde hartem Kopieren von Pixeln erhielt ich die folgende Grafik: <br><br><div style="text-align:center;"><img title="Das Standard-Icon-O-Matic-Programm im Haiku-Betriebssystem." src="https://habrastorage.org/webt/3d/zw/pk/3dzwpkyex_ccbhffzoqovf9ioue.png"></div><br>  <i>Das Standard-Icon-O-Matic-Programm im Haiku-Betriebssystem.</i> <br><br>  Ja, ich habe einen Vektoreditor verwendet, um ein Bild im Pixel Art-Genre zu erstellen.  Meiner amateurhaften Ansicht nach ein Mann, der sich mit Kunst nur schlecht auskennt, hat sich als recht gut herausgestellt.  Ich habe dieses Symbol im erforderlichen Format gespeichert, alle √Ñnderungen vorbereitet, das Rezept aktualisiert und alles an das HaikuPorts-Repository gesendet. <br><br>  <strong>Projektquellcode: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NXEngine, GitHub-Repository.">https://github.com/EXL/NXEngine</a></strong> <br><br>  Ich habe die resultierenden Pakete f√ºr alle F√§lle und an die Fanseite des Spiels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Download H√∂hlengeschichte, H√∂hlengeschichte (Doukutsu Monogatari), A Tribute Site.">Cave Story (Doukutsu Monogatari) gesendet</a> , dessen Verwaltung das Haiku-Betriebssystem zum Download-Bereich hinzugef√ºgt hat. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="gish"></a><h2>  4. Portierung des Gish-Spiels </h2><br>  Das n√§chste Projekt, das ich auf Haiku √ºbertragen wollte, war das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Portieren von Gish auf Android OS: Verwenden von OpenAL- und GL4ES-Bibliotheken.">Gish-</a> Spiel, das ich zuvor auf Android portiert hatte.  Das HaikuPorts-Repository hatte ein Rezept f√ºr eine unvollendete kostenlose Implementierung eines Spiels namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Freegish, Wikipedia-Seite.">Freegish</a> , daher habe ich beschlossen, das urspr√ºngliche Spiel auch dort hinzuzuf√ºgen, jedoch ohne Datendateien, da diese im Gegensatz zur Engine separat geliefert werden und √ºberhaupt nicht kostenlos sind. <br><br><div style="text-align:center;"><img title="Gish Game Port l√§uft unter Haiku Betriebssystem." src="https://habrastorage.org/webt/yu/dm/r9/yudmr9o3bxzmrc5a6shyyxjvj_w.jpeg"></div><br>  <i>Gish Game Port l√§uft unter Haiku Betriebssystem.</i> <br><br>  Ich hatte keine besonderen Probleme mit der Portierung dieses Spiels.  Die ausf√ºhrbare Datei wurde unmittelbar nach Ausf√ºhrung der folgenden Erstellungsbefehle kompiliert: <br><br><pre> <code class="bash hljs">cmake gish/src/main/cpp/ \ -DGLES=0 \ -DANDROID=0 \ -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` \ -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"`sdl2-config --cflags` -D__linux__"</span></span> \ -DCMAKE_BUILD_TYPE=Release cmake --build .</code> </pre><br>  Als N√§chstes implementierte ich die M√∂glichkeit, das Spiel √ºber das Men√º "Anwendungen" zu starten, und unterst√ºtzte das Speichern von Benutzerdaten in einem Verzeichnis, auf das zur Aufzeichnung zugegriffen werden kann und das daf√ºr vorgesehen ist: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHaikuSettingsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[PATH_MAX]; find_directory(B_USER_SETTINGS_DIRECTORY, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path)); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(path, <span class="hljs-string"><span class="hljs-string">"/Gish/"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strdup(path); }</code> </pre><br>  Die Funktion <strong>getHaikuSettingsPath () unter</strong> Verwendung der Funktion <strong>find_directory ()</strong> der Haiku-API bildet den vollst√§ndigen Pfad zu dem Verzeichnis, das ich ben√∂tige. <br><br>  <strong>Projektquellcode: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Gish, GitHub-Repository.">https://github.com/EXL/Gish</a></strong> <br><br>  Es blieb die folgende Frage zu l√∂sen: Wie sollte der Benutzer das Verzeichnis mit den Originaldateien des Spiels Gish ausw√§hlen?  Sie k√∂nnten versuchen, das Problem mithilfe von Shell-Skripten und dem Dienstprogramm f√ºr <strong>Warnsysteme</strong> zu l√∂sen, aber ich habe mich entschlossen, dieses Problem gr√ºndlicher anzugehen und einen praktischen GUI-Launcher mithilfe der Haiku-API und des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Interface Kit, offizielle Haiku-Dokumentation.">Interface Kit-</a> Frameworks zu implementieren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="launcher"></a><h2>  5. Das BeGameLauncher-Projekt, mit dem Sie schnell Starter f√ºr Spiele erstellen k√∂nnen </h2><br>  Es wurde beschlossen, mein BeGameLauncher-Projekt in C ++ des alten Standards von 1998 zu schreiben und dabei die nativen Tools des Betriebssystems zu verwenden, um Anwendungen mit einer grafischen Benutzeroberfl√§che zu erstellen.  Da die Namen vieler Programme f√ºr Haiku und BeOS mit dem Pr√§fix ‚ÄûBe‚Äú beginnen, habe ich mich auch entschieden, einen solchen Namen f√ºr das Projekt zu w√§hlen.  Ich habe mich zun√§chst mit dem Interface Kit-Framework vertraut gemacht, das Teil der Haiku-API ist.  Zus√§tzlich zu der ziemlich detaillierten Dokumentation auf der offiziellen Haiku-Website fand ich zwei einfach ausgezeichnete <strong>DarkWyrm-</strong> Unterrichtskurse, mit denen ein Anf√§nger schnell verstehen kann, wie bestimmte <strong>Systemklassen</strong> funktionieren.  Der erste Kurs hei√üt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Programmieren lernen mit Haiku, offizielle Haiku-Seite.">Programmieren lernen mit Haiku</a> und behandelt zu Beginn die Grundlagen der Programmiersprache C ++, die f√ºr Anf√§nger sehr n√ºtzlich sein wird.  Der zweite Kurs hei√üt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Programmieren mit Haiku, offizielle Haiku-Seite.">Programmieren mit Haiku</a> und richtet sich an Personen, die bereits mit C ++ vertraut sind und Grundkenntnisse in dieser Sprache haben.  Beide Kurse befassen sich mit den unterschiedlichsten Aspekten der Haiku-API und sind daher f√ºr alle sehr n√ºtzlich, die Anwendungen f√ºr dieses Betriebssystem erstellen m√∂chten. <br><br>  Nachdem ich dieses hervorragende Material diagonal gelesen hatte, machte ich einen allgemeinen Eindruck von der Haiku-API und begann √ºber meine n√§chsten Schritte nachzudenken.  Ich hatte bereits einige Erfahrungen mit der Entwicklung von Anwendungsanwendungen mit dem Qt-Framework, das ebenfalls in der Programmiersprache C ++ geschrieben ist und das objektorientierte Programmierparadigma verwendet.  Daher ist die Haiku-API sehr √§hnlich, abgesehen vom Fehlen eines Signalsystems und von Slots. Daher werde ich h√§ufig Parallelen und Vergleiche mit Qt ziehen.  Dar√ºber hinaus ist die Verwendung des in der Haiku-API √ºblichen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Ereignisgesteuerte Programmierung, Wikipedia-Seite.">ereignisgesteuerten Programmierprinzips zu</a> beachten, mit dem verschiedene Entit√§ten durch die √úbertragung von Ereignissen oder Nachrichten miteinander interagieren k√∂nnen.  Ein Analogon zur <strong>QEvent-</strong> Klasse ist hier die <strong>BMessage-</strong> Klasse, um die das System der Interaktion von Objekten aufgebaut ist.  Eine Instanz der <strong>BMessage-</strong> Klasse erh√§lt im Allgemeinen eine eindeutige Nummer, mit der Sie den Absender und seine Aktion in einem allgemeinen Ereignisfilter identifizieren k√∂nnen. <br><br>  F√ºr mein Projekt musste ich die entsprechenden Haiku-API-Klassen ausw√§hlen, mit denen ich die beabsichtigte Funktionalit√§t implementieren konnte.  <strong>Um</strong> eine externe Anwendung zu starten, musste zun√§chst ein Analogon der <strong>QProcess-</strong> Klasse oder der <strong>execve () -</strong> POSIX-Funktion gefunden werden, die √ºbrigens auch im Haiku-Betriebssystem <strong>einwandfrei</strong> funktioniert. Ich entschied jedoch, dass die Verwendung nativer Tools vorzuziehen ist, aber nur f√ºr den Fall Der Fall lie√ü die M√∂glichkeit, Anwendungen √ºber die POSIX-Funktion zu starten.  Die Interprozesskommunikationsklasse <strong>BRoster war</strong> f√ºr diesen Zweck gro√üartig.  Es wurde eine geeignete <strong>Launch ()</strong> -Methode gefunden, mit der Sie den Pfad zur ausf√ºhrbaren Datei angeben und Argumente an diese √ºbergeben k√∂nnen.  Da der Launcher in der Lage sein sollte, einige Parameter zu speichern, z. B. ein vom Benutzer ausgew√§hltes Verzeichnis mit Spieldatendateien, ben√∂tigte ich eine Klasse, die all dies erledigt.  In Qt hei√üt eine solche Klasse <strong>QSettings</strong> , und in der Haiku-API gibt es, wie Gerasim mich dazu aufgefordert hat, eine <strong>BMessage-</strong> Klasse <strong>, die</strong> ich bereits <strong>kenne</strong> und die eine sehr n√ºtzliche Funktion hat.  Die Sache ist, dass Informationen dieser Klasse einfach serialisiert und beispielsweise auf der Festplatte gespeichert werden k√∂nnen.  Dies ist sehr praktisch und wird h√§ufig zum Aufzeichnen von Benutzerdaten in Programmen verwendet. Aus diesem Grund habe ich diese Klasse ausgew√§hlt, um die Einstellungen in meinem Projekt f√ºr die Implementierung von Startern zu speichern.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leider hat die Haiku-API kein Analogon zur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QDebug-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse gefunden </font><font style="vertical-align: inherit;">, daher habe ich mir die Debug-Ausgabe w√§hrend der Entwicklung </font><font style="vertical-align: inherit;">mit der Funktion </font><strong><font style="vertical-align: inherit;">fprintf ()</font></strong><font style="vertical-align: inherit;"> aus der Standard-Programmiersprache C </font><font style="vertical-align: inherit;">an </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gesendet </font><font style="vertical-align: inherit;">:</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// .h #if __cplusplus &gt;= 201103L #define BeDebug(...) fprintf(stderr, __VA_ARGS__) #else extern void BeDebug(const char *format, ...); #endif // __cplusplus == 201103L // .cpp #if __cplusplus &lt; 201103L #include &lt;cstdarg&gt; void BeDebug(const char *format, ...) { va_list args; va_start(args, format); vfprintf(stderr, format, args); va_end(args); } #endif</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe diese Funktion in eine f√ºr mich geeignete </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeDebug () -</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Entit√§t eingeschlossen </font><font style="vertical-align: inherit;">, die je nach ausgew√§hltem Sprachstandard entweder ein Makro oder auch eine Funktion ist. Dies geschah aufgrund der Tatsache, dass C ++ 98 keine Makros mit einer variablen Anzahl von Argumenten unterst√ºtzt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Qt-Framework verf√ºgt au√üerdem √ºber eine n√ºtzliche </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QMessageBox-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse, </font><font style="vertical-align: inherit;">√ºber die Sie einen modalen Dialog mit allen Informationen erstellen k√∂nnen, auf die der Benutzer achten sollte, z. B. auf einen Fehler oder eine Warnung. Die Haiku-API verf√ºgt zu diesem Zweck √ºber eine </font><strong><font style="vertical-align: inherit;">BAlert-</font></strong><font style="vertical-align: inherit;"> Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deren Implementierung unterscheidet sich etwas von der in Qt verf√ºgbaren. Beispielsweise muss ein Objekt dieser Klasse auf dem Heap und nicht auf dem Stapel erstellt werden, da es sich nach einer Benutzeraktion selbst l√∂schen muss. Was die anderen Klassen der grafischen Oberfl√§che betrifft, hatte ich hier absolut keine Schwierigkeiten und fand alles, was ich brauchte, ohne Probleme. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetzt h√§tte ich √ºber die einfache Architektur des Projekts nachdenken sollen. Ich beschloss, mich auf die Erstellung einer statischen Bibliothek zu konzentrieren, in der zwei Klassen ihre eigenen abgeleiteten Klassen von ihnen erben sollten. Die erste und wichtigste Klasse, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeLauncherBase</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ist verantwortlich f√ºr die Erstellung des Hauptstartfensters, die √úbertragung aller Benutzerparameter und bietet die M√∂glichkeit, eigene GUI-Elemente hinzuzuf√ºgen. </font><font style="vertical-align: inherit;">Die zweite Klasse, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeAboutWindow</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ist einfach daf√ºr verantwortlich, das Dialogfeld "√úber das Programm ..." mit Informationen zu √∂ffnen, die in einem separaten Fenster angezeigt werden. </font><font style="vertical-align: inherit;">Daher muss ein Programmierer zwei einfache Schritte ausf√ºhren, um seinen Launcher zu erstellen, beispielsweise um Gish zu spielen:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishAboutWindow</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeAboutWindow { ... }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishLauncher</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeLauncherBase { ... }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ BeApp *beApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BeApp(SIGNATURE); GishLauncher *gishLauncher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GishLauncher(BeUtils::GetPathToHomeDir()); beApp-&gt;SetMainWindow(gishLauncher); beApp-&gt;Run(); <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> beApp; beApp = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie zun√§chst eine entsprechende Startfunktion </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und erben Sie dann einfach von den beiden oben genannten Klassen und implementieren Sie die erforderlichen Methoden in diese. </font><font style="vertical-align: inherit;">Danach kompilieren wir die resultierende C ++ - Datei mit einem Link zu meiner statischen Bibliothek und unser Launcher f√ºr das Gish-Spiel ist fertig.</font></font><br><br><div style="text-align:center;"><img title=" ' ...'     Gish." src="https://habrastorage.org/webt/k1/hy/iw/k1hyiwbvnz6gnxaar4p7k2tnsso.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialog "√úber das Programm ..." im Launcher des Ports des Spiels Gish.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Als n√§chstes √ºberlegte ich, wie ich Parameter von meinem Launcher auf die Engine selbst oder in die ausf√ºhrbare Datei des Spiels √ºbertragen kann. Ich habe nur zwei M√∂glichkeiten gesehen, um dieses Problem zu l√∂sen. Der erste Weg bestand darin, die Umgebungsvariablen zu √§ndern. In der Praxis </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√ºgt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Launcher nach dem Klicken auf die Schaltfl√§che ‚ÄûAusf√ºhren‚Äú einfach alle Parameter in Umgebungsvariablen ein, indem er die Funktion </font><strong><font style="vertical-align: inherit;">setenv () aufruft</font></strong><font style="vertical-align: inherit;"> , und die Spiel-Engine liest diese Parameter dann mit der Funktion </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getenv ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die recht einfach aussieht. Das einzige Problem, das hier auftreten konnte, war die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">und ihre </font><strong><font style="vertical-align: inherit;">Launch ()</font></strong><font style="vertical-align: inherit;"> -Methode</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Ich wusste nicht, ob die mit Hilfe dieser Klasse gestartete Anwendung alle Umgebungsvariablen erbt, die im Launcher festgelegt wurden. Nach einem kleinen Experiment wurde die Vererbung von Umgebungsvariablen best√§tigt und ich habe diese Methode vollst√§ndig in mein Projekt implementiert. Die zweite M√∂glichkeit, das Problem zu l√∂sen, bestand darin, spezielle Befehlszeilenparameter festzulegen. In der Praxis hat der Launcher einfach alle Einstellungen in die entsprechenden Argumente eingef√ºgt und die mit ihnen ausf√ºhrbare Anwendung aufgerufen. Die Spiel-Engine musste sie jedoch bereits unabh√§ngig verarbeiten, was einige Schwierigkeiten verursachte. Wenn das Spiel beispielsweise nicht die M√∂glichkeit angenommen hat, den Pfad zu den Spieledateien √ºber Befehlszeilenparameter anzugeben, musste der Argumentparser in der Engine selbst ge√§ndert werden. Trotz dieser ProblemeIch habe diese Art der Interaktion implementiert und dadurch eine gro√üartige Gelegenheit erhalten, alles miteinander zu kombinieren. Dadurch konnte ich in einigen Startern eine Zeichenfolge zum Angeben von Benutzerargumenten erstellen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als alles entworfen war, entschied ich mich f√ºr ein Montagesystem f√ºr mein Projekt. Es wurden nur zwei Optionen in Betracht gezogen: Makefile "auf Steroiden" und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="CMake, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Im ersten Fall haben die Entwickler des Haiku-Betriebssystems ein praktisches </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Makefile-Engine-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket vorbereitet, </font><font style="vertical-align: inherit;">in dem sie alle erforderlichen Funktionen gesammelt haben, mit denen ein Entwickler konfrontiert w√§re, wenn er mit dem Schreiben einer Anwendung auf der Haiku-API begonnen h√§tte, z. B. die automatische √úbersetzungsgenerierung und Kompilierung von Anwendungsressourcen. Aber ich geh√∂re nicht zu denen, die nach einfachen Wegen suchen. Deshalb habe ich mich f√ºr CMake entschieden und einen Teil der Arbeit aus dem Makefile-Engine-Paket darauf √ºbertragen. Infolgedessen k√∂nnen Sie sich das resultierende monstr√∂se Assembly-Skript im Projekt-Repository ansehen, auf das ich weiter unten verweisen werde.</font></font><br><br><div style="text-align:center;"><img title="    Gish  Haiku." src="https://habrastorage.org/webt/jy/fw/wh/jyfwwhdhgxzofr_3cczuxxvmsig.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Gish Game Port Launcher f√ºr Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich m√∂chte ein paar Worte zur Anwendungslokalisierung schreiben. Im Qt-Framework gibt es hierf√ºr eine praktische </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr () -</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wrapper-Funktion </font><font style="vertical-align: inherit;">, zwei Hilfsdienstprogramme </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lrelease</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lupdate</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die an der Generierung von √úbersetzungsdateien beteiligt sind. Zum Framework geh√∂rt sogar ein spezielles </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Linguist-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programm </font><font style="vertical-align: inherit;">mit einer praktischen grafischen Benutzeroberfl√§che f√ºr √úbersetzer. In der Haiku-API sind Anwendungslokalisierungstools weniger bequem und archaischer. Es wird vorgeschlagen, die zu √ºbersetzenden Zeilen in ein spezielles Makro </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B_TRANSLATE () zu </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">verpacken</font></strong><font style="vertical-align: inherit;"> und der Quelldatei die Definition </font><strong><font style="vertical-align: inherit;">B_TRANSLATION_CONTEXT</font></strong><font style="vertical-align: inherit;"> hinzuzuf√ºgen</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die eine Gruppe √ºbersetzbarer Zeichenfolgen von einer anderen trennt. Danach muss etwas sehr Seltsames getan werden: Setzen Sie den Compiler-Pr√§prozessor mit dem Flag </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DB_COLLECTING_CATKEYS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr absolut alle </font><strong><font style="vertical-align: inherit;">Projektquelldateien</font></strong><font style="vertical-align: inherit;"> , zaubern Sie mit dem Dienstprogramm </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und erhalten Sie schlie√ülich eine riesige PRE-Datei. Mit dieser Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktioniert das</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dienstprogramm </font><strong><font style="vertical-align: inherit;">collectcatkeys</font></strong><font style="vertical-align: inherit;"> , mit dem bereits lesbare und einfach zu bearbeitende CATKEYS-√úbersetzerdateien erstellt werden. Nach dem Lokalisieren der Zeichenfolgen m√ºssen Sie das Dienstprogramm </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linkcatkeys verwenden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hiermit werden √úbersetzungen zu den Ressourcen der ausf√ºhrbaren Datei hinzugef√ºgt. Bei der Auswahl einer bestimmten Systemsprache zeigt die Anwendung daher die √ºbersetzten Zeilen an. Seltsamerweise enth√§lt die Haiku-API-Dokumentation zur Anwendungslokalisierung nur sehr wenige Informationen. Auf der offiziellen Website fand ich jedoch einen ausgezeichneten Artikel zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Localizing an application, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lokalisieren einer Anwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem viele Aspekte der Anwendungs√ºbersetzung f√ºr dieses Betriebssystem beschrieben werden. Soweit ich wei√ü, verf√ºgte das urspr√ºngliche BeOS nicht √ºber das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Locale Kit, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locale Kit-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Framework </font><font style="vertical-align: inherit;">und wurde nur zu Haiku hinzugef√ºgt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mein n√§chster Schritt war die Auswahl einer Umgebung f√ºr die Entwicklung von Anwendungen in der Programmiersprache C ++. Aufgrund der Tatsache , </font><font style="vertical-align: inherit;">dass Haiku hat mit dem Qt - </font><font style="vertical-align: inherit;">Framework, in Repositories so HaikuPorts die IDE, wie portiert </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Qt Creator, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Creator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KDevelop, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDevelop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dar√ºber hinaus gibt es einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Java virtual machine, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JVM-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Port </font><font style="vertical-align: inherit;">, √ºber den Sie IDEs verwenden k√∂nnen, die in der Programmiersprache Java geschrieben sind, z. B. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NetBeans, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetBeans</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="IntelliJ IDEA, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IntelliJ IDEA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich habe mich f√ºr die Qt Creator-Entwicklungsumgebung entschieden, zumal es in den neuesten Versionen eine qualitativ hochwertige Analyse des Codes mit dem </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibClang-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parser gibt </font><font style="vertical-align: inherit;">, der </font><strong><font style="vertical-align: inherit;">viel</font></strong><font style="vertical-align: inherit;"> genauer und schneller als der Standard-Parser funktioniert.</font></font><br><br><div style="text-align:center;"><img title="   Qt Creator,     Haiku." src="https://habrastorage.org/webt/sk/jg/he/skjgheksjieuiyylk7uhe1_dk6e.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die integrierte Entwicklungsumgebung Qt Creator, die auf dem Haiku-Betriebssystem ausgef√ºhrt wird.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In Bezug auf bekannte und plattform√ºbergreifende IDEs in Haiku ist alles in Ordnung. Aber was ist mit exklusiven L√∂sungen? Ich kann nur ein sehr interessantes Projekt erw√§hnen, das von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkWyrm</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gesponsert wird </font><font style="vertical-align: inherit;">und derzeit </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Fowler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unterst√ºtzt. Es hei√üt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Paladin, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dieses Programm macht den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Texteditor in der Betriebssystemdistribution </font><font style="vertical-align: inherit;">fast zu einer echten IDE.</font></font><br><br><div style="text-align:center;"><img title="   Paladin  Haiku,    HaikuPorts." src="https://habrastorage.org/webt/xp/ad/jp/xpadjpfvl4sfridhlc4wob9s3a0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin IDE f√ºr Haiku aus dem HaikuPorts-Repository installiert.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mithilfe der im Haiku-Fenstersystem integrierten Kacheln k√∂nnen Sie das Paladin-Fenster an der Seite des Pe-Editors anh√§ngen und ein Terminal hinzuf√ºgen. Ebenfalls im HaikuPorts-Repository befindet sich ein praktischer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Koder, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koder-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Texteditor </font><font style="vertical-align: inherit;">, der dem beliebten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Notepad++, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notepad ++ -</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programm </font><font style="vertical-align: inherit;">f√ºr Windows </font><font style="vertical-align: inherit;">√§hnelt </font><font style="vertical-align: inherit;">und auf den Erfahrungen des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Scintilla, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scintilla-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekts basiert </font><font style="vertical-align: inherit;">. F√ºr meine Anwendung habe ich eine Projekt-PLD-Datei erstellt, und jetzt kann jeder Entwickler, der die Paladin-IDE verwendet, mein Projekt problemlos in diesem Programm √∂ffnen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als die Qt Creator-Entwicklungsumgebung eingerichtet und betriebsbereit war, begann ich, alle geplanten Funktionen zu realisieren. Das erste Problem, auf das ich gesto√üen bin, betraf Skalierungssteuerelemente beim √Ñndern der Gr√∂√üe der Systemschriftart. Zu Beginn wurde in BeOS der gesamte Platzierungscode f√ºr GUI-Elemente explizit in Koordinaten festgelegt. Es war sehr unpraktisch, ausf√ºhrlich und verursachte eine Vielzahl von Problemen. Beispielsweise wurde bei gleicher √Ñnderung der Schriftgr√∂√üe die gesamte Form der Anwendung verteilt und unbrauchbar. Gl√ºcklicherweise versuchte Haiku, dieses Problem zu l√∂sen, und f√ºgte die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Layout API, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layout-API hinzu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die Teil des Interface Kit-Frameworks ist.</font></font><br><br><div style="text-align:center;"><img title="  Layout API          Haiku." src="https://habrastorage.org/webt/qt/m1/te/qtm1tehjp2cilj-wfflmps8hi8m.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durch die Verwendung der Layout-API reagieren Starter sehr korrekt auf das √Ñndern der Gr√∂√üe der Systemschriftart in Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diese Innovation l√∂ste mein Problem mit Positionierungssteuerelementen vollst√§ndig und ich schrieb die Anwendung mithilfe der Layout-API neu, wodurch die Codel√§nge an einigen Stellen erheblich reduziert wurde. Auf der offiziellen Haiku-Website fand ich eine Reihe interessanter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laying It All Out-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Artikel, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;">die die</font></a><font style="vertical-align: inherit;"> Gr√ºnde f√ºr die Erstellung dieser Softwareschnittstelle </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;">rechtfertigen</font></a><font style="vertical-align: inherit;"> und Beispiele f√ºr ihre Verwendung zeigen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiteres Problem wurde von Gerasim identifiziert, als er versuchte, mithilfe meiner Bibliothek einen Launcher f√ºr das von ihm portierte Spiel zu erstellen. Die Sache war, dass ich mich oft dem Quellcode des Haiku-Betriebssystems selbst zuwandte, um verschiedene Funktionen zu implementieren. Insbesondere habe </font><font style="vertical-align: inherit;">ich dort </font><font style="vertical-align: inherit;">ein Beispiel f√ºr die Verwendung der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">f√ºr ein Objekt der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse gefunden </font><font style="vertical-align: inherit;">. Das Problem manifestierte sich in der Tatsache, dass dieses Beispiel falsch war und die von Gerasim portierte Spiel-Engine die vom Launcher festgelegten Argumente nicht korrekt analysieren konnte. Nachdem ich den Haiku-Quellcode eingehender untersucht hatte, konnte ich feststellen, dass das erste Argument, das den vollst√§ndigen Pfad zur ausf√ºhrbaren Datei enthalten sollte, bei der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">nicht explizit festgelegt </font><font style="vertical-align: inherit;">werden muss </font><font style="vertical-align: inherit;">, da es automatisch festgelegt wird.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Error const char* args[] = { "/bin/open", fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 2, args); // Good const char* args[] = { fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 1, args); // See "src/kits/app/Roster.cpp", BRoster::ArgVector::Init() method: if (error == B_OK) { fArgs[0] = fAppPath.Path(); // &lt;= Here if (argc &gt; 0 &amp;&amp; args != NULL) { for (int i = 0; i &lt; argc; i++) fArgs[i + 1] = args[i]; if (hasDocArg) fArgs[fArgc - 1] = fDocPath.Path(); } // NULL terminate (eg required by load_image()) fArgs[fArgc] = NULL; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Dokumentation f√ºr die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">besagt nicht, dass das erste Argument nicht erforderlich ist, weshalb der Entwickler diesen Code wahrscheinlich falsch geschrieben hat. Ich habe diesen Fehler in meinem Projekt behoben und das Problem von Gerasim von selbst gel√∂st. Aber was ist mit diesem kleinen Fehler im Haiku-Betriebssystem selbst? Ich beschloss, sie auch zu reparieren. Zum Gl√ºck stellte sich heraus, dass dies sehr einfach war! Sie m√ºssen sich mit GitHub bei der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku Code Review, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haiku Code Review</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerrit-Ressource anmelden </font><font style="vertical-align: inherit;">, Ihren √∂ffentlichen SSH-Schl√ºssel hinzuf√ºgen, den Haiku-Quellcode aufteilen, ein Commit-Commit erstellen und den resultierenden Patch an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Code review, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code Review an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> privilegierte Entwickler </font><font style="vertical-align: inherit;">senden </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ssh://EXL@git.haiku-os.org/haiku --depth=1 -b master &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> haiku git commit git push origin master:refs/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/master</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie bereits gesendete Patches aktualisieren m√ºssen, m√ºssen Sie vor dem Senden ge√§nderter oder neuer Commits die ID hinzuf√ºgen, die uns der Haiku Code Review-Dienst am Ende der Commit-Nachricht gegeben hat. Nach dem Senden des Patches m√ºssen Haiku-Entwickler ihn genehmigen, ablehnen oder zur √úberarbeitung einreichen. In meinem Fall wurde die Korrektur sofort akzeptiert und dieser kleine Fehler ist jetzt √ºberall behoben. Wenn Sie Ihre Patches testen m√ºssen, bevor Sie sie an das Repository senden, k√∂nnen Sie versuchen </font><font style="vertical-align: inherit;">, eine separate Anwendung </font><font style="vertical-align: inherit;">mit dem </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dienstprogramm zu </font><font style="vertical-align: inherit;">kompilieren </font><font style="vertical-align: inherit;">, das ein Zweig des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Perforce Jam and Haiku Jam, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perforce Jam-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Build- </font><font style="vertical-align: inherit;">Systems </font><font style="vertical-align: inherit;">ist und zum Erstellen der gesamten Codebasis des Haiku-Betriebssystems verwendet wird. Das Quellcode-Repository enth√§lt die Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReadMe.Compiling.md</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, was Ihnen hilft, mit allen Kompilierungstricks umzugehen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Abschluss meines Projekts habe ich den Grund gefunden, warum das Programm Icon-O-Matic keine SVG-Dateien √∂ffnet, die mit dem Inkscape-Vektoreditor erstellt wurden. Die Sache ist, dass Icon-O-Matic das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viewBox-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Attribut nicht verarbeiten </font><font style="vertical-align: inherit;">kann. Wenn Sie jedoch eine einfache SVG-Datei ohne dieses Attribut finden, sie mit Inkscape bearbeiten und als </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einfache SVG-Datei speichern</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wird sie in Icon-O ge√∂ffnet -Matic. Daher habe ich eine solche speziell vorbereitete SVG-Datei in mein Repository gestellt, die bearbeitet werden kann und die problemlos in Icon-O-Matic ge√∂ffnet werden kann. Au√üerdem habe ich der ReadMe-Datei des Projekts eine kleine Anleitung zum Erstellen von Symbolen f√ºr meine Starter mit Inkscape hinzugef√ºgt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe mich entschlossen, den Code meines Projekts mit verschiedenen statischen Analyseger√§ten zu √ºberpr√ºfen, aber sie haben keine ernsthaften Probleme festgestellt. Aber ich fand sp√§ter ein Problem, das sie nicht erkennen konnten. Die Tatsache , </font><font style="vertical-align: inherit;">dass die statische Methode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetBitmap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTranslationUtils</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NULL zur√ºckgeben k√∂nnte:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Somewhere fBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, fIndex); void BeImageView::Draw(BRect rect) { // Fail const BRect bitmapRect = fBitmap-&gt;Bounds(); ... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und bei der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Draw ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode habe </font><font style="vertical-align: inherit;">ich versehentlich vergessen, das Feld der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fBitmap-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">auf G√ºltigkeit </font><font style="vertical-align: inherit;">zu √ºberpr√ºfen </font><font style="vertical-align: inherit;">. Daher st√ºrzte die Anwendung erwartungsgem√§√ü ab, wenn sie kein bestimmtes Bild fand, aber laut Plan sollte stattdessen ein rotes Quadrat gezeichnet werden. Ich erz√§hlte diese Geschichte der Tatsache, dass statische Analyseger√§te kein Allheilmittel sind und auf jeden Fall Aufmerksamkeit bei der Arbeit mit Code in der Programmiersprache C ++ erforderlich ist. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Quellcode des BeGameLauncher-Projekts und alle meine Best Practices werden in das Repository auf GitHub hochgeladen. Ich hoffe, dass dieses Programm f√ºr jemanden n√ºtzlich ist und eine Art Tutorial als einfache Anwendung f√ºr Haiku sein kann: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode des Projekts: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="BeGameLauncher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXL/BeGameLauncher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein kleiner Rat f√ºr diejenigen, die meinen Launcher in ihren Rezepten f√ºr das HaikuPorts-Repository verwenden. </font><font style="vertical-align: inherit;">Wenn Sie die ausf√ºhrbare Spieldatei aus der Liste der von einigen Programmen gelesenen Haiku-Anwendungen ausblenden und nur den Launcher dort belassen m√∂chten, k√∂nnen Sie den folgenden Trick verwenden:</font></font><br><br><pre> <code class="bash hljs">settype -t application/x-vnd.Be-elfexecutable <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish rc <span class="hljs-variable"><span class="hljs-variable">$portDir</span></span>/additional-files/gish.rdef -o gish.rsrc resattr -o <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish gish.rsrc</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies schlie√üt die M√∂glichkeit aus, ausf√ºhrbare Dateien ohne vom Launcher √ºbergebene Parameter aus verschiedenen Programmen wie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuickLaunch auszuf√ºhren</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die mit dem Schnellstart von Anwendungen befasst sind. </font><font style="vertical-align: inherit;">In diesem Fall wird Ihr urspr√ºngliches Symbol in der ausf√ºhrbaren Datei gespeichert. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="xash3d"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6. Portierung von Xash3D: Legend√§res Half-Life-Spiel und offizielle Add-Ons </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xash3D-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekt </font><font style="vertical-align: inherit;">ist eine kostenlose Implementierung der GoldSrc-Engine, die im Spiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life, Video Game, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Half-Life</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und in seinen offiziellen Add-Ons verwendet wird. Hinter der Entwicklung von Xash3D steht der inl√§ndische Programmierer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onkel Misha</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der seine Entwicklung und Verbesserung noch koordiniert. Wenig sp√§ter schlossen sich andere Entwickler dem Projekt an, die eine Abzweigung von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="FWGS Xash3D, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FWGS Xash3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit Unterst√ºtzung f√ºr eine gro√üe Anzahl von Nicht-Windows-Betriebssystemen herstellten. Heute sind </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mittorn</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a1batross</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libpony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">die wichtigsten Programmierer des FWGS Xash3D-Projekts. </font><font style="vertical-align: inherit;">Die letzte Person war ein aktiver Teilnehmer am einst beliebten </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;">MotoFan.Ru-</font></a><font style="vertical-align: inherit;"> Forum</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">was ich noch in meiner Freizeit verwalte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich fragte mich: Warum nicht diese Engine auf Haiku portieren, das Xash3D-Projekt um die Unterst√ºtzung eines so interessanten Betriebssystems erweitern und Haiku-Benutzern die M√∂glichkeit geben, das legend√§re Half-Life, ein Spiel aller Zeiten, zu spielen? Die Angelegenheit blieb klein - es war erforderlich, sofort mit der Arbeit an der Portierung zu beginnen und bei Erfolg die Ergebnisse dieser Arbeit zu ver√∂ffentlichen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich einige Stunden damit verbracht hatte, die Projektstruktur und die Teile des Codes zu studieren, die f√ºr die Unterst√ºtzung verschiedener Plattformen verantwortlich sind, nahm ich √Ñnderungen an der Xash3D-Engine vor, um das Haiku-Betriebssystem zu unterst√ºtzen. Auf die altmodische Weise habe ich den Compiler </font><strong><font style="vertical-align: inherit;">-D__linux__</font></strong><font style="vertical-align: inherit;"> definiert</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und versuchte, eine ausf√ºhrbare Datei und eine Reihe von Bibliotheken zu erstellen. √úberraschenderweise ging es ziemlich schnell und am Abend, nachdem ich Datendateien f√ºr das Spiel geworfen hatte, gelang es mir, Half-Life zu starten und mit dem Zug zum Hauptbahnhof in Black Mesa zu fahren.</font></font><br><br><div style="text-align:center;"><img title="   Xash3D  Haiku     Qt Creator." src="https://habrastorage.org/webt/8t/rd/59/8trd59d_6xk6-5nvpyjjvnvl0q0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Vorgang des Portierens der Xash3D-Engine nach Haiku in der Qt Creator-IDE.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgrund der Tatsache, dass das Projekt die plattform√ºbergreifende SDL2-Bibliothek verwendet, wird die Portierung der Engine erheblich vereinfacht, da Sie keinen plattformabh√§ngigen Code schreiben m√ºssen, z. B. Sound ausgeben, ein Fenster mit einem OpenGL-Kontext erstellen oder Eingabeereignisse verarbeiten. All dies wurde bereits in der SDL2-Bibliothek implementiert und ist einsatzbereit. Ein kleines Problem trat bei der Netzwerkunterst√ºtzung auf, da Haiku √ºber eine separate Bibliothek verf√ºgt, die den Netzwerkstapel implementiert, sodass er mit der Engine verkn√ºpft werden musste.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Projekt zur Erstellung von Tr√§gerraketen, √ºber das ich etwas h√∂her geschrieben habe, war f√ºr mich sehr n√ºtzlich. Durch die Vererbung von C ++ - Klassen habe ich die Funktionalit√§t ernsthaft erweitert und die M√∂glichkeit implementiert, verschiedene Erg√§nzungen zum Spiel auszuw√§hlen:</font></font><br><br><div style="text-align:center;"><img title="    Xash3D  Haiku." src="https://habrastorage.org/webt/fc/-5/ta/fc-5tazmkwvtk5e553ztbwipdoy.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Xash3D Engine Port Launcher f√ºr Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Idee war folgende: Definieren Sie drei Umgebungsvariablen, mit denen Sie die Spiel-Engine flexibel konfigurieren k√∂nnen, um ein bestimmtes Add-On zu starten. In diesem Fall w√§re es n√ºtzlich, den Benutzer mit den verschiedenen Argumenten der ausf√ºhrbaren Datei spielen zu lassen und die M√∂glichkeit des tragbaren Startens der Engine zu belassen, wenn sie sich nur im Verzeichnis mit den erforderlichen Datendateien befindet. Die erste Umgebungsvariable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_BASEDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist also f√ºr das Verzeichnis mit den </font><strong><font style="vertical-align: inherit;">Spieledateien</font></strong><font style="vertical-align: inherit;"> verantwortlich, die der Benutzer aus dem Launcher ausw√§hlt. Die zweite Variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_GAME</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist daf√ºr verantwortlich, welchen Zusatz der Benutzer zum Starten im Launcher ausgew√§hlt hat. Und hier ist die dritte Variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_MIRRORDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nur f√ºr fortgeschrittene Benutzer n√ºtzlich. Sie k√∂nnen das Xash3D-Systemverzeichnis auf einen beliebigen beschreibbaren Speicherplatz f√ºr den Benutzer spiegeln. Daher muss eine Person, die ihr Add-On-Spiel auf der Xash3D-Engine unter Haiku ver√∂ffentlichen m√∂chte, nur mehrere dynamische Bibliotheken f√ºr verschiedene Architekturen aus dem Quellcode ihres Projekts sammeln: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./cl_dlls/libclient-haiku.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./dlls/libserver-haiku .so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./cl_dlls/libclient-haiku64.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä¢ ./dlls/libserver-haiku64.so </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und legen Sie sie dann in den entsprechenden Verzeichnissen Ihres Add-Ons ab. F√ºr meinen Xash3D-Port habe ich mich entschlossen, Bibliotheken mit beliebten Add-Ons f√ºr das Half-Life-Spiel vorkompilieren, n√§mlich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life: Blue Shift, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blue Shift</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life: Opposing Force, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opposing Force</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hiermit k√∂nnen Benutzer einfach ihre Datendateien herunterladen, ein Verzeichnis ausw√§hlen und das Spiel ohne Zusammenstellung der Bibliothek starten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Portieren der Xash3D-Engine stie√ü ich auf einige lustige Probleme. Es stellt sich heraus, dass </font><font style="vertical-align: inherit;">die Engine </font><font style="vertical-align: inherit;">zur Bestimmung der L√§nge der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hilfemeldung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr die Argumente der ausf√ºhrbaren Datei, die bei der </font><strong><font style="vertical-align: inherit;">√úbergabe des</font></strong><font style="vertical-align: inherit;"> Parameters </font><strong><font style="vertical-align: inherit;">--help</font></strong><font style="vertical-align: inherit;"> generiert wird </font><font style="vertical-align: inherit;">, die vordefinierte Gr√∂√üe der Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_SYSPATH verwendet hat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die ein Alias ‚Äã‚Äãeiner anderen Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist </font><font style="vertical-align: inherit;">, deren Wert bereits aus der Haiku-API √ºbernommen wurde. Daher konnte ich lange Zeit nicht verstehen, warum dieses Zertifikat unvollst√§ndig ausgestellt und an der interessantesten Stelle abgeschnitten wurde. Zuerst habe ich das auf seltsame Weise zum Standardfehlerausgabestream ges√ºndigt</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr hat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die Pufferung angeschlossen und sogar versucht, sie zwangsweise zu deaktivieren. Nach einiger Zeit fiel mir ein, dass ich von der sehr geringen Gr√∂√üe der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Konstante </font><font style="vertical-align: inherit;">im Haiku-Betriebssystem </font><font style="vertical-align: inherit;">√ºberrascht war </font><font style="vertical-align: inherit;">. Diese Konstante nimmt eine Pfadgr√∂√üe von nur 1024 Bytes an. Meine Vermutung hat sich vollst√§ndig ausgezahlt. Sobald ich die Nachrichtengr√∂√üe auf Standard-4096-Bytes erh√∂ht habe, wurde das Problem behoben. Die folgende Schlussfolgerung sollte aus dieser lustigen Geschichte gezogen werden: Sie sollten die Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH nicht</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in Zeichenarrays verwenden, die in keiner Weise mit Dateipfaden verkn√ºpft sind.</font></font><br><br><div style="text-align:center;"><img title="    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   )." src="https://habrastorage.org/webt/j-/9m/58/j-9m58kzb6pha8dsg5-_rlbbfvw.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Collage von Screenshots des Spiels Half-Life sowie seiner offiziellen Erg√§nzungen Blue Shift und Opposing Force, die mit der Xash3D-Engine im Haiku-Betriebssystem gestartet wurden (Vorschau, Erh√∂hung durch </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referenz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ein weiteres Problem war der Absturz, wenn die Funktionalit√§t der Engine selbst verwendet wurde, um das Add-On f√ºr das Spiel auszuw√§hlen. Es stellte sich heraus , </font><font style="vertical-align: inherit;">dass , </font><font style="vertical-align: inherit;">wenn der exponierte defayne </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH_INTERNAL_GAMELIBS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Client - </font><font style="vertical-align: inherit;">Bibliothek nicht einmal geladen , </font><font style="vertical-align: inherit;">sondern zweimal. Was ein √§hnliches Problem mit sich brachte. Wie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mir a1batross</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erkl√§rt </font><strong><font style="vertical-align: inherit;">hat</font></strong><font style="vertical-align: inherit;"> , wurde dies getan, damit die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenVGUI-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek statisch </font><font style="vertical-align: inherit;">mit der Client-Bibliothek </font><font style="vertical-align: inherit;">verkn√ºpft werden kann </font><font style="vertical-align: inherit;">. In meinem Xash3D-Port auf Haiku wird diese Bibliothek in keiner Weise verwendet, daher habe ich nur die Verwendung der Standardeinstellung vermieden</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH_INTERNAL_GAMELIBS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und meldete diesen Fehler den Entwicklern der Engine. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dann stie√ü ich auf die Unm√∂glichkeit, den in Haiku integrierten </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPositive-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Browser zu </font><strong><font style="vertical-align: inherit;">√∂ffnen,</font></strong><font style="vertical-align: inherit;"> wenn </font><font style="vertical-align: inherit;">ich </font><font style="vertical-align: inherit;">auf Links in einem in Xash3D laufenden Spiel klickte. Das Problem war wirklich seltsam, denn als die Engine vom Terminal aus gestartet wurde, √∂ffnete sich der Browser, aber als sie mit dem Launcher gestartet wurde, weigerte er sich, dies zu tun. Nachdem ich den Code ein wenig studiert hatte, fand ich dort den Aufruf </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">execve ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , den ich durch </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">system ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu ersetzen versuchte. </font><font style="vertical-align: inherit;">Danach begann der Browser ohne Probleme zu √∂ffnen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn ein Fehler auftritt, verwendet die Xash3D-Engine aktiv die Funktionsaufrufe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nur der aktuelle SDL2-Bibliotheksport f√ºr Haiku unterst√ºtzt die Erstellung dieser Dialoge nicht. </font><font style="vertical-align: inherit;">Unsere Version der Bibliothek verf√ºgt einfach nicht √ºber diese Funktionalit√§t. </font><font style="vertical-align: inherit;">Aber ich werde weiter unten √ºber die Behebung dieses Problems sprechen.</font></font><br><br><div style="text-align:center;"><img title="  Xash3D,    Haiku Depot." src="https://habrastorage.org/webt/jo/fn/8q/jofn8q1crxkrfms-cr5c4mivrf8.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Port der Xash3D-Engine, der im Haiku Depot-Repository ver√∂ffentlicht wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist auch erw√§hnenswert, dass Gerasim Troeglazov vor meiner √úbertragung der Xash3D-Engine auf Haiku eine Mauscursor-Erfassung in SDL2 implementiert hat. Vorher war das Spielen von 3D-Spielen fast unm√∂glich. Wenig sp√§ter behebte er einen kniffligen Fehler, bei dem die Bewegung des Spielers im Weltraum allm√§hlich verlangsamt wurde und das Spiel furchtbar langsamer wurde. Es stellte sich heraus, dass die Mauszeigerereignisse standardm√§√üig mit ihrer gesamten Bewegungshistorie auf dem Bildschirm √ºbertragen wurden. Dementsprechend wurde diese Geschichte w√§hrend des Spiels schnell aufgeblasen und alles begann sich stark zu verlangsamen. Durch Deaktivieren dieser Funktion im Haiku SDL2-Port wurde dieses Problem behoben. Jetzt k√∂nnen Sie Half-Life problemlos spielen. Der Mangel an 3D-Beschleunigung auf schwacher Hardware macht sich jedoch bemerkbar. Und wenn das Spiel im Fenster anst√§ndig funktioniert und √ºberhaupt nicht langsamer wird, wird im Vollbildmodus die FPS erheblich reduziert.Hier hilft es jedoch nur, dem Grafiktreiber eine Hardwarebeschleunigung hinzuzuf√ºgen, zumindest f√ºr die GPUs, die in g√§ngigen Intel-Prozessoren integriert sind.</font></font><br><br> <strong><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D, GitHub repository."><font style="vertical-align: inherit;"></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode </font><strong><font style="vertical-align: inherit;">: </font></strong><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D, GitHub repository."><font style="vertical-align: inherit;">https://github.com/FWGS/xash3d</font></a></strong><font style="vertical-align: inherit;"> Ich habe alle √Ñnderungen am Quellcode an die Entwickler des FWGS Xash3D-Projekts gesendet, die sie im Repository akzeptiert haben. Pakete mit dieser Engine sind seit langem in HaikuPorts und im HaikuDepot-Programm f√ºr jeden Haiku-Benutzer verf√ºgbar . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="serious"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. Portierung der beiden Teile des Spiels Serious Sam: The First Encounter und The Second Encounter </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vor kurzem haben Entwickler von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Croteam, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Croteam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Quellcode f√ºr die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serious Engine ver√∂ffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die in Spielen der Serious Sam-Reihe verwendet wird: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Sam: The First Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The First Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Sam: The Second Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Second Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ich beschloss, es auf das Haiku-Betriebssystem zu portieren, lud den Quellcode herunter und begann zu arbeiten.</font></font><br><br><div style="text-align:center;"><img title="    Serious Engine  Haiku." src="https://habrastorage.org/webt/lk/3b/ep/lk3bep2lrqjisyvfokrzp3tnovi.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Serious Engine Port Launcher f√ºr Haiku. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Zusammenstellen der ausf√ºhrbaren Datei nach den √Ñnderungen war ohne Probleme m√∂glich, aber es war nicht so einfach, das Spiel zu starten, da Fehler in die SDL2-Dialoge eingef√ºgt wurden, die in der Version dieser Bibliothek f√ºr Haiku nicht implementiert sind. </font><font style="vertical-align: inherit;">Daher musste ich den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , den bew√§hrten Standard-Fehlerausgabestream, </font><font style="vertical-align: inherit;">aufgreifen und die Probleme langsam l√∂sen, was sich haupts√§chlich als das Fehlen der erforderlichen Spieldatendateien herausstellte.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The Second Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/dt/us/dy/dtusdy2gusdfijgdvipexqfcb0o.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot von Serious Sam: Das zweite Begegnungsspiel, das √ºber den Serious Engine-Port f√ºr das Haiku-Betriebssystem gestartet wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich die heruntergeladenen Dateien in die erforderlichen Verzeichnisse zerlegt hatte, konnte ich den zweiten Teil dieses wunderbaren Spiels ohne Probleme ausf√ºhren und lief sogar ein wenig durch den wundersch√∂nen Dschungel. Trotz der fehlenden 3D-Beschleunigung zeichnet der Prozessor die grafischen Reize des Spiels, wenn Sie es in einem Fenster und nicht im Vollbildmodus ausf√ºhren. Diese Engine arbeitet nat√ºrlich mit viel niedrigeren FPS als die Xash3D-Engine, √ºber die ich oben geschrieben habe, aber die Grafiken hier sind moderner und besser. Nach geringf√ºgigen Manipulationen war es m√∂glich, den ersten Teil des Spiels zu starten, f√ºr den eine andere ausf√ºhrbare Datei und ein anderer Satz dynamischer Bibliotheken erforderlich sind. √úberraschenderweise hat sie etwas schneller verdient, anscheinend sind die Grafiken darin nicht so anspruchsvoll. Beim Klettern der Motoreinstellungen habe ich eine Vielzahl von Grafikparametern gefunden, die die Belastung des Prozessors erheblich reduzieren k√∂nnen.was sich im Fall von Haiku als sehr n√ºtzlich herausstellte.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The First Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/lb/bw/uq/lbbwuq6ei6thjz8evtumifyuqso.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Spiels Serious Sam: The First Encounter, das √ºber den Port der Serious Engine f√ºr das Haiku-Betriebssystem gestartet wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe beschlossen, ein Paket f√ºr zwei Teile des Spiels gleichzeitig zu erstellen. Der Wechsel zwischen ihnen erfolgt einfach durch Auswahl eines Verzeichnisses mit den entsprechenden Datendateien. Wenn beispielsweise ein Benutzer im Launcher das Verzeichnis mit den Dateien des Spiels Serious Sam: The First Encounter ausw√§hlt, wird die entsprechende ausf√ºhrbare Datei gestartet und der entsprechende Satz dynamischer Bibliotheken geladen. Und wenn er das Verzeichnis mit den Dateien des Spiels Serious Sam: The Second Encounter ausw√§hlt, startet der Launcher entsprechend eine weitere ausf√ºhrbare Datei, die seine eigenen gemeinsam genutzten Bibliotheken l√§dt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leider war es nicht ohne Probleme. Eine wiederholte √Ñnderung der Aufl√∂sung des Videomodus im Spiel f√ºhrte zum Ausfall der gesamten Engine. In diesem Fall war dieser Absturz in meiner Linux-Distribution nicht der Fall. Ich habe viel Zeit damit verbracht, das Problem zu lokalisieren und zu beheben. Es stellte sich heraus, dass der </font><strong><font style="vertical-align: inherit;">springende</font></strong><font style="vertical-align: inherit;"> Punkt war, dass bei jeder √Ñnderung der Aufl√∂sung das Fenster </font><strong><font style="vertical-align: inherit;">SDL_Window</font></strong><font style="vertical-align: inherit;"> zerst√∂rt und erneut erstellt wurde</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gleichzeitig konnte der OpenGL-Renderer nicht rechtzeitig wechseln und versuchte, dort etwas in das zerst√∂rte Fenster zu zeichnen. Solche Tricks erlaubte der SDL2-Bibliotheksport auf Haiku nicht zu starten. Alle einfachen Versuche, dieses Problem zu l√∂sen, halfen nicht, und ich musste mich ernsthaft mit der Logik befassen und das Verhalten √§ndern, damit das Fenster beim √Ñndern der Aufl√∂sung nicht kaputt ging, sondern seine Parameter einfach ge√§ndert wurden. Dies half, den Absturz zu beseitigen, f√ºgte jedoch eine zus√§tzliche Einschr√§nkung hinzu: Um den Vollbildmodus zu aktivieren, m√ºssen Sie die Engine neu starten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiteres Problem war der Mangel an Musik im Spiel. Unter Linux trat dieses Problem jedoch erneut nicht auf. Bei der Untersuchung des Quellcodes der Engine stellte ich fest, dass das Abspielen von Musik von der </font><strong><font style="vertical-align: inherit;">libvorbisfile-</font></strong><font style="vertical-align: inherit;"> Bibliothek abh√§ngt</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aber die Engine selbst verbindet sich nicht damit, sondern verwendet die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systemfunktion dlopen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um den OGG-Audiodateistream dieser Bibliothek </font><strong><font style="vertical-align: inherit;">zuzuf√ºhren</font></strong><font style="vertical-align: inherit;"> . Das Problem war, dass die Engine diese Bibliothek auf Haiku nicht finden konnte, da es ohne Version keinen Symlink zur Bibliotheksdatei gab.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CUnixDynamicLoader::DoOpen(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *lib) { <span class="hljs-comment"><span class="hljs-comment">// Small HACK for Haiku OS (: #ifdef __HAIKU__ static int vorbis_cnt = 3; char path[PATH_MAX]; char libpath[PATH_MAX]; find_directory(B_SYSTEM_LIB_DIRECTORY, -1, false, libpath, PATH_MAX); if (strstr(lib, "vorbis")) { snprintf(path, sizeof(path), "%s/libvorbisfile.so.%c", libpath, char(vorbis_cnt + '0')); vorbis_cnt++; lib = path; } #endif // fprintf(stderr, "dlopen =&gt; %s\n", lib); module = ::dlopen(lib, RTLD_LAZY | RTLD_GLOBAL); SetError(); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein kleiner Trick, der den vollst√§ndigen Pfad zur erforderlichen Bibliothek in die Funktion ersetzte, erwies sich als vollst√§ndig funktionierende L√∂sung. Und da die Bibliothek in ihrer Abwesenheit mehrmals von der Engine durchsucht wird, habe ich f√ºr die Zukunft die M√∂glichkeit gelassen, die n√§chste Hauptversion zu laden. Ich hoffe, dass sie die API darin nicht brechen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das n√§chste Problem, auf das ich stie√ü, war die Unf√§higkeit, die Prozessorfrequenz auf der x86-Architektur zu bestimmen, obwohl auf x86_64 alles gut funktionierte. Bei der Ausf√ºhrung unter x86 wurde die Engine aufgefordert, eine Umgebungsvariable mit dem Namen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SERIOUS_MHZ festzulegen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und stellen Sie die entsprechende Frequenz ein, was mich sehr √ºberrascht hat. Ich habe es versucht und das Spiel hat wirklich begonnen, aber aus irgendeinem Grund hat es zu langsam funktioniert. Als ich den Quellcode des Spiels erklomm, konnte ich lange Zeit die Ursache des Problems nicht finden und schrieb sogar einen Code, der die Haiku-API verwendet, um die richtige Prozessorfrequenz zu erhalten und sie in die Spiel-Engine zu ersetzen. So sah es aus:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;kernel/OS.h&gt; #include &lt;stdio.h&gt; ... uint64 cpuFreq = 0; uint32 count = 0; get_cpu_topology_info(NULL, &amp;count); if (count != 0) { cpu_topology_node_info *topology = new cpu_topology_node_info[count]; get_cpu_topology_info(topology, &amp;count); for (uint32 i = 0; i &lt; count; ++i) { if(topology[i].type == B_TOPOLOGY_CORE) { cpuFreq = topology[i].data.core.default_frequency; } } delete[] topology; } fprintf(stderr, "%llu\n", cpuFreq);</span></span></span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber das hat nicht geholfen. Dann habe ich die Engine-Protokolle auf x86_64 √ºberpr√ºft und festgestellt, dass dort die CPU-Frequenz im Allgemeinen bei 1 MHz bestimmt wird, aber alles funktioniert einwandfrei. Als ich den Code weiter untersuchte, stie√ü ich auf eine Ablehnung der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> __GNU_INLINE_X86_32__ </font><font style="vertical-align: inherit;">, die automatisch </font><font style="vertical-align: inherit;">verf√ºgbar gemacht </font><font style="vertical-align: inherit;">wird, wenn die Anwendung f√ºr die x86-Architektur erstellt wird, nicht jedoch f√ºr x86_64. Unterhalb dieser Definition wurde das Flag, das fr√ºher SDL2-Timer verwendete, ausgeblendet, anstatt die Prozessorfrequenz mithilfe verschiedener magischer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Methoden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie Inline-Assembler und </font><strong><font style="vertical-align: inherit;">rdtsc-</font></strong><font style="vertical-align: inherit;"> Anweisungen zu ermitteln </font><font style="vertical-align: inherit;">oder die Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ proc / </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">cpuinfo zu</font></strong><font style="vertical-align: inherit;"> lesen. </font><strong><font style="vertical-align: inherit;">Daher</font></strong><font style="vertical-align: inherit;"> habe ich dieses Flag aktiviert und aktiviert f√ºr x86, was mein Problem gel√∂st hat. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der letzte Mangel hing mit meiner Nachl√§ssigkeit zusammen. Ich habe in der Assembly-Datei verpasst</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMakeLists.txt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setzt das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">native</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Flag </font><strong><font style="vertical-align: inherit;">-march =</font></strong><font style="vertical-align: inherit;"> , das dem Compiler buchst√§blich mitteilt: Verwenden Sie beim Generieren von Maschinencodebl√∂cken alle anspruchsvollen und modernen Anweisungen, die auf dem Prozessor Ihres Computers verf√ºgbar sind.</font></font><br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> PANDORA <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">message</span></span>(<span class="hljs-string"><span class="hljs-string">"Warning: arch-native will be used!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add_compile_options</span></span>(-march=native) <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(CMAKE_SIZEOF_VOID_P <span class="hljs-keyword"><span class="hljs-keyword">EQUAL</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 32-bit message("Warning: Will building 32-bit executable with MMX, SSE, SSE2 support.") add_compile_options(-mmmx -msse -msse2) else() # 64-bit message("Warning: Will building 64-bit executable.") endif() endif()</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aus diesem Grund wurden Pakete im Repository ausschlie√ülich unter dem leistungsst√§rksten Build-Server gesammelt und weigerten sich, auf den Computern gew√∂hnlicher Sterblicher ausgef√ºhrt zu werden, wobei sie auf die falschen Anweisungen und Opcodes schworen. Das Deaktivieren dieses Flags und das manuelle Hinzuf√ºgen von Unterst√ºtzung f√ºr MMX-, SSE- und SSE2-Anweisungen l√∂ste nicht nur dieses Problem, sondern erm√∂glichte es uns auch, eine gro√üe Anzahl von Inline-Assemblern in diesem Projekt zu kompilieren, die nach dem Entfernen dieses Flags abfielen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zu meinem gro√üen Bedauern akzeptieren Croteam-Entwickler keine Patches im Engine-Repository. Deshalb habe ich meine gesamte Arbeit dort abgelegt </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine fork, GitHub repository."><font style="vertical-align: inherit;">Projektquellcode</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/Serious-Engine</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installationsfertige Pakete zum Starten von Serious Sam-Spielen sind bereits im HaikuPorts-Repository verf√ºgbar. </font><font style="vertical-align: inherit;">Denken Sie daran, die Spieldatendateien herunterzuladen. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="vangers"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8. Portierung des Vangers-Spiels </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehrlich gesagt war ich bis vor kurzem mit diesem Spiel, das in den fernen 90ern vom heimischen Entwicklungsstudio KD Lab entwickelt wurde, v√∂llig unbekannt. </font><font style="vertical-align: inherit;">Die Teilnehmer der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="OS Haiku - ,   Telegram."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konferenz in Telegram IM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die sich mit der Diskussion des Haiku-Betriebssystems befasst, baten mich jedoch, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vangerov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Wikipedia page."><font style="vertical-align: inherit;">portieren,</font></a><font style="vertical-align: inherit;"> und gaben mir einen Link zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub-Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem sich die Quellen dieses Spiels befanden.</font></font><br><br><div style="text-align:center;"><img title="      Haiku." src="https://habrastorage.org/webt/sd/k8/db/sdk8dbv4o-8hgoaohnzuk4xoo0w.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Vanger Game Port Launcher f√ºr Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nachdem ich den Quellcode in Haiku gezogen hatte, versuchte ich ihn zu kompilieren und es gelang mir ohne besondere Probleme. Ich musste ein bisschen am Fehlen einiger Header-Dateien und an den Pfaden zu den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="FFmpeg, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg-Bibliotheken</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basteln </font><font style="vertical-align: inherit;">, die von der Engine dieses Spiels verwendet werden. Ich habe sofort damit begonnen, den Quellcode f√ºr das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Packen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vorzubereiten, also habe ich die Umgebungsvariable </font><strong><font style="vertical-align: inherit;">VANGERS_DATA hinzugef√ºgt</font></strong><font style="vertical-align: inherit;"> und das Engine-Protokoll in das beschreibbare Benutzerverzeichnis verschoben.</font></font><br><br><div style="text-align:center;"><img title="     Haiku     Qt Creator." src="https://habrastorage.org/webt/_i/_o/mi/_i_omiac7lqewaq6ml8p4ow4dwg.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Vorgang des Portierens eines Vanger-Spiels nach Haiku in der Qt Creator-IDE.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe das Spiel selbst gestartet und nach einer Weile habe ich die ganze Atmosph√§re gesch√§tzt, die die Jungs von KD Lab geschaffen haben. Nach einiger Zeit begann ich, den Nimbus munter zum Inkubator und den Schleim nach Podish zu tragen, wonach ich es sogar schaffte, den Elik zum dritten zu bringen. Nachdem ich genug gespielt hatte, begann ich, basierend auf meiner Bibliothek, √ºber die ich oben geschrieben habe, einen Launcher f√ºr dieses Spiel vorzubereiten.</font></font><br><br><div style="text-align:center;"><img title="  ,     Haiku." src="https://habrastorage.org/webt/cf/l6/yv/cfl6yvi5euj0sn29wrvgzdpzo2k.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Spielport f√ºr Vanger, der auf dem Haiku-Betriebssystem ausgef√ºhrt wird.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das erste Problem, auf das ich stie√ü, war, dass die Spieldatendateien, die offiziell √ºber die digitalen Vertriebsdienste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers on GOG.com"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOG.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers on Steam."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abgerufen werden konnten </font><font style="vertical-align: inherit;">, nicht mit der Engine funktionieren wollten. Ich musste mich an eine Person wenden, die den Spitznamen </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg verwendet</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Wanger auf Linux portiert. Er sagte mir, welche Dateien ersetzt werden sollen, damit alles beginnt und funktioniert. Ich folgte seinen Empfehlungen und bekam, was ich brauchte.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie im Fall des NXEngine-Ports (Cave Story), √ºber den ich oben geschrieben habe, unterscheiden sich die russische und die englische Version in verschiedenen ausf√ºhrbaren Dateien, aber das Verzeichnis mit den Datendateien ist √ºblich, die Unterschiede bestehen nur in den Skripten. An der Spitze von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg habe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich versucht, die Spiel-Engine mit der Option </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DBINARY_SCRIPT = Off</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu kompilieren </font><font style="vertical-align: inherit;">, wodurch die dynamische Kompilierung dieser Skripte zur Laufzeit aktiviert wurde, wenn sie sich im Verzeichnis der Spieldatendateien befinden. All dies erm√∂glichte es mir, einen Launcher zu erstellen, in dem die Sprache gewechselt werden kann. Die Idee ist folgende: Das Spielverzeichnis wird vorab √ºberpr√ºft, und wenn es nicht √ºber die erforderlichen Skripte verf√ºgt, werden sie aus den Eingeweiden des Pakets kopiert, wonach die ausf√ºhrbare Datei der russischen oder englischen Version bereits ausgef√ºhrt wird.</font></font><br><br><div style="text-align:center;"><img title="  ,    Haiku Depot." src="https://habrastorage.org/webt/zx/c3/ys/zxc3yseedkzeexk3yxb-3x08azs.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Spielehafen von Vanger, ver√∂ffentlicht im Haiku Depot-Repository.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bei der Portierung von Wanger habe ich eine interessante Funktion verwendet, die sich auf gemeinsam genutzte Bibliotheken bezieht, die ich an Haiku mag. Die Spiel-Engine h√§ngt von der dynamischen Bibliothek </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libclunk.so ab</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die f√ºr die Erzeugung binauraler Sounds in Echtzeit verantwortlich ist. Und wenn ich unter Linux meine Finger brechen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muss</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , indem </font><font style="vertical-align: inherit;">ich den </font><font style="vertical-align: inherit;">Pfad zu dieser Bibliothek </font><font style="vertical-align: inherit;">in der Umgebungsvariablen </font><strong><font style="vertical-align: inherit;">LD_LIBRARY_PATH ersetze</font></strong><font style="vertical-align: inherit;"> , damit auch das, was zuvor in dieser Variablen war, gespeichert wird, dann geschieht dies in Haiku bequem wie in Windows. Es reicht aus, die gemeinsam genutzte Bibliothek neben die ausf√ºhrbare Datei zu stellen, und sie wird abgeholt. Der einzige Unterschied besteht darin, dass im Fall von Haiku die Bibliothek im Verzeichnis </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./lib/ abgelegt werden muss.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, was meiner Meinung nach viel Zeit und Nerven sparen kann. </font><font style="vertical-align: inherit;">Daher habe ich beschlossen, die statische Kompilierung dieser Bibliothek nicht in Betracht zu ziehen. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/KranX/Vangers</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wanger-Entwickler haben meine √Ñnderungen an ihrer Spiel-Engine akzeptiert, und einbaufertige Pakete k√∂nnen aus dem HaikuPorts-Repository oder dem HaikuDepot-Programm heruntergeladen werden, obwohl in der Repository-Infrastruktur k√ºrzlich ein Fehler aufgetreten ist Aktualisieren der Fedora Linux-Distribution auf die neue Version. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="sdl2"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9. Implementierung von Dialogen in der SDL2-Bibliothek f√ºr Haiku </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Portieren der Xash3D- und Serious Engine-Engines, √ºber die ich oben geschrieben habe, bin ich auf einen lokalen Port in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL2-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;">gesto√üen,</font></a><font style="vertical-align: inherit;"> bei dem die Implementierung von Dialogen v√∂llig fehlte. Dialoge werden von zwei Funktionen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aufgerufen: SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit denen der Benutzer √ºber wichtige Informationen, beispielsweise √ºber einen Fehler, informiert werden kann. Die Implementierung dieser Dialoge ist auf vielen Plattformen und Betriebssystemen verf√ºgbar: Windows, MacOS, iOS, X11 und Android, fehlt jedoch aus irgendeinem Grund in Haiku. Ich habe beschlossen, dieses Vers√§umnis zu beheben und diese Funktionalit√§t dem SDL2-Bibliotheksport hinzuzuf√ºgen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Haiku-API oder besser gesagt im Interface Kit-Framework gibt es eine wunderbare Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das ist gro√üartig f√ºr die Implementierung solcher Dialoge. Ich entschied mich, es als Basis zu w√§hlen. Das einzige, was mich st√∂rte, war, dass ich nicht sicher war, ob </font><font style="vertical-align: inherit;">mehr als drei Schaltfl√§chen </font><font style="vertical-align: inherit;">in dem von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert erstellten</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dialog </font><strong><font style="vertical-align: inherit;">platziert</font></strong><font style="vertical-align: inherit;"> werden konnten </font><font style="vertical-align: inherit;">. Ich erinnerte mich auch an die Speicherverwaltungsfunktionen in dieser Klasse, √ºber die ich oben geschrieben habe: Die Objekte k√∂nnen nur auf dem Heap und nicht auf dem Stapel erstellt werden, da sie sich nach dem Aufrufen der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">und der nachfolgenden Benutzeraktion selbst l√∂schen. Nachdem ich einige Experimente durchgef√ºhrt hatte, zerstreute ich alle meine Zweifel, erbte von dieser Klasse und begann eine Implementierung zu schreiben.</font></font><br><br><div style="text-align:center;"><img title="    SDL2    Haiku." src="https://habrastorage.org/webt/wj/lu/an/wjluanrt_t4sy9sq7tjzzwtsfje.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung von Dialogen in der SDL2-Bibliothek f√ºr das Haiku-Betriebssystem.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die erste Schwierigkeit, auf die ich stie√ü, bestand darin, dass bei Verwendung eines Objekts der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">oder ihrer Nachkommen eine Instanz der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BApplication-Systemklasse erstellt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werden musste </font><font style="vertical-align: inherit;">, anscheinend um die Anwendung in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app_server</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><strong><font style="vertical-align: inherit;">registrieren</font></strong><font style="vertical-align: inherit;"> , um mit ihr interagieren zu k√∂nnen. Ich habe eine Instanz dieser Klasse erstellt, aber beim Aufrufen des </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dialogfelds </font><font style="vertical-align: inherit;">aus einem anderen Prozess oder aus dem erstellten Fenster ist ein weiterer Fehler </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aufgetreten</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">der darauf zur√ºckzuf√ºhren ist, dass die Anwendung nicht √ºber zwei Objekte der </font><strong><font style="vertical-align: inherit;">BApplication-</font></strong><font style="vertical-align: inherit;"> Klasse </font><strong><font style="vertical-align: inherit;">verf√ºgen</font></strong><font style="vertical-align: inherit;"> kann. Gl√ºcklicherweise habe ich eine L√∂sung f√ºr dieses Problem gefunden. Die Haiku-API verf√ºgt √ºber einen globalen Zeiger auf die aktuelle Instanz der Klasse</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die BApplication</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Namen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ihr Gegenst√ºck im Qt-Framework, ist ein spezielles </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qApp-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Makro </font><font style="vertical-align: inherit;">, das auch einen Zeiger auf das aktuelle Anwendungsobjekt definiert. Es reicht also aus, einfach den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeiger </font><font style="vertical-align: inherit;">auf NULL zu √ºberpr√ºfen. Wenn die Pr√ºfung erfolgreich ist, erstellen Sie das erforderliche Objekt. Damit waren alle diese Probleme gel√∂st. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist erw√§hnenswert, dass die SDL2-Bibliothek in der Programmiersprache C geschrieben ist und die Haiku-API, wie Sie wissen, die Programmiersprache C ++ verwendet. Aus diesem Grund sollten einige Teile des Codes mit </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externen "C"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Bindungskonventionen beschichtet werden, </font><font style="vertical-align: inherit;">damit beim Verkn√ºpfen keine Probleme mit der Zeichenaufl√∂sung auftreten. Auch anstelle von</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um den Bediener zu verwenden </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neu (die std :: nothrow)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die </font><font style="vertical-align: inherit;">Lage sein , </font><font style="vertical-align: inherit;">den zugewiesenen Speicher f√ºr ein NULL zu √ºberpr√ºfen, anstatt die Ausnahmen der Freigabe , </font><font style="vertical-align: inherit;">dass SDL2, nat√ºrlich, nicht unterst√ºtzt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Rest war nichts kompliziertes. Wir schreiben verschiedene Funktionen, die SDL2-Entit√§ten und -Darstellungen so konvertieren, dass sie mit der Haiku-API kompatibel sind, und √ºberpr√ºfen, ob sie ordnungsgem√§√ü funktionieren. F√ºr verschiedene Pr√ºfungen habe ich den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2_messagebox_test.c, GitHubGist repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kleinen Test erweitert.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die ich regelm√§√üig auf verschiedenen Betriebssystemen ausf√ºhrte, analysierte die Ergebnisse und bewertete meine Arbeit. Am Ende war ich so begeistert, dass ich sogar die Anpassung unterst√ºtzte, z. B. das Festlegen verschiedener Farben f√ºr die Schaltfl√§chen und den Hintergrund des Dialogfelds. Dies wird in der SDL2-Bibliotheks-API unterst√ºtzt, aber urspr√ºnglich hatte ich nicht vor, solche Dinge zu implementieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn der Programmierer beschlie√üt, eine sehr, sehr lange Zeile in diesen Dialog zu spucken, muss das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTextView-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klassenobjekt </font><font style="vertical-align: inherit;">, das im </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klassenobjekt verwendet </font><strong><font style="vertical-align: inherit;">wird</font></strong><font style="vertical-align: inherit;"> , die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetWordWrap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">mit dem Argument </font><strong><font style="vertical-align: inherit;">true</font></strong><font style="vertical-align: inherit;"> aufrufen</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen solchen Programmierer in seine Arme zu schlagen und den Dialog auf den Bildschirm zu bringen. Es scheint, dass es nichts </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfacheres</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt: Wir √ºberpr√ºfen die L√§nge des Strings mit der Funktion </font><strong><font style="vertical-align: inherit;">strlen ()</font></strong><font style="vertical-align: inherit;"> und tun das Richtige. Das einzige Problem ist, dass SDL2 auch mit UTF-8 funktioniert. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bedeutet, dass die Funktion </font><strong><font style="vertical-align: inherit;">strlen ()</font></strong><font style="vertical-align: inherit;"> die Anzahl der Bytes und nicht die Anzahl der Zeichen </font><strong><font style="vertical-align: inherit;">zur√ºckgibt</font></strong><font style="vertical-align: inherit;"> . Die Haiku-API und die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BString-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeichenfolgenklasse </font><strong><font style="vertical-align: inherit;">helfen</font></strong><font style="vertical-align: inherit;"> mit der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CountChars ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">, mit der Sie die L√§nge der Zeichenfolge in Zeichen und nicht in Bytes ermitteln k√∂nnen:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckLongLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> final = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// This UTF-8 friendly. PS G_MAX_STRING_LENGTH = 120 BString message = aMessage; int32 length = message.CountChars(); for (int i = 0, c = 0; i &lt; length; ++i) { c++; if (*(message.CharAt(i)) == '\n') { c = 0; } if (c &gt; final) { final = c; } } return (final &gt; G_MAX_STRING_LENGTH); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Funktion √ºberpr√ºft den Nachrichtentext auf Zeilen mit mehr als 120 Zeichen und gibt, falls vorhanden, true zur√ºck. In Bezug auf UTF-8 gab es immer noch einen solchen Moment, dass in einigen Haiku-Systemschriftarten chinesische Schriftzeichen nicht unterst√ºtzt werden. Daher k√∂nnen Sie beispielsweise keine chinesische Inschrift im Fenstertitel festlegen. Der Text in russischer Sprache wird jedoch problemlos installiert. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei der Vorbereitung des Pakets ist ein Erstellungsfehler f√ºr die x86_gcc2-Architektur aufgetreten, der im Rezept der SDL2-Bibliothek aktiviert ist. Es stellte sich heraus, dass der √§lteste GCC 2.95-Compiler nicht erraten konnte, dass der kommentierte Code dem folgenden entspricht:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">rgb_color </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertColorType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SDL_MessageBoxColor *aColor)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// return { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, 255 }; rgb_color color = { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, color.alpha = 255 }; return color; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daher musste ich dieses Fragment im alten Stil umschreiben und trotzdem die Initialisierung einiger Konstanten in der Klasse direkt in ihren Deklarationen entfernen, der alte Compiler mochte dies auch nicht. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe Patches f√ºr die Implementierung von SDL2-Dialogen an das HaikuPorts-Repository gesendet, damit die Xash3D- und Serious Engine-Engines jetzt alle Informationen korrekt an den Benutzer ausgeben k√∂nnen, z. B. √ºber Fehler. Ich habe die SDL2-Entwickler noch nicht kontaktiert, aber es w√§re sch√∂n, alle Patches aus dem HaikuPorts-Repository in die vorgelagerte SDL2-Bibliothek zu √ºbertragen. Obwohl die Portierung unserer Patches aufgrund der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k√ºrzlich erfolgten Umbenennung der</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktionspr√§fixe von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BE_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAIKU_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etwas komplizierter geworden </font><font style="vertical-align: inherit;">ist, ist dies kein so ernstes Problem. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="coolreader"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10. Portieren Sie meine Gabel von Cool Reader </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe lange Zeit eine Abzweigung des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="   Cool Reader."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool Reader-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programms entwickelt </font><font style="vertical-align: inherit;">, die von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vadim Lopatin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buggins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) geschrieben wurde. Der entsprechende Artikel dazu ist auf meiner Website verf√ºgbar. </font><font style="vertical-align: inherit;">In den Kommentaren zu diesem Artikel melden sich Leser meines Blogs st√§ndig ab, die entweder eine neue Funktion in ihrer Lieblingsanwendung zum Lesen elektronischer B√ºcher sehen oder Fehler und M√§ngel in den bereits implementierten Programmfunktionen beheben m√∂chten.</font></font><br><br><div style="text-align:center;"><img title="   Cool Reader,     Haiku." src="https://habrastorage.org/webt/ug/ib/ys/ugibysukgq3yqipkk3w_ar8sn1y.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meine Gabel von Cool Reader l√§uft auf Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Im HaikuPorts-Repository habe ich ein Rezept zum Erstellen des urspr√ºnglichen Cool Reader-Programms gefunden. Aufgrund einiger st√§ndiger √Ñnderungen an der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SourceForge, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SourceForge-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressource </font><font style="vertical-align: inherit;">erwies sich dieses Rezept jedoch als nicht funktionsf√§hig, da der Quellcode der Anwendung nicht mehr zum Herunterladen verf√ºgbar war. Dann habe ich beschlossen, meine Gabel als neue Version von Cool Reader in das HaikuPorts-Repository zu √ºbertragen. Ich habe alle Gerasim-Patches in den Code eingef√ºgt, einige M√§ngel im Rezept behoben und darauf basierend ein neues Paket erstellt, das bereits allen Haiku-Benutzern zur Verf√ºgung steht. Den Quellcode f√ºr meine Cool Reader-Gabel finden Sie in diesem GitHub-Repository: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cool Reader fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/coolreader</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das einzige Problem, auf das ich stie√ü, waren die Ungenauigkeiten bei der √úbertragung von Gerasims Patches. </font><font style="vertical-align: inherit;">Zus√§tzlich zur __HAIKU__- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wurde an einer anderen Stelle im Build-System auch die _LINUX- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition festgelegt,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und da in den meisten F√§llen die letzte in der Quellcodeliste die erste war, lie√ü mich die bedingte Kompilierung </font><font style="vertical-align: inherit;">im Stich </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In √úbereinstimmung mit den Pr√§prozessor-Priorit√§tsregeln wurden f√ºr Haiku genau die Codeteile kompiliert, die von der _LINUX- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> umrahmt wurden </font><font style="vertical-align: inherit;">, obwohl ich etwas v√∂llig anderes brauchte. </font><font style="vertical-align: inherit;">Trotzdem startete und funktionierte das Programm, speicherte seine Einstellungen jedoch nur dort, wo es ben√∂tigt wurde. </font><font style="vertical-align: inherit;">Ich habe die Priorit√§ten richtig gesetzt, das Paket neu erstellt und das Problem wurde vollst√§ndig behoben. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="keymap"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 11. Fertigstellung des KeymapSwitcher-Programms </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In letzter Zeit haben viele g√§ngige Betriebssysteme auf eine neue Tastenkombination </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meta / Opt / Cmd / Win + Space</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> umgestellt </font><font style="vertical-align: inherit;">, um das Tastaturlayout zu wechseln. Es schien mir sehr praktisch, dass ich jetzt nichts mehr √§ndern und konfigurieren muss. Sie setzen sich an jeden Computer, auf dem MacOS, Windows oder Linux mit der GNOME 3-Shell ausgef√ºhrt wird, und diese praktische Kombination aus √Ñndern der Eingabesprache funktioniert einfach √ºberall. Auch das mobile Android-Betriebssystem hat sein Analogon. Im Allgemeinen habe ich vor langer Zeit zu dieser Tastenkombination gewechselt und mich sehr daran gew√∂hnt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zu meinem gro√üen Bedauern, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit Haiku konnte ich keine so bequeme Tastenkombination f√ºr das Wechseln von Layouts festlegen, weshalb ich mich bei der Arbeit mit Text in diesem Betriebssystem st√§ndig unwohl f√ºhlte. Aus diesem Grund habe ich beschlossen, diese Anwendung ein wenig zu √§ndern, und nach dem Quellcode gesucht. Es stellte sich heraus, dass dieses Programm, obwohl es in der Haiku-Distribution enthalten ist, separat vom Quellcode des Betriebssystems selbst bereitgestellt wird. Dar√ºber hinaus ist die Anwendung im HaikuPorts-Repository verf√ºgbar und wird auch √ºber dieses aktualisiert. Wie mir mitgeteilt wurde, war KeymapSwitcher nicht in Haiku enthalten, da geplant ist, eine spezielle API zum √Ñndern von Tastaturlayouts zu implementieren, und eines Tages die Notwendigkeit f√ºr dieses Programm vollst√§ndig verschwinden wird.</font></font><br><br><div style="text-align:center;"><img title=" KeymapSwitcher    Haiku        ." src="https://habrastorage.org/webt/o1/cq/xn/o1cqxnduzeop30tx6zpzbq7c62i.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher auf Haiku mit einer beliebten Tastenkombination zum Wechseln des Tastaturlayouts.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trotz der Tatsache, dass ich Angst vor der Komplexit√§t des KeymapSwitcher-Codes hatte, fand ich dank der Kommentare schnell den richtigen Ort und f√ºhrte einen kleinen Patch in den Programmcode ein, der das Schreiben von Texten in Haiku erheblich erleichterte. Der einzige kleine Fehler, den ich nicht √ºberwinden konnte, ist, dass der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schl√ºssel </font><font style="vertical-align: inherit;">losgelassen werden muss, um die Sprache zu wechseln. Halten Sie also </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und ein Leerzeichen zum Umschalten zwischen den ausgew√§hlten Sprachen funktioniert nicht. </font><font style="vertical-align: inherit;">Dies beeintr√§chtigt jedoch absolut nicht die Sprachumschaltung w√§hrend der Eingabe. Daher habe ich den Patch an das Programm-Repository gesendet und das Anwendungspaket in HaikuPorts aktualisiert. Danach wurde die neue Version von KeymapSwitcher f√ºr alle Haiku-Benutzer zur Installation verf√ºgbar. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/HaikuArchives/KeymapSwitcher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich hoffe, ich bin nicht der einzige Benutzer dieser Tastenkombination, der Tastaturlayouts wechselt. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="theend"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12. Schlussfolgerung </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Studium der Haiku-API sowie das L√∂sen verschiedener exotischer Probleme, die durch das Portieren neuer und das Aktualisieren vorhandener Anwendungen f√ºr dieses Betriebssystem entstanden sind, brachte mir viele wertvolle Erfahrungen und Freude. Ich konnte Haiku-Support-Patches im Quellcode-Repository einiger gro√üer Projekte bewerben und traf neue interessante Leute, die irgendwie mit diesem sch√∂nen Betriebssystem verwandt waren.</font></font><br><br><div style="text-align:center;"><img title=" ,     Haiku." src="https://habrastorage.org/webt/ew/rw/oy/ewrwoyfj--hee2fsb4xz0qrl5ck.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verschiedene Anwendungen, die auf dem Haiku-Betriebssystem ausgef√ºhrt werden.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich hoffe aufrichtig, dass in Zukunft alle heutigen Probleme, wie das Fehlen von 3D-Hardwarebeschleunigung und g√§ngigen Browsern sowie die schlechte Unterst√ºtzung f√ºr moderne Hardware, erfolgreich gel√∂st werden und Haiku von Entwicklern und Anwendern, die seine einzigartigen F√§higkeiten und sein originelles Design sch√§tzen werden, einen Nachwuchs erhalten wird . Gl√ºcklicherweise steht die Entwicklung noch lange nicht still und heute werden auf dem lokalen Forum dieses Betriebssystems hei√üe Themen zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="What about bounty? 3D acceleration bounty?, Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D-Beschleunigung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Portierung der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Ported GTK3 [Live], Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GTK + 3-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><font style="vertical-align: inherit;">angesprochen </font><font style="vertical-align: inherit;">, und die M√∂glichkeit der Portierung der </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;">QtWebEngine-</font></a><font style="vertical-align: inherit;"> Komponente wird in den HaikuPorts-Repositories er√∂rtert</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Der GTK + 3-Port bietet m√∂glicherweise die M√∂glichkeit, die beliebten Firefox- und Chromium-Browser zu starten und zu verwenden. QtWebEngine erm√∂glicht die Verwendung der Blink-Engine in modernen Browsern, die auf dem Qt-Framework wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Otter Browser, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otter Browser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Falkon, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falkon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basieren </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereits jetzt kann ich dieses Betriebssystem allen empfehlen, die beispielsweise alte und schwache Laptops oder Netbooks anstelle der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Lubuntu, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lubuntu-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Distribution </font><font style="vertical-align: inherit;">oder Windows XP haben. Sie werden erstaunt sein, wie schnell und reaktionsschnell es funktioniert. Ja, Sie m√ºssen sich aufgrund alter Browser und einer Reihe von damit verbundenen St√∂rungen ein wenig auf das Anzeigen einiger Websites beschr√§nken. In den meisten F√§llen ist diese Einschr√§nkung bei alter Hardware jedoch nicht von Bedeutung.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle meine Ports und Verbesserungen wurden bereits ver√∂ffentlicht und stehen allen Haiku-Benutzern zur Installation zur Verf√ºgung. Alle √Ñnderungen am Quellcode sind in den jeweiligen Repositorys unter ihren urspr√ºnglichen Lizenzen verf√ºgbar. In dieser Arbeit habe ich eine gro√üe Menge an Materialien verwendet, von denen ich die wichtigsten in den n√ºtzlichen Links unten hervorheben werde. Vielen Dank an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Google, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr ihre </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;">Anwesenheit</font></a><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Die offizielle Website des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Das offizielle Forum des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Offizielle Dokumentation f√ºr Haiku-Benutzer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Offizielle Dokumentation f√ºr Haiku-Entwickler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Beschreibung der Funktionen der grafischen Benutzeroberfl√§che von Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Empfehlungen zum Erstellen von Symbolen f√ºr Haiku-Anwendungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="  Icon-O-Matic     ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Beschreibung des Icon-O-Matic-Programms und Tipps zu seiner Verwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    HVIF."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Beschreibung des Formats der Vektor-HVIF-Symbole</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Interface Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. Die offizielle Dokumentation zum Interface Kit Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Locale Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10. Die offizielle Dokumentation f√ºr das Locale Kit-Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=",      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11. Artikel zu Aspekten der Anwendungslokalisierung f√ºr Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="     Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. Die offizielle Dokumentation f√ºr die Layout-API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=" ,     Haiku   Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13. Eine Reihe von Artikeln, die die Implementierung der Layout-API in Haiku beschreiben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GitHub-     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14. GitHub-Repository des Quellcodes des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GitHub-   HaikuPorts."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15. GitHub-Repository des HaikuPorts-Rezeptbaums</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    HPKG- Haiku Depot Web."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16. Die Internetversion des Repositorys der vorgefertigten HPKG-Pakete Haiku Depot Web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="  'Haiku:  -'    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17. Ein interessanter Artikel "Haiku: Lamp Geek-OS" im Blog des INSTEAD-Entwicklers Peter Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=" 'Haiku: '    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18. Der Haiku: Immersion-Artikel auf INSTEADs Entwicklerblog Pyotr Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="   'Learning to Program' with Haiku  DarkWyrm."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19. Der Programmierkurs "Lernen, mit Haiku zu programmieren" von DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="DarkWyrm 'Programmieren mit Haiku' Programmierkurs."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20. Der Programmierunterricht "Programmieren mit Haiku" von DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Publikation 'Gibt es Leben auf Haiku?'  auf der Ressource Linux.org.ru, von mir."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21. Ver√∂ffentlichung ‚ÄûGibt es Leben auf Haiku?‚Äú auf der Ressource Linux.org.ru, von mir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Telegramm-IM-Konferenz √ºber das Haiku-Betriebssystem."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22. Konferenz in Telegram IM, die der Diskussion des Haiku-Betriebssystems gewidmet ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Herzlichen Gl√ºckwunsch an alle Benutzer der Ressource</font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="habr, Offizielle Seite."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Frohes Neues Jahr und w√ºnsche ihnen frohe Weihnachten! </font><font style="vertical-align: inherit;">Viel Gl√ºck euch im neuen Jahr 2019! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434690/">https://habr.com/ru/post/de434690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434680/index.html">Task Scheduler Evolution</a></li>
<li><a href="../de434682/index.html">Pers√∂nlicher Stadtteleportator</a></li>
<li><a href="../de434684/index.html">Rost 2019 und dar√ºber hinaus: Wachstumsbeschr√§nkungen</a></li>
<li><a href="../de434686/index.html">Vorlesung √ºber JavaScript und Node.js in KPI</a></li>
<li><a href="../de434688/index.html">FreeBSD plant, zu ZFSonLinux zu wechseln</a></li>
<li><a href="../de434692/index.html">Die 25 teuersten US-Startups, die 2018 starben</a></li>
<li><a href="../de434694/index.html">√úbersicht √ºber NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../de434696/index.html">Mitarbeiter von IT-Giganten haben herausgefunden, wie sie die Richtlinien ihrer Unternehmen beeinflussen k√∂nnen</a></li>
<li><a href="../de434698/index.html">Pessimismus √ºber Multithreading</a></li>
<li><a href="../de434700/index.html">Vorteile der folgenden Styleguides bei der Entwicklung von Angular-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>