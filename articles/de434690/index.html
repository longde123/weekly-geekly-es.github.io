<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤑 👨🏾‍🎨 👴 Haiku-Betriebssystem: Portieren von Anwendungen und Erstellen von Paketen 🤹🏾 👩🏿‍💼 🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Herbst dieses Jahres wurde nach 6 Jahren Entwicklungszeit die erste Beta-Version von "R1 / beta1" des Haiku- Betriebssystems veröffentlicht. Ich ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Haiku-Betriebssystem: Portieren von Anwendungen und Erstellen von Paketen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/434690/">  Im Herbst dieses Jahres wurde nach 6 Jahren Entwicklungszeit die erste Beta-Version von "R1 / beta1" des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku, Betriebssystem, Wikipedia-Seite.">Haiku-</a> Betriebssystems veröffentlicht.  Ich verfolge dieses interessante Projekt seit langer Zeit, das darauf abzielt, das 1994-2000 existierende <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="BeOS, Wikipedia-Seite.">BeOS-</a> System neu zu erschaffen und weiterzuentwickeln.  Sobald ich Nachrichten über die Veröffentlichung der Haiku-Beta-Version auf IT-Nachrichtenseiten sah, entschied ich mich sofort zu sehen, was zu dieser lang erwarteten Veröffentlichung hinzugefügt wurde.  Nachdem ich das System in der virtuellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="VirtualBox, offizielle Seite.">VirtualBox-</a> Maschine installiert und ein wenig mit den Hauptfunktionen vertraut gemacht hatte, dachte ich, es wäre schön, der OpenSource-Community, die dieses Betriebssystem entwickelt, heute ein wenig zu helfen.  Ich habe mich entschlossen, mit dem zu beginnen, was ich ein wenig Erfahrung gesammelt habe: einige Spielprojekte zu portieren. <br><br><div style="text-align:center;"><img title="Der Desktop des Haiku-Bestrebungen." src="https://habrastorage.org/webt/aw/eo/qy/aweoqyqziwcmq_qcwirvpf6drno.png"></div><br>  <i>Der Desktop des Haiku-Betriebssystems.</i> <br><br>  Später habe ich versucht, einige vorhandene Anwendungen und Bibliotheken zu verfeinern.  Dies ist meine kleine Aktivität in verschiedenen Open Source-Repositories, denen dieser Artikel gewidmet sein wird.  Darin werde ich die Probleme, auf die ich gestoßen bin, konsequent beschreiben und über Methoden zu ihrer Lösung sprechen.  Ich habe versucht, die meisten Patches, die während dieser Arbeit erstellt wurden, an <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Upstream, Softwareentwicklung, Wikipedia-Seite.">vorgelagerte</a> bestehende Projekte zu senden, um Haiku-Unterstützung zu bieten und ihre Entwickler für die Existenz alternativer Betriebssysteme zu interessieren. <br><a name="habracut"></a><br>  Das Haiku-Betriebssystem verwendet einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Hybridkernel, Wikipedia-Seite.">Hybridkern</a> , bei dem es sich um eine Implementierung der Mikrokernel-Architektur handelt, mit der die erforderlichen Module dynamisch geladen werden können.  Es basiert auf der Verzweigung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NewOS, offizielle Seite.">NewOS-</a> Kernels, der von einem ehemaligen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Be Inc., Wikipedia-Seite.">Be Inc.-</a> Ingenieur entwickelt wurde  Von Travis Geiselbrecht.  Heute arbeitet dieser Entwickler bei Google an einem Kernel namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Zirkon, schreibgeschützter Quellenspiegel, GitHub-Repository.">Zircon</a> für das neue <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Google Fuchsia, Wikipedia-Seite.">Google Fuchsia-</a> Betriebssystem, aber das ist eine andere Geschichte.  Da Haiku-Entwickler die Binärkompatibilität mit BeOS deklarieren, müssen sie nicht zwei bekannte Architekturzweige unterstützen, sondern drei: x86_64, x86 und x86_gcc2.  Die letztere Architektur ist eine Menge Kompatibilität mit dem Compiler der alten Version von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GNU Compiler Collection, Wikipedia-Seite.">GCC</a> 2.95.  Ihr ist es zu verdanken, dass es möglich ist, Anwendungen auszuführen, die für das ursprüngliche BeOS-Betriebssystem geschrieben wurden.  Leider können Haiku-Entwickler aufgrund dieser Kompatibilitätslast die modernen Funktionen der Programmiersprache C ++ nicht in System-APIs verwenden.  Sie bereiten jedoch Installationsimages für nur zwei Architekturen vor: x86_64 und x86.  Die Haiku-Distribution für x86 ist hybride: Trotz der Tatsache, dass alle Systemkomponenten aus Gründen der Binärkompatibilität unter x86_gcc2 erstellt wurden, hat der Benutzer die Möglichkeit, moderne Anwendungen zu installieren oder zu erstellen, die für moderne Compiler und x86-Architekturen entwickelt wurden .  Die Haiku-Distribution für die x86_64-Architektur ist vollständig 64-Bit und kann keine 32-Bit-BeOS- und Haiku-Anwendungen ausführen.  Es gibt jedoch Kompatibilität auf API-Ebene. Wenn Sie also den Quellcode der Anwendung für BeOS oder Haiku x86 zur Hand haben, können Sie ihn einfach unter Haiku x86_64 kompilieren und alles sollte funktionieren.  Ein Betriebssystem-Image für die x86_64-Architektur wird für die Installation auf realer Hardware empfohlen, wenn Sie keine Unterstützung für bestimmte BeOS-Anwendungen oder 32-Bit-Haiku-Anwendungen benötigen. <br><br>  Es ist erwähnenswert, dass in diesem Betriebssystem der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="POSIX, Wikipedia-Seite.">POSIX-</a> Standard teilweise unterstützt wird.  Diese Grundlage ähnelt UNIX-ähnlichen Systemen und erleichtert die Portierung ihrer Software.  Die Hauptprogrammiersprache ist C ++, sie wird aktiv verwendet, da die öffentlichen APIs von Haiku hauptsächlich ein objektorientiertes Programmierparadigma verfolgen.  Trotzdem verbietet niemand die Verwendung der Programmiersprache C, nur in den meisten Fällen müssen die entsprechenden Kompatibilitätsebenen geschrieben werden.  Die Softwareschnittstelle des Betriebssystems ist in separaten Systemframeworks zusammengefasst, die für eine bestimmte Gelegenheit verantwortlich sind, z. B. für eine Schnittstelle oder Netzwerkunterstützung.  Dies ist ein bisschen wie das, was unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Apple Developer-Dokumentation.">macOS</a> oder im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Alle Qt-Module, offizielle Dokumentation.">Qt-</a> Framework verfügbar ist.  Es muss beachtet werden, dass dieses Betriebssystem Einzelbenutzer ist, obwohl einige Entwicklungen in Richtung der Bereitstellung eines Mehrbenutzer-Arbeitsmodus für Haiku-Entwickler verfügbar sind. <br><br>  Ich kann den Lesern dieses Artikels nur die positiven Erfahrungen mit der Verwendung des in Haiku verfügbaren erweiterten Anwendungsfenster-Verwaltungssystems mitteilen.  Meiner Meinung nach ist es eines der bequemsten und in seiner Art das Markenzeichen dieses Betriebssystems. <br><br><div style="text-align:center;"><img title="Erweiterte Fensterverwaltung im Haiku-Management: Beschäftigt für Kacheln und Registerkarten." src="https://habrastorage.org/webt/tw/cm/qe/twcmqedw1ofbempjx2ktaxjesmi.png"></div><br>  <i>Erweiterte Fensterverwaltung im Haiku-Betriebssystem: Unterstützung für Kacheln und Registerkarten.</i> <br><br>  Fenster können wie in modernen Browsern in Registerkarten miteinander verbunden, miteinander verbunden und bequem in der Größe geändert werden.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Kachelfenster-Manager, Wikipedia-Seite.">Einfache Kacheln</a> , das Übertragen der Kontexte einiger Anwendungen von einem Fenster in ein anderes und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Replicant, BeOS, Wikipedia-Site.">Replikanten werden</a> unterstützt.  Weitere Informationen zu allen Funktionen des lokalen Fenstersystems finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haikus GUI, offizielle Haiku-Dokumentation.">offiziellen Dokumentation</a> . Dort werden alle erforderlichen Tastenkombinationen beschrieben. <br><br>  Ich werde in diesem Artikel keinen vollständigen Überblick über alle Funktionen und Fähigkeiten von Haiku schreiben, da diejenigen, die daran interessiert sind, die erforderlichen Informationen im Internet selbst leicht finden können. <br><br><a name="article-content"></a><h2>  Inhalt: </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1. Pakete und Repositories in Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2. Erste Schritte: Portierung des Adamant Armor Affection Adventure</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3. Änderung des vorhandenen NXEngine-Ports (Cave Story)</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4. Portierung des Gish-Spiels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5. Das BeGameLauncher-Projekt, mit dem Sie schnell Starter für Spiele erstellen können</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6. Portierung von Xash3D: Legendäres Half-Life-Spiel und offizielle Add-Ons</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">7. Portierung der beiden Teile des Spiels Serious Sam: The First Encounter und The Second Encounter</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">8. Portierung des Vangers-Spiels</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">9. Implementierung von Dialogen in der SDL2-Bibliothek für Haiku</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">10. Portieren Sie meine Gabel von Cool Reader</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">11. Fertigstellung des KeymapSwitcher-Programms</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">12. Schlussfolgerung</a> <br><br><a name="packages"></a><h2>  1. Pakete und Repositories in Haiku </h2><br>  Im Vergleich zum ursprünglichen BeOS ist in Haiku eine bedeutende Innovation aufgetaucht: ein Paketverwaltungssystem, das verschiedene Tools zum Abrufen und Installieren von Software aus verschiedenen Quellen enthält.  Solche Quellen können die offiziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Repositories, offizielle Haiku-Dokumentation.">Haiku-</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorts, GitHub-Repository.">HaikuPorts-</a> Repositories, inoffizielle Repositories und einfach separate und speziell vorbereitete HPKG-Pakete sein.  Solche Funktionen zum Installieren und Aktualisieren von Software sind in der Welt der Unix-ähnlichen Betriebssysteme seit langem bekannt, aber jetzt hat Haiku mit all ihrer Leistung und Bequemlichkeit erfolgreich erreicht, was gewöhnlichen Benutzern dieses Betriebssystems nur gefallen kann.  Dank der Infrastruktur, die auf dem Paketmanager basiert, kann jetzt jeder Entwickler problemlos eine neue oder vorhandene Open Source-Anwendung portieren oder die Ergebnisse seiner Arbeit zum HaikuPorts-Softwareport-Repository hinzufügen. Danach stehen sie allen Haiku-Benutzern zur Verfügung.  Infolgedessen ähnelt das resultierende Ökosystem dem von MacOS-Betriebssystemen mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Homebrew, Der fehlende Paketmanager für macOS.">Homebrew</a> , FreeBSD mit ihren <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Über FreeBSD-Ports, Offizielle FreeBSD-Site.">Ports</a> , Windows mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MSYS2 ist eine Software-Distribution und Build-Plattform für Windows.">MSYS2</a> oder Arch Linux mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Arch Linux-Benutzer-Repository.">AUR</a> . <br><br>  Ein Tool zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorter, GitHub-Repository.">Erstellen von</a> Paketen und Portierungssoftware namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorter, GitHub-Repository.">HaikuPorter</a> wird separat vom Betriebssystem geliefert und mithilfe eines kleinen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuPorts-Dokumentation, GitHub-Wiki-Seite.">Handbuchs</a> im Repository auf GitHub installiert.  Nach der Installation dieses Dienstprogramms von demselben GitHub wird der gesamte Rezeptbaum heruntergeladen, an dem der Entwickler arbeitet.  Das Rezept ist ein reguläres Shell-Skript mit Anweisungen, anhand derer HaikuPorter das erforderliche HPKG-Paket sammelt.  Es ist bemerkenswert, dass das Tool selbst in der Programmiersprache <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Python, Programmiersprache, Wikipedia-Seite.">Python</a> 2 geschrieben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Python, Programmiersprache, Wikipedia-Seite.">ist</a> , eng mit dem vorhandenen Paketverwaltungssystem interagiert und das Standardtool <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Git, Wikipedia-Seite.">Git</a> intern verwendet, um Änderungen am Quellcode der Software zu korrigieren und eine Reihe von Patches zu generieren.  Dank dieses Technologie-Stacks ist das Erstellen von Rezepten zum Erstellen von HPKG-Paketen und Software-Patches in Form von Patchset-Dateien sehr bequem und einfach.  In den meisten Fällen musste ich bei der Arbeit mit HaikuPorter nur drei Befehle verwenden: <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> hp=<span class="hljs-string"><span class="hljs-string">"haikuporter -S -j4 --get-dependencies --no-source-packages"</span></span> hp libsdl2 hp libsdl2 -c hp libsdl2 -e</code> </pre> <br>  Der erste Befehl sammelt einfach das ausgewählte Paket, der zweite Befehl löscht das Build-Verzeichnis und der dritte Befehl erstellt oder aktualisiert eine Reihe von Patches entsprechend Ihren Änderungen, die im Git-Repository des Arbeitsverzeichnisses durch Commits aufgezeichnet wurden. <br><br>  Um ein Paket im HaikuPorts-Repository zu veröffentlichen und allen Haiku-Benutzern zur Verfügung zu stellen, muss der Entwickler HaikuPorter installieren, den Rezeptbaum erweitern, das HPKG-Paket lokal sammeln und testen und sich dann auf die Verzweigung des Rezeptbaums festlegen. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Verteilte Versionskontrolle, Pull-Anfragen, Wikipedia-Seite.">Stellen Sie</a> dann eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Verteilte Versionskontrolle, Pull-Anfragen, Wikipedia-Seite.">Pull-Anfrage</a> auf GitHub.  Haiku-Entwickler sollten die veröffentlichten Arbeiten berücksichtigen. Anschließend entscheiden sie, Ihre Änderungen im Repository zusammenzuführen oder zur Überarbeitung zu senden.  Wenn die Änderungen akzeptiert werden, sammelt derselbe auf dem Build-Server installierte HaikuPorter das Paket remote und veröffentlicht es automatisch im Repository. <br><br>  Der Beta-Version von „R1 / beta1“ des Haiku-Betriebssystems wurde ein spezielles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="HaikuDepot, offizielle Haiku-Dokumentation.">HaikuDepot-</a> Programm hinzugefügt, mit dem Pakete und Repositorys über eine grafische Benutzeroberfläche und nicht über Konsolenbefehle im Terminal bearbeitet werden können. <br><br><div style="text-align:center;"><img title="Das HaikuDepot-Programm, das auf dem Haiku-Betriebssystem ausgeführt wird." src="https://habrastorage.org/webt/bv/7d/bt/bv7dbtkhvrdz4nunutpahn4kate.png"></div><br>  <i>Das HaikuDepot-Programm, das auf dem Haiku-Betriebssystem ausgeführt wird.</i> <br><br>  Dank dieses Tools können unerfahrene und unerfahrene Haiku-Benutzer ihre Paketbasis bequem verwalten.  Es ist erwähnenswert, dass diese Anwendung nicht nur eine GUI-Shell über dem vorhandenen Paketmanager ist, sondern auch zusätzliche Funktionen implementiert.  Beispielsweise können autorisierte Benutzer Bewertungen für Pakete bewerten und schreiben, die für die Installation verfügbar sind.  Darüber hinaus verfügt HaikuDepot über eine spezielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku Depot Website.">Haiku Depot-</a> Website, auf der Sie Paketänderungen im Internet anzeigen oder einzelne HPKG-Pakete herunterladen können. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="aaaa"></a><h2>  2. Erste Schritte: Portierung des Adamant Armor Affection Adventure </h2><br>  Nachdem ich mich mit der Funktionalität des Betriebssystems in der virtuellen VirtualBox-Maschine vertraut gemacht hatte, beschloss ich, die darin enthaltene SDL2-Bibliothek zu evaluieren und das Spiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Portierung von Adamant Armor Affection Adventure unter Android OS.">Adamant Armor Affection Adventure</a> nach Haiku zu portieren, das ich zuvor über die Übertragung auf die Android-Plattform geschrieben hatte.  Für die Erstellung des Programms waren keine Änderungen am Quellcode erforderlich. Ich habe lediglich alle erforderlichen Tools, Bibliotheken und deren Header-Dateien aus dem Repository installiert und Folgendes ausgeführt: <br><br><pre> <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> = off -DCMAKE_C_FLAGS = "- D__linux__" -DSDL2_INCLUDE_DIR = `finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR =` finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp <code class="bash hljs">cmake -DCMAKE_BUILD_TYPE=Release -DGLES=off -DANDROID=off -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"-D__linux__"</span></span> -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` -DSDL2_MIXER_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` ../aaaa/src/main/cpp cmake --build .</code> </pre><br>  Da Haiku über POSIX verfügt, lösen die Definitionen -D__linux__ oder <strong>-D__unix__</strong> viele der Probleme, die mit der Definition einer Plattform verbunden sind.  Es ist jedoch anzumerken, dass es am besten ist, die Verwendung aufzugeben und die Haiku-Unterstützung im Projektquellcode zu implementieren, wenn ähnliche Buildprobleme auftreten.  <strong>Wenn Sie</strong> das Dienstprogramm <strong>finddir</strong> mit einem bestimmten Argument <strong>aufrufen</strong> , können Sie den richtigen Pfad zu den Header-Dateien für verschiedene Architekturen ermitteln. <br><br>  Durch Ausführen der obigen Befehle habe ich eine ausführbare Datei kompiliert, die perfekt lief, und das Spiel hat perfekt funktioniert.  Ich dachte, es wäre cool, ein autarkes HPKG-Paket mit dem Spiel vorzubereiten, und dafür ging ich tief ins Internet, um nach den Informationen zu suchen, die ich brauchte.  Dann kannte ich keine praktischen Tools für die Portierung von Software wie HaikuPorter, über die ich im obigen Abschnitt geschrieben habe. Um mein Ziel zu erreichen, habe ich mich entschlossen, ein Systempaket zu betrügen und zu zerlegen, um zu sehen, wie es in und angeordnet ist in Analogie tun. <br><br>  Im Internet fand ich die gewünschten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Erstellung eines HPKG-Pakets, HaikuOS - Russischsprachiges Wiki.">Informationen</a> , entpackte dann ein zufälliges Systempaket mit dem im lokalen Dateimanager integrierten <strong>Expander-</strong> Archivierungsprogramm, fand die <strong>.PackageInfo-</strong> Datei, bearbeitete sie und ersetzte die Dateien gemäß der Struktur meiner Anwendung.  Dann habe ich einfach die Befehle ausgeführt, um das HPKG-Paket zu erstellen und auf dem System zu installieren: <br><br><pre> <code class="bash hljs">package create -C AAAA/ aaaa.pkg pkgman install aaaa.pkg</code> </pre><br>  Leider war das Starten des Spiels über das Menü "Anwendungen" nicht erfolgreich.  Beim Ausführen der ausführbaren Datei im Terminal wurde die Fehlermeldung angezeigt, dass die zum Ausführen und Ausführen der Anwendung erforderlichen Datendateien nicht gefunden werden konnten.  Wenn in diesem Fall im Terminal in das Verzeichnis des Anwendungspakets gewechselt wird, hat alles einwandfrei begonnen.  Dies führte mich zu der Idee, dass Sie beim Starten des Spiels über das Menü eine erzwungene Änderung des Anwendungsverzeichnisses vornehmen müssen.  Dies kann entweder mit einem Shell-Skript oder durch Ändern der Quelle des Spiels erfolgen.  Ich habe die zweite Option gewählt und etwas Ähnliches zu diesem Code hinzugefügt: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> __HAIKU__ </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">// To make it able to start from Deskbar chdir(dirname(argv[0])); #endif</span></span></span></span></code> </pre><br>  Ganz am Anfang der Startfunktion <strong>main ()</strong> , die dieses Problem vollständig löste und das Paket als funktionsfähig erwies.  In den Kommentaren zu den Nachrichten über die Veröffentlichung der Haiku-Beta-Version auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku R1 / beta1 veröffentlicht - Open Source - News.">Linux.org.ru habe</a> ich den Link zu meinem zusammengestellten Paket gelöscht und jemanden gebeten, mich an einige aktive Benutzergemeinschaften dieses Betriebssystems zu senden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku R1 / beta1 veröffentlicht - Open Source - News.">, und</a> bin dann ins Bett gegangen. <br><br><div style="text-align:center;"><img title="Adamant Armor Affection Adventure-Spielport auf Haiku." src="https://habrastorage.org/webt/fw/v-/lg/fwv-lgs1iqaf-bm-gdsoft2dwww.png"></div><br>  <i>Adamant Armor Affection Adventure-Spielport auf Haiku.</i> <br><br>  Am Morgen schrieb mir eine Person mit dem Spitznamen <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">3dEyes</a></strong> eine E-Mail.  Wie sich später herausstellte, <strong>versteckte sich Gerasim Troeglazov</strong> , einer der aktiven Haiku-Entwickler und Autor des Qt-Framework-Ports für dieses Betriebssystem, hinter diesem Namen.  Er zeigte mir das HaikuPorts-Repository und erklärte mir, wie man das HaikuPorter-Dienstprogramm verwendet.  Außerdem schrieb er ein Rezept für die Erstellung des HPKG-Pakets für Adamant Armor Affection Adventure und fügte es HaikuDepot hinzu. <br><br>  Nachdem ich alle von diesem Entwickler vorgenommenen Änderungen analysiert hatte, stellte ich fest, dass mein manuell zusammengestelltes Paket einige Nachteile aufwies. Beispielsweise wurden die Einstellungen nicht gespeichert, da die bereitgestellten Verzeichnisse der installierten Pakete keine Schreibfunktionen hatten.  Dieses Problem beim Schreiben von Einstellungen oder Speichern in seinem Paket wurde elegant mithilfe von Symlinks in einem speziellen Verzeichnis gelöst, auf das zur Aufzeichnung zugegriffen werden kann und das zum Speichern von Benutzerdaten vorgesehen ist.  Mein Paket hatte auch kein eigenes Originalsymbol. <br><br>  Außerdem habe ich erfahren, dass Haiku keine Hardwarebeschleunigung für 3D-Grafiken hat und dass dieselbe OpenGL programmgesteuert mit CPU-Leistung gerendert wird.  Für schwere Grafikanwendungen ist dies natürlich nicht gut, aber für ältere Spiele ist dies mehr als genug.  Ich entschied mich sogar, das Spielpaket speziell zu überprüfen und installierte Haiku auf meinem alten Laptop, dh auf echter Hardware.  Zu meiner Überraschung wurde das Bild von Adamant Armor Affection Adventure so schnell gerendert, dass ich nicht bemerkt hätte, dass das Rendern von meinem Prozessor durchgeführt wird, wenn sie mir nicht von der fehlenden Hardwarebeschleunigung erzählt hätten. <br><br>  <strong>Projektquelle: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Adamant Armor Affection Adventure, GitHub-Repository.">https://github.com/EXL/AdamantArmorAffectionAdventure</a></strong> <br><br>  Ich habe die manuelle Erstellung von HPKG-Paketen bis zu besseren Zeiten verschoben und bin vollständig auf die Verwendung des HaikuPorter-Tools und das Schreiben von Rezepten umgestiegen.  Manchmal gibt es jedoch Situationen, in denen eine manuelle Neuerstellung des Pakets erforderlich ist.  Wenn HaikuPorter beispielsweise die Haiku-Nachtversion in der <strong>.PackageInfo-</strong> Datei zu hoch <strong>einstellt</strong> und das Paket auf der Release-Version des Betriebssystems getestet werden muss.  Es ist erwähnenswert, dass ich dank der Reaktionsfähigkeit und Erfahrung von Gerasim die vielen Feinheiten beim Erstellen von Paketen für das Haiku-Betriebssystem verstehen und meine Arbeit fortsetzen konnte. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="nxengine"></a><h2>  3. Änderung des vorhandenen NXEngine-Ports (Cave Story) </h2><br>  Ich war unglaublich überrascht, im HaikuPorts-Repository ein Rezept zu finden, das auf meine Abzweigung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) über NXEngine für verschiedene Plattformen.">NXEngine-</a> Engine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) über NXEngine für verschiedene Plattformen.">für das Spiel Cave Story verweist</a> , das ich schon sehr lange in meinem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cave Story (Doukutsu Monogatari) über NXEngine für verschiedene Plattformen.">Blog analysiert</a> hatte.  Das Rezept und die Patches wurden von einem Entwickler namens <strong>Zoltán Mizsei erstellt</strong> , der den Spitznamen <strong>extrowerk verwendet</strong> und viele Pakete für Haiku aktiv verwaltet. <br><br>  Eine oberflächliche Analyse, die Installation des Pakets und das Starten der Anwendung ergaben dieselben Probleme, die ich im vorherigen Abschnitt dieses Artikels beschrieben habe: Das Speichern des Spiels funktionierte nicht, die Einstellungen wurden auch nicht gespeichert und das Paket hatte nicht das ursprüngliche Symbol.  Ich entschied mich, diese Mängel zu beheben und begann an dem Patch zu arbeiten, wobei ich zuerst alle Ideen des Extrowerks integrierte.  Ich habe das Original- <strong>Makefile</strong> für das Haiku-Betriebssystem geschrieben und das Schreiben und Speichern verschiedener Benutzerdaten korrigiert. <br><br><div style="text-align:center;"><img title="Port des Cave Story-Spiels basierend auf der NXEngine-Engine, die im Haiku-Betriebssystem gestartet wurde." src="https://habrastorage.org/webt/cu/fy/xs/cufyxskkttfmgcra7wcq9blp88g.png"></div><br>  <i>Port des Cave Story-Spiels basierend auf der NXEngine-Engine, die im Haiku-Betriebssystem gestartet wurde.</i> <br><br>  Da das Spiel die russische und die englische Version mit unterschiedlichen ausführbaren Dateien und Datendateien voraussetzte, entschied ich mich für ein gemeinsames Paket, das zwei Versionen gleichzeitig kombiniert und automatisch die richtige basierend auf der vom Benutzer gewählten Systemsprache auswählt.  Dies wurde mit dem einfachsten Shell-Skript implementiert: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash if [[ `locale -l` == ru* ]] ; then EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/RUS/Cave Story" else EXE="`finddir B_SYSTEM_APPS_DIRECTORY`/NXEngine/ENG/Cave Story" fi "$EXE" $@</span></span></code> </pre><br>  Dieses Skript wird gestartet, wenn ein Spielelement im Menü "Anwendungen" ausgewählt wird und das aktuelle Systemgebietsschema bestimmt.  Für den Fall, dass der Benutzer Russisch als Systemsprache gewählt hat, wird die russische Version des Spiels und in allen anderen Fällen die englische Version gestartet. <br><br>  Aber mit der Erstellung des ursprünglichen Symbols für die Anwendung musste ich ziemlich basteln.  Tatsache ist, dass im Haiku-Betriebssystem nur Vektorsymbole des speziellen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="500-Byte-Bilder: Das Haiku-Vektorsymbolformat.">HVIF-</a> Formats <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="500-Byte-Bilder: Das Haiku-Vektorsymbolformat.">zulässig sind</a> , die als Attribute des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Sei Dateisystem, Wikipedia-Seite.">Be File System-</a> Dateisystems festgelegt werden.  In der offiziellen Dokumentation finden Sie zwei große Handbücher zum Erstellen eigener Symbole für Anwendungen: Das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Icon Guidelines, Development, Offizielle Haiku-Site.">erste Handbuch</a> beschreibt den Zeichen- und Entwurfsstil und das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Icon-O-Matic, offizielle Haiku-Dokumentation.">zweite Handbuch enthält</a> ausführliche Informationen zur Verwendung des <strong>Icon-O-Matic-</strong> Systemprogramms zum Erstellen von Symbolen. <br><br>  Mit Icon-O-Matic können Sie die einfachsten SVG-Dateien importieren und das resultierende Symbol in das für HaikuPorter erforderliche Format exportieren, das als HVIF RDef bezeichnet wird und dasselbe HVIF darstellt, jedoch in eine Textansicht konvertiert wurde.  RDef-Dateien können nicht nur Bilder enthalten, sondern auch zusätzliche Informationen, z. B. die Version der Anwendung und ihre Beschreibung.  In gewisser Weise ähneln diese Dateien RES-Dateien, die in Windows verwendet werden.  Die folgenden Befehle im Rezept kompilieren die RDef-Dateien und setzen das Ergebnis auf spezielle Attribute: <br><br><pre> <code class="bash hljs">rc nxengine-launcher.rdef resattr -o <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/Cave Story"</span></span> nxengine-launcher.rsrc addResourcesToBinaries <span class="hljs-variable"><span class="hljs-variable">$sourceDir</span></span>/build/nxengine-rus.rdef <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$appsDir</span></span></span><span class="hljs-string">/NXEngine/RUS/Cave Story"</span></span></code> </pre><br>  Darüber hinaus <strong>ist</strong> in den Rezepten die Funktion <strong>addResourcesToBinaries</strong> definiert, mit der diese Arbeit automatisiert werden kann.  Es gibt ein, aber sehr ernstes Problem mit Icon-O-Matic: Die SVG-Dateien, die der beliebte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Inkscape, offizielle Seite.">Inkscape-</a> Vektoreditor speichert, werden entweder nicht geöffnet oder importiert, ohne einige erforderliche Funktionen zu unterstützen, z. B. Farbverläufe.  Daher ist eine Abenteuerquest mit der Konvertierung von Rasterbildern in Vektorbilder mithilfe verschiedener kostenpflichtiger und kostenloser Online- und Offline-Konverter und dem anschließenden Öffnen der resultierenden SVG-Dateien in Icon-O-Matic kläglich gescheitert.  Später habe ich das Problem des Öffnens von SVG-Dateien gelöst und eine Problemumgehung gefunden, aber ich werde weiter unten darüber schreiben.  In der Zwischenzeit habe ich beschlossen, die Standardfunktionen von Icon-O-Matic zu nutzen und das Symbol selbst zu zeichnen.  Nach einer halben Stunde hartem Kopieren von Pixeln erhielt ich die folgende Grafik: <br><br><div style="text-align:center;"><img title="Das Standard-Icon-O-Matic-Programm im Haiku-Betriebssystem." src="https://habrastorage.org/webt/3d/zw/pk/3dzwpkyex_ccbhffzoqovf9ioue.png"></div><br>  <i>Das Standard-Icon-O-Matic-Programm im Haiku-Betriebssystem.</i> <br><br>  Ja, ich habe einen Vektoreditor verwendet, um ein Bild im Pixel Art-Genre zu erstellen.  Meiner amateurhaften Ansicht nach ein Mann, der sich mit Kunst nur schlecht auskennt, hat sich als recht gut herausgestellt.  Ich habe dieses Symbol im erforderlichen Format gespeichert, alle Änderungen vorbereitet, das Rezept aktualisiert und alles an das HaikuPorts-Repository gesendet. <br><br>  <strong>Projektquellcode: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NXEngine, GitHub-Repository.">https://github.com/EXL/NXEngine</a></strong> <br><br>  Ich habe die resultierenden Pakete für alle Fälle und an die Fanseite des Spiels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Download Höhlengeschichte, Höhlengeschichte (Doukutsu Monogatari), A Tribute Site.">Cave Story (Doukutsu Monogatari) gesendet</a> , dessen Verwaltung das Haiku-Betriebssystem zum Download-Bereich hinzugefügt hat. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="gish"></a><h2>  4. Portierung des Gish-Spiels </h2><br>  Das nächste Projekt, das ich auf Haiku übertragen wollte, war das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Portieren von Gish auf Android OS: Verwenden von OpenAL- und GL4ES-Bibliotheken.">Gish-</a> Spiel, das ich zuvor auf Android portiert hatte.  Das HaikuPorts-Repository hatte ein Rezept für eine unvollendete kostenlose Implementierung eines Spiels namens <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Freegish, Wikipedia-Seite.">Freegish</a> , daher habe ich beschlossen, das ursprüngliche Spiel auch dort hinzuzufügen, jedoch ohne Datendateien, da diese im Gegensatz zur Engine separat geliefert werden und überhaupt nicht kostenlos sind. <br><br><div style="text-align:center;"><img title="Gish Game Port läuft unter Haiku Betriebssystem." src="https://habrastorage.org/webt/yu/dm/r9/yudmr9o3bxzmrc5a6shyyxjvj_w.jpeg"></div><br>  <i>Gish Game Port läuft unter Haiku Betriebssystem.</i> <br><br>  Ich hatte keine besonderen Probleme mit der Portierung dieses Spiels.  Die ausführbare Datei wurde unmittelbar nach Ausführung der folgenden Erstellungsbefehle kompiliert: <br><br><pre> <code class="bash hljs">cmake gish/src/main/cpp/ \ -DGLES=0 \ -DANDROID=0 \ -DSDL2_INCLUDE_DIR=`finddir B_SYSTEM_HEADERS_DIRECTORY` \ -DCMAKE_C_FLAGS=<span class="hljs-string"><span class="hljs-string">"`sdl2-config --cflags` -D__linux__"</span></span> \ -DCMAKE_BUILD_TYPE=Release cmake --build .</code> </pre><br>  Als Nächstes implementierte ich die Möglichkeit, das Spiel über das Menü "Anwendungen" zu starten, und unterstützte das Speichern von Benutzerdaten in einem Verzeichnis, auf das zur Aufzeichnung zugegriffen werden kann und das dafür vorgesehen ist: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">char</span></span></span><span class="hljs-function">* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getHaikuSettingsPath</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[PATH_MAX]; find_directory(B_USER_SETTINGS_DIRECTORY, <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path)); <span class="hljs-built_in"><span class="hljs-built_in">strcat</span></span>(path, <span class="hljs-string"><span class="hljs-string">"/Gish/"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> strdup(path); }</code> </pre><br>  Die Funktion <strong>getHaikuSettingsPath () unter</strong> Verwendung der Funktion <strong>find_directory ()</strong> der Haiku-API bildet den vollständigen Pfad zu dem Verzeichnis, das ich benötige. <br><br>  <strong>Projektquellcode: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Gish, GitHub-Repository.">https://github.com/EXL/Gish</a></strong> <br><br>  Es blieb die folgende Frage zu lösen: Wie sollte der Benutzer das Verzeichnis mit den Originaldateien des Spiels Gish auswählen?  Sie könnten versuchen, das Problem mithilfe von Shell-Skripten und dem Dienstprogramm für <strong>Warnsysteme</strong> zu lösen, aber ich habe mich entschlossen, dieses Problem gründlicher anzugehen und einen praktischen GUI-Launcher mithilfe der Haiku-API und des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Interface Kit, offizielle Haiku-Dokumentation.">Interface Kit-</a> Frameworks zu implementieren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>&lt;&lt; Zum Inhalt springen</em></a> <br><br><a name="launcher"></a><h2>  5. Das BeGameLauncher-Projekt, mit dem Sie schnell Starter für Spiele erstellen können </h2><br>  Es wurde beschlossen, mein BeGameLauncher-Projekt in C ++ des alten Standards von 1998 zu schreiben und dabei die nativen Tools des Betriebssystems zu verwenden, um Anwendungen mit einer grafischen Benutzeroberfläche zu erstellen.  Da die Namen vieler Programme für Haiku und BeOS mit dem Präfix „Be“ beginnen, habe ich mich auch entschieden, einen solchen Namen für das Projekt zu wählen.  Ich habe mich zunächst mit dem Interface Kit-Framework vertraut gemacht, das Teil der Haiku-API ist.  Zusätzlich zu der ziemlich detaillierten Dokumentation auf der offiziellen Haiku-Website fand ich zwei einfach ausgezeichnete <strong>DarkWyrm-</strong> Unterrichtskurse, mit denen ein Anfänger schnell verstehen kann, wie bestimmte <strong>Systemklassen</strong> funktionieren.  Der erste Kurs heißt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Programmieren lernen mit Haiku, offizielle Haiku-Seite.">Programmieren lernen mit Haiku</a> und behandelt zu Beginn die Grundlagen der Programmiersprache C ++, die für Anfänger sehr nützlich sein wird.  Der zweite Kurs heißt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Programmieren mit Haiku, offizielle Haiku-Seite.">Programmieren mit Haiku</a> und richtet sich an Personen, die bereits mit C ++ vertraut sind und Grundkenntnisse in dieser Sprache haben.  Beide Kurse befassen sich mit den unterschiedlichsten Aspekten der Haiku-API und sind daher für alle sehr nützlich, die Anwendungen für dieses Betriebssystem erstellen möchten. <br><br>  Nachdem ich dieses hervorragende Material diagonal gelesen hatte, machte ich einen allgemeinen Eindruck von der Haiku-API und begann über meine nächsten Schritte nachzudenken.  Ich hatte bereits einige Erfahrungen mit der Entwicklung von Anwendungsanwendungen mit dem Qt-Framework, das ebenfalls in der Programmiersprache C ++ geschrieben ist und das objektorientierte Programmierparadigma verwendet.  Daher ist die Haiku-API sehr ähnlich, abgesehen vom Fehlen eines Signalsystems und von Slots. Daher werde ich häufig Parallelen und Vergleiche mit Qt ziehen.  Darüber hinaus ist die Verwendung des in der Haiku-API üblichen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Ereignisgesteuerte Programmierung, Wikipedia-Seite.">ereignisgesteuerten Programmierprinzips zu</a> beachten, mit dem verschiedene Entitäten durch die Übertragung von Ereignissen oder Nachrichten miteinander interagieren können.  Ein Analogon zur <strong>QEvent-</strong> Klasse ist hier die <strong>BMessage-</strong> Klasse, um die das System der Interaktion von Objekten aufgebaut ist.  Eine Instanz der <strong>BMessage-</strong> Klasse erhält im Allgemeinen eine eindeutige Nummer, mit der Sie den Absender und seine Aktion in einem allgemeinen Ereignisfilter identifizieren können. <br><br>  Für mein Projekt musste ich die entsprechenden Haiku-API-Klassen auswählen, mit denen ich die beabsichtigte Funktionalität implementieren konnte.  <strong>Um</strong> eine externe Anwendung zu starten, musste zunächst ein Analogon der <strong>QProcess-</strong> Klasse oder der <strong>execve () -</strong> POSIX-Funktion gefunden werden, die übrigens auch im Haiku-Betriebssystem <strong>einwandfrei</strong> funktioniert. Ich entschied jedoch, dass die Verwendung nativer Tools vorzuziehen ist, aber nur für den Fall Der Fall ließ die Möglichkeit, Anwendungen über die POSIX-Funktion zu starten.  Die Interprozesskommunikationsklasse <strong>BRoster war</strong> für diesen Zweck großartig.  Es wurde eine geeignete <strong>Launch ()</strong> -Methode gefunden, mit der Sie den Pfad zur ausführbaren Datei angeben und Argumente an diese übergeben können.  Da der Launcher in der Lage sein sollte, einige Parameter zu speichern, z. B. ein vom Benutzer ausgewähltes Verzeichnis mit Spieldatendateien, benötigte ich eine Klasse, die all dies erledigt.  In Qt heißt eine solche Klasse <strong>QSettings</strong> , und in der Haiku-API gibt es, wie Gerasim mich dazu aufgefordert hat, eine <strong>BMessage-</strong> Klasse <strong>, die</strong> ich bereits <strong>kenne</strong> und die eine sehr nützliche Funktion hat.  Die Sache ist, dass Informationen dieser Klasse einfach serialisiert und beispielsweise auf der Festplatte gespeichert werden können.  Dies ist sehr praktisch und wird häufig zum Aufzeichnen von Benutzerdaten in Programmen verwendet. Aus diesem Grund habe ich diese Klasse ausgewählt, um die Einstellungen in meinem Projekt für die Implementierung von Startern zu speichern.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leider hat die Haiku-API kein Analogon zur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QDebug-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse gefunden </font><font style="vertical-align: inherit;">, daher habe ich mir die Debug-Ausgabe während der Entwicklung </font><font style="vertical-align: inherit;">mit der Funktion </font><strong><font style="vertical-align: inherit;">fprintf ()</font></strong><font style="vertical-align: inherit;"> aus der Standard-Programmiersprache C </font><font style="vertical-align: inherit;">an </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gesendet </font><font style="vertical-align: inherit;">:</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// .h #if __cplusplus &gt;= 201103L #define BeDebug(...) fprintf(stderr, __VA_ARGS__) #else extern void BeDebug(const char *format, ...); #endif // __cplusplus == 201103L // .cpp #if __cplusplus &lt; 201103L #include &lt;cstdarg&gt; void BeDebug(const char *format, ...) { va_list args; va_start(args, format); vfprintf(stderr, format, args); va_end(args); } #endif</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe diese Funktion in eine für mich geeignete </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeDebug () -</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Entität eingeschlossen </font><font style="vertical-align: inherit;">, die je nach ausgewähltem Sprachstandard entweder ein Makro oder auch eine Funktion ist. Dies geschah aufgrund der Tatsache, dass C ++ 98 keine Makros mit einer variablen Anzahl von Argumenten unterstützt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Qt-Framework verfügt außerdem über eine nützliche </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QMessageBox-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse, </font><font style="vertical-align: inherit;">über die Sie einen modalen Dialog mit allen Informationen erstellen können, auf die der Benutzer achten sollte, z. B. auf einen Fehler oder eine Warnung. Die Haiku-API verfügt zu diesem Zweck über eine </font><strong><font style="vertical-align: inherit;">BAlert-</font></strong><font style="vertical-align: inherit;"> Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deren Implementierung unterscheidet sich etwas von der in Qt verfügbaren. Beispielsweise muss ein Objekt dieser Klasse auf dem Heap und nicht auf dem Stapel erstellt werden, da es sich nach einer Benutzeraktion selbst löschen muss. Was die anderen Klassen der grafischen Oberfläche betrifft, hatte ich hier absolut keine Schwierigkeiten und fand alles, was ich brauchte, ohne Probleme. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetzt hätte ich über die einfache Architektur des Projekts nachdenken sollen. Ich beschloss, mich auf die Erstellung einer statischen Bibliothek zu konzentrieren, in der zwei Klassen ihre eigenen abgeleiteten Klassen von ihnen erben sollten. Die erste und wichtigste Klasse, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeLauncherBase</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ist verantwortlich für die Erstellung des Hauptstartfensters, die Übertragung aller Benutzerparameter und bietet die Möglichkeit, eigene GUI-Elemente hinzuzufügen. </font><font style="vertical-align: inherit;">Die zweite Klasse, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BeAboutWindow</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ist einfach dafür verantwortlich, das Dialogfeld "Über das Programm ..." mit Informationen zu öffnen, die in einem separaten Fenster angezeigt werden. </font><font style="vertical-align: inherit;">Daher muss ein Programmierer zwei einfache Schritte ausführen, um seinen Launcher zu erstellen, beispielsweise um Gish zu spielen:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishAboutWindow</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeAboutWindow { ... }; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GishLauncher</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> BeLauncherBase { ... }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ BeApp *beApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> BeApp(SIGNATURE); GishLauncher *gishLauncher = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GishLauncher(BeUtils::GetPathToHomeDir()); beApp-&gt;SetMainWindow(gishLauncher); beApp-&gt;Run(); <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> beApp; beApp = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie zunächst eine entsprechende Startfunktion </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und erben Sie dann einfach von den beiden oben genannten Klassen und implementieren Sie die erforderlichen Methoden in diese. </font><font style="vertical-align: inherit;">Danach kompilieren wir die resultierende C ++ - Datei mit einem Link zu meiner statischen Bibliothek und unser Launcher für das Gish-Spiel ist fertig.</font></font><br><br><div style="text-align:center;"><img title=" ' ...'     Gish." src="https://habrastorage.org/webt/k1/hy/iw/k1hyiwbvnz6gnxaar4p7k2tnsso.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialog "Über das Programm ..." im Launcher des Ports des Spiels Gish.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Als nächstes überlegte ich, wie ich Parameter von meinem Launcher auf die Engine selbst oder in die ausführbare Datei des Spiels übertragen kann. Ich habe nur zwei Möglichkeiten gesehen, um dieses Problem zu lösen. Der erste Weg bestand darin, die Umgebungsvariablen zu ändern. In der Praxis </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fügt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Launcher nach dem Klicken auf die Schaltfläche „Ausführen“ einfach alle Parameter in Umgebungsvariablen ein, indem er die Funktion </font><strong><font style="vertical-align: inherit;">setenv () aufruft</font></strong><font style="vertical-align: inherit;"> , und die Spiel-Engine liest diese Parameter dann mit der Funktion </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getenv ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die recht einfach aussieht. Das einzige Problem, das hier auftreten konnte, war die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">und ihre </font><strong><font style="vertical-align: inherit;">Launch ()</font></strong><font style="vertical-align: inherit;"> -Methode</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Ich wusste nicht, ob die mit Hilfe dieser Klasse gestartete Anwendung alle Umgebungsvariablen erbt, die im Launcher festgelegt wurden. Nach einem kleinen Experiment wurde die Vererbung von Umgebungsvariablen bestätigt und ich habe diese Methode vollständig in mein Projekt implementiert. Die zweite Möglichkeit, das Problem zu lösen, bestand darin, spezielle Befehlszeilenparameter festzulegen. In der Praxis hat der Launcher einfach alle Einstellungen in die entsprechenden Argumente eingefügt und die mit ihnen ausführbare Anwendung aufgerufen. Die Spiel-Engine musste sie jedoch bereits unabhängig verarbeiten, was einige Schwierigkeiten verursachte. Wenn das Spiel beispielsweise nicht die Möglichkeit angenommen hat, den Pfad zu den Spieledateien über Befehlszeilenparameter anzugeben, musste der Argumentparser in der Engine selbst geändert werden. Trotz dieser ProblemeIch habe diese Art der Interaktion implementiert und dadurch eine großartige Gelegenheit erhalten, alles miteinander zu kombinieren. Dadurch konnte ich in einigen Startern eine Zeichenfolge zum Angeben von Benutzerargumenten erstellen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als alles entworfen war, entschied ich mich für ein Montagesystem für mein Projekt. Es wurden nur zwei Optionen in Betracht gezogen: Makefile "auf Steroiden" und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="CMake, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Im ersten Fall haben die Entwickler des Haiku-Betriebssystems ein praktisches </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Makefile-Engine-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket vorbereitet, </font><font style="vertical-align: inherit;">in dem sie alle erforderlichen Funktionen gesammelt haben, mit denen ein Entwickler konfrontiert wäre, wenn er mit dem Schreiben einer Anwendung auf der Haiku-API begonnen hätte, z. B. die automatische Übersetzungsgenerierung und Kompilierung von Anwendungsressourcen. Aber ich gehöre nicht zu denen, die nach einfachen Wegen suchen. Deshalb habe ich mich für CMake entschieden und einen Teil der Arbeit aus dem Makefile-Engine-Paket darauf übertragen. Infolgedessen können Sie sich das resultierende monströse Assembly-Skript im Projekt-Repository ansehen, auf das ich weiter unten verweisen werde.</font></font><br><br><div style="text-align:center;"><img title="    Gish  Haiku." src="https://habrastorage.org/webt/jy/fw/wh/jyfwwhdhgxzofr_3cczuxxvmsig.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Gish Game Port Launcher für Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich möchte ein paar Worte zur Anwendungslokalisierung schreiben. Im Qt-Framework gibt es hierfür eine praktische </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr () -</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wrapper-Funktion </font><font style="vertical-align: inherit;">, zwei Hilfsdienstprogramme </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lrelease</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lupdate</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die an der Generierung von Übersetzungsdateien beteiligt sind. Zum Framework gehört sogar ein spezielles </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Linguist-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programm </font><font style="vertical-align: inherit;">mit einer praktischen grafischen Benutzeroberfläche für Übersetzer. In der Haiku-API sind Anwendungslokalisierungstools weniger bequem und archaischer. Es wird vorgeschlagen, die zu übersetzenden Zeilen in ein spezielles Makro </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B_TRANSLATE () zu </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">verpacken</font></strong><font style="vertical-align: inherit;"> und der Quelldatei die Definition </font><strong><font style="vertical-align: inherit;">B_TRANSLATION_CONTEXT</font></strong><font style="vertical-align: inherit;"> hinzuzufügen</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die eine Gruppe übersetzbarer Zeichenfolgen von einer anderen trennt. Danach muss etwas sehr Seltsames getan werden: Setzen Sie den Compiler-Präprozessor mit dem Flag </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DB_COLLECTING_CATKEYS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für absolut alle </font><strong><font style="vertical-align: inherit;">Projektquelldateien</font></strong><font style="vertical-align: inherit;"> , zaubern Sie mit dem Dienstprogramm </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und erhalten Sie schließlich eine riesige PRE-Datei. Mit dieser Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funktioniert das</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dienstprogramm </font><strong><font style="vertical-align: inherit;">collectcatkeys</font></strong><font style="vertical-align: inherit;"> , mit dem bereits lesbare und einfach zu bearbeitende CATKEYS-Übersetzerdateien erstellt werden. Nach dem Lokalisieren der Zeichenfolgen müssen Sie das Dienstprogramm </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linkcatkeys verwenden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hiermit werden Übersetzungen zu den Ressourcen der ausführbaren Datei hinzugefügt. Bei der Auswahl einer bestimmten Systemsprache zeigt die Anwendung daher die übersetzten Zeilen an. Seltsamerweise enthält die Haiku-API-Dokumentation zur Anwendungslokalisierung nur sehr wenige Informationen. Auf der offiziellen Website fand ich jedoch einen ausgezeichneten Artikel zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Localizing an application, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lokalisieren einer Anwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem viele Aspekte der Anwendungsübersetzung für dieses Betriebssystem beschrieben werden. Soweit ich weiß, verfügte das ursprüngliche BeOS nicht über das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Locale Kit, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locale Kit-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Framework </font><font style="vertical-align: inherit;">und wurde nur zu Haiku hinzugefügt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mein nächster Schritt war die Auswahl einer Umgebung für die Entwicklung von Anwendungen in der Programmiersprache C ++. Aufgrund der Tatsache , </font><font style="vertical-align: inherit;">dass Haiku hat mit dem Qt - </font><font style="vertical-align: inherit;">Framework, in Repositories so HaikuPorts die IDE, wie portiert </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Qt Creator, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt Creator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KDevelop, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDevelop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Darüber hinaus gibt es einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Java virtual machine, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JVM-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Port </font><font style="vertical-align: inherit;">, über den Sie IDEs verwenden können, die in der Programmiersprache Java geschrieben sind, z. B. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="NetBeans, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetBeans</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="IntelliJ IDEA, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IntelliJ IDEA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich habe mich für die Qt Creator-Entwicklungsumgebung entschieden, zumal es in den neuesten Versionen eine qualitativ hochwertige Analyse des Codes mit dem </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibClang-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parser gibt </font><font style="vertical-align: inherit;">, der </font><strong><font style="vertical-align: inherit;">viel</font></strong><font style="vertical-align: inherit;"> genauer und schneller als der Standard-Parser funktioniert.</font></font><br><br><div style="text-align:center;"><img title="   Qt Creator,     Haiku." src="https://habrastorage.org/webt/sk/jg/he/skjgheksjieuiyylk7uhe1_dk6e.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die integrierte Entwicklungsumgebung Qt Creator, die auf dem Haiku-Betriebssystem ausgeführt wird.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In Bezug auf bekannte und plattformübergreifende IDEs in Haiku ist alles in Ordnung. Aber was ist mit exklusiven Lösungen? Ich kann nur ein sehr interessantes Projekt erwähnen, das von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkWyrm</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gesponsert wird </font><font style="vertical-align: inherit;">und derzeit </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Fowler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unterstützt. Es heißt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Paladin, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dieses Programm macht den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pe-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Texteditor in der Betriebssystemdistribution </font><font style="vertical-align: inherit;">fast zu einer echten IDE.</font></font><br><br><div style="text-align:center;"><img title="   Paladin  Haiku,    HaikuPorts." src="https://habrastorage.org/webt/xp/ad/jp/xpadjpfvl4sfridhlc4wob9s3a0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paladin IDE für Haiku aus dem HaikuPorts-Repository installiert.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mithilfe der im Haiku-Fenstersystem integrierten Kacheln können Sie das Paladin-Fenster an der Seite des Pe-Editors anhängen und ein Terminal hinzufügen. Ebenfalls im HaikuPorts-Repository befindet sich ein praktischer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Koder, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koder-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Texteditor </font><font style="vertical-align: inherit;">, der dem beliebten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Notepad++, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notepad ++ -</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programm </font><font style="vertical-align: inherit;">für Windows </font><font style="vertical-align: inherit;">ähnelt </font><font style="vertical-align: inherit;">und auf den Erfahrungen des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Scintilla, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scintilla-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekts basiert </font><font style="vertical-align: inherit;">. Für meine Anwendung habe ich eine Projekt-PLD-Datei erstellt, und jetzt kann jeder Entwickler, der die Paladin-IDE verwendet, mein Projekt problemlos in diesem Programm öffnen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als die Qt Creator-Entwicklungsumgebung eingerichtet und betriebsbereit war, begann ich, alle geplanten Funktionen zu realisieren. Das erste Problem, auf das ich gestoßen bin, betraf Skalierungssteuerelemente beim Ändern der Größe der Systemschriftart. Zu Beginn wurde in BeOS der gesamte Platzierungscode für GUI-Elemente explizit in Koordinaten festgelegt. Es war sehr unpraktisch, ausführlich und verursachte eine Vielzahl von Problemen. Beispielsweise wurde bei gleicher Änderung der Schriftgröße die gesamte Form der Anwendung verteilt und unbrauchbar. Glücklicherweise versuchte Haiku, dieses Problem zu lösen, und fügte die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Layout API, Official Haiku documentation."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layout-API hinzu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die Teil des Interface Kit-Frameworks ist.</font></font><br><br><div style="text-align:center;"><img title="  Layout API          Haiku." src="https://habrastorage.org/webt/qt/m1/te/qtm1tehjp2cilj-wfflmps8hi8m.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durch die Verwendung der Layout-API reagieren Starter sehr korrekt auf das Ändern der Größe der Systemschriftart in Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diese Innovation löste mein Problem mit Positionierungssteuerelementen vollständig und ich schrieb die Anwendung mithilfe der Layout-API neu, wodurch die Codelänge an einigen Stellen erheblich reduziert wurde. Auf der offiziellen Haiku-Website fand ich eine Reihe interessanter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Laying It All Out-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Artikel, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;">die die</font></a><font style="vertical-align: inherit;"> Gründe für die Erstellung dieser Softwareschnittstelle </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Laying It All Out, Official Haiku site."><font style="vertical-align: inherit;">rechtfertigen</font></a><font style="vertical-align: inherit;"> und Beispiele für ihre Verwendung zeigen.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiteres Problem wurde von Gerasim identifiziert, als er versuchte, mithilfe meiner Bibliothek einen Launcher für das von ihm portierte Spiel zu erstellen. Die Sache war, dass ich mich oft dem Quellcode des Haiku-Betriebssystems selbst zuwandte, um verschiedene Funktionen zu implementieren. Insbesondere habe </font><font style="vertical-align: inherit;">ich dort </font><font style="vertical-align: inherit;">ein Beispiel für die Verwendung der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">für ein Objekt der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BRoster-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse gefunden </font><font style="vertical-align: inherit;">. Das Problem manifestierte sich in der Tatsache, dass dieses Beispiel falsch war und die von Gerasim portierte Spiel-Engine die vom Launcher festgelegten Argumente nicht korrekt analysieren konnte. Nachdem ich den Haiku-Quellcode eingehender untersucht hatte, konnte ich feststellen, dass das erste Argument, das den vollständigen Pfad zur ausführbaren Datei enthalten sollte, bei der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">nicht explizit festgelegt </font><font style="vertical-align: inherit;">werden muss </font><font style="vertical-align: inherit;">, da es automatisch festgelegt wird.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Error const char* args[] = { "/bin/open", fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 2, args); // Good const char* args[] = { fURL.String(), NULL }; be_roster-&gt;Launch(&amp;ref, 1, args); // See "src/kits/app/Roster.cpp", BRoster::ArgVector::Init() method: if (error == B_OK) { fArgs[0] = fAppPath.Path(); // &lt;= Here if (argc &gt; 0 &amp;&amp; args != NULL) { for (int i = 0; i &lt; argc; i++) fArgs[i + 1] = args[i]; if (hasDocArg) fArgs[fArgc - 1] = fDocPath.Path(); } // NULL terminate (eg required by load_image()) fArgs[fArgc] = NULL; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Dokumentation für die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">besagt nicht, dass das erste Argument nicht erforderlich ist, weshalb der Entwickler diesen Code wahrscheinlich falsch geschrieben hat. Ich habe diesen Fehler in meinem Projekt behoben und das Problem von Gerasim von selbst gelöst. Aber was ist mit diesem kleinen Fehler im Haiku-Betriebssystem selbst? Ich beschloss, sie auch zu reparieren. Zum Glück stellte sich heraus, dass dies sehr einfach war! Sie müssen sich mit GitHub bei der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Haiku Code Review, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haiku Code Review</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerrit-Ressource anmelden </font><font style="vertical-align: inherit;">, Ihren öffentlichen SSH-Schlüssel hinzufügen, den Haiku-Quellcode aufteilen, ein Commit-Commit erstellen und den resultierenden Patch an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Code review, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code Review an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> privilegierte Entwickler </font><font style="vertical-align: inherit;">senden </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> ssh://EXL@git.haiku-os.org/haiku --depth=1 -b master &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> haiku git commit git push origin master:refs/<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>/master</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie bereits gesendete Patches aktualisieren müssen, müssen Sie vor dem Senden geänderter oder neuer Commits die ID hinzufügen, die uns der Haiku Code Review-Dienst am Ende der Commit-Nachricht gegeben hat. Nach dem Senden des Patches müssen Haiku-Entwickler ihn genehmigen, ablehnen oder zur Überarbeitung einreichen. In meinem Fall wurde die Korrektur sofort akzeptiert und dieser kleine Fehler ist jetzt überall behoben. Wenn Sie Ihre Patches testen müssen, bevor Sie sie an das Repository senden, können Sie versuchen </font><font style="vertical-align: inherit;">, eine separate Anwendung </font><font style="vertical-align: inherit;">mit dem </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jam-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dienstprogramm zu </font><font style="vertical-align: inherit;">kompilieren </font><font style="vertical-align: inherit;">, das ein Zweig des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Perforce Jam and Haiku Jam, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perforce Jam-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Build- </font><font style="vertical-align: inherit;">Systems </font><font style="vertical-align: inherit;">ist und zum Erstellen der gesamten Codebasis des Haiku-Betriebssystems verwendet wird. Das Quellcode-Repository enthält die Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReadMe.Compiling.md</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, was Ihnen hilft, mit allen Kompilierungstricks umzugehen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Abschluss meines Projekts habe ich den Grund gefunden, warum das Programm Icon-O-Matic keine SVG-Dateien öffnet, die mit dem Inkscape-Vektoreditor erstellt wurden. Die Sache ist, dass Icon-O-Matic das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viewBox-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Attribut nicht verarbeiten </font><font style="vertical-align: inherit;">kann. Wenn Sie jedoch eine einfache SVG-Datei ohne dieses Attribut finden, sie mit Inkscape bearbeiten und als </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einfache SVG-Datei speichern</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wird sie in Icon-O geöffnet -Matic. Daher habe ich eine solche speziell vorbereitete SVG-Datei in mein Repository gestellt, die bearbeitet werden kann und die problemlos in Icon-O-Matic geöffnet werden kann. Außerdem habe ich der ReadMe-Datei des Projekts eine kleine Anleitung zum Erstellen von Symbolen für meine Starter mit Inkscape hinzugefügt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe mich entschlossen, den Code meines Projekts mit verschiedenen statischen Analysegeräten zu überprüfen, aber sie haben keine ernsthaften Probleme festgestellt. Aber ich fand später ein Problem, das sie nicht erkennen konnten. Die Tatsache , </font><font style="vertical-align: inherit;">dass die statische Methode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GetBitmap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTranslationUtils</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NULL zurückgeben könnte:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Somewhere fBitmap = BTranslationUtils::GetBitmap(B_PNG_FORMAT, fIndex); void BeImageView::Draw(BRect rect) { // Fail const BRect bitmapRect = fBitmap-&gt;Bounds(); ... }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und bei der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Draw ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode habe </font><font style="vertical-align: inherit;">ich versehentlich vergessen, das Feld der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fBitmap-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">auf Gültigkeit </font><font style="vertical-align: inherit;">zu überprüfen </font><font style="vertical-align: inherit;">. Daher stürzte die Anwendung erwartungsgemäß ab, wenn sie kein bestimmtes Bild fand, aber laut Plan sollte stattdessen ein rotes Quadrat gezeichnet werden. Ich erzählte diese Geschichte der Tatsache, dass statische Analysegeräte kein Allheilmittel sind und auf jeden Fall Aufmerksamkeit bei der Arbeit mit Code in der Programmiersprache C ++ erforderlich ist. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Quellcode des BeGameLauncher-Projekts und alle meine Best Practices werden in das Repository auf GitHub hochgeladen. Ich hoffe, dass dieses Programm für jemanden nützlich ist und eine Art Tutorial als einfache Anwendung für Haiku sein kann: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode des Projekts: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="BeGameLauncher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXL/BeGameLauncher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein kleiner Rat für diejenigen, die meinen Launcher in ihren Rezepten für das HaikuPorts-Repository verwenden. </font><font style="vertical-align: inherit;">Wenn Sie die ausführbare Spieldatei aus der Liste der von einigen Programmen gelesenen Haiku-Anwendungen ausblenden und nur den Launcher dort belassen möchten, können Sie den folgenden Trick verwenden:</font></font><br><br><pre> <code class="bash hljs">settype -t application/x-vnd.Be-elfexecutable <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish rc <span class="hljs-variable"><span class="hljs-variable">$portDir</span></span>/additional-files/gish.rdef -o gish.rsrc resattr -o <span class="hljs-variable"><span class="hljs-variable">$appsDir</span></span>/Gish/engine/Gish gish.rsrc</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies schließt die Möglichkeit aus, ausführbare Dateien ohne vom Launcher übergebene Parameter aus verschiedenen Programmen wie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QuickLaunch auszuführen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die mit dem Schnellstart von Anwendungen befasst sind. </font><font style="vertical-align: inherit;">In diesem Fall wird Ihr ursprüngliches Symbol in der ausführbaren Datei gespeichert. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="xash3d"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 6. Portierung von Xash3D: Legendäres Half-Life-Spiel und offizielle Add-Ons </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xash3D-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekt </font><font style="vertical-align: inherit;">ist eine kostenlose Implementierung der GoldSrc-Engine, die im Spiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life, Video Game, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Half-Life</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und in seinen offiziellen Add-Ons verwendet wird. Hinter der Entwicklung von Xash3D steht der inländische Programmierer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onkel Misha</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der seine Entwicklung und Verbesserung noch koordiniert. Wenig später schlossen sich andere Entwickler dem Projekt an, die eine Abzweigung von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="FWGS Xash3D, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FWGS Xash3D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit Unterstützung für eine große Anzahl von Nicht-Windows-Betriebssystemen herstellten. Heute sind </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mittorn</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a1batross</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libpony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">die wichtigsten Programmierer des FWGS Xash3D-Projekts. </font><font style="vertical-align: inherit;">Die letzte Person war ein aktiver Teilnehmer am einst beliebten </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;">MotoFan.Ru-</font></a><font style="vertical-align: inherit;"> Forum</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="MotoFan.Ru -   ."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">was ich noch in meiner Freizeit verwalte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich fragte mich: Warum nicht diese Engine auf Haiku portieren, das Xash3D-Projekt um die Unterstützung eines so interessanten Betriebssystems erweitern und Haiku-Benutzern die Möglichkeit geben, das legendäre Half-Life, ein Spiel aller Zeiten, zu spielen? Die Angelegenheit blieb klein - es war erforderlich, sofort mit der Arbeit an der Portierung zu beginnen und bei Erfolg die Ergebnisse dieser Arbeit zu veröffentlichen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich einige Stunden damit verbracht hatte, die Projektstruktur und die Teile des Codes zu studieren, die für die Unterstützung verschiedener Plattformen verantwortlich sind, nahm ich Änderungen an der Xash3D-Engine vor, um das Haiku-Betriebssystem zu unterstützen. Auf die altmodische Weise habe ich den Compiler </font><strong><font style="vertical-align: inherit;">-D__linux__</font></strong><font style="vertical-align: inherit;"> definiert</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und versuchte, eine ausführbare Datei und eine Reihe von Bibliotheken zu erstellen. Überraschenderweise ging es ziemlich schnell und am Abend, nachdem ich Datendateien für das Spiel geworfen hatte, gelang es mir, Half-Life zu starten und mit dem Zug zum Hauptbahnhof in Black Mesa zu fahren.</font></font><br><br><div style="text-align:center;"><img title="   Xash3D  Haiku     Qt Creator." src="https://habrastorage.org/webt/8t/rd/59/8trd59d_6xk6-5nvpyjjvnvl0q0.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Vorgang des Portierens der Xash3D-Engine nach Haiku in der Qt Creator-IDE.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgrund der Tatsache, dass das Projekt die plattformübergreifende SDL2-Bibliothek verwendet, wird die Portierung der Engine erheblich vereinfacht, da Sie keinen plattformabhängigen Code schreiben müssen, z. B. Sound ausgeben, ein Fenster mit einem OpenGL-Kontext erstellen oder Eingabeereignisse verarbeiten. All dies wurde bereits in der SDL2-Bibliothek implementiert und ist einsatzbereit. Ein kleines Problem trat bei der Netzwerkunterstützung auf, da Haiku über eine separate Bibliothek verfügt, die den Netzwerkstapel implementiert, sodass er mit der Engine verknüpft werden musste.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Projekt zur Erstellung von Trägerraketen, über das ich etwas höher geschrieben habe, war für mich sehr nützlich. Durch die Vererbung von C ++ - Klassen habe ich die Funktionalität ernsthaft erweitert und die Möglichkeit implementiert, verschiedene Ergänzungen zum Spiel auszuwählen:</font></font><br><br><div style="text-align:center;"><img title="    Xash3D  Haiku." src="https://habrastorage.org/webt/fc/-5/ta/fc-5tazmkwvtk5e553ztbwipdoy.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Xash3D Engine Port Launcher für Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Idee war folgende: Definieren Sie drei Umgebungsvariablen, mit denen Sie die Spiel-Engine flexibel konfigurieren können, um ein bestimmtes Add-On zu starten. In diesem Fall wäre es nützlich, den Benutzer mit den verschiedenen Argumenten der ausführbaren Datei spielen zu lassen und die Möglichkeit des tragbaren Startens der Engine zu belassen, wenn sie sich nur im Verzeichnis mit den erforderlichen Datendateien befindet. Die erste Umgebungsvariable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_BASEDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist also für das Verzeichnis mit den </font><strong><font style="vertical-align: inherit;">Spieledateien</font></strong><font style="vertical-align: inherit;"> verantwortlich, die der Benutzer aus dem Launcher auswählt. Die zweite Variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_GAME</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist dafür verantwortlich, welchen Zusatz der Benutzer zum Starten im Launcher ausgewählt hat. Und hier ist die dritte Variable </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH3D_MIRRORDIR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nur für fortgeschrittene Benutzer nützlich. Sie können das Xash3D-Systemverzeichnis auf einen beliebigen beschreibbaren Speicherplatz für den Benutzer spiegeln. Daher muss eine Person, die ihr Add-On-Spiel auf der Xash3D-Engine unter Haiku veröffentlichen möchte, nur mehrere dynamische Bibliotheken für verschiedene Architekturen aus dem Quellcode ihres Projekts sammeln: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• ./cl_dlls/libclient-haiku.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• ./dlls/libserver-haiku .so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• ./cl_dlls/libclient-haiku64.so </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">• ./dlls/libserver-haiku64.so </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und legen Sie sie dann in den entsprechenden Verzeichnissen Ihres Add-Ons ab. Für meinen Xash3D-Port habe ich mich entschlossen, Bibliotheken mit beliebten Add-Ons für das Half-Life-Spiel vorkompilieren, nämlich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life: Blue Shift, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blue Shift</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Half-Life: Opposing Force, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opposing Force</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hiermit können Benutzer einfach ihre Datendateien herunterladen, ein Verzeichnis auswählen und das Spiel ohne Zusammenstellung der Bibliothek starten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Portieren der Xash3D-Engine stieß ich auf einige lustige Probleme. Es stellt sich heraus, dass </font><font style="vertical-align: inherit;">die Engine </font><font style="vertical-align: inherit;">zur Bestimmung der Länge der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hilfemeldung</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für die Argumente der ausführbaren Datei, die bei der </font><strong><font style="vertical-align: inherit;">Übergabe des</font></strong><font style="vertical-align: inherit;"> Parameters </font><strong><font style="vertical-align: inherit;">--help</font></strong><font style="vertical-align: inherit;"> generiert wird </font><font style="vertical-align: inherit;">, die vordefinierte Größe der Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_SYSPATH verwendet hat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die ein Alias ​​einer anderen Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist </font><font style="vertical-align: inherit;">, deren Wert bereits aus der Haiku-API übernommen wurde. Daher konnte ich lange Zeit nicht verstehen, warum dieses Zertifikat unvollständig ausgestellt und an der interessantesten Stelle abgeschnitten wurde. Zuerst habe ich das auf seltsame Weise zum Standardfehlerausgabestream gesündigt</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr hat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die Pufferung angeschlossen und sogar versucht, sie zwangsweise zu deaktivieren. Nach einiger Zeit fiel mir ein, dass ich von der sehr geringen Größe der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Konstante </font><font style="vertical-align: inherit;">im Haiku-Betriebssystem </font><font style="vertical-align: inherit;">überrascht war </font><font style="vertical-align: inherit;">. Diese Konstante nimmt eine Pfadgröße von nur 1024 Bytes an. Meine Vermutung hat sich vollständig ausgezahlt. Sobald ich die Nachrichtengröße auf Standard-4096-Bytes erhöht habe, wurde das Problem behoben. Die folgende Schlussfolgerung sollte aus dieser lustigen Geschichte gezogen werden: Sie sollten die Konstante </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAX_PATH nicht</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in Zeichenarrays verwenden, die in keiner Weise mit Dateipfaden verknüpft sind.</font></font><br><br><div style="text-align:center;"><img title="    Half-Life,      Blue Shift  Opposing Force,     Xash3D    Haiku (,   )." src="https://habrastorage.org/webt/j-/9m/58/j-9m58kzb6pha8dsg5-_rlbbfvw.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Collage von Screenshots des Spiels Half-Life sowie seiner offiziellen Ergänzungen Blue Shift und Opposing Force, die mit der Xash3D-Engine im Haiku-Betriebssystem gestartet wurden (Vorschau, Erhöhung durch </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referenz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ein weiteres Problem war der Absturz, wenn die Funktionalität der Engine selbst verwendet wurde, um das Add-On für das Spiel auszuwählen. Es stellte sich heraus , </font><font style="vertical-align: inherit;">dass , </font><font style="vertical-align: inherit;">wenn der exponierte defayne </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH_INTERNAL_GAMELIBS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Client - </font><font style="vertical-align: inherit;">Bibliothek nicht einmal geladen , </font><font style="vertical-align: inherit;">sondern zweimal. Was ein ähnliches Problem mit sich brachte. Wie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mir a1batross</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erklärt </font><strong><font style="vertical-align: inherit;">hat</font></strong><font style="vertical-align: inherit;"> , wurde dies getan, damit die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenVGUI-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek statisch </font><font style="vertical-align: inherit;">mit der Client-Bibliothek </font><font style="vertical-align: inherit;">verknüpft werden kann </font><font style="vertical-align: inherit;">. In meinem Xash3D-Port auf Haiku wird diese Bibliothek in keiner Weise verwendet, daher habe ich nur die Verwendung der Standardeinstellung vermieden</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XASH_INTERNAL_GAMELIBS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und meldete diesen Fehler den Entwicklern der Engine. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dann stieß ich auf die Unmöglichkeit, den in Haiku integrierten </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPositive-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Browser zu </font><strong><font style="vertical-align: inherit;">öffnen,</font></strong><font style="vertical-align: inherit;"> wenn </font><font style="vertical-align: inherit;">ich </font><font style="vertical-align: inherit;">auf Links in einem in Xash3D laufenden Spiel klickte. Das Problem war wirklich seltsam, denn als die Engine vom Terminal aus gestartet wurde, öffnete sich der Browser, aber als sie mit dem Launcher gestartet wurde, weigerte er sich, dies zu tun. Nachdem ich den Code ein wenig studiert hatte, fand ich dort den Aufruf </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">execve ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , den ich durch </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">system ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu ersetzen versuchte. </font><font style="vertical-align: inherit;">Danach begann der Browser ohne Probleme zu öffnen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn ein Fehler auftritt, verwendet die Xash3D-Engine aktiv die Funktionsaufrufe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nur der aktuelle SDL2-Bibliotheksport für Haiku unterstützt die Erstellung dieser Dialoge nicht. </font><font style="vertical-align: inherit;">Unsere Version der Bibliothek verfügt einfach nicht über diese Funktionalität. </font><font style="vertical-align: inherit;">Aber ich werde weiter unten über die Behebung dieses Problems sprechen.</font></font><br><br><div style="text-align:center;"><img title="  Xash3D,    Haiku Depot." src="https://habrastorage.org/webt/jo/fn/8q/jofn8q1crxkrfms-cr5c4mivrf8.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Port der Xash3D-Engine, der im Haiku Depot-Repository veröffentlicht wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist auch erwähnenswert, dass Gerasim Troeglazov vor meiner Übertragung der Xash3D-Engine auf Haiku eine Mauscursor-Erfassung in SDL2 implementiert hat. Vorher war das Spielen von 3D-Spielen fast unmöglich. Wenig später behebte er einen kniffligen Fehler, bei dem die Bewegung des Spielers im Weltraum allmählich verlangsamt wurde und das Spiel furchtbar langsamer wurde. Es stellte sich heraus, dass die Mauszeigerereignisse standardmäßig mit ihrer gesamten Bewegungshistorie auf dem Bildschirm übertragen wurden. Dementsprechend wurde diese Geschichte während des Spiels schnell aufgeblasen und alles begann sich stark zu verlangsamen. Durch Deaktivieren dieser Funktion im Haiku SDL2-Port wurde dieses Problem behoben. Jetzt können Sie Half-Life problemlos spielen. Der Mangel an 3D-Beschleunigung auf schwacher Hardware macht sich jedoch bemerkbar. Und wenn das Spiel im Fenster anständig funktioniert und überhaupt nicht langsamer wird, wird im Vollbildmodus die FPS erheblich reduziert.Hier hilft es jedoch nur, dem Grafiktreiber eine Hardwarebeschleunigung hinzuzufügen, zumindest für die GPUs, die in gängigen Intel-Prozessoren integriert sind.</font></font><br><br> <strong><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D, GitHub repository."><font style="vertical-align: inherit;"></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode </font><strong><font style="vertical-align: inherit;">: </font></strong><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Xash3D, GitHub repository."><font style="vertical-align: inherit;">https://github.com/FWGS/xash3d</font></a></strong><font style="vertical-align: inherit;"> Ich habe alle Änderungen am Quellcode an die Entwickler des FWGS Xash3D-Projekts gesendet, die sie im Repository akzeptiert haben. Pakete mit dieser Engine sind seit langem in HaikuPorts und im HaikuDepot-Programm für jeden Haiku-Benutzer verfügbar . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="serious"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 7. Portierung der beiden Teile des Spiels Serious Sam: The First Encounter und The Second Encounter </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vor kurzem haben Entwickler von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Croteam, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Croteam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Quellcode für die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serious Engine veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die in Spielen der Serious Sam-Reihe verwendet wird: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Sam: The First Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The First Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Sam: The Second Encounter, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Second Encounter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ich beschloss, es auf das Haiku-Betriebssystem zu portieren, lud den Quellcode herunter und begann zu arbeiten.</font></font><br><br><div style="text-align:center;"><img title="    Serious Engine  Haiku." src="https://habrastorage.org/webt/lk/3b/ep/lk3bep2lrqjisyvfokrzp3tnovi.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Serious Engine Port Launcher für Haiku. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Zusammenstellen der ausführbaren Datei nach den Änderungen war ohne Probleme möglich, aber es war nicht so einfach, das Spiel zu starten, da Fehler in die SDL2-Dialoge eingefügt wurden, die in der Version dieser Bibliothek für Haiku nicht implementiert sind. </font><font style="vertical-align: inherit;">Daher musste ich den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stderr</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , den bewährten Standard-Fehlerausgabestream, </font><font style="vertical-align: inherit;">aufgreifen und die Probleme langsam lösen, was sich hauptsächlich als das Fehlen der erforderlichen Spieldatendateien herausstellte.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The Second Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/dt/us/dy/dtusdy2gusdfijgdvipexqfcb0o.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot von Serious Sam: Das zweite Begegnungsspiel, das über den Serious Engine-Port für das Haiku-Betriebssystem gestartet wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachdem ich die heruntergeladenen Dateien in die erforderlichen Verzeichnisse zerlegt hatte, konnte ich den zweiten Teil dieses wunderbaren Spiels ohne Probleme ausführen und lief sogar ein wenig durch den wunderschönen Dschungel. Trotz der fehlenden 3D-Beschleunigung zeichnet der Prozessor die grafischen Reize des Spiels, wenn Sie es in einem Fenster und nicht im Vollbildmodus ausführen. Diese Engine arbeitet natürlich mit viel niedrigeren FPS als die Xash3D-Engine, über die ich oben geschrieben habe, aber die Grafiken hier sind moderner und besser. Nach geringfügigen Manipulationen war es möglich, den ersten Teil des Spiels zu starten, für den eine andere ausführbare Datei und ein anderer Satz dynamischer Bibliotheken erforderlich sind. Überraschenderweise hat sie etwas schneller verdient, anscheinend sind die Grafiken darin nicht so anspruchsvoll. Beim Klettern der Motoreinstellungen habe ich eine Vielzahl von Grafikparametern gefunden, die die Belastung des Prozessors erheblich reduzieren können.was sich im Fall von Haiku als sehr nützlich herausstellte.</font></font><br><br><div style="text-align:center;"><img title="  Serious Sam: The First Encounter,      Serious Engine    Haiku." src="https://habrastorage.org/webt/lb/bw/uq/lbbwuq6ei6thjz8evtumifyuqso.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Spiels Serious Sam: The First Encounter, das über den Port der Serious Engine für das Haiku-Betriebssystem gestartet wurde.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe beschlossen, ein Paket für zwei Teile des Spiels gleichzeitig zu erstellen. Der Wechsel zwischen ihnen erfolgt einfach durch Auswahl eines Verzeichnisses mit den entsprechenden Datendateien. Wenn beispielsweise ein Benutzer im Launcher das Verzeichnis mit den Dateien des Spiels Serious Sam: The First Encounter auswählt, wird die entsprechende ausführbare Datei gestartet und der entsprechende Satz dynamischer Bibliotheken geladen. Und wenn er das Verzeichnis mit den Dateien des Spiels Serious Sam: The Second Encounter auswählt, startet der Launcher entsprechend eine weitere ausführbare Datei, die seine eigenen gemeinsam genutzten Bibliotheken lädt.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leider war es nicht ohne Probleme. Eine wiederholte Änderung der Auflösung des Videomodus im Spiel führte zum Ausfall der gesamten Engine. In diesem Fall war dieser Absturz in meiner Linux-Distribution nicht der Fall. Ich habe viel Zeit damit verbracht, das Problem zu lokalisieren und zu beheben. Es stellte sich heraus, dass der </font><strong><font style="vertical-align: inherit;">springende</font></strong><font style="vertical-align: inherit;"> Punkt war, dass bei jeder Änderung der Auflösung das Fenster </font><strong><font style="vertical-align: inherit;">SDL_Window</font></strong><font style="vertical-align: inherit;"> zerstört und erneut erstellt wurde</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gleichzeitig konnte der OpenGL-Renderer nicht rechtzeitig wechseln und versuchte, dort etwas in das zerstörte Fenster zu zeichnen. Solche Tricks erlaubte der SDL2-Bibliotheksport auf Haiku nicht zu starten. Alle einfachen Versuche, dieses Problem zu lösen, halfen nicht, und ich musste mich ernsthaft mit der Logik befassen und das Verhalten ändern, damit das Fenster beim Ändern der Auflösung nicht kaputt ging, sondern seine Parameter einfach geändert wurden. Dies half, den Absturz zu beseitigen, fügte jedoch eine zusätzliche Einschränkung hinzu: Um den Vollbildmodus zu aktivieren, müssen Sie die Engine neu starten. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiteres Problem war der Mangel an Musik im Spiel. Unter Linux trat dieses Problem jedoch erneut nicht auf. Bei der Untersuchung des Quellcodes der Engine stellte ich fest, dass das Abspielen von Musik von der </font><strong><font style="vertical-align: inherit;">libvorbisfile-</font></strong><font style="vertical-align: inherit;"> Bibliothek abhängt</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aber die Engine selbst verbindet sich nicht damit, sondern verwendet die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Systemfunktion dlopen ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um den OGG-Audiodateistream dieser Bibliothek </font><strong><font style="vertical-align: inherit;">zuzuführen</font></strong><font style="vertical-align: inherit;"> . Das Problem war, dass die Engine diese Bibliothek auf Haiku nicht finden konnte, da es ohne Version keinen Symlink zur Bibliotheksdatei gab.</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> CUnixDynamicLoader::DoOpen(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *lib) { <span class="hljs-comment"><span class="hljs-comment">// Small HACK for Haiku OS (: #ifdef __HAIKU__ static int vorbis_cnt = 3; char path[PATH_MAX]; char libpath[PATH_MAX]; find_directory(B_SYSTEM_LIB_DIRECTORY, -1, false, libpath, PATH_MAX); if (strstr(lib, "vorbis")) { snprintf(path, sizeof(path), "%s/libvorbisfile.so.%c", libpath, char(vorbis_cnt + '0')); vorbis_cnt++; lib = path; } #endif // fprintf(stderr, "dlopen =&gt; %s\n", lib); module = ::dlopen(lib, RTLD_LAZY | RTLD_GLOBAL); SetError(); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein kleiner Trick, der den vollständigen Pfad zur erforderlichen Bibliothek in die Funktion ersetzte, erwies sich als vollständig funktionierende Lösung. Und da die Bibliothek in ihrer Abwesenheit mehrmals von der Engine durchsucht wird, habe ich für die Zukunft die Möglichkeit gelassen, die nächste Hauptversion zu laden. Ich hoffe, dass sie die API darin nicht brechen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das nächste Problem, auf das ich stieß, war die Unfähigkeit, die Prozessorfrequenz auf der x86-Architektur zu bestimmen, obwohl auf x86_64 alles gut funktionierte. Bei der Ausführung unter x86 wurde die Engine aufgefordert, eine Umgebungsvariable mit dem Namen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SERIOUS_MHZ festzulegen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und stellen Sie die entsprechende Frequenz ein, was mich sehr überrascht hat. Ich habe es versucht und das Spiel hat wirklich begonnen, aber aus irgendeinem Grund hat es zu langsam funktioniert. Als ich den Quellcode des Spiels erklomm, konnte ich lange Zeit die Ursache des Problems nicht finden und schrieb sogar einen Code, der die Haiku-API verwendet, um die richtige Prozessorfrequenz zu erhalten und sie in die Spiel-Engine zu ersetzen. So sah es aus:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;kernel/OS.h&gt; #include &lt;stdio.h&gt; ... uint64 cpuFreq = 0; uint32 count = 0; get_cpu_topology_info(NULL, &amp;count); if (count != 0) { cpu_topology_node_info *topology = new cpu_topology_node_info[count]; get_cpu_topology_info(topology, &amp;count); for (uint32 i = 0; i &lt; count; ++i) { if(topology[i].type == B_TOPOLOGY_CORE) { cpuFreq = topology[i].data.core.default_frequency; } } delete[] topology; } fprintf(stderr, "%llu\n", cpuFreq);</span></span></span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber das hat nicht geholfen. Dann habe ich die Engine-Protokolle auf x86_64 überprüft und festgestellt, dass dort die CPU-Frequenz im Allgemeinen bei 1 MHz bestimmt wird, aber alles funktioniert einwandfrei. Als ich den Code weiter untersuchte, stieß ich auf eine Ablehnung der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> __GNU_INLINE_X86_32__ </font><font style="vertical-align: inherit;">, die automatisch </font><font style="vertical-align: inherit;">verfügbar gemacht </font><font style="vertical-align: inherit;">wird, wenn die Anwendung für die x86-Architektur erstellt wird, nicht jedoch für x86_64. Unterhalb dieser Definition wurde das Flag, das früher SDL2-Timer verwendete, ausgeblendet, anstatt die Prozessorfrequenz mithilfe verschiedener magischer </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Methoden</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie Inline-Assembler und </font><strong><font style="vertical-align: inherit;">rdtsc-</font></strong><font style="vertical-align: inherit;"> Anweisungen zu ermitteln </font><font style="vertical-align: inherit;">oder die Datei </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ proc / </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">cpuinfo zu</font></strong><font style="vertical-align: inherit;"> lesen. </font><strong><font style="vertical-align: inherit;">Daher</font></strong><font style="vertical-align: inherit;"> habe ich dieses Flag aktiviert und aktiviert für x86, was mein Problem gelöst hat. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der letzte Mangel hing mit meiner Nachlässigkeit zusammen. Ich habe in der Assembly-Datei verpasst</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMakeLists.txt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> setzt das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">native</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Flag </font><strong><font style="vertical-align: inherit;">-march =</font></strong><font style="vertical-align: inherit;"> , das dem Compiler buchstäblich mitteilt: Verwenden Sie beim Generieren von Maschinencodeblöcken alle anspruchsvollen und modernen Anweisungen, die auf dem Prozessor Ihres Computers verfügbar sind.</font></font><br><br><pre> <code class="cmake hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> PANDORA <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">message</span></span>(<span class="hljs-string"><span class="hljs-string">"Warning: arch-native will be used!"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">add_compile_options</span></span>(-march=native) <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(HAIKU) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(CMAKE_SIZEOF_VOID_P <span class="hljs-keyword"><span class="hljs-keyword">EQUAL</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-comment"><span class="hljs-comment"># 32-bit message("Warning: Will building 32-bit executable with MMX, SSE, SSE2 support.") add_compile_options(-mmmx -msse -msse2) else() # 64-bit message("Warning: Will building 64-bit executable.") endif() endif()</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aus diesem Grund wurden Pakete im Repository ausschließlich unter dem leistungsstärksten Build-Server gesammelt und weigerten sich, auf den Computern gewöhnlicher Sterblicher ausgeführt zu werden, wobei sie auf die falschen Anweisungen und Opcodes schworen. Das Deaktivieren dieses Flags und das manuelle Hinzufügen von Unterstützung für MMX-, SSE- und SSE2-Anweisungen löste nicht nur dieses Problem, sondern ermöglichte es uns auch, eine große Anzahl von Inline-Assemblern in diesem Projekt zu kompilieren, die nach dem Entfernen dieses Flags abfielen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zu meinem großen Bedauern akzeptieren Croteam-Entwickler keine Patches im Engine-Repository. Deshalb habe ich meine gesamte Arbeit dort abgelegt </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine fork, GitHub repository."><font style="vertical-align: inherit;">Projektquellcode</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Serious Engine fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/Serious-Engine</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installationsfertige Pakete zum Starten von Serious Sam-Spielen sind bereits im HaikuPorts-Repository verfügbar. </font><font style="vertical-align: inherit;">Denken Sie daran, die Spieldatendateien herunterzuladen. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="vangers"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8. Portierung des Vangers-Spiels </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehrlich gesagt war ich bis vor kurzem mit diesem Spiel, das in den fernen 90ern vom heimischen Entwicklungsstudio KD Lab entwickelt wurde, völlig unbekannt. </font><font style="vertical-align: inherit;">Die Teilnehmer der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="OS Haiku - ,   Telegram."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konferenz in Telegram IM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die sich mit der Diskussion des Haiku-Betriebssystems befasst, baten mich jedoch, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Wikipedia page."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vangerov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Wikipedia page."><font style="vertical-align: inherit;">portieren,</font></a><font style="vertical-align: inherit;"> und gaben mir einen Link zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, Official GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub-Repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in dem sich die Quellen dieses Spiels befanden.</font></font><br><br><div style="text-align:center;"><img title="      Haiku." src="https://habrastorage.org/webt/sd/k8/db/sdk8dbv4o-8hgoaohnzuk4xoo0w.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Vanger Game Port Launcher für Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nachdem ich den Quellcode in Haiku gezogen hatte, versuchte ich ihn zu kompilieren und es gelang mir ohne besondere Probleme. Ich musste ein bisschen am Fehlen einiger Header-Dateien und an den Pfaden zu den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="FFmpeg, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg-Bibliotheken</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basteln </font><font style="vertical-align: inherit;">, die von der Engine dieses Spiels verwendet werden. Ich habe sofort damit begonnen, den Quellcode für das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Packen</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vorzubereiten, also habe ich die Umgebungsvariable </font><strong><font style="vertical-align: inherit;">VANGERS_DATA hinzugefügt</font></strong><font style="vertical-align: inherit;"> und das Engine-Protokoll in das beschreibbare Benutzerverzeichnis verschoben.</font></font><br><br><div style="text-align:center;"><img title="     Haiku     Qt Creator." src="https://habrastorage.org/webt/_i/_o/mi/_i_omiac7lqewaq6ml8p4ow4dwg.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Vorgang des Portierens eines Vanger-Spiels nach Haiku in der Qt Creator-IDE.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich habe das Spiel selbst gestartet und nach einer Weile habe ich die ganze Atmosphäre geschätzt, die die Jungs von KD Lab geschaffen haben. Nach einiger Zeit begann ich, den Nimbus munter zum Inkubator und den Schleim nach Podish zu tragen, wonach ich es sogar schaffte, den Elik zum dritten zu bringen. Nachdem ich genug gespielt hatte, begann ich, basierend auf meiner Bibliothek, über die ich oben geschrieben habe, einen Launcher für dieses Spiel vorzubereiten.</font></font><br><br><div style="text-align:center;"><img title="  ,     Haiku." src="https://habrastorage.org/webt/cf/l6/yv/cfl6yvi5euj0sn29wrvgzdpzo2k.jpeg"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Spielport für Vanger, der auf dem Haiku-Betriebssystem ausgeführt wird.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das erste Problem, auf das ich stieß, war, dass die Spieldatendateien, die offiziell über die digitalen Vertriebsdienste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers on GOG.com"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOG.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers on Steam."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abgerufen werden konnten </font><font style="vertical-align: inherit;">, nicht mit der Engine funktionieren wollten. Ich musste mich an eine Person wenden, die den Spitznamen </font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg verwendet</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Wanger auf Linux portiert. Er sagte mir, welche Dateien ersetzt werden sollen, damit alles beginnt und funktioniert. Ich folgte seinen Empfehlungen und bekam, was ich brauchte.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie im Fall des NXEngine-Ports (Cave Story), über den ich oben geschrieben habe, unterscheiden sich die russische und die englische Version in verschiedenen ausführbaren Dateien, aber das Verzeichnis mit den Datendateien ist üblich, die Unterschiede bestehen nur in den Skripten. An der Spitze von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stalkerg habe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich versucht, die Spiel-Engine mit der Option </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-DBINARY_SCRIPT = Off</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu kompilieren </font><font style="vertical-align: inherit;">, wodurch die dynamische Kompilierung dieser Skripte zur Laufzeit aktiviert wurde, wenn sie sich im Verzeichnis der Spieldatendateien befinden. All dies ermöglichte es mir, einen Launcher zu erstellen, in dem die Sprache gewechselt werden kann. Die Idee ist folgende: Das Spielverzeichnis wird vorab überprüft, und wenn es nicht über die erforderlichen Skripte verfügt, werden sie aus den Eingeweiden des Pakets kopiert, wonach die ausführbare Datei der russischen oder englischen Version bereits ausgeführt wird.</font></font><br><br><div style="text-align:center;"><img title="  ,    Haiku Depot." src="https://habrastorage.org/webt/zx/c3/ys/zxc3yseedkzeexk3yxb-3x08azs.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Spielehafen von Vanger, veröffentlicht im Haiku Depot-Repository.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bei der Portierung von Wanger habe ich eine interessante Funktion verwendet, die sich auf gemeinsam genutzte Bibliotheken bezieht, die ich an Haiku mag. Die Spiel-Engine hängt von der dynamischen Bibliothek </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libclunk.so ab</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die für die Erzeugung binauraler Sounds in Echtzeit verantwortlich ist. Und wenn ich unter Linux meine Finger brechen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muss</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , indem </font><font style="vertical-align: inherit;">ich den </font><font style="vertical-align: inherit;">Pfad zu dieser Bibliothek </font><font style="vertical-align: inherit;">in der Umgebungsvariablen </font><strong><font style="vertical-align: inherit;">LD_LIBRARY_PATH ersetze</font></strong><font style="vertical-align: inherit;"> , damit auch das, was zuvor in dieser Variablen war, gespeichert wird, dann geschieht dies in Haiku bequem wie in Windows. Es reicht aus, die gemeinsam genutzte Bibliothek neben die ausführbare Datei zu stellen, und sie wird abgeholt. Der einzige Unterschied besteht darin, dass im Fall von Haiku die Bibliothek im Verzeichnis </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./lib/ abgelegt werden muss.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, was meiner Meinung nach viel Zeit und Nerven sparen kann. </font><font style="vertical-align: inherit;">Daher habe ich beschlossen, die statische Kompilierung dieser Bibliothek nicht in Betracht zu ziehen. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Vangers, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/KranX/Vangers</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wanger-Entwickler haben meine Änderungen an ihrer Spiel-Engine akzeptiert, und einbaufertige Pakete können aus dem HaikuPorts-Repository oder dem HaikuDepot-Programm heruntergeladen werden, obwohl in der Repository-Infrastruktur kürzlich ein Fehler aufgetreten ist Aktualisieren der Fedora Linux-Distribution auf die neue Version. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="sdl2"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 9. Implementierung von Dialogen in der SDL2-Bibliothek für Haiku </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beim Portieren der Xash3D- und Serious Engine-Engines, über die ich oben geschrieben habe, bin ich auf einen lokalen Port in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL2-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2 (Simple DirectMedia Layer) library, Official site."><font style="vertical-align: inherit;">gestoßen,</font></a><font style="vertical-align: inherit;"> bei dem die Implementierung von Dialogen völlig fehlte. Dialoge werden von zwei Funktionen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aufgerufen: SDL_ShowSimpleMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL_ShowMessageBox ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit denen der Benutzer über wichtige Informationen, beispielsweise über einen Fehler, informiert werden kann. Die Implementierung dieser Dialoge ist auf vielen Plattformen und Betriebssystemen verfügbar: Windows, MacOS, iOS, X11 und Android, fehlt jedoch aus irgendeinem Grund in Haiku. Ich habe beschlossen, dieses Versäumnis zu beheben und diese Funktionalität dem SDL2-Bibliotheksport hinzuzufügen. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der Haiku-API oder besser gesagt im Interface Kit-Framework gibt es eine wunderbare Klasse </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das ist großartig für die Implementierung solcher Dialoge. Ich entschied mich, es als Basis zu wählen. Das einzige, was mich störte, war, dass ich nicht sicher war, ob </font><font style="vertical-align: inherit;">mehr als drei Schaltflächen </font><font style="vertical-align: inherit;">in dem von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert erstellten</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dialog </font><strong><font style="vertical-align: inherit;">platziert</font></strong><font style="vertical-align: inherit;"> werden konnten </font><font style="vertical-align: inherit;">. Ich erinnerte mich auch an die Speicherverwaltungsfunktionen in dieser Klasse, über die ich oben geschrieben habe: Die Objekte können nur auf dem Heap und nicht auf dem Stapel erstellt werden, da sie sich nach dem Aufrufen der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">und der nachfolgenden Benutzeraktion selbst löschen. Nachdem ich einige Experimente durchgeführt hatte, zerstreute ich alle meine Zweifel, erbte von dieser Klasse und begann eine Implementierung zu schreiben.</font></font><br><br><div style="text-align:center;"><img title="    SDL2    Haiku." src="https://habrastorage.org/webt/wj/lu/an/wjluanrt_t4sy9sq7tjzzwtsfje.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung von Dialogen in der SDL2-Bibliothek für das Haiku-Betriebssystem.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die erste Schwierigkeit, auf die ich stieß, bestand darin, dass bei Verwendung eines Objekts der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klasse </font><font style="vertical-align: inherit;">oder ihrer Nachkommen eine Instanz der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BApplication-Systemklasse erstellt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werden musste </font><font style="vertical-align: inherit;">, anscheinend um die Anwendung in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">app_server</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><strong><font style="vertical-align: inherit;">registrieren</font></strong><font style="vertical-align: inherit;"> , um mit ihr interagieren zu können. Ich habe eine Instanz dieser Klasse erstellt, aber beim Aufrufen des </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dialogfelds </font><font style="vertical-align: inherit;">aus einem anderen Prozess oder aus dem erstellten Fenster ist ein weiterer Fehler </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aufgetreten</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">der darauf zurückzuführen ist, dass die Anwendung nicht über zwei Objekte der </font><strong><font style="vertical-align: inherit;">BApplication-</font></strong><font style="vertical-align: inherit;"> Klasse </font><strong><font style="vertical-align: inherit;">verfügen</font></strong><font style="vertical-align: inherit;"> kann. Glücklicherweise habe ich eine Lösung für dieses Problem gefunden. Die Haiku-API verfügt über einen globalen Zeiger auf die aktuelle Instanz der Klasse</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die BApplication</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Namen </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ihr Gegenstück im Qt-Framework, ist ein spezielles </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qApp-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Makro </font><font style="vertical-align: inherit;">, das auch einen Zeiger auf das aktuelle Anwendungsobjekt definiert. Es reicht also aus, einfach den </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">be_app-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeiger </font><font style="vertical-align: inherit;">auf NULL zu überprüfen. Wenn die Prüfung erfolgreich ist, erstellen Sie das erforderliche Objekt. Damit waren alle diese Probleme gelöst. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist erwähnenswert, dass die SDL2-Bibliothek in der Programmiersprache C geschrieben ist und die Haiku-API, wie Sie wissen, die Programmiersprache C ++ verwendet. Aus diesem Grund sollten einige Teile des Codes mit </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externen "C"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Bindungskonventionen beschichtet werden, </font><font style="vertical-align: inherit;">damit beim Verknüpfen keine Probleme mit der Zeichenauflösung auftreten. Auch anstelle von</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neu</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> um den Bediener zu verwenden </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neu (die std :: nothrow)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die </font><font style="vertical-align: inherit;">Lage sein , </font><font style="vertical-align: inherit;">den zugewiesenen Speicher für ein NULL zu überprüfen, anstatt die Ausnahmen der Freigabe , </font><font style="vertical-align: inherit;">dass SDL2, natürlich, nicht unterstützt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Rest war nichts kompliziertes. Wir schreiben verschiedene Funktionen, die SDL2-Entitäten und -Darstellungen so konvertieren, dass sie mit der Haiku-API kompatibel sind, und überprüfen, ob sie ordnungsgemäß funktionieren. Für verschiedene Prüfungen habe ich den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SDL2_messagebox_test.c, GitHubGist repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kleinen Test erweitert.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die ich regelmäßig auf verschiedenen Betriebssystemen ausführte, analysierte die Ergebnisse und bewertete meine Arbeit. Am Ende war ich so begeistert, dass ich sogar die Anpassung unterstützte, z. B. das Festlegen verschiedener Farben für die Schaltflächen und den Hintergrund des Dialogfelds. Dies wird in der SDL2-Bibliotheks-API unterstützt, aber ursprünglich hatte ich nicht vor, solche Dinge zu implementieren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn der Programmierer beschließt, eine sehr, sehr lange Zeile in diesen Dialog zu spucken, muss das </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BTextView-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klassenobjekt </font><font style="vertical-align: inherit;">, das im </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BAlert-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Klassenobjekt verwendet </font><strong><font style="vertical-align: inherit;">wird</font></strong><font style="vertical-align: inherit;"> , die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SetWordWrap ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">mit dem Argument </font><strong><font style="vertical-align: inherit;">true</font></strong><font style="vertical-align: inherit;"> aufrufen</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen solchen Programmierer in seine Arme zu schlagen und den Dialog auf den Bildschirm zu bringen. Es scheint, dass es nichts </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einfacheres</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt: Wir überprüfen die Länge des Strings mit der Funktion </font><strong><font style="vertical-align: inherit;">strlen ()</font></strong><font style="vertical-align: inherit;"> und tun das Richtige. Das einzige Problem ist, dass SDL2 auch mit UTF-8 funktioniert. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bedeutet, dass die Funktion </font><strong><font style="vertical-align: inherit;">strlen ()</font></strong><font style="vertical-align: inherit;"> die Anzahl der Bytes und nicht die Anzahl der Zeichen </font><strong><font style="vertical-align: inherit;">zurückgibt</font></strong><font style="vertical-align: inherit;"> . Die Haiku-API und die </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BString-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zeichenfolgenklasse </font><strong><font style="vertical-align: inherit;">helfen</font></strong><font style="vertical-align: inherit;"> mit der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CountChars ()</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Methode </font><font style="vertical-align: inherit;">, mit der Sie die Länge der Zeichenfolge in Zeichen und nicht in Bytes ermitteln können:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckLongLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *aMessage)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> final = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// This UTF-8 friendly. PS G_MAX_STRING_LENGTH = 120 BString message = aMessage; int32 length = message.CountChars(); for (int i = 0, c = 0; i &lt; length; ++i) { c++; if (*(message.CharAt(i)) == '\n') { c = 0; } if (c &gt; final) { final = c; } } return (final &gt; G_MAX_STRING_LENGTH); }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diese Funktion überprüft den Nachrichtentext auf Zeilen mit mehr als 120 Zeichen und gibt, falls vorhanden, true zurück. In Bezug auf UTF-8 gab es immer noch einen solchen Moment, dass in einigen Haiku-Systemschriftarten chinesische Schriftzeichen nicht unterstützt werden. Daher können Sie beispielsweise keine chinesische Inschrift im Fenstertitel festlegen. Der Text in russischer Sprache wird jedoch problemlos installiert. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei der Vorbereitung des Pakets ist ein Erstellungsfehler für die x86_gcc2-Architektur aufgetreten, der im Rezept der SDL2-Bibliothek aktiviert ist. Es stellte sich heraus, dass der älteste GCC 2.95-Compiler nicht erraten konnte, dass der kommentierte Code dem folgenden entspricht:</font></font><br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">rgb_color </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertColorType</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SDL_MessageBoxColor *aColor)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// return { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, 255 }; rgb_color color = { aColor-&gt;r, aColor-&gt;g, aColor-&gt;b, color.alpha = 255 }; return color; }</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daher musste ich dieses Fragment im alten Stil umschreiben und trotzdem die Initialisierung einiger Konstanten in der Klasse direkt in ihren Deklarationen entfernen, der alte Compiler mochte dies auch nicht. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe Patches für die Implementierung von SDL2-Dialogen an das HaikuPorts-Repository gesendet, damit die Xash3D- und Serious Engine-Engines jetzt alle Informationen korrekt an den Benutzer ausgeben können, z. B. über Fehler. Ich habe die SDL2-Entwickler noch nicht kontaktiert, aber es wäre schön, alle Patches aus dem HaikuPorts-Repository in die vorgelagerte SDL2-Bibliothek zu übertragen. Obwohl die Portierung unserer Patches aufgrund der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Rename internal functions from BE_* to HAIKU_*, SDL2 mercurial repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kürzlich erfolgten Umbenennung der</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Funktionspräfixe von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BE_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAIKU_ *</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etwas komplizierter geworden </font><font style="vertical-align: inherit;">ist, ist dies kein so ernstes Problem. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="coolreader"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10. Portieren Sie meine Gabel von Cool Reader </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe lange Zeit eine Abzweigung des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="   Cool Reader."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool Reader-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Programms entwickelt </font><font style="vertical-align: inherit;">, die von </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vadim Lopatin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buggins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) geschrieben wurde. Der entsprechende Artikel dazu ist auf meiner Website verfügbar. </font><font style="vertical-align: inherit;">In den Kommentaren zu diesem Artikel melden sich Leser meines Blogs ständig ab, die entweder eine neue Funktion in ihrer Lieblingsanwendung zum Lesen elektronischer Bücher sehen oder Fehler und Mängel in den bereits implementierten Programmfunktionen beheben möchten.</font></font><br><br><div style="text-align:center;"><img title="   Cool Reader,     Haiku." src="https://habrastorage.org/webt/ug/ib/ys/ugibysukgq3yqipkk3w_ar8sn1y.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meine Gabel von Cool Reader läuft auf Haiku.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Im HaikuPorts-Repository habe ich ein Rezept zum Erstellen des ursprünglichen Cool Reader-Programms gefunden. Aufgrund einiger ständiger Änderungen an der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="SourceForge, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SourceForge-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressource </font><font style="vertical-align: inherit;">erwies sich dieses Rezept jedoch als nicht funktionsfähig, da der Quellcode der Anwendung nicht mehr zum Herunterladen verfügbar war. Dann habe ich beschlossen, meine Gabel als neue Version von Cool Reader in das HaikuPorts-Repository zu übertragen. Ich habe alle Gerasim-Patches in den Code eingefügt, einige Mängel im Rezept behoben und darauf basierend ein neues Paket erstellt, das bereits allen Haiku-Benutzern zur Verfügung steht. Den Quellcode für meine Cool Reader-Gabel finden Sie in diesem GitHub-Repository: </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Cool Reader fork, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/EXLMOTODEV/coolreader</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das einzige Problem, auf das ich stieß, waren die Ungenauigkeiten bei der Übertragung von Gerasims Patches. </font><font style="vertical-align: inherit;">Zusätzlich zur __HAIKU__- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wurde an einer anderen Stelle im Build-System auch die _LINUX- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition festgelegt,</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und da in den meisten Fällen die letzte in der Quellcodeliste die erste war, ließ mich die bedingte Kompilierung </font><font style="vertical-align: inherit;">im Stich </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In Übereinstimmung mit den Präprozessor-Prioritätsregeln wurden für Haiku genau die Codeteile kompiliert, die von der _LINUX- </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definition</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> umrahmt wurden </font><font style="vertical-align: inherit;">, obwohl ich etwas völlig anderes brauchte. </font><font style="vertical-align: inherit;">Trotzdem startete und funktionierte das Programm, speicherte seine Einstellungen jedoch nur dort, wo es benötigt wurde. </font><font style="vertical-align: inherit;">Ich habe die Prioritäten richtig gesetzt, das Paket neu erstellt und das Problem wurde vollständig behoben. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="keymap"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 11. Fertigstellung des KeymapSwitcher-Programms </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In letzter Zeit haben viele gängige Betriebssysteme auf eine neue Tastenkombination </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meta / Opt / Cmd / Win + Space</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> umgestellt </font><font style="vertical-align: inherit;">, um das Tastaturlayout zu wechseln. Es schien mir sehr praktisch, dass ich jetzt nichts mehr ändern und konfigurieren muss. Sie setzen sich an jeden Computer, auf dem MacOS, Windows oder Linux mit der GNOME 3-Shell ausgeführt wird, und diese praktische Kombination aus Ändern der Eingabesprache funktioniert einfach überall. Auch das mobile Android-Betriebssystem hat sein Analogon. Im Allgemeinen habe ich vor langer Zeit zu dieser Tastenkombination gewechselt und mich sehr daran gewöhnt. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zu meinem großen Bedauern, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit Haiku konnte ich keine so bequeme Tastenkombination für das Wechseln von Layouts festlegen, weshalb ich mich bei der Arbeit mit Text in diesem Betriebssystem ständig unwohl fühlte. Aus diesem Grund habe ich beschlossen, diese Anwendung ein wenig zu ändern, und nach dem Quellcode gesucht. Es stellte sich heraus, dass dieses Programm, obwohl es in der Haiku-Distribution enthalten ist, separat vom Quellcode des Betriebssystems selbst bereitgestellt wird. Darüber hinaus ist die Anwendung im HaikuPorts-Repository verfügbar und wird auch über dieses aktualisiert. Wie mir mitgeteilt wurde, war KeymapSwitcher nicht in Haiku enthalten, da geplant ist, eine spezielle API zum Ändern von Tastaturlayouts zu implementieren, und eines Tages die Notwendigkeit für dieses Programm vollständig verschwinden wird.</font></font><br><br><div style="text-align:center;"><img title=" KeymapSwitcher    Haiku        ." src="https://habrastorage.org/webt/o1/cq/xn/o1cqxnduzeop30tx6zpzbq7c62i.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeymapSwitcher auf Haiku mit einer beliebten Tastenkombination zum Wechseln des Tastaturlayouts.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trotz der Tatsache, dass ich Angst vor der Komplexität des KeymapSwitcher-Codes hatte, fand ich dank der Kommentare schnell den richtigen Ort und führte einen kleinen Patch in den Programmcode ein, der das Schreiben von Texten in Haiku erheblich erleichterte. Der einzige kleine Fehler, den ich nicht überwinden konnte, ist, dass der </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schlüssel </font><font style="vertical-align: inherit;">losgelassen werden muss, um die Sprache zu wechseln. Halten Sie also </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opt</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und ein Leerzeichen zum Umschalten zwischen den ausgewählten Sprachen funktioniert nicht. </font><font style="vertical-align: inherit;">Dies beeinträchtigt jedoch absolut nicht die Sprachumschaltung während der Eingabe. Daher habe ich den Patch an das Programm-Repository gesendet und das Anwendungspaket in HaikuPorts aktualisiert. Danach wurde die neue Version von KeymapSwitcher für alle Haiku-Benutzer zur Installation verfügbar. </font></font><br><br> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektquellcode: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="KeymapSwitcher, GitHub repository."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/HaikuArchives/KeymapSwitcher</font></font></a></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich hoffe, ich bin nicht der einzige Benutzer dieser Tastenkombination, der Tastaturlayouts wechselt. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> <br><br><a name="theend"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12. Schlussfolgerung </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Studium der Haiku-API sowie das Lösen verschiedener exotischer Probleme, die durch das Portieren neuer und das Aktualisieren vorhandener Anwendungen für dieses Betriebssystem entstanden sind, brachte mir viele wertvolle Erfahrungen und Freude. Ich konnte Haiku-Support-Patches im Quellcode-Repository einiger großer Projekte bewerben und traf neue interessante Leute, die irgendwie mit diesem schönen Betriebssystem verwandt waren.</font></font><br><br><div style="text-align:center;"><img title=" ,     Haiku." src="https://habrastorage.org/webt/ew/rw/oy/ewrwoyfj--hee2fsb4xz0qrl5ck.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verschiedene Anwendungen, die auf dem Haiku-Betriebssystem ausgeführt werden.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich hoffe aufrichtig, dass in Zukunft alle heutigen Probleme, wie das Fehlen von 3D-Hardwarebeschleunigung und gängigen Browsern sowie die schlechte Unterstützung für moderne Hardware, erfolgreich gelöst werden und Haiku von Entwicklern und Anwendern, die seine einzigartigen Fähigkeiten und sein originelles Design schätzen werden, einen Nachwuchs erhalten wird . Glücklicherweise steht die Entwicklung noch lange nicht still und heute werden auf dem lokalen Forum dieses Betriebssystems heiße Themen zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="What about bounty? 3D acceleration bounty?, Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D-Beschleunigung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und Portierung der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Ported GTK3 [Live], Official Haiku forums."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GTK + 3-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><font style="vertical-align: inherit;">angesprochen </font><font style="vertical-align: inherit;">, und die Möglichkeit der Portierung der </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;">QtWebEngine-</font></a><font style="vertical-align: inherit;"> Komponente wird in den HaikuPorts-Repositories erörtert</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Add recipe for QtWebEngine, Issues on HaikuPorts GitHub repository."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Der GTK + 3-Port bietet möglicherweise die Möglichkeit, die beliebten Firefox- und Chromium-Browser zu starten und zu verwenden. QtWebEngine ermöglicht die Verwendung der Blink-Engine in modernen Browsern, die auf dem Qt-Framework wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Otter Browser, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otter Browser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Falkon, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falkon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basieren </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereits jetzt kann ich dieses Betriebssystem allen empfehlen, die beispielsweise alte und schwache Laptops oder Netbooks anstelle der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Lubuntu, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lubuntu-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Distribution </font><font style="vertical-align: inherit;">oder Windows XP haben. Sie werden erstaunt sein, wie schnell und reaktionsschnell es funktioniert. Ja, Sie müssen sich aufgrund alter Browser und einer Reihe von damit verbundenen Störungen ein wenig auf das Anzeigen einiger Websites beschränken. In den meisten Fällen ist diese Einschränkung bei alter Hardware jedoch nicht von Bedeutung.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle meine Ports und Verbesserungen wurden bereits veröffentlicht und stehen allen Haiku-Benutzern zur Installation zur Verfügung. Alle Änderungen am Quellcode sind in den jeweiligen Repositorys unter ihren ursprünglichen Lizenzen verfügbar. In dieser Arbeit habe ich eine große Menge an Materialien verwendet, von denen ich die wichtigsten in den nützlichen Links unten hervorheben werde. Vielen Dank an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Google, Official site."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> für ihre </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Stack Overflow, Official site."><font style="vertical-align: inherit;">Anwesenheit</font></a><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Die offizielle Website des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Das offizielle Forum des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Offizielle Dokumentation für Haiku-Benutzer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Offizielle Dokumentation für Haiku-Entwickler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Beschreibung der Funktionen der grafischen Benutzeroberfläche von Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Empfehlungen zum Erstellen von Symbolen für Haiku-Anwendungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="  Icon-O-Matic     ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Beschreibung des Icon-O-Matic-Programms und Tipps zu seiner Verwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    HVIF."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Beschreibung des Formats der Vektor-HVIF-Symbole</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Interface Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9. Die offizielle Dokumentation zum Interface Kit Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    Locale Kit."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10. Die offizielle Dokumentation für das Locale Kit-Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=",      Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11. Artikel zu Aspekten der Anwendungslokalisierung für Haiku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="     Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. Die offizielle Dokumentation für die Layout-API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=" ,     Haiku   Layout API."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13. Eine Reihe von Artikeln, die die Implementierung der Layout-API in Haiku beschreiben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GitHub-     Haiku."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14. GitHub-Repository des Quellcodes des Haiku-Betriebssystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="GitHub-   HaikuPorts."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15. GitHub-Repository des HaikuPorts-Rezeptbaums</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="    HPKG- Haiku Depot Web."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16. Die Internetversion des Repositorys der vorgefertigten HPKG-Pakete Haiku Depot Web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="  'Haiku:  -'    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17. Ein interessanter Artikel "Haiku: Lamp Geek-OS" im Blog des INSTEAD-Entwicklers Peter Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title=" 'Haiku: '    INSTEAD,  ."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18. Der Haiku: Immersion-Artikel auf INSTEADs Entwicklerblog Pyotr Kosykh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="   'Learning to Program' with Haiku  DarkWyrm."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19. Der Programmierkurs "Lernen, mit Haiku zu programmieren" von DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="DarkWyrm 'Programmieren mit Haiku' Programmierkurs."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20. Der Programmierunterricht "Programmieren mit Haiku" von DarkWyrm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Publikation 'Gibt es Leben auf Haiku?'  auf der Ressource Linux.org.ru, von mir."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21. Veröffentlichung „Gibt es Leben auf Haiku?“ auf der Ressource Linux.org.ru, von mir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="Telegramm-IM-Konferenz über das Haiku-Betriebssystem."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22. Konferenz in Telegram IM, die der Diskussion des Haiku-Betriebssystems gewidmet ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></strong> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Herzlichen Glückwunsch an alle Benutzer der Ressource</font></font><strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" title="habr, Offizielle Seite."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr</font></font></a></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Frohes Neues Jahr und wünsche ihnen frohe Weihnachten! </font><font style="vertical-align: inherit;">Viel Glück euch im neuen Jahr 2019! </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt; Zum Inhalt springen</font></font></em></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434690/">https://habr.com/ru/post/de434690/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434680/index.html">Task Scheduler Evolution</a></li>
<li><a href="../de434682/index.html">Persönlicher Stadtteleportator</a></li>
<li><a href="../de434684/index.html">Rost 2019 und darüber hinaus: Wachstumsbeschränkungen</a></li>
<li><a href="../de434686/index.html">Vorlesung über JavaScript und Node.js in KPI</a></li>
<li><a href="../de434688/index.html">FreeBSD plant, zu ZFSonLinux zu wechseln</a></li>
<li><a href="../de434692/index.html">Die 25 teuersten US-Startups, die 2018 starben</a></li>
<li><a href="../de434694/index.html">Übersicht über NeurIPS-2018 (ex. NIPS)</a></li>
<li><a href="../de434696/index.html">Mitarbeiter von IT-Giganten haben herausgefunden, wie sie die Richtlinien ihrer Unternehmen beeinflussen können</a></li>
<li><a href="../de434698/index.html">Pessimismus über Multithreading</a></li>
<li><a href="../de434700/index.html">Vorteile der folgenden Styleguides bei der Entwicklung von Angular-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>