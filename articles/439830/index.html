<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèº üé± ‚ö´Ô∏è Terremoto interno: siempre considere alternativas üàÇÔ∏è üé∂ üëßüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El programador Michael Abrash, quien fue invitado por John Carmack para trabajar en el motor del primer Quake a mediados de los 90, escribi√≥ una serie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Terremoto interno: siempre considere alternativas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439830/"><div style="text-align:center;"><img src="https://steemitimages.com/p/USgKopgPmA7SYpFB96Gheb9tK3fTW7Ck3gsGQ8tb7V8UbQnEKC6SXDMMhx5idgb5LV6sCECsXeG3Sjto2AXKzN" alt="imagen"></div><br>  <i>El programador Michael Abrash, quien fue invitado por John Carmack para trabajar en el motor del primer Quake a mediados de los 90, escribi√≥ una serie de art√≠culos durante el proceso de desarrollo.</i>  <i>Esta es la segunda columna de esta serie.</i>  <i>La traducci√≥n del primero est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .</i> <br><br>  Debo admitir: me cans√© del rock cl√°sico.  La √∫ltima vez que estuve feliz de escuchar algo de Cars o Boston hace mucho tiempo, hace unos 20 a√±os.  Adem√°s, nunca me sent√≠ particularmente atra√≠do por Bob Seager y Queen, por no mencionar a Elvis, tan poco ha cambiado.  Pero me di cuenta de que algo cambi√≥ cuando quise cambiar la radio cuando escuch√© a Allman Brothers, o Steely Dan, o Pink Floyd, o, Dios, perd√≥name, los Beatles (pero solo en cosas como "Hola adi√≥s" y "Voy a En cambio, llora, no Ticket to Ride o A Day in the Life; todav√≠a no he llegado <u>tan</u> lejos).  No tard√≥ mucho en encontrar las razones para esto;  Escuch√© las mismas canciones durante un cuarto de siglo y me cans√© de ellas. <br><br>  Lo cuento todo esto porque cuando mi hija y yo salimos del caf√© una noche, la estaci√≥n de radio "No hay alternativa" se encendi√≥ por primera vez en el autom√≥vil. <br><br>  Estamos hablando de una ni√±a de diez a√±os que creci√≥ con una dieta constante de viejos √©xitos.  Le gustan las melod√≠as, las canciones pegadizas y los buenos cantantes.  No encontrar√° nada de esto cuando escuche una estaci√≥n de rock alternativa.  Por lo tanto, no es sorprendente que cuando encend√≠ la radio, ella dijo primero: "¬°Fu!" <br><br>  Pero esto es lo que me sorprendi√≥: despu√©s de escuchar por un tiempo, ella dijo: "Sabes, pap√°, pero eso es realmente interesante". <br><br>  Esto no solo me insinu√≥ sobre qu√© tipo de m√∫sica sonar√≠a en la casa cuando se convirtiera en una adolescente.  Su r√°pida adopci√≥n del rock alternativo (en comparaci√≥n con mi fascinaci√≥n por la m√∫sica de mi propia juventud durante diez a√±os) me record√≥ algo que se olvida f√°cilmente cuando envejeces y el estilo de vida se establece.  Esto me record√≥ que era necesario mantener una mente abierta y estar preparado, adem√°s, esforzarse, para probar cosas nuevas. <a name="habracut"></a>  Los programadores tienden a apegarse a enfoques familiares y son propensos a usarlos si hacen frente adecuadamente a las tareas.  Pero siempre hay alternativas a la programaci√≥n, y creo que a menudo vale la pena explorarlas. <br><br>  Pero dada la naturaleza siempre cambiante de <u>Quake</u> , realmente no deber√≠a necesitar ese recordatorio. <br><br><h2>  Flujo creativo </h2><br>  En enero, describ√≠ una secuencia creativa que llev√≥ a John Carmack a decidir utilizar pol√≠gonos de conjuntos potencialmente visibles (PVS) precalculados para cada punto de vista posible en <u>Quake</u> (un juego que estamos desarrollando conjuntamente en id Software).  El c√°lculo preliminar de PVS significa que, en lugar de pasar mucho tiempo buscando en la base de datos de pol√≠gonos visibles desde el punto de vista actual en la base de datos mundial, simplemente podemos dibujar todos los pol√≠gonos en el PVS de atr√°s hacia adelante (tomando el orden del √°rbol BSP del mundo; discusi√≥n de BSP- vea √°rboles en nuestras columnas para mayo, julio y noviembre de 1995), y obtenga la escena renderizada correctamente por completo sin buscar, permitiendo que el renderizado hacia atr√°s realice el √∫ltimo paso de eliminaci√≥n de superficie oculta (HSR).  Fue una idea incre√≠ble, pero para la arquitectura Quake, el camino a√∫n no se ha completado. <br><br><h2>  Dibujando objetos en movimiento </h2><br>  Por ejemplo, todav√≠a ha habido una pregunta sobre c√≥mo ordenar y dibujar correctamente los objetos en movimiento;  de hecho, esta pregunta despu√©s de la columna de enero se hizo sobre todo, as√≠ que le dar√© tiempo.  El principal problema es que un modelo en movimiento puede caer en varias hojas BSP, y cuando el modelo se mueve, estas hojas cambian;  junto con la posibilidad de encontrar varios modelos en una hoja, esto significa que no hay una manera f√°cil de usar el orden BSP para dibujar modelos en un orden ordenado correctamente.  Cuando escrib√≠ la columna de enero, dibujamos sprites (como explosiones), modelos BSP m√≥viles (como puertas) y modelos poligonales (como monstruos), truncando cada uno de ellos con las hojas que tocan, y luego dibujando las partes correspondientes cuando cada hoja BSP alcanz√≥ tu turno cuando vas de atr√°s hacia adelante.  Sin embargo, esto no resolvi√≥ el problema de clasificar varios modelos en movimiento en una hoja uno con respecto al otro, y tambi√©n dej√≥ problemas desagradables con modelos poligonales complejos. <br><br>  John resolvi√≥ el problema de clasificaci√≥n de sprites y modelos de pol√≠gonos de una manera sorprendentemente de baja tecnolog√≠a: ahora los escribimos en el z-buffer.  (Es decir, antes de renderizar cada p√≠xel, comparamos la distancia al mismo, o z, con el valor z del p√≠xel que ya est√° en la pantalla. Un nuevo p√≠xel se dibuja solo si est√° m√°s cerca que el existente). Primero, dibujamos el mundo principal: paredes, techos, etc. as√≠  En esta etapa, no se utilizan <u>pruebas del</u> z-buffer (como veremos pronto, la definici√≥n de las superficies visibles del mundo se realiza de otra manera);  sin embargo, <u>llenamos el</u> b√∫fer z <u>con</u> valores z (en realidad, valores 1 / z, como se describe a continuaci√≥n) para todos los p√≠xeles del mundo.  Llenar un b√∫fer Z es un proceso mucho m√°s r√°pido que el b√∫fer z que ser√≠a todo el mundo, porque no hay lectura, no hay comparaciones, solo se escriben valores z.  Despu√©s de completar el dibujo y completar el z-buffer del mundo, simplemente podemos dibujar sprites y modelos poligonales usando z-buffering y obtener el tipo perfecto. <br><br>  Cuando se usa el z-buffer, inevitablemente surgen preguntas: ¬øc√≥mo afecta esto a la memoria ocupada y al rendimiento?  Con una resoluci√≥n de 320x200, requiere 128 KB de memoria, lo cual no es trivial, pero no tanto para un juego que requiere 8 MB para funcionar.  Impacto en el rendimiento: aproximadamente el 10% al llenar el z-buffer del mundo, y aproximadamente el 20% (los indicadores var√≠an mucho) al renderizar sprites y modelos poligonales.  A cambio, obtenemos un mundo perfectamente ordenado, as√≠ como la capacidad de crear efectos adicionales, por ejemplo, explosiones y humo de part√≠culas, porque el z-buffer le permite clasificar f√°cilmente estos efectos en el mundo.  En general, el uso de z-buffer aument√≥ significativamente la calidad visual y la flexibilidad del motor Quake, as√≠ como tambi√©n simplific√≥ significativamente el c√≥digo, a costa de costos de memoria y rendimiento bastante razonables. <br><br><h2>  Nivelaci√≥n y aumento de la productividad </h2><br>  Como dije anteriormente, la arquitectura <u>Quake</u> primero dibuja el mundo mismo, sin leer o comparar el b√∫fer z, simplemente rellenando el b√∫fer z con los valores de los pol√≠gonos del mundo en z.  Despu√©s de eso, los objetos en movimiento se dibujan en la cima del mundo utilizando el z-buffering completo.  Hasta ahora solo he hablado sobre c√≥mo dibujar objetos en movimiento.  En el resto de la columna, hablar√© sobre otra parte de la ecuaci√≥n de representaci√≥n: dibujar el mundo mismo, cuando todo el mundo se almacena como un √°rbol BSP y nunca se mueve. <br><br>  Como puede recordar en la columna de enero, est√°bamos preocupados por el rendimiento bruto y su promedio.  Es decir, quer√≠amos que el c√≥digo de renderizado se ejecutara lo m√°s r√°pido posible, pero al mismo tiempo, para que la diferencia entre la velocidad de renderizado de la escena central y la m√°s lenta en renderizar la escena fuera lo m√°s peque√±a posible.  No hay nada bueno en el promedio de 30 cuadros por segundo si el 10% de las escenas se dibujan a 5 fps, porque la sacudida en tales escenas ser√° extremadamente notable en comparaci√≥n con la escena promedio.  Es mejor promediar la frecuencia con 15 cuadros por segundo en el 100% de los casos, a pesar de que la velocidad promedio de renderizado ser√° la mitad. <br><br>  Los PVS precalculados fueron un paso importante hacia un rendimiento m√°s alto y m√°s equilibrado, porque eliminaron la necesidad de determinar los pol√≠gonos visibles, una etapa bastante lenta que se manifest√≥ peor en las escenas m√°s complejas.  Sin embargo, en algunos lugares de niveles de juego reales, los PVS precalculados contienen cinco veces m√°s pol√≠gonos de lo que se ve realmente;  junto con la eliminaci√≥n de la superficie de ocultaci√≥n hacia atr√°s (HSR), esto cre√≥ "zonas calientes" en las que la velocidad de fotogramas se redujo notablemente.  Cientos de pol√≠gonos fueron dibujados de atr√°s hacia adelante, y la mayor√≠a de ellos fueron redise√±ados inmediatamente por pol√≠gonos m√°s cercanos.  El rendimiento bruto en su conjunto tambi√©n disminuy√≥ en un promedio del 50% de la redibujada causada por mostrar todo en el PVS.  Por lo tanto, aunque renderizar conjuntos PVS hacia atr√°s funcion√≥ como la √∫ltima etapa del HSR y fue una mejora con respecto a la arquitectura anterior, no era ideal.  John pens√≥ que probablemente hab√≠a una mejor manera de usar PVS que dibujando de adelante hacia atr√°s. <br><br>  Y en realidad fue encontrado. <br><br><h2>  Intervalos ordenados </h2><br>  La √∫ltima etapa ideal de HSR para Quake fue descartar todos los pol√≠gonos en el PVS que en realidad resultaron ser invisibles, y dibujar solo los p√≠xeles visibles de los pol√≠gonos restantes sin volver a dibujar.  Es decir, cada p√≠xel se dibujar√≠a exactamente una vez y sin p√©rdida de rendimiento, por supuesto.  Sin embargo, una soluci√≥n (que requiere costos) es dibujar de adelante hacia atr√°s, guardar el √°rea que describe las partes superpuestas de la pantalla y truncar cada pol√≠gono con los bordes de esta √°rea antes de renderizar.  Suena prometedor, pero de hecho recuerda m√°s o menos la soluci√≥n del √°rbol de paquetes que describ√≠ en la columna de enero.  Como descubrimos, este enfoque requiere un desperdicio de recursos adicionales y tiene serios problemas con el equilibrio de carga. <br><br>  Puede hacerlo mucho mejor si mueve el √∫ltimo paso de HSR desde el nivel de pol√≠gono al nivel de intervalo y usa la soluci√≥n con intervalos ordenados.  En esencia, este enfoque consiste en convertir cada pol√≠gono en un conjunto de intervalos, como se muestra en la Figura 1, seguido de ordenar y truncar los intervalos entre s√≠, hasta que solo las partes visibles de los intervalos visibles permanezcan para renderizar, como se muestra en la Figura 2. Esto puede parecer muy similar al z-buffering (que, como dije anteriormente, es demasiado lento para ser usado en la representaci√≥n del mundo, aunque es adecuado para objetos en movimiento m√°s peque√±os), pero hay diferencias importantes.  A diferencia del almacenamiento en b√∫fer en z, solo las partes visibles de los intervalos visibles se escanean p√≠xel por p√≠xel (aunque todos los bordes de los pol√≠gonos a√∫n deben rasterizarse).  A√∫n mejor, la clasificaci√≥n realizada por z-buffering para cada p√≠xel se convierte en una operaci√≥n de intervalo con intervalos ordenados, y dado que una propiedad integral de la lista de intervalos es la conectividad, cada borde se ordena solo en relaci√≥n con algunos intervalos en la misma fila, y se trunca solo por unos pocos intervalos cuando Superposici√≥n horizontal.  Aunque las escenas complejas a√∫n tardaron m√°s en procesarse que las escenas simples, los peores casos no fueron tan malos como cuando se usaban √°rboles de vigas o cuando se ordenaba de atr√°s hacia adelante, porque no hay que volver a dibujar y escanear en busca de p√≠xeles ocultos, la complejidad est√° limitada por la resoluci√≥n de p√≠xeles y la conectividad de intervalos limita la clasificaci√≥n de los peores casos en cualquier √°rea de la pantalla.  Como beneficio adicional, la salida de los intervalos ordenados tiene exactamente la forma que necesita un rasterizador de bajo nivel: en el formato de un conjunto de descriptores de intervalos, cada uno de los cuales consiste en una coordenada del comienzo y la longitud. <br><br><img src="https://www.bluesnews.com/abrash/images/66_fig1.gif"><br><br>  <i>Generaci√≥n de intervalos</i> <br><br>  En resumen, la soluci√≥n con intervalos ordenados est√° bastante cerca de nuestros criterios originales;  aunque no ahorra costos, todav√≠a no son del todo terribles.  Elimina completamente el redise√±o y escaneo de p√≠xeles de las partes superpuestas de los pol√≠gonos, y es propenso a igualar el rendimiento en los peores casos.  No depender√≠amos solo de los intervalos ordenados como mecanismo para eliminar las superficies ocultas, sino que los PVS precalculados reducen el n√∫mero de pol√≠gonos a un nivel que los intervalos ordenados manejan suficientemente bien. <br><br>  Entonces, hemos encontrado el enfoque que necesitamos;  solo queda escribir el c√≥digo y esto ha terminado, ¬øverdad?  Si y no  El enfoque conceptual con intervalos ordenados es simple, pero sorprendentemente dif√≠cil de implementar: debe tomar un par de decisiones de dise√±o importantes, requiere un poco de matem√°tica y hay trampas astutas.  Veamos primero las soluciones de dise√±o. <br><br><h2>  Costillas vs intervalos </h2><br>  La primera decisi√≥n es elegir qu√© clasificar: intervalos o aristas (ambos conceptos pertenecen a la categor√≠a general de "intervalos ordenados").  Aunque los resultados en ambos casos ser√°n los mismos (una lista de intervalos que deben dibujarse sin volver a dibujar), las implementaciones y las implicaciones de rendimiento son muy diferentes, ya que la clasificaci√≥n y el truncamiento se realizan mediante estructuras de datos muy diferentes. <br><br>  Al ordenar los intervalos, estos intervalos se almacenan en segmentos de memoria ordenados por x listas vinculadas, generalmente un segmento por l√≠nea de trama.  Cada pol√≠gono, a su vez, se rasteriza en intervalos, como se muestra en la Figura 1. Cada intervalo se ordena y trunca en el segmento de memoria de la l√≠nea de trama en la que se encuentra el intervalo, como se muestra en la Figura 2, de modo que en cualquier momento cada segmento contenga los intervalos encontrados m√°s cercanos , siempre sin superposiciones.  Con este enfoque, es necesario generar todos los intervalos para cada pol√≠gono, y cada intervalo se ordena, trunca y agrega de inmediato al segmento de memoria correspondiente. <br><br><img src="https://www.bluesnews.com/abrash/images/66_fig2.gif"><br><br>  <i>Figura 2: los intervalos del pol√≠gono A de la Figura 1 se ordenan y truncan a intervalos del pol√≠gono B, mientras que el pol√≠gono A est√° a una distancia constante de 100 a lo largo del eje Z, y el pol√≠gono B est√° a una distancia constante de 50 a lo largo del eje Z (el pol√≠gono B est√° m√°s cerca de la c√°mara) )</i> <br><br>  Al ordenar los bordes, estos bordes se almacenan en segmentos de memoria ordenados por x listas vinculadas de acuerdo con su l√≠nea r√°ster inicial.  Cada pol√≠gono, a su vez, se divide en bordes, juntos creando una lista de todos los bordes de la escena.  Cuando todos los bordes de todos los pol√≠gonos en la pir√°mide de visibilidad se agregan a la lista de bordes, la lista completa se escanea en una pasada de arriba a abajo, de izquierda a derecha.  Se guarda una lista de bordes activos (AEL).  En cada paso hacia una nueva l√≠nea r√°ster, los bordes que aparecen en esta l√≠nea r√°ster se eliminan del AEL, los bordes activos van a sus nuevas coordenadas x, los bordes que comienzan desde la nueva l√≠nea r√°ster se agregan al AEL y los bordes se ordenan por la coordenada x actual. <br><br>  Para cada l√≠nea r√°ster, se almacena una lista de pol√≠gonos activos (APL) ordenada por z.  Va en orden ordenado por x AEL.  Cuando se encuentra con cada borde nuevo (es decir, cuando cada pol√≠gono comienza o termina cuando se mueve de izquierda a derecha), el pol√≠gono asociado con √©l se activa y clasifica en APL (en el caso de un borde inicial), como se muestra en la Figura 3, o se desactiva y elimina de APL ( en el caso de un borde posterior), como se muestra en la Figura 4. Si el pol√≠gono m√°s cercano ha cambiado (es decir, el m√°s cercano es un nuevo pol√≠gono o el pol√≠gono m√°s cercano ha terminado), para el pol√≠gono que acaba de dejar de ser el m√°s cercano, se crea un intervalo a partir del punto donde el pol√≠gono no est√°  vym porque son los m√°s cercanos y terminando x coordenadas de los bordes y la corriente de la coordenada x se registra en el vertedero, que ahora es el m√°s cercano.  Esta coordenada almacenada se usa m√°s tarde como el comienzo del intervalo creado cuando el nuevo pol√≠gono m√°s cercano deja de estar al frente. <br><br><img src="https://www.bluesnews.com/abrash/images/66_fig3.gif"><br><br>  <i>Figura 3: activaci√≥n del pol√≠gono cuando se detecta un borde inicial en AEL.</i> <br><br><img src="https://www.bluesnews.com/abrash/images/66_fig4.gif"><br><br>  <i>Figura 4: desactivaci√≥n del pol√≠gono cuando se detecta un borde posterior en AEL.</i> <br><br>  No se preocupe si no comprende completamente lo anterior;  Esta es solo una descripci√≥n general r√°pida de la clasificaci√≥n de bordes para que el resto de la columna sea m√°s claro.  Una explicaci√≥n detallada estar√° en la siguiente columna. <br><br>  Los intervalos generados al ordenar los bordes parecen ser exactamente los mismos intervalos que resultar√≠an de la clasificaci√≥n de los intervalos;  La diferencia est√° en las estructuras de datos intermedios utilizados para ordenar los intervalos en la escena.  Al ordenar las aristas, los intervalos se almacenan dentro de las aristas hasta que se genera el conjunto final de intervalos visibles, por lo que la ordenaci√≥n, el recorte y la creaci√≥n de intervalos se realizan cuando cada arista agrega o elimina un pol√≠gono, en funci√≥n del estado del intervalo definido por la arista y el conjunto de pol√≠gonos activos.  Al ordenar intervalos, los intervalos se vuelven aparentes instant√°neamente cuando cada pol√≠gono se rasteriza, y estos intervalos intermedios se ordenan y truncan en relaci√≥n con los intervalos en la l√≠nea de trama para crear los intervalos finales;  por lo tanto, los estados de los intervalos se establecen constantemente de manera expl√≠cita, y todo el trabajo se realiza directamente a intervalos. <br><br>  Tanto la clasificaci√≥n por intervalos como la clasificaci√≥n por bordes funcionan bien; se han utilizado con √©xito en proyectos comerciales.  Para Quake, elegimos la clasificaci√≥n de bordes, en parte porque parece ser m√°s eficiente y tiene una excelente conectividad horizontal que proporciona el tiempo de clasificaci√≥n m√≠nimo, en contraste con la clasificaci√≥n potencialmente costosa en listas vinculadas, que puede ser necesaria al ordenar los intervalos.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, una raz√≥n m√°s importante fue que al ordenar los bordes, podemos dividir los bordes entre pol√≠gonos adyacentes, y esto reduce la clasificaci√≥n, el recorte y la rasterizaci√≥n de los bordes a la mitad, y tambi√©n reduce significativamente la base de datos mundial debido al hecho de que los bordes se vuelven comunes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y la √∫ltima ventaja de ordenar los bordes es que no distingue entre pol√≠gonos convexos y c√≥ncavos. Para la mayor√≠a de los motores gr√°ficos, este no es un aspecto muy importante, pero en Quake, recortar, transformar, proyectar y clasificar los bordes se ha convertido en el principal cuello de botella, por lo que estamos haciendo todo lo posible para reducir la cantidad de pol√≠gonos y bordes, y los pol√≠gonos c√≥ncavos son muy √∫tiles a este respecto. Aunque los pol√≠gonos c√≥ncavos tambi√©n se pueden procesar mediante intervalos de clasificaci√≥n, esto implica una disminuci√≥n significativa en el rendimiento.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, no hay una respuesta definitiva sobre el mejor enfoque. </font><font style="vertical-align: inherit;">Al final, los intervalos de clasificaci√≥n y los bordes de clasificaci√≥n cumplen una funci√≥n, y elegir entre ellos es una cuesti√≥n de usabilidad. </font><font style="vertical-align: inherit;">En la siguiente columna, hablar√© m√°s sobre c√≥mo ordenar los bordes con su implementaci√≥n completa. </font><font style="vertical-align: inherit;">En el resto de esta columna, sentar√© las bases para la pr√≥xima hablando sobre las claves de clasificaci√≥n y el c√°lculo de 1 / z. </font><font style="vertical-align: inherit;">En el proceso, har√© varias referencias a los aspectos de clasificaci√≥n de bordes, que a√∫n no se han discutido en detalle; </font><font style="vertical-align: inherit;">Pido disculpas, pero esto es inevitable, y todo se aclarar√° solo al final de la pr√≥xima columna.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Teclas de clasificaci√≥n de costillas </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ahora que sabemos que seleccionaremos la clasificaci√≥n de los bordes y la usaremos para crear los intervalos de los pol√≠gonos m√°s cercanos al espectador, surge la pregunta: ¬øc√≥mo saber si estos pol√≠gonos son los m√°s cercanos? Idealmente, simplemente almacenar√≠amos la clave de clasificaci√≥n de cada pol√≠gono, y cuando aparezca un nuevo borde, comparar√≠amos la clave de su superficie con las claves de otros pol√≠gonos activos actuales para determinar f√°cilmente cu√°l de los pol√≠gonos est√° m√°s cerca.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eso suena demasiado bien, pero es posible. Si, por ejemplo, su base de datos mundial se almacena como un √°rbol BSP, y todos los pol√≠gonos se truncan en hojas BSP, entonces el orden transversal de BSP ser√° el orden de representaci√≥n correcto. Por lo tanto, por ejemplo, si recorre BSP de adelante hacia atr√°s, asignando a cada pol√≠gono un valor de clave incrementalmente mayor cuando lo alcanza, entonces los pol√≠gonos con valores de clave m√°s altos estar√≠an garantizados frente a pol√≠gonos con claves m√°s peque√±as. Este enfoque se ha utilizado en Quake durante alg√∫n tiempo, pero ahora se est√° aplicando una soluci√≥n diferente por razones que explicar√© en breve.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si no tiene un BSP o estructura de datos similar, o si tiene muchos pol√≠gonos en movimiento (BSP no procesa pol√≠gonos en movimiento de manera muy eficiente), entonces otra forma de lograr objetivos es ordenar todos los pol√≠gonos entre s√≠ antes de renderizar la escena y asignar las teclas correspondientes de acuerdo con su espacio relaciones en la ventana gr√°fica. Desafortunadamente, en el caso general, esta es una tarea extremadamente lenta, porque cada pol√≠gono necesita ser comparado entre s√≠. Existen t√©cnicas para mejorar el rendimiento de la clasificaci√≥n de pol√≠gonos, pero no conozco a nadie que realice una clasificaci√≥n general de pol√≠gonos en una PC en tiempo real.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una alternativa es ordenar por distancia z desde el visor en el espacio de la pantalla; Esta soluci√≥n encaja bien con la conectividad espacial superior de los bordes de clasificaci√≥n. Al reunirse con cada nueva arista en la l√≠nea de trama, puede calcular la distancia z del pol√≠gono correspondiente y compararla con las distancias de otros pol√≠gonos, despu√©s de lo cual el pol√≠gono se puede guardar en APL.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo, obtener distancias a lo largo de z puede ser una tarea dif√≠cil. No olvide que necesitamos poder calcular z en cualquier punto arbitrario del pol√≠gono, porque puede ocurrir un borde y hacer que el pol√≠gono se clasifique en el APL en cualquier lugar de la pantalla. Podemos calcular z directamente desde las coordenadas de pantalla x e y y las ecuaciones del plano del pol√≠gono, pero, desafortunadamente, esto no se puede hacer muy r√°pidamente, porque z para el plano no cambia linealmente en el espacio de la pantalla; sin embargo, 1 / z </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var√≠a</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> linealmente, por lo que usamos este valor. (Para una discusi√≥n sobre linealidad en el espacio de pantalla y gradientes para 1 / z, vea la serie de Chris Hecker sobre mapeo de texturas en la revista </font><u><font style="vertical-align: inherit;">Game Developer</font></u><font style="vertical-align: inherit;"> el a√±o pasado</font></font><u><font style="vertical-align: inherit;"></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.) Otra ventaja de usar 1 / z es que la resoluci√≥n aumenta al disminuir la distancia, es decir, con 1 / z siempre tendremos la mejor resoluci√≥n de profundidad para objetos cercanos que son m√°s importantes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La forma obvia de obtener el valor 1 / z en cualquier punto arbitrario del pol√≠gono es calcular 1 / z en los v√©rtices, interpolarlos sobre ambos bordes del pol√≠gono e interpolar entre los bordes para obtener el valor en el punto deseado. Desafortunadamente, esto requiere mucho trabajo a lo largo de cada costilla; peor, esto requiere divisi√≥n para calcular el paso 1 / z por p√≠xel en cada intervalo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ser√≠a mejor calcular 1 / z directamente a partir de la ecuaci√≥n del plano y la pantalla x e y del p√≠xel que nos interesa. La ecuaci√≥n tiene la siguiente forma:</font></font><br><br><p><math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>z</mi><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><msup><mi>x</mi><mo>&amp;#x2032;</mo></msup><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi><mo stretchy=&quot;false&quot;>)</mo><msup><mi>y</mi><mo>&amp;#x2032;</mo></msup><mo>+</mo><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.04ex" height="2.78ex" viewBox="0 -883.9 12933.7 1197.1" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="1747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-28" x="2803" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-61" x="3193" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="3722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="4223" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-29" x="4746" y="0"></use><g transform="translate(5136,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2212" x="6225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-28" x="7226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-62" x="7615" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="8045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="8545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-29" x="9069" y="0"></use><g transform="translate(9458,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="706" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2B" x="10475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-63" x="11476" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="11909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="12410" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>z</mi><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><msup><mi>x</mi><mo>‚Ä≤</mo></msup><mo>‚àí</mo><mo stretchy="false">(</mo><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi><mo stretchy="false">)</mo><msup><mi>y</mi><mo>‚Ä≤</mo></msup><mo>+</mo><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">1/z = (a/d)x' - (b/d)y' + c/d</script> </math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donde z es la coordenada en el espacio z del punto en el plano que se proyecta en las coordenadas de la pantalla (x ', y') (el origen de las coordenadas para estos c√°lculos es el centro de proyecci√≥n, el punto en la pantalla justo en frente del punto de vista), [abc] es normal al plano en la ventana gr√°fica, y d es la distancia desde el origen de la ventana gr√°fica al plano a lo largo de la normal. </font><font style="vertical-align: inherit;">La divisi√≥n se realiza solo una vez para cada plano, porque a, b, cyd son constantes para los planos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un c√°lculo completo de 1 / z requiere dos multiplicaciones y dos adiciones, y cada operaci√≥n debe realizarse con un punto flotante para evitar errores de rango. </font><font style="vertical-align: inherit;">Tal volumen de c√°lculos de coma flotante parece costoso, pero en realidad no lo es, especialmente en los procesadores Pentium, donde el valor del plano 1 / z en cualquier punto se puede calcular en lenguaje ensamblador en solo seis ciclos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si est√° interesado, aqu√≠ hay una derivaci√≥n r√°pida de la ecuaci√≥n 1 / z. </font><font style="vertical-align: inherit;">La ecuaci√≥n del plano para el plano tiene la siguiente forma:</font></font><br><br><p><math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>+</mo><mi>c</mi><mi>z</mi><mo>&amp;#x2212;</mo><mi>d</mi><mo>=</mo><mn>0</mn></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.805ex" height="2.419ex" viewBox="0 -780.1 8957.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2B" x="1324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-62" x="2324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="2754" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2B" x="3474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-63" x="4474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="4908" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2212" x="5599" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="6599" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="7401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-30" x="8457" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>a</mi><mi>x</mi><mo>+</mo><mi>b</mi><mi>y</mi><mo>+</mo><mi>c</mi><mi>z</mi><mo>‚àí</mo><mi>d</mi><mo>=</mo><mn>0</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">ax + by + cz - d = 0</script> </math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">donde x e y son las coordenadas del espacio de vista, a, b, c, d y z se definen arriba. </font><font style="vertical-align: inherit;">Si hacemos la sustituci√≥n</font></font><math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>=</mo><msup><mi>x</mi><mo>&amp;#x2032;</mo></msup><mi>z</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.531ex" height="2.178ex" viewBox="0 -832 3242.4 937.7" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="850" y="0"></use><g transform="translate(1906,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="2773" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>=</mo><msup><mi>x</mi><mo>‚Ä≤</mo></msup><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">x=x'z</script> </math>  y <math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>=</mo><mo>&amp;#x2212;</mo><msup><mi>y</mi><mo>&amp;#x2032;</mo></msup><mi>z</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.995ex" height="2.539ex" viewBox="0 -832 3873 1093.4" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2212" x="1831" y="0"></use><g transform="translate(2610,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="706" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="3404" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>=</mo><mo>‚àí</mo><msup><mi>y</mi><mo>‚Ä≤</mo></msup><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">y=-y'z</script> </math><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(desde la definici√≥n de proyecci√≥n en perspectiva; y cambia de signo porque aumenta en la ventana gr√°fica, pero disminuye en el espacio de la pantalla). </font><font style="vertical-align: inherit;">Realizando una permutaci√≥n, obtenemos:</font></font><br><br><p><math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>z</mi><mo>=</mo><mi>d</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><msup><mi>x</mi><mo>&amp;#x2032;</mo></msup><mo>&amp;#x2212;</mo><mi>b</mi><msup><mi>y</mi><mo>&amp;#x2032;</mo></msup><mo>+</mo><mi>c</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.149ex" height="2.78ex" viewBox="0 -883.9 9105.7 1197.1" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="746" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="1802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="2326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-28" x="2826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-61" x="3216" y="0"></use><g transform="translate(3745,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2212" x="4835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-62" x="5835" y="0"></use><g transform="translate(6265,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="706" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2B" x="7281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-63" x="8282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-29" x="8716" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>z</mi><mo>=</mo><mi>d</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mo stretchy="false">(</mo><mi>a</mi><msup><mi>x</mi><mo>‚Ä≤</mo></msup><mo>‚àí</mo><mi>b</mi><msup><mi>y</mi><mo>‚Ä≤</mo></msup><mo>+</mo><mi>c</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-5">z = d / (ax' - by' + c)</script> </math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Al invertir y expandir la ecuaci√≥n, obtenemos: </font></font><br><br><p><math> <span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mn>1</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>z</mi><mo>=</mo><mi>a</mi><msup><mi>x</mi><mo>&amp;#x2032;</mo></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi><mo>&amp;#x2212;</mo><mi>b</mi><msup><mi>y</mi><mo>&amp;#x2032;</mo></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi><mo>+</mo><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mi>d</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.421ex" height="2.78ex" viewBox="0 -883.9 11375.7 1197.1" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-7A" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-3D" x="1747" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-61" x="2803" y="0"></use><g transform="translate(3333,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="4200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="4700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2212" x="5446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-62" x="6447" y="0"></use><g transform="translate(6876,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2032" x="706" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="7671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="8171" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2B" x="8917" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-63" x="9918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMAIN-2F" x="10351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://habr.com/ru/post/439830/&amp;usg=ALkJrhiFi8K_hhvZZps6Q4LdRyRU-jExWg#MJMATHI-64" x="10852" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mn>1</mn><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>z</mi><mo>=</mo><mi>a</mi><msup><mi>x</mi><mo>‚Ä≤</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi><mo>‚àí</mo><mi>b</mi><msup><mi>y</mi><mo>‚Ä≤</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi><mo>+</mo><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mi>d</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-6">1/z = ax'/d - by'/d + c/d</script> </math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M√°s tarde mostrar√© la clasificaci√≥n 1 / z en acci√≥n. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Temblor y ordenar por z </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencion√© anteriormente que Quake ya no usa el orden BSP como una clave de clasificaci√≥n; de hecho, 1 / z ahora se aplica como clave. A pesar de la elegancia de los gradientes, calcular 1 / z a partir de ellos es obviamente m√°s lento que simplemente compararlo con la clave de orden BSP, entonces, ¬øpor qu√© cambiamos a usar 1 / z en Quake?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La raz√≥n principal es la disminuci√≥n en el n√∫mero de pol√≠gonos. Para renderizar en orden BSP, es necesario seguir ciertas reglas, incluidos los pol√≠gonos cuando se intersecan con planos BSP deben dividirse. Esta separaci√≥n aumenta significativamente el n√∫mero de pol√≠gonos y bordes. Gracias a la clasificaci√≥n por 1 / z, podemos dejar los pol√≠gonos sin dividir, pero a√∫n as√≠ obtener el orden de dibujo correcto, por lo que debemos procesar muchos menos bordes; mientras que el renderizado generalmente se acelera, a pesar del costo adicional de ordenar por 1 / z.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otra ventaja de la clasificaci√≥n 1 / z es que resuelve los problemas de clasificaci√≥n mencionados al principio de este art√≠culo: modelos en movimiento, que en s√≠ mismos son peque√±os √°rboles BSP. La clasificaci√≥n en el orden mundial BSP no funcionar√° aqu√≠ porque estos modelos son BSP separados, y no hay formas f√°ciles de integrarlos en el orden secuencial del mundo BSP. No queremos utilizar el almacenamiento en b√∫fer en z para estos modelos, ya que a menudo son objetos grandes (por ejemplo, puertas), y no queremos perder los beneficios de reducir el redise√±o que proporcionan las puertas cerradas al procesar a trav√©s de la lista de bordes. Cuando se usan intervalos ordenados, los bordes de los modelos BSP en movimiento simplemente se colocan en la lista de bordes (primero truncando los pol√≠gonos para que no se crucen con superficies s√≥lidas del mundo para evitar la complejidad,relacionado con la penetraci√≥n mutua) en lugar de todos los bordes del mundo, y el resto se ordena por 1 / z.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Seguir adelante </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo, sin duda, presenta una gran cantidad de informaci√≥n, y a√∫n no se le ha metido mucha informaci√≥n. </font><font style="vertical-align: inherit;">El c√≥digo y la explicaci√≥n del pr√≥ximo art√≠culo ayudar√°n; </font><font style="vertical-align: inherit;">si desea consultar con anticipaci√≥n, para cuando lea este art√≠culo, el c√≥digo debe estar disponible en ftp.idsoftware.com/mikeab/ddjsort.zip. </font><font style="vertical-align: inherit;">Tambi√©n vale la pena echar un vistazo a </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computer Graphics</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Foley y Van Dam o </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos de procedimiento para Computer Graphics</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rogers. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por el momento no est√° claro c√≥mo el resultado del </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terremoto</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debe ordenar los bordes, en orden BSP o 1 / z. </font><font style="vertical-align: inherit;">De hecho, no hay garant√≠a de que los intervalos ordenados en cualquier forma sean la soluci√≥n final. </font><font style="vertical-align: inherit;">A veces parece que cambiamos los motores gr√°ficos con tanta frecuencia como ponen a Elvis en las estaciones de radio dedicadas a los √©xitos de los a√±os 50 (pero, con suerte, ¬°con resultados mucho m√°s est√©ticamente agradables!), Y sin duda consideraremos alternativas hasta la fecha de lanzamiento los juegos</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/439830/">https://habr.com/ru/post/439830/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../439812/index.html">Enfoques de Kaggle para CV en prod: no puede implementar para cortar</a></li>
<li><a href="../439818/index.html">Caracter√≠sticas de los enfoques de dise√±o en el sector de fabricaci√≥n real.</a></li>
<li><a href="../439822/index.html">Creaci√≥n de una pantalla alternativa para el sintetizador / muestreador Ensoniq EPS16 + y ASR10</a></li>
<li><a href="../439824/index.html">¬øCu√°ndo desaparecer√°n los marcos de JavaScript?</a></li>
<li><a href="../439826/index.html">Desactivar el an√°logo. ¬øQu√© pasar√° con la televisi√≥n?</a></li>
<li><a href="../439834/index.html">Descripci√≥n general de la tecnolog√≠a IPMI</a></li>
<li><a href="../439838/index.html">Aritm√©tica de miel: suma y resta de las abejas</a></li>
<li><a href="../439840/index.html">Conferencia DUMP-2019: lo invitamos a hablar en las secciones de Dise√±o, Gesti√≥n y Pruebas</a></li>
<li><a href="../439844/index.html">¬øPor qu√© los desarrolladores de Dodo Pizza 250?</a></li>
<li><a href="../439848/index.html">Ni una sola VPN. Hoja de trucos sobre c√≥mo protegerse y proteger sus datos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>