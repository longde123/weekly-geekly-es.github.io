<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöµüèø ü§ôüèª üñãÔ∏è Die Freude von Haxe. Ein Roman mit einer vernachl√§ssigten Programmiersprache üèóÔ∏è üå©Ô∏è ü•®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! Ich pr√§sentiere Ihnen die √úbersetzung von The Joy of Haxe. FontStrukts Liebesbeziehung mit einer vernachl√§ssigten Programmiersprache . 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Freude von Haxe. Ein Roman mit einer vernachl√§ssigten Programmiersprache</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432750/">  Hallo Habr!  Ich pr√§sentiere Ihnen die √úbersetzung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">The Joy of Haxe.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FontStrukts Liebesbeziehung mit einer vernachl√§ssigten Programmiersprache</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tc/r3/ez/tcr3ezkzcktxk-n37_95nyhguam.png" alt="Haxe-Logo im FontStruct-Schrifteditor"></div><br>  <i>Ein ziemlich grober Versuch, das Haxe-Logo im FontStruct-Schrifteditor zu reproduzieren</i> <br><br>  Wir haben k√ºrzlich den Quellcode f√ºr den wichtigsten Teil unseres Moduls zur Erstellung von Schriftarten ge√∂ffnet.  Dies ist die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">fonthx-</a> Bibliothek zum Erstellen von TrueType-Schriftarten, die in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haxe geschrieben ist</a> . <br>  In diesem Artikel ist praktisch kein Code enthalten.  Wenn Sie sich nur f√ºr den Code interessieren, k√∂nnen Sie sich auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github</a> mit ihm vertraut machen. Die Arbeit wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">am Beispiel des</a> einfachsten Pixel-Font-Editors gezeigt, der mit der fonthx-Bibliothek erstellt wurde. <br><a name="habracut"></a><br>  Unabh√§ngig davon, ob Sie mit Haxe vertraut sind oder nicht, kann das fonthx-Projekt f√ºr Sie von Interesse sein, da es einige erstaunliche Merkmale der Sprache zeigt, die au√üerhalb der Haxe-Community wenig bekannt sind - insbesondere die F√§higkeit, Code in einer sch√∂nen Sprache mit weiterer Kompilierung / √úbersetzung zu schreiben, ist nicht nur In Javascript, aber auch in vielen anderen Plattformen, im Fall von fonthx, sind solche Plattformen JVM (Projektcode wird in Java √ºbersetzt), nativer Code (C ++ oder C #), NodeJS oder WASM. <br><br>  Ich kann als √ºberzeugter Polyglot bezeichnet werden.  Wie viele andere Entwickler schreibe ich Code in verschiedenen Sprachen und respektiere die ernsthaften Absichten derer, die sich lieber nur auf eine Sprache spezialisieren, und f√ºrchte auch all jene Fans und evangelischen Betr√ºger, die √ºber eine wirklich wahre Sprache sprechen.  Aber was hat mich dazu veranlasst, eine Nischensprache wie Haxe zu verwenden, um die Schl√ºsselkomponenten von FontStruct zu erstellen und diesen Artikel zu schreiben?  Und was ist Haxe? <br><br><h3>  Haxe </h3><br>  Haxe ist eine moderne, stark typisierte Programmiersprache mit einigen interessanten Funktionen und einer kleinen Standardbibliothek. <br><br>  Das wichtigste Merkmal einer Sprache ist ihre F√§higkeit, denselben Code f√ºr verschiedene Zielplattformen zu kompilieren. <br><br>  Die meisten Entwickler sind mit dem Konzept der ‚Äûisomorphen‚Äú Entwicklung vertraut, wenn ein Programmierer sowohl Server- als auch Client-Code in einer Sprache schreibt.  Am h√§ufigsten wird Javascript oder TypeScript als solche Sprache verwendet, es kann jedoch auch jede andere Sprache verwendet werden, die in Javascript kompiliert werden kann.  Haxe geht viel weiter in diese Richtung und er√∂ffnet eine Reihe interessanter zus√§tzlicher M√∂glichkeiten.  Es ist m√∂glich, eine ausf√ºhrbare Datei, eine Java-Anwendung, ein WASM-Modul, eine NodeJS-Anwendung, eine browserbasierte Anwendung, eine mobile Anwendung und sogar Bibliotheken f√ºr Sprachen wie PHP, Lua oder Python aus einer Codebasis auf Haxe zu kompilieren. <br><br>  Bei FontStruct nutzen wir diese Gelegenheit, indem wir Schl√ºsselkomponenten unserer Haxe-Anwendung entwickeln.  Servermodule werden als Java-Servlets kompiliert, und Clientmodule werden als JS-Anwendungen kompiliert.  Obwohl wir uns derzeit haupts√§chlich auf diese beiden Zielplattformen konzentrieren (sowie auf NodeJS, um Geschwindigkeitstests durchzuf√ºhren), erw√§gen wir auch, die vom Haxe-√ñkosystem bereitgestellten Tools zum Erstellen mobiler Anwendungen in C ++ zu verwenden.  Dar√ºber hinaus kann die zuk√ºnftige Verwendung von Haxe die Erstellung einer nativen (nicht auf Electron basierenden) Desktop-Anwendung erm√∂glichen. <br><br>  Aufgrund der Tatsache, dass Haxe so viele Zielplattformen unterst√ºtzt, implementiert es besser als jeder andere (zumindest f√ºr unsere Aufgaben) die Idee, "Code einmal schreiben - √ºberall ausf√ºhren", besser als jedes Tool, mit dem ich in den letzten zwanzig Jahren zusammengetroffen bin.  Dies gibt das Gef√ºhl, dass der gleiche Code f√ºr jede Plattform oder Laufzeit kompiliert werden kann. <br><br><h3>  Haxe Adoptionsprozess </h3><br><img src="https://habrastorage.org/webt/qp/4q/le/qp4qle8xjh5jvmp2h4jyq2n7sle.png" alt="FontStructor - Kostenloser Schrifteditor bei FontStruct.com"><br>  <i>FontStructor - Kostenloser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schrifteditor</a> bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FontStruct.com</a></i> <br><br>  Vor mehr als 10 Jahren, als FontStruct gestartet wurde, wurde Adobe Flash f√ºr den FontStructor-Schrifteditor sowie Widgets zum Anzeigen von Schriftarten verwendet.  Zum Erstellen von TrueType-Schriftarten auf dem Server wurde vollst√§ndig unabh√§ngiger Code verwendet, der in Java geschrieben wurde. <br><br><img src="https://habrastorage.org/webt/hz/xo/3r/hzxo3runttsexqxtgtzftuhat7g.png" alt="Alte Flash-Version von FontStructor"><br>  <i>Alte Flash-Version des FontStructor-Editors.</i>  <i>Alle darin enthaltenen Steuerelemente wurden in Flash gezeichnet.</i>  <i>Beachten Sie die seltsamen Bildlaufleisten in den Bedienfeldern links.</i>  <i>Im Laufe der Zeit weicht das Hauptmen√º oben auf der Seite visuell und funktional allm√§hlich von dem im Rest der Site verwendeten HTML-Men√º ab.</i>  <i>Hier gibt es kein DOM oder CSS</i> <br><br>  Obwohl FontStruct ein gro√üer Erfolg war und bleibt, haben unsere ersten technischen L√∂sungen den Test der Zeit nicht bestanden.  Die Entwicklung von Webstandards und die mangelnde Unterst√ºtzung von Plug-Ins auf mobilen Plattformen haben Flash f√ºr die Verwendung in Webanwendungen ungeeignet gemacht.  Wir mussten uns auch mit der Codeduplizierung zwischen einem Java-Server und einem Flash-Client sowie zwischen Flash und anderen in HTML / JS / CSS geschriebenen Teilen des Clients befassen.  Es war notwendig, die drei Codebasen in Bezug auf Funktionalit√§t und Design st√§ndig untereinander zu synchronisieren. <br><br>  Im Jahr 2013 haben wir begonnen, die M√∂glichkeit in Betracht zu ziehen, Haxe insbesondere als Mittel zur √úbersetzung des FontStructor-Editors von Flash nach HTML5 zu verwenden.  Bei unseren ersten Untersuchungen haben wir festgestellt, dass bereits Tools zum automatischen Konvertieren von ActionScript-Code in Haxe ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">as3hx</a> ) und sogar in den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Haxe-Port des</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Robotlegs</a> MVC-Frameworks <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verf√ºgbar sind</a> , das wir in der Flash-Version verwendet haben.  Und so haben wir das Experiment zum Portieren des Clients gestartet. <br><br><h3>  Langsamer und problematischer Start </h3><br>  Unser erstes Jahr der Beziehung mit Haxe war von Unentschlossenheit und Zweifel begleitet. <br><br>  Aus mehreren Gr√ºnden und nicht zuletzt aufgrund der begrenzten Ressourcen, die wir daf√ºr verwenden konnten, erwies sich der Portierungsprozess als ziemlich langsam.  Wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">andere Autoren</a> bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bemerkt haben</a> , erwies sich das Tool zum automatischen Konvertieren von ActionScript-Code in Haxe (as3hx) als sehr n√ºtzlich, jedoch nicht ohne Nachteile - der damit erhaltene Code musste zus√§tzlich √ºberpr√ºft und bearbeitet werden.  W√§hrend dieses Prozesses wurde deutlich, dass unsere Codebasis aufgebl√§ht und fehlerhaft im Design war. Daher haben wir uns parallel zur Portierung f√ºr Verbesserungen entschieden, um den weiteren Fortschritt weiter zu verlangsamen.  Dar√ºber hinaus war Haxe eine neue Sprache f√ºr uns, sodass wir beim Lernen dieser Sprache und ihrer Werkzeuge unweigerlich Fehler gemacht haben. <br><br>  Unser mit Abstand gr√∂√üter Fehler war die Entscheidung, zus√§tzlich ein UI-Framework eines Drittanbieters f√ºr Haxe zu verwenden. <br><br>  F√ºr Haxe gibt es viele solcher Frameworks (vielleicht sogar zu viele), die eine einheitliche API zum Rendern von Grafiken auf verschiedenen Plattformen bereitstellen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">OpenFL</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">NME</a> sind Beispiele f√ºr solche Frameworks und bieten Tools zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen</a> von Haxe-Anwendungen f√ºr mobile Plattformen und sogar Konsolen.  Dabei bieten sie eine Flash-API-Implementierung zum Rendern von Grafiken.  All dies schien sehr verlockend - wir konnten unsere Anwendung mithilfe der bekannten API auf HTML5 √ºbertragen und m√∂glicherweise sogar gleichzeitig Anwendungen f√ºr Android und iOS erstellen! <br><br>  Aus diesem Grund haben wir uns entschieden, OpenFL zu verwenden, um unsere Anwendung auf Haxe zu portieren. <br><br>  Ich m√∂chte OpenFL nicht missachten (ich m√∂chte sogar sagen: ‚ÄûDas Problem liegt nicht bei OpenFL, sondern bei uns‚Äú).  OpenFL ist ein fantastisches Projekt, das sich in vielen Projekten gut bew√§hrt hat, und wir k√∂nnen in Zukunft darauf zur√ºckkommen. Nachdem wir jedoch etwa 90% unserer Anwendung auf Haxe portiert haben, haben wir beschlossen, es aufzugeben. <br><br>  OpenFL stellte sich als viel ernstere Abh√§ngigkeit heraus, als wir erwartet hatten.  Es war urspr√ºnglich geplant, es nur als externe Bibliothek f√ºr unsere Benutzeroberfl√§che zu verwenden, aber am Ende stellte sich heraus, dass OpenFL seine eigenen Tools zum Erstellen von Projekten, spezielle Dateiformate zum Beschreiben von Projekten sowie zus√§tzliche externe Abh√§ngigkeiten schleppte.  Vielleicht liegt dies an der Tatsache, dass OpenFL wie der gr√∂√üte Teil des Haxe-√ñkosystems versucht, die Bed√ºrfnisse von Indie-Spieleentwicklern zu erf√ºllen, w√§hrend es sich recht schnell entwickelt und das Hauptaugenmerk bei seiner Entwicklung auf das Hinzuf√ºgen neuer Funktionen und nicht auf Stabilit√§t gelegt wird. <br><br>  Das Wichtigste f√ºr uns war, dass der mit OpenFL generierte HTML5-Code ideal f√ºr Spiele ist, aber nicht f√ºr eine Anwendung wie FontStruct geeignet ist.  Am Ende wollten wir im Browser nur einen regul√§ren DOM-Baum anzeigen, den wir mit CSS formatieren konnten, und keine von OpenFL erstellten Canvas-Elemente oder Sprites. <br><br>  Wir brauchten regul√§res HTML5, keinen Versuch, Flash in einem Browser zu replizieren, ohne zus√§tzliche Plugins zu verwenden. <br><br><h3>  Spa√ü </h3><br>  Sobald wir die Verwendung von OpenFL aufgaben und feststellten, dass wir mit Haxe alles tun konnten, was wir wollten, ging alles schneller, einfacher und machte letztendlich viel mehr Spa√ü. <br><br>  Und mit Haxe zu arbeiten macht Spa√ü.  Man kann sagen, dass es von lustigen Experten erstellt wurde - unabh√§ngigen Spieleentwicklern.  Spieleentwickler ben√∂tigen eine schnelle Kompilierung sowie eine einzige Codebasis zum Erstellen von Anwendungen f√ºr Desktop-Computer, Browser, iOS, Android und Konsolen.  Spieleentwickler ben√∂tigen einen produktiven und stabilen Code.  Und Haxe bietet all diese gro√üartigen Funktionen, nicht nur f√ºr Spieleentwickler. <br><br>  Ich habe keine Angst davor, die Idee auszudr√ºcken, dass eines der gr√∂√üten Probleme von Haxe - die relativ geringe Gr√∂√üe seiner Community und die damit verbundene Kargheit seines √ñkosystems - auch sein Erfahrungsvorteil f√ºr den Entwickler ist.  Wenn Sie mit Haxe arbeiten, werden Sie wahrscheinlich nicht stundenlang googeln und nach Informationen zum Stapel√ºberlauf suchen oder verschiedene Lektionen zu einem interessanten Thema analysieren und vergleichen sowie die API eines neuen Frameworks oder einer neuen Bibliothek studieren - diese Antworten, Lektionen und Bibliotheken existieren m√∂glicherweise einfach nicht.  Und wenn ja, dann sind sie h√∂chstwahrscheinlich die einzigen Materialien zu diesen Themen.  Mit Haxe l√∂sen Sie Programmierprobleme selbst (!), Schreiben Bibliotheken selbst oder erfinden das Rad selbst neu oder portieren es, ohne das geringste Schuldgef√ºhl zu sp√ºren.  Das macht Spa√ü und gibt Freiheit, und das ist es, was viele Entwickler nach endlosen Frameworks und moderner Entwicklung im Zusammenhang mit dem Kopieren von Code aus verschiedenen Quellen anstreben.  Nach dem Prinzip ‚Äûweniger ist besser‚Äú ist Haxe nicht einzigartig, aber es ist das definitive Plus. <br><br>  Haxe bietet dem Programmierer einzigartige M√∂glichkeiten.  Es gibt ein besonderes Gef√ºhl von erstaunlicher Entdeckung und Freude.  Bei Verwendung von Haxe mit seiner F√§higkeit, Code f√ºr viele Zielplattformen zu kompilieren, besteht das Gef√ºhl, dass der Programmierer von einer der grundlegendsten Abh√§ngigkeiten von allen vorhandenen befreit ist - der Laufzeit selbst. <br><br><h3>  Renderer FontStruct </h3><br>  Der Start unserer ersten Haxe-Komponente f√ºr die FontStruct-Site im April 2015 war ein seltsames und unerwartetes Ereignis. <br><br>  Die Galerie ist ein zentraler Bestandteil von FontStruct: durchsuchbare, sortierbare Listen mit Tausenden von Schriftarten, die auf unserer Plattform erstellt wurden.  Von Anfang an hatten wir 2008 st√§ndige Probleme mit der Download-Geschwindigkeit und der Leistung der Schriftvorschau sowohl in der Galerie selbst als auch auf anderen Seiten der Website. <br><br><img src="https://habrastorage.org/webt/mx/tp/po/mxtppoxgphbi07wtocs3hbxlace.png" alt="Vorschau von Schriftarten in der FontStruct-Galerie"><br>  <i>Der Teil der FontStruct-Galerieseite, auf dem die Vorschau der auf der Plattform erstellten Schriftarten angezeigt wird.</i>  <i>Zun√§chst wurde jedem einzelnen Vorschauelement ein langsam ladender Flash-Film pr√§sentiert!</i> <br><br>  Da FontStruct-Schriftarten ("FontStructions") in einem propriet√§ren Format gespeichert und h√§ufig bearbeitet werden, k√∂nnen sie nicht wie normale TrueType-Schriftarten gerendert werden.  Dies bedeutete die Unf√§higkeit, Bitmap-Bilder auf dem Server f√ºr die Vorschau von Schriftarten zu erstellen (unter Verwendung der FreeType-Bibliothek). <br><br>  Um dieses Problem zu ‚Äûl√∂sen‚Äú, haben wir in den fr√ºhen Tagen von FontStruct separate Flash-Filme f√ºr Galerieelemente verwendet.  Jeder Flash-Film hat Daten in unserem propriet√§ren Format heruntergeladen und analysiert und anschlie√üend das Bild zur Vorschau auf dem Client angezeigt.  Bei der Anzeige solcher Clips auf Seite 20 oder mehr, von denen jeder Daten heruntergeladen und versucht hat, eine Schriftart zu zeichnen, nahmen die Ladezeit und der Ressourcenverbrauch des Benutzers erheblich zu, und die Situation wurde mit der Zeit weiter versch√§rft, da die in unserem Editor entwickelten Schriftarten immer mehr wurden und komplexer. <br><br>  Am Ende haben wir eine ausgefallene Hybridl√∂sung verwendet: Beim ersten Betrachten der Schriftart haben wir einen Flash-Film verwendet, der ein Bild f√ºr die Vorschau generiert hat. Dieses Bild wurde dann aufgenommen und als PNG-Dateien auf dem Server gespeichert.  F√ºr die Vorschau f√ºr die folgenden Benutzer wurden bereits die auf dem PNG-Server gespeicherten verwendet.  - Dieser seltsame Hack hat die Ladezeit der Seite erheblich verbessert, war aber schmutzig und letztendlich falsch oder so.  Die richtige Entscheidung w√§re, ein komplett neues Servermodul zu schreiben - zum Beispiel in Java oder PHP -, um Schriftdaten zu laden und zu analysieren und dann eine darauf basierende Bitmap zu erstellen, aber wir hatten einfach nicht die Ressourcen, um dies zu tun. <br><br>  In der Zwischenzeit ging der Fontstructor-Portierungsprozess nach Haxe sehr langsam voran, und wir waren weit von der Ver√∂ffentlichung entfernt.  Wir sind jedoch weit genug gekommen, um zu verstehen, dass der neue Haxe-Code unsere Probleme bei der Vorschau von Schriftarten in der Galerie l√∂sen kann. <br><br>  Wir hatten bereits Haxe-Code zum Laden und Parsen unseres Schriftformats.  Wir hatten Code zum Rendern von Glyphen (auf Canvas in HTML5 oder auf Sprites in Flash).  Wir hatten auch alle Komponenten, die zur L√∂sung des Problems auf der Client-Seite erforderlich waren.  K√∂nnen wir diesen Code f√ºr die Verwendung auf dem Server anpassen? <br><br>  Ja!  Nachdem wir dies erkannt hatten, ging der Prozess sehr schnell.  Zuerst dachten wir daran, C ++ und die Cairo-Bibliothek zum Rendern von Schriftarten zu verwenden (in der Hoffnung, dass wir eine Erweiterung f√ºr PHP oder eine Art CGI-Modul schreiben k√∂nnten), aber stattdessen entschieden wir uns f√ºr Java.  "Wie wunderbar ist es, mit ein paar Zeilen Code und bedingter Kompilierung eine so grundlegende Entscheidung treffen zu k√∂nnen!"  Wir k√∂nnten hierf√ºr auch NodeJS und Node-Canvas verwenden, waren jedoch bereits mit dem Erstellen und Bereitstellen von Java-Servlets vertraut, und Java verf√ºgt √ºber alle Funktionen, die zum Zeichnen und Bearbeiten von Bitmaps erforderlich sind.  Wir haben wahrscheinlich keinen Code in Java geschrieben, aber mit Haxe ist dies nicht mehr erforderlich. <br><br><img src="https://habrastorage.org/webt/0o/qf/xn/0oqfxndhnna-h2z2n8vlk3mwr4w.png" alt="Code zum rendern"><br>  <i>Solch ein Rendering-Code auf hoher Ebene kann kompiliert und sowohl auf dem Client (JavaScript) als auch auf dem Server (in der JVM) ausgef√ºhrt werden.</i> <br><br>  Infolgedessen haben wir nur wenige Tage gebraucht, um √Ñnderungen an unserer Codebasis vorzunehmen, und ein neuer Renderer wurde gestartet.  √úber Nacht haben wir die Leistung der FontStruct-Galerie erheblich verbessert, die Verwendung schmutziger Hacks beseitigt und vor allem unsere allererste Komponente auf Haxe f√ºr den Kampf gestartet.  Wir haben festgestellt, dass Haxe √ºberraschen kann und viel mehr F√§higkeiten hat, als wir erwartet hatten. <br><br><h3>  Abschied von Flash (und c Vanilla Java) </h3><br>  Im November 2015, dh nach 7 Monaten, haben wir das erste Haxe-Client-Modul erfolgreich gestartet - die HTML5-Version des Widgets f√ºr die Vorschau von Schriftarten.  Ich denke, dass unsere Benutzer die √Ñnderungen fast nicht bemerkt haben, was einerseits irgendwie entt√§uscht, aber letztendlich ein Indikator f√ºr den Erfolg dieser Initiative ist. <br><br>  Jetzt hatten wir nur noch ein Flash-Modul auf der Website - den FontStructor-Editor, und wir brauchten ein weiteres Jahr, um die HTML5-Version im November 2016 endlich zu starten.  Es ist also an der Zeit, unseren AS3-Code endg√ºltig aufzugeben und FontStruct f√ºr Flash-frei zu erkl√§ren. <br><br><img src="https://habrastorage.org/webt/ez/el/jt/ezeljtpr3kokf_6iprfgdt3fezq.png" alt="Neue HTML5-Version von FontStructor"><br>  <i>Neue HTML5-Version von FontStructor wurde 2016 ver√∂ffentlicht</i> <br><br>  Im August 2018 haben wir das FontMortar-Modul zur Schriftgenerierung nach Haxe portiert.  Dieser letzte Port erm√∂glichte es uns, in Java geschriebenen Code vollst√§ndig aufzugeben. <br><br>  Ich bin nicht bereit, Haxe f√ºr alles zu verwenden.  Ja, ich wei√ü, dass es Projekte gibt, in denen es als Hauptwerkzeug f√ºr alle Aspekte der Webentwicklung verwendet wird, aber ich bin sehr zufrieden mit dem hervorragenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Symfony-</a> Framework als Grundlage unserer Webanwendung.  FontStruct verwendet weiterhin viele verschiedene Programmiersprachen, aber durch die Einf√ºhrung von Haxe konnten wir die Gr√∂√üe und Komplexit√§t der wichtigsten Teile unseres Codes reduzieren.  F√ºr unsere kleine Organisation hat sich diese Vereinfachung als entscheidend f√ºr die Wartung und Weiterentwicklung der Plattform erwiesen. <br><br><h3>  Tiefer in Hux eintauchen </h3><br>  Wenn Sie zum ersten Mal von Haxe geh√∂rt haben und meine Geschichte Sie interessiert hat, muss ich nur noch ein paar Fakten √ºber ihn auflisten. <br><br><ul><li>  Die Sprachunterst√ºtzung seitens der IDE ist recht anst√§ndig und wird st√§ndig verbessert. Module f√ºr IntelliJ Idea und Visual Studio Code werden aktiv weiterentwickelt. </li><li>  Haxe bietet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tools f√ºr die Arbeit mit nativem Code und Bibliotheken</a> , sodass Ihre Funktionen nicht eingeschr√§nkt werden und nur eine kleine Teilmenge der verf√ºgbaren Funktionen erforderlich ist.  Wenn Sie f√ºr JavaScript entwickeln, haben Sie die M√∂glichkeit, eine beliebige JavaScript-Bibliothek zu verwenden. F√ºr die Arbeit mit React stehen beispielsweise verschiedene Ordner zur Verf√ºgung.  F√ºr FontStructor verwenden wir mehrere npm-Module wie interaktive.js und opentip.  Das Schreiben von Ordnern f√ºr sie dauerte nur ein paar Minuten. </li><li>  Haxe verf√ºgt √ºber ein robustes erweitertes Typsystem mit Funktionen wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typparametrisierung</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">generischen Klassen und Methoden</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">abstrakten Typen</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Typinferenz</a> . </li><li>  Haxe verf√ºgt √ºber √§u√üerst leistungsstarke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Makros</a> , die zur Kompilierungszeit Zugriff auf den AST bieten. Dadurch k√∂nnen Entwickler ihre eigenen Sprachkonstrukte hinzuf√ºgen und Code dynamisch generieren. </li><li>  Trotz der Tatsache, dass es im Internet nicht viele Ressourcen zu Haxe gibt, gibt es ein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository mit Bibliotheken</a> , das die allgemeinen Bed√ºrfnisse von Entwicklern au√üerhalb der Standardbibliothek abdeckt (au√üerdem finden Sie auf Github noch mehr Repositorys, die nicht in haxelib vertreten sind - ca. √úbersetzer). . </li><li>  Last but not least hat Haxe eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sehr talentierte und reaktionsschnelle Community</a> . </li></ul><br><h3>  Fazit </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die meisten erfahrenen Entwickler sind bereit f√ºr √Ñnderungen, aber sie w√§hlen die verwendeten Technologien sorgf√§ltig aus. Es ist wahrscheinlich, dass die meisten von Ihnen irgendwann auch Lust hatten, die Programmiersprache im Rahmen des Projekts zu √§ndern, insbesondere wenn neue, trendige Sprachen mit vielen interessanten Funktionen auftauchen. Wir haben uns sorgf√§ltig f√ºr Haxe entschieden und dar√ºber nachgedacht, wie lange unsere Beziehung dauern w√ºrde. Unsere Gedanken √ºber </font><i><font style="vertical-align: inherit;">ihn waren</font></i><font style="vertical-align: inherit;"> ungef√§hr </font><i><font style="vertical-align: inherit;">so</font></i><font style="vertical-align: inherit;"> : </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es klingt gro√üartig, aber es hat eine so kleine Gemeinschaft. Was wird mit ihm in 5 Jahren passieren? Die Seite scheint normal zu sein, sieht aber aus irgendeinem Grund nicht modern aus. Und das schafft kein Vertrauen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es scheint nicht so gut dokumentiert zu sein. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist das nicht f√ºr Indie-Spieleentwickler?</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach f√ºnf Jahren mit Haxe bin ich aufrichtig √ºberrascht, dass ich unsere Wahl dieser Technologie nicht bereue. Trotz aller M√§ngel und Schwierigkeiten, die durch sie verursacht wurden, trotz der relativ kleinen Community und des Fehlens gro√üer Unternehmenssponsoren, ist Haxe seinen Aufgaben voll und ganz gewachsen. Mit Haxe f√ºhle ich mich frei und unabh√§ngig von jeder Plattform. Jetzt haben wir eine einzige Codebasis f√ºr die Hauptkomponenten von FontStruct, w√§hrend es zuvor zwei davon gab. In den letzten Monaten sind neuere Versionen der Servlets, die f√ºr die Generierung von Schriftarten und Bildern f√ºr die Vorschau verantwortlich sind, nie ausgefallen. Der neue HTML5-Editor und das Vorschau-Widget funktionieren jetzt in allen Browsern, einschlie√ülich Mobilger√§ten, w√§hrend wir zuvor mit veralteter und aussterbender Technologie arbeiten mussten.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und abgesehen von den praktischen Vorteilen bringt die Arbeit mit Haxe Freude und ein Gef√ºhl von Magie, die Freude von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haxe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de432750/">https://habr.com/ru/post/de432750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de432740/index.html">"CMS" basierend auf Google Spreadsheets f√ºr statische Websites</a></li>
<li><a href="../de432742/index.html">Zeitdruck der Unternehmen</a></li>
<li><a href="../de432744/index.html">DWDM: Die L√∂sung ist um 30-50% billiger als der Carrier (Enterprise-Klasse)</a></li>
<li><a href="../de432746/index.html">F√ºr drei Tage auf der Intensivstation oder was ist los mit dem Abschnitt Work-Life-Balance auf Mobius'18?</a></li>
<li><a href="../de432748/index.html">Tipps und Tricks von Kubernetes: Knotenzuweisung und Laden von Webanwendungen</a></li>
<li><a href="../de432752/index.html">Ameisenh√ºgel oder Festung? Ich baue ein Haus zum Preis einer Wohnung. 3 Teil. Stromversorgung</a></li>
<li><a href="../de432754/index.html">Datenspeicherung In-Memory und On-Disk werden der √ñffentlichkeit zug√§nglich gemacht</a></li>
<li><a href="../de432756/index.html">Wir implementieren Barrierefreiheitsunterst√ºtzung, ohne die visuelle Komponente der mobilen Anwendung zu √§ndern</a></li>
<li><a href="../de432760/index.html">Vektorproduktansichten oder eine andere Verwendung des Word2Vec-Modells</a></li>
<li><a href="../de432762/index.html">Ein KI-L√ºgendetektor kann erkennen, wann eine Person liegt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>