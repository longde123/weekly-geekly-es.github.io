<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèø üçå üë©üèæ‚Äçüéì Animations Flash √† faire soi-m√™me dans Unity3D. Premi√®re partie, Lyrique üåæ üéûÔ∏è üë°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cette s√©rie d'articles, je parlerai de comment et pourquoi nous avons d√©cid√© de cr√©er notre propre solution pour importer des animations flash da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Animations Flash √† faire soi-m√™me dans Unity3D. Premi√®re partie, Lyrique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443524/"><p>  Dans cette s√©rie d'articles, je parlerai de comment et pourquoi nous avons d√©cid√© de cr√©er notre propre solution pour importer des animations flash dans Unity, des optimisations et de la cuisine interne du plug-in r√©sultant.  Et aussi dans le programme: une histoire sur l'int√©rieur du format swf, les fonctionnalit√©s de l'extension de l'√©diteur Unity et g√©n√©ralement sur les animations en g√©n√©ral.  Je demande une coupe! </p><br><img src="https://habrastorage.org/webt/q3/4s/r_/q34sr_45c9c6d5lygnzixa7jhwy.png"><br><a name="habracut"></a><br><h2>  Pr√©sentation </h2><br><p> Au d√©but de tout projet se trouvent les affres du choix technologique pour bon nombre de ses pi√®ces.  Une de ces parties est le syst√®me d'animation.  Il y a plusieurs variables dont d√©pend ce choix.  Premi√®rement, avec quels outils vos animateurs peuvent-ils (ou peuvent-ils) travailler ou quels outils de ces animateurs sont plus faciles √† trouver.  Il est clair que choisir un produit extr√™mement sp√©cifique n'a aucun sens, car si les employ√©s actuels partent pour une raison ou une autre (un bus soudain?), Il sera extr√™mement difficile de les remplacer, une partie du projet s'arr√™tera tout simplement ind√©finiment, ce qui, dans le cas d'un produit commercial peut √™tre tr√®s co√ªteux.  La deuxi√®me variable est plus technique: l'int√©gration dans votre moteur.  Existe-t-il des solutions tierces et la qualit√© de ces solutions, existe-t-il une force et une capacit√© √† cr√©er les miennes, ainsi que la productivit√© et la commodit√© de tout ce qui pr√©c√®de.  Eh bien, la troisi√®me variable concerne les capacit√©s de cet outil, car si vous, les saignements de nez, avez besoin d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une cin√©matique inverse</a> , il est absolument √©trange de choisir une animation non squelettique. </p><br><h2>  Types d'animations 2D </h2><br><p>  Consid√©rez les options les plus populaires pour impl√©menter des animations dans les jeux.  Je ne parlerai que des animations 2D, des animations 3D - c'est le sujet d'une conversation, d'approches et d'outils compl√®tement diff√©rents.  Vous pouvez ignorer une section en toute s√©curit√© si vous √™tes averti dans ces domaines (il n'y aura pas de r√©v√©lations et pas de pannes du voile), ou si vous avez l'intention d'aller voir les fonctionnalit√©s des animations flash uniquement, elles sont ci-dessous. </p><br><h3>  Animations d'images </h3><br><p>  Notre mini-revue s'ouvre sur le type d'animation le plus simple et le plus ancien: l'animation image par image.  Chaque image d'une telle animation est repr√©sent√©e par une image distincte, avec un changement rapide dont surgit une illusion de mouvement. </p><br><p>  <strong>Avantages:</strong> </p><br><p>  Une impl√©mentation √©l√©mentaire, g√©n√©ralement dans n'importe quel moteur.  Toute complexit√© et style d'animation, au moins disposer et ins√©rer un film dans des images (en th√©orie, bien s√ªr).  Tous les outils: presque tout peut vous donner une s√©quence de cadres qui peuvent, si n√©cessaire, √™tre coll√©s dans un seul atlas de texture. </p><br><p>  <strong>Inconv√©nients:</strong> </p><br><p>  Le principal inconv√©nient est, bien s√ªr, la taille de ces √©l√©ments en m√©moire.  Naturellement, il existe toutes sortes d'astuces telles que la d√©coupe de cadres en blocs et la r√©utilisation ult√©rieure de blocs r√©p√©titifs, le chargement en arri√®re-plan des cadres √† partir du disque et la lib√©ration d√©j√† indiqu√©s, etc.  Mais ces astuces ont leurs inconv√©nients.  Le d√©coupage en blocs - adapt√© uniquement au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pixel art</a> , au chargement en arri√®re-plan - cr√©e une charge suppl√©mentaire sur le disque, occupe beaucoup d'espace sur ce disque lui-m√™me, et la taille de votre jeu augmente, ainsi que la quantit√© de donn√©es t√©l√©charg√©es √† d√©marrer ou √† mettre √† jour. </p><br><p>  <strong>Total:</strong> </p><br><p>  Convient uniquement aux animations de petite taille et nombre d'images, id√©alement pour le pixel art et le style des jeux r√©tro √† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NES</a> . </p><br><h3>  Animations vid√©o </h3><br><p>  Comme l'apoth√©ose de la folie des animations image par image, des animations vid√©o apparaissent.  Et oui, il est utilis√© et m√™me occasionnellement √† l'endroit.  Nous l'avons impl√©ment√© pour les jeux du genre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Objets Cach√©s</a> " pour les animations grandes et complexes, ainsi que pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les sc√®nes coup√©es</a> avec une touche de r√©alisme.  Avec l'aide de codecs comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">theora</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vp8,</a> vous pouvez impl√©menter vous-m√™me des animations vid√©o assez tol√©rables (et m√™me avec un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">canal alpha</a> ). </p><br><p>  Les avantages ici, bien s√ªr, sont que vous pouvez montrer dans de telles animations tout ce que votre c≈ìur d√©sire, des sc√®nes dirig√©es avec la participation de vrais acteurs aux batailles en rendu 3D.  Les inconv√©nients sont la charge sauvage sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CPU</a> lors du d√©codage et, bien s√ªr, la qualit√© d'image.  Vous pouvez trouver un compromis entre qualit√© et performance dans des cas tr√®s limit√©s et sp√©cifiques, comme dans les jeux indiqu√©s ci-dessus pour Hidden Object, par exemple. </p><br><p>  En g√©n√©ral, c'est loin de convenir √† tout le monde et loin de toujours, ou plut√¥t presque jamais, si nous ne consid√©rons pas les sc√®nes coup√©es rendues - o√π est la place pour de telles ¬´animations¬ª.  Une bonne impl√©mentation de telles animations ne peut pas non plus se vanter de simplicit√©, il y a beaucoup de nuances et d'astuces, √† la fois en termes de qualit√© de l'image de sortie et des charges re√ßues sur le processeur central.  En raison de la sp√©cificit√©, il existe peu d'impl√©mentations pr√™tes √† l'emploi, elles ne diff√®rent pas non plus en qualit√©, ou elles co√ªtent beaucoup d'argent (salut, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bink_Video</a> ), donc beaucoup √©crivent la leur. </p><br><h3>  Animations squelettiques </h3><br><p>  Nous sommes donc pass√©s aux types populaires et modernes d'animations 2D.  Les animations squelettiques capturent de plus en plus le c≈ìur et l'esprit des d√©veloppeurs dans le domaine du 2D, devenant ainsi l'animation standard pour les jeux.  C'est dr√¥le qu'ils soient venus si largement en 2d relativement r√©cemment, contrairement √† 3d, o√π ils sont apparus √† l'√©poque de King Peas, lorsque les p√®res ont √©crit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Half-Life</a> .  L'essence des animations squelettiques, curieusement, se trouve dans le squelette, qui cr√©e un animateur √† partir d'os reli√©s les uns aux autres par une structure arborescente.  Des fragments sont attach√©s aux os sous forme d'images distinctes.  Toute la structure est mise en mouvement par les d√©placements et les rotations des os les uns par rapport aux autres.  Les d√©placements et les rotations des os dans le squelette suivent la chronologie d'animation g√©n√©rale. </p><br><p>  Les avantages sont √©vidents: nous n'avons pas besoin de stocker chaque image de l'animation sous forme d'images distinctes, uniquement des fragments (les bras et les jambes du personnage, par exemple), dont nous d√©placerons les os du squelette.  Il existe d'excellentes impl√©mentations de ce type d'animation avec des temps d'ex√©cution pour les plates-formes et moteurs n√©cessaires, avec un prix d'utilisation raisonnable ou m√™me gratuit: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spine</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spriter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Anima2D</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DragonBones</a> et autres.  Gr√¢ce au squelette et √† ses fonctionnalit√©s, il est possible d'obtenir une fluidit√© colossale des animations en interpolant les positions de ses os, ainsi qu'en m√©langeant les transitions de l'animation √† l'animation et m√™me en m√©langeant deux animations diff√©rentes: prise de vue en fuite, prise de vue furtive, etc.  Je ne vais pas √©num√©rer toutes les possibilit√©s d'animation squelettique, il y en a vraiment beaucoup et elles sont tr√®s cool.  Je ferais mieux de donner un lien o√π ils sont clairement affich√©s avec des photos et des descriptions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur le site Web de Spine</a> . </p><br><p>  Cela ressemble √† une balle d'argent, mais non.  Il y avait quelques inconv√©nients.  Faites imm√©diatement une r√©servation pour de nombreux projets et animations - ces inconv√©nients peuvent ne pas exister.  Si les animations squelettiques vous conviennent - c'est g√©nial, utilisez-les, elles sont belles et modernes. </p><br><p>  Revenons aux inconv√©nients.  Une √©tape suppl√©mentaire dans la cr√©ation d'animation est le rig (ou le rigging, comme beaucoup de termes dans notre industrie, a √©galement √©t√© russifi√©).  La cr√©ation m√™me du squelette et la liaison des os aux fragments.  Si l'objet a une animation, et non plusieurs, comme, par exemple, le personnage du jeu dans le genre " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Platformer</a> ", alors la sc√®ne est compl√®tement superflue.  Toutes les animations ne sont pas commod√©ment anim√©es avec des os.  Il existe de nombreuses animations o√π les os g√™nent et sans eux, c'est plus pratique et plus rapide, √† la fois en termes de cr√©ation et en termes de performances de jeu.  Un article s√©par√©, je vais sortir des sp√©cialistes du march√©.  Leur nombre augmente avec la popularit√© de l'animation squelettique, mais ce n'est toujours pas une t√¢che facile de les trouver dans votre √©quipe.  La dispersion des outils et des outils affecte √©galement, quelqu'un est habitu√© et en utilise un, quelqu'un d'autre, il est n√©cessaire de r√©apprendre en d√©placement, ce qui cr√©e des difficult√©s suppl√©mentaires pour trouver et former des employ√©s. </p><br><h3>  Animations de la chronologie </h3><br><p>  J'ai pouss√© ce type d'animation √† la toute fin, non pas parce qu'il est meilleur que tout le monde, mais parce que ce sont exactement les m√™mes animations flash sur l'int√©rieur dont nous discuterons dans la partie technique de l'article.  Flash n'est pas le seul repr√©sentant de ce type d'animation, mais certainement leur leader, donc tout sera d√©crit par rapport √† lui.  Les animations de la chronologie sont constitu√©es de fragments qui sont anim√©s dans des calques s√©par√©s sur une chronologie.  Presque la m√™me chose que nous avons vue dans l'animation squelettique, mais sans squelette.  Selon les images cl√©s de la chronologie, nous pouvons d√©placer, faire pivoter, remplacer, dessiner de nouveaux fragments dans ces images et, bien s√ªr, interpoler la c√©sure, la mise √† l'√©chelle et la rotation entre elles.  Autrement dit, nous ne d√©pla√ßons pas les os avec les fragments attach√©s, mais les fragments eux-m√™mes.  Bien s√ªr, nous perdons de nombreuses opportunit√©s que nous offrent les animations squelettiques, mais tout le monde n'en a pas besoin.  En √©change, nous en acqu√©rons d'autres, tels que: </p><br><ul><li>  la possibilit√© de dessiner et d'ins√©rer de nouveaux fragments au milieu de l'animation; </li><li>  pas de gr√©ement, pas d'os qui n'interf√®rent parfois que; </li><li>  Adobe Flash (maintenant <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adobe Animate</a> ) est l'outil d'animation le plus ancien et le plus √©prouv√© depuis des ann√©es, un tr√®s grand nombre d'animateurs, d'une mani√®re ou d'une autre, en sont propri√©taires; </li><li>  la possibilit√© d'utiliser d'anciennes animations lors de la traduction de vos projets flash vers Unity, y compris des animations faites dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des graphiques vectoriels</a> , et pas seulement dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">images</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">raster</a> . </li></ul><br><p>  Le flash est-il mort?  En tant que joueur dans les navigateurs - certainement, en tant qu'outil d'animation - bien vivant, il n'y a pas d'alternative et n'est pas attendu.  Contre?  Bien s√ªr.  Le principal inconv√©nient est que ce n'est pas une animation squelettique, hein.  Nous sommes priv√©s de la possibilit√© de m√©langer les animations les uns avec les autres, nous n'avons pas de cin√©matique inverse et de capacit√©s similaires inh√©rentes uniquement au squelette.  Mais nous avons des chronologies imbriqu√©es les unes dans les autres, ainsi que des masques raster et vectoriels!  Tous les animateurs adorent les masques!  Ici, il convient de mentionner que dans Spine, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des</a> capacit√©s d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©cr√™tage</a> sont apparues trop r√©cemment, mais jusqu'√† pr√©sent uniquement g√©om√©triques et tr√®s limit√©es par rapport aux masques flash. </p><br><h3>  R√©sum√© du type d'animation </h3><br><p>  Naturellement, je n'ai pas r√©pertori√© tous les types d'animations, seulement les principales.  Par exemple, les soi-disant animations proc√©durales ont √©t√© laiss√©es de c√¥t√©, lorsque les objets ou leurs fragments ne sont mis en mouvement que par du code, mais il n'est pas possible de les mettre en contraste avec d'autres, et je ne voulais pas vraiment gonfler l'article, il vaut mieux voir quelque chose de plus sp√©cialis√© dans les animations pour compl√©ter l'image. </p><br><p>  Pour r√©sumer.  Il n'y a pas de solution miracle, comme toujours et dans presque tout.  Vous devez choisir le projet, les t√¢ches et les personnes.  Apr√®s tout, personne n'emp√™che quiconque d'utiliser un seul type d'animation.  Partout il y a des projets o√π tous les types d'animations sont utilis√©s en m√™me temps et tout le monde est content.  Sc√®nes coup√©es - vid√©o, personnages - squelette, d√©cors - chronologie, vols d'√©metteurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de syst√®mes de particules</a> - proc√©duraux, les particules elles-m√™mes dans leurs syst√®mes - image par image.  Nous tirons le meilleur parti de chaque type. </p><br><h2>  L'agonie du choix et la d√©cision d'√©crire la v√¥tre </h2><br><p>  Eh bien, pour des raisons objectives, nous avons d√©cid√© que nous avions besoin d'animations flash pour notre projet.  La question s'est pos√©e de les int√©grer dans le moteur.  Apr√®s avoir essay√© plusieurs options pour les plugins, nous nous sommes install√©s sur celui qui nous convenait avec ses capacit√©s, √©tait vivant et support, et avait √©galement un prix compl√®tement impudique pour une licence inter-licence, mais vous pouvez tol√©rer un bon produit.  Je ne donnerai intentionnellement aucun nom, afin de ne faire de publicit√© ou d'anti-publicit√© √† personne. </p><br><p>  Avec ce plugin, nous avons v√©cu pr√®s d'un an de d√©veloppement, au cours duquel les d√©tails ont √©t√© clarifi√©s, que nous ne pouvions plus utiliser.  A savoir, la qualit√© de son int√©gration dans Unity.  Tout cela a entra√Æn√© des bogues franchement graves qui ne pouvaient pas √™tre consid√©r√©s comme faciles, rapides et sans combat r√©par√© du c√¥t√© des d√©veloppeurs, et des performances terribles sur les appareils cibles, et nous avons toujours le niveau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">iPad 2</a> .  Cela s'est produit en raison de l'int√©gration analphab√®te dans un moteur sp√©cifique, de l'ignorance de ses sp√©cificit√©s et de ses pi√®ges, nous √©tions plus que satisfaits des possibilit√©s, mais les codes sources, m√™me dans un ordre personnel, ont refus√© de s'ouvrir, et il a √©t√© d√©cid√© d'√©crire notre d√©cision. </p><br><p>  J'ai eu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une</a> exp√©rience assez r√©ussie dans l'√©criture d'extensions pour Unity et j'avais peu d'exp√©rience dans la conversion d'animations flash √† mes formats.  Ce dernier √©tait il y a longtemps, mais quelque chose a √©t√© rappel√©.  Au m√™me endroit, il a √©t√© d√©cid√© de tout √©crire comme un projet √† domicile, afin de ne pas d√©pendre du projet ou de l'entreprise o√π je travaille, et pour √™tre honn√™te, je voulais aussi avoir mon propre produit.  Alors, arm√© d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sp√©cification de</a> 250 pages au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">format swf</a> , je me suis lanc√© dans la bataille. </p><br><h2>  Options d'exportation </h2><br><p>  Pour commencer, il vaut la peine de discuter des options d'exportation des animations √† partir de l'√©diteur flash.  Il y en a plusieurs, naturellement avec ses avantages et ses inconv√©nients.  Passons en revue les principaux. </p><br><h3>  Format .xfl </h3><br><p>  Dans l'√©diteur d'animation flash, il est possible d'enregistrer la source d'animation dans un format .xfl non compress√© au lieu du format .fla ferm√©, qui est propos√© par d√©faut.  Le format est assez simple mais non document√©.  Il se compose de plusieurs r√©pertoires imbriqu√©s et d'un tas de fichiers .xml, o√π tous les √©tats des clips stock√©s √† l'int√©rieur sont d√©crits.  Le format de description est √©galement simple et clair, voici un exemple: </p><br><p>  <strong>static_clip.xml</strong> </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f28-00000051"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950184"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9728"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMBitmapInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">selected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bitmap.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Lien vers la source</i></a> <br><blockquote><p>  Nous avons ici un clip statique <code>static_clip</code> avec un calque <code>Layer_1</code> et une image, dans lequel il y a un bitmap nomm√© <code>bitmap.png</code> . </p></blockquote><p>  <strong>movie_clip.xml</strong> </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f30-00000053"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950713"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DX</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"128.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DY</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"127.5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>Lien vers la source</i></a> <br><blockquote><p>  Nous d√©crivons ici le clip d'animation <code>movie_clip</code> , qui contient deux images cl√©s avec les indices 0 et 4, respectivement.  Les images contiennent notre clip statique <code>static_clip</code> aux coordonn√©es <code>(-50;-50)</code> et <code>(100;100)</code> .  Entre les images, il y a une interpolation de mouvement (animation proc√©durale, dans notre cas, il ne s'agit que d'un transfert, sans mise √† l'√©chelle ni rotation), respectivement, la position d'un clip statique entre les images cl√©s peut √™tre obtenue par interpolation lin√©aire des coordonn√©es de ces images. </p></blockquote><p>  Naturellement, tout sera en v√©ritable animation, ahem ... un peu plus compliqu√© et plus volumineux, mais vous pouvez tout comprendre sans documentation.  Il semblerait qu'ici c'est le bonheur.  Et je connais plusieurs projets et entreprises qui ont r√©ussi avec succ√®s, mais avec quelques limites et difficult√©s.  Ces difficult√©s sont la mouche dans la pommade .xfl, √† savoir: </p><br><ol><li>  Les interpolations (interpolations, russifi√©es comme il le pouvait) sont tr√®s diff√©rentes, √† la fois simples: avec interpolation lin√©aire et plus complexes: avec les fonctions d√©finies par l'utilisateur et les graphiques de cette interpolation, morphing des graphiques vectoriels sur les jumeaux, avec leurs propres r√®gles uniquement pour macromedia et adobe; </li><li>  Les graphiques vectoriels, comme toutes les animations, √† l'exception des graphiques raster, sont d√©crits sous forme de texte, par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple</a> .  En cons√©quence, il est n√©cessaire d'√©crire votre propre rasterizer, ce qui, en raison de la complexit√© et des caract√©ristiques du vecteur en flash, n'est pas possible dans la pratique; </li><li>  Les r√®gles de lecture des animations, y compris celles qui sont imbriqu√©es, vous devez vous imaginer √† partir de z√©ro, il n'y a pas de documentation pour cela et quand quelle image doit √™tre affich√©e, quoi modifier dans quelles situations et quoi laisser sans interpolation - cela reste √† d√©terminer par de longues exp√©riences, essayant de couvrir tous les cas possibles dans tests, ce qui est un exercice tr√®s simple pour une solution g√©n√©rale plut√¥t que priv√©e. </li></ol><br><p>  Ce ne sont pas toutes les difficult√©s de cette approche, mais elles suffisent √† comprendre que pour une solution g√©n√©rale elle ne convient qu'avec de fortes r√©serves.  Il √©tait une fois, j'ai emprunt√© cette voie pour l'un des projets auxquels j'ai particip√©.  Il y avait des sc√®nes coup√©es au flash, avec des jumeaux classiques (sans r√®gles d'interpolation personnalis√©es et fonctions sp√©ciales de cette interpolation), uniquement des graphiques bitmap et sans autres fonctionnalit√©s avanc√©es fournies par l'√©diteur flash.  La solution priv√©e a √©t√© √©crite assez rapidement et efficacement, mais les animateurs ont d√ª √™tre s√©v√®rement limit√©s pour qu'ils n'utilisent rien de plus ou moins compliqu√©.  L'approche a le droit √† la vie et il existe plusieurs biblioth√®ques, √† des degr√©s divers de n√©gligence, bas√©es sur elle, mais, comme je l'ai dit, avec beaucoup de r√©serves et de limitations. </p><br><h3>  scripts .jsfl </h3><br><p>  Une autre option, presque fonctionnelle, consiste √† obtenir des informations sur nos animations.  jsfl-scripts vous permet d'agrandir l'√©diteur flash, d'interagir avec son environnement, de modifier l'animation et, bien s√ªr, d'y obtenir toutes les informations n√©cessaires sur les lignes de temps, les calques, les clips et les images.  Et il est √©galement utilis√© par les animateurs pour automatiser diverses actions, mais il s'agit d'une histoire d'un livre voisin.  En g√©n√©ral, l'approche est dot√©e de tous les inconv√©nients de l'approche pr√©c√©dente, donc je ne m'y attarderai pas, je peux seulement dire qu'avec elle, vous pouvez d√©charger toute notre animation sous la forme, par exemple, d'une animation image par image, et ce n'est pas la mani√®re d'un vrai Jedi (mais, naturellement, a lieu dans certains projets).  Nous reviendrons sur ces scripts dans l'approche que j'ai choisie: pixelliser les graphiques vectoriels et optimiser l'animation pagin√©e. </p><br><h3>  Application AIR </h3><br><p>  Mais cette approche fonctionne d√©j√† tr√®s bien et peut √™tre utilis√©e comme il se doit.  Je ne l'ai pas choisi, mais pour r√©f√©rence je donnerai cette option.  L'essence de l'approche est que nous cr√©ons une application AIR sur flash lui-m√™me ou, pour les esth√®tes, sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Haxe</a> , par exemple, qui obtiendra toutes les informations d'une animation d√©j√† compil√©e au format swf.  Nous lisons l'animation image par image dans notre application, obtenons toutes les informations sur l'image et l'enregistrons au format dont nous avons besoin pour notre ex√©cution.  Ici, tous les probl√®mes ci-dessus sont r√©solus: </p><br><ul><li>  pas besoin de pixelliser les graphiques vectoriels, le runtime flash le fera pour nous, il ne reste plus qu'√† obtenir ces informations et enregistrer le r√©sultat raster des fragments vectoriels; </li><li>  pas besoin de trouver des r√®gles de jeu et de g√©rer l'interpolation double personnalis√©e, le lecteur flash dans l'application AIR sait exactement comment faire et fera presque tout pour nous; </li></ul><br><p>  En prime, nous avons la possibilit√© d'utiliser des scripts de trame dans les animations (toutes sortes de <code>play()</code> , <code>stop()</code> et autres <code>gotoAndPlay()</code> , certains animateurs les aiment beaucoup).  L'inconv√©nient est l'impossibilit√© d'exporter les animations en boucle dans le flash lui-m√™me, mais cela n'a pas d'importance, car vous pouvez les boucler d√©j√† dans votre runtime et demander aux animateurs de tout pr√©parer pour cela. </p><br><p>  Il convient de mentionner que je suis s√ªr que tout sera un peu plus compliqu√© qu'il n'y para√Æt dans ma description, car personnellement je ne suis pas all√© l√†-bas, donc je ne peux pas vous dire les d√©tails.  Que ceux qui ont franchi ce chemin partagent leurs exp√©riences, avec plaisir nous lisons leurs joies et leurs tribulations! </p><br><h3>  Propre lecteur flash </h3><br><p>  C'est probablement l'option la plus honn√™te, la plus √©vidente et la plus simple de toutes, mais aussi la plus difficile.  En fin de compte, c'est ce que fait un vrai lecteur flash, que la plupart d'entre nous ont dans notre navigateur pr√©f√©r√© en compl√©ment.  Repr√©sentants populaires de ce genre: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gameswf</a> et, d√©velopp√© √† partir du pr√©c√©dent, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">scaleform</a> .  Les deux sont maintenant morts.  Il est int√©ressant de noter qu'ils ont √©t√© utilis√©s principalement pour la mise en ≈ìuvre de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interface graphique</a> dans divers projets, y compris <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AAA</a> .  Mais nous nous int√©ressons √† la structure interne, pas aux applications sp√©cifiques des biblioth√®ques mortes. </p><br><p>  Tout lecteur flash qui se respecte a au moins les √©l√©ments suivants √† bord: </p><br><ul><li>  analyseur de format swf; </li><li>  graphiques vectoriels rasterizer; </li><li>  impl√©mentation d'une machine virtuelle pour ex√©cuter du code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ActionScript</a> ; </li><li>  mise en place d'une biblioth√®que standard pour le code utilisateur; </li></ul><br><p>  Chacun de ces points crie s'il est possible de l'impl√©menter, alors vous devrez changer plus d'une √©quipe pour cette t√¢che et √©changer plusieurs ann√©es de d√©veloppement vers la version minimale.  M√™me la mise en ≈ìuvre d'une petite partie, suffisante pour jouer quelque chose, prendra beaucoup de temps, et des difficult√©s suppl√©mentaires, sous la forme de nombreuses parties non document√©es de tout ce pipeline, doubleront cette p√©riode d√©j√† √©norme. </p><br><p>  Oui, le r√©seau regorge de tentatives de mise en ≈ìuvre de chacune de ces parties, √† des degr√©s divers de n√©gligence et d'aggravation.  Mais il n'est m√™me pas possible de prendre ces d√©veloppements comme base, mais il faudra des ann√©es pour en d√©tecter les bogues et √©crire des tests unitaires non √©crits avant de r√©aliser qu'il ne sera pas possible de tout r√©aliser.  Ceux qui ont essay√© de compl√©ter gameswf avec les capacit√©s n√©cessaires comprennent de quoi je parle.  Un lecteur flash honn√™te doit √©galement pixelliser les graphiques vectoriels non √† l'avance, mais en cours d'ex√©cution, ce qui affectera un tel impact sur les performances que tous les projets ne pourront pas survivre.  J'en profite pour transmettre mes salutations aux survivants qui ont utilis√© scaleform sur les appareils mobiles.  En g√©n√©ral, la fa√ßon la plus sombre et d√©sesp√©r√©e, pas notre choix. </p><br><h3>  Nous combinons des approches </h3><br><p>  Alors finalement, je suis venu √† mon option.  Apr√®s avoir √©tudi√© les voies possibles, une combinaison int√©ressante a √©t√© tir√©e pour moi.  Relativement simple √† mettre en ≈ìuvre, r√©alisable pour une seule personne en volume et en m√™me temps suffisamment fonctionnel pour couvrir les besoins de la plupart des animations de chronologie 2D. </p><br><p>  Premi√®rement, nous utiliserons l'animation compil√©e dans swf afin de ne pas proposer diverses options de lecture et de ne presque jamais deviner comment fonctionne le lecteur flash de l'int√©rieur, car nous ne pouvons pas couvrir tous les cas possibles, mais nous essayons d'√©crire une solution g√©n√©rale.  De plus, l'√©diteur flash se d√©barrasse de tous les jumeaux utilis√©s dans l'animation, repr√©sentant intelligemment, dans le swf compil√©, les positions nues des fragments. </p><br><p>  Deuxi√®mement, nous interdisons l'utilisation de scripts dans les animations.  Oui, c'est une exigence tr√®s difficile et triste, mais je n'ai pas d'√©quipe de programmeurs pour impl√©menter une machine virtuelle honn√™te et une biblioth√®que standard que je devrais √©crire presque aveugl√©ment.  Ici, bien s√ªr, le moins de mon approche est visible par rapport √† l'approche o√π l'application AIR a √©t√© utilis√©e, car dans cette derni√®re, certains scripts pour la lecture d'animation interne pouvaient √™tre utilis√©s.  D'un autre c√¥t√©, cela n'interf√®re pas avec la cr√©ation de bonnes animations.  Pour transf√©rer des informations personnalis√©es de l'animation vers le jeu, vous pouvez utiliser les soi-disant <code>frame labels</code> , qui seront visibles dans le code, ainsi que suspendre des √©v√©nements personnalis√©s sur des cadres sp√©cifiques sous la forme de fonctions de rappel utilisant d√©j√† le runtime. </p><br><p>  Troisi√®mement, nous nous d√©barrassons de l'√©criture de notre propre rasterizer de graphiques vectoriels, pour l'impossibilit√© d'en √©crire un pour le cas g√©n√©ral, pour couvrir toutes les options et capacit√©s du vecteur en flash.  Au lieu de cela, nous allons pixelliser les graphiques en (!) Compilation en utilisant un script jsfl.  Dans le m√™me temps, √† l'aide de ce script, nous optimiserons nos graphiques vectoriels en fusionnant des clips statiques en une seule image, r√©duirons ou augmenterons les images bitmap r√©sultantes pour nos besoins: qualit√© et / ou performances.  Ici, il convient √©galement de rappeler les diff√©rentes options de qualit√© / r√©solution de l'art pour les appareils avec diff√©rentes densit√©s de pixels √† l'√©cran (par exemple, l'art HD et SD). </p><br><h2>  La conclusion de la partie lyrique </h2><br><p>  Ceci conclut la premi√®re partie de l'article.  Dans la deuxi√®me partie, il y aura des d√©tails d'impl√©mentation technique, des morceaux de code, des images (!), Des optimisations, des astuces et des astuces.  Bient√¥t sur vos √©crans, ne manquez pas!  En fin de compte, je vais vous donner quelques liens int√©ressants avec des informations sur l'utilisation des animations flash de coll√®gues, heureusement de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ZeptoLab</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Playrix</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443524/">https://habr.com/ru/post/fr443524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443514/index.html">√âcrire votre couche r√©seau dans Swift: approche orient√©e protocole</a></li>
<li><a href="../fr443516/index.html">Hacker Geohot a d√©cid√© de lib√©rer les gens de la simulation de l'IA</a></li>
<li><a href="../fr443518/index.html">RBKmoney Payments sous le capot - microservices, protocoles et configuration de la plateforme</a></li>
<li><a href="../fr443520/index.html">Choisir une voiture pour un sp√©cialiste informatique ou des conseils pour des th√©i√®res √† partir d'une th√©i√®re</a></li>
<li><a href="../fr443522/index.html">H√©bergement: options, comparaisons, statistiques utilisateurs</a></li>
<li><a href="../fr443526/index.html">Des algorithmes au cancer: conf√©rences de l'√âcole de bioinformatique</a></li>
<li><a href="../fr443530/index.html">√âvolution de l'infrastructure de base de donn√©es: de la base de donn√©es et des applications sur un serveur √† la r√©plication en streaming</a></li>
<li><a href="../fr443532/index.html">5 caract√©ristiques des poudres m√©talliques pour l'impression 3D</a></li>
<li><a href="../fr443534/index.html">Compute Express Link - Interconnexion pour le Big Data</a></li>
<li><a href="../fr443544/index.html">Profilage de la m√©moire sur STM32 et autres microcontr√¥leurs: analyse de la taille de la pile statique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>