<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüî¨ ü§õüèΩ üßïüèª Protocolos de reserva perfecta de PRP y HSR üë®‚Äçüíª üóΩ ‚õÑÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En la industria, los requisitos de LAN son cada vez m√°s graves a medida que ICS adquiere m√°s y m√°s funcionalidades, y la p√©rdida de datos puede genera...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Protocolos de reserva perfecta de PRP y HSR</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/phoenix_contact/blog/443248/">  En la industria, los requisitos de LAN son cada vez m√°s graves a medida que  ICS adquiere m√°s y m√°s funcionalidades, y la p√©rdida de datos puede generar costos serios. <br><br>  Por ejemplo, en el sector de la energ√≠a, si los datos de los transductores de medici√≥n no llegan a tiempo al terminal del rel√©, esto puede verse afectado por la propagaci√≥n de un cortocircuito a las secciones adyacentes de la red de suministro de energ√≠a, lo que resultar√° en p√©rdidas mucho m√°s graves que en caso de desconexi√≥n oportuna de la secci√≥n del cortocircuito.  Por lo tanto, a menudo en proyectos de energ√≠a puede cumplir con el requisito "Tiempo de recuperaci√≥n inferior a 1 ms". <br><a name="habracut"></a><br>  La redundancia de red basada en protocolos de toda la industria como RSTP, MRP, DLR y similares, se basa en un cambio en la topolog√≠a en caso de mal funcionamiento en la transmisi√≥n de datos.  Cambiar la topolog√≠a lleva cierto tiempo (de milisegundos a segundos, seg√∫n el protocolo), que se denomina "tiempo de recuperaci√≥n".  Durante este tiempo, no hay comunicaci√≥n con parte de la red y, en consecuencia, se pierden datos.  Es decir  Las tecnolog√≠as de redundancia de anillo convencionales no permiten tiempos de recuperaci√≥n de menos de 1 ms. <br><br>  En vista de esto, las llamadas tecnolog√≠as de redundancia "perfectas" (PRP y HSR) est√°n ganando popularidad.  La redundancia basada en PRP y HSR se lleva a cabo, en contraste con los protocolos anteriores, no mediante la reconstrucci√≥n de la topolog√≠a, sino mediante la duplicaci√≥n de marcos.  Cada cuadro es duplicado por el emisor, y ambos cuadros se transmiten de diferentes maneras, y el nodo receptor procesa el cuadro que entr√≥ primero y descarta el segundo.  Este principio de funcionamiento no requiere la reestructuraci√≥n de la topolog√≠a y, en consecuencia, este protocolo funciona casi "sin problemas".  Debajo del corte encontrar√° detalles de la implementaci√≥n de estos protocolos. <br><br><h4>  Estructura de red </h4><br>  La redundancia continua se implementa en nodos finales, no en componentes de red.  Esta es una de las principales diferencias entre PRP y HSR de otros protocolos de respaldo como RSTP o MRP.  Considere las caracter√≠sticas de la estructura de red para PRP y HSR. <br><br><h4>  PRP - estructura de red </h4><br>  El nodo final tiene dos interfaces Ethernet que se conectan a dos redes aisladas entre s√≠, que funcionan en paralelo y tienen una topolog√≠a independiente (es decir, las topolog√≠as de estas dos redes pueden ser iguales o diferentes).  Las redes deben estar aisladas para que cualquier mal funcionamiento y detenci√≥n de la transmisi√≥n de datos en una red no afecten a la segunda, es decir.  Incluso la energ√≠a de la red se suministra desde diferentes fuentes.  No debe haber conexiones directas entre estas redes. <br><br><img src="https://habrastorage.org/webt/rc/19/go/rc19go3yzzhhcc8ej24_7pbxhb4.png"><br><br>  <i>Estructura de red PRP</i> <br><br>  Estas dos redes generalmente se denominan LAN A y LAN B. Como ya se indic√≥, pueden tener diferentes topolog√≠as y un rendimiento diferente.  Los retrasos en la transmisi√≥n de datos tambi√©n pueden variar. <br><br>  La red puede contener los siguientes elementos: <br><br><ul><li>  DAN (nodo adjunto dual): un nodo que se conecta a ambas redes y env√≠a / recibe tramas duplicadas. </li><li>  SAN (nodo adjunto √∫nico): un nodo que se conecta a una sola red (LAN A o LAN B) y env√≠a / recibe tramas normales. </li><li>  En el caso de que sea necesario conectar de forma redundante un dispositivo que tenga una interfaz Ethernet y no admita el protocolo PRP a la red RPR, se utiliza la denominada Redundancy Box (generalmente RedBox).  En RedBox, el paquete del dispositivo se duplica y se transmite a la red PRP, como si los datos se transmitieran desde el DAN.  Adem√°s, el dispositivo detr√°s de RedBox es visto como un DAN para otros dispositivos.  Tal nodo se llama DAN virtual o VDAN (DAN virtual). </li></ul><br><br><img src="https://habrastorage.org/webt/ko/1f/ye/ko1fyehyesxd7zlz5qs-_q2zs_e.png"><br><br>  <i>Principio de funcionamiento de RedBox</i> <br><br><h4>  HSR - estructura de red </h4><br><img src="https://habrastorage.org/webt/sd/mi/hd/sdmihdk3aqfpandamwmu3artwf0.png"><br><br>  <i>Estructura de red HSR</i> <br><br>  El principio de funcionamiento de HSR es que todos los dispositivos se combinan en un anillo y todos los mensajes, as√≠ como en PRP, se duplican.  El dispositivo env√≠a ambos fotogramas a trav√©s del anillo: una copia en el sentido de las agujas del reloj y la otra en el sentido contrario.  El receptor recibe ambas copias, pero procesa solo la primera y elimina la segunda.  Si algo le sucede a uno de los enlaces, y uno de los cuadros duplicados no aparece, entonces el otro simplemente se acepta.  Todos los dispositivos HSR tienen dos interfaces Ethernet: puerto A y puerto B. <br><br>  Seg√∫n el protocolo HSR, los siguientes elementos pueden existir en una red: <br><br><ul><li>  SAN es un nodo que solo tiene una interfaz Ethernet.  Tal nodo se puede conectar a la red HSR exclusivamente a trav√©s de RedBox. </li><li>  DAN: un nodo que puede intercambiar datos dentro de un anillo HSR (puede enviar / recibir tramas duplicadas). </li><li>  RedBox: al igual que en PRP, RedBox le permite conectar un dispositivo que tiene una interfaz Ethernet a una red HSR.  El dispositivo detr√°s de RedBox se ve como un DAN para otros dispositivos.  Tal nodo se llama DAN virtual o VDAN (DAN virtual). </li><li>  QuadBox - HSR tambi√©n presenta un nuevo elemento: QuadBox.  Este dispositivo tiene cuatro puertos HSR.  Le permite combinar dos anillos HSR.  En cada anillo, el QuadBox act√∫a como un DAN y puede transferir datos de un anillo a otro. </li></ul><br><img src="https://habrastorage.org/webt/we/7n/dc/we7ndcshvu_8oefjqm9ykvrc8a8.png"><br><br>  <i>Ejemplo de QuadBox</i> <br><br><h4>  Estructura DAN </h4><br>  Para PRP y para HSR, la estructura DAN es similar.  Cada DAN tiene dos interfaces que operan en paralelo y conectadas al nivel superior de una pila de comunicaci√≥n a trav√©s de la llamada capa LRE - entidad de redundancia de enlace.  En este nivel, se realizan todas las funciones de respaldo. <br><br>  Ambas interfaces DAN tienen la misma direcci√≥n MAC y una direcci√≥n IP.  Esto le permite hacer la reserva transparente para el nivel superior.  Especialmente importante es el hecho de que esto permite el uso de ARP para DAN, as√≠ como para cualquier nodo no redundante. <br><br>  Sin embargo, por supuesto, hay matices en la estructura DAN para PRP y para HSR. <br><br><h4>  PRP - Estructura DAN </h4><br>  Cuando se env√≠a un marco desde el nivel superior, el LRE lo duplica y env√≠a ambos paquetes a trav√©s de los puertos casi simult√°neamente.  Ambas tramas se transmiten en paralelo a trav√©s de dos redes con diferentes retrasos.  En una situaci√≥n ideal, se entregan al nodo de destino con una diferencia de tiempo m√≠nima.  Al recibir el LRE, el receptor env√≠a la primera trama recibida a la capa superior y descarta la segunda. <br><br>  LRE crea marcos duplicados al enviarlos y los procesa al recibirlos.  Este nivel, en relaci√≥n con el nivel superior, representa la interfaz habitual de un adaptador de red no redundante.  LRE realiza dos tareas: manejar marcos duplicados y administrar redundancia.  Para implementar el control, LRE agrega un tr√°iler de control de redundancia (RCT) de 32 bits a cada cuadro y lo elimina cuando se recibe el cuadro. <br><br><img src="https://habrastorage.org/webt/7v/tf/p7/7vtfp7drkalyuxwvs7c1fnbdewy.png"><br><br>  <i>Transferencia de datos entre dos DAN en PRP</i> <br><br><h4>  HSR - Estructura DAN </h4><br>  Una trama enviada desde la capa superior es duplicada por la capa LRE, y los paquetes se env√≠an a trav√©s del puerto A y el puerto B casi simult√°neamente.  (1 y 2 en el diagrama). <br><br>  Al recibir la trama, el receptor la transfiere al nivel LRE, y tambi√©n la redirige a otro puerto y la pasa m√°s all√° en el anillo.  (3, 4). <br><br>  Si una trama llega al remitente, esta trama no se transmite m√°s, sino que se destruye (5, 6). <br><br>  Ambas tramas llegan al nivel LRE, pero la que se envi√≥ m√°s r√°pido se transfiere al nivel superior, y la trama duplicada se descarta. <br><br>  LRE agrega una etiqueta HSR de 48 bits a cada trama (similar a agregar una etiqueta VLAN) y elimina esta etiqueta al recibirla. <br><br><img src="https://habrastorage.org/webt/k9/xl/pj/k9xlpj2jf76juzewex9ocyuze_k.png"><br><br>  <i>Transferencia de datos entre dos DAN en un HSR</i> <br><br><h4>  Interoperabilidad entre SAN y DAN </h4><br>  En PRP, una SAN se puede conectar a cualquier red, LAN A o LAN B, pero dicho nodo no admite funciones de respaldo.  Por lo tanto, una SAN conectada a una red no puede comunicarse con otro nodo similar conectado a una segunda red.  Para interactuar con SAN, DAN genera marcos especiales.  Esta necesidad se debe al hecho de que la SAN en la trama normal del dispositivo redundante debe ignorar el RCT, lo que no es posible, ya que la SAN no puede distinguir el RCT del bloque de datos IEEE 802.3 normal.  A su vez, el DAN entiende que env√≠a la trama a la SAN y no agrega RCT a la trama.  Simplemente reenv√≠a un fotograma desde el nivel superior a la interfaz a la que est√° conectada la SAN.  En otras palabras, si el DAN no puede determinar qu√© est√° intercambiando datos con otro DAN, entonces no agrega RCT a la trama. <br><br>  En HSR, una SAN no se puede conectar directamente a la red.  Se puede conectar exclusivamente a trav√©s de RedBox. <br><br><h4>  Modos DAN </h4><br>  Al trabajar con tramas duplicadas recibidas en ambas interfaces (si son reparables), el DAN debe aceptar una de las tramas y descartar la segunda.  Hay dos m√©todos de procesamiento en PRP: <br><br><ul><li>  La aceptaci√≥n duplicada es un m√©todo en el que ambas tramas entrantes se reciben y se redirigen al nivel superior. </li><li>  Descarte duplicado: un m√©todo en el que el nodo receptor lee informaci√≥n del RCT de la trama entrante para determinar qu√© trama descartar. </li></ul><br>  Para HSR, considere los modos U y X m√°s populares. <br><br><h4>  Duplicar aceptar </h4><br>  Un DAN que funciona en este modo no deja caer ninguna de las tramas cuando se procesa en la capa de enlace de datos. <br><br>  Los marcos se env√≠an a LAN A y LAN B sin RCT.  El LRE del receptor simplemente redirige ambas tramas al nivel superior, suponiendo que una mayor transmisi√≥n destruir√° los duplicados (IEEE 802.1D establece claramente que los protocolos de nivel superior deben ser capaces de manejar tramas duplicadas). <br><br>  Por ejemplo, TCP y UDP tienen un alto nivel de resistencia para duplicar tramas. <br><br>  Este m√©todo es muy sencillo de implementar, pero tiene un serio inconveniente: no proporciona ninguna capacidad de control de red, ya que  La recepci√≥n de ambas tramas no se controla de ninguna manera. <br><br><h4>  Descarte duplicado a nivel de canal </h4><br>  Cuando se utiliza el segundo m√©todo, se agrega un campo que consta de cuatro octetos a la trama: RCT (control de redundancia).  Se agrega un avance en el nivel LRE cuando el marco se recibe desde el nivel superior.  El ECA consta de los siguientes par√°metros: <br><br><ul><li>  N√∫mero de secuencia de 16 bits; </li><li>  Identificador de red de 4 bits, 1010 (0xA) para LAN A y 1011 (0xB) para LAN B; </li><li>  Tama√±o de cuadro de 12 bits. </li></ul><br>  Debido a la adici√≥n de un tr√°iler RCT al marco, su tama√±o es mayor que el tama√±o m√°ximo de marco definido en el est√°ndar IEEE 802.3-2005.  Para transmitir datos dentro de la red con PRP, el equipo debe estar configurado para transmitir datos en el tama√±o de 1496 octetos.  Debido a esto, no todos los conmutadores son adecuados para su uso en LAN A o LAN B. <br><br><img src="https://habrastorage.org/webt/-c/sa/9z/-csa9zpwutrbhyuemwfexrw6xki.png"><br><br>  <i>Marco con RCT agregado</i> <br><br>  Cada vez que la capa de enlace env√≠a una trama a una direcci√≥n espec√≠fica, el emisor aumenta el n√∫mero de secuencia para el nodo correspondiente y env√≠a tramas id√©nticas a trav√©s de ambas interfaces. <br><br>  El nodo receptor debe determinar duplicados en funci√≥n de la informaci√≥n del ECA. <br><br><h4>  Algoritmo de m√©todo de descarte duplicado </h4><br>  El receptor supone que las tramas enviadas desde cualquier fuente utilizando el protocolo PRP se env√≠an secuencialmente con un n√∫mero cada vez mayor.  El n√∫mero de secuencia esperado para el siguiente cuadro se almacena en las variables ExpectedSeqA y, en consecuencia, ExpectedSeqB. <br><br>  Al recibirlo, la correcci√≥n de la secuencia se puede verificar comparando el valor de ExpectedSeqA (ExpectedSeqB) con el n√∫mero de secuencia de la trama recibida, almacenada en la variable currentSeq en RCT.  Si el resultado es positivo, la variable ExpectedSeq se establece en uno m√°s que currentSeq para que sea posible realizar una verificaci√≥n correcta en esta l√≠nea. <br><br><img src="https://habrastorage.org/webt/6q/ty/-p/6qty-pwnzatajmck0f9ciyzu4so.png"><br><br>  <i>Intervalo de ca√≠da de trama (ventana de ca√≠da)</i> <br><br>  Para ambas interfaces, hay un intervalo din√°mico de ca√≠da de trama para los n√∫meros de secuencia emparejados.  El l√≠mite superior de este intervalo es ExpectedSeq (el siguiente n√∫mero de secuencia esperado en esta interfaz), excluyendo el valor dado en s√≠, y el l√≠mite inferior de este intervalo es startSeq (el n√∫mero de secuencia m√°s peque√±o en el que se descarta la trama duplicada con este n√∫mero de secuencia). <br><br>  Despu√©s de verificar el n√∫mero de secuencia, el receptor decide descartar la trama o no.  Suponga que LAN A tiene un tama√±o de intervalo de ca√≠da de trama distinto de cero (Fig. 5).  Se descartar√° una trama de LAN B cuyo n√∫mero se encuentre en este intervalo.  Todas las dem√°s tramas de LAN B ser√°n aceptadas y enviadas al nivel superior. <br><br>  Dejar caer una trama de LAN B reduce el tama√±o de LAN A, porque  despu√©s de recibir este marco, no se esperan marcos con un n√∫mero menor en esta interfaz.  En consecuencia, startSeqA se establece en uno m√°s que currentSeqB.  En este caso, el tama√±o del intervalo de ca√≠da de la trama LAN B se restablece a 0 (startSeqB =pectedSeqB), porque  Obviamente, las tramas LAN B est√°n "detr√°s" de LAN LAN y no se deben descartar tramas de LAN A. <br><br><img src="https://habrastorage.org/webt/px/8a/l5/px8al5_iebz0d8qr-atw4zepiy0.png"><br><br>  <i>Disminuya el intervalo LAN A despu√©s de soltar el marco de LAN B</i> <br><br>  En la situaci√≥n de la Fig. 7, cuando varias tramas de LAN A vienen en una fila, pero nada proviene de LAN B, se aceptan, porque  su currentSeq est√° fuera del intervalo de descarte de la trama LAN B y el intervalo LAN A se incrementa en una posici√≥n.  Si las tramas de la LAN A contin√∫an llegando, pero a√∫n no sale nada de la LAN B, cuando se alcanza el tama√±o de intervalo m√°ximo, startSeqA tambi√©n comienza a aumentar en uno. <br><br>  Cuando la trama recibida est√° fuera del intervalo de descarte de la trama de otra LAN, se guarda esta trama y el tama√±o del intervalo de esta interfaz se establece en 1, lo que significa que solo se descartar√° una trama de otra LAN con el mismo n√∫mero de secuencia, mientras que la ventana desplegable de la otra interfaz se establece en 0, lo que significa que no se eliminar√°n cuadros (Fig. 7). <br><br><img src="https://habrastorage.org/webt/_r/gy/b2/_rgyb2_tufbtbbi3wfr18yqby6a.png"><br><br>  La trama de LAN B no se cay√≥ <br><br>  La situaci√≥n m√°s com√∫n es cuando ambas interfaces est√°n sincronizadas y el tama√±o de ambos intervalos es 0 (Fig. 8), lo que significa que el marco de la interfaz que viene primero ser√° aceptado y el intervalo de esta interfaz se incrementar√° a 1, lo que permitir√° que el marco se caiga de otra interfaz con mismo n√∫mero de secuencia <br><br><img src="https://habrastorage.org/webt/x5/sj/n9/x5sjn9q0lxkcg6xbc6jwgzopvpa.png"><br><br>  <i>LAN sincronizada</i> <br><br>  Debido a la presencia de un identificador LAN en RCT, las tramas duplicadas difieren en un bit (y tienen diferentes sumas de verificaci√≥n).  El receptor comprueba que la trama pertenece a la interfaz (es decir, comprueba que la trama con el identificador LAN A ha llegado a la interfaz A).  El receptor no soltar√° este marco, ya que  puede contener informaci√≥n √∫til en el bloque de datos, pero en este caso el contador cntWrongLanA o cntWrongLanB se incrementar√° en uno.  Dado que tales errores no son √∫nicos (mezclados por LAN A y LAN B), el contador aumentar√° constantemente. <br><br><h4>  Enlace de tr√°fico HSR </h4><br>  Al transferir datos dentro de la red HSR, se agrega una etiqueta HSR a cada trama. <br>  La etiqueta HSR consta de los siguientes par√°metros: <br><br><ul><li>  Ethertype HSR de 16 bits </li><li>  Indicador de ruta de 4 bits </li><li>  Tama√±o de cuadro de 12 bits </li><li>  N√∫mero de secuencia de 16 bits </li></ul><br>  El remitente inserta los mismos n√∫meros de secuencia en las tramas duplicadas que se env√≠an, y luego incrementa el n√∫mero de secuencia para cada mensaje enviado desde este nodo. <br><br>  El receptor monitorea los n√∫meros de secuencia de todas las tramas de cada fuente de la que recibe datos (distingue las fuentes por la direcci√≥n MAC).  Si los cuadros provienen de diferentes l√≠neas y tienen la misma fuente y n√∫mero de secuencia, entonces se acepta uno de ellos y se descarta el segundo. <br><br>  Para controlar la red, cada dispositivo mantiene una tabla de todos los nodos en la red desde la cual recibe datos.  Esto le permite detectar la desaparici√≥n de nodos y errores en el bus. <br><br>  El nodo define la trama que envi√≥ por fuente y por n√∫mero de secuencia. <br><br><img src="https://habrastorage.org/webt/0w/al/xj/0walxjqivh2nvo3ae-dr20d7b7e.png"><br><br>  <i>Marco con etiqueta HSR agregada</i> <br><br>  Un nodo HSR nunca descarta una trama que no ha recibido previamente.  El nodo define casi todos los cuadros duplicados, pero si hay algunos de ellos, no los elimina, es decir,  el marco solo atraviesa todo el anillo y se destruye en el remitente. <br><br>  En el est√°ndar, el algoritmo para determinar cuadros duplicados no est√° definido.  Como m√©todos posibles, se pueden usar tablas hash, colas y seguimiento de n√∫meros de secuencia. <br><br><h4>  Modo U </h4><br>  En este modo, el nodo que recibe la trama destruye el duplicado y no permite que se propague m√°s.  Sin embargo, si la trama se transfiri√≥ a√∫n m√°s, se destruye en los siguientes nodos.  Este modo le permite descargar el anillo del tr√°fico de unidifusi√≥n. <br><br>  En el diagrama, las flechas rojas indican paquetes con la etiqueta HSR enviada desde el puerto "A" (en adelante, marco "A"). <br><br>  Las flechas verdes indican paquetes con una etiqueta HSR enviada desde el puerto "B" (en adelante - trama "B"). <br><br>  Las flechas vac√≠as indican tr√°fico ca√≠do, es decir  tramas que se transmitir√≠an durante el funcionamiento normal, pero en este modo se descartaron. <br>  La cruz indica la eliminaci√≥n del tr√°fico del anillo (en cualquier caso). <br><br><img src="https://habrastorage.org/webt/sk/yk/14/skyk14uoacfn9l4y1hcdnvvytwe.png"><br><br><h4>  Modo X </h4><br>  En este modo, el nodo no reenv√≠a la trama m√°s all√° y la descarta si dicha trama se recibi√≥ desde otra direcci√≥n. <br><br>  Por ejemplo, DAN 1 en la imagen no reenviar√° el cuadro "B" m√°s adelante, porque  ya recibi√≥ la trama "A", y DAN 2 no transmitir√° la trama "A" m√°s adelante, porque  marco ya recibido "B". <br><br>  En el caso de que ocurriera un error en alg√∫n lugar del algoritmo y las tramas se transmitieran m√°s, se descartar√°n en los siguientes nodos o en el nodo en el que se crearon. <br><br>  El modo X no es aplicable para mensajes PTP y para transmisi√≥n de trama de supervisi√≥n. <br><br><img src="https://habrastorage.org/webt/tn/jk/ih/tnjkihj4soziqhacnpxdfh7soeo.png"><br><br><h3>  Control de red </h3><br><h4>  PRP </h4><br>  El receptor verifica que todas las tramas lleguen secuencialmente y se reciban correctamente en ambos canales.  Admite contadores de errores que se pueden leer, por ejemplo, a trav√©s de SNMP. <br><br>  Todos los dispositivos admiten tablas de nodos con los que intercambian datos.  Estas tablas contienen informaci√≥n sobre el momento en que se envi√≥ o recibi√≥ la √∫ltima trama de un nodo en particular y otra informaci√≥n sobre el protocolo PRP. <br><br>  Al mismo tiempo, estas tablas permiten detectar compuestos en los que es necesario sincronizar n√∫meros de secuencia, as√≠ como detectar secuencias rotas y nodos faltantes. <br><br>  El diagn√≥stico se basa en el hecho de que cada DAN env√≠a peri√≥dicamente un marco de diagn√≥stico (marco de supervisi√≥n), que le permite verificar la integridad de la red y la presencia de nodos.  Al mismo tiempo, estos marcos le permiten verificar qu√© dispositivos act√∫an como DAN, determinar sus direcciones MAC y en qu√© modo funcionan: duplicar aceptar o duplicar descartar. <br><br><h4>  Hsr </h4><br>  Cada nodo comprueba constantemente todos los enlaces. <br><br>  Cada nodo env√≠a peri√≥dicamente una trama de diagn√≥stico (a ambos puertos) que contiene informaci√≥n sobre el estado del nodo.  Este marco es aceptado por todos los nodos, incluido el remitente.  Cuando el remitente recibe su propio mensaje de diagn√≥stico, se realiza una verificaci√≥n de integridad del canal f√≠sico. <br><br>  El intervalo para enviar una trama de diagn√≥stico es relativamente grande (unos segundos), porque  no es necesario proporcionar redundancia, pero solo es necesario para fines de diagn√≥stico. <br><br>  Todos los nodos se ingresan en la tabla de todos los socios que se encontraron, y el tiempo se registra cuando el nodo estuvo activo por √∫ltima vez, as√≠ como todos los marcos omitidos y los marcos que no se enviaron secuencialmente. <br><br>  Todos los cambios de topolog√≠a que se han producido tambi√©n se registran y toda la informaci√≥n se puede obtener a trav√©s de SNMP. <br><br>  HSR y PRP: Pros y contras <br><br><img src="https://habrastorage.org/webt/90/zj/xf/90zjxfixfn8ixq80tbqdf8s4lem.png"><br><br><h4>  Conclusi√≥n </h4><br>  Esto no quiere decir que un protocolo sea mejor que otro: est√°n dise√±ados un poco para diferentes aplicaciones.  Tanto HSR como PRP permiten una redundancia de red sin interrupciones, pero HSR le permite crear soluciones m√°s rentables.  Pero tal rentabilidad conlleva dificultades, porque  Una red basada en HSR es dif√≠cil de escalar y las aplicaciones no son muy flexibles.  La baja flexibilidad es causada por una topolog√≠a limitada (anillo, emparejamiento de anillos), as√≠ como la poca compatibilidad del protocolo con otras tecnolog√≠as.  Por lo tanto, HSR es m√°s adecuado para la redundancia de sistemas peque√±os y la integraci√≥n en una red grande.  La copia de seguridad basada en HSR de toda la red es problem√°tica.  PRP, a su vez, es una soluci√≥n m√°s costosa, pero le permite organizar una red a gran escala, que en el futuro se puede ampliar sin problemas, porque<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este protocolo permite integrar convenientemente casi cualquier tecnolog√≠a e implementar topolog√≠as completamente diferentes. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encuentra una soluci√≥n</font></font></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/443248/">https://habr.com/ru/post/443248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../443238/index.html">C√≥mo no convertirse en una lib√©lula si tiene muchas bases de datos diferentes</a></li>
<li><a href="../443240/index.html">Comprender el Q-learning, el problema "Caminar sobre una roca"</a></li>
<li><a href="../443242/index.html">Quarkus es un Java subat√≥mico supers√≥nico. Una breve descripci√≥n del marco</a></li>
<li><a href="../443244/index.html">Debriefing tareas. Beanpoisk_1</a></li>
<li><a href="../443246/index.html">C√≥mo reinventamos Askozia IP PBX despu√©s de que el desarrollador vendi√≥ y cerr√≥ el proyecto</a></li>
<li><a href="../443250/index.html">Recolector de basura casero para OpenJDK</a></li>
<li><a href="../443252/index.html">Hormigas modulares con memoria</a></li>
<li><a href="../443254/index.html">Triton es el virus m√°s mortal</a></li>
<li><a href="../443256/index.html">PowerShell, volcado de mi experiencia</a></li>
<li><a href="../443258/index.html">Gotify: un proyecto de c√≥digo abierto para enviar notificaciones y enviar mensajes al servidor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>