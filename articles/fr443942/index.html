<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéöÔ∏è üê¢ üàπ Configuration de 802.1X sur les commutateurs Cisco √† l'aide du basculement NPS (RADIUS Windows avec AD) üëãüèø üë®üèø‚Äçüè≠ üçâ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Consid√©rons en pratique l'utilisation de Windows Active Directory + NPS (2 serveurs pour la tol√©rance de panne) + la norme 802.1x pour le contr√¥le d'a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Configuration de 802.1X sur les commutateurs Cisco √† l'aide du basculement NPS (RADIUS Windows avec AD)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443942/"><img src="https://habrastorage.org/getpro/habr/post_images/fab/761/19d/fab76119df15e93b40fdfdeb0b91156e.png" alt="image"><br>  Consid√©rons en pratique l'utilisation de Windows Active Directory + NPS (2 serveurs pour la tol√©rance de panne) + la norme 802.1x pour le contr√¥le d'acc√®s et l'authentification des utilisateurs - ordinateurs du domaine - appareils.  Vous pouvez vous familiariser avec la th√©orie de la norme dans Wikipedia, sur le lien: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IEEE 802.1X</a> <br><br>  √âtant donn√© que mon ¬´laboratoire¬ª est limit√© en ressources, les r√¥les de NPS et d'un contr√¥leur de domaine sont compatibles, mais je vous recommande de partager ces services essentiels. <br><br>  Je ne connais pas les moyens standard de synchroniser les configurations (politiques) de Windows NPS, nous utiliserons donc des scripts PowerShell lanc√©s par le planificateur de t√¢ches (l'auteur est mon ancien coll√®gue).  Pour authentifier les ordinateurs du domaine et pour les appareils qui ne savent pas utiliser <b>802.1x</b> (t√©l√©phones, imprimantes, etc.), la strat√©gie de groupe sera configur√©e et des groupes de s√©curit√© cr√©√©s. <br><br>  √Ä la fin de l'article, je parlerai de certaines des subtilit√©s du travail avec 802.1x - comment utiliser des commutateurs non g√©r√©s, des ACL dynamiques, etc. Je partagerai des informations sur les "p√©pins" d√©tect√©s ... <br><a name="habracut"></a><br>  Commen√ßons par installer et configurer le basculement NPS sur Windows Server 2012R2 (tout est le m√™me pour 2016): via le Gestionnaire de serveur -&gt; Assistant Ajouter des r√¥les et des fonctionnalit√©s, s√©lectionnez uniquement Network Policy Server. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c55/b51/17f/c55b5117f0ebab8d5b10c808617418c5.png" alt="image"><br><br>  ou en utilisant PowerShell: <br><br><pre><code class="actionscript hljs">Install-WindowsFeature NPAS -IncludeManagementTools</code> </pre> <br><blockquote>  Une petite pr√©cision - puisque pour <b>EAP prot√©g√© (PEAP),</b> vous aurez certainement besoin d'un certificat confirmant l'authenticit√© du serveur (avec les droits d'utilisation appropri√©s), qui sera approuv√© sur les ordinateurs clients, vous devrez probablement installer √©galement le r√¥le d' <b>autorit√© de certification</b> .  Mais supposons que <b>CA soit</b> d√©j√† install√© ... </blockquote>  Nous ferons de m√™me sur le deuxi√®me serveur.  Cr√©ez un dossier pour le script C: \ Scripts sur les deux serveurs et un dossier r√©seau sur le deuxi√®me serveur <b>\\ SRV2 \ NPS-config $</b> <br><br>  Sur le premier serveur, cr√©ez un script PowerShell <i>C: \ Scripts \ Export-NPS-config.ps1</i> avec le contenu suivant: <br><br><pre> <code class="actionscript hljs">Export-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"\\SRV2\NPS-config$\NPS.xml"</span></span></code> </pre> <br>  Apr√®s cela, configurez la t√¢che dans le Task Sheduler: ¬´ <i>Export-NpsConfiguration</i> ¬ª <br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Export-NPS-config.ps1"</span></span></code> </pre> <br>  <i>Ex√©cuter pour tous les utilisateurs - Ex√©cuter avec les autorisations les plus √©lev√©es</i> <i><br></i>  <i>Quotidien - R√©p√©tez la t√¢che toutes les 10 minutes.</i>  <i>dans les 8 heures</i> <br><br>  Sur le serveur NPS de secours, configurez l'importation de configuration (strat√©gies): <br>  cr√©er un script PowerShell: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> Import-NpsConfiguration -Path <span class="hljs-string"><span class="hljs-string">"c:\NPS-config\NPS.xml"</span></span> &gt;&gt; C:\Scripts\Import-NPS-config.ps1</code> </pre> <br>  et la t√¢che de sa mise en ≈ìuvre toutes les 10 minutes: <br><br><pre> <code class="bash hljs">powershell -executionpolicy unrestricted -f <span class="hljs-string"><span class="hljs-string">"C:\Scripts\Import-NPS-config.ps1"</span></span></code> </pre> <br>  <i>Ex√©cuter pour tous les utilisateurs - Ex√©cuter avec les autorisations les plus √©lev√©es</i> <i><br></i>  <i>Quotidien - R√©p√©tez la t√¢che toutes les 10 minutes.</i>  <i>dans les 8 heures</i> <br><br>  Maintenant, pour v√©rification, nous allons ajouter quelques commutateurs aux clients RADIUS (IP et secret partag√©) dans NPS sur l'un des serveurs (!), Deux politiques de demande de connexion: <b>WIRED-Connect</b> (Condition: "Le type de port NAS est Ethernet") et <b>WiFi -Entreprise</b> (Condition: "Le type de port NAS est IEEE 802.11"), ainsi que la politique de <b><i>r√©seau des p√©riph√©riques d'acc√®s au r√©seau</i></b> (administrateurs r√©seau): <br><br><pre> <code class="xml hljs">:  Windows - domain\sg-network-admins :    -    (PAP, SPAP) :  RADIUS:  - Service-Type - Login    - Cisco-AV-Pair - Cisco - shell:priv-lvl=15</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Du c√¥t√© des commutateurs, les param√®tres suivants:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">aaa new-model aaa local authentication attempts max-fail 5 ! ! aaa group server radius NPS server-private 192.168.38.151 auth-port 1812 acct-port 1813 key %shared_secret% server-private 192.168.10.151 auth-port 1812 acct-port 1813 key %shared_secret% ! aaa authentication login default group NPS local aaa authentication dot1x default group NPS aaa authorization console aaa authorization exec default group NPS local if-authenticated aaa authorization network default group NPS ! aaa session-id common ! identity profile default ! dot1x system-auth-control ! ! line vty 0 4 exec-timeout 5 0 transport input ssh escape-character 99 line vty 5 15 exec-timeout 5 0 logging synchronous transport input ssh escape-character 99</code> </pre> <br></div></div><br>  Apr√®s la configuration, apr√®s 10 minutes, tous les clients \ politiques \ param√®tres devraient appara√Ætre sur le NPS de sauvegarde et nous pourrons nous connecter aux commutateurs √† l'aide du compte ActiveDirectory, membre du groupe domain \ sg-network-admins (que nous avons cr√©√© √† l'avance). <br><br>  Passons √† la configuration d'Active Directory - cr√©ez une strat√©gie de groupe et de mot de passe, cr√©ez les groupes n√©cessaires. <br><br>  <i><b>Ordinateurs de</b></i> strat√©gie de groupe <i><b>-8021x-Param√®tres</b></i> : <br><br><pre> <b><code class="plaintext hljs">Computer Configuration (Enabled) Policies Windows Settings Security Settings System Services Wired AutoConfig (Startup Mode: Automatic) Wired Network (802.3) Policies</code></b> </pre> <br><div class="spoiler">  <b class="spoiler_title">NPS-802-1x</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Name NPS-802-1x Description 802.1x Global Settings SETTING VALUE Use Windows wired LAN network services for clients Enabled Shared user credentials for network authentication Enabled Network Profile Security Settings Enable use of IEEE 802.1X authentication for network access Enabled Enforce use of IEEE 802.1X authentication for network access Disabled IEEE 802.1X Settings Computer Authentication Computer only Maximum Authentication Failures 10 Maximum EAPOL-Start Messages Sent Held Period (seconds) Start Period (seconds) Authentication Period (seconds) Network Authentication Method Properties Authentication method Protected EAP (PEAP) Validate server certificate Enabled Connect to these servers Do not prompt user to authorize new servers or trusted certification authorities Disabled Enable fast reconnect Enabled Disconnect if server does not present cryptobinding TLV Disabled Enforce network access protection Disabled Authentication Method Configuration Authentication method Secured password (EAP-MSCHAP v2) Automatically use my Windows logon name and password(and domain if any) Enabled</code> </pre> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/88f/cd4/c48/88fcd4c486e62979b592d5a633270e59.png" alt="NPS-802-1x_AD-Policy"><br><br>  Cr√©ez un groupe de s√©curit√© <b><i>sg-computers-8021x-vl100</i></b> , o√π nous ajouterons les ordinateurs que nous voulons distribuer √† vlan 100 et configurer le filtrage pour la strat√©gie de groupe pr√©c√©demment cr√©√©e pour ce groupe: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/79b/5d5/11c/79b5d511c9c2551781cfa4b8b4113552.png" alt="802.1x-Authentication-GPO-Filtering"><br><br>  Vous pouvez v√©rifier que la strat√©gie a √©t√© correctement mise en ≈ìuvre en ouvrant le ¬´Centre R√©seau et partage (Param√®tres r√©seau et Internet) - Modifier les param√®tres de l'adaptateur (Configurer les param√®tres de l'adaptateur) - Propri√©t√©s de l'adaptateur¬ª, o√π nous pouvons voir l'onglet ¬´Authentification¬ª: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d6f/2c9/6bf/d6f2c96bff36ee31b6549391c63f398a.png" alt="Authentification d'acc√®s au r√©seau pour l'adaptateur Ethernet"><br><br>  Lorsque vous √™tes convaincu que la strat√©gie est correctement appliqu√©e, vous pouvez proc√©der √† la configuration de la strat√©gie r√©seau sur les ports NPS et d'acc√®s au commutateur. <br><br>  Cr√©ez une strat√©gie r√©seau <b><i>neag-computers-8021x-vl100</i></b> : <br><br><pre> <code class="xml hljs">Conditions: Windows Groups - sg-computers-8021x-vl100 NAS Port Type - Ethernet Constraints: Authentication Methods - Microsoft: Protected EAP (PEAP) - Unencrypted authentication (PAP, SPAP) NAS Port Type - Ethernet Settings: Standard: Framed-MTU 1344 TunnelMediumType 802 (includes all 802 media plus Ethernet canonical format) TunnelPrivateGroupId 100 TunnelType Virtual LANs (VLAN)</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/1f9/8b9/4e3/1f98b94e3a813be72c498a4c92b71454.png" alt="Strat√©gie r√©seau d'authentification 802.1x"><br><br>  Param√®tres typiques pour le port du commutateur (j'attire l'attention sur le fait que le type d'authentification est ¬´multi-domaine¬ª - Data &amp; Voice, et il est √©galement possible de s'authentifier √† l'adresse mac. Pour la ¬´p√©riode de transition¬ª, il est logique d'utiliser les param√®tres suivants: <br><br><pre> <code class="actionscript hljs">authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span></code> </pre><br>  l'identifiant est entr√© non pas de ¬´quarantaine¬ª, mais de celui-l√† m√™me o√π l'ordinateur utilisateur devrait se retrouver apr√®s une connexion r√©ussie - jusqu'√† ce que nous nous assurions que tout fonctionne comme il se doit.  Les m√™mes param√®tres peuvent √™tre utilis√©s dans d'autres sc√©narios, par exemple, lorsqu'un commutateur non g√©r√© est ins√©r√© dans ce port et que vous souhaitez que tous les p√©riph√©riques qui y sont connect√©s et non authentifi√©s tombent dans un certain vlan (¬´quarantaine¬ª). <br><br><div class="spoiler">  <b class="spoiler_title">commutez les param√®tres de port dans le domaine multiple 802.1x en mode h√¥te</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">default</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> int range Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span><span class="hljs-number"><span class="hljs-number">-41</span></span> shu des PC-IPhone_802<span class="hljs-number"><span class="hljs-number">.1</span></span>x switchport mode access switchport nonegotiate switchport voice vlan <span class="hljs-number"><span class="hljs-number">55</span></span> switchport port-security maximum <span class="hljs-number"><span class="hljs-number">2</span></span> authentication event fail action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication event no-response action authorize vlan <span class="hljs-number"><span class="hljs-number">100</span></span> authentication host-mode multi-domain authentication port-control auto authentication violation restrict mab dot1x pae authenticator dot1x timeout quiet-period <span class="hljs-number"><span class="hljs-number">15</span></span> dot1x timeout tx-period <span class="hljs-number"><span class="hljs-number">3</span></span> storm-control broadcast level pps <span class="hljs-number"><span class="hljs-number">100</span></span> storm-control multicast level pps <span class="hljs-number"><span class="hljs-number">110</span></span> no vtp lldp receive lldp transmit spanning-tree portfast no shu exit</code> </pre> <br></div></div><br>  Vous pouvez v√©rifier que l'ordinateur / le t√©l√©phone s'est correctement authentifi√© √† l'aide de la commande: <br><br><pre> <code class="actionscript hljs">sh authentication sessions int Gi1/<span class="hljs-number"><span class="hljs-number">0</span></span>/<span class="hljs-number"><span class="hljs-number">39</span></span> det</code> </pre> <br>  Cr√©ez maintenant un groupe (par exemple, <i>sg-fgpp-mab</i> ) dans Active Directory pour les t√©l√©phones et ajoutez-y un p√©riph√©rique de test (dans mon cas, il s'agit de <b><i>Grandstream GXP2160</i></b> avec l'adresse de masse <b>000b.82ba.a7b1</b> et le <b>domaine de</b> compte correspondant <b>\ 000b82baa7b1</b> ) . <br><br>  Pour le groupe cr√©√©, nous r√©duirons les exigences de strat√©gie de mot de passe (en utilisant des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">strat√©gies de mot de passe affin√©es</a> via le Centre d'administration Active Directory -&gt; domaine -&gt; Syst√®me -&gt; Conteneur de param√®tres de mot de passe) avec les <b><i>param√®tres Password-Settings-for-MAB</i></b> suivants: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/998/705/0cf998705b059c03465acd6057356d91.jpg" alt="Strat√©gies de mot de passe affin√©es (FGPP) pour les appareils MAB"><br><br>  nous permettant ainsi d'utiliser l'adresse mas des appareils comme mots de passe.  Apr√®s cela, nous pouvons cr√©er une strat√©gie r√©seau pour l'authentification mab de m√©thode 802.1x, appelons-la neag-devices-8021x-voice.  Les param√®tres sont les suivants: <br><br><ul><li>  Type de port NAS - Ethernet </li><li>  Groupes Windows - sg-fgpp-mab </li><li>  Types EAP: authentification non chiffr√©e (PAP, SPAP) </li><li>  Attributs RADIUS - Sp√©cifiques au fournisseur: Cisco - Cisco-AV-Pair - Valeur d'attribut: device-traffic-class = voice </li></ul><br>  apr√®s une authentification r√©ussie (n'oubliez pas de configurer le port du commutateur), consultez les informations du port: <br><br><div class="spoiler">  <b class="spoiler_title">authentification sh se int Gi1 / 0/34</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">---------------------------------------- Interface: GigabitEthernet1/0/34 MAC Address: 000b.82ba.a7b1 IP Address: 172.29.31.89 User-Name: 000b82baa7b1 Status: Authz Success Domain: VOICE Oper host mode: multi-domain Oper control dir: both Authorized By: Authentication Server Session timeout: N/A Idle timeout: N/A Common Session ID: 0000000000000EB2000B8C5E Acct Session ID: 0x00000134 Handle: 0xCE000EB3 Runnable methods list: Method State dot1x Failed over mab Authc Success</code> </pre> <br></div></div><br>  Maintenant, comme promis, consid√©rons quelques situations pas si √©videntes.  Par exemple, nous devons connecter les ordinateurs \ appareils des utilisateurs via un commutateur non g√©r√© (commutateur).  Dans ce cas, les param√®tres de port pour cela ressembleront √† ceci: <br><br><div class="spoiler">  <b class="spoiler_title">changer les param√®tres de port en mode multi-authentification en mode h√¥te 802.1x</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GigabitEthernet1</span></span></span><span class="hljs-class">/0/1 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">description</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SW</span></span></span><span class="hljs-class"> ‚Äì 802.1</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class"> ‚Äì 8 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mac</span></span></span><span class="hljs-class">* </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">access</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nonegotiate</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">voice</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 55 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">switchport</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">security</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">maximum</span></span></span><span class="hljs-class"> 8 !  -  - </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fail</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">event</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">response</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">action</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authorize</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vlan</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">host</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mode</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multi</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auth</span></span></span><span class="hljs-class"> ! ‚Äì   </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">auto</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authentication</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">violation</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">restrict</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mab</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pae</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">authenticator</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">quiet</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 15 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">dot1x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">timeout</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tx</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">period</span></span></span><span class="hljs-class"> 3 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">broadcast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 100 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">storm</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">control</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multicast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">level</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">pps</span></span></span><span class="hljs-class"> 110 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">vtp</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">spanning</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">tree</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">portfast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">no</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">shu</span></span></span></span></code> </pre> <br></div></div><br>  PS un probl√®me tr√®s √©trange a √©t√© remarqu√© - si l'appareil √©tait connect√© via un tel commutateur, puis il √©tait coinc√© dans un commutateur g√©r√©, cela ne fonctionnera PAS tant que nous n'aurons pas red√©marr√© le commutateur (!) Jusqu'√† ce que je trouve d'autres moyens de r√©soudre ce probl√®me. <br><br>  Un autre point li√© au DHCP (si le snooping ip dhcp est utilis√©) - sans ces options: <br><br><pre> <code class="actionscript hljs">ip dhcp snooping vlan <span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">-100</span></span> no ip dhcp snooping information option</code> </pre> <br>  pour une raison quelconque, l'adresse IP ne peut pas √™tre re√ßue correctement ... bien que cela puisse √™tre une caract√©ristique de notre serveur DHCP <br><br>  Et Mac OS et Linux (dans lequel la prise en charge 802.1x est native) essaient de s'authentifier aupr√®s de l'utilisateur, m√™me si l'authentification par adresse de masse est configur√©e. <br><br>  Dans la prochaine partie de l'article, nous consid√©rerons l'utilisation de 802.1x pour le sans fil (selon le groupe dans lequel se trouve le compte utilisateur, nous le ¬´d√©poserons¬ª dans le r√©seau correspondant (vlan), bien qu'ils se connectent au m√™me SSID). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443942/">https://habr.com/ru/post/fr443942/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443926/index.html">Voitures "catamarans"</a></li>
<li><a href="../fr443928/index.html">Comment prendre un taxi aux frais de quelqu'un d'autre - vuln√©rabilit√©s sur l'exemple d'un service</a></li>
<li><a href="../fr443934/index.html">CJDNS est mort, vive Yggdrasil</a></li>
<li><a href="../fr443938/index.html">NetXMS comme syst√®me de surveillance pour les paresseux ... et une petite comparaison avec Zabbix</a></li>
<li><a href="../fr443940/index.html">Comment NE PAS traduire les titres de films</a></li>
<li><a href="../fr443946/index.html">La situation: les GPU virtuels ne sont pas inf√©rieurs en termes de performances aux solutions de fer</a></li>
<li><a href="../fr443948/index.html">Concours "Je suis un expert Intel Studio" avec des super prix pour les d√©veloppeurs</a></li>
<li><a href="../fr443950/index.html">Faites confiance, conseillez, sugg√©rez - recherchez de v√©ritables critiques de logiciels</a></li>
<li><a href="../fr443952/index.html">Internet souverain - pour notre argent</a></li>
<li><a href="../fr443954/index.html">Singularit√© technologique: le mythe moderne de la fin du monde sous le couvert de l'hypoth√®se du progr√®s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>