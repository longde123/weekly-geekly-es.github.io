<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ô®Ô∏è üë∑üèª üèâ Como criamos o diret√≥rio de endere√ßos da Rostelecom üÜò üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ üëèüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Por que a Rostelecom saberia tudo e at√© um pouco mais sobre endere√ßos? 

 A Internet, com toda a sua imagem digital, √© algo criado no mundo anal√≥gico....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como criamos o diret√≥rio de endere√ßos da Rostelecom</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/rostelecom/blog/485742/">  <i>Por que a Rostelecom saberia tudo e at√© um pouco mais sobre endere√ßos?</i> <br><br>  A Internet, com toda a sua imagem digital, √© algo criado no mundo anal√≥gico.  E at√© agora, para que a casa tenha Internet de alta velocidade, um cabo deve estar fisicamente conectado √† casa. <br><br>  √â o endere√ßo da casa que √© o principal objeto de identifica√ß√£o no processo de v√°rios est√°gios da presta√ß√£o de servi√ßos de Internet. <br><br>  O endere√ßo aparece no momento em que um cliente liga para a Rostelecom perguntando se √© poss√≠vel conectar-se √† Internet.  O operador precisa saber o endere√ßo do cliente para verificar se o cabo com a Internet est√° conectado √† casa.  O endere√ßo √© usado at√© o est√°gio de suporte e servi√ßo do cliente existente.  Ao entrar em contato com o servi√ßo de suporte t√©cnico no endere√ßo do cliente, √© verificado se o problema √© local ou se o acidente √© maci√ßo e o problema afetou o trimestre inteiro. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gm/fi/lh/gmfilhbspduaeylpymbojnqmeqw.png" width="900"></div><br>  E, √© claro, em todas as etapas do processo, a velocidade da resposta ao cliente √© importante. <br><br>  Neste post, falaremos sobre a import√¢ncia do endere√ßo do cliente para nossos sistemas internos, por que o FIAS n√£o √© uma panac√©ia e por que o Unified Passport foi criado em casa. <br><a name="habracut"></a><br>  Quanto mais r√°pido o cliente recebe a confirma√ß√£o da capacidade de se conectar √† Internet, maior a probabilidade de ele escolher a Rostelecom.  O mercado de servi√ßos de Internet √© altamente competitivo e o menor atraso na resposta √† solicita√ß√£o de um cliente pode reduzir sua lealdade e provocar uma mudan√ßa para outro operador de telecomunica√ß√µes mais eficiente. <br><br>  Simplificado, o processo comercial de passar um aplicativo para uma conex√£o com a Internet √© o seguinte.  Um aplicativo de um cliente entra no sistema - pode ser um site ou outro sistema onde os aplicativos podem ser mantidos.  Em seguida, a solicita√ß√£o √© enviada ao sistema de contabilidade t√©cnica linear para verificar a disponibilidade da conectividade t√©cnica ao cliente em seu endere√ßo.  Se houver uma possibilidade t√©cnica, o aplicativo √© transmitido ao sistema de trabalho para instaladores que conectar√£o o cliente √† Internet.  Depois que o servi√ßo √© ativado na rede, o aplicativo vai para o faturamento, onde √© calculado o custo dos servi√ßos para o assinante.  Os downloads mensais s√£o formados a partir do faturamento para o envio de faturas e cartas de reclama√ß√£o aos devedores. <br><br>  Todos esses sistemas de informa√ß√£o foram desenvolvidos e implementados antes da fus√£o da Rostelecom e, regra geral, antes que o mercado da Internet se tornasse altamente competitivo. <br><br>  Os sistemas de informa√ß√£o existentes forneciam um processo cont√≠nuo de vendas e conex√£o de servi√ßos de comunica√ß√£o em todo o pa√≠s, mas, ao mesmo tempo, a integra√ß√£o entre eles era realizada de forma semi-automatizada.  Os sistemas estavam fracamente interconectados e n√£o foram projetados para intera√ß√£o em um √∫nico espa√ßo de informa√ß√µes.  Cada sistema usou seus pr√≥prios cat√°logos de endere√ßos, diret√≥rios e princ√≠pios para identificar objetos. <br><br>  Para a intera√ß√£o eficaz de todos os sistemas em um √∫nico processo comercial centralizado de vendas e atendimento ao cliente da Rostelecom, era necess√°rio fornecer um "protocolo" comum de comunica√ß√£o - um sistema para classificar e identificar objetos direcionados.  Nesse caso, o ponto de partida deve ser precisamente a propriedade que pode ter um endere√ßo, pode n√£o ter, pode ter um endere√ßo alternativo, mas, em qualquer caso, deve ser determinada exclusivamente. <br><br>  Para esses fins, foi lan√ßado um projeto - o Unified Passport at Home (ORPON), que garantiu a transi√ß√£o de fontes de dados d√≠spares, incompletas e conflitantes para um √∫nico espa√ßo de endere√ßo integrado no qual a intera√ß√£o entre os sistemas de TI de todas as filiais da Rostelecom ocorre automaticamente, sem processamento manual. <br><br><h2>  Como foi tudo antes de um √∫nico diret√≥rio de endere√ßos?  Por que o FIAS n√£o se encaixa?  Por que tudo √© mais complicado do que parece? </h2><br>  Quando a empresa tem a tarefa de criar um diret√≥rio, tudo parece muito simples. <br>  Antes de tudo, um endere√ßo √© algo familiar para todos, todos enfrentam isso todos os dias, todo mundo sabe como escrever um endere√ßo: como Deus o coloca na alma. <br><br>  Em segundo lugar, ap√≥s os primeiros quinze minutos de estudo da quest√£o na Internet, voc√™ descobrir√° que um diret√≥rio de endere√ßos para toda a R√∫ssia j√° foi criado no imposto.  E tudo o que resta fazer √© baixar o banco de dados FIAS, envi√°-lo para o banco de dados e o diret√≥rio de endere√ßos est√° pronto.  De certa forma, √© claro, √© esse o caso. <br><br>  Existe um sistema de endere√ßos de informa√ß√µes federais, existem endere√ßos nele, s√£o atualizados regularmente e o Servi√ßo Fiscal Federal publica regularmente atualiza√ß√µes.  Para muitas tarefas, este guia √© adequado, por exemplo, para as tarefas do Servi√ßo Fiscal Federal. <br><br>  Mas o FIAS n√£o conseguiu resolver os problemas da Rostelecom.  Nos diret√≥rios de endere√ßos da Rostelecom, h√° muito mais endere√ßos do que no diret√≥rio de impostos, e a Rostelecom aprender√° sobre a constru√ß√£o de uma nova casa em m√©dia v√°rios anos antes que essa casa apare√ßa no diret√≥rio FIAS.  E √© importante que a Rostelecom conhe√ßa n√£o apenas os endere√ßos, mas associe inequivocamente um endere√ßo a um objeto imobili√°rio e determine todas as caracter√≠sticas significativas desse objeto: ano de constru√ß√£o, material da parede, finalidade e 90 outros par√¢metros muito importantes. <br><br>  Mas o principal problema era que, no in√≠cio do projeto em Rostelecom, havia pelo menos 40 sistemas usados ‚Äã‚Äãativamente, cada um com seu pr√≥prio diret√≥rio de endere√ßos, com seu pr√≥prio banco de dados com endere√ßos, cuja compara√ß√£o com o FIAS produzia cerca de 60% dos endere√ßos correspondentes. e 40% dos endere√ßos que a administra√ß√£o tribut√°ria n√£o conhece. <br><br>  Era imposs√≠vel definir esses 40% dos endere√ßos como "lixo", porque aproximadamente a mesma porcentagem da base de assinantes estava localizada neles, e a rejei√ß√£o de endere√ßos significava tamb√©m a rejei√ß√£o de assinantes.  Para cada endere√ßo da desist√™ncia, era necess√°rio entender: esse endere√ßo existe e esse endere√ßo √© independente ou √© uma duplicata de outro endere√ßo?  Ou talvez seja uma casa de esquina, e estamos lidando com endere√ßos alternativos? <br><br>  Era necess√°rio criar uma solu√ß√£o que permitisse conectar pelo menos 95% dos endere√ßos.  Ou seja, para 35% dos endere√ßos que n√£o concordam com o FIAS, era necess√°rio criar um algoritmo que lhes permitisse tomar decis√µes sobre eles.  Isso tinha que ser feito automaticamente.  Para processar manualmente cerca de 40% da base de endere√ßos da Rostelecom, levaria cerca de 120 homens-ano.  E eliminar o problema do fator humano com a ajuda do homem n√£o √© a decis√£o mais s√°bia. <br><br><h2>  Como fizemos tudo e por quanto tempo </h2><br>  Dentro da estrutura do projeto, duas tarefas principais foram necess√°rias: criar um diret√≥rio de endere√ßos que contenha todos os bons endere√ßos e n√£o contenha lixo e desenvolver um sistema que permita a manuten√ß√£o on-line do diret√≥rio de endere√ßos no estado atual em todo o cen√°rio de TI da Rostelecom. <br><br>  Simplificado, o processo de implementa√ß√£o do projeto pode ser descrito como uma sequ√™ncia das seguintes etapas: <br><br><ul><li>  Audite todos os sistemas que usam endere√ßos em seus processos de neg√≥cios.  Ou seja, para auditar todo o cen√°rio de TI da Rostelecom. </li><li>  Defina um cen√°rio de implementa√ß√£o e cen√°rios de integra√ß√£o de um diret√≥rio de endere√ßo de refer√™ncia em cada regi√£o de macro. </li><li>  Com base em certos cen√°rios de implementa√ß√£o e de integra√ß√£o, desenvolva um pacote de software. </li><li>  Descarregue os diret√≥rios de endere√ßos de todos os sistemas no per√≠metro de integra√ß√£o, crie um diret√≥rio de endere√ßos de refer√™ncia com base nesses dados e mapeie os endere√ßos locais para os de refer√™ncia. </li><li>  Desenvolver um diret√≥rio de refer√™ncia de im√≥veis e associar endere√ßos de refer√™ncia a im√≥veis por meio de comunica√ß√£o muitos-para-muitos </li><li>  Integre-se com cada sistema de informa√ß√£o </li><li>  Desenvolver um processo de gerenciamento de endere√ßos e treinar especialistas </li><li>  Pressione o grande bot√£o vermelho ‚ÄúIniciar‚Äù e replique a solu√ß√£o nas 7 macrorregi√µes da Rostelecom. </li></ul><br>  Voc√™ pode falar sobre cada uma dessas etapas por um longo tempo, cada uma delas foi interessante √† sua maneira, mas, no √¢mbito deste artigo, decidimos focar nos dois aspectos mais interessantes, em nossa opini√£o, - a forma√ß√£o de um algoritmo de an√°lise de endere√ßo e o nascimento de uma arquitetura de solu√ß√£o. <br>  Para resolver o problema com endere√ßos, foi necess√°rio desenvolver um algoritmo inequ√≠voco e consistente para an√°lise de endere√ßos, que seria baseado em uma √∫nica base de endere√ßos de refer√™ncia do FIAS e levaria em conta as especificidades regionais dos espa√ßos de endere√ßo em diferentes regi√µes da Federa√ß√£o Russa. <br><br>  N√£o foi poss√≠vel automatizar completamente esse algoritmo usando os m√©todos conhecidos de Levenshtein e Yaro-Winkler.  Portanto, juntamente com o m√©todo automatizado de an√°lise de endere√ßos, o algoritmo desenvolvido para avaliar os desvios reais permitidos das linhas de endere√ßo dos dados de refer√™ncia tamb√©m foi aplicado. <br><br>  Mas isso n√£o foi suficiente! <br><br>  Para uma compara√ß√£o mais precisa dos dados de endere√ßo, foi necess√°rio analisar os dados dos sistemas de contabilidade t√©cnica.  Assim, um conjunto de atributos adicionais completamente sem endere√ßo foi formado, que faziam parte do algoritmo final de confirma√ß√£o da qualidade da an√°lise.  Tais atributos foram, por exemplo, coordenadas geogr√°ficas e identificadores de equipamentos.  Portanto, se a mesma op√ß√£o estivesse vinculada a endere√ßos identificados como poss√≠veis duplicatas, esse seria um marcador que permitiria "recolher" endere√ßos em um objeto de endere√ßo de refer√™ncia.  A presen√ßa de tais informa√ß√µes adicionais nos permitiu coletar o banco de dados mais completo de todas as casas de ‚Äúesquina‚Äù, o que reflete as especificidades de endere√ßos alternativos na Federa√ß√£o Russa. <br><br>  Mas, apesar da presen√ßa de uma grande quantidade de informa√ß√µes adicionais: dados t√©cnicos de contabilidade, listas de retorno por correspond√™ncia, conex√µes cruzadas entre diret√≥rios de endere√ßos de sistemas por identificadores de assinantes, em algumas ramifica√ß√µes a zona cinza - uma lista de endere√ßos que n√£o puderam ser identificados exclusivamente - pode chegar a 10%. <br><br>  Mas o que fazer com a zona cinzenta?  Afinal, incluiu n√£o apenas endere√ßos escritos incorretamente, mas tamb√©m os chamados "endere√ßos tecnol√≥gicos" - objetos imobili√°rios onde o equipamento √© instalado e os servi√ßos s√£o prestados, mas est√£o localizados completamente fora dos limites das matrizes urbanas e, portanto, n√£o t√™m endere√ßos no sentido tradicional.  Essa tarefa foi destacada em uma dire√ß√£o separada e, usando todos os m√©todos conhecidos de geoanal√≠tica e an√°lise de dados sem√¢nticos, esses objetos tamb√©m foram identificados e inclu√≠dos exclusivamente no diret√≥rio de endere√ßos de refer√™ncia. <br><br>  A cria√ß√£o do diret√≥rio de endere√ßos de refer√™ncia foi resultado de esfor√ßos tit√¢nicos, mas o resultado deste trabalho foi aumentar a precis√£o da determina√ß√£o da viabilidade t√©cnica de conex√£o com essas casas, o que significa que o objetivo foi alcan√ßado. <br><br>  O segundo aspecto igualmente dif√≠cil e interessante do projeto estava relacionado ao desenvolvimento da arquitetura da solu√ß√£o. <br><br>  O nascimento da arquitetura da solu√ß√£o final foi precedido por duas hip√≥teses err√¥neas: <br><br><ol><li>  O diret√≥rio de endere√ßos da Rostelecom pode ser constru√≠do com base em uma plataforma MDM industrial. </li><li>  O diret√≥rio de endere√ßos da Rostelecom pode ser constru√≠do com base em uma plataforma industrial para an√°lise e normaliza√ß√£o de endere√ßos. </li></ol><br>  Tanto essa quanto a outra hip√≥tese foram um fracasso.  A solu√ß√£o MDM industrial, com todas as vantagens da plataforma de gerenciamento de diret√≥rio, n√£o podia se gabar de algoritmos de normaliza√ß√£o para endere√ßos russos e da capacidade de trabalhar com o endere√ßo como uma caracter√≠stica de um objeto imobili√°rio.  E como colocar a ordem nos endere√ßos era um objetivo principal do projeto, essa era uma desvantagem cr√≠tica que superava todas as vantagens consider√°veis ‚Äã‚Äãde uma poderosa plataforma MDM industrial.  Al√©m disso, essa solu√ß√£o n√£o possu√≠a uma plataforma de integra√ß√£o tolerante a falhas, capaz de fornecer integra√ß√£o em tempo real com dezenas de n√≥s da rede interna, de acordo com v√°rios cen√°rios de integra√ß√£o. <br><br>  A segunda abordagem para criar a arquitetura do diret√≥rio de endere√ßos foi baseada na id√©ia de criar o MDM com base no mecanismo de an√°lise e normaliza√ß√£o de endere√ßos.  Essa parecia uma solu√ß√£o l√≥gica, pois o gargalo da abordagem arquitetural anterior era precisamente a fun√ß√£o de pesquisar e combinar endere√ßos, trazendo-os para um formul√°rio padr√£o e a capacidade de pesquisar poss√≠veis duplicatas. <br><br>  No entanto, a arquitetura dos produtos para an√°lise e normaliza√ß√£o de endere√ßos concentra-se na velocidade de processamento de matrizes de endere√ßos, na precis√£o da sele√ß√£o de cadeias de endere√ßos semelhantes, minimizando o erro reverso - esses s√£o os principais valores do produto para normaliza√ß√£o de endere√ßos, que s√£o frequentemente usados ‚Äã‚Äãno processamento de endere√ßos de listas de e-mail e em tarefas semelhantes.  A id√©ia principal dessas solu√ß√µes √© usar um √∫nico diret√≥rio de endere√ßo de refer√™ncia - FIAS - e trazer as listas recebidas na entrada para o padr√£o com uma probabilidade calculada. <br><br>  As tarefas da Rostelecom exigiram a cria√ß√£o de seu pr√≥prio livro de refer√™ncia atualizado continuamente, que por um lado se baseia no FIAS, mas a presen√ßa ou aus√™ncia do endere√ßo no FIAS n√£o √© determinante para o reconhecimento do endere√ßo de refer√™ncia.  E essa era uma tarefa insol√∫vel para a maioria dos sistemas autom√°ticos de normaliza√ß√£o de endere√ßos. <br><br>  Como resultado de longas pesquisas, foi encontrada uma solu√ß√£o de compromisso com uma arquitetura h√≠brida - uma plataforma MDM propriet√°ria integrada ao mecanismo de pesquisa HumanFactorLabs.  A escolha desse fornecedor foi determinada pela disposi√ß√£o de finalizar o mecanismo de busca de endere√ßos para uso, como padr√£o, do diret√≥rio de endere√ßos Rostelecom e implementar o mecanismo de sincroniza√ß√£o regular do diret√≥rio de endere√ßos Rostelecom com o FIAS.  Esse refinamento nos permitiu fornecer aos usu√°rios uma pesquisa conveniente e de alta qualidade por endere√ßos por linha, e a constru√ß√£o de uma solu√ß√£o MDM baseada em produtos OpenSource proporcionou flexibilidade nas abordagens de integra√ß√£o com o cen√°rio de TI da Rostelecom.  No per√≠metro do cen√°rio de TI da Rostelecom, existem sistemas legados usados ‚Äã‚Äãno processo de neg√≥cios, mas n√£o podem ser modificados substancialmente devido √†s limita√ß√µes de design.  A mudan√ßa de uma solu√ß√£o industrial para o desenvolvimento interno tornou poss√≠vel maximizar a adapta√ß√£o da plataforma MDM √†s caracter√≠sticas do ambiente de TI, mantendo o conceito arquitetural b√°sico inalterado. <br><br><h2>  Por que isso √© t√£o dif√≠cil? </h2><br>  Dadas as especificidades da constru√ß√£o do cen√°rio de TI da Rostelecom, a primeira implementa√ß√£o do sistema deveria ter ocorrido diretamente no circuito industrial do cen√°rio de TI da macrorregi√£o.  No circuito industrial, novas integra√ß√µes com os principais sistemas do cen√°rio de TI foram introduzidas na opera√ß√£o piloto, o que afetou a implementa√ß√£o t√©cnica de todos os processos de neg√≥cios da Rostelecom PJSC: Vendas e conex√£o, Comissionamento de novas instala√ß√µes de comunica√ß√£o, Moderniza√ß√£o de redes de distribui√ß√£o dom√©stica, Instala√ß√£o, Suporte nas linhas 2 e 3, planejamento de constru√ß√£o, relat√≥rios.  O risco de um erro de implementa√ß√£o foi o bloqueio completo do trabalho dos fluxos de informa√ß√µes entre os sistemas de informa√ß√£o da macrorregi√£o, o desligamento de todos os processos de neg√≥cios, a queda nos riscos de vendas e reputa√ß√£o. <br><br>  Portanto, antes da primeira implementa√ß√£o, todas as etapas foram verificadas escrupulosamente, todos os endere√ßos e o sistema foram colocados em opera√ß√£o, exigindo 24 horas de servi√ßo por duas semanas ap√≥s o in√≠cio. <br><br>  No momento do primeiro lan√ßamento, parecia que todas as dificuldades haviam passado e, ent√£o, haveria simplesmente uma replica√ß√£o.  Mas, levando em considera√ß√£o o fato de que cada macrorregi√£o √©, no passado recente, uma empresa separada com seu pr√≥prio cen√°rio de TI espec√≠fico, cada ‚Äúcircula√ß√£o‚Äù se transformou em uma nova implementa√ß√£o de pleno direito. <br><br><h2>  Tecnologias e ferramentas usadas </h2><br>  A estrutura modular do sistema √© mostrada na figura. <br><br> <a href=""><img src="https://habrastorage.org/webt/yv/gi/_j/yvgi_jwgnp63dfs6x5fqp_-ewuk.png" width="900"></a> <br>  <i>Clic√°vel</i> <br><br><h3>  Sobre o processo t√©cnico </h3><br>  Os desenvolvedores do projeto n√£o est√£o apenas escrevendo c√≥digo, mas s√£o unidades criativas completas: tomam decis√µes t√©cnicas, oferecem id√©ias para design de interface, facilidade de uso do produto.  Qualquer novo recurso √© discutido com os desenvolvedores, sua opini√£o e experi√™ncia s√£o levadas em considera√ß√£o.  Qualquer tarefa deixa um espa√ßo para a criatividade do desenvolvedor, para que pequenas conveni√™ncias sejam facilmente realizadas e n√£o exijam confirma√ß√£o em v√°rias inst√¢ncias. <br><br><h3>  Sobre o back-end </h3><br>  O projeto atual √© baseado na tecnologia Java EE e no servidor da web WildFly.  O projeto √© monol√≠tico, embora agora esteja apenas passando pelo planejamento de sua "separa√ß√£o" em microsservi√ßos separados, porque a carga no projeto est√° gradualmente come√ßando a atingir o pico e requer escala normal. <br><br><h3>  Sobre o frontend </h3><br>  O projeto est√° em desenvolvimento h√° muito tempo e usa o GWT no lado frontal.  E, embora essa tecnologia seja pesada e desatualizada em 2019, ela permite que voc√™ fa√ßa v√°rias coisas que n√£o pode fazer nas estruturas JavaScript: escreva em Java e no cliente e no servidor, opere nas mesmas entidades de banco de dados existentes e l√°, apenas clonando-os atrav√©s do JpaCloner. <br><br>  Nenhum DTO e outro par√¢metro muda de vazio para vazio.  Isso permite que voc√™ crie um produto completo com uma equipe relativamente pequena de programadores.  Embora essa tecnologia n√£o seja menos problem√°tica: erros no Internet Explorer (e, afinal, existem padr√µes corporativos), tempos de compila√ß√£o enormes, dificuldades na integra√ß√£o com as modernas bibliotecas JavaScript.  Portanto, na nova vers√£o do produto, est√° planejado abandonar essa tecnologia em favor de algo mais moderno. <br><br><h3>  Sobre cen√°rios de integra√ß√£o </h3><br>  O sistema implementa mais de 20 cen√°rios de integra√ß√£o diferentes com os sistemas de informa√ß√µes do consumidor dos diret√≥rios ORPON. <br><br>  Os scripts de integra√ß√£o permitem transferir um √∫nico endere√ßo e uma lista em massa de endere√ßos ou elementos de endere√ßo.  O sistema ORPON pode iniciar a transfer√™ncia de um endere√ßo e uma lista de endere√ßos de forma independente, por exemplo, quando um especialista insere um novo endere√ßo no sistema ou quando as altera√ß√µes do FIAS s√£o baixadas ou pode executar essas a√ß√µes em resposta a uma solicita√ß√£o de um sistema adjacente.  A transfer√™ncia de diret√≥rios, atributos de im√≥veis - √© claro. <br><br>  O cen√°rio mais incomum, provavelmente, pode ser considerado o cen√°rio de controle da sequ√™ncia de transfer√™ncias de endere√ßo.  Em processos empresariais complexos, as conex√µes que ocorrem on-line s√£o muito importantes para controlar - em quais sistemas o endere√ßo deve ser acessado primeiro para evitar a interrup√ß√£o de tais processos.  E tamb√©m precis√°vamos resolver esse problema usando scripts padr√£o. <br><br><h3>  Sobre infraestrutura </h3><br>  O ORPON n√£o √© um sistema carregado em tempo real - cada sistema consumidor de diret√≥rios de endere√ßos possui sua pr√≥pria c√≥pia do sistema de refer√™ncia e o sistema n√£o acessa o ORPON para encontrar o endere√ßo, mas acessa seu pr√≥prio banco de dados.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No ORPON, o sistema do consumidor entra em contato se o endere√ßo solicitado n√£o for encontrado no armazenamento local. </font><font style="vertical-align: inherit;">Essa solu√ß√£o arquitetural permitiu reduzir significativamente a carga no aplicativo e fornecer as caracter√≠sticas t√©cnicas especificadas da resposta e estabilidade usando clusters de dois servidores. </font><font style="vertical-align: inherit;">O diagrama da infraestrutura dos componentes do sistema √© mostrado na figura abaixo. </font><i><font style="vertical-align: inherit;">Clic√°vel</font></i><font style="vertical-align: inherit;"> A composi√ß√£o dos aplicativos de software de cada cluster √© a seguinte:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/nb/no/ch/nbnochhcqzwy7acvujjbm7ep8d8.png" width="900"></a> <br> <i><font style="vertical-align: inherit;"></font></i> <br><br><font style="vertical-align: inherit;"></font><br><br><ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster DBMS do PostgreSQL</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RedHat Enterprise Linux 7.7 (64 bits) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PostgreSQL Server 11.4 (64 bits) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Marca-passo do ClusterLabs | Corosync </font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster do servidor de aplicativos</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RedHat Enterprise Linux 7.7 (64 bits) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Servidor de aplicativos WildFly 17 (64 bits) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software Citrix Balancer </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> POR OU PON </font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dicas de ferramenta da plataforma de cluster e fator de software</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Servidor de aplicativos WildFly 17 (64 bits) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software Citrix Balancer </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Produto de software FACTOR </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Produto "Software" Dicas </font></font></li></ul><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O que isso nos deu </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muitas vezes, √© dif√≠cil medir o efeito da implementa√ß√£o de sistemas de informa√ß√£o, muitas mudan√ßas ocorrem imediatamente e n√£o h√° resposta definitiva - se houve um efeito e se houve, o que causou consequ√™ncias positivas ou negativas. Especialmente se voc√™ estiver criando um projeto de infraestrutura localizado no cora√ß√£o do seu cen√°rio de TI.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tivemos sorte e, em uma das macrorregi√µes, conseguimos realizar um experimento limpo. Durante o per√≠odo, houve apenas uma mudan√ßa nos processos organizacionais e de TI, e essa foi a introdu√ß√£o do Diret√≥rio de Endere√ßos Unificado - ORPON. A escala do efeito foi enorme - o n√∫mero de respostas positivas para verificar a viabilidade t√©cnica da conex√£o aumentou 22% ap√≥s a introdu√ß√£o do sistema. Antes da implementa√ß√£o na macrorregi√£o, n√£o havia conex√£o inequ√≠voca entre o endere√ßo no sistema, de onde vem a solicita√ß√£o de suporte t√©cnico e o sistema de contabilidade t√©cnica, onde a possibilidade √© verificada - qual endere√ßo ser√° selecionado era uma loteria. Al√©m disso, havia muitas duplicatas no SLTU e o equipamento que estava na casa poderia ser distribu√≠do aleatoriamente em v√°rios endere√ßos, um dos quais foi selecionado aleatoriamente para verificar a viabilidade t√©cnica.A implementa√ß√£o do sistema permitiu reduzir essa incerteza para 0 e, como resultado, eliminar a perda de clientes no est√°gio de entrada do aplicativo no site da RT.RU devido a erros na determina√ß√£o da viabilidade t√©cnica da presta√ß√£o do servi√ßo no endere√ßo.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando recebemos esses resultados, n√£o acredit√°vamos em nossos olhos! </font><font style="vertical-align: inherit;">Esses n√∫meros excederam nossas expectativas mais loucas. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo foi preparado pela equipe de gerenciamento de dados Rostelecom</font></font></i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt485742/">https://habr.com/ru/post/pt485742/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt485716/index.html">Chita para redes em Kubernetes: conhecendo e um pouco de experi√™ncia</a></li>
<li><a href="../pt485726/index.html">Avi√µes de Corte - 3</a></li>
<li><a href="../pt485732/index.html">15 de fevereiro Badoo PHP Meetup # 4. Legado</a></li>
<li><a href="../pt485738/index.html">Semana da seguran√ßa 05: vulnerabilidades cr√≠ticas de dispositivos m√©dicos</a></li>
<li><a href="../pt485740/index.html">O impasse na PHDays: participe da batalha de anivers√°rio de hackers e defensores</a></li>
<li><a href="../pt485744/index.html">Intelig√™ncia - a capacidade de um objeto de adaptar seu comportamento ao meio ambiente para preservar (sobreviver)</a></li>
<li><a href="../pt485746/index.html">A 4¬™ plataforma parte do servidor usado</a></li>
<li><a href="../pt485748/index.html">Encadeamento opcional, uni√£o com nulo e como eles mudam nossa abordagem para escrever c√≥digo</a></li>
<li><a href="../pt485750/index.html">APIs para as quais finalmente vale a pena atualizar do Java 8. Parte 1</a></li>
<li><a href="../pt485758/index.html">Gigante modular com controle on-line, bem como teclados t√™xteis e de malha Joe Paradiso</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>