<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯП┤єаБзєаБвєаБ╖єаБмєаБ│єаБ┐ ЁЯШИ ЁЯХ║ЁЯП┐ рдбреЗрд╡рд▓рдкрд░ рдХреБрдХрдмреБрдХ: рдбреАрдбреАрдбреА рд░реЗрд╕рд┐рдкреА (рднрд╛рдЧ 4, рд╕рдВрд░рдЪрдирд╛рдПрдВ) ЁЯСКЁЯП╜ тЩЙя╕П ЁЯЦРЁЯП╗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдкрд░рд┐рдЪрдп 


 рдЗрд╕рд▓рд┐рдП, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЧреБрдВрдЬрд╛рдЗрд╢ , рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА рдФрд░ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдкрд░ рдлреИрд╕рд▓рд╛ рдХрд░ рдЪреБрдХреЗ рд╣реИрдВред рд╕рд┐рджреНрдзрд╛рдВрдд рд╕реЗ рдЕрднреНрдпрд╛рд╕ рдХреА рдУрд░ рдмрдврд╝рддреЗ рд╣реИрдВ, рд▓реЗрдЦрди рдХреЛрдб рдХреЗ рд▓рд┐рдПред рдореИрдВ рдРрд╕реЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдбреЗрд╡рд▓рдкрд░ рдХреБрдХрдмреБрдХ: рдбреАрдбреАрдбреА рд░реЗрд╕рд┐рдкреА (рднрд╛рдЧ 4, рд╕рдВрд░рдЪрдирд╛рдПрдВ)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435920/"><h1 id="vvedenie">  рдкрд░рд┐рдЪрдп </h1><br><p> рдЗрд╕рд▓рд┐рдП, рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреБрдВрдЬрд╛рдЗрд╢</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛</a> рдкрд░ рдлреИрд╕рд▓рд╛ рдХрд░ рдЪреБрдХреЗ рд╣реИрдВред  рд╕рд┐рджреНрдзрд╛рдВрдд рд╕реЗ рдЕрднреНрдпрд╛рд╕ рдХреА рдУрд░ рдмрдврд╝рддреЗ рд╣реИрдВ, рд▓реЗрдЦрди рдХреЛрдб рдХреЗ рд▓рд┐рдПред  рдореИрдВ рдРрд╕реЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдкреИрдЯрд░реНрди рдХреЗ рд╕рд╛рде рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ рдЬреЛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ - <em>рд╕реЗрд╡рд╛</em> рдФрд░ <em>рдЗрдВрдЯрд░реЗрдХреНрдЯрд░ рдХрд╛</em> рд╡рд░реНрдгрди рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЙрдиреНрд╣реЗрдВ <em>рдЕрдкрдирд╛рдиреЗ</em> рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рд╕рдВрд░рдЪрдирд╛рддреНрдордХ рдкреИрдЯрд░реНрди - <em>ValueObject</em> рдФрд░ <em>Entity рдХреА</em> рдЬрд╛рдВрдЪ <em>рдХрд░реЗрдВрдЧреЗ</em> ред  рд╣рдо <em>рдорд╛рдгрд┐рдХ</em> рднрд╛рд╖рд╛ рдореЗрдВ рд╡рд┐рдХрд╛рд╕ рдХрд░реЗрдВрдЧреЗред  рдЖрдЧреЗ рдХреЗ рд▓реЗрдЦреЛрдВ рдореЗрдВ, рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд┐рдпрд░реЗрдмрд▓ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдкреИрдЯрд░реНрдиреЛрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдЦреЛрдВ рдХреА рдЗрд╕ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рд▓рд┐рдП рд╕рднреА рд╡рд┐рдХрд╛рд╕ рдПрдХ рдЕрд▓рдЧ рдврд╛рдВрдЪреЗ рдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдП рдЬрд╛рдПрдВрдЧреЗред </p><br><p><img src="https://habrastorage.org/webt/uc/iz/ea/ucizea6-xkpivfyv18q9fvds9wm.jpeg" alt="рдмреНрд▓реЗрдХрдЬреИрдХ рдФрд░ рд╣реЙрдХрд░реНрд╕"></p><br><p>  рдФрд░ рд╣рдордиреЗ рдкрд╣рд▓реЗ рд╣реА рдПрдХ рдЙрдкрдпреБрдХреНрдд рдирд╛рдо рдЪреБрди рд▓рд┐рдпрд╛ рд╣реИ - <strong>рд▓реВрдирд╛рдкрд╛рд░реНрдХ</strong> ред <br>  рд╡рд░реНрддрдорд╛рди рдШрдЯрдирд╛рдХреНрд░рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рддреБрдм рдкрд░ рдкреЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛</a> ред <br>  рд╕рднреА рдЯреЗрдореНрдкреНрд▓реЗрдЯреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдПрдХ рдкреВрд░реНрдг рд╡рд┐рдХрд╕рд┐рдд рдорд╛рдЗрдХреНрд░реЛ-рд╕рд░реНрд╡рд┐рд╕ рдЗрдХрдЯреНрдард╛ рдХрд░реЗрдВрдЧреЗред </p><a name="habracut"></a><br><h1 id="tak-istoricheski-slozhilos">  рдЗрд╕рд▓рд┐рдП рдРрддрд┐рд╣рд╛рд╕рд┐рдХ рд░реВрдк рд╕реЗ </h1><br><p>  рд░реВрдмреА рдСрди рд░реЗрд▓реНрд╕ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдПрдХ рдЬрдЯрд┐рд▓ рдЙрджреНрдпрдо рдЖрд╡реЗрджрди рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереАред  рдорд╛рдгрд┐рдХ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреА рдПрдХ рддреИрдпрд╛рд░ рдЯреАрдо рдереАред  рдбреЛрдореЗрди рд╕рдВрдЪрд╛рд▓рд┐рдд рд╡рд┐рдХрд╛рд╕ рдкрджреНрдзрддрд┐ рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХрджрдо рд╕рд╣реА рдереА, рд▓реЗрдХрд┐рди рдкреНрд░рдпреБрдХреНрдд рднрд╛рд╖рд╛ рдореЗрдВ рдХреЛрдИ рдЯрд░реНрдирдХреА рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рдерд╛ред  рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рднрд╛рд╖рд╛ рдХреА рдкрд╕рдВрдж рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рд╣рдорд╛рд░реА рд╡рд┐рд╢реЗрд╖рдЬреНрдЮрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЧрдИ рдереА, рдпрд╣ рдХрд╛рдлреА рд╕рдлрд▓ рд░рд╣реАред  рдЙрди рд╕рднреА рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ, рдЬреЛ рдЖрдорддреМрд░ рдкрд░ рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИрдВ, рдорд╛рдгрд┐рдХ, рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЕрднрд┐рд╡реНрдпрдВрдЬрдХ рд╣реИред  рдФрд░ рдЗрд╕рд▓рд┐рдП, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдореЙрдбрд▓рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рджреВрд╕рд░реЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХред  рдпрд╣ рдХреЗрд╡рд▓ рдореЗрд░реА рд░рд╛рдп рдирд╣реАрдВ рд╣реИред </p><br><blockquote>  рд╡рд╣ рдЬрд╛рд╡рд╛ рджреБрдирд┐рдпрд╛ рд╣реИред  рдлрд┐рд░ рдЖрдкрдХреЗ рдкрд╛рд╕ рд░реВрдмреА рдЬреИрд╕реЗ рдирдП-рдирдП рдХреЙрдорд░реНрд╕ рд╣реИрдВред  рд░реВрдмреА рдХреЗ рдкрд╛рд╕ рдПрдХ рдмрд╣реБрдд рд╣реА рдЕрднрд┐рд╡реНрдпрдВрдЬрдХ рд╡рд╛рдХреНрдп рд░рдЪрдирд╛ рд╣реИ, рдФрд░ рдЗрд╕ рдмреБрдирд┐рдпрд╛рджреА рд╕реНрддрд░ рдкрд░ рдпрд╣ рдбреАрдбреАрдбреА рдХреЗ рд▓рд┐рдП рдПрдХ рдмрд╣реБрдд рдЕрдЪреНрдЫреА рднрд╛рд╖рд╛ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдореИрдВрдиреЗ рдЕрднреА рддрдХ рдЙрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдЗрд╕рдХрд╛ рдмрд╣реБрдд рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╕реБрдирд╛ рд╣реИ)ред  рд░реЗрд▓реЛрдВ рдиреЗ рдмрд╣реБрдд рдЙрддреНрд╕рд╛рд╣ рдкреИрджрд╛ рдХрд┐рдпрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдВрддрддрдГ рд╡реЗрдм рдпреВрдЖрдИ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рд▓рдЧрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдпреВрдЖрдИ 1990 рдХреЗ рд╢реБрд░реБрдЖрддреА рд╕рдордп рдореЗрдВ рд╡реЗрдм рд╕реЗ рдкрд╣рд▓реЗ рд╡рд╛рдкрд╕ рдЖ рдЧрдП рдереЗред  рдЕрднреА, рдЗрд╕ рдХреНрд╖рдорддрд╛ рдХреЛ рдЬреНрдпрд╛рджрд╛рддрд░ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рдирдХреЗ рдкреАрдЫреЗ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдбреЛрдореЗрди рд╕рдореГрджреНрдзрд┐ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпреЗ рдЕрддреАрдд рдореЗрдВ рднреА рджрд░реНрджрдирд╛рдХ рд░реВрдк рд╕реЗ рдХрдард┐рди рд░рд╣реЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдореЗрд░реА рдЙрдореНрдореАрдж рдпрд╣ рд╣реИ рдХрд┐ рдЬреИрд╕реЗ рд╣реА рд╕рдорд╕реНрдпрд╛ рдХреЗ UI рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рднрд╛рдЧ рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЛрдЧ рдЗрд╕реЗ рдбреЛрдореЗрди рдкрд░ рдЕрдкрдирд╛ рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рдЕрд╡рд╕рд░ рдХреЗ рд░реВрдк рдореЗрдВ рджреЗрдЦреЗрдВрдЧреЗред  рдЕрдЧрд░ рд░реВрдмреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрднреА рдЙрд╕ рджрд┐рд╢рд╛ рдореЗрдВ рд╣реЛрдиреЗ рд▓рдЧрд╛, рддреЛ рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ DDD рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рдордВрдЪ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИред  (рдХреБрдЫ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдБрдЪреЗ рдХреЗ рдЯреБрдХрдбрд╝реЛрдВ рдХреЛ рд╢рд╛рдпрдж рднрд░рдирд╛ рд╣реЛрдЧрд╛ред) <br><br>  рдПрд░рд┐рдХ рдЗрд╡рд╛рдВрд╕ 2006 </blockquote><p>  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдкрд┐рдЫрд▓реЗ 13 рд╡рд░реНрд╖реЛрдВ рдореЗрдВ, рдХреБрдЫ рднреА рдирд╣реАрдВ рдмрджрд▓рд╛ рд╣реИред  рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд░ рдЖрдк рдЗрд╕рдХреЗ рд▓рд┐рдП рд░реЗрд▓ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╡реЗ рд╕рднреА рднрдпрд╛рдирдХ рджрд┐рдЦрддреЗ рд╣реИрдВред  рд░реЗрд▓ рдврд╛рдВрдЪрд╛ рднрд╛рд░реА, рдзреАрдорд╛ рдФрд░ рдареЛрд╕ рдирд╣реАрдВ рд╣реИред  <em>ActiveRecord</em> рдХреЗ рдЖрдзрд╛рд░ рдкрд░ <em>рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</em> рдкреИрдЯрд░реНрди рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдХреИрд╕реЗ рдЪрд┐рддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдпрд╣ рдмрд┐рдирд╛ рдЖрдБрд╕реВ рдХреЗ рджреЗрдЦрдирд╛ рдмрд╣реБрдд рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рд╣рдордиреЗ рдПрдХ рдорд╛рдЗрдХреНрд░реЛрдлреНрд░рд╛рдорд╡рд░реНрдХ рдХреЛ рдЕрдкрдирд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ред  рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧреНрд░реЗрдк</a> рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рдСрдЯреЛ-рдбреЙрдХреНрдпреВрдореЗрдВрдЯреЗрд╢рди рд╡рд╛рд▓рд╛ рд╡рд┐рдЪрд╛рд░ рд╕рдлрд▓ рд░рд╣рд╛, рд▓реЗрдХрд┐рди рдЕрдиреНрдпрдерд╛ рдЗрд╕реЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛ рдФрд░ рд╣рдордиреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдЪрд╛рд░ рдЬрд▓реНрджреА рдЫреЛрдбрд╝ рджрд┐рдпрд╛ред  рдФрд░ рд▓рдЧрднрдЧ рддреБрд░рдВрдд рдЙрдиреНрд╣реЛрдВрдиреЗ рдПрдХ рдФрд░ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд┐рдирд╛рддреНрд░рд╛</a> ред  рд╣рдо рдЕрднреА рднреА рдЗрд╕реЗ REST <em>рдирд┐рдпрдВрддреНрд░рдХреЛрдВ</em> рдФрд░ <em>рд╕рдорд╛рдкрди</em> рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦрддреЗ рд╣реИрдВред </p><br><div class="spoiler">  <b class="spoiler_title">рдмрд╛рдХреА?</b> <div class="spoiler_text"><p>  рдпрджрд┐ рдЖрдкрдиреЗ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдП рд╣реИрдВ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддрдХрдиреАрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рд╡рд┐рдЪрд╛рд░ рд╣реИред  рдЗрд╕рдХреЗ рдкреЗрд╢реЗрд╡рд░реЛрдВ рдФрд░ рд╡рд┐рдкрдХреНрд╖реЛрдВ рдХреА рдПрдХ рдкреВрд░реА рд╕реВрдЪреА рд╣реИ, рдЬреЛ рдЗрд╕ рд▓реЗрдЦ рдХреЗ рджрд╛рдпрд░реЗ рд╕реЗ рдкрд░реЗ рд╣реИред  рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рд▓рд┐рдП, рдЙрджреНрдпрдо рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ, рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рджреЛрд╖ рдпрд╣ рд╣реЛрдЧрд╛ рдХрд┐ рдЖрд░рдИрдПрд╕рдЯреА (рдпрд╣ рдирд╛рдо рд╕реЗ рднреА рд╕реНрдкрд╖реНрдЯ рд╣реИ) рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред  рдФрд░ рд▓рд╛рдн рдЗрд╕рдХреА рд╕рдордЭ рд╣реИ - рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА рдмреИрдХ-рдПрдВрдб рдбреЗрд╡рд▓рдкрд░реНрд╕ рдФрд░ рдлреНрд░рдВрдЯ-рдПрдВрдб рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕реНрдкрд╖реНрдЯ рд╣реИред <br>  рд▓реЗрдХрд┐рди рддрдм рд╢рд╛рдпрдж REST рдкрд░ рдзреНрдпрд╛рди рди рджреЗрдВ, рд▓реЗрдХрд┐рди рдЕрдкрдиреЗ http + json рд╕рдорд╛рдзрд╛рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ?  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдЕрдкрдиреА рд╕реЗрд╡рд╛ рдПрдкреАрдЖрдИ рдХреЛ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЛ рдЗрд╕рдХрд╛ рд╡рд┐рд╡рд░рдг рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдкрд░ рдЖрдкрдХреЛ рдХрдИ рдкреНрд░рд╢реНрди рдкреНрд░рд╛рдкреНрдд рд╣реЛрдВрдЧреЗред  рдпрджрд┐ рдЖрдк рдкрд░рд┐рдЪрд┐рдд REST рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдЗрд╕рд╕реЗ рдХрд╣реАрдВ рдЕрдзрд┐рдХред <br>  рд╣рдо REST рдПрдХ рд╕рдордЭреМрддрд╛ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред  рд╣рдо JSON рдХрд╛ рдЙрдкрдпреЛрдЧ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реБрдЧрдорддрд╛</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">jsonapi</a> рдорд╛рдирдХ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рд░реВрдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрд╡рд┐рддреНрд░ рдпреБрджреНрдзреЛрдВ рдкрд░ рд╕рдордп рдмрд░реНрдмрд╛рдж рди рдХрд░рдирд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрдбрд╝реЗ</a> ред <br>  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдЬрдм рд╣рдо <em>рдПрдВрдбрдкреЙрдЗрдВрдЯ</em> рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдЖрд░рд╛рдо рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдХреЗрд╡рд▓ рдПрдХ рд╡рд░реНрдЧ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред  рддреЛ REST рдХреЛ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдкрд░реЗрд╢рд╛рди рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдЕрдЧрд░ рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрджреЗрд╣ рд╣реИред </p></div></div><br><p>  рдХрдИ рдорд╛рдЗрдХреНрд░реЛрд╕рд░реНрд╡рд┐рд╕реЗрдЬ рд▓рд┐рдЦрдиреЗ рдХреЗ рджреМрд░рд╛рди, рд╣рдордиреЗ рдЧреНрд░рд╛рдЙрдВрдбрд╡рд░реНрдХ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рд╣реИ - рдЕрдореВрд░реНрдд рдХрдХреНрд╖рд╛рдУрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯред  рдкреНрд░рддреНрдпреЗрдХ рдРрд╕реЗ рд╡рд░реНрдЧ рдХреЛ рдЖрдзреЗ рдШрдВрдЯреЗ рдореЗрдВ рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдХреЛрдб рд╕рдордЭрдирд╛ рдЖрд╕рд╛рди рд╣реИ рдпрджрд┐ рдЖрдк рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдпрд╣ рдХреЛрдб рдХреНрдпрд╛ рд╣реИред </p><br><p>  рдпрд╣рд╛рдВ рдореБрдЦреНрдп рдХрдард┐рдирд╛рдЗрдпрд╛рдВ рдЙрддреНрдкрдиреНрди рд╣реБрдИрдВред  рдирдП рдХрд░реНрдордЪрд╛рд░реА рдЬреЛ рдбреАрдбреАрдбреА рдкреНрд░рдерд╛рдУрдВ рдФрд░ рд╕реНрд╡рдЪреНрдЫ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд╕рд╛рде рд╕реМрджрд╛ рдирд╣реАрдВ рдХрд░рддреЗ рдереЗ, рд╡реЗ рдХреЛрдб рдФрд░ рдЗрд╕рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рдирд╣реАрдВ рд╕рдордЭ рд╕рдХрддреЗ рдереЗред  рдпрджрд┐ рдореИрдВ рдЦреБрдж рдЗрд╡рд╛рдВрд╕ рдкрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдкрд╣рд▓реА рдмрд╛рд░ рдЗрд╕ рдХреЛрдб рдХреЛ рджреЗрдЦрддрд╛ рд╣реВрдВ, рддреЛ рдореИрдВ рдЗрд╕реЗ рд╡рд┐рд░рд╛рд╕рдд, рдУрд╡рд░-рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рд▓реЗ рдЬрд╛рдКрдВрдЧрд╛ред </p><br><p>  рдЗрд╕ рдмрд╛рдзрд╛ рдХреЛ рджреВрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдкреНрд░рд▓реЗрдЦрди (рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢) рд▓рд┐рдЦрдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЬреЛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рджрд░реНрд╢рди рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИред  рдЗрд╕ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреА рд░реВрдкрд░реЗрдЦрд╛рдПрдБ рд╕рдлрд▓ рд▓рдЧреАрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣реИрдмрд░ рдореЗрдВ рд░рдЦрдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ред  рд╕рд╛рд░ рдХрдХреНрд╖рд╛рдПрдВ рдЬреЛ рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╕реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рджреЛрд╣рд░рд╛рдИ рдЧрдИ рдереАрдВ, рдЙрдиреНрд╣реЗрдВ рдПрдХ рдЕрд▓рдЧ рдордгрд┐ рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </p><br><h1 id="filosofiya">  рджрд░реНрд╢рди </h1><br><p><img src="https://habrastorage.org/webt/eg/zm/c8/egzmc89jktbwuobb67mh-stoijc.png" alt="рд╡рд┐рд░рд╛рд╕рдд рдХрд╛ рд░рд╛рд╕реНрддрд╛"><br>  рдпрджрд┐ рдЖрдк рдорд╛рд░реНрд╢рд▓ рдЖрд░реНрдЯ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдХреНрд▓рд╛рд╕рд┐рдХ рдлрд┐рд▓реНрдо рдХреЛ рдпрд╛рдж рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдПрдХ рдХрдард┐рди рд▓рдбрд╝рдХрд╛ рд╣реЛрдЧрд╛ рдЬреЛ рдмрд╣реБрдд рдЪрддреБрд░рд╛рдИ рд╕реЗ рдПрдХ рдкреЛрд▓ рдХреЛ рд╕рдВрднрд╛рд▓ рд░рд╣рд╛ рд╣реИред  рдПрдХ рдЫрдард╛ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рдЫрдбрд╝реА рд╣реИ, рдПрдХ рдмрд╣реБрдд рд╣реА рдЖрджрд┐рдо рдЙрдкрдХрд░рдг рд╣реИ, рдЬреЛ рдкрд╣рд▓реЗ рдорд╛рдирд╡ рд╣рд╛рдереЛрдВ рдореЗрдВ рдЧрд┐рд░ рдЧрдпрд╛ рдерд╛ред  рд▓реЗрдХрд┐рди рдЧреБрд░реБ рдХреЗ рд╣рд╛рдереЛрдВ рдореЗрдВ, рд╡рд╣ рдПрдХ рджреБрд░реНрдЬреЗрдп рд╣рдерд┐рдпрд╛рд░ рдмрди рдЬрд╛рддрд╛ рд╣реИред <br>  рдЖрдк рдПрдХ рдкрд┐рд╕реНрддреМрд▓ рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдордп рдмрд┐рддрд╛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдкреИрд░ рдореЗрдВ рдЧреЛрд▓реА рдирд╣реАрдВ рдорд╛рд░рддреА рд╣реИ, рдпрд╛ рдЖрдк рд╢реВрдЯрд┐рдВрдЧ рддрдХрдиреАрдХ рд╕реАрдЦрдиреЗ рдореЗрдВ рд╕рдордп рдмрд┐рддрд╛ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдордиреЗ 4 рдореВрд▓ рд╕рд┐рджреНрдзрд╛рдВрддреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХреА рд╣реИ: </p><br><ul><li>  рдЖрдкрдХреЛ рдЬрдЯрд┐рд▓ рдЪреАрдЬреЛрдВ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </li><li>  рддрдХрдиреАрдХ рд╕реЗ рдЬреНрдпрд╛рджрд╛ рдЬрд░реВрд░реА рд╣реИ рдЬреНрдЮрд╛рдиред  рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреЛрдб рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ, рдПрдХ рдХреЛ рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХрддрд╛ рдХреБрддреНрддреЗрд╡рд╛рдж рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдорд╛рдирдХреЛрдВ рдХреЛ рдорд╛рд░реНрдЧ рдХрд╛ рдорд╛рд░реНрдЧрджрд░реНрд╢рди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдПрдХ рдмрд╛рдЙрдВрдбрд┐рдВрдЧ рдмреЙрдХреНрд╕ рд╕реЗрдЯ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдореЗрдВ рд╕рдВрд░рдЪрдирд╛, рд╕рдорд╛рдзрд╛рди рдХреА рдкрд╕рдВрдж рдореЗрдВ рд▓рдЪреАрд▓рд╛рдкрдиред </li></ul><br><p>  рдПрдХ рд╕рдорд╛рди рджрд░реНрд╢рди рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрд░реНрдХрд▓рд┐рдирдХреНрд╕ рдУрдПрд╕ - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдж рдЖрд░реНрдХ рд╡реЗ рдореЗрдВ</a> ред  рдореЗрд░реЗ рд▓реИрдкрдЯреЙрдк рдкрд░, рд▓рд┐рдирдХреНрд╕ рдиреЗ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд░реВрдЯ рдирд╣реАрдВ рд▓рд┐рдпрд╛, рдЬрд┐рддрдиреА рдЬрд▓реНрджреА рдпрд╛ рдмрд╛рдж рдореЗрдВ рдпрд╣ рдЯреВрдЯ рдЧрдпрд╛ рдФрд░ рдореБрдЭреЗ рд▓рдЧрд╛рддрд╛рд░ рдЗрд╕реЗ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдкрдбрд╝рд╛ред  рдЗрд╕рдиреЗ рдХрдИ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдХрд╛рд░рдг рдмрдирд╛, рдХрднреА-рдХрднреА рдЧрдВрднреАрд░ рдЬреИрд╕реЗ рдХрд╛рдо рдХреЗ рд▓рд┐рдП рд╕рдордп рд╕реАрдорд╛ рдХрд╛ рд╡рд┐рдШрдЯрдиред  рд▓реЗрдХрд┐рди рдЖрд░реНрдХ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж 2-3 рджрд┐рди рдмрд┐рддрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдореБрдЭреЗ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдореЗрд░рд╛ рдУрдПрд╕ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╡рд╣ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рдмрд┐рдирд╛, рдЕрдзрд┐рдХ рд╕реНрдерд┐рд░ рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ред  рдореЗрд░реЗ рдиреЛрдЯреНрд╕ рдиреЗ рдореБрдЭреЗ рдХреБрдЫ рдШрдВрдЯреЛрдВ рдореЗрдВ рдирдП рдкреАрд╕реА рдкрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХреАред  рдПрдХ рднрд░рдкреВрд░ рджрд╕реНрддрд╛рд╡реЗрдЬ рдиреЗ рдореБрдЭреЗ рдирдИ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХреАред </p><br><p>  рдлреНрд░реЗрдорд╡рд░реНрдХ рдореЗрдВ рдПрдХ рдЙрдЪреНрдЪ рд╕реНрддрд░реАрдп рдЪрд░рд┐рддреНрд░ рд╣реИред  рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╡рд░реНрдЧ рдЖрд╡реЗрджрди рдХреА рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВред  рддреГрддреАрдп-рдкрдХреНрд╖ рд╕рдорд╛рдзрд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ, http рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдФрд░ рдЕрдиреНрдп рдирд┐рдореНрди-рд╕реНрддрд░реАрдп рдЪреАрдЬреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреЛ рдХреЛрдб рдореЗрдВ рдЭрд╛рдВрдХрдирд╛ рдФрд░ рд╕рдордЭрдирд╛ рдЪрд╛рд╣реЗрдВрдЧреЗ рдХрд┐ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдЧ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рд▓реЗрдЦрди рд╣рдореЗрдВ рдпрд╣ рд╕рдордЭрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреИрд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рдЗрдВрдЬрди рдбрд┐рдЬрд╛рдЗрди рдХреЛ рд╕рдордЭрдирд╛ рдЖрдкрдХреЛ рдХрд╛рд░ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрдЧрд╛ред </p><br><h1 id="freymvork">  рдврд╛рдВрдЪрд╛ </h1><br><p>  рд▓реВрдирд╛рдкрд╛рд░реНрдХ рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рдЕрд░реНрдереЛрдВ рдореЗрдВ рдПрдХ рдврд╛рдВрдЪрд╛ рдХрд╣рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИред  рдлреНрд░реЗрдо - рдлреНрд░реЗрдо, рд╡рд░реНрдХ - рд╡рд░реНрдХред  рд╣рдо рдЦреБрдж рдХреЛ рдЧреБрдВрдЬрд╛рдЗрд╢ рддрдХ рд╕реАрдорд┐рдд рдирд╣реАрдВ рд░рдЦрдиреЗ рдХрд╛ рдЖрдЧреНрд░рд╣ рдХрд░рддреЗ рд╣реИрдВред  рдПрдХрдорд╛рддреНрд░ рдлреНрд░реЗрдо рдЬрд┐рд╕реЗ рд╣рдо рдШреЛрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рд╡рд╣ рд╡рд╣ рд╣реИ рдЬреЛ рдЙрд╕ рд╡рд░реНрдЧ рдХреЛ рдмрддрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЗрд╕ рдпрд╛ рдЙрд╕ рддрд░реНрдХ рдХрд╛ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдмрд▓реНрдХрд┐ рдЙрдирдХреЗ рд▓рд┐рдП рд╡реНрдпрд╛рдкрдХ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЗ рд╕рд╛рде рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИред <br>  рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЧ рд╕рд╛рд░ рд╣реИ рдФрд░ рддреАрди рд╕реНрддрд░ рд╣реИрдВ: </p><br><pre><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LunaPark</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#  module Forms #  class Single # / end end end</span></span></span></span></code> </pre> <br><p>  рдпрджрд┐ рдЖрдк рдПрдХ рдРрд╕рд╛ рдлреЙрд░реНрдо рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдЬреЛ рдПрдХ рдПрдХрд▓ рддрддреНрд╡ рдмрдирд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдЗрд╕ рд╡рд░реНрдЧ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓рд╛ рд╣реИ: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Forms</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Create</span></span></span><span class="hljs-class"> &lt; LunaPark::Forms::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Single</span></span></span></span></code> </pre> <br><p>  рдпрджрд┐ рдХрдИ рддрддреНрд╡ рд╣реИрдВ, рддреЛ рд╣рдо рдПрдХ рдФрд░ <em>рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛</em> рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Forms</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Create</span></span></span><span class="hljs-class"> &lt; LunaPark::Forms::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Multiple</span></span></span></span></code> </pre> <br><p>  рдлрд┐рд▓рд╣рд╛рд▓, рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЛ рд╕рд╣реА рдХреНрд░рдо рдореЗрдВ рдирд╣реАрдВ рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рдордгрд┐ рдЕрд▓реНрдлрд╛ рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ рд╣реИред  рд╣рдо рдЗрд╕реЗ рд▓реЗрдЦреЛрдВ рдХреЗ рдкреНрд░рдХрд╛рд╢рди рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдЪрд░рдгреЛрдВ рдореЗрдВ рдЙрджреНрдзреГрдд рдХрд░реЗрдВрдЧреЗред  рдпрд╛рдиреА  рдпрджрд┐ рдЖрдк <code>ValueObject</code> рдФрд░ <code>Entity</code> рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рд▓реЗрдЦ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдпреЗ рджреЛрдиреЛрдВ рдЯреЗрдореНрдкрд▓реЗрдЯ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд▓рд╛рдЧреВ рд╣реИрдВред  рдЪрдХреНрд░ рдХреЗ рдЕрдВрдд рддрдХ, рд╡реЗ рд╕рднреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛрдВрдЧреЗред  рдЪреВрдВрдХрд┐ рдлреНрд░реЗрдорд╡рд░реНрдХ рд╕реНрд╡рдпрдВ sinatra \ roda рдХреЗ рд▓рд┐рдВрдХ рдХреЗ рдмрд┐рдирд╛ рдмрд╣реБрдд рдХрдо рдЙрдкрдпреЛрдЧ рдХрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдмрдирд╛рдИ рдЬрд╛рдПрдЧреА рдЬреЛ рджрд┐рдЦрд╛рддреА рд╣реИ рдХрд┐ рдЬрд▓реНрджреА рд╕реЗ рдЕрдкрдиреА рдкрд░рд┐рдпреЛрдЬрдирд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП "рд╕рдм рдХреБрдЫ рдкреЗрдВрдЪ" рдХреИрд╕реЗ рдХрд░реЗрдВред </p><br><p>  рд░реВрдкрд░реЗрдЦрд╛ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрд╡реЗрджрди рд╣реИред  рдЗрди рд▓реЗрдЦреЛрдВ рдХреЛ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдкреНрд░рд▓реЗрдЦрди рдХреЗ рд░реВрдк рдореЗрдВ рди рджреЗрдЦреЗрдВред </p><br><p>  рддреЛ, рдЪрд▓реЛ рд╡реНрдпрд╛рдкрд╛рд░ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдЙрддрд░реЛред </p><br><h1 id="obekt-znachenie-value">  рдорд╛рди рд╡рд╕реНрддреБ </h1><br><blockquote>  - рдЖрдкрдХреА рдкреНрд░реЗрдорд┐рдХрд╛ рдХрд┐рддрдиреА рд▓рдВрдмреА рд╣реИ? <br>  - 151 <br>  - рдЖрдк рд╕реНрд╡рддрдВрддреНрд░рддрд╛ рдХреА рдкреНрд░рддрд┐рдорд╛ рдХреЗ рд╕рд╛рде рдорд┐рд▓рдиреЗ рд▓рдЧреЗ? </blockquote><p>  рдЗрдВрдбрд┐рдпрд╛рдирд╛ рдореЗрдВ рдРрд╕рд╛ рдХреБрдЫ рд╣реЛ рд╕рдХрддрд╛ рдерд╛ред  рдорд╛рдирд╡ рд╡рд┐рдХрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдорд╛рдк рдХреА рдПрдХ рдЗрдХрд╛рдИ рднреА рд╣реИред  рд╣рдореЗрд╢рд╛ рдПрдХ рд╡рд╕реНрддреБ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдХреЗрд╡рд▓ рдЖрджрд┐рдо (рдкреВрд░реНрдгрд╛рдВрдХ, рд╕реНрдЯреНрд░рд┐рдВрдЧ, рдмреВрд▓рд┐рдпрди, рдЖрджрд┐) рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХрднреА-рдХрднреА рдЙрдирдореЗрдВ рд╕реЗ рд╕рдВрдпреЛрдЬрди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: </p><br><ul><li>  рдзрди рдХреЗрд╡рд▓ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдПрдХ рд╕рдВрдЦреНрдпрд╛ (рд░рд╛рд╢рд┐) + рдореБрджреНрд░рд╛ рд╣реИред </li><li>  рдПрдХ рддрд┐рдерд┐ рдореЗрдВ рдПрдХ рджрд┐рди, рдорд╣реАрдирд╛ рдФрд░ рд╡рд░реНрд╖ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВред </li><li>  рд╡рдЬрди рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рднреА рд╕рдВрдЦреНрдпрд╛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдирд╣реАрдВ рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдорд╛рдк рдХреА рдПрдХ рдЗрдХрд╛рдИ рдХреА рднреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </li><li>  рдкрд╛рд╕рдкреЛрд░реНрдЯ рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╣реЛрддреА рд╣реИ рдФрд░, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕рдВрдЦреНрдпрд╛ рдХреАред </li></ul><br><p>  рджреВрд╕рд░реА рдУрд░, рдпрд╣ рд╣рдореЗрд╢рд╛ рдПрдХ рд╕рдВрдпреЛрдЬрди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рд╢рд╛рдпрдж рдпрд╣ рдЖрджрд┐рдо рдХрд╛ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд╣реИред <br>  рдПрдХ рдлреЛрди рдирдВрдмрд░ рдХреЛ рдЕрдХреНрд╕рд░ рдирдВрдмрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рджреВрд╕рд░реА рдУрд░, рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдЬреЛрдбрд╝ рдпрд╛ рд╡рд┐рднрд╛рдЬрди рдХреА рд╡рд┐рдзрд┐ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рд╢рд╛рдпрдж рдПрдХ рд╡рд┐рдзрд┐ рд╣реИ рдЬреЛ рдПрдХ рджреЗрд╢ рдХреЛрдб рдФрд░ рдПрдХ рд╡рд┐рдзрд┐ рдЬрд╛рд░реА рдХрд░реЗрдЧреА рдЬреЛ рдПрдХ рд╢рд╣рд░ рдХреЛрдб рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреА рд╣реИред  рд╢рд╛рдпрдж рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдЬрд╛рд╡рдЯреА рд╡рд┐рдзрд┐ рд╣реЛрдЧреА рдЬреЛ рдЗрд╕реЗ рди рдХреЗрд╡рд▓ <code>79001231212</code> рдирдВрдмрд░ рдХреА рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдкреЗрд╢ <code>79001231212</code> , рдмрд▓реНрдХрд┐ рдПрдХ рдкрдардиреАрдп рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд░реВрдк рдореЗрдВ: <code>7-900-123-12-12</code> ред </p><br><div class="spoiler">  <b class="spoiler_title">рд╢рд╛рдпрдж рдПрдХ рдбреЗрдХреЛрд░реЗрдЯрд░?</b> <div class="spoiler_text"><p>  рд╣рдардзрд░реНрдорд┐рддрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдпрд╣ рдирд┐рд░реНрд╡рд┐рд╡рд╛рдж рд╣реИ - рд╣рд╛рдБред  рдпрджрд┐ рд╣рдо рдЗрд╕ рджреБрд╡рд┐рдзрд╛ рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рдЬреНрдЮрд╛рди рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдореЗрдВ рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рдЬрдм рд╣рдо рдЗрд╕ рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╕реНрд╡рдпрдВ рдлреЛрди рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рджреЗрдВрдЧреЗ: </p><br><pre> <code class="ruby hljs">phone.call Values::PhoneNumber.new(<span class="hljs-number"><span class="hljs-number">79001231212</span></span>)</code> </pre> <br><p>  рдФрд░ рдЕрдЧрд░ рд╣рдордиреЗ рдЗрд╕реЗ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдкреЗрд╢ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рддреЛ рдХреНрдпреЛрдВ рди рд╣рдо рдЗрд╕ рдкрдВрдХреНрддрд┐ рдХреЛ рдХрд┐рд╕реА рд╡реНрдпрдХреНрддрд┐ рдХреЛ рддреБрд░рдВрдд рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп рдмрдирд╛ рджреЗрдВ? </p><br><pre> <code class="ruby hljs">Values::PhoneNumber.new(<span class="hljs-number"><span class="hljs-number">79001231212</span></span>).to_s</code> </pre> </div></div><br><p>  рдХрд▓реНрдкрдирд╛ рдХреАрдЬрд┐рдП рдХрд┐ рд╣рдо рдереНрд░реА рдПрдХреНрд╕рд┐рд╕ рдСрдирд▓рд╛рдЗрди рдХреИрд╕реАрдиреЛ рд╕рд╛рдЗрдЯ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ рдФрд░ рдХрд╛рд░реНрдб рдЧреЗрдо рдмреЗрдЪ рд░рд╣реЗ рд╣реИрдВред  рд╣рдореЗрдВ 'рдкреНрд▓реЗрдЗрдВрдЧ рдХрд╛рд░реНрдб' рд╡рд░реНрдЧ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayingCard</span></span></span><span class="hljs-class"> &lt; Lunapark::Values::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Compound</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">suit</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rank</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рддреЛ, рд╣рдорд╛рд░реА рдХрдХреНрд╖рд╛ рдореЗрдВ рдХреЗрд╡рд▓ рджреЛ рд╣реА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рд╣реИрдВ: </p><br><ul><li>  рд╕реВрдЯ - рдХрд╛рд░реНрдб рд╕реВрдЯ </li><li>  рд░реИрдВрдХ - рдХрд╛рд░реНрдб рдХреА рдЧрд░рд┐рдорд╛ </li></ul><br><p>  рдпреЗ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рдХреЗрд╡рд▓ рдПрдХ рдорд╛рдирдЪрд┐рддреНрд░ рдмрдирд╛рддреЗ рд╕рдордп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИрдВ рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдмрджрд▓ рдирд╣реАрдВ рд╕рдХрддреА рд╣реИрдВред  рдмреЗрд╢рдХ рдЖрдк рдПрдХ рдкреНрд▓реЗрдЗрдВрдЧ рдХрд╛рд░реНрдб рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ <s>8 рдХреЛ</s> рдкрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреВ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрд╕реНрд╡реАрдХрд╛рд░реНрдп рд╣реИред  рдПрдХ рд╕рднреНрдп рд╕рдорд╛рдЬ рдореЗрдВ рдЖрдкрдХреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдЧреЛрд▓реА рдорд╛рд░ рджреА рдЬрд╛рдПрдЧреАред  рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рдмрджрд▓рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрдерддрд╛ <em>рдореВрд▓реНрдп рдСрдмреНрдЬреЗрдХреНрдЯ</em> рдХреА рдкрд╣рд▓реА рд╕рдВрдкрддреНрддрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ - рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдпрддрд╛ред <br>  <em>рд╡реИрд▓реНрдпреВ рдСрдмреНрдЬреЗрдХреНрдЯ</em> рдХреА рджреВрд╕рд░реА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдВрдкрддреНрддрд┐ рдпрд╣ рд╣реЛрдЧреА рдХрд┐ рд╣рдо рдЙрдирдХреА рддреБрд▓рдирд╛ рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RSpec</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">describe</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayingCard</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">let</span></span></span><span class="hljs-class">(:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">card</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">described_class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">suit</span></span></span><span class="hljs-class">: :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clubs</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rank</span></span></span><span class="hljs-class">: 10 } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">let</span></span></span><span class="hljs-class">(:</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">other</span></span></span><span class="hljs-class">) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">described_class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">suit</span></span></span><span class="hljs-class">: :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">clubs</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rank</span></span></span><span class="hljs-class">: 10 } </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">it</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">should</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">be</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eql</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">expect</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">card</span></span></span><span class="hljs-class">).</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">to</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">eq</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">other</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рдРрд╕рд╛ рдкрд░реАрдХреНрд╖рдг рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдкрддреЗ рдкрд░ рдЙрдирдХреА рддреБрд▓рдирд╛ рдХреА рдЬрд╛рдПрдЧреАред  рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ <em>рдореВрд▓реНрдп-рдорд╛рдиреЛрдВ рдХреА</em> рддреБрд▓рдирд╛ <em>рдореВрд▓реНрдп рд╕реЗ</em> рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо рдПрдХ рддреБрд▓рдирд╛ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВрдЧреЗ: </p><br><pre> <code class="ruby hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">==</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(other)</span></span></span></span> suit == other.suit &amp;&amp; rank == other.rank <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  рдЕрдм рд╣рдорд╛рд░рд╛ рдЯреЗрд╕реНрдЯ рдкрд╛рд╕ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред  рд╣рдо рдЙрди рддрд░реАрдХреЛрдВ рдХреЛ рднреА рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рддреБрд▓рдирд╛ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо 10 рдФрд░ K рдХреА рддреБрд▓рдирд╛ рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ?  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╢рд╛рдпрдж рдкрд╣рд▓реЗ рд╣реА рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рдЪреБрдХреЗ рд╣реИрдВ, рд╣рдо рдЙрдиреНрд╣реЗрдВ <em>рдореВрд▓реНрдп рд╡рд╕реНрддреБрдУрдВ</em> рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдкреНрд░рд╕реНрддреБрдд рдХрд░реЗрдВрдЧреЗред  рдареАрдХ рд╣реИ, рддреЛ рдЕрдм рд╣рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╢реАрд░реНрд╖ рджрд╕ рдХреНрд▓рдм рд╢реБрд░реВ рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ: </p><br><pre> <code class="ruby hljs">ten = Values::Rank.new(<span class="hljs-string"><span class="hljs-string">'10'</span></span>) clubs = Values::Suits.new(<span class="hljs-symbol"><span class="hljs-symbol">:clubs</span></span>) ten_clubs = Values::PlayingCards.new(<span class="hljs-symbol"><span class="hljs-symbol">rank:</span></span> ten, <span class="hljs-symbol"><span class="hljs-symbol">clubs:</span></span> clubs)</code> </pre> <br><p>  рдорд╛рдгрд┐рдХ рдХреЗ рд▓рд┐рдП рддреАрди рд▓рд╛рдЗрдиреЗрдВ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВред  рдЗрд╕ рд╕реАрдорд╛ рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо <em>рдСрдмреНрдЬреЗрдХреНрдЯ-рд╡реИрд▓реНрдпреВ</em> - рдЯрд░реНрдирдУрд╡рд░ рдХреА рддреАрд╕рд░реА рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдкреЗрд╢ рдХрд░рддреЗ рд╣реИрдВред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <code>.wrap</code> рд╡рд░реНрдЧ рдХреА рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдзрд┐ рд╣реИ, рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рд▓реЗ рд╕рдХрддреА рд╣реИ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рд╣реА рдореЗрдВ рдмрджрд▓ рд╕рдХрддреА рд╣реИред </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PlayingCard</span></span></span><span class="hljs-class"> &lt; Lunapark::Values::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Compound</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">obj</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">case</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">obj</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_a?</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#      PlayingCard obj #      case obj.is_a? Hash #    ,      new(obj) #    case obj.is_a String #    ,     new rank: obj[0..-2], suit:[-1] # ,  -  . else #       raise ArgumentError #  . end end def initialize(suit:, rank:) #     </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@suit</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = Suit.wrap(suit) #      </span></span><span class="hljs-doctag"><span class="hljs-class"><span class="hljs-comment"><span class="hljs-doctag">@rank</span></span></span></span><span class="hljs-class"><span class="hljs-comment"> = Rank.wrap(rank) end end</span></span></span></span></code> </pre> <br><p>  рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдПрдХ рдмрдбрд╝рд╛ рд▓рд╛рдн рджреЗрддрд╛ рд╣реИ: </p><br><pre> <code class="ruby hljs">ten = Values::Rank.new(<span class="hljs-string"><span class="hljs-string">'10'</span></span>) clubs = Values::Suits.new(<span class="hljs-symbol"><span class="hljs-symbol">:clubs</span></span>) from_values = Values::PlayingCard.wrap <span class="hljs-symbol"><span class="hljs-symbol">rank:</span></span> ten, <span class="hljs-symbol"><span class="hljs-symbol">suit:</span></span> clubs from_hash = Values::PlayingCard.wrap <span class="hljs-symbol"><span class="hljs-symbol">rank:</span></span> <span class="hljs-string"><span class="hljs-string">'10'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">suit:</span></span> <span class="hljs-symbol"><span class="hljs-symbol">:clubs</span></span> from_obj = Values::PlayingCard.wrap from_values from_str = Values::PlayingCard.wrap <span class="hljs-string"><span class="hljs-string">'10C'</span></span> <span class="hljs-comment"><span class="hljs-comment">#        utf ,  ,  .</span></span></code> </pre> <br><p>  рдпреЗ рд╕рднреА рдХрд╛рд░реНрдб рдПрдХ рджреВрд╕рд░реЗ рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдВрдЧреЗред  рдпрджрд┐ <code>wrap</code> рд╡рд┐рдзрд┐ рдЕрдЪреНрдЫреЗ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рдлреИрд▓рддреА рд╣реИ, рддреЛ рдЗрд╕реЗ рдПрдХ рдЕрд▓рдЧ рдХрдХреНрд╖рд╛ рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛ред  рд╣рдардзрд░реНрдорд┐рддрд╛ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдПрдХ рдЕрд▓рдЧ рд╡рд░реНрдЧ рднреА рдЕрдирд┐рд╡рд╛рд░реНрдп рд╣реЛрдЧрд╛ред <br>  рд╣рдореНрдо, рдбреЗрдХ рдореЗрдВ рдЬрдЧрд╣ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреНрдпрд╛?  рдХреИрд╕реЗ рдкрддрд╛ рдХрд░реЗрдВ рдХрд┐ рдпрд╣ рдХрд╛рд░реНрдб рдЯреНрд░рдореНрдк рдХрд╛рд░реНрдб рд╣реИ?  рдпрд╣ рдХреЛрдИ рдкреНрд▓реЗрдЗрдВрдЧ рдХрд╛рд░реНрдб рдирд╣реАрдВ рд╣реИред  рдпрд╣ рдкреНрд▓реЗрдЗрдВрдЧ рдХрд╛рд░реНрдб <em>рдХрд╛ рдореВрд▓реНрдп рд╣реИ</em> ред  рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рд╢рд┐рд▓рд╛рд▓реЗрдЦ 10 рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдХрд╛рд░реНрдбрдмреЛрд░реНрдб рдХреЗ рдХреЛрдиреЗ рдкрд░ рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВред <br>  <em>рдСрдмреНрдЬреЗрдХреНрдЯ-рд╡реИрд▓реНрдпреВ рдХреЗ</em> рд╕рд╛рде-рд╕рд╛рде рдЖрджрд┐рдо рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реЛрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЬреЛ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдорд╛рдгрд┐рдХ рдореЗрдВ рд▓рд╛рдЧреВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдпрд╣рд╛рдВ рд╕реЗ рдЕрдВрддрд┐рдо рд╕рдВрдкрддреНрддрд┐ рдЙрддреНрдкрдиреНрди рд╣реЛрддреА рд╣реИ - <em>рдСрдмреНрдЬреЗрдХреНрдЯ-рд╡реИрд▓реНрдпреВ</em> рдХрд┐рд╕реА рднреА рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рдмрд╛рдзреНрдп рдирд╣реАрдВ рд╣реИред </p><br><h2 id="rekomendacii">  рд╕рд┐рдлрд╛рд░рд┐рд╢реЗрдВ </h2><br><blockquote>  рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдХреНрд╖рдг рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рддрд░реАрдХреЛрдВ рдФрд░ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдкреВрд░реА рд╡рд┐рд╡рд┐рдзрддрд╛ рдХреЗ рдмреАрдЪ, рд╣рдореЗрд╢рд╛ рдПрдХ рд╡рд┐рдзрд┐ рдФрд░ рдЙрдкрдХрд░рдг рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рджреВрд╕рд░реЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рддреЗрдЬреА рд╕реЗ рдФрд░ рдмреЗрд╣рддрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдлреНрд░реЗрдбрд░рд┐рдХ рдЯреЗрд▓рд░</a> 1914 </blockquote><br><h5 id="arifmeticheskie-operacii-dolzhny-vozvraschat-novyy-obekt">  рдЕрдВрдХрдЧрдгрд┐рдд рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдПрдХ рдирдИ рд╡рд╕реНрддреБ рд╡рд╛рдкрд╕ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП </h5><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># GOOD class Money &lt; LunaPark::Values::Compound def +(other) other = self.class.wrap(other) raise ArgumentError unless same_currency? other self.class.new( amount: amount + other.amount, currency: currency ) end end</span></span></code> </pre> <br><h5 id="atributy-_obekta-znacheniya_-mogu-byt-tolko-primitivami-ili-drugimi-_obektami-znacheniya_">  <em>рдПрдХ рд╡реИрд▓реНрдпреВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ</em> рдЧреБрдг рдХреЗрд╡рд▓ рдкреНрд░рд╛рдЗрдореЗрдЯрд┐рд╡ рдпрд╛ рдЕрдиреНрдп <em>рд╡реИрд▓реНрдпреВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ</em> </h5><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># GOOD class Weight &lt; LunaPark::Values::Compound def intialize(value:, unit:) </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@value</span></span></span><span class="hljs-comment"> = value </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@unit</span></span></span><span class="hljs-comment"> = Unit.wrap(unit) end end # BAD class PlaingCard &lt; LunaPark::Value def initialize(rank:, suit:, deck:) ... </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@deck</span></span></span><span class="hljs-comment"> = Entity::Deck.wrap(deck) #    end end</span></span></code> </pre> <br><h5 id="prostye-operacii-derzhite-vnutri-metodov-klassa">  рдХрдХреНрд╖рд╛ рдХреЗ рддрд░реАрдХреЛрдВ рдХреЗ рдЕрдВрджрд░ рд╕рд░рд▓ рд╕рдВрдЪрд╛рд▓рди рд░рдЦреЗрдВ </h5><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># GOOD class Weight &lt; LunaPark::Values::Compound def &gt;(other) value &gt; other.convert_to(unit).value end end</span></span></code> </pre> <br><h5 id="esli-operaciya-konvertaciya-bolshaya-to-vozmozhno-est-smysl-vynesti-ee-v-otdelnyy-klass">  рдпрджрд┐ "рд░реВрдкрд╛рдВрддрд░рдг" рдСрдкрд░реЗрд╢рди рдмрдбрд╝рд╛ рд╣реИ, рддреЛ рд╢рд╛рдпрдж рдЗрд╕реЗ рдПрдХ рдЕрд▓рдЧ рд╡рд░реНрдЧ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ </h5><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># UGLY class Weight &lt; LunaPark::Values::Compound def convert_to(unit) unit = Unit.wrap(unit) case { self.unit.to_sym =&gt; unit.to_sym } when { :kg =&gt; :ft } Weight.new(value: 2.2046 * value, unit.to_sym) when # ... end end end # GOOD #./lib/values/weight/converter.rb class Weight class Converter &lt; LunaPark::Services::Simple def initialize(weight, to:) ... end end end #./lib/values/weight.rb class Weight &lt; LunaPark::Values::Compound def convert_to(unit) Converter.call! self, to: unit end end</span></span></code> </pre> <br><p>  рдПрдХ рдЕрд▓рдЧ <em>рд╕реЗрд╡рд╛</em> рдореЗрдВ рддрд░реНрдХ рдХреЛ рд╣рдЯрд╛рдирд╛ рдЗрд╕ рд╢рд░реНрдд рдкрд░ <strong>рд╣реА</strong> рд╕рдВрднрд╡ рд╣реИ рдХрд┐ <em>рд╕реЗрд╡рд╛</em> рдЕрд▓рдЧ-рдерд▓рдЧ рд╣реИ: рдпрд╣ рдХрд┐рд╕реА рднреА рдмрд╛рд╣рд░реА рд╕реНрд░реЛрддреЛрдВ рд╕реЗ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред  рдпрд╣ рд╕реЗрд╡рд╛ <em>рдореВрд▓реНрдп рд╡рд╕реНрддреБ</em> рдХреЗ рд╕рдВрджрд░реНрдн рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред </p><br><h5 id="obekt-znachenie-ne-mozhet-nichego-znat-o-domennoy-logike">  рдбреЛрдореЗрди рд▓реЙрдЬрд┐рдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╡реИрд▓реНрдпреВ рдХреБрдЫ рднреА рдирд╣реАрдВ рдЬрд╛рди рд╕рдХрддреА </h5><br><p>  рдорд╛рди рд▓реАрдЬрд┐рдП рд╣рдо рдПрдХ рдСрдирд▓рд╛рдЗрди рд╕реНрдЯреЛрд░ рд▓рд┐рдЦ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдорд╛рд▓ рдХреА рдПрдХ рд░реЗрдЯрд┐рдВрдЧ рд╣реИред  рдЗрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <em>рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЗ</em> рдорд╛рдзреНрдпрдо рд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЕрдиреБрд░реЛрдз рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред </p><br><pre> <code class="ruby hljs"><span class="hljs-comment"><span class="hljs-comment"># DEADLY BAD class Rate &lt; LunaPark::Values::Single def top?(10) Repository::Rates.top(first: 10).include? self end end</span></span></code> </pre> <br><h1 id="suschnost-entity">  рд╕рд╛рд░рд╛рдВрд╢ (рдЗрдХрд╛рдИ) </h1><br><p>  <em>рдЗрдХрд╛рдИ</em> рд╡рд░реНрдЧ рдХрд┐рд╕реА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рдПрдХ рдЕрдиреБрдмрдВрдз, рдПрдХ рдХреБрд░реНрд╕реА, рдПрдХ рд░рд┐рдпрд▓ рдПрд╕реНрдЯреЗрдЯ рдПрдЬреЗрдВрдЯ, рдПрдХ рдкрд╛рдИ, рдПрдХ рд▓реЛрд╣рд╛, рдПрдХ рдмрд┐рд▓реНрд▓реА, рдПрдХ рд░реЗрдлреНрд░рд┐рдЬрд░реЗрдЯрд░ - рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдХреЛрдИ рднреА рд╡рд╕реНрддреБ рдЬрд┐рд╕реЗ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рд╡реНрдпрд╛рдкрд╛рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдореЙрдбрд▓ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рд╡рд╣ <em>рдЗрдХрд╛рдИ рд╣реИ</em> ред <br>  <em>рдПрдВрдЯрд┐рдЯреА</em> рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдЗрд╡рд╛рдВрд╕ рдХреЗ рд▓рд┐рдП рдФрд░ рдорд╛рд░реНрдЯрд┐рди рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рд╣реИред  рдЗрд╡рд╛рдВрд╕ рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, рдПрдХ рдЗрдХрд╛рдИ рдПрдХ рдРрд╕реА рд╡рд╕реНрддреБ рд╣реИ рдЬреЛ рдХрд┐рд╕реА рдРрд╕реА рдЪреАрдЬ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ рдЬреЛ рдЙрд╕рдХреЗ рд╡реНрдпрдХреНрддрд┐рддреНрд╡ рдкрд░ рдЬреЛрд░ рджреЗрддреА рд╣реИред </p><br><div class="spoiler">  <b class="spoiler_title">Zvans рджреНрд╡рд╛рд░рд╛ рд╕рд╛рд░</b> <div class="spoiler_text"><blockquote>  рдпрджрд┐ рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЕрд╕реНрддрд┐рддреНрд╡ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рдПрдХ рд╕реЗрдЯ рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ, рддреЛ рдХрд┐рд╕реА рдореЙрдбрд▓ рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддреЗ рд╕рдордп рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдореБрдЦреНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдкрдврд╝рд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╡рд░реНрдЧ рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рд╕рд░рд▓ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рд╡рд╕реНрддреБ рдХреЗ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреЗ рдЪрдХреНрд░ рдХреА рдирд┐рд░рдВрддрд░рддрд╛ рдФрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛ рдХреЗ рдЖрд╕рдкрд╛рд╕ рдирд┐рд░реНрдорд┐рдд рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рдЕрдкрдиреЗ рдЖрдХрд╛рд░ рдпрд╛ рдЕрд╕реНрддрд┐рддреНрд╡ рдХреЗ рдЗрддрд┐рд╣рд╛рд╕ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛ рдкреНрд░рддреНрдпреЗрдХ рд╡рд╕реНрддреБ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рдЦреЛрдЬреЗрдВред  рдЙрдирдХреА рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╡рд╕реНрддреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рд╕реЗ рдЬреБрдбрд╝реА рддрдХрдиреАрдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдкрд░ рд╡рд┐рд╢реЗрд╖ рдзреНрдпрд╛рди рджреЗрдВред  рдПрдХ рдРрд╕реЗ рдСрдкрд░реЗрд╢рди рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ рдЬреЛ рдЬрд░реВрд░реА рд░реВрдк рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдРрд╕реА рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдиреВрдард╛ рдкрд░рд┐рдгрд╛рдо рджреЗрдЧрд╛ - рдЗрд╕рдХреЗ рд▓рд┐рдП рдирд┐рд╢реНрдЪрд┐рдд рд╡рд┐рд╢рд┐рд╖реНрдЯрддрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдкреНрд░рддреАрдХ рдХреЛ рдЬреЛрдбрд╝рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдкрд╣рдЪрд╛рди рдХреЗ рдРрд╕реЗ рд╕рд╛рдзрдиреЛрдВ рдХреА рдПрдХ рдмрд╛рд╣рд░реА рдЙрддреНрдкрддреНрддрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЕрдкрдиреА рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рдгрд╛рд▓реА рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рдПрдХ рдордирдорд╛рдирд╛ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рддрд░рд╣ рдХреЗ рдЙрдкрдХрд░рдг рдХреЛ рдореЙрдбрд▓ рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдореЛрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдореЙрдбрд▓ рдХреЛ рдПрдХ рд╕рдЯреАрдХ рдкрд░рд┐рднрд╛рд╖рд╛ рджреЗрдиреА рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╕рдорд╛рди рд╡рд╕реНрддреБрдПрдВ рдХреНрдпрд╛ рд╣реИрдВред </blockquote></div></div><br><p>  рдорд╛рд░реНрдЯрд┐рди рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ, <em>рдПрдВрдЯрд┐рдЯреА</em> рдПрдХ рд╡рд╕реНрддреБ рдирд╣реАрдВ рд╣реИ, рдмрд▓реНрдХрд┐ рдПрдХ рдкрд░рдд рд╣реИред  рдпрд╣ рдкрд░рдд рд╡рд╕реНрддреБ рдФрд░ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ рджреЛрдиреЛрдВ рдХреЛ рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░реЗрдЧреАред </p><br><div class="spoiler">  <b class="spoiler_title">рдорд╛рд░реНрдЯрд┐рди рд╕реЗ рд╕рд╛рдВрддреНрд╡рдирд╛</b> <div class="spoiler_text"><blockquote>  рдПрдВрдЯрд┐рдЯреАрдЬ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореЗрд░рд╛ рд╡рд┐рдЪрд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ рдЗрдирдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдВрдбрд┐рдкреЗрдВрдбреЗрдВрдЯ рдмрд┐рдЬрдиреЗрд╕ рдирд┐рдпрдо рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рд╡реЗ рдХреЗрд╡рд▓ рдбреЗрдЯрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рд╣реИрдВред  рд╡реЗ рдбреЗрдЯрд╛ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рдВрджрд░реНрдн рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ;  рд▓реЗрдХрд┐рди рдЙрдирдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдирд┐рдпрдо рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╣реИ рдЬреЛ рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЧреЗрдЯрд╡реЗ рдПрдВрдЯреНрд░реАрдЬ рд▓реМрдЯрд╛рддреЗ рд╣реИрдВред  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди (рд▓рд╛рдЗрди рдХреЗ рдиреАрдЪреЗ) рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдХрд░рддрд╛ рд╣реИ рдЬреЛ рддрдм рдПрдВрдЯрд┐рдЯреАрдЬ рдХреЛ рдкрд╛рд╕ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдпрд╣ рдпрд╛ рддреЛ рд░реЛрдХрдерд╛рдо рдпрд╛ рд╡рдВрд╢рд╛рдиреБрдХреНрд░рдо рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: <br><br>  рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд░реНрдЧ MyEntity {рдирд┐рдЬреА MyDataStructure рдбреЗрдЯрд╛ ;; <br><br>  рдпрд╛ <br><br>  рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд░реНрдЧ MyEntity MyDataStructure {...} рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИ <br><br>  рдФрд░ рдпрд╛рдж рд░рдЦрдирд╛, рд╣рдо рд╕рднреА рд╕реНрд╡рднрд╛рд╡ рд╕реЗ рд╕рдореБрджреНрд░реА рдбрд╛рдХреВ рд╣реИрдВ;  рдФрд░ рдореИрдВ рдпрд╣рд╛рдВ рдЬрд┐рди рдирд┐рдпрдореЛрдВ рдХреА рдмрд╛рдд рдХрд░ рд░рд╣рд╛ рд╣реВрдВ, рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рджрд┐рд╢рд╛рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреА рддрд░рд╣ рд╣реИрдВ ... </blockquote></div></div><br><p>  <em>рд╕рд╛рд░ рд╕реЗ</em> рд╣рдорд╛рд░рд╛ рдорддрд▓рдм рдХреЗрд╡рд▓ рд╕рдВрд░рдЪрдирд╛ рд╕реЗ рд╣реЛрдЧрд╛ред  рдЕрдкрдиреЗ рд╕рд░рд▓рддрдо рд░реВрдк рдореЗрдВ, <em>рдЗрдХрд╛рдИ</em> рд╡рд░реНрдЧ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entities</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeatBag</span></span></span><span class="hljs-class"> &lt; LunaPark::Entities::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hegiht</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">weight</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">birthday</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рдПрдХ рдкрд░рд┐рд╡рд░реНрддрдирд╢реАрд▓ рд╡рд╕реНрддреБ рдЬреЛ рдПрдХ рд╡реНрдпрд╡рд╕рд╛рдп рдореЙрдбрд▓ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреА рд╣реИ, рдЗрд╕рдореЗрдВ рдЖрджрд┐рдо рдкреНрд░рдХрд╛рд░ рдФрд░ <em>рдореВрд▓реНрдп</em> рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br>  <code>LunaPark::Entites::Simple</code> рд╡рд░реНрдЧ рдЕрд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд░реВрдк рд╕реЗ рд╕рд░рд▓ рд╣реИ, рдЖрдк рдЗрд╕рдХрд╛ рдХреЛрдб рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╣ рд╣рдореЗрдВ рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рджреЗрддрд╛ рд╣реИ - рдЖрд╕рд╛рди рдЖрд░рдВрднреАрдХрд░рдгред </p><br><div class="spoiler">  <b class="spoiler_title">LunaPark :: рд╕рдВрдкреВрд░реНрдг :: рд╕рд░рд▓</b> <div class="spoiler_text"><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LunaPark</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entities</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">initialize</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">params</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_attributes</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">params</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">set_attributes</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hash</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">hash</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">each</span></span></span><span class="hljs-class"> { |</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">k</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">v</span></span></span><span class="hljs-class">| </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">send</span></span></span><span class="hljs-class">(:"</span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment">#{k}=", v) } end end end end</span></span></span></span></code> </pre> </div></div><br><p>  рдЖрдк рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="ruby hljs">john_doe = Entity::MeatBag.new( <span class="hljs-symbol"><span class="hljs-symbol">id:</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">name:</span></span> <span class="hljs-string"><span class="hljs-string">'John Doe'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">height:</span></span> <span class="hljs-string"><span class="hljs-string">'180cm'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">weight:</span></span> <span class="hljs-string"><span class="hljs-string">'80kg'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">birthday:</span></span> <span class="hljs-string"><span class="hljs-string">'01-01-1970'</span></span> )</code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рд╢рд╛рдпрдж рдкрд╣рд▓реЗ рд╣реА рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рдЪреБрдХреЗ рд╣реИрдВ, рд╣рдо <em>рдореВрд▓реНрдп рд╡рд╕реНрддреБрдУрдВ</em> рдореЗрдВ рд╡рдЬрди, рдКрдВрдЪрд╛рдИ рдФрд░ рдЬрдиреНрдо рдХреА рддрд╛рд░реАрдЦ рдХреЛ рд▓рдкреЗрдЯрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entities</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeatBag</span></span></span><span class="hljs-class"> &lt; LunaPark::Entites::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Simple</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_reader</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">heiht</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wight</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">birthday</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class">=(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values::Height</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">weight</span></span></span><span class="hljs-class">=(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">height</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values::Weight</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">weight</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">birthday</span></span></span><span class="hljs-class">=(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">day</span></span></span><span class="hljs-class">) @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">birthday</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Date</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parse</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">day</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рдРрд╕реЗ рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛рдУрдВ рдкрд░ рд╕рдордп рдмрд░реНрдмрд╛рдж рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдордиреЗ <a href=""><code>LunaPark::Entites::Nested</code></a> <em>рдХрд╛</em> рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ <em>рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</em> рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рд╣реИ: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entities</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MeatBag</span></span></span><span class="hljs-class"> &lt; LunaPark::Entities::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">heiht</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values::Height</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">weight</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values::Weight</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">birthday</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Values::Date</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parse</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдирд╛рдо рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ, рдпрд╣ <em>рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</em> рдЖрдкрдХреЛ рд╡реГрдХреНрд╖ рд╕рдВрд░рдЪрдирд╛рдПрдВ рдмрдирд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><p>  рдЪрд▓реЛ рднрд╛рд░реА рдШрд░реЗрд▓реВ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рдЬреБрдиреВрди рдХреЛ рд╕рдВрддреБрд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рдореЗрдВ, рд╣рдордиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╡рд╛рд╢рд┐рдВрдЧ рдорд╢реАрди рдФрд░ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</a> рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдЯреНрд╡рд┐рд╕реНрдЯ" рдХреЗ</a> рдмреАрдЪ рдПрдХ рд╕рд╛рджреГрд╢реНрдп рдмрдирд╛рдпрд╛ред  рдФрд░ рдЕрдм рд╣рдо рдПрдХ рд░реЗрдлреНрд░рд┐рдЬрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рд╡рд╕реНрддреБ рдХрд╛ рд╡рд░реНрдгрди рдХрд░реЗрдВрдЧреЗ: </p><br><p><img src="https://habrastorage.org/webt/xl/65/pj/xl65pjsr5ou5a4nurhdm9qxbo50.png" alt="refregerator"></p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Refregerator</span></span></span><span class="hljs-class"> &lt; LunaPark::Entites::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">brand</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">title</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fridge</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">door</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">upper</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lower</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">upper</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lower</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">main</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">door</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">first</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">second</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">third</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">namespace</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">boxes</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Box</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Box</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">first</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">second</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">third</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fourth</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Shelf</span></span></span><span class="hljs-class">, :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">wrap</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">last_open_at</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comparable</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">false</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╣рдореЗрдВ рдЕрдирд╛рд╡рд╢реНрдпрдХ <em>рд╕рдВрд╕реНрдерд╛рдУрдВ</em> рдХреЛ рдмрдирд╛рдиреЗ рд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рд░реЗрдлреНрд░рд┐рдЬрд░реЗрдЯрд░ рдХрд╛ рджрд░рд╡рд╛рдЬрд╛ред  рдПрдХ рд░реЗрдлреНрд░рд┐рдЬрд░реЗрдЯрд░ рдХреЗ рдмрд┐рдирд╛, рдпрд╣ рд░реЗрдлреНрд░рд┐рдЬрд░реЗрдЯрд░ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдмрдбрд╝реЗ рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЗ рд╕рдВрдХрд▓рди рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмреАрдорд╛ рдХреА рдЦрд░реАрдж рдХреЗ рд▓рд┐рдП рдПрдХ рдЖрд╡реЗрджрдиред </p><br><p>  <code>LunaPark::Entites::Nested</code> рдХреНрд▓рд╛рд╕ рдореЗрдВ 2 рдФрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЧреБрдг рд╣реИрдВ: </p><br><p>  рддреБрд▓рдиреАрдпрддрд╛: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entites</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> &lt; LunaPark::Entites::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">registred_at</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">u1</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entites::User</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class">: '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">john</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">doe</span></span></span><span class="hljs-class">@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mail</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">com</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">registred_at</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Time</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">u2</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entites::User</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class">: '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">john</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">doe</span></span></span><span class="hljs-class">@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">mail</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">com</span></span></span><span class="hljs-class">', </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">registred_at</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Time</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">now</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">u1</span></span></span><span class="hljs-class"> == </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">u2</span></span></span><span class="hljs-class"> </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># =&gt; false</span></span></span></span></code> </pre> <br><p>  рджреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдорддреБрд▓реНрдп рдирд╣реАрдВ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐  рд╡реЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╕рдордп рдкрд░ рдмрдирд╛рдП рдЧрдП рдереЗ рдФрд░ рдЗрд╕рд▓рд┐рдП <code>registred_at</code> рд╡рд┐рд╢реЗрд╖рддрд╛ рдХрд╛ рдореВрд▓реНрдп рдЕрд▓рдЧ рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рддреБрд▓рдирд╛ рдХреА рд╕реВрдЪреА рд╕реЗ рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЛ рдкрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Entites</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> &lt; LunaPark::Entites::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Nested</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">email</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr</span></span></span><span class="hljs-class"> :</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">registred_at</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">comparable</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">false</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  рддрдм рд╣рдореЗрдВ рджреЛ рддреБрд▓рдиреАрдп рд╡рд╕реНрддреБрдПрдВ рдорд┐рд▓рддреА рд╣реИрдВред </p><br><p>  рдЗрд╕ <em>рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</em> рдореЗрдВ рдЯрд░реНрдирдУрд╡рд░ рдХреА рд╕рдВрдкрддреНрддрд┐ рднреА рд╣реИ - рд╣рдо рд╡рд░реНрдЧ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="ruby hljs">Entites::User.wrap(<span class="hljs-symbol"><span class="hljs-symbol">email:</span></span> <span class="hljs-string"><span class="hljs-string">'john.doe@mail.com'</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">registred_at:</span></span> Time.now)</code> </pre> <br><p>  рдЖрдк рдПрдХ <em>рдЗрдХрд╛рдИ рдХреЗ</em> рд░реВрдк рдореЗрдВ рд╣реИрд╢, рдУрдкрдирд╕реНрдЯреНрд░рдХреНрдЯ рдпрд╛ рдХрд┐рд╕реА рднреА рдордгрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдкрдХреЛ рдЕрдкрдиреА рдЗрдХрд╛рдИ рдХреА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдПрд╣рд╕рд╛рд╕ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ред </p><br><p>  <em>рдПрдХ рдЗрдХрд╛рдИ</em> рдПрдХ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╡рд╕реНрддреБ рдХрд╛ рдПрдХ рдореЙрдбрд▓ рд╣реИ, рдЗрд╕реЗ рд╕рд░рд▓ рдЫреЛрдбрд╝ рджреЗрдВред  рдпрджрд┐ рдЖрдкрдХреЗ рд╡реНрдпрд╡рд╕рд╛рдп рджреНрд╡рд╛рд░рд╛ рдХреБрдЫ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рд╡рд░реНрдгрди рди рдХрд░реЗрдВред </p><br><h1 id="izmeneniya-suschnosti">  рдЗрдХрд╛рдИ рдкрд░рд┐рд╡рд░реНрддрди </h1><br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдкрдиреЗ рджреЗрдЦрд╛, <em>рдПрдВрдЯрд┐рдЯреА</em> рд╡рд░реНрдЧ рдХреЗ рдкрд╛рд╕ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдХреЛрдИ рддрд░реАрдХрд╛ рдирд╣реАрдВ рд╣реИред  рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрди рдмрд╛рд╣рд░ рд╕реЗ рдХрд┐рдП рдЧрдП рд╣реИрдВред  <em>рдорд╛рди рдСрдмреНрдЬреЗрдХреНрдЯ</em> рднреА рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╣реИред  рд╡реЗ рд╕рднреА рдХрд╛рд░реНрдп рдЬреЛ рдЗрд╕рдореЗрдВ рдореМрдЬреВрдж рд╣реИрдВ, рджреНрд╡рд╛рд░рд╛ рдФрд░ рдмрдбрд╝реЗ, рд╕рд╛рд░ рдХреЛ рд╕рдЬрд╛рдиреЗ рдпрд╛ рдирдИ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рд╕рд╛рд░ рд╣реА рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рд╣рддрд╛ рд╣реИред  рд░реЗрд▓ рдбреЗрд╡рд▓рдкрд░ рдкрд░ рдПрдХ рд░реВрдмреА рдХреЗ рд▓рд┐рдП, рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЕрд╕рд╛рдорд╛рдиреНрдп рд╣реЛрдЧрд╛ред  рдмрд╛рд╣рд░ рд╕реЗ рдпрд╣ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╣рдо рдЖрдорддреМрд░ рдкрд░ OOP рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рд╕реА рдФрд░ рдЪреАрдЬрд╝ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдереЛрдбрд╝рд╛ рдЧрд╣рд░реЗ рджреЗрдЦреЗрдВ - рддреЛ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИред  рдХреНрдпрд╛ рдПрдХ рдЦрд┐рдбрд╝рдХреА рдЕрдкрдиреЗ рдЖрдк рдЦреБрд▓ рд╕рдХрддреА рд╣реИ?  рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдПрдХ рд╣реЛрдЯрд▓ рдмреБрдХ рдХрд░реЗрдВ, рдкреНрдпрд╛рд░реА рдмрд┐рд▓реНрд▓реА рдХреЛ рдПрдХ рдирдпрд╛ рдЧреНрд░рд╛рд╣рдХ рдорд┐рд▓ рдЬрд╛рдП?  рдпреЗ рд╕рднреА рдмрд╛рд╣рд░реА рдкреНрд░рднрд╛рд╡ рд╣реИрдВред  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдореЗрдВ рдХреБрдЫ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рд╣рдо рдЕрдкрдиреЗ рдЖрдк рдореЗрдВ рдЗрд╕реЗ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВред  рдкреНрд░рддреНрдпреЗрдХ рдЕрдиреБрд░реЛрдз рдХреЗ рд▓рд┐рдП, рд╣рдо рдЕрдкрдиреЗ рдореЙрдбрд▓ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣рдо рдЗрд╕реЗ рдЕрдкрдиреЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд░реВрдк рд╕реЗ рдЕрджреНрдпрддрд┐рдд рд░рдЦрддреЗ рд╣реИрдВред  рдореЙрдбрд▓ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рдЗрд╕ рд░рд╛рдЬреНрдп рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд╛ рдХрд╛рд░рдг рдмрдирдиреЗ рд╡рд╛рд▓реА рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдЕрд▓рдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдРрд╕рд╛ рдХреИрд╕реЗ рдХрд░реЗрдВ, рд╣рдо рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi435920/">https://habr.com/ru/post/hi435920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi435908/index.html">рдПрд╕реИрд╕реЗрдЯрд┐рдХ рд╡реЗрдм: рдЧреЛ рдФрд░ рдЬреЗрдПрд╕ рдкрд░ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдкрд┐рд╕реНрд╕реВ рдмрд╛рдЬрд╛рд░</a></li>
<li><a href="../hi435910/index.html">рдЬреАрдПрдирдпреВ / рд▓рд┐рдирдХреНрд╕ рдХреЗ рд╕рд╛рде рдмреАрдПрд╕рдбреА рдиреЗ рд▓рдбрд╝рд╛рдИ рдХреНрдпреЛрдВ рдЦреЛ рджреА?</a></li>
<li><a href="../hi435912/index.html">рдЖрдзреБрдирд┐рдХ рдЗрдВрдЯрд░рдлреЗрд╕ рд╡рд┐рдХрд╕рд┐рдд рдХрд░рдиреЗ рдХреА рдореБрдЦреНрдп рд╕рдорд╕реНрдпрд╛рдПрдВ</a></li>
<li><a href="../hi435914/index.html">ASP.NET рдХреЛрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдбреЙрдХрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреИрдХ рдХрд░рдирд╛</a></li>
<li><a href="../hi435916/index.html">рд╣реИрдХрд┐рдВрдЧ рд╡реАрдХреЗ, рдЯреВ-рдлреИрдХреНрдЯрд░ рдСрдереЗрдВрдЯрд┐рдХреЗрд╢рди рд╕реЗрд╡ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛</a></li>
<li><a href="../hi435922/index.html">рдЬрд╛рд╡рд╛, рд╕реНрдкреНрд░рд┐рдВрдЧ, рдХреБрд░реЗрдВрдЯреЛ рдФрд░ рдореАрдбрд┐рдпрд╛ рд╕реЗрд╡рд╛рдПрдВред рднрд╛рдЧ реи</a></li>
<li><a href="../hi435924/index.html">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЙрдирдХреА рддреИрдпрд╛рд░реА рдХреЗ рд▓рд┐рдП рд╡реНрдпрдВрдЬрдиреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╡реНрдпрдВрдЬрдиреЛрдВ рдХреА рдЫрд╡рд┐рдпрд╛рдВ рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi435926/index.html">рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдкреБрд░рд╛рддрд╛рддреНрд╡рд┐рдХ рдЦреЛрдЬ рдХреЗ рдЯреБрдХрдбрд╝реЗ рдПрдХрддреНрд░ рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi435928/index.html">рдмреНрд░реВрд╕ рд╡рд┐рд▓рд┐рд╕ рдХреЗ рдмрдЬрд╛рдп рдлреНрд░рд┐рдЬ: рдкреГрдереНрд╡реА рдкрд╣рд▓реЗ рд╣рд┐рдЯ</a></li>
<li><a href="../hi435930/index.html">рдерд░реНрдореЛрдХреИрд╕реНрдЯрд┐рдХреНрд╕ рдХреА рдЙрддреНрдкрддреНрддрд┐ред рд╣рд┐рдЧрд┐рдВрд╕ рдХреА рдЧрд╛рдпрди рд▓реМред рд░рд┐рдЬрдХреЗ рдЯреНрдпреВрдм</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>