<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüî¨ üíè üë©‚Äç‚ù§Ô∏è‚Äçüë® Lua em Moscou 2019: entrevista com Roberto Jerusalem üß§ üëµüèΩ üë®üèø‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° algum tempo, Roberto de Jerusal√©m, autor da l√≠ngua Lua, visitou nosso escrit√≥rio em Moscou. N√≥s o entrevistamos, durante o qual fizemos perguntas a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lua em Moscou 2019: entrevista com Roberto Jerusalem</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/459464/"><img src="https://habrastorage.org/getpro/habr/post_images/2e2/088/efd/2e2088efd08efa95d7b7d335d3d59696.jpg"><br><br>  H√° algum tempo, Roberto de Jerusal√©m, autor da l√≠ngua Lua, visitou nosso escrit√≥rio em Moscou.  N√≥s o entrevistamos, durante o qual fizemos perguntas aos leitores da Habr.  Por fim, podemos compartilhar com voc√™ toda a grava√ß√£o da conversa. <br><a name="habracut"></a><br>  <b>- Vamos filosofar para come√ßar.</b>  <b>Se voc√™ fosse construir Lua novamente do zero, que tr√™s coisas voc√™ mudaria nesse idioma?</b> <br><br>  Uau!  Pergunta dif√≠cil.  H√° toda uma hist√≥ria por tr√°s da cria√ß√£o e desenvolvimento da linguagem.  Esta n√£o foi uma grande decis√£o.  Houve decis√µes das quais me arrependi e que ao longo dos anos fui capaz de corrigir.  E os programadores reclamam disso o tempo todo porque a compatibilidade est√° quebrada.  Fizemos isso v√°rias vezes.  E penso apenas em algumas pequenas tarefas. <br><br>  <b>- Padr√µes globais (Global por padr√£o)?</b>  <b>Voc√™ acha que esse √© o caminho certo?</b> <br><br>  Talvez.  Mas esse caminho √© muito dif√≠cil para linguagens din√¢micas.  Talvez voc√™ deva abandonar completamente o conceito de "padr√£o", mas ser√° dif√≠cil usar vari√°veis. <br>  Por exemplo, voc√™ precisa declarar de alguma forma todas as bibliotecas padr√£o.  Voc√™ precisa de <code>one-liner</code> , <code>print(sin(x))</code> e depois declarar "print" e outro "sin".  √â estranho ter an√∫ncios para scripts t√£o curtos. <br><br>  Qualquer coisa maior n√£o deve ter nada por padr√£o, como me parece.  Local por padr√£o n√£o √© uma solu√ß√£o, nem sequer existe.  √â apenas para atribui√ß√£o, n√£o para uso.  Atribu√≠mos algo, usamos e atribu√≠mos novamente, e ocorre um erro completamente inexplic√°vel. <br><br>  Talvez a globalidade padr√£o n√£o seja perfeita, mas a localidade padr√£o definitivamente n√£o √© uma op√ß√£o.  Eu acho que algum tipo de an√∫ncio, talvez opcional ... Pretendemos muitas vezes fazer algum tipo de an√∫ncio global.  Mas se apresentarmos cegamente tudo o que for solicitado, nada de bom resultar√° disso. <br><br>  (sarcasticamente) Sim, vamos apresentar um an√∫ncio global, acrescentar que, sho, quinto, d√©cimo, retirar outro e, como resultado, percebemos que a solu√ß√£o final n√£o satisfaz a maioria dos programadores e n√£o adicionaremos todos os recursos solicitados e, portanto, n√≥s n√£o implementamos nada.  Afinal, o modo estrito √© um compromisso razo√°vel. <br><br>  H√° um problema: na maioria das vezes usamos, por exemplo, os campos dentro dos m√≥dulos e, novamente, voc√™ tem os mesmos problemas.  Este √© apenas um caso muito espec√≠fico de erros, que provavelmente deve ser levado em considera√ß√£o na solu√ß√£o geral.  Portanto, se voc√™ realmente precisar, √© melhor usar uma linguagem de tipo estaticamente. <br><br>  <b>- A globalidade padr√£o ainda √© conveniente para pequenos arquivos de configura√ß√£o.</b> <br><br>  "Sim, √© verdade, para pequenos scripts e afins." <br><br>  <b>- E sem compromissos neste caso?</b> <br><br>  - Sempre h√° compromissos.  Nesse caso, um compromisso entre pequenos scripts e programas reais, algo assim. <br><br>  <b>- E aqui voltamos √† primeira grande quest√£o: que tr√™s coisas voc√™ mudaria se houvesse essa oportunidade?</b>  <b>Parece-me que voc√™ est√° muito feliz com o estado atual das coisas, certo?</b> <br><br>  - Bem, eu n√£o diria que √© uma grande mudan√ßa, e ainda ... Uma das decis√µes malsucedidas que se tornaram uma grande mudan√ßa √© nula nas tabelas.  Me desculpe por isso.  Eu fiz esse truque ... Voc√™ sabe do que estou falando?  H√° meio ano ou um ano, lancei uma vers√£o de Lua na qual n√£o havia tabelas. <br><br>  <b>- Valores nulos?</b> <br><br>  Exatamente.  Eu acho que isso √© chamado nulo nas tabelas - ou seja, nulo.  Fizemos um truque gramatical para garantir a compatibilidade. <br><br>  <b>- Por que √© necess√°rio?</b> <br><br>  "Estou realmente convencido de que esse √© o problema todo ... acho que a maioria dos problemas com zero nas matrizes desapareceria se pud√©ssemos ter [zero nas tabelas] ... Mais precisamente, o problema n√£o √© com zero nas matrizes".  Eles me dizem que matrizes n√£o podem ter nulo, portanto, as matrizes devem ser separadas das tabelas.  O verdadeiro problema √© que n√£o podemos manter nada nas tabelas!  Portanto, o problema n√£o √© como representamos matrizes, mas em tabelas.  Se pud√©ssemos ter nada nas tabelas, ter√≠amos nada nas matrizes sem todo o resto.  Ent√£o, sinto muito por isso, e muitas pessoas n√£o entendem como as coisas poderiam ter mudado se Lua permitisse que nada fosse colocado nas tabelas. <br><br>  <b>- Posso contar uma hist√≥ria sobre Tarantool?</b>  <b>Temos nossa pr√≥pria implementa√ß√£o de null, que √© um CDATA para um ponteiro nulo.</b>  <b>N√≥s o usamos nos casos em que voc√™ precisa criar fragmentos vazios em sua mem√≥ria para inserir argumentos de posicionamento para chamadas remotas e assim por diante.</b>  <b>Mas geralmente isso √© um problema porque CDATA √© sempre convertido em true.</b>  <b>E nada em matrizes resolveria muitos problemas.</b> <br><br>  Sim eu sei.  √â disso que estou falando - resolveria muitos problemas para muitos, mas isso leva a um problema de compatibilidade ainda maior.  N√£o temos coragem de lan√ßar uma vers√£o que seja t√£o incompat√≠vel e, em seguida, destruir a comunidade e lan√ßar outra documenta√ß√£o para Lua 5, Lua 6, etc.  Mas talvez um dia lan√ßaremos essa vers√£o.  Essas seriam mudan√ßas muito grandes.  Acredito que isso deveria ter sido feito desde o in√≠cio, e ent√£o ter√≠amos conversado sobre uma mudan√ßa trivial no idioma, exceto pela compatibilidade.  E hoje vai quebrar muitos programas. <br><br>  <b>- Quais s√£o as defici√™ncias que voc√™ v√™ al√©m do problema de compatibilidade?</b> <br><br>  - Duas novas fun√ß√µes primitivas ser√£o necess√°rias.  Algo como a "tecla Delete", porque a atribui√ß√£o de zero n√£o excluir√° a chave, portanto, voc√™ precisar√° de uma opera√ß√£o primitiva para realmente remov√™-la da tabela.  E voc√™ precisar√° de um "teste" para verificar exatamente onde h√° uma diferen√ßa entre zero e falta de dados. <br><br>  <b>- Voc√™ analisou o impacto dessas inova√ß√µes em implementa√ß√µes pr√°ticas?</b> <br><br>  - Sim, lan√ßamos uma vers√£o do Lua.  Como eu disse, isso silenciosamente quebrou o c√≥digo.  Alguns usam a chamada de fun√ß√£o <code>table.insert(f(x))</code> .  E intencionalmente feito para que, se a fun√ß√£o n√£o quiser inserir nada, ela retorne nulo.  Ent√£o, em vez de uma verifica√ß√£o separada, "Quero incorporar?"  Chamo <code>table.insert</code> e, se ficar nulo, sei que ele n√£o ser√° inserido.  Como em qualquer outro idioma, o bug se transformou em um recurso e as pessoas o usam.  Mas se voc√™ alterar o recurso, ele quebrar√° o c√≥digo. <br><br>  <b>- E o tipo de vazio?</b>  <b>Como nada, apenas vazio?</b> <br><br>  "Bem, n√£o, √© um pesadelo."  Voc√™ apenas adia a solu√ß√£o do problema.  Se voc√™ inserir uma "muleta", precisar√° de mais uma e mais e mais.  Esta n√£o √© uma solu√ß√£o.  Um dos problemas √© que nada j√° se enraizou em muitos lugares do idioma.  Aqui est√° um exemplo t√≠pico: dizemos "evite nada em matrizes, ou seja, buracos".  E ent√£o escrevemos uma fun√ß√£o que retorna nada e nada depois dela, e obtemos um c√≥digo de erro.  Essa constru√ß√£o j√° implica o que √© nulo ... Por exemplo, se eu quiser fazer uma lista dos resultados retornados pela fun√ß√£o, apenas para capturar todos eles. <br><br>  <b>- Para isso voc√™ tem um hack :)</b> <br><br>  "Isso mesmo, mas voc√™ n√£o precisa usar hacks para resolver tarefas t√£o simples e √≥bvias".  No entanto, as bibliotecas fazem isso ... De alguma forma, pensei nisso: talvez as bibliotecas retornem false em vez de nulo, embora essa seja uma op√ß√£o grosseira, ela resolver√° apenas uma pequena parte do problema.  O verdadeiro problema, como eu disse, √© que precisamos ter nada nas tabelas.  Caso contr√°rio, n√£o devemos usar nada com a frequ√™ncia que penso.  Em geral, n√£o est√° claro.  Portanto, se voc√™ criou nulo, essas fun√ß√µes ainda retornam nulo, e n√£o resolveremos o problema at√© criarmos um novo tipo e as fun√ß√µes retornam nulo em vez de nulo. <br><br>  <b>- Usando void, voc√™ pode dizer explicitamente que a chave deve ser armazenada na tabela, a chave com o valor void.</b>  <b>E nada pode funcionar como antes.</b> <br><br>  "Sim, √© isso que eu quero dizer."  Todas essas fun√ß√µes nas bibliotecas devem retornar nulas ou nulas. <br><br>  <b>"Eles tamb√©m podem retornar nulo, por que n√£o?"</b> <br><br>  - Porque, em alguns casos, n√£o resolveremos o problema da impossibilidade de capturar todos os valores que a fun√ß√£o retorna. <br><br>  <b>"Mas n√£o teremos a primeira chave, apenas a segunda."</b> <br><br>  - N√£o, n√£o haver√° segundo, porque o c√°lculo ser√° realizado incorretamente e um furo aparecer√° na matriz. <br><br>  <b>- Ent√£o voc√™ quer dizer que precisa de um metam√©todo falso?</b> <br><br>  Sim.  Eu sonho com isso: <br><br> <code>{f(x)}</code> <br> <br>  Voc√™ precisa interceptar todos os resultados retornados por <code>f(x)</code> .  E ent√£o eu posso dizer <code>%x</code> ou # <code>%x</code> , e dessa maneira eu sei o n√∫mero de resultados retornados.  √â assim que uma linguagem normal deve funcionar.  Portanto, criar um vazio n√£o resolver√° o problema at√© que exista uma regra muito r√≠gida que nunca funcione.  Mas ent√£o por que precisamos de nada?  Talvez valha a pena desistir. <br><br>  <b>- Roberto, haver√° um suporte muito mais forte para a an√°lise est√°tica em Lua?</b>  <b>Como o Lua Verifique os ester√≥ides?</b>  <b>Claro, entendo que isso n√£o resolver√° todos os problemas.</b>  <b>Voc√™ disse que esse recurso aparecer√° na vers√£o 6.0, se houver, certo?</b>  <b>E se no 5.x houver uma ferramenta poderosa para an√°lise est√°tica - se houver horas-homem investidas nela - isso ajudar√°?</b> <br><br>  "N√£o, acredito que uma ferramenta de an√°lise est√°tica realmente poderosa seja chamada ... um sistema de tipos!"  Se voc√™ precisar de uma ferramenta realmente poderosa, use uma linguagem de tipo estaticamente como Haskell, ou algum tipo de linguagem com tipos dependentes.  Ent√£o voc√™ definitivamente ter√° uma poderosa ferramenta de an√°lise. <br><br>  <b>"Mas ent√£o eu n√£o terei Lua."</b> <br><br>  - Isso mesmo, Lua √© necess√°ria para ... <br><br>  <b>- Incertezas?</b>  <b>Gosto da sua foto com uma girafa sobre tipos est√°ticos e din√¢micos.</b> <br><br>  - Sim, este √© o meu √∫ltimo slide da apresenta√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac9/66a/5b2/ac966a5b2ccf1b45ab798727ee382617.jpg"><br>  <i>O √∫ltimo slide da apresenta√ß√£o da palestra de Roberto Jerusalem ‚ÄúPor que Lua?</i>  <i>(e por que n√£o) ‚Äùna confer√™ncia Lua em Moscou 2019.</i> <br><br>  <b>- Para fazer a pr√≥xima pergunta, vamos voltar a esta imagem.</b>  <b>Se bem entendi, voc√™ acha que Lua √© uma pequena ferramenta conveniente para resolver tarefas n√£o muito grandes.</b> <br><br>  - N√£o, acredito que voc√™ possa resolver alguns grandes problemas, mas sem envolver an√°lise est√°tica.  Eu acredito em testes com todo o meu cora√ß√£o.  A prop√≥sito, eu n√£o concordo com voc√™ em rela√ß√£o √† cobertura, que n√£o devemos perseguir a cobertura ... Quero dizer, concordo totalmente com a vis√£o de que a cobertura n√£o fornece testes completos, mas a falta de cobertura n√£o permite testes.  Eu falei em Estocolmo sobre a sala de teste, voc√™ estava l√°.  Comecei a testar com [v√°rios] bugs - essa √© a coisa mais estranha - um deles era amplamente conhecido e o resto era completamente desconhecido.  Algo quebrou completamente no arquivo de cabe√ßalho Microsoft, C e C ++.  Eu procurei na net, mas ningu√©m estava preocupado com isso ou at√© percebeu. <br><br>  Por exemplo, existe uma fun√ß√£o matem√°tica <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">modf ()</a> , que precisa passar um ponteiro para um valor duplo, porque retorna duas duplas.  Convertemos a parte inteira ou fracion√°ria de um n√∫mero.  Esse recurso faz parte da biblioteca padr√£o h√° muito tempo.  Ent√£o veio o C 99, e essa fun√ß√£o agora √© necess√°ria para n√∫meros flutuantes.  E o arquivo de cabe√ßalho da Microsoft simplesmente salvou essa fun√ß√£o e declarou outra como uma macro.  Ou seja, a primeira fun√ß√£o passou por convers√£o impl√≠cita de tipo.  Double foi convertido em uma b√≥ia e, em seguida, um ponteiro para double foi convertido em um ponteiro em uma b√≥ia! <br><br>  <b>- Algo est√° errado com esta imagem.</b> <br><br>  - Este √© o arquivo de cabe√ßalho do Visual C ++ e Visual C 2007. Se voc√™ chamar essa fun√ß√£o uma vez, com qualquer par√¢metro e depois verificar o resultado, ser√° incorreto, a menos que seja 0. Qualquer outro valor n√£o ser√° verdadeiro.  Voc√™ nunca pode usar esse recurso.  Zero cobertura.  E depois houve muita discuss√£o sobre testes ... Basta chamar a fun√ß√£o uma vez e verificar o resultado!  Esse problema existe h√° muito tempo, por muitos anos n√£o incomodou ningu√©m.  A Apple tinha um bug muito famoso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">algo como</a> " <code>if‚Ä¶ what‚Ä¶ goto‚Ä¶ ok</code> ".  Algu√©m inseriu outra express√£o aqui, e tudo se tornou normal.  E ent√£o eles discutiram muito sobre a necessidade de regras, se chaves devem ser usadas no estilo de c√≥digo e assim por diante.  Ningu√©m mencionou que existem muitos outros "ses".  Ningu√©m fez isso ... <br><br>  <b>- H√° tamb√©m um problema de seguran√ßa, se bem me lembro.</b> <br><br>  Isso mesmo.  Afinal, eles testam apenas situa√ß√µes confirmadas.  Eles n√£o testam tudo em uma linha, porque tudo ser√° confirmado.  Isso significa que, no aplicativo que verifica a seguran√ßa, n√£o h√° um √∫nico teste que verifique a falha em qualquer conex√£o ou o que deve ser negado l√°.  E todo mundo est√° discutindo se os colchetes s√£o necess√°rios ... Precisamos de testes, pelo menos testes!  Afinal, ningu√©m sequer testou o que quero dizer com "revestimento".  Isso √© inacredit√°vel, as pessoas nem fazem testes b√°sicos.  Obviamente, seria muito dif√≠cil fornecer cobertura com testes b√°sicos, executar todas as linhas de c√≥digo.  As pessoas evitam at√© os testes b√°sicos, portanto a cobertura √© m√≠nima.  Quero pedir que voc√™ preste aten√ß√£o nas partes do programa que voc√™ esqueceu.  Algo como uma dica de como melhorar um pouco seus testes. <br><br>  <b>- Voc√™ sabe qual cobertura de teste no Tarantool?</b>  <b>83%!</b>  <b>Qual √© a cobertura em Lua?</b> <br><br>  - Cerca de 99,6%.  Quantas linhas de c√≥digo voc√™ possui?  Um milh√£o, centenas de milhares?  Esta √© uma quantidade enorme.  1% de cem mil s√£o mil linhas de c√≥digo que nunca foram testadas.  Voc√™ n√£o os executou.  Seus usu√°rios n√£o est√£o testando nada. <br><br>  <b>- Ou seja, cerca de 17% das fun√ß√µes do Tarantool n√£o s√£o usadas agora?</b> <br><br>  - √â improv√°vel que voc√™ queira voltar ao que est√°vamos falando novamente ... Acho que um dos problemas com linguagens din√¢micas (e est√°ticas tamb√©m) √© que as pessoas n√£o testam seu c√≥digo.  Mesmo usando uma linguagem est√°tica - n√£o como Haskell, mas algo como Coq - at√© voc√™ ter um sistema de verifica√ß√£o, voc√™ mudar√° isso para isso.  E nenhuma ferramenta de an√°lise est√°tica pode detectar esses erros, ent√£o voc√™ precisa de testes.  E se voc√™ os tiver, poder√° identificar problemas globais, erros de digita√ß√£o em nomes e assim por diante, todos os tipos de erros.  Voc√™ definitivamente precisa de testes.  √Äs vezes, ser√° dif√≠cil depurar, caso contr√°rio, √© simples - depende do idioma e do tipo de bug.  Mas o ponto principal √© que nenhuma ferramenta de an√°lise est√°tica pode substituir os testes.  Por outro lado, eles n√£o garantem a aus√™ncia de erros, mas com eles me sinto muito mais confiante. <br><br>  <b>- Temos uma pergunta sobre o teste de m√≥dulos Lua.</b>  <b>Como desenvolvedor, quero testar algumas fun√ß√µes locais que posso usar mais tarde.</b>  <b>Pergunta: voc√™ precisa de cobertura no n√≠vel de 99%, mas o n√∫mero de situa√ß√µes funcionais que o m√≥dulo para a API deve gerar √© muito menor que a quantidade de funcionalidade que ele suporta internamente.</b> <br><br>  - Com licen√ßa, por qu√™? <br><br>  <b>- H√° funcionalidades que n√£o est√£o dispon√≠veis para interfaces p√∫blicas.</b> <br><br>  "Ela n√£o deveria estar l√°, apenas exclua este c√≥digo." <br><br>  <b>- Apenas remova?</b> <br><br>  - Sim, eu fa√ßo isso algumas vezes em Lua.  Havia algum tipo de cobertura de c√≥digo, eu n√£o conseguia chegar aqui, ali ou ali, decidi que era imposs√≠vel e apenas exclu√≠ o c√≥digo.  Raramente, mas acontece.  Se algumas situa√ß√µes forem imposs√≠veis, basta escrever nos coment√°rios por que isso n√£o √© poss√≠vel.  Se voc√™ n√£o pode entrar na fun√ß√£o a partir da API p√∫blica, n√£o deve ser.  √â necess√°rio gravar APIs p√∫blicas com dados de entrada incorretos, isso √© importante para testes. <br><br>  <b>- A remo√ß√£o do c√≥digo √© boa, reduz a complexidade.</b>  <b>Menos complexidade - maior estabilidade e facilidade de manuten√ß√£o.</b>  <b>N√£o complique.</b> <br><br>  - Sim, na programa√ß√£o extrema existe essa regra.  Se algo n√£o puder ser testado, ele n√£o existe. <br><br>  <b>- Em quais idiomas voc√™ se inspirou para criar Lua?</b>  <b>Quais paradigmas, recursos funcionais ou partes de quais idiomas voc√™ gosta?</b> <br><br>  - Eu projetei Lua para um prop√≥sito muito restrito, n√£o era um projeto acad√™mico.  Ent√£o, quando voc√™ me perguntou sobre recriar o idioma, respondi que havia uma hist√≥ria inteira por tr√°s dele.  N√£o comecei a desenvolver Lua com "vou criar uma linguagem que gosto, que quero usar ou que todo mundo precisa".  Eu tive um problema: aqui eu preciso de uma linguagem de configura√ß√£o para ge√≥logos e engenheiros, ela deve ser pequena e com uma interface simples para que eles possam us√°-la.  Portanto, a API sempre foi parte integrante da linguagem.  Essa foi a tarefa.  Quanto √† inspira√ß√£o, naquela √©poca eu estava familiarizado com cerca de dez idiomas diferentes. <br><br>  <b>"Gostaria de saber quais idiomas voc√™ deseja incluir no Lua."</b> <br><br>  - Emprestei id√©ias de v√°rias l√≠nguas, tudo o que era adequado para resolver meu problema.  A sintaxe da linguagem Modula teve a maior influ√™ncia, embora seja dif√≠cil dizer, porque existem muitas l√≠nguas.  Algo tirou do AWK.  Claro, de Scheme e Lisp ... Eu n√£o sou indiferente ao Lisp desde que comecei a programar. <br><br>  <b>- E ainda n√£o h√° macros em Lua!</b> <br><br>  - Sim, a sintaxe √© completamente diferente.  Provavelmente a primeira l√≠ngua era Fortran ... n√£o, minha primeira l√≠ngua era assembler e depois Fortran.  Estudei, mas nunca usei a CLU.  Programado muito em Smalltalk e SNOBOL.  Tamb√©m estudou, mas n√£o usou o Icon, tamb√©m uma linguagem muito interessante.  Peguei emprestado muito de Pascal e C. Quando criei Lua, o C ++ j√° era muito complicado para mim, isso foi antes dos modelos e outras coisas.  Comecei a trabalhar em 1991 e lancei Lua em 1993. <br><br>  <b>- A URSS entrou em colapso e voc√™ come√ßou a criar Lua :) Voc√™ n√£o gostou do ponto e v√≠rgula e dos objetos quando iniciou o Lua?</b>  <b>Pareceu-me que sua sintaxe seria semelhante a C, porque Lua est√° integrada a ela.</b>  <b>No entanto ...</b> <br><br>  - Eu acredito que a sintaxe deve ser diferente, ent√£o voc√™ n√£o ficar√° confuso, porque esses s√£o dois idiomas diferentes. <br><br>  Isso √© realmente engra√ßado e est√° relacionado √† resposta sobre matrizes que come√ßam com uma que voc√™ n√£o me permitiu expressar [na confer√™ncia].  Minha resposta foi longa demais. <br><br>  Quando Lua foi lan√ßada, o mundo estava diferente.  Nem todas as linguagens eram semelhantes a C. Ainda n√£o havia Java e JavaScript, o Python era um beb√™ e n√£o foi al√©m da vers√£o 1.0.  Portanto, nem todas as l√≠nguas eram semelhantes a C; sua sintaxe era uma de muitas. <br><br>  A mesma coisa com matrizes.  √â engra√ßado que a maior parte disso n√£o esteja ciente.  Matrizes come√ßando com 0 e 1 t√™m seus pr√≥prios m√©ritos. <br><br>  √â gra√ßas a C que os idiomas mais populares atualmente usam matrizes come√ßando com 0. Seus criadores foram inspirados por C. E √© engra√ßado que n√£o haja indexa√ß√£o em C.    ,      ,       .        ,      ‚Äî   ,   (offset).    ,      ,    ,  ,   . <br><br>   ,  ,         . Java, JavaScript    ‚Äî      .     0,    .       ,  ¬´ ¬ª. <br><br> <b>‚Äî  ,      ,        .     -,  ,     ,   -  ,    ,    .     ,   Lua     ? ?</b> <br><br> ‚Äî     ? <br><br> <b>‚Äî  .</b> <br><br> ‚Äî .    ,      ,      .      .    ?   ,  ,     .         .        . <br><br> <b>‚Äî   Lua   C.</b> <br><br> ‚Äî ,    ,     .     ,   ,    ‚Ä¶     ,       ,    -      .      :     ,   ‚Ä¶ . <br><br>  ,      .  ,          ?      ,     -  ‚Ä¶        ? <br><br> <b>‚Äî    .</b> <br><br> ‚Äî .    ?     C   ,    ,    ‚Ä¶     ? <br><br> <b>‚Äî 16 ?</b> <br><br> ‚Äî  ,        . <br><br> <b>‚Äî ,  ,     .</b> <br><br> ‚Äî ,      .    ,    ,      ‚Ä¶     ,    ,    .          ‚Äî  ,    .     ,   ,   .       ,    ‚Ä¶   :       ? <br><br> <b>‚Äî  C++   .</b> <br><br> ‚Äî ,  C++   . <br><br> <b>‚Äî    ? <code>ptrdiff_t</code> ?</b> <br><br> ‚Äî <code>ptrdiff_t</code> ‚Äî     (signed type). ,              ,           .      ? <br><br>   ,     diff ,    .     .   ,   ?  De jeito nenhum. ,    ,      .       2   ,          . <br><br>    ,       .         ,       .              diff ,    . <br><br>      ,        ++. <br><br> <b>‚Äî     Lua   ?</b> <br><br> ‚Äî   ,   C++,     - ,      . ,  -   ++, ‚Ä¶         . <br><br> <b>‚Äî  , ?</b> <br><br> ‚Äî      .    ,      .    ,      ,    .    ,      . <br><br> <b>‚Äî   JVM?</b> <br><br> ‚Äî , JVM.  ,       ‚Ä¶  ‚Äî  ,      .  JVM  ,   .NET,   .  JVM     ,   Lua.  ,      .    JVM,        . JVM   .    Java-,    10 .      ,  JVM   ,      . <br><br> <b>‚Äî     JVM, , Mobile JVM?</b> <br><br> ‚Äî  ,   JVM. -  Java,   Java. <br><br> <b>‚Äî    ,  Go  Oberon?       Lua,       ?</b> <br><br> ‚Äî Oberon‚Ä¶ ‚Ä¶  Go    ,  runtime-    Lua. Oberon   ,       . ,    ,    . , ,   const  Pascal  Oberon.       ,   .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a> . <br> ,  1994-    Oberon  Self.   Self?       JIT-  . Self    ,      ,    .  - ,   ‚Äî ! ‚Äî  ,     - .    ,       ‚Ä¶ <br><br>      Oberon,    ,     10     Self,   .  Oberon ,    ,    . <br><br>       ,      . <br><br> <b>‚Äî Haskell?</b> <br><br> ‚Äî    Haskell,   ,     Lua. <br><br> <b>‚Äî      Python, R  Julia        Lua?</b> <br><br> ‚Äî ,        . <br><br> R   .       ,     . <br><br> Python ,       . ,      .         ,    . <br><br>   Python   ,   ,     .   ,      ,    -  .         API‚Ä¶ ,    Python,    .           ,    ,  ¬´ ¬ª. <br><br>       , -: ,   , ,  -.  .  ,       API    ,   - .  ,     .     ,     ,       ‚Ä¶ <br><br>    - ,         (pattern matching).  ,   ,      ,     .    ,    ,    . <br><br>  :             Perl.     Lua,       . , Python  .            ,       ,   .      -    . <br><br> <b>‚Äî        ?</b> <br><br> ‚Äî        Python.   Perl  :        $1, $2, $3.        Perl,  ‚Ä¶ <br><br> <b>‚Äî      Python,   ,      (     Tarantool).</b> <br><br> ‚Äî ,     ,    ,     API,   . Python   ,    . <br><br>     Julia,      LuaJIT,    ,       .     ,     ,   .   ,        . ,   ,   ,   .           ,      ,  .      : ,     - .   ,   ,    -  ,    . <br><br>     Julia,       : ,   ,      .   ,  -    .       ,    double,      []‚Ä¶   .     . <br><br> () ¬´,  ,    ,     ,      ,   . ,  ¬ª. , ,      . <br><br>     .    R,     Python. <br><br> <b>‚Äî    Erlang?</b> <br><br> ‚Äî   .       ,   .   ,    ,       ,  -  .   Erlang     ,  ,    .      ,      . <br><br>         ,           . ,      .       ?   ,    .      . <br><br> <b>‚Äî , Erlang    ,  Python    .     Lua?</b> <br><br> ‚Äî  ,   . Lua     ,       ,  Lua  ,   . <br><br> <b>‚Äî     ?</b> <br><br> ‚Äî Forth,   . <br><br> <b>‚Äî        Lua?</b> <br><br> ‚Äî  ,    .   ,      .    - ,     .     Lua,     Lua,      . <br><br>     Java.    Java,      ?  N√£o.   (reflection)?  N√£o.    ?    Java,    ,     Java.   ,    ,     Java,     . <br><br>     ,    Lua,     ‚Ä¶ ,     ,  FFI. <br><br> <b>‚Äî     Lua?</b> <br><br> ‚Äî ,  . <br><br> <b>‚Äî   Lua    ?      ?</b> <br><br> ‚Äî ,    .    ,     Haskell.       ,   ,  ‚Ä¶      Lua,  ,    ,   ,   ,      . <br><br> <b>‚Äî ,        Lua.</b> <br><br> ‚Äî ,    ,    .      .    ,    . <br><br> <b>‚Äî     ,            . Lua    ?</b> <br><br> ‚Äî ,     ,  ‚Ä¶ <br><br> <b>‚Äî ¬´  ¬ª? ,     ?</b> <br><br> ‚Äî , . ,    ,        ,  .         ,        . <br><br> <b>‚Äî         Lua?</b> <br><br> ‚Äî  .      ,     ,     LaTex  DocBook.   ,       ‚Ä¶     LaTex,   .     @,        . Gsub   ,    ,  -   - .      ,      ,  ,      . <br><br> <b>‚Äî      LaTeX?</b> <br><br> ‚Äî  LaTeX? -,   ,      .   ,    ,    LaTex. ,      inline-.      /,    .   ‚Äî   .    ,     ,         ,     .       ,   .     ,    . <br><br> <b>‚Äî         LaTeX?</b> <br><br> ‚Äî ,     .    ,        ,  . ,    3+1,     .   ,     ,      .     ,   .   ,     ,    . ,   1   ¬´and¬ª,     .     .   ,   . <br><br> <b>‚Äî     ?</b> <br><br> ‚Äî ,  <a href="">git</a> .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2html</a> .     HTML‚Ä¶ ,   .     ,    ,  . ,       ,     .     ,    TeX.    TeX-   TeX. <br><br> <b>‚Äî   ?</b> <br><br> ‚Äî ,  .  ,    TeX.    ,    .             DocBook,    .  ,       . <br><br> <b>‚Äî     2html   DocBook?</b> <br><br> ‚Äî ,   DocBook. <br><br> <b>‚Äî ,    ,     !</b> <br><br> ‚Äî       . <br><br><hr><br>     - ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Lua Mailing List</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt459464/">https://habr.com/ru/post/pt459464/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt459454/index.html">Como foi a primeira hackathon no The Standoff</a></li>
<li><a href="../pt459456/index.html">Dagaz: Epis√≥dios (Parte 1)</a></li>
<li><a href="../pt459458/index.html">ok.tech: Os dados explicam # 2</a></li>
<li><a href="../pt459460/index.html">As dificuldades de trabalhar com o Redux e sua solu√ß√£o</a></li>
<li><a href="../pt459462/index.html">SEO para Yandex. Pesquisar tudo?</a></li>
<li><a href="../pt459466/index.html">Lua em Moscou 2019: Entrevista com Roberto Ierusalimschy</a></li>
<li><a href="../pt459470/index.html">Parte 4: Ainda executando o Linux no RISC-V RISC-V</a></li>
<li><a href="../pt459472/index.html">Heroku + Docker + Bota de primavera</a></li>
<li><a href="../pt459474/index.html">Como criar texto perfeitamente digitado em um segundo: uma macro no Word para quem escreve muito</a></li>
<li><a href="../pt459478/index.html">Minha experi√™ncia na cria√ß√£o de um aplicativo multithread para trabalhar com backups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>