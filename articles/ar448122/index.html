<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♟️ 📎 🚠 كيف يعمل ReactJS حزمة الرد 👨‍🔬 🍽️ 🤳🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="معظم الناس الذين يعملون في الواجهة الأمامية ، بطريقة أو بأخرى ، واجهوا رد فعل. هذه مكتبة JavaScript تساعد في إنشاء واجهات رائعة ؛ وقد اكتسبت في السنوا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيف يعمل ReactJS حزمة الرد</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448122/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  معظم الناس الذين يعملون في الواجهة الأمامية ، بطريقة أو بأخرى ، واجهوا رد فعل.  هذه مكتبة JavaScript تساعد في إنشاء واجهات رائعة ؛ وقد اكتسبت في السنوات الأخيرة شعبية هائلة.  ومع ذلك ، لا يعرف الكثير من الناس كيف يعمل في الداخل. </p><br><p style=";text-align:right;direction:rtl"> في هذه السلسلة من المقالات ، نقرأ الكود ونحاول معرفة ما الحزم التي تقع تحت غطاء محرك السيارة من أجل رد الفعل هي المسؤولة عن ، وما هي استخدامها وكيف تعمل.  أهم العناصر الأساسية التي نستخدمها في المتصفح هي <code>react</code> ، <code>react-dom</code> ، <code>events</code> <code>react-reconciler</code> . </p><br><p style=";text-align:right;direction:rtl">  سننتقل بالترتيب واليوم لدينا مقال حول حزمة <code>react</code> .  من يهتم بما هو موجود في هذه الحزمة - اذهب تحت القط. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  بادئ ذي بدء ، سنقدم مثالًا صغيرًا ، على أساسه سننظر في هذه الحزمة.  ستبدو الأداة لدينا كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [text, changeText] = React.useState(<span class="hljs-string"><span class="hljs-string">'Initial'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div className=</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"app"</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;span&gt;{text}&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/span&gt; &lt;input type="text" value={text} onInput={(e) =&gt; changeText(e.target.value)} /</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; ); } ReactDOM.render( &lt;App /</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;, </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">document</span></span></span></span><span class="hljs-function"><span class="hljs-params">.getElementById(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'root'</span></span></span></span></span><span class="hljs-function">) ) ;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  دعنا نلقي نظرة سريعة على هذا الرمز.  نرى هنا نداء الخطاف من خلال <code>React.useState('Initial')</code> ، وقليلًا من JSX ونداء طريقة التجسيد للحصول على كل هذا على الصفحة. <br>  في الواقع ، كما يعلم الكثير من الناس ، هذا ليس الرمز النهائي الذي يعالجه المتصفح.  قبل تنفيذه ، يتم نقله ، على سبيل المثال ، مع بابل.  في هذه الحالة ، ستتحول ما تُرجع الوظيفة إلى ما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.createElement( <span class="hljs-string"><span class="hljs-string">"div"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">className</span></span>: <span class="hljs-string"><span class="hljs-string">"app"</span></span> }, React.createElement(<span class="hljs-string"><span class="hljs-string">"span"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, text), React.createElement(<span class="hljs-string"><span class="hljs-string">"input"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">"text"</span></span>, <span class="hljs-attr"><span class="hljs-attr">value</span></span>: text, <span class="hljs-attr"><span class="hljs-attr">onInput</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onInput</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> changeText(e.target.value); } }) );</code> </pre> <br><p style=";text-align:right;direction:rtl">  من يهتم بالتجربة ويرى رمز <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بابل</a> الخاص بك - رد <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بابل</a> . </p><br><h3 id="reactcreateelement" style=";text-align:right;direction:rtl">  React.createElement </h3><br><p style=";text-align:right;direction:rtl">  لذلك ، تلقينا الكثير من المكالمات إلى <code>React.createElement()</code> والوقت لمعرفة ما تقوم به هذه الوظيفة.  <a href="">سنصفها</a> بالكلمات (أو يمكنك أيضًا إلقاء نظرة على الملف - <a href="">ReactElement.js</a> ). </p><br><p style=";text-align:right;direction:rtl">  أولاً وقبل كل شيء ، فإنه يتحقق ما إذا كان لدينا الدعائم (في الرمز ، الكائن مع الدعائم التي <code>config</code> يسمى <code>config</code> ). </p><br><p style=";text-align:right;direction:rtl">  بعد ذلك ، نتحقق مما إذا كان لدينا دعائم <code>key</code> ومرجعية غير <code>undefined</code> ، وحفظها ، إن وجدت. </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasValidKey(config)) { key = <span class="hljs-string"><span class="hljs-string">''</span></span> + config.key; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  النقطة المهمة هي أن <code>config.key</code> يتم <code>config.key</code> إلى سلسلة ، مما يعني أنه يمكنك تمرير أي نوع بيانات كمفتاح ، والأمر الرئيسي هو أنه ينفذ أسلوب <code>.toString()</code> أو <code>.valueOf()</code> وإرجاع قيمة فريدة لمجموعة معينة. </p><br><p style=";text-align:right;direction:rtl">  فيما يلي الخطوات التالية: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  نسخ الدعائم التي تم تمريرها إلى العنصر ؛ </li><li style=";text-align:right;direction:rtl">  أضف حقل <code>children</code> هناك إذا مررناهم ليس بالدعائم ، ولكن كعنصر متداخل ؛ </li><li style=";text-align:right;direction:rtl">  نقوم بتعيين القيم الافتراضية من <code>defaultProps</code> لتلك الخصائص التي لم <code>defaultProps</code> سابقًا. </li></ul><br><p style=";text-align:right;direction:rtl">  عندما نقوم بإعداد جميع البيانات ، ندعو وظيفة داخلية تنشئ كائنًا يصف مكوننا.  هذا الكائن يشبه هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{ // This tag allows us to uniquely identify this as a React Element $$typeof: REACT_ELEMENT_TYPE, // Symbol // Built-in properties that belong on the element type: type, key: key, ref: ref, props: props, // Record the component responsible for creating this element. _owner: owner, }</code> </pre> <br><p style=";text-align:right;direction:rtl">  هنا لدينا خاصية <code>$$typeof</code> ، والتي تعد رمزًا ، لذا قم بالانزلاق على أي حال أي كائن سيفشل. </p><br><p style=";text-align:right;direction:rtl">  خاصية <code>type</code> تخزن نوع العنصر المراد إنشاؤه.  في حالة مثالنا ، ستكون هذه وظيفة <code>App()</code> والخطوط <code>'div'</code> و <code>'span'</code> و <code>'input'</code> . </p><br><p style=";text-align:right;direction:rtl">  سوف تحتوي خاصية <code>key</code> على نفس المفتاح ، بسبب التحولات التي تطير إلى وحدة التحكم. <br>  سوف تحتوي الدعائم على ما <code>defaultProps</code> ، <code>children</code> وما تم تحديده في <code>defaultProps</code> .  خاصية <code>_owner</code> ضرورية للعمل الصحيح مع <code>ref</code> . </p><br><p style=";text-align:right;direction:rtl">  ترجمت إلى مثالنا ، فإن نتيجة <code>React.createElement(App, null)</code> ستبدو كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">{ $$typeof: REACT_ELEMENT_TYPE, type: App, key: null, ref: null, props: {}, _owner: null, }</code> </pre> <br><p style=";text-align:right;direction:rtl">  بالإضافة إلى ذلك ، في وضع dev ، سيكون لدينا حقل إضافي سيتم استخدامه لعرض مكدس جميل مع اسم الملف والخط: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">_source: { <span class="hljs-attr"><span class="hljs-attr">fileName</span></span>: <span class="hljs-string"><span class="hljs-string">"/Users/appleseed/react-example/src/index.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">lineNumber</span></span>: <span class="hljs-number"><span class="hljs-number">7</span></span> }</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/l6/gm/fz/l6gmfzluaizdzwt-ywbhhpy8cui.png" alt="خطأ المكدس تتفاعل"></p><br><p style=";text-align:right;direction:rtl">  لتلخيص القليل مما رأيناه أعلاه.  تعمل حزمة <code>react</code> كمترجم بيننا وبين بقية الحزم التي تعمل بشكل أكبر على طلبنا ، وترجمة مكالماتنا إلى كلمات مفهومة ، على سبيل المثال ، إلى الموفق. </p><br><h3 id="reactusestate" style=";text-align:right;direction:rtl">  React.useState </h3><br><p style=";text-align:right;direction:rtl">  في الإصدار 16.8 ، ظهرت السنانير.  ما هو وكيفية استخدامها ، يمكنك قراءة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الرابط</a> ، ولكن الآن نلقي نظرة على ما يكمن في حزمة <code>react</code> . </p><br><p style=";text-align:right;direction:rtl">  في الواقع ، ليس هناك الكثير ليقوله.  في جوهرها ، الحزمة هي واجهة يتم من خلالها توجيه تحدياتنا إلى كيانات داخلية. </p><br><p style=";text-align:right;direction:rtl">  لذلك ، لا يعد <code>useState</code> أكثر من سطرين من التعليمات البرمجية: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useState</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">S</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">initialState: ((</span></span></span><span class="hljs-function">) =&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">S</span></span></span><span class="hljs-function">) | </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">S</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> dispatcher = resolveDispatcher(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dispatcher.useState(initialState); }</code> </pre> <br><p style=";text-align:right;direction:rtl">  السنانير المتبقية تبدو متطابقة تقريبا.  هنا نحصل على المرسل الحالي ، وهو كائن ويحتوي على حقول ، على سبيل المثال <code>useState</code> .  يتغير هذا المرسل اعتمادًا على ما إذا كان لدينا العرض الأول الآن أو نريد فقط تحديث المكون. </p><br><p style=";text-align:right;direction:rtl">  يتم تخزين التنفيذ الحقيقي للخطافات في حزمة <code>react-reconciler</code> ، والتي سوف نتحدث عنها في واحدة من المقالات التالية. </p><br><h3 id="chto-dalshe" style=";text-align:right;direction:rtl">  ما التالي </h3><br><p style=";text-align:right;direction:rtl">  شيء آخر  بعد قراءة هذه المقالة ، يمكنك فهم سبب استيراد حزمة التفاعل دائمًا ، حتى لو لم نستخدمها مباشرةً.  هذا ضروري حتى بعد هضم jsx بواسطة الفقاعة ، لدينا متغير <code>React</code> . </p><br><p style=";text-align:right;direction:rtl">  اهتم فريق رد الفعل بهذا (وليس هذا فقط) ويعملون الآن على استبدال <code>createElement</code> . </p><br><p style=";text-align:right;direction:rtl">  محاولة شرح باختصار: هناك رغبة في استبدال الطريقة الحالية لإنشاء العناصر بـ <code>jsx</code> و <code>jsxs</code> .  هذا ضروري لعدة أسباب: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ناقشنا أعلاه كيفية عمل <code>createElement</code> .  يقوم دائمًا بنسخ الدعائم وإضافة حقل <code>children</code> إلى الكائن ، حيث يحفظ الأطفال الذين مررناهم كحجج للدالة (3 وسيطات وأكثر).  الآن يُقترح القيام بذلك في مرحلة تحويل <code>jsx</code> إلى مكالمات <code>javascript</code> ، لأن إنشاء عنصر عبارة عن وظيفة تسمى بشكل متكرر وليست حرة في إجراء تعديل الدعائم في وقت التشغيل ؛ </li><li style=";text-align:right;direction:rtl">  يمكنك التخلص من استيراد كائن <code>import { jsx } from 'react'</code> وظائف محددة فقط ( <code>import { jsx } from 'react'</code> ، على سبيل المثال) ، وبالتالي ، لن تكون قادرًا على إضافة ما لا <code>import { jsx } from 'react'</code> للتجميع.  بالإضافة إلى ذلك ، ليس عليك حل حقل <code>createElement</code> الخاص بكائن <code>React</code> كل مرة ، لأنه غير مجاني أيضًا ؛ </li><li style=";text-align:right;direction:rtl">  ناقشنا أعلاه أن لدينا حالة خاصة عندما نخرج <code>key</code> من الدعائم ونقدمه أكثر.  الآن يُقترح أخذ <code>key</code> من <code>jsx</code> في مرحلة التحويل وتوجيه المعلمة الثالثة إلى وظيفة إنشاء العنصر. </li></ul><br><p style=";text-align:right;direction:rtl">  اقرأ المزيد <a href="">هنا</a> .  تحتوي حزمة <code>react</code> بالفعل على <code>jsx</code> و <code>jsxs</code> .  إذا كنت ترغب في الالتفاف حول هذا الأمر ، يمكنك استنساخ مستودع التفاعل ، وتعيين علامة <code>enableJSXTransformAPI</code> إلى <code>true</code> في ملف <code>ReactFeatureFlags.js</code> الخاص بالحزمة <code>shared</code> وتجميع إصدار رد الفعل الخاص بك ( <code>yarn build</code> ) مع تمكين واجهة برمجة التطبيقات الجديدة. </p><br><h3 id="final" style=";text-align:right;direction:rtl">  خاتمة </h3><br><p style=";text-align:right;direction:rtl">  حول هذا ، سوف أنهي قصتي اليوم حول حزمة <code>react</code> ، وفي المرة القادمة سوف نتحدث عن كيفية استخدام حزمة <code>react</code> لما يخلقه <code>react</code> ، وما هي الأساليب وكيفية تنفيذها. </p><br><p style=";text-align:right;direction:rtl">  شكرا لك على القراءة حتى النهاية! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar448122/">https://habr.com/ru/post/ar448122/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar448110/index.html">حلول أجهزة أمن المعلومات USB عبر بروتوكول الإنترنت</a></li>
<li><a href="../ar448114/index.html">8. تحقق نقطة البدء R80.20. NAT</a></li>
<li><a href="../ar448116/index.html">محرك أقراص Hybrid Memory H10 من Intel - مواصفات الميزات</a></li>
<li><a href="../ar448118/index.html">كبار المسئولين الاقتصاديين والإعلانات السياقية - يؤدي للحصول على 175 ألف روبل في اليوم في إيجيفسك</a></li>
<li><a href="../ar448120/index.html">عن قرب القمم</a></li>
<li><a href="../ar448124/index.html">مايكروتك. التحكم في الرسائل القصيرة باستخدام خادم الويب</a></li>
<li><a href="../ar448126/index.html">أسرار API لأجهزة Android. تقرير ياندكس</a></li>
<li><a href="../ar448128/index.html">9 نصائح لاستخدام مكتبة Cats في Scala</a></li>
<li><a href="../ar448130/index.html">تصميم لعبة فيديو deckbuilding</a></li>
<li><a href="../ar448136/index.html">التعليمات: كيفية اختبار الأدوار ansible ومعرفة المشاكل قبل الإنتاج</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>