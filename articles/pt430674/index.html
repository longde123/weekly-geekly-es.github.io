<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëàüèΩ ‚ô•Ô∏è üë©üèΩ‚Äçüåæ A l√≥gica da constru√ß√£o de hor√°rios de trabalho universais üçô üîà üòÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Os hor√°rios dos funcion√°rios s√£o parte integrante de qualquer sistema de CRM. Mas, dependendo das especificidades da empresa do cliente, elas podem se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A l√≥gica da constru√ß√£o de hor√°rios de trabalho universais</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430674/">  Os hor√°rios dos funcion√°rios s√£o parte integrante de qualquer sistema de CRM.  Mas, dependendo das especificidades da empresa do cliente, elas podem ser muito diferentes.  Na cl√≠nica, esses s√£o hor√°rios de recep√ß√£o do paciente; em telecomunica√ß√µes, hor√°rios de conex√£o do cliente; na escola, hor√°rios das aulas.  Todos eles diferem em estrutura e ess√™ncia.  Eles t√™m limites diferentes, um conjunto diferente de campos, grades diferentes. <br><br>  Nossa plataforma ERP est√° focada no r√°pido desenvolvimento de qualquer configura√ß√£o de nicho, e pensamos em como fazer tudo de forma conveniente.  Primeiro de tudo por si mesmo.  Para que nosso trabalho no desenvolvimento de um cronograma para um nicho espec√≠fico n√£o leve mais que uma hora de trabalho. <br><br>  Antes disso, os gr√°ficos eram um tipo de coisa desenvolvida em php.  Mas deus!  Karl!  Sempre que voc√™ precisar de uma nova programa√ß√£o para uma solu√ß√£o de nicho, copie e processe esse c√≥digo.  A individualidade dos gr√°ficos n√£o permitiu uma mudan√ßa central.  E, em geral, prejudicou o conceito de nossa plataforma em nuvem, na medida em que o cliente pode configur√°-lo independentemente. <a name="habracut"></a><br><br>  Como resultado, criamos os seguintes requisitos para hor√°rios de trabalho <br><br><ol><li>  <b>Configurabilidade</b> <br>  Eles devem ser totalmente configur√°veis ‚Äã‚Äãa partir da interface da web. </li><li>  <b>Passo vari√°vel</b> <br>  Eles devem ter um passo de grade vari√°vel. <br>  Em uma cl√≠nica, o hor√°rio da consulta pode ser de 30 minutos por paciente, e em outros 20, na terceira hora </li><li>  <b>Chap√©u personalizado</b> <br>  O cabe√ßalho do gr√°fico pode ser √∫nico, ou seja,  pode ser um conjunto de m√©dicos, instala√ß√µes, professores, equipes etc.  Em geral, qualquer coisa do que o cliente possui no sistema.  Mesmo pelo que n√£o podemos imaginar. </li><li>  <b>No registro do gr√°fico - um conjunto arbitr√°rio de campos</b> <br>  Um conjunto de campos pode ser definido arbitrariamente, a partir de qualquer informa√ß√£o que esteja no sistema.  E as entradas s√£o organizadas de acordo com o cabe√ßalho. </li><li>  <b>CRUD</b> <br>  As entradas do gr√°fico devem ser CRUD (criar, ler, atualizar, excluir), apesar dos conjuntos arbitr√°rios de campos.  E n√£o apenas isso, mas <u>usando procedimentos</u> para organizar intera√ß√µes complexas. <br><br><blockquote>  Exemplo: h√° um agendamento de tarefas. <br>  No registro do cronograma, √© exibido quem executa onde o trabalho √© realizado, etc.  + alguns dados sobre a tarefa (por exemplo, seu n√∫mero e nome). <br>  Dados adicionais para registrar a agenda s√£o armazenados em uma tabela e dados de tarefas em outra. <br>  Ao criar, o n√∫mero da tarefa √© indicado, quem executa onde e onde.  E os dados ser√£o exibidos em duas tabelas. <br>  Voc√™ s√≥ pode editar os dados na grava√ß√£o do gr√°fico, mas n√£o pode executar tarefas de dados. <br>  A entrada da agenda deve ser exclu√≠da, mas n√£o a tarefa. <br>  √â necess√°rio manter registros que fizeram algo com esta entrada.  Porque  ele pode ser exclu√≠do e n√£o estar√° necessariamente vis√≠vel no agendamento; voc√™ precisar√° acessar os logs de alguma forma.  Eles s√£o mais l√≥gicos para liderar a tarefa em si, ou seja,  Quando a cria√ß√£o-modifica√ß√£o-exclus√£o deve ser gravada em uma tabela separada e exibida na tarefa. <br>  Essas coisas s√≥ podem ser resolvidas por procedimentos armazenados, para que situa√ß√µes simples e complexas possam ser resolvidas. </blockquote></li><li>  <b>Os campos podem ser listas.</b> <br>  Obviamente, os campos n√£o precisam ser apenas texto.  Eles tamb√©m podem ser listas pop-up de alguns dados no sistema. </li><li>  <b>Os campos podem ser links</b> <br>  √â conveniente quando, por exemplo, no hor√°rio de trabalho das tarefas, voc√™ pode entrar na pr√≥pria tarefa. </li><li>  <b>Ocultando campos</b> <br>  Se houver muitos campos no registro, faz sentido minimizar parte deles para um corte para facilitar a percep√ß√£o. </li><li>  <b>Triggers</b> <br>  √â necess√°rio ajustar a rea√ß√£o do sistema ao que est√° acontecendo com a grava√ß√£o.  Isso √© feito de maneira mais conveniente com gatilhos. <br><br><blockquote>  Por exemplo, se o usu√°rio precisar gravar algum tipo de log nas a√ß√µes executadas no registro, enviar notifica√ß√µes aos funcion√°rios ou enviar o cliente sms ou fazer o que n√£o podemos supor. </blockquote></li><li>  <b>Registros cruzados</b> <br>  Registros cruzados s√£o registros de gr√°ficos diferentes combinados em um √∫nico gr√°fico.  Ou a apar√™ncia de entradas em outros gr√°ficos, quando as entradas aparecem no atual. <br><br><blockquote>  Por exemplo, h√° situa√ß√µes em que as mesmas brigadas executam trabalho, por exemplo, em aplicativos e tarefas.  I.e.  eles ficar√£o confort√°veis ‚Äã‚Äãcom um determinado agendamento geral, onde tarefas de agendamentos diferentes ser√£o exibidas. <br><br>  Ou voc√™ precisa da agenda pessoal de um funcion√°rio, com entradas de todas as agendas em que ele participa. <br>  Essas tarefas s√£o um pouco mais complicadas do que as t√≠picas, mas podem ser completamente resolvidas com a ajuda de gatilhos e procedimentos de aquisi√ß√£o de dados.  I.e.  pela cl√°usula 9 e 5. <br><br>  a) gatilhos s√£o criados nos registros dos agendamentos necess√°rios que criam uma entrada no agendamento pessoal do usu√°rio, se o usu√°rio estiver l√° (em conformidade, em caso de altera√ß√£o, altera√ß√£o, em caso de exclus√£o) <br>  b) campos adicionais s√£o criados no gr√°fico do usu√°rio que incluir√° os dados necess√°rios e procedimentos de sa√≠da de registro s√£o desenvolvidos para extrair dados de tabelas de outros gr√°ficos usando esses identificadores. <br><br>  Essas tarefas tamb√©m podem ser resolvidas de outra maneira, ao criar a agenda de um funcion√°rio pessoal, √© realizado um procedimento mais sofisticado que exibe os dados n√£o apenas das tabelas pessoais, mas tamb√©m das tabelas de outras agendas em que o funcion√°rio est√° presente no dia.  Tais solu√ß√µes baseadas neste design tamb√©m s√£o poss√≠veis. </blockquote></li><li>  <b>Sobreposi√ß√µes de tempo</b> <br>  O sistema deve exibir corretamente as interse√ß√µes dos registros no tempo, e n√£o como na maioria dos sistemas em que os registros s√£o executados entre si e n√£o h√° nem a oportunidade de ler as camadas inferiores. <br><br><div class="spoiler">  <b class="spoiler_title">Assim, √© triste ...</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/089/32a/7c3/08932a7c36d721e8378586af1c799aae.png" alt="imagem"><br></div></div></li><li>  <b>Relat√≥rios</b> <br>  Para que, de acordo com o cronograma, fosse poss√≠vel criar relat√≥rios.  O sistema de armazenamento de dados deve ser organizado para ser coletado no configurador de relat√≥rios. <br><blockquote>  Por exemplo, era necess√°rio criar um relat√≥rio para qual dos funcion√°rios quanto tempo passava viajando nas tarefas - pronto!  N√≥s vamos ao configurador de relat√≥rios, l√° selecionamos uma tabela onde os dados dos registros da programa√ß√£o desejada s√£o armazenados e fazemos um relat√≥rio usando o configurador padr√£o de acordo com os dados do gr√°fico. <br></blockquote></li><li>  <b>Incorporabilidade</b> <br>  O gr√°fico deve poder ser facilmente incorporado em qualquer lugar da p√°gina - ou seja,  deve ser um elemento de entrada padr√£o, o mesmo que um campo de texto ou um bot√£o. <br>  Felizmente, tivemos experi√™ncia no desenvolvimento de elementos padr√£o complexos.  Em particular, temos um elemento de coment√°rio padr√£o, formul√°rio de solicita√ß√£o de arquivo, formul√°rio de contato, tabela.  Todos eles s√£o adicionados com um clique como elementos normais e s√£o facilmente configurados. </li><li>  <b>Acesso e Seguran√ßa</b> <br>  Os direitos de acesso ao cronograma como um todo devem ser regulados pelo sistema geral de direitos e, dentro do cronograma, os direitos de acesso aos registros devem ser regulados pelas configura√ß√µes do cronograma. <br><blockquote>  Por exemplo, indique que apenas o autor pode editar sua postagem, seu grupo ou unidade. </blockquote></li><li>  <b>Facilidade de configura√ß√£o</b> <br>  E, √© claro, a cria√ß√£o e a configura√ß√£o de um novo cronograma devem ser feitas rapidamente e n√£o causar problemas.  Em particular, para n√≥s, para um caso t√≠pico (√© claro que isso pode acontecer, √© claro, √© muito complexo) esse trabalho n√£o deve demorar mais que uma hora de trabalho. </li></ol><br>  Acreditamos que conseguimos implementar elegantemente esses requisitos e este artigo descrever√° como isso √© feito. <br><br>  No momento, n√£o conhe√ßo sistemas com gr√°ficos igualmente vers√°teis (se voc√™ souber, escreva nos coment√°rios, √© interessante ver) <br><br>  O diagrama geral da configura√ß√£o do gr√°fico √© mais ou menos assim (n√£o julgue estritamente, eu mesmo o desenhei).  Cada elemento √© necess√°rio aqui, n√£o h√° sup√©rfluo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/31f/195/d8e/31f195d8ef33018c131e1a6a057e57be.png" alt="imagem"></div><br>  Todo o trabalho come√ßa com a compreens√£o de qual conjunto de dados deve estar no registro e a cria√ß√£o de uma tabela no banco de dados para esse planejamento. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a9/d1a/76c/2a9d1a76ccea5417b00ebabd4831fd2b.png" alt="imagem"></div><br>  Por exemplo, para um cronograma de trabalho em tarefas em uma empresa de telecomunica√ß√µes, √© importante saber quando o trabalho ser√° realizado, em qual tarefa, em qual objeto e qual grupo de engenheiros executar√° esse trabalho. <br><br>  Portanto, formamos uma tabela em que h√° todos esses campos de informa√ß√µes + servi√ßo com o ID do registro do registro.  (PS: as tabelas que podemos editar diretamente na nuvem a partir do navegador). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c35/69b/13e/c3569b13e21de54f213e501781a15c85.png" alt="imagem"><br><br>  Este √© um caso simples, mas pode ser muito mais complicado, onde h√° mais campos ou v√°rias tabelas. <br><br>  √â isso, a estrutura de armazenamento √© formada e agora o cronograma precisa saber como trabalhar com ela.  Cada entrada pode ser adicionada, exibida, modificada e exclu√≠da. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a73/c3e/d10/a73c3ed10af13f4b26a8b7d911d1df3f.png" alt="imagem"></div><br>  Porque  Se o conjunto de dados e a estrutura de armazenamento puderem ser arbitr√°rios, essa estrutura dever√° ser tratada atrav√©s do procedimento armazenado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbf/de3/22a/cbfde322a3ab57cd37f3e82dcc876065.png" alt="imagem"></div><br>  Primeiro voc√™ precisa criar o procedimento.  No nosso exemplo, o caso √© simples e pode ser criado no configurador com um bot√£o, usando a fun√ß√£o "Criar procedimentos padr√£o".  O sistema por si s√≥, de acordo com esta tabela, criar√° procedimentos para tirar, alterar, excluir e v√°rias conclus√µes. <br><br>  Por exemplo, um fragmento de um procedimento de adi√ß√£o criado automaticamente se parece com isso <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bb6/188/e17/bb6188e17555f681c7ee630395b79ea9.png" alt="imagem"><br><br>  Todos os procedimentos s√£o editados diretamente da interface da web.  A l√≥gica de compila√ß√£o √© semelhante ao PL-SQL. <br><blockquote>  Se algo for complexo, esses procedimentos poder√£o ser editados dependendo da estrutura de armazenamento e v√°rias condi√ß√µes, loops, sele√ß√µes, atualiza√ß√µes, inser√ß√µes etc. poder√£o ser definidos.  Em geral, desenhe qualquer estrutura de processamento. </blockquote><br>  A programa√ß√£o em cada a√ß√£o indica qual procedimento √© respons√°vel por essa a√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/b89/d94/d1cb89d9445dce34a4d17497e8babd6b.png" alt="imagem"></div><br>  <b>Configura√ß√µes de agendamento "integradas"</b> <br><br>  Mas tamb√©m existem configura√ß√µes "com fio" que s√≥ podem ser configuradas, mas n√£o alteradas.  Isso simplesmente n√£o √© necess√°rio. <br><br>  - Coordenadas de data e hora s√£o propriedade integrante de qualquer registro <br>  - A localiza√ß√£o do gr√°fico no sistema.  Ele √© editado usando o editor interno da interface e n√£o √© necess√°rio fazer isso no pr√≥prio gr√°fico. <br>  - A mem√≥ria de onde o usu√°rio estava - n√£o h√° necessidade de configurar diretamente essa propriedade. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/e93/61b/0d4e9361bbf4c0bfecab5a5c15f9d509.png" alt="imagem"></div><br><br>  Nas configura√ß√µes, a Etapa (por exemplo, uma grade de 20 minutos ou 30) e o Intervalo de horas de trabalho (por exemplo, de 8 a 20) tamb√©m podem ser especificados. <br><br>  √â necess√°rio um intervalo de tempo para reduzir o excesso, por exemplo, se todos os funcion√°rios trabalharem 8 horas por dia √∫til padr√£o, n√£o faz sentido exibir o hor√°rio noturno. <br><br>  Etapa - define a grade do gr√°fico.  Por exemplo, em uma cl√≠nica, pode haver um hor√°rio de consulta m√©dica por 20 minutos, em outras 15, na terceira 30. Tudo isso √© configur√°vel. <br><br>  No entanto, isso n√£o significa que a grava√ß√£o n√£o possa ser feita fora da grade.  Voc√™ pode fazer quaisquer entradas, mas elas ser√£o exibidas na grade. <br><br>  O intervalo de etapas que podemos definir 5, 10, 15, 30, 60 minutos. <br><br>  <b>Sa√≠da de grava√ß√£o</b> <br><br>  N√£o √© suficiente criar e especificar um procedimento.  √â necess√°rio que o cronograma entenda como trabalhar com ele por sua parte. <br><img src="https://habrastorage.org/getpro/habr/post_images/3e4/628/df2/3e4628df2e8400044e56803e3601a343.png" alt="imagem"><br><br>  <u>Chap√©u</u> <br><br>  O mais importante √© indicar o cabe√ßalho do gr√°fico.  Qual dos campos de sa√≠da do procedimento deve ser um cabe√ßalho. <br><br>  Considere a l√≥gica de criar um hor√°rio de aula em uma organiza√ß√£o educacional.  Suponha que um registro tenha um conjunto de grupos de professores. <br><br>  Aqui voc√™ pode fazer um cabe√ßalho para Professores, ent√£o o cronograma ser√° formado da seguinte forma: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d99/ccf/1dc/d99ccf1dcb8c58e67f9f6d14fd8ed6fc.png" alt="imagem"><br><br>  mas voc√™ pode por grupo, e assim: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2e9/6ca/6af/2e96ca6afdb09b4af6d160d97a0ed56f.png" alt="imagem"><br>  mas geralmente voc√™ pode criar dois gr√°ficos diferentes e exibi-lo da maneira que desejar, os usu√°rios o escolher√£o.  Nesse caso, os mesmos dados ser√£o usados, os mesmos procedimentos.  Altera√ß√µes em um gr√°fico ser√£o alteradas em outro. <br><br>  Mas, em geral, a escolha depende das quest√µes de conveni√™ncia.  Um chap√©u deve ser uma informa√ß√£o fundamental que muda pouco.  Se voc√™ servir um n√∫mero fixo de objetos - esses devem ser eles.  Se voc√™ tem um n√∫mero fixo de grupos, eles s√£o. <br><br>  Voc√™ pode fazer coisas interessantes com um chap√©u.  Por exemplo, se voc√™ indicar o status da tarefa como um cabe√ßalho, quando o status da tarefa for alterado, o registro da tarefa no gr√°fico passar√° para o pr√≥prio status correspondente.  I.e.  de fato, quase pranchas kanban podem ser feitas aqui, etc.  coisas  Quando vinculamos dados de registro por meio de procedimentos para exibir informa√ß√µes no sistema, elas tamb√©m podem ganhar vida em gr√°ficos.  Mecanismo muito flex√≠vel. <br><br>  Al√©m disso, se voc√™ definir condi√ß√µes de filtragem no procedimento, poder√° criar dados de cabe√ßalho no gr√°fico levando em considera√ß√£o filtros arbitr√°rios. <br><br>  <u>O que n√£o produzir</u> <br><br>  Voc√™ tamb√©m pode especificar o que exibir nos registros e o que n√£o.  Por exemplo, no procedimento, alguns identificadores de servi√ßo para pacotes configur√°veis ‚Äã‚Äãpodem ser exibidos como resultados.  Esta informa√ß√£o, n√£o significativa para o usu√°rio, pode ser ignorada na conclus√£o. <br><br>  <u>O que esconder</u> <br><br>  E voc√™ pode exibir, mas minimizar para gato.  Informa√ß√µes que n√£o s√£o muito importantes, mas que √†s vezes s√£o necess√°rias.  Por exemplo, quem e quando criou esse registro pode ser necess√°rio apenas no caso de algum tipo de confronto, mas n√£o no trabalho operacional. <br><br>  <u>Refer√™ncias</u> <br><br>  Tamb√©m √© muito conveniente quando algum campo pode ser um link. <br><br>  Por exemplo, se fizermos uma programa√ß√£o para as tarefas, por que n√£o clicar no n√∫mero para entrar na tarefa? <br><br>  Temos um mecanismo de liga√ß√£o padr√£o no configurador.  Voc√™ pode faz√™-los l√° e associar-se ao campo no gr√°fico.  Tudo funciona. <br><br>  <u>T√≠tulo</u> <br><br>  Obviamente, o campo deve ser chamado de alguma forma.  Por padr√£o, o sistema receber√° o nome do campo do procedimento, mas nem sempre √© correto para a percep√ß√£o.  Portanto, √†s vezes voc√™ precisa inserir nomes alternativos. <br><br>  Por exemplo, todos os itens acima conosco s√£o assim.  Em frente aos campos deste procedimento est√£o marcados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/51b/82f/63b/51b82f63b691a63c6f4cbbdcbdf48f87.png" alt="imagem"><br><br>  A sa√≠da do registro ficar√° assim: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/800/186/2da/8001862da13cdce1c1e6345afaefb534.png" alt="imagem"><br><br>  <b>Adicionando uma nova entrada</b> <br><br>  Os campos para adicionar um novo registro devem ser determinados pelo procedimento de adi√ß√£o.  As informa√ß√µes devem ser fornecidas para cada par√¢metro de entrada do procedimento. <br><br>  Mas h√° um truque.  Os campos podem ser n√£o apenas texto, mas tamb√©m listas. <br><br>  Vamos dar o nosso exemplo para uma telecom, onde h√° uma tarefa, grupo, objeto.  N√£o for√ßaremos o usu√°rio a procurar identificadores de objetos e conduzi-los.  √â necess√°rio que exista uma lista pop-up com as informa√ß√µes necess√°rias.  Onde conseguir? <br><br>  Para fazer isso, o campo de entrada do procedimento deve puxar outro procedimento, que por exemplo fornecer√° uma lista de tarefas reais ou uma lista de objetos necess√°rios, etc.  Ao mesmo tempo, voc√™ n√£o pode apenas especificar os campos de uma tabela,  pode haver filtros complexos.  As mesmas tarefas j√° podem ter 10.000 carimbos no sistema, mas uma lista de 100 t√≥picos deve ser exibida agora. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a6e/018/bb9/a6e018bb9c11aba8e1d9ed3da5caa700.png" alt="imagem"><br><br>  Em geral, um procedimento que se contrai no campo de outro procedimento. <br><br>  Na verdade, isso parece assustador.  Essas coisas s√£o bem automatizadas, os procedimentos de acordo com os diret√≥rios padr√£o s√£o obtidos com um bot√£o.  Procedimentos para v√°rias listas de grupos, tarefas, aplicativos, etc.  implementado por muito tempo para a opera√ß√£o de v√°rios m√≥dulos de CRM.  Eles s√≥ precisam ser selecionados.  Se j√° existe um procedimento com funcionalidade semelhante, ele √© copiado e editado. <br><br>  Tamb√©m √© necess√°rio indicar qual dos campos adicionados ser√° um cabe√ßalho.  N√≥s precisaremos disso no sistema de edi√ß√£o. <br><br>  Parece assim para n√≥s: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a0/11d/61e/3a011d61ed65568957a738401102072c.png" alt="imagem"><br><br>  <b>Editar registro</b> <br><br>  Ainda √© mais interessante aqui.  N√£o basta exibir todos os campos nas listas, como no ap√™ndice.  √â necess√°rio nessas listas selecionar a posi√ß√£o atual (selecionada).  Estamos editando. <br><br>  Para fazer isso, voc√™ precisa associar os campos de cria√ß√£o aos campos de sa√≠da.  E no caso de uma caixa de listagem, n√£o √© apenas um prumo das informa√ß√µes da sa√≠da, mas o identificador dessas informa√ß√µes. <br><br>  I.e.  aqui √© necess√°rio: <br><br>  a) indicar o procedimento de edi√ß√£o <br>  b) associe seus campos aos campos de adi√ß√£o <br>  c) associe seus campos aos campos da sa√≠da dos dados do registro para colocar os dados atuais nas listas <br><br>  N√£o h√° outros recursos para indicar aqui, porque  j√° configuramos Sa√≠da e adi√ß√£o. <br><br>  Quando a janela de edi√ß√£o √© exibida, o sistema chama o procedimento necess√°rio para cada campo, recebe dados, compara-os com os dados da sa√≠da do registro, coloca selecionados nas listas e insere os valores atuais em campos simples. <br><br>  Parece que isso com a gente <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f40/c42/c7d/f40c42c7d76fe365837c7456f0ffb4e2.png" alt="imagem"><br><br>  <b>Excluir registro</b> <br><br>  A remo√ß√£o √© a mais f√°cil.  O procedimento de exclus√£o com um par√¢metro de entrada √© simplesmente indicado: o ID do registro do gr√°fico. <br><br>  <b>Manipula√ß√£o de eventos ao adicionar / modificar / excluir registros.</b>  <b>Triggers</b>  <b>Registros Cruzados.</b> <br><br>  Apenas adicionar / modificar entradas nos gr√°ficos n√£o √© suficiente.  Voc√™ ainda precisa gerenciar eventos.  Isso abre um escopo ilimitado para configura√ß√£o. <br><br>  Gerenciar eventos √© realmente muito simples.  Afinal, j√° temos tabelas nas quais os dados dos registros gr√°ficos s√£o armazenados.  Voc√™ pode definir gatilhos de qualquer complexidade nessas tabelas.  Nosso configurador de nuvem facilita isso. <br><br>  Por exemplo, eram necess√°rios registros, quem fez o que na grava√ß√£o.  Tudo √© simples.  Uma tabela √© criada para os logs e gatilhos s√£o colocados na tabela do gr√°fico que grava os dados de modifica√ß√£o em uma tabela com logs. <br><br>  Tamb√©m gra√ßas a isso, est√£o dispon√≠veis grava√ß√µes cruzadas.  Por exemplo, quando uma tarefa √© definida em um grupo em nosso exemplo, voc√™ pode identificar todos os participantes desse grupo e colocar um dobro desse registro em seus gr√°ficos pessoais.  Colocar gr√°ficos pessoais nesse caso significa fazer um registro na tabela de dados de um gr√°fico pessoal.  Ele tamb√©m √© um gr√°fico neste sistema, apenas configurado de maneira diferente e exibido em outro local.  Esta entrada aparecer√° nela. <br><br>  Ou voc√™ precisa enviar uma notifica√ß√£o para os usu√°rios do grupo.  Ou envie um SMS ao cliente informando que eles o procurar√£o para executar o trabalho em tal e qual tarefa de vez em quando.  Para fazer isso, s√£o feitos gatilhos que fazem entradas nas tabelas de notifica√ß√£o ou no SMS. <br><br>  <b>Relat√≥rios</b> <br><br>  Tamb√©m s√£o necess√°rios relat√≥rios de gr√°fico e, com essa estrutura, eles podem ser feitos. <br><br>  Por exemplo, era necess√°rio fazer um relat√≥rio sobre quanto tempo os funcion√°rios estavam viajando no m√™s anterior.  Vamos ao configurador de relat√≥rios, selecionamos a tabela desejada em que as entradas do gr√°fico s√£o armazenadas, configuramos os filtros e as fun√ß√µes de agrega√ß√£o necess√°rios - e vaul, o relat√≥rio est√° pronto. <br><br>  <b>Outros usos dos dados do gr√°fico</b> <br><br>  Os dados gr√°ficos podem ser usados ‚Äã‚Äãem qualquer lugar com um configurador de sistema avan√ßado.  Por exemplo, nas tarefas, conseguimos fazer facilmente a guia Gr√°ficos e, em um procedimento simples, exibir informa√ß√µes sobre quanto tempo e quem tinha essa tarefa para execu√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a1/7eb/378/3a17eb3782109da8fa21ee8387f64a73.png" alt="imagem"><br><br>  <b>Sobreposi√ß√µes de tempo</b> <br><br>  Eles acontecem.  E n√£o h√° nada pior do que registros batendo um no outro e n√£o permitindo a leitura do registro necess√°rio.  Este problema tamb√©m foi resolvido.  O sistema de entradas sobrepostas √© colocado automaticamente nas proximidades.  Nesse caso, apenas html simples √© usado, apenas a estrutura da tabela √© constru√≠da da maneira necess√°ria para isso.  O sistema cuida de qualquer profundidade, mas mais de 2 entradas s√£o raras. <br><br>  Obviamente, se o tempo se sobrepuser, provavelmente algo n√£o est√° planejado.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma pessoa n√£o pode estar simultaneamente em dois lugares, mas mesmo essas situa√ß√µes devem ser exibidas corretamente. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/abf/c1d/0c7/abfc1d0c75b4161d0c4d22fa47d859c4.png" alt="imagem"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acesso e seguran√ßa O</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> acesso √© dividido em 2 n√≠veis. Sistema e gr√°ficos pessoais. O sistema √© definido como um todo pelo editor de Fun√ß√µes e pelos direitos padr√£o especificados no configurador de interface. Por exemplo, se esta c√©lula da p√°gina (ou as guias, p√°ginas e menus herdados acima) tiver negado o acesso de leitura, nenhum usu√°rio ver√° esse gr√°fico no n√≠vel de exibi√ß√£o da interface at√© atribuir direitos de leitura a essa √°rea nas Fun√ß√µes do Usu√°rio. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, v√™m os direitos internos do cronograma. Eles podem ser </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) Edi√ß√£o </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- apenas o autor </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- apenas o grupo do autor (todos os funcion√°rios inclu√≠dos nos grupos dos quais o autor do registro √© membro)</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - apenas a divis√£o do autor (todos os funcion√°rios inclu√≠dos na divis√£o do autor, de acordo com o estoque) </font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS: o grupo de trabalho e o pessoal podem diferir de n√≥s. </font><font style="vertical-align: inherit;">Por exemplo, em uma unidade, pode haver v√°rios grupos de trabalho ou funcion√°rios de diferentes unidades podem estar no mesmo grupo. </font><font style="vertical-align: inherit;">O mesmo funcion√°rio tamb√©m pode estar em grupos diferentes ao mesmo tempo. </font><font style="vertical-align: inherit;">Todo esse sistema leva em considera√ß√£o.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) A remo√ß√£o √© semelhante. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- apenas o autor </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- apenas o grupo </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- apenas a divis√£o </font></font><br><br> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que precisamos de direitos internos? </font></font></u> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se essa √© uma agenda pessoal ou h√° alguns recursos, faz sentido colocar apenas o autor. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por√©m, h√° equipes de plant√£o e situa√ß√µes em que o registro precisa ser editado e o funcion√°rio n√£o est√° no trabalho.</font></font> O que fazer<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faz sentido definir esses agendamentos para edi√ß√£o por um grupo ou unidade, para que outros funcion√°rios do turno possam trabalhar com esses registros. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, a fun√ß√£o, que tem o direito de administrar, pode ser indicada no cronograma. </font><font style="vertical-align: inherit;">Os funcion√°rios com essa fun√ß√£o ter√£o direitos para editar e excluir, independentemente de grupos e unidades.</font></font><br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui temos uma coisa t√£o legal, que simplifica bastante a vida, quando voc√™ sabe como us√°-la, √© claro. </font><font style="vertical-align: inherit;">Imediatamente pessoa inexperiente pode ser dif√≠cil de descobrir. </font><font style="vertical-align: inherit;">Mas temos que definir esse cronograma de uma forma simples, √© cerca de uma hora de trabalho. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso, tamb√©m temos os mais profundos recursos de configura√ß√£o e a possibilidade de intera√ß√£o com outros elementos do sistema.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt430674/">https://habr.com/ru/post/pt430674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt430664/index.html">O papel do l√≠der da equipe no recrutamento</a></li>
<li><a href="../pt430666/index.html">Como avaliar o desempenho da equipe</a></li>
<li><a href="../pt430668/index.html">Sozinho no campo n√£o √© um guerreiro. O caminho para o trabalho em equipe eficaz</a></li>
<li><a href="../pt430670/index.html">Gerenciamento de arranjos</a></li>
<li><a href="../pt430672/index.html">Vers√£o em texto do relat√≥rio "Atores vs CSP x Tarefas ..." com C ++ CoreHard Outono de 2018</a></li>
<li><a href="../pt430676/index.html">Antiguidades: shshshsh, sssssss, VOIP, BBS e outros amigos do modem</a></li>
<li><a href="../pt430678/index.html">Teste de dez dimmers com l√¢mpadas LED</a></li>
<li><a href="../pt430680/index.html">Escrevendo um processador e ambiente simples para ele</a></li>
<li><a href="../pt430682/index.html">Tr√™s anos do projeto de microssat√©lites lunares: est√°gios de crescimento</a></li>
<li><a href="../pt430684/index.html">Digitaliza√ß√£o de contratos do Ethereum ao vivo para erro de envio n√£o verificado. Parte 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>