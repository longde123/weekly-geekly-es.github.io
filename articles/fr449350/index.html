<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö™ ü§∞üèø ‚úçüèæ Keybase et vrai TOFU ü•† üòÖ üìè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les messagers avec cryptage de bout en bout (E2E), l'utilisateur est responsable de ses cl√©s. Lorsqu'il les perd, il est oblig√© de r√©initialiser ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keybase et vrai TOFU</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449350/">  Dans les messagers avec cryptage de bout en bout (E2E), l'utilisateur est responsable de ses cl√©s.  Lorsqu'il les perd, il est oblig√© de r√©initialiser son compte. <br><br>  La r√©initialisation d'un compte est dangereuse.  Vous effacez les cl√©s publiques et dans toutes les conversations devenez un inconnu cryptographique.  Vous devez restaurer votre identit√©, et dans presque tous les cas, cela signifie une r√©union personnelle et une comparaison des ¬´num√©ros de s√©curit√©¬ª avec chacun des contacts.  √Ä quelle fr√©quence passez-vous vraiment un tel test, qui est la seule protection contre MiTM? <br><br>  M√™me si vous √™tes s√©rieux au sujet des num√©ros de s√©curit√©, vous ne voyez de nombreux partenaires de chat qu'une fois par an lors d'une conf√©rence, donc vous √™tes coinc√©. <br><a name="habracut"></a><br>
<h1>  Mais cela arrive rarement, non? </h1><br>  √Ä quelle fr√©quence une r√©initialisation se produit-elle?  R√©ponse: dans la plupart des applications de chat E2E tout le temps. <br><br>  Dans ces messageries instantan√©es, vous abandonnez la cryptographie et commencez simplement √† faire confiance au serveur: (1) chaque fois que vous passez √† un nouveau t√©l√©phone;  (2) chaque fois qu'un interlocuteur passe √† un nouveau t√©l√©phone;  (3) lors de la r√©initialisation aux param√®tres d'usine du t√©l√©phone;  (4) lorsqu'un interlocuteur effectue une r√©initialisation aux param√®tres d'usine;  (5) chaque fois que vous d√©sinstallez et r√©installez l'application, ou (6) lorsqu'une personne √† qui vous parlez la d√©sinstalle et la r√©installe.  Si vous avez des dizaines de contacts, une r√©initialisation aura lieu tous les quelques jours. <br><br>  La r√©initialisation se produit si r√©guli√®rement que ces applications pr√©tendent que ce n'est pas un probl√®me: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbe/046/a7f/dbe046a7fde23783eff076ae8a59084a.png"></div><br>  <i>Il semble que nous ayons une mise √† niveau de s√©curit√©!</i>  <i>(Mais pas vraiment)</i> <br><br><h1>  Est-ce vraiment TOFU? </h1><br>  En cryptographie, le terme TOFU ("confiance √† la premi√®re utilisation") d√©crit un jeu de hasard lorsque deux parties s'expriment pour la premi√®re fois.  Au lieu de se rencontrer en personne, le m√©diateur est responsable de chaque c√¥t√© ... puis, apr√®s que les parties se sont pr√©sent√©es, chaque partie surveille attentivement les cl√©s pour s'assurer que rien n'a chang√©.  Si la cl√© a chang√©, chaque c√¥t√© donne une alarme. <br><br>  Si la cl√© de l'h√¥te distant change dans SSH dans une telle situation, elle ne "fonctionnera pas", mais deviendra compl√®tement belliqueuse: <br><br><blockquote><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> @ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @ <br> @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ <br> <br> IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY! <br> Someone could be eavesdropping on you right now (man-in-the-middle attack)! <br> It is also possible that a host key has just been changed. <br> The fingerprint for the RSA key sent by the remote host is <br> 00:11:22:33:44:55:66:77:88:99:aa:bb:cc:dd:ee:ff <br> Please contact your system administrator. <br> Add correct host key in /Users/rmueller/.ssh/known_hosts to get rid of this message. <br> Offending RSA key in /Users/rmueller/.ssh/known_hosts:12 <br> RSA host key for 8.8.8.8 has changed and you have requested strict checking. <br> Host key verification failed.</code> </blockquote> <br>  Voici le comportement correct.  Et rappelez-vous: <b>ce n'est pas TOFU s'il vous permet de continuer √† travailler avec un petit avertissement.</b>  <b>Vous devriez voir un cr√¢ne g√©ant avec des os crois√©s</b> . <br><br>  Bien s√ªr, ces messagers instantan√©s diront que tout va bien, car l'utilisateur est pr√©venu.  S'il le souhaite, il <i>peut</i> v√©rifier les num√©ros de s√©curit√©.  C'est pourquoi nous ne sommes pas d'accord: <br><br><ol><li>  La v√©rification n'est pas effectu√©e car elle se produit trop souvent. <br></li><li>  V√©rifiez suce. <br></li><li>  M√™me une br√®ve enqu√™te aupr√®s de nos amis soucieux de la s√©curit√© a montr√© que personne ne s'inqui√®te de ce test. <br></li><li>  Il s'agit donc simplement de faire confiance au serveur et aux SMS (enfin, bien!) <b>Encore et encore</b> . <br></li><li>  Enfin, ces applications ne devraient pas fonctionner de cette fa√ßon.  Surtout lors du changement d'appareils.  Un cas normal typique peut √™tre trait√© sans √†-coups et en toute s√©curit√©, et plus la situation est rare, plus elle devrait √™tre pire.  Dans une minute, montrez la solution Keybase. </li></ol><br><h1>  Arr√™tez de l'appeler TOFU </h1><br>  Il y a une attaque tr√®s efficace.  Supposons qu'Eve veuille s'introduire dans la conversation existante d'Alice et Bob et se tenir entre eux.  Alice et Bob sont en contact depuis de nombreuses ann√©es, ayant depuis longtemps pass√© TOFU. <br><br>  Eve fait juste penser √† Alice que Bob a achet√© un nouveau t√©l√©phone: <br><br><blockquote>  <b>Bob (Eve):</b> H√©, h√©! <br><br>  <b>Alice:</b> Yo, Bob!  Il semble que vous ayez de nouveaux num√©ros de s√©curit√©. <br><br>  <b>Bob (Eve):</b> Oui, j'ai achet√© l'iPhone XS, un bon t√©l√©phone, tr√®s content.  √âchangeons les num√©ros de s√©curit√© sur le RWC 2020. H√©, avez-vous votre adresse Caroline actuelle?  Je veux la surprendre pendant que je suis √† San Francisco. <br><br>  <b>Alice: Je</b> ne peux pas comparer, Android 4 life!  Oui, Cosy Street 555. </blockquote><br>  Par cons√©quent, il est peu probable que la plupart des messagers chiffr√©s obtiennent la conformit√© TOFU.  Cela ressemble plus √† TADA - faites confiance apr√®s avoir ajout√© des appareils.  Il s'agit d'un probl√®me r√©el et non fictif, car il cr√©e la possibilit√© d'une impl√©mentation malveillante dans une conversation pr√©existante.  Dans le vrai TOFU, au moment o√π quelqu'un s'int√©resse √† votre conversation, il ne pourra pas l'infiltrer.  Avec TADA, c'est possible. <br><br>  Dans les discussions de groupe, la situation est encore pire.  Plus il y a de personnes dans le chat, plus souvent le compte sera r√©install√©.  Dans une entreprise de seulement 20 personnes, cela se produira environ toutes les deux semaines, selon notre estimation.  Et chaque personne dans l'entreprise doit rencontrer cette personne.  Personnellement.  Sinon, le chat entier est compromis par une taupe ou un pirate. <br><br><h1>  Solution </h1><br>  Existe-t-il une bonne solution qui n'implique pas la confiance dans les serveurs de cl√©s priv√©es?  Nous pensons qu'il existe: un support r√©el pour plusieurs appareils.  Cela signifie que vous g√©rez une cha√Æne d'appareils qui repr√©sentent votre identit√©.  Lorsque vous recevez un nouvel appareil (t√©l√©phone, ordinateur portable, ordinateur de bureau, iPad, etc.), il g√©n√®re sa propre paire de cl√©s et votre ancien appareil le signe.  Si vous perdez l'appareil, ¬´supprimez-le¬ª de l'un des autres.  Techniquement, une telle suppression est un rappel, et dans ce cas, il existe √©galement une sorte d'inversion de cl√© qui se produit automatiquement. <br><br>  Par cons√©quent, <b>vous n'avez pas besoin de faire confiance au serveur ou de vous rencontrer en personne lorsque l'interlocuteur ou le coll√®gue re√ßoit un nouvel appareil</b> .  De m√™me, vous n'avez pas besoin de faire confiance au serveur ou de vous rencontrer en personne lorsqu'il supprime l'appareil, s'il n'√©tait pas le dernier.  La seule fois o√π vous devez voir un avertissement, c'est lorsque quelqu'un perd vraiment l'acc√®s √† tous ses param√®tres.  Et dans ce cas, vous verrez un avertissement s√©rieux, comme il se doit: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b52/c11/c30/b52c11c30705695088a044658f3fb608.png"></div><br>  <i><font color="gray">Particuli√®rement laid au maximum</font></i> <br><br>  Par cons√©quent, beaucoup moins de comptes sont r√©initialis√©s et r√©install√©s.  Historiquement, sur Keybase, le nombre total de modules compl√©mentaires et d'avis sur les appareils est <b>dix fois le</b> nombre de d√©charges de compte (vous n'avez pas besoin de nous croire sur parole, c'est accessible au public dans notre arborescence Merkle).  Contrairement √† d'autres messageries instantan√©es, nous pouvons afficher un avertissement vraiment terrifiant lorsque vous parlez √† quelqu'un qui a r√©cemment r√©install√© les cl√©s. <br><br>  La gestion des appareils est une op√©ration d'ing√©nierie complexe que nous avons raffin√©e √† plusieurs reprises.  Le p√©riph√©rique existant signe les cl√©s publiques du nouveau p√©riph√©rique et chiffre toutes les donn√©es secr√®tes importantes pour la cl√© publique du nouveau p√©riph√©rique.  Cette op√©ration doit √™tre effectu√©e rapidement (en une seconde), car nous parlons de la plage d'attention de l'utilisateur.  Par cons√©quent, Keybase utilise une hi√©rarchie de cl√©s, de sorte que lors du transfert de 32 octets de donn√©es secr√®tes √† partir d'un ancien appareil, le nouvel appareil peut voir toutes les donn√©es cryptographiques √† longue dur√©e de vie (voir la FAQ ci-dessous pour plus de d√©tails).  Cela peut sembler un peu surprenant, mais <i>c'est exactement le but de la cryptographie</i> .  Il ne r√©sout pas vos probl√®mes de gestion des secrets, il rend simplement le syst√®me plus √©volutif. <br><br><h1>  L'image compl√®te de la s√©curit√© </h1><br>  Nous pouvons maintenant formuler quatre propri√©t√©s de s√©curit√© de base pour l'application Keybase: <br><br><ol><li>  les cl√©s secr√®tes durables ne quittent jamais les appareils sur lesquels elles sont cr√©√©es <br></li><li>  la prise en charge compl√®te de plusieurs appareils minimise les baisses de compte <br></li><li>  la r√©vocation d'une cl√© ne peut pas √™tre retard√©e ou annul√©e de mani√®re malveillante <br></li><li>  secret direct √† l'aide de messages horaires √©ph√©m√®res </li></ol><br>  Les deux premiers semblent compr√©hensibles.  Un troisi√®me devient important dans une conception o√π le rappel de l'appareil est attendu et consid√©r√© comme normal.  Le syst√®me doit v√©rifier que les serveurs malveillants ne peuvent pas retarder les examens des appareils, dont nous avons <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">parl√© plus t√¥t</a> . <br><br>  Consultez notre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article sur la messagerie √©ph√©m√®re pour</a> plus d'informations sur la quatri√®me <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonctionnalit√© de</a> s√©curit√©. <br><br><h1>  Beaucoup de nouvelle cryptographie, tout est-il correctement impl√©ment√©? </h1><br>  Keybase n'a jamais impl√©ment√© les fonctions de s√©curit√© de base auparavant et ne l'a m√™me jamais d√©crit dans des articles scientifiques.  Nous avons d√ª inventer nous-m√™mes des <i>protocoles</i> cryptographiques.  Heureusement, il existe de nombreux <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i>algorithmes de</i> chiffrement</a> standardis√©s et largement utilis√©s pour toutes les situations.  Tout notre code client est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ouvert</a> .  Th√©oriquement, n'importe qui peut trouver des erreurs de conception ou d'impl√©mentation.  Mais nous voulions <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©montrer la structure interne</a> et avons engag√© le meilleur cabinet d'audit de s√©curit√© pour une analyse compl√®te. <br><br>  Aujourd'hui, nous pr√©sentons le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">rapport du</a> Groupe NCC et sommes extr√™mement encourag√©s par les r√©sultats.  Keybase a d√©pens√© plus de 100 000 $ en audit et le groupe NCC a embauch√© des experts de haut niveau en s√©curit√© et en cryptographie.  Ils ont trouv√© deux erreurs importantes dans notre impl√©mentation, et nous les avons rapidement corrig√©es.  Ces bogues ne pouvaient appara√Ætre que si nos serveurs avaient agi avec malveillance.  Nous pouvons vous assurer qu'ils n'agiront pas ainsi, mais vous n'avez aucune raison de nous croire.  <i>Voil√† la chose!</i> <br><br>  Nous croyons que l'√©quipe de la CCN a fait un excellent travail.  Respect du temps pass√© √† comprendre pleinement notre architecture et notre impl√©mentation.  Ils ont trouv√© des erreurs subtiles qui ont attir√© l'attention de nos d√©veloppeurs, bien que nous ayons r√©cemment observ√© cette partie de la base de code √† plusieurs reprises.  Nous vous recommandons de consulter le rapport <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> ou de consulter notre FAQ. <br><br><h1>  FAQ </h1><br><h3>  Comment osez-vous attaquer un produit XYZ? </h3><br>  Nous avons d√©j√† supprim√© les r√©f√©rences √† des produits sp√©cifiques de l'article. <br><br><h3>  Quoi d'autre? </h3><br>  Nous sommes fiers que Keybase ne n√©cessite pas de num√©ros de t√©l√©phone et puisse v√©rifier cryptographiquement les identifiants Twitter, HackerNews, Reddit et Github si vous connaissez quelqu'un. <br><br>  Et ... tr√®s bient√¥t ... il y aura un soutien pour Mastodon. <br><br><h3>  Qu'en est-il des attaques par redirection de t√©l√©phone? </h3><br>  De nombreuses applications sont susceptibles de rediriger les attaques.  Eve entre dans un kiosque dans un centre commercial et convainc Bob, l'op√©rateur mobile, de transmettre le num√©ro de t√©l√©phone de Bob √† son appareil.  Ou elle convainc le repr√©sentant par t√©l√©phone.  D√©sormais, Eve peut s'authentifier sur les serveurs de messagerie, affirmant qu'elle est Bob.  Le r√©sultat ressemble √† notre exemple d'Alice, Bob et Eve est plus √©lev√©, mais Eve n'a pas besoin de p√©n√©trer dans les serveurs.  Certaines applications offrent un ¬´blocage d'enregistrement¬ª pour se prot√©ger contre cette attaque, mais par d√©faut, elles sont ennuyeuses. <br><br><h3>  J'ai entendu que Keybase envoie des cl√©s priv√©es au serveur? </h3><br>  Au d√©but (2014 et d√©but 2015), Keybase fonctionnait comme une application Web PGP, et l'utilisateur pouvait choisir la fonction pour stocker ses cl√©s PGP priv√©es sur nos serveurs, chiffr√©es avec des mots de passe (que Keybase ne connaissait pas). <br><br>  En <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">septembre 2015,</a> nous avons pr√©sent√© le nouveau mod√®le Keybase.  Les cl√©s PGP ne sont jamais utilis√©es (et jamais utilis√©es) dans le chat ou le syst√®me de fichiers Keybase. <br><br><h3>  Comment les anciens chats apparaissent-ils instantan√©ment sur les nouveaux t√©l√©phones? </h3><br>  Dans certaines autres applications, les nouveaux appareils ne voient pas les anciens messages, car la synchronisation des anciens messages via le serveur est contraire au secret direct.  L'application Keybase vous permet de d√©signer certains messages - ou des conversations enti√®res - comme ¬´√©ph√©m√®res¬ª.  Ils sont d√©truits apr√®s un certain temps et sont crypt√©s deux fois: une fois √† l'aide de cl√©s de cryptage de conversation de longue dur√©e, et l'autre √† l'aide de cl√©s √©ph√©m√®res changeant fr√©quemment.  Ainsi, les messages √©ph√©m√®res fournissent un secret direct et ne peuvent pas √™tre synchronis√©s entre les t√©l√©phones. <br><br>  Les messages non √©ph√©m√®res restent jusqu'√† ce que l'utilisateur les supprime explicitement et que E2E se synchronise avec les nouveaux appareils de style Slack, uniquement avec cryptage!  Par cons√©quent, lorsque vous ajoutez quelqu'un √† une √©quipe ou ajoutez un nouvel appareil pour vous-m√™me, les messages sont d√©bloqu√©s. <br><br>  Plus d'informations sur la synchronisation dans le paragraphe suivant. <br><br><h3>  Parlez-nous des PUK! </h3><br>  Il y a deux ans, nous avons introduit les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cl√©s pour les utilisateurs (PUK)</a> .  La moiti√© publique du PUK est annonc√©e dans la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cha√Æne</a> publique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des</a> utilisateurs.  La moiti√© secr√®te est crypt√©e pour la cl√© publique de chaque appareil.  Lorsqu'Alice pr√©pare un nouvel appareil, son ancien appareil conna√Æt la moiti√© secr√®te de son PUK et la cl√© publique du nouvel appareil.  Il crypte la moiti√© secr√®te du PUK pour la cl√© publique du nouveau p√©riph√©rique, et le nouveau p√©riph√©rique t√©l√©charge ce texte chiffr√© via le serveur.  Le nouvel appareil d√©chiffre le PUK et peut acc√©der imm√©diatement √† tous les messages de discussion de longue dur√©e. <br><br>  Chaque fois qu'Alice rappelle un appareil, elle change son PUK, de sorte que tous ses appareils, √† l'exception du dernier rappel√©, re√ßoivent un nouveau PUK. <br><br>  Ce sch√©ma de synchronisation est fondamentalement diff√©rent du premier syst√®me Keybase PGP.  Ici, toutes les cl√©s impliqu√©es ont 32 octets de v√©ritable entropie; elles ne cassent pas avec la force brute en cas de piratage de serveur.  Certes, si le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Curve25519</a> ou le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PRNG</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de Go</a> est cass√©, alors tout se casse.  Mais la synchronisation PUK ne fait aucune autre hypoth√®se cryptographique importante. <br><br><h3>  Qu'en est-il des discussions en grand groupe? </h3><br>  <b>Les</b> groupes <b>tL; dr</b> ont leurs propres cha√Ænes de signatures audit√©es pour changer les r√¥les, ajouter et supprimer des membres. <br><br>  Les chercheurs en s√©curit√© ont <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> sur les attaques d'utilisateurs fant√¥mes sur les chats de groupe.  Si les clients des utilisateurs ne sont pas en mesure de v√©rifier cryptographiquement l'appartenance √† un groupe, les serveurs malveillants peuvent int√©grer des logiciels espions et des taupes dans les discussions de groupe.  Keybase dispose d'un syst√®me tr√®s fiable sous la forme d'une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fonction sp√©ciale de groupes</a> , dont nous parlerons √† l'avenir. <br><br><h3>  Pouvez-vous parler de NCC-KB2018-001? </h3><br>  Nous pensons que ce bogue est la d√©couverte la plus importante de l'audit NCC.  Keybase utilise activement des structures de donn√©es immuables pour se prot√©ger contre l'ambigu√Øt√© du serveur de l'ajout uniquement.  Dans le cas d'un bug, un serveur honn√™te peut commencer √† se d√©rober: "Je vous ai dit A plus t√¥t, mais un bug s'est produit, je voulais dire B".  Mais nos clients ont une politique commune de ne pas laisser au serveur une telle flexibilit√©: ils ont <a href="">des exceptions cod√©es</a> en <a href="">dur</a> en cas de bugs. <br><br>  R√©cemment, nous avons √©galement introduit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Sigchain V2</a> : ce syst√®me r√©sout les probl√®mes d'√©volutivit√© que nous n'avions pas correctement pr√©dits dans la premi√®re version.  D√©sormais, les clients sont plus √©conomiques avec les donn√©es cryptographiques qu'ils extraient du serveur, ne recevant qu'une seule signature de la queue de la cha√Æne de signature, plut√¥t que la signature de chaque lien interm√©diaire.  Ainsi, les clients ont perdu l'occasion de rechercher par cycles un hachage de signature sp√©cifique, mais nous avons d√©j√† utilis√© ces hachages pour rechercher de mauvais maillons de cha√Æne dans cette liste d'exceptions cod√©es en dur.  Nous nous pr√©parions pour la sortie de Sigchain V2, oubliant ce d√©tail enfoui sous plusieurs couches d'abstractions, le syst√®me a donc simplement fait confiance au champ √† partir de la r√©ponse du serveur. <br><br>  Une fois que le NCC a d√©couvert cette erreur, le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">correctif a</a> √©t√© assez simple: rechercher des exceptions cod√©es en dur avec un hachage de maillon de cha√Æne plut√¥t qu'avec un hachage de signature de maillon de cha√Æne.  Le client peut toujours calculer directement ces hachages. <br><br>  Nous pouvons √©galement attribuer cette erreur √† la complexit√© suppl√©mentaire requise pour prendre en charge simultan√©ment Sigchain V1 et Sigchain V2.  Les clients modernes √©crivent des liens Sigchain V2, mais tous les clients doivent prendre en charge les liens v1 h√©rit√©s pour une dur√©e illimit√©e.  Rappelez-vous que les clients signent des liens avec leurs cl√©s priv√©es pour chaque appareil.  Nous ne pouvons pas coordonner tous les clients rempla√ßant les donn√©es historiques dans un d√©lai raisonnable, car ces clients peuvent simplement √™tre hors ligne. <br><br><h3>  Pouvez-vous parler de NCC-KB2018-004? </h3><br>  Comme en 001 (voir ci-dessus), nous avons √©t√© d√©√ßus par une certaine combinaison de prise en charge simultan√©e de solutions obsol√®tes et d'optimisation, ce qui semblait important √† mesure que nous gagnions en exp√©rience avec le syst√®me. <br><br>  Dans Sigchain V2, nous r√©duisons la taille des cha√Ænes en octets afin de r√©duire la bande passante n√©cessaire pour rechercher des utilisateurs.  Cette √©conomie est particuli√®rement importante sur les t√©l√©phones portables.  Ainsi, nous encodons les maillons de cha√Æne avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MessagePack</a> , pas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">JSON</a> , ce qui donne de bonnes √©conomies.  √Ä leur tour, les clients signent et v√©rifient les signatures sur ces cha√Ænes.  Les chercheurs de NCC ont trouv√© des moyens d√©licats de cr√©er des ¬´signatures¬ª qui ressemblent √† JSON et MessagePack en m√™me temps, conduisant √† un conflit.  Nous avons involontairement introduit cette ambigu√Øt√© de d√©codage lors de l'optimisation lorsque nous avons bascul√© les analyseurs JSON de l'analyseur Go standard vers un analyseur plus efficace.  Cet analyseur rapide a silencieusement ignor√© un tas d'ordures avant de trouver le JSON r√©el, qui comprenait cette fonctionnalit√© d'attaque polyglotte.  L'erreur est corrig√©e par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une v√©rification d'entr√©e suppl√©mentaire</a> . <br><br>  Dans Sigchain V2, nous avons √©galement accept√© la suggestion d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Adam Langley</a> que les signataires pr√©c√®dent leurs packages avec des signatures par le pr√©fixe de la ligne de contexte et l'octet <code>\0</code> afin que les v√©rificateurs ne soient pas confondus par les intentions du signataire.  Du c√¥t√© de la v√©rification de cette id√©e de pr√©fixe de contexte, il y avait des erreurs qui pouvaient conduire √† d'autres attaques polyglottes.  Nous avons rapidement corrig√© cette faille <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">avec une liste blanche</a> . <br><br>  Apr√®s avoir corrig√© les deux bogues, le serveur rejette les charges malveillantes de l'attaque polyglotte, de sorte que l'exploitation de ces vuln√©rabilit√©s n'est possible qu'avec l'aide d'un serveur compromis. <br><br><h3>  O√π est la documentation? </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://keybase.io/docs</a> <br><br>  Au cours des prochains mois, nous consacrerons plus de temps √† l'√©laboration de la documentation. <br><br><h3>  Vous pouvez en dire plus sur cette d√©claration de NCC: ¬´Cependant, un attaquant peut refuser de mettre √† jour sigchain ou de ramener la sigchain d'un utilisateur √† un √©tat pr√©c√©dent en tronquant les maillons suivants de la cha√Æne¬ª </h3><br>  Keybase fait un usage intensif de structures de donn√©es publiques immuables qui ne font que s'ajouter, ce qui force l'infrastructure du serveur √† capturer une v√©ritable repr√©sentation des identifiants des utilisateurs.  Nous pouvons garantir le rappel des appareils et la suppression des membres du groupe de mani√®re √† ce qu'un serveur compromis ne puisse pas revenir en arri√®re.  Si le serveur d√©cide d'afficher une vue incoh√©rente, cette d√©viation fait partie du dossier public immuable.  Les clients Keybase ou un auditeur tiers peuvent d√©tecter une incompatibilit√© √† tout moment apr√®s l'attaque.  Nous pensons que ces garanties d√©passent de loin les garanties des produits concurrents et sont presque optimales, compte tenu des limites pratiques des t√©l√©phones mobiles et des clients disposant d'une puissance de calcul limit√©e. <br><br>  Autrement dit, Keybase ne peut pas inventer les signatures de quelqu'un d'autre.  Comme tout serveur, il peut contenir des donn√©es.  Mais notre arbre Merkle transparent est con√ßu pour les stocker pendant une tr√®s courte p√©riode de temps, et il est toujours d√©couvrable. <br><br><h3>  Comment Keybase g√®re-t-il les r√©initialisations de compte? </h3><br>  Lorsque les utilisateurs de Keybase perdent r√©ellement tous leurs appareils (au lieu d'en ajouter de nouveaux ou d'en perdre quelques-uns), ils doivent r√©initialiser.  Apr√®s la r√©initialisation du compte, l'utilisateur est fondamentalement nouveau, mais il a le m√™me nom d'utilisateur.  Il ne peut pas signer l '¬´instruction de r√©initialisation¬ª car il a perdu toutes ses cl√©s.  Donc, √† la place, le serveur Keybase valide l'instruction non effa√ßable dans l'arborescence Merkle, ce qui signifie r√©initialiser.  Les clients imposent l'impossibilit√© d'annuler ces instructions.  Dans un prochain article, des m√©canismes sp√©cifiques seront d√©crits en d√©tail. <br><br>  Cet utilisateur devra rajouter des v√©rifications d'identit√© (Twitter, Github, peu importe) avec les nouvelles cl√©s. <br><br><h3>  Un serveur peut-il simplement √©changer la feuille d'arbre Merkle de quelqu'un pour annoncer un jeu de cl√©s compl√®tement diff√©rent? </h3><br>  Les auteurs de la NCC envisagent un serveur Keybase hostile qui change compl√®tement la feuille d'arbre Merkle, rempla√ßant le vrai jeu de cl√©s de Bob par un tout nouveau jeu de faux.  Un serveur attaquant a deux options.  Tout d'abord, il peut bifurquer l'√©tat du monde en pla√ßant Bob dans une fourchette, et ceux qu'il veut tromper dans une autre.  Deuxi√®mement, il peut "tricher" en publiant une version de l'arbre Merkle avec le jeu correct de cl√©s Bob et d'autres versions avec un faux jeu.  Les utilisateurs qui interagissent r√©guli√®rement avec Bob d√©couvriront cette attaque, car ils v√©rifieront que les versions pr√©c√©demment t√©l√©charg√©es de l'historique de Bob sont des pr√©fixes valides des nouvelles versions t√©l√©charg√©es depuis le serveur.  Les validateurs tiers qui analysent toutes les mises √† jour de Keybase remarqueront √©galement cette attaque.  Si vous √©crivez un validateur Keybase tiers que nous aimons, nous pouvons offrir une r√©compense importante.  Reportez-vous √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>max</code></a> sur Keybase.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sinon, nous esp√©rons planifier prochainement la cr√©ation d'un validateur autonome. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pouvez-vous croire ce que j'ai lu jusqu'au bout? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lire ou simplement faire d√©filer vers le bas? </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr449350/">https://habr.com/ru/post/fr449350/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr449340/index.html">Bloquer l'oracle al√©atoire bas√© sur l'oracle bas√© sur la signature num√©rique</a></li>
<li><a href="../fr449342/index.html">Oracle al√©atoire bas√© sur la signature num√©rique de la blockchain</a></li>
<li><a href="../fr449344/index.html">Kodim - pizza</a></li>
<li><a href="../fr449346/index.html">MODX Digest # 4 (8-22 avril 2019)</a></li>
<li><a href="../fr449348/index.html">Buildroot - partie 2. Cr√©ation de la configuration de votre carte; application d'arborescence externe, superposition de rootfs, scripts post-build</a></li>
<li><a href="../fr449352/index.html">Comment nous avons construit la surveillance sur Prometheus, Clickhouse et ELK</a></li>
<li><a href="../fr449356/index.html">Processus d'entreprise. Extraction du mod√®le BPMN √† partir du document. Partie 1</a></li>
<li><a href="../fr449358/index.html">De nouvelles fronti√®res en physique</a></li>
<li><a href="../fr449360/index.html">Microsoft a adapt√© la r√©alit√© virtuelle pour les malvoyants</a></li>
<li><a href="../fr449362/index.html">UPS de soins de sant√©: Delta Electronics Health Experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>