<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤³ğŸ» ğŸ’…ğŸ¼ ğŸ¤¹ Javaä¸­ç¦æ­¢çš„é‡è½½æˆ–æ¡¥æ¥æ–¹æ³• ğŸ›¤ï¸ ğŸ”¤ ğŸ‘¨ğŸ¾â€ğŸš€</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘åœ¨æŠ€æœ¯èŒä½ä¸Šçš„å¤§å¤šæ•°é¢è¯•éƒ½æœ‰ä¸€é¡¹ä»»åŠ¡ï¼Œå³åº”è˜è€…éœ€è¦åœ¨åŒä¸€ç­ä¸Šå®ç°2ä¸ªéå¸¸ç›¸ä¼¼çš„ç•Œé¢ï¼š 


 å¦‚æœå¯èƒ½ï¼Œåœ¨ä¸€ä¸ªç±»ä¸­å®ç°ä¸¤ä¸ªæ¥å£ã€‚ è§£é‡Šä¸ºä»€ä¹ˆè¿™æ˜¯å¯èƒ½çš„ã€‚ 


interface WithPrimitiveInt { void m(int i); } interface WithInteger {...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Javaä¸­ç¦æ­¢çš„é‡è½½æˆ–æ¡¥æ¥æ–¹æ³•</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/426419/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ih/hs/hb/ihhshbtkwuq00zlpb7envgpgkk0.jpeg"></div><br><p> æˆ‘åœ¨æŠ€æœ¯èŒä½ä¸Šçš„å¤§å¤šæ•°é¢è¯•éƒ½æœ‰ä¸€é¡¹ä»»åŠ¡ï¼Œå³åº”è˜è€…éœ€è¦åœ¨åŒä¸€ç­ä¸Šå®ç°2ä¸ªéå¸¸ç›¸ä¼¼çš„ç•Œé¢ï¼š </p><br><p>  <em>å¦‚æœå¯èƒ½ï¼Œåœ¨ä¸€ä¸ªç±»ä¸­å®ç°ä¸¤ä¸ªæ¥å£ã€‚</em>  <em>è§£é‡Šä¸ºä»€ä¹ˆè¿™æ˜¯å¯èƒ½çš„ã€‚</em> </p><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WithPrimitiveInt</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WithInteger</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Integer i)</span></span></span></span>; }</code> </pre> <br><p>  <em>æ¥è‡ªç¿»è¯‘ï¼š</em>æœ¬æ–‡ä¸é¼“åŠ±æ‚¨åœ¨é¢è¯•ä¸­æå‡ºç›¸åŒçš„é—®é¢˜ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æƒ³åœ¨æå‡ºè¿™ä¸ªé—®é¢˜æ—¶åšå¥½å……åˆ†å‡†å¤‡ï¼Œé‚£ä¹ˆæ¬¢è¿æ‚¨ã€‚ </p><a name="habracut"></a><br><p> æœ‰æ—¶ï¼Œå¯¹ç­”æ¡ˆä¸å¤ªç¡®å®šçš„ç”³è¯·äººæ›´å–œæ¬¢ä»¥ä»¥ä¸‹æ¡ä»¶è§£å†³æ­¤é—®é¢˜ï¼ˆæ— è®ºå¦‚ä½•ï¼Œæˆ‘è¦æ±‚æ‚¨è§£å†³æ­¤é—®é¢˜ï¼‰ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">S</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span></span>; } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span></span>; }</code> </pre> <br><p> å®é™…ä¸Šï¼Œç¬¬äºŒé¡¹ä»»åŠ¡ä¼¼ä¹è¦ç®€å•å¾—å¤šï¼Œå¤§å¤šæ•°å€™é€‰äººéƒ½å›ç­”è¯´ä¸å¯èƒ½å°†ä¸¤ä¸ªæ–¹æ³•éƒ½åŒ…å«åœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œå› ä¸ºç­¾å<code>Sm(int)</code>å’Œ<code>Vm(int)</code>ç›¸åŒï¼Œè€Œè¿”å›å€¼çš„ç±»å‹å´ä¸åŒã€‚ è¿™æ˜¯ç»å¯¹æ­£ç¡®çš„ã€‚ </p><br><p> ä½†æ˜¯ï¼Œæœ‰æ—¶æˆ‘ä¼šé—®å¦ä¸€ä¸ªä¸æ­¤ä¸»é¢˜ç›¸å…³çš„é—®é¢˜ï¼š </p><br><p>  <em>æ‚¨è®¤ä¸ºå…è®¸åœ¨åŒä¸€ç±»ä¸­å®ç°å…·æœ‰ç›¸åŒç­¾åä½†å…·æœ‰ä¸åŒç±»å‹çš„æ–¹æ³•æ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿ</em>  <em>ä¾‹å¦‚ï¼Œä½¿ç”¨æŸç§åŸºäºJVMçš„å‡è®¾è¯­è¨€è¿˜æ˜¯è‡³å°‘åœ¨JVMçº§åˆ«ï¼Ÿ</em> </p><br><p> è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯æ¨¡æ£±ä¸¤å¯çš„ã€‚ ä½†æ˜¯ï¼Œå°½ç®¡æˆ‘ä¸æœŸæœ›å¯¹æ­¤æœ‰ä»»ä½•ç­”æ¡ˆï¼Œä½†ä»ç„¶å­˜åœ¨æ­£ç¡®çš„ç­”æ¡ˆã€‚ ç»å¸¸ä½¿ç”¨åå°„APIï¼Œæ“çºµå­—èŠ‚ç æˆ–ç†Ÿæ‚‰JVMè§„èŒƒçš„äººå¯ä»¥å›ç­”å®ƒã€‚ </p><br><h2 id="signatura-metoda-java-i-deskriptor-metoda-jvm">  Javaæ–¹æ³•ç­¾åå’ŒJVMæ–¹æ³•å¥æŸ„ </h2><br><p>  Javaæ–¹æ³•ç­¾åï¼ˆå³æ–¹æ³•åç§°å’Œå‚æ•°ç±»å‹ï¼‰ä»…åœ¨ç¼–è¯‘æ—¶ç”±Javaç¼–è¯‘å™¨ä½¿ç”¨ã€‚ åè¿‡æ¥ï¼ŒJVMä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">éé™å®šçš„æ–¹æ³•åç§°</a> ï¼ˆå³æ–¹æ³•åç§°ï¼‰å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–¹æ³•handle</a> ï¼ˆå³ï¼Œæè¿°ç¬¦å‚æ•°åˆ—è¡¨å’Œä¸€ä¸ªè¿”å›æè¿°ç¬¦ï¼‰æ¥åˆ†éš”ç±»ä¸­çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–¹æ³•</a> ã€‚ </p><br><p> ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ç›´æ¥åœ¨<code>foo.Bar</code>ç±»ä¸Šè°ƒç”¨<code>String m(int i)</code>æ–¹æ³•ï¼Œåˆ™éœ€è¦ä»¥ä¸‹å­—èŠ‚ç ï¼š </p><br><pre> <code class="hljs julia">INVOKEVIRTUAL foo/Bar.m (<span class="hljs-literal"><span class="hljs-literal">I</span></span>)Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;</code> </pre> <br><p> å¯¹äºæ— æ•ˆçš„<code>m(int i)</code>ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">INVOKEVIRTUAL</span></span> foo/Bar.m (I)V</code> </pre> <br><p> å› æ­¤ï¼ŒJVMå¯¹åŒä¸€ç±»ä¸­çš„<code>String m(int i)</code>å’Œ<code>void m(int i)</code>éå¸¸æ»¡æ„ã€‚ æ‰€éœ€è¦åšçš„å°±æ˜¯ç”Ÿæˆç›¸åº”çš„å­—èŠ‚ç ã€‚ </p><br><h2 id="kung-fu-s-bayt-kodom"> åŠŸå¤«ä¸å­—èŠ‚ç  </h2><br><p> æˆ‘ä»¬æœ‰Så’ŒVæ¥å£ï¼Œç°åœ¨æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæ¥å£çš„SVç±»ã€‚ åœ¨Javaä¸­ï¼Œå¦‚æœå…è®¸ï¼Œåˆ™åº”å¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SV</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">S</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">V</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"void m(int i)"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"String m(int i)"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }</code> </pre> <br><p> ä¸ºäº†ç”Ÿæˆå­—èŠ‚ç ï¼Œæˆ‘ä»¬ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Objectweb ASMåº“</a> ï¼Œè¿™æ˜¯ä¸€ä¸ªè¶³ä»¥äº†è§£å­—èŠ‚ç JVMçš„åº•å±‚åº“ã€‚ </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®Œæ•´çš„æºä»£ç å·²</a>ä¸Šä¼ åˆ°GitHubï¼Œåœ¨è¿™é‡Œæˆ‘å°†ä»…ç»™å‡ºå’Œè§£é‡Šæœ€é‡è¦çš„ç‰‡æ®µã€‚ </p><br><pre> <code class="java hljs">ClassWriter cw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClassWriter(ClassWriter.COMPUTE_FRAMES); <span class="hljs-comment"><span class="hljs-comment">// package edio.java.experiments // public class SV implements S, V cw.visit(V1_7, ACC_PUBLIC, "edio/java/experiments/SV", null, "java/lang/Object", new String[]{ "edio/java/experiments/S", "edio/java/experiments/V" }); // constructor MethodVisitor constructor = cw.visitMethod(ACC_PUBLIC, "&lt;init&gt;", "()V", null, null); constructor.visitCode(); constructor.visitVarInsn(Opcodes.ALOAD, 0); constructor.visitMethodInsn(Opcodes.INVOKESPECIAL, "java/lang/Object", "&lt;init&gt;", "()V"); constructor.visitInsn(Opcodes.RETURN); constructor.visitMaxs(1, 1); constructor.visitEnd(); // public String m(int i) MethodVisitor mString = cw.visitMethod(ACC_PUBLIC, "m", "(I)Ljava/lang/String;", null, null); mString.visitCode(); mString.visitFieldInsn(Opcodes.GETSTATIC, "java/lang/System", "out", "Ljava/io/PrintStream;"); mString.visitLdcInsn("String"); mString.visitMethodInsn(Opcodes.INVOKEVIRTUAL, "java/io/PrintStream", "println", "(Ljava/lang/String;)V"); mString.visitInsn(Opcodes.ACONST_NULL); mString.visitInsn(Opcodes.ARETURN); mString.visitMaxs(2, 2); mString.visitEnd(); // public void m(int i) MethodVisitor mVoid = cw.visitMethod(ACC_PUBLIC, "m", "(I)V", null, null); mVoid.visitFieldInsn(Opcodes.GETSTATIC, "java/lang/System", "out", "Ljava/io/PrintStream;"); mVoid.visitLdcInsn("void"); mVoid.visitMethodInsn(Opcodes.INVOKEVIRTUAL, "java/io/PrintStream", "println", "(Ljava/lang/String;)V"); mVoid.visitInsn(Opcodes.RETURN); mVoid.visitMaxs(2, 2); mVoid.visitEnd(); cw.visitEnd();</span></span></code> </pre> <br><p> è®©æˆ‘ä»¬å¼€å§‹åˆ›å»ºä¸€ä¸ª<code>ClassWriter</code>æ¥ç”Ÿæˆå­—èŠ‚ç ã€‚ </p><br><p> ç°åœ¨ï¼Œæˆ‘ä»¬å°†å£°æ˜ä¸€ä¸ªåŒ…å«æ¥å£Så’ŒVçš„ç±»ã€‚ </p><br><p> å°½ç®¡æˆ‘ä»¬çš„SVå‚è€ƒä¼ªJavaä»£ç æ²¡æœ‰æ„é€ å‡½æ•°ï¼Œä½†ä»éœ€è¦ä¸ºå…¶ç”Ÿæˆä»£ç ã€‚ å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨Javaæè¿°æ„é€ å‡½æ•°ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šéšå¼ç”Ÿæˆä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•°ã€‚ </p><br><p> åœ¨æ–¹æ³•çš„ä¸»ä½“ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè·å–ç±»å‹ä¸º<code>java.io.PrintStream</code>çš„<code>System.out</code>å­—æ®µï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æ“ä½œæ•°å †æ ˆä¸­ã€‚ ç„¶åï¼Œå°†å¸¸é‡ï¼ˆ <code>String</code>æˆ–<code>void</code> ï¼‰åŠ è½½åˆ°å †æ ˆä¸Šï¼Œå¹¶åœ¨<code>out</code>å˜é‡ä¸­ä»¥å­—ç¬¦ä¸²å¸¸é‡ä½œä¸ºå‚æ•°è°ƒç”¨<code>println</code>å‘½ä»¤ã€‚ </p><br><p> æœ€åï¼Œå¯¹äº<code>String m(int i)</code>å°†å¼•ç”¨ç±»å‹çš„å¸¸é‡ï¼ˆå…¶å€¼ä¸º<code>null</code>åˆ°å †æ ˆä¸­ï¼Œå¹¶ä½¿ç”¨å¯¹åº”ç±»å‹çš„<code>return</code>å³<code>ARETURN</code>å°†å€¼è¿”å›ç»™æ–¹æ³•è°ƒç”¨çš„å‘èµ·è€…ã€‚ å¯¹äº<code>void m(int i)</code>æ‚¨åªéœ€è¦ä½¿ç”¨æ— ç±»å‹çš„<code>RETURN</code>å³å¯è¿”å›åˆ°æ–¹æ³•è°ƒç”¨çš„å‘èµ·è€…ï¼Œè€Œæ— éœ€è¿”å›ä»»ä½•å€¼ã€‚ ä¸ºäº†ç¡®ä¿å­—èŠ‚ç æ­£ç¡®ï¼ˆæˆ‘ç»å¸¸è¿™æ ·åšï¼Œå¤šæ¬¡çº æ­£é”™è¯¯ï¼‰ï¼Œæˆ‘ä»¬å°†ç”Ÿæˆçš„ç±»å†™å…¥ç£ç›˜ã€‚ </p><br><pre> <code class="java hljs">Files.write(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> File(<span class="hljs-string"><span class="hljs-string">"/tmp/SV.class"</span></span>).toPath(), cw.toByteArray());</code> </pre> <br><p> å¹¶ä½¿ç”¨<code>jad</code> ï¼ˆJavaåç¼–è¯‘å™¨ï¼‰å°†å­—èŠ‚ç è½¬æ¢å›Javaæºä»£ç ï¼š </p><br><pre> <code class="java hljs">$ jad -p /tmp/SV.class The <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">file</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">version</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is</span></span></span><span class="hljs-class"> 51.0 (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">only</span></span></span><span class="hljs-class"> 45.3, 46.0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">and</span></span></span><span class="hljs-class"> 47.0 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">are</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">supported</span></span></span><span class="hljs-class">) // </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Decompiled</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">by</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Jad</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">v1</span></span></span><span class="hljs-class">.5.8</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">e</span></span></span><span class="hljs-class">. </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Copyright</span></span></span><span class="hljs-class"> 2001 </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pavel</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Kouznetsov</span></span></span><span class="hljs-class">. // </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Jad</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">home</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">page</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">http</span></span></span><span class="hljs-class">://</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">www</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">geocities</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">com</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">kpdus</span></span></span><span class="hljs-class">/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jad</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">html</span></span></span><span class="hljs-class"> // </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Decompiler</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">options</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">packimports</span></span></span><span class="hljs-class">(3) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">package</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">edio</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">experiments</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.PrintStream; <span class="hljs-comment"><span class="hljs-comment">// Referenced classes of package edio.java.experiments: // S, V public class SV implements S, V { public SV() { } public String m(int i) { System.out.println("String"); return null; } public void m(int i) { System.out.println("void"); } }</span></span></code> </pre> <br><p> æˆ‘è®¤ä¸ºè¿˜ä¸é”™ã€‚ </p><br><h2 id="ispolzovanie-sgenerirovannogo-klassa"> ä½¿ç”¨ç”Ÿæˆçš„ç±» </h2><br><p> å¯¹<code>jad</code>æˆåŠŸåç¼–è¯‘æœ¬è´¨ä¸Šå¯¹æˆ‘ä»¬æ²¡æœ‰ä»»ä½•ä¿è¯ã€‚  <code>jad</code>å®ç”¨ç¨‹åºä»…å‘æ‚¨è­¦å‘Šå­—èŠ‚ç ä¸­çš„å¸¸è§é—®é¢˜ï¼Œä»å¸§å¤§å°åˆ°å±€éƒ¨å˜é‡ä¸åŒ¹é…æˆ–ç¼ºå°‘è¿”å›è¯­å¥ã€‚ </p><br><p> è¦åœ¨è¿è¡Œæ—¶ä½¿ç”¨ç”Ÿæˆçš„ç±»ï¼Œæˆ‘ä»¬éœ€è¦ä»¥æŸç§æ–¹å¼å°†å…¶åŠ è½½åˆ°JVMä¸­ï¼Œç„¶åå®ä¾‹åŒ–å®ƒã€‚ </p><br><p> è®©æˆ‘ä»¬å®ç°è‡ªå·±çš„<code>AsmClassLoader</code> ã€‚ è¿™åªæ˜¯<code>ClassLoader.defineClass</code>ä¸€ä¸ªæ–¹ä¾¿åŒ…è£…<code>ClassLoader.defineClass</code> ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AsmClassLoader</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClassLoader</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Class </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defineAsmClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name, ClassWriter classWriter)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] bytes = classWriter.toByteArray(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> defineClass(name, bytes, <span class="hljs-number"><span class="hljs-number">0</span></span>, bytes.length); } }</code> </pre> <br><p> ç°åœ¨ä½¿ç”¨æ­¤ç±»åŠ è½½å™¨å¹¶å®ä¾‹åŒ–è¯¥ç±»ï¼š </p><br><pre> <code class="java hljs">ClassWriter cw = SVGenerator.generateClass(); AsmClassLoader classLoader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AsmClassLoader(); Class&lt;?&gt; generatedClazz = classLoader.defineAsmClass(SVGenerator.SV_FQCN, cw); Object o = generatedClazz.newInstance();</code> </pre> <br><p> ç”±äºæˆ‘ä»¬çš„ç±»æ˜¯åœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„ï¼Œå› æ­¤æˆ‘ä»¬æ— æ³•åœ¨æºä»£ç ä¸­ä½¿ç”¨å®ƒã€‚ ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å°†å…¶ç±»å‹è½¬æ¢ä¸ºå·²å®ç°çš„æ¥å£ã€‚ å¯ä»¥è¿™æ ·è¿›è¡Œæ— åå°„çš„å‘¼å«ï¼š </p><br><pre> <code class="java hljs">((S)o).m(<span class="hljs-number"><span class="hljs-number">1</span></span>); ((V)o).m(<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre> <br><p> æ‰§è¡Œä»£ç æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š </p><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span></code> </pre> <br><p> åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸ªç»“è®ºä¼¼ä¹æ˜¯å‡ºä¹æ„æ–™çš„ï¼šæˆ‘ä»¬åœ¨ç±»ä¸­å¼•ç”¨äº†ç›¸åŒçš„æ–¹æ³•ï¼ˆä»Javaçš„è§’åº¦æ¥çœ‹ï¼‰ï¼Œä½†æ˜¯ç»“æœå–å†³äºå°†å¯¹è±¡å¸¦åˆ°çš„æ¥å£è€Œæœ‰æ‰€ä¸åŒã€‚ ä»¤äººæƒŠå¹å§ï¼Ÿ </p><br><p> å¦‚æœæˆ‘ä»¬è€ƒè™‘åº•å±‚å­—èŠ‚ç ï¼Œä¸€åˆ‡å°†å˜å¾—æ¸…æ™°ã€‚ å¯¹äºæˆ‘ä»¬çš„è°ƒç”¨ï¼Œç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªINVOKEINTERFACEè¯­å¥ï¼Œå¹¶ä¸”æ–¹æ³•å¥æŸ„ä¸æ˜¯æ¥è‡ªç±»ï¼Œè€Œæ˜¯æ¥è‡ªæ¥å£ã€‚ </p><br><p> å› æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ç¬¬ä¸€ä¸ªç”µè¯æ˜¯ï¼š </p><br><pre> <code class="hljs lisp">INVOKEINTERFACE edio/java/experiments/Sm (<span class="hljs-name"><span class="hljs-name">I</span></span>)Ljava/lang/String<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><p> åœ¨ç¬¬äºŒä¸ªä¸­ï¼š </p><br><pre> <code class="hljs lisp">INVOKEINTERFACE edio/java/experiments/Vm (<span class="hljs-name"><span class="hljs-name">I</span></span>)V</code> </pre> <br><p> å¯ä»¥ä»å †æ ˆä¸­è·å–è¿›è¡Œè°ƒç”¨çš„å¯¹è±¡ã€‚ è¿™å°±æ˜¯Javaå›ºæœ‰çš„å¤šæ€æ€§çš„åŠ›é‡ã€‚ </p><br><h2 id="imya-emu---bridge-metod"> ä»–å«æ¡¥æ³• </h2><br><p> æœ‰äººä¼šé—®ï¼šâ€œé‚£ä¹ˆè¿™ä¸€åˆ‡çš„æ„ä¹‰ä½•åœ¨ï¼Ÿå®ƒä¼šæ´¾ä¸Šç”¨åœºå—ï¼Ÿâ€ </p><br><p> å…³é”®æ˜¯åœ¨ç¼–å†™å¸¸è§„Javaä»£ç æ—¶ï¼Œæˆ‘ä»¬ï¼ˆéšå¼ï¼‰ä½¿ç”¨äº†ç›¸åŒçš„ä¸œè¥¿ã€‚ ä¾‹å¦‚ï¼Œåå˜è¿”å›ç±»å‹ï¼Œæ³›å‹ä»¥åŠä»å†…éƒ¨ç±»å¯¹ç§æœ‰å­—æ®µçš„è®¿é—®æ˜¯ä½¿ç”¨ç›¸åŒ<em>çš„</em>å­—èŠ‚ç <em>é­”æœ¯å®ç°çš„</em> ã€‚ </p><br><p> çœ‹ä¸€ä¸‹è¿™ä¸ªç•Œé¢ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeroProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Number </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getZero</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre> <br><p> åŠå…¶å®ç°ï¼Œå¹¶è¿”å›åå˜é‡ç±»å‹ï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntegerZero</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeroProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getZero</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } }</code> </pre> <br><p> ç°åœ¨è®©æˆ‘ä»¬è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š </p><br><pre> <code class="java hljs">IntegerZero iz = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntegerZero(); iz.getZero(); ZeroProvider zp = iz; zp.getZero();</code> </pre> <br><p> å¯¹äº<code>iz.getZero()</code> ï¼Œè°ƒç”¨ç¼–è¯‘å™¨å°†ä½¿ç”¨handleæ–¹æ³•<code>()Ljava/lang/Integer;</code>ç”Ÿæˆ<code>INVOKEVIRTUAL</code> <code>()Ljava/lang/Integer;</code>  ï¼Œè€Œå¯¹äº<code>zp.getZero()</code> ï¼Œå®ƒå°†ä½¿ç”¨æ–¹æ³•æè¿°ç¬¦<code>()Ljava/lang/Number;</code>ç”ŸæˆINVOKEINTERFACE <code>()Ljava/lang/Number;</code>  ã€‚ æˆ‘ä»¬å·²ç»çŸ¥é“JVMä½¿ç”¨åç§°å’Œæ–¹æ³•æè¿°ç¬¦è°ƒåº¦å¯¹è±¡è°ƒç”¨ã€‚ ç”±äºæè¿°ç¬¦ä¸åŒï¼Œå› æ­¤è¿™ä¸¤ä¸ªè°ƒç”¨ä¸èƒ½è·¯ç”±åˆ°<code>IntegerZero</code>å®ä¾‹ä¸­çš„ç›¸åŒæ–¹æ³•ã€‚ </p><br><p> å®é™…ä¸Šï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸€ä¸ªé™„åŠ æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å……å½“ç±»ä¸­æŒ‡å®šçš„å®é™…æ–¹æ³•ä¸é€šè¿‡æ¥å£è°ƒç”¨æ—¶ä½¿ç”¨çš„æ–¹æ³•ä¹‹é—´çš„æ¡¥æ¢ã€‚ å› æ­¤ï¼Œè¯¥åç§°æ˜¯æ¡¥æ¥æ–¹æ³•ã€‚ å¦‚æœåœ¨Javaä¸­å¯è¡Œï¼Œåˆ™æœ€ç»ˆä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IntegerZero</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZeroProvider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getZero</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// This is a synthetic bridge method, which is present only in bytecode. // Java compiler wouldn't permit it. public Number getZero() { return this.getZero(); } }</span></span></code> </pre> <br><h2 id="posleslovie"> åè®° </h2><br><p>  Javaç¼–ç¨‹è¯­è¨€å’ŒJavaè™šæ‹Ÿæœºä¸æ˜¯ä¸€å›äº‹ï¼šå°½ç®¡å®ƒä»¬çš„åç§°å…·æœ‰ç›¸åŒçš„è¯ï¼Œå¹¶ä¸”Javaæ˜¯JVMçš„ä¸»è¦è¯­è¨€ï¼Œä½†æ˜¯å®ƒä»¬çš„åŠŸèƒ½å’Œå±€é™æ€§å¹¶éå§‹ç»ˆç›¸åŒã€‚ äº†è§£JVMå¯ä»¥å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£Javaæˆ–ä»»ä½•å…¶ä»–åŸºäºJVMçš„è¯­è¨€ï¼Œä½†æ˜¯ï¼Œå¦ä¸€æ–¹é¢ï¼Œäº†è§£JavaåŠå…¶å†å²æœ‰åŠ©äºäº†è§£JVMè®¾è®¡ä¸­çš„æŸäº›å†³ç­–ã€‚ </p><br><h3 id="ot-perevodchika"> æ¥è‡ªç¿»è¯‘ </h3><br><p> å…¼å®¹æ€§é—®é¢˜è¿Ÿæ—©ä¼šå¼€å§‹è®©ä»»ä½•å¼€å‘äººå‘˜æ‹…å¿ƒã€‚ åŸå§‹æ–‡ç« è°ˆåˆ°äº†Javaç¼–è¯‘å™¨çš„éšå¼è¡Œä¸ºåŠå…¶é­”æœ¯å¯¹åº”ç”¨ç¨‹åºçš„å½±å“è¿™ä¸€é‡è¦é—®é¢˜ï¼Œä½œä¸ºCUBA Platformæ¡†æ¶çš„å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬éå¸¸å…³å¿ƒJavaç¼–è¯‘å™¨çš„éšå«è¡Œä¸ºï¼Œè¿™ç›´æ¥å½±å“äº†åº“çš„å…¼å®¹æ€§ã€‚ æœ€è¿‘ï¼Œæˆ‘ä»¬åœ¨å¶å¡æ·ç³å ¡JUGçš„æŠ¥å‘Šä¸­è°ˆåˆ°äº†â€œç°å®åº”ç”¨ä¸­çš„å…¼å®¹æ€§â€ï¼ŒæŠ¥å‘Šâ€œ APIä¸ä¼šåœ¨äº¤å‰å£å‘ç”Ÿå˜åŒ–-å¦‚ä½•æ„å»ºç¨³å®šçš„APIâ€ï¼Œå¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°ä¼šè®®è§†é¢‘ã€‚ </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/JLGh08KXN08" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN426419/">https://habr.com/ru/post/zh-CN426419/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN426409/index.html">æœªç»æ‰€æœ‰è€…è®¸å¯ä¿æŠ¤MikroTikè·¯ç”±å™¨çš„é»‘å®¢Alexeiå·²æˆå</a></li>
<li><a href="../zh-CN426411/index.html">å¼€å‘C ++ / CLIæè¿°ç¬¦ç±»</a></li>
<li><a href="../zh-CN426413/index.html">æ¯ä¸ªå¼€å‘äººå‘˜éƒ½åº”äº†è§£çš„SOLIDåŸåˆ™</a></li>
<li><a href="../zh-CN426415/index.html">é‡‘èç§‘æŠ€æ‘˜è¦ï¼šä¸­å¤®é“¶è¡Œçš„æ•°å­—åŒ–æ§åˆ¶ï¼ŒåŠ å¯†è´§å¸å·¥èµ„ï¼Œæ‰‹é•¯å’Œé’¥åŒ™åœˆå½¢å¼çš„Mirå¡</a></li>
<li><a href="../zh-CN426417/index.html">Pavel 2.0ï¼šJSï¼Œå¸¦æœ‰å¥—æ¥å­—å’Œç”µè¯çš„node.jsä¸Šçš„å¤åˆ¶é¡¾é—®</a></li>
<li><a href="../zh-CN426421/index.html">EHCIäººä¸ºä¿„è¯­</a></li>
<li><a href="../zh-CN426423/index.html">mmWaveåœ¨æ™ºèƒ½æ‰‹æœºä¸Šï¼šé«˜é€šå¦‚ä½•ä½¿ä¸å¯èƒ½å˜ä¸ºå¯èƒ½</a></li>
<li><a href="../zh-CN426425/index.html">å…³äºRTOSçš„å…¨éƒ¨çœŸç›¸ã€‚ ç¬¬åå››æ¡ å†…å­˜éƒ¨åˆ†ï¼šç®€ä»‹å’ŒåŸºæœ¬æœåŠ¡</a></li>
<li><a href="../zh-CN426427/index.html">å¯¹â€œä¸œè¥¿â€æœ‰ç”¨çš„ä¸œè¥¿ï¼šå°‘é‡ä½ä»·é€‰æ‹©</a></li>
<li><a href="../zh-CN426429/index.html">åœ¨Debian 9ä¸Šå®‰è£…FreeSWITCH 1.8ï¼ˆRaspbian Stretchï¼ŒRasbperri Piä¸ŠMajorDoMoæ™ºèƒ½å®¶åº­ç³»ç»Ÿçš„åŸºæœ¬æ˜ åƒï¼‰</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>