<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôÖüèø üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø üíß Timpa atau reduksi Level 80: jalur dari sakelar ke kelas üòÆ üê´ ü§≤üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tentang apa ini? 


 Mari kita lihat metamorfosis reduksi dalam aplikasi Redux / NGRX saya selama beberapa tahun terakhir. Dimulai dengan oak switch-c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Timpa atau reduksi Level 80: jalur dari sakelar ke kelas</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440524/"><p><img src="https://habrastorage.org/webt/ud/sm/oe/udsmoenal1bazibn-vxzwkytz_8.jpeg" alt="gambar"></p><br><h2 id="o-chem-poydet-rech">  Tentang apa ini? </h2><br><p> Mari kita lihat metamorfosis reduksi dalam aplikasi Redux / NGRX saya selama beberapa tahun terakhir.  Dimulai dengan oak <code>switch-case</code> , melanjutkan dengan pemilihan dari objek dengan kunci dan berakhir dengan kelas dengan dekorator, blackjack dan TypeScript.  Kami akan mencoba meninjau tidak hanya sejarah jalan ini, tetapi juga menemukan beberapa hubungan sebab akibat. </p><a name="habracut"></a><br><blockquote>  Jika Anda dan saya mengajukan pertanyaan tentang pembuangan boilerplate di Redux / NGRX, maka <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel ini</a> dapat menarik bagi Anda. <br><br>  Jika Anda sudah menggunakan pendekatan untuk memilih reducer dari objek dengan kunci dan sudah muak dengan itu, Anda dapat langsung beralih ke "reduksi berbasis kelas." </blockquote><br><h2 id="shokoladnyy-switch-case">  Kotak saklar cokelat </h2><br><blockquote>  Biasanya <code>switch-case</code> vanilla, tetapi bagi saya sepertinya ini sangat mendiskriminasi semua jenis <code>switch-case</code> . </blockquote><p>  Jadi, mari kita lihat masalah khas penciptaan asinkron entitas, misalnya, Jedi. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateInit = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-init'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateSuccess = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-success'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateError = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-error'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJediInitialState = { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-comment"><span class="hljs-comment">//   data: [], error: undefined, } const reducerJedi = (state = reducerJediInitialState, action) =&gt; { switch (action.type) { case actionTypeJediCreateInit: return { ...state, loading: true, } case actionTypeJediCreateSuccess: return { loading: false, data: [...state.data, action.payload], error: undefined, } case actionTypeJediCreateError: return { ...state, loading: false, error: action.payload, } default: return state } }</span></span></code> </pre> <br><p>  Saya akan sangat jujur ‚Äã‚Äãdan mengakui bahwa saya tidak pernah menggunakan <code>switch-case</code> dalam latihan saya.  Saya ingin percaya bahwa saya bahkan memiliki daftar alasan untuk ini: </p><br><ul><li>  <code>switch-case</code> terlalu mudah untuk istirahat: Anda bisa lupa memasukkan <code>break</code> , Anda bisa lupa tentang <code>default</code> . </li><li>  <code>switch-case</code> terlalu bertulang. </li><li>  <code>switch-case</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">hampir</a> O (n).  Ini tidak terlalu penting dalam dirinya sendiri, karena  Redux tidak membanggakan kinerja yang menakjubkan dalam dirinya sendiri, tetapi fakta ini membuat penikmat kecantikan batin saya marah. </li></ul><br><p>  Cara logis untuk menyisir semua ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ditawarkan oleh dokumentasi Redux resmi</a> - untuk memilih peredam dari objek dengan kunci. </p><br><h2 id="vybor-redyusera-iz-obekta-po-klyuchu">  Memilih peredam dari objek dengan kunci </h2><br><p>  Idenya sederhana - setiap perubahan negara dapat digambarkan oleh fungsi negara dan tindakan, dan setiap fungsi tersebut memiliki kunci tertentu ( <code>type</code> bidang dalam tindakan) yang sesuai dengannya.  Karena  <code>type</code> adalah string, tidak ada yang mencegah kita mencari tahu objek untuk semua fungsi tersebut, di mana kuncinya adalah <code>type</code> dan nilainya adalah fungsi konversi keadaan murni (reducer).  Dalam hal ini, kita dapat memilih peredam yang diperlukan dengan kunci (O (1)), ketika tindakan baru tiba di peredam root. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateInit = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-init'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateSuccess = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-success'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateError = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-error'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJediInitialState = { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJediMap = { [actionTypeJediCreateInit]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }), [actionTypeJediCreateSuccess]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: [...state.data, action.payload], <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>, }), [actionTypeJediCreateError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.payload, }), } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJedi = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state = reducerJediInitialState, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//    `type`  const reducer = reducerJediMap[action.type] if (!reducer) { //   ,        return state } //        return reducer(state, action) }</span></span></code> </pre> <br><p>  Yang paling enak adalah logika di dalam <code>reducerJedi</code> tetap sama untuk peredam apa pun, dan kita bisa menggunakannya kembali.  Bahkan ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">perpustakaan nano redux-create-reducer untuk ini</a> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createReducer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-create-reducer'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateInit = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-init'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateSuccess = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-success'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateError = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-error'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJediInitialState = { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>, } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJedi = createReducer(reducerJediInitialState, { [actionTypeJediCreateInit]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }), [actionTypeJediCreateSuccess]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: [...state.data, action.payload], <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>, }), [actionTypeJediCreateError]: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> ({ ...state, <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: action.payload, }), })</code> </pre> <br><p>  Sepertinya tidak ada yang terjadi.  Benar, sesendok madu bukan tanpa satu tong tar: </p><br><ul><li>  Untuk reduksi kompleks, kita harus meninggalkan komentar, karena  metode ini tidak menyediakan jalan keluar dari kotak untuk memberikan beberapa informasi meta-penjelasan. </li><li>  Objek dengan banyak reduksi dan kunci tidak dibaca dengan baik. </li><li>  Setiap peredam hanya memiliki satu kunci.  Tetapi bagaimana jika Anda ingin menjalankan peredam yang sama untuk beberapa game aksi? </li></ul><br><p>  Saya hampir menangis bahagia ketika saya pindah ke reduksi berbasis kelas, dan di bawah ini saya akan menjelaskan alasannya. </p><br><h2 id="redyusery-na-osnove-klassov">  Pereduksi Berbasis Kelas </h2><br><p>  Roti: </p><br><ul><li>  Metode kelas adalah reduksi kami, dan metode memiliki nama.  Hanya informasi yang sangat meta yang memberi tahu apa yang dilakukan peredam ini. </li><li>  Metode kelas dapat didekorasi, yang merupakan cara deklaratif sederhana untuk menghubungkan pereduksi dan tindakan terkait (yaitu, tindakan, bukan hanya satu tindakan!) </li><li>  Di bawah tenda, Anda dapat menggunakan semua objek yang sama untuk mendapatkan O (1). </li></ul><br><p>  Pada akhirnya, saya ingin mendapatkan sesuatu seperti itu. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateInit = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-init'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateSuccess = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-success'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> actionTypeJediCreateError = <span class="hljs-string"><span class="hljs-string">'jedi-app/jedi-create-error'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReducerJedi</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     "Class field delcaratrions",    Stage 3. // https://github.com/tc39/proposal-class-fields initialState = { loading: false, data: [], error: undefined, } @Action(actionTypeJediCreateInit) startLoading(state) { return { ...state, loading: true, } } @Action(actionTypeJediCreateSuccess) addNewJedi(state, action) { return { loading: false, data: [...state.data, action.payload], error: undefined, } } @Action(actionTypeJediCreateError) error(state, action) { return { ...state, loading: false, error: action.payload, } } }</span></span></code> </pre> <br><p>  Saya melihat tujuannya, saya tidak melihat rintangan. </p><br><h3 id="shag-1-dekorator-action">  Langkah 1. Dekorator <code>@Action</code> . </h3><br><p>  Kita perlu bahwa dalam dekorator ini kita dapat menempel sejumlah tindakan, dan bahwa ZhKshny ini disimpan sebagai semacam informasi meta, yang nantinya dapat diakses.  Untuk melakukan ini, kita bisa menggunakan polyfill <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">reflect-metadata yang luar biasa</a> , yang ditambal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Reflect</a> . </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> METADATA_KEY_ACTION = <span class="hljs-string"><span class="hljs-string">'reducer-class-action-metadata'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Action = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...actionTypes</span></span></span><span class="hljs-function">) =&gt;</span></span> (target, propertyKey, descriptor) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">Reflect</span></span>.defineMetadata(METADATA_KEY_ACTION, actionTypes, target, propertyKey) }</code> </pre> <br><h3 id="shag-2-prevraschaem-klass-v-sobstvenno-redyuser">  Langkah 2. Ubah kelas menjadi, pada kenyataannya, peredam. </h3><br><blockquote>  Gambarlah sebuah lingkaran, gambarlah sebentar, dan sekarang sihir kecil dan dapatkan burung hantu! </blockquote><p>  Seperti yang kita ketahui, setiap peredam adalah fungsi murni yang mengambil status dan tindakan saat ini dan mengembalikan status baru.  Kelas, tentu saja, fungsi, tetapi bukan yang kita butuhkan, dan kelas ES6 tidak dapat dipanggil tanpa yang <code>new</code> .  Secara umum, kita perlu mengubahnya. </p><br><p>  Jadi, kita membutuhkan fungsi yang akan mengambil kelas saat ini, melalui setiap metodenya, mengumpulkan informasi meta dengan jenis tindakan, mengumpulkan objek dengan reduksi dan membuat peredam akhir dari objek ini. </p><br><p>  Mari kita mulai dengan mengumpulkan informasi meta. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getReducerClassMethodsWthActionTypes = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">instance</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">//       const proto = Object.getPrototypeOf(instance) const methodNames = Object.getOwnPropertyNames(proto).filter( (name) =&gt; name !== 'constructor', ) //             const res = [] methodNames.forEach((methodName) =&gt; { const actionTypes = Reflect.getMetadata( METADATA_KEY_ACTION, instance, methodName, ) //     `this`    const method = instance[methodName].bind(instance) //  ,         actionTypes.forEach((actionType) =&gt; res.push({ actionType, method, }), ) }) return res }</span></span></code> </pre> <br><p>  Sekarang kita dapat mengonversi koleksi yang dihasilkan menjadi objek </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getReducerMap = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">methodsWithActionTypes</span></span></span><span class="hljs-function">) =&gt;</span></span> methodsWithActionTypes.reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">reducerMap, { method, actionType }</span></span></span><span class="hljs-function">) =&gt;</span></span> { reducerMap[actionType] = method <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reducerMap }, {})</code> </pre> <br><p>  Jadi fungsi terakhir mungkin terlihat seperti ini: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createReducer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'redux-create-reducer'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> createClassReducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ReducerClass</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ReducerClass() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> methodsWithActionTypes = getReducerClassMethodsWthActionTypes( reducerClass, ) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerMap = getReducerMap(methodsWithActionTypes) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> initialState = reducerClass.initialState <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducer = createReducer(initialState, reducerMap) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reducer }</code> </pre> <br><p>  Selanjutnya kita bisa menerapkannya ke kelas <code>ReducerJedi</code> kita. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> reducerJedi = createClassReducer(ReducerJedi)</code> </pre> <br><h3 id="shag-3-smotrim-chto-poluchilos-v-itoge">  Langkah 3. Kami melihat apa yang terjadi sebagai hasilnya. </h3><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       import { Action, createClassReducer } from 'utils/reducer-class' const actionTypeJediCreateInit = 'jedi-app/jedi-create-init' const actionTypeJediCreateSuccess = 'jedi-app/jedi-create-success' const actionTypeJediCreateError = 'jedi-app/jedi-create-error' class ReducerJedi { //     "Class field delcaratrions",    Stage 3. // https://github.com/tc39/proposal-class-fields initialState = { loading: false, data: [], error: undefined, } @Action(actionTypeJediCreateInit) startLoading(state) { return { ...state, loading: true, } } @Action(actionTypeJediCreateSuccess) addNewJedi(state, action) { return { loading: false, data: [...state.data, action.payload], error: undefined, } } @Action(actionTypeJediCreateError) error(state, action) { return { ...state, loading: false, error: action.payload, } } } export const reducerJedi = createClassReducer(ReducerJedi)</span></span></code> </pre> <br><h2 id="kak-zhit-dalshe">  Bagaimana cara hidup? </h2><br><p>  Sesuatu yang kami tinggalkan di belakang layar: </p><br><ul><li>  Bagaimana jika jenis tindakan yang sama sesuai dengan beberapa reduksi? </li><li>  Akan bagus untuk menambahkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Immer di</a> luar kotak. </li><li>  Bagaimana jika kita ingin menggunakan kelas untuk membuat tindakan kita?  Atau fungsi (pembuat tindakan)?  Saya ingin dekorator tidak hanya dapat menerima jenis tindakan, tetapi juga pembuat tindakan. </li></ul><br><p>  Perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kelas peredam</a> kecil memiliki semua fungsi ini dengan contoh tambahan. </p><br><p>  Perlu dicatat bahwa gagasan menggunakan kelas untuk reduksi bukanlah hal baru.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@amcdnl</a> pernah membuat pustaka besar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aksi-ngrx</a> , tapi sepertinya dia sekarang telah mencetaknya dan beralih ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NGXS</a> .  Selain itu, saya ingin pengetikan yang lebih ketat dan mengatur ulang pemberat dalam bentuk khusus untuk fungsi Angular.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Berikut adalah daftar perbedaan utama antara aksi peredam dan tindakan ngrx.</a> </p><br><blockquote>  Jika Anda menyukai gagasan kelas untuk reduksi, maka Anda mungkin juga ingin menggunakan kelas untuk tindakan Anda.  Lihatlah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kelas aksi-fluks</a> . </blockquote><p>  Saya harap Anda tidak membuang waktu dengan sia-sia, dan artikel itu setidaknya sedikit bermanfaat bagi Anda.  Tolong tendang dan kritik.  Kami akan belajar kode lebih baik bersama. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id440524/">https://habr.com/ru/post/id440524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id440514/index.html">Siapa yang akan mengisi tanah cyborg? Status pengembangan Motorika berbicara tentang status masa depan Pulau Russky</a></li>
<li><a href="../id440516/index.html">"Jaringan sosial Linux" - bagaimana LiveJournal menjadi penemu blog, dan kemudian kehilangan mereka</a></li>
<li><a href="../id440518/index.html">Kami sedang menulis aplikasi pembelajaran di Go dan Javascript untuk mengevaluasi pengembalian stok riil. Bagian 1 - backend</a></li>
<li><a href="../id440520/index.html">Cara mendapatkan Sertifikasi Google Developers: Spesialis Web Seluler</a></li>
<li><a href="../id440522/index.html">Pengalaman dalam mengimplementasikan PBX virtual. Komunikasi dan perangkat lunak dalam keranjang yang berbeda</a></li>
<li><a href="../id440526/index.html">Kota Jepang beralih ke teknologi digital setelah salju lebat melanda</a></li>
<li><a href="../id440528/index.html">‚ÄúTunjukkan sepatu Anda dan saya akan memberi tahu Anda siapa Anda‚Äù: ‚Äã‚Äãpodcast baru pada proyek media tematik</a></li>
<li><a href="../id440530/index.html">Fitur lainnya dengan pola dalam C # 8.0</a></li>
<li><a href="../id440534/index.html">Terjemahan dari kosa kata yang benar secara politis dari bahasa Inggris ke bahasa Rusia</a></li>
<li><a href="../id440536/index.html">Bagaimana Facebook Project Infer membantu menemukan bug dalam aplikasi seluler sebelum penyebaran</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>