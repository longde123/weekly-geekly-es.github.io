<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕗 💆🏽 🙎🏿 Marionetista com ES6 em um nó e navegador, ou por que o Zora é a melhor estrutura de teste em seu nicho 🧔🏼 🧜🏼 👧🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tudo está bem desde que você precise executar fontes JS através dos manequins para criar um pacote, mas o inferno começa quando você deseja escrever t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Marionetista com ES6 em um nó e navegador, ou por que o Zora é a melhor estrutura de teste em seu nicho</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466551/"><p>  Tudo está bem desde que você precise executar fontes JS através dos manequins para criar um pacote, mas o inferno começa quando você deseja escrever testes para o seu site ou biblioteca.  O problema é que todas as estruturas de teste usam funções específicas de um nó e / ou são gravadas no ES5.  Assim, iniciar os testes E2E não é uma tarefa trivial e oferece dança com um pandeiro de transpilações e mapas de origem para cobrir o código.  Você não deseja que os erros apontem para o lugar errado? </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-b/ap/4s/-bap4sw3txogxdeww4tsomrzffw.png"></div><br><p>  Neste artigo, descreverei minha experiência usando o Puppeteer para uma pequena tarefa, <br>  e como lancei os módulos ES6 no nó e no navegador, tendo apenas uma fonte para testes sem coletores. </p><a name="habracut"></a><br><p> Por que Puppeteer, você pergunta, por que não o WebDriver?  Acabei de notar como os criadores das populares bibliotecas WebGL de código aberto são atormentados, por exemplo, eles têm 300 páginas com exemplos, cada um dos quais pode romper com qualquer confirmação.  Eles os verificam após cada alteração e, se esqueceram de abrir alguma coisa - desculpe <code>¯\_(ツ)_/¯</code> , ela quebrou.  Se ninguém ainda resolveu esse problema, decidi experimentá-lo enquanto estava na minha pequena biblioteca.  O primeiro pensamento que foi foi correr sem cabeça, mas é obsoleto.  O Node-gles já suporta WebGL2, mas não a extensão rara que eu usei.  WebDriver?  Eu nem tentei.  Não tenho certeza se isso é possível, não precisava de python / C # / Java, mas precisava de JS / TS com o nó mais recente e a API do navegador mais recente, para que os recursos voadores possam ser das especificações mais recentes. </p><br><p>  Por que os módulos ES6?  O suporte para WebGL e ES6 nos navegadores é praticamente o mesmo.  E com módulos configuráveis ​​ou não, deixe o usuário decidir, você pode simplesmente coletar as duas versões.  Porém, para testes de unidade, é muito conveniente usar a versão com os módulos, pois os mapas de origem são extraídos com muita simplicidade e, depois disso, você pode executar os testes sem gestos extras no nó ou no navegador.  Executando-os em marionetistas, o E2E com cobertura de código é quase gratuito.  Provavelmente o texto datilografado com um destino no ES6 era necessário, mas em um projeto pequeno coberto por testes, js normais também funcionarão. </p><br><p>  Então, apresentações suficientes, coloquei <code>puppeteer</code> e <code>puppeteer-to-istanbul</code> no projeto e escrevi esse invólucro </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// puppeteer.js import puppeteer from 'puppeteer'; import pup2ist from 'puppeteer-to-istanbul'; (async () =&gt; { const browser = await puppeteer.launch({ headless: process.env.HEADLESS, // headless customization slowMo: 250 // good fature for new configs }); const page = (await browser.pages())[0]; // enable coverage await page.coverage.startJSCoverage(); await page.coverage.startCSSCoverage(); // some additional code with console events here... // navigate to unit test page await page.goto('http://127.0.0.1:1234/'); // disable coverage const jsCoverage = await page.coverage.stopJSCoverage(); const cssCoverage = await page.coverage.stopCSSCoverage(); pup2ist.write([...jsCoverage, ...cssCoverage]) await new Promise(resolve =&gt; setTimeout(resolve, 6000)); await browser.close(); })();</span></span></code> </pre> <br><p>  Que pode ser executado com o <code>node --experimental-modules --no-warnings ./test/puppeteer.js</code> comando <code>node --experimental-modules --no-warnings ./test/puppeteer.js</code> com um nó 11+ ou mesmo sem sinalizadores no nó 13.2+.  Claro que você pode usar <code>require</code> , então ... Mas por quê?  Geralmente, isso é um back-end; aqui, o suporte ao cliente nem é necessário!  O código a seguir do <code>package.json</code> nos permite personalizar downloads SEM FIO no console e na nuvem do IC, se configurações diferentes forem necessárias para eles.  No travs / circle-ci, o linux provavelmente será instalado e você poderá definir variáveis ​​de ambiente nesse formato.  <code>concurrently</code> abre dois processos em um console em paralelo. </p><br><pre> <code class="json hljs">// package.json { //bla-bla... <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"module"</span></span>, // this line indicates that we are using es6 modules <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"node --experimental-modules --no-warnings ./test/puppeteer.js"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"server"</span></span>: <span class="hljs-string"><span class="hljs-string">"http-server -c-1 -p 1234"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"not-bad-cmd--dude"</span></span>: <span class="hljs-string"><span class="hljs-string">"concurrently -k -s first \"npm:test\" \"npm:server\""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"ci"</span></span>: <span class="hljs-string"><span class="hljs-string">"HEADLESS=true concurrently -k -s first \"npm:test\" \"npm:server\""</span></span>, } }</code> </pre> <br><p>  Na máquina local, depois de inserir o comando <code>npm run server</code> , o <code>npm run server</code> http será iniciado e, no <code>npm run test</code> puppeteer, em uma janela separada, a janela chrome.  Isso é basicamente tudo o que você precisa saber sobre marionetistas.  Outros exemplos de capturas de tela, emulações de dispositivos, áreas administrativas, etc. estão localizados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">aqui</a> .  A propósito, junto com o pacote de <code>puppeteer</code> , você instalou um cromo separado em <code>node_modules</code> ; se você não precisar, substitua-o por <code>puppeteer-core</code> ou <code>puppeteer-firefox</code> .  Deve-se observar que no exemplo acima, recebemos uma cobertura de código JS / CSS gratuita, escrita na pasta .nyc_output, até que nos concentremos nisso, nesta fase, não estamos com frio, não está quente, mas se houver alguma coisa, ela estará lá e estatísticas A cobertura do teste está quase pronta para exibição. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7p/1a/ub/7p1aubzvuejnelkrcqktlhwvwci.png"></div><br><p>  Agora, vamos aos testes em si, tentando escolher onde executarei o E2E em minha pequena biblioteca. Encontrei os gráficos a seguir, que comparavam o desempenho das estruturas de teste.  Provavelmente, o tempo de execução não é tão importante, mas quando algum Jest os inicia 10 vezes mais devagar, surge a pergunta "o que é e por que é necessário".  O principal critério de seleção foi executar o es6 com a linha <code>&lt;script type="module" src="./test.js"&gt;&lt;/script&gt;</code> na página html.  Como no momento em que escrevi meu código, o nó ainda não era totalmente compatível com o ES6 (ontem foi lançado 12.3 no qual os sinalizadores foram removidos).  Decidi que se você adotasse a estrutura com as fontes do TS ou ES6 +, ela definitivamente deveria começar.  Em geral, você provavelmente poderia usar algum tipo de mocha, declará-lo mais alto na página e se referir à classe declarada, mas o que acontece se ocorrer um erro?  Em geral, você pode nomear seu teste de corredor favorito aqui.  Vou apenas dizer que o Zora suporta o formato TAP, e isso significa que um zoológico inteiro de comedores da TAP é adequado para ele.  Ele tem a maioria das asserções, suporta assíncrono, é um dos mais rápidos, escrito em ES6 puro, sem dependências do próprio nó.  Pareceu-me um verdadeiro diamante para pequenos projetos. </p><br><p>  Como resultado, fiz alguns testes que funcionam tanto no navegador quanto no nó.  A <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">documentação do</a> Zora possui instruções abrangentes sobre asserções e agrupamentos de comandos. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// test.js import MyLibrary from '../dist/my-library.module.js'; import { test } from 'https://cdn.jsdelivr.net/npm/zora@3.0.3/dist/bundle/module.js'; test('CPU', async (t) =&gt; { // some stuff here t.ok(tfps != null, 'fps = ' + (tfps != null ? tfps.toFixed(1) : 'null')); t.ok(tcpu != null, 'cpu = ' + (tcpu != null ? tcpu.toFixed(1) : 'null')); }); test('Memory', async (t) =&gt; { // some stuff here t.ok(tmem != null, 'mem = ' + (tmem != null ? tmem.toFixed(1) : 'null')); }); // etc...</span></span></code> </pre> <br><p>  Para mostrar o console sem montagens, tive que fazer um sniffer semelhante.  O console bare não é muito apresentável, seria possível conectar a saída TAP em algum lugar para guiar a maratona.  Mas o mais engraçado é que os resultados do teste em seu cliente podem ser visualizados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">online</a> .  Além disso, exatamente o mesmo código é executado no IC em qualquer confirmação. </p><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"en"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- some declarations in head --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- some declarations in body --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">const</span></span></span><span class="javascript"> addSniffer = </span><span class="hljs-function"><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">spyTarget</span></span></span></span><span class="javascript"><span class="hljs-function">) =&gt;</span></span></span><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ spyTarget.apply(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.console, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">); sniffer([...arguments]); } </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.console.log = addSniffer(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.console.log); </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.console.error = addSniffer(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">.console.error); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> screen = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementById(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'screen'</span></span></span><span class="javascript">); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">sniffer</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">string</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> screen = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.getElementById(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"screen"</span></span></span><span class="javascript">); string.forEach(</span><span class="hljs-function"><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">line</span></span></span></span><span class="javascript"><span class="hljs-function"> =&gt;</span></span></span><span class="javascript"> { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> div = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.createElement(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"div"</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">let</span></span></span><span class="javascript"> text = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.createTextNode(line); div.appendChild(text) screen.appendChild(div); }); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"module"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./test.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Mas isso não é tudo, com testes prontos, você pode conectar bots como renovate / greenkeeper / dependabot, que atualizariam dependências em sua biblioteca e executariam automaticamente, após verificar a correção das atualizações.  E o travis / github-ci / circle-ci teria carregado uma nova versão dos pacotes npm. </p><br><p>  Por exemplo, essa configuração do renovate, faz auto commit aos domingos e aumenta a versão </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"automerge"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"automergeType"</span></span>: <span class="hljs-string"><span class="hljs-string">"branch"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"bumpVersion"</span></span>: <span class="hljs-string"><span class="hljs-string">"patch"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"schedule"</span></span>: [<span class="hljs-string"><span class="hljs-string">"on sunday"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"ignorePaths"</span></span>: [<span class="hljs-string"><span class="hljs-string">".circleci"</span></span>] }</code> </pre> <br><p>  E o travis, quando você elevou a versão ou algum bot, pode enviar automaticamente o pacote para o npm.  Para fazer isso, crie uma conta no <code>travis-ci.org</code> , ative f2a conforme descrito <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">neste artigo</a> , insira duas chaves secretas <code>$NPM_EMAIL</code> e <code>$NPM_TOKEN</code> e crie uma configuração semelhante. </p><br><pre> <code class="plaintext hljs">language: node_js node_js: '12' script: - npm run ci deploy: provider: npm edge: true email: $NPM_EMAIL api_key: $NPM_TOKEN on: branch: master</code> </pre> <br><p>  No total, é de alguma forma possível, mas é difícil livrar-se das notificações do github de que uma vulnerabilidade apareceu em algum tipo de dependência: D </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt466551/">https://habr.com/ru/post/pt466551/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt466539/index.html">Utilizando Módulos JavaScript em Produção: Situação Atual. Parte 2</a></li>
<li><a href="../pt466541/index.html">Usando o DbTool para propagar bancos de dados em aplicativos .NET (Core)</a></li>
<li><a href="../pt466543/index.html">Os créditos do Habr Weekly # 17 / Sberbank serão aprovados pela AI - assustador, publicidade em produtos de código aberto - duvidoso</a></li>
<li><a href="../pt466547/index.html">Feliz Dia do Programador</a></li>
<li><a href="../pt466549/index.html">Princípios gerais de operação da QEMU-KVM</a></li>
<li><a href="../pt466553/index.html">6 lições aprendidas ao encontrar uma solução para um enorme problema em gitlab.com. Parte 2</a></li>
<li><a href="../pt466555/index.html">6 lições aprendidas ao encontrar uma solução para um enorme problema em gitlab.com. Parte 1</a></li>
<li><a href="../pt466557/index.html">Como criar um layout para o site e não ficar extremo</a></li>
<li><a href="../pt466559/index.html">Let é o novo Var</a></li>
<li><a href="../pt466561/index.html">Precisa de escolhas absolutamente transparentes? - eu os tenho</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>