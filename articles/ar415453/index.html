<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐จ๐ผ ๐ข ุจุงูุซูู 3. ุฃุชูุชุฉ ุชูููู ูุนุฏุงุช ุงูุดุจูุฉ ูุชุนุฏุฏุฉ ุงูุจุงุฆุนูู ๐ฌ ๐ฉ๐ฝโ๐ณ ๐ต๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏูุฉ 
 ููู ุฌูุฏ ููุฌููุน! 

 ุฃูุง ุฃุนูู ููููุฏุณ ุดุจูุงุช ููุดุบู ุงุชุตุงูุงุช ูุจูุฑ ุ ูุชุญุช ุชุญููู ููุงู ุญุฏููุฉ ุญููุงูุงุช ูุงููุฉ ููุนุฏุงุช ุงูุดุจูุฉ ุงููุฎุชููุฉ ุ ููููุง ุณูุชุญุฏุซ ุนู ููุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุจุงูุซูู 3. ุฃุชูุชุฉ ุชูููู ูุนุฏุงุช ุงูุดุจูุฉ ูุชุนุฏุฏุฉ ุงูุจุงุฆุนูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415453/" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  ููุฏูุฉ </h4><br>  ููู ุฌูุฏ ููุฌููุน! <br><br>  ุฃูุง ุฃุนูู ููููุฏุณ ุดุจูุงุช ููุดุบู ุงุชุตุงูุงุช ูุจูุฑ ุ ูุชุญุช ุชุญููู ููุงู ุญุฏููุฉ ุญููุงูุงุช ูุงููุฉ ููุนุฏุงุช ุงูุดุจูุฉ ุงููุฎุชููุฉ ุ ููููุง ุณูุชุญุฏุซ ุนู ููุงุชูุญ ุงููุตูู. <br><br>  ูุฐู ุงูููุงูุฉ ููุณุช ุฏููููุง ููุนูู ุ ููู ููุณุช ุงูุญู ุงููุญูุฏ ููู ุงููุงุถุญ ุฃููุง ูุง ุชุชุธุงูุฑ ุจููููุง ูุตูุง ุชุฑุดูุญููุง ููุณูุฉ ุ ูููู ุฃุฑูุฏ ูุดุงุฑูุฉ ูุฐุง ุงูุฎูู ุ ูุฑุจูุง ูููู ูููุฏูุง ูุดุฎุต ูุง. <br><br>  ุณุชูุฏู ุงูููุงูุฉ ูุฌููุนุฉ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุชุญุช ุงูููุณุฏ ุ ูุฃุฏูุงู ุณูููู ูุตููุง ูุน ูุตุงุตุงุช ูุชูุณูุฑุงุช ูุณุจุจ ุฐูู ููุง ูู ุงูุบุฑุถ ููู. <br><br><h4 style=";text-align:right;direction:rtl">  ุงูุชุญุฏู </h4><br>  ุงุณุชุฎุฏู python3 ุนูู ูุฌู ุงูุชุญุฏูุฏ.  ูุฌุจ ุฃู ูููู ุงูุจุฑูุงูุฌ ุงููุตู ูุงุฏุฑูุง ุนูู ุงููุตูู ุฅูู ุงูููุงุชูุญ ูู ุงููุงุฆูุฉ ุ ูุชุญุฏูุฏ ููุน ุงูุจุงุฆุน ุ ูุฅุนุทุงุก ุงูุฃูุฑ ุงููุทููุจ ุ ูุงูุชุณุฌูู. <br><br><h4 style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ููู ุฌุฆุช ุฅูู ูุฐุง </h4><br>  ูู ููุงุฌูุฉ ูุดููุฉ ุตุบูุฑุฉ ูู ุชุบููุฑ ุงูุชูููู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงููุญููุงุช ุ ุณุฃููู ุนูู ุงูููุฑ ุจุงูุญุฌุฒ ุญูู ูุธุงู ุงูุฅุฏุงุฑุฉ ุงููุฑูุฒู ููุนุฏุงุช ุงูุดุจูุฉ ูุฏููุง ุ ููุง ูุชููุฑ ุงููุซูุฑ ูู ุงูุชุทูุฑุงุช ูู ุฒููุงุฆู ูู ุดูู ูุตูุต ูุชุณููู ุงูุนูู ุงููุฏูู ุ ุจุดูู ุฃุณุงุณู bash ุ perl. <br><br>  ูููู ุจุงููุณุจุฉ ูู ูุงู ูู ุงูููู ุงูููุงู ุจุดูุก ูุฎุชูู ุ ูุฃูู  ููุฏ ุจุฏุฃุช ูู ุชุนูู python ูุคุฎุฑูุง ูุฃุญุชุงุฌ ุฅูู ุชุฑููุฉ ููุงุฑุงุชู ูู ุงูุจุฑูุฌุฉ ุ ููุฌุจ ุฃู ุชุจุฏู ุฃุฏุงุชู ููุทุฑูุฉ (ุณููุฉ ุงูุงุณุชุฎุฏุงู ูุณููุฉ ุงูุตูุงูุฉ).  ุฅุฐุง ูุงูุช ุงููุงุฆุฏุฉ ูุง ุชุฒุงู ูุงุฆูุฉ ูุฃูุง ุฃุทูุจ ูุทุฉ. <br><a name="habracut"></a><br>  Googling ูุนุฏู ุงูุนุซูุฑ ุนูู ุงูุญู ุงูููุงุณุจ (ููุง ูู ูุงู ูู ุงูููุชุฏู ุทุฑุญ ูุฐุง ุงูุณุคุงู ุ ูููู ูู ุดูุก ูุงู ุฎุงุทุฆูุง ููุงู) ุ ูุฑุฑุช ุฃู ุฃุจุฏุฃ ูู ูุชุงุจุฉ ุงููุต ุงูุฎุงุต ุจู. <br><br>  ูุฏููุง ุงูููุงุชูุญ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Raisecom </li><li style=";text-align:right;direction:rtl">  ูุฑุงุฌุนุฉ Qtech.  1.0 </li><li style=";text-align:right;direction:rtl">  ูุฑุงุฌุนุฉ Qtech.  2.0 (ุงููุฑู ูู ุจูุงุก ุงูุฌููุฉ) </li><li style=";text-align:right;direction:rtl">  ุงูุชูุณ </li><li style=";text-align:right;direction:rtl">  ุฏ ุงูุงุฑุชุจุงุท </li><li style=";text-align:right;direction:rtl">  Spawn Frankenstein ุงูุชุจุฏูู ูุน ููุงูุฉ ูู Qtech rev 1.0 ุ ูุงูุญุฏูุฏ ูู Raisecom ุณูุทูู ุนููู ROS </li></ul><br>  ุฃููุงู ุ ุงุณุชูุฑุงุฏ ุงูููุชุจุงุช ุงููุทููุจุฉ: <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> telnetlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> getpass <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pexpect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> telnetlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Telnet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> subprocess</code> </pre> <br>  ูุจุฏุฆููุง ุ ูููู ุจูุตู ูุธููุฉ ุชุนุฑูู ุงูุจุงุฆุน ุ ูุฃู  ูุฑุฑุช ุงุณุชุฎุฏุงู ุทุฑููุชูู: <br><br>  1) ุงูุชุฑุถ ููุน ุงูุจุงุฆุน (ุนูุฏ ุงูุฏุนูุฉ ูุฅุฏุฎุงู ุชุณุฌูู ุงูุฏุฎูู) ููุง ูุงุญุธุช ุฃูู ูุฎุชูู ููุฌููุน: Qtech (ุชุณุฌูู ุงูุฏุฎูู :) ุ Raisecom ู ROS (ุชุณุฌูู ุงูุฏุฎูู :) ุ Eltex (ุงุณู ุงููุณุชุฎุฏู :) ุ D-link (ุงุณู ุงููุณุชุฎุฏู)). <br><br>  2) ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู - ุชุฃูุฏ ูู ุฃู ุงูุนูุตุฑ ุงูุฃูู ูุฏ ุงูุชูู ุจุฏูู ุฎุทุฃ ุ ููุชุญุฏูุฏ ุฃูุถู ููููุชุงุญ ุงูุฐู ูุนูู ุนููู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุธููุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">who_is</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   global ver_status global sab_versus global versus sab_versus='' ver_status='' versus='' #  a = 'Serial No.:1405' # #qtech rev1 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0 parser=open('servers_&amp;_log/ver.txt', 'r') #  for line in parser.readlines(): line1 = line.find(a) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0' if line4 != -1: ver_status='d-link' if line5 != -1: ver_status='raisecom' if line6 != -1: ver_status='raisecom-qtech' sab_versus=1 if line7 !=-1: ver_status='eltex' if line8 !=-1: ver_status='eltex' if line10 != -1: ver_status = 'qtech_rev_2.0' time.sleep(0.1) parser.close() os.remove('servers_&amp;_log/ver.txt') return ver_status,sab_versus</span></span></code> </pre> <br></div></div><br>  ุงููุธููุฉ ูููุง ุชุญุช ุงูููุณุฏ.  ูุนูู ุงููุชุบูุฑุงุช ุงูุนุงูููุฉ ุงูุชู ุณุชููู ูุฑุฆูุฉ ูููุต ุจุฑูุชู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">global</span></span> ver_status <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> sab_versus <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> versus</code> </pre> <br>  ุชุฎุฒู ุงููุชุบูุฑุงุช a ุ d ุ f ุ h ุ j ุ k ุ n ุงููููุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ุณูุญุฏุฏ ูู ุฎูุงููุง ูููุฐุฌ ุงููุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">a = <span class="hljs-string"><span class="hljs-string">'Serial No.:1405'</span></span> <span class="hljs-comment"><span class="hljs-comment"># #qtech rev1 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0</span></span></code> </pre> <br>  ุจุนุฏ ูุชุญ ููู ver.txt ุ ููุฑุฃู ุณุทุฑุงู ุจุณุทุฑ ููุจุญุซ ุนู ุงูุฅุฏุฎุงู ุจุงููููุงุช ุงูุฑุฆูุณูุฉ ุ ูุฃูู  ุชูุฑุฌุน ุงูุฏุงูุฉ find () -1 ุฅุฐุง ูุงูุช ูุฐู ุงููุชูุฌุฉ ุณุงูุจุฉ ุ ูุณูุจูู ุงููุฑูุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">parser=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/ver.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  for line in parser.readlines(): line1 = line.find(a) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0'</span></span></code> </pre> <br>  ... <br><br>  ุฃุนุทู ูุซุงูุง ุนูู ุฌุฒุก ูู ุงูุฑูุฒ ุ ูุงูุจุงูู ุชุญุช ุงูููุณุฏ ุฃุนูุงู. <br><br>  ุณูุชู ูุตู ูุญุชููุงุช ูุฐุง ุงูููู ุฃุฏูุงู.  ุจุนุฏ ูู ุงูุชูุงุนุจุงุช ูุชุญุฏูุฏ ุงูุจุงุฆุน ุ ุงุญุฐู ููู ver.txt. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฅุนูุงู ุนู ุงููุชุบูุฑุงุช ุงูุฑุฆูุณูุฉ ุ ุฌุณู ุงูุญููุฉ ุงูุฑุฆูุณูุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs">user=<span class="hljs-string"><span class="hljs-string">'user'</span></span> password=<span class="hljs-string"><span class="hljs-string">'password'</span></span> komm=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komm.txt'</span></span>) log=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>,<span class="hljs-string"><span class="hljs-string">'a'</span></span>) <span class="hljs-comment"><span class="hljs-comment">######### counter_komm=0 counter_dlink=0 counter_qtech=0 counter_eltex=0 counter_raisecom=0 counter_ROS=0 counter_qtech1_0=0 counter_qtech2_0=0 ########## for host in komm.readlines(): print('connect....',host) vend = '' response = os.system('ping -c 1 ' + host) verinfo = open('servers_&amp;_log/ver.txt', 'w') ver_status = '' sab_versus = '' if response == 0: telnet = pexpect.spawn('telnet ' + host,timeout=40) vend = telnet.expect(['login:', 'Login:', 'User Name:', 'Username']) telnet.close() tn = Telnet(host.replace('\n', ''), 23,30) try: print('Ok'+'\n') tn.read_until(b':') tn.write((user +'\n').encode('ascii')) tn.read_until(b':') tn.write((password + '\n').encode('ascii')) time.sleep(3) tn.read_until(b'#',timeout=20) except: print('connection refused' + '\n') f = open('servers_&amp;_log/log.txt', 'a') print(host, 'connection refused', file=log) print('#' * 100, host, file=log) ###   ######################################################### if vend == 0:#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ...</span></span></code> </pre> <br></div></div><br>  ูุฑุฑุช ุนุฏู ุงูุฅุฒุนุงุฌ ูุชุนููู ุงููุชุบูุฑุงุช ุจุงุณุชุฎุฏุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ ูู ุงูุฌุณู ุ ูุฃูุง ุฃุนูู ุฃูู ููุณ ุฃูุงููุง ุ ูุฃูุง ุฃุนูู ุนูู ุฐูู. <br><br>  ุงูุชุญ ููู ุงูุณุฌูุงุช ููุงุฆูุฉ ุงูููุงุชูุญ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">komm=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komm.txt'</span></span>) log=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>,<span class="hljs-string"><span class="hljs-string">'a'</span></span>)</code> </pre> <br>  ุจุนุฏ ุงุณุชุฎุฏุงู ุญููุฉ for ุ ุงูุฑุฃ ุงูุณุทุฑ ุจุนููุงู IP ุงูุฎุงุต ุจุงูููุชุงุญ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> host <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komm.readlines(): print(<span class="hljs-string"><span class="hljs-string">'connect....'</span></span>,host) vend = <span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br>  ูุชุญูู ูู ุชูุงูุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">response = os.system(<span class="hljs-string"><span class="hljs-string">'ping -c 1 '</span></span> + host)</code> </pre> <br>  ุฅุฐุง ูุงู ูู ุงููููู ุงููุตูู ุฅููู ุจุงุณุชุฎุฏุงู ููุชุจุฉ pexpect ุ ููุญู ูุญุงูู ุงูุงุชุตุงู ุนุจุฑ telnet ููุง ูู ูุฐุง ุงูุชูุฑุงุฑ ููุญุฏุซ ุฃูู ูุญุต ูู ุงูุฏุนูุฉ ุ ูุงูุฐู ูุชุจุช ุนูู ูู ุงูุจุฏุงูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> response == <span class="hljs-number"><span class="hljs-number">0</span></span>: telnet = pexpect.spawn(<span class="hljs-string"><span class="hljs-string">'telnet '</span></span> + host,timeout=<span class="hljs-number"><span class="hljs-number">40</span></span>) vend = telnet.expect([<span class="hljs-string"><span class="hljs-string">'login:'</span></span>, <span class="hljs-string"><span class="hljs-string">'Login:'</span></span>, <span class="hljs-string"><span class="hljs-string">'User Name:'</span></span>, <span class="hljs-string"><span class="hljs-string">'Username'</span></span>]) telnet.close() tn = Telnet(host.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), <span class="hljs-number"><span class="hljs-number">23</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>)</code> </pre><br>  ุณูุญุตู ูุชุบูุฑ ุงูุจุงุฆุน ุนูู ูููุฉ ูู 0 ุฅูู 3 ุดุงููุฉ ุ ูุจูุงุกู ุนูู ูุทุงูุจุฉ ุชุณุฌูู ุงูุฏุฎูู ุงูุชู ูุฑุงูุง ุ ุณูุชู ุชุดููู ูุฑุน ุขุฎุฑ. <br><br>  ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุฏ ููุงุญุธ ุงููุงุฑุฆ ุงูููุธ ุฃููู ุฃููู ุจุฅุฌุฑุงุก ุงุชุตุงู ุจุงูููุชุงุญ ูุฃุบูู ุงูุงุชุตุงู ุนูู ุงูููุฑ ุ ููุฐุง ููุณ ุจุฏูู ุณุจุจ.  ุญุงููุช ุงุณุชุฎุฏุงู ููุชุจุฉ telnetlib ููุท ุ ูููู ูู ุงูุงุฎุชุจุงุฑ ุงูุฃูู ุ ุชููู ุงูุจุฑูุงูุฌ ุงููุตู ุนู ุงูุนูู ุจุดูู ุฏูุฑู ูุณูุท ุจุดูู ูุคูุช ุ ููุฐุง ุงูุนูุงุฒ ูุณุงุนุฏ ูุซูุฑูุง. <br><br>  ุจุนุฏ ุฅุบูุงู ุงูุงุชุตุงู ุ ูููู ุจุฅุนุงุฏุฉ ุงูุงุชุตุงู ููุท ุจุงุณุชุฎุฏุงู ููุชุจุฉ telnetlib ุจุงููุนู. <br><br>  ูู ุฃุฌู ุชุฌูุจ ุงููููุน ูู ุงูุฃุฎุทุงุก ุ ูููุง ุจุงููุนู ุจุงูุชุญูู ุฃุนูุงู ูู ุฃู ุงูููุชุงุญ ูููู ุงููุตูู ุฅููู ุ ูุงุณุชุจุนุงุฏ ุงููุทุงุน ุงูุจุฑูุงูุฌ ุงููุตู ุฃุซูุงุก ุงูุชุดุบูู ุจุณุจุจ ููุชุงุญ ุฎุงูู ูุงุญุฏ ุ ูู ูู ุดูุก ูู ูุญุงููุฉ ุจุงุณุชุซูุงุก ุงููุชูุฉ. <br><br>  ูุงูุช ููุงู ุญุงูุงุช ูุชูุฑุฑุฉ ุนูุฏูุง ูู ูุณูุญ ุฃุญุฏ ูููุณู ุจุงูุฏุฎูู ูู ุจูู 100 ููุชุงุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: print(<span class="hljs-string"><span class="hljs-string">'Ok'</span></span>+<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>) tn.write((user +<span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>) tn.write((password + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>) tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>,timeout=<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>: print(<span class="hljs-string"><span class="hljs-string">'connection refused'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) f = open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>) print(host, <span class="hljs-string"><span class="hljs-string">'connection refused'</span></span>, file=log) print(<span class="hljs-string"><span class="hljs-string">'#'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span>, host, file=log)</code> </pre> <br>  ... <br>  ุฅุฐุง ูุงู ูู ุดูุก ุนูู ูุง ูุฑุงู ูุงุชุตููุง ุ ูุนูููุง ุฅุฏุฎุงู ุงุณู ูุณุชุฎุฏู ููููุฉ ูุฑูุฑ ุ <br>  ูุญู ูุนูู ุนูู ูุฌู ุงููููู ุฃู ุฃู ููุฌู ููููููู ูุณุชุฎุฏู ููุทุชูู. <br><br>  ูุฐูู ูุญู ูู ุงูุชุธุงุฑู <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>)</code> </pre> <br>  ุจุนุฏ ุฏุฎูููุง ุชุณุฌูู ุงูุฏุฎูู <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((user +<span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ูู ุงูุชุธุงุฑ ุงูููููู ูู ูููุฉ ุงููุฑูุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>)</code> </pre> <br>  ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((password + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ูููุชุธุฑ 3 ุซูุงู (ูุชุฑุฉ ุฑุงุญุฉ ุ ูุฅูุง ูููุง ุจุงููุซูุฑ ูู ุงูุนูู) <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  ุจุนุฏ ุงูุชุธุงุฑ ุงูุฏุนูุฉ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>,timeout=<span class="hljs-number"><span class="hljs-number">20</span></span>)</code> </pre> <br>  ููุง ูู ูุฐู ุงููุฑุญูุฉ ุ ููุชูู ุฅูู ุงููุณุชูู ุงูุซุงูู ููุญุต ุงูุจุงุฆุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vend == <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-comment"><span class="hljs-comment">#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is()</span></span></code> </pre> <br>  ูุฃู  ุงูุชุฑุถูุง ุฃููุง ูุตููุง ุฅูู Qtech ุ ูุฅุฐุง ูุฑุฃุช ุจุนูุงูุฉ ุ ูููุงู ูู ุญุฏููุฉ ุงูุญููุงูุงุช ูุฏููุง ุฅุตุฏุงุฑุงู ูู qtech ูุฎุชููุงู ูู ุจูุงุก ุงูุฌููุฉ ุ ูุง ุฒููุง ุจุญุงุฌุฉ ุฅูู ุงููุตุงูุญุฉ. <br><br>  ูุฐูู ุ ูุนุทู ุงูุฃูุฑ show ver ุ ููุถุน ุฌููุน ุงููุฎุฑุฌุงุช ูู ููู ver.txt <br>  ูุงุณุชุฏุนุงุก ุงูุฅุฌุฑุงุก who_is () ุ ุงูุฐู ูุตูุชู ุฃุนูุงู.  ูุฑูู ุงููุนุฑุถ ูู ุนุงููู ูุฌููุน Qtech ุ Raisecom ุ Eltex ุ <br><br>  ูุณูุก ุงูุญุธ ุ ูุง ูููู D-link ููุญุชุงุฌ ุฅูู ุฅุธูุงุฑ ุฅุธูุงุฑ swich ุ ููููุง ุฃุฐููุงุก ููู ูุฐูุจ ุณุฏู ุจุชูุฑุงุฑ ูุน ุงูุชุนุฑูู ุงูููุชุฑุถ ููุจุงุฆุน. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vend == <span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-comment"><span class="hljs-comment">#   D-link tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is()</span></span></code> </pre><br>  ูุฐุง ุนูู ุงูููุฑ ุ ุจุนุฏ ููุงุญุธุฉ ุตุบูุฑุฉ ุจุนุฏ ุงูุฏุฎูู ุฅูู ุนุฑุถ swich ุ ูุนุฑุถ ุงูููุชุงุญ ูุนูููุงุช ุบูุฑ ููุชููุฉ ูููุชุธุฑ ุฃู ูุถุบุท ุงููุณุชุฎุฏู ุนูู ุฃู ููุชุงุญ ููุฒูุฏ ูู ุงูุฅุฎุฑุงุฌ ุ ูุจุงูุชุงูู ูุฑุณู ุงูุญุฑู "a" ูุนุฑุถ ุงููุนูููุงุช ุงููุงููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((<span class="hljs-string"><span class="hljs-string">'a'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ูุชุฌูุจ ุฐูู ุ ููููู ุฅููุงู ุงูุญุดู <br><br>  ูุฐุง ูู ุงูููุงู ุงูุฐู ููุชูู ููู ุงูุชุญูู ูู ุงูููุฑุฏ ูุจุงุญุชูุงู 99ูช ูููููุง ุฃู ููุชุฑุถ ุฃููุง ูุฏ ุญุฏุฏูุง ุจุดูู ุตุญูุญ ูููุฐุฌ ุงูุชุจุฏูู ููููููุง ูุชุงุจุนุฉ ุงูุชูููู. <br><br>  ููู ููุชุงุญ ุ ูุฏููุง ููู ูููุตู ูุน ูุฌููุนุฉ ูู ุงูุฃูุงูุฑ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุชูุฉ ุงูุชูููู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> ver_status == <span class="hljs-string"><span class="hljs-string">'qtech_rev_1.0'</span></span>: tn.write((<span class="hljs-string"><span class="hljs-string">'show ver'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print((tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>).decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)), file=log) counter_qtech1_0+=<span class="hljs-number"><span class="hljs-number">1</span></span> komand_qtech1_0=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komand_qtech_ver1.0.txt'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> kommand <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komand_qtech1_0.readlines(): tn.write((kommand.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) tn.write((<span class="hljs-string"><span class="hljs-string">'exit'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print(tn.read_all().decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>), file=log) print(<span class="hljs-string"><span class="hljs-string">'   qtech1.0'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'Qtech rev1.0 '</span></span> + host, file=log) print(<span class="hljs-string"><span class="hljs-string">'#'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span>, file=log) <span class="hljs-comment"><span class="hljs-comment">################################################################################ elif ver_status == 'qtech_rev_2.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech2_0+=1 komand_qtech2_0=open('servers_&amp;_log/komand_qtech_ver2.0.txt') print('   qtech2.0') for kommand in komand_qtech2_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('Qtech rev2.0 ' + host, file=log) print('#' * 100, file=log) ...</span></span></code> </pre><br></div></div><br>  ุจุนุฏ ุนูู ุงูุฏุงูุฉ ูุฅุฑุฌุงุน ูุชุบูุฑ ver_status ุ ูููููุง ููุงุตูุฉ ุงูุนูู ูุน ุงูุชูุฑุน ุ ูุฃูู  ูุญู ูุนุฑู ุจุงูุถุจุท ุฃู ููุชุงุญ ููุฌูุฏ ุญุงูููุง ุนูู ุงูุฎุท. <br>  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุนุทู ุงูููุชุงุญ ุงูุฃูุฑ show ver ูููุชุจ ุงูุฅุฎุฑุงุฌ ุฅูู ุงูุณุฌู (ุญูู d-link ุ ุชุฐูุฑ ุฃููุง ูุนุทูู ุงูุฃูุฑ sh sw) <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((<span class="hljs-string"><span class="hljs-string">'show ver'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print((tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>).decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)), file=log)</code> </pre> <br>  ุชุฃูุฏ ูู ุงูุงุญุชูุงุธ ุจุงูุนุฏุงุฏุงุช ูุชุญุฏูุฏ ุนุฏู ุงููุทุงุจูุฉ. <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">counter_qtech1_0+=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  ููุชุญ ููู ุจุฃูุงูุฑ <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">komand_qtech1_0=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komand_qtech_ver1.0.txt'</span></span>)</code> </pre> <br>  ูุฌุจ ุฃู ูููู ุชุฑุชูุจ ุงูุฃูุงูุฑ ูู ุงูููู ูู ููุณู ุงูุฐู ุณูุฏุฎูู ุงููุณุคูู ูุฏูููุง <br><br>  ูุซุงู: <br><br> <code>conf <br> vlan 2525 <br> name SPD <br> int ethe 1/1 <br> sw mode access <br> sw acc vl 2525 <br> exit <br> exit <br> save <br> y <br></code> <br>  ุซู ูู ุดูุก ุญุณุจ ุงูุณููุงุฑูู - ููุฑุฃ ุงูููู ุญุชู ุชูุชูู ุงูุฃุณุทุฑ ููููู ุจุชูููุฐูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> kommand <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komand_qtech1_0.readlines(): tn.write((kommand.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ุจุนุฏ ุงูุฎุฑูุฌ ูู ุงูุญููุฉ ุ ูุฎุจุฑ ุฎุฑูุฌ ุงูููุชุงุญ ูููุฑุฃ ุฌููุน ุงููุฎุฑุฌุงุช ุฅูู ููู ุ ูููุฐุง ููุนู ููุท ูุน qtech1.0 ุ ูุฃู  ูู ุจุนุถ ุงูุฃุญูุงู ูุชูุณู ุงูุจุฑูุงูุฌ ุงููุตู ุชุญุณุจูุง ูุดูุก ูุง ููู ูุน ูุฐุง ุงูุชุจุฏูู ุ ุญุชู ูุง ุชุซูุฑ ุถุฌุฉ ุ ุจุฏุง ูู ูุฐุง ุงูุญู ุฃูุซุฑ ุฃูุงูุฉ. <br><br>  ุจุนุฏ ุชูููู ุงูููุชุงุญ ุ ูููู ุจุฒูุงุฏุฉ ุงูุนุฏุงุฏ ุงูุฅุฌูุงูู ุจููุฏุงุฑ ูุงุญุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">counter_komm+=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  ููุจุฏุฃ ูู ุฌุฏูุฏ ุ ููุฑุฃ ุงูุณุทุฑ ุงูุชุงูู ูู ุงูููู ุจุงูููุงุชูุญ ุ ููุญุฏุฏ ุงููููุฐุฌ ุ ููููู ุจุงูุชูููู. <br><br>  ุจุนุฏ ุงูุฎุฑูุฌ ูู ุงูุฏูุฑุฉ ุงูุฑุฆูุณูุฉ ุ ุชุญุชุงุฌ ุฅูู ุนูู ููุฎุต ููุนูู ุงูููุฌุฒ ุ <br>  ูู ููุงูุฉ ุงูุณุฌู ุ ูุฏุฎู ุฌููุน ุงูููุงุฐุฌ ุงูุชู ูููุง ุจูุนุงูุฌุชูุง ูุงูุชุงุฑูุฎ ุฅูุฒุงูู ุ ุญุณููุง ุ ููู ูููู ุฃู ูููู ุจุฏููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">'\n\n\n : '</span></span>, counter_komm,file=log) print(<span class="hljs-string"><span class="hljs-string">'\n\nD-link:'</span></span>, counter_dlink,<span class="hljs-string"><span class="hljs-string">'\nQtech ver1.0:'</span></span>, counter_qtech1_0,<span class="hljs-string"><span class="hljs-string">'\nROS:'</span></span>, counter_ROS,<span class="hljs-string"><span class="hljs-string">'\nRaisecom:'</span></span>,counter_raisecom,<span class="hljs-string"><span class="hljs-string">'\nEltex:'</span></span>, counter_eltex,<span class="hljs-string"><span class="hljs-string">'\nQtech ver2.0 :'</span></span>, counter_qtech2_0,file=log) print(<span class="hljs-string"><span class="hljs-string">'\n: '</span></span>, datetime.datetime.now().isoformat(),<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">'#'</span></span>*<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-string"><span class="hljs-string">'\n\n\n\n\n'</span></span>,file=log) verinfo.close() log.close()</code> </pre> <br>  ุชูุช ูุนุงูุฌุฉ ูุฐุง ุงูุจุฑูุงูุฌ ุงููุตู ุจุดูู ูุชูุฑุฑ ููู ุชุชููู ุงูุนูููุฉ ุนูุฏ ูุฐุง ุงูุญุฏ. <br>  ุดูุฑุง ููู ุฌููุนุง ุนูู ุงูุชูุงููู.  ุงูููุฏ ุงูุจูุงุก ูุฑุญุจ ุจู. <br><br>  ุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุชุญุช ุงูููุณุฏ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงููุตุฏุฑ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python3 #22/06/2017 17:17 import telnetlib import time import os import sys import getpass import pexpect from telnetlib import Telnet import datetime import subprocess def who_is(): #     ,      . global ver_status global sab_versus global versus sab_versus='' ver_status='' versus='' a = 'Serial No.:1405' # #qtech rev1 #b = 'Serial No.:3922' # #qtech rev2 #c = 'Serial No.:5436' # #qtech rev2 #l = 'Serial No.:16101' # #qtech rev2 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0 parser=open('servers_&amp;_log/ver.txt', 'r') for line in parser.readlines(): line1 = line.find(a) #line2 = line.find(b) #line3 = line.find(c) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) #line9 = line.find(l) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0' #if line2 != -1 or line3 != -1 or line9 !=-1: #ver_status='qtech_rev_2.0' if line4 != -1: ver_status='d-link' if line5 != -1: ver_status='raisecom' if line6 != -1: ver_status='raisecom-qtech' sab_versus=1 if line7 !=-1: ver_status='eltex' if line8 !=-1: ver_status='eltex' if line10 != -1: ver_status = 'qtech_rev_2.0' time.sleep(0.1) parser.close() os.remove('servers_&amp;_log/ver.txt') return ver_status,sab_versus user='user' password='password' komm=open('servers_&amp;_log/komm.txt') log=open('servers_&amp;_log/log.txt','a') counter_komm=0 counter_dlink=0 counter_qtech=0 counter_eltex=0 counter_raisecom=0 counter_ROS=0 # counter_qtech1_0=0 counter_qtech2_0=0 for host in komm.readlines(): print('connect....',host) vend = '' #tn = Telnet(host.replace('\n', ''), 23, 20) response = os.system('ping -c 1 ' + host) verinfo = open('servers_&amp;_log/ver.txt', 'w') ver_status = '' sab_versus = '' if response == 0: telnet = pexpect.spawn('telnet ' + host,timeout=40) vend = telnet.expect(['login:', 'Login:', 'User Name:', 'Username']) telnet.close() tn = Telnet(host.replace('\n', ''), 23,30) try: print('Ok'+'\n') tn.read_until(b':') tn.write((user +'\n').encode('ascii')) tn.read_until(b':') tn.write((password + '\n').encode('ascii')) time.sleep(3) tn.read_until(b'#',timeout=20) except: print('connection refused' + '\n') f = open('servers_&amp;_log/log.txt', 'a') print(host, 'connection refused', file=log) print('#' * 100, host, file=log) ###   ################################################################################ if vend == 0:#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 1: #   Raisecom,Raisecom-Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 2:#   Eltex tn.write(('show system' + '\n').encode('ascii')) tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 3:#   D-link tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() # ###  # ################################################################################ if ver_status == 'd-link': tn.read_until(b'#', timeout=20) tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('D-link ' + host,file=log) print('#'*100,file=log) counter_dlink+=1 ################################################################################ elif ver_status == 'qtech_rev_1.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech1_0+=1 komand_qtech1_0=open('servers_&amp;_log/komand_qtech_ver1.0.txt') for kommand in komand_qtech1_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) #print((tn.read_until(b'#').decode('ascii')), file=log) tn.write(('exit' + '\n').encode('ascii')) print(tn.read_all().decode('ascii'), file=log) print('Qtech rev1.0 ' + host, file=log) print('#' * 100, file=log) ################################################################################ elif ver_status == 'qtech_rev_2.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech2_0+=1 komand_qtech2_0=open('servers_&amp;_log/komand_qtech_ver2.0.txt') for kommand in komand_qtech2_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) time.sleep(1) print('Qtech rev2.0 ' + host, file=log) print('#' * 100, file=log) ################################################################################ elif ver_status == 'raisecom-qtech': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) raisecom_command = open('servers_&amp;_log/komand_raisecom.txt') for komand in raisecom_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('ROS '+ host,file=log) print('#'*100,file=log) counter_ROS+=1 ################################################################################ elif ver_status == 'raisecom': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_raisecom+=1 raisecom_command = open('servers_&amp;_log/komand_raisecom.txt') for komand in raisecom_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print(host, ':', 'RAISECOM', file=log) print('#' * 100, host, file=log) ################################################################################ elif ver_status == 'eltex': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) eltex_command=open('servers_&amp;_log/komand_eltex.txt') for komand in eltex_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('Eltex ' + host, file=log) print('#' * 100, file=log) counter_eltex+=1 else: print('no ping') counter_komm+=1 print('\n\n\n : ', counter_komm,file=log) print('\n\nD-link:', counter_dlink,'\nQtech ver1.0:', counter_qtech1_0,'\nROS:', counter_ROS,'\nRaisecom:',counter_raisecom,'\nEltex:', counter_eltex,'\nQtech ver2.0 :', counter_qtech2_0,file=log) print('\n: ', datetime.datetime.now().isoformat(),'\n', '#'*100,'\n\n\n\n\n',file=log) verinfo.close() log.close()</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar415453/">https://habr.com/ru/post/ar415453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar415441/index.html">ุชุชุฒุงูุฏ ูุฌูุงุช ุจุฑุงูุฌ ุงููุฏูุฉ ุนูู ุงูููุงูุงุช ุงูุญููููุฉ ูู ุงูููุงูุงุช ุงููุชุญุฏุฉ</a></li>
<li><a href="../ar415443/index.html">ุชุฏุนู MDG ูุฌุงูุนุฉ ITMO ุฅูู ุงููุฏุฑุณุฉ ุงูุตูููุฉ ููุชุนูู ุงูุขูู</a></li>
<li><a href="../ar415445/index.html">ููุฎุต ุงูุฃุญุฏุงุซ ููุญุชุฑูู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ูู ูุฌุงู ุชูููููุฌูุง ุงููุนูููุงุช ูุดูุฑ ููููู 2018</a></li>
<li><a href="../ar415447/index.html">ุฅุตุฏุงุฑ ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ูู ุทุฑูู ูุณุฏูุฏ</a></li>
<li><a href="../ar415451/index.html">Biostar Racing P1: ูู ุงูุณูู ุฅูู ุงููุนูุฏ</a></li>
<li><a href="../ar415455/index.html">ุงุณุฃู ุฅูุซุงู: ูู ูููููุง ุนูู ุดุงุดุฉ ุดูุณูุฉ ูููุงูุญุฉ ุชุบูุฑ ุงูููุงุฎุ</a></li>
<li><a href="../ar415457/index.html">ุงูุนุซูุฑ ุนูู ุฏููู ุนูู ูุฌูุฏ ุฌุณูู ุฃุณุงุณู ุฌุฏูุฏ</a></li>
<li><a href="../ar415459/index.html">ูู ูุฏู ุงูุตููููู ุฎุฑุงูุงุชุ</a></li>
<li><a href="../ar415461/index.html">OpenAI ูุญุฑุฒ ุชูุฏููุง ูู Dota 2: ูุฒููุฉ ุงููุฑู ุดุจู ุงูููููุฉ</a></li>
<li><a href="../ar415463/index.html">HPE Superdome Flex: ูุณุชูู ุฌุฏูุฏ ูู ุงูุฃุฏุงุก ูุงูููุงุณ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>