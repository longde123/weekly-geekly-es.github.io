<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‰ ğŸ‘¨ğŸ¼ ğŸ¢ Ø¨Ø§ÙŠØ«ÙˆÙ† 3. Ø£ØªÙ…ØªØ© ØªÙƒÙˆÙŠÙ† Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ† ğŸš¬ ğŸ‘©ğŸ½â€ğŸ³ ğŸµï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù…Ù‚Ø¯Ù…Ø© 
 ÙŠÙˆÙ… Ø¬ÙŠØ¯ Ù„Ù„Ø¬Ù…ÙŠØ¹! 

 Ø£Ù†Ø§ Ø£Ø¹Ù…Ù„ ÙƒÙ…Ù‡Ù†Ø¯Ø³ Ø´Ø¨ÙƒØ§Øª Ù„Ù…Ø´ØºÙ„ Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ¨ÙŠØ± ØŒ ÙˆØªØ­Øª ØªØ­ÙƒÙ…ÙŠ Ù‡Ù†Ø§Ùƒ Ø­Ø¯ÙŠÙ‚Ø© Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ØŒ Ù„ÙƒÙ†Ù†Ø§ Ø³Ù†ØªØ­Ø¯Ø« Ø¹Ù† Ù…ÙØ§...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø¨Ø§ÙŠØ«ÙˆÙ† 3. Ø£ØªÙ…ØªØ© ØªÙƒÙˆÙŠÙ† Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø¨Ø§Ø¦Ø¹ÙŠÙ†</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415453/" style=";text-align:right;direction:rtl"><h4 style=";text-align:right;direction:rtl">  Ù…Ù‚Ø¯Ù…Ø© </h4><br>  ÙŠÙˆÙ… Ø¬ÙŠØ¯ Ù„Ù„Ø¬Ù…ÙŠØ¹! <br><br>  Ø£Ù†Ø§ Ø£Ø¹Ù…Ù„ ÙƒÙ…Ù‡Ù†Ø¯Ø³ Ø´Ø¨ÙƒØ§Øª Ù„Ù…Ø´ØºÙ„ Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ¨ÙŠØ± ØŒ ÙˆØªØ­Øª ØªØ­ÙƒÙ…ÙŠ Ù‡Ù†Ø§Ùƒ Ø­Ø¯ÙŠÙ‚Ø© Ø­ÙŠÙˆØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© ØŒ Ù„ÙƒÙ†Ù†Ø§ Ø³Ù†ØªØ­Ø¯Ø« Ø¹Ù† Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ÙˆØµÙˆÙ„. <br><br>  Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ù„ÙŠØ³Øª Ø¯Ù„ÙŠÙ„Ù‹Ø§ Ù„Ù„Ø¹Ù…Ù„ ØŒ ÙÙ‡ÙŠ Ù„ÙŠØ³Øª Ø§Ù„Ø­Ù„ Ø§Ù„ÙˆØ­ÙŠØ¯ ÙˆÙ…Ù† Ø§Ù„ÙˆØ§Ø¶Ø­ Ø£Ù†Ù‡Ø§ Ù„Ø§ ØªØªØ¸Ø§Ù‡Ø± Ø¨ÙƒÙˆÙ†Ù‡Ø§ Ù†ØµÙ‹Ø§ ØªØ±Ø´ÙŠØ­ÙŠÙ‹Ø§ Ù„Ù„Ø³Ù†Ø© ØŒ Ù„ÙƒÙ†ÙŠ Ø£Ø±ÙŠØ¯ Ù…Ø´Ø§Ø±ÙƒØ© Ù‡Ø°Ø§ Ø§Ù„Ø®Ù„Ù‚ ØŒ ÙˆØ±Ø¨Ù…Ø§ ÙŠÙƒÙˆÙ† Ù…ÙÙŠØ¯Ù‹Ø§ Ù„Ø´Ø®Øµ Ù…Ø§. <br><br>  Ø³ØªÙ‚Ø¯Ù… Ø§Ù„Ù…Ù‚Ø§Ù„Ø© Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯ ØŒ ÙˆØ£Ø¯Ù†Ø§Ù‡ Ø³ÙŠÙƒÙˆÙ† ÙˆØµÙÙ‹Ø§ Ù…Ø¹ Ù‚ØµØ§ØµØ§Øª ÙˆØªÙØ³ÙŠØ±Ø§Øª Ù„Ø³Ø¨Ø¨ Ø°Ù„Ùƒ ÙˆÙ…Ø§ Ù‡Ùˆ Ø§Ù„ØºØ±Ø¶ Ù…Ù†Ù‡. <br><br><h4 style=";text-align:right;direction:rtl">  Ø§Ù„ØªØ­Ø¯ÙŠ </h4><br>  Ø§Ø³ØªØ®Ø¯Ù… python3 Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯.  ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ù‚Ø§Ø¯Ø±Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ØŒ ÙˆØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹ ØŒ ÙˆØ¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØŒ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„. <br><br><h4 style=";text-align:right;direction:rtl">  ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ÙƒÙŠÙ Ø¬Ø¦Øª Ø¥Ù„Ù‰ Ù‡Ø°Ø§ </h4><br>  ÙÙŠ Ù…ÙˆØ§Ø¬Ù‡Ø© Ù…Ø´ÙƒÙ„Ø© ØµØºÙŠØ±Ø© ÙÙŠ ØªØºÙŠÙŠØ± Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ ÙƒØ¨ÙŠØ± Ù…Ù† Ø§Ù„Ù…Ø­ÙˆÙ„Ø§Øª ØŒ Ø³Ø£Ù‚ÙˆÙ… Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± Ø¨Ø§Ù„Ø­Ø¬Ø² Ø­ÙˆÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© Ù„Ø¯ÙŠÙ†Ø§ ØŒ ÙƒÙ…Ø§ ÙŠØªÙˆÙØ± Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„ØªØ·ÙˆØ±Ø§Øª Ù…Ù† Ø²Ù…Ù„Ø§Ø¦ÙŠ ÙÙŠ Ø´ÙƒÙ„ Ù†ØµÙˆØµ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ ØŒ Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠ bash ØŒ perl. <br><br>  ÙˆÙ„ÙƒÙ† Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„ÙŠ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ù…Ù‡Ù… Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ø´ÙŠØ¡ Ù…Ø®ØªÙ„Ù ØŒ Ù„Ø£Ù†Ù‡  Ù„Ù‚Ø¯ Ø¨Ø¯Ø£Øª ÙÙŠ ØªØ¹Ù„Ù… python Ù…Ø¤Ø®Ø±Ù‹Ø§ ÙˆØ£Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ±Ù‚ÙŠØ© Ù…Ù‡Ø§Ø±Ø§ØªÙŠ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ØŒ ÙˆÙŠØ¬Ø¨ Ø£Ù† ØªØ¨Ø¯Ùˆ Ø£Ø¯Ø§ØªÙŠ ÙƒÙ…Ø·Ø±Ù‚Ø© (Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³Ù‡Ù„Ø© Ø§Ù„ØµÙŠØ§Ù†Ø©).  Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ù„Ø§ ØªØ²Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© ÙØ£Ù†Ø§ Ø£Ø·Ù„Ø¨ Ù‚Ø·Ø©. <br><a name="habracut"></a><br>  Googling ÙˆØ¹Ø¯Ù… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ (ÙƒÙ…Ø§ Ù„Ùˆ ÙƒØ§Ù† ÙÙŠ Ø§Ù„Ù…Ù†ØªØ¯Ù‰ Ø·Ø±Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ ØŒ ÙˆÙ„ÙƒÙ† ÙƒÙ„ Ø´ÙŠØ¡ ÙƒØ§Ù† Ø®Ø§Ø·Ø¦Ù‹Ø§ Ù‡Ù†Ø§Ùƒ) ØŒ Ù‚Ø±Ø±Øª Ø£Ù† Ø£Ø¨Ø¯Ø£ ÙÙŠ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Øµ Ø§Ù„Ø®Ø§Øµ Ø¨ÙŠ. <br><br>  Ù„Ø¯ÙŠÙ†Ø§ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ§Ù„ÙŠØ©: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Raisecom </li><li style=";text-align:right;direction:rtl">  Ù…Ø±Ø§Ø¬Ø¹Ø© Qtech.  1.0 </li><li style=";text-align:right;direction:rtl">  Ù…Ø±Ø§Ø¬Ø¹Ø© Qtech.  2.0 (Ø§Ù„ÙØ±Ù‚ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ù…Ù„Ø©) </li><li style=";text-align:right;direction:rtl">  Ø§Ù„ØªÙƒØ³ </li><li style=";text-align:right;direction:rtl">  Ø¯ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· </li><li style=";text-align:right;direction:rtl">  Spawn Frankenstein Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ù…Ø¹ ÙƒÙ…Ø§Ù…Ø© Ù…Ù† Qtech rev 1.0 ØŒ ÙˆØ§Ù„Ø­Ø¯ÙŠØ¯ Ù…Ù† Raisecom Ø³Ù†Ø·Ù„Ù‚ Ø¹Ù„ÙŠÙ‡ ROS </li></ul><br>  Ø£ÙˆÙ„Ø§Ù‹ ØŒ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> telnetlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> getpass <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pexpect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> telnetlib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Telnet <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> subprocess</code> </pre> <br>  Ù…Ø¨Ø¯Ø¦ÙŠÙ‹Ø§ ØŒ Ù†Ù‚ÙˆÙ… Ø¨ÙˆØµÙ ÙˆØ¸ÙŠÙØ© ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¨Ø§Ø¦Ø¹ ØŒ Ù„Ø£Ù†  Ù‚Ø±Ø±Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚ØªÙŠÙ†: <br><br>  1) Ø§ÙØªØ±Ø¶ Ù†ÙˆØ¹ Ø§Ù„Ø¨Ø§Ø¦Ø¹ (Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø¹ÙˆØ© Ù„Ø¥Ø¯Ø®Ø§Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„) ÙƒÙ…Ø§ Ù„Ø§Ø­Ø¸Øª Ø£Ù†Ù‡ Ù…Ø®ØªÙ„Ù Ù„Ù„Ø¬Ù…ÙŠØ¹: Qtech (ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ :) ØŒ Raisecom Ùˆ ROS (ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ :) ØŒ Eltex (Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… :) ØŒ D-link (Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)). <br><br>  2) Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø£ÙˆÙ„ Ù‚Ø¯ Ø§ÙƒØªÙ…Ù„ Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø£ ØŒ ÙˆÙ„ØªØ­Ø¯ÙŠØ¯ Ø£ÙØ¶Ù„ Ù„Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø°ÙŠ Ù†Ø¹Ù…Ù„ Ø¹Ù„ÙŠÙ‡. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„ÙˆØ¸ÙŠÙØ©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">who_is</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#   global ver_status global sab_versus global versus sab_versus='' ver_status='' versus='' #  a = 'Serial No.:1405' # #qtech rev1 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0 parser=open('servers_&amp;_log/ver.txt', 'r') #  for line in parser.readlines(): line1 = line.find(a) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0' if line4 != -1: ver_status='d-link' if line5 != -1: ver_status='raisecom' if line6 != -1: ver_status='raisecom-qtech' sab_versus=1 if line7 !=-1: ver_status='eltex' if line8 !=-1: ver_status='eltex' if line10 != -1: ver_status = 'qtech_rev_2.0' time.sleep(0.1) parser.close() os.remove('servers_&amp;_log/ver.txt') return ver_status,sab_versus</span></span></code> </pre> <br></div></div><br>  Ø§Ù„ÙˆØ¸ÙŠÙØ© ÙƒÙ„Ù‡Ø§ ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯.  Ù†Ø¹Ù„Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„ØªÙŠ Ø³ØªÙƒÙˆÙ† Ù…Ø±Ø¦ÙŠØ© Ù„Ù„Ù†Øµ Ø¨Ø±Ù…ØªÙ‡: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">global</span></span> ver_status <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> sab_versus <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> versus</code> </pre> <br>  ØªØ®Ø²Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª a ØŒ d ØŒ f ØŒ h ØŒ j ØŒ k ØŒ n Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„ØªÙŠ Ø³Ù†Ø­Ø¯Ø¯ Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø­ÙˆÙ„. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">a = <span class="hljs-string"><span class="hljs-string">'Serial No.:1405'</span></span> <span class="hljs-comment"><span class="hljs-comment"># #qtech rev1 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0</span></span></code> </pre> <br>  Ø¨Ø¹Ø¯ ÙØªØ­ Ù…Ù„Ù ver.txt ØŒ Ù†Ù‚Ø±Ø£Ù‡ Ø³Ø·Ø±Ø§Ù‹ Ø¨Ø³Ø·Ø± ÙˆÙ†Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ Ù„Ø£Ù†Ù‡  ØªÙØ±Ø¬Ø¹ Ø§Ù„Ø¯Ø§Ù„Ø© find () -1 Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ø°Ù‡ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³Ø§Ù„Ø¨Ø© ØŒ ÙˆØ³Ù†Ø¨Ù†ÙŠ Ø§Ù„ÙØ±ÙˆØ¹. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">parser=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/ver.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#  for line in parser.readlines(): line1 = line.find(a) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0'</span></span></code> </pre> <br>  ... <br><br>  Ø£Ø¹Ø·ÙŠ Ù…Ø«Ø§Ù„Ø§ Ø¹Ù„Ù‰ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø±Ù…Ø² ØŒ ÙˆØ§Ù„Ø¨Ø§Ù‚ÙŠ ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯ Ø£Ø¹Ù„Ø§Ù‡. <br><br>  Ø³ÙŠØªÙ… ÙˆØµÙ Ù…Ø­ØªÙˆÙŠØ§Øª Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù Ø£Ø¯Ù†Ø§Ù‡.  Ø¨Ø¹Ø¯ ÙƒÙ„ Ø§Ù„ØªÙ„Ø§Ø¹Ø¨Ø§Øª ÙˆØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø§Ø¦Ø¹ ØŒ Ø§Ø­Ø°Ù Ù…Ù„Ù ver.txt. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ Ø¬Ø³Ù… Ø§Ù„Ø­Ù„Ù‚Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs">user=<span class="hljs-string"><span class="hljs-string">'user'</span></span> password=<span class="hljs-string"><span class="hljs-string">'password'</span></span> komm=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komm.txt'</span></span>) log=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>,<span class="hljs-string"><span class="hljs-string">'a'</span></span>) <span class="hljs-comment"><span class="hljs-comment">######### counter_komm=0 counter_dlink=0 counter_qtech=0 counter_eltex=0 counter_raisecom=0 counter_ROS=0 counter_qtech1_0=0 counter_qtech2_0=0 ########## for host in komm.readlines(): print('connect....',host) vend = '' response = os.system('ping -c 1 ' + host) verinfo = open('servers_&amp;_log/ver.txt', 'w') ver_status = '' sab_versus = '' if response == 0: telnet = pexpect.spawn('telnet ' + host,timeout=40) vend = telnet.expect(['login:', 'Login:', 'User Name:', 'Username']) telnet.close() tn = Telnet(host.replace('\n', ''), 23,30) try: print('Ok'+'\n') tn.read_until(b':') tn.write((user +'\n').encode('ascii')) tn.read_until(b':') tn.write((password + '\n').encode('ascii')) time.sleep(3) tn.read_until(b'#',timeout=20) except: print('connection refused' + '\n') f = open('servers_&amp;_log/log.txt', 'a') print(host, 'connection refused', file=log) print('#' * 100, host, file=log) ###   ######################################################### if vend == 0:#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ...</span></span></code> </pre> <br></div></div><br>  Ù‚Ø±Ø±Øª Ø¹Ø¯Ù… Ø§Ù„Ø¥Ø²Ø¹Ø§Ø¬ ÙˆØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙÙŠ Ø§Ù„Ø¬Ø³Ù… ØŒ ÙˆØ£Ù†Ø§ Ø£Ø¹Ù„Ù… Ø£Ù†Ù‡ Ù„ÙŠØ³ Ø£Ù…Ø§Ù†Ù‹Ø§ ØŒ ÙØ£Ù†Ø§ Ø£Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø°Ù„Ùƒ. <br><br>  Ø§ÙØªØ­ Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙˆÙ‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">komm=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komm.txt'</span></span>) log=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>,<span class="hljs-string"><span class="hljs-string">'a'</span></span>)</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø­Ù„Ù‚Ø© for ØŒ Ø§Ù‚Ø±Ø£ Ø§Ù„Ø³Ø·Ø± Ø¨Ø¹Ù†ÙˆØ§Ù† IP Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…ÙØªØ§Ø­ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> host <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komm.readlines(): print(<span class="hljs-string"><span class="hljs-string">'connect....'</span></span>,host) vend = <span class="hljs-string"><span class="hljs-string">''</span></span></code> </pre><br>  Ù†ØªØ­Ù‚Ù‚ Ù…Ù† ØªÙˆØ§ÙØ± <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">response = os.system(<span class="hljs-string"><span class="hljs-string">'ping -c 1 '</span></span> + host)</code> </pre> <br>  Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ù† Ø§Ù„Ù…Ù…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© pexpect ØŒ ÙÙ†Ø­Ù† Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ø¨Ø± telnet Ù‡Ù†Ø§ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ØªÙƒØ±Ø§Ø± ÙˆÙŠØ­Ø¯Ø« Ø£ÙˆÙ„ ÙØ­Øµ ÙÙŠ Ø§Ù„Ø¯Ø¹ÙˆØ© ØŒ ÙˆØ§Ù„Ø°ÙŠ ÙƒØªØ¨Øª Ø¹Ù†Ù‡ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> response == <span class="hljs-number"><span class="hljs-number">0</span></span>: telnet = pexpect.spawn(<span class="hljs-string"><span class="hljs-string">'telnet '</span></span> + host,timeout=<span class="hljs-number"><span class="hljs-number">40</span></span>) vend = telnet.expect([<span class="hljs-string"><span class="hljs-string">'login:'</span></span>, <span class="hljs-string"><span class="hljs-string">'Login:'</span></span>, <span class="hljs-string"><span class="hljs-string">'User Name:'</span></span>, <span class="hljs-string"><span class="hljs-string">'Username'</span></span>]) telnet.close() tn = Telnet(host.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), <span class="hljs-number"><span class="hljs-number">23</span></span>,<span class="hljs-number"><span class="hljs-number">30</span></span>)</code> </pre><br>  Ø³ÙŠØ­ØµÙ„ Ù…ØªØºÙŠØ± Ø§Ù„Ø¨Ø§Ø¦Ø¹ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ù…Ù† 0 Ø¥Ù„Ù‰ 3 Ø´Ø§Ù…Ù„Ø© ØŒ ÙˆØ¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø·Ø§Ù„Ø¨Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„ØªÙŠ ÙŠØ±Ø§Ù‡Ø§ ØŒ Ø³ÙŠØªÙ… ØªØ´ÙƒÙŠÙ„ ÙØ±Ø¹ Ø¢Ø®Ø±. <br><br>  Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© ØŒ Ù‚Ø¯ ÙŠÙ„Ø§Ø­Ø¸ Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„ÙŠÙ‚Ø¸ Ø£Ù†Ù†ÙŠ Ø£Ù‚ÙˆÙ… Ø¨Ø¥Ø¬Ø±Ø§Ø¡ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØ£ØºÙ„Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± ØŒ ÙˆÙ‡Ø°Ø§ Ù„ÙŠØ³ Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨.  Ø­Ø§ÙˆÙ„Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© telnetlib ÙÙ‚Ø· ØŒ ÙˆÙ„ÙƒÙ† ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ ØŒ ØªÙˆÙ‚Ù Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø¹Ù† Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ ÙˆØ³Ù‚Ø· Ø¨Ø´ÙƒÙ„ Ù…Ø¤Ù‚Øª ØŒ ÙˆÙ‡Ø°Ø§ Ø§Ù„Ø¹ÙƒØ§Ø² ÙŠØ³Ø§Ø¹Ø¯ ÙƒØ«ÙŠØ±Ù‹Ø§. <br><br>  Ø¨Ø¹Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø§ØªØµØ§Ù„ ØŒ Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙ‚Ø· Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© telnetlib Ø¨Ø§Ù„ÙØ¹Ù„. <br><br>  Ù…Ù† Ø£Ø¬Ù„ ØªØ¬Ù†Ø¨ Ø§Ù„ÙˆÙ‚ÙˆØ¹ ÙÙŠ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØŒ Ù‚Ù…Ù†Ø§ Ø¨Ø§Ù„ÙØ¹Ù„ Ø¨Ø§Ù„ØªØ­Ù‚Ù‚ Ø£Ø¹Ù„Ø§Ù‡ Ù…Ù† Ø£Ù† Ø§Ù„Ù…ÙØªØ§Ø­ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡ ØŒ ÙˆØ§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù†Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¨Ø³Ø¨Ø¨ Ù…ÙØªØ§Ø­ Ø®Ø§Ù…Ù„ ÙˆØ§Ø­Ø¯ ØŒ Ù„Ù ÙƒÙ„ Ø´ÙŠØ¡ ÙÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø§Ø³ØªØ«Ù†Ø§Ø¡ Ø§Ù„ÙƒØªÙ„Ø©. <br><br>  ÙƒØ§Ù†Øª Ù‡Ù†Ø§Ùƒ Ø­Ø§Ù„Ø§Øª Ù…ØªÙƒØ±Ø±Ø© Ø¹Ù†Ø¯Ù…Ø§ Ù„Ù… ÙŠØ³Ù…Ø­ Ø£Ø­Ø¯ Ù„Ù†ÙØ³Ù‡ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ù† Ø¨ÙŠÙ† 100 Ù…ÙØªØ§Ø­. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: print(<span class="hljs-string"><span class="hljs-string">'Ok'</span></span>+<span class="hljs-string"><span class="hljs-string">'\n'</span></span>) tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>) tn.write((user +<span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>) tn.write((password + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>) tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>,timeout=<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>: print(<span class="hljs-string"><span class="hljs-string">'connection refused'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>) f = open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/log.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>) print(host, <span class="hljs-string"><span class="hljs-string">'connection refused'</span></span>, file=log) print(<span class="hljs-string"><span class="hljs-string">'#'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span>, host, file=log)</code> </pre> <br>  ... <br>  Ø¥Ø°Ø§ ÙƒØ§Ù† ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠØ±Ø§Ù… ÙˆØ§ØªØµÙ„Ù†Ø§ ØŒ ÙØ¹Ù„ÙŠÙ†Ø§ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ØŒ <br>  Ù†Ø­Ù† Ù†Ø¹Ù„Ù… Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„ÙŠÙ‚ÙŠÙ† Ø£Ù† Ø£ÙŠ Ù…ÙˆØ¬Ù‡ Ù„Ù„Ù‚ÙˆÙ„ÙˆÙ† ÙŠØ³ØªØ®Ø¯Ù… Ù†Ù‚Ø·ØªÙŠÙ†. <br><br>  Ù„Ø°Ù„Ùƒ Ù†Ø­Ù† ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø±Ù‡ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>)</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø¯Ø®ÙˆÙ„Ù†Ø§ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((user +<span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù‚ÙˆÙ„ÙˆÙ† Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b':'</span></span>)</code> </pre> <br>  Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((password + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  ÙˆÙ†Ù†ØªØ¸Ø± 3 Ø«ÙˆØ§Ù† (ÙØªØ±Ø© Ø±Ø§Ø­Ø© ØŒ ÙˆØ¥Ù„Ø§ Ù‚Ù…Ù†Ø§ Ø¨Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„Ø¹Ù…Ù„) <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">time.sleep(<span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¯Ø¹ÙˆØ© <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>,timeout=<span class="hljs-number"><span class="hljs-number">20</span></span>)</code> </pre> <br>  Ù‡Ù†Ø§ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØŒ Ù†Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ø§Ù†ÙŠ Ù„ÙØ­Øµ Ø§Ù„Ø¨Ø§Ø¦Ø¹. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vend == <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-comment"><span class="hljs-comment">#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is()</span></span></code> </pre> <br>  Ù„Ø£Ù†  Ø§ÙØªØ±Ø¶Ù†Ø§ Ø£Ù†Ù†Ø§ ÙˆØµÙ„Ù†Ø§ Ø¥Ù„Ù‰ Qtech ØŒ ÙˆØ¥Ø°Ø§ Ù‚Ø±Ø£Øª Ø¨Ø¹Ù†Ø§ÙŠØ© ØŒ ÙÙ‡Ù†Ø§Ùƒ ÙÙŠ Ø­Ø¯ÙŠÙ‚Ø© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ù„Ø¯ÙŠÙ†Ø§ Ø¥ØµØ¯Ø§Ø±Ø§Ù† Ù…Ù† qtech ÙŠØ®ØªÙ„ÙØ§Ù† ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¬Ù…Ù„Ø© ØŒ Ù…Ø§ Ø²Ù„Ù†Ø§ Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…ØµØ§Ù„Ø­Ø©. <br><br>  Ù„Ø°Ù„Ùƒ ØŒ Ù†Ø¹Ø·ÙŠ Ø§Ù„Ø£Ù…Ø± show ver ØŒ ÙˆÙ†Ø¶Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª ÙÙŠ Ù…Ù„Ù ver.txt <br>  ÙˆØ§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ who_is () ØŒ Ø§Ù„Ø°ÙŠ ÙˆØµÙØªÙ‡ Ø£Ø¹Ù„Ø§Ù‡.  ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¹Ø±Ø¶ Ù‡Ùˆ Ø¹Ø§Ù„Ù…ÙŠ Ù„Ø¬Ù…ÙŠØ¹ Qtech ØŒ Raisecom ØŒ Eltex ØŒ <br><br>  Ù„Ø³ÙˆØ¡ Ø§Ù„Ø­Ø¸ ØŒ Ù„Ø§ ÙŠÙÙ‡Ù… D-link ÙˆÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¥Ø¸Ù‡Ø§Ø± Ø¥Ø¸Ù‡Ø§Ø± swich ØŒ Ù„ÙƒÙ†Ù†Ø§ Ø£Ø°ÙƒÙŠØ§Ø¡ ÙˆÙ„Ù… Ù†Ø°Ù‡Ø¨ Ø³Ø¯Ù‰ Ø¨ØªÙƒØ±Ø§Ø± Ù…Ø¹ Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…ÙØªØ±Ø¶ Ù„Ù„Ø¨Ø§Ø¦Ø¹. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> vend == <span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-comment"><span class="hljs-comment">#   D-link tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is()</span></span></code> </pre><br>  Ù„Ø°Ø§ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± ØŒ Ø¨Ø¹Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø© ØµØºÙŠØ±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø¹Ø±Ø¶ swich ØŒ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ù…ÙØªØ§Ø­ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø© ÙˆÙŠÙ†ØªØ¸Ø± Ø£Ù† ÙŠØ¶ØºØ· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙØªØ§Ø­ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ ØŒ ÙˆØ¨Ø§Ù„ØªØ§Ù„ÙŠ Ù†Ø±Ø³Ù„ Ø§Ù„Ø­Ø±Ù "a" Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø©. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((<span class="hljs-string"><span class="hljs-string">'a'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  Ù„ØªØ¬Ù†Ø¨ Ø°Ù„Ùƒ ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø´Ùˆ <br><br>  Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠÙ‡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ±Ø¯ ÙˆØ¨Ø§Ø­ØªÙ…Ø§Ù„ 99Ùª ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø£Ù† Ù†ÙØªØ±Ø¶ Ø£Ù†Ù†Ø§ Ù‚Ø¯ Ø­Ø¯Ø¯Ù†Ø§ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ ÙˆÙŠÙ…ÙƒÙ†Ù†Ø§ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªÙƒÙˆÙŠÙ†. <br><br>  Ù„ÙƒÙ„ Ù…ÙØªØ§Ø­ ØŒ Ù„Ø¯ÙŠÙ†Ø§ Ù…Ù„Ù Ù…Ù†ÙØµÙ„ Ù…Ø¹ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø£ÙˆØ§Ù…Ø±. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒØªÙ„Ø© Ø§Ù„ØªÙƒÙˆÙŠÙ†</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">... </span></span><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> ver_status == <span class="hljs-string"><span class="hljs-string">'qtech_rev_1.0'</span></span>: tn.write((<span class="hljs-string"><span class="hljs-string">'show ver'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print((tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>).decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)), file=log) counter_qtech1_0+=<span class="hljs-number"><span class="hljs-number">1</span></span> komand_qtech1_0=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komand_qtech_ver1.0.txt'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> kommand <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komand_qtech1_0.readlines(): tn.write((kommand.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) tn.write((<span class="hljs-string"><span class="hljs-string">'exit'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print(tn.read_all().decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>), file=log) print(<span class="hljs-string"><span class="hljs-string">'   qtech1.0'</span></span>) print(<span class="hljs-string"><span class="hljs-string">'Qtech rev1.0 '</span></span> + host, file=log) print(<span class="hljs-string"><span class="hljs-string">'#'</span></span> * <span class="hljs-number"><span class="hljs-number">100</span></span>, file=log) <span class="hljs-comment"><span class="hljs-comment">################################################################################ elif ver_status == 'qtech_rev_2.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech2_0+=1 komand_qtech2_0=open('servers_&amp;_log/komand_qtech_ver2.0.txt') print('   qtech2.0') for kommand in komand_qtech2_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('Qtech rev2.0 ' + host, file=log) print('#' * 100, file=log) ...</span></span></code> </pre><br></div></div><br>  Ø¨Ø¹Ø¯ Ø¹Ù…Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ù…ØªØºÙŠØ± ver_status ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ù…ÙˆØ§ØµÙ„Ø© Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªÙØ±Ø¹ ØŒ Ù„Ø£Ù†Ù‡  Ù†Ø­Ù† Ù†Ø¹Ø±Ù Ø¨Ø§Ù„Ø¶Ø¨Ø· Ø£ÙŠ Ù…ÙØªØ§Ø­ Ù…ÙˆØ¬ÙˆØ¯ Ø­Ø§Ù„ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·. <br>  Ø¨Ø§Ø¯Ø¦ Ø°ÙŠ Ø¨Ø¯Ø¡ ØŒ Ù†Ø¹Ø·ÙŠ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø£Ù…Ø± show ver ÙˆÙ†ÙƒØªØ¨ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø¬Ù„ (Ø­ÙˆÙ„ d-link ØŒ ØªØ°ÙƒØ± Ø£Ù†Ù†Ø§ Ù†Ø¹Ø·ÙŠÙ‡ Ø§Ù„Ø£Ù…Ø± sh sw) <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">tn.write((<span class="hljs-string"><span class="hljs-string">'show ver'</span></span> + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)) print((tn.read_until(<span class="hljs-string"><span class="hljs-string">b'#'</span></span>).decode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>)), file=log)</code> </pre> <br>  ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ù… Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø©. <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">counter_qtech1_0+=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  Ù†ÙØªØ­ Ù…Ù„Ù Ø¨Ø£ÙˆØ§Ù…Ø± <br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">komand_qtech1_0=open(<span class="hljs-string"><span class="hljs-string">'servers_&amp;_log/komand_qtech_ver1.0.txt'</span></span>)</code> </pre> <br>  ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£ÙˆØ§Ù…Ø± ÙÙŠ Ø§Ù„Ù…Ù„Ù Ù‡Ùˆ Ù†ÙØ³Ù‡ Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¯Ø®Ù„Ù‡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ ÙŠØ¯ÙˆÙŠÙ‹Ø§ <br><br>  Ù…Ø«Ø§Ù„: <br><br> <code>conf <br> vlan 2525 <br> name SPD <br> int ethe 1/1 <br> sw mode access <br> sw acc vl 2525 <br> exit <br> exit <br> save <br> y <br></code> <br>  Ø«Ù… ÙƒÙ„ Ø´ÙŠØ¡ Ø­Ø³Ø¨ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ - Ù†Ù‚Ø±Ø£ Ø§Ù„Ù…Ù„Ù Ø­ØªÙ‰ ØªÙ†ØªÙ‡ÙŠ Ø§Ù„Ø£Ø³Ø·Ø± ÙˆÙ†Ù‚ÙˆÙ… Ø¨ØªÙ†ÙÙŠØ°Ù‡Ø§ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> kommand <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> komand_qtech1_0.readlines(): tn.write((kommand.replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) + <span class="hljs-string"><span class="hljs-string">'\n'</span></span>).encode(<span class="hljs-string"><span class="hljs-string">'ascii'</span></span>))</code> </pre> <br>  Ø¨Ø¹Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø­Ù„Ù‚Ø© ØŒ Ù†Ø®Ø¨Ø± Ø®Ø±ÙˆØ¬ Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆÙ†Ù‚Ø±Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø®Ø±Ø¬Ø§Øª Ø¥Ù„Ù‰ Ù…Ù„Ù ØŒ ÙˆÙ‡ÙƒØ°Ø§ Ù†ÙØ¹Ù„ ÙÙ‚Ø· Ù…Ø¹ qtech1.0 ØŒ Ù„Ø£Ù†  ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­ÙŠØ§Ù† ÙŠØªÙ…Ø³Ùƒ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ ØªØ­Ø³Ø¨Ù‹Ø§ Ù„Ø´ÙŠØ¡ Ù…Ø§ ÙˆÙ‡Ùˆ Ù…Ø¹ Ù‡Ø°Ø§ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ ØŒ Ø­ØªÙ‰ Ù„Ø§ ØªØ«ÙŠØ± Ø¶Ø¬Ø© ØŒ Ø¨Ø¯Ø§ Ù„ÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù„ Ø£ÙƒØ«Ø± Ø£Ù†Ø§Ù‚Ø©. <br><br>  Ø¨Ø¹Ø¯ ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…ÙØªØ§Ø­ ØŒ Ù†Ù‚ÙˆÙ… Ø¨Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ù…Ù‚Ø¯Ø§Ø± ÙˆØ§Ø­Ø¯. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">counter_komm+=<span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  ÙˆÙ†Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯ ØŒ Ù†Ù‚Ø±Ø£ Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø¨Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ØŒ ÙˆÙ†Ø­Ø¯Ø¯ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ØŒ ÙˆÙ†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªÙƒÙˆÙŠÙ†. <br><br>  Ø¨Ø¹Ø¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØŒ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¹Ù…Ù„ Ù…Ù„Ø®Øµ Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ù†Ø¬Ø² ØŒ <br>  ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ø¬Ù„ ØŒ Ù†Ø¯Ø®Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙŠ Ù‚Ù…Ù†Ø§ Ø¨Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® Ø¥Ù„Ø²Ø§Ù…ÙŠ ØŒ Ø­Ø³Ù†Ù‹Ø§ ØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨Ø¯ÙˆÙ†Ù‡. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">'\n\n\n : '</span></span>, counter_komm,file=log) print(<span class="hljs-string"><span class="hljs-string">'\n\nD-link:'</span></span>, counter_dlink,<span class="hljs-string"><span class="hljs-string">'\nQtech ver1.0:'</span></span>, counter_qtech1_0,<span class="hljs-string"><span class="hljs-string">'\nROS:'</span></span>, counter_ROS,<span class="hljs-string"><span class="hljs-string">'\nRaisecom:'</span></span>,counter_raisecom,<span class="hljs-string"><span class="hljs-string">'\nEltex:'</span></span>, counter_eltex,<span class="hljs-string"><span class="hljs-string">'\nQtech ver2.0 :'</span></span>, counter_qtech2_0,file=log) print(<span class="hljs-string"><span class="hljs-string">'\n: '</span></span>, datetime.datetime.now().isoformat(),<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">'#'</span></span>*<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-string"><span class="hljs-string">'\n\n\n\n\n'</span></span>,file=log) verinfo.close() log.close()</code> </pre> <br>  ØªÙ…Øª Ù…Ø¹Ø§Ù„Ø¬Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†ØµÙŠ Ø¨Ø´ÙƒÙ„ Ù…ØªÙƒØ±Ø± ÙˆÙ„Ù† ØªØªÙˆÙ‚Ù Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ù†Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¯. <br>  Ø´ÙƒØ±Ø§ Ù„ÙƒÙ… Ø¬Ù…ÙŠØ¹Ø§ Ø¹Ù„Ù‰ Ø§Ù‡ØªÙ…Ø§Ù…ÙƒÙ….  Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø±Ø­Ø¨ Ø¨Ù‡. <br><br>  Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© ØªØ­Øª Ø§Ù„Ù…ÙØ³Ø¯. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø±</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python3 #22/06/2017 17:17 import telnetlib import time import os import sys import getpass import pexpect from telnetlib import Telnet import datetime import subprocess def who_is(): #     ,      . global ver_status global sab_versus global versus sab_versus='' ver_status='' versus='' a = 'Serial No.:1405' # #qtech rev1 #b = 'Serial No.:3922' # #qtech rev2 #c = 'Serial No.:5436' # #qtech rev2 #l = 'Serial No.:16101' # #qtech rev2 d = 'Command: show switch' # #d-link f = 'Raisecom Operating System Software' # #raisecom h = 'QOS' # #raisecom-qtech j = 'MES1124M' # #eltex k = 'eltex' # #eltex n = 'Build245' #qtech2.0 parser=open('servers_&amp;_log/ver.txt', 'r') for line in parser.readlines(): line1 = line.find(a) #line2 = line.find(b) #line3 = line.find(c) line4 = line.find(d) line5 = line.find(f) line6 = line.find(h) line7 = line.find(j) line8 = line.find(k) #line9 = line.find(l) line10 = line.find(n) if line1 != -1: ver_status='qtech_rev_1.0' #if line2 != -1 or line3 != -1 or line9 !=-1: #ver_status='qtech_rev_2.0' if line4 != -1: ver_status='d-link' if line5 != -1: ver_status='raisecom' if line6 != -1: ver_status='raisecom-qtech' sab_versus=1 if line7 !=-1: ver_status='eltex' if line8 !=-1: ver_status='eltex' if line10 != -1: ver_status = 'qtech_rev_2.0' time.sleep(0.1) parser.close() os.remove('servers_&amp;_log/ver.txt') return ver_status,sab_versus user='user' password='password' komm=open('servers_&amp;_log/komm.txt') log=open('servers_&amp;_log/log.txt','a') counter_komm=0 counter_dlink=0 counter_qtech=0 counter_eltex=0 counter_raisecom=0 counter_ROS=0 # counter_qtech1_0=0 counter_qtech2_0=0 for host in komm.readlines(): print('connect....',host) vend = '' #tn = Telnet(host.replace('\n', ''), 23, 20) response = os.system('ping -c 1 ' + host) verinfo = open('servers_&amp;_log/ver.txt', 'w') ver_status = '' sab_versus = '' if response == 0: telnet = pexpect.spawn('telnet ' + host,timeout=40) vend = telnet.expect(['login:', 'Login:', 'User Name:', 'Username']) telnet.close() tn = Telnet(host.replace('\n', ''), 23,30) try: print('Ok'+'\n') tn.read_until(b':') tn.write((user +'\n').encode('ascii')) tn.read_until(b':') tn.write((password + '\n').encode('ascii')) time.sleep(3) tn.read_until(b'#',timeout=20) except: print('connection refused' + '\n') f = open('servers_&amp;_log/log.txt', 'a') print(host, 'connection refused', file=log) print('#' * 100, host, file=log) ###   ################################################################################ if vend == 0:#    Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 1: #   Raisecom,Raisecom-Qtech tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 2:#   Eltex tn.write(('show system' + '\n').encode('ascii')) tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() ################################################################################ if vend == 3:#   D-link tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=verinfo) verinfo.close() who_is() # ###  # ################################################################################ if ver_status == 'd-link': tn.read_until(b'#', timeout=20) tn.write(('show sw' + '\n').encode('ascii')) tn.write(('a' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('D-link ' + host,file=log) print('#'*100,file=log) counter_dlink+=1 ################################################################################ elif ver_status == 'qtech_rev_1.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech1_0+=1 komand_qtech1_0=open('servers_&amp;_log/komand_qtech_ver1.0.txt') for kommand in komand_qtech1_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) #print((tn.read_until(b'#').decode('ascii')), file=log) tn.write(('exit' + '\n').encode('ascii')) print(tn.read_all().decode('ascii'), file=log) print('Qtech rev1.0 ' + host, file=log) print('#' * 100, file=log) ################################################################################ elif ver_status == 'qtech_rev_2.0': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_qtech2_0+=1 komand_qtech2_0=open('servers_&amp;_log/komand_qtech_ver2.0.txt') for kommand in komand_qtech2_0.readlines(): tn.write((kommand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) time.sleep(1) print('Qtech rev2.0 ' + host, file=log) print('#' * 100, file=log) ################################################################################ elif ver_status == 'raisecom-qtech': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) raisecom_command = open('servers_&amp;_log/komand_raisecom.txt') for komand in raisecom_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('ROS '+ host,file=log) print('#'*100,file=log) counter_ROS+=1 ################################################################################ elif ver_status == 'raisecom': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) counter_raisecom+=1 raisecom_command = open('servers_&amp;_log/komand_raisecom.txt') for komand in raisecom_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print(host, ':', 'RAISECOM', file=log) print('#' * 100, host, file=log) ################################################################################ elif ver_status == 'eltex': tn.write(('show ver' + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) eltex_command=open('servers_&amp;_log/komand_eltex.txt') for komand in eltex_command.readlines(): tn.write((komand.replace('\n', '') + '\n').encode('ascii')) print((tn.read_until(b'#').decode('ascii')), file=log) print('Eltex ' + host, file=log) print('#' * 100, file=log) counter_eltex+=1 else: print('no ping') counter_komm+=1 print('\n\n\n : ', counter_komm,file=log) print('\n\nD-link:', counter_dlink,'\nQtech ver1.0:', counter_qtech1_0,'\nROS:', counter_ROS,'\nRaisecom:',counter_raisecom,'\nEltex:', counter_eltex,'\nQtech ver2.0 :', counter_qtech2_0,file=log) print('\n: ', datetime.datetime.now().isoformat(),'\n', '#'*100,'\n\n\n\n\n',file=log) verinfo.close() log.close()</span></span></code> </pre><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar415453/">https://habr.com/ru/post/ar415453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar415441/index.html">ØªØªØ²Ø§ÙŠØ¯ Ù‡Ø¬Ù…Ø§Øª Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ÙØ¯ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© ÙÙŠ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø©</a></li>
<li><a href="../ar415443/index.html">ØªØ¯Ø¹Ùˆ MDG ÙˆØ¬Ø§Ù…Ø¹Ø© ITMO Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ØµÙŠÙÙŠØ© Ù„Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ</a></li>
<li><a href="../ar415445/index.html">Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ù…Ø­ØªØ±ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ© ÙÙŠ Ù…Ø¬Ø§Ù„ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù„Ø´Ù‡Ø± ÙŠÙˆÙ„ÙŠÙˆ 2018</a></li>
<li><a href="../ar415447/index.html">Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ù‡Ùˆ Ø·Ø±ÙŠÙ‚ Ù…Ø³Ø¯ÙˆØ¯</a></li>
<li><a href="../ar415451/index.html">Biostar Racing P1: Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù‚Ø¯</a></li>
<li><a href="../ar415455/index.html">Ø§Ø³Ø£Ù„ Ø¥ÙŠØ«Ø§Ù†: Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¹Ù…Ù„ Ø´Ø§Ø´Ø© Ø´Ù…Ø³ÙŠØ© Ù„Ù…ÙƒØ§ÙØ­Ø© ØªØºÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø®ØŸ</a></li>
<li><a href="../ar415457/index.html">Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¯Ù„ÙŠÙ„ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ Ø¬Ø³ÙŠÙ… Ø£Ø³Ø§Ø³ÙŠ Ø¬Ø¯ÙŠØ¯</a></li>
<li><a href="../ar415459/index.html">Ù‡Ù„ Ù„Ø¯Ù‰ Ø§Ù„ØµÙŠÙ†ÙŠÙŠÙ† Ø®Ø±Ø§ÙØ§ØªØŸ</a></li>
<li><a href="../ar415461/index.html">OpenAI ÙŠØ­Ø±Ø² ØªÙ‚Ø¯Ù…Ù‹Ø§ ÙÙŠ Dota 2: Ù‡Ø²ÙŠÙ…Ø© Ø§Ù„ÙØ±Ù‚ Ø´Ø¨Ù‡ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©</a></li>
<li><a href="../ar415463/index.html">HPE Superdome Flex: Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ù‚ÙŠØ§Ø³</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>