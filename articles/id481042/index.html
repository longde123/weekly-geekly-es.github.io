<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¥ ğŸ‘©ğŸ¼â€ğŸ¤â€ğŸ‘©ğŸ» ğŸ¦‹ Kami rasa Django menggairahkan dan menarik ğŸ‘§ğŸ½ ğŸ“ ğŸš•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sudah beberapa minggu sejak rilis resmi versi 3 Django. Saya bekerja dengan versi ini bahkan sebelum publikasi rilis resmi dan, sayangnya, saya perhat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami rasa Django menggairahkan dan menarik</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481042/"><img src="https://habrastorage.org/webt/97/5s/xh/975sxhi3n81qsvs2rmothgwiq3s.jpeg" alt="Makanlah kaktus"><br><br>  Sudah beberapa minggu sejak rilis resmi versi 3 Django.  Saya bekerja dengan versi ini bahkan sebelum publikasi rilis resmi dan, sayangnya, saya perhatikan bahwa perkembangan Django melambat secara signifikan.  Versi 1.3 berbeda dari 1.7 di kali, tetapi versi 3 berisi perubahan kosmetik untuk cabang 2 dan tidak lebih. <br><br>  Proyek winePad saya dimulai dengan Django 1.3, dan sekarang telah mendefinisikan ulang sekitar 12% dari kode internal Django. <br><br>  Melihat kode untuk versi baru, saya mengerti bahwa suntingan yang saya atau kolega saya buat saat bekerja dengan versi sebelumnya akan melangkah lebih jauh.  Dan melihat peta jalan dan perubahan lamban dalam repositori resmi, Anda tidak perlu menunggu kesalahan diperbaiki di versi mendatang. <br><br>  Inilah yang ingin saya bicarakan tentang mengatasi bug: <br><a name="habracut"></a><br><h3>  Dapatkan metode </h3><br>  Hanya sedikit orang menyadari bahwa ada kesalahan dalam standar mendapatkan metode Django dari awal.  Metode get seharusnya mengembalikan satu objek kepada Anda, atau memperingatkan bahwa beberapa objek ditemukan, atau melaporkan bahwa tidak ada objek. <br><br><pre><code class="python hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> clone = self._chain() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.query.combinator <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> self.filter(*args, **kwargs) <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.query.can_filter() <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> self.query.distinct_fields: <span class="hljs-number"><span class="hljs-number">4</span></span> clone = clone.order_by() <span class="hljs-number"><span class="hljs-number">5</span></span> limit = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> clone.query.select_for_update <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> connections[clone.db].features.supports_select_for_update_with_limit: <span class="hljs-number"><span class="hljs-number">7</span></span> limit = MAX_GET_RESULTS <span class="hljs-number"><span class="hljs-number">8</span></span> clone.query.set_limits(high=limit) <span class="hljs-number"><span class="hljs-number">9</span></span> num = len(clone) <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> num == <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">11</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> clone._result_cache[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-number"><span class="hljs-number">12</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> num: <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> self.model.DoesNotExist() <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> self.model.MultipleObjectsReturned()</code> </pre> <br>  Baris 9 menerima data pada SEMUA catatan yang ditentukan dalam queryset dan menerjemahkannya ke dalam satu set objek.  Ada peringatan tentang ini di dokumentasi. <br><br>  Sebelum versi 3, tidak ada batasan jumlah objek yang diminta.  Ini berarti menerima sepenuhnya semua data dan mengubahnya menjadi objek, sebelum memberikan peringatan bahwa ada banyak objek. <br><br>  Akibatnya, Anda bisa mendapatkan beberapa juta objek dalam memori, hanya untuk mengetahui bahwa lebih dari 1 objek ditemukan.  Sekarang ada garis 5,7,8.  Dan sekarang Anda dengan bangga mendapatkan hanya MAX_GET_RESULTS = 21 objek sebelum Anda tahu bahwa ada lebih dari 1 objek. <br>  Dengan "__init__" yang berat, penundaan akan signifikan.  Cara mengobati: <br>  Ganti MAX_GET_RESULTS di django.db.models.query.py <br>  menimpa GET atau sebelum memanggil GET gunakan: <br><br><pre> <code class="python hljs">vars(queryset.query).update({<span class="hljs-string"><span class="hljs-string">'high_mark'</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'low_mark'</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>})  queryset.query.set_limits(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre><br><h3>  __Init__ metode model Django </h3><br>  Pernyataan dalam kode metode bawaan __init__ tidak jelas <br><br><pre> <code class="python hljs">_setattr=setattr</code> </pre> <br>  ini mungkin untuk kode mempercepat palsu dengan mentransfer referensi fungsi ke kamus lokal, tetapi ini bukan tentang itu.  Ada beberapa masalah: <br><br>  1. Jika Anda melewati atribut tambahan = pasangan nilai dalam model __init__, Anda akan mendapatkan "mendapat argumen kata kunci yang tidak terduga". <br><br>  Dalam hal ini, saya sarankan untuk tidak membebani metode __init__, tetapi untuk menambahkan atribut setelah inisialisasi: <br><br><pre> <code class="python hljs">obj = MyClass() vars(obj).update({<span class="hljs-string"><span class="hljs-string">'attr'</span></span>:val, <span class="hljs-string"><span class="hljs-string">'attr2'</span></span>:val2 ...})</code> </pre><br>  2. Django baru menambahkan kemampuan untuk mendefinisikan kembali deskriptor pada setiap bidang model (Field.descriptor_class).  Tapi tidak satu deskriptor yang tahu apakah objek diinisialisasi atau tidak.  Ini diperlukan, misalnya, jika deskriptor akan menggunakan data dari objek prefetch_related yang akan muncul hanya setelah inisialisasi objek utama. <br><br>  Saya tidak ingin menggunakan sinyal akhir inisialisasi, karena mungkin ada banyak pelanggan. <br><br>  Dalam hal ini, saya tidak menemukan sesuatu yang lebih pintar daripada mengesampingkan __init__ dan menambahkan atribut untuk mengakhiri inisialisasi. <br><br><pre> <code class="python hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> super().__init__(*args, **kwargs) self._end_init = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br><h3>  Querysets </h3><br>  EmptyQuerySet / DateQuerySet yang telah dikodekan telah dihapus, itu sudah bagus.  Namun, situasi dengan queryset sebagai manajer saya secara ideologis tidak suka. <br><br>  Jika saya ingin mengganti kelas QuerySet yang dibuat oleh manajer, saya menambahkan atribut _queryset_class <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyManager</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Manager)</span></span></span><span class="hljs-class">:</span></span> _queryset_class = MyQuerySet</code> </pre><br>  Perhatian, untuk versi yang lebih lama ini tidak berfungsi, misalnya, Anda dapat melakukan ini: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyManager</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(models.Manager)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_query_set</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> response = super(MyManager, self).get_query_set() response.__class__ = MyQuerySet <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> response</code> </pre><br><h3>  panel admin inlineFormset </h3><br>  Ada beberapa masalah: <br><br>  1. Tidak mungkin untuk menampilkan catatan inlineFormset standar yang tidak memiliki koneksi langsung dengan objek bentuk utama.  Misalnya: formulir untuk mengedit harga produk.  Di tengah-tengah terletak referensi statistik bentuk Tabularinline dari harga pembelian grosir untuk barang "serupa". <br><br>  Itu dipecahkan dengan mengganti metode model inline get_formset dan membuat MyFormSet Anda sendiri yang diwarisi dari BaseInlineFormSet <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_formset</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, request, obj=None, **kwargs)</span></span></span><span class="hljs-function">:</span></span> kwargs[<span class="hljs-string"><span class="hljs-string">'formset'</span></span>] = MyFormSet super().get_formset(request, obj, **kwargs) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyFormSet</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(BaseInlineFormSet)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span></code> </pre><br>  2. Jika Anda mengedit objek dengan inlineformset di panel admin, dan saat ini seseorang akan menghapus salah satu catatan objek di dalam inlineformset melalui mekanisme lain, Anda akan menerima kesalahan dan Anda tidak akan dapat menyimpan objek.  Hanya melalui kopy paste di jendela browser baru. <br><br>  Saya hanya menemukan satu solusi sejauh ini - jangan gunakan inlineformset. <br><br><h3>  Panel admin </h3><br>  "Fitur pembunuh" dari Django, adalah kaktus terbesar dari proyek: <br><br>  1. Tindakan "Hapus objek" dalam model administrator terlihat secara default, tidak masalah apakah pengguna memiliki hak untuk menghapus atau tidak. <br><br>  Ini diselesaikan dengan menonaktifkan aksi ini secara default: <br><br><pre> <code class="python hljs">admin.site.disable_action(<span class="hljs-string"><span class="hljs-string">'delete_selected'</span></span>)</code> </pre><br>  2. Membuat hak pengguna tambahan dari panel admin tidak akan mungkin sampai Anda mengaktifkan administrator model Izin: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib.auth.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Permission <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PermissionsAdmin</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(admin.ModelAdmin)</span></span></span><span class="hljs-class">:</span></span> search_fields = (<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'codename'</span></span>,<span class="hljs-string"><span class="hljs-string">'content_type__app_label'</span></span>, <span class="hljs-string"><span class="hljs-string">'content_type__model'</span></span>) list_display = (<span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-string"><span class="hljs-string">'codename'</span></span>,) actions = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> admin.site.register(Permission, PermissionsAdmin)</code> </pre><br>  3. Sayangnya, hak untuk mengakses hanya objek-objek tertentu di Django tidak ada. <br><br>  Ini dapat diatasi dengan menulis entri ke djangoAdminLog dengan bendera khusus. <br>  Dan kemudian periksa benderanya: <br><br><pre> <code class="python hljs">user.logentry_set.filter(action_flag=ENABLED, .....).exists()</code> </pre><br>  4. Jika Anda membuat tindakan administrator seperti yang dijelaskan dalam dokumentasi, ingatlah bahwa itu tidak dicatat secara otomatis di djangoAdminLog. <br><br>  5. Kelemahan lain dari bagian dokumentasi ini adalah bahwa semua contoh hanya pada fungsi.  Tetapi bagaimana dengan GCBV?  Dalam proyek saya, semua tindakan administrator model ditransfer ke GCBV.  <a href="https://bitbucket.org/danilovmy/actions">Repositori.</a> <br><br>  Koneksi tindakan standar: <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAdmin</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(admin.ModelAdmin)</span></span></span><span class="hljs-class">:</span></span> actions = (MyActionBasedOnActionView.as_view(),)</code> </pre><br><h3>  ContentType - registri model Django </h3><br>  50% genius / 50% dullness. <br>  Tidak ada model yang memiliki akses ke registri model default. <br>  Dalam proyek kami, ini diselesaikan dengan menambahkan mixin ke semua kelas: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib.contenttypes.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ContentType <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExportMixin</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> @classmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasattr(cls, <span class="hljs-string"><span class="hljs-string">'_ct'</span></span>): cls._ct, create = ContentType.objects.get_or_create(**cls.get_app_model_dict()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> create: cls._ct.name = cls._ct.model._meta.verbose_name cls._ct.save() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cls._ct @classmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_model_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasattr(cls, <span class="hljs-string"><span class="hljs-string">'_model_name'</span></span>): cls._model_name = cls.__name__.lower() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cls._model_name @classmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_app_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasattr(cls, <span class="hljs-string"><span class="hljs-string">'_app_name'</span></span>): cls._app_name = cls._meta.app_label.lower() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cls._app_name @classmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_app_model_dict</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasattr(cls, <span class="hljs-string"><span class="hljs-string">'_format_kwargs'</span></span>): cls._format_kwargs = {<span class="hljs-string"><span class="hljs-string">'app_label'</span></span>: cls.get_app_name(), <span class="hljs-string"><span class="hljs-string">'model'</span></span>: cls.get_model_name()} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cls._format_kwargs</code> </pre><br>  sekarang kita dapat memanggil obj.ct () jika perlu. <br><br><h3>  Usermodel </h3><br>  Kemampuan untuk mengganti model pengguna muncul di versi 1.5. <br><br>  Tetapi untuk versi 3, mereka tidak memperbaiki model = Pengguna dalam standar UserCreationForm / UserChangeForm. <br>  Itu dipecahkan: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib.auth.forms <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UserCreationForm <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> django.contrib.auth <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> get_user_model <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyUserCreationForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(UserCreationForm)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="hljs-class">:</span></span> model= get_user_model()</code> </pre><br><h3>  Sistem terjemahan </h3><br>  Tag yang terlihat oleh pengguna diberi tag <br><br><pre> <code class="python hljs">{% trans %}</code> </pre> <br>  atau dalam kode melalui <br><br><pre> <code class="python hljs">gettext_lazy</code> </pre> <br>  Namun, tidak ada pengelolaan sumber daya ini di panel admin.  Umumnya. <br><br>  Ada solusi eksternal, semuanya bekerja entah bagaimana. <br><br>  Sebagai contoh, Rosetta secara sistematis kehilangan teks, dan antarmuka bekerja buggy.  Tidak ada verifikasi hak akses untuk terjemahan di mana pun.  Makemessage / kompilemage sistematis diperlukan untuk bekerja ... <br><br>  Di winePad, tag trans, blocktrans, dan gettext_lazy didefinisikan ulang dan kami mulai menerima teks dari cache.  Jika tidak ada cache, maka permintaan cache dari basis get_or_create menyelamatkan kami dari makemessage. <br><br>  Topik multibahasa pada umumnya rumit.  Solusi bawaan Django hanya berfungsi untuk teks statis.  Tetapi masih ada kebutuhan untuk menerjemahkan model-model ini.  Saya mencoba dengan cara saya sendiri untuk menyelesaikan masalah menerjemahkan teks-teks dinamis dalam proyek <a href="https://github.com/mom1/django-tof">Django-TOF</a> , di mana saya menggabungkan kemampuan terjemahan model dan Parler / Hvad.  Mungkin seseorang akan tertarik mengintip. <br><br>  Untuk saat ini, saya akan menghentikan narasinya, karena artikel perbaikan bug Django dapat dengan mudah berubah menjadi tulisan lama. <br><br>  Tolong beritahu saya bagaimana Anda meningkatkan Django Anda.  Jika ada kelanjutan, saya mensistematisasikan ide-ide yang muncul. <br><br>  <b>ps</b> Beberapa kode ditulis dalam notasi lama, saya harap pengertian, waktu atau staf untuk refactoring tidak selalu ditemukan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481042/">https://habr.com/ru/post/id481042/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481030/index.html">Jenis cyberdec apa yang ingin saya lakukan untuk diri saya sendiri</a></li>
<li><a href="../id481032/index.html">Mengapa bisa diretas? Mungkin karena penyerang</a></li>
<li><a href="../id481034/index.html">Terowongan VPN langsung antara komputer melalui penyedia NAT (tanpa VPS, menggunakan server STUN dan Yandex.Disk)</a></li>
<li><a href="../id481036/index.html">30 Utilitas untuk Alat Pengembang Firefox</a></li>
<li><a href="../id481038/index.html">Pengakuan seorang pecandu desain. Bagaimana kami membuat game "IT Alchemy" dalam sebulan</a></li>
<li><a href="../id481044/index.html">Apa yang akan disajikan untuk tahun 2020: Panduan Tahun Baru Madrobots</a></li>
<li><a href="../id481048/index.html">Pengakuan sirkuit digital. Elemen-C yang digeneralisasi</a></li>
<li><a href="../id481052/index.html">Buat Ethereum Geth Private Network di Docker Containers</a></li>
<li><a href="../id481054/index.html">YouTrack 2019.3: daftar tugas yang diperbarui dan banyak lagi</a></li>
<li><a href="../id481056/index.html">Teknologi utama dekade ini menurut Habr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>