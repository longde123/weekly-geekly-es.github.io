<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏾‍🤝‍🧑🏼 🍤 👦🏿 Wie man den Erfolg misst. Überwachungsstrategien und ihre Beziehung zu geschäftlichen Problemen 🐔 👬 🧒🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bevor Sie die Frage „Wie misst man Erfolg?“ Beantworten, müssen Sie verstehen, was „Erfolg“ für Sie bedeutet. Für Dev und Ops ist die Definition von E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie man den Erfolg misst. Überwachungsstrategien und ihre Beziehung zu geschäftlichen Problemen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/418975/"><p>  Bevor Sie die Frage „Wie misst man Erfolg?“ Beantworten, müssen Sie verstehen, was „Erfolg“ für Sie bedeutet.  Für Dev und Ops ist die Definition von Erfolg unterschiedlich.  Für Dev ist ein erfolgreiches Projekt vollständig getestet.  Zur Betriebsüberwachung.  Tests und Überwachung sind erforderlich, aber Tests decken das Problem nie zu 100% ab, und eine Antwort von 200 über HTTP reicht nicht aus, um sicherzustellen, dass das System ordnungsgemäß funktioniert.  <strong>Leon Fayer</strong> von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">RIT ++</a> verteidigte den Standpunkt, dass DevOps nicht zahlen, um sicherzustellen, dass sich alle Metriken in der Überwachung in der grünen Zone befinden.  <strong>Sie zahlen, um Benutzer glücklich zu machen</strong> .  Wenn Sie unzufrieden sind - das Geschäft verliert Geld und niemand kümmert sich darum, dass alles grün ist. </p><br><p>  Unter einer Katze gibt es viele Beispiele aus der Praxis, die diesen Standpunkt belegen.  Lassen Sie uns herausfinden, warum Sie das Geschäft verstehen, wie Sie den Erfolg aus geschäftlicher Sicht überwachen und warum normale Entwickler ihn benötigen. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p> <strong>Über den Sprecher:</strong> Leon Fayer wurde in einer einst freundlichen Republik geboren, wuchs aber in den USA auf.  Ich habe vor vielen Jahren angefangen zu programmieren und während dieser Zeit arbeitete ich als Programmierer, Manager, den ich einfach nicht arbeitete.  Teilnahme an Startups - einige waren erfolgreicher, andere nicht sehr erfolgreich. </p><br><p>  Leon arbeitet seit vielen Jahren bei OmniTI.  Dieses Unternehmen ist auf die Entwicklung skalierbarer Systeme spezialisiert, sodass Leon die einmalige Gelegenheit hat, Systeme für die meistbesuchten Websites der Welt zu entwerfen und zu bauen - Wikipedia, National Geographic, Weißes Haus, MTV usw. </p><a name="habracut"></a><br><img src="https://habrastorage.org/webt/cu/57/rr/cu57rra5v81t8l-_zftdhh55jfc.jpeg"><br><br><p>  Bevor Sie die Frage „Wie misst man Erfolg?“ Beantworten, müssen Sie verstehen, was „Erfolg“ für Sie bedeutet.  Für jede Person ist die Antwort unterschiedlich. </p><br><p>  Wenn Sie diesen Artikel lesen, sind Sie höchstwahrscheinlich an DevOps beteiligt.  Bist du mehr Dev als Ops?  Oder umgekehrt mehr Ops als Dev?  Für Dev und Ops ist die Definition von Erfolg etwas anders: Für Dev ist natürlich Testen. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/9zB1eytkgYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  <strong>Testen</strong> <br></h2><br><p>  Erfolgreiches Testen bedeutet für mich als Programmierer, dass alles in Ordnung ist, alles in Ordnung ist, alles funktioniert - Sie können es in der Produktion ausführen.  Das Problem ist, dass ich auch ein Zyniker bin und <strong>kein Fan von Tests</strong> als solchen.  Nicht weil es schwierig ist und nicht weil es lang ist - sondern weil das Testen nicht das gibt, was ich will. </p><br><img src="https://habrastorage.org/webt/dx/l9/ss/dxl9ss8vyirqtcdsev6zhmmcvyq.jpeg"><br><br><p>  Verstehen Sie mich richtig, das <strong>Testen ist ein obligatorischer Prozess</strong> , es sollte in jedem Projekt enthalten sein, aber es reicht eindeutig <strong>nicht aus, um den Erfolg zu garantieren</strong> . </p><br><p>  Es gibt viele verschiedene Testoptionen: </p><br><ul><li>  Leistungstests; <br></li><li>  Benutzertests; <br></li><li>  automatische Prüfung ... <br></li></ul><br><img src="https://habrastorage.org/webt/0x/v-/nm/0xv-nmknmwzidotzt46aoriitkk.jpeg"><br><br><p>  Wie viele Testmethoden verwenden Sie - 1, 2, 3, 5?  Und was, Sie sind nachts nicht wach?  Funktioniert alles in der Produktion? </p><br><p>  Das Problem ist, dass das Testen <strong>die Illusion von Erfolg vermittelt</strong> .  Es ist vorbestimmt: Wir wissen, dass der Zug Punkt A verlassen und Punkt B erreichen muss, dafür testen wir.  Es gibt Optionen, die wir in Betracht ziehen.  Wenn der Zug vom Lenkrad fällt oder kein Holz mehr hat, ist dies keine Überraschung.  Aber wir testen zum Beispiel keinen Zugraub.  Wir können dies nicht testen, da wir nicht wissen, dass eine solche Option möglich ist. </p><br><p>  Es gibt einige Probleme, aufgrund derer das Testen einfach nicht ausreicht.  Das erste ist natürlich <strong>ein Datenproblem</strong> .  Die Tatsache, dass die Aufgabe lokal funktioniert, aber aus irgendeinem Grund nicht in der Produktion funktioniert, ist ein Standardproblem. </p><br><p>  Egal wie sehr wir es versuchen.  Es spielt keine Rolle, wie viele Replikationen wir leben - Entwicklung und Produktion werden niemals gleich sein.  Wird es eine weitere Zeile in der Datenbank geben, wird es eine weitere zusätzliche Anfrage geben - es wird immer etwas in der Produktion sein, das wir nicht erwartet haben. </p><br><blockquote>  Wolfe + 585 - der längste Nachname der Welt: <br><br>  <em>Hubert Blaine</em> <em><br></em>  <em>Wolfeschlegelsteinhausenbergerdorffwelchevoralternwaren-gewissenhaftschaferswessenschafewarenwohlgepflegeundsorgfaltigkeitbeschutzen-vorangreifendurchihrraubgierigfeindewelchevoralternzwolfhunderttausendjahres-vorandieerscheinenvonderersteerdemenschderraumschiffgenachtmittungsteinund-</em> siebeniridiumelektrischmotorsgebrauchlichtalsseinursprungvonkraftgestartsein-langefahrthinzwischensternartigraumaufdersuchennachbarschaftdersternwelchege-habtbewohnbarplanetenkreisedrehensichundwohinderneuerassevonverstandig-menschlichkeitkonntefortpflanzenundsicherfreuenanlebenslanglichfreudeundruhe-mitnichteinfurchtvorangreifenvorandererintelligentgeschopfsvonhinzwischensternartigraum, <em><br></em>  <em>Sr.</em> <br><br>  Nur wenige Systeme überleben, wenn jemand einen solchen Nachnamen in das Formular eingibt.  Ich kenne mindestens 5 verschiedene Punkte, an denen das gesamte System fliegen kann. <br></blockquote><p>  Daher ist das zweite Problem das <strong>Problem mit den Benutzern</strong> . </p><br><img src="https://habrastorage.org/webt/ne/jx/cb/nejxcbjoleozn-jfohfpwcxkdng.jpeg"><br><br><p>  Das sind so interessante Leute, die alles kaputt machen.  <strong>Wenn es keine Benutzer gäbe, wäre alles viel einfacher, um ehrlich zu sein.</strong> </p><br><p>  Selbst wenn Ihre Benutzeroberfläche eine Schaltfläche enthält, finden sie dennoch eine Methode, um das zu brechen, was wir tun. </p><br><p>  Das beste Beispiel ist <strong>World of Warcraft</strong> . </p><br><img src="https://habrastorage.org/webt/1s/9a/_2/1s9a_2mdxunmxk7leoywjrsucoa.jpeg"><br><br><p>  Für diejenigen, die es nicht wissen, ist dies ein Online-Spiel, das von 10 Millionen Menschen gespielt wird.  Zu einer Zeit gab es ziemlich legendäre Fehler.  Korrupte Blutwanze ist ein perfektes Beispiel dafür, wie Benutzer alles verderben. </p><br><p>  Wie bei jedem Spielzeug tauchten in World of Warcraft ständig neue Inhalte, neue Ideen und neue Bosse auf.  Einer der neuen Bosse verfluchte einen der 40 Spieler der Gruppe.  Das Prinzip des Fluches war wie eine Zeitbombe - es nahm langsam das Leben aller um sich herum.  Das heißt, es war notwendig, zur Seite zu rennen - es gab eine ganze Mechanik.  Und alles war in Ordnung, bis irgendwann einer der Spieler beschloss, sich während der Schlacht in die Stadt zu teleportieren ... </p><br><img src="https://habrastorage.org/webt/ku/qd/yv/kuqdyvntv9lwx-ttgyshm4htr9a.jpeg"><br><br><p>  In der Stadt lebten Tausende von Menschen aller Ebenen, auch die kleinsten.  Nicht nur das, es gab immer noch Nicht-Spieler-Charaktere, die sich ebenfalls mit einem Fluch infizierten.  <strong>Tagsüber waren die Server leer.</strong>  Es war unmöglich, irgendwohin zu gehen, wo andere Spieler waren.  Es wurde eine Wildpest im wahrsten Sinne des Wortes.  Ich musste alle Server neu starten, um den Fluch zu beseitigen und die Mechanik zu ändern.  Und das alles wegen eines Testers - ich weiß nicht einmal, wie ich es nennen soll. </p><br><p>  Das dritte Hauptproblem ist das <strong>Problem mit der externen Abhängigkeit</strong> .  Wir alle sind darauf gestoßen: Die API, von der Sie abhängig sind, funktioniert plötzlich nicht mehr.  oder Sie beenden die Steuerung der API. </p><br><p>  Aber es gibt ein größeres Problem damit.  Externe Abhängigkeit kann nicht nur direkt, sondern auch indirekt sein.  Wir alle verwenden jetzt OpenSource.  Jedes OpenSource-Produkt hängt von einigen Bibliotheken ab, die ebenfalls OpenSource sind und von einer anderen Person unterstützt werden.  Wenn etwas kaputt geht, bricht es nicht nur in diesem kleinen Modul, sondern in allem, was davon abhängt. </p><br><p>  Das wahrscheinlich idealste Beispiel war vor kurzem, vor ungefähr einem Jahr - dies ist das <strong>linke</strong> <strong>Pad</strong> .  Dies ist ein npm-Modul in node.js, das Leerzeichen vor der Zeichenfolge (am Anfang einer Zeile) verfügbar macht.  Wir werden nicht diskutieren, warum dieses Modul hergestellt wurde.  Es stellt sich jedoch heraus, dass es in vielen beliebten Modulen enthalten war.  Irgendwann entschied der Autor, dass er genug hatte, entfernte dieses Modul von npm und <strong>70% des in node.js geschriebenen Codes flogen.</strong> </p><br><p>  Wenn Sie denken, dass dies ein Einzelfall ist, irren Sie sich. </p><br><p>  Es gibt auch das is-odd-Modul, das jetzt in npm ist.  Dieses Modul definiert eine gerade Zahl oder nicht. </p><br><img src="https://habrastorage.org/webt/yw/uk/kk/ywukkkmmz4jywmzqdxrewq0cyzq.jpeg"><br><br><p>  Wir werden nicht die Tatsache diskutieren, dass 3 Millionen Menschen nicht wissen, wie man Parität / Seltsamkeit überprüft.  Aber es gibt 12 weitere Module, die es verwenden!  Und es ist nicht bekannt, wie viele dieser Module die Module noch verwenden.  Wenn es Ihnen so vorkommt, als gäbe es nichts zu brechen - es gibt 5 Versionen! </p><br><p>  Zurück zu unseren Schafen - es gibt viele weitere Möglichkeiten: </p><br><ul><li>  <strong>Kurzsichtigkeit</strong> - wir wissen nicht, was in Zukunft passieren wird.  Y2K ist ein perfektes Beispiel.  Niemand dachte nur, dass im Jahr 2000 alles, was in Kobol geschrieben wurde, fliegen würde. <br></li><li>  <strong>Anzahl der Testoptionen</strong> . <br></li></ul><br><p>  Es gibt wieder ein gutes Beispiel für World of Warcraft - sie haben viele gute Beispiele zu diesem Thema. </p><br><p>  Sechs Monate nach der Veröffentlichung des Spiels kamen Appelle, um zu unterstützen, dass einige Spieler nicht eine Höhle betreten konnten.  Es stellte sich heraus, dass nur eine Version von Rasse und Geschlecht diese Höhle nicht betreten konnte - dies waren weibliche Tauren. </p><br><p>  Warum hat es 6 Monate gedauert, diesen Fehler zu finden - schließlich spielen Millionen von Menschen?  Weil Tauren eine fiktive Rasse ist, eine Mischung aus Mensch und Stier.  Tauren Frau ist eine sprechende Kuh.  Niemand wollte eine Kuh spielen, also erreichte 6 Monate lang keine einzige Person das maximale Level, um in die Höhle zu gehen und diesen Käfer zu finden.  Dementsprechend hat es niemand getestet. </p><br><ul><li>  <strong>Änderung der Quelldaten.</strong>  Wir wissen wirklich nicht, was morgen passieren wird. <br></li></ul><br><p>  In jedem Fall gibt es nur wenige Tests.  Tests ergeben jedoch keine 100% ige Abdeckung.  Daher garantiert das Testen keinen Erfolg.  Dies bringt uns allmählich zum zweiten Teil - Ops.  <strong>Erfolg ist für die Ausbeutung die Überwachung</strong> . </p><br><h2>  <strong>Überwachung</strong> <br></h2><br><p>  Es gibt viele Gründe, warum eine Überwachung erforderlich ist: </p><br><ul><li>  perfekter Code existiert nicht; </li><li>  Systeme werden immer komplexer; </li><li>  wachsende externe Abhängigkeit; </li><li>  Vorfreude -&gt; Antwort; </li><li>  ... </li></ul><br><p>  Überwachung ist erforderlich, da sich alles ändert.  Dies ist der Hauptgrund.  Darüber hinaus ist es in der Produktion, dort ändert sich ständig alles, und wir müssen dies erkennen. </p><br><blockquote>  Was sollte die Überwachung abdecken?  - Das war's!  Dies ist eine kurze Antwort, die jedoch alles abdecken sollte. </blockquote><br><img src="https://habrastorage.org/webt/9z/li/nz/9zlinzjy4vot0ry_dth2sin5ir4.jpeg"><br><br><p>  Das ist alles ein bisschen abstrakt.  Tatsächlich haben wir alle eine Checkliste, die wir überwachen: </p><br><ul><li>  Infrastruktur <br></li><li>  Datenbanken <br></li><li>  Anwendungen <br></li><li>  Integrationspunkte; <br></li><li>  Bearbeitungszeit für Anfragen; <br></li><li>  laden; <br></li><li>  ... <br></li></ul><br><p>  Es kann eine Million Dinge geben.  Viele sammeln Hunderte, Tausende und Zehntausende von Metriken auf ihren Systemen. </p><br><p>  Wir werden dafür viele Metriken sammeln: </p><br><img src="https://habrastorage.org/webt/42/j1/wg/42j1wgx-gxkzhg8f4ha-rbvhela.jpeg"><br><br><p>  Natürlich übertreibe ich, aber alles, was wir aus Sicht von Ops brauchen, ist, <strong>dass</strong> <strong>HTTP 200 zurückgibt</strong> .  Dies bedeutet, dass mit der Website alles in Ordnung ist.  Sobald eine Site funktioniert, bedeutet dies, dass Datenbanken und Anwendungen funktionieren - alles ist in Ordnung.  Aus Sicht von Ops ist Erfolg genau das: Alle Grafiken befinden sich in der grünen Zone, alles funktioniert korrekt - alles ist in Ordnung! </p><br><img src="https://habrastorage.org/webt/uk/60/7i/uk607ivm8gphbtih32t8vnxthxa.jpeg"><br><br><p>  Jeder weiß, was Twitter ist.  Sie verarbeiten 500 Millionen Tweets pro Tag - eine verrückte Zahl. </p><br><img src="https://habrastorage.org/webt/n_/k-/sd/n_k-sdc0fpklltuu9nnnrkitf_m.jpeg"><br><br><p>  Sie sind aber auch für ihre Fehler bekannt.  Fehler sind in ihrer Komplexität oder Leichtigkeit legendär - welche Seite zu betrachten ist. </p><br><p>  Sie hatten einen Fehler: Die Website funktionierte, der Kunde konnte einen Tweet schreiben, auf eine Schaltfläche klicken, sie sagten Danke, der Tweet wurde gesendet - und das war's!  Er erschien nirgendwo und verschwand einfach, und die Überwachung zeigte, dass alles in Ordnung war.  Die Site gibt eine 200-Anfrage zurück - die API funktioniert.  Aber es gibt keine Tweets! </p><br><p>  Ich habe ein Lieblingszitat von einem Kunden.  Ich habe eine Stunde lang Probleme auf drei Bildschirmen behoben, und er hat geschrien, warum nichts funktioniert.  Als ich zu erklären versuchte, welche Probleme ich behebte, sagte mir eine Person, die mit zwei Fingern tippte und nicht verstand, wie man einen Computer benutzt: </p><br><blockquote>  <em>"Solange ich weiterhin Geld verdiene, ist es für mich verdammt, dass die Server eingeschaltet sind."</em> </blockquote><p>  In mancher Hinsicht ist dies sehr richtig, und das Twitter-Beispiel bestätigt dies: Alle Metriken zeigten, dass aus Sicht der Entwickler alles in Ordnung war, aber aus Sicht der Arbeit des Unternehmens war es überhaupt nicht in Ordnung. </p><br><p>  Um ehrlich zu sein, sind wir alle schuld.  Natürlich sind hauptsächlich die Unternehmen schuld, die Überwachungsprodukte herstellen.  Aber wir auch, weil wir traditionell Systemmetriken sammeln.  Wir sind es gewohnt, mit kleinen Systemen zu arbeiten - einem, vielleicht zwei Servern.  Wenn sie funktionieren, ist alles in Ordnung. </p><br><p>  Jetzt haben wir etwas mehr Server als zwei oder sogar zehn, und es reicht nicht aus, nur den Zustand des Systems oder den Zustand des Programms zu messen.  Wir müssen die Arbeit von etwas anderem verfolgen. </p><br><img src="https://habrastorage.org/webt/wb/t3/xo/wbt3xofhcbdwryblekus_bfrcko.jpeg"><br><br><p>  Zurück zum Angebot: Ich werde dafür bezahlt, dass nicht alles grün ist.  Ich werde bezahlt, damit meine Benutzer oder Manager zufrieden sind - <strong>jemand sollte mit dem Ergebnis</strong> zufrieden <strong>sein</strong> .  Wenn alle Benutzer unglücklich sind, kümmert es niemanden, dass alles grün ist. </p><br><h2>  <strong>Geschäftsüberwachung</strong> <br></h2><br><p>  Wir sagten, dass Überwachung erforderlich ist, weil sich alles ändert.  Aber wenn sich alles ändert, wirken sich Änderungen auf das Geschäft aus: Etwas ist kaputt gegangen - Geld ist nicht mehr eingegangen, etwas wurde repariert - Geld fließt wieder - eine direkte Korrelation.  Oder sie beeinflussen es nicht - aber wenn wir das Geschäft nicht überwachen, wissen wir das nicht. </p><br><p>  Als lebendes Beispiel ist das Cache-Lesediagramm jedem bekannt. </p><br><img src="https://habrastorage.org/webt/yt/ou/qy/ytouqyev9gs9_icsgbr7r6iobdk.jpeg"><br><br><p>  In 90% der Fälle ist alles in Ordnung, fast alle Anfragen gehen in den Cache.  Und plötzlich passierte etwas - und das sehr ernst.  Dies ist ein Problem, das um 3 Uhr morgens von jemandem geweckt werden sollte, der es lösen wird.  Aber wenn sich die Download-Geschwindigkeit für Benutzer nicht ändert, ist dies wirklich ein Problem? </p><br><img src="https://habrastorage.org/webt/c4/0_/_c/c40__ceffwlzwrbbsarajjsuxae.jpeg"><br><br><p>  Im Englischen gibt es den Begriff Beobachtbarkeit - Beobachtbarkeit.  Dies sind: Überwachung, Protokollierung, Alarmierung.  Daher ist der Begriff Überwachung ein bisschen.  Wir wollen alles beobachten - bei Bedarf Systemmetriken auf jedem Knoten sammeln.  Aber wir wollen das Geschäft überwachen, weil es alle begeistert.  Dies ist ein Indikator für den Erfolg. </p><br><p>  Dazu müssen wir: </p><br><p>  1. Verstehe das Problem - was genau müssen wir überwachen? </p><br><p>  2. Bestimmen Sie die Basislinie - das heißt, es reicht aus, dass sich die Download-Geschwindigkeit des Benutzers nicht geändert hat, sodass niemand mitten in der Nacht aufwacht, wenn das Lesen aus dem Cache nicht mehr funktioniert. </p><br><p>  3. Korrelierende Daten sind einer der wichtigsten Faktoren.  Wenn Marketing Einkommensdaten sammelt und Sie Daten auf Servern sammeln und diese beiden Beobachtungen nicht vergleichen können, haben sie nur eine sehr geringe Bedeutung. </p><br><p>  Normalerweise gebe ich viele Beispiele.  Egal wie absurd sie aussehen würden, sie stammen alle aus meinem Leben und ich habe viel Nerven für sie aufgewendet. </p><br><p>  Beispiel: Ich hatte einen Client mit 100 Millionen Benutzern.  Es war eine Internet-Marketing-Firma, die viele E-Mails verschickte und A / B-Tests verwendete.  Für sie haben wir 6.000 Metriken gesammelt. </p><br><p>  Alles begann wie immer mit einem Anruf.  Das Telefon klingelt - es bedeutet, dass etwas passiert ist. </p><br><blockquote>  " <em>Wir haben ein Problem."</em>  <em>Etwas funktioniert nicht.</em> <br><br>  - OK, was genau funktioniert nicht?  Worin drückt sich das aus? <br><br>  <em>- Wir erhielten weniger Einkommen.</em> <br><br>  - Und? <br><br>  <em>- Im System funktioniert etwas nicht.</em> <br><br>  - Ich verstehe es nicht.  Wenn Sie weniger Geld verdienen, sprechen Sie mit Ihrem Verkaufsteam.  Warum rufst du mich an? <br><br>  <em>- Nein, ich bin sicher, dass etwas im System nicht funktioniert!</em> <br><br>  - Okay, mal sehen. </blockquote><p>  Gott sei Dank hatten wir eine Umsatzmetrik, damit wir sehen konnten.  Die Grafik zeigt wirklich, dass ihr Einkommen irgendwann um 15% gesunken ist.  Angesichts der Anzahl der Benutzer ist dies ziemlich wichtig. </p><br><p>  Okay, ich muss schauen.  Zunächst überprüfe ich die Download-Geschwindigkeit - normal. </p><br><img src="https://habrastorage.org/webt/gd/og/ea/gdogeadybayuvxe_bfnolgniyv0.jpeg"><br><br><p>  Wir haben uns die Auslastung der Datenbank angesehen - alles ist in vernünftigen Grenzen, anscheinend hat sich nichts geändert.  Dann begannen wir, die CPU-Last, einzelne Knoten und Caches zu untersuchen. </p><br><img src="https://habrastorage.org/webt/al/rv/dl/alrvdlq8vs1m2phcwiqhz1ha-ni.jpeg"><br><br><p>  Alles war in Ordnung. Bis wir zu den Metriken des E-Mail-Newsletters kamen.  Einer der großen Anbieter hat versehentlich seine Domain auf die schwarze Liste gesetzt.  Der Prozentsatz ihres E-Mail-Marketings erreicht die Benutzer nicht mehr, was bedeutet, dass weniger Personen Briefe erhalten, auf die Schaltfläche geklickt, auf die Website gegangen sind und etwas gekauft haben. </p><br><p>  Hier ist eine solche Korrelation! </p><br><p>  Wir haben das Glück, dass wir diese Metriken hatten.  Wenn wir sie nicht hätten, würden wir sie hinzufügen - dies ist eine sehr einfache Antwort. </p><br><p>  Der größte Fehler, den die Leute machen, ist zu glauben, dass die Überwachung am Ende des Projekts erfolgen kann.  Es ist wie eine Funktion: Um ein eigenes Projekt zu erstellen, eine Überwachung einzurichten - und das ist alles, wir sind bereit! </p><br><p>  Die Instrumentierung kann niemals beendet werden.  Es gibt immer Probleme, die von Anfang an unbekannt sind.  Wie beim Testen können Sie keine Tests schreiben und alles abdecken, da Sie nicht wissen, was „alles“ ist.  Wir wissen nicht, wie wir die Zukunft vorhersagen sollen, und wir wissen nicht, wie wir ein Unternehmen vorhersagen sollen. Daher wissen wir nicht, was „alles“ ist. </p><br><p>  Ein absolut identisches Beispiel für das, worüber ich spreche.  Es war der CEO, der morgens auf einer Konferenz in Paris aufwachte, Kaffee trank, seine Post und seine Gewinn- und Verlustrechnung betrachtete und mich mit demselben Problem anrief: Das Einkommen sank. </p><br><p>  Ich erinnere mich gut daran, weil er 9 Uhr morgens hatte und ich 6 Stunden früher, auch am Samstag.  Ich bin gerade von einer Geburtstagsfeier nach Hause gebracht worden - aber das spielt keine Rolle.  Um 3 Uhr morgens setze ich mich an den Computer und wir beginnen die gleichen Schritte zu machen.  Das heißt, wir betrachten die Belastung des Systems, überhaupt die Registrierungsnummer. </p><br><p>  Die einzige Abweichung von der Norm, die wir gefunden haben, ist ein geringerer Prozentsatz erfolgreicher Autorisierungen.  Das heißt, der Betrag ist der gleiche, aber der Prozentsatz ist etwas niedriger.  Ich weiß, dass dies Spam usw. sein kann.  Alle anderen technischen Kennzahlen sind jedoch absolut normal.  Und wir kamen an den Punkt, an dem wir fast entlang der Linien in der Datenbank gingen und versuchten zu überprüfen, ob etwas mit dem Auge aufgefangen werden konnte.  Absolut nichts! </p><br><p>  Wir saßen am halben Sonntag, machten auch am Montag weiter, waren uns aber schon sicher, dass das Problem nicht technisch war.  Lassen Sie sie es selbst entscheiden.  Und hier sitze ich am Montag bei der Arbeit und ein Mitarbeiter der Buchhaltung ruft mich an: </p><br><blockquote>  <em>- Hör zu, kannst du mir schnell helfen?</em> <br><br>  - Was brauchst du? <br><br>  <em>- Können Sie das American Express-Abzeichen von der Website entfernen?</em> <br><br>  - Natürlich kann ich!  Warum plötzlich? <br><br>  <em>- Weißt du, wir streiten uns hier mit ihnen und bis wir Amerikaner akzeptieren</em> <em><br></em>  <em>Express im Allgemeinen.</em> <br><br>  "Ich entschuldige mich zu fragen, wann hast du aufgehört, sie zu nehmen?" <br><br>  <em>- Meiner Meinung nach vor dem Wochenende - am Freitag oder Samstag</em> . <br></blockquote><p>  Niemand, der bei klarem Verstand ist, würde jemals eine Metriksammlung über den Prozentsatz der Autorisierungen einer bestimmten Art von Kreditkarte erstellen!  Nach diesem Vorfall haben wir uns natürlich gesetzt. </p><br><p>  Warum erzähle ich dir das?  Sie müssen sich zuerst das Geschäft ansehen, da all diese systemischen Probleme einfach unsichtbar waren.  Sie haben mitten in der Nacht niemanden geweckt, wir haben nicht gesehen, dass dies Probleme waren.  Es ist leicht, einen Einkommensrückgang zu bemerken, und alles andere muss nachverfolgt werden, damit Sie diese Daten mit Geschäftsdaten korrelieren können. </p><br><img src="https://habrastorage.org/webt/es/ra/16/esra161fb2rmul7io-kerjiteqw.jpeg"><br><br><h2>  <strong>Erfolg fürs Geschäft</strong> <br></h2><br><p>  Für ein Unternehmen kann der Erfolg unterschiedlich sein, er hängt von den Zielen ab.  Wie kann dies vor allem gemessen werden?  Traditionell messen wir die Systemleistung, manchmal als Ingenieure, und vergessen, dass Sie alles messen können. </p><br><p>  Zum Beispiel können Sie Ihren eigenen Alkoholismus messen.  Ich scherze übrigens nicht.  In unserem Büro gibt es ein gezapftes Bier mit vier Zapfstellen.  Da wir alle Ingenieure sind, hat mein Kollege beschlossen, Raspberry Pi-Sensoren einzusetzen, um zu sehen, wie viel Bier wir trinken und welches. </p><br><img src="https://habrastorage.org/webt/m-/wl/rx/m-wlrxgmno-iuvpti99yfolzcto.jpeg"><br><br><p>  Es sieht aus wie ein einfacher Witz, ist aber praktisch, denn wir sehen, wann das Bier zu Ende geht und wir das Fass ersetzen müssen.  Im Allgemeinen können wir sehen, wann Menschen trinken, welches Bier sie am liebsten mögen - dunkel, hell usw.  Der Höhepunkt ist übrigens mein Geburtstag. </p><br><img src="https://habrastorage.org/webt/vq/p6/e5/vqp6e5zfksaadwu840k7pgomvtg.jpeg"><br><br><p>  Absolut zufällig haben wir dafür eine andere Anwendung gefunden. </p><br><img src="https://habrastorage.org/webt/xz/x2/qu/xzx2quf2ztopidlzsdeqtgt4i9m.jpeg"><br><br><p>  Die Grafik zeigt den Bierkonsum über mehrere Tage und Wochenenden.  Am Wochenende nimmt der Alkoholkonsum normalerweise ab und verschwindet fast.  Eines Tages kommen wir am Montag an, schauen uns den Zeitplan an und sehen, dass jemand am Samstag ein Viertel Barrel Bier getrunken hat.  Die Grafik zeigt die genaue Zeit innerhalb einer halben Stunde.  Es stellte sich heraus, dass die Reinigungskräfte, die am Samstag kamen, einen Kater hatten, also waren sie verkatert. </p><br><p>  Ein Witz, aber am Ende hatten sie ernsthafte Probleme, weil es im Allgemeinen schlecht ist, bei der Arbeit zu trinken und sogar das Bier eines anderen! </p><br><p>  Am Ende können alle Metriken nützlich sein.  Sogar diese Metrik, die wir nur für unseren eigenen Fan gesammelt haben, hat sich in etwas anderem als wichtig erwiesen.  Aber im Grunde geht es bei den wirklich benötigten Metriken um Geld.  Geld ist für das Geschäft am wichtigsten. </p><br><p>  In der Regel sind die Kriterien für den Erfolg eines Unternehmens letztendlich mit Geld verbunden: </p><br><ul><li>  Gewinn; <br></li><li>  Einkommen <br></li><li>  Kosten <br></li><li>  Wirksamkeit. <br></li></ul><br><p>  Geschäftsmetriken: </p><br><ul><li>  Registrierung <br></li><li>  Einkäufe; <br></li><li>  Anzeigenansichten </li><li>  Umbauten; </li><li>  Renditeprozentsatz; </li><li>  Menge Bier getrunken </li></ul><br><p>  All dies hat ein monetäres Äquivalent. ,  ,         —  ,  .      ,         . </p><br><p> <strong>     .</strong>       . ,   ,      . </p><br><img src="https://habrastorage.org/webt/gd/5l/wp/gd5lwpvgesv-wtaknruovqaecu8.jpeg"><br><br><p> ,   —  .    ,   — ,  — ,    .  ,       — 99-   , SLA  . </p><br><p>          ,   ,    -. </p><br><img src="https://habrastorage.org/webt/wd/ig/lr/wdiglrk_vevyzxl383uetn8vld8.jpeg"><br><br><p>     ,    .  ,       ,    ,   .     ,     . </p><br><p> <strong>  .</strong>   ,          .      .      . ,       3 ,    . </p><br><p> <strong>  —  .</strong>      ,    ,   ,     ,     . </p><br><p>     . </p><br><img src="https://habrastorage.org/webt/re/4g/ta/re4gta60e3fdofuhjyowvaljq2i.jpeg"><br><br><p>   :    ,   ,    ,  - . </p><br><img src="https://habrastorage.org/webt/b-/sx/8f/b-sx8fv_0zig_36337nv_f1yh6g.jpeg"><br><br><p>   ,       . ,      ,    , 50 %      «  »,      ,    . </p><br><p> <strong>  1 ?</strong> </p><br><p>     1-2   .         .   10 000  ,     .  ,  10 000  ,    - . </p><br><img src="https://habrastorage.org/webt/bn/oj/rs/bnojrsrjayz5wnxjl48djlajqrm.jpeg"><br><br><p>      1 .         600-700 . , 600  —     ,      .    ,   ,      .   800   ,    ,       —   . </p><br><p> ,      ,      .     0 ,  -   ,   !       . </p><br><p> <strong>  </strong> ,   - .     —      ,            . </p><br><img src="https://habrastorage.org/webt/x9/ex/dj/x9exdjlbjtksu92-b_g-lyyanoy.jpeg"><br><br><p>     99-  50- ,     .  ,      . </p><br><p>   ,      —  ,     DevOps    —    . </p><br><h2> <strong> </strong> <br></h2><br><p>       ,      ,        . </p><br><p> Value stream mapping —         .     ,    . ,    ,    ,   ,    ,   .   ,      ,   . </p><br><p>    : </p><br><ol><li> MTTD (mean time to discovery) —     ,   . </li><li> MTTR (mean time to recovery) —     ,   . </li><li>      ,      . </li><li> /  . </li></ol><br><blockquote>    ,  ,      ,     ,     .    : «       —     .    ,     ,     ». </blockquote><p>    ,    ,  .       ,    . </p><br><p>   <strong>     </strong> .      ,    —  ,    ,    .        ,   . <strong>  </strong> . </p><br><p>    —   ,      ,         .  ,    ,   ,      .      —    . </p><br><blockquote> <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am 1. und 2. Oktober</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> findet </font><strong><font style="vertical-align: inherit;">in Moskau</font></strong><font style="vertical-align: inherit;"> eine Fachkonferenz zur Integration der Entwicklungs-, Test- und Betriebsprozesse von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevOpsConf Russia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> statt </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie gerade erst anfangen, an den Prinzipien von DevOps zu arbeiten, ist dies eine großartige Gelegenheit, sich von Anfang an bis zu einer erfolgreichen Implementierung echte Arbeitsbeispiele anzusehen und sich von Ideen wie Leons Bericht inspirieren zu lassen. </font><font style="vertical-align: inherit;">Für fortgeschrittene Fachleute gibt es Berichte mit einem tiefen Eintauchen in das Thema und wichtige Details sowie Diskussionen über neue Produkte. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommen Sie und sehen Sie, wie </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untrennbar Entwicklung, Test und Betrieb sein können</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418975/">https://habr.com/ru/post/de418975/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418961/index.html">Bestellen Sie einen Monitor anstelle eines Küchenthermodruckers</a></li>
<li><a href="../de418963/index.html">DoBot Magician Desktop-Roboter Bewertung</a></li>
<li><a href="../de418969/index.html">Wie sind die letzten Tage des Rennens auf 1 Billion US-Dollar? (UPD .: Apple hat gewonnen)</a></li>
<li><a href="../de418971/index.html">Jupiters Strahlungskarten sind der Schlüssel zu neuen Erkundungen in Europa</a></li>
<li><a href="../de418973/index.html">Treffen Sie DevOpsConf Russia</a></li>
<li><a href="../de418977/index.html">Zuverlässigkeit World of Tanks Server</a></li>
<li><a href="../de418979/index.html">Als ich durch das Land flog, implementierte ich ein Projekt für mehrere tausend Jobs</a></li>
<li><a href="../de418981/index.html">Numerische Methoden zur Lösung elliptischer Gleichungen</a></li>
<li><a href="../de418985/index.html">Analytik und Design als Ganzes</a></li>
<li><a href="../de418987/index.html">Firefox umgeht den Schutz in der neuen Google Mail-Oberfläche problemlos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>