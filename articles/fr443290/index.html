<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåßÔ∏è üñêüèΩ üë¥üèª Zen Erlang [et Elixir - env. traducteur] üë©üèæ‚Äçü§ù‚Äçüë®üèΩ üë®üèæ üîá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction du traducteur 


 Cet article concerne Erlang , mais tout ce qui est dit est √©galement applicable √† Elixir , un langage fonctionnel qui s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zen Erlang [et Elixir - env. traducteur]</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443290/"><h2 id="vvedenie-ot-perevodchika">  <em>Introduction du traducteur</em> </h2><br><p>  <em>Cet article concerne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Erlang</a> , mais tout ce qui est dit est √©galement applicable √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Elixir</a> , un langage fonctionnel qui s'ex√©cute au-dessus de la m√™me machine virtuelle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">BEAM</a> .</em>  <em>Il est apparu en 2012 et se d√©veloppe activement.</em>  <em>Elixir a obtenu la syntaxe la plus famili√®re, ainsi que de vastes capacit√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©taprogrammation</a> , tout en conservant les avantages d'Erlang.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Plus du traducteur</b> <div class="spoiler_text"><p>  <em>Un article de 2016, mais il s'agit de concepts de base qui n'expirent pas.</em> </p><br><p> <em>Les r√©f√©rences aux concepts et commentaires de ma part (le traducteur) sont situ√©es entre crochets <code>[]</code> et sont marqu√©es d'une ¬´note du traducteur¬ª.</em> </p><br><p>  <em>Si vous trouvez que certaines parties de la traduction ne sont pas suffisamment correctes, en particulier en termes de termes, ou si vous rencontrez d'autres erreurs, veuillez me le faire savoir, je le corrigerai avec plaisir.</em> </p><br><p>  <em>Un merci sp√©cial √† Jan Gravshin pour son aide dans la relecture et l'√©dition du texte.</em> </p></div></div><br><p>  Ceci est une transcription gratuite (ou une longue paraphrase?) De ma pr√©sentation √† la conf√©rence ConnectDev'16 organis√©e par Genetec. </p><br><p><img src="https://habrastorage.org/webt/pv/b5/rn/pvb5rnw1gab3fm1qi3e8jhk-rpw.png" alt="001"></p><br><p>  Je crois que la plupart des gens ici n'ont jamais programm√© √† Erlang.  Vous en avez peut-√™tre entendu parler ou vous connaissez le nom.  Par cons√©quent, ma pr√©sentation n'affectera que les concepts de haut niveau d'Erlang, et de mani√®re √† √™tre utile dans votre travail ou vos projets parall√®les, m√™me si vous ne rencontrez jamais cette langue. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/webt/oy/8k/pr/oy8kprbjqwwomjn2udl-4lmbaey.png" alt="002"></p><br><p>  Si vous avez d√©j√† √©t√© int√©ress√© par Erlang, alors vous avez entendu parler de la devise "Let it crash" [ <em>"Let it fall" - env.</em>  <em>traducteur</em> ].  Ma premi√®re rencontre avec lui m'a fait me demander de quoi il s'agissait.  Erlang √©tait cens√© √™tre id√©al pour l'ex√©cution multithread et la tol√©rance aux pannes, mais ici, ils sugg√®rent que je laisse tout tomber: l'exact oppos√© du comportement du syst√®me que je veux vraiment.  La proposition est surprenante, mais, n√©anmoins, le Zen d'Erlang y est directement li√©. </p><br><p><img src="https://habrastorage.org/webt/cp/nf/ce/cpnfcekl_sneg__72ygpdr5z5ou.png" alt="003"></p><br><p>  Dans un sens, utiliser "Let it Crash" pour Erlang est aussi amusant que "Blow it up" [ <em>"</em> Blow it <em>!"</em>  <em>- env.</em>  <em>traducteur</em> ] pour la science des fus√©es.  "Faire sauter" est peut-√™tre la derni√®re chose que vous voulez en science des fus√©es, et la catastrophe du Challenger en est un rappel vivant.  D'un autre c√¥t√©, si vous regardez la situation diff√©remment, les fus√©es et tout leur syst√®me de propulsion sont confront√©s √† des carburants dangereux qui peuvent et vont exploser (et c'est un moment risqu√©), mais de mani√®re tellement contr√¥l√©e qu'ils peuvent √™tre utilis√©s pour organiser l'espace voyager ou envoyer des charges utiles en orbite. </p><br><p>  Et le point ici est vraiment en contr√¥le;  vous pouvez essayer de consid√©rer la science des fus√©es comme un moyen d'apprivoiser correctement les explosions - ou du moins leur puissance - pour faire ce que vous voulez avec elles.  √Ä son tour, vous pouvez regarder "Let it crash" sous le m√™me angle: il s'agit de la tol√©rance aux pannes.  L'id√©e n'est pas dans les √©checs non contr√¥l√©s r√©pandus, c'est de transformer les √©checs, les exceptions et les plantages en outils utilisables. </p><br><p><img src="https://habrastorage.org/webt/c5/ps/3g/c5ps3gwglll0lz5ev-1pljsyvpi.png" alt="004"></p><br><p>  Automne imminent [Automne imminent <em>- env.</em>  <em>traducteur</em> ] et le recuit contr√¥l√© est un v√©ritable exemple de lutte contre le feu par le feu.  Au Saguenay-lac-Saint-Jean, la r√©gion d'o√π je viens, les bleueti√®res sont r√©guli√®rement br√ªl√©es de fa√ßon contr√¥l√©e afin de stimuler et de reprendre leur croissance.  Tr√®s souvent, vous pouvez voir des zones malsaines de la for√™t nettoy√©es par le feu pour √©viter les incendies de for√™t, de sorte que cela se produise sous une supervision et un contr√¥le appropri√©s.  L'objectif principal est d'√©liminer les mat√©riaux combustibles afin qu'un feu naturel ne puisse pas se propager davantage. </p><br><p>  Dans toutes ces situations, la puissance destructrice du feu qui balaie les cultures ou les for√™ts est utilis√©e pour soigner les cultures ou emp√™cher la destruction incontr√¥l√©e beaucoup plus importante des for√™ts. </p><br><p>  Je pense que la signification de "Let it crash" est exactement cela.  Si nous pouvons tirer parti des √©checs, des plantages et des exceptions, et en faire un moyen g√©rable, alors ils cesseront d'√™tre cet √©v√©nement effrayant qui doit √™tre √©vit√©, et en retour se transformera en un √©l√©ment de construction puissant pour assembler de grands syst√®mes fiables. </p><br><p><img src="https://habrastorage.org/webt/oo/tu/3u/ootu3uvbrhs_irgopya5rfosn3g.png" alt="005"></p><br><p>  Ainsi, la question devient de savoir comment garantir que les √©checs soient plus constructifs que destructeurs.  La puce principale √† Erlang est le processus.  Les processus Erlang sont compl√®tement isol√©s et ont une architecture indissociable (ne rien partager).  Aucun processus ne peut ramper dans la m√©moire d'un autre ou affecter le travail qu'il fait en d√©formant les donn√©es utilis√©es.  C'est bien car cela signifie qu'un processus de mort avec une garantie √† 100% gardera ses probl√®mes pour lui-m√™me et fournira √† votre syst√®me une tr√®s forte isolation des pannes. </p><br><p>  Les processus d'Erlang sont √©galement extr√™mement l√©gers, de sorte que des milliers et des milliers d'entre eux peuvent fonctionner simultan√©ment sans probl√®me.  L'id√©e est d'utiliser autant de processus que <em>n√©cessaire</em> , plut√¥t que le plus <em>possible</em> .  Imaginez qu'il existe un langage de programmation orient√© objet dans lequel √† tout moment il est permis d'avoir un maximum de 32 objets fonctionnant simultan√©ment.  Vous arriveriez rapidement √† la conclusion que pour cr√©er des programmes dessus, les restrictions sont trop strictes et plut√¥t ridicules.  La pr√©sence de nombreux petits processus offre une plus grande variabilit√© des pannes.  Dans un monde o√π nous voulons mettre le pouvoir de l'√©chec au service, c'est bien! </p><br><p>  Le m√©canisme des processus √† Erlang peut sembler un peu √©trange.  Lorsque vous √©crivez un programme en C, vous avez une grande fonction <code>main()</code> qui fait une tonne de tout.  Il s'agit du point d'entr√©e du programme.  Il n'y a rien de tel √† Erlang.  Aucun des processus n'est le principal.  Chaque processus lance une fonction, et cette fonction joue le r√¥le de <code>main()</code> ce processus particulier. </p><br><p>  Nous avons maintenant un essaim d'abeilles, mais il doit √™tre tr√®s difficile de les envoyer pour renforcer la ruche si elles ne peuvent en aucun cas communiquer.  O√π les abeilles dansent [les <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">abeilles dansent</a> - env.</em>  <em>traducteur</em> ], Erlang traite la messagerie. </p><br><p><img src="https://habrastorage.org/webt/4h/dl/be/4hdlbelfa7vvq542leolmbs--4a.png" alt="006"></p><br><p>  La messagerie est la forme de communication la plus intuitive dans un environnement concurrentiel.  Elle est l'une des personnes les plus √¢g√©es √† traiter, depuis l'√©poque o√π nous √©crivions des lettres et les envoyions par des coursiers √† cheval, √† des m√©canismes plus bizarres comme les s√©maphores de Napol√©on [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">s√©maphore optique</a> - env.</em>  <em>traducteur</em> ] montr√© dans l'illustration.  Dans ce dernier cas, vous envoyez simplement un groupe de gars dans les tours, leur donnez un message et ils agitent des drapeaux pour transmettre des donn√©es sur de longues distances de mani√®re plus rapide que les chevaux fatigu√©s.  Peu √† peu, cette m√©thode a √©t√© remplac√©e par un t√©l√©graphe, qui, √† son tour, a chang√© le t√©l√©phone et la radio, et maintenant nous avons toutes ces technologies √† la mode pour envoyer des messages tr√®s loin et tr√®s rapidement. </p><br><p>  Un aspect extr√™mement important de tous ces messages, surtout dans l'ancien temps, est que tout √©tait asynchrone et que les messages √©taient copi√©s.  Personne ne s'est tenu sur son porche toute la journ√©e en attendant le retour du courrier et personne (je soup√ßonne) n'√©tait assis pr√®s du s√©maphore, attendant une r√©ponse.  Vous avez envoy√© un message et √™tes retourn√© √† votre entreprise, et au fil du temps, quelqu'un vous a inform√© qu'une r√©ponse √©tait arriv√©e. </p><br><p>  C'est bien - si l'autre c√¥t√© ne r√©pond pas, vous ne serez pas coinc√© sur votre v√©randa jusqu'√† votre mort.  Inversement, le destinataire, en revanche, ne sera pas confront√© au fait qu'un message r√©cemment arriv√© a soudainement disparu ou chang√© par magie si vous √™tes d√©c√©d√© subitement.  Les donn√©es <em>doivent √™tre</em> copi√©es lors de l'envoi de messages.  Ces deux principes garantissent qu'une d√©faillance pendant la communication ne conduit pas √† un √©tat d√©form√© ou irr√©parable [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©tat</a> - env.</em>  <em>traducteur</em> ].  Erlang impl√©mente les deux. </p><br><p>  Chaque processus a sa propre bo√Æte aux lettres pour tous les messages entrants.  Tout le monde peut √©crire dans la bo√Æte aux lettres de processus, mais seul le propri√©taire de la bo√Æte a la possibilit√© de l'examiner.  Par d√©faut, les messages sont trait√©s dans l'ordre o√π ils sont re√ßus, mais certaines fonctionnalit√©s telles que la correspondance de <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mod√®le</a></em> [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">correspondance de mod√®le</a> - env.</em>  <em>traducteur</em> ] vous permet de modifier les priorit√©s et de vous concentrer constamment ou temporairement sur n'importe quel type de message. </p><br><p><img src="https://habrastorage.org/webt/0j/-s/yg/0j-sygp8b52b9w6r7gjfwkmikqa.png" alt="007"></p><br><p>  Certains d'entre vous remarqueront l'√©tranget√© de ce que je dis.  Je continue de r√©p√©ter que l'isolement et l'ind√©pendance sont si merveilleux que les composants du syst√®me peuvent mourir et tomber sans affecter le reste.  Mais j'ai √©galement mentionn√© la communication entre de nombreux processus ou agents. </p><br><p>  Chaque fois au d√©but du dialogue de deux processus, une d√©pendance implicite entre eux appara√Æt.  Un √©tat implicite appara√Æt dans le syst√®me qui les relie tous les deux.  Si le processus A envoie un message au processus B et que B meurt sans r√©pondre, A peut soit attendre une r√©ponse ind√©finiment, soit refuser de communiquer apr√®s un certain temps.  La seconde est une strat√©gie acceptable, mais elle est tr√®s ambigu√´: il est totalement difficile de savoir si le c√¥t√© distant est mort ou a √©t√© occup√© pendant si longtemps, et les messages sans contexte peuvent atterrir dans votre bo√Æte aux lettres. </p><br><p>  En retour, Erlang nous donne deux m√©canismes pour r√©soudre ce probl√®me: les moniteurs et la liaison [ <em>liens - env.</em>  <em>traducteur</em> ]. </p><br><p>  Les moniteurs, c'est √™tre un observateur.  Vous d√©cidez de garder un ≈ìil sur le processus, et s'il meurt pour une raison quelconque, un message vous informera de ce qui s'est pass√© dans votre bo√Æte de r√©ception.  Vous pouvez y r√©pondre et prendre des d√©cisions en fonction des informations trouv√©es.  Le deuxi√®me processus ne saura jamais que vous avez fait tout cela.  Par cons√©quent, les moniteurs sont assez bons si vous √™tes un <em>observateur.</em>  <em>traducteur</em> ] ou prendre soin du statut du partenaire. </p><br><p>  Liens [ <em>liens - env.</em>  <em>traducteur</em> ] - bidirectionnel, et la cr√©ation de l'un combine le sort des deux processus connexes.  Lorsqu'un processus meurt, tous les processus qui lui sont associ√©s re√ßoivent une commande de fin [ <em>signal de sortie - env.</em>  <em>traducteur</em> ].  Cette √©quipe, √† son tour, tue les autres [ <em>li√©s - env.</em>  <em>traducteur</em> ] processus. </p><br><p>  Tout cela devient vraiment int√©ressant, car vous pouvez utiliser des moniteurs pour d√©tecter rapidement les pannes, et vous pouvez utiliser la liaison comme une conception architecturale qui vous permet de combiner plusieurs processus afin que la panne se propage √† eux dans leur ensemble.  Chaque fois que mes blocs de construction ind√©pendants deviennent d√©pendants les uns des autres, je peux commencer √† ajouter cela au programme.  Ceci est utile car il emp√™che le syst√®me de tomber accidentellement dans des √©tats instables et partiellement modifi√©s.  Les connexions garantissent aux d√©veloppeurs: si quelque chose s'est cass√©, alors il s'est compl√®tement cass√©, laissant derri√®re lui une feuille vierge, et en aucun cas affect√© les composants qui n'ont pas particip√© √† l'exercice. </p><br><p>  Pour cette illustration, j'ai choisi l'image de grimpeurs attach√©s avec une corde de s√©curit√©.  Si les grimpeurs ne sont connect√©s que les uns aux autres, ils se retrouveront dans une position mis√©rable.  Chaque fois qu'un seul grimpeur glisse, le reste de l'√©quipe meurt imm√©diatement.  Pas un bon moyen de faire des affaires. </p><br><p>  Au lieu de cela, Erlang vous permet de sp√©cifier que certains processus sont sp√©ciaux et de les marquer avec le param√®tre <code>trap_exit</code> .  Ils pourront ensuite recevoir des commandes de sortie envoy√©es via les communications et les convertir en messages.  Cela leur permettra de d√©panner et √©ventuellement de t√©l√©charger un nouveau processus pour achever le travail du d√©funt.  Contrairement aux grimpeurs, un processus sp√©cial de ce type ne peut pas emp√™cher le processus de partenariat de tomber;  c'est d√©j√† la responsabilit√© du partenaire lui-m√™me, impl√©ment√©e, par exemple, en utilisant <code>try ... catch</code> constructions <code>try ... catch</code> .  Le processus, qui capte les sorties, n'a toujours pas la possibilit√© de jouer dans la m√©moire d'un autre et de le sauver, mais peut √©viter la mort commune. </p><br><p>  Cela devient une opportunit√© cruciale pour cr√©er des superviseurs.  Nous y parviendrons tr√®s bient√¥t. </p><br><p><img src="https://habrastorage.org/webt/uj/3c/wc/uj3cwcosbz6bxmjiz23lijkkepe.png" alt="008"></p><br><p>  Avant de passer aux superviseurs, examinons les quelques ingr√©dients restants qui nous permettront de pr√©parer avec succ√®s un syst√®me qui utilise des gouttes pour notre propre b√©n√©fice.  L'un d'eux est li√© au fonctionnement du planificateur de processus.  Le vrai cas auquel je voudrais faire r√©f√©rence est l'atterrissage sur la lune d'Apollo 11 [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apollo 11</a> - env.</em>  <em>traducteur</em> ]. </p><br><p>  Apollo 11 est une mission qui est all√©e sur la lune en 1969.  Dans l'image, nous voyons le module lunaire avec Buzz Aldrin et Neil Armstrong √† bord, et la photo a √©t√© prise, je crois, par Michael Collins, qui est rest√© dans le module de commande. </p><br><p>  Sur le chemin de l'atterrissage sur la lune, le module √©tait contr√¥l√© par Apollo PGNCS (syst√®me de guidage, de navigation et de contr√¥le principal) [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Apollo PGNCS</a> - env.</em>  <em>traducteur</em> ].  Le syst√®me de contr√¥le a effectu√© plusieurs t√¢ches avec un nombre de cycles soigneusement calcul√© [ <em>CPU - env.</em>  <em>traducteur</em> ] chacun.  La NASA a √©galement constat√© que le processeur ne devrait pas √™tre utilis√© √† plus de 85% de sa capacit√©, avec 15% gratuits en stock. </p><br><p>  Comme les astronautes voulaient avoir un plan de sauvegarde fiable au cas o√π ils devaient interrompre la mission, ils ont laiss√© le radar de la r√©union avec le module de commande et de service allum√© - cela serait utile.  Cela a d√©cemment charg√© la puissance CPU restante.  D√®s que Buzz Aldrin a commenc√© √† entrer des commandes, des messages ont commenc√© √† appara√Ætre sur la surcharge et, en fait, sur le d√©passement de la puissance de calcul disponible.  Si le syst√®me s'√©tait √©loign√© de cela, alors il n'aurait probablement pas pu faire son travail, et tout se serait termin√© avec deux astronautes morts. </p><br><p>  Tout d'abord, la surcharge s'est produite parce que le radar avait un probl√®me mat√©riel connu, entra√Ænant une inad√©quation de sa fr√©quence avec la fr√©quence de l'ordinateur de contr√¥le, ce qui a entra√Æn√© un "vol" d'un nombre de cycles beaucoup plus important que celui qui serait utilis√© autrement.  Les gens de la NASA n'√©taient pas des idiots, et au lieu d'utiliser de nouvelles technologies qui n'ont pas √©t√© test√©es dans la vie r√©elle pour une mission aussi importante, ils ont r√©utilis√© des composants √©prouv√©s, dont ils connaissaient de rares erreurs.  Mais, plus important encore, ils ont propos√© une planification prioritaire. </p><br><p>  Cela signifie que lorsque ce radar, ou peut-√™tre les commandes entr√©es, mettent trop de charge sur le processeur, leurs t√¢ches ont √©t√© tu√©es pour donner des cycles CPU aux choses vitales qui ont une priorit√© plus √©lev√©e et qui en ont vraiment besoin.  C'√©tait en 1969. Aujourd'hui, il y a beaucoup plus de langages et de cadres qui n'offrent <em>que la</em> r√©partition coop√©rative et rien de plus. </p><br><p>  Erlang n'est pas un langage qui devrait √™tre utilis√© pour les syst√®mes vitaux, il ne prend en compte que les <em>contraintes</em> douces en temps r√©el <em>- env.</em>  <em>traducteur</em> ], et pas des restrictions strictes en temps r√©el, et donc l'utiliser pour de tels sc√©narios ne serait pas une bonne id√©e.  Mais Erlang fournit une planification proactive [ <em>elle est une planification pr√©emptive, env.</em>  <em>traducteur</em> ] et priorisation des processus.  Cela signifie que vous, en tant que d√©veloppeur ou architecte syst√®me, <em>n'avez pas √† vous assurer</em> que, pour √©viter les gels, tout le monde calcule soigneusement la charge CPU requise pour ses composants (y compris les biblioth√®ques utilis√©es).  Ils ne peuvent tout simplement pas obtenir un tel pouvoir.  Et si vous souhaitez effectuer une t√¢che importante chaque fois que vous en avez besoin, vous pouvez √©galement la fournir. </p><br><p>  Cela ne ressemble pas √† une demande s√©rieuse ou fr√©quente, et les gens lancent toujours des projets vraiment r√©ussis bas√©s uniquement sur la planification coop√©rative de processus parall√®les, mais cela est certainement extr√™mement pr√©cieux, car cela vous prot√®ge des erreurs des autres, ainsi que des v√¥tres.  Cela ouvre √©galement la porte √† des m√©canismes tels que l'√©quilibrage automatique de la charge, ¬´punir les mauvais¬ª ou ¬´encourager les bons¬ª processus, ou attribuer des priorit√©s plus √©lev√©es aux processus avec plus de t√¢ches.  Tout cela rend finalement vos syst√®mes suffisamment adaptables aux charges et aux √©v√©nements impr√©vus. </p><br><p><img src="https://habrastorage.org/webt/wq/mb/_1/wqmb_164shnjhmu6a6ntxvgvxrq.png" alt="009"></p><br><p>  Le dernier √©l√©ment que j'aimerais aborder dans le cadre de la garantie d'une r√©silience d√©cente est la capacit√© de travailler sur le r√©seau.  Dans tout syst√®me d√©velopp√© dans l'optique d'une activit√© √† long terme, la capacit√© de fonctionner sur plusieurs ordinateurs devient rapidement une exigence obligatoire.  Vous ne voulez pas vous asseoir quelque part enferm√© derri√®re des portes en titane avec votre voiture dor√©e, ne pouvant pas compenser les d√©faillances qui affectent principalement vos utilisateurs. </p><br><p>  T√¥t ou tard, vous aurez besoin de deux ordinateurs, de sorte que l'un survit √† l'√©chec du second, et √©ventuellement du troisi√®me, si vous souhaitez d√©ployer une partie de votre syst√®me lors de pannes. </p><br><p>  L'avion dans l'illustration - F-82 Twin Mustang [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">F-82 Twin Mustang</a> - env.</em>  <em>traducteur</em> ], un avion con√ßu pendant la Seconde Guerre mondiale pour escorter des bombardiers sur des distances que la plupart des autres combattants ne pouvaient tout simplement pas couvrir.  Il avait deux cabines, afin que les pilotes puissent contr√¥ler l'appareil par √©quipes;  au bon moment, il a √©t√© possible de r√©partir les responsabilit√©s afin qu'un pilote puisse piloter l'avion, et le second - les radars de contr√¥le dans le r√¥le d'intercepteur.  Les avions modernes ont toujours des capacit√©s similaires;  ils ont d'innombrables syst√®mes en double, et souvent les membres d'√©quipage dorment pendant le vol, de sorte qu'il y a toujours quelqu'un pr√™t, si n√©cessaire, √† prendre imm√©diatement le contr√¥le de l'avion. </p><br><p>  Quant aux langages de programmation ou aux environnements de d√©veloppement, la plupart d'entre eux sont con√ßus sans possibilit√© de travail distribu√©, bien qu'il soit clair que lors du d√©veloppement d'une pile de serveurs, vous devrez travailler avec plus d'un serveur.  N√©anmoins, si vous allez travailler avec des fichiers, il existe des outils pour cela dans la biblioth√®que standard.  Le maximum que la plupart des langues peuvent vous donner est le support de socket ou un client HTTP. </p><br><p>  Erlang rend hommage √† la r√©alit√© des syst√®mes distribu√©s et propose une impl√©mentation pour leur cr√©ation, document√©e et transparente.                  ,    ,          - [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pylyglot systems</a> ‚Äî . </em> ]. </p><br><p><img src="https://habrastorage.org/webt/g4/b_/lt/g4b_ltjffiuar1fb9oa7293wrzs.png" alt="010"></p><br><p>      " ".           -  ,        .  "Let it crash"  ,            ,    . </p><br><p>    ‚Äî  . </p><br><p><img src="https://habrastorage.org/webt/vb/ll/pc/vbllpcqbmwnw_eiwgrq0jqe-qxa.png" alt="011"></p><br><p>   [ <em>supervision trees ‚Äî . </em> ] ‚Äî ,          .      ‚Äî , ‚Äî    ‚Äî ,       . ,  ‚Äî     "OTP",   ,    "Erlang/OTP" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OTP ‚Äî Open Telecom Platform</a> ‚Äî . </em> ]. </p><br><p>    ‚Äî  ,    ,     ,     ,  , ""      . ,      :     ,   ,    . </p><br><p>  ,       ,             ,  ,      ‚Äî . </p><br><p><img src="https://habrastorage.org/webt/-2/8n/nu/-28nnug_td8pihsjz_c1wntgp-g.png" alt="012"></p><br><p>           .          " ,  ".   ,                .        . </p><br><p>         .      "  " [ <em>one for one</em> ‚Äî . *].         .   ,         . </p><br><p>   ‚Äî "  " [ <em>one for all</em> ‚Äî . *].    ,       .     ,   ,      .   ,         .       ,   .  ,    ,     .        ,        ,  ! </p><br><p>     ,    ,  ,       . ,            .      :     ,       . </p><br><p>     ,      .   ‚Äî "  " [ <em>rest for one</em> ‚Äî . ].   ,     ,     .         . </p><br><p>        [ <em>,   ‚Äî       ‚Äî . </em> ]       .          1    ,        150   . </p><br><p><img src="https://habrastorage.org/webt/xs/ha/eb/xshaebmyrs9yt4t3liampbkbvac.png" alt="013"></p><br><p> ,       ,     "     ,    !" </p><br><p>   . ,    ,    ,     .          "" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ‚Äî . </em> ]  "" [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ‚Äî . </em> ],  Jim Gray  1985  (         Jim Gray,    !) </p><br><p> -,  ‚Äî  ,  ,    .     .        ,     ,          . ,    ,   ,  ,      . </p><br><p>  ‚Äî    ,     , ,   . ,        ,  .     ,   ,   . </p><br><p>  ,  ,      . </p><br><p><img src="https://habrastorage.org/webt/zp/m6/q5/zpm6q50xldkaa60z7ag8grcdzbw.png" alt="014"></p><br><p>       ,   ‚Äî  . </p><br><p>        ,            .         ,     ,    . </p><br><p>   ,     ‚Äî , , .  ,        ‚Äî      ;            .      ,       ,          . ,  ,    ,          . </p><br><p>   ,     ,           . </p><br><p>        .     ,  ,        [ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Property-Based Testing Basics</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Property-based testing</a> ‚Äî . </em> ]          (    ),    ‚Äî      -   ,       .              ,   ,      ,      . </p><br><p><img src="https://habrastorage.org/webt/_k/ut/dr/_kutdrcefbrinhvonznzo2_2tmq.png" alt="015"></p><br><p>                 (    ).                ,     ,    . </p><br><p>  ,             .   , ,  ,   ,        .          -     -. </p><br><p>          .   ,     ,      ,           ,   ,    ,            . </p><br><p>   ,      . Jim Gray,   , ,   132 ,     ,    .   131  132 ,   ,  .   ,      ,         ,         ,    ; ,      ,       ,  100 000   ,         ‚Äî        10 ,       - . </p><br><p>    ,    ,     . </p><br><p><img src="https://habrastorage.org/webt/fr/1k/bn/fr1kbnfbawhfneguwon5zwutoou.png" alt="016"></p><br><p>          ? </p><br><p> ,         .            .         ,    .      ,     ,      . ,    ""  Facebook   (    ),         ,     ,      Facebook      . </p><br><p>       ,  ,  ,    ,     .     ,               ,      . </p><br><p>                ,  .  : ,     ,     ,   ,       . </p><br><p>     ,       (     ),  ,     .    ,          . </p><br><p><img src="https://habrastorage.org/webt/sb/rn/fr/sbrnfrx7w9znbafp-_vwxwdx9wo.png" alt="017"></p><br><p>       ,       ,     .    ,     ,    ,      . </p><br><p>         ,    ,      . </p><br><p><img src="https://habrastorage.org/webt/sq/zy/ou/sqzyoupn8oasjejgpc6af_k_m4u.png" alt="018"></p><br><p>    ()      .         ,   :        .  Tally ()      ,   Live Reports (   )       . </p><br><p>                ,         .  District (;       )    ,      (Storage).    (Cache)         (     ) (Worker pool). </p><br><p>   [ <em>supervision strategies ‚Äî . </em> ],     ,         ,        ,      . ,      "  ", ,       ,      .      (   )    "  ".   ,    (OCR)        ,    ,    .   ,            ,     , ,    . </p><br><p>   OCR     ,   C   ,     .     ,     C,   ,    ,     . </p><br><p>   ,   ,   ,        .         10   ,                   ,   ,    . </p><br><p>      ,   ,     .      ,       .             ‚Äî          ,     . </p><br><p>  ,                 ,  ,             .   OCR  C ,       .         OCR  .     .     , ,   ( ).   ,      ,   ‚Äî    ,             . </p><br><p>   OCR ,  .     ,    ,       ‚Äî      .     ‚Äî .  ,      ,    ,       ,  -   ,      . </p><br><p>      ,        .  ,           ‚Äî  -   ,  -  (  ) ,  .   ,     ‚Äî ,       .    ‚Äî let it crash! </p><br><p>     .   ,        <code>if/else</code> ,  <code>switch</code> ',  <code>try/catch</code> .       , ,   ,    .       [ <em> ,  <strong></strong>    ‚Äî . </em> ],      . </p><br><p><img src="https://habrastorage.org/webt/dc/2q/zw/dc2qzwpr9u4m11jtss-7uvyxllg.png" alt="019"></p><br><p>          ,  ,    ,  ,           .      : ,        . </p><br><p>   ,    , ,          .                 (,  SMS). </p><br><p>        ,     ,   ,   ,       ,    . </p><br><p><img src="https://habrastorage.org/webt/rm/r4/2_/rmr42_x2zifjqnrex1dn2l1ma8i.png" alt="020"></p><br><p>        OTP. OTP- ‚Äî         ,   .           ,    ,       .  ,           ,    ,        .    ,     ,        ,   . </p><br><p> ,     OTP-  .        OTP-,       . [:    OTP-,        ,      ] </p><br><p>          : </p><br><ul><li>     ,   ; </li><li>      ,    ,        ,       ; </li><li>         ,   ; </li><li>      , ,      ,         ,   ; </li><li>    (     ,    ); </li><li>        . </li></ul><br><p>    .    ,            .     ,     ,   . ,    ‚Äî                ,  ,     . </p><br><p><img src="https://habrastorage.org/webt/pf/wf/ee/pfwfeeba4shco1wd7erg6fxkokg.png" alt="021"></p><br><p>         , ? , .    ,        Heroku   . </p><br><p>        .        (vegur)   , ,   ,    .     ,   ,     . </p><br><p>  -             ,     .     ,     :   500 000  1 000 000   !  ,  .   ?     ,    , , 100 000   ,   ? -  1:17000  1:7000.  ,           ,    ,    . </p><br><p>      ,    .  ,     ,  ,     .    ,        .   ,       ,       . </p><br><p><img src="https://habrastorage.org/webt/mk/zu/kv/mkzukv7enss2gsmcbq-dapizipk.png" alt="022"></p><br><p>             .            . </p><br><p>       ,         - : " ,   . ,  ,        ,     .     ,    ,    .        ,      ." </p><br><p>    .        . </p><br><p>     , ,      ,         60 .  ( United 734), ,  ,  ,   - .     ,    , ,   ,     ABS,   . </p><br><p>         (    ),        .     ,        .   ,    ,        . </p><br><p><img src="https://habrastorage.org/webt/ju/dm/ye/judmyeov9th5dngaa7_w12nqmgu.png" alt="023"></p><br><p> ,          .     (  ,   )  Richard Cook.      ,        YouTube,   . </p><br><p>       -             .    , , ,   .. ‚Äî             ( , ,    ..)  ,     ,   -  ,      . </p><br><p>      ,              ,        ,     .             ,        ,  -    -      . </p><br><p>         ,   ,      ,     .     ,  .     ,     . -  - ,    ,      ,     . </p><br><p><img src="https://habrastorage.org/webt/tq/34/2a/tq342a0ezu1my6wdctwcg_lhk4u.png" alt="024"></p><br><p>    ,        .   ,     ,   :      ,        .         .  ,       ,     ,    . </p><br><p>       ,     ,   ,    .    . </p><br><p><img src="https://habrastorage.org/webt/kg/t7/yt/kgt7ytnzlm7-jbexvv0jbiawbbg.png" alt="025"></p><br><p>    ,   ,  .         ,      ,     ,    . </p><br><p>     .     ,          ,   ,       -  , ,   ,     ,       ,          .     ,         . </p><br><p><img src="https://habrastorage.org/webt/a3/a2/f-/a3a2f-bkl6jpw-yuxyivilqnofy.png" alt="026"></p><br><p>  ,    'let it crash' ‚Äî    ,  ,      ,  ,  ,   ‚Äî ,    , ,    .            .   fail-fast  , ,           " ",         . </p><br><p>   ,     .   ,         ,       .        .  ,    ,      . Let it crash. </p><br><p><img src="https://habrastorage.org/webt/o7/js/ny/o7jsnyakbed6lj1fqusqojaqcfg.png" alt="027"></p><br><p>     :   ,   ,   ,    ‚Äî   .         ,      (   ,      !)      . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443290/">https://habr.com/ru/post/fr443290/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443280/index.html">L'histoire de la fa√ßon dont j'ai assembl√© un home cin√©ma de 120 pouces √† partir de tuyaux, de cordes, d'un √©cran pliant et de velours noir</a></li>
<li><a href="../fr443282/index.html">Que devons-nous construire une blockchain?</a></li>
<li><a href="../fr443284/index.html">Index dans PostgreSQL - 4 (Btree)</a></li>
<li><a href="../fr443286/index.html">TDMS Fairway. M√©canisme de remplissage automatique pour les principales inscriptions sur les dessins et les d√©tails des documents</a></li>
<li><a href="../fr443288/index.html">Navigation dans les projets multi-modules</a></li>
<li><a href="../fr443292/index.html">Nous √©tudions le principe de fonctionnement des unit√©s em √† l'aide de l'exemple de la t√¢che ¬´Agencement d'un pr√©chargeur flexible¬ª</a></li>
<li><a href="../fr443294/index.html">Qu'est-ce qui est autoris√© par Jupyter?</a></li>
<li><a href="../fr443298/index.html">Recharge sans fil. Comment √ßa marche en pratique</a></li>
<li><a href="../fr443300/index.html">Comment se d√©roule le d√©veloppement chez United Traders</a></li>
<li><a href="../fr443302/index.html">Comment Apple se pr√©pare pour une √®re apr√®s l'iPhone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>