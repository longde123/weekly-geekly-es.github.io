<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗻 🕎 ◀️ Kami mencari kerusakan di mobil oleh suara: kami meminta sedikit pembelajaran mesin untuk menemukan anomali di mesin 💹 👨🏿‍🔧 🐊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di sekolah, saya punya teman sekelas yang bisa mendengarkan bagaimana mobil itu bekerja di halaman, dan dengan wajah serius membuat keputusan: semuany...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mencari kerusakan di mobil oleh suara: kami meminta sedikit pembelajaran mesin untuk menemukan anomali di mesin</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460467/"><p>  Di sekolah, saya punya teman sekelas yang bisa mendengarkan bagaimana mobil itu bekerja di halaman, dan dengan wajah serius membuat keputusan: semuanya beres, atau ada yang rusak, dan saya sangat perlu berlari untuk mencari suku cadang baru / oli / alat!  Saya, seperti teko mutlak dalam bisnis otomotif, selalu mendengar deringan dvenashka berikutnya, tidak memperhatikan adanya perbedaan dan hanya diam-diam mengagumi pendengaran dan keterampilannya. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/rg/mw/tergmw8wjcwkvmcv5cuog4arfms.png"></div><br><p> Sekarang saya tidak lebih memahami bagian dalam mobil, tetapi saya mulai bekerja dengan memproses sinyal suara dan pembelajaran mesin, dan di sini kita akan mencoba memahami apakah mungkin untuk mengajar komputer untuk menangkap ketidaknormalan dalam suara mesin? </p><br><p>  Minimal, itu hanya menarik untuk diperiksa, dan di masa depan, teknologi seperti itu bisa menghemat banyak uang bagi pemilik mobil.  Setidaknya menurut saya, kegagalan kritis terjadi secara bertahap di bawah tenda, dan pada tahap awal, banyak dari mereka dapat didengar, dengan cepat dan murah diperbaiki, menghemat waktu, uang, dan saraf yang sudah goyah. </p><br><p>  Yah, mungkin sudah waktunya untuk beralih dari kata-kata ke perbuatan.  Ayo pergi! </p><a name="habracut"></a><br><p>  Saya ingin segera mengatakan bahwa dalam segala hal yang berkaitan dengan matematika dan algoritma, saya akan lebih menekankan pada makna dan pemahaman, tidak akan ada rumus dan perhitungan matematika di sini.  Saya belum mengembangkan algoritma baru di sini, untuk rumus, jika Anda mau, lebih baik untuk google dan Wikipedia, serta menggunakan tautan yang akan saya tinggalkan di seluruh artikel. </p><br><p>  Saya akan memberikan semua penjelasan tentang contoh suara mesin rusak yang diambil dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video</a> ini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di YouTube</a> . </p><br><p>  File yang diunduh dari YouTube (Anda dapat mengunduhnya menggunakan ekstensi browser atau hanya dengan mengubah tautan youtube ke ssyoutube) kami konversi ke format wav menggunakan ffmpeg: </p><br><pre><code class="plaintext hljs">ffmpeg -i input_video.mp4 -c:a pcm_s16le -ar 16000 -ac 1 engine_sound.wav</code> </pre> <br><p>  Sebelum mulai memproses file ini, saya akan mengatakan beberapa kata tentang apa itu spektogram dan bagaimana hal itu berguna bagi kami dalam menyelesaikan masalah ini.  Banyak dari Anda, pasti, telah melihat gambar yang sama - ini adalah representasi amplitudo-temporal suara atau osilogram. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jg/7i/he/jg7ihe-rdu0xfe64fncvtkkutp4.png"></div><br><p>  Jika secara sederhana, maka suara adalah gelombang, dan nilai amplitudo gelombang ini diamati pada osilogram pada waktu tertentu. </p><br><p>  Untuk mendapatkan spektogram dari representasi semacam itu, kita membutuhkan transformasi Fourier.  Dengan bantuannya, Anda bisa mendapatkan representasi frekuensi amplitudo suara atau spektrum amplitudo.  Spektrum seperti itu menunjukkan frekuensi apa dan dengan amplitudo apa sinyal yang diteliti diekspresikan. </p><br><p>  Faktanya, spektrogram adalah seperangkat spektrum potongan sinyal pendek berurutan.  Mungkin "definisi" seperti itu akan cukup bagi kita untuk tidak terlalu terganggu oleh tugas.  Semuanya akan menjadi lebih jelas jika Anda melihat visualisasi spektrogram (gambar diperoleh menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WaveAssistant</a> ).  Waktu diplot pada sumbu X, frekuensi pada sumbu Y, yaitu, setiap kolom dalam matriks ini adalah modulus spektrum pada titik waktu tertentu. </p><br><p><img src="https://habrastorage.org/webt/bd/tn/9k/bdtn9kffs19iv8ikvnyn0cg9bb0.png" alt="fragmen awal dari spektrogram sinyal"></p><br><p>  Spektrogram ini menunjukkan bahwa suara mesin tanpa ketukan "terlihat" hampir sama, dan diekspresikan pada frekuensi di sekitar 600, 1200, 2400 dan 4800 Hz.  Suara ketukan yang mengganggu pemilik sangat berbeda dalam rentang frekuensi 600-1200 Hz dari 5 hingga 8 detik.  Karena rekaman dibuat dalam kondisi yang agak bising di jalan, suara-suara ini juga hadir di spektrogram, yang agak menyulitkan tugas kami. </p><br><p>  Namun demikian, melihat spektogram semacam itu, kita dapat dengan yakin mengatakan di mana ketukan itu dan di mana tidak.  Komputer tidak memiliki mata, oleh karena itu, kita perlu memilih algoritma yang akan dapat membedakan antara penyimpangan tersebut (dan lebih disukai tidak hanya itu), tergantung pada adanya suara dalam rekaman. </p><br><p>  Spektrogram dapat dihitung menggunakan perpustakaan librosa sebagai berikut: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> librosa.util <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> buf_to_float <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> librosa.core <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> stft <span class="hljs-comment"><span class="hljs-comment">#     import numpy as np from scipy.io import wavfile #    wav- def cut_wav(path_to_wav, start_time, end_time): sr, wav_data = wavfile.read(path_to_wav) return wav_data[int(sr * start_time): int(sr * end_time)] def get_stft(wav_data): feat = np.abs(stft(buf_to_float(wav_data), n_fft=fft_size, hop_length=fft_step)) #  -       return feat.T wav_path = './engine_sound.wav' train_features = [] #    , time_list -    for [ts, te] in time_list: wav_part = cut_wav(wav_path, ts, te) spec = get_stft(wav_part) train_features.append(spec) X_train = np.vstack(train_features) #     full_wav_data = wavfile.read(wav_path)[1] X_test = get_stft(full_wav_data)</span></span></code> </pre> <br><h1 id="reshenie">  Solusi </h1><br><p>  Sebenarnya, kita perlu memecahkan masalah klasifikasi biner, di mana kita perlu menentukan apakah mesin rusak atau beroperasi secara normal.  Kolega saya dan saya telah menggambarkan tugas serupa di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel</a> kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebelumnya</a> , di mana kami menggunakan jaringan saraf convolutional untuk mengklasifikasikan acara akustik.  Di sini, solusi seperti itu hampir tidak mungkin: neuron sangat suka ketika mereka diberikan dataset besar.  Kami berhadapan dengan satu indentasi yang berlangsung lebih dari satu menit, yang jelas tidak bisa disebut dataset besar. </p><br><p>  Pilihan dihentikan pada Gaussian Mixture Model (model campuran Gaussian).  Artikel bagus yang merinci prinsip operasi dan pelatihan model ini dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini.</a> Gagasan umum model ini adalah untuk menggambarkan data menggunakan distribusi kompleks dalam bentuk kombinasi linear dari beberapa distribusi normal multidimensi (lebih lanjut tentang distribusi normal multidimensi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ). </p><br><p>  Karena mesin selama operasinya terdengar kira-kira "sama", suara operasinya dapat dianggap diam, dan ide untuk menggambarkan suara ini menggunakan distribusi semacam itu tampaknya cukup bermakna.  Untuk memahami esensi GMM, saya sangat merekomendasikan melihat contoh pelatihan dan memilih jumlah gaussoid di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </p><br><p>  Kasus kami berbeda dari contoh di atas bahwa alih-alih titik pada bidang dua dimensi, nilai spektrum yang diambil dari spektogram sinyal akan digunakan.  Anda dapat memilih parameter distribusi, seperti jenis matriks kovarians menggunakan kriteria BIC ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">contoh</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">deskripsi</a> ), namun, dalam kasus saya, parameter optimal dari sudut pandang kriteria ini menunjukkan diri mereka lebih buruk daripada yang ditunjukkan dalam kode di bawah ini: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.mixture <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GaussianMixture n_components = <span class="hljs-number"><span class="hljs-number">3</span></span> gmm_clf = GaussianMixture(n_components) gmm_clf.fit(X_train)</code> </pre> <br><p>  Dengan asumsi bahwa suara operasi normal dijelaskan oleh distribusi, parameter yang dipilih selama proses pelatihan, dimungkinkan untuk mengukur seberapa dekat suara apa pun dengan distribusi ini. </p><br><p>  Untuk melakukan ini, Anda dapat menghitung kemungkinan rata-rata kolom-kolom dari spektogram sinyal yang diteliti, dan kemudian memilih ambang yang akan memisahkan kemungkinan suara-suara dari pekerjaan yang baik dari yang lainnya.  Kredibilitas untuk setiap detik adalah sebagai berikut: </p><br><pre> <code class="python hljs">n_seconds = len(full_wav_data) // sr gmm_scores = [] <span class="hljs-comment"><span class="hljs-comment">#     for i in range(n_seconds - 1): test_sec = X_test[(i * sr) // fft_step: ((i + 1) * sr) // fft_step, :] sc = gmm_clf.score(test_sec) gmm_scores.append(sc)</span></span></code> </pre> <br><p>  Jika Anda menampilkan kemungkinan yang diperoleh pada grafik, kami mendapatkan gambar berikut. <br>  Bagian atas menunjukkan spektrogram dari sinyal yang ditampilkan menggunakan perpustakaan matplotlib.  Perubahan yang disebabkan oleh ketukan tidak terlihat sama seperti pada contoh di atas (itulah sebabnya Anda melihat 2 gambar di sini).  Meskipun demikian, jika Anda melihat lebih dekat, mereka masih bisa dilihat.  Garis vertikal menandai waktu mulai dan berakhirnya ketukan. </p><br><p><img src="https://habrastorage.org/webt/yj/rw/gp/yjrwgpubihtsds-vxin8ilfbqp0.png"></p><br><h1 id="vyvody">  Kesimpulan </h1><br><p>  Seperti yang dapat Anda lihat dari grafik, pada saat bunyi ketukan, kemungkinannya benar-benar turun di bawah ambang batas, yang berarti kita dapat memisahkan dua kelas ini (bekerja dengan dan tanpa mengetuk).  Tetapi saya harus mengatakan bahwa nilai ini cukup dekat dengan ambang pintu dan di area di mana ketukan tidak terdengar.  Ini karena noise asing sering ditemukan dalam rekaman, yang juga memengaruhi kemungkinan. </p><br><p>  Kami menambahkan pelatihan di sini hanya dalam beberapa detik suara, kondisi perekaman buruk, dan Anda sudah dapat terkejut sama sekali bahwa percobaan itu entah bagaimana berhasil! </p><br><p>  Kemungkinan besar, untuk menerapkan metode ini dan memastikan keandalannya, Anda harus merekam lebih banyak suara, dan juga menempatkan mikrofon dengan baik untuk meminimalkan kebisingan dari memasuki rekaman. </p><br><p>  Artikel ini hanyalah upaya untuk memecahkan masalah yang sama, tidak mengklaim kebenaran mutlak, jika Anda memiliki ide dan saran, atau mungkin pertanyaan, mari kita bahas bersama-sama dalam komentar atau secara langsung. </p><br><p>  Kode github lengkap ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di sini</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460467/">https://habr.com/ru/post/id460467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460457/index.html">Pembangkit listrik tenaga surya DIY 200 m2</a></li>
<li><a href="../id460459/index.html">File konfigurasi htaccess</a></li>
<li><a href="../id460461/index.html">Simulasi serangan yang ditargetkan sebagai penilaian keamanan. Instruksi Cyber ​​Teaming Merah</a></li>
<li><a href="../id460463/index.html">Apa yang terjadi dengan GALILEO - Versi Programmer GNSS</a></li>
<li><a href="../id460465/index.html">Digital Shadows - Kompeten Membantu Mengurangi Risiko Digital</a></li>
<li><a href="../id460469/index.html">Dasar-dasar proxy transparan menggunakan 3proxy dan iptables / netfilter atau bagaimana "membiarkan semuanya melalui proxy"</a></li>
<li><a href="../id460471/index.html">Kesalahan Panel Admin atau Pengalaman Pengembangan Anggrek Laravel</a></li>
<li><a href="../id460473/index.html">Kebisingan putih menarik kotak hitam</a></li>
<li><a href="../id460475/index.html">Remote Control Mobile Lifebuoy</a></li>
<li><a href="../id460479/index.html">Dan boneka teddy bear itu tampak sangat sarat muatan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>