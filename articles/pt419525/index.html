<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø üö¥üèø üóæ Da API primeiro no Swagger ao contrato √∫nico no RAML üë©üèΩ‚Äçüíº ü§πüèæ üë©üèø‚Äçü§ù‚Äçüë©üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°% username%! 

 Voc√™ provavelmente sabe o que s√£o APIs e quanto depende delas em seu projeto. Al√©m disso, tamb√©m acredito que voc√™ j√° est√° familiar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Da API primeiro no Swagger ao contrato √∫nico no RAML</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419525/"><img src="https://habrastorage.org/webt/cj/pv/it/cjpvit3gxuwcyybj7ifn7xzv8gw.png" alt="imagem"><br><br>  Ol√°% username%! <br><br>  Voc√™ provavelmente sabe o que s√£o APIs e quanto depende delas em seu projeto.  Al√©m disso, tamb√©m acredito que voc√™ j√° est√° familiarizado com a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira</a> abordagem da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API</a> e sabe que o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Swagger</a> e sua <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">API aberta</a> s√£o algumas das ferramentas mais populares para ajud√°-lo a seguir. <br><br>  Mas neste artigo, quero falar primeiro sobre a abordagem da implementa√ß√£o da API, conceitualmente diferente da que o Swagger e o Apiary oferecem.  Na cabe√ßa da id√©ia est√° o conceito de <i>contrato √∫nico</i> e a possibilidade de sua implementa√ß√£o com base no RAML 1.0. <br><br>  Sob o corte: <br><br><ul><li>  Uma breve descri√ß√£o dos princ√≠pios da API primeiro; </li><li>  <i>Contrato √∫nico</i> - introdu√ß√£o de um conceito, pr√©-requisitos para a apar√™ncia, considera√ß√£o da possibilidade de sua implementa√ß√£o com base na OEA (Swagger); </li><li>  RAML + anota√ß√µes + sobreposi√ß√µes como base para <i>contrato √∫nico</i> , exemplos; </li><li>  Problemas de RAML, desacordos conceituais dos desenvolvedores; </li><li>  A id√©ia de um servi√ßo SaaS baseado na id√©ia acima (imagem do prot√≥tipo acima). </li></ul><br><br><a name="habracut"></a><br><h2>  Da API primeiro no Swagger ao contrato √∫nico no RAML </h2><br>  Ao projetar sistemas de software modernos, muitas vezes surge a tarefa de coordenar e desenvolver interfaces para a intera√ß√£o de seus componentes.  Na √∫ltima d√©cada, o SPA e aplicativos m√≥veis espessos que interagem com o servidor por meio de APIs ganharam imensa popularidade e desenvolvimento.  Anteriormente, o desenvolvimento de um site interativo era realizado pela edi√ß√£o est√°gio a est√°gio do c√≥digo do servidor para gerar a marca√ß√£o HTML com sua subsequente transfer√™ncia para o navegador do cliente. Agora, o desenvolvimento de aplicativos din√¢micos da Web mudou para a cria√ß√£o de uma API de servi√ßo √∫nico e o desenvolvimento paralelo de muitos aplicativos (incluindo SPA) funcionando. com essa API como a principal fonte de dados.  Essa abordagem permite compartilhar tarefas de forma mais conveniente, organizar equipes especializadas apenas em tecnologias espec√≠ficas (atrair especialistas mais especializados), organizar o desenvolvimento paralelo nos primeiros est√°gios e tamb√©m criar um √∫nico ponto de comunica√ß√£o - uma interface API. <br><br>  Esse ponto √∫nico de comunica√ß√£o requer uma defini√ß√£o formal e inequ√≠voca; este documento √© uma especifica√ß√£o da API.  Atualmente, para desenvolver e documentar as especifica√ß√µes da API, s√£o usadas v√°rias tecnologias e linguagens, por exemplo: OEA (Swagger), Apiary e RAML. <br><br>  Os tr√™s pontos a seguir determinam a natureza da primeira abordagem da API: <br><br><ol><li>  A API deve ser a primeira interface do cliente do aplicativo desenvolvido; </li><li>  Primeiro de tudo, uma especifica√ß√£o de API √© desenvolvida e, em seguida, o software faz parte de seus clientes; </li><li>  Os est√°gios de vida de uma API devem coincidir com os est√°gios de vida de sua documenta√ß√£o. </li></ol><br>  Se considerarmos o processo com base no exposto acima, a especifica√ß√£o da API estar√° no centro do processo de desenvolvimento, e todos os n√≥s que comp√µem o sistema e usam essa API como um gateway de intera√ß√£o s√£o clientes da especifica√ß√£o da API.  Portanto, a parte do servidor do sistema pode ser considerada a mesma API de especifica√ß√£o do cliente, como qualquer outro n√≥ que usa a API para se comunicar com ele.  Os modelos de dom√≠nio do aplicativo n√£o precisam corresponder aos modelos descritos na especifica√ß√£o da API.  Suas poss√≠veis coincid√™ncias intencionais com estruturas de classe no c√≥digo de aplicativo cliente ou com estruturas de esquema de banco de dados s√£o introduzidas para simplificar o processo de desenvolvimento, por exemplo, ao usar um gerador de c√≥digo de acordo com a especifica√ß√£o da OEA.  Logicamente, o acima pode ser resumido sob a defini√ß√£o de <i>contrato √∫nico</i> .  <i>Contrato √∫nico</i> - muitos clientes. <br><br><h3>  Contrato √∫nico.  Ferramentas e bibliotecas de contrato </h3><br><blockquote>  O termo <i>contrato √∫nico</i> n√£o reivindica nenhuma participa√ß√£o em cr√≠ticas por seu uso no texto do artigo.  Sua aplica√ß√£o, nesse contexto, √© pessoalmente minha ideia. </blockquote>  Estender o conceito de <i>API primeiro</i> a um <i>contrato √∫nico</i> mais geral nos permite considerar a especifica√ß√£o da API n√£o apenas como uma descri√ß√£o formal da interface entre os componentes do sistema, mas tamb√©m como um <i>contrato √∫nico</i> usado por qualquer n√∫mero de bibliotecas e ferramentas externas como fonte de configura√ß√£o.  Nesse caso, essas ferramentas e bibliotecas podem ser percebidas como clientes contratados, juntamente com SPA ou aplicativos m√≥veis.  Exemplos de tais clientes incluem: <br><br><ul><li>  Gerador de documenta√ß√£o </li><li>  API do servidor simulado </li><li>  Servi√ßo de teste de estresse </li><li>  Biblioteca de valida√ß√£o de solicita√ß√£o / resposta </li><li>  Gerador de c√≥digo </li><li>  Gerador de UI </li><li>  etc. </li></ul><br>  <i>Contrato √∫nico</i> para esses clientes √© um √∫nico arquivo de configura√ß√£o e fonte de dados.  Os instrumentos contratuais funcionam apenas com base nas informa√ß√µes obtidas de um contrato espec√≠fico.  Obviamente, para a funcionalidade completa de clientes heterog√™neos como o servidor de simula√ß√£o da API, uma descri√ß√£o da API n√£o √© suficiente, s√£o necess√°rias metinforma√ß√µes adicionais, por exemplo, uma descri√ß√£o do relacionamento entre os par√¢metros de solicita√ß√£o GET (ID do recurso) e os dados que o servidor deve retornar, dicas apontando para os campos de resposta e par√¢metros de consulta usados ‚Äã‚Äãpara organizar a pagina√ß√£o.  Al√©m disso, este exemplo ser√° considerado em mais detalhes.  Informa√ß√µes espec√≠ficas para instrumentos espec√≠ficos, ao mesmo tempo, devem existir e ser mantidas inextricavelmente a partir do documento principal; caso contr√°rio, isso violar√° o conceito de um √∫nico contrato. <br><br><h3>  Swagger (OEA) como ferramenta de descri√ß√£o de contrato √∫nico </h3><br>  O Swagger (OEA) e o Api√°rio (Blueprint) mais populares existentes no mercado permitem que voc√™ descreva APIs HTTP usando linguagens especiais: API aberta com base em YAML ou JSON, Blueprint com base em Markdown, o que facilita a leitura das especifica√ß√µes.  Existem tamb√©m muitas ferramentas e bibliotecas criadas pela grande comunidade de c√≥digo aberto.  Atualmente, o Swagger √© amplamente distribu√≠do e, pode-se dizer, tornou-se o padr√£o de fato da API primeiro.  Muitos sistemas externos suportam a importa√ß√£o de especifica√ß√µes Swagger, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SoapUI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Readme.io</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apigee</a> , etc.  Al√©m disso, o SaaS <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Swagger Hub</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apiary existentes</a> permitem que os usu√°rios criem projetos, carreguem ou criem suas pr√≥prias especifica√ß√µes, usem os geradores de documenta√ß√£o e servidores de simula√ß√£o incorporados, bem como publiquem links para acess√°-los de fora. <br><br>  O Swagger, juntamente com o OEA 3.0, parece bastante confiante e sua funcionalidade para descrever a API (especialmente simples) √© suficiente na maioria dos casos.  A seguir, √© apresentada uma lista dos pr√≥s e contras do Swagger: <br><br>  Pr√≥s: <br><br><ul><li>  Linguagem de descri√ß√£o clara e f√°cil de ler; </li><li>  Grande comunidade de c√≥digo aberto; </li><li>  Muitos editores oficiais e de c√≥digo aberto, geradores, bibliotecas; </li><li>  A presen√ßa de uma equipe de desenvolvimento central trabalhando constantemente no desenvolvimento e aprimoramento do formato; </li><li>  Hub Shareware para especifica√ß√µes; </li><li>  Documenta√ß√£o oficial detalhada; </li><li>  Baixo limiar de entrada. </li></ul><br>  Contras: <br><br><ul><li>  Suporte de modularidade fraco; </li><li>  Falta de exemplos gerados automaticamente de respostas a consultas com base na descri√ß√£o de suas estruturas; </li><li>  Muitas vezes, existem problemas com a baixa estabilidade dos produtos SmartBear (autores do swagger) e a rea√ß√£o tardia do desenvolvedor a isso (a opini√£o √© baseada puramente na experi√™ncia pessoal de uso e na experi√™ncia de nossa equipe). </li></ul><br>  Por√©m, a principal limita√ß√£o que n√£o permite o uso da OEA como meio de descrever <i>um contrato √∫nico</i> √© a falta de capacidade de anexar meta-informa√ß√µes personalizadas para descrever par√¢metros adicionais de ferramentas / bibliotecas-alvo. <br>  Portanto, todas as ferramentas que funcionam com base nas especifica√ß√µes do Swagger devem estar satisfeitas com o conjunto de informa√ß√µes que podem acomodar o formato b√°sico. <br><br>  Por exemplo, a implementa√ß√£o de um servidor de API simulada inteligente requer mais informa√ß√µes do que um documento de especifica√ß√£o pode fornecer, e √© por isso que a API simulada integrada do Swagger Hub √© capaz de gerar dados falsos apenas com base em tipos / estruturas de dados obtidos de um documento de especifica√ß√£o.  Sem d√∫vida, isso n√£o √© suficiente e uma funcionalidade de servidor de simula√ß√£o pode ser satisfeita apenas por um simples cliente de API. <br><br>  Em nossa empresa, durante o desenvolvimento de um dos projetos (servidor React SPA + API), foi necess√°ria a seguinte funcionalidade de servidor de simula√ß√£o: <br><br><ul><li>  imita√ß√£o de pagina√ß√£o.  O servidor n√£o deve retornar valores completamente aleat√≥rios dos campos currentPage, nextPage, pagesTotal em resposta a solicita√ß√µes de lista, mas simular o comportamento real do mecanismo de pagina√ß√£o com a gera√ß√£o dos valores dessas metapoles, dependendo do valor da p√°gina recebida do cliente; </li><li>  gerar corpos de resposta contendo v√°rios conjuntos de dados, dependendo do par√¢metro espec√≠fico da solicita√ß√£o recebida; </li><li>  a capacidade de criar relacionamentos reais entre objetos falsos: o campo <i>foo_id</i> da entidade <i>Bar</i> deve se referir √† entidade <i>Foo</i> gerada anteriormente.  Isso pode ser alcan√ßado adicionando suporte √† idempot√™ncia no servidor simulado; </li><li>  imita√ß√£o do trabalho de v√°rios m√©todos de autoriza√ß√£o: OAuth2, JWT etc. </li></ul><br>  Sem tudo isso, √© muito dif√≠cil desenvolver o SPA em paralelo com o desenvolvimento da parte do servidor do sistema.  E, ao mesmo tempo, √© quase imposs√≠vel implementar um servidor t√£o falso, pelo motivo descrito acima, sem meta informa√ß√µes espec√≠ficas adicionais que possam ser armazenadas diretamente na especifica√ß√£o da API e inform√°-lo do comportamento necess√°rio ao simular o pr√≥ximo terminal.  Esse problema pode ser resolvido com a adi√ß√£o dos par√¢metros necess√°rios na forma de um arquivo separado, com configura√ß√µes paralelas √† especifica√ß√£o b√°sica da OEA, mas, nesse caso, voc√™ precisa apoiar essas duas fontes diferentes separadamente. <br><br>  Se houver mais de um servidor simulado com ferramentas trabalhando no ambiente do processo de desenvolvimento de acordo com esse princ√≠pio, obteremos um "zool√≥gico" de ferramentas, cada uma das quais, com sua pr√≥pria funcionalidade exclusiva, √© for√ßada a ter seu pr√≥prio arquivo de configura√ß√£o exclusivo, logicamente vinculado √† API base -especifica√ß√µes, mas na verdade localizadas separadamente e vivendo ‚Äúa pr√≥pria vida‚Äù. <br><br><img src="https://habrastorage.org/webt/-1/2j/nx/-12jnxo_wzra4vl923py0d4hgnk.png" alt="imagem"><br><br>  Problema: o desenvolvedor ser√° for√ßado a manter a relev√¢ncia de todas as configura√ß√µes ap√≥s alterar as vers√µes da especifica√ß√£o base, geralmente em locais e formatos completamente diferentes. <br><br>  Alguns exemplos de servi√ßos que funcionam com um princ√≠pio semelhante: <br><br><ul><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O SoapUI</a></i> √© um sistema para testar interfaces REST e SOAP.  Suporta a importa√ß√£o de um projeto da especifica√ß√£o Swagger.  Ao alterar a especifica√ß√£o b√°sica do Swagger, a configura√ß√£o de um projeto com base em uma lista de chamadas de API continua a existir em paralelo e requer sincroniza√ß√£o manual; </li><li>  Outros produtos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SmartBear</a> ; </li><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Apigee</a></i> √© um servi√ßo de gerenciamento de ciclo de vida da API.  Ele usa as especifica√ß√µes Swagger como modelos, com base nos quais permite inicializar suas configura√ß√µes de servi√ßos internos.  Tamb√©m n√£o h√° sincroniza√ß√£o autom√°tica; </li><li>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O Readme.io</a></i> √© um servi√ßo que permite criar uma documenta√ß√£o bonita com base na especifica√ß√£o Swagger e tamb√©m possui um mecanismo para rastrear altera√ß√µes na especifica√ß√£o b√°sica e resolver conflitos, atualizando a configura√ß√£o do projeto no lado do servi√ßo.  Certamente, isso exigia complexidade desnecess√°ria no desenvolvimento desse servi√ßo. </li></ul><br>  Voc√™ pode adicionar muitos outros servi√ßos a esta lista que fornecem a fun√ß√£o de integra√ß√£o com a especifica√ß√£o Swagger.  A integra√ß√£o para a maioria deles significa a c√≥pia usual da estrutura b√°sica da especifica√ß√£o Swagger e o preenchimento autom√°tico subseq√ºente dos campos de configura√ß√£o local sem suportar a sincroniza√ß√£o com altera√ß√µes na especifica√ß√£o b√°sica. <br><br><h3>  RAML, anota√ß√µes, sobreposi√ß√µes </h3><br>  O desejo de encontrar uma ferramenta que exclua a restri√ß√£o da OEA mencionada anteriormente, permitindo considerar a especifica√ß√£o como um contrato √∫nico para todas as ferramentas clientes, levou-nos a familiarizar-nos com a linguagem RAML.  H√° bastante escrito sobre RAML, voc√™ pode l√™-lo, por exemplo, aqui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://www.infoq.com/articles/power-of-raml</a> .  Os desenvolvedores de RAML tentaram estabelecer o suporte √† linguagem para modularidade no n√≠vel de seu conceito.  Agora, cada empresa ou desenvolvedor individual pode criar seus pr√≥prios ou usar dicion√°rios p√∫blicos prontos ao projetar a API, redefinir e herdar modelos de dados prontos.  A partir da vers√£o 1.0, o RAML suporta 5 tipos diferentes de m√≥dulos externos: <i>biblioteca, extens√£o, caracter√≠stica, sobreposi√ß√£o</i> , o que permite que cada um deles seja usado da maneira mais flex√≠vel poss√≠vel, dependendo da tarefa. <br><br>  Chegou a hora de discutir a principal possibilidade do RAML, que, por raz√µes que n√£o s√£o completamente compreendidas, n√£o possui an√°logos na OEA e no Blueprint - Annotations. <br><blockquote>  Anota√ß√µes em RAML √© a capacidade de anexar metadados personalizados √†s estruturas de linguagem subjacentes. </blockquote>  Foi essa fun√ß√£o RAML que se tornou o motivo para escrever este artigo. <br><br>  Um exemplo: <br><br><pre><code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Example API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> # Annotation <span class="hljs-keyword"><span class="hljs-keyword">types</span></span> block may be placed <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> <span class="hljs-keyword"><span class="hljs-keyword">external</span></span> file annotationTypes: validation-rules: description: | Describes <span class="hljs-keyword"><span class="hljs-keyword">strict</span></span> validation rules <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the model properties. Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> validation library allowedTargets: [ TypeDeclaration ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string[] <span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-tip: description: | Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> Documentation generator <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> showing tips allowedTargets: [ <span class="hljs-keyword"><span class="hljs-keyword">Method</span></span>, DocumentationItem, TypeDeclaration ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string condition: description: | Named example can be returned <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> evaluated <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>. Can be used <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> Intelligent mock <span class="hljs-keyword"><span class="hljs-keyword">server</span></span> allowedTargets: [ Example ] <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Article: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: id: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-type"><span class="hljs-type">integer</span></span> title: string paragraphs: Paragraph[] createdAt: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: string (validation-rules): ["regex:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?Z?/"] Paragraph: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: <span class="hljs-keyword"><span class="hljs-keyword">order</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-type"><span class="hljs-type">integer</span></span> (validation-rules): ["min:0"] content: string (validation-rules): ["max-length:1024"] /articles/{articleId}: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: (<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>-tip): This endpoint <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> deprecated description: <span class="hljs-keyword"><span class="hljs-keyword">Returns</span></span> Article <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> ID responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/<span class="hljs-type"><span class="hljs-type">json</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: Article</code> </pre> <br>  As estruturas de anota√ß√£o do usu√°rio devem ter descri√ß√µes claras na RAML.  Para isso, √© usada uma se√ß√£o especial <i>annotationTypes</i> , cujas defini√ß√µes tamb√©m podem ser retiradas para o m√≥dulo externo.  Assim, torna-se poss√≠vel definir par√¢metros especiais de uma ferramenta externa na forma de anota√ß√µes anexadas √† defini√ß√£o base da API RAML.  Para evitar sobrecarregar a especifica√ß√£o b√°sica com um grande n√∫mero de anota√ß√µes para v√°rias ferramentas externas, h√° suporte para a possibilidade de transferi-las para arquivos separados - <i>sobreposi√ß√µes</i> (e tamb√©m <i>extens√µes</i> ), com classifica√ß√£o por escopo.  Aqui est√° o que √© dito sobre sobreposi√ß√µes na documenta√ß√£o da RAML ( <a href="">https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md#overlays</a> ): <br><blockquote>  Uma sobreposi√ß√£o adiciona ou substitui n√≥s de uma defini√ß√£o de API RAML, preservando seus aspectos funcionais e comportamentais.  Certos n√≥s de uma defini√ß√£o de API RAML especificam o comportamento de uma API: seus recursos, m√©todos, par√¢metros, corpos, respostas e assim por diante.  Esses n√≥s n√£o podem ser alterados aplicando uma sobreposi√ß√£o.  Por outro lado, outros n√≥s, como descri√ß√µes ou anota√ß√µes, abordam preocupa√ß√µes al√©m da interface funcional, como a documenta√ß√£o descritiva orientada para o homem em algum idioma ou informa√ß√µes de implementa√ß√£o ou verifica√ß√£o para uso em ferramentas automatizadas.  Esses n√≥s podem ser alterados aplicando uma sobreposi√ß√£o. <br><br>  As sobreposi√ß√µes s√£o particularmente importantes para separar a interface da implementa√ß√£o.  As sobreposi√ß√µes permitem ciclos de vida separados para os aspectos comportamentais da API que precisam ser controlados com for√ßa, como um contrato entre o provedor da API e seus consumidores, versus aqueles que precisam de pouco controle, como os aspectos orientados para a implementa√ß√£o ou humanos que podem evoluir em ritmos diferentes.  Por exemplo, adicionar ganchos para ferramentas de teste e monitoramento, anexar metadados relevantes a um registro de APIs ou fornecer documenta√ß√£o humana atualizada ou traduzida podem ser obtidos sem alterar nenhum aspecto dos aspectos comportamentais da API.  Essas coisas podem ser controladas atrav√©s de uma vers√£o rigorosa e do processo de gerenciamento de mudan√ßas. </blockquote>  Em outras palavras, essa funcionalidade permite "separar a granula√ß√£o do joio", por exemplo, a descri√ß√£o principal da especifica√ß√£o da API, de meta-informa√ß√µes adicionais espec√≠ficas a uma ferramenta espec√≠fica que a utiliza para o trabalho.  As meta-informa√ß√µes em cada sobreposi√ß√£o separada s√£o ‚Äúsuspensas‚Äù em v√°rios blocos da especifica√ß√£o na forma de anota√ß√µes. <br><br>  Um exemplo de uma estrutura b√°sica: <br><br><pre> <code class="hljs pgsql">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> title: Phrases API mediaType: application/<span class="hljs-type"><span class="hljs-type">json</span></span> <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>: Phrase: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> properties: content: string /phrases: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: queryParameters: whoSaid: string responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/<span class="hljs-type"><span class="hljs-type">json</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: Phrase</code> </pre><br>  Sobreposi√ß√£o: <br><pre> <code class="hljs vbscript">#%RAML <span class="hljs-number"><span class="hljs-number">1.0</span></span> Overlay usage: Applies annotations <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Intelligent mock <span class="hljs-built_in"><span class="hljs-built_in">server</span></span> extends: example_for_article_2_1.raml annotationTypes: condition: description: | Named example can be returned <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> condition <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> evaluated <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> allowedTargets: Example /phrases: <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>: responses: <span class="hljs-number"><span class="hljs-number">200</span></span>: body: application/json: examples: firstExample: (condition): $whoSaid <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Hamlet content: <span class="hljs-string"><span class="hljs-string">"To be, or not to be?"</span></span> secondExample: (condition): $whoSaid <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Homer Simpson content: <span class="hljs-string"><span class="hljs-string">"D'oh!"</span></span></code> </pre><br>  Como resultado, torna-se poss√≠vel implementar um √∫nico contrato: todas as informa√ß√µes funcionais, comportamentais e meta-informa√ß√µes s√£o armazenadas e versionadas em um √∫nico local, e as ferramentas de contrato - clientes do contrato, devem ter suporte para as anota√ß√µes usadas nesta especifica√ß√£o.  Por outro lado, s√£o as pr√≥prias ferramentas que podem apresentar seus pr√≥prios requisitos para anota√ß√µes, que devem ser "penduradas" na especifica√ß√£o - isso fornecer√° uma gama mais ampla de possibilidades ao desenvolver ferramentas de contrato. <br><br>  O conceito acima est√° representado na figura abaixo: <br><br><img src="https://habrastorage.org/webt/w1/0i/aj/w10iajxxllknypbvu6gwcvwrtkc.png" alt="imagem"><br><br>  Entre as desvantagens dessa abordagem, pode-se destacar a alta complexidade da sincroniza√ß√£o manual do arquivo de especifica√ß√£o base e cada uma das sobreposi√ß√µes: ao atualizar a estrutura da especifica√ß√£o b√°sica, √© necess√°rio aplicar as altera√ß√µes necess√°rias nas estruturas das sobreposi√ß√µes.  Esse problema se torna mais s√©rio quando mais de uma sobreposi√ß√£o aparece. <br><br>  Uma solu√ß√£o poss√≠vel e mais √≥bvia seria desenvolver um editor ou complemento especial para o editor de RAML online existente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/mulesoft/api-designer</a> .  A √°rea de edi√ß√£o permanece inalterada, mas torna-se poss√≠vel criar guias: cada nova guia √© uma janela para editar a sobreposi√ß√£o atribu√≠da a ela.  Ao editar a estrutura b√°sica da especifica√ß√£o na janela principal, as estruturas em todas as guias criadas tamb√©m mudam e, quando uma incompatibilidade da nova estrutura com as anota√ß√µes existentes localizadas nas sobreposi√ß√µes de guias √© detectada, um aviso √© exibido.  Uma considera√ß√£o mais detalhada desse editor √© um t√≥pico separado e merece considera√ß√£o s√©ria. <br><br><h3>  Desenvolvimentos existentes </h3><br>  Na busca de solu√ß√µes existentes que est√£o pr√≥ximas de realizar a id√©ia de usar anota√ß√µes como um meio de descrever as meta-informa√ß√µes, foram encontradas as seguintes solu√ß√µes: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/raml-org/raml-annotations</a> reposit√≥rio contendo anota√ß√µes oficiais aprovadas pela comunidade de desenvolvedores da RAML.  Na vers√£o atual, apenas as anota√ß√µes do OAuth2 est√£o dispon√≠veis.  Eles podem ser usados ‚Äã‚Äãpor ferramentas externas para obter meta-informa√ß√µes que descrevem aspectos da implementa√ß√£o do OAuth2 para a especifica√ß√£o da API desenvolvida; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/petrochenko-pavel-a/raml-annotations</a> biblioteca de anota√ß√µes do usu√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@ petrochenko-pavel-a</a> com um agrupamento l√≥gico por √°rea de aplica√ß√£o.  O projeto √© mais experimental, mas ilustra perfeitamente a ideia de usar anota√ß√µes.  Os grupos de anota√ß√µes mais interessantes: <br><ul><li>  <i>additionalValidation.raml</i> - anota√ß√µes para descrever regras adicionais para a valida√ß√£o de modelos de especifica√ß√£o.  Eles podem ser usados, por exemplo, pela biblioteca do servidor para validar consultas de acordo com a especifica√ß√£o RAML; </li><li>  <i>mock.raml</i> - anota√ß√µes para descrever os detalhes do servidor simulado com base na especifica√ß√£o RAML; </li><li>  <i>semanticContexts.raml</i> - anota√ß√µes apontando para o contexto sem√¢ntico dos blocos estruturais declarados individuais da especifica√ß√£o RAML; </li><li>  <i>estrutural.raml</i> - anota√ß√µes que esclarecem o papel de uma entidade RAML separada na estrutura geral do modelo de dom√≠nio descrito; </li><li>  <i>uiCore.raml</i> - um exemplo de anota√ß√µes poss√≠veis para uso pelas ferramentas de gera√ß√£o de UI com base na especifica√ß√£o RAML; </li></ul></li></ul><br>  O reposit√≥rio tamb√©m cont√©m bibliotecas de tipos de utilit√°rios adequados para uso como primitivos na descri√ß√£o de estruturas de dados da especifica√ß√£o RAML. <br><br><h3>  Problemas de RAML </h3><br>  Apesar da funcionalidade, progressividade da id√©ia b√°sica e aten√ß√£o dos grandes fabricantes de software (Cisco, Spotify, VMware etc.), a RAML hoje tem s√©rios problemas que podem se tornar fatais em rela√ß√£o ao seu destino de sucesso: <br><br><ul><li>  Comunidade de c√≥digo aberto pequena e fragmentada; </li><li>  Uma estrat√©gia incompreens√≠vel do principal desenvolvedor de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">RAML</a> √© a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">mulesoft</a> .  A empresa desenvolve produtos que s√£o apenas uma c√≥pia das solu√ß√µes existentes da OEA (inclu√≠das na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plataforma Anypoint</a> ), em vez de criar servi√ßos que enfatizam as vantagens da RAML sobre a Swagger; </li><li>  A conseq√º√™ncia do primeiro par√°grafo: um pequeno n√∫mero de bibliotecas / ferramentas de c√≥digo aberto; </li><li>  Limiar de entrada mais alto que o da OEA (isso √© estranho, mas muitas pessoas pensam assim); </li><li>  Devido ao grande n√∫mero de bugs e problemas com o UX / UI, o servi√ßo principal que √© completamente inadequado e repelente aos usu√°rios √© o ponto de entrada para RAML - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://anypoint.mulesoft.com/</a> . </li></ul><br><h3>  Desacordo conceitual.  Primeira conclus√£o </h3><br>  Existem contradi√ß√µes na comunidade em rela√ß√£o ao conceito b√°sico.  Algu√©m pensa que RAML √© uma <i>linguagem de defini√ß√£o de modelo</i> e algu√©m pensa que √© uma <i>linguagem de defini√ß√£o de API</i> como OEA ou Blueprint (os caras que se chamam desenvolvedores de RAML costumam mencionar isso em v√°rios coment√°rios).  O conceito de <i>linguagem de defini√ß√£o</i> de <i>modelo</i> permitiria, dentro da especifica√ß√£o RAML, descrever o modelo de dom√≠nio do dom√≠nio sem uma liga√ß√£o estreita ao contexto da descri√ß√£o do recurso da API, expandindo os horizontes das op√ß√µes para o uso da especifica√ß√£o com ferramentas externas (de fato, criando a base para a exist√™ncia deste <i>contrato √∫nico</i> !).  Aqui est√° uma defini√ß√£o do conceito de recurso que pode ser vista no site readhat docs ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://restful-api-design.readthedocs.io/en/latest/resources.html</a> , a prop√≥sito, recomendo a todos que leiam este maravilhoso guia sobre design de API): <br><blockquote>  Chamamos informa√ß√µes que descrevem os <b><i>tipos de recursos</i></b> dispon√≠veis, seu comportamento e relacionamentos <b><i>como modelo de recursos de uma API</i></b> .  <i><b>O modelo de recursos</b></i> pode ser visualizado como o mapeamento RESTful do <b><i>modelo de dados do aplicativo</i></b> . </blockquote>  No <i><b>modelo de dados do aplicativo</b></i> RAML <i><b>,</b></i> esses s√£o os tipos declarados no bloco de <i>tipos</i> , e o <b><i>modelo de recurso de uma API</i></b> √© o que √© descrito no bloco de RAML de <i>recursos</i> .  Portanto, voc√™ deve ter a capacidade de descrever esse <i><b>mapeamento</b></i> .  Mas a implementa√ß√£o atual da RAML permite que esse <b><i>mapeamento</i></b> seja feito apenas 1 a 1, ou seja, use os tipos "como est√£o" dentro da declara√ß√£o da API do recurso. <br><br>  Acho que esse √© o principal problema da linguagem, cuja solu√ß√£o permitir√° que a RAML v√° al√©m da <i>linguagem de defini√ß√£o</i> da <i>API</i> e se torne uma <i>linguagem de defini√ß√£o de modelo</i> completa: uma linguagem mais geral (em vez da OEA ou Blueprint) usada para descrever os contratos √∫nicos de sistemas, que s√£o essencialmente o n√∫cleo formal muitos de seus componentes. <br><br>  A descri√ß√£o acima faz do RAML um jogador fraco que atualmente n√£o consegue vencer a competi√ß√£o contra o Swagger.  Talvez por isso, como resultado, o principal desenvolvedor da RAML tomou medidas dr√°sticas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://blogs.mulesoft.com/dev/api-dev/open-api-raml-better-together/</a> <br><br><h3>  A id√©ia do contrato √∫nico RAML SaaS </h3><br>  Com base no conceito de <i>contrato √∫nico</i> , partindo da id√©ia de hospedar uma API de especifica√ß√µes Swagger baseada na OEA, al√©m de contar com a possibilidade de a RAML declarar meta-informa√ß√µes e compartilhar a especifica√ß√£o b√°sica usando sobreposi√ß√µes, a id√©ia de uma solu√ß√£o SaaS alternativa para hospedar e gerenciar especifica√ß√µes com base na linguagem RAML sugere Supere o Swagger Hub e o Apiary no volume e na qualidade da funcionalidade poss√≠vel. <br><br>  O novo servi√ßo, por analogia com o hub Swagger, ser√° a hospedagem de contratos de usu√°rio com o fornecimento de um editor on-line e a capacidade de visualizar visualiza√ß√µes de documenta√ß√£o com atualiza√ß√µes em tempo real.  A principal diferen√ßa deve ser a presen√ßa de um cat√°logo de plug-ins de contrato embutidos no servi√ßo, dos quais o usu√°rio poder√° instalar as especifica√ß√µes da API em seu projeto atual.  Para instala√ß√£o, ser√° necess√°rio implementar as anota√ß√µes RAML necess√°rias especificadas na documenta√ß√£o do plug-in.  Ap√≥s adicionar um novo plug-in ao projeto, uma nova guia ser√° adicionada na janela do editor de c√≥digo quando voc√™ alternar para ele, as anota√ß√µes de edi√ß√£o do plug-in instalado ficar√£o dispon√≠veis.  A estrutura da especifica√ß√£o b√°sica deve ser duplicada automaticamente em todas as guias correspondentes aos plugins.  Se surgirem conflitos entre a estrutura b√°sica e as anota√ß√µes j√° existentes, um mecanismo especial deve oferecer op√ß√µes para sua solu√ß√£o ou resolv√™-la automaticamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/le/5g/go/le5ggomtfukodgechbdyhugpafq.png" alt="imagem"></div><br>  Tecnicamente, cada guia ser√° uma abstra√ß√£o da sobreposi√ß√£o de RAML contendo anota√ß√µes de cada plug-in espec√≠fico.  Isso garante que a especifica√ß√£o seja compat√≠vel com qualquer ferramenta que suporte o RAML 1.0. <br><br>  O diret√≥rio do plug-in deve estar aberto para expans√£o pela comunidade de c√≥digo aberto.  A implementa√ß√£o de plug-ins pagos tamb√©m √© poss√≠vel, o que pode servir de incentivo ao desenvolvimento de novos. <br><br>  Poss√≠veis plug-ins: documenta√ß√£o da API com suporte para um grande n√∫mero de anota√ß√µes para parametriza√ß√£o flex√≠vel de sua renderiza√ß√£o, servidor simulado "inteligente" (do exemplo acima), bibliotecas para download para valida√ß√£o de solicita√ß√µes ou gera√ß√£o de c√≥digo, ferramentas de depura√ß√£o para solicita√ß√µes de sa√≠da da API para aplicativos m√≥veis (proxy de cache), testes de carga com a configura√ß√£o do teste de fluxo por meio de anota√ß√µes, v√°rios plugins para integra√ß√£o com servi√ßos externos. <br><br>  Essa id√©ia do servi√ßo cont√©m vantagens claras sobre os servi√ßos existentes para o gerenciamento de especifica√ß√µes da API, e sua implementa√ß√£o abre caminho para uma poss√≠vel mudan√ßa na abordagem da implementa√ß√£o de qualquer sistema externo que esteja de alguma forma relacionado √† API. <br><br><h3>  Segunda conclus√£o </h3><br>  O objetivo deste artigo n√£o √© criticar o Swagger, Apiary ou outras ferramentas padr√£o de fato para o desenvolvimento de APIs, mas examinar a diferen√ßa conceitual com a abordagem das especifica√ß√µes de design promovida pela RAML, tentar introduzir o conceito de <i>Contrato primeiro</i> e considerar a possibilidade de sua implementa√ß√£o com base na RAML.  Outro objetivo era o desejo de atrair a merecida aten√ß√£o dos desenvolvedores para o RAML para o desenvolvimento poss√≠vel da sua comunidade. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Site oficial RAML</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Canal frouxo</a> <br>  <a href="">Especifica√ß√£o</a> <br><br>  Obrigado pela aten√ß√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419525/">https://habr.com/ru/post/pt419525/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419511/index.html">typeof (T) vs. TypeOf‚ü®T‚ü©</a></li>
<li><a href="../pt419513/index.html">Configurar pol√≠tica de seguran√ßa de senha no Zimbra</a></li>
<li><a href="../pt419515/index.html">Como uma startup "sem marca" recebeu US $ 240 milh√µes para derrotar a Amazon</a></li>
<li><a href="../pt419519/index.html">Dicas para jogos para dispositivos m√≥veis: Parte 1, Lan√ßamento suave</a></li>
<li><a href="../pt419523/index.html">A equipe PVS-Studio √© imparcial ao escrever artigos</a></li>
<li><a href="../pt419527/index.html">Como o batimento card√≠aco soa: convertendo o cardiograma de papel para o formato WAV</a></li>
<li><a href="../pt419531/index.html">Escolhendo o par perfeito para seus ouvidos: dez dicas pr√°ticas</a></li>
<li><a href="../pt419535/index.html">Atualiza√ß√£o na torradeira</a></li>
<li><a href="../pt419537/index.html">CyberDemons: Intelig√™ncia Artificial DOOM 2016</a></li>
<li><a href="../pt419539/index.html">Semin√°rio on-line aberto "Programa√ß√£o ass√≠ncrona em Python"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>