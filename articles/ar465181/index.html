<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐คฒ ๐ฝ ุงูุฃูุงูู ุงูุฒููุฉ ูู C ++ 17 ๐ โ๏ธ ๐ณ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ูุงูุช C ++ ุชุชูุฏู ุจุฎุทู ุณุฑูุนุฉ ุฅูู ุงูุฃูุงู ุ ููููู ุฃู ุชููู ููุงูุจุฉ ุฌููุน ุงูุชูุงุตูู ุงูุฏูููุฉ ูุงููุนูุฏุฉ ููุบุฉ ุตุนุจุฉ ููุบุงูุฉ. ููุณ ุงููุนูุงุฑ ุงูุฌุฏูุฏ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูุฃูุงูู ุงูุฒููุฉ ูู C ++ 17</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/playrix/blog/465181/" style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/fp/nd/-g/fpnd-ggxjx4-xafw3sb7rx2keca.png" alt="ุตูุฑุฉ"></a> <br><br>  ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ูุงูุช C ++ ุชุชูุฏู ุจุฎุทู ุณุฑูุนุฉ ุฅูู ุงูุฃูุงู ุ ููููู ุฃู ุชููู ููุงูุจุฉ ุฌููุน ุงูุชูุงุตูู ุงูุฏูููุฉ ูุงููุนูุฏุฉ ููุบุฉ ุตุนุจุฉ ููุบุงูุฉ.  ููุณ ุงููุนูุงุฑ ุงูุฌุฏูุฏ ุจุนูุฏูุง ุนู ุญุฏู ุ ููุน ุฐูู ุ ูุฅู ุฅุฏุฎุงู ุงุชุฌุงูุงุช ุฌุฏูุฏุฉ ููุณ ูู ุงูุฃุณูู ูุงูุฃุณูู ุ ูุฐูู ุ ุจูููุง ูุง ูุฒุงู ููุงู ููุช ูุตูุฑ ูุจู C ++ 20 ุ ุฃูุชุฑุญ ุชุญุฏูุซ ุฃู ุงูุชุดุงู ุจุนุถ ุงูุฃูุงูู "ุงูุฒููุฉ" ุฎุงุตุฉ ูู ุงููุนูุงุฑ ุงูุญุงูู ุงููุบุฉ. <br><br>  ุงูููู ุณุฃุฎุจุฑู ููุงุฐุง ุฅุฐุง ูู ููู constexpr ุจุฏููุงู ููุญุฏุงุช ุงููุงูุฑู ุ ููุง ูู "ุงูุฃุฌุฒุงุก ุงูุฏุงุฎููุฉ" ููุฑุจุท ุงูููุธู ู "ุงููุฒุงูู" ููู ุตุญูุญ ุฃู ูุณุฎุฉ elision ุชุนูู ุฏุงุฆููุง ุงูุขู ูููููู ูุชุงุจุฉ ุฃู ุนุงุฆุฏ ุฏูู ุชุฑุฏุฏ. <br><br>  ุฅุฐุง ูู ุชูู ุฎุงุฆููุง ูู ุฌุนู ูุฏูู ูุชุณุฎุฉ ููููุงู ุ ูุงูุชุฎุจุท ูู "ุงูุฏูุงุฎู" ูุณุงูู ุ ูุฑุญุจูุง ุจู ูู Cat. <br><a name="habracut"></a><br><hr><br><h1 style=";text-align:right;direction:rtl">  ุฅุฐุง constexpr </h1><br>  ููุจุฏุฃ <code>if constexpr</code> - <code>if constexpr</code> ูู <code>if constexpr</code> ูุฑุน ุงูุชุนุจูุฑ ุงูุดุฑุทู ุงูุฐู ูู ูุชู ุงูููุงุก ุจุงูุดุฑุท ุงููุฑุบูุจ ููู ุญุชู ูู ูุฑุญูุฉ ุงูุชุฌููุน. <br><br>  ูุจุฏู ุฃู ูุฐุง ุงุณุชุจุฏุงู ุงููุงูุฑู <code>#if</code> ูุฅููุงู ุชุดุบูู ุงูููุทู "ุฅุถุงููุฉ"ุ  ูุง.  ูุง ุนูู ุงูุฅุทูุงู. <br><br>  ุฃููุงู ุ ูุญุชูู <code>if</code> ุนูู ุฎุตุงุฆุต ุบูุฑ ูุชููุฑุฉ ููุญุฏุงุช ุงููุงูุฑู - ุจุฏุงุฎูู ููููู ุญุณุงุจ ุฃู ุชุนุจูุฑ <code>constexpr</code> ูููู <code>constexpr</code> ุฅูู <code>bool</code> .  ุญุณููุง ุ ูุซุงููุงู ุ ูุฌุจ ุฃู ุชููู ูุญุชููุงุช ุงููุฑุน ุงูููููุฉ ุตุญูุญุฉ ุจูุงุกู ุนูู ุฏูุงูุงุช. <br><br>  ูุธุฑูุง ููุดุฑุท ุงูุซุงูู ุ <code>if constexpr</code> ุงุณุชุฎุฏุงู <code>if constexpr</code> ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูููู ูุตู ุงููุธุงุฆู ุบูุฑ ุงูููุฌูุฏุฉ (ูุง ูููู ูุตู ุงูููุฏ ุงููุนุชูุฏ ุนูู ุงููุธุงู ุงูุฃุณุงุณู ุจุดูู ุตุฑูุญ ุจูุฐู ุงูุทุฑููุฉ) ุฃู ุณูุฆ ูู ูุฌูุฉ ูุธุฑ ูุบุฉ ุงูุฅูุดุงุก (ุนูู ุณุจูู ุงููุซุงู ุ " <code>void T = 0;</code> "). <br><br>  ูุง ูู <code>if constexpr</code> ูู ุงุณุชุฎุฏุงู <code>if constexpr</code> ุ  ุงูููุทุฉ ุงูุฑุฆูุณูุฉ ูู ูู ุงูููุงูุจ.  ููุงู ูุงุนุฏุฉ ุฎุงุตุฉ ุจุงููุณุจุฉ ููู: ูุง ูุชู ุฅูุดุงุก ูุซูู ูููุฑุน ุงูููููุฉ ุนูุฏ ุฅูุดุงุก ูุซูู ูููุงูุจ.  ูุฐุง ูุฌุนู ูู ุงูุณูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชู ุชุนุชูุฏ ุจุทุฑููุฉ ูุง ุนูู ุฎุตุงุฆุต ุฃููุงุน ุงูููุงูุจ. <br><br>  ููุน ุฐูู ุ ูู ุงูููุงูุจ ุ ูุฌุจ ุฃูุง ููุณู ุงููุฑุก ุฃู ุงูููุฏ ุงูููุฌูุฏ ุฏุงุฎู ุงููุฑูุน ูุฌุจ ุฃู ูููู ุตุญูุญูุง ุนูู ุงูุฃูู ูุจุนุถ ุงููุชุบูุฑุงุช (ุฑุจูุง ุญุชู ุงููุญุถ) ุงููุชุบูุฑุฉ ูู ุฅูุดุงุก ูุซูู ุ ูุฐูู ูู <code>static_assert(false)</code> ุจุจุณุงุทุฉ ุงููุชุงุจุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>static_assert(false)</code> ุฏุงุฎู ุฃุญุฏ ุงููุฑูุน (ูู ุงูุถุฑูุฑู ุฃู ูููู ูุฐุง ูุนุชูุฏ <code>static_assert</code> ุนูู ุจุนุถ ุงููุนููุงุช ุงูุชุงุจุนุฉ ูููุงูุจ). <br><br>  ุงูุฃูุซูุฉ ุนูู ุฐูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{    <span class="hljs-comment"><span class="hljs-comment">//    ,       if constexpr ( os == OS::win ) {        win_api_call(); //         }    else {        some_other_os_call(); //  win      } }</span></span></code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foo</span></span></span><span class="hljs-class">() {</span></span>    <span class="hljs-comment"><span class="hljs-comment">//    ,    T      if constexpr ( os == OS::win ) {        T::win_api_call(); //  T   ,    win    }    else {        T::some_other_os_call(); //  T   ,         } }</span></span></code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foo</span></span></span><span class="hljs-class">() {</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(condition1)</span></span></span><span class="hljs-function"> </span></span>{        <span class="hljs-comment"><span class="hljs-comment">// ...    }    else if constexpr (condition2) {        // ...    }    else {        // static_assert(false); //          static_assert(trait&lt;T&gt;::value); // ,   ,  trait&lt;T&gt;::value   false    } }</span></span></code> </pre><br><h2 style=";text-align:right;direction:rtl">  ุฃุดูุงุก ูุฌุจ ุชุฐูุฑูุง </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ุงูุฑูุฒ ูู ุฌููุน ุงููุฑูุน ุตุญูุญูุง. <br></li><li style=";text-align:right;direction:rtl">  ุฏุงุฎู ุงูููุงูุจ ุ ูุง ูุชู ุฅูุดุงุก ูุญุชููุงุช ุงููุฑูุน ุงูููููุฉ. <br></li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูููู ุงูููุฏ ุงูููุฌูุฏ ุฏุงุฎู ุฃู ูุฑุน ุตุญูุญูุง ููุชุบูุฑ ูุญุชูู ูุงุญุฏ ุนูู ุงูุฃูู ูู ุฅูุดุงุก ูุซูู ูููุงูุจ. <br></li></ol><br><h1 style=";text-align:right;direction:rtl">  ููุฒูุฉ ููุธู </h1><br><img src="https://habrastorage.org/webt/0v/jl/x4/0vjlx42it96fu5j20yz-m-pvhpq.png"><br><br>  ูู C ++ 17 ุ ุธูุฑุช ุขููุฉ ููุงุฆูุฉ ุฅูู ุญุฏ ูุง ูุชุญููู ุงูุนุฏูุฏ ูู ุงููุงุฆูุงุช ุงููุดุงุจูุฉ ูููุทุน ุ ููุง ูุณูุญ ูู ุจุฑุจุท ุนูุงุตุฑูุง ุงูุฏุงุฎููุฉ ุจุดูู ูุฑูุญ ูุฏููู ูุน ุงููุชุบูุฑุงุช ุงููุณูุงุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//     โ    : for (const auto&amp; [key, value] : map) {    std::cout &lt;&lt; key &lt;&lt; ": " &lt;&lt; value &lt;&lt; std::endl; }</span></span></code> </pre><br>  ุจูุงุณุทุฉ ูุงุฆู ูุดุจู tuple ุ ุฃุนูู ูุซู ูุฐุง ุงููุงุฆู ุงูุฐู ูุนุฑู ุจู ุนุฏุฏ ุงูุนูุงุตุฑ ุงูุฏุงุฎููุฉ ุงููุชุงุญุฉ ูู ููุช ุงูุชุฑุฌูุฉ (ูู "tuple" - ูุงุฆูุฉ ูุฑุชุจุฉ ูุน ุนุฏุฏ ูุญุฏุฏ ูู ุงูุนูุงุตุฑ (ูุชุฌู)). <br><br>  ูุชุถูู ูุฐุง ุงูุชุนุฑูู ุฃููุงุนูุง ูุซู: <code>std::pair</code> ุ <code>std::tuple</code> ุ <code>std::array</code> ุ ุตูุงุฆู ุงููููุฐุฌ " <code>T a[N]</code> " ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุฎุชูู ุงูููุงูู ูุงููุฆุงุช ุงูููุชูุจุฉ ุฐุงุชูุง. <br><br>  ุชููู ... ููููู ุงุณุชุฎุฏุงู ุงูููุงูู ุงูุฎุงุตุฉ ุจู ูู ุงูุฑุจุท ุงููููููุ  ุงูููุณุฏ: ููููู (ุฑุบู ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ุชุถุทุฑ ุฅูู ุงูุนูู ุจุฌุฏ (ูููู ุงููุฒูุฏ ูู ูุฐุง ุฃุฏูุงู)). <br><br><h2 style=";text-align:right;direction:rtl">  ููู ูุนููุ </h2><br>  ูุณุชุญู ุนูู ุงูุงุฑุชุจุงุท ุงูููููู ููุงูุฉ ูููุตูุฉ ุ ููู ุจูุง ุฃููุง ูุชุญุฏุซ ุจุงูุชุญุฏูุฏ ุนู ุงูุฃูุงูู "ุงูุฒููุฉ" ุ ุณุฃุญุงูู ุดุฑุญ ููู ูุนูู ูู ุดูุก ุจุดูู ููุฌุฒ. <br><br>  ูููุฑ ุงููุนูุงุฑ ุจูุงุก ุงูุฌููุฉ ุงูุชุงูู ูุชุญุฏูุฏ ุงูุฑุจุท: <br><br>  <i>att</i> (ุงุฎุชูุงุฑู) <i>cv-auto</i> <i>ref-operator</i> (ุงุฎุชูุงุฑู) [ <i>ูุนุฑู ูุงุฆูุฉ</i> ] <i>ุงูุชุนุจูุฑ</i> ุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>attr</code> - ูุงุฆูุฉ ุงูุณูุงุช ุงูุงุฎุชูุงุฑูุฉ ุ <br></li><li style=";text-align:right;direction:rtl">  <code>cv-auto</code> - ุงูุณูุงุฑุงุช ูุน ุงููุนุฏูุงุช const / ูุชููุจุฉ ูููู. <br></li><li style=";text-align:right;direction:rtl">  <code>ref-operator</code> - ูุญุฏุฏ ุงููุฑุฌุน ุงููุฑุฌุนู (&amp; ู &amp;&amp;) ุ <br></li><li style=";text-align:right;direction:rtl">  <code>identifier-list</code> - ูุงุฆูุฉ ุจุฃุณูุงุก ุงููุชุบูุฑุงุช ุงูุฌุฏูุฏุฉ ุ <br></li><li style=";text-align:right;direction:rtl">  <code>expression</code> ูู ุชุนุจูุฑ ููุชุฌ ุนูู ูุงุฆู ูุดุจู tuple ููุณุชุฎุฏู ููุฑุจุท (ูููู ุฃู ูููู ุงูุชุนุจูุฑ ูู ุงููููุฐุฌ " <code>= expr</code> " ุฃู " <code>{expr}</code> " ุฃู " <code>(expr)</code> "). <br></li></ul><br>  ูู ุงูููู ููุงุญุธุฉ ุฃู ุนุฏุฏ ุงูุฃุณูุงุก ูู <code>identifier-list</code> ูุฌุจ ุฃู ูุชุทุงุจู ูุน ุนุฏุฏ ุงูุนูุงุตุฑ ูู ุงููุงุฆู ุงููุงุชุฌ ุนู <code>expression</code> . <br><br>  ูู ูุฐุง ูุณูุญ ูู ุจูุชุงุจุฉ ุฅูุดุงุกุงุช ุงููููุฐุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> &amp;&amp; [a,b,c] = Foo{};</code> </pre><br>  ูููุง ูุตู ุฅูู ุงูููุงู ุงูุฃูู "ุงูุฒูู": ุชูุจูุฉ ุชุนุจูุฑ ุนู ุงููููุฐุฌ " <code>auto a = expr;</code>  "ุ ุชูุตุฏ ุนุงุฏุฉ ุฃู ุงูููุน" <code>a</code> "ุณูุชู ุญุณุงุจู ุจุงูุชุนุจูุฑ" <code>expr</code> "ุ ูุชุชููุน ุฃูู ูู ุงูุชุนุจูุฑ" <code>const auto&amp; [a,b,c] = expr;</code>  "ุณูุชู ุชูููุฐ ููุณ ุงูุดูุก ุ ููุท ุฃููุงุน" <code>a,b,c</code> "ูู ุฃููุงุน <code>const&amp;</code> ุงูููุงุจูุฉ ูู" <code>expr</code> "... <br><br>  ุงูุญูููุฉ ูุฎุชููุฉ: ูุณุชุฎุฏู ูุญุฏุฏ <code>cv-auto ref-operator</code> ูุญุณุงุจ ููุน ุงููุชุบูุฑ ุบูุฑ ุงููุฑุฆู ุ ุญูุซ ูุชู ุชุนููู ูุชูุฌุฉ ุญุณุงุจ expr (ุฃู ุ ูุณุชุจุฏู ุงููุชุฑุฌู " <code>const auto&amp; [a,b,c] = expr</code> " ุจู " <code>const auto&amp; e = expr</code> "). <br><br>  ูุจุงูุชุงูู ุ ูุธูุฑ ููุงู ุบูุฑ ูุฑุฆู ุฌุฏูุฏ (ูุดุงุฑ ุฅููู ูููุง ููู {e}) ุ ููุน ุฐูู ุ ูุฅู ุงูููุงู ูููุฏ ููุบุงูุฉ: ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุฃู ูุชุญูู ูุงุฆูุงุช ูุคูุชุฉ (ูุจุงูุชุงูู ุ ููููู ุชูุตูููุง ุจุฃูุงู " <code>const auto&amp; [a,b,c] = Foo {};</code> "). <br><br>  ูุชุจุน ุงูููุงู ุงูุฒูู ุงูุซุงูู ูุจุงุดุฑุฉ ูู ุงูุงุณุชุจุฏุงู ุงูุฐู ูููู ุจู ุงููุชุฑุฌู: ุฅุฐุง ูุงู ุงูููุน ุงููุณุชุฎูุต ูู {e} ููุณ ูุฑุฌุนูุง ุ ูุณูุชู ูุณุฎ ูุชูุฌุฉ <code>expr</code> ุฅูู {e}. <br><br>  ูุง ูู ุฃููุงุน ุงููุชุบูุฑุงุช ูู <code>identifier-list</code> ุ  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูู ุชููู ูุฐู ูุชุบูุฑุงุช ุจุงูุถุจุท.  ูุนู ุ ุฅููุง ุชุชุตุฑู ูุซู ุงููุชุบูุฑุงุช ุงูุญููููุฉ ูุงูุนุงุฏูุฉ ุ ูููู ููุท ูุน ุงููุงุฑู ุงูุฐู ูุดูุฑูู ุฏุงุฎูู ุฅูู ููุงู ูุฑุชุจุท ุจูู ุ ูุณูู ููุชุฌ ุนููู <code>decltype</code> ูู ูุฐุง ุงููุชุบูุฑ "ุงููุฑุฌุน" ููุน ุงูููุงู ุงูุฐู ูุดูุฑ ุฅููู ูุฐุง ุงููุชุบูุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::tuple&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">float</span></span>&gt; t(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2.f</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; [a, b] = t; <span class="hljs-comment"><span class="hljs-comment">// decltype(a) โ int, decltype(b) โ float ++a; // ,  ยซ ยป,   t std::cout &lt;&lt; std::get&lt;0&gt;(t); //  2</span></span></code> </pre><br>  ูุชู ุชุนุฑูู ุงูุฃููุงุน ููุณูุง ุนูู ุงููุญู ุงูุชุงูู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช <b>{e}</b> ุนุจุงุฑุฉ ุนู ุตููู ( <code>T a[N]</code> ) ุ ูุณูููู ุงูููุน ูุงุญุฏูุง - T ุ ูุณุชุชุฒุงูู ุงููุนุฏูุงุช cv ูุน ุงูุตููู. <br></li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู <b>{e}</b> ูู ุงูููุน E ููุฏุนู ูุงุฌูุฉ tuple ุ ูุณูุชู ุชุนุฑูู ุงูููุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">std::tuple_size&lt;E&gt;</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">std::tuple_element&lt;i, E&gt;</code> </pre> <br>  ูุธููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">get&lt;i&gt;({e}); //  {e}.get&lt;i&gt;()</code> </pre> <br>  ุซู ุณูููู ููุน ูู ูุชุบูุฑ ูู ุงูููุน <code>std::tuple_element_t&lt;i, E&gt;</code> <br></li><li style=";text-align:right;direction:rtl">  ูู ุญุงูุงุช ุฃุฎุฑู ุ ุณูุชูุงูู ููุน ุงููุชุบูุฑ ูุน ููุน ุนูุตุฑ ุงูุจููุฉ ุงูุฐู ูุชู ุชูููุฐ ุงูุฑุจุท ุจู. <br></li></ol><br>  ูุฐูู ุ ุฅุฐุง ูุงูุช ุจุฅูุฌุงุฒ ุดุฏูุฏ ุ ูุชู ุงุชุฎุงุฐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ูุน ุงูุงุฑุชุจุงุท ุงูููููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุญุณุงุจ ููุน ูุชููุฆุฉ ุงูููุงู ุบูุฑ ุงููุฑุฆู {e} ุจูุงุกู ุนูู ูุนุฏููุงุช <code>expr</code> ู <code>cv-ref</code> . <br></li><li style=";text-align:right;direction:rtl">  ุฃูุดุฆ ูุชุบูุฑุงุช ุฒุงุฆูุฉ ูุงุฑุจุทูุง ุจุงูุนูุงุตุฑ {e}. <br></li></ol><br><h2 style=";text-align:right;direction:rtl">  ุฑุจุท ูููููุง ุงููุตูู / ุงูููุงูู </h2><br>  ุงูุนูุจุฉ ุงูุฑุฆูุณูุฉ ุฃูุงู ุฑุจุท ุจููุงุชูุง ูู ุนุฏู ูุฌูุฏ ุงูุนูุงุณ ูู C ++.  ุญุชู ุงููุชุฑุฌู ุ ุงูุฐู ุ ุนูู ูุง ูุจุฏู ุ ูุฌุจ ุฃู ูุนุฑู ุนูู ูุฌู ุงููููู ููู ูุชู ุชุฑุชูุจ ูุฐุง ุงููููู ุฃู ุฐุงู ูู ุงูุฏุงุฎู ุ ูููุงุฌู ููุชูุง ุนุตูุจูุง: ูุนุฏูุงุช ุงููุตูู (ุงูุนุงูุฉ / ุงูุฎุงุตุฉ / ุงููุญููุฉ) ูุงูููุฑุงุซ ูุนูุฏ ุงูุฃููุฑ ุฅูู ุญุฏ ูุจูุฑ. <br><br>  ุจุณุจุจ ูุฐู ุงูุตุนูุจุงุช ุ ูุฅู ุงููููุฏ ุงูููุฑูุถุฉ ุนูู ุงุณุชุฎุฏุงู ูุตูููู ุตุงุฑูุฉ ููุบุงูุฉ (ุนูู ุงูุฃูู ูู ุงูููุช ุงูุญุงูู: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">P1061</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">P1096</a> ): <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุญููู ุงูุฏุงุฎููุฉ ุบูุฑ ุงูุซุงุจุชุฉ ูููุตู ุงูุฏุฑุงุณู ูู ููุณ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุ ููุฌุจ ุฃู ุชููู ูุชุงุญุฉ ูู ููุช ุงูุงุณุชุฎุฏุงู. <br></li><li style=";text-align:right;direction:rtl">  ุฃู ูุฌุจ ุนูู ุงููุตู ุชุทุจูู "ุงูุงูุนูุงุณ" (ุฏุนู ูุงุฌูุฉ tuple). <br></li></ol><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  ยซยป  struct A { int a; }; struct B : A {}; struct C : A { int c; }; class D { int d; }; auto [a] = A{}; //  (a -&gt; A::a) auto [a] = B{}; //  (a -&gt; B::A::a) auto [a, c] = C{}; // : a  c    auto [d] = D{}; // : d โ private void D::foo() {    auto [d] = *this; //  (d   ) }</span></span></code> </pre><br>  ูุชูุญ ูู ุชุทุจูู ุงููุงุฌูุฉ tuple ุงุณุชุฎุฏุงู ุฃู ูู ูุตููู ููุฑุจุท ุ ูููู ูุจุฏู ูุฑูููุง ุฅูู ุญุฏ ูุง ููุญูู ูุดููุฉ ุฃุฎุฑู.  ููุณุชุฎุฏู ูุซุงููุง ุนูู ุงูููุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  ,      int   class Foo; template&lt;&gt; struct std::tuple_size&lt;Foo&gt; : std::integral_constant&lt;std::size_t, 1&gt; {}; template&lt;&gt; struct std::tuple_element&lt;0, Foo&gt; { using type = int&amp;; }; class Foo { public: template&lt;std::size_t i&gt; std::tuple_element_t&lt;i, Foo&gt; const&amp; get() const; template&lt;std::size_t i&gt; std::tuple_element_t&lt;i, Foo&gt; &amp; get(); private: int _foo = 0; int&amp; _bar = _foo; }; template&lt;&gt; std::tuple_element_t&lt;0, Foo&gt; const&amp; Foo::get&lt;0&gt;() const { return _bar; } template&lt;&gt; std::tuple_element_t&lt;0, Foo&gt; &amp; Foo::get&lt;0&gt;() { return _bar; }</span></span></code> </pre><br>  ุงูุขู ูุญู ูุฑุจุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">Foo foo; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; [f1] = foo; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> [f2] = foo; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span>&amp; [f3] = foo; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> [f4] = foo;</code> </pre><br>  ูุญุงู ุงูููุช ููุชูููุฑ ูู ุงูุฃููุงุน ุงูุชู ุญุตููุง ุนูููุงุ  (ูู ูู ูุณุชุทูุน ุงูุฅุฌุงุจุฉ ุนูู ุงูููุฑ ูุณุชุญู ุญููุฉ ูุฐูุฐุฉ.) <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f1); <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f2); <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f3); <span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f4);</code> </pre><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f1); <span class="hljs-comment"><span class="hljs-comment">// int&amp; decltype(f2); // int&amp; decltype(f3); // int&amp; decltype(f4); // int&amp; ++f1; //     foo._foo,  {e}    const</span></span></code> </pre><br></div></div><br>  ููุงุฐุง ุญุฏุซ ูุฐุงุ  ุชููู ุงูุฅุฌุงุจุฉ ูู ุงูุชุฎุตุต ุงูุงูุชุฑุงุถู ูู <code>std::tuple_element</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i, <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">std</span></span></span><span class="hljs-class">:</span></span>:tuple_element&lt;i, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> T&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> type = <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">add_const_t</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">tuple_element_t</span></span>&lt;i, T&gt;&gt;; };</code> </pre><br>  <code>std::add_const</code> ูุง ุชุถูู <code>const</code> ุฅูู ุฃููุงุน ุงููุฑุงุฌุน ุ ูุฐูู ุณูููู ููุน <code>Foo</code> ุฏุงุฆููุง <code>int&amp;</code> . <br><br>  ููู ุชุฑุจุญ ูุฐุงุ  ููุท ุฃุถู ุชุฎุตุตูุง ูู <code>const Foo</code> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">std</span></span></span><span class="hljs-class">:</span></span>:tuple_element&lt;<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Foo&gt; { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> type = <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&amp;; };</code> </pre><br>  ุซู ูู ุงูุฃููุงุน ุณุชููู ูุชููุนุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">decltype</span></span>(f1); <span class="hljs-comment"><span class="hljs-comment">// const int&amp; decltype(f2); // const int&amp; decltype(f3); // int&amp; decltype(f4); // int&amp; ++f1; //    </span></span></code> </pre><br>  ุจุงูููุงุณุจุฉ ุ ูููู ุงูุณููู ููุณู ุตุญูุญูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ <code>std::tuple&lt;T&amp;&gt;</code> <br>  - ููููู ุงูุญุตูู ุนูู ูุฑุฌุน ุบูุฑ ุซุงุจุช ููุนูุตุฑ ุงูุฏุงุฎูู ุ ุนูู ุงูุฑุบู ูู ุฃู ุงููุงุฆู ููุณู ุณูููู ุซุงุจุชูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ุฃุดูุงุก ูุฌุจ ุชุฐูุฑูุง </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุดูุฑ " <code>cv-auto ref [a1..an] = expr</code> " ูู " <code>cv-auto ref [a1..an] = expr</code> " ุฅูู ุงููุชุบูุฑ ุบูุฑ ุงููุฑุฆู {e}. <br></li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูู ุชุชู ุงูุฅุดุงุฑุฉ ุฅูู ุงูููุน ุงููุณุชูุชุฌ {e} ุ ูุณูุชู ุชููุฆุฉ {e} ุนู ุทุฑูู ุงููุณุฎ (ุจุนูุงูุฉ ูุน ูุฆุงุช "ุงููุฒู ุงูุซููู"). <br></li><li style=";text-align:right;direction:rtl">  ูุชุบูุฑุงุช ุงูุญุฏูุฏ ูู ุฑูุงุจุท "ุถูููุฉ" (ุชุชุตุฑู ูุซู ุงูุงุฑุชุจุงุทุงุช ุ ุนูู ุงูุฑุบู ูู ุฃู <code>decltype</code> ุจุฅุฑุฌุงุน ููุน ุบูุฑ ูุฑุฌุนู ููุง (ูุง ูู ูุดูุฑ ุงููุชุบูุฑ ุฅูู ุฑุงุจุท)). <br></li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุชูุฎู ุงูุญุฐุฑ ุนูุฏ ุงุณุชุฎุฏุงู ุฃููุงุน ุงููุฑุงุฌุน ููุฑุจุท. <br></li></ol><br><h1 style=";text-align:right;direction:rtl">  ุฅุฑุฌุงุน ูููุฉ ุงูุชุญุณูู (rvo ุ ูุณุฎุฉ elision) </h1><br><img src="https://habrastorage.org/webt/gt/0i/ln/gt0iln8n664yvitfqfpkjk9vuds.png"><br><br>  ุฑุจูุง ูุงูุช ูุฐู ูุงุญุฏุฉ ูู ุฃูุซุฑ ุงูููุฒุงุช ุงูุชู ุชูุช ููุงูุดุชูุง ุจุญุฑุงุฑุฉ ูู ูุนูุงุฑ C ++ 17 (ุนูู ุงูุฃูู ูู ุฏุงุฆุฑุฉ ุฃุตุฏูุงุฆู).  ูุจุงููุนู: C ++ 11 ุฌูุจุช ุฏูุงูุงุช ุงูุญุฑูุฉ ุ ูุงูุชู ุณููุช ุฅูู ุญุฏ ูุจูุฑ ููู "ุงูุฏุงุฎููุฉ" ูููุงุฆู ูุฅูุดุงุก ุงููุตุงูุน ุงููุฎุชููุฉ ุ ู C ++ 17 ุจุดูู ุนุงู ุ ุนูู ูุง ูุจุฏู ุ ุฌุนูุช ูู ุงููููู ุนุฏู ุงูุชูููุฑ ูู ููููุฉ ุฅุฑุฌุงุน ุงููุงุฆู ูู ุจุนุถ ุทุฑููุฉ ุงููุตูุน ุ - ุงูุขู ูุฌุจ ุฃู ูููู ูู ุดูุก ุฏูู ูุณุฎ ูุจุตูุฉ ุนุงูุฉ ุ "ูุฑูุจุงู ูู ุดูุก ุณูู ูุฒูุฑ ุนูู ุงููุฑูุฎ" ... <br><br>  ูููู ูููู ูุงูุนููู ุฅูู ุญุฏ ูุง: ุชุญุณูู ุงููููุฉ ุงููุฑุฌุนุฉ ููุณ ุฃุณูู ูุง ูููู ุชูููุฐู.  ุฃูุตู ุจุดุฏุฉ ุจูุดุงูุฏุฉ ูุฐุง ุงูุนุฑุถ ุงูุชูุฏููู ูู cppcon2018: Arthur O'Dwyer " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุฑุฌุงุน ูููุฉ ุงูุชุญุณูู: ุฃุตุนุจ ููุง ูุจุฏู</a> " ุ ุญูุซ ููุถุญ ุงููุคูู ุณุจุจ ุตุนูุจุฉ ุฐูู. <br><br>  ุงูููุณุฏ ุงููุตูุฑ: <br><br>  ููุงู ุดูุก ูุซู "ูุชุญุฉ ููููุฉ ุงูุฅุฑุฌุงุน".  ูุฐู ุงููุชุญุฉ ูู ูู ุงูุฃุณุงุณ ูุฌุฑุฏ ููุงู ุนูู ุงูููุฏุณ ูุชู ุชุฎุตูุตู ุจูุงุณุทุฉ ุงูุดุฎุต ุงูุฐู ูููู ุจุงูุงุชุตุงู ุจุงููุฑูุฑ ูููุฑุฑู.  ุฅุฐุง ูุงูุช ุงูุดูุฑุฉ ุงูุชู ุชู ุงุณุชุฏุนุงุคูุง ุชุนุฑู ุชูุงููุง ุฃู ูุงุฆู ูุฑุฏู ุณูุชู ุฅุฑุฌุงุนู ุ ูููููู ุจุจุณุงุทุฉ ุฅูุดุงุคู ุนูู ุงูููุฑ ูู ูุฐู ุงููุชุญุฉ ูุจุงุดุฑุฉ (ุจุดุฑุท ุฃู ูููู ุญุฌู ุงููุงุฆู ูููุนู ูุงููุชุญุฉ ูุชูุงุซููู). <br><br>  ูุง ููู ูู ูุฐุงุ  ูููุตููุง ูุน ุงูุฃูุซูุฉ. <br><br>  ูู ุดูุก ุณูููู ุนูู ูุง ูุฑุงู ููุง - ุณูู ูุนูู NRVO ุ ูุณูุชู ุจูุงุก ุงููุงุฆู ุนูู ุงูููุฑ ูู "ูุชุญุฉ": <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Base </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Base a; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; }</code> </pre><br>  ููุง ูู ูุนุฏ ูู ุงููููู ุชุญุฏูุฏ ุฃู ูุงุฆู ูุฌุจ ุฃู ูููู ุงููุชูุฌุฉ ุจุดูู ูุง ูุจุณ ููู ุ ูุฐูู ุณูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณุชุฏุนุงุก ูููุดุฆ ุงูุฎุทูุฉ</a> (c ++ 11) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุถููููุง</a> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Base </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c)</span></span></span><span class="hljs-function"> </span></span>{ Base a,b; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> b; }</code> </pre><br>  ุงูุฃูุฑ ุฃูุซุฑ ุชุนููุฏูุง ููุง ... ูุธุฑูุง ูุฃู ููุน ูููุฉ ุงูุฅุฑุฌุงุน ูุฎุชูู ุนู ุงูููุน ุงูููุนูู ุ ูุง ููููู ุงุณุชุฏุนุงุก <code>move</code> ุถููููุง ุ ูุจุงูุชุงูู ุ ููุณูู ูููุดุฆ ุงููุณุฎ ุงูุชุฑุงุถููุง.  ูููุน ุญุฏูุซ ุฐูู ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฏุนุงุก <code>move</code> ุจุดูู ุตุฑูุญ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Base </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c)</span></span></span><span class="hljs-function"> </span></span>{ Derived a,b; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(a); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(b); }</code> </pre><br>  ูุจุฏู ุฃู ูุฐุง ูู ููุณ <code>foo2</code> ุ ูููู ุงููุดุบู ุงูุซูุงุซู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดูุก ุบุฑูุจ</a> ููุบุงูุฉ ... <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Base </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo4</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c)</span></span></span><span class="hljs-function"> </span></span>{ Base a, b; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(c ? a : b); }</code> </pre><br>  ุนูู ุบุฑุงุฑ <code>foo4</code> ุ ูููู ุฃูุถูุง ูุน ููุน ูุฎุชูู ุ ูุฐูู ููุฒู <code>move</code> ุจุงูุถุจุท: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">Base </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo5</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c)</span></span></span><span class="hljs-function"> </span></span>{ Derived a, b; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(c ? a : b); }</code> </pre><br>  ููุง ุชุฑูู ูู ุงูุฃูุซูุฉ ุ ูุง ูุฒุงู ูุชุนูู ุนูู ุงููุฑุก ุฃู ูููุฑ ูู ููููุฉ ุฅุฑุฌุงุน ุงููุนูู ุญุชู ูู ุงูุญุงูุงุช ุงูุชู ุชุจุฏู ุชุงููุฉ ... ูู ููุงู ุฃู ุทุฑู ูุชุจุณูุท ุญูุงุชู ููููุงูุ  ููุงู: clang ูุจุนุถ ุงูููุช ุงูุขู ูุฏุนู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุดุฎูุต</a> ุงูุญุงุฌุฉ ุฅูู ุงุณุชุฏุนุงุก <code>move</code> ุจุดูู ุตุฑูุญ ุ ูููุงู ุงูุนุฏูุฏ ูู ุงูููุชุฑุญุงุช ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">P1155</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">P0527</a> ) ูู ุงููุนูุงุฑ ุงูุฌุฏูุฏ ุงูุฐู ุณูุฌุนู <code>move</code> ุงูุตุฑูุญ ุฃูู ุถุฑูุฑุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฃุดูุงุก ูุฌุจ ุชุฐูุฑูุง </h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  RVO / NRVO ุณุชุนูู ููุท ุฅุฐุง: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงููุนุฑูู ุจุดูู ูุง ูุจุณ ููู ุฃู ูุงุฆู ููุฑุฏ ูุฌุจ ุฅูุดุงุคู ูู "ูุชุญุฉ ูููุฉ ุงูุฅุฑุฌุงุน" ุ </li><li style=";text-align:right;direction:rtl">  ูุงุฆู ุงูุนูุฏุฉ ูุฃููุงุน ุงููุธููุฉ ูู ููุณูุง. </li></ul></li><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงู ููุงู ุบููุถ ูู ูููุฉ ุงูุฅุฑุฌุงุน ุ ูุนูุฏุฆุฐู: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฐุง ูุงูุช ุฃููุงุน ุงููุงุฆู ุงูุฐู ุชู ุฅุฑุฌุงุนู ูุชุทุงุจู ุงููุธููุฉ ุ ุณูุชู ุงุณุชุฏุนุงุก ุงูููู ุถููููุง ุ </li><li style=";text-align:right;direction:rtl">  ุฎูุงู ุฐูู ุ ูุฌุจ ุนููู ุงุณุชุฏุนุงุก ุตุฑุงุญุฉ ุงูุชุญุฑู. </li></ul></li><li style=";text-align:right;direction:rtl">  ุชูุฎู ุงูุญุฐุฑ ุนูุฏ ุงููุดุบู ุงูุซูุงุซู: ุฅูู ููุฌุฒ ููููู ูุฏ ูุชุทูุจ ุชุญุฑููุง ูุงุถุญูุง. <br></li><li style=";text-align:right;direction:rtl">  ูู ุงูุฃูุถู ุงุณุชุฎุฏุงู ุงููุฌูุนูู ุงูุฐูู ูุฏููู ุชุดุฎูุตุงุช ูููุฏุฉ (ุฃู ุนูู ุงูุฃูู ูุญููุงุช ุซุงุจุชุฉ). <br></li></ol><br><h1 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h1><br>  ูุญุชู ุงูุขู ุฃูุง ุฃุญุจ C ++ ุ) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar465181/">https://habr.com/ru/post/ar465181/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar465167/index.html">ุชุฎุทูุท ุงูููุงุฑุฏ. ููุงุฐุง ูุง ูุนููุ ุงูุฌุฒุก 1</a></li>
<li><a href="../ar465169/index.html">DIY ูู PVS-Studio: Gamification of Achievements</a></li>
<li><a href="../ar465173/index.html">ููููุฉ ุชุบููุฑ ุชูููุฉ ุงูุงุดุชุฑุงู ุงูุฐู ุชู ุฅูุดุงุคู ูู ุงูุชุทุจูู ุงูุฎุงุต ุจู. ูุชุฌุฑ ุงูุชุทุจููุงุช Connect ู Google Play Console</a></li>
<li><a href="../ar465177/index.html">ููุณุช ูุงุญุฏุฉ ูู ุจูุงูุง ุฌุฏูุฏุฉ: ูุธุฑุฉ ุนูู Datadog ู Atatus</a></li>
<li><a href="../ar465179/index.html">ูู ูุญู ุงูุฃุชูุชุฉ ูุญู ุงูุงุฎุชุจุงุฑ ุงููุฏููุ</a></li>
<li><a href="../ar465185/index.html">ูุนุงููุฑ ูุฑุงูุจุฉ ููุฏูู ุฌุฏูุฏุฉ: ุงูููู ูู ุงูููู ุ ูููุงูุญุฉ ุงูุถูุถุงุก ุ ePoE</a></li>
<li><a href="../ar465187/index.html">6 ุนุจุงุฑุงุช ุฅูุฌููุฒูุฉ ูููู ุงุณุชุฎุฏุงููุง ูู ููุงูุถุงุช ุงูุฑูุงุชุจ ูุน ุงูุดุฑูุงุช ุงูุฃุฌูุจูุฉ</a></li>
<li><a href="../ar465189/index.html">ูุฑูู ุชุทููุฑ ุณุจุงู ุงูุนุฏู</a></li>
<li><a href="../ar465191/index.html">ุชุฏุฑูุจ Cisco 200-125 CCNA v3.0. ููู 25. ุฏุฑุงุณุฉ ูุชุนููุฉ ู IPv6</a></li>
<li><a href="../ar465193/index.html">ุจูุงุก ูุดุฑูุน Android ูู ุญุงููุฉ ุนุงูู ูููุงุก</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>