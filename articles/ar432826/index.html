<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คพ๐ฝ ๐ณ๏ธ ๐จ๐ฟโ๐ป ุชุทููุฑ ุฃูุฏุฑููุฏ ุงูุญุฏูุซ ุนูู Kotlin. ุงูุฌุฒุก 2 โบ๏ธ ๐๐ฝ ๐๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู " ุชุทููุฑ ุฃูุฏุฑููุฏ ุงูุญุฏูุซ ูุน Kotlin (ุงูุฌุฒุก 2) " ููููุงุฏูู Rakonjac. 

 ููุงุญุธุฉ ูุฐู ุงูููุงูุฉ ูู ุชุฑุฌูุฉ ูุณูุณูุฉ ุงูููุงูุงุช ูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุทููุฑ ุฃูุฏุฑููุฏ ุงูุญุฏูุซ ุนูู Kotlin. ุงูุฌุฒุก 2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432826/" style=";text-align:right;direction:rtl">  ูุฑุญุจุง ูุง ูุจุฑ!  ุฃูุฏู ููู ุชุฑุฌูุฉ ุงูููุงู " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุทููุฑ ุฃูุฏุฑููุฏ ุงูุญุฏูุซ ูุน Kotlin (ุงูุฌุฒุก 2)</a> " ููููุงุฏูู Rakonjac. <br><br>  <i>ููุงุญุธุฉ</i>  <i>ูุฐู ุงูููุงูุฉ ูู ุชุฑุฌูุฉ ูุณูุณูุฉ ุงูููุงูุงุช ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Mladen Rakonjac</a> ุ ุชุงุฑูุฎ ุงูููุงูุฉ: 09/23/2017.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a></i>  <i>ุจุฏุฃุช ูู ูุฑุงุกุฉ ุงูุฌุฒุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃูู</a> ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">SemperPeritus ุ</a> ุงูุชุดูุช ุฃูู ูู ุชุชู ุชุฑุฌูุฉ ุงูุฌุฒุก ุงูุขุฎุฑ ูุณุจุจ ูุง.</i>  <i>ูุฐูู ุ ุฃูุฌู ุงูุชุจุงููู ุฅูู ุงูุฌุฒุก ุงูุซุงูู.</i>  <i>ุชุญููุช ุงูููุงูุฉ ุฅูู ุฃู ุชููู ุถุฎูุฉ.</i> <br><br><img src="https://pbs.twimg.com/media/DIIHg0eV0AAl0u5.jpg" alt="ุงูุตูุฑุฉ"><br><br>  "ูู ุงูุตุนุจ ุฌุฏูุง ุงูุนุซูุฑ ุนูู ูุดุฑูุน ูุงุญุฏ ูุบุทู ูู ูุง ูู ุฌุฏูุฏ ูู ุงูุชุทููุฑ ููุธุงู Android ูู Android Studio 3.0 ุ ูุฐูู ูุฑุฑุช ูุชุงุจุชู." <br><a name="habracut"></a><br>  ูู ูุฐู ุงูููุงูุฉ ุ ุณูููู ุจุชุญููู ูุง ููู: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Android Studio 3 beta 1 <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Part 1</a></b> </li><li style=";text-align:right;direction:rtl">  Kotlin ูุบุฉ ุงูุจุฑูุฌุฉ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a></b> </li><li style=";text-align:right;direction:rtl">  ุจูุงุก ุฎูุงุฑุงุช <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a></b> </li><li style=";text-align:right;direction:rtl">  ููุฏ ุงูููุฏ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a></b> </li><li style=";text-align:right;direction:rtl">  ููุชุจุฉ ุฑุจุท ุงูุจูุงูุงุช <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 1</a></b> </li><li style=";text-align:right;direction:rtl">  <b>MVVM Architecture + Repository + Android Manager Wrappers Pattern</b> </li><li style=";text-align:right;direction:rtl">  RxJava2 ูููู ูุณุงุนุฏูุง ูู ุงูุนูุงุฑุฉ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 3</a></b> </li><li style=";text-align:right;direction:rtl">  ุฎูุฌุฑ 2.11 ุ ูุง ูู ุญูู ุงูุชุจุนูุฉ ุ ููุงุฐุง ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ูุฐุง <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฌุฒุก 4</a></b> </li><li style=";text-align:right;direction:rtl">  ุงูุชุญุฏูุซูุฉ (ูุน Rx Java2) </li><li style=";text-align:right;direction:rtl">  ุบุฑูุฉ (ูุน Rx Java2) </li></ol><br><h2 style=";text-align:right;direction:rtl">  MVVM Architecture + Repository + Android Manager Wrappers Pattern </h2><br><h3 style=";text-align:right;direction:rtl">  ุจุถุน ูููุงุช ุนู ุงูุนูุงุฑุฉ ูู ุนุงูู ุฃูุฏุฑููุฏ </h3><br>  ูุจุนุถ ุงูููุช ุ ูู ูุณุชุฎุฏู ูุทูุฑู Android ุฃู ููุฏุณุฉ ูู ูุดุงุฑูุนูู.  ุนูู ูุฏู ุงูุณููุงุช ุงูุซูุงุซ ุงููุงุถูุฉ ุ ุธูุฑ ุงููุซูุฑ ูู ุงูุถุฌูุฌ ุญูููุง ูู ูุฌุชูุน ูุทูุฑู ูุธุงู Android.  ููุฏ ูุฑ ููุช ูุดุงุท ุงููู ููุดุฑุช Google ูุณุชูุฏุน <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฎุทุทุงุช ุฃูุฏุฑููุฏ ููููุฏุณุฉ ุงููุนูุงุฑูุฉ</a></b> ุ ูุน ุงูุนุฏูุฏ ูู ุงูุฃูุซูุฉ ูุงูุชุนูููุงุช ุนูู ูุฎุชูู ุงูุฃุณุงููุจ ุงููุนูุงุฑูุฉ.  ุฃุฎูุฑูุง ุ ูู Google IO '17 ุ ูุงููุง ุจุชูุฏูู <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Android Architecture Components</a></b> ุ ููู ูุฌููุนุฉ ูู ุงูููุชุจุงุช ุงููุตููุฉ ููุณุงุนุฏุชูุง ูู ุฅูุดุงุก ุชุนูููุงุช ุจุฑูุฌูุฉ ุฃูุธู ูุชุญุณูู ุงูุชุทุจููุงุช.  ูููู <b>ูููู</b> ููููู ุงุณุชุฎุฏุงู ูู ูููู ุ ุฃู ูุงุญุฏ ูููู ููุท.  ููุน ุฐูู ุ ูุฌุฏุช ููู ุฌููุนุง ูููุฏุฉ ุญูุง.  ูุฐูู ูู ุงููุต ููู ุงูุฃุฌุฒุงุก ุงูุชุงููุฉ ุณูู ูุณุชุฎุฏููุง.  ุฃููุงู ุ ุณุฃูุงุฌู ุงููุดููุฉ ูู ุงูููุฏ ุ ูุจุนุฏ ุฐูู ุณุฃุนูุฏ ุงุณุชุฎุฏุงู ูุฐู ุงูููููุงุช ูุงูููุชุจุงุช ููุนุฑูุฉ ุงููุดููุงุช ุงูุชู ูู ุงูููุชุฑุถ ุญููุง. <br><br>  ููุงู ูููุฐุฌุงู ุฑุฆูุณูุงู ูุดุชุฑูุงู ูู ุฑูุฒ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฑุณูููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  MVP </li><li style=";text-align:right;direction:rtl">  MVVM </li></ul><br>  ูู ุงูุตุนุจ ุงูููู ุฃูููุง ุฃูุถู.  ูุฌุจ ุฃู ุชุญุงูู ุนูู ุญุฏ ุณูุงุก ูุชูุฑุฑ.  ุฃูุถู <b>ุงุณุชุฎุฏุงู MVVM ูููููุงุช ูุฏุฑูุฉ ูุฏูุฑุฉ ุงูุญูุงุฉ ูุณุฃูุชุจ</b> ุนููุง.  ุฅุฐุง ูู ุชุญุงูู ุงุณุชุฎุฏุงู MVP ุฃุจุฏูุง ุ ูููุงู ุงูุนุฏูุฏ ูู ุงูููุงูุงุช ุงูุฌูุฏุฉ ุนูู "ุงููุชูุณุท" ุญูู ูุฐุง ุงูููุถูุน. <br><br><h3 style=";text-align:right;direction:rtl">  ูุง ูู ููุท MVVMุ </h3><br>  MVVM ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุท ูุนูุงุฑู</a> ูุชูุณุน ููููุฐุฌ ุนุฑุถ ViewModel.  ุฃุนุชูุฏ ุฃู ูุฐุง ุงูุงุณู ูุฑุจู ุงููุทูุฑูู.  ุฅุฐุง ููุช ุงูุดุฎุต ุงูุฐู ุฃุชู ุจุงุณูู ุ ูุณุฃุทูู ุนููู View-ViewModel-Model ุ ูุฃู <b>ViewModel</b> ูู ุงููุณุท ุ ููุฑุจุท <b>ุทุฑููุฉ ุงูุนุฑุถ</b> <b>ูุงูุทุฑุงุฒ</b> . <br><br>  <b>ุทุฑููุฉ ุงูุนุฑุถ</b> ุนุจุงุฑุฉ ุนู ุชุฌุฑูุฏ <b>ูููุดุงุท</b> ุฃู <b>ุงูุฌุฒุก</b> ุฃู ุฃู ุทุฑููุฉ ุนุฑุถ ูุฎุตุตุฉ ุฃุฎุฑู (ุนุฑุถ <b>Android ุงููุฎุตุต</b> ).  ูุฑุฌู ููุงุญุธุฉ ุฃูู ูู ุงูููู ุนุฏู ุงูุฎูุท ุจูู <b>ุทุฑููุฉ ุงูุนุฑุถ</b> ูุฐู ูุทุฑููุฉ <b>ุนุฑุถ</b> Android.  ูุฌุจ ุฃู ุชููู <b>ุทุฑููุฉ ุงูุนุฑุถ</b> ุบุจูุฉ ุ ููุฌุจ ุฃูุง ููุชุจ ุฃู ููุทู ููุง.  ูุฌุจ ุฃูุง ูุญุชูู ุงูุนุฑุถ ุนูู ุจูุงูุงุช.  ูุฌุจ ุฃู ูุฎุฒู ุฅุดุงุฑุฉ ุฅูู ูุซูู <b>ViewModel</b> ูุฌููุน ุงูุจูุงูุงุช ุงูุชู ูุญุชุงุฌูุง <b>ุงูุนุฑุถ</b> ูุฌุจ ุฃู ุชุฃุชู ูู ููุงู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฌุจ ุนูู <b>ุทุฑููุฉ ุงูุนุฑุถ</b> ูุฑุงูุจุฉ ูุฐู ุงูุจูุงูุงุช ูุงูุชุฎุทูุท ูุฌุจ ุฃู ูุชุบูุฑ ุนูุฏูุง ุชุชุบูุฑ ุงูุจูุงูุงุช ูู <b>ViewModel</b> .  ููุชูุฎูุต ุ ูููู <b>View</b> ูุณุคููุงู ุนู ูุง ููู: ุนุฑุถ ุงูุชุฎุทูุท ููุฎุชูู ุงูุจูุงูุงุช ูุงูุญุงูุงุช. <br><br>  <b>ViewModel</b> ูู ุงุณู ูุฌุฑุฏ ููุตู ูุญุชูู ุนูู ุจูุงูุงุช ูููุทู ุ ูุชู ูุฌุจ ุงุณุชูุงู ูุฐู ุงูุจูุงูุงุช ูุนูุฏูุง ุชุธูุฑ.  ูููู <b>ViewModel</b> ุจุชุฎุฒูู <b>ุงูุญุงูุฉ</b> ุงูุญุงููุฉ.  <b>ูููู ViewModel</b> ุฃูุถูุง ุจุชุฎุฒูู ุฑุงุจุท ุฅูู ูููุฐุฌ ูุงุญุฏ ุฃู ุฃูุซุฑ ููุณุชูุจู ุฌููุน ุงูุจูุงูุงุช ููู.  ูุง ููุจุบู ููุง ุฃู ุชุนุฑู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฃูู ุฌุงุกุช ุงูุจูุงูุงุช ุ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ูู ุงูุฎุงุฏู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ูุญุชุงุฌ <b>ViewModel</b> ุฅูู ูุนุฑูุฉ ุฃู ุดูุก ุนู <b>ุทุฑููุฉ ุงูุนุฑุถ</b> .  ุนูุงูุฉ ุนูู ุฐูู ุ <u>ูุฌุจ ุฃูุง ูุนุฑู <b>ViewModel</b> ุฃู ุดูุก ุนู ุฅุทุงุฑ ุนูู Android ุนูู ุงูุฅุทูุงู.</u> <br><br>  <b>ุงููููุฐุฌ</b> ูู ุงูุงุณู ุงูุชุฌุฑูุฏู ููุทุจูุฉ ุงูุชู ุชุนุฏ ุงูุจูุงูุงุช ู <b>ViewModel</b> .  ูุฐู ูู ุงููุฆุฉ ุงูุชู ุณูุชููู ูููุง ุงูุจูุงูุงุช ูู ุงูุฎุงุฏู ููุฎุฒููุง ูุคูุชูุง ุฃู ูุฎุฒููุง ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ.  ูุงุญุธ ุฃู ูุฐู ููุณุช ูู ููุณ ุงููุฆุงุช ูุซู ุงููุณุชุฎุฏู ุฃู ุงูุณูุงุฑุฉ ุฃู ุงููุฑุจุน ุฃู ูุฆุงุช ุงูููุงุฐุฌ ุงูุฃุฎุฑู ุงูุชู ุชุฎุฒู ุงูุจูุงูุงุช ุจุจุณุงุทุฉ.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุฐุง ูู ุชุทุจูู ูุงูุจ ุงูุณุฌู ุ ูุงูุฐู ุณููุธุฑ ููู ูุงุญููุง.  ูุฌุจ ุฃูุง ูุนุฑู <b>ุงููููุฐุฌ</b> ุฃู ุดูุก ุนู <b>ViewModel</b> . <br><br>  <b>MVVM</b> ุ ุฅุฐุง ุชู ุชูููุฐูุง ุจุดูู ุตุญูุญ ุ ููู ุทุฑููุฉ ุฑุงุฆุนุฉ ููุณุฑ ุงูููุฏ ูุฌุนูู ุฃูุซุฑ ูุงุจููุฉ ููุงุฎุชุจุงุฑ.  ูุฐุง ูุณุงุนุฏูุง ุนูู ุงุชุจุงุน ูุจุงุฏุฆ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SOLID</a></b> ุ ูุฐูู <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏูุง</a></b> ุฃุณูู ูู ุงูุตูุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ุฑูุฒ </h3><br>  ุงูุขู ุณุฃูุชุจ ูุซุงูุง ุจุณูุทุง ููุถุญ ููู ูุนูู ูุฐุง. <br><br>  ููุจุฏุก ุ ุฏุนูุง ููุดุฆ ูููุฐุฌูุง ุจุณูุทูุง ูุนุฑุถ ุฎุทูุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RepoModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepoModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refreshData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> : String </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Some new data"</span></span> } }</code> </pre> <br></div></div><br>  ุนุงุฏุฉู ูุง ูููู ุชููู ุงูุจูุงูุงุช ููุงููุฉ <b>ุบูุฑ ูุชุฒุงููุฉ</b> ุ ูุฐูู ูุฌุจ ุนูููุง ุงูุชุธุงุฑูุง.  ููุญุงูุงุฉ ูุฐุง ุ ููุช ุจุชุบููุฑ ุงููุตู ุงูุฏุฑุงุณู ุฅูู ูุง ููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RepoModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepoModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refreshData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onDataReadyCallback: OnDataReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ Handler().postDelayed({ onDataReadyCallback.onDataReady(<span class="hljs-string"><span class="hljs-string">"new data"</span></span>) },<span class="hljs-number"><span class="hljs-number">2000</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDataReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data : String)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br>  ุฃูุง ุฎููุช ูุงุฌูุฉ <code><b>OnDataReadyCallback</b></code> ูุน ุฃุณููุจ <code><b>onDataReady</b></code> .  ูุงูุขู <code><b>refreshData</b></code> ุทุฑููุฉ <code><b>refreshData</b></code> (ุชููุฐ) <code><b>OnDataReadyCallback</b></code> .  ููุญุงูุงุฉ ุงูุงูุชุธุงุฑ ุ ุงุณุชุฎุฏู <code><b>Handler</b></code> .  ูุฑุฉ ูุงุญุฏุฉ <code><b>onDataReady</b></code> ุซุงููุชูู ุ ุณูุชู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code><b>onDataReady</b></code> ุนูู ุงููุฆุงุช ุงูุชู ุชุทุจู ูุงุฌูุฉ <code><b>OnDataReadyCallback</b></code> . <br><br>  ูููู ุจุฅูุดุงุก <b>ViewModel</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repoModel: RepoModel = RepoModel() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> text: String = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isLoading: Boolean = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> }</code> </pre> <br></div></div><br>  ููุง ุชุฑู ุ ููุงู ูุซูู ูู <code><b>RepoModel</b></code> ุ <code><b>text</b></code> ุ ุณูุชู ุนุฑุถู ุ ููุชุบูุฑ <code><b>isLoading</b></code> ูููู ุจุชุฎุฒูู ุงูุญุงูุฉ ุงูุญุงููุฉ.  ูููู ุจุฅูุดุงุก ุทุฑููุฉ <code><b>refresh</b></code> ูุณุคููุฉ ุนู ุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> </span></span>{ ... val onDataReadyCallback = object : OnDataReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: String)</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) text.set(data) } } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) repoModel.refreshData(onDataReadyCallback) } }</code> </pre> <br></div></div><br>  ูุณุชุฏุนู ุฃุณููุจ <code><b>refresh</b></code> <code><b>refreshData</b></code> ุนูู <code><b>RepoModel</b></code> ุ ูุงูุฐู ูุฃุฎุฐ ุชุทุจูู <code>OnDataReadyCallback</code> ูู ุงููุณุงุฆุท.  ุญุณูุง ุ ูููู ูุง ูู <code><b>object</b></code> ุ  ุนูุฏูุง ุชุฑูุฏ ุชุทุจูู ูุงุฌูุฉ ุฃู ุชุฑุซ ูุฆุฉ ุชูุฏูุฏ ุฏูู ูุฆุฉ ูุฑุนูุฉ ุ ุณุชุณุชุฎุฏู <b>ุฅุนูุงู ูุงุฆู</b> .  ูุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ูุฐุง ูุตู ูุฌูููุ  ูู ูุฐู ุงูุญุงูุฉ ุ ุชุณุชุฎุฏู <b>ุชุนุจูุฑ ุงููุงุฆู</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repoModel: RepoModel = RepoModel() <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> text: String = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isLoading: Boolean = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">false</span></span></span><span class="hljs-function"> fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ repoModel.refreshData( object : OnDataReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: String)</span></span></span><span class="hljs-function"> </span></span>{ text = data }) } }</code> </pre> <br></div></div><br>  ุนูุฏูุง ูุณูู <code>refresh</code> ุ ูุฌุจ ุฃู ูุบูุฑ ุทุฑููุฉ ุงูุนุฑุถ ุฅูู ุญุงูุฉ <b>ุงูุชุญููู</b> ูุนูุฏูุง ุชุตู ุงูุจูุงูุงุช ุ ุงุถุจุท <code><b>isLoading</b></code> ุฅูู <code>false</code> . <br><br>  ูุฌุจ ุนูููุง ุฃูุถูุง ุงุณุชุจุฏุงู <code><b>text</b></code> ุจู <pre style=";text-align:right;direction:rtl"> <code class="hljs xml"><b>ObservableField<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">String</span></span></span><span class="hljs-tag">&gt;</span></span></b></code> </pre>  ู <code><b>isLoading</b></code> on <pre style=";text-align:right;direction:rtl"> <code class="hljs pgsql"><b>ObservableField&lt;<span class="hljs-type"><span class="hljs-type">Boolean</span></span>&gt;</b></code> </pre>  .  ููุซู <code><b>ObservableField</b></code> ูุฆุฉ ูู ููุชุจุฉ ุฑุจุท ุงูุจูุงูุงุช ูููููุง ุงุณุชุฎุฏุงููุง ุจุฏูุงู ูู ุฅูุดุงุก ูุงุฆู ูููู ููุงุญุธุชู ุ ููู ููู ุงููุงุฆู ุงูุฐู ูุฑูุฏ ูุฑุงูุจุชู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repoModel: RepoModel = RepoModel() val text = ObservableField&lt;String&gt;() val isLoading = ObservableField&lt;Boolean&gt;() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) repoModel.refreshData(object : OnDataReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: String)</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) text.set(data) } }) } }</code> </pre> <br></div></div><br>  ูุงุญุธ ุฃููู ุฃุณุชุฎุฏู <b>val</b> ุจุฏูุงู ูู <b>var</b> ุ ูุฃููุง ุณูููู ููุท ุจุชุบููุฑ ุงููููุฉ ูู ุงูุญูู ุ ูููู ููุณ ุงูุญูู ููุณู.  ูุฅุฐุง ููุช ุชุฑุบุจ ูู ุงูุชููุฆุฉ ุ ูุงุณุชุฎุฏู ูุง ููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">initobserv.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs">val text = ObservableField(<span class="hljs-string"><span class="hljs-string">"old data"</span></span>) val isLoading = ObservableField(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)</code> </pre> <br></div></div><br><br>  ุฏุนูุง ูุบูุฑ ุงูุชุตููู ุงูุฎุงุต ุจูุง ุญุชู ูุชููู ูู ููุงุญุธุฉ <b>ุงููุต</b> <b>ูุงูุชุญููู</b> .  ููุจุฏุก ุ ูู ุจุฑุจุท <b>MainViewModel</b> ุจุฏูุงู ูู <b>ุงูุณุฌู</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">activity_main.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewModel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.mladenrakonjac.modernandroidapp.MainViewModel"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  ุซู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุบููุฑ TextView ููุฑุงูุจุฉ <b>ุงููุต</b> ูู <b>MainViewModel</b> </li><li style=";text-align:right;direction:rtl">  ุฃุถู ProgressBar ุ ูุงูุฐู ุณูููู ูุฑุฆููุง ููุท ุฅุฐุง ูุงู <b>ุงูุชุญููู</b> ุญูููููุง </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ุฒุฑ ุ ูุงูุชู ุนูุฏ ุงูููุฑ ุนูููุง ุ <b>ุณุชุณุชุฏุนู</b> ุทุฑููุฉ <b>ุงูุชุญุฏูุซ</b> ูู <b>MainViewModel</b> ููู ุชููู ูุงุจูุฉ ููููุฑ ุฅูุง ุฅุฐุง ุชู <b>ุชุญููู</b> false </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">main_activity.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.text}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProgressBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/loading"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.isLoading ? View.VISIBLE : View.GONE}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/refresh_button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{() -&gt; viewModel.refresh()}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:clickable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.isLoading ? false : true}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> ...</code> </pre> <br></div></div><br>  ุฅุฐุง ููุช <code>View.VISIBLE and View.GONE cannot be used if View is not imported</code> .  ุญุณููุง ุ ุฏุนูุง ูุณุชูุฑุฏ: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">main_activity.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.view.View"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewModel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.fleka.modernandroidapp.MainViewModel"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  ุญุณูุง ุ ูุนูุช ูุน ุงูุชุฎุทูุท.  ุงูุขู ุงูุงูุชูุงุก ูู ุงูุฑุจุท.  ููุง ููุช ุ ูุฌุจ ุฃู ูููู ูุฏู <code><b>View</b></code> ูุซูู ูู <code><b>ViewModel</b></code> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainActivity.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class">() </span></span>{ lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> binding: ActivityMainBinding <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mainViewModel = MainViewModel() <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: Bundle?)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_main) binding.viewModel = mainViewModel binding.executePendingBindings() } }</code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฃุฎูุฑูุง ุ ูููููุง ุงูุฑูุถ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  ููููู ุฃู ุชุฑู ุฃู <b>ุงูุจูุงูุงุช ุงููุฏููุฉ ูุชู</b> ุงุณุชุจุฏุงููุง <b>ุจุจูุงูุงุช ุฌุฏูุฏุฉ</b> . <br><br>  ูุงู ูุฐุง ูุซุงูุง ุจุณูุทุง ุนูู MVVM. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูููู ููุงู ูุดููุฉ ูุงุญุฏุฉ ุ ุฏุนููุง ูุฏูุฑ ุงูุดุงุดุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  <b>ุงูุจูุงูุงุช ุงููุฏููุฉ</b> ูุญู <b>ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ</b> .  ููู ูุฐุง ููููุ  ุฃูู ูุธุฑุฉ ุนูู ุฏูุฑุฉ ุญูุงุฉ ุงููุดุงุท: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฏูุฑุฉ ุญูุงุฉ ุงููุดุงุท</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://cdn-images-1.medium.com/max/1600/1*CGGROXWhl8dTko1GdDeFsA.png" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ุนูุฏ ุชุดุบูู ุงููุงุชู ุ ุชู ุฅูุดุงุก ูุซูู ุฌุฏูุฏ <code><b>onCreate()</b></code> ูุชู ุงุณุชุฏุนุงุก ุทุฑููุฉ <code><b>onCreate()</b></code> .  ุฃูู ูุธุฑุฉ ุนูู ูุดุงุทูุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainActivity.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class">() </span></span>{ lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> binding: ActivityMainBinding <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mainViewModel = MainViewModel() <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: Bundle?)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_main) binding.viewModel = mainViewModel binding.executePendingBindings() } }</code> </pre> <br></div></div><br>  ููุง ุชุฑูู ุ ุนูุฏ ุฅูุดุงุก ูุซูู ูุดุงุท ุ ุชู ุฅูุดุงุก ูุซูู <b>MainViewModel</b> ุฃูุถูุง.  ูู ูู ุฌูุฏ ุฅุฐุง ูุงู ูุฏููุง ุจุทุฑููุฉ ูุง ููุณ ูุซูู <b>MainViewModel</b> ููู <b>ูุดุงุท ูุนุงุฏ</b> ุตูุบูุ <br><br><h3 style=";text-align:right;direction:rtl">  ููุฏูุฉ ูููููุงุช ุฏูุฑุฉ ุงูุญูุงุฉ </h3><br>  ุจุณุจุจ  ููุงุฌู ุงูุนุฏูุฏ ูู ุงููุทูุฑูู ูุฐู ุงููุดููุฉ ุ ูุฑุฑ ูุทูุฑู ูุฑูู Android Framework ุฅูุดุงุก ููุชุจุฉ ูุตููุฉ ูููุณุงุนุฏุฉ ูู ุญู ูุฐู ุงููุดููุฉ.  ูุฆุฉ <b>ViewModel</b> ูู ูุงุญุฏุฉ ูููุง.  ูุฐู ูู ุงููุฆุฉ ุงูุชู ูุฌุจ ุฃู ูุฑุซูุง ูู ูู ViewModel ุงูุฎุงุต ุจูุง. <br><br>  ุฏุนููุง ูุฑุซ <b>MainViewModel</b> ูู <b>ViewModel</b> ูู ููููุงุช ูุฏุฑูุฉ ูุฏูุฑุฉ ุงูุญูุงุฉ.  ูุญุชุงุฌ ุฃููุงู ุฅูู ุฅุถุงูุฉ ููุชุจุฉ <b>ุงูููููุงุช ุงูุชู ุชุฏุฑู ุฏูุฑุฉ ุงูุญูุงุฉ</b> ุฅูู ููู <b>build.gradle ุงูุฎุงุต</b> ุจูุง: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุจูุงุก</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">dependencies { ... implementation "android.arch.lifecycle:runtime:1.0.0-alpha9" implementation "android.arch.lifecycle:extensions:1.0.0-alpha9" kapt "android.arch.lifecycle:compiler:1.0.0-alpha9"</code> </pre> <br></div></div><br>  ุฌุนู <b>MainViewModel</b> ูุฑุงุซุฉ <b>ViewModel</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> me.mladenrakonjac.modernandroidapp <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.arch.lifecycle.ViewModel <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewModel</span></span></span><span class="hljs-class">() </span></span>{ ... }</code> </pre> <br></div></div><br>  <b>ุณุชุจุฏู</b> ุทุฑููุฉ <b>onCreate ()</b> ุงูุฎุงุตุฉ ุจู MainActivity ูุฏููุง ููุง ููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainActivity.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class">() </span></span>{ lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> binding: <span class="hljs-function"><span class="hljs-function">ActivityMainBinding override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: Bundle?)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_main) binding.viewModel = ViewModelProviders.of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).get(MainViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">binding</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">executePendingBindings</span></span></span><span class="hljs-class">() } }</span></span></code> </pre> <br></div></div><br>  ูุงุญุธ ุฃููุง ูู ููุดุฆ <b>ูุซูููุง</b> ุฌุฏูุฏูุง ูุจุฑูุงูุฌ <b>MainViewModel</b> .  ุณูู ูุญุตู ุนููู ุจุงุณุชุฎุฏุงู <b>ViewModelProviders</b> .  <b>ViewModelProviders</b> ูู ูุฆุฉ ุฃุฏูุงุช ูุณุงุนุฏุฉ ูุฏููุง ุทุฑููุฉ ููุญุตูู ุนูู <b>ViewModelProvider</b> .  ูู ุดูุก ุนู <b>ุงููุทุงู</b> .  ุฅุฐุง ุงุชุตูุช ุจู <b>ViewModelProviders.of (ูุฐุง)</b> ูู ุฃุญุฏ ุงูุฃูุดุทุฉ ุ <b>ูุณูุธู LiveModel</b> ุงูุฎุงุต ุจู ุทุงููุง ูุงู ูุฐุง ุงููุดุงุท ุนูู ููุฏ ุงูุญูุงุฉ (ุญุชู ูุชู ุฅุชูุงูู ุฏูู ุฅุนุงุฏุฉ ุฅูุดุงุฆู).  ูุฐูู ุ ุฅุฐุง ููุช ุจุงุณุชุฏุนุงุก ูุฐุง ูู ุฌุฒุก ููู ุ <b>ูุณูุนูุด LiveModel</b> ุงูุฎุงุต ุจู ุจูููุง ูููู ุงูุฌุฒุก ููุฏ ุงูุญูุงุฉ ุ ุฅูุฎ.  ุฃููู ูุธุฑุฉ ุนูู ุงููุฎุทุท: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุทุงู ุฏูุฑุฉ ุงูุญูุงุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://cdn-images-1.medium.com/max/1600/1*BSzxfYGPAEvHoIs5v2ThKA.png" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ูุนุฏ <b>ViewModelProvider</b> ูุณุคููุงู ุนู ุฅูุดุงุก ูุซูู ุฌุฏูุฏ ูู ุงูููุงููุฉ ุงูุฃููู ุฃู ุฅุฑุฌุงุน ุงูููุงููุฉ ุงููุฏููุฉ ุฅุฐุง ุชูุช ุฅุนุงุฏุฉ ุฅูุดุงุก ูุดุงุทู ุฃู ุดุธูุชู. <br><br>  ูุง ุชุฎูุท ูุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">MainViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span></span></code> </pre> <br>  ูู Kotlin ุ ุฅุฐุง ููุช ุชุชุจุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">MainViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span></code> </pre> <br>  ูุฐุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณูุนูุฏู ุฅูู KClass</a> ุ ููู ููุณุช ููุณ ุงููุฆุฉ ูู Java.  ูุฐูู ุฅุฐุง <b>ูุชุจูุง</b> . <b>java</b> ุ ุซู ููููุง ูููุซุงุฆู ุ ูููู: <br><blockquote style=";text-align:right;direction:rtl">  ุณูุนูุฏ ูุซูู Java <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Class</a> ุงููุทุงุจู ููุซูู KClass ูุฐุง </blockquote><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฏุนููุง ูุฑู ูุง ูุญุฏุซ ุนูุฏ ุชุฏููุฑ ุงูุดุงุดุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  ูุฏููุง ููุณ ุงูุจูุงูุงุช ููุง ูุงู ูุจู ุฏูุฑุงู ุงูุดุงุดุฉ. <br><br>  ูู ุงูููุงูุฉ ุงูุฃุฎูุฑุฉ ุ ููุช ุฅู ุทูุจูุง ุณูุญุตู ุนูู ูุงุฆูุฉ ุจูุณุชูุฏุนุงุช ุฌูุซุจ ููุนุฑุถูุง.  ููููุงู ุจุฐูู ุ ูุฌุจ ุฃู ูุถูู ูุธููุฉ <b>getRepositories</b> ุ ูุงูุชู ุณุชูุฑุฌุน ูุงุฆูุฉ ููููุฉ ูู ุงููุณุชูุฏุนุงุช: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RepoModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepoModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refreshData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onDataReadyCallback: OnDataReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ Handler().postDelayed({ onDataReadyCallback.onDataReady(<span class="hljs-string"><span class="hljs-string">"new data"</span></span>) },<span class="hljs-number"><span class="hljs-number">2000</span></span>) } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepositoryReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arrayList = ArrayList&lt;Repository&gt;() arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"First"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 1"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Second"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 2"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Third"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 3"</span></span>, <span class="hljs-number"><span class="hljs-number">430</span></span> , <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) Handler().postDelayed({ onRepositoryReadyCallback.onDataReady(arrayList) },<span class="hljs-number"><span class="hljs-number">2000</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnDataReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data : String)</span></span></span><span class="hljs-function"> } interface OnRepositoryReadyCallback </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data : ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br>  ูุญุชุงุฌ ุฃูุถูุง ุฅูู ูุฌูุฏ ุทุฑููุฉ ูู <b>MainViewModel</b> ุชุณุชุฏุนู <b>getRepositories</b> ูู <b>RepoModel</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewModel</span></span></span><span class="hljs-class">() </span></span>{ ... <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repositories = ArrayList&lt;Repository&gt;() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">refresh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ ... } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) repoModel.getRepositories(object : OnRepositoryReadyCallback{ <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) repositories = data } }) } }</code> </pre> <br></div></div><br>  ูุฃุฎูุฑูุง ุ ูุญุชุงุฌ ุฅูู ุฅุธูุงุฑ ูุฐู ุงููุณุชูุฏุนุงุช ูู RecyclerView.  ููููุงู ุจุฐูู ุ ูุฌุจ ุนูููุง: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู <b>ุจุฅูุดุงุก</b> ุชุฎุทูุท <b>rv_item_repository.xml</b> </li><li style=";text-align:right;direction:rtl">  ุฃุถู <b>RecyclerView</b> ุฅูู ุชุฎุทูุท <b>activity_main.xml</b> </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก RepositoryRecyclerViewAdapter </li><li style=";text-align:right;direction:rtl">  ุชุซุจูุช ูุญูู ูู ุฅุนุงุฏุฉ ุงูุชุฏููุฑ </li></ul><br>  ูุฅูุดุงุก <b>rv_item_repository.xml</b> ุงุณุชุฎุฏูุช ููุชุจุฉ <b>CardView</b> ุ ูุฐูู ูุญู ุจุญุงุฌุฉ ุฅูู ุฅุถุงูุชูุง ุฅูู build.gradle (ุงูุชุทุจูู): <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">implementation 'com.android.support:cardview-v7:26.0.1'</code> </pre> <br>  ุฅููู ูุง ูุจุฏู ุนููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">rv_item_repository.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:app</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.view.View"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"repository"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.mladenrakonjac.modernandroidapp.uimodels.Repository"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.v7.widget.CardView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"96dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_margin</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.constraint.ConstraintLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginStart</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{repository.repositoryName}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textSize</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20sp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintHorizontal_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintLeft_toLeftOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintRight_toRightOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintVertical_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.083"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Modern Android App"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_has_issues"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginStart</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@string/has_issues"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:textStyle</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bold"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{repository.hasIssues ? View.VISIBLE : View.GONE}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintHorizontal_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintVertical_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_owner"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginStart</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{repository.repositoryOwner}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toStartOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_name"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintVertical_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Mladen Rakonjac"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/number_of_starts"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wrap_content"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginStart</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"16dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{String.valueOf(repository.numberOfStars)}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintHorizontal_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toStartOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_owner"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintVertical_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0 stars"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.constraint.ConstraintLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.v7.widget.CardView</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br>  ุงูุฎุทูุฉ ุงูุชุงููุฉ ูู ุฅุถุงูุฉ RecyclerView ุฅูู <b>activity_main.xml</b> .  ูุจู ุงูููุงู ุจุฐูู ุ ุชุฃูุฏ ูู ุฅุถุงูุฉ ููุชุจุฉ RecyclerView: <br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs">implementation 'com.android.support:recyclerview-v7:26.0.1'</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">activity_main.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:android</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:app</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res-auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:tools</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/tools"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.view.View"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">variable</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewModel"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.fleka.modernandroidapp.MainViewModel"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">data</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.constraint.ConstraintLayout</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:context</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"me.fleka.modernandroidapp.MainActivity"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProgressBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/loading"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"48dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"48dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:indeterminate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.isLoading ? View.VISIBLE : View.GONE}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/refresh_button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toStartOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.v7.widget.RecyclerView</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/repository_rv"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:indeterminate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:visibility</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.isLoading ? View.GONE : View.VISIBLE}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/refresh_button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toStartOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tools:listitem</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@layout/rv_item_repository"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/refresh_button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"160dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginBottom</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginEnd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginStart</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:layout_marginTop</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"8dp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{() -&gt; viewModel.loadRepositories()}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:clickable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{viewModel.isLoading ? false : true}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Refresh"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintBottom_toBottomOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintEnd_toEndOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintStart_toStartOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintTop_toTopOf</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">app:layout_constraintVertical_bias</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">android.support.constraint.ConstraintLayout</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layout</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><br>  ูุงุญุธ ุฃููุง ุฃุฒููุง ุจุนุถ ุนูุงุตุฑ TextView ูุงูุขู ูููู ุงูุฒุฑ ุจุชุดุบูู <b>loadRepositories</b> ุจุฏูุงู ูู <b>ุงูุชุญุฏูุซ</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">button.xml</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@+id/refresh_button"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:onClick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@{() -&gt; viewModel.loadRepositories()}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br></div></div><br>  ุฏุนูุง ูุฒูู ุทุฑููุฉ <b>ุงูุชุญุฏูุซ</b> ูู <b>MainViewModel</b> ู <b>refreshData</b> ูู RepoModel ุจุงุนุชุจุงุฑูุง ุบูุฑ ุถุฑูุฑูุฉ. <br><br>  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ูุญูู ูู RecyclerView: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RepositoryRecyclerViewAdapter.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepositoryRecyclerViewAdapter</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">items</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArrayList</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Repository</span></span></span><span class="hljs-class">&gt;, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">listener</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnItemClickListener</span></span></span><span class="hljs-class">) : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RecyclerView</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Adapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepositoryRecyclerViewAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-class">&gt;() </span></span>{ <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent: ViewGroup?, viewType: Int)</span></span></span><span class="hljs-function">: ViewHolder </span></span>{ val layoutInflater = LayoutInflater.from(parent?.context) val binding = RvItemRepositoryBinding.inflate(layoutInflater, parent, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ViewHolder(binding) } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: ViewHolder, position: Int)</span></span></span><span class="hljs-function"> </span></span>= holder.bind(items[position], listener) <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItemCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">: Int </span></span>= items.size <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnItemClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(position: Int)</span></span></span><span class="hljs-function"> } class </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">private</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">var</span></span></span></span><span class="hljs-function"><span class="hljs-params"> binding: RvItemRepositoryBinding)</span></span></span><span class="hljs-function"> : RecyclerView.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(binding.root)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bind</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(repo: Repository, listener: OnItemClickListener?)</span></span></span><span class="hljs-function"> </span></span>{ binding.repository = <span class="hljs-function"><span class="hljs-function">repo </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(listener != </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">null</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ binding.root.setOnClickListener({ _ -&gt; listener.onItemClick(layoutPosition) }) } binding.executePendingBindings() } } }</code> </pre> <br></div></div><br>  ูุงุญุธ ุฃู ViewHolder ูุฃุฎุฐ ูุณุฎุฉ ูู ุงูููุน <b>RvItemRepositoryBinding</b> ุ ุจุฏูุงู ูู <b>View</b> ุ ุญุชู ูุชููู ูู ุชุทุจูู ุฑุจุท ุงูุจูุงูุงุช ูู ViewHolder ููู ุนูุตุฑ.  ูุง ุชุดุนุฑ ุจุงูุญุฑุฌ ูู ูุธููุฉ ุณุทุฑ ูุงุญุฏ (ุนูู ุงูุงูุชุฑูุช): <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: ViewHolder, position: Int)</span></span></span><span class="hljs-function"> </span></span>= holder.bind(items[position], listener)</code> </pre> <br>  ูุฐุง ูุฌุฑุฏ ุฅุฏุฎุงู ูุตูุฑ ูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onBindViewHolder</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(holder: ViewHolder, position: Int)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> holder.bind(items[position], listener) }</code> </pre> <br>  <b>ูุงูุนูุงุตุฑ [ูููู]</b> ูู ุชูููุฐ ููุดุบู ุงูููุฑุณ.  ุงููุง ููุงุซูุฉ ู <b>items.get (ุงููููู)</b> . <br><br>  ุฎุท ุขุฎุฑ ูุฏ ูุฑุจูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">binding.root.setOnClickListener({ _ -&gt; listener.onItemClick(layoutPosition) })</code> </pre> <br>  ููููู ุงุณุชุจุฏุงู ุงููุนููุฉ ุจู _ ุฅุฐุง ููุช ูุง ุชุณุชุฎุฏููุง.  ูุทูู ุ ูุงูุ <br><br>  ููุฏ ุฃูุดุฃูุง ุงููุญูู ุ ููููุง ูู <b>ูุทุจูู ุจุนุฏ</b> ุนูู <b>recyclerView</b> ูู <b>MainActivity</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainActivity.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class">(), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepositoryRecyclerViewAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnItemClickListener</span></span></span><span class="hljs-class"> </span></span>{ lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> binding: <span class="hljs-function"><span class="hljs-function">ActivityMainBinding override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: Bundle?)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_main) val viewModel = ViewModelProviders.of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).get(MainViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">binding</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">viewModel</span></span></span><span class="hljs-class"> </span></span>= viewModel binding.executePendingBindings() binding.repositoryRv.layoutManager = LinearLayoutManager(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) binding.repositoryRv.adapter = RepositoryRecyclerViewAdapter(viewModel.repositories, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(position: Int)</span></span></span><span class="hljs-function"> </span></span>{ TODO(<span class="hljs-string"><span class="hljs-string">"not implemented"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//To change body of created functions use File | Settings | File Templates. } }</span></span></code> </pre> <br></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ุจุชุดุบูู ุงูุชุทุจูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  ูุฐุง ุบุฑูุจ.  ูุงุฐุง ุญุฏุซุ <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชู ุฅูุดุงุก ุงููุดุงุท ุ ูุฐูู ุชู ุฅูุดุงุก ูุญูู ุฌุฏูุฏ ุฃูุถูุง ูุน <b>ูุณุชูุฏุนุงุช</b> ูุงุฑุบุฉ </li><li style=";text-align:right;direction:rtl">  ูุถุบุท ุงูุฒุฑ </li><li style=";text-align:right;direction:rtl">  ุฏุนุง ุชุญูููRepositories ุ ูุงูุชู ุชุจูู ุงูุชูุฏู </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุซุงููุชูู ุ ูุญุตู ุนูู ุงููุณุชูุฏุนุงุช ุ ูุงูุชูุฏู ูุฎูู ุ ููููุง ูุง ุชุธูุฑ.  ููุฐุง ุจุณุจุจ ุนุฏู ุงุณุชุฏุนุงุก <b>notifyDataSetChanged</b> ูู ุงููุญูู </li><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ูุฏูุฑ ุงูุดุงุดุฉ ุ ูุชู ุฅูุดุงุก ูุดุงุท ุฌุฏูุฏ ุ ูุฐูู ูุชู ุฅูุดุงุก ูุญูู ุฌุฏูุฏ ูุน ูุนููุฉ <b>ุงููุณุชูุฏุนุงุช</b> ูุน ุจุนุถ ุงูุจูุงูุงุช </li></ul><br>  ูุฐูู ุ ููุง ูุฌุจ ุฃู ุชููู <b>MainViewModel</b> ุจุฅุฎุทุงุฑ <b>MainActivity ุจุงูุนูุงุตุฑ</b> ุงูุฌุฏูุฏุฉ ุ ูู ูููููุง ุงุณุชุฏุนุงุก <b>notifyDataSetChanged</b> ุ <br><br>  ูุง ูููููุง ุฐูู. <br><br>  ูุฐุง ุฃูุฑ ููู ุญููุง ุ ูุฌุจ ุฃูุง ูุนุฑู <b>MainViewModel</b> ุนู <b>MainActivity ุนูู ุงูุฅุทูุงู</b> . <br><br>  <b>MainActivity</b> ูู ุงูุดุฎุต ุงูุฐู ูุฏูู ูุซูู <b>MainViewModel</b> ุ ูุฐูู ูุฌุจ ุฃู ูุณุชูุน ููุชุบููุฑุงุช ููุฎุทุฑ <b>ูุญูู</b> ุจุงูุชุบููุฑุงุช. <br><br>  ูููู ููู ููุนู ุฐููุ <br><br>  ูููููุง ูุฑุงูุจุฉ <b>ุงููุณุชูุฏุนุงุช</b> ุ ูุฐุง ุจุนุฏ ุชุบููุฑ ุงูุจูุงูุงุช ุ ูููููุง ุชุบููุฑ ูุญูููุง. <br><br>  ูุง ูู ุงูุฎุทุฃ ูู ูุฐุง ุงููุฑุงุฑุ <br><br>  ููููู ูุธุฑุฉ ุนูู ุงูุญุงูุฉ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู <b>MainActivity ุ</b> ููุงุญุธ ูุณุชูุฏุนุงุช ุงูุชุฎุฒูู: ุนูุฏ ุญุฏูุซ ุชุบููุฑ ุ ูููู ุจุชูููุฐ <b>notifyDataSetChanged</b> </li><li style=";text-align:right;direction:rtl">  ูุถุบุท ุงูุฒุฑ </li><li style=";text-align:right;direction:rtl">  ุจูููุง ูุญู ูู ุงูุชุธุงุฑ ุชุบููุฑุงุช ุงูุจูุงูุงุช ุ ูุฏ ูุชู ุฅุนุงุฏุฉ ุฅูุดุงุก <b>MainActivity</b> ุจุณุจุจ <b>ุชุบููุฑุงุช ุงูุชูููู.</b> </li><li style=";text-align:right;direction:rtl">  <b>MainViewModel</b> ูุฏููุง ูุง ูุฒุงู ุนูู ููุฏ ุงูุญูุงุฉ </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุซุงููุชูู ุ ูุณุชูุจู ุญูู <b>ุงููุณุชูุฏุนุงุช</b> ุนูุงุตุฑ ุฌุฏูุฏุฉ ููุฎุทุฑ ุงููุฑุงูุจ ุจุฃู ุงูุจูุงูุงุช ูุฏ ุชุบูุฑุช </li><li style=";text-align:right;direction:rtl">  ูุญุงูู ุงููุฑุงูุจ ุชูููุฐ <b>notifyDataSetChanged</b> ุนูู <b>ุงููุญูู</b> ุ ูุงูุฐู ูู ูุนุฏ ููุฌูุฏูุง ุ ูุฃู  <b>ุชูุช</b> ุฅุนุงุฏุฉ ุฅูุดุงุก <b>MainActivity</b> </li></ul><br>  ุญุณููุง ุ ูุฑุงุฑูุง ููุณ ุฌูุฏูุง ุจูุง ููู ุงูููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ููุฏูุฉ ู LiveData </h3><br>  ูุนุฏ <b>LiveData ูููููุง</b> ุขุฎุฑ <b>ูุฏุฑููุง</b> ูุฏูุฑุฉ ุงูุญูุงุฉ ุ ููุณุชูุฏ ุฅูู ููุงุญุธุฉ ูููู <b>ุฑุคูุชูุง</b> ุนู ุฏูุฑุฉ ุญูุงุฉ ุงูุนุฑุถ.  ูุฐูู ุนูุฏูุง ูุชู ุฅุชูุงู ุฃู ูุดุงุท ุจุณุจุจ <b>ุชุบููุฑ ุงูุชูููู</b> ุ ูุฅู <b>LiveData</b> ุชุนุฑู ุนูู ุ ูุฐูู ูุฒูู ุงููุฑุงูุจ ูู ุงููุดุงุท ุงููุฏูุฑ ุฃูุถูุง. <br><br>  ูููุฐ ูู <b>MainViewModel</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainViewModel.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewModel</span></span></span><span class="hljs-class">() </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repoModel: RepoModel = RepoModel() val text = ObservableField(<span class="hljs-string"><span class="hljs-string">"old data"</span></span>) val isLoading = ObservableField(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repositories = MutableLiveData&lt;ArrayList&lt;Repository&gt;&gt;() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) repoModel.getRepositories(object : OnRepositoryReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) repositories.value = data } }) } }</code> </pre> <br></div></div><br>  ูุจุฏุก ูุฑุงูุจุฉ ุงููุดุงุท ุงูุฑุฆูุณู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">MainActivity.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleActivity</span></span></span><span class="hljs-class">(), </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RepositoryRecyclerViewAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnItemClickListener</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> lateinit <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> binding: ActivityMainBinding <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> val repositoryRecyclerViewAdapter = RepositoryRecyclerViewAdapter(arrayListOf(), <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(savedInstanceState: Bundle?)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState) binding = DataBindingUtil.setContentView(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, R.layout.activity_main) val viewModel = ViewModelProviders.of(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).get(MainViewModel::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">binding</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">viewModel</span></span></span><span class="hljs-class"> </span></span>= viewModel binding.executePendingBindings() binding.repositoryRv.layoutManager = LinearLayoutManager(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>) binding.repositoryRv.adapter = repositoryRecyclerViewAdapter viewModel.repositories.observe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, Observer&lt;ArrayList&lt;Repository&gt;&gt; { it?.let{ repositoryRecyclerViewAdapter.replaceData(it)} }) } <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onItemClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(position: Int)</span></span></span><span class="hljs-function"> </span></span>{ TODO(<span class="hljs-string"><span class="hljs-string">"not implemented"</span></span>) <span class="hljs-comment"><span class="hljs-comment">//To change body of created functions use File | Settings | File Templates. } }</span></span></code> </pre> <br></div></div><br>  ูุงุฐุง ุชุนูู ุงููููุฉุ  ุฅุฐุง ูุงูุช ุงููุธููุฉ ุชุญุชูู ุนูู ูุนููุฉ ูุงุญุฏุฉ ููุท ุ ููููู ุงูุญุตูู ุนูู ุงููุตูู ุฅูู ูุฐู ุงููุนููุฉ ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ ููุง.  ูุฐูู ุ ูููุชุฑุถ ุฃู ูุฏููุง ุชุนุจูุฑ lambda ููุถุงุนูุฉ 2: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">((a) -&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> * a)</code> </pre> <br>  ูููู ุงุณุชุจุฏุงูู ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">(it * <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุฐุง ููุช ุจุชุดุบูู ุงูุชุทุจูู ุงูุขู ุ ููููู ุงูุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br>  ... <br><br><h3 style=";text-align:right;direction:rtl">  ููุงุฐุง ุฃูุถู MVVM ุนูู MVPุ </h3><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุงุฌูุฉ ูููุฉ ููุนุฑุถ ุ ูุซู  ูุง ูุดุชูู ViewModel ุนูู ุนุฑุถ </li><li style=";text-align:right;direction:rtl">  ูุง ุชูุฌุฏ ูุงุฌูุฉ ูููุฉ ููููุฏู ุ ููุฐุง ููุณ ุถุฑูุฑููุง </li><li style=";text-align:right;direction:rtl">  ุฃุณูู ุจูุซูุฑ ููุชุนุงูู ูุน ุชุบููุฑุงุช ุงูุชูููู </li><li style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู MVVM ุ ูุฏููุง ุฑูุฒ ุฃูู ูููุดุงุท ุ ุงูุดุธุงูุง ุ ุฅูุฎ. </li></ul><br>  ... <br><br><h3 style=";text-align:right;direction:rtl">  ููุท ุงููุณุชูุฏุน </h3><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุฎุทุท</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://cdn-images-1.medium.com/max/1600/1*UDzzNYwInvHg25V_OtWejg.jpeg" alt="ุงูุตูุฑุฉ"><br></div></div><br>  ููุง ููุช ุณุงุจููุง ุ <b>ุงููููุฐุฌ</b> ูู ูุฌุฑุฏ ุงุณู ูุฌุฑุฏุฉ ููุทุจูุฉ ุญูุซ ูููู ุจุฅุนุฏุงุฏ ุงูุจูุงูุงุช.  ูุนุงุฏุฉ ูุง ุชุญุชูู ุนูู ูุณุชูุฏุนุงุช ููุฆุงุช ุงูุจูุงูุงุช.  ูู ูุฆุฉ ููุงู (ุจูุงูุงุช) ููุง ูุฆุฉ <b>ูุณุชูุฏุน</b> ูุชูุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูุฏููุง <b>ูุฆุชุง ุงููุณุชุฎุฏู</b> <b>ูุงููุดุฑ</b> ุ ููุฌุจ ุฃู ูููู ูุฏููุง ุฃูุถูุง <b>UserRepository</b> ู <b>PostRepository</b> .  ุฌููุน ุงูุจูุงูุงุช ุชุฃุชู ูู ููุงู.  ูุฌุจ ุฃูุง ูุฏุนู ูุทูููุง ูุซูู ุงูุชูุถููุงุช ุงููุดุชุฑูุฉ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู View ุฃู ViewModel. <br><br>  ูุฐูู ูููููุง ุฅุนุงุฏุฉ ุชุณููุฉ RepoModel ุงูุฎุงุต ุจูุง ุฅูู <b>GitRepoRepository</b> ุ ุญูุซ <b>ุณูุฃุชู GitRepo</b> ูู ูุณุชูุฏุน Github ูุณุชุฃุชู ุงููุณุชูุฏุน ูู ููุท ุงูุณุฌู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">RepoRepositories.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoRepository</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getGitRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepositoryReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arrayList = ArrayList&lt;Repository&gt;() arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"First"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 1"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Second"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 2"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Third"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 3"</span></span>, <span class="hljs-number"><span class="hljs-number">430</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) Handler().postDelayed({ onRepositoryReadyCallback.onDataReady(arrayList) }, <span class="hljs-number"><span class="hljs-number">2000</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnRepositoryReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br>  ุญุณููุง ุ ุชุญุตู <b>MainViewModel</b> ุนูู ูุงุฆูุฉ ูุณุชูุฏุนุงุช Github ูู <b>GitRepoRepsitories</b> ุ ููู ูู ุฃูู ุชุญุตู ุนูู <b>ูุณุชูุฏุนุงุช GitRepoRepositories</b> ุ <br><br>  ููููู ุงูุงุชุตุงู <b>ุจุงูุนููู</b> ุฃู <b>ุงูุฏูุณูุจู</b> ูุจุงุดุฑุฉ ุนูู ุงููุณุชูุฏุน ูู ุงููุซูู ุ ูููู ูุง ูุฒุงู ุฃูุถู ููุงุฑุณุฉ.  ูุฌุจ ุฃู ูููู ุงูุชุทุจูู ุงูุฎุงุต ุจู ูุญุฏุงุช ุจูุฏุฑ ูุง ุชุณุชุทูุน.  ูุงุฐุง ูู ูุฑุฑุช ุงุณุชุฎุฏุงู ุนููุงุก ูุฎุชูููู ูุงุณุชุจุฏุงู Volley ุจู Retrofitุ  ุฅุฐุง ูุงู ูุฏูู ููุน ูู ุงูููุทู ุจุฏุงุฎูู ุ ูุณูููู ูู ุงูุตุนุจ ุงูููุงู ุจุฅุนุงุฏุฉ ุจูุน ุงููุจุงูู.  ูุง ูุญุชุงุฌ ูุณุชูุฏุนู ุฅูู ูุนุฑูุฉ ุงูุนููู ุงูุฐู ุชุณุชุฎุฏูู ูุงุณุชุฑุฏุงุฏ ุงูุจูุงูุงุช ุงูุจุนูุฏุฉ. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูุญุชุงุฌ ุงููุณุชูุฏุน ุฅูู ูุนุฑูุชู ูู ูุตูู ุงูุจูุงูุงุช ุนู ุจูุนุฏ ุฃู ูุญูููุง.  ููุณุช ููุงู ุญุงุฌุฉ ููุนุฑูุฉ ููููุฉ ุงูุญุตูู ุนูู ูุฐู ุงูุจูุงูุงุช ุนู ุจุนุฏ ุฃู ุงููุญููุฉ. </li><li style=";text-align:right;direction:rtl">  <b>viewmodel</b> ุงููุญูุฏ ุงููุทููุจ ูู ุงูุจูุงูุงุช </li><li style=";text-align:right;direction:rtl">  ุงูุดูุก ุงููุญูุฏ ุงูุฐู ูุฌุจ ุนูู <b>ุงูุนุฑุถ</b> ุงูููุงู ุจู ูู ุฅุธูุงุฑ ูุฐู ุงูุจูุงูุงุช. </li></ul><br>  ุนูุฏูุง ุจุฏุฃุช ููุชู ูู ุชุทููุฑ ูุธุงู Android ุ ููุช ุฃุชุณุงุกู ููู ุชุนูู ุงูุชุทุจููุงุช ูู ูุถุน ุนุฏู ุงูุงุชุตุงู ูููู ุชุนูู ูุฒุงููุฉ ุงูุจูุงูุงุช.  ุจููุฉ ุชุทุจูููุฉ ุฌูุฏุฉ ุชุชูุญ ููุง ุงูููุงู ุจุฐูู ุจุณูููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏูุง ูุชู <b>ุงุณุชุฏุนุงุก loadRepositories</b> ูู <b>ViewModel</b> ุฅุฐุง ูุงู ููุงู ุงุชุตุงู ุจุงูุฅูุชุฑูุช ุ ูููู ูู <b>GitRepoRepositories</b> ุงุณุชูุงู ุงูุจูุงูุงุช ูู ูุตุฏุฑ ุจูุงูุงุช ุจุนูุฏ ูุญูุธู ูู ูุตุฏุฑ ุจูุงูุงุช ูุญูู.  ุนูุฏูุง ูููู ุงููุงุชู ุบูุฑ ูุชุตู ุ ูููู ูู <b>GitRepoRepository</b> ุงุณุชูุงู ุงูุจูุงูุงุช ูู ุงูุชุฎุฒูู ุงููุญูู.  ูุฐูู ุ ูุฌุจ ุฃู ูููู ูุฏู <b>ุงููุณุชูุฏุนุงุช</b> ูุซููุงุช <b>RemoteDataSource</b> ู <b>LocalDataSource</b> ููุนุงูุฌุฉ ุงูููุทู ุญูุซ ูุฌุจ ุฃู ุชุฃุชู ูุฐู ุงูุจูุงูุงุช. <br><br>  ุฅุถุงูุฉ <b>ูุตุฏุฑ ุจูุงูุงุช ูุญูู</b> : <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">GitRepoLocalDataSource.kt</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoLocalDataSource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepoLocalReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arrayList = ArrayList&lt;Repository&gt;() arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"First From Local"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 1"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Second From Local"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 2"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Third From Local"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 3"</span></span>, <span class="hljs-number"><span class="hljs-number">430</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) Handler().postDelayed({ onRepositoryReadyCallback.onLocalDataReady(arrayList) }, <span class="hljs-number"><span class="hljs-number">2000</span></span>) } <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(arrayList: ArrayList&lt;Repository&gt;)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//todo save repositories in DB } } interface OnRepoLocalReadyCallback { fun onLocalDataReady(data: ArrayList&lt;Repository&gt;) }</span></span></code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏููุง ููุง ุทุฑููุชุงู: ุงูุฃููู ุ ุงูุชู ุชูุฑุฌุน ุจูุงูุงุช ูุญููุฉ ูุฒููุฉ ุ ูุงูุซุงููุฉ ุ ูุชุฎุฒูู ุงูุจูุงูุงุช ุงูููููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุถุงูุฉ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตุฏุฑ ุจูุงูุงุช ุจุนูุฏ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRemoteDataSource.kt</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoRemoteDataSource</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepoRemoteReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> arrayList = ArrayList&lt;Repository&gt;() arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"First from remote"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 1"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Second from remote"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 2"</span></span>, <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)) arrayList.add(Repository(<span class="hljs-string"><span class="hljs-string">"Third from remote"</span></span>, <span class="hljs-string"><span class="hljs-string">"Owner 3"</span></span>, <span class="hljs-number"><span class="hljs-number">430</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>)) Handler().postDelayed({ onRepositoryReadyCallback.onRemoteDataReady(arrayList) }, <span class="hljs-number"><span class="hljs-number">2000</span></span>) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnRepoRemoteReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onRemoteDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุทุฑููุฉ ูุงุญุฏุฉ ููุท ุชููู ุจุฅุฑุฌุงุน </font><font style="vertical-align: inherit;">ุงูุจูุงูุงุช </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุนูุฏุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููููุฉ </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุขู ูููููุง ุฅุถุงูุฉ ุจุนุถ ุงูููุทู ุฅูู ูุณุชูุฏุนูุง:</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRepository.kt</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoRepository</span></span></span><span class="hljs-class"> </span></span>{ val localDataSource = GitRepoLocalDataSource() val remoteDataSource = GitRepoRemoteDataSource() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepositoryReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ remoteDataSource.getRepositories( object : OnRepoRemoteReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ localDataSource.saveRepositories(data) onRepositoryReadyCallback.onDataReady(data) } }) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnRepositoryReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ุชูุงุณู ุงููุตุงุฏุฑ ุ ููุญู ุจุณูููุฉ ุญูุธ ุงูุจูุงูุงุช ูุญููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฐุง ูู ููุช ุชุญุชุงุฌ ููุท ุฅูู ุจูุงูุงุช ูู ุงูุดุจูุฉ ุ ูุง ุฒูุช ุจุญุงุฌุฉ ุฅูู ุงุณุชุฎุฏุงู ูุงูุจ ุงููุณุชูุฏุนุ</font></font> ูุนู<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฐุง ูุฌุนู ุงุฎุชุจุงุฑ ุงูููุฏ ุฃุณูู ุ ููููู ูููุทูุฑูู ุงูุขุฎุฑูู ููู ููุฏู ุจุดูู ุฃูุถู ุ ูููููู ุฏุนูู ุจุดูู ุฃุณุฑุน! </font></font><br><br>  ... <br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุบูุงู ูุฏูุฑ ุฃูุฏุฑููุฏ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฐุง ูู ููุช ุชุฑูุฏ ุงูุชุญูู ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุนุฑูุฉ ูู ุฃูู ุชุทูุจ ุงูุจูุงูุงุช ููุ </font><font style="vertical-align: inherit;">ูููุง ุจุงููุนู ุฃูู ูุง ูุฌุจ ูุถุน ุฃู ููุฏ ูุชุนูู ุจูุธุงู Android ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ViewModel ู Model</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูููู ูุชุนุงูู ูุน ูุฐู ุงููุดููุฉุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนูุง ููุชุจ ุบูุงู ููุงุชุตุงู ุจุงูุฅูุชุฑูุช:</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetManager.kt (ููุทุจู ุญู ูุดุงุจู ุนูู ุงููุฏูุฑูู ุงูุขุฎุฑูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูู NfcManager)</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NetManager</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">private</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">applicationContext</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Context</span></span></span><span class="hljs-class">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> status: Boolean? = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> val isConnectedToInternet: Boolean? get() { val conManager = applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager val ni = conManager.activeNetworkInfo <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ni != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; ni.isConnected } }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุนูู ูุฐุง ุงูุฑูุฒ ุฅูุง ุฅุฐุง ุฃุถููุง ุฅุฐููุง ููุจูุงู: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.INTERNET"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uses-permission</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">android:name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ููู ูุฅูุดุงุก ูุซูู ูู ูุณุชูุฏุนุ ุฅุฐุง ูู ููู ูุฏููุง ุณูุงู ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุณูุงู ู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )ุ </font><font style="vertical-align: inherit;">ูููููุง ุทูุจูุง ูู ุงูููุดุฆ:</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRepository.kt</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoRepository</span></span></span><span class="hljs-class"> (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">context</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Context</span></span></span><span class="hljs-class">)</span></span>{ val localDataSource = GitRepoLocalDataSource() val remoteDataSource = GitRepoRemoteDataSource() val netManager = NetManager(context) <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepositoryReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ remoteDataSource.getRepositories(object : OnRepoRemoteReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ localDataSource.saveRepositories(data) onRepositoryReadyCallback.onDataReady(data) } }) } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnRepositoryReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุดุฃูุง ูุจู ูุซูู GitRepoRepository ุงูุฌุฏูุฏ ูู ViewModel. </font><font style="vertical-align: inherit;">ููู ูููููุง ุงูุขู ุงูุญุตูู ุนูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ViewModel ุนูุฏูุง ูุญุชุงุฌ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ุณูุงู ูู NetManager</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ </font><font style="vertical-align: inherit;">ููููู ุงุณุชุฎุฏุงู AndroidViewModel ูู ููุชุจุฉ ููููุงุช Lifecycle ุ ุงูุชู ููุง </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุงู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุฐุง ูู ุณูุงู ุงูุชุทุจูู ุ ูููุณ ุงููุดุงุท.</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MainViewModel.kt</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AndroidViewModel</span></span></span><span class="hljs-class"> </span></span>{ constructor(application: Application) : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(application) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gitRepoRepository: GitRepoRepository = GitRepoRepository(NetManager(getApplication())) val text = ObservableField(<span class="hljs-string"><span class="hljs-string">"old data"</span></span>) val isLoading = ObservableField(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> repositories = MutableLiveData&lt;ArrayList&lt;Repository&gt;&gt;() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loadRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) gitRepoRepository.getRepositories(object : OnRepositoryReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ isLoading.set(<span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) repositories.value = data } }) } }</code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุฐุง ุงูุฎุท </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">constructor(application: Application) : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(application)</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฏุฏูุง ููุดุฆ ูุจุฑูุงูุฌ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MainViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุนุฏ ุฐูู ุถุฑูุฑููุง ูุฃู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AndroidViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุทูุจ ูุซูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุทุจูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู </font><b><font style="vertical-align: inherit;">ูููุดุฆู</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุฐูู ุ ูู ุงูููุดุฆ ุงูุฎุงุต ุจูุง ุ ูุณูู ุงูุฃุณููุจ ุงููุงุฆู ุงูุฐู ูุณุชุฏุนู ูููุดุฆ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AndroidViewModel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุงูุฐู </font><b><font style="vertical-align: inherit;">ูุฑุซู</font></b><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุญุธุฉ: ูููููุง ุงูุชุฎูุต ูู ุณุทุฑ ูุงุญุฏ ุฅุฐุง ูุนููุง:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainViewModel</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class">) : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AndroidViewModel</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">application</span></span></span><span class="hljs-class">) </span></span>{ ... }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุขู ุจุนุฏ ุฃู ุฃุตุจุญ ูุฏููุง ูุซูู NetManager ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRepository</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูููููุง ุงูุชุญูู ูู ุงุชุตุงู ุงูุฅูุชุฑูุช:</font></font><br><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitRepoRepository.kt</font></font></b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GitRepoRepository</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">netManager</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NetManager</span></span></span><span class="hljs-class">) </span></span>{ val localDataSource = GitRepoLocalDataSource() val remoteDataSource = GitRepoRemoteDataSource() <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRepositories</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(onRepositoryReadyCallback: OnRepositoryReadyCallback)</span></span></span><span class="hljs-function"> </span></span>{ netManager.isConnectedToInternet?.let { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (it) { remoteDataSource.getRepositories(object : OnRepoRemoteReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onRemoteDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ localDataSource.saveRepositories(data) onRepositoryReadyCallback.onDataReady(data) } }) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { localDataSource.getRepositories(object : OnRepoLocalReadyCallback { <span class="hljs-function"><span class="hljs-function">override fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onLocalDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> </span></span>{ onRepositoryReadyCallback.onDataReady(data) } }) } } } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnRepositoryReadyCallback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">fun </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onDataReady</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data: ArrayList&lt;Repository&gt;)</span></span></span><span class="hljs-function"> }</span></span></code> </pre> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ุฅุฐุง ูุงู ูุฏููุง ุงุชุตุงู ุจุงูุฅูุชุฑูุช ุ ูุณูุณุชูู ุงูุจูุงูุงุช ุงููุญุฐููุฉ ููุญูุธูุง ูุญูููุง. ุฅุฐุง ูู ููู ูุฏููุง ุงุชุตุงู ุจุงูุฅูุชุฑูุช ุ ูุณูุญุตู ุนูู ุงูุจูุงูุงุช ุงููุญููุฉ. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุญุธุฉ ุนูู Kotlin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ูุดุบู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณูุญ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงูุชุญูู ูู ูุงุบูุฉ ูุฅุฑุฌุงุน ุงููููุฉ ูู </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููููุฌูุง ุงููุนูููุงุช</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุฃุญุฏ ุงูููุงูุงุช ุงูุชุงููุฉ ุ ุณุฃูุชุจ ุนู ุญูู ุงูุชุจุนูุฉ ุ ููุฏู ุณูุก ุฅูุดุงุก ูุซููุงุช ุงููุฎุฒูู ูู ViewModel ูููููุฉ ุชุฌูุจ ุงุณุชุฎุฏุงู AndroidViewModel. ุณุฃูุชุจ ุฃูุถูุง ุนู ุนุฏุฏ ูุจูุฑ ูู ุงููุดููุงุช ุงูููุฌูุฏุฉ ุงูุขู ูู ูุธุงููุง. ุชุฑูุชูุง ูุณุจุจ ูุง ... </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุญุงูู ุฃู ุฃูุถุญ ูู ุงููุดููุงุช ุญุชู ุชุชููู ูู ููู ุณุจุจ ุดุนุจูุฉ ุฌููุน ูุฐู ุงูููุชุจุงุช ูุงูุณุจุจ ูู ุงุณุชุฎุฏุงููุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS I ุบูุฑุช ุฑุฃูู ุญูู ูุฎุทุท ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฎุทุทูู</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">ูุฑุฑุช ุชุบุทูุฉ ูุฐุง ูู ุงูููุงูุงุช ุงูุชุงููุฉ.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar432826/">https://habr.com/ru/post/ar432826/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar432816/index.html">AXIS M3046-V ู IDIS DC-D3212X: ูุงุฑู ูุงููุฑุงุช ุงูุฏูุงุฆุฑ ุงูุชููุฒููููุฉ ุงููุบููุฉ</a></li>
<li><a href="../ar432818/index.html">ุฑุงุณูุฉ ูุญููุฉ ุงูุตูุน: ูุตุงุฆุญ ูููุจุชุฏุฆูู ุ ูุงูุนูู ูุน ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ grbl</a></li>
<li><a href="../ar432820/index.html">ุงุฎุชุจุงุฑ ุฏููุงูููู ูุชุทุจููุงุช Android</a></li>
<li><a href="../ar432822/index.html">ุฃูุง ุฃูุณุฏ ุฑูุฒ ุญูุงุชู ูููุทูุฑูู</a></li>
<li><a href="../ar432824/index.html">ุชุณุฑูุน ุฅูุดุงุก ConcurrentReferenceHashMap</a></li>
<li><a href="../ar432828/index.html">ุงุฎุชุจุงุฑ ูุชุตุญูุญ MapReduce</a></li>
<li><a href="../ar432830/index.html">ูุธุงู ุขูู ููุฑุถ ุบุฑุงูุงุช ุนูู ุงูููุงูุฉ ุงูููุฌูุฑุฉ</a></li>
<li><a href="../ar432832/index.html">ููููุฉ "ุงูุบุฑุงุก" ุฎุงุฏู ูุณุชูุฏ ุฅูู ุฅูุชู ูุงูุชุบูุจ ุนูู ุณูู ุงูุชูุณุน ูู 8 ูุนุงูุฌุงุช</a></li>
<li><a href="../ar432834/index.html">ุงูุฑุจุท ุงูุฏุงุฎูู ูุงูุฎุงุฑุฌู ูู C ++</a></li>
<li><a href="../ar432836/index.html">ุฃูู ูุตุจุงุญ ููุฑุจุงุฆู ุฌูุฏ ูู Aliexpress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>