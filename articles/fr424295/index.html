<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧚🏽 🌃 🈁 Cours MIT "Sécurité des systèmes informatiques". Conférence 9: «Sécurité des applications Web», partie 2 🌤️ 🤱🏽 👩🏻‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "Sécurité des systèmes informatiques." Nikolai Zeldovich, James Mickens. 2014 année...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "Sécurité des systèmes informatiques". Conférence 9: «Sécurité des applications Web», partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424295/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "Sécurité des systèmes informatiques."  Nikolai Zeldovich, James Mickens.  2014 année </h3><br>  Computer Systems Security est un cours sur le développement et la mise en œuvre de systèmes informatiques sécurisés.  Les conférences couvrent les modèles de menace, les attaques qui compromettent la sécurité et les techniques de sécurité basées sur des travaux scientifiques récents.  Les sujets incluent la sécurité du système d'exploitation (OS), les fonctionnalités, la gestion du flux d'informations, la sécurité des langues, les protocoles réseau, la sécurité matérielle et la sécurité des applications Web. <br><br>  Cours 1: «Introduction: modèles de menace» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 2: «Contrôle des attaques de pirates» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 3: «Débordements de tampon: exploits et protection» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 4: «Séparation des privilèges» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 5: «D'où viennent les systèmes de sécurité?» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  Conférence 6: «Opportunités» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 7: «Native Client Sandbox» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 8: «Modèle de sécurité réseau» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  Conférence 9: «Sécurité des applications Web», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  Par exemple, Django prendra ces crochets angulaires, les traduira au format HTML et refera le reste des caractères.  Autrement dit, si la valeur de nom personnalisé contient des crochets, des guillemets doubles, etc., tous ces caractères seront exclus.  Cela fera que le contenu ne sera pas interprété comme du code HTML du côté du navigateur client. <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  Alors maintenant, nous savons que ce n'est pas une défense très fiable contre certaines attaques de script intersite.  La raison, comme nous l'avons montré dans l'exemple, est que ces grammaires pour HTML, CSS et JavaScript sont si complexes qu'elles peuvent très facilement confondre l'analyseur du navigateur. <br><br>  Par exemple, nous avons une chose très courante faite dans le cadre de Django.  Donc, vous avez une fonction div, et nous voulons lui attribuer une classe dynamique.  Nous donnons à la classe la valeur de var, et ainsi de suite.  L'idée est que lorsque Django traite cela, il doit comprendre quel est le style actuel et le coller ici. <br><br>  Dans ce cas, un attaquant peut créer une chaîne définissant cette classe, par exemple, écrit «classe 1».  Tout va bien jusqu'à ce point, car cela semble être une expression CSS valide. <br><br>  Mais l'attaquant place ici l'opérateur onclick, qui est égal au code JavaScript qui effectue l'appel système. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Comme c'est faux, le navigateur devrait s'arrêter ici.  Mais le problème est que si vous avez déjà vu le code HTML d'une vraie page Web, tout est cassé et confus, même pour des sites légitimes et "conviviaux".  Donc, si le navigateur s'arrête avant chaque expression HTML erronée, pas un seul site que vous aimez ne fonctionnera tout simplement jamais.  Si jamais vous voulez être déçu du monde et que je ne vous ai pas suffisamment aidé, ouvrez simplement la console JavaScript dans votre navigateur lorsque vous consultez le site pour voir combien d'erreurs cela vous donnera. <br><br>  Vous pouvez, par exemple, aller sur CNN et voir simplement combien d'erreurs vous obtenez.  Oui, essentiellement CNN fonctionne, mais de manière très inégale.  Par exemple, pour ouvrir Acrobat Reader, vous devez constamment lever des exceptions de pointeur nul, et en même temps, vous vous sentirez un peu trompé par la vie.  Mais sur Internet, nous avons appris à l'accepter sans trop d'indignation. <br>  Par conséquent, comme les navigateurs devraient être très tolérants à de telles choses, ils essaieront de transformer le code malveillant en quelque chose qui leur semble raisonnable.  Et c'est la vulnérabilité de sécurité. <br><br>  Voilà comment fonctionne la désinfection du contenu, et c'est toujours mieux que rien.  Elle peut attraper beaucoup de choses nuisibles, mais ne peut pas se défendre de tout. <br><br>  Il y a encore une chose à laquelle penser: l'utilisation d'un langage de balisage moins expressif.  Voyons ce que cela signifie. <br><br>  <b>Public:</b> que dois-je faire si le nettoyage de contenu ne fonctionne pas? <br><br>  <b>Professeur:</b> oui, c'est possible, par exemple, dans ce cas Django ne sera pas en mesure de déterminer statiquement que c'est mauvais.  Par exemple, dans ce cas particulier.  Mais dans le cas où j'insère une balise d'image malveillante ... <br><br>  <b>Public:</b> dans ce cas particulier, je m'attendrais à ce que l'affectation de classe soit entre guillemets et dans ce cas ne devrait avoir aucun effet ... <br><br>  <b>Professeur:</b> eh bien, vous voyez, il y a de petites astuces.  En supposant que la grammaire du HTML et du CSS soit soigneusement définie, vous pouvez imaginer un monde dans lequel des analyseurs idéaux pourraient en quelque sorte attraper ces problèmes ou les transformer en quelque chose de normal.  Mais en fait, la grammaire HTML et la grammaire CSS souffrent d'inexactitudes.  De plus, les navigateurs n'implémentent pas de spécifications.  Par conséquent, si vous utilisez une grammaire moins expressive, il nous sera beaucoup plus facile de désinfecter le contenu. <br><br>  Ici, le terme Markdown est utilisé - «balisage facile à lire» au lieu du terme Markup - balisage ordinaire.  L'idée principale de Markdown est qu'il est conçu comme un langage qui, par exemple, permet aux utilisateurs de publier des commentaires, mais ne contient pas la possibilité d'utiliser une balise vide, la prise en charge des applets, etc.  Par conséquent, dans Markdown, il est en fait beaucoup plus facile d'identifier de manière unique la grammaire, puis de l'appliquer. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  La désinfection est beaucoup plus facile dans un langage simple qu'en HTML, CSS et JavaScript.  Et d'une certaine manière, c'est comme la différence entre la compréhension du code C et du code Python.  Il y a vraiment une grande différence dans la compréhension d'un langage plus expressif.  Par conséquent, en limitant l'expressivité, vous améliorez souvent la sécurité. <br><br>  Pour se protéger contre les attaques de scripts intersites, CSP, Content Security Policy, est également utilisé.  L'idée du CSP est qu'il permet au serveur web ... <br>  Public: Je suis simplement curieux de découvrir ce langage Markdown.  Tous les navigateurs sont-ils capables d'effectuer une analyse linguistique? <br><br>  <b>Professeur:</b> non, non, non.  Vous pouvez simplement convertir divers types de langues en HTML, mais les navigateurs ne les comprennent pas dans leur forme d'origine.  En d'autres termes, vous avez un système de commentaires et il utilise Markdown.  Autrement dit, les commentaires, avant d'être affichés sur la page, vont au compilateur Markdown, qui les traduit au format HTML. <br><br>  <b>Public:</b> alors pourquoi ne pas toujours utiliser Markdown? <br><br>  <b>Professeur:</b> Markdown vous permet d'utiliser du HTML intégré, et pour autant que je sache, il existe un moyen de le désactiver dans le compilateur.  Mais je peux me tromper à ce sujet.  Le fait est qu'il n'est pas toujours possible d'utiliser un langage limité et que tout le monde ne veut pas le faire. <br><br>  Continuons donc la discussion sur la façon d'augmenter la sécurité à l'aide de la politique de sécurité du contenu.  Cette politique permet au serveur d'indiquer au navigateur Web quels types de contenu peuvent être chargés sur la page qu'il renvoie, ainsi que la provenance de ce contenu. <br><br>  Par exemple, dans la réponse HTTP, le serveur peut utiliser quelque chose comme ceci: il inclut l'en-tête Content - Security - Policy, la source par défaut est self et il recevra les données de * .mydomain.com. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Avec l'opérateur lui-même, le serveur indique que le contenu de ce site ne doit provenir que du domaine d'une page particulière ou de tout sous-domaine de mydomain.com.  Cela signifie que si nous avions une liaison automatique avec foo.com, le serveur renverrait cette page au navigateur. <br><br>  Supposons qu'une attaque de script intersite essaie de créer un lien vers bar.com.  Dans ce cas, le navigateur verra que bar.com n'est pas auto et n'est pas un domaine de mydomain.com, et n'ignorera pas cette demande plus loin.  Il s'agit d'un mécanisme assez puissant où vous pouvez spécifier des contrôles plus détaillés.  Vous définissez des paramètres indiquant que vos images doivent provenir de telle ou telle source, des scripts de telle ou telle et ainsi de suite.  C'est en fait pratique. <br><br>  De plus, cette stratégie empêche en fait le JavaScript intégré, vous ne pouvez donc pas ouvrir la balise, écrire une sorte de script et fermer la balise, car tout ce qui peut aller dans le navigateur ne doit provenir que d'une source conditionnelle.  CSP empêche les choses dangereuses comme l'utilisation de l'argument de la fonction eval (), qui permet à une page Web d'exécuter du code JavaScript généré dynamiquement.  Donc, si l'en-tête CSP est défini, le navigateur n'exécutera pas eval (). <br><br>  <b>Public:</b> Est-ce que tout CSP protège contre? <br><br>  <b>Professeur:</b> non.  Il y a toute une liste de ressources qu'il protège réellement, et vous pouvez configurer la protection contre de nombreuses choses indésirables, par exemple, spécifier où il est autorisé à accepter les CSS sortants et un tas d'autres choses. <br><br>  <b>Public:</b> Mais outre eval (), il y a d'autres choses qui menacent la sécurité? <br><br>  <b>Professeur:</b> oui, ils existent.  Par conséquent, la question se pose toujours de l'exhaustivité de la protection.  Ainsi, par exemple, non seulement eval peut générer dynamiquement du code JavaScript.  Il y a aussi un constructeur de fonctions, il y a certaines façons d'appeler un timeout donné, vous allez sur la ligne et vous pouvez analyser le code de cette façon.  CSP peut désactiver tous ces vecteurs d'attaque dangereux.  Mais ce n'est pas une panacée pour l'isolement complet des exploits malveillants. <br><br>  <b>Public:</b> Est-il vrai que le CSP peut être configuré pour empêcher tous les scripts internes d'être vérifiés sur la page? <br><br>  <b>Professeur:</b> oui, cela aide à empêcher l'exécution de code généré dynamiquement, tandis que le code intégré doit être ignoré.  Le navigateur doit toujours obtenir le code de l'attribut source.  En fait, je ne sais pas si tous les navigateurs le font.  L'expérience personnelle montre que les navigateurs présentent des comportements différents. <br><br>  En général, la sécurité Internet s'apparente aux sciences naturelles, donc les gens avancent simplement des théories sur le fonctionnement des navigateurs.  Et puis vous voyez comment cela se produit réellement.  Et la vraie image peut décevoir, car on nous apprend qu'il existe des algorithmes, des preuves, etc.  Mais ces navigateurs se comportent si mal que les résultats de leur travail sont imprévisibles. <br><br>  Les développeurs de navigateurs essaient d'avoir une longueur d'avance sur les attaquants, et plus loin dans la leçon, vous en verrez des exemples.  En fait, CSP est une chose assez cool. <br><br>  Une autre chose utile est que le serveur peut définir un en-tête HTTP appelé X-Content-Type-Options, dont la valeur est nosniff. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Cet en-tête empêche MIME de supprimer la réponse du type de contenu publié, car l'en-tête indique au navigateur de ne pas remplacer le type de contenu de la réponse.  Avec l'option nosniff, si le serveur dit que le contenu est text / html, le navigateur l'affichera comme text / html. <br>  Autrement dit, cet en-tête empêche le navigateur de «renifler» la réponse du type de contenu déclaré afin que la situation ne se produise pas lorsque le navigateur dit: «oui, j'ai reniflé le décalage entre l'extension de fichier et le contenu réel, donc je vais transformer ce contenu en un autre compréhensible moi une chose. "  Il s'avère que vous avez soudainement donné aux barbares les clés du royaume. <br><br>  Par conséquent, en définissant cet en-tête, vous dites au navigateur de ne rien faire de tel.  Cela peut considérablement atténuer les effets de certains types d'attaques.  Voici un bref aperçu de certaines vulnérabilités pour les attaques de script intersite. <br><br>  Voyons maintenant un autre vecteur d'attaque populaire - SQL.  Vous avez probablement entendu parler d'attaques appelées «injection SQL» ou attaque par injection SQL.  L'essence de ces attaques consiste à utiliser la base de données du site Web.  Pour créer dynamiquement la page affichée à l'utilisateur, des requêtes de base de données sont émises qui sont émises vers ce serveur interne.  Imaginez que vous ayez une demande pour sélectionner toutes les valeurs d'une table spécifique, où le champ ID utilisateur est égal à ce qui est déterminé sur Internet à partir d'une source potentiellement non fiable. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Nous savons tous comment cette histoire se terminera - elle se terminera très mal, il n'y aura pas de survivants.  Parce que ce qui vient d'une source non vérifiée peut causer beaucoup de problèmes.  Vous pouvez également donner à la chaîne d'ID utilisateur la valeur suivante: id utilisateur = «0;  SUPPRIMER LE TABLEAU “. <br><br>  Alors que va-t-il se passer ici?  Fondamentalement, la base de données du serveur dira: "OK, je mettrai l'ID utilisateur à zéro, puis j'exécuterai la commande" supprimer la table "".  Et c'est tout, vous avez terminé! <br><br>  Ils disent qu'il y a quelques années, une certaine image virale est apparue.  Certaines personnes en Allemagne ont installé des plaques d'immatriculation sur les voitures, sur lesquelles 0 était inscrit;  SUPPRIMER LE TABLEAU.  L'idée était que les caméras routières utilisent l'OCR pour reconnaître votre numéro, puis le mettent dans la base de données.  En général, les gens de Volkswagen ont décidé d'exploiter cette vulnérabilité en plaçant du code malveillant sur leurs numéros. <br><br>  Je ne sais pas si cela a fonctionné parce que ça a l'air drôle.  Mais je voudrais croire que c'est vrai.  Je répète donc encore une fois - l'idée de la désinfection est d'empêcher l'exécution de contenu provenant de sources non fiables sur votre site. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Par conséquent, faites attention au fait qu'il peut y avoir des choses simples qui ne fonctionnent pas comme elles le devraient.  Donc, vous pourriez penser: «eh bien, pourquoi ne puis-je pas simplement mettre une autre citation au début de la ligne et une autre à la fin pour exclure l'exécution de code malveillant de l'attaquant entre des guillemets triples»? <br><br>  id utilisateur = '"+ id utilisateur +'" <br><br>  Mais cela ne fonctionnera pas, car un attaquant peut toujours simplement mettre des guillemets à l'intérieur de la chaîne d'attaque.  Donc, dans la plupart des cas, un tel "demi-piratage" ne vous apportera pas autant de sécurité que vous attendez. <br><br>  La solution ici est que vous devez chiffrer soigneusement vos données.  Et encore une fois, je répète que lorsque vous recevez des informations d'une source non fiable, ne les insérez pas dans le système sous la forme dans laquelle elles se trouvent.  Assurez-vous qu'il ne peut pas sauter du bac à sable si vous le placez pour effectuer un exploit malveillant. <br><br>  Par exemple, vous souhaitez insérer une fonction d'échappement pour empêcher l'utilisation de l'opérateur virgule brut.  Pour ce faire, de nombreux frameworks Web, tels que Django, ont des bibliothèques intégrées qui vous permettent d'éviter les requêtes SQL pour empêcher de telles choses de se produire.  Ces frameworks encouragent les développeurs à ne jamais interagir directement avec la base de données.  Par exemple, Django lui-même fournit une interface de haut niveau qui vous désinfecte. <br><br>  Mais les gens se soucient toujours des performances, et parfois les gens pensent que ces cadres Web sont trop lents.  Ainsi, comme vous le verrez bientôt, les gens feront toujours des requêtes SQL brutes, ce qui peut entraîner des problèmes. <br><br>  Des problèmes peuvent survenir si le serveur Web accepte des noms de chemin provenant d'images non fiables.  Imaginez que quelque part sur votre serveur, vous faites quelque chose de similaire: ouvrez avec «www / images /» + nom de fichier, où le nom de fichier est représenté par quelque chose comme ... / ... / ... / ... / etc / mot de passe. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Autrement dit, vous donnez la commande pour ouvrir l'image à cette adresse à partir d'un fichier utilisateur non fiable, ce qui peut en réalité vous nuire gravement.  Ainsi, si vous souhaitez utiliser un serveur Web ou un framework Web, vous devriez pouvoir détecter ces caractères dangereux et les éviter afin d'empêcher l'exécution de ces commandes non gérées. <br><br>  Prenons une pause pour discuter de la désinfection du contenu et parlons un peu des cookies.  Les cookies sont un moyen très populaire de gérer les sessions afin de lier un utilisateur à un certain ensemble de ressources qui existent côté serveur.  De nombreux frameworks comme Django ou Zoobar, que vous rencontrerez plus tard, mettent en fait un identifiant de session aléatoire dans les cookies.  L'idée est que cet identifiant de session est un index dans une sorte de table côté serveur: <br><br>  table [ID session] = informations utilisateur. <br><br>  Autrement dit, l'identifiant de session est égal à certaines informations utilisateur.  En conséquence, cet ID de session et les cookies sont des éléments très sensibles dans leur extension.  De nombreuses attaques incluent le vol de cookies afin d'obtenir cet identifiant de session.  Comme nous en avons discuté dans notre dernière conférence, la même politique de la même source d'origine peut vous aider, dans une certaine mesure, contre certaines de ces attaques de vol de cookies.  Parce qu'il existe des règles basées sur la même politique d'origine qui empêchent la modification arbitraire des cookies. <br><br>  La subtilité est que vous ne devez pas partager un domaine ou un sous-domaine avec quelqu'un en qui vous n'avez pas confiance.  Parce que, comme nous l'avons dit dans la dernière conférence, il existe des règles qui permettent à deux domaines ou sous-domaines de même origine d'accéder aux cookies l'un de l'autre.  Et par conséquent, si vous faites confiance à un domaine auquel vous ne devriez pas faire confiance, il peut être en mesure de définir directement l'identifiant de session dans ces cookies, auxquels vous avez tous deux accès.  Cela permettra à l'attaquant de forcer l'utilisateur à utiliser l'identifiant de session de son choix. <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Supposons qu'un attaquant définisse un cookie utilisateur Gmail.  Un utilisateur se connecte à Gmail et tape quelques lettres.  Un attaquant peut alors utiliser ce cookie, notamment utiliser cet identifiant de session, télécharger Gmail, puis accéder à Gmail comme s'il était un utilisateur victime.  Ainsi, il existe de nombreuses subtilités que vous pouvez faire avec ces cookies pour gérer vos sessions.  Nous en discuterons aujourd'hui et dans des conférences ultérieures. <br><br>  Peut-être pensez-vous que vous pouvez simplement vous débarrasser des cookies?  Après tout, ils apportent plus de problèmes que d'avantages.  Pourquoi ne peuvent-ils pas être abandonnés? <br><br>   stateless cookie,  «   »,  -             , ,  ,     . <br><br> ,     ,        ,     .      ,       .  ,    ,            .        , ,  ,         ,  . <br><br>      —     MA — Message Authentication Codes,    .   ,  .       HCK  -  m.     ,  ,          K.  ,        ,     .   ,     ,          . <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>     ,   .    ,   stateless cookie,    Amazon, , x3.   - Amazon,   AWS,     .  –    K,  –   AWS,    . <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>    ,       AWS  HTTP,       . <br><br> ,        ,   ,      : <br><br> GET /photos/ cat; .jpg HTTP/1.1,        -  AWS: <br><br> HOST: — - — - — ,     , : <br><br> DATE: Mon, June 4,            ,  ,     .    ,   ID ,  ,     ,   . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>      ?       ,        3-  . <br><br>  ,   String To Sign   : <br><br> —  HTTP,     GET; <br> —     MDS; <br> —  ,  html   jpg; <br> — ; <br> —  ,     ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br>  ,     ,     HCK MAC.  ,            .         ,         .  ,        .  ? <br><br>   ,  ,     ,          -   .     Amazon  ,      stateless cookie,     MD5       . <br><br>    , ,      ,         cookie,    .      –    ,  ,     . <br><br>        ,       .  ,      ,         “HCK, m”. <br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le monde ordinaire, les cookies seraient utilisés à la place de l'autorisation ici. </font><font style="vertical-align: inherit;">Mais maintenant, nous nous débarrassons d'eux et insérons ce message en texte clair GET / photos / cat dans la demande; </font><font style="vertical-align: inherit;">.jpg HTTP / 1.1 et chiffrement, qui permet au serveur de savoir de qui vient cette chose. </font><font style="vertical-align: inherit;">De cette façon, le serveur sait qui est l'utilisateur car il est intégré à la demande. </font><font style="vertical-align: inherit;">Ce n'est pas un secret, non? </font><font style="vertical-align: inherit;">Mais cela permet au serveur de dire: "Oui, je sais quelle clé secrète cet utilisateur aurait dû utiliser pour créer cette demande, s'il s'agit d'un véritable utilisateur." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56:15</font></font><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "Sécurité des systèmes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conférence 9: Sécurité des applications Web, partie 3</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La version complète du cours est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matériaux plus intéressants?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'à 24 cœurs et jusqu'à 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en décembre gratuitement</b> en payant pour une période de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV à partir de 249 $</a> aux Pays-Bas et aux États-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">création d'un bâtiment d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coûtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424295/">https://habr.com/ru/post/fr424295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424277/index.html">L'émigration et tout ce qu'elle contient dans les blogs de télégrammes</a></li>
<li><a href="../fr424279/index.html">Comment ouvrir une adresse IP en Allemagne, si vous êtes programmeur et ne pas remplir de cônes</a></li>
<li><a href="../fr424285/index.html">Conseils de démarrage Y Combinator: Développer des marchés de jouets</a></li>
<li><a href="../fr424287/index.html">Comment nous avons participé à InnovateFPGA 2018 et n'avons pas gagné à nouveau</a></li>
<li><a href="../fr424289/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 9: Sécurité des applications Web, partie 1</a></li>
<li><a href="../fr424297/index.html">Cours MIT "Sécurité des systèmes informatiques". Conférence 9: Sécurité des applications Web, partie 3</a></li>
<li><a href="../fr424301/index.html">Algorithme de filtre d'image de réseau neuronal adaptatif</a></li>
<li><a href="../fr424305/index.html">RIB pour architecture mobile multiplateforme Uber</a></li>
<li><a href="../fr424307/index.html">GitLab 11.3 publié avec le référentiel Maven et les environnements sécurisés</a></li>
<li><a href="../fr424309/index.html">DevCore: partie logicielle du projet DevBoy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>