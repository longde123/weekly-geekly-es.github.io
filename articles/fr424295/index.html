<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§šğŸ½ ğŸŒƒ ğŸˆ Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 9: Â«SÃ©curitÃ© des applications WebÂ», partie 2 ğŸŒ¤ï¸ ğŸ¤±ğŸ½ ğŸ‘©ğŸ»â€âœˆï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "SÃ©curitÃ© des systÃ¨mes informatiques." Nikolai Zeldovich, James Mickens. 2014 annÃ©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 9: Â«SÃ©curitÃ© des applications WebÂ», partie 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/424295/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "SÃ©curitÃ© des systÃ¨mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 annÃ©e </h3><br>  Computer Systems Security est un cours sur le dÃ©veloppement et la mise en Å“uvre de systÃ¨mes informatiques sÃ©curisÃ©s.  Les confÃ©rences couvrent les modÃ¨les de menace, les attaques qui compromettent la sÃ©curitÃ© et les techniques de sÃ©curitÃ© basÃ©es sur des travaux scientifiques rÃ©cents.  Les sujets incluent la sÃ©curitÃ© du systÃ¨me d'exploitation (OS), les fonctionnalitÃ©s, la gestion du flux d'informations, la sÃ©curitÃ© des langues, les protocoles rÃ©seau, la sÃ©curitÃ© matÃ©rielle et la sÃ©curitÃ© des applications Web. <br><br>  Cours 1: Â«Introduction: modÃ¨les de menaceÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 2: Â«ContrÃ´le des attaques de piratesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 3: Â«DÃ©bordements de tampon: exploits et protectionÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 4: Â«SÃ©paration des privilÃ¨gesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 5: Â«D'oÃ¹ viennent les systÃ¨mes de sÃ©curitÃ©?Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  ConfÃ©rence 6: Â«OpportunitÃ©sÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 7: Â«Native Client SandboxÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 8: Â«ModÃ¨le de sÃ©curitÃ© rÃ©seauÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 9: Â«SÃ©curitÃ© des applications WebÂ», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  Par exemple, Django prendra ces crochets angulaires, les traduira au format HTML et refera le reste des caractÃ¨res.  Autrement dit, si la valeur de nom personnalisÃ© contient des crochets, des guillemets doubles, etc., tous ces caractÃ¨res seront exclus.  Cela fera que le contenu ne sera pas interprÃ©tÃ© comme du code HTML du cÃ´tÃ© du navigateur client. <br><br><img src="https://habrastorage.org/webt/bg/sq/ed/bgsqedpvcmvdbjwjps3a84ok0ow.jpeg"><br><br>  Alors maintenant, nous savons que ce n'est pas une dÃ©fense trÃ¨s fiable contre certaines attaques de script intersite.  La raison, comme nous l'avons montrÃ© dans l'exemple, est que ces grammaires pour HTML, CSS et JavaScript sont si complexes qu'elles peuvent trÃ¨s facilement confondre l'analyseur du navigateur. <br><br>  Par exemple, nous avons une chose trÃ¨s courante faite dans le cadre de Django.  Donc, vous avez une fonction div, et nous voulons lui attribuer une classe dynamique.  Nous donnons Ã  la classe la valeur de var, et ainsi de suite.  L'idÃ©e est que lorsque Django traite cela, il doit comprendre quel est le style actuel et le coller ici. <br><br>  Dans ce cas, un attaquant peut crÃ©er une chaÃ®ne dÃ©finissant cette classe, par exemple, Ã©crit Â«classe 1Â».  Tout va bien jusqu'Ã  ce point, car cela semble Ãªtre une expression CSS valide. <br><br>  Mais l'attaquant place ici l'opÃ©rateur onclick, qui est Ã©gal au code JavaScript qui effectue l'appel systÃ¨me. <br><br><img src="https://habrastorage.org/webt/xx/ix/6z/xxix6zb30_tylvsmsbrynpucipc.jpeg"><br><br>  Comme c'est faux, le navigateur devrait s'arrÃªter ici.  Mais le problÃ¨me est que si vous avez dÃ©jÃ  vu le code HTML d'une vraie page Web, tout est cassÃ© et confus, mÃªme pour des sites lÃ©gitimes et "conviviaux".  Donc, si le navigateur s'arrÃªte avant chaque expression HTML erronÃ©e, pas un seul site que vous aimez ne fonctionnera tout simplement jamais.  Si jamais vous voulez Ãªtre dÃ©Ã§u du monde et que je ne vous ai pas suffisamment aidÃ©, ouvrez simplement la console JavaScript dans votre navigateur lorsque vous consultez le site pour voir combien d'erreurs cela vous donnera. <br><br>  Vous pouvez, par exemple, aller sur CNN et voir simplement combien d'erreurs vous obtenez.  Oui, essentiellement CNN fonctionne, mais de maniÃ¨re trÃ¨s inÃ©gale.  Par exemple, pour ouvrir Acrobat Reader, vous devez constamment lever des exceptions de pointeur nul, et en mÃªme temps, vous vous sentirez un peu trompÃ© par la vie.  Mais sur Internet, nous avons appris Ã  l'accepter sans trop d'indignation. <br>  Par consÃ©quent, comme les navigateurs devraient Ãªtre trÃ¨s tolÃ©rants Ã  de telles choses, ils essaieront de transformer le code malveillant en quelque chose qui leur semble raisonnable.  Et c'est la vulnÃ©rabilitÃ© de sÃ©curitÃ©. <br><br>  VoilÃ  comment fonctionne la dÃ©sinfection du contenu, et c'est toujours mieux que rien.  Elle peut attraper beaucoup de choses nuisibles, mais ne peut pas se dÃ©fendre de tout. <br><br>  Il y a encore une chose Ã  laquelle penser: l'utilisation d'un langage de balisage moins expressif.  Voyons ce que cela signifie. <br><br>  <b>Public:</b> que dois-je faire si le nettoyage de contenu ne fonctionne pas? <br><br>  <b>Professeur:</b> oui, c'est possible, par exemple, dans ce cas Django ne sera pas en mesure de dÃ©terminer statiquement que c'est mauvais.  Par exemple, dans ce cas particulier.  Mais dans le cas oÃ¹ j'insÃ¨re une balise d'image malveillante ... <br><br>  <b>Public:</b> dans ce cas particulier, je m'attendrais Ã  ce que l'affectation de classe soit entre guillemets et dans ce cas ne devrait avoir aucun effet ... <br><br>  <b>Professeur:</b> eh bien, vous voyez, il y a de petites astuces.  En supposant que la grammaire du HTML et du CSS soit soigneusement dÃ©finie, vous pouvez imaginer un monde dans lequel des analyseurs idÃ©aux pourraient en quelque sorte attraper ces problÃ¨mes ou les transformer en quelque chose de normal.  Mais en fait, la grammaire HTML et la grammaire CSS souffrent d'inexactitudes.  De plus, les navigateurs n'implÃ©mentent pas de spÃ©cifications.  Par consÃ©quent, si vous utilisez une grammaire moins expressive, il nous sera beaucoup plus facile de dÃ©sinfecter le contenu. <br><br>  Ici, le terme Markdown est utilisÃ© - Â«balisage facile Ã  lireÂ» au lieu du terme Markup - balisage ordinaire.  L'idÃ©e principale de Markdown est qu'il est conÃ§u comme un langage qui, par exemple, permet aux utilisateurs de publier des commentaires, mais ne contient pas la possibilitÃ© d'utiliser une balise vide, la prise en charge des applets, etc.  Par consÃ©quent, dans Markdown, il est en fait beaucoup plus facile d'identifier de maniÃ¨re unique la grammaire, puis de l'appliquer. <br><br><img src="https://habrastorage.org/webt/pw/ul/9c/pwul9ccnk3ss1uycrvipf39mchu.jpeg"><br><br>  La dÃ©sinfection est beaucoup plus facile dans un langage simple qu'en HTML, CSS et JavaScript.  Et d'une certaine maniÃ¨re, c'est comme la diffÃ©rence entre la comprÃ©hension du code C et du code Python.  Il y a vraiment une grande diffÃ©rence dans la comprÃ©hension d'un langage plus expressif.  Par consÃ©quent, en limitant l'expressivitÃ©, vous amÃ©liorez souvent la sÃ©curitÃ©. <br><br>  Pour se protÃ©ger contre les attaques de scripts intersites, CSP, Content Security Policy, est Ã©galement utilisÃ©.  L'idÃ©e du CSP est qu'il permet au serveur web ... <br>  Public: Je suis simplement curieux de dÃ©couvrir ce langage Markdown.  Tous les navigateurs sont-ils capables d'effectuer une analyse linguistique? <br><br>  <b>Professeur:</b> non, non, non.  Vous pouvez simplement convertir divers types de langues en HTML, mais les navigateurs ne les comprennent pas dans leur forme d'origine.  En d'autres termes, vous avez un systÃ¨me de commentaires et il utilise Markdown.  Autrement dit, les commentaires, avant d'Ãªtre affichÃ©s sur la page, vont au compilateur Markdown, qui les traduit au format HTML. <br><br>  <b>Public:</b> alors pourquoi ne pas toujours utiliser Markdown? <br><br>  <b>Professeur:</b> Markdown vous permet d'utiliser du HTML intÃ©grÃ©, et pour autant que je sache, il existe un moyen de le dÃ©sactiver dans le compilateur.  Mais je peux me tromper Ã  ce sujet.  Le fait est qu'il n'est pas toujours possible d'utiliser un langage limitÃ© et que tout le monde ne veut pas le faire. <br><br>  Continuons donc la discussion sur la faÃ§on d'augmenter la sÃ©curitÃ© Ã  l'aide de la politique de sÃ©curitÃ© du contenu.  Cette politique permet au serveur d'indiquer au navigateur Web quels types de contenu peuvent Ãªtre chargÃ©s sur la page qu'il renvoie, ainsi que la provenance de ce contenu. <br><br>  Par exemple, dans la rÃ©ponse HTTP, le serveur peut utiliser quelque chose comme ceci: il inclut l'en-tÃªte Content - Security - Policy, la source par dÃ©faut est self et il recevra les donnÃ©es de * .mydomain.com. <br><br><img src="https://habrastorage.org/webt/6c/u3/z8/6cu3z8oazkleohxh9fnrvk1_hay.jpeg"><br><br>  Avec l'opÃ©rateur lui-mÃªme, le serveur indique que le contenu de ce site ne doit provenir que du domaine d'une page particuliÃ¨re ou de tout sous-domaine de mydomain.com.  Cela signifie que si nous avions une liaison automatique avec foo.com, le serveur renverrait cette page au navigateur. <br><br>  Supposons qu'une attaque de script intersite essaie de crÃ©er un lien vers bar.com.  Dans ce cas, le navigateur verra que bar.com n'est pas auto et n'est pas un domaine de mydomain.com, et n'ignorera pas cette demande plus loin.  Il s'agit d'un mÃ©canisme assez puissant oÃ¹ vous pouvez spÃ©cifier des contrÃ´les plus dÃ©taillÃ©s.  Vous dÃ©finissez des paramÃ¨tres indiquant que vos images doivent provenir de telle ou telle source, des scripts de telle ou telle et ainsi de suite.  C'est en fait pratique. <br><br>  De plus, cette stratÃ©gie empÃªche en fait le JavaScript intÃ©grÃ©, vous ne pouvez donc pas ouvrir la balise, Ã©crire une sorte de script et fermer la balise, car tout ce qui peut aller dans le navigateur ne doit provenir que d'une source conditionnelle.  CSP empÃªche les choses dangereuses comme l'utilisation de l'argument de la fonction eval (), qui permet Ã  une page Web d'exÃ©cuter du code JavaScript gÃ©nÃ©rÃ© dynamiquement.  Donc, si l'en-tÃªte CSP est dÃ©fini, le navigateur n'exÃ©cutera pas eval (). <br><br>  <b>Public:</b> Est-ce que tout CSP protÃ¨ge contre? <br><br>  <b>Professeur:</b> non.  Il y a toute une liste de ressources qu'il protÃ¨ge rÃ©ellement, et vous pouvez configurer la protection contre de nombreuses choses indÃ©sirables, par exemple, spÃ©cifier oÃ¹ il est autorisÃ© Ã  accepter les CSS sortants et un tas d'autres choses. <br><br>  <b>Public:</b> Mais outre eval (), il y a d'autres choses qui menacent la sÃ©curitÃ©? <br><br>  <b>Professeur:</b> oui, ils existent.  Par consÃ©quent, la question se pose toujours de l'exhaustivitÃ© de la protection.  Ainsi, par exemple, non seulement eval peut gÃ©nÃ©rer dynamiquement du code JavaScript.  Il y a aussi un constructeur de fonctions, il y a certaines faÃ§ons d'appeler un timeout donnÃ©, vous allez sur la ligne et vous pouvez analyser le code de cette faÃ§on.  CSP peut dÃ©sactiver tous ces vecteurs d'attaque dangereux.  Mais ce n'est pas une panacÃ©e pour l'isolement complet des exploits malveillants. <br><br>  <b>Public:</b> Est-il vrai que le CSP peut Ãªtre configurÃ© pour empÃªcher tous les scripts internes d'Ãªtre vÃ©rifiÃ©s sur la page? <br><br>  <b>Professeur:</b> oui, cela aide Ã  empÃªcher l'exÃ©cution de code gÃ©nÃ©rÃ© dynamiquement, tandis que le code intÃ©grÃ© doit Ãªtre ignorÃ©.  Le navigateur doit toujours obtenir le code de l'attribut source.  En fait, je ne sais pas si tous les navigateurs le font.  L'expÃ©rience personnelle montre que les navigateurs prÃ©sentent des comportements diffÃ©rents. <br><br>  En gÃ©nÃ©ral, la sÃ©curitÃ© Internet s'apparente aux sciences naturelles, donc les gens avancent simplement des thÃ©ories sur le fonctionnement des navigateurs.  Et puis vous voyez comment cela se produit rÃ©ellement.  Et la vraie image peut dÃ©cevoir, car on nous apprend qu'il existe des algorithmes, des preuves, etc.  Mais ces navigateurs se comportent si mal que les rÃ©sultats de leur travail sont imprÃ©visibles. <br><br>  Les dÃ©veloppeurs de navigateurs essaient d'avoir une longueur d'avance sur les attaquants, et plus loin dans la leÃ§on, vous en verrez des exemples.  En fait, CSP est une chose assez cool. <br><br>  Une autre chose utile est que le serveur peut dÃ©finir un en-tÃªte HTTP appelÃ© X-Content-Type-Options, dont la valeur est nosniff. <br><br><img src="https://habrastorage.org/webt/ow/tj/4n/owtj4npqv9thfxhl6hfa8n5elfg.jpeg"><br><br>  Cet en-tÃªte empÃªche MIME de supprimer la rÃ©ponse du type de contenu publiÃ©, car l'en-tÃªte indique au navigateur de ne pas remplacer le type de contenu de la rÃ©ponse.  Avec l'option nosniff, si le serveur dit que le contenu est text / html, le navigateur l'affichera comme text / html. <br>  Autrement dit, cet en-tÃªte empÃªche le navigateur de Â«reniflerÂ» la rÃ©ponse du type de contenu dÃ©clarÃ© afin que la situation ne se produise pas lorsque le navigateur dit: Â«oui, j'ai reniflÃ© le dÃ©calage entre l'extension de fichier et le contenu rÃ©el, donc je vais transformer ce contenu en un autre comprÃ©hensible moi une chose. "  Il s'avÃ¨re que vous avez soudainement donnÃ© aux barbares les clÃ©s du royaume. <br><br>  Par consÃ©quent, en dÃ©finissant cet en-tÃªte, vous dites au navigateur de ne rien faire de tel.  Cela peut considÃ©rablement attÃ©nuer les effets de certains types d'attaques.  Voici un bref aperÃ§u de certaines vulnÃ©rabilitÃ©s pour les attaques de script intersite. <br><br>  Voyons maintenant un autre vecteur d'attaque populaire - SQL.  Vous avez probablement entendu parler d'attaques appelÃ©es Â«injection SQLÂ» ou attaque par injection SQL.  L'essence de ces attaques consiste Ã  utiliser la base de donnÃ©es du site Web.  Pour crÃ©er dynamiquement la page affichÃ©e Ã  l'utilisateur, des requÃªtes de base de donnÃ©es sont Ã©mises qui sont Ã©mises vers ce serveur interne.  Imaginez que vous ayez une demande pour sÃ©lectionner toutes les valeurs d'une table spÃ©cifique, oÃ¹ le champ ID utilisateur est Ã©gal Ã  ce qui est dÃ©terminÃ© sur Internet Ã  partir d'une source potentiellement non fiable. <br><br><img src="https://habrastorage.org/webt/mc/uo/s3/mcuos3xx1tdpkoorj-cg6z_tdeu.jpeg"><br><br>  Nous savons tous comment cette histoire se terminera - elle se terminera trÃ¨s mal, il n'y aura pas de survivants.  Parce que ce qui vient d'une source non vÃ©rifiÃ©e peut causer beaucoup de problÃ¨mes.  Vous pouvez Ã©galement donner Ã  la chaÃ®ne d'ID utilisateur la valeur suivante: id utilisateur = Â«0;  SUPPRIMER LE TABLEAU â€œ. <br><br>  Alors que va-t-il se passer ici?  Fondamentalement, la base de donnÃ©es du serveur dira: "OK, je mettrai l'ID utilisateur Ã  zÃ©ro, puis j'exÃ©cuterai la commande" supprimer la table "".  Et c'est tout, vous avez terminÃ©! <br><br>  Ils disent qu'il y a quelques annÃ©es, une certaine image virale est apparue.  Certaines personnes en Allemagne ont installÃ© des plaques d'immatriculation sur les voitures, sur lesquelles 0 Ã©tait inscrit;  SUPPRIMER LE TABLEAU.  L'idÃ©e Ã©tait que les camÃ©ras routiÃ¨res utilisent l'OCR pour reconnaÃ®tre votre numÃ©ro, puis le mettent dans la base de donnÃ©es.  En gÃ©nÃ©ral, les gens de Volkswagen ont dÃ©cidÃ© d'exploiter cette vulnÃ©rabilitÃ© en plaÃ§ant du code malveillant sur leurs numÃ©ros. <br><br>  Je ne sais pas si cela a fonctionnÃ© parce que Ã§a a l'air drÃ´le.  Mais je voudrais croire que c'est vrai.  Je rÃ©pÃ¨te donc encore une fois - l'idÃ©e de la dÃ©sinfection est d'empÃªcher l'exÃ©cution de contenu provenant de sources non fiables sur votre site. <br><br><img src="https://habrastorage.org/webt/dx/2c/aj/dx2cajp2tth8bgt_-echscd6m-i.jpeg"><br><br>  Par consÃ©quent, faites attention au fait qu'il peut y avoir des choses simples qui ne fonctionnent pas comme elles le devraient.  Donc, vous pourriez penser: Â«eh bien, pourquoi ne puis-je pas simplement mettre une autre citation au dÃ©but de la ligne et une autre Ã  la fin pour exclure l'exÃ©cution de code malveillant de l'attaquant entre des guillemets triplesÂ»? <br><br>  id utilisateur = '"+ id utilisateur +'" <br><br>  Mais cela ne fonctionnera pas, car un attaquant peut toujours simplement mettre des guillemets Ã  l'intÃ©rieur de la chaÃ®ne d'attaque.  Donc, dans la plupart des cas, un tel "demi-piratage" ne vous apportera pas autant de sÃ©curitÃ© que vous attendez. <br><br>  La solution ici est que vous devez chiffrer soigneusement vos donnÃ©es.  Et encore une fois, je rÃ©pÃ¨te que lorsque vous recevez des informations d'une source non fiable, ne les insÃ©rez pas dans le systÃ¨me sous la forme dans laquelle elles se trouvent.  Assurez-vous qu'il ne peut pas sauter du bac Ã  sable si vous le placez pour effectuer un exploit malveillant. <br><br>  Par exemple, vous souhaitez insÃ©rer une fonction d'Ã©chappement pour empÃªcher l'utilisation de l'opÃ©rateur virgule brut.  Pour ce faire, de nombreux frameworks Web, tels que Django, ont des bibliothÃ¨ques intÃ©grÃ©es qui vous permettent d'Ã©viter les requÃªtes SQL pour empÃªcher de telles choses de se produire.  Ces frameworks encouragent les dÃ©veloppeurs Ã  ne jamais interagir directement avec la base de donnÃ©es.  Par exemple, Django lui-mÃªme fournit une interface de haut niveau qui vous dÃ©sinfecte. <br><br>  Mais les gens se soucient toujours des performances, et parfois les gens pensent que ces cadres Web sont trop lents.  Ainsi, comme vous le verrez bientÃ´t, les gens feront toujours des requÃªtes SQL brutes, ce qui peut entraÃ®ner des problÃ¨mes. <br><br>  Des problÃ¨mes peuvent survenir si le serveur Web accepte des noms de chemin provenant d'images non fiables.  Imaginez que quelque part sur votre serveur, vous faites quelque chose de similaire: ouvrez avec Â«www / images /Â» + nom de fichier, oÃ¹ le nom de fichier est reprÃ©sentÃ© par quelque chose comme ... / ... / ... / ... / etc / mot de passe. <br><br><img src="https://habrastorage.org/webt/sa/ro/bv/sarobvldxpltyhqughpaublh9ew.jpeg"><br><br>  Autrement dit, vous donnez la commande pour ouvrir l'image Ã  cette adresse Ã  partir d'un fichier utilisateur non fiable, ce qui peut en rÃ©alitÃ© vous nuire gravement.  Ainsi, si vous souhaitez utiliser un serveur Web ou un framework Web, vous devriez pouvoir dÃ©tecter ces caractÃ¨res dangereux et les Ã©viter afin d'empÃªcher l'exÃ©cution de ces commandes non gÃ©rÃ©es. <br><br>  Prenons une pause pour discuter de la dÃ©sinfection du contenu et parlons un peu des cookies.  Les cookies sont un moyen trÃ¨s populaire de gÃ©rer les sessions afin de lier un utilisateur Ã  un certain ensemble de ressources qui existent cÃ´tÃ© serveur.  De nombreux frameworks comme Django ou Zoobar, que vous rencontrerez plus tard, mettent en fait un identifiant de session alÃ©atoire dans les cookies.  L'idÃ©e est que cet identifiant de session est un index dans une sorte de table cÃ´tÃ© serveur: <br><br>  table [ID session] = informations utilisateur. <br><br>  Autrement dit, l'identifiant de session est Ã©gal Ã  certaines informations utilisateur.  En consÃ©quence, cet ID de session et les cookies sont des Ã©lÃ©ments trÃ¨s sensibles dans leur extension.  De nombreuses attaques incluent le vol de cookies afin d'obtenir cet identifiant de session.  Comme nous en avons discutÃ© dans notre derniÃ¨re confÃ©rence, la mÃªme politique de la mÃªme source d'origine peut vous aider, dans une certaine mesure, contre certaines de ces attaques de vol de cookies.  Parce qu'il existe des rÃ¨gles basÃ©es sur la mÃªme politique d'origine qui empÃªchent la modification arbitraire des cookies. <br><br>  La subtilitÃ© est que vous ne devez pas partager un domaine ou un sous-domaine avec quelqu'un en qui vous n'avez pas confiance.  Parce que, comme nous l'avons dit dans la derniÃ¨re confÃ©rence, il existe des rÃ¨gles qui permettent Ã  deux domaines ou sous-domaines de mÃªme origine d'accÃ©der aux cookies l'un de l'autre.  Et par consÃ©quent, si vous faites confiance Ã  un domaine auquel vous ne devriez pas faire confiance, il peut Ãªtre en mesure de dÃ©finir directement l'identifiant de session dans ces cookies, auxquels vous avez tous deux accÃ¨s.  Cela permettra Ã  l'attaquant de forcer l'utilisateur Ã  utiliser l'identifiant de session de son choix. <br><br><img src="https://habrastorage.org/webt/zu/vk/z6/zuvkz6jxe3v6rqnrvhfdfrzk5j8.jpeg"><br><br>  Supposons qu'un attaquant dÃ©finisse un cookie utilisateur Gmail.  Un utilisateur se connecte Ã  Gmail et tape quelques lettres.  Un attaquant peut alors utiliser ce cookie, notamment utiliser cet identifiant de session, tÃ©lÃ©charger Gmail, puis accÃ©der Ã  Gmail comme s'il Ã©tait un utilisateur victime.  Ainsi, il existe de nombreuses subtilitÃ©s que vous pouvez faire avec ces cookies pour gÃ©rer vos sessions.  Nous en discuterons aujourd'hui et dans des confÃ©rences ultÃ©rieures. <br><br>  Peut-Ãªtre pensez-vous que vous pouvez simplement vous dÃ©barrasser des cookies?  AprÃ¨s tout, ils apportent plus de problÃ¨mes que d'avantages.  Pourquoi ne peuvent-ils pas Ãªtre abandonnÃ©s? <br><br>   stateless cookie,  Â«   Â»,  -             , ,  ,     . <br><br> ,     ,        ,     .      ,       .  ,    ,            .        , ,  ,         ,  . <br><br>      â€”     MA â€” Message Authentication Codes,    .   ,  .       HCK  -  m.     ,  ,          K.  ,        ,     .   ,     ,          . <br><br><img src="https://habrastorage.org/webt/ll/z-/f3/llz-f3q7wj73o5ghn8d5urhxb7g.jpeg"><br><br>     ,   .    ,   stateless cookie,    Amazon, , x3.   - Amazon,   AWS,     .  â€“    K,  â€“   AWS,    . <br><br><img src="https://habrastorage.org/webt/dz/qy/tg/dzqytgmk-gbiyefqqk3o-jn9lle.jpeg"><br><br>    ,       AWS  HTTP,       . <br><br> ,        ,   ,      : <br><br> GET /photos/ cat; .jpg HTTP/1.1,        -  AWS: <br><br> HOST: â€” - â€” - â€” ,     , : <br><br> DATE: Mon, June 4,            ,  ,     .    ,   ID ,  ,     ,   . <br><br><img src="https://habrastorage.org/webt/ah/rb/k2/ahrbk2c77e0qvutlug1awoh147s.jpeg"><br><br>      ?       ,        3-  . <br><br>  ,   String To Sign   : <br><br> â€”  HTTP,     GET; <br> â€”     MDS; <br> â€”  ,  html   jpg; <br> â€” ; <br> â€”  ,     ,    . <br><br><img src="https://habrastorage.org/webt/1a/6o/qt/1a6oqtqqp9ee4eq_xegvmbuvmmw.jpeg"><br><br>  ,     ,     HCK MAC.  ,            .         ,         .  ,        .  ? <br><br>   ,  ,     ,          -   .     Amazon  ,      stateless cookie,     MD5       . <br><br>    , ,      ,         cookie,    .      â€“    ,  ,     . <br><br>        ,       .  ,      ,         â€œHCK, mâ€. <br><br><img src="https://habrastorage.org/webt/yt/ez/21/ytez21vos7pryus3awum_33cd0u.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le monde ordinaire, les cookies seraient utilisÃ©s Ã  la place de l'autorisation ici. </font><font style="vertical-align: inherit;">Mais maintenant, nous nous dÃ©barrassons d'eux et insÃ©rons ce message en texte clair GET / photos / cat dans la demande; </font><font style="vertical-align: inherit;">.jpg HTTP / 1.1 et chiffrement, qui permet au serveur de savoir de qui vient cette chose. </font><font style="vertical-align: inherit;">De cette faÃ§on, le serveur sait qui est l'utilisateur car il est intÃ©grÃ© Ã  la demande. </font><font style="vertical-align: inherit;">Ce n'est pas un secret, non? </font><font style="vertical-align: inherit;">Mais cela permet au serveur de dire: "Oui, je sais quelle clÃ© secrÃ¨te cet utilisateur aurait dÃ» utiliser pour crÃ©er cette demande, s'il s'agit d'un vÃ©ritable utilisateur." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56:15</font></font><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques".</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConfÃ©rence 9: SÃ©curitÃ© des applications Web, partie 3</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6HhmIlbE0l0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  La version complÃ¨te du cours est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des matÃ©riaux plus intÃ©ressants?  Soutenez-nous en passant une commande ou en le recommandant Ã  vos amis, une <b>rÃ©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrÃ©e de gamme que nous avons inventÃ©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vÃ©ritÃ© sur VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbps Ã  partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'Ã  24 cÅ“urs et jusqu'Ã  40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en dÃ©cembre gratuitement</b> en payant pour une pÃ©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV Ã  partir de 249 $</a> aux Pays-Bas et aux Ã‰tats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">crÃ©ation d'un bÃ¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coÃ»tant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr424295/">https://habr.com/ru/post/fr424295/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr424277/index.html">L'Ã©migration et tout ce qu'elle contient dans les blogs de tÃ©lÃ©grammes</a></li>
<li><a href="../fr424279/index.html">Comment ouvrir une adresse IP en Allemagne, si vous Ãªtes programmeur et ne pas remplir de cÃ´nes</a></li>
<li><a href="../fr424285/index.html">Conseils de dÃ©marrage Y Combinator: DÃ©velopper des marchÃ©s de jouets</a></li>
<li><a href="../fr424287/index.html">Comment nous avons participÃ© Ã  InnovateFPGA 2018 et n'avons pas gagnÃ© Ã  nouveau</a></li>
<li><a href="../fr424289/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 9: SÃ©curitÃ© des applications Web, partie 1</a></li>
<li><a href="../fr424297/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 9: SÃ©curitÃ© des applications Web, partie 3</a></li>
<li><a href="../fr424301/index.html">Algorithme de filtre d'image de rÃ©seau neuronal adaptatif</a></li>
<li><a href="../fr424305/index.html">RIB pour architecture mobile multiplateforme Uber</a></li>
<li><a href="../fr424307/index.html">GitLab 11.3 publiÃ© avec le rÃ©fÃ©rentiel Maven et les environnements sÃ©curisÃ©s</a></li>
<li><a href="../fr424309/index.html">DevCore: partie logicielle du projet DevBoy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>