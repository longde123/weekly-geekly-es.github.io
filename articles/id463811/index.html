<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✊🏿 🤙 👋🏻 Mempersiapkan aplikasi untuk Android Q. Bagian 1 ☝️ 👨🏾‍🤝‍👨🏼 🙎🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel disiapkan khusus untuk siswa kursus "Android-developer. Kursus dasar . " Kami juga mengingatkan Anda bahwa kami terus mendaftar di ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mempersiapkan aplikasi untuk Android Q. Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/463811/">  <i>Terjemahan artikel disiapkan khusus untuk siswa kursus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Android-developer.</a></i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kursus dasar</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"</a></i>  <i>Kami juga mengingatkan Anda bahwa kami terus mendaftar di kursus lanjutan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Spesialisasi Android-developer"</a></i> <br><br><img src="https://habrastorage.org/webt/e1/nl/7d/e1nl7dhanfo-bzheggvlnlgd3na.png"><br><br><hr><br>  Kami berada di tahun ke 10 pengembangan Android (Android Q harus versi 10.0).  Menurut Beta 4, Android Q secara resmi memiliki <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">API level 29</a> .  Meskipun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Beta 5</a> sudah ada dan Beta 6 diharapkan, API telah ditandai sebagai final, dan sekarang saatnya untuk melihat bagaimana Android Q akan mempengaruhi aplikasi dan perubahan apa yang perlu dilakukan untuk sepenuhnya mendukung Android Q. <a name="habracut"></a><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pt/rl/f8/ptrlf8nhzcgu1_itjsakkiial6m.png"></div><br>  Perubahan penting (tidak semua) yang disajikan dalam Android Q dapat dibagi menjadi dua kategori: a) <b>Kerahasiaan dan keamanan</b> , b) <b>Pengalaman Pengguna</b> . <br><br>  <i>Dari penerjemah: “Kami membagi terjemahan menjadi dua bagian yang sesuai dengan kategori ini.</i>  <i>Dengan demikian, pada bagian pertama kita akan berbicara tentang privasi dan keamanan. "</i> <br><br><h3>  1) Kerahasiaan dan keamanan </h3><br><h4>  a) Mulai Kegiatan latar belakang </h4><br>  Anda tidak lagi dapat memulai suatu Kegiatan saat aplikasi Anda ada di latar belakang. <br><br><ul><li>  <b>Apa yang mempengaruhi:</b> Semua aplikasi berjalan pada Q (terlepas dari SDK target).  Pengecualian dilemparkan jika Android Q adalah versi target aplikasi;  dan Aktivitas tidak akan dimulai jika Android Q bukan target SDK untuk aplikasi, tetapi bekerja pada perangkat dengan Android Q. </li><li> <b>Pengecualian:</b> Layanan terikat, seperti aksesibilitas, pelengkapan otomatis, dll. Jika aplikasi menerima <code>PendingIntent</code> dari sistem, kita dapat menggunakannya untuk memulai Kegiatan.  Jika aplikasi memiliki izin <code>SYSTEM_ALERT_WINDOW</code> (dihapus di Android GO) atau aplikasi yang baru saja <code>finish()</code> untuk Aktivitas (tidak disarankan untuk mengandalkannya. "Baru-baru ini" bisa sangat ambigu), maka aplikasi Anda bebas dari batasan ini. </li><li>  <b>Pendekatan yang disarankan:</b> Aktivitas yang memicu pemberitahuan </li></ul><br><pre> <code class="kotlin hljs"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> fullScreenIntent = Intent(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, CallActivity::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">java</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">val</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">fullScreenPendingIntent</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PendingIntent</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getActivity</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, fullScreenIntent, PendingIntent.FLAG_UPDATE_CURRENT) <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> notificationBuilder = NotificationCompat.Builder(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, CHANNEL_ID) .... .setPriority(NotificationCompat.PRIORITY_HIGH) .setCategory(NotificationCompat.CATEGORY_CALL) .setFullScreenIntent(fullScreenPendingIntent, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)</code> </pre> <br>  Tambahkan <code>Fullscreen PendingIntent</code> ke notifikasi.  Sekarang setelah notifikasi bekerja, sistem akan meluncurkan Intent layar penuh. <br><br>  Karena itu, jika kita ingin memulai Kegiatan dari latar belakang, pertama buat pemberitahuan yang akan ditampilkan kepada pengguna.  Dalam pemberitahuan ini, tambahkan <code>Fullscreen PendingIntent</code> .  Juga, tambahkan izin <code>USE_FULL_SCREEN_INTENT</code> ke manifes Anda.  Sekarang setelah notifikasi bekerja, sistem akan meluncurkan Intent layar penuh. <br><br><ul><li>  <b>Jebakan:</b> Sistem memutuskan kapan akan menampilkan pemberitahuan dan kapan akan menampilkan suatu Kegiatan.  Jika pengguna aktif menggunakan perangkat, notifikasi pop-up ditampilkan.  Jika perangkat dalam keadaan diam atau ketika pengguna berinteraksi dengan notifikasi, Aktivitas layar penuh dimulai.  Misalnya, seperti ketika menerima panggilan telepon (pemberitahuan pop-up saat menggunakan ponsel, jika tidak, Aktivitas layar penuh). </li></ul><br><h4>  b) Pengidentifikasi perangkat keras </h4><br>  Akses ke pengidentifikasi perangkat yang tidak dapat direset telah dicabut di Android Q. <br><br><ul><li>  <b>Apa yang mempengaruhi:</b> Semua aplikasi berjalan pada Q (terlepas dari SDK target).  Pengecualian dilemparkan jika Q adalah target SDK;  dan mengembalikan <code>null</code> jika target SDK kurang dari Q </li><li>  <b>Hindari:</b> Alamat Mac sekarang acak, dan IMEI ( <code>TelephonyManager.getDeviceId()</code> ) dan nomor seri tidak lagi tersedia.  Sekarang mereka "izin istimewa" dan hanya tersedia untuk aplikasi operator. </li><li>  <b>Pendekatan yang disarankan:</b> Gunakan pengidentifikasi yang dapat disetel ulang seperti ID Iklan, ID Instans, atau ID unik global (GUID).  Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Praktik terbaik untuk pengidentifikasi unik</a> untuk informasi lebih lanjut tentang pengidentifikasi mana yang digunakan dalam hal ini. </li></ul><br><h4>  c) Definisi latar belakang lokasi </h4><br>  Dimulai dengan Android Q, sistem akan membedakan antara permintaan lokasi yang dibuat di latar depan dan di latar belakang. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2-/tq/rk/2-tqrkkbbpp73pbwyr2izasqoxm.png"></div><br>  Permintaan izin untuk mengakses lokasi sekarang akan memiliki 3 opsi: Bolehkan sepanjang waktu, Bolehkan hanya saat menggunakan aplikasi (akses hanya di latar depan) dan Tolak (tidak ada akses). <br><br><ul><li>  <b>Apa pengaruhnya:</b> Tergantung pada target SDK.  Jika Q adalah target SDK untuk aplikasi, maka Anda perlu meminta izin lokasi baru di latar belakang.  Jika aplikasi memiliki SDK target yang berbeda, maka secara otomatis akan menerima izin ini jika sudah memiliki hak akses ke lokasi. </li></ul><br><img src="https://habrastorage.org/webt/xv/9u/pi/xv9upiapzwlxh1ecfmr1t_ewvj8.png"><br>  <i>Gambar diambil dari Dokumentasi Pengembang Android</i> <br><br><ul><li>  <b>Pendekatan yang disarankan:</b> jika aplikasi memerlukan akses satu kali ke lokasi pengguna untuk melakukan beberapa tugas, gunakan layanan latar depan dengan parameter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">foregroundServiceType</a> ditentukan sebagai <code>location</code> di file manifes aplikasi. </li></ul><br><pre> <code class="kotlin hljs">&lt;service android:name=<span class="hljs-string"><span class="hljs-string">"MyNavigationService"</span></span> android:foregroundServiceType=<span class="hljs-string"><span class="hljs-string">"location"</span></span> ... /&gt;</code> </pre> <br>  Jika aplikasi memerlukan akses konstan ke lokasi perangkat, misalnya, untuk geofence, ia dapat mengonfigurasi permintaan untuk memungkinkan akses ke lokasi di latar belakang.  Aspek-aspek lain dari aplikasi (misalnya, bagaimana lokasi diekstraksi dan digunakan) tidak perlu diubah.  Untuk meminta akses ke lokasi di latar belakang, tambahkan izin <code>ACCESS_BACKGROUND_LOCATION</code> ke manifes: <br><br><pre> <code class="kotlin hljs">&lt;manifest&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.ACCESS_COARSE_LOCATION"</span></span> /&gt; &lt;uses-permission android:name=<span class="hljs-string"><span class="hljs-string">"android.permission.ACCESS_BACKGROUND_LOCATION"</span></span> /&gt; &lt;/manifest&gt; <span class="hljs-comment"><span class="hljs-comment">//Request for the permission like any other permission request: ActivityCompat.requestPermissions(this, arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION), your-permission-request-code)</span></span></code> </pre> <br>  Minta akses lokasi di latar belakang <br><br><ul><li>  Perangkap: </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_1/q3/zi/_1q3zi9aherji3wi542vkyb6igu.png"></div><br>  <i>Pengingat yang ditampilkan oleh sistem tentang akses ke lokasi di latar belakang</i> <br><br>  Beberapa hal penting yang perlu diingat: pengguna dapat diingatkan setelah memberikan akses aplikasi ke lokasi perangkat di latar belakang, dan, seperti izin lainnya, pengguna dapat mencabut izin untuk itu.  Ini sangat penting untuk aplikasi di mana Q bukan target SDK, tetapi berjalan pada perangkat dengan Android Q, karena itu akan mendapatkan resolusi latar belakang default jika memiliki izin lokasi.  Pastikan aplikasi Anda menangani skrip tersebut dengan anggun.  Untuk alasan ini, setiap kali aplikasi memulai layanan atau meminta lokasi, periksa untuk melihat apakah pengguna masih mengizinkan aplikasi untuk mengakses informasi lokasi. <br><br>  Pada bagian ini, bagian pertama artikel itu berakhir Dan seperti yang dijanjikan, kita akan berbicara tentang Pengalaman Pengguna di bagian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kedua</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463811/">https://habr.com/ru/post/id463811/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463795/index.html">Nuansa makna dalam bahasa Inggris: cara menggunakan kata kerja Advise, Recommend, Suggest</a></li>
<li><a href="../id463799/index.html">Apa yang saya tidak suka tentang Windows 10</a></li>
<li><a href="../id463801/index.html">3 kualitas utama untuk manajer produk yang sukses: Anton Stozhko</a></li>
<li><a href="../id463803/index.html">Hari kelima saya dengan Haiku: mari kita port beberapa program</a></li>
<li><a href="../id463805/index.html">Tujuh buku untuk mereka yang ingin menjadi desainer game</a></li>
<li><a href="../id463813/index.html">Multivan dan perutean pada Mikrotik RouterOS</a></li>
<li><a href="../id463815/index.html">Mengapa bank asing tertarik dengan sumber dana Anda?</a></li>
<li><a href="../id463817/index.html">20 manajer produk dan struktur matriks paling multi-dimensi dari semua. Percakapan dengan Skyeng</a></li>
<li><a href="../id463819/index.html">Kunci PostgreSQL: 2. Kunci string</a></li>
<li><a href="../id463821/index.html">AMO, Bitrix, 1C, dan lainnya: bagaimana memilih di mana untuk memulai?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>