<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔹 👩🏿‍🤝‍👨🏽 👵 Nomor floating point liar barat tercepat 🌄 🤳🏾 🧜🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam proses menerapkan satu "pembaca", masalah muncul dengan peningkatan akurasi perhitungan. Algoritma perhitungan bekerja dengan cepat pada angka f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nomor floating point liar barat tercepat</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/423469/"> Dalam proses menerapkan satu "pembaca", masalah muncul dengan peningkatan akurasi perhitungan.  Algoritma perhitungan bekerja dengan cepat pada angka floating-point standar, tetapi ketika perpustakaan untuk perhitungan yang akurat terhubung, semuanya mulai melambat liar.  Pada artikel ini, kami akan mempertimbangkan algoritma untuk memperluas angka floating-point menggunakan pendekatan multi-komponen, yang memungkinkan untuk mencapai percepatan, karena aritmatika float diimplementasikan pada chip cp.  Pendekatan ini akan berguna untuk perhitungan yang lebih akurat dari turunan numerik, inversi matriks, pemangkasan poligon atau masalah geometrik lainnya.  Jadi dimungkinkan untuk meniru float 64bit pada kartu video yang tidak mendukungnya. <br><br><img src="https://habrastorage.org/webt/54/1e/jo/541ejotttsu8hl3swtihly-liro.png" alt="patokan double.js"><br><br><a name="habracut"></a><br><br><h3>  Pendahuluan </h3><br>  Seperti Nikluas Wirth mewariskan kepada kami untuk menjaga angka 0 dan 1, jadi kami menyimpannya di dalamnya.  Dan apakah manusia hidup dalam sistem desimal, dan angka yang tampaknya biasa 0,1 dan 0,3 tidak dapat diwakili dalam sistem biner oleh fraksi terbatas?  Kami mengalami kejutan budaya ketika kami menghitungnya.  Tentu saja, upaya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sedang</a> dilakukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">untuk</a> membuat perpustakaan untuk prosesor berdasarkan sistem desimal dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">IEEE</a> bahkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">memiliki</a> format standar. <br><br>  Tetapi untuk saat ini, kami memperhitungkan penyimpanan biner di mana-mana dan melakukan semua perhitungan uang dengan perpustakaan untuk perhitungan yang tepat, seperti bignumber, yang menyebabkan hilangnya kinerja.  Asiks mempertimbangkan kripto, dan dalam prosesor ada begitu sedikit ruang untuk aritmatika desimal Anda ini, kata pemasar.  Oleh karena itu, pendekatan multikomponen, ketika angka disimpan dalam bentuk jumlah angka yang tidak diubah, adalah trik yang mudah dan lingkungan yang aktif berkembang di bidang informatika teoretis.  Meskipun Decker masih belajar mengalikan dengan benar, tanpa kehilangan keakuratan, pada tahun 1971, perpustakaan yang siap digunakan muncul jauh kemudian (MPFR, QD) dan tidak dalam semua bahasa, tampaknya karena tidak semua mendukung standar IEEE, tetapi bukti kesalahan perhitungan yang teliti bahkan kemudian, misalnya pada 2017 untuk aritmatika dua kata. <br><br><h3>  Aritmatika dua kata </h3><br>  Apa gunanya  Di masa berjanggut, ketika tidak ada standar untuk angka mengambang, untuk menghindari masalah dengan penerapan pembulatan, Møller muncul, dan Knuth kemudian membuktikan bahwa ada penjumlahan bebas kesalahan.  Berlari dengan cara ini <br><br><pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">quickTwoSum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> s = a + b; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> z = s - a; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> e = b - z; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [s, e]; }</code> </pre> <br>  Dalam algoritma ini, diasumsikan bahwa jika <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mo>&amp;gt;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.913ex" height="2.66ex" viewBox="0 -832 3407.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-61" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-3E" x="1364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="2420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-62" x="2699" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="3128" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mo>&gt;</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-1"> | a | > | b | </script>  , maka jumlah pastinya dapat direpresentasikan sebagai jumlah dari dua angka <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>s</mi><mo>+</mo><mi>e</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.014ex" height="1.937ex" viewBox="0 -676.4 2158.9 834" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-2B" x="691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-65" x="1692" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>s</mi><mo>+</mo><mi>e</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> s + e </script>  dan Anda dapat menyimpannya berpasangan untuk perhitungan selanjutnya, dan pengurangan dikurangi menjadi penambahan dengan angka negatif. <br><br><img src="https://habrastorage.org/webt/6o/5b/h3/6o5bh3at9xelrvk2yslo4qk0jl0.png" alt="bank vs bank terdekat"><br><br>  Kemudian, Dekker menunjukkan bahwa jika bilangan floating-point digunakan yang menggunakan pembulatan ke bilangan genap terdekat (pembulatan ke bilangan terdekat dengan genap, yang umumnya merupakan prosedur yang benar, yang tidak mengarah pada kesalahan besar selama perhitungan panjang dan standar IEEE), kemudian ada algoritma multiplikasi bebas kesalahan. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">twoMult</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> A = split(a); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> B = split(b); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> r1 = a * b; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t1 = -r1 + A[<span class="hljs-number"><span class="hljs-number">0</span></span>] * B[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t2 = t1 + A[<span class="hljs-number"><span class="hljs-number">0</span></span>] * B[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t3 = t2 + A[<span class="hljs-number"><span class="hljs-number">1</span></span>] * B[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [r1, t3 + A[<span class="hljs-number"><span class="hljs-number">1</span></span>] * B[<span class="hljs-number"><span class="hljs-number">1</span></span>]]; }</code> </pre><br>  di mana split () adalah algoritma Mr. Weltkamp untuk memisahkan angka <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> splitter = <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.pow(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">split</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> t = splitter * a; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> d = a - t; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xh = t + d; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> xl = a - xh; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [xh, xl]; }</code> </pre><br>  menggunakan konstanta <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>C</mi><mo>=</mo><msup><mn>2</mn><mi>s</mi></msup><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.033ex" height="2.178ex" viewBox="0 -780.1 4750.5 937.7" role="img" focusable="false" style="vertical-align: -0.366ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-3D" x="1038" y="0"></use><g transform="translate(2094,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-73" x="707" y="557"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-2B" x="3249" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-31" x="4249" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mo>=</mo><msup><mn>2</mn><mi>s</mi></msup><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> C = 2 ^ s + 1 </script>  yang menyamakan sedikit lebih dari setengah panjang mantissa, yang tidak mengarah pada jumlah yang melimpah dalam proses penggandaan dan membagi mantissa menjadi dua bagian.  Misalnya, dengan panjang kata 64-bit, panjang mantissa adalah 53 dan kemudian s = 27. <br><br><img src="https://habrastorage.org/webt/ut/k-/rl/utk-rlv912w0uw44uvm4cce4uts.gif" alt="melayang ganda"><br><br>  Dengan cara ini, Dekker menyediakan himpunan hampir lengkap yang dibutuhkan untuk komputasi dalam aritmatika dua kata.  Karena di sana juga ditunjukkan bagaimana mengalikan, membagi, dan kuadrat dua angka dua kata. <br><br>  Algoritma quickTwoSum-nya untuk menjumlahkan dua kata ganda ada di mana-mana "inline", dan cek digunakan <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mo>&amp;gt;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>b</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.913ex" height="2.66ex" viewBox="0 -832 3407.1 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-61" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="808" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-3E" x="1364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="2420" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMATHI-62" x="2699" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/423469/&amp;usg=ALkJrhikXgeCHUFNkov1nlZ2f4S3XrdStg#MJMAIN-7C" x="3128" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mo>&gt;</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-4"> | a | > | b | </script>  .  Pada prosesor modern, seperti yang dijelaskan dalam [4], lebih murah untuk menggunakan operasi tambahan dengan angka daripada percabangan algoritma.  Oleh karena itu, algoritma berikut ini sekarang lebih tepat untuk menambahkan dua angka kata tunggal <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">twoSum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">a, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> s = a + b; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a1 = s - b; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> b1 = s - a1; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> da = a - a1; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> db = b - b1; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [s, da + db]; }</code> </pre><br>  Jadi ini adalah penjumlahan dan penggandaan angka kata ganda. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add22</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">X, Y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> S = twoSum(X[<span class="hljs-number"><span class="hljs-number">0</span></span>], Y[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> E = twoSum(X[<span class="hljs-number"><span class="hljs-number">1</span></span>], Y[<span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> c = S[<span class="hljs-number"><span class="hljs-number">1</span></span>] + E[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> V = quickTwoSum(S[<span class="hljs-number"><span class="hljs-number">0</span></span>], c); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> w = V[<span class="hljs-number"><span class="hljs-number">1</span></span>] + E[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quickTwoSum(V[<span class="hljs-number"><span class="hljs-number">0</span></span>], w); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mul22</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">X, Y</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> S = twoMult(X[<span class="hljs-number"><span class="hljs-number">0</span></span>], Y[<span class="hljs-number"><span class="hljs-number">0</span></span>]); S[<span class="hljs-number"><span class="hljs-number">1</span></span>] += X[<span class="hljs-number"><span class="hljs-number">0</span></span>] * Y[<span class="hljs-number"><span class="hljs-number">1</span></span>] + X[<span class="hljs-number"><span class="hljs-number">1</span></span>] * Y[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> quickTwoSum(S[<span class="hljs-number"><span class="hljs-number">0</span></span>], S[<span class="hljs-number"><span class="hljs-number">1</span></span>]); }</code> </pre><br>  Secara umum, daftar algoritma yang paling lengkap dan akurat untuk aritmatika kata ganda, batas-batas kesalahan teoretis dan implementasi praktis dijelaskan dalam tautan [3] mulai 2017.  Karena itu, jika tertarik, saya sangat merekomendasikan untuk langsung pergi ke sana.  Secara umum, algoritma untuk kata quadruple diberikan dalam [6], dan pada [5] untuk ekstensi multikomponen dengan panjang sewenang-wenang.  Hanya di sana, setelah setiap operasi, proses renormalisasi digunakan, yang tidak selalu optimal untuk ukuran kecil, dan keakuratan perhitungan dalam QD tidak ditentukan secara ketat.  Secara umum, ada baiknya memikirkan batas penerapan dari pendekatan ini, tentu saja. <br><br><h3>  Cerita horor javascript-a.  Perbandingan decimal.js vs bignumber.js vs big.js. </h3><br>  Kebetulan hampir semua perpustakaan untuk perhitungan yang tepat dalam js ditulis oleh satu orang.  Ilusi pilihan diciptakan, meskipun semuanya hampir sama.  Selain itu, dokumentasi tidak secara eksplisit menunjukkan bahwa jika Anda tidak membulatkan angka setelah setiap operasi perkalian / pembagian, maka ukuran nomor Anda akan berlipat ganda sepanjang waktu, dan kompleksitas algoritme dapat tumbuh menjadi mudah di x3500.  Misalnya, perbandingan waktu kalkulasi mereka mungkin terlihat seperti ini jika Anda tidak membulatkan angka. <br><br><img src="https://habrastorage.org/webt/lj/6r/pk/lj6rpkl_lenvq7vabfyqqhdwh8y.png"><br><br>  Artinya, Anda menetapkan akurasi ke 32 tempat desimal dan ... Ups, Anda sudah memiliki 64 digit, 128. Kami pikir sangat akurat!  256, 512 ... Tapi saya set 32! .. 1024, 2048 ... Sesuatu seperti ini muncul di atas 3.500 kali.  Dokumentasi menyatakan bahwa jika Anda memiliki perhitungan ilmiah, maka mungkin desimal.js lebih baik untuk Anda.  Meskipun pada kenyataannya, jika Anda hanya membulatkan secara berkala, untuk perhitungan ilmiah Bignumber.js bekerja sedikit lebih cepat (lihat Gambar 1).  Siapa yang perlu menghitung seperseratus sen jika mereka tidak dapat diberikan sebagai ganti?  Apakah ada kasus ketika saya perlu menyimpan lebih banyak angka yang ditunjukkan dan tidak dapat keluar dengan beberapa karakter tambahan?  Bagaimana cara mengambil sinus dari nomor monster seperti itu, ketika tidak ada yang tahu ketepatan konvergensi dari seri Taylor untuk angka acak?  Secara umum, tidak ada kecurigaan tidak berdasar bahwa adalah mungkin untuk meningkatkan kecepatan perhitungan di sana, menggunakan algoritma multiplikasi Schoenhage-Strassen dan menemukan sinus dengan perhitungan Cordic, misalnya. <br><br><h3>  Double.js </h3><br>  <s>Saya ingin mengatakan, tentu saja, bahwa Double.js menghitung dengan cepat dan akurat.</s>  <s>Tapi ini tidak sepenuhnya benar, yaitu 10 kali lebih cepat dari yang dipertimbangkan, tetapi tidak selalu akurat.</s>  <s>Misalnya, 0,3-0,1 dapat diproses, melewati penyimpanan ganda dan sebaliknya.</s>  <s>Tetapi nomor Pi dapat diselesaikan dengan akurasi ganda hampir 32 digit dan itu tidak berhasil.</s>  <s>Kesalahan dihasilkan pada tanggal 16, seolah-olah terjadi overflow.</s>  <s>Secara umum, saya mendesak komunitas js untuk bekerja bersama untuk mencoba menyelesaikan masalah parsing, karena saya mandek.</s>  <s>Saya mencoba mengurai secara digital dan membaginya dalam presisi ganda, seperti pada QD, membagi dalam batch 16 digit dan membaginya dalam presisi ganda, membagi mantissa menggunakan Big.js seperti pada salah satu lib Julia.</s>  <s>Sekarang saya berdosa pada bug di .parseFloat (), karena standar IEEE dengan pembulatan ke integer terdekat didukung bahkan dengan ECMAScript 1. Meskipun tentu saja Anda dapat mencoba untuk mengikat buffer biner dan menonton setiap 0 dan 1. Secara umum, jika Anda dapat menyelesaikan masalah ini, maka selanjutnya dimungkinkan untuk membuat perhitungan dengan akurasi sewenang-wenang dengan akselerasi di x10-x20 dari bignumber.js.</s>  <s>Namun, banyak Mandelbrot yang telah menghasilkan kualitas, dan Anda dapat menggunakannya untuk tugas-tugas geometris.</s> <br><br>  Setahun kemudian, saya kembali ke sini dan masih memperbaiki masalah dengan parsing.  Masalahnya hanya dalam akurasi kurang, ketika dikalikan dengan 10 ^ (- n).  Semua algoritma telah direvisi dari awal, dan sekarang dijalankan dengan akurasi dan kecepatan yang menakutkan. <br><br><img src="https://habrastorage.org/webt/ax/gx/mb/axgxmb_wfffxczzejqaxa9mqdpy.png" alt="double.js vs angka"><br><br>  Berikut ini tautan ke <a href="">lib</a> , ada patokan interaktif dan kotak pasir tempat Anda bisa bermain dengannya. <br><br><h3>  Sumber yang digunakan </h3><br><ol><li>  O. Møller.  <i>Kuasi ganda presisi dalam aritmatika floating-point.</i>  , 1965. </li><li>  Theodorus Dekker.  <i>Teknik floating-point untuk memperluas presisi yang tersedia</i> , 1971. [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penampil</a> ] </li><li>  Mioara Joldes, Jean-Michel Muller, Valentina Popescu.  <i>Batas kesalahan ketat dan ketat untuk blok bangunan dasar aritmatika kata ganda</i> , 2017. [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PDF</a> ] </li><li>  Muller, J.-M.  Brisebarre, N. de Dinechin, dll.  Buku Pegangan Aritmatika Titik Apung, Bab 14, 2010. </li><li>  Jonathan Shewchuk.  <i>Predikat Geometris Floating-Point Adaptif yang Kuat</i> , 1964. [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PDF</a> ] </li><li>  Yozo Hida, Xiaoye Li, David Bailey.  <i>Perpustakaan untuk Aritmatika Double-Double dan Quad-Double</i> , 2000. [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PDF</a> ] </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id423469/">https://habr.com/ru/post/id423469/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id423459/index.html">Perbedaan antara Phoenix dan Rails melalui mata seorang mualaf</a></li>
<li><a href="../id423461/index.html">Musim gugur suborbital</a></li>
<li><a href="../id423463/index.html">Seperti yang kami tulis algoritma analisis RFM lain</a></li>
<li><a href="../id423465/index.html">Apa yang harus dibaca tentang ITSM: buku, blog, dan artikel terbaru</a></li>
<li><a href="../id423467/index.html">Pengembang Rusia akan merilis katalog kompatibilitas produk</a></li>
<li><a href="../id423475/index.html">Meretas kode penuaan: ilmu baru tentang penuaan dan apa artinya tetap muda</a></li>
<li><a href="../id423477/index.html">Jadilah seorang ninja keamanan: mulai jalan Anda ke ketinggian IB</a></li>
<li><a href="../id423479/index.html">"Pertama": apakah akan terbang ke Mars</a></li>
<li><a href="../id423481/index.html">Saya perlu meningkatkan cluster Kubernetes, tapi saya hanya seorang programmer kode. Ada jalan keluar</a></li>
<li><a href="../id423483/index.html">Menemukan Cara yang Tepat untuk Memisahkan Konten Situs Web Menggunakan Webpack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>