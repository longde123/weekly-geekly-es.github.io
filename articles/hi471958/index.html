<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тмЫя╕П ЁЯзЫЁЯП╗ ЁЯСРЁЯП┐ рдЕрдореЗрдЬрд╝реЕрди EX рд╡рд┐рдВрдбреЛрдЬ рдЬреАрдП рдореЗрдВ рдмрдЧ рдХреЗ рд╕рд╛рде, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рд╕реЗ рднреА рддреЗрдЬ ЁЯЪгЁЯП╗ ЁЯСйЁЯП╛тАНтЬИя╕П ЁЯзС</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╢реБрдн рджреЛрдкрд╣рд░, рдореИрдВ рдЖрдкрдХреЗ рд╕рд╛рде Windows рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рд▓рд┐рдП AWS EKS (Elastic Kubernetes Service) рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рдЕрдкрдирд╛ рдЕрдиреБрднрд╡ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЕрдореЗрдЬрд╝реЕрди EX рд╡рд┐рдВрдбреЛрдЬ рдЬреАрдП рдореЗрдВ рдмрдЧ рдХреЗ рд╕рд╛рде, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рд╕реЗ рднреА рддреЗрдЬ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471958/"><img src="https://habrastorage.org/webt/v8/sa/4v/v8sa4v5szzunep9y4znfp_u11pu.png"><br><br>  рд╢реБрдн рджреЛрдкрд╣рд░, рдореИрдВ рдЖрдкрдХреЗ рд╕рд╛рде Windows рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рд▓рд┐рдП AWS EKS (Elastic Kubernetes Service) рд╕реЗрд╡рд╛ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рдЕрдкрдирд╛ рдЕрдиреБрднрд╡ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ, рдпрд╛ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрд╕рдВрднрд╡рддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдФрд░ AWS рд╕рд┐рд╕реНрдЯрдо рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдкрд╛рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдмрдЧ, рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЬреЛ Windows рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕ рд╕реЗрд╡рд╛ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдХреГрдкрдпрд╛ рдмрд┐рд▓реНрд▓реА рдХреЗ рдиреАрдЪреЗред <br><a name="habracut"></a><br>  рдореБрдЭреЗ рдкрддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рдВрдбреЛрдЬрд╝ рдХрдВрдЯреЗрдирд░ рдПрдХ рд▓реЛрдХрдкреНрд░рд┐рдп рд╡рд┐рд╖рдп рдирд╣реАрдВ рд╣реИ, рдФрд░ рдмрд╣реБрдд рдХрдо рд▓реЛрдЧ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА рдЗрд╕ рд▓реЗрдЦ рдХреЛ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдмреНрд░реЗ рдкрд░ рдХреБрдмреЗрд░рдиреЗрдЯ рдФрд░ рдЦрд┐рдбрд╝рдХрд┐рдпреЛрдВ рдкрд░ рдХреБрдЫ рд▓реЗрдЦ рдереЗ рдФрд░ рдЕрднреА рднреА рдРрд╕реЗ рд▓реЛрдЧ рд╣реИрдВред <br><br><h3>  рд╢реБрд░реБрдЖрдд </h3><br>  рдпрд╣ рд╕рдм рдЗрд╕ рддрдереНрдп рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реБрдЖ рдХрд┐ рд╣рдорд╛рд░реА рдХрдВрдкрдиреА рдореЗрдВ рд╕реЗрд╡рд╛рдПрдВ, рдЗрд╕реЗ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдпрд╣ 70% рдЦрд┐рдбрд╝рдХрд┐рдпрд╛рдВ рдФрд░ 30% рд▓рд┐рдирдХреНрд╕ рд╣реИред  рдЗрд╕рдХреЗ рд▓рд┐рдП, AWS EKS рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рдХреЛ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдорд╛рдирд╛ рдЧрдпрд╛ рдерд╛ред  8 рдЕрдХреНрдЯреВрдмрд░, 2019 рддрдХ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдИрдХреЗрдПрд╕ рд╡рд┐рдВрдбреЛрдЬ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдореЗрдВ рдерд╛, рдореИрдВрдиреЗ рдЗрд╕рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд┐рдпрд╛ рдерд╛, рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╣рд╛рдБ рдкреБрд░рд╛рдирд╛ 1.11 рдерд╛, рд▓реЗрдХрд┐рди рдореИрдВрдиреЗ рдЗрд╕реЗ рд╡реИрд╕реЗ рднреА рдЬрд╛рдВрдЪрдиреЗ рдФрд░ рдпрд╣ рджреЗрдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдпрд╣ рдХреНрд▓рд╛рдЙрдб рд╕реЗрд╡рд╛ рдХрд┐рд╕ рдЪрд░рдг рдореЗрдВ рдХрд╛рдо рдХрд░ рд░рд╣реА рд╣реИ, рдЕрдЧрд░ рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рднреА рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ, рддреЛ рдпрд╣ рдирд╣реАрдВ рд╣реИред рдЪреВрд▓реНрд╣реЛрдВ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд╕рд╛рде рдПрдХ рдмрдЧ, рдЬрдмрдХрд┐ рдкреБрд░рд╛рдиреЗ рд▓реЛрдЧреЛрдВ рдиреЗ рдЖрдВрддрд░рд┐рдХ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡рд┐рдВрдбреЛрдЬ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╣реА рд╕рдмрдиреЗрдЯ рд╕реЗ рдЬрд╡рд╛рдм рджреЗрдирд╛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ред <br><br>  рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╣реА EC2 рдкрд░ рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдкрд░ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рдкрдХреНрд╖ рдореЗрдВ AWS EKS рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреЗрд╡рд▓ CloudFormation рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рднреА рд╕рдВрддреБрд▓рди рдФрд░ рд╣рд╛ рдХреЛ рд╕реНрд╡рдпрдВ рджреНрд╡рд╛рд░рд╛ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реЛрдЧрд╛ред <br><br><h3>  рдЕрдореЗрдЬрд╝рди рдИрдХреЗрдПрд╕ рд╡рд┐рдВрдбреЛрдЬ рдХрдВрдЯреЗрдирд░ рд╕рдорд░реНрдерди рдЕрдм рдЖрдо рддреМрд░ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ </h3><br>  <b>by рдорд╛рд░реНрдЯрд┐рди рдмреАрдмреА |</b>  <b>08 OCT 2019 рдХреЛ</b> <br><br>  рдореЗрд░реЗ рдкрд╛рд╕ рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП CloudFormation рдореЗрдВ рдПрдХ рдЯреЗрдореНрдкрд▓реЗрдЯ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рд╕рдордп рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдореИрдВрдиреЗ рдЗрд╕ рд╕рдорд╛рдЪрд╛рд░ рдХреЛ рджреЗрдЦрд╛ рдерд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Amazon EKS Windows рдХрдВрдЯреЗрдирд░ рд╕рдорд░реНрдерди рдЕрдм рдЖрдо рддреМрд░ рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ</a> <br><br>  рдмреЗрд╢рдХ, рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд╕рднреА рдШрдЯрдирд╛рдХреНрд░рдореЛрдВ рдХреЛ рд╕реНрдердЧрд┐рдд рдХрд░ рджрд┐рдпрд╛, рдФрд░ рдпрд╣ рдЕрдзреНрдпрдпрди рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдХрд┐ рдЙрдиреНрд╣реЛрдВрдиреЗ рдЬреАрдП рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдХрд┐рдпрд╛ рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рд╕реЗ рд╕рдм рдХреБрдЫ рдХреИрд╕реЗ рдмрджрд▓ рдЧрдпрд╛ред  рд╣рд╛рдБ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдлреЗрд▓реЛ рдиреЗ рд╡рд┐рдВрдбреЛрдЬрд╝ рд╡рд░реНрдХрд░ рдиреЛрдб рдХреЗ рд▓рд┐рдП рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рд╕рдВрд╕реНрдХрд░рдг 1.14 рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдЕрдм рдИрдХреЗрдПрд╕ рдореЗрдВ рдХреНрд▓рд╕реНрдЯрд░ рд╕рдВрд╕реНрдХрд░рдг 1.14 рдореЗрдВ рд╡рд┐рдВрдбреЛрдЬрд╝ рдиреЛрдбреНрд╕ рдХреЗ рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рд╣реИред  рдЙрдиреНрд╣реЛрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рдЯрд╣рдм</a> рдкрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкреВрд░реНрд╡рд╛рд╡рд▓реЛрдХрди рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдХрд╣рд╛ рдХрд┐ рдЕрдм рдпрд╣рд╛рдВ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдИрдХреЗрдПрд╕ рд╡рд┐рдВрдбреЛрдЬ рд╕рдкреЛрд░реНрдЯ</a> <br><br><h3>  рд╡рд░реНрддрдорд╛рди VPC рдФрд░ рд╕рдмрдиреЗрдЯ рдореЗрдВ EKS рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдПрдХреАрдХрд░рдг </h3><br>  рд╕рднреА рд╕реНрд░реЛрддреЛрдВ рдореЗрдВ, рдШреЛрд╖рдгрд╛ рдХреЗ рдКрдкрд░ рдХреА рдХрдбрд╝реА рдореЗрдВ рдФрд░ рджрд╕реНрддрд╛рд╡реЗрдЬ рдореЗрдВ рднреА, рдпрд╣ рдорд╛рд▓рд┐рдХрд╛рдирд╛ рдЙрдкрдпреЛрдЧрд┐рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡ рдерд╛ рдпрд╛ рдмрд╛рдж рдореЗрдВ CloudFormation + kubectl рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдХреЗрд╡рд▓ рдЕрдореЗрдЬрд╝реЕрди рдореЗрдВ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде-рд╕рд╛рде рдПрдХ рдирдП рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ VPC рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ред <br><br>  рдпрд╣ рд╡рд┐рдХрд▓реНрдк рдХрдИ рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИ, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рдЕрд▓рдЧ VPC рдЕрдкрдиреЗ рд╡рд░реНрддрдорд╛рди VPC рдХреЗ рд▓рд┐рдП рдЗрд╕рдХреА рд▓рд╛рдЧрдд + рд╕рд╣рдХрд░реНрдореА рдпрд╛рддрд╛рдпрд╛рдд рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рд▓рд╛рдЧрдд рд╣реИред  рдЙрди рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рдХрд░реЗрдВ рдЬрд┐рдирдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА AWS рдореЗрдВ рдЕрдкрдиреЗ рдХрдИ AWS рдЦрд╛рддреЛрдВ, VPC, рд╕рдмрдиреЗрдЯреНрд╕, рд░реВрдЯ рдЯреЗрдмрд▓, рдЯреНрд░рд╛рдВрдЬрд┐рдЯ рдЧреЗрдЯрд╡реЗ рдФрд░ рдХреЗ рд╕рд╛рде рдПрдХ рддреИрдпрд╛рд░ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪрд╛ рд╣реИ?  рдмреЗрд╢рдХ, рдореИрдВ рдЗрд╕реЗ рддреЛрдбрд╝рдирд╛ рдпрд╛ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ, рдФрд░ рдореБрдЭреЗ рдореМрдЬреВрджрд╛ рд╡реАрдкреАрд╕реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореМрдЬреВрджрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдореЗрдВ рдирдП рдИрдХреЗрдПрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдФрд░ рдЕрдзрд┐рдХрддрдо рд╡рд┐рднрд╛рдЬрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдирдП рд╕рдмрдиреЗрдЯ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕ рдкрде рдХреЛ рдЪреБрдирд╛ рдЧрдпрд╛ рдерд╛, рдореИрдВрдиреЗ рдореМрдЬреВрджрд╛ VPC рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдПрдХ рдирдП рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ 2 рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯ рдФрд░ 2 рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ рдЬреЛрдбрд╝реЗ, рдмреЗрд╢рдХ, рд╕рднреА рдирд┐рдпрдореЛрдВ рдХреЛ рджрд╕реНрддрд╛рд╡реЗрдЬ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЧрдпрд╛ рдерд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрдиреЗ рдЕрдореЗрдЬрд╝реЕрди рдИрдХреЗрдПрд╕ рдХреНрд▓рд╕реНрдЯрд░ рд╡реАрдкреАрд╕реА рдмрдирд╛рдПрдВ</a> ред <br><br>  <b>EIP рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯ рдореЗрдВ рдХреЛрдИ рднреА рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдб рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рд░реНрдд рдирд╣реАрдВ рдереАред</b> <br><br><h3>  Eksctl рдмрдирд╛рдо CloudFormation </h3><br>  рдореИрдВ рддреБрд░рдВрдд рдПрдХ рдЖрд░рдХреНрд╖рдг рдХрд░ рджреВрдВрдЧрд╛ рдХрд┐ рдореИрдВрдиреЗ рдХреНрд▓рд╕реНрдЯрд░ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдХреЗ рджреЛрдиреЛрдВ рддрд░реАрдХреЛрдВ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА, рджреЛрдиреЛрдВ рд╣реА рдорд╛рдорд▓реЛрдВ рдореЗрдВ рддрд╕реНрд╡реАрд░ рд╕рдорд╛рди рдереАред <br><br>  рдореИрдВ рдХреЗрд╡рд▓ рдХреЛрдб рдХреЗ рдЫреЛрдЯреЗ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╕реЗ eksctl рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рдКрдВрдЧрд╛ред  3 рдЪрд░рдгреЛрдВ рдореЗрдВ рддреИрдирд╛рдд рдПрдХреНрд╕реЗрд▓рдХреНрдЯ рдХреНрд▓рд╕реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛: <br><br>  1. рдХреНрд▓рд╕реНрдЯрд░ рд╕реНрд╡рдпрдВ + рд▓рд┐рдирдХреНрд╕ рд╡рд░реНрдХрд░ рдиреЛрдб рдХреЛ рдмрдирд╛рдПрдВ, рдЬрд┐рд╕ рдкрд░ рдмрд╛рдж рдореЗрдВ рд╕рд┐рд╕реНрдЯрдо рдХрдВрдЯреЗрдирд░ рдФрд░ рдмрд╣реБрдд рд╣реА рдЕрд╢реБрдн рд╡реАрдкреАрд╕реА-рдирд┐рдпрдВрддреНрд░рдХ рд╕реНрдерд┐рдд рд╣реЛрдВрдЧреЗред <br><br><pre><code class="bash hljs">eksctl create cluster \ --name yyy \ --region www \ --version 1.14 \ --vpc-private-subnets=subnet-xxxxx,subnet-xxxxx \ --vpc-public-subnets=subnet-xxxxx,subnet-xxxxx \ --asg-access \ --nodegroup-name linux-workers \ --node-type t3.small \ --node-volume-size 20 \ --ssh-public-key wwwwwwww \ --nodes 1 \ --nodes-min 1 \ --nodes-max 2 \ --node-ami auto \ --node-private-networking</code> </pre> <br>  рдореМрдЬреВрджрд╛ VPC рдореЗрдВ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдЕрдкрдиреЗ рд╕рдмрдиреЗрдЯ рдХреА рдЖрдИрдбреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ, рдФрд░ ectctl VPC рдХреЛ рд╣реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдЧрд╛ред <br><br>  рдЕрдкрдиреЗ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдб рдХреЛ рдХреЗрд╡рд▓ рдирд┐рдЬреА рд╕рдмрдиреЗрдЯ рдкрд░ рддреИрдирд╛рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдиреЛрдбрдЧреНрд░реБрдк рдХреЗ рд▓рд┐рдП --node-Private-рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  2. рд╣рдорд╛рд░реЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ vpc- рдирд┐рдпрдВрддреНрд░рдХ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ, рдЬреЛ рддрдм рдореБрдлреНрдд рдЖрдИрдкреА рдкрддреЗ рдХреА рд╕рдВрдЦреНрдпрд╛, рд╕рд╛рде рд╣реА рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдИрдПрдирдЖрдИ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдЧрд┐рдирдХрд░ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рдЯрд╛рдХрд░ рд╣рдорд╛рд░реЗ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдбреНрд╕ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░реЗрдЧрд╛ред <br><br><pre> <code class="bash hljs">eksctl utils install-vpc-controllers --name yyy --approve</code> </pre> <br>  3. рдЕрдкрдиреЗ рд╕рд┐рд╕реНрдЯрдо рдХрдВрдЯреЗрдирд░реЛрдВ рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ vpc- рдирд┐рдпрдВрддреНрд░рдХ рд╕рд╣рд┐рдд рдЕрдкрдиреЗ linux рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдб рдкрд░ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рд╣реИ, рдпрд╣ рдХреЗрд╡рд▓ рд╡рд┐рдВрдбреЛрдЬ рд╢реНрд░рдорд┐рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдиреЛрдбрдЧреНрд░реБрдк рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдиреА рд╣реБрдИ рд╣реИред <br><br><pre> <code class="bash hljs">eksctl create nodegroup \ --region www \ --cluster yyy \ --version 1.14 \ --name windows-workers \ --node-type t3.small \ --ssh-public-key wwwwwwwwww \ --nodes 1 \ --nodes-min 1 \ --nodes-max 2 \ --node-ami-family WindowsServer2019CoreContainer \ --node-ami ami-0573336fc96252d05 \ --node-private-networking</code> </pre> <br>  рдЖрдкрдХреЗ рдиреЛрдб рдХреЗ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЖрдкрдХреЗ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рдЖ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж рдФрд░ рд╕рдм рдХреБрдЫ рдареАрдХ рд▓рдЧ рд░рд╣рд╛ рд╣реИ, рдпрд╣ рд░реЗрдбреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдирд╣реАрдВред <br><br><h3>  Vpc- рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рддреНрд░реБрдЯрд┐ </h3><br>  рдпрджрд┐ рд╣рдо рд╡рд┐рдВрдбреЛрдЬрд╝ рд╡рд░реНрдХрд░ рдиреЛрдб рдкрд░ рдкреЙрдбреНрд╕ рдЪрд▓рд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ: <br><br><pre> <code class="plaintext hljs">NetworkPlugin cni failed to teardown pod "windows-server-iis-7dcfc7c79b-4z4v7_default" network: failed to parse Kubernetes args: pod does not have label vpc.amazonaws.com/PrivateIPv4Address]</code> </pre> <br>  рдЧрд╣рд░рд╛рдИ рд╕реЗ рджреЗрдЦрдиреЗ рдкрд░, рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдорд╛рд░рд╛ AWS рдЙрджрд╛рд╣рд░рдг рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/ym/zm/ee/ymzmeezb9rgikozozi73atl2wcc.png"><br><br>  рдФрд░ рдпрд╣ рдЗрд╕ рддрд░рд╣ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <br><br><img src="https://habrastorage.org/webt/qf/fl/y6/qffly6vvhn18uxnxez18mvx26tw.png"><br><br>  рдЗрд╕рд╕реЗ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ vpc- рдирд┐рдпрдВрддреНрд░рдХ рдиреЗ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдЕрдкрдиреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдХрд╛рдо рдирд╣реАрдВ рдХрд┐рдпрд╛ рдФрд░ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдирдП рдЖрдИрдкреА-рдкрддреЗ рдирд╣реАрдВ рдЬреЛрдбрд╝ рд╕рдХреЗ рддрд╛рдХрд┐ рдкреЙрдбреНрд╕ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХреЗрдВред <br><br>  рд╣рдо vpc- рдирд┐рдпрдВрддреНрд░рдХ рдкреЙрдб рд▓реЙрдЧ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЪрдврд╝рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣реА рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВ: <br><br><div class="spoiler">  <b class="spoiler_title">kubectl рд▓реЙрдЧ &lt;vpc-рдирд┐рдпрдВрддреНрд░рдХ-рдкрд░рд┐рдирд┐рдпреЛрдЬрди&gt; -n kube-system</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">I1011 06:32:03.910140 1 watcher.go:178] Node watcher processing node ip-10-xxx.ap-xxx.compute.internal. I1011 06:32:03.910162 1 manager.go:109] Node manager adding node ip-10-xxx.ap-xxx.compute.internal with instanceID i-088xxxxx. I1011 06:32:03.915238 1 watcher.go:238] Node watcher processing update on node ip-10-xxx.ap-xxx.compute.internal. E1011 06:32:08.200423 1 manager.go:126] Node manager failed to get resource vpc.amazonaws.com/CIDRBlock pool on node ip-10-xxx.ap-xxx.compute.internal: failed to find the route table for subnet subnet-0xxxx E1011 06:32:08.201211 1 watcher.go:183] Node watcher failed to add node ip-10-xxx.ap-xxx.compute.internal: failed to find the route table for subnet subnet-0xxx I1011 06:32:08.201229 1 watcher.go:259] Node watcher adding key ip-10-xxx.ap-xxx.compute.internal (0): failed to find the route table for subnet subnet-0xxxx I1011 06:32:08.201302 1 manager.go:173] Node manager updating node ip-10-xxx.ap-xxx.compute.internal. E1011 06:32:08.201313 1 watcher.go:242] Node watcher failed to update node ip-10-xxx.ap-xxx.compute.internal: node manager: failed to find node ip-10-xxx.ap-xxx.compute.internal.</code> </pre> <br></div></div><br>  Google рдЦреЛрдЬреЛрдВ рд╕реЗ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реБрдЖ, рдХреНрдпреЛрдВрдХрд┐ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдХрд┐рд╕реА рдиреЗ рднреА рдЗрд╕ рддрд░рд╣ рдХреЗ рдмрдЧ рдХреЛ рдЕрднреА рддрдХ рдирд╣реАрдВ рдкрдХрдбрд╝рд╛ рдерд╛, рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ, рдпрд╛ рдЗрд╕ рдкрд░ рдПрдХ рдореБрджреНрджрд╛ рдкреЛрд╕реНрдЯ рдХрд┐рдпрд╛, рдореБрдЭреЗ рд╕рднреА рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдкрд╣рд▓реЗ рдЦреБрдж рдХреЛ рд╕реЛрдЪрдирд╛ рдкрдбрд╝рд╛ред  рдкрд╣рд▓реА рдмрд╛рдд рдЬреЛ рджрд┐рдорд╛рдЧ рдореЗрдВ рдЖрдИ, рд╡рд╣ рдпрд╣ рд╣реИ рдХрд┐ рд╢рд╛рдпрдж vpc- рдирд┐рдпрдВрддреНрд░рдХ IP-10-xxx.ap-xxx.compute.internal рдХреЛ рд╕реЛрдЦ рдирд╣реАрдВ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдорд┐рд▓рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рд▓рд┐рдП рддреНрд░реБрдЯрд┐рдпрд╛рдВ рдЧрд┐рд░рддреА рд╣реИрдВред <br><br>  рд╣рд╛рдВ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдо VPC рдореЗрдВ рдХрд╕реНрдЯрдо рдбреАрдПрдирдПрд╕ рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╣рдо рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ рдЕрдореЗрдЬрд╝реЕрди рд╕рд░реНрд╡рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧреНрд░реЗрд╖рдг рдЗрд╕ рдбреЛрдореЗрди ap-xxx.compute.internal рдкрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдореИрдВрдиреЗ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреА рдЬрд╛рдБрдЪ рдХреА, рдФрд░ рдпрд╣ рдХреЛрдИ рдкрд░рд┐рдгрд╛рдо рдирд╣реАрдВ рд▓рд╛рдпрд╛, рд╢рд╛рдпрдж рдкрд░реАрдХреНрд╖рдг рд╕рд╛рдл рдирд╣реАрдВ рдерд╛, рдФрд░ рдЗрд╕рд▓рд┐рдП, рддрдХрдиреАрдХреА рд╕рд╣рд╛рдпрддрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХрд░рддреЗ рд╕рдордп, рдореИрдВрдиреЗ рдЙрдирдХреЗ рд╡рд┐рдЪрд╛рд░ рдХреЗ рдЖрдЧреЗ рдШреБрдЯрдиреЗ рдЯреЗрдХ рджрд┐рдПред <br><br>  рдЪреВрдВрдХрд┐ рдХреЛрдИ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдерд╛, рдЗрд╕рд▓рд┐рдП рд╕рднреА рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ ectctl рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рдереЗ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдореЗрдВ рдХреЛрдИ рд╕рдВрджреЗрд╣ рдирд╣реАрдВ рдерд╛ рдХрд┐ рд╡реЗ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рдереЗ, рд░реВрдЯ рдЯреЗрдмрд▓ рднреА рд╕рд╣реА рдереЗ, nat, dns, рд╡рд░реНрдХрд░ рдиреЛрдбреНрд╕ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░рдиреЗрдЯ рдПрдХреНрд╕реЗрд╕ рднреА рдерд╛ред <br><br>  рдЙрд╕реА рд╕рдордп, рдпрджрд┐ рдЖрдк рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдб рдХреЛ - рд╕рдм-рдкреНрд░рд╛рдЗрд╡реЗрдЯ-рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯ рдкрд░ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЗрд╕ рдиреЛрдб рдХреЛ рддреБрд░рдВрдд vpc- рдирд┐рдпрдВрддреНрд░рдХ рджреНрд╡рд╛рд░рд╛ рдЕрджреНрдпрддрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рд╕рдм рдХреБрдЫ рдПрдХ рдШрдбрд╝реА рдХреА рддрд░рд╣ рдХрд╛рдо рдХрд░рддрд╛ рдерд╛ред <br><br>  рджреЛ рд╡рд┐рдХрд▓реНрдк рдереЗ: <br><br><ol><li>  рд╣реИрдорд░ рдФрд░ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдЬрдм рддрдХ рдХрд┐ рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдореЗрдВ рдЗрд╕ рдмрдЧ рдХрд╛ рд╡рд░реНрдгрди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рд╡реЗ рдЗрд╕реЗ рдареАрдХ рдХрд░ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдЖрдк рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдИрдХреЗрдПрд╕ рд╡рд┐рдВрдбреЛрдЬ рдХрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рд╕рд┐рд░реНрдл рдЬреАрдП рдореЗрдВ рдкрд╛рдП рдЧрдП (рд▓реЗрдЦрди рдХреЗ рд╕рдордп 8 рджрд┐рди рд▓рдЧреЗ), рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдореЗрд░реЗ рдЬреИрд╕реЗ рд╣реА ред </li><li>  AWS рд╕рдорд░реНрдерди рдХреЛ рд▓рд┐рдЦреЗрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рд░ рдЬрдЧрд╣ рд╕реЗ рд▓реЙрдЧ рдХреЗ рдкреВрд░реЗ рдЧреБрдЪреНрдЫрд╛ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рд╛рд░ рд╕рдордЭрд╛рдПрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╕рд╛рдмрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЙрдирдХреЗ VPC рдФрд░ рд╕рдмрдиреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдЙрдирдХреА рд╕реЗрд╡рд╛ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддреА рд╣реИ, рдпрд╣ рд╡реНрдпрд░реНрде рдирд╣реАрдВ рдерд╛ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд╕рдорд░реНрдерди рдерд╛, рд╣рдореЗрдВ рдЗрд╕реЗ рдХрдо рд╕реЗ рдХрдо рдПрдХ рдмрд╛рд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ :-) </li></ol><br><h3>  AWS рдЗрдВрдЬреАрдирд┐рдпрд░реНрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ </h3><br>  рдкреЛрд░реНрдЯрд▓ рдкрд░ рдПрдХ рдЯрд┐рдХрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ рдЧрд▓рддреА рд╕реЗ рдореБрдЭреЗ рд╡реЗрдм - рдИрдореЗрд▓ рдпрд╛ рд╕рд╣рд╛рдпрддрд╛ рдХреЗрдВрджреНрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрддреНрддрд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЪреБрдирд╛, рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╡реЗ рдХреБрдЫ рджрд┐рдиреЛрдВ рдХреЗ рдмрд╛рдж рдЖрдкрдХреЛ рдЬрд╡рд╛рдм рджреЗ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдореЗрд░реЗ рдЯрд┐рдХрдЯ рдореЗрдВ рдЧрдВрднреАрд░рддрд╛ рдереА - рд╕рд┐рд╕реНрдЯрдо рдмрд┐рдЧрдбрд╝рд╛ рд╣реБрдЖ рдерд╛, рдЬрд┐рд╕рдиреЗ &lt;12 рдХреЗ рднреАрддрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╡реНрдпрдХреНрдд рдХреА рдереА рдШрдВрдЯреЗ, рдФрд░ рдЬрдм рд╕реЗ рдмрд┐рдЬрдиреЗрд╕ рд╕рдкреЛрд░реНрдЯ рдкреНрд▓рд╛рди рдХреЛ 24/7 рд╕рдорд░реНрдерди рдорд┐рд▓рд╛ рд╣реИ, рдореИрдВ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рдХреА рдЙрдореНрдореАрдж рдХрд░ рд░рд╣рд╛ рдерд╛, рд▓реЗрдХрд┐рди рдпрд╣ рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣ рдмрджрд▓ рдЧрдпрд╛ред <br><br>  рдореЗрд░рд╛ рдЯрд┐рдХрдЯ рд╢реБрдХреНрд░рд╡рд╛рд░ рд╕реЗ рд╕реЛрдо рддрдХ рдЕрдирд╕рд╛рдЗрдирдб рдореЗрдВ рдЙрддрд░рд╛, рдлрд┐рд░ рдореИрдВрдиреЗ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдФрд░ рдЪреИрдЯ рдЙрддреНрддрд░ рд╡рд┐рдХрд▓реНрдк рдХреЛ рдЪреБрдирд╛ред  рдереЛрдбрд╝реЗ рдЗрдВрддрдЬрд╛рд░ рдХреЗ рдмрд╛рдж, рд╣рд░реНрд╖рдж рдорд╛рдзрд╡ рдореБрдЭреЗ рдирд┐рдпреБрдХреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛, рдФрд░ рдлрд┐рд░ рд╢реБрд░реВ рд╣реБрдЖ ... <br><br>  рд╣рдордиреЗ рдкрдВрдХреНрддрд┐ рдореЗрдВ 3 рдШрдВрдЯреЗ рдСрдирд▓рд╛рдЗрди рдЙрд╕рдХреЗ рд╕рд╛рде рдмрд╣рд╕ рдХреА, рд▓реЙрдЧреНрд╕ рдЯреНрд░рд╛рдВрд╕рдлрд░ рдХрд┐рдпрд╛, рд╕рдорд╕реНрдпрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП AWS рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдореЗрдВ рдПрдХ рд╣реА рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рддреИрдирд╛рдд рдХрд┐рдпрд╛, рдореЗрд░реЗ рд╣рд┐рд╕реНрд╕реЗ рдкрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рдпрд╛ рдФрд░ рдЗрд╕реА рддрд░рд╣, рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рдЬреЛ рд╣рдо рдЖрдП рдереЗ рдХрд┐ рд▓реЙрдЧреНрд╕ рдиреЗ рджрд┐рдЦрд╛рдпрд╛ рдХрд┐ рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣рд╛ рдерд╛ рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдКрдкрд░ рд▓рд┐рдЦрд╛ рдерд╛ AWS рдЖрдВрддрд░рд┐рдХ рдбреЛрдореЗрди рдирд╛рдо, рдФрд░ рд╣рд░реНрд╖рдж рдорд╛рдзрд╡ рдиреЗ рдореБрдЭреЗ рдЕрдЧреНрд░реЗрд╖рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛, рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╣рдо рдХрд╕реНрдЯрдо рдбреАрдПрдирдПрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br>  рдЕрдЧреНрд░реЗрд╖рдг <br><br><pre> <code class="plaintext hljs">ap-xxx.compute.internal -&gt; 10.xx2 (VPC CIDRBlock) amazonaws.com -&gt; 10.xx2 (VPC CIDRBlock)</code> </pre> <br>  рдХреНрдпрд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рджрд┐рди рдЦрддреНрдо рд╣реЛ рдЧрдпрд╛ рдерд╛ред рд╣рд░реНрд╖рдж рдорд╛рдзрд╡ рдиреЗ рдЪреЗрдХ рдХреЛ рдЕрдирд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм рдХрд░ рджрд┐рдпрд╛ рдФрд░ рдЙрд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рд▓реЗрдХрд┐рди рдирд╣реАрдВ, рд╕рдВрдХрд▓реНрдк рдиреЗ рдорджрдж рдирд╣реАрдВ рдХреАред <br><br>  рдлрд┐рд░ 2 рдФрд░ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдмрд╛рддрдЪреАрдд рд╣реБрдИ, рдПрдХ рддреЛ рдмрд╕ рдЪреИрдЯ рд╕реЗ рдЧрд┐рд░ рдЧрдпрд╛, рдЬрд╛рд╣рд┐рд░рд╛ рддреМрд░ рдкрд░ рдПрдХ рдореБрд╢реНрдХрд┐рд▓ рдорд╛рдорд▓реЗ рд╕реЗ рдбрд░ рдЧрдпрд╛, рджреВрд╕рд░реЗ рдиреЗ рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рдПрдХ рдкреВрд░реНрдг рдбрд┐рдмрдЧ рдЪрдХреНрд░ рдкрд░ рдЕрдкрдирд╛ рджрд┐рди рдмрд┐рддрд╛рдпрд╛, рд▓реЙрдЧ рднреЗрдЬрдирд╛, рджреЛрдиреЛрдВ рддрд░рдл рдЧреБрдЪреНрдЫреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛, рдЕрдВрдд рдореЗрдВ рдЙрд╕рдиреЗ рдмрд╕ рдЗрддрдирд╛ рд╣реА рдХрд╣рд╛, рдпрд╣ рдореЗрд░реЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдореИрдВ рдпрд╣рд╛рдВ рд╣реВрдВред рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдореИрдВ рд╕рдм рдХреБрдЫ рдЪрд░рдг рджрд░ рдЪрд░рдг рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рдЖрдк рд╕рдлрд▓ рд╣реЛрдВрдЧреЗред <br><br>  рдЬрд┐рд╕ рдкрд░ рдореИрдВрдиреЗ рд╡рд┐рдирдореНрд░рддрд╛ рд╕реЗ рдЙрд╕реЗ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛, рдФрд░ рдпрджрд┐ рдЖрдк рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдХрд┐ рд╕рдорд╕реНрдпрд╛ рдХреА рддрд▓рд╛рд╢ рдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рдЯрд┐рдХрдЯ рдкрд░ рдХреЛрдИ рдФрд░ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВред <br><br><h3>  рдЕрдиреНрдд </h3><br>  рддреАрд╕рд░реЗ рджрд┐рди, рдПрдХ рдирдпрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░ рдЕрд░реБрдг рдмреА рдореБрдЭреЗ рдирд┐рдпреБрдХреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдЙрдирдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд░ рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рд╣реА рдпрд╣ рддреБрд░рдВрдд рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рдерд╛ рдХрд┐ рдпреЗ 3 рдкрд┐рдЫрд▓реЗ рдЗрдВрдЬреАрдирд┐рдпрд░ рдирд╣реАрдВ рдереЗред  рдЙрдиреНрд╣реЛрдВрдиреЗ рдкреВрд░реЗ рдЗрддрд┐рд╣рд╛рд╕ рдХреЛ рдкрдврд╝рд╛ рдФрд░ рддреБрд░рдВрдд ps1 рдкрд░ рдЕрдкрдиреА рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рд▓реЙрдЧ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬреЛ рдЙрдирдХреЗ рдЧреАрдереВрдм рдкрд░ рдкрдбрд╝рд╛ рдерд╛ред  рдлрд┐рд░ рдХреНрд▓рд╕реНрдЯрд░ рдмрдирд╛рдиреЗ, рдЯреАрдореЛрдВ рдХреЗ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХрд╛ рдЖрдЙрдЯрдкреБрдЯ рджреЗрдиреЗ, рд▓реЙрдЧ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЗрдХрдЯреНрдард╛ рдХрд░рдиреЗ рдХреЗ рд╕рднреА рдкреБрдирд░рд╛рд╡реГрддреНрддрд┐рдпрд╛рдВ рд╣реБрдИрдВ, рд▓реЗрдХрд┐рди рдЕрд░реБрдг рдмреА рдореБрдЭрд╕реЗ рдкреВрдЫреЗ рдЧрдП рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП рд╕рд╣реА рджрд┐рд╢рд╛ рдореЗрдВ рдЖрдЧреЗ рдмрдврд╝ рд░рд╣реЗ рдереЗред <br><br>  рдЬрдм рд╣рдо -sderrthreshold = рдбреАрдмрдЧ рдХреЛ рдЙрдирдХреЗ vpc- рдирд┐рдпрдВрддреНрд░рдХ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдорд┐рд▓рд╛, рдФрд░ рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реБрдЖ?  рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ) рдлрд▓реА рдмрд╕ рдЗрд╕ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдХреЗрд╡рд▓ -stderrthreshold = рдЬрд╛рдирдХрд╛рд░реА рдХрд╛рдо рдХрд░рддреА рд╣реИред <br><br>  рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдВ рд╣рдо рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдП рдФрд░ рдЕрд░реБрдг рдмреА рдиреЗ рдХрд╣рд╛ рдХрд┐ рд╡рд╣ рдЙрд╕реА рддреНрд░реБрдЯрд┐ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рдХрджрдореЛрдВ рдХреЛ рдкреБрди: рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВрдЧреЗред  рдЕрдЧрд▓реЗ рджрд┐рди рдореБрдЭреЗ рдЕрд░реБрдг рдмреА рд╕реЗ рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдорд┐рд▓реАред рдЙрдиреНрд╣реЛрдВрдиреЗ рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЛ рдирд╣реАрдВ рдЫреЛрдбрд╝рд╛, рд▓реЗрдХрд┐рди рдЙрдирдХреЗ vpc- рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд╕рдореАрдХреНрд╖рд╛ рдХреЛрдб рдХреЛ рд▓реЗ рд▓рд┐рдпрд╛ рдФрд░ рдЙрд╕реА рдЬрдЧрд╣ рдкрд╛рдпрд╛ рдЬрд╣рд╛рдВ рдпрд╣ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд╛рдо рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/cn/ld/g0/cnldg0t-ty1otn5j1fykszvo8y8.png"><br><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдпрджрд┐ рдЖрдк рдЕрдкрдиреЗ рд╡реАрдкреАрд╕реА рдореЗрдВ рдореБрдЦреНрдп рдорд╛рд░реНрдЧ рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЗрд╕рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд╕рдмрдиреЗрдЯ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝рд╛рд╡ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдм-рдкреАрд╕реА-рдирд┐рдпрдВрддреНрд░рдХ, рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕рдмрдиреЗрдЯ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЗрд╕рдореЗрдВ рдПрдХ рдХрд╕реНрдЯрдо рдорд╛рд░реНрдЧ рддрд╛рд▓рд┐рдХрд╛ рд╣реЛрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рд╕рдВрдШ рд╣реЛрддрд╛ рд╣реИред <br><br>  рд╡рд╛рдВрдЫрд┐рдд рд╕рдмрдиреЗрдЯ рдХреЗ рд╕рд╛рде рдореБрдЦреНрдп рдорд╛рд░реНрдЧ рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕рдВрдШреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдХрд░ рдФрд░ рдиреЛрдбрдЧреНрд░реБрдк рдХреЛ рдлрд┐рд░ рд╕реЗ рдмрдирд╛рддреЗ рд╣реБрдП, рд╕рдм рдХреБрдЫ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br>  рдореБрдЭреЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ рдЕрд░реБрдг рдмреА рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕ рдмрдЧ рдХреЛ рдИрдХреЗрдПрд╕ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВрдЧреЗ рдФрд░ рд╣рдо vpc- рдирд┐рдпрдВрддреНрд░рдХ рдХрд╛ рдПрдХ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг рджреЗрдЦреЗрдВрдЧреЗ, рдФрд░ рдЬрд╣рд╛рдВ рд╕рдм рдХреБрдЫ рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред  рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг: 602401143452.dkr.ecr.ap-southeast-1.amazonaws.com/eks/vpc-resource-controllerPoint.2.1 <br>  рдпрд╣ рд╕рдорд╕реНрдпрд╛ рд╣реИред <br><br>  рдЙрди рд╕рднреА рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдЬреЛ рдЕрдВрдд рддрдХ рдкрдврд╝рддреЗ рд╣реИрдВ, рдЙрди рд╕рднреА рдЪреАрдЬреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рд╕реЗ рдкрд╣рд▓реЗ рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред <br><br><h3>  рдЕрдкрдбреЗрдЯ: рдирдИ рдмрдЧ # 2 </h3><br><br>  рдкрд╣рд▓реА рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╣рд▓ рдЦреЛрдЬрдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдордиреЗ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕ рд╕реЗрд╡рд╛ рдХреЛ рддреИрдпрд╛рд░ рдХрд░рдирд╛ рдЬрд╛рд░реА рд░рдЦрд╛, рдФрд░ рдЕрдм рдЕрдВрддрд┐рдо рдЪрд░рдг рдореЗрдВ, рд╣рдордиреЗ рдЬреАрд╡рди рдХреЗ рд╕рд╛рде рдПрдХ рдФрд░ рдмрдЧ рдХреЛ рдЕрд╕рдВрдЧрдд рдкрд╛рдпрд╛ред <br><br>  <b>рд╕рдорд╕реНрдпрд╛:</b> <br>  рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░реЗрдВ, рдЕрдкрдиреА рддреИрдирд╛рддреА, рдкреНрд░рддрд┐рдХреГрддрд┐рдпрд╛рдВ&gt; 1 рд╕реЗрдЯ рдХрд░реЗрдВ рдФрд░ рдирд┐рдореНрди рдЪрд┐рддреНрд░ рджреЗрдЦреЗрдВред  рдирдИ рдкреЙрдб рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рдФрд░ рдХрд╛рдо рдХрд░рддреА рд╣реИ, рдЬрдмрдХрд┐ рдкреБрд░рд╛рдиреА рдкреЙрдб рдЕрдкрдирд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдЦреЛ рджреЗрддреА рд╣реИред  рд╣рд╛рдВ, рд╣рд╛рдВ, рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдмрд┐рдирд╛ рдкреБрд░рд╛рдиреА рдлрд▓реА, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рд░рдирд┐рдВрдЧ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд▓рдЯрдХрд╛ рд░рд╣рддрд╛ рд╣реИред  рдкреНрд░рддрд┐рдХреГрддрд┐рдпреЛрдВ рдХреЛ рдХрдо рдпрд╛ рдмрдврд╝рд╛рдПрдВ, рдлрд▓реА рдХреЛ рд╣рдЯрд╛рдПрдВ рддрд╛рдХрд┐ рдЖрдк рд╣рдореЗрд╢рд╛ рдХреЗрд╡рд▓ рдЙрд╕ рдлрд▓реА рдХреЛ рди рдХрд░реЗрдВ рдЬреЛ рдкрд┐рдЫрд▓реЗ рдПрдХ рдиреЗ рд░рдирд┐рдВрдЧ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд┐рдпрд╛ рд╣реИ, рдХрд╛рдо рдХрд░реЗрдЧрд╛, рдмрд╛рдХреА рд╕рднреА рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред  рднрд▓реЗ рд╣реА, рдлрд▓реА рдпрд╛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдПрдХ рд╣реА рдиреЛрдб рдкрд░ рд╢реБрд░реВ рд╣реЛред <br><br>  <b>рд╕рдорд╛рдзрд╛рди:</b> <br>  рд╣рд╛рдВ, рд╕рдорд╕реНрдпрд╛ рдлрд┐рд░ рд╕реЗ рд╣рдорд╛рд░реЗ VPC рдХреЗ рдХрд╕реНрдЯрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдореЗрдВ рдмрджрд▓ рдЧрдИ, рдЕрд░реНрдерд╛рддреН рдпрджрд┐ рдЖрдк рдЕрдкрдиреЗ рдбреАрдПрдЪрд╕реАрдкреА рд╡рд┐рдХрд▓реНрдк рд╕реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдбреЛрдореЗрди-рдирд╛рдо рдлрд╝реАрд▓реНрдб рдХреЗ рдХрд╕реНрдЯрдо рдореВрд▓реНрдп рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ, рдпрд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЦрд╛рд▓реА рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рдореЗрд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВрдиреЗ рдХреЗрд╡рд▓ рдбреЛрдореЗрди-рдирд╛рдо-рд╕рд░реНрд╡рд░ рдмрджрд▓ рджрд┐рдпрд╛ рд╣реИ рдореБрдЭреЗ рдмрд╛рдХреА рдЪреАрдЬреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ) рд▓реЙрдиреНрдЪ рдХреЗ рдмрд╛рдж рдЖрдкрдХреЗ рдкреЙрдбреНрд╕ рдХреЗ рдЕрдВрджрд░ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдЧрд╛рдпрдм рд╣реЛрдиреЗ рд╕реЗ рдЖрдкрдХреЛ рдЗрд╕ рддрд░рд╣ рдХреА рдЕрд╕рдВрдЧрдд рд╕рдорд╕реНрдпрд╛ рд╣реЛрдЧреАред <br><br>  рдЖрдкрдХреЛ рдЗрд╕реЗ рдЕрдкрдиреЗ рдбреАрдПрдЪрд╕реАрдкреА рд╡рд┐рдХрд▓реНрдк рд╕реЗрдЯ рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛: <br><br><pre> <code class="bash hljs">domain-name = &lt;aws-region-name&gt;.compute.internal;</code> </pre> <br>  рдФрд░ рдЗрд╕рдХреЗ рдмрд╛рдж рдЕрдкрдиреЗ рд╕рднреА рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдбреНрд╕ рдХреЛ рдлрд┐рд░ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рд╣реИ рддрд╛рдХрд┐ рдмреВрдЯрд╕реНрдЯреНрд░реИрдк рдХреЗ рджреМрд░рд╛рди рд╕рднреА рдШрдЯрдХ рд╕рд╣реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдкрдВрдЬреАрдХреГрдд рдХрд░реЗрдВред <br><br>  рдиреАрдЪреЗ рдпрд╣ рд╡рд┐рд╡рд░рдг рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдбреЛрдореЗрди-рдирд╛рдо рд╡рд┐рдХрд▓реНрдк рдЖрдкрдХреЗ рдХрд╛рд░реНрдпрдХрд░реНрддрд╛ рдиреЛрдбреНрд╕ рдХреЛ рдХреИрд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/zs/q3/yi/zsq3yizcuo_hkdopx2a8zpzitdc.png" alt="рдЫрд╡рд┐"><br><br>  рдЗрд╕ рдмрд╛рд░, рдореИрдВрдиреЗ рдЙрдиреНрд╣реЗрдВ Windows рдХреЗ рд▓рд┐рдП AWS EKS рдореЗрдВ рдХрдо рд╕реЗ рдХрдо рдкреНрд░рд▓реЗрдЦрди рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛, рдпреЗ рдЙрдирдХреА рд╕реЗрд╡рд╛ рдХреА "рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ" рд╣реИрдВред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi471958/">https://habr.com/ru/post/hi471958/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi471942/index.html">рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░: рдХрд┐рдВрдЧреНрд╕реНрдЯрди DC500R рдФрд░ DC500M SSDs рдХрд╛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдкрд░реАрдХреНрд╖рдг</a></li>
<li><a href="../hi471948/index.html">рдмреЙрдХреНрд╕ рдореЗрдВ рдЦреЗрд▓рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi471950/index.html">рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рд┐рдП рдореЗрд░реА рджреГрд╖реНрдЯрд┐ рдбреА</a></li>
<li><a href="../hi471954/index.html">рдЦреБрдж рдХрд╛ рдЗрдВрдЯрд░рдиреЗрдЯ рд░реЗрдбрд┐рдпреЛ</a></li>
<li><a href="../hi471956/index.html">рдПрдирд┐рдореЗрдЯреЗрдб рд╕реНрдЯреЗрдЯ рдЧреНрд░рд╛рдл</a></li>
<li><a href="../hi471960/index.html">рдСрдкрд░реЗрд╢рди TA505, рднрд╛рдЧ рджреЛ: рд▓рд░реНрдирд┐рдВрдЧ рд╣реЗрд▓реНрдкрд╣рд░реНрдкрд░ рдкрд┐рдЫрд▓реЗ рджрд░рд╡рд╛рдЬреЗ NetSupport RAT рдХреЗ рд╕рд╛рде</a></li>
<li><a href="../hi471962/index.html">рддрд╛рдВрдбрд╡ рдХрд╛ рднрд╛рд╡</a></li>
<li><a href="../hi471964/index.html">рдУрд░рд╛рдХрд▓реНрд╕ рдмрдЪрд╛рд╡ рдХреЗ рд▓рд┐рдП рдЖрддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi471968/index.html">рдПрдХ рдирдХрд▓реА рдкреЗрдкрд▓ рд╕рд╛рдЗрдЯ рд╕реЗ рд░реИрдВрд╕рдорд╡реЗрдпрд░ рдиреЗрдореНрдЯреА рд╕реЗ рдорд┐рд▓реЗрдВ</a></li>
<li><a href="../hi471974/index.html">рджреЛ рдХрдкреНрддрд╛рди рдХреИрд╕реЗ рдмрдиреЗ: рд╢реНрд╡реЗрдд рдФрд░ рд▓рд╛рд▓</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>