<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›¹ï¸ ğŸŒº ğŸ—¼ ä½¿ç”¨Java EE + WildFly10 + JPAï¼ˆHibernateï¼‰+ Postgresql + EJB + IntelliJ IDEAåˆ›å»ºä¸€ä¸ªç®€å•çš„Mavené¡¹ç›® âï¸ â ğŸŒ‡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¦‚ä½•ä½¿ç”¨JPAåœ¨JBossä¸Šé…ç½®é¡¹ç›®ã€‚ æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»JPAï¼ŒHibernateï¼ŒEJBï¼Œè¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä¸»é¢˜ã€‚ æˆ‘å°†ä»…å‘æ‚¨å±•ç¤ºé¡¹ç›®çš„ç»“æ„ï¼Œå¦‚ä½•åœ¨WildFlyä¸Šé…ç½®æ•°æ®æºä»¥åŠå¦‚ä½•åœ¨IntelliJ IDEAä¸­è¿è¡Œå®ƒä»¬ã€‚ æˆ‘è®¤ä¸ºï¼Œè¯¥æ¡†æ¶å¯¹äºä½¿ç”¨JavaEEå’ŒJPAçš„åˆå­¦è€…å¾ˆæœ‰ç”¨ã€‚ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Java EE + WildFly10 + JPAï¼ˆHibernateï¼‰+ Postgresql + EJB + IntelliJ IDEAåˆ›å»ºä¸€ä¸ªç®€å•çš„Mavené¡¹ç›®</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420827/"> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘Šè¯‰æ‚¨å¦‚ä½•ä½¿ç”¨JPAåœ¨JBossä¸Šé…ç½®é¡¹ç›®ã€‚ æˆ‘ä¸ä¼šè¯¦ç»†ä»‹ç»JPAï¼ŒHibernateï¼ŒEJBï¼Œè¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„ä¸»é¢˜ã€‚ æˆ‘å°†ä»…å‘æ‚¨å±•ç¤ºé¡¹ç›®çš„ç»“æ„ï¼Œå¦‚ä½•åœ¨WildFlyä¸Šé…ç½®æ•°æ®æºä»¥åŠå¦‚ä½•åœ¨IntelliJ IDEAä¸­è¿è¡Œå®ƒä»¬ã€‚ æˆ‘è®¤ä¸ºï¼Œè¯¥æ¡†æ¶å¯¹äºä½¿ç”¨JavaEEå’ŒJPAçš„åˆå­¦è€…å¾ˆæœ‰ç”¨ã€‚ <a name="habracut"></a><br><br><h3> å®‰è£…WildFly10 </h3><br> æˆ‘ä»¬è¿›å…¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">WildFlyå®˜æ–¹ç½‘ç«™</a>å¹¶ä¸‹è½½10.1.0.Finalç‰ˆæœ¬ã€‚  ï¼ˆä¹Ÿè®¸å¦ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªé¡¹ç›®ä¸­æˆ‘ä½¿ç”¨äº†å®ƒï¼‰ã€‚ <br><br> å°†å­˜æ¡£è§£å‹ç¼©åˆ°è®¡ç®—æœºä¸Šçš„ä»»ä½•ç›®å½•ä¸­ã€‚ <br> æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ã€‚ ä¸ºæ­¤ï¼Œè¯·è¿è¡Œbin / add-user.batã€‚ é‚£é‡Œçš„ä¸€åˆ‡éƒ½å¾ˆç®€å•ã€‚ æŒ‰ç…§è¯´æ˜è¿›è¡Œæ“ä½œï¼Œå¹¶è®°ä½è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç ã€‚ <br><br><h4> åˆ›å»ºæ•°æ®æº </h4><br> ä¸‹ä¸€æ­¥æ˜¯åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæ•°æ®æºã€‚ æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨WildFlyæä¾›çš„ç®¡ç†æ§åˆ¶å°ã€‚ <br><br> ä¸ºäº†è¾“å…¥å®ƒï¼Œé¦–å…ˆæ‚¨éœ€è¦å¯åŠ¨æœåŠ¡å™¨/bin/standalone.batå¹¶è½¬åˆ°åœ°å€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">127.0.0.1ï¼š9990</a> ã€‚ ä½¿ç”¨æ‚¨åˆšåˆ›å»ºçš„ç”¨æˆ·åå’Œå¯†ç ã€‚ <br><br> è½¬åˆ°â€œéƒ¨ç½²â€-&gt;â€œæ·»åŠ â€-&gt;â€œä¸Šè½½æ–°éƒ¨ç½²â€éƒ¨åˆ†ã€‚ <br><br> ç°åœ¨ï¼Œä»postgresqlå®˜æ–¹ç½‘ç«™ä¸‹è½½jdbcé©±åŠ¨ç¨‹åºã€‚ æˆ‘ä¸‹è½½äº†postgresql-42.2.4.jarã€‚ æˆ‘ä»¬å°†å…¶æ·»åŠ åˆ°éƒ¨ç½²ä¸­ã€‚ å¯ä»¥ç»™å‡ºä»»ä½•åç§°ã€‚ <br><br> è¿›ä¸€æ­¥çš„é…ç½®-&gt;å­ç³»ç»Ÿ-&gt;æ•°æ®æº-&gt;éXA-&gt;æ·»åŠ ã€‚ <br><br> é€‰æ‹©Postgresqlæ•°æ®æºå’Œæˆ‘ä»¬ä¸‹è½½çš„é©±åŠ¨ç¨‹åºã€‚ æˆ‘ä»¬è®¾ç½®æ•°æ®åº“çš„URLï¼Œç”¨æˆ·åå’Œå¯†ç ã€‚  ï¼ˆä¸è¦ä¸æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç æ··æ·†ï¼‰ã€‚ å¦‚æœä¸€åˆ‡éƒ½æ­£ç¡®å®Œæˆï¼Œé‚£ä¹ˆæ‚¨çš„æ–°æ•°æ®æºåº”å‡ºç°åœ¨åˆ—è¡¨ä¸­ã€‚ å¦‚æœå•å‡»â€œæµ‹è¯•è¿æ¥â€ï¼Œåˆ™å¯ä»¥åœ¨â€œè§†å›¾â€é€‰é¡¹å¡ä¸­æ£€æŸ¥ä¸æ•°æ®åº“çš„è¿æ¥ã€‚ <br><br><h3> åœ¨IntelliJ IDEAä¸­åˆ›å»ºé¡¹ç›® </h3><br> è¿™é‡Œçš„ä¸€åˆ‡éƒ½æ˜¯æ ‡å‡†çš„ã€‚ æˆ‘è®¤ä¸ºä¸éœ€è¦å¤šä½™çš„è¯„è®ºã€‚ åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®ã€‚ æˆ‘ä»¬æŠŠæˆ˜äº‰åŒ…è£…äº†ã€‚ å¹¶æ·»åŠ å¿…è¦çš„ä¾èµ–é¡¹ã€‚ <br><br> å…¶å®è¿™æ˜¯æˆ‘çš„pom.xml <br><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>yst<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>hiberProject<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>war<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>javax<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>javaee-api<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>7.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>provided<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.hibernate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>hibernate-core<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>5.2.12.Final<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span>provided<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">scope</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">finalName</span></span></span><span class="hljs-tag">&gt;</span></span>hiberProject<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">finalName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h4> é¡¹ç›®ç»“æ„ </h4><br><img src="https://habrastorage.org/webt/fa/na/ck/fanackq3bgnbbrp23g0adgdlyl8.jpeg"><br><br> è¯·æ³¨æ„ï¼Œpersitence.xmlä½äºWEB-INF-&gt;ç±»-&gt; META-INFä¸­ã€‚ <br><br> è¿™æ˜¯persistence.xmlæœ¬èº« <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">persistence</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://java.sun.com/xml/ns/persistence"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">persistence-unit</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"myUnit"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">provider</span></span></span><span class="hljs-tag">&gt;</span></span>org.hibernate.jpa.HibernatePersistenceProvider<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">provider</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jta-data-source</span></span></span><span class="hljs-tag">&gt;</span></span>java:/PostgresDS<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">jta-data-source</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">class</span></span></span><span class="hljs-tag">&gt;</span></span>UserEntity<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">class</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">class</span></span></span><span class="hljs-tag">&gt;</span></span>JavaBean<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">class</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hibernate.show_sql"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hibernate.format_sql"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">property</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"hibernate.hbm2ddl.auto"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"update"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">persistence-unit</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">persistence</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br> ä½œä¸ºjta-data-sourceï¼Œä½¿ç”¨åœ¨åˆ›å»ºæ•°æ®æºæ—¶æŒ‡å®šçš„jndi-nameã€‚ <br>  <i>å¦‚æœå¿˜è®°äº†ï¼Œå¯ä»¥åœ¨Configuration-&gt; Subsystems-&gt; Datasources-&gt; Our datasource-&gt; View-&gt; Attributes-&gt; JNDIè¡Œä¸­æŸ¥çœ‹127.0.0.1:9990ã€‚</i> <br><br> ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„è¯¾ç¨‹ã€‚ <br><br>  1.æœ€ç®€å•çš„å®ä½“ç±»ã€‚ <br><br> ç»†èŠ‚ä¸ç”»ã€‚ è¿™æ˜¯å¦ä¸€ä¸ªè¯é¢˜ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.Entity; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.GeneratedValue; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.GenerationType; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.Id; <span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UserEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Id</span></span> <span class="hljs-meta"><span class="hljs-meta">@GeneratedValue</span></span>(strategy = GenerationType.IDENTITY) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; } }</code> </pre><br>  2. EJBç±» <br><br> æ³¨é‡Š@PersistenceContextæ³¨å…¥æˆ‘ä»¬çš„æŒä¹…æ€§å•å…ƒå¹¶åŸºäºå®ƒåˆ›å»ºä¸€ä¸ªEntityManagerã€‚ <br><br>  @Statelessæ‰¹æ³¨è¡¨ç¤ºå®ƒæ˜¯ejbã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.ejb.Stateless; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.EntityManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.persistence.PersistenceContext; <span class="hljs-meta"><span class="hljs-meta">@Stateless</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JavaBean</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@PersistenceContext</span></span>(unitName = <span class="hljs-string"><span class="hljs-string">"myUnit"</span></span>) EntityManager entityManager; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">saveUser</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UserEntity user)</span></span></span></span>{ entityManager.persist(user); } }</code> </pre><br>  3.æœ€ç®€å•çš„Servlet <br><br> æŠ½è±¡çš„@EJB injectite JavaBeanã€‚ <br><br> åœ¨doGetæ–¹æ³•ä¸­ï¼Œå°†åˆ›å»ºä¸€ä¸ªåä¸ºâ€œ Serâ€çš„ç”¨æˆ·ï¼Œå¹¶è°ƒç”¨ejbä¸­çš„saveUseræ–¹æ³•ã€‚ <br> å¦‚æœæ²¡æœ‰userentityityè¡¨ï¼Œåˆ™hibernateå°†è‡ªå·±åˆ›å»ºè¡¨å¹¶åœ¨å…¶ä¸­æ’å…¥æˆ‘ä»¬çš„ç”¨æˆ·ã€‚ <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.ejb.EJB; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.servlet.ServletException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.servlet.annotation.WebServlet; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.servlet.http.HttpServlet; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.servlet.http.HttpServletRequest; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.servlet.http.HttpServletResponse; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-meta"><span class="hljs-meta">@WebServlet</span></span>(<span class="hljs-string"><span class="hljs-string">"/test"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpServlet</span></span></span></span>{ <span class="hljs-meta"><span class="hljs-meta">@EJB</span></span> JavaBean javaBean; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doGet</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ServletException, IOException </span></span>{ UserEntity user=<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UserEntity(); user.setName(<span class="hljs-string"><span class="hljs-string">"Ser"</span></span>); javaBean.saveUser(user); resp.getWriter().println(<span class="hljs-string"><span class="hljs-string">"Hello from servlet"</span></span>); } }</code> </pre> <br><h3> é¡¹ç›®å¯åŠ¨ </h3><br> è¦åœ¨IDEAä¸­é…ç½®jbossï¼Œè¯·è½¬è‡³Run-&gt; EditConfigurationï¼Œå•å‡»å·¦ä¸Šè§’çš„â€œ +â€ï¼Œç„¶åé€‰æ‹©jboss-localã€‚ <br><br><img src="https://habrastorage.org/webt/vy/lq/dy/vylqdy3jkdqi6ab7ip6fxzshvde.jpeg"><br><br> ä½œä¸ºApplicationServerï¼Œé€‰æ‹©åŒ…å«æˆ‘ä»¬å·²å®‰è£…çš„WildFlyçš„æ–‡ä»¶å¤¹ã€‚ ä½œä¸ºå·¥ä»¶ï¼Œæˆ‘é€‰æ‹©äº†ExternalArtifactï¼ˆç”±maven hiberProject.warç¼–è¯‘ï¼‰ï¼Œåˆ é™¤äº†æ ‡å‡†çš„Buildå¹¶æ·»åŠ äº†æ ‡å‡†çš„mavenä»»åŠ¡ï¼ˆå¹²å‡€çš„è½¯ä»¶åŒ…å®‰è£…ï¼‰ã€‚ <br><br> ç°åœ¨ï¼Œæˆ‘ä»¬æŒ‰å¼€å§‹é”®ï¼Œç„¶åç­‰å¾…æœåŠ¡å™¨åŠ è½½å®Œæ¯•ã€‚ æ¥ä¸‹æ¥ï¼Œè½¬åˆ°localhosté¡µé¢ï¼š8080 /é¡¹ç›®åç§°/æµ‹è¯•ã€‚ <br><br> é¡µé¢åŠ è½½æ—¶ï¼Œå°†è§¦å‘doGetæ–¹æ³•ï¼Œå¹¶å°†åç§°ä¸ºâ€œ Serâ€çš„ç”¨æˆ·å†™å…¥æ•°æ®åº“ã€‚ <br><br> è°¢è°¢å¤§å®¶ æˆ‘å¸Œæœ›æœ¬æ–‡èƒ½å¯¹æŸäººæœ‰æ‰€å¸®åŠ©ã€‚ <br> è¿™æ˜¯æ­¤é¡¹ç›®çš„GitHub <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">é“¾æ¥</a> ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN420827/">https://habr.com/ru/post/zh-CN420827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN420813/index.html">Kubernetesçš„åå°ç½‘ç»œ</a></li>
<li><a href="../zh-CN420815/index.html">â€œè§£ç æ•°å­—ä¸–ç•Œâ€æ˜¯å¦‚ä½•çˆ†ç‚¸çš„ï¼šDotNext 2018 Piterçš„åå¤§æŠ¥é“</a></li>
<li><a href="../zh-CN420819/index.html">ç”¨äºæœºå™¨å­¦ä¹ å’Œæ•°æ®ç§‘å­¦çš„åå¤§Pythonå·¥å…·</a></li>
<li><a href="../zh-CN420821/index.html">è§„åˆ™10ï¼šç¼–ç¨‹å’Œå†™ä½œä¸º1</a></li>
<li><a href="../zh-CN420825/index.html">ä»Šå¤©å°†æ˜¯OpenAIå’ŒDota 2ä¸“ä¸šäººå£«ä¹‹é—´çš„é¦–æ¬¡è¾ƒé‡ï¼ˆè·èƒœè€…ï¼‰ã€‚ æˆ‘ä»¬äº†è§£æœºå™¨äººçš„å·¥ä½œåŸç†</a></li>
<li><a href="../zh-CN420829/index.html">ä½œä¸šç³»ç»Ÿã€‚ å¦ä¸€é¢çš„æ¦‚è¿°</a></li>
<li><a href="../zh-CN420831/index.html">Cookieå‘è¡Œè®¾å¤‡â€œ Cook 3000â€</a></li>
<li><a href="../zh-CN420833/index.html">ä¸»è¦çš„åº”ç”¨è·åˆ©é”™è¯¯[ä»¥åŠè§£å†³æ–¹æ³•]</a></li>
<li><a href="../zh-CN420837/index.html">ä½¿ç”¨SNIAæ–¹æ³•æµ‹è¯•NVMeè®¾å¤‡çš„è½¯ä»¶RAIDé˜µåˆ—</a></li>
<li><a href="../zh-CN420841/index.html">é™¢å‰ä¿®å¤ç¨‹åºæˆ–â€œå˜¿æ‹›æ‘‡ï¼ æˆ‘çš„é”™è¯¯åœ¨å“ªé‡Œï¼Ÿâ€</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>