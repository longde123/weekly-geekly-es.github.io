<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüéì üîÜ üëéüèº Como desenvolver outro jogo de plataformas usando o Unity. Outro tutorial üåÖ üîû üöÅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! 


 Outro artigo est√° esperando por voc√™, que mostrar√° como eu me propus a programar o jogo, com base na tradu√ß√£o do artigo no Habr chamado ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como desenvolver outro jogo de plataformas usando o Unity. Outro tutorial</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458846/"><p>  Ol√° Habr! </p><br><p>  Outro artigo est√° esperando por voc√™, que mostrar√° como eu me propus a programar o jogo, com base na tradu√ß√£o do artigo no Habr chamado <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Level Design Patterns para jogos 2D</a> . </p><br><p>  O artigo tem muito texto (regular e fonte) e muitas fotos. </p><a name="habracut"></a><br><p>  Antes de come√ßar meu primeiro artigo, vamos conhec√™-lo.  Meu nome √© Denis.  Trabalho como administrador de sistemas com uma experi√™ncia total de 7 anos.  N√£o cabe a voc√™ dizer que um administrador de sistema √© um tipo de equipe de TI que √© implantada com cuidado uma vez e depois contempla a cintila√ß√£o de v√°rios caracteres em um monitor.  Com o tempo, cheguei √† conclus√£o de que era hora de expandir os limites do conhecimento e mudar para a programa√ß√£o.  Sem entrar em detalhes, tentei criar projetos em C ++ e Python.  Mas, ap√≥s um ano de estudo, cheguei √† conclus√£o de que programar meu aplicativo e software de sistema n√£o √© meu.  Por v√°rias raz√µes. </p><br><p>  Depois de pensar mais fundo, me perguntei: o que eu realmente gosto de fazer com diferentes tipos de equipamentos de computa√ß√£o?  Minha pergunta para mim mesma me jogou longe na inf√¢ncia, ou seja, nas horas felizes passadas para PS1, PS2, Railroad Tycoon 3 para PC ... Bem, voc√™ entende.  Video game! </p><br><p>  Pelo n√∫mero de v√°rios materiais de treinamento, a escolha recaiu sobre o Unity (n√£o reinventar a roda?).  Depois de um m√™s lendo e vendo v√°rios materiais, decidi lan√ßar o primeiro jogo infantil muito simples no mercado de brinquedos.  Para superar o medo, por assim dizer.  Afinal, liberar aplicativos no mercado de jogos n√£o √© assustador, certo? </p><br><p>  Depois de alguns meses, lancei o jogo de plataformas j√° mais complexo.  Depois houve uma pausa (afinal, o trabalho deve ser trabalhado, afinal). </p><br><p>  Cerca de duas semanas atr√°s, vi uma tradu√ß√£o do artigo em um hub chamado Level Design Patterns para jogos 2D ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://habr.com/en/post/456152/</a> ) e pensei comigo mesmo - por que n√£o?  O artigo possui uma tabela simples e clara com uma lista do que deve estar no jogo para que seja interessante.  Copiei a tabela para mim no OneNote e marquei cada padr√£o com a tag Cases (que pode ser marcada como conclu√≠da). </p><br><p>  O que eu quero obter como resultado?  Sua cr√≠tica.  Como eu gostaria de dizer para mim mesmo - se voc√™ quiser aprender a nadar, mergulhe com a cabe√ßa.  Se voc√™ acha que fiz algo bem, escreva-me sobre isso em um coment√°rio.  Se voc√™ acha que fiz algo errado, escreva duplamente. </p><br><p>  Iniciarei meu longo programa para programar outro jogo de plataformas. </p><br><h3>  Avatar </h3><br><p>  <em>Uma entidade controlada pelos jogadores dentro de um jogo.</em>  <em>Por exemplo, Mario e Luigi em Super Mario Bros (Nintendo, 1985).</em> </p><br><p>  Existem v√°rias subtarefas que precisam ser implementadas para dar vida ao her√≥i.  Ou seja: </p><br><pre><code class="plaintext hljs">‚Ä¢   ( ) ‚Ä¢      ‚Ä¢      ‚Ä¢       ‚Ä¢       </code> </pre> <br><p>  Para implementar a anima√ß√£o, precisamos converter um √∫nico sprite em um multi sprite.  Isso √© feito incrivelmente simples.  Adicione o sprite √† pasta do projeto e encontre-o no Explorer Explorer Unity Explorer.  Em seguida, clicar no sprite na janela do inspetor altera o valor da propriedade <strong>SptiteMode</strong> de <strong>√önico</strong> para <strong>M√∫ltiplo</strong> . </p><br><p><img src="https://habrastorage.org/webt/xx/ot/ny/xxotnyobz6-0kunbcizdwwk-4zu.png" alt="imagem"></p><br><p>  Clique em <strong>Aplicar e</strong> , em seguida, <strong>SpriteEditor</strong> . </p><br><p>  Dentro da janela do <strong>Editor de Sprite</strong> , voc√™ precisa selecionar cada quadro da anima√ß√£o futura com o mouse, como mostra a figura abaixo. </p><br><p>  Al√©m disso, o Unity oferece a capacidade de destacar automaticamente os limites dos objetos no sprite.  Para fazer isso, na janela do <strong>Editor de Sprite</strong> , voc√™ deve clicar no bot√£o <strong>Fatia</strong> .  No menu suspenso, voc√™ deve ter <strong>Tipo =&gt; Autom√°tico, Piv√¥ =&gt; Centro</strong> .  Tudo que voc√™ precisa fazer √© clicar no bot√£o <strong>Fatia</strong> .  Depois disso, todos os objetos dentro do sprite ser√£o selecionados automaticamente. </p><br><img src="https://habrastorage.org/webt/bf/tb/kv/bftbkvncerh-ybaf6_nlgaxprdg.png"><br><p>  Vamos fazer esta opera√ß√£o para todas as outras anima√ß√µes.  Em seguida, voc√™ precisar√° configurar os estados da anima√ß√£o e sua altern√¢ncia.  Isso √© feito em duas etapas.  A primeira a√ß√£o, c√≥digo do programa. <br>  Crie um objeto de jogo vazio.  Para fazer isso, clique com o bot√£o direito do mouse na guia <strong>Hierarquia</strong> e selecione <strong>Criar vazio</strong> no menu suspenso. </p><br><img src="https://habrastorage.org/webt/l1/zb/ap/l1zbap5u09_kzb1mllj1tqwizgw.png"><br><p>  Um objeto de jogo vazio, criado no palco, por padr√£o, possui apenas um componente - <strong>Transform</strong> .  Este componente determina a posi√ß√£o do objeto no palco, o √¢ngulo de inclina√ß√£o e sua escala. </p><br><p>  Voc√™ pode encontrar a palavra <strong>transformar</strong> em dois significados diferentes: </p><br><blockquote><ul><li>  <strong>Transform</strong> √© uma classe.  Como essa √© uma classe, o Transform descreve uma <strong>implementa√ß√£o</strong> de <strong>software</strong> de quais coordenadas esse objeto ser√° localizado e de quais dimens√µes ele ser√°. </li><li>  <strong>transform</strong> √© uma inst√¢ncia de uma classe.  Ou seja, <strong>voc√™ pode consultar um objeto espec√≠fico</strong> e alterar sua posi√ß√£o ou escala na cena.  Por exemplo, mais adiante no c√≥digo, haver√° uma linha: <br><pre> <code class="cs hljs">transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY);.</code> </pre> <br><br>  Essa linha ser√° respons√°vel pelo movimento de Lucas no palco. </li></ul><br></blockquote><p>  Para criar seu pr√≥prio componente, clique no bot√£o <strong>Adicionar componente</strong> na guia do inspetor de objetos.  Em seguida, uma caixa de pesquisa aparece entre os componentes padr√£o.  Basta come√ßar a digitar o nome do script futuro (ou componente j√° implementado); se n√£o houver nomes adequados, o Unity oferecer√° a voc√™ a cria√ß√£o de um novo componente.  Eu chamei esse componente de <strong>HeroScript.cs</strong> . </p><br><img src="https://habrastorage.org/webt/fi/hf/gn/fihfgnpyl-ndmnx23l8mbotdh4a.png"><br><p>  Primeiro, descrevemos os campos que armazenam informa√ß√µes sobre o componente visual e f√≠sico de Lucas: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Animator animator; <span class="hljs-comment"><span class="hljs-comment">//      . private Rigidbody2D rb2d; //rb    </span></span></code> </pre> </div></div><br><p>  A seguir, os campos que responder√£o ao movimento do personagem: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> dirX, dirY; <span class="hljs-comment"><span class="hljs-comment">//    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  Um come√ßo foi feito, excelente.  A seguir, uma enumera√ß√£o ser√° descrita e uma propriedade ser√° gravada, respons√°vel pela altera√ß√£o do estado da anima√ß√£o.  Essa enumera√ß√£o deve ser escrita fora da classe: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/* *      . *         *    . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> CharState { idle, <span class="hljs-comment"><span class="hljs-comment">//   0 Run, //   1 Walk, //   2 Die //   3 }</span></span></code> </pre> </div></div><br><p>  Implementamos uma propriedade que receber√° e definir√° um novo estado de anima√ß√£o: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CharState State { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> {<span class="hljs-comment"><span class="hljs-comment">//    CharState    animator       int return (CharState)animator.GetInteger("State"); } set { //    animator     int    State       ,      int. animator.SetInteger("State", (int)value); } }</span></span></code> </pre> </div></div><br><p>  A parte do software est√° conclu√≠da.  Agora, temos uma enumera√ß√£o e uma propriedade que ser√£o associadas √† troca da anima√ß√£o.  Em seguida, o segundo passo.  No editor do Unity, voc√™ precisa vincular o estado da anima√ß√£o e indicar em quais valores int eles precisam ser alterados. </p><br><p>  Para fazer isso, voc√™ deve associar os multi sprites criados anteriormente a um objeto de jogo vazio.  Tudo o que voc√™ precisa fazer √© selecionar os quadros no Unity Explorer e arrast√°-los para um objeto de jogo vazio, ao qual corrigimos o script anteriormente. </p><br><p><img src="https://habrastorage.org/webt/zx/md/y8/zxmdy88fwc5gglpbjz3bkj0rjfq.png" alt="imagem"></p><br><p>  Fa√ßa isso com cada anima√ß√£o subseq√ºente.  Al√©m disso, no explorer com anima√ß√µes, voc√™ encontrar√° a apar√™ncia de um objeto com um diagrama de blocos e um bot√£o <strong>Play</strong> .  Clicar duas vezes nele abrir√° a guia <strong>Animador</strong> .  Dentro, voc√™ ver√° v√°rios blocos com anima√ß√µes e, inicialmente, apenas os estados de <strong>Entrada</strong> e o primeiro conjunto de anima√ß√µes que foram conectados est√£o conectados.  <strong>AnyState</strong> e outras anima√ß√µes ser√£o exibidas como quadrados cinza regulares.  Para vincular tudo, voc√™ precisa clicar no status do <strong>AnyState</strong> e selecionar o √∫nico menu suspenso <strong>Make Transaction</strong> e vincul√°-lo ao bloco cinza.  Esta opera√ß√£o deve ser realizada para cada condi√ß√£o.  No final, voc√™ deve obter algo parecido com o que v√™ na imagem abaixo. </p><br><p><img src="https://habrastorage.org/webt/-d/0d/7j/-d0d7j-y1okjqhr6wgywx2ht768.png" alt="imagem"></p><br><p>  Em seguida, voc√™ deve indicar explicitamente o que exatamente deve ser o <strong>Estado</strong> para iniciar a anima√ß√£o necess√°ria.  Preste aten√ß√£o na captura de tela, a parte esquerda.  Guia <strong>Par√¢metros</strong> .  Uma vari√°vel do tipo <strong>int State √©</strong> criada nela.  Em seguida, preste aten√ß√£o no lado direito.  Antes de tudo, a partir da transi√ß√£o da anima√ß√£o, voc√™ precisa desmarcar a caixa <strong>de</strong> sele√ß√£o <strong>Pode a transa√ß√£o para si mesmo</strong> .  Esta opera√ß√£o salvar√° voc√™ de transi√ß√µes de anima√ß√£o estranhas e √†s vezes completamente incompreens√≠veis para si e para a se√ß√£o <strong>Condi√ß√µes</strong> , onde indicamos que essa transi√ß√£o de anima√ß√£o recebeu o valor 3 da vari√°vel <strong>State</strong> .  Depois disso, o Unity saber√° qual anima√ß√£o executar. <br>  Tudo √© feito para o movimento dos personagens animados.  Vamos seguir em frente. </p><br><p>  O pr√≥ximo passo √© ensinar Lucas a se movimentar pelo palco.  Isso √© totalmente programa√ß√£o.  Para mover o personagem pela cena, voc√™ precisar√° de bot√µes, clicando nos quais Lucas vai e volta.  Para fazer isso, na guia <strong>Assets Store</strong> , precisamos importar ativos padr√£o, mas n√£o todos, apenas alguns componentes adicionais, a saber: </p><br><p>  <strong>‚Ä¢ CrossPlatformInput</strong> <strong><br></strong>  <strong>Editor</strong> <strong><br></strong>  <strong>‚Ä¢ Meio ambiente</strong> </p><br><p>  Ap√≥s a importa√ß√£o do ativo, a janela principal do Unity deve ser modificada e uma guia adicional <strong>Entrada m√≥vel ser√°</strong> exibida.  N√≥s o ativamos. </p><br><p>  Vamos criar novos elementos de <strong>interface do usu√°rio</strong> no palco - bot√µes de controle.  Crie 4 bot√µes em cada dire√ß√£o.  Para cima, para baixo, para frente e para tr√°s.  No componente Imagem, atribu√≠mos aos bot√µes uma imagem que corresponder√° √† imagem, o que significa a capacidade de se mover.  Deve ser algo como a captura de tela abaixo: </p><br><img src="https://habrastorage.org/webt/c6/jv/kk/c6jvkketndj8sqq4vodxamn-oni.png"><br><p>  Para cada bot√£o, adicione um componente <strong>AxisTouchButton</strong> .  Este script possui apenas 4 campos.  O campo <strong>axisName</strong> significa qual nome responder quando chamado.  O campo <strong>axisValue √©</strong> respons√°vel pela dire√ß√£o na qual Lucas se mover√°.  O campo <strong>responseSpeed</strong> √© respons√°vel pela rapidez com que Lucas desenvolver√° sua velocidade.  O campo <strong>returnToCentreSpeed ‚Äã‚Äã√©</strong> respons√°vel pela rapidez com que o bot√£o retorna ao centro.  Para o bot√£o Avan√ßar, deixe como est√°.  Para o bot√£o Voltar, altere o valor de <strong>axisValue</strong> para -1, para que Lucas volte.  Para os bot√µes Para cima e Para baixo, altere o <strong>nome</strong> do <strong>eixo</strong> para <strong>Vertical</strong> .  Para o bot√£o Acima <strong>axisValue,</strong> defina o valor como 1, para Down -1. </p><br><p>  Em seguida, modifique <strong>HeroScript.cs</strong> .  Adicionar espa√ßo para nome √† diretiva <strong>using</strong> </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityStandardAssets.CrossPlatformInput; <span class="hljs-comment"><span class="hljs-comment">//    .</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">       : <span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> Vector3 localScale; <span class="hljs-comment"><span class="hljs-comment">//   bool facingRight = true; [SerializeField] private float dirX, dirY; //    [Range(1f, 20f)] [SerializeField] private float moveSpeed; //    private SpriteRenderer sprite; //   SpriteRenderer /*   ,     */</span></span></code> </pre> </div></div><br><p>  No m√©todo Start padr√£o, adicione o seguinte c√≥digo: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { localScale = transform.localScale; animator = GetComponent&lt;Animator&gt;(); <span class="hljs-comment"><span class="hljs-comment">//     . sprite = GetComponent&lt;SpriteRenderer&gt;(); //  SpriteRenderer rb = GetComponent&lt;Rigidbody2D&gt;(); State = CharState.idle; }</span></span></code> </pre> </div></div><br><p>  Criamos um m√©todo que ser√° respons√°vel por mover o her√≥i: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MoveHero</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { dirX = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Horizontal"</span></span>) * moveSpeed * Time.deltaTime; dirY = CrossPlatformInputManager.GetAxis (<span class="hljs-string"><span class="hljs-string">"Vertical"</span></span>) * moveSpeed * Time.deltaTime; transform.position = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector2 (transform.position.x + dirX, transform.position.y + dirY); }</code> </pre> </div></div><br><p>  Como voc√™ pode ver, tudo √© simples.  Os <strong>campos dirX</strong> e <strong>DirY</strong> registram informa√ß√µes sobre a dire√ß√£o do Eixo ( <strong>horizontal</strong> e <strong>vertical</strong> ) multiplicada pela velocidade (que precisar√° ser especificada no editor) e multiplicada pelo tempo de viagem do √∫ltimo quadro. <br>  <strong>transform.position</strong> grava a nova posi√ß√£o no componente <strong>Transform</strong> do nosso objeto de jogo. </p><br><p>  No lado pr√°tico da quest√£o, voc√™ pode executar a cena e ver como Lucas cai no abismo, j√° que n√£o h√° objetos embaixo dela que possam impedir isso.  Lucas est√° sempre na anima√ß√£o <strong>Idle</strong> e n√£o se vira quando o direcionamos de volta.  Para isso, o script precisa ser modificado.  Crie um m√©todo que determine em qual dire√ß√£o Lucas est√° olhando: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CheckWhereToFace</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { facingRight = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirX == <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.idle; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dirY &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { State = CharState.Walk; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((facingRight) &amp;&amp; (localScale.x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)) || ((!facingRight) &amp;&amp; (localScale.x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>))) localScale.x *= <span class="hljs-number"><span class="hljs-number">-1</span></span>; transform.localScale = localScale;</code> </pre> </div></div><br><p>  Essa parte do c√≥digo tamb√©m n√£o √© dif√≠cil.  O m√©todo descreve que, se <strong>dirX</strong> &gt; 0 (se formos para a direita), <strong>giraremos</strong> o sprite nessa dire√ß√£o e iniciaremos a anima√ß√£o de caminhada.  Se for menor que 0, gire Lucas 180 graus e inicie a anima√ß√£o.  Se o <strong>dirX</strong> for zero, Lucas estar√° de p√© e voc√™ precisar√° iniciar a anima√ß√£o de espera. </p><br><p>  Por que √© prefer√≠vel usar uma opera√ß√£o com <strong>Scale</strong> neste caso do que <strong>flipX = true</strong> ?  No futuro, descreverei a capacidade de pegar qualquer objeto na m√£o e, naturalmente, Lucas pode se virar segurando algo em suas m√£os.  Se eu usasse a reflex√£o usual, o objeto que eu seguraria em minhas m√£os permaneceria no lado direito (por exemplo) quando Lucas olha para a esquerda e vice-versa.  Aumentar o zoom mover√° o objeto que prende Lucas na mesma dire√ß√£o em que Lucas se virou. </p><br><p>  Colocamos a fun√ß√£o <strong>CheckWhereToFace ()</strong> na fun√ß√£o <strong>Update ()</strong> , para seu monitoramento quadro a quadro. </p><br><p>  √ìtimo.  Os 2 primeiros pontos de 5 s√£o completados.  Vamos seguir para as necessidades de Lucas.  Digamos que Lucas ter√° tr√™s tipos de necessidades que devem ser atendidas para permanecer vivo.  Este √© o padr√£o de vida, o n√≠vel de fome e o n√≠vel de sede.  Voc√™ precisa criar para isso um painel simples e compreens√≠vel com um indicador de cada item.  Para criar esse painel, clique com o bot√£o direito do mouse e selecione <strong>UI =&gt; Painel</strong> . </p><br><p>  Vamos marc√°-lo aproximadamente como mostrado abaixo </p><br><p><img src="https://habrastorage.org/webt/yp/oz/fs/ypozfsb3q_vygo6usfn1t_btnyc.png" alt="imagem"></p><br><p>  O painel consiste em tr√™s imagens (Imagem) de cada necessidade (esquerda).  √Ä direita est√° o pr√≥prio painel.  Na primeira camada (colocaremos dessa maneira), h√° um indicador de cor (Imagem) que n√£o possui transpar√™ncia, um objeto de Imagem √© copiado sob ela, que √© transparente.  Esta imagem √© meio transparente ao original.  Al√©m disso, a imagem, que n√£o possui transpar√™ncia, possui a propriedade <strong>Tipo de imagem = preenchida</strong> .  Esse recurso nos permitir√° simular uma diminui√ß√£o na plenitude da escala de necessidades. </p><br><p><img src="https://habrastorage.org/webt/ld/vo/qy/ldvoqyj2ioak7ufaycjjmjvbeta.png" alt="imagem"></p><br><p><img src="https://habrastorage.org/webt/l7/wu/ok/l7wuokjirtsp-p66wixm2zybfbu.png" alt="imagem"></p><br><p>  Defina novas vari√°veis ‚Äã‚Äãest√°ticas: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> [SerializeField] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Health = <span class="hljs-number"><span class="hljs-number">100</span></span>, Eat = <span class="hljs-number"><span class="hljs-number">100</span></span>, Water = <span class="hljs-number"><span class="hljs-number">100</span></span>, _Eat = <span class="hljs-number"><span class="hljs-number">0.05f</span></span>, _Water = <span class="hljs-number"><span class="hljs-number">0.1f</span></span>; <span class="hljs-comment"><span class="hljs-comment">//        .    _  . /*   ,     */ /*  ,      */ [SerializeField] Image iHealt, iEat, iWater; //      /*   ,      */</span></span></code> </pre> </div></div><br><p>  Nesse caso, eu uso campos est√°ticos.  Isso √© feito para que esses campos sejam exclusivos para toda a classe.  Al√©m disso, isso nos permitir√° acessar diretamente esses campos pelo nome da classe.  Escrevemos algumas fun√ß√µes simples: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fEat</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Eat = Eat - x * Time.deltaTime; iEat.fillAmount = Eat / <span class="hljs-number"><span class="hljs-number">100f</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ,        return Eat; } private float fWater(float x) { Water = Water - x * Time.deltaTime; iWater.fillAmount = Water / 100; return Water; }</span></span></code> </pre> </div></div><br><p>  Em seguida, escrevemos um m√©todo que coleta informa√ß√µes sobre o desejo de comer e beber: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Needs</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Eat); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(_Water) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.Log(Water); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fWater(<span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) { StartCoroutine(ifDie()); }</code> </pre> </div></div><br><p>  A fun√ß√£o <strong>Needs ()</strong> √© colocada na fun√ß√£o <strong>Update ()</strong> e cada quadro √© chamado.  Assim, nas linhas </p><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (fEat(_Eat) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br><p>  √© chamada uma fun√ß√£o que passa como par√¢metro o quanto deve ser retirado das vari√°veis <strong>Eat</strong> e <strong>Water</strong> .  Se o resultado da fun√ß√£o n√£o for 0, Lucas ainda n√£o morreu de sede ou fome.  Se Lucas morre de fome ou de ferimentos mortais, ent√£o fazemos rotinas </p><br><pre> <code class="cs hljs">StartCoroutine(ifDie());</code> </pre> <br><p>  que inicia a anima√ß√£o da morte e reinicia o n√≠vel: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-function">IEnumerator </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { State = CharState.Die; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">yield</span></span></span><span class="hljs-function"> return new </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WaitForSeconds</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function">)</span></span>; SceneManager.LoadScene(<span class="hljs-string"><span class="hljs-string">"WoodDay"</span></span>, LoadSceneMode.Single); }</code> </pre> </div></div><br><h3>  Ladrilho r√≠gido </h3><br><p>  <em>Um objeto de jogo que n√£o permite que o jogador passe por ele.</em>  <em>Exemplo: g√™nero em Super Mario Bros (Nintendo, 1985).</em> </p><br><p>  Para realizar a terra e impedir que Lucas caia nela, voc√™ precisa conectar os componentes <strong>BoxCollider2D</strong> e <strong>Rigidbody2D</strong> a Lucas.  Al√©m disso, voc√™ precisa de um sprite da terra no qual o componente <strong>BoxCollider2D</strong> estar√° <strong>localizado</strong> .  O componente <strong>BoxCollider2D</strong> implementa <strong>coletores</strong> e seu comportamento de colis√£o.  Nesta fase, n√£o precisamos de nada al√©m de impedir o fracasso de Lucas no subsolo.  Tudo o que podemos editar opcionalmente s√£o as bordas do colisor.  No meu caso, o sprite no solo tem uma superf√≠cie de grama e, para que n√£o pare√ßa que a grama √© capaz de suportar o peso de Lucas, editarei as bordas do componente. </p><br><img src="https://habrastorage.org/webt/ey/0n/hv/ey0nhvwblv9xamkiyesto7exsve.png"><br><p>  Agora, um emocionante processo de marca√ß√£o de n√≠vel.  Por conveni√™ncia, voc√™ pode exportar este cubo de terra para uma casa pr√©-fabricada.  Uma pr√©-fabricada √© um cont√™iner de um objeto de jogo, mediante modifica√ß√£o, na qual voc√™ pode aplicar automaticamente altera√ß√µes a todos os objetos de jogo criados a partir dessa pr√©-fabricada.  Em seguida, clone esta pr√©-fabricada com CTRL + D (depois de selecion√°-la na guia hierarquia) e coloque-a no palco. </p><br><p><img src="https://habrastorage.org/webt/b6/dm/6t/b6dm6tbsz6mezi1upkenyd9sloa.png" alt="imagem"></p><br><h3>  Ecr√£ </h3><br><p>  <em>A parte do n√≠vel / mundo do jogo que est√° atualmente vis√≠vel para o jogador.</em> </p><br><p>  Configure uma c√¢mera que siga o player prestes a exibir parte da cena.  Em seguida, haver√° um script muito simples de implementar: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject objectToFollow; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">2.0f</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Update</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { CamFoll(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CamFoll</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> interpolation = speed * Time.deltaTime; Vector3 position = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position; position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation); position.x = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.x, objectToFollow.transform.position.x, interpolation); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position = position; }</code> </pre> </div></div><br><p>  No campo <strong>objectToFollow</strong> do tipo <strong>GameObject</strong> , um objeto ser√° designado para ser monitorado e, no campo speed, a velocidade na qual √© necess√°rio mover-se suavemente atr√°s do GameObject atribu√≠do. </p><br><p>  As informa√ß√µes sobre a velocidade do movimento desde o √∫ltimo quadro s√£o registradas no campo de interpola√ß√£o.  A seguir, ser√° utilizado o m√©todo Lerp, que garantir√° o movimento suave da c√¢mera atr√°s de Lucas quando ela se mover pelos eixos X e U. Infelizmente, n√£o consigo explicar o funcionamento da linha </p><br><pre> <code class="cs hljs">position.y = Mathf.Lerp(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.transform.position.y, objectToFollow.transform.position.y, interpolation);</code> </pre> <br><p>  em termos de matem√°tica.  Portanto, direi mais simples: esse m√©todo aumentar√° o tempo de execu√ß√£o de qualquer a√ß√£o.  No nosso caso, esse √© o movimento da c√¢mera atr√°s do objeto. </p><br><h3>  Perigo </h3><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><p>  Entidades que impedem o jogador de completar sua tarefa.  Exemplo: picos de 1001 picos (Nicalis e 8bits Fanatics, 2014). </p></div></div><br><p>  Vamos come√ßar adicionando algo que n√£o apenas impedir√° Lukas de passar pelo est√°gio at√© o fim, mas afetar√° o n√∫mero de suas vidas e a capacidade de morrer (por exemplo, implementaremos o quinto subproblema para implementar a hist√≥ria de vida de Lukas - o Her√≥i pode ser morto ou pode morrer). <br>  Nesse caso, espalhamos os espinhos no palco que estar√£o escondidos atr√°s da vegeta√ß√£o e apenas a aten√ß√£o do jogador ajudar√° a passar. </p><br><p>  Crie um <strong>GameObject</strong> vazio e conecte os componentes <strong>SpriteRenderer</strong> e <strong>PolygonCollider2D</strong> a ele.  No componente <strong>SpriteRenderer</strong> , conectamos o sprite do bot√£o farpado ou qualquer outro objeto, conforme desejado.  Al√©m disso, atribua <strong>tag = Thorn ao</strong> pico. </p><br><p>  Em seguida, no <strong>GameObject de</strong> Lucas <strong>,</strong> criamos um script que ser√° respons√°vel pelo que acontecer√° com ele se Lucas colidir com outros jogadores.  No meu caso, chamei de <strong>ColliderReaction.cs</strong> </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Rigidbody2D rb2d; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Start</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { rb2d = GetComponent&lt;Rigidbody2D&gt;(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Thorn"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">4</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">5</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  A ess√™ncia do script √© t√£o simples quanto 2x2.  Quando uma tag <strong>Thorn colide</strong> com um objeto de jogo, a instru√ß√£o <strong>Switch se</strong> compara aos candidatos que especificamos.  No nosso caso, por enquanto, √© <strong>Thorn</strong> .  Primeiro, Lucas vomita, e depois nos voltamos para uma vari√°vel est√°tica e pegamos 5 unidades de vida de Lucas.  Olhando para o futuro, posso dizer que faz sentido descrever a mesma coisa para um conflito com inimigos: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Enemy"</span></span>: { rb2d.AddForce(transform.up * <span class="hljs-number"><span class="hljs-number">2</span></span>, ForceMode2D.Impulse); HeroScript.Health = HeroScript.Health - <span class="hljs-number"><span class="hljs-number">10</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;</code> </pre> </div></div><br><p>  Em seguida, proponho matar dois coelhos com uma cajadada. </p><br><h3>  Item e regra coletados. </h3><br><p>  Um objeto de jogo que os jogadores podem pegar. </p><br><p>  Propomos a regra de que, se Lucas quiser ir entre as ilhas e subir, voc√™ precisar√° coletar uma √°rvore para construir pontes e escadas. <br>  De acordo com os m√©todos j√° passados, criaremos uma √°rvore e escadas. </p><br><p>  N√≥s conectaremos um script √† √°rvore que ser√° respons√°vel por quantos logs voc√™ pode bater se come√ßar a cort√°-lo.  Como apenas a anima√ß√£o do ataque foi proposta no conjunto de sprites, a usaremos quando cortarmos a √°rvore (custos de produ√ß√£o). <br>  O script que est√° na √°rvore: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst; <span class="hljs-comment"><span class="hljs-comment">//     [SerializeField] private GameObject FireWoodPref; //   [SerializeField] private int fireWood; //       </span></span></code> </pre> </div></div><br><p>  Quando o n√≠vel come√ßa, escrevemos um valor aleat√≥rio no <strong>fireWood</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Awake</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { fireWood = Random.Range(<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> </div></div><br><p>  Descreve um m√©todo com um par√¢metro que ser√° respons√°vel por quantos logs cair√£o em um √∫nico golpe: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fireWoodCounter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; fireWood; i++) { fireWood = fireWood - x; InstantiateFireWood(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fireWood; }</code> </pre> </div></div><br><p>  Um m√©todo que criar√° clones de log no palco. <br>  private void InstantiateFireWood (): </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"> { Instantiate(FireWoodPref, inst.position, inst.rotation); }</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/g6/sb/di/g6sbdisre8fpoe58lkkr3bvyeha.png"><br><p>  Vamos criar um log e conectar um script com o seguinte c√≥digo: </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerEnter2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Player"</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>) { Debug.Log(<span class="hljs-string"><span class="hljs-string">"   !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { InventoryOnHero.woodCount = InventoryOnHero.woodCount + <span class="hljs-number"><span class="hljs-number">1</span></span>; Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  Em seguida, tamb√©m criaremos uma classe que ser√° respons√°vel pelo invent√°rio. </p><br><p>  Primeiro, verifique se h√° espa√ßo na bolsa.  Caso contr√°rio, o erro e o log permanecer√£o, se houver espa√ßo, reabasteceremos o invent√°rio por uma unidade e destruiremos o log. <br>  Em seguida, voc√™ precisa fazer algo com esses recursos.  Como mencionado acima, oferecemos ao jogador a oportunidade de construir pontes e escadas. </p><br><p>  Para criar uma ponte, precisamos de 2 prefabs com a metade esquerda e direita da ponte.       <strong>BoxCollider2D</strong> .  ,    ,      - ,  . </p><br><p>        : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform inst1, inst2; <span class="hljs-comment"><span class="hljs-comment">//        [SerializeField] private GameObject bridgePref1, bridgePref2; //   [SerializeField] private int BridgeCount; //   ,   .   </span></span></code> </pre> </div></div><br><p> : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BuildBridge</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount == <span class="hljs-number"><span class="hljs-number">0</span></span>) { Debug.LogWarning (<span class="hljs-string"><span class="hljs-string">" !"</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (InventoryOnHero.woodCount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { BridgeCount = BridgeCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; InventoryOnHero.woodCount = InventoryOnHero.woodCount - <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (BridgeCount) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span>: Inst1(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>: Inst2(); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: Debug.LogWarning(<span class="hljs-string"><span class="hljs-string">"-      "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  ,    ,       . ,   10 ,  12  8. </p><br><p> , ,      ,  ,    .  ,   1  ,      1   .    ,      5,   ,        .  0,   .  ,   . </p><br><p>      . </p><br><p>    ,   <strong>ColliderReaction.cs</strong> : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerStay2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D collision</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (collision.gameObject.tag) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"Ladder"</span></span>: { rb2d.gravityScale = <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } }</code> </pre> </div></div><br><p>  <strong>OnTriggerStay2D</strong> ,          .  ,     0. ,        .  <strong>OnTriggerExit2D</strong>  ,              . </p><br><h3>  </h3><br><p> <em>,   .</em> </p><br><p>    19    ,           . ,       ,    ,  ,      ,   . </p><br><p>   GO,      <strong>SpriteRenderer</strong> , <strong>BoxCollider2D</strong> , <strong>Rigidbody2D</strong> . ,      ‚Äî ,        .       ,          ru.stackoverflow.com. </p><br><p><img src="https://habrastorage.org/webt/fu/uw/ri/fuuwriruf0zli9r6pwvprae_qba.png" alt="imagem"></p><br><p>         <strong>Trees</strong> . </p><br><p> ,        . ,    -,      ,          Raycast     2     (4   ).  ,  ,   ,      (   ).        (    ),      .      ,      .     ,      ,       .  ,      . ,     ,                 (     ,      ). </p><br><p>   ,     .   ,       - . </p><br><p>     : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameObject area; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> m1 = <span class="hljs-literal"><span class="hljs-literal">true</span></span>, m2; <span class="hljs-comment"><span class="hljs-comment">// m  move private void fGreenMonster() { float dist = Vector3.Distance(greenMonster.transform.position, area.transform.position); Debug.Log(dist); if (m1) { if (dist &lt; 3f) { transform.position += new Vector3(speed,0,0) * Time.deltaTime; SR.flipX = true; } else { m1 = false; m2 = true; } } if (m2) { if(dist &gt;= 1f) { transform.position += new Vector3(-speed,0,0) * Time.deltaTime; SR.flipX = false; } else { m2 = false; m1 = true; } } }</span></span></code> </pre> </div></div><br><p>      <strong>Update()</strong>    ,        .   ,  3 ,   .   3,        ,     . </p><br><p><img src="https://habrastorage.org/webt/nf/4y/6e/nf4y6edxsifi9_m3eq56d0xlbtw.png" alt="imagem"></p><br><p>  ,         . </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fSunFlower</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { canBullet = canBullet - minus * Time.deltaTime; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * -sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> GameObject; newArrow.transform.position = transform.position; Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;(); rb.velocity = sunFlowerTrans.transform.forward * sunFlowerBulletSpeed; canBullet = <span class="hljs-number"><span class="hljs-number">2</span></span>; }</code> </pre> </div></div><br><pre> <code class="cs hljs">canBullet = canBullet - minus * Time.deltaTime;</code> </pre> <br><p>   ,      . </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (canBullet &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; SR.flipX == <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { GameObject newArrow = Instantiate(sunFlowerBullet) }</code> </pre> </div></div><br><p>  ,  ,     ,   ,    : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Damage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x</span></span></span><span class="hljs-function">)</span></span> { Health = Health - x; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Health; }</code> </pre> </div></div><br><p> , ,     : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ifDie</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Damage(<span class="hljs-number"><span class="hljs-number">0</span></span>) &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>) { Destroy(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.gameObject); } }</code> </pre> </div></div><br><p>   0,   . </p><br><p>  ,         : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bGreenMonster) { fGreenMonster(); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bSunFlower) { fSunFlower(); }</code> </pre> </div></div><br><p>   ,         . </p><br><p><img src="https://habrastorage.org/webt/-1/1s/ki/-11skihlzc3vevw5zqiuxstlmre.png" alt="imagem"></p><br><p>   . </p><br><p>  ,      ? </p><br><p> ,       . </p><br><p>      : </p><br><img src="https://habrastorage.org/webt/7i/oe/3l/7ioe3lshbpcu-hkwa09wydzefbs.png"><br><p>  : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">SerializeField</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Transform Hero; <span class="hljs-comment"><span class="hljs-comment">//         [SerializeField] private float distWhatHeroSee; //   [SerializeField] private LayerMask Tree, BridgeBuild, LadderBuild ,drinkingWater, lEnemy; //  </span></span></code> </pre> </div></div><br><p>      ,         : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AttackBtn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (CrossPlatformInputManager.GetButtonDown(<span class="hljs-string"><span class="hljs-string">"Attack"</span></span>)) { GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA; Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// BB  BridgeBuild Collider2D[] BB = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, BridgeBuild); for (int i = 0; i &lt; BB.Length; i++) { BB[i].GetComponent&lt;BridgeBuilding&gt;().BuildBridge(); HeroScript.Water = HeroScript.Water - 0.17f; }</span></span></code> </pre> </div></div><br><pre> <code class="cs hljs">GameObject.Find(<span class="hljs-string"><span class="hljs-string">"Hero"</span></span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA;</code> </pre> <br><p>      ,          . <br> ,   : </p><br><div class="spoiler">  <b class="spoiler_title">T√≠tulo de spoiler</b> <div class="spoiler_text"><pre> <code class="cs hljs">Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; Trees.Length; i++) { Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number"><span class="hljs-number">1</span></span>); Debug.Log(<span class="hljs-string"><span class="hljs-string">"Trees Collider"</span></span>); HeroScript.Water = HeroScript.Water - <span class="hljs-number"><span class="hljs-number">0.7f</span></span>; }</code> </pre> </div></div><br><p>   <strong>Trees</strong> ,      .      ,        ,       ,    .         . <br>  ,            . Simple as that! </p><br><p>   , -    : </p><br><p><img src="https://habrastorage.org/webt/x6/cg/du/x6cgduvtlqneym3ulljopmfy2yo.png" alt="imagem"></p><br><p>      ,       ‚Äî  . <br>   ,      .  ,         ,    ,     . </p><br><p>   2        ,                     . </p><br><p> ! </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> . </p><br><p>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://opengameart.org/</a> ,  : </p><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> </li><li>   Unity  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ru.stackoverflow.com</a> </li><li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Google Play</a> </li><li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sourceforge.net.</a> <br>             worldofonehero@gmail.com. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt458846/">https://habr.com/ru/post/pt458846/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt458834/index.html">Lado da personalidade de Paul Allen, sobre o qual poucas pessoas sabiam como eu gostaria</a></li>
<li><a href="../pt458836/index.html">√çndice Borsch. Uma abordagem sistem√°tica para avaliar, comparar, determinar a rela√ß√£o pre√ßo / qualidade</a></li>
<li><a href="../pt458840/index.html">Como perfuramos o grande firewall chin√™s (parte 2)</a></li>
<li><a href="../pt458842/index.html">Paci√™ncia e trabalho extrair√£o o texto inteiro</a></li>
<li><a href="../pt458844/index.html">Destrui√ß√£o de silo atrav√©s da abordagem de adapta√ß√£o VeriSM ‚Ñ¢</a></li>
<li><a href="../pt458848/index.html">Libera√ß√£o Rust 1.36.0: caracter√≠stica futura, estabiliza√ß√£o de aloca√ß√£o e MaybeUninit <T></a></li>
<li><a href="../pt458850/index.html">Aprenda ingl√™s de maneira barata e eficiente. Parte 2</a></li>
<li><a href="../pt458854/index.html">MotionLayout: as anima√ß√µes s√£o melhores, menos c√≥digo</a></li>
<li><a href="../pt458856/index.html">Pilhas AAA baratas e caras</a></li>
<li><a href="../pt458860/index.html">Ajustando os par√¢metros do kernel do Linux para otimizar o PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>