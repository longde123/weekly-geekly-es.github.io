<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëù üîî ü•ö React Hook Router Una alternativa moderna de React Router üë©üèª‚Äçüéì üèÆ üèµÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Traducci√≥n gratuita de c√≥mo React Hooks puede reemplazar a React Router . 
 Publicado por Peter Ekene Eze. 

 Desde el advenimiento de React Hooks, mu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>React Hook Router Una alternativa moderna de React Router</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459434/"><img src="https://habrastorage.org/webt/-x/wz/1q/-xwz1qhhii41hhty1yq8dpqlvtc.png" alt="imagen"><br><br>  Traducci√≥n gratuita de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥mo React Hooks puede reemplazar a React Router</a> . <br>  Publicado por Peter Ekene Eze. <br><br>  Desde el advenimiento de React Hooks, muchas cosas han cambiado.  Las oportunidades proporcionadas por hooks nos permitieron reconsiderar nuestro enfoque de ciertos conceptos en React, incluido el enrutamiento. <br><br>  Esta publicaci√≥n no est√° destinada a ser cancelada o minimizada por React Router.  Exploraremos otras posibilidades y veremos c√≥mo podemos mejorar el enrutamiento con las aplicaciones React usando ganchos. <br><br>  Con este fin, comparamos React Router y hooksrouter con ejemplos ilustrativos.  Primero, echemos un vistazo m√°s de cerca al React Router. <br><a name="habracut"></a><br><h4>  Reaccionar enrutador </h4><br>  React Router es una forma declarativa popular de administrar rutas en las aplicaciones React.  Reduce la cantidad de trabajo involucrado en la configuraci√≥n manual de rutas para todas las p√°ginas y pantallas en la aplicaci√≥n.  React Router nos proporciona tres componentes principales que nos ayudan a realizar el enrutamiento: Route, Link y BrowserRouter. <br><br><h4>  Enrutamiento en React Router </h4><br>  Imagine que estamos creando una aplicaci√≥n React de tres p√°ginas.  Usualmente usamos un React Router para enrutar y escribimos algo como esto: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Users <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Users"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Contact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Contact"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> About <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/About"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;div&gt; &lt;Router&gt; &lt;div&gt; &lt;Route path="/about" component={About} /&gt; &lt;Route path="/users" component={Users} /&gt; &lt;Route path="/contact" component={Contact} /&gt; &lt;/div&gt; &lt;/Router&gt; &lt;/div&gt; ); }</code> </pre> <br>  El componente &lt;Ruta /&gt; importado del paquete React Router acepta dos par√°metros: la ruta que sigue el usuario y el componente que se mostrar√° a lo largo de la ruta especificada. <br><br><h4>  Ganchos como enrutamiento alternativo </h4><br>  El m√≥dulo hookrouter exporta el gancho useRoutes (), que verifica el objeto de ruta predefinido y devuelve el resultado.  En el objeto de rutas, define sus rutas como claves y sus valores como funciones que se llamar√°n cuando las rutas coincidan.  C√≥digo de ejemplo en ganchos: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Users <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Users"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Contact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Contact"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> About <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/About"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Routes = { <span class="hljs-string"><span class="hljs-string">"/"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> , <span class="hljs-string"><span class="hljs-string">"/about"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> , <span class="hljs-string"><span class="hljs-string">"/contact"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Routes;</code> </pre><br>  Esta forma de escribir rutas es m√°s atractiva.  Por qu√©  Porque no necesit√°bamos hacer mucho trabajo.  Con React Router, tuvimos que representar el componente &lt;Ruta /&gt; para todas las rutas individuales en nuestra aplicaci√≥n.  Sin mencionar todos los par√°metros que le pasamos.  Usando ganchos, podemos usar nuestras rutas simplemente pas√°ndolas al gancho useRoutes (): <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useRoutes} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hookrouter'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Routes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./router'</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeResult = useRoutes(Routes) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> routeResult }</code> </pre><br>  Esto nos da exactamente el mismo resultado que obtendr√≠amos con un React Router, pero con una implementaci√≥n m√°s limpia y f√°cil. <br><br><h4>  Reaccionar la navegaci√≥n del enrutador </h4><br>  React Router incluye un componente &lt;Link /&gt; que nos ayuda a personalizar la navegaci√≥n de la aplicaci√≥n y administrar el enrutamiento interactivo.  Tenemos una aplicaci√≥n con tres p√°ginas, vamos a mostrarlas en la pantalla y pasar a ellas cuando se presiona: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Route, Link, BrowserRouter <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Router } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-router-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Users <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Users"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Contact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Contact"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> About <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/About"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;div className="App"&gt; &lt;Router&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to="/about"&gt;About&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/users"&gt;Users&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/contact"&gt;Contact&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; &lt;Route path="/about" component={About} /&gt; &lt;Route path="/users" component={Users} /&gt; &lt;Route path="/contact" component={Contact} /&gt; &lt;/div&gt; &lt;/Router&gt; &lt;/div&gt; ); }</code> </pre><br>  Creamos la navegaci√≥n necesaria para pasar de una p√°gina de la aplicaci√≥n a otra.  Aqu√≠ hay un buen ejemplo de c√≥mo funciona esto. <br><br><img src="https://habrastorage.org/webt/sz/qn/oy/szqnoyt_49wgcue66jafihkkidy.gif"><br><br><h3>  Usamos ganchos para la navegaci√≥n. </h3><br>  El m√≥dulo hookrouter proporciona un contenedor &lt;A/&gt; sobre la etiqueta HTML &lt;a/&gt;.  Est√° disponible como componente de reacci√≥n y es 100% compatible con la etiqueta nativa &lt;a/&gt;.  La √∫nica diferencia es que mueve la navegaci√≥n a la pila del historial en lugar de cargar una nueva p√°gina. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routes = { <span class="hljs-string"><span class="hljs-string">"/user"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Users /&gt;, <span class="hljs-string"><span class="hljs-string">"/about"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;About /&gt;, <span class="hljs-string"><span class="hljs-string">"/contact"</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Contact /&gt; }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeResult = useRoutes(routes); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/user"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Users Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/about"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">About Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/contact"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Contacts Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {routeResult} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre><br><img src="https://habrastorage.org/webt/tk/cm/y0/tkcmy0lcxvuy_b7vmh-pzg1h0iu.gif"><br><br><h4>  Software de navegaci√≥n </h4><br>  El m√≥dulo hookrouter nos da acceso al enlace de navegaci√≥n (), al que podemos pasar la URL, y redirigir√° al usuario a esta URL.  Cada llamada a la funci√≥n de navegaci√≥n () representa una navegaci√≥n hacia adelante, como resultado, los usuarios pueden hacer clic en el bot√≥n Atr√°s en el navegador para volver a la URL anterior.  Esto sucede por defecto. <br><br><pre> <code class="javascript hljs">navigate(<span class="hljs-string"><span class="hljs-string">'/user/'</span></span>);</code> </pre> <br>  Sin embargo, si necesita un comportamiento diferente, puede hacer un reemplazo en el historial de su navegador.  El gancho de navegaci√≥n () acepta tres par√°metros: navegar (url, [reemplazar], [queryParams]), el segundo par√°metro se utiliza para cambiar el comportamiento de reemplazo.  Elimina la entrada del historial actual y la reemplaza por una nueva.  Para lograr este efecto, simplemente establezca su argumento en verdadero. <br><br><pre> <code class="javascript hljs">navigate(<span class="hljs-string"><span class="hljs-string">'/user'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>);</code> </pre> <br><h4>  Reaccione el interruptor del enrutador </h4><br>  React Router utiliza el componente &lt;Switch /&gt; para mostrar la p√°gina predeterminada cuando ciertas rutas no coinciden.  Por lo general, muestra la p√°gina 404 para informar al usuario que la ruta seleccionada no est√° definida en la aplicaci√≥n.  Para hacer esto, envolvemos todas las rutas dentro del componente &lt;Switch /&gt; y dibujamos la p√°gina 404 sin definir la ruta del archivo: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Route, Link, BrowserRouter <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Router, Switch } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-router-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Users <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Users"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Contact <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Contact"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Home <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/About"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NoPageFound <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/NoPageFound.js"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;div className="App"&gt; &lt;Router&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt; &lt;Link to="/"&gt;Home&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/users"&gt;Users&lt;/Link&gt; &lt;/li&gt; &lt;li&gt; &lt;Link to="/contact"&gt;Contact&lt;/Link&gt; &lt;/li&gt; &lt;/ul&gt; &lt;Switch&gt; &lt;Route exact path="/" component={Home} /&gt; &lt;Route path="/users" component={Users} /&gt; &lt;Route path="/contact" component={Contact} /&gt; &lt;Route component={NoPageFound} /&gt; &lt;/Switch&gt; &lt;/div&gt; &lt;/Router&gt; &lt;/div&gt; ); }</code> </pre><br>  Por lo tanto, al cambiar a una ruta indefinida, React Router muestra el componente NoPageFound.  De esta manera, podemos informar a los usuarios sobre d√≥nde est√°n y qu√© sucede mientras navega por la aplicaci√≥n. <br><br><h4>  Interruptor alternativo en ganchos </h4><br>  Como definimos un objeto de ruta que contiene todas nuestras rutas, y simplemente pasamos este objeto al gancho useRoutes (), resulta muy f√°cil mostrar rutas por condici√≥n.  Si definimos el componente predeterminado NoPageFound para renderizar cuando la ruta seleccionada no est√° definida, solo necesitamos pasar este archivo para renderizar junto con nuestra funci√≥n de resultado de la siguiente manera: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useRoutes, A } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"hookrouter"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> routes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./router"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NoPageFound <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/NoPageFound"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeResult = useRoutes(routes); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/user"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Users Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/about"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">About Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/contact"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Contacts Page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">A</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">br</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> {routeResult || </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">NoPageFound</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><img src="https://habrastorage.org/webt/pv/k1/jm/pvk1jmd8fq9aiik8up5e2ygrswc.gif"><br><br>  En comparaci√≥n con el uso del componente en React Router para renderizar p√°ginas de forma predeterminada, se ve un poco m√°s limpio y m√°s legible. <br><br><h4>  Reaccionar redireccionamientos de enrutadores </h4><br>  Se produce una redirecci√≥n cuando queremos dirigir din√°micamente a un usuario de una ruta a otra.  Por ejemplo, durante la autorizaci√≥n, cuando un usuario inicia sesi√≥n con √©xito, nos gustar√≠a redirigirlo desde la ruta '/ login' a la ruta '/ dashboard'. <br><br>  Con React Router, podemos hacer esto de varias maneras: usando el objeto de historial o el componente &lt;Redirect /&gt;.  Por ejemplo, si tenemos un formulario de inicio de sesi√≥n, podemos usar el objeto de historial del navegador para redirigir al usuario a la ruta '/ tablero' al iniciar sesi√≥n: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Login</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ loginUser = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// if (user is logged in successfully) this.props.history.push('/dashboard') } render() { return ( &lt;form&gt; &lt;input type="name" /&gt; &lt;input type="email" /&gt; &lt;button onClick={this.loginUser}&gt;Login&lt;/button&gt; &lt;/form&gt; ) } } export default Login</span></span></code> </pre> <br><h4>  Gancho redirige </h4><br>  El m√≥dulo hookrouter nos proporciona un gancho useRedirect (), que puede tomar la ruta de origen y la ruta de destino como par√°metros. <br><br><pre> <code class="javascript hljs">useRedirect(<span class="hljs-string"><span class="hljs-string">'/user'</span></span>, <span class="hljs-string"><span class="hljs-string">'/dashboard'</span></span>);</code> </pre> <br>  Esto redirigir√° autom√°ticamente a los usuarios a la ruta '/ tablero' cuando se encuentre la ruta '/ usuario'.  Por ejemplo, si no queremos mostrar ning√∫n usuario, sino que lo redirigimos autom√°ticamente a su / tablero, lo escribiremos as√≠: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {useRoutes, useRedirect} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hookrouter'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dashboard <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Dashboard"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routes = { <span class="hljs-string"><span class="hljs-string">'/home'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Users /&gt;, <span class="hljs-string"><span class="hljs-string">'/dashboard'</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Dashboard /&gt; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Users = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { useRedirect(<span class="hljs-string"><span class="hljs-string">'/user'</span></span>, <span class="hljs-string"><span class="hljs-string">'/dashboard'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeResult = useRoutes(routes); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> routeResult }</code> </pre><br><img src="https://habrastorage.org/webt/lh/2k/ku/lh2kkuvoh-1unrt2qnyfpav_prc.gif"><br><br>  Vale la pena se√±alar que el gancho useRedirect () causa un reemplazo del historial de navegaci√≥n.  Como resultado, solo habr√° una entrada en el historial de navegaci√≥n.  Esto significa que si la redirecci√≥n ocurre de '/ usuario' a '/ tablero de instrumentos, como fue el caso en el √∫ltimo fragmento de c√≥digo en consideraci√≥n, la ruta' / usuario 'no se mostrar√° en el historial de navegaci√≥n.  Solo tendremos la ruta '/ dashboard'. <br><br><h4>  Manejo de par√°metros de URL en React Router </h4><br>  Los par√°metros de URL nos ayudan a mostrar componentes basados ‚Äã‚Äãen sus URL din√°micas.  Esto funciona de manera similar con rutas anidadas, pero en este caso, las rutas no cambian, sino que se actualizan. <br><br>  Por ejemplo, si hubiera diferentes usuarios en nuestra aplicaci√≥n, tendr√≠a sentido identificarlos por separado con sus rutas individuales, como 'usuario / usuario1 /' y 'usuarios / usuario2 /', etc.  Para hacer esto, necesitamos usar los par√°metros de URL.  En React Router, simplemente pasamos un par√°metro (por ejemplo, id) que comienza con dos puntos en la propiedad de ruta del componente &lt;Ruta /&gt;: <br><br><pre> <code class="javascript hljs">&lt;Route path=<span class="hljs-string"><span class="hljs-string">"users/:id"</span></span> component={Users} /&gt;</code> </pre> <br><h4>  Usar ganchos para procesar par√°metros de URL </h4><br>  Pr√°cticamente no hay diferencias en el manejo de los par√°metros de URL en el hookrouter y React Router.  El dise√±o es el mismo (es decir, puede pasar par√°metros de URL a rutas de destino utilizando dos puntos y un nombre de par√°metro). <br><br>  Sin embargo, hay una diferencia en c√≥mo funciona el hookrouter.  Lee todos los par√°metros de URL y los coloca en el objeto.  Esto se realiza utilizando las claves que defini√≥ en el objeto de rutas.  Luego, todos los par√°metros nombrados ser√°n redirigidos a la funci√≥n de resultado de su ruta como un objeto combinado. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routes = { <span class="hljs-string"><span class="hljs-string">'/user/:id'</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{id}</span></span></span><span class="hljs-function">) =&gt;</span></span> &lt;User userId={id} /&gt; }</code> </pre> <br>  Usando la desestructuraci√≥n del objeto, simplemente tomamos la propiedad id del objeto props y luego la aplicamos a nuestro componente.  Por lo tanto, obtenemos exactamente el mismo resultado que con React Router. <br><br><h4>  Conclusi√≥n </h4><br>  Analizamos un m√©todo de enrutamiento alternativo en las aplicaciones React.  React Router es una gran herramienta, sin embargo, con la llegada de los ganchos en React, muchas cosas han cambiado, incluido el funcionamiento del enrutamiento.  Este m√≥dulo basado en ganchos ofrece una forma m√°s flexible y limpia de manejar rutas en peque√±os proyectos. <br><br>  Adem√°s de la funcionalidad principal discutida en la publicaci√≥n, hookrouter tiene una serie de caracter√≠sticas adicionales, como: <br><br><ul><li>  Componentes de carga lenta </li><li>  Rutas anidadas </li><li>  Transferencia de datos adicionales a la ruta </li><li>  Intercepci√≥n de navegaci√≥n </li><li>  Soporte de representaci√≥n del servidor </li></ul><br>  El proyecto hookrouter tiene una excelente documentaci√≥n en la que puede encontrar r√°pidamente una pregunta de inter√©s. <br><br>  El art√≠culo utiliz√≥ materiales de la <a href="">documentaci√≥n</a> para hookrouter <br>  y el art√≠culo original sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">c√≥mo React Hooks puede reemplazar a React Router</a> . <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Enrutador de</a> repositorio Git <br><br>  UPD: al completar el art√≠culo, no vi de inmediato que se puede elegir el tipo de publicaci√≥n "Traducci√≥n", pido disculpas a los lectores, complet√© un enlace al original en el encabezado e indiqu√© al autor. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/459434/">https://habr.com/ru/post/459434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459422/index.html">Escribimos API para componentes React, parte 6: creamos comunicaci√≥n entre componentes</a></li>
<li><a href="../459426/index.html">C√≥mo se cre√≥ el dise√±o de Yandex.Avto</a></li>
<li><a href="../459428/index.html">Intel Quartus Prime: todo lo que necesita para trabajar con Intel FPGA</a></li>
<li><a href="../459430/index.html">Aplicaci√≥n m√≥vil con generaci√≥n autom√°tica de formularios: nuestro caso</a></li>
<li><a href="../459432/index.html">RD-180: ¬øpueden los Estados Unidos fabricar motores de cohetes?</a></li>
<li><a href="../459438/index.html">Los datos son a√∫n m√°s importantes.</a></li>
<li><a href="../459442/index.html">5 sistemas de gesti√≥n de eventos de seguridad de c√≥digo abierto</a></li>
<li><a href="../459444/index.html">Cambios recientes en Linux IO stack desde el punto de vista de DBA</a></li>
<li><a href="../459446/index.html">Cinco tendencias aterradoras del dise√±o moderno.</a></li>
<li><a href="../459450/index.html">La vulnerabilidad del software de teleconferencia Zoom permite que cualquier sitio web esp√≠e a los usuarios a trav√©s de la c√°mara web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>