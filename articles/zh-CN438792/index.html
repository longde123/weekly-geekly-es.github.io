<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤴 💟 ♓️ 在VDI项目中使用AccelStor所有闪存阵列 ♈️ 👱 ➖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="与员工的普通个人计算机相比，虚拟桌面（VDI）似乎具有巨大的优势。 但是，实际上，为了使虚拟环境以足够的速度工作并且VDI不会对人员的工作造成刺激，需要非常高效且昂贵的硬件。 VDI基础结构中的瓶颈之一是数据存储系统：是否值得联系该技术直接取决于其性能。 


 公司为什么需要VDI？ 


 VD...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在VDI项目中使用AccelStor所有闪存阵列</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/accelstor/blog/438792/"><p> 与员工的普通个人计算机相比，虚拟桌面（VDI）似乎具有巨大的优势。 但是，实际上，为了使虚拟环境以足够的速度工作并且VDI不会对人员的工作造成刺激，需要非常高效且昂贵的硬件。  VDI基础结构中的瓶颈之一是数据存储系统：是否值得联系该技术直接取决于其性能。 </p><br><div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/8-/dm/qd/8-dmqddfowzapqkkshefod28oe8.jpeg"></div><br><a name="habracut"></a><br><h3> 公司为什么需要VDI？ </h3><br><p>  VDI技术可以显着简化组织员工工作场所的IT基础架构并使之自动化。 与传统的工作站和笔记本电脑的区别在大型员工中尤为明显。 此外，VDI是从任何位置安全交付员工工作工具（所谓的桌面即服务）的出色工具，在安全性要求高和/或分支机构网络广泛的组织（药品，银行，教育，零售等）。 </p><br><p> 如果正确部署了VDI基础架构，那么很快它将开始通过显着降低维护成本并由于IT设备和软件的整合而减少漏洞点来节省公司的钱。 无论在何处添加新作业，这都会增加灵活性。 </p><br><h3> 部署VDI时遇到问题 </h3><br><p> 由于VDI意味着大量用户在工作场所中同时执行其操作，因此IT基础结构不仅需要高I / O性能，而且还要求超低延迟。 如果“制动”发生在某处，很可能会对用户造成负面影响，他们将要求返回传统工作站。 这意味着VDI实施完全失败。 </p><br><p> 根据IDC报告，最灾难性的VDI实施与无法为整个基础架构提供高速I / O的存储系统性能有关。 因此，选择具有必要性能的存储系统可能是VDI设计中最重要的任务。 并且，应该指出，就成本而言，这是最昂贵的之一。 </p><br><p> 如实践所示，主轴和混合（机械磁盘+闪存）存储系统不适合大型VDI项目，因为它们基于缓存I / O请求以减少延迟的原理。 但是缓存的大小不是无限的。 一旦充满，延迟将增加，用户将“反抗”，并且考虑到该项目将被弯曲。 实际上，VDI对延迟的要求是如此之高，以至于甚至具有NVMe或NVRAM缓存的传统的基于RAID的全闪存系统也无法应付负载。 </p><br><p> 在这样的项目中，非常欢迎没有缓存的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor</a> All Flash系统：所有数据在进行即时重新安排（同步记录）后立即写入SSD。 缺少缓存意味着就IOPS和吞吐量而言，以及就延迟而言，性能均保持不变，应该注意到，这些性能已经具有非常出色的性能。 </p><br><h3>  Flash优化架构 </h3><br><p>  RAID技术是在上世纪80年代后期开发的，专门用于传统主轴驱动器。 今天，它可能是数据存储领域中使用最广泛的技术。 但是，使用RAID构建All Flash系统时，至少存在两个问题： </p><br><ul><li> 数据写入驱动器上随机位置的SSD中 </li><li> 数据经常被覆盖 </li></ul><br><p>  AccelStor的All Flash系统以完全不同的方式工作，因为它们是专为有效使用SSD而设计的。 基础是专有的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FlexiRemap</a>技术，该技术不使用缓存和RAID。  10年的研究和超过45项专利揭示了闪存的全部潜力。 得益于Toshiba Memory之类的IT巨头的支持以及2016年Flash峰会的最佳展示奖，FlexiRemap技术确实具有革命性。 </p><br><h3> 为什么选择FlexiRemap®？ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">FlexiRemap®</a>技术的名称仅用于在写入SSD之前重新分配数据块（重新映射）。 数据按顺序链重组，并以4KB的倍数写入驱动器，即 在最舒适的SSD模式下。 借助这种方法，无需使用高速缓存就可以实现相当高的性能指标（随机写入最高可达700K IOPS，随机读取+写入最高可达1.1M IOPS）。 </p><br><p> 大多数基于RAID的存储系统都使用昂贵的SAS SSD，这是与两个控制器一起使用所必需的，而同时仅将其性能利用率提高了10％。  FlexiRemap®结合无<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">共享</a>群集架构使用更便宜的SATA SSD，并将其性能提高90％，这最终意味着更低的拥有成本（TCO）和更快的投资回报率（ROI）。 </p><br><p> 此外，我们注意到SSD具有可预测的老化周期，该周期与记录在其上的信息量有关。 与在写入操作上具有巨大开销的RAID系统相反，FlexiRemap®技术仅写入一次数据，从而延长了驱动器寿命并降低了相同的TCO。 </p><br><p> 因此，所有具有FlexiRemap®技术的Flash AccelStor系统都非常适合使用密集型I / O且要求超低延迟的项目。 如VDI。 </p><br><h3> 快速的存储投资回报率 </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor</a>为其设备提供了未经许可的模型。 即 客户可以立即永久访问所有技术（克隆，快照，复制，重复数据删除等）。 此外，对设备（当然还有软件）的技术支持将扩展到阵列的整个使用寿命，而不仅限于保证范围/保证范围。 因此，这里的TCO指标可以大大降低。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zt/8c/4z/zt8c4zjzrs9fvwfqquprpkorwps.jpeg"></div><br><p> 使用重复数据删除算法（FlexiDedupe）可以减少数据使用的存储空间。 在应用于VDI时，我们注意到对于链接克隆，压缩比可以轻松达到10：1。 结果，一个完整的阵列与重复数据删除和自动精简配置相结合，可以为一个活跃的工作场所提供大约30美元的成本。 </p><br><h3> 测试中 </h3><br><p>  AccelStor NeoSapphireTM所有闪存系统均已通过Login VSI软件包进行了测试，该软件包是衡量VDI基础架构性能和可伸缩性的出色工具。 </p><br><p> 该测试在VMware Horizo​​n View环境中以链接克隆模式使用了500个桌面。 它们全部位于<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">NeoSapphire P710阵列</a> （24个SSD，10G iSCSI，单节点，700K IOPS持续写入）上，每个<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">阵列有</a> 5个2TB的空间，另外还有一个单独的副本空间。  Supermicro的8节点高密度平台就是负载。 一对单独的服务器和一个全闪存（同样来自AccelStor）阵列包含VDI基础架构和测试监视系统。 </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/1b/mr/8k/1bmr8kgrcfij_9lxsbuqalzwza4.jpeg"></div><br>  <i>测试设备基础设施</i> <br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/si/cw/ql/sicwqlw8aolrezfhsdntbgeefxe.jpeg"></div><br>  <i>虚拟桌面组织</i> <br><br><p> 台式机是基于Windows 10 Pro（内部版本1709）的虚拟机，其配置为：2个vCPU，3.5GB RAM（100％保留），60GB HDD。 制作了两个负载曲线。 就登录VSI而言，它们称为知识和力量。 不同之处在于对计算资源和I / O要求的影响程度。 </p><br><table><tbody><tr><th> 工人 </th><th> 知识点 </th><th> 威力 </th></tr><tr><td> 内容描述 </td><td> 高CPU，RAM和IO时均衡的压力负载 </td><td> 非常繁重的工作负载，给系统带来最大压力，需要非常大的CPU，RAM和IO资源 </td></tr><tr><td> 二手软件 </td><td>  Adobe阅读器 <br>  Freemind / Java <br> 互联网浏览器 <br> 微软Excel <br> 微软展望 <br> 微软PowerPoint <br>  MS Word <br> 照片浏览器 <br>  7拉链 <br></td><td>  Adobe阅读器 <br>  Freemind / Java <br> 互联网浏览器 <br> 微软Excel <br> 微软展望 <br> 微软PowerPoint <br>  MS Word <br> 照片浏览器 <br>  7拉链 <br> 同时安装多个应用程序 <br></td></tr><tr><td> 注意事项 </td><td></td><td> 使用较大的文件进行图形处理-分辨率更高 </td></tr></tbody></table><br><p> 为了了解典型的负载，这些图还给出了每个配置文件的估计资源消耗（相对于知识配置文件的百分比）： </p><br><table><tbody><tr><th> 工人 </th><th> 应用程式开启 </th><th>  CPU使用率 </th><th> 磁盘读取 </th><th> 磁盘写入 </th><th>  IOPS </th><th> 记忆体 </th><th> 虚拟CPU </th></tr><tr><td> 知识点 </td><td>  5-9 </td><td>  100％ </td><td>  100％ </td><td>  100％ </td><td>  8.5 </td><td>  1.5GB </td><td>  2个vCPU </td></tr><tr><td> 威力 </td><td>  8-12 </td><td>  119％ </td><td>  133％ </td><td>  123％ </td><td>  10.8 </td><td>  2GB </td><td>  2个vCPU </td></tr></tbody></table><br><p> 测试了VDI基础架构的各种操作模式，每种模式都对全闪存阵列施加了高负载。 </p><br><div class="spoiler">  <b class="spoiler_title">测验</b> <div class="spoiler_text"><ul><li> 设置-部署虚拟机池 <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/20/hf/eu/20hfeucz75n5pzjs70qhrb-iibe.jpeg"></div></li><li> 引导-加载虚拟机，模拟工作日的开始（所谓的引导风暴 <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/c-/gt/iz/c-gtiz5ubdrv7lod6niwryt_qcu.jpeg"></div></li><li> 登录VSI完整测试（登录）-虚拟机负载的分阶段增加，以便在由于缺乏资源（在本例中为100％）而开始降低性能时达到峰值。 尚未达到峰值，即使在电源等负载配置下，全闪存阵列也能够为大量台式机提供性能 <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/tw/_s/qq/tw_sqqmpxutmabidbafysr1t3v8.jpeg"></div><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/j8/hb/df/j8hbdfanetvo9c5st7afuq0gyv8.jpeg"></div></li><li>  30分钟稳态-在最大负载下进行30分钟稳定性测试 <br><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/p5/xq/t0/p5xqt0lxs3vp5cy1zs-igjn2pja.jpeg"></div><br><div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/vi/dc/uq/vidcuqbyxwmrezevhv2tjd0bbj8.jpeg"></div></li><li> 关闭电源-关闭虚拟机池 </li><li> 池刷新-将OS磁盘恢复为其原始大小 </li></ul><br></div></div><br><p> 结果，无论负载模式如何，虚拟机内部都保持了舒适的响应时间。 即，换句话说，这意味着用户在这样的工作环境下工作时会感到舒适。 </p><br><table><tbody><tr><th>  500个克隆桌面池 </th><th> 交货时间 </th><th> 平均延迟 </th></tr><tr><td> 供应 </td><td>  〜32分钟 </td><td>  0.59毫秒 </td></tr><tr><td> 正在启动 </td><td>  〜2分钟 </td><td>  0.68毫秒 </td></tr><tr><td> 登录VSI完整测试（登录） </td><td>  50分钟 </td><td>  0.46毫秒 </td></tr><tr><td>  30分钟稳态 </td><td>  30分钟 </td><td>  0.56毫秒 </td></tr><tr><td> 断电 </td><td>  〜7分钟 </td><td>  0.45毫秒 </td></tr><tr><td> 泳池刷新 </td><td>  〜14分钟 </td><td>  0.27毫秒 </td></tr></tbody></table><br><p>  <i>完整的测试结果可从<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Login VSI</a>和<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AccelStor获得</a> 。</i> </p><br><h2> 结论 </h2><br><blockquote> 当存储性能真的很重要并且全闪存阵列在VDI基础架构的中心运行时，基于FlexiRemap®技术的系统将提供最佳的性价比。 使用企业SATA SSD和内置算法来延长其使用寿命，以及整个设备的低延迟，正是为大型VDI项目而创建的。 </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN438792/">https://habr.com/ru/post/zh-CN438792/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN438778/index.html">@Pythonetc 2019年1月</a></li>
<li><a href="../zh-CN438782/index.html">FSB建议发行俄罗斯SIM卡并使用5G的国内加密技术</a></li>
<li><a href="../zh-CN438784/index.html">使用Yandex.Metrica服务时遇到的问题</a></li>
<li><a href="../zh-CN438788/index.html">服务器机房中的环境监控（Bolid + Zabbix）</a></li>
<li><a href="../zh-CN438790/index.html">QuadrigaCX加密货币交易所不会捐出1.37亿美元，只有总监知道商店中的密码，他才去世</a></li>
<li><a href="../zh-CN438794/index.html">JavaScript对象详细信息</a></li>
<li><a href="../zh-CN438796/index.html">学习Docker第1部分：基础</a></li>
<li><a href="../zh-CN438798/index.html">如何处理网络情报数据：我们学会收集和识别系统危害的指标</a></li>
<li><a href="../zh-CN438800/index.html">PHP Pear被黑，无法使用</a></li>
<li><a href="../zh-CN438802/index.html">2019年夏季课程，用于在国外教授青少年编程</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>