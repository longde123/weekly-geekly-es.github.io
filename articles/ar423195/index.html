<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฆ ๐ด๐ฝ ๐ท๐ผ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูู JPA 2.2 ๐ ๐๏ธ ๐คซ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุนุทูุฉ ุณุนูุฏุฉ ููุฌููุน! 

 ุญุฏุซ ูุฌุฃุฉ ุฃู ุชุฒุงููุช ุจุฏุงูุฉ ุงููุฌููุนุฉ ุงูุซุงููุฉ "Java Enterprise Developer" ูุน ุงูููู 256 ูู ุงูุนุงู. ุตุฏูุฉุ ูุง ุฃุนุชูุฏ ุฐูู. 

 ุญุณููุง ุ ูุญู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูู JPA 2.2</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/423195/" style=";text-align:right;direction:rtl">  ุนุทูุฉ ุณุนูุฏุฉ ููุฌููุน! <br><br>  ุญุฏุซ ูุฌุฃุฉ ุฃู ุชุฒุงููุช ุจุฏุงูุฉ ุงููุฌููุนุฉ ุงูุซุงููุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Java Enterprise Developer"</a> ูุน ุงูููู 256 ูู ุงูุนุงู.  <s>ุตุฏูุฉุ</s>  <s>ูุง ุฃุนุชูุฏ ุฐูู.</s> <br><br>  ุญุณููุง ุ ูุญู ูุดุงุฑู ุงูุงูุชูุงู ูุจู ุงูุฃุฎูุฑ: ูุง ูู ุงูุฃุดูุงุก ุงูุฌุฏูุฏุฉ ุงูุชู ุฌูุจุชูุง JPA 2.2 - ูุชุงุฆุฌ ุงูุชุฏูู ุ ูุชุญููู ุงูุชุงุฑูุฎ ุงููุญุณูู ุ ูุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุงูุฌุฏูุฏุฉ - ูุฌุฑุฏ ุฃูุซูุฉ ููููุฉ ุนูู ุงูุชุญุณููุงุช ุงููููุฏุฉ. <br><br>  ุฏุนูุง ูุฐูุจ! <br><br>  ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Java Persidence API (JPA) ูู ุฃุญุฏ ููุงุตูุงุช Java EE ุงูุฃุณุงุณูุฉ ุงููุณุชุฎุฏูุฉ ุนูู ูุทุงู ูุงุณุน ูู ุงูุตูุงุนุฉ.  ุจุบุถ ุงููุธุฑ ุนูุง ุฅุฐุง ููุช ุชููู ุจุงูุชุทููุฑ ูููุตุฉ Java EE ุฃู ูุฅุทุงุฑ Java ุงูุจุฏูู ุ ูุฅู JPA ูู ุงุฎุชูุงุฑู ูุญูุธ ุงูุจูุงูุงุช.  ูุงู JPA 2.1 ุจุชุญุณูู ุงูููุงุตูุงุช ุ ููุง ุณูุญ ูููุทูุฑูู ุจุญู ุงููุดููุงุช ูุซู ุงูุฅูุดุงุก ุงูุชููุงุฆู ููุฎุทุทุงุช ููุงุนุฏ ุงูุจูุงูุงุช ูุงูุนูู ุงููุนุงู ูุน ุงูุฅุฌุฑุงุกุงุช ุงููุฎุฒูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูุนูู ุงูุฅุตุฏุงุฑ ุงูุฃุญุฏุซ ุ JPA 2.2 ุ ุนูู ุชุญุณูู ุงูููุงุตูุงุช ุจูุงุกู ุนูู ูุฐู ุงูุชุบููุฑุงุช. <br>  ูู ูุฐู ุงูููุงูุฉ ุณุฃุชุญุฏุซ ุนู ูุธุงุฆู ุฌุฏูุฏุฉ ูุณุฃูุฏู ุฃูุซูุฉ ูู ุดุฃููุง ุฃู ุชุณุงุนุฏู ุนูู ุงูุจุฏุก ูู ุฐูู.  ูุนููุฉ ุ ุฃุณุชุฎุฏู ูุดุฑูุน "Java EE 8 Playground" ุงููุชููุฑ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GitHub</a> .  ูุณุชูุฏ ุชุทุจูู ุงูุนููุฉ ุฅูู ููุงุตูุงุช Java EE 8 ููุณุชุฎุฏู JavaServer Faces (JSF) ู Enterprise JavaBeans (EJB) ูุฅุทุงุฑุงุช JPA ููุงุณุชูุฑุงุฑูุฉ.  ูุฌุจ ุฃู ุชููู ุนูู ุฏุฑุงูุฉ ุจู JPA ูููู ูุง ูุฏูุฑ ุญููู. <br><br><img src="https://habrastorage.org/webt/2a/o5/xl/2ao5xlvs1k6qa91gdq0ndz3akis.png"><br><a name="habracut"></a><br>  <b>ุจุงุณุชุฎุฏุงู JPA 2.2</b> <br><br>  ูุนุฏ ุงูุฅุตุฏุงุฑ 2.2 ูู JPA ุฌุฒุกูุง ูู ุงููุธุงู ุงูุฃุณุงุณู Java EE 8. ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุฎูุงุฏู ุงูุชุทุจููุงุช ุงููุชูุงููุฉ ูุน Java EE 8 ููุท ุชููุฑ ููุงุตูุงุช ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุฎุงุฑุฌ ุงูุตูุฏูู.  ูู ููุช ูุชุงุจุฉ ูุฐู ุงูุณุทูุฑ (ุฃูุงุฎุฑ 2017) ุ ูุงู ููุงู ุนุฏุฏ ุบูุฑ ูููู ูู ุฎูุงุฏู ุงูุชุทุจููุงุช.  ููุน ุฐูู ุ ูุฅู ุงุณุชุฎุฏุงู JPA 2.2 ูุน Java EE7 ุณูู.  ุชุญุชุงุฌ ุฃููุงู ุฅูู ุชูุฒูู ูููุงุช JAR ุงูููุงุณุจุฉ ุจุงุณุชุฎุฏุงู <a href="">Maven Central</a> ูุฅุถุงูุชูุง ุฅูู ุงููุดุฑูุน.  ุฅุฐุง ููุช ุชุณุชุฎุฏู Maven ูู ูุดุฑูุนู ุ ูุฃุถู ุงูุฅุญุฏุงุซูุงุช ุฅูู ููู Maven POM: <br><br><pre style=";text-align:right;direction:rtl"><code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;javax.persistence&lt;/groupId&gt; &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.2</span></span>&lt;/version&gt; &lt;/dependency&gt;</code> </pre> <br>  ุซู ุญุฏุฏ ุชูููุฐ JPA ุงูุฐู ุชุฑูุฏ ุงุณุชุฎุฏุงูู.  ุจุฏุกูุง ูู JPA 2.2 ุ ูุญุชูู ูู ูู EclipseLink ู Hibernate ุนูู ุชุทุจููุงุช ูุชูุงููุฉ.  ูุฃูุซูุฉ ูู ูุฐู ุงูููุงูุฉ ุ ุฃุณุชุฎุฏู <a href="">EclipseLink</a> ุจุฅุถุงูุฉ ุงูุชุจุนูุฉ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs">&lt;dependency&gt; &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt; &lt;artifactId&gt;eclipselink&lt;/artifactId&gt; &lt;version&gt;<span class="hljs-number"><span class="hljs-number">2.7</span></span>.0 &lt;/version&gt; &lt;/dependency&gt;</code> </pre> <br>  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฎุงุฏููุง ูุชูุงูููุง ูุน Java EE 8 ุ ูุซู GlassFish 5 ุฃู Payara 5 ุ ููุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุชุญุฏูุฏ ุงูููุทูุฉ "ุงูููุฏูุฉ" ููุฐู ุงูุชุจุนูุงุช ูู ููู POM.  ุฎูุงู ุฐูู ุ ุญุฏุฏ ููุทูุฉ "ุงูุชุฑุฌูุฉ" ูุชุถููููุง ูู ุชุฌููุน ุงููุดุฑูุน. <br><br>  <b>ุฌุงูุง 8 ุงูุชุงุฑูุฎ ูุงูููุช</b> <br><br>  ุฑุจูุง ูููู ุฃุญุฏ ุฃูุซุฑ ุงูุฅุถุงูุงุช ุงูุฅูุฌุงุจูุฉ ูู Java 8 Date and Time API.  ููุฐ ุฅุตุฏุงุฑ Java SE 8 ูู ุนุงู 2014 ุ ุงุณุชุฎุฏู ุงููุทูุฑูู ุงูุญููู ูุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููููุช ูุงูุชุงุฑูุฎ ูุน JPA.  ุนูู ุงูุฑุบู ูู ุฃู ูุนุธู ุงูุญููู ูุงุถุญุฉ ุฅูู ุญุฏ ูุง ุ ุฅูุง ุฃู ุงูุญุงุฌุฉ ุฅูู ุฅุถุงูุฉ ุฏุนู ุฃุณุงุณู ูู Date and Time API ุงููุญุฏุซุฉ ุทุงู ุงูุชุธุงุฑูุง.  ูุชุถูู ุฏุนู JPA ูู Date and Time API ุงูุฃููุงุน ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>java.time.LocalDate</code> </li> <li style=";text-align:right;direction:rtl"> <code>java.time.LocalTime</code> </li> <li style=";text-align:right;direction:rtl"> <code>java.time.LocalDateTime</code> </li> <li style=";text-align:right;direction:rtl"> <code>java.time.OffsetTime</code> </li> <li style=";text-align:right;direction:rtl"> <code>java.time.OffsetDateTime</code> </li> </ul><br>  ูููู ุฃูุถู ุ ุณุฃุดุฑุญ ุฃููุงู ููููุฉ ุนูู ุฏุนู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ููุชุงุฑูุฎ ูุงูููุช ุจุฏูู JPA 2.2.  ูููู ุฃู ูุนูู JPA 2.1 ููุท ูุน ุชุฑุงููุจ ุงูุชุงุฑูุฎ ุงูุฃูุฏู ูุซู <code>java.util.Date</code> ู <code>java.sql.Timestamp</code> .  ูุฐูู ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ูุญูู ูุชุญููู ุงูุชุงุฑูุฎ ุงููุฎุฒู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅูู ุชุตููู ูุฏูู ูุฏุนูู JPA 2.1 ุ ุซู ุชุญูููู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Date and Time ูุญุฏุซุฉ ููุงุณุชุฎุฏุงู ูู ุงูุชุทุจูู.  ูุฏ ูุจุฏู ูุญูู ุงูุชุงุฑูุฎ ูู JPA 2.1 ูุงุฏุฑูุง ุนูู ูุซู ูุฐุง ุงูุชุญููู ุดูุฆูุง ูุซู ุงูุฅุฏุฑุงุฌ 1. ูุชู ุงุณุชุฎุฏุงู ุงููุญูู ููู ููุชุญููู ุจูู <code>LocalDate</code> ู <code>java.util.Date</code> . <br><br>  <i>ุงูุฅุฏุฑุงุฌ 1</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Converter</span></span>(autoApply = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocalDateTimeConverter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AttributeConverter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocalDate</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Date</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Date </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToDatabaseColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LocalDate entityValue)</span></span></span><span class="hljs-function"> </span></span>{ LocalTime time = LocalTime.now(); Instant instant = time.atDate(entityValue) .atZone(ZoneId.systemDefault()) .toInstant(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Date.from(instant); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LocalDate </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToEntityAttribute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Date databaseValue)</span></span></span></span>{ Instant instant = Instant.ofEpochMilli(databaseValue.getTime()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> LocalDateTime.ofInstant(instant, ZoneId.systemDefault()).toLocalDate(); } }</code> </pre> <br>  ูู ูุนุฏ JPA 2.2 ุจุญุงุฌุฉ ุฅูู ูุชุงุจุฉ ูุซู ูุฐุง ุงููุญูู ุ ูุฃูู ุชุณุชุฎุฏู ุฃููุงุน ุงูููุช ูุงูุชุงุฑูุฎ ุงููุฏุนููุฉ.  ุฏุนู ูุฐู ุงูุฃููุงุน ูุฏูุฌ ุ ูุฐูู ููููู ุจุจุณุงุทุฉ ุชุญุฏูุฏ ุงูููุน ุงููุฏุนูู ูู ุญูู ูุฆุฉ ุงูููุงู ุจุฏูู ุฑูุฒ ุฅุถุงูู.  ููุถุญ ููุชุทู ุงูุฑูุฒ ุฃุฏูุงู ูุฐุง ุงูููููู.  ูุงุญุธ ุฃูู ููุณุช ููุงู ุญุงุฌุฉ ูุฅุถุงูุฉ ุชุนููู ุชูุถูุญู ุฅูู ุงูุฑูุฒ <code>@Temporal</code> ุ ูุฃู ุชุนููู ุงูููุน ูุญุฏุซ ุชููุงุฆููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Job</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ . . . <span class="hljs-meta"><span class="hljs-meta">@Column</span></span>(name = <span class="hljs-string"><span class="hljs-string">"WORK_DATE"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocalDate workDate; . . . }</code> </pre> <br>  ูุธุฑูุง ูุฃู ุฃููุงุน ุงูููุช ูุงูุชุงุฑูุฎ ุงููุฏุนููุฉ ูู ูุงุฆูุงุช ูู ุงูุฏุฑุฌุฉ ุงูุฃููู ูู JPA ุ ูููู ุชุญุฏูุฏูุง ุจุฏูู ุงุญุชูุงูุงุช ุฅุถุงููุฉ.  ูู JPA <code>@Temporal</code> ูุฌุจ ูุตู ุงูุชุนููู ุงูุชูุถูุญู ูู ุฌููุน ุงูุญููู ูุงูุฎุตุงุฆุต ุงูุซุงุจุชุฉ <code>java.util.Calendar</code> ู <code>java.util.Calendar</code> . <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ูุชู ุฏุนู ุจุนุถ ุฃููุงุน ููุช ุงูุชุงุฑูุฎ ููุท ูู ูุฐุง ุงูุฅุตุฏุงุฑ ุ ูููู ูููู ุฅูุดุงุก ูุญูู ุงูุณูุงุช ุจุณูููุฉ ููุนูู ูุน ุฃููุงุน ุฃุฎุฑู ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุชุญููู <code>LocalDateTime</code> ุฅูู <code>ZonedDateTime</code> .  ุฃูุจุฑ ูุดููุฉ ูู ูุชุงุจุฉ ูุฐุง ุงููุญูู ูู ุชุญุฏูุฏ ุฃูุถู ุทุฑููุฉ ููุชุญููู ุจูู ุงูุฃููุงุน ุงููุฎุชููุฉ.  ูุชุณููู ุงูุฃููุฑ ุ ูููู ุงูุขู ุชูููุฐ ูุญููุงุช ุงูุณูุงุช.  ุณุฃูุฏู ูุซุงูุง ุนูู ุงูุชูููุฐ ุฃุฏูุงู. <br><br>  ููุถุญ <code>LocalDateTime</code> <code>ZonedDateTime</code> 2 ููููุฉ ุชุญููู ุงูููุช ูู <code>LocalDateTime</code> ุฅูู <code>ZonedDateTime</code> . <br><br>  <i>ูุงุฆูุฉ 2</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Converter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocalToZonedConverter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AttributeConverter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ZonedDateTime</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LocalDateTime</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LocalDateTime </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToDatabaseColumn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ZonedDateTime entityValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> entityValue.toLocalDateTime(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ZonedDateTime </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToEntityAttribute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LocalDateTime databaseValue)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ZonedDateTime.of(databaseValue, ZoneId.systemDefault()); } }</code> </pre> <br>  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ูุฐุง ุงููุซุงู ูุงุถุญ ููุบุงูุฉ ูุฃู <code>ZonedDateTime</code> ูุญุชูู ุนูู ุทุฑู ุณููุฉ ุงูุชุญููู.  ูุญุฏุซ ุงูุชุญููู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>toLocalDateTime()</code> .  ูููู ุฅุฌุฑุงุก ุงูุชุญููู ุงูุนูุณู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฃุณููุจ <code>ZonedDateTimeOf()</code> ูุชูุฑูุฑ ูููุฉ <code>ZoneId</code> ูุน <code>ZoneId</code> ูุงุณุชุฎุฏุงู ุงูููุทูุฉ ุงูุฒูููุฉ. <br><br>  <b>ูุญููุงุช ุงูุณูุฉ ุงููุถููุฉ</b> <br><br>  ูุงูุช ูุญููุงุช ุงูุณูุฉ ุฅุถุงูุฉ ูุทููุฉ ุฌุฏูุง ุฅูู JPA 2.1 ุ ูุฃููุง ุณูุญุช ูุฃููุงุน ุงูุณูุงุช ุฃู ุชููู ุฃูุซุฑ ูุฑููุฉ.  ูุถูู ุชุญุฏูุซ JPA 2.2 ูุฏุฑุฉ ูููุฏุฉ ุนูู ุฌุนู ูุญููุงุช ุงูุณูุงุช ูุงุจูุฉ ููุชูููุฐ.  ูุฐุง ูุนูู ุฃูู ููููู ุชุถููู ุงูุณูุงูุงุช ูููุงุฑุฏ ุญูู ุงูุชุจุนูุฉ (CDI) ูุจุงุดุฑุฉ ูู ูุญูู ุงูุณูุฉ.  ูุชูุงูู ูุฐุง ุงูุชุนุฏูู ูุน ุชุญุณููุงุช CDI ุงูุฃุฎุฑู ูู ููุงุตูุงุช Java EE 8 ุ ูุซู ูุญููุงุช JSF ุงููุชูุฏูุฉ ุ ุญูุซ ูููููู ุงูุขู ุฃูุถูุง ุงุณุชุฎุฏุงู ุญูู CDI. <br><br>  ููุงุณุชูุงุฏุฉ ูู ูุฐู ุงูููุฒุฉ ุงูุฌุฏูุฏุฉ ุ ูุง ุนููู ุณูู ุชุถููู ููุงุฑุฏ CDI ูู ูุญูู ุงูุณูุงุช ุ ุญุณุจ ุงูุญุงุฌุฉ.  ุชููุฑ ุงููุงุฆูุฉ 2 ูุซุงููุง ููุญูู ุงูุณูุฉ ุ ูุงูุขู ุณุฃููู ุจูุตููุง ุ ููุถุญุฉ ุฌููุน ุงูุชูุงุตูู ุงููููุฉ. <br><br>  ูุฌุจ ุฃู ุชููู ูุฆุฉ ุงููุญูู ุจุชุทุจูู ูุงุฌูุฉ <code>javax.persistence.AttributeConverter</code> ุ ุจุชูุฑูุฑ ููู X ู Y. ุชุชูุงูู ูููุฉ X ูุน ููุน ุงูุจูุงูุงุช ูู ูุงุฆู Java ุ ููุฌุจ ุฃู ุชุชูุงูู ูููุฉ Y ูุน ููุน ุนููุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ุจุนุฏ ุฐูู ุ ูุฌุจ ุฅุถุงูุฉ ุชุนูููุงุช ุชูุถูุญูุฉ ุฅูู ูุฆุฉ ุงููุญูู <code>@Converter</code> .  ูุฃุฎูุฑูุง ุ ูุฌุจ ุฃู ุชุชุฌุงูุฒ ุงููุฆุฉ <code>convertToDatabaseColumn()</code> ู <code>convertToEntityAttribute()</code> .  ูุฌุจ ุฃู ูุญูู ุงูุชุทุจูู ูู ูู ุทุฑููุฉ ูู ูุฐู ุงูุฃุณุงููุจ ุงูููู ูู ุฃููุงุน ูุนููุฉ ุซู ูุนูุฏ ุฅูููุง. <br><br>  ูุชุทุจูู ุงููุญูู ุชููุงุฆููุง ูู ูู ูุฑุฉ ูุชู ูููุง ุงุณุชุฎุฏุงู ููุน ุงูุจูุงูุงุช ุงููุญุฏุฏ ุ ุฃุถู "ุชููุงุฆู" ุ ููุง ูู <code>@Converter(autoApply=true)</code> .  ูุชุทุจูู ูุญูู ุนูู ุณูุฉ ูุงุญุฏุฉ ุ ุงุณุชุฎุฏู ุงูุชุนููู ุงูุชูุถูุญูConverter ุนูู ูุณุชูู ุงูุณูุฉ ุ ููุง ูู ููุถุญ ููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Convert</span></span>(converter=LocalDateConverter.java) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> LocalDate workDate;</code> </pre> <br>  ูููู ุฃูุถูุง ุชุทุจูู ุงููุญูู ุนูู ูุณุชูู ุงููุตู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Convert</span></span>(attributeName=<span class="hljs-string"><span class="hljs-string">"workDate"</span></span>, converter = LocalDateConverter.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Job</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ . . .</code> </pre> <br>  ูููุชุฑุถ ุฃููู ุฃุฑูุฏ ุชุดููุฑ ุงูููู ุงููุงุฑุฏุฉ ูู ุญูู <code>creditLimit</code> ูููุงู <code>Customer</code> ุนูุฏ ุญูุธู.  ูุชูููุฐ ูุฐู ุงูุนูููุฉ ุ ูุฌุจ ุชุดููุฑ ุงูููู ูุจู ุญูุธูุง ููู ุชุดููุฑูุง ุจุนุฏ ุงุณุชุฑุฏุงุฏูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.  ูููู ุงูููุงู ุจุฐูู ุนู ุทุฑูู ุงููุญูู ุ ูุจุงุณุชุฎุฏุงู JPA 2.2 ุ ูููููู ุชุถููู ูุงุฆู ุงูุชุดููุฑ ูู ุงููุญูู ูุชุญููู ุงููุชูุฌุฉ ุงููุฑุฌูุฉ.  ุงููุงุฆูุฉ 3 ุชูุฏู ูุซุงูุง. <br><br>  <i>ูุงุฆูุฉ 3</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Converter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CreditLimitConverter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AttributeConverter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BigDecimal</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BigDecimal</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Inject</span></span> CreditLimitEncryptor encryptor; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> BigDecimal </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertToDatabaseColumn</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BigDecimal entityValue)</span></span></span><span class="hljs-function"> </span></span>{ String encryptedFormat = encryptor.base64encode(entityValue.toString()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> BigDecimal.valueOf(Long.valueOf(encryptedFormat)); } ... }</code> </pre> <br>  ูู ูุฐุง ุงูููุฏ ุ ูุชู ุชูููุฐ ุงูุนูููุฉ ุนู <code>CreditLimitEncryptor</code> ูุฆุฉ <code>CreditLimitEncryptor</code> ูู ุงููุญูู ุซู ุงุณุชุฎุฏุงูู ูููุณุงุนุฏุฉ ูู ุงูุนูููุฉ. <br><br>  <b>ุชุฏูู ูุชุงุฆุฌ ุงูุงุณุชุนูุงู</b> <br><br>  ุงูุขู ููููู ุจุณูููุฉ ุงูุงุณุชูุงุฏุฉ ุงููุงููุฉ ูู ููุฒุงุช ุชุฏููุงุช Java SE 8 ุนูุฏ ุงูุนูู ูุน ูุชุงุฆุฌ ุงูุงุณุชุนูุงู.  ูุง ุชุนูู ุณูุงุณู ุงููุญุงุฏุซุงุช ุนูู ุชุจุณูุท ุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ูุงูุญูุงุธ ุนูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุญุณุจ ุ ุจู ุชุณุงุนุฏ ุฃูุถูุง ูู ุชุญุณูู ุฃุฏุงุก ุงูุงุณุชุนูุงู ูู ุจุนุถ ุงูููุงูู.  ุชุณุงุนุฏ ุจุนุถ ุนูููุงุช ุชูููุฐ ุณูุณูุฉ ุงููุญุงุฏุซุงุช ุฃูุถูุง ุนูู ุชุฌูุจ ุนุฏุฏ ูุจูุฑ ุฌุฏูุง ูู ุงูุทูุจุงุช ุงููุชุฒุงููุฉ ููุจูุงูุงุช ุจุดูู ููุฑุท ุ ุนูู ุงูุฑุบู ูู ุฃู ุงุณุชุฎุฏุงู ุชุฑููู ุงูุตูุญุงุช <code>ResultSet</code> ูู ุจุนุถ ุงูุญุงูุงุช ูุฏ ูุนูู ุจุดูู ุฃูุถู ูู ุงูุชุฏููุงุช. <br><br>  ูุชูููู ูุฐู ุงููุธููุฉ ุ ุชูุช ุฅุถุงูุฉ ุทุฑููุฉ <code>getResultStream()</code> ุฅูู <code>TypedQuery</code> <code>Query</code> ู <code>TypedQuery</code> .  ูุณูุญ ูุฐุง ุงูุชุบููุฑ ุงูุทููู ูู JPA ุจุฅุฑุฌุงุน ุฏูู ูู ุงููุชุงุฆุฌ ุจุฏูุงู ูู ูุงุฆูุฉ.  ูุจุงูุชุงูู ุ ุฅุฐุง ููุช ุชุนูู ูุน <code>ResultSet</code> ูุจูุฑ ุ ููู ุงูููุทูู ููุงุฑูุฉ ุงูุฃุฏุงุก ุจูู ุชูููุฐ ูุคุดุฑ ุชุฑุงุจุท ุฌุฏูุฏ ู <code>ResultSets</code> ููุชูุฑูุฑ ุฃู ุชุฑููู ุงูุตูุญุงุช.  ูุงูุณุจุจ ูู ุฃู ุนูููุงุช ุงูุชูููุฐ ููุคุดุฑ ุงูุชุฑุงุจุท ุชุณุชุฑุฏ ุฌููุน ุงูุณุฌูุงุช ูุฑุฉ ูุงุญุฏุฉ ุ ูุชุฎุฒููุง ูู ูุงุฆูุฉ ุ ุซู ุชุนูุฏูุง.  ุชุณุชุฑุฌุน <code>ResultSet</code> ููุชูุฑูุฑ ูุชูููุฉ ุชุฑููู ุงูุตูุญุงุช ุชุฌุฒุฆุฉ ุงูุจูุงูุงุช ุ ูุงูุชู ูุฏ ุชููู ุฃูุถู ููุฌููุนุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ. <br><br>  ูุฏ ููุฑุฑ ูุฒูุฏู ุงููุซุงุจุฑุฉ ุชุฌุงูุฒ ุทุฑููุฉ <code>getResultStream()</code> ุงูุฌุฏูุฏุฉ <code>getResultStream()</code> ุชุญุณูู ุงูุชูููุฐ.  ูุชุถูู ุงูุณุจุงุช ุจุงููุนู ุทุฑููุฉ stream () ุงูุชู ุชุณุชุฎุฏู <code>ResultSet</code> ููุชูุฑูุฑ ูุชุญููู ูุชุงุฆุฌ ุงูุณุฌูุงุช ุจุฏูุงู ูู ุฅุนุงุฏุชูุง ุจุงููุงูู.  ููุฐุง ูุณูุญ ููุฅุณุจุงุช ุจุงูุนูู ูุน ูุฌููุนุงุช ุงูุจูุงูุงุช ุงููุจูุฑุฉ ุฌุฏูุง ูุงูููุงู ุจุฐูู ุจุดูู ุฌูุฏ.  ูู ุงููุชููุน ุฃู ูุชุฌุงูุฒ ููุฏูู ุงูุฎุฏูุงุช ุงูุขุฎุฑูู ูุฐู ุงูุทุฑููุฉ ูุชูููุฑ ููุฒุงุช ููุงุซูุฉ ูููุฏุฉ ูู JPA. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฃุฏุงุก ุ ูุฅู ุงููุฏุฑุฉ ุนูู ุชุฏูู ุงููุชุงุฆุฌ ูู ุฅุถุงูุฉ ูุทููุฉ ุฅูู JPA ุ ูุงูุชู ุชููุฑ ุทุฑููุฉ ููุงุฆูุฉ ููุนูู ูุน ุงูุจูุงูุงุช.  ุณูู ุฃุนุฑุถ ุจุถุนุฉ ุณููุงุฑูููุงุช ุญูุซ ูุฏ ูููู ูุฐุง ูููุฏูุง ุ ููู ุงูุงุญุชูุงูุงุช ููุณูุง ูุง ุญุตุฑ ููุง.  ูู ููุง ุงูุณููุงุฑููููู ุ ุฃุณุชุนูู ุนู ููุงู <code>Job</code> ูุฃุนูุฏ ุงูุฏูู.  ุฃููุงู ุ ุงูุธุฑ ุฅูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุชุงููุฉ ุ ุญูุซ ุฃููู ุจุจุณุงุทุฉ <code>getResultStream()</code> ุชุฏูู <code>Jobs</code> ููุงุจู <code>Customer</code> ูุนูู ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุฃุณููุจ ูุงุฌูุฉ <code>Query</code> <code>getResultStream()</code> .  ุซู ุฃุณุชุฎุฏู ูุฐุง ุงูุฎูุท ูุฅุฎุฑุงุฌ ุงูุชูุงุตูู ุงููุชุนููุฉ <code>customer</code> <code>work date</code> Job'a. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findByCustomer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PoolCustomer customer)</span></span></span></span>{ Stream&lt;Job&gt; jobList = em.createQuery(<span class="hljs-string"><span class="hljs-string">"select object(o) from Job o "</span></span> + <span class="hljs-string"><span class="hljs-string">"where o.customer = :customer"</span></span>) .setParameter(<span class="hljs-string"><span class="hljs-string">"customer"</span></span>, customer) .getResultStream(); jobList.map(j -&gt; j.getCustomerId() + <span class="hljs-string"><span class="hljs-string">" ordered job "</span></span> + j.getId() + <span class="hljs-string"><span class="hljs-string">" - Starting "</span></span> + j.getWorkDate()) .forEach(jm -&gt; System.out.println(jm)); }</code> </pre> <br><br>  ูููู ุชุนุฏูู ูุฐู ุงูุทุฑููุฉ ุจุดูู ุทููู ุจุญูุซ ุชูุฑุฌุน ูุงุฆูุฉ ุงููุชุงุฆุฌ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <code>Collectors .toList()</code> ููุง ููู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Job&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findByCustomer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PoolCustomer customer)</span></span></span></span>{ Stream&lt;Job&gt; jobList = em.createQuery( <span class="hljs-string"><span class="hljs-string">"select object(o) from Job o "</span></span> + <span class="hljs-string"><span class="hljs-string">"where o.customerId = :customer"</span></span>) .setParameter(<span class="hljs-string"><span class="hljs-string">"customer"</span></span>, customer) .getResultStream(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jobList.collect(Collectors.toList()); }</code> </pre> <br>  ูู ุงูุณููุงุฑูู ุงูุชุงูู ุ ุงูููุถุญ ุฃุฏูุงู ุ ุฃุฌุฏ <code>List</code> ุจุงูููุงู ุงููุชุนููุฉ ุจุชุฌูุนุงุช ููููุฐุฌ ูุนูู.  ูู ูุฐู ุงูุญุงูุฉ ุ ุฃุนูุฏ ุฌููุน ุงูููุงู ุงููุทุงุจูุฉ ูููููุฐุฌ ุงูููุฏู ูุณูุณูุฉ.  ุนูู ุบุฑุงุฑ ุงููุซุงู ุงูุฃูู ุ ุฃููู ุฃููุงู ุจุฅุฑุฌุงุน ุฏูู ูู ุณุฌูุงุช <code>Jobs</code> .  ุจุนุฏ ุฐูู ุ ุฃููู ุจุชุตููุฉ ุงูุณุฌูุงุช ุจูุงุกู ุนูู ูููุฐุฌ ุชุฌูุน ุงูุนููุงุก.  ููุง ุชุฑู ุ ูุฅู ุงูููุฏ ุงููุงุชุฌ ุตุบูุฑ ููุบุงูุฉ ูุณูู ุงููุฑุงุกุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> List&lt;Job&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">findByCustPoolShape</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String poolShape)</span></span></span></span>{ Stream&lt;Job&gt; jobstream = em.createQuery( <span class="hljs-string"><span class="hljs-string">"select object(o) from Job o"</span></span>) .getResultStream(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jobstream.filter( c -&gt; poolShape.equals(c.getCustomerId().getPoolId().getShape())) .collect(Collectors.toList()); }</code> </pre><br>  ููุง ุฐูุฑุช ุณุงุจููุง ุ ูู ุงูููู ุชุฐูุฑ ุงูุฃุฏุงุก ูู ุงูุณููุงุฑูููุงุช ุญูุซ ูุชู ุฅุฑุฌุงุน ูููุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช.  ููุงู ุญุงูุงุช ูููู ูููุง ูุคุดุฑ ุงูุชุฑุงุจุท ุฃูุซุฑ ูุงุฆุฏุฉ ูู ุงูุงุณุชุนูุงู ุนู ููุงุนุฏ ุงูุจูุงูุงุช ุ ูููู ููุงู ุฃูุถูุง ุงูุญุงูุงุช ุงูุชู ูููู ุฃู ุชุคุฏู ุฅูู ุชุฏููุฑ ุงูุฃุฏุงุก.  ุงููุงุนุฏุฉ ุงูุฃุณุงุณูุฉ ุงูุฌูุฏุฉ ูู ุฃูู ุฅุฐุง ูุงู ูููู ุงูุงุณุชุนูุงู ุนู ุงูุจูุงูุงุช ูุฌุฒุก ูู ุงุณุชุนูุงู SQL ุ ููู ุงูููุทูู ุงูููุงู ุจุฐูู.  ูู ุจุนุถ ุงูุฃุญูุงู ุ ูุง ุชููู ูุฒุงูุง ุงุณุชุฎุฏุงู ุจูุงุก ุฌููุฉ ูุคุดุฑ ุงูุชุฑุงุจุท ุงูุฃูุถู ุงูุฃุฏุงุก ุงูุฐู ูููู ุชุญูููู ุจุงุณุชุฎุฏุงู ุชุตููุฉ SQL ุงูููุงุณูุฉ. <br><br>  <b>ุฏุนู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ</b> <br><br>  ุนูุฏูุง ุชู ุฅุตุฏุงุฑ Java SE 8 ุ ุฃุตุจุญุช ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ููููุฉ ุ ููุง ูุณูุญ ูู ุจุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ูู ุงูุฅุนูุงู.  ุชุชุทูุจ ุจุนุถ ุงูููุงูู ุงุณุชุฎุฏุงู ููุณ ุงูุชุนููู ุงูุชูุถูุญู ูู ูุตู ุฏุฑุงุณู ุฃู ุญูู ุนุฏุฉ ูุฑุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูููู ููุงู ุฃูุซุฑ ูู ุชุนููู ุชูุถูุญู <code>@SqlResultSetMapping</code> ููุฆุฉ ููุงู ูุนูู.  ูู ุงูุญุงูุงุช ุงูุชู ูุชุทูุจ ูููุง ุฏุนู ุฅุนุงุฏุฉ ุงูุชุนููู ุงูุชูุถูุญู ุ ูุฌุจ ุงุณุชุฎุฏุงู ุงูุชุนููู ุงูุชูุถูุญู ููุญุงููุฉ.  ุงูุชุนูููุงุช ุงูุชูุฑุงุฑูุฉ ุงูููุฑุฑุฉ ูุง ุชููู ููุท ูู ูุชุทูุจุงุช ุงูุชูุงู ูุฌููุนุงุช ูู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุงููุชุทุงุจูุฉ ูู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ููุญุงููุฉ ุ ูููู ูููููุง ุฃูุถูุง ุชุณููู ูุฑุงุกุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><br>  ูุนูู ูุฐุง ุนูู ุงููุญู ุงูุชุงูู: ูุฌุจ ูุถุน ุนูุงูุฉ ุนูู ุชูููุฐ ูุฆุฉ ุงูุชุนููู ุงูุชูุถูุญู ุจู <code>@Repeatable</code> meta-annotation ููุฅุดุงุฑุฉ ุฅูู ุฃูู ูููู ุงุณุชุฎุฏุงูู ุฃูุซุฑ ูู ูุฑุฉ.  ูุฃุฎุฐ ุงูุชุนููู ุงูุชูุถูุญู <code>@Repeatable</code> ููุน ูุฆุฉ ุงูุชุนููู ุงูุชูุถูุญู ููุญุงููุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ <code>NamedQuery</code> ุงูุขู <code>NamedQuery</code> ุงูุชุนููู ุงูุชูุถูุญู <code>NamedQuery</code> ุงูุชูุถูุญู <code>@Repeatable(NamedQueries.class)</code> .  ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ูุฒุงู ุงูุชุนููู ุงูุชูุถูุญู ููุญุงููุฉ ููุฏ ุงูุงุณุชุฎุฏุงู ุ ูููู ูุง ูุชุนูู ุนููู ุงูุชูููุฑ ููู ุนูุฏ ุงุณุชุฎุฏุงู ููุณ ุงูุชุนููู ุงูุชูุถูุญู ูู ุงูุฅุนูุงู ุฃู ุงููุตู ุงูุฏุฑุงุณู ุ ูุฃู <code>@Repeatable</code> ูุฐู ุงูุชูุงุตูู. <br><br>  ูุนุทู ูุซุงูุง.  ุฅุฐุง ููุช ุชุฑูุฏ ุฅุถุงูุฉ ุฃูุซุฑ ูู ุชุนููู ุชูุถูุญู <code>@NamedQuery</code> ุฅูู ูุฆุฉ ููุงู ูู JPA 2.1 ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุชุบููููุง ุฏุงุฎู ุงูุชุนููู ุงูุชูุถูุญู <code>@NamedQueries</code> ุ ููุง ูู ููุถุญ ูู ุงููุงุฆูุฉ 4. <br><br>  <i>ูุงุฆูุฉ 4</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@Table</span></span>(name = <span class="hljs-string"><span class="hljs-string">"CUSTOMER"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@XmlRootElement</span></span> <span class="hljs-meta"><span class="hljs-meta">@NamedQueries</span></span>({ <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findAll"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c"</span></span>) , <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findByCustomerId"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c "</span></span> + <span class="hljs-string"><span class="hljs-string">"WHERE c.customerId = :customerId"</span></span>) , <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findByName"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c "</span></span> + <span class="hljs-string"><span class="hljs-string">"WHERE c.name = :name"</span></span>) . . .)}) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Customer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ . . . }</code> </pre> <br>  ููุน ุฐูู ุ ูู JPA 2.2 ุ ูู ุดูุก ูุฎุชูู.  ูุธุฑูุง ูุฃู <code>@NamedQuery</code> ุนุจุงุฑุฉ ุนู ุชุนููู ุชูุถูุญู ููุฑุฑ ุ ููููู ุชุญุฏูุฏู ูู ูุฆุฉ ุงูููุงู ุฃูุซุฑ ูู ูุฑุฉ ุ ููุง ูู ููุถุญ ูู ุงููุงุฆูุฉ 5. <br><br>  <i>ูุงุฆูุฉ 5</i> <br><br><pre style=";text-align:right;direction:rtl"> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Entity</span></span> <span class="hljs-meta"><span class="hljs-meta">@Table</span></span>(name = <span class="hljs-string"><span class="hljs-string">"CUSTOMER"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@XmlRootElement</span></span> <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findAll"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findByCustomerId"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c "</span></span> + <span class="hljs-string"><span class="hljs-string">"WHERE c.customerId = :customerId"</span></span>) <span class="hljs-meta"><span class="hljs-meta">@NamedQuery</span></span>(name = <span class="hljs-string"><span class="hljs-string">"Customer.findByName"</span></span>, query = <span class="hljs-string"><span class="hljs-string">"SELECT c FROM Customer c "</span></span> + <span class="hljs-string"><span class="hljs-string">"WHERE c.name = :name"</span></span>) . . . <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Customer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Serializable</span></span></span><span class="hljs-class"> </span></span>{ . . . }</code> </pre> <br>  ูุงุฆูุฉ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ ุงูููุฑุฑุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <code>@AssociationOverride</code> </li> <li style=";text-align:right;direction:rtl"> <code>@AttributeOverride</code> </li> <li style=";text-align:right;direction:rtl"> <code>@Convert</code> </li> <li style=";text-align:right;direction:rtl"> <code>@JoinColumn</code> </li> <li style=";text-align:right;direction:rtl"> <code>@MapKeyJoinColumn</code> </li> <li style=";text-align:right;direction:rtl"> <code>@NamedEntityGraphy</code> </li> <li style=";text-align:right;direction:rtl"> <code>@NamedNativeQuery</code> </li> <li style=";text-align:right;direction:rtl"> <code>@NamedQuery</code> </li> <li style=";text-align:right;direction:rtl"> <code>@NamedStoredProcedureQuery</code> </li> <li style=";text-align:right;direction:rtl"> <code>@PersistenceContext</code> </li> <li style=";text-align:right;direction:rtl"> <code>@PersistenceUnit</code> </li> <li style=";text-align:right;direction:rtl"> <code>@PrimaryKeyJoinColumn</code> </li> <li style=";text-align:right;direction:rtl"> <code>@SecondaryTable</code> </li> <li style=";text-align:right;direction:rtl"> <code>@SqlResultSetMapping</code> </li> </ul><br>  <b>ุงูุฎูุงุตุฉ</b> <br><br>  ูุญุชูู ุงูุฅุตุฏุงุฑ JPA 2.2 ุนูู ุจุนุถ ุงูุชุบููุฑุงุช ุ ูููู ุงูุชุญุณููุงุช ุงููุถููุฉ ูุจูุฑุฉ.  ุฃุฎูุฑูุง ุ ูุชู ุชูุณูู JPA ูุน Java SE 8 ุ ููุง ูุณูุญ ูููุทูุฑูู ุจุงุณุชุฎุฏุงู ููุฒุงุช ูุซู Date and Time API ุ ูุชุฏูู ูุชุงุฆุฌ ุงูุงุณุชุนูุงู ุ ูุชูุฑุงุฑ ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ.  ูุนูู ูุฐุง ุงูุฅุตุฏุงุฑ ุฃูุถูุง ุนูู ุชุญุณูู ุชูุงุณู CDI ุนู ุทุฑูู ุฅุถุงูุฉ ุงููุฏุฑุฉ ุนูู ุชุถููู ููุงุฑุฏ CDI ูู ูุญููุงุช ุงูุณูุงุช.  JPA 2.2 ูุชุงุญ ุงูุขู ููู ุฌุฒุก ูู Java EE 8 ุ ุฃุนุชูุฏ ุฃูู ุณุชุญุจ ุงุณุชุฎุฏุงูู. <br><br>  ุงูููุงูุฉ <br><br>  ููุง ูู ุงูุญุงู ุฏุงุฆููุง ุ ูุญู ูู ุงูุชุธุงุฑ ุงูุฃุณุฆูุฉ ูุงูุชุนูููุงุช. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar423195/">https://habr.com/ru/post/ar423195/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar423185/index.html">ูุง ุชุฃููู! ูููุฏ 3D ุงูุทุจุงุนุฉ ุงูุณูุฑ</a></li>
<li><a href="../ar423187/index.html">ุงูุดูุงุฏุงุช ุงูุฃุณุงุณูุฉ ูุงููุณูุทุฉ ูุณูุทุงุช ุฅุตุฏุงุฑ ุงูุดูุงุฏุงุช ุงููุนุชูุฏุฉ ูู ุฑูุณูุง</a></li>
<li><a href="../ar423189/index.html">ุจุญุซ: ูุตู ุงูุดุฑูุงุช ุชุตุญุญ ููุงุท ุงูุถุนู ูู ุบุถูู ุดูุฑ - ููุงุฐุงุ</a></li>
<li><a href="../ar423191/index.html">ุฅุทูุงู ุนูุงุตุฑ ุงูููุตุงุช ุงูุจุญุฑูุฉ. ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar423193/index.html">ุชูููู ุฅุนูุงูุงุช ุฏูุน ุงูููุจ ุจุงุณุชุฎุฏุงู pywebpush ุฎุทูุฉ ุจุฎุทูุฉ</a></li>
<li><a href="../ar423197/index.html">LOLWUT: ุนูู ููู ูู ูุฑูู ุฏูุณูุจู</a></li>
<li><a href="../ar423203/index.html">ุณูููู ูุงุฆุฏ ุงููุฑูู ุงูุฑุงุฆุน ูุณุคููุงู ุนู ุงูุฎุฏูุฉ</a></li>
<li><a href="../ar423205/index.html">ูุดุฑูุน ุงูุชุฎุฒูู ุนูู MS SQL Server ุ ูุงูุชูุงูู ูุน 1C 7.7 ูุฃุชูุชุฉ ุงูุชุทููุฑ ูู SSDT</a></li>
<li><a href="../ar423207/index.html">ููููุฉ ุฅุฌุฑุงุก ุชุญุฏูุซ ุชููุงุฆู ูุนููู ุงูุฃูุนุงุจ ุนุจุฑ ุงูุฅูุชุฑูุช</a></li>
<li><a href="../ar423209/index.html">ูููุฐุฌ ุงููุงุชู 2ุ ูุธุฑุฉ ุนุงูุฉ ุนูู ุทุงุจุนุฉ MoonRay S100 Dental 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>