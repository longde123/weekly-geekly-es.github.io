<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💇 🙍🏾 👖 Fish Redux-用于Flutter的新Redux库 👲🏾 🤟🏼 🎠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="在2018年底，谷歌在开源社区的帮助下，发布了跨平台移动开发框架Flutter的第一个稳定版本，为移动开发者带来了一份伟大的礼物。 


 但是，在开发比单页Hello Worlds稍大的大型应用程序时，开发人员可能会遇到不确定性。 如何编写应用程序？ 该框架还很年轻，使用开源仍然没有足够的好例子，...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fish Redux-用于Flutter的新Redux库</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450586/"><p>在2018年底，谷歌在开源社区的帮助下，发布了跨平台移动开发框架Flutter的第一个稳定版本，为移动开发者带来了一份伟大的礼物。 </p><br><p> 但是，在开发比单页Hello Worlds稍大的大型应用程序时，开发人员可能会遇到不确定性。 如何编写应用程序？ 该框架还很年轻，使用开源仍然没有足够的好例子，在此基础上，有可能了解使用各种模式的利弊，了解在这种特殊情况下应该使用什么以及不应该使用什么。 </p><br><p>  Flutter与React和React Native有一定程度的相似性，从而避免了这种情况，这意味着您可以从后者的一些编程经验中学到东西。 也许正因为如此，诸如<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flutter Flux</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flutter Hooks</a> ， <a href="">MobX之类的</a>库以及几种Redux实现立即出现了。 长期以来，最受欢迎的版本是Brian Egan，名为<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flutter Redux</a> 。 </p><br><p> 但是，几个月前， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Fish Redux</a>库以阿里巴巴的名义发布了第一次提交。 在短时间内，该图书馆获得了极大的欢迎，就布赖恩星数而言，已经在第一天就实现了，而在第二天，它就比它快了两倍。 </p><a name="habracut"></a><br><p> 尽管Fish颇受欢迎，但它在文档方面存在问题，其中大部分通过一些简短示例对现有类进行了描述。 更糟的是，某些文档仅提供中文。 还有一个困难：几乎没有英语问题，因此依靠其他开发人员的经验非常困难，这非常关键，因为只有第一个预览版本才发布。 </p><br><p>那么，Fish'a版本的Brian的显着区别是什么？  Flutter Redux是一个状态管理框架。  Fish是一个以Redux为中心的应用程序框架，它是状态管理的基础。 即  Fish解决了更多任务，并且不仅限于<code>state management</code> 。 </p><br><p>  Fish Redux的主要功能之一是通过直接表达它们之间的关系将多个化简器组合成较大的化简器，而常规的Redux根本不提供这样的机会，从而迫使开发人员自行实现所有功能。 但是，让我们稍后再讨论这个减速器以及Fish Redux本身。 </p><br><h3 id="svyaz-mezhdu-reducer-effect-i-view-v-component"> 组件中Reducer，Effect和View之间的关系 </h3><br><p><img src="https://habrastorage.org/getpro/habr/post_images/62e/26a/9a0/62e26a9a0664e229a7943fd2fd946923.png" alt="图片"></p><br><p>  Fish Redux中所有组件的基础都是组件。 这是一个由三部分组成的对象：效果，还原器和视图。 值得注意的是，只有View，即  Effect和Reducer是可选的；没有它们，组件也可以工作。 该组件还具有当前状态。 <br></p><h3 id="state"> 州 </h3><br><p> 例如，以一个答题器。 假设他的状态只有一个字段-计数，这将表示最佳点击次数。 </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cloneable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerState</span></span></span><span class="hljs-class">&gt; </span></span>{ int count = <span class="hljs-number"><span class="hljs-number">0</span></span>; @<span class="hljs-keyword"><span class="hljs-keyword">override</span></span> ClickerState clone() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ClickerState() ..count = count; } }</code> </pre> <br><p> 国家必须是一成不变的。 通过实现Cloneable接口，可以轻松维护状态抗扰性。 将来，当您需要创建新状态时，只需使用<code>clone()</code>方法。 </p><br><h3 id="reducer"> 减速器 </h3><br><p> 减速器的本质是通过返回新状态来响应某些动作。 减速器不应产生任何副作用。 </p><br><p> 我们将编写一个简单的reducer，当接收到相应的Action时，counter会增加一个数字（大约低一点）。 </p><br><pre> <code class="actionscript hljs">ClickerState clickerReducer(ClickerState state, Action action) { <span class="hljs-comment"><span class="hljs-comment">//        Action,      . if (action.type == Actions.increase) { // ..       ,   ,       Count. return state.clone() ..count = state.count + action.payload; //        /payload/ count. // payload   . } // if (action.type == ...) { ... } //        . return state; }</span></span></code> </pre> <br><p> 另外，该减速器可以用以下形式编写： </p><br><pre> <code class="actionscript hljs">Reducer&lt;ClickerState&gt; buildClickerReducer() { asReducer({ Actions.increase: (state, action) =&gt; state.clone() ..count = state.count + action.payload, <span class="hljs-comment"><span class="hljs-comment">//Actions.anotherAction: ... }); }</span></span></code> </pre> <br><h3 id="action"> 动作片 </h3><br><p> 动作-FishRedux库中的一个类，包含两个字段： <br>  <code>Object type</code> -操作类型，通常是一个枚举对象 <br>  <code>dynamic payload</code> -动作参数，可选。 </p><br><p> 一个例子： </p><br><pre> <code class="actionscript hljs">enum Actions { increase } <span class="hljs-comment"><span class="hljs-comment">//     class ActionsCreate { //      static Action increase(int value) =&gt; Action(Actions.increase, payload: value); }</span></span></code> </pre> <br><h3 id="view"> 检视 </h3><br><p> 逻辑已准备就绪，将保留显示结果。  View是一个将当前状态，调度，ViewService并返回Widget作为参数的函数。 </p><br><p> 需要发送功能来发送动作：一个动作，我们之前已经描述了它的创建。 <br>  ViewService包含当前的BuildContext（来自标准flutter库），并提供用于创建依赖项的方法，但稍后会涉及它们。 </p><br><p> 一个例子： </p><br><pre> <code class="actionscript hljs">Widget clickerView(ClickerState state, Dispatch dispatch, ViewService viewService) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RaisedButton( child: Text(state.count.toString()), onPressed: () =&gt; dispatch(ActionsCreate.increase(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-comment"><span class="hljs-comment">//         ); }</span></span></code> </pre> <br><h3 id="component"> 组成部分 </h3><br><p> 我们将从所有这些组装组件： </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerState</span></span></span><span class="hljs-class">&gt; </span></span>{ ClickerComponent() : <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>( reducer: clickerReducer, view: clickerView, ); }</code> </pre> <br><p> 如您所见，在我们的示例中未使用effect，因为 没必要。 效果是必须执行所有副作用的功能。 但是，让我们提出一个案例，其中没有效果就离不开它。 例如，这可能是我们从random.org服务获得的随机数增加了。 </p><br><div class="spoiler">  <b class="spoiler_title">效果实施例</b> <div class="spoiler_text"><pre> <code class="actionscript hljs"><span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">import</span></span></span><span class="hljs-meta"> 'package:http/http.dart' as http;</span></span> <span class="hljs-comment"><span class="hljs-comment">//   http   Effect&lt;ClickerState&gt; clickerEffect() { return combineEffects({ Actions.increaseRandomly: increaseRandomly, }); } Future&lt;void&gt; increaseRandomly(Action action, Context&lt;ClickerState&gt; context) async { final response = await http.read('https://www.random.org/integers/?num=1&amp;min=1&amp;max=10&amp;col=1&amp;base=10&amp;format=plain'); //   random.org.      1  10. final value = int.parse(response); context.dispatch(ActionsCreate.increase(value)); } //   increaseRandomly enum Actions { increase, /* new */ increaseRandomly } class ActionsCreate { static Action increase(int value) =&gt; Action(Actions.increase, payload: value); static Action increaseRandomly() =&gt; const Action(Actions.increaseRandomly); // new } //  ,        . Widget clickerView(ClickerState state, Dispatch dispatch, ViewService viewService) { return Column( mainAxisSize: MainAxisSize.min, children: [ RaisedButton( //   child: Text(state.count.toString()), onPressed: () =&gt; dispatch(ActionsCreate.increase(1)) ), RaisedButton( //  child: const Text('Increase randomly'), onPressed: () =&gt; dispatch(ActionsCreate.increaseRandomly()) ), ] ); } //     class ClickerComponent extends Component&lt;ClickerState&gt; { ClickerComponent() : super( reducer: clickerReducer, view: clickerView, effect: clickerEffect() ); }</span></span></code> </pre> </div></div><br><h3 id="page"> 页数 </h3><br><p>  Component的扩展名为Page &lt;T，P&gt;。 该页面包括两个附加字段： <br>  <code>T initState(P params)</code> -返回初始状态的函数。 创建页面时将被调用。 <br>  <code>List&lt;Middleware&lt;T&gt;&gt; middleware</code> - <code>List&lt;Middleware&lt;T&gt;&gt; middleware</code>的列表-将在reducer之前调用的函数。 <br> 还有一种方法： <br>  <code>Widget buildPage(P params)</code> -将页面收集到一个有效的小部件中。 </p><br><p> 让我们创建应用程序的主页： </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Page</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">&gt; </span></span>{ MainPage(): <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>( initState: (<span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span> param) {}, view: (state, dispatch, viewService) =&gt; Container(), ); }</code> </pre> <br><p> 页面扩展了一个组件，这意味着它可以包含减速器，效果以及常规组件所具有的所有其他内容。 </p><br><p> 在该示例中，创建了一个空白页面，该页面既没有状态，也没有缩小器或效果。 我们稍后将解决此问题。 </p><br><p> 所有这一切都与Brian Egan的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Flutter Redux</a>以及Redux的其他实现形式稍有不同。 让我们继续新库的主要功能-依赖关系。 </p><br><h3 id="dependencies"> 依存关系 </h3><br><p>  Fish Redux要求您明确定义组件之间的依赖关系。 如果要在组件中使用子组件，则不仅需要编写这两个组件，还需要创建一个负责将一种状态转换为另一种状态的连接器。 假设我们要在MainPage页面中嵌入ClickerComponent。 </p><br><p> 首先，您需要将状态添加到我们的页面： </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cloneable</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainState</span></span></span><span class="hljs-class">&gt; </span></span>{ ClickerState clicker; @<span class="hljs-keyword"><span class="hljs-keyword">override</span></span> MainState clone() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MainState() ..clicker = clicker; } <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> MainState initState(<span class="hljs-keyword"><span class="hljs-keyword">dynamic</span></span> params) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MainState() ..clicker = ClickerState(); } }</code> </pre> <br><p> 现在我们可以编写连接器： </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerConnector</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConnOp</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainState</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ClickerState</span></span></span><span class="hljs-class">&gt; </span></span>{ @<span class="hljs-keyword"><span class="hljs-keyword">override</span></span> ClickerState <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>(MainState state) =&gt; state.clicker; <span class="hljs-comment"><span class="hljs-comment">//        . @override void set(MainState state, ClickerState subState) =&gt; state.clicker = subState; }</span></span></code> </pre> <br><p> 仅此而已。 一切准备就绪，可以添加我们的组件： </p><br><pre> <code class="actionscript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainPage</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Page</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainState</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">void</span></span></span><span class="hljs-class">&gt; </span></span>{ MainPage(): <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>( initState: MainState.initState, dependencies: Dependencies( slots: { <span class="hljs-string"><span class="hljs-string">'clicker'</span></span>: ClickerComponent().asDependent(ClickerConnector()), <span class="hljs-comment"><span class="hljs-comment">//    // 'clicker': ClickerComponent() + ClickerConnector(), }, ), view: (state, dispatch, viewService) { //   clicker-. final clickerWidget = viewService.buildComponent('clicker'); return Scaffold( body: Column( mainAxisAlignment: MainAxisAlignment.center, mainAxisSize: MainAxisSize.max, children: [ Center( child: clickerWidget, //   ) ], ) ); }, ); }</span></span></code> </pre> <br><p> 因此，现在您可以通过将以下代码添加到<code>main.dart</code>来构建一个完整的工作应用程序： </p><br><pre> <code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> main() =&gt; runApp(MyApp()); <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyApp</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StatefulWidget</span></span></span><span class="hljs-class"> </span></span>{ @<span class="hljs-keyword"><span class="hljs-keyword">override</span></span> _MyAppState createState() =&gt; _MyAppState(); } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyAppState</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyApp</span></span></span><span class="hljs-class">&gt; </span></span>{ @<span class="hljs-keyword"><span class="hljs-keyword">override</span></span> Widget build(BuildContext context) =&gt; MaterialApp(home: MainPage().buildPage(<span class="hljs-literal"><span class="hljs-literal">null</span></span>)); }</code> </pre> <br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">所有文件分隔的代码均可在此处获得</a> 。 在Flutter上拥有良好的开发经验。 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN450586/">https://habr.com/ru/post/zh-CN450586/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN450572/index.html">Samba DC作为Windows 2012R2 AD域中的第二个控制器以及Windows和Linux上客户端的漫游文件夹</a></li>
<li><a href="../zh-CN450574/index.html">创建一个多人.io网络游戏</a></li>
<li><a href="../zh-CN450576/index.html">Messenger匿名的新规则</a></li>
<li><a href="../zh-CN450578/index.html">广播中听到了什么？ 我们接收并解码最有趣的信号。 第2部分，甚高频</a></li>
<li><a href="../zh-CN450582/index.html">PIM原则</a></li>
<li><a href="../zh-CN450592/index.html">在德国，电动汽车的旅行费用可能会比柴油汽车的旅行费用更高</a></li>
<li><a href="../zh-CN450594/index.html">斐波那契偶数</a></li>
<li><a href="../zh-CN450596/index.html">11. Check Point入门R80.20。 威胁预防政策</a></li>
<li><a href="../zh-CN450598/index.html">关于“黄雨”和“橙色剂”</a></li>
<li><a href="../zh-CN450600/index.html">与月球另一侧的通讯-卫星中继“ Tseyutsyao”（喜bridge桥）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>