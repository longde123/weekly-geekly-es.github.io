<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòì üë©üèΩ‚Äçü§ù‚Äçüë©üèª üê¨ Experi√™ncia usando BDD üë©üèø‚Äçü§ù‚Äçüë®üèæ ü¶Å üë©üèΩ‚Äçü§ù‚Äçüë©üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="H√° cerca de sete anos, Dan North, em seu artigo, descreveu a aplica√ß√£o pr√°tica da abordagem BDD, que permite tornar o processo de desenvolvimento mais...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experi√™ncia usando BDD</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/459134/"><p><img src="https://habrastorage.org/webt/oo/ze/t3/oozet3hyz1ptfa9q11me-mgcgh4.jpeg"></p><br><p>  H√° cerca de sete anos, Dan North, em seu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo,</a> descreveu a aplica√ß√£o pr√°tica da abordagem BDD, que permite tornar o processo de desenvolvimento mais compreens√≠vel e gerenci√°vel, estabelecendo comunica√ß√µes internas.  O setor mostra cada vez mais interesse nessa metodologia todos os dias, visando a intera√ß√£o produtiva de equipes padr√£o, como ‚Äúanalytics-development-testing‚Äù. </p><br><p>  No entanto, agora apenas uma pequena parte das empresas decide usar o BDD.  Porque </p><a name="habracut"></a><br><p>  Ent√£o, vamos descobrir.  O BDD (Behavior Driven Development) √© uma metodologia flex√≠vel intimamente relacionada ao TDD (Test Driven Development - ‚ÄúDesenvolvimento atrav√©s de testes‚Äù).  Por experi√™ncia, mesmo testadores experientes geralmente n√£o v√™em a diferen√ßa entre essas metodologias.  De fato, √† primeira vista, √© dif√≠cil isolar: ambas as abordagens envolvem escrever documenta√ß√£o e testes antes do in√≠cio da fase de desenvolvimento.  E a diferen√ßa √© esta: no BDD, para descrever os testes, voc√™ precisa usar uma linguagem natural que seja compreens√≠vel para cada participante do projeto, a fim de, de fato, combinar a declara√ß√£o do problema, os testes e a documenta√ß√£o.  Em outras palavras, √© definida a DSL (linguagem espec√≠fica para o assunto) e, em seguida, √© criado um conjunto limitado de frases padr√£o que descreve o comportamento dos elementos necess√°rios.  Ent√£o, com a ajuda deles, um cen√°rio √© desenvolvido usando a nova funcionalidade, que ficar√° clara para todos. </p><br><p>  Vamos ver a diferen√ßa uma vez, e ela ficar√° aparente: </p><br><p><img src="https://habrastorage.org/webt/fg/s3/_e/fgs3_e71mp3t_ynlkbvbh-d6olw.png"></p><br><p>  Vamos tocar neste exemplo, mas primeiro, vamos olhar para toda a variedade de metodologias que atualmente s√£o de relev√¢ncia diferente de zero. </p><br><h2 id="sravnim-neskolko-metodologiy">  Compare v√°rias metodologias </h2><br><p>  O diagrama abaixo mostra uma compara√ß√£o de tr√™s abordagens: TDD, TLD (Test Last Development) e BDD: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lv/xz/st/lvxzstichnozebdmzcfl7wncxt8.png"></div><br><ul><li> Quando trabalhamos de acordo com a metodologia do BDD, as especifica√ß√µes de autoteste e desenho acompanham cada est√°gio do ciclo de desenvolvimento de software, o que garante a relev√¢ncia constante dos autotestes e da documenta√ß√£o. </li><li>  As metodologias TDD e ATDD (Teste de aceita√ß√£o) s√£o combinadas em um diagrama em um bloco, porque  escrito na fase de an√°lise.  Como mencionado acima, o TDD √© baseado em testes de grava√ß√£o antes de desenvolver a funcionalidade.  O desenvolvedor deve escrever testes para escrever a funcionalidade do teste. </li><li>  O TLD (Test Last Development) inclui testes ap√≥s a implementa√ß√£o da funcionalidade. </li><li>  O BDD √© universal e pode ser inclu√≠do em qualquer est√°gio do desenvolvimento. </li></ul><br><p>  O segundo diagrama mostra o envolvimento dos participantes no processo de desenvolvimento na escrita de scripts. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uq/b_/ao/uqb_aoyi3-7jdr651-sdk6nmmzc.png"></div><br><ul><li>  No BDD, qualquer membro da equipe pode se conectar aos testes em qualquer est√°gio, por exemplo, analista, usu√°rio comercial, desenvolvedor e testador, pois os testes s√£o claros para todos os participantes do processo. </li><li>  O BDD tamb√©m √© √∫til, pois voc√™ n√£o precisa gastar muito tempo escrevendo v√°rios tipos de documenta√ß√£o.  O esquema de desenvolvimento cl√°ssico requer, no m√≠nimo, especifica√ß√µes e scripts de teste que geralmente s√£o escritos por pessoas diferentes.  No BDD, uma especifica√ß√£o √© um caso de teste, enquanto tamb√©m √© um autoteste.  Os testadores n√£o precisam escrever documenta√ß√£o de teste separada - para eles, o analista j√° fez isso, escrevendo uma especifica√ß√£o a partir de constru√ß√µes de linguagem natural (que √© leg√≠vel e compreens√≠vel por qualquer membro da equipe). </li></ul><br><p>  Sem d√∫vida, o BDD √© uma boa ferramenta para alcan√ßar a qualidade do produto.  Testes e documenta√ß√£o s√£o gravados mais rapidamente.  Para uma empresa, um projeto se torna mais transparente, gra√ßas a constru√ß√µes de linguagem natural que s√£o compreens√≠veis para qualquer pessoa longe da programa√ß√£o. </p><br><p>  Isso √© sobre os profissionais.  No entanto, como j√° foi dito, apesar de um grande n√∫mero de vantagens, poucos implementam essa metodologia. </p><br><h2 id="bdd-vsem-horosh-no-pochemu-ego-ne-ispolzuyut">  O BDD √© bom para todos, mas por que n√£o us√°-lo? </h2><br><p>  A resposta √© simples: √© longa e cara.  A maioria das empresas de TI concorda com esta declara√ß√£o.  E a princ√≠pio n√£o fomos exce√ß√£o.  O BDD √© inconveniente, mesmo que exija o envolvimento de especialistas em testes j√° no est√°gio de elabora√ß√£o de requisitos. </p><br><p>  O BDD vira a diretriz cl√°ssica de desenvolvimento (TLD) de cabe√ßa para baixo.  √â mal implementado porque √© dif√≠cil.  O ciclo de desenvolvimento est√° se prolongando. </p><br><p>  O BDD √©, sem d√∫vida, uma maneira de obter qualidade.  Mas nem todos est√£o dispostos a pagar tempo e especialistas por essa qualidade. </p><br><p>  No entanto, o que devo fazer se ainda quiser implementar o BDD? </p><br><p>  Voc√™ pode tentar usar estruturas prontas.  Por exemplo Pepino, Squish, Yulup. </p><br><p>  O principal problema da complexidade do BDD n√£o est√° no processo, mas na implementa√ß√£o e nas ferramentas existentes.  Tome a WEB como um exemplo de desenvolvimento de um sistema de informa√ß√µes corporativas.  Tendo uma implementa√ß√£o na Web, encontramos um WebDriver, atualmente o padr√£o para automatizar aplicativos em execu√ß√£o em um navegador da Web.  Ele tem muitas oportunidades.  Para levar em considera√ß√£o v√°rias personaliza√ß√µes dos elementos da p√°gina, √© necess√°rio criar op√ß√µes para acess√°-los.  E aqui, para facilitar o desenvolvimento do teste, v√°rias bibliotecas v√™m em socorro (Selenide, etc.), que cria seu pr√≥prio ecossistema que voc√™ precisa conhecer.  Para trabalhar com o WebDriver, voc√™ precisa de um programador ou de automa√ß√£o de testadores, porque  tudo √© implementado usando c√≥digos e designs astutos. </p><br><h2 id="nachalo-raboty-s-bdd-freymvorkom---slozhno-i-dolgo">  Come√ßar com a estrutura do BDD √© dif√≠cil e demorado. </h2><br><p>  Nosso foco est√° em um instrumento chamado Gauge.  Essa √© uma estrutura flex√≠vel e leve, distribu√≠da sob uma licen√ßa gratuita.  Francamente, n√≥s realmente n√£o estudamos as alternativas, porque  O uso do Gauge foi ditado agressivamente pelo nosso cliente. </p><br><p>  No Gauge, os testes s√£o gravados em arquivos de especifica√ß√£o (arquivos com extens√£o .spec).  A especifica√ß√£o cont√©m etapas de teste escritas em linguagem natural.  Essas etapas s√£o implementadas em uma linguagem de programa√ß√£o (usamos a linguagem de programa√ß√£o Java).  Ao implementar as etapas, √© importante cumprir a Conven√ß√£o de Nomenclatura, tanto nos nomes do script quanto nos arquivos de implementa√ß√£o, e nos nomes dos m√©todos e etapas de implementa√ß√£o do script, eles devem ser completamente id√™nticos.  Uma flexibilidade adicional para esta ferramenta √© que as etapas podem ter par√¢metros. </p><br><p>  O Gauge nos permitiu usar os benef√≠cios do BDD.  No entanto, ainda encontramos problemas que s√£o a complexidade da implementa√ß√£o: os problemas das ferramentas e a implementa√ß√£o do processo. </p><br><p>  Descobriu-se que o envolvimento dos testadores em um est√°gio inicial tem um efeito ruim no resultado final.  Maior tempo para desenvolver testes.  O uso de qualquer estrutura requer grandes esfor√ßos do testador, que, sem d√∫vida, deve ter um bom dom√≠nio de programa√ß√£o.  No in√≠cio, o processo de trabalhar com o script era o seguinte: o analista contou o teste ao testador e o escritor t√©cnico anotou.  Enquanto o testador lidava com a implementa√ß√£o do software, o significado da funcionalidade testada mudou.  Isso afeta a separa√ß√£o do ponto de entrada, e deve ser um, pois o processo √© dividido e se transforma em um processo "normal", do qual eu apenas queria sair.  I.e.  o ponto de entrada foi dividido, as comunica√ß√µes se espalharam, o testador entrou de cabe√ßa na implementa√ß√£o do teste, o escritor t√©cnico entendeu √† sua maneira e o analista reescreveu suas docas e mudou de id√©ia, o desenvolvedor entrou em "seu mundo"). </p><br><p>  O testador passou muito tempo no c√≥digo.  Mas o mesmo testador ainda teve que pensar na busca por elementos na p√°gina.  A situa√ß√£o lembrava um famoso jogo infantil: "Telefone mimado".  Ocorreu um colapso.  E decidimos: o BDD funcionar√° apenas se os analistas puderem escrever testes.  √â necess√°rio reduzir a complexidade dos testes de escrita, simplific√°-los.  Mas para isso, voc√™ precisa simplificar significativamente as interfaces de teste.  Ferramentas de teste, a implementa√ß√£o do processo em conjunto com todas as abordagens e bibliotecas deve ser mais simples. </p><br><p>  O trabalho do testador a princ√≠pio ficou assim: </p><br><ol><li>  <em>Exame da documenta√ß√£o, se houver;</em> </li><li>  Elaborando uma lista de verifica√ß√£o; </li><li>  Teste ad-hoc </li><li>  Elaborar um plano de teste; </li><li>  <em>Refinamento da vis√£o de mundo do analista;</em> </li><li>  <em>Refinamento da imagem do mundo pelo desenvolvedor;</em> </li><li>  <em>Se tudo crescer junto, escrevendo a documenta√ß√£o do teste, em paralelo com o teste;</em> </li><li>  Esperando por bugs, testando bugs; </li><li>  <em>Descri√ß√£o das p√°ginas, controles, procure elementos na p√°gina usando o Web-Driver.</em>  <em>Pesquise o que j√° foi implementado no sistema de teste;</em> </li><li>  Escrevendo l√≥gica de teste; </li><li>  Lan√ßamento </li><li>  Suporte bug / Regress bug; </li><li>  <em>Atualiza√ß√£o de especifica√ß√£o;</em> </li><li>  Fix bug </li><li>  <em>Atualiza√ß√£o de autoteste, atualizando um grande n√∫mero de controles alterados;</em> </li><li>  Lan√ßamento </li><li>  ... <br>  Os itens <em>em it√°lico</em> (1, 5, 6, 7, 9, 13, 15) levam a custos de tempo.  Eles podem e devem ser otimizados. </li></ol><br><p>  Esta lista √© brevemente ilustrada no diagrama do processo de desenvolvimento: </p><br><img src="https://habrastorage.org/webt/si/7y/m8/si7ym8xktulzmpgsvtsogu-5bfe.png"><br><p>  Nossa empresa √© especializada em projetos com implementa√ß√£o na web de interfaces.  Com base nisso, usamos a ferramenta Driver da Web para interagir com o navegador. </p><br><p>  De fato, o Selenium Web Driver √© o padr√£o e √© usado para descrever objetos da Web em qualquer estrutura, incluindo as bibliotecas Gauge, jUnit, Masquerade e outras.  Ele tem muita flexibilidade para tarefas diferentes, o que cria muita trabalho em problemas do tipo local.  Precisamos encontrar uma solu√ß√£o para reduzir a complexidade. </p><br><p>  Por exemplo, vamos mostrar no diagrama como o Selenium Web Driver, a estrutura Gauge, a biblioteca Masquerade e a linguagem de programa√ß√£o Java est√£o relacionadas. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/md/ib/kimdibdn1wmo8au4ubirnrbwsta.png"></div><br><p>  Nesse esquema, em vez da estrutura do BDD, voc√™ pode colocar jUnit, TestNG ou qualquer outro, qualquer pacote funcionar√°, dependendo das necessidades.  O Selenium e o Masquerade permanecer√£o, a linguagem de programa√ß√£o pode ser alterada. </p><br><h2 id="uskorenie-processa-napisaniya-koda--podklyuchenie-masquerade">  Acelerando a Escrita de C√≥digo - Conectando Mascarada </h2><br><p>  Nossa empresa est√° desenvolvendo na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">plataforma CUBA</a> .  E especificamente para esta plataforma, foi desenvolvida uma ferramenta para autoteste: O <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Masquerade</a> √© uma biblioteca que fornece uma API concisa e conveniente para trabalhar com c√≥digo na implementa√ß√£o de testes usando o WebDriver.  Esta biblioteca funciona no Selenium Web Driver, √© amiga do selenide e de qualquer estrutura. </p><br><p>  Nos projetos CUBA, cada elemento da p√°gina da web cont√©m cuba-id, que n√£o muda.  O CUBA usa uma abordagem de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">componentes</a> , e a biblioteca Masquerade simplifica a intera√ß√£o com os elementos da p√°gina da web.  A biblioteca pode executar a√ß√µes com elementos da p√°gina da web implementados usando o CUBA de uma maneira mais simples.  Portanto, ao procurar elementos na p√°gina, voc√™ n√£o precisa usar constru√ß√µes volumosas com o XPath, como era antes: </p><br><pre><code class="plaintext hljs">$(new By.ByXPath("//*/div/div[2]/div/div[2]/div/div/div[3]/div/div/div[3).click();</code> </pre> <br><p>  Ou constru√ß√µes mais concisas em Java, que, no entanto, ainda s√£o complicadas: </p><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">click</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String cssClass, String caption)</span></span></span><span class="hljs-function"> </span></span>{ $(By.cssSelector(cssClass) .$(byText(caption)) .closest(<span class="hljs-string"><span class="hljs-string">".v-button"</span></span>) .click(); }</code> </pre> <br><p>  Ap√≥s conectar a biblioteca Masquerade, a descri√ß√£o do controle incorporado parece simples e f√°cil de acessar.  Voc√™ nem precisa procurar controles na p√°gina, porque  ele j√° tem isso no projeto.  Aqui est√° um exemplo de uma descri√ß√£o do bot√£o para o formul√°rio de autoriza√ß√£o no aplicativo: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7m/up/og/7mupog9cgkybpr5of9kctzreplg.png"></div><br><p>  No c√≥digo da p√°gina, vemos um elemento claramente reconhec√≠vel <code>cuba-id=‚ÄùloginButton‚Äù</code> </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ey/8e/v-/ey8ev-vzpxdicfy1uohlen2eahg.png"></div><br><p>  Vamos descrever o bot√£o usando a biblioteca Masquerade: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Wire</span></span>(path = {<span class="hljs-string"><span class="hljs-string">"WebHBoxLayout"</span></span>, <span class="hljs-string"><span class="hljs-string">"loginButton"</span></span>}) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button loginButton;</code> </pre> <br><p>  Uma implementa√ß√£o de teste simples na estrutura do jUnit √© um bloco de autoriza√ß√£o executado antes de cada teste: </p><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginAdm</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Tests loginTest = _$(Tests.class); loginTest.login(); }</code> </pre> <br><p>  E no corpo do m√©todo de login, o seguinte c√≥digo: </p><br><pre> <code class="java hljs">LoginWindow loginWindow = _$(LoginWindow.class); assertNotNull(loginWindow.getLoginField()); loginWindow.getLoginField() .shouldBe(EDITABLE) .shouldBe(ENABLED); loginWindow.loginField.setValue(<span class="hljs-string"><span class="hljs-string">"admin"</span></span>); loginWindow.passwordField.setValue(<span class="hljs-string"><span class="hljs-string">"admin"</span></span>); loginWindow.rememberMeCheckBox.setChecked(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); loginWindow.loginButton().click();</code> </pre> <br><p>  O mais importante √© como descrevemos a p√°gina, como nos referimos a elementos.  Descri√ß√£o da p√°gina LoginWindow: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginWindow</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Composite</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginWindow</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Wire</span></span>(path = {<span class="hljs-string"><span class="hljs-string">"loginField"</span></span>} ) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TextField loginField; <span class="hljs-meta"><span class="hljs-meta">@Wire</span></span>(path = {<span class="hljs-string"><span class="hljs-string">"passwordField"</span></span>} ) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PasswordField passwordField; <span class="hljs-meta"><span class="hljs-meta">@Wire</span></span>(path = {<span class="hljs-string"><span class="hljs-string">"rememberMeCheckBox"</span></span>} ) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> CheckBox rememberMeCheckBox; <span class="hljs-meta"><span class="hljs-meta">@Wire</span></span>(path = {<span class="hljs-string"><span class="hljs-string">"loginFormLayout"</span></span>, <span class="hljs-string"><span class="hljs-string">"loginButton"</span></span>} ) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Button loginButton; }</code> </pre> <br><p>  Encontrar itens √© apenas parte da biblioteca Masquerade.  O acesso aos elementos de uma p√°gina da web permite executar v√°rias a√ß√µes com esses elementos.  Por exemplo, voc√™ pode selecionar um item na lista suspensa: </p><br><pre> <code class="java hljs">getMaxResultsLayout().openOptionsPopup().select(<span class="hljs-string"><span class="hljs-string">"5000"</span></span>)</code> </pre> <br><p>  Ou ordene a tabela: </p><br><pre> <code class="java hljs">Table tb1 = client.getPaymentsTable(); tb1.sort(<span class="hljs-string"><span class="hljs-string">"column_year"</span></span>, Table.SortDirection.ASCENDING);</code> </pre> <br><p>  Veja as capturas de tela abaixo para obter uma lista de algumas a√ß√µes da tabela: </p><br><p><img src="https://habrastorage.org/webt/a_/yb/xi/a_ybxiqn6tnamitezd8ytoeu5tq.png"></p><br><p><img src="https://habrastorage.org/webt/zj/n8/0l/zjn80lwr-gurcycna9onk9bhgxk.png"></p><br><p><img src="https://habrastorage.org/webt/ui/gz/6i/uigz6imouut0epktbr8vsmunlj4.png"></p><br><p>  O uso do Masquerade simplificou bastante a grava√ß√£o de testes. Agora, para escrever um teste para novas funcionalidades, voc√™ precisa: </p><br><ol><li>  Usar o Masquerade para descrever uma p√°gina √© f√°cil e n√£o requer habilidades especiais de programa√ß√£o. </li><li>  Colete em uma classe todas as p√°ginas usadas ao verificar a funcionalidade. </li><li>  Nas constru√ß√µes prontas da linguagem natural, colete um script de teste (substituindo os nomes dos elementos necess√°rios), ou seja, escreva uma especifica√ß√£o do Gauge. </li></ol><br><h2 id="integriruem-masquerade-i-gauge">  Integrando Masquerade e Gauge </h2><br><p>  Antes de usar o BDD, a abordagem de DPN era usada e, para trabalhar com ela, tamb√©m otimizamos o processo de escrever o c√≥digo do teste.  Pacotes jUnit / TestNG + WebDriver + Selenide + Masquerade usados. </p><br><p>  Agora, para trabalhar com o Gauge, adicionamos o plug-in correspondente ao intellij IDEA.  Depois disso, ser√° poss√≠vel criar um novo tipo de teste - Especifica√ß√£o. </p><br><p>  Agora criamos a especifica√ß√£o (script) e implementamos as etapas usando os recursos do WebDriver, Masquerade e Java. </p><br><p><img src="https://habrastorage.org/webt/en/7c/sk/en7cskb3yo2k5cbwcnp_alqlfyq.png"></p><br><p>  Clicamos na etapa do script e vamos para a implementa√ß√£o: </p><br><p><img src="https://habrastorage.org/webt/lh/rx/zq/lhrxzqa-9gsnfzbson9w4hqndce.png"></p><br><p>  Na implementa√ß√£o, voc√™ pode usar o m√©todo login () existente. </p><br><h2 id="kak-zhe-vyglyadit-eto-sovershenstvo">  Como √© essa perfei√ß√£o? </h2><br><p>  Lembre-se do exemplo que examinamos no in√≠cio do artigo: </p><br><p><img src="https://habrastorage.org/webt/fg/s3/_e/fgs3_e71mp3t_ynlkbvbh-d6olw.png"></p><br><p>  <code>"Navigation.openMenu(menu)‚Äù</code> cont√©m a implementa√ß√£o da abertura de um menu usando a biblioteca Masquerade. </p><br><p>  A biblioteca foi posteriormente expandida e surgiram etapas universais que poderiam ser usadas para qualquer aplicativo CUBA.  Estas s√£o as etapas que permitem trabalhar com elementos do programa: bot√µes, campos, tabelas.  Essas etapas universais se tornaram o conjunto de frases padr√£o que usamos no BDD para escrever scripts. </p><br><p>  Gra√ßas ao Masquerade + Gauge, reduzimos significativamente a complexidade da cria√ß√£o de testes.  Agora os testes podem ser escritos por pessoas que n√£o possuem habilidades especiais de programa√ß√£o.  Um teste pode ser escrito por uma pessoa (antes, um script era inventado por uma, mas implementado por outra, o que gerava confus√£o).  Portanto, atingimos nosso objetivo - as interfaces s√£o simplificadas e n√£o ser√° dif√≠cil para os analistas escrever scripts de teste. </p><br><p>  As altera√ß√µes do processo s√£o mostradas abaixo: </p><br><h6 id="bylo">  Foi: </h6><br><p><img src="https://habrastorage.org/webt/si/7y/m8/si7ym8xktulzmpgsvtsogu-5bfe.png" alt="Was"></p><br><h6 id="stalo">  Tornou-se: </h6><br><p><img src="https://habrastorage.org/webt/7d/vv/-a/7dvv-awtowdnlwwhifgz7_njoac.png" alt="Tornou-se"></p><br><p>  Em compara√ß√£o, observa-se que os requisitos, a especifica√ß√£o e a documenta√ß√£o do teste s√£o combinados em um par√°grafo.  A documenta√ß√£o de teste tamb√©m √© um autoteste, com exce√ß√£o da implementa√ß√£o de etapas de teste espec√≠ficas. </p><br><h2 id="itogi">  Sum√°rio </h2><br><p>  No momento, estamos desenvolvendo com sucesso de acordo com o esquema indicado acima.  E conseguimos nos livrar do principal problema do BDD - um aumento s√©rio em termos devido √† complexidade da implementa√ß√£o, adicionando e finalizando o kit de ferramentas.  No entanto, a qualidade da entrega do produto melhorou. </p><br><p>  O tempo necess√°rio para manter a documenta√ß√£o √© reduzido proporcionalmente ao n√∫mero de especifica√ß√µes alteradas, porque  uma altera√ß√£o na especifica√ß√£o (l√≥gica do sistema) leva automaticamente a uma altera√ß√£o no autoteste em uma itera√ß√£o.  I.e.  o testador n√£o precisa entrar no sistema de documenta√ß√£o (como Confluence etc.) para obter uma atualiza√ß√£o, e isso tamb√©m √© v√°lido para outros membros da equipe. </p><br><p>  O tempo para implementar e dar suporte a testes na presen√ßa de uma biblioteca que simplifica o trabalho com objetos de p√°gina foi reduzido pela metade em compara√ß√£o ao trabalho com o driver da web limpo usual e o custo de refazer os links do XP. </p><br><p>  No desenvolvimento de qualquer solu√ß√£o comercial e no gerenciamento da qualidade - o custo de eliminar erros na coleta de requisitos e an√°lises est√° crescendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exponencialmente</a> .  Assim, a probabilidade de problemas associados ao retrabalho do produto, de acordo com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos</a> e cronogramas existentes no desenvolvimento iterativo, com a detec√ß√£o precoce de um problema, que √© um bom estudo dos requisitos, reduz significativamente o custo de desenvolvimento, dependendo do projeto.  Pode ser 0% e ~ 40%.  √â essa melhoria que √© alcan√ßada atrav√©s da introdu√ß√£o do BDD.  Isso pode ser implementado sem chamar a palavra BDD, mas existe no BDD.  Ser capaz de contornar problemas √© uma parte importante da garantia da qualidade. </p><br><p>  Concluindo, gostaria de observar que esse esquema de desenvolvimento tamb√©m est√° integrado √† Integra√ß√£o Cont√≠nua e ao sistema de gerenciamento de teste de QA Lens desenvolvido em nossa empresa.  No QA Lens, voc√™ pode escrever os mesmos scripts que no IDEA usando uma linguagem orientada ao assunto.  Esse idioma consiste em um gloss√°rio compilado anteriormente de a√ß√µes dispon√≠veis que foram implementadas anteriormente.  Ao executar um autoteste no Gauge a partir da m√°quina de um desenvolvedor ou IC, o QA Lens anota automaticamente quais etapas do script foram conclu√≠das e quais n√£o.  Assim, ap√≥s executar um autoteste de um script escrito por um analista, o departamento de testes recebe imediatamente informa√ß√µes completas e atualizadas sobre o estado do produto. </p><br><p>  Autores: Sunagatov Ildar e Yushkova Julia ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Yushkova</a> ) <br></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt459134/">https://habr.com/ru/post/pt459134/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt459120/index.html">Computadores modulares incorporados da s√©rie UNO-1000/2000</a></li>
<li><a href="../pt459122/index.html">Aleksey Savvateev: Pr√™mio Nobel de Jean Tyrol por analisar mercados imperfeitos (2014) e reputa√ß√£o coletiva</a></li>
<li><a href="../pt459126/index.html">Tanque de rob√¥ Raspberry Pi com bast√£o de computador Intel Neural 2</a></li>
<li><a href="../pt459128/index.html">Interfaces japonesas no mundo real</a></li>
<li><a href="../pt459130/index.html">Manipula√ß√£o suave de erros em microsservi√ßos</a></li>
<li><a href="../pt459136/index.html">P√≠lula azul falsa</a></li>
<li><a href="../pt459138/index.html">Como a chave secreta da Huawei entrou no firmware dos roteadores Cisco</a></li>
<li><a href="../pt459140/index.html">Coloca√ß√£o do implante: como isso √© feito?</a></li>
<li><a href="../pt459142/index.html">Construindo um gr√°fico de linha de m√©dia m√≥vel animado em R. Recuperando dados atrav√©s da API da NBA</a></li>
<li><a href="../pt459144/index.html">Frontend Weekly Digest (1 a 7 de julho de 2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>