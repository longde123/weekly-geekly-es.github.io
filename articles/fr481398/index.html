<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìì üõí üñ≤Ô∏è Commandes Linux de base pour les testeurs et plus üßúüèª üë®üèª‚Äçüíª üö†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©face 
 Bonjour √† tous! Je m'appelle Sasha et je teste le backend (services Linux et API) depuis plus de six ans. La pens√©e de l'article m'est venue...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Commandes Linux de base pour les testeurs et plus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481398/"><h1>  Pr√©face </h1><br>  Bonjour √† tous!  Je m'appelle Sasha et je teste le backend (services Linux et API) depuis plus de six ans.  La pens√©e de l'article m'est venue apr√®s la prochaine demande d'un testeur familier pour lui dire ce qui peut √™tre lu sur les commandes Linux avant l'interview.  Habituellement, un candidat au poste d'ing√©nieur QA doit conna√Ætre les commandes de base (si, bien s√ªr, cela signifie travailler avec Linux), mais comment comprenez-vous les commandes √† lire lors de la pr√©paration d'un entretien si vous avez peu ou pas d'exp√©rience Linux? <br><br>  Par cons√©quent, bien qu'il ait d√©j√† √©t√© √©crit √† ce sujet √† plusieurs reprises, j'ai quand m√™me d√©cid√© d'√©crire un autre article ¬´Linux pour les d√©butants¬ª et de lister ici les commandes de base que vous devez conna√Ætre avant toute interview dans le d√©partement (ou l'entreprise) o√π ils utilisent Linux.  J'ai pens√© aux commandes et aux utilitaires et aux param√®tres que j'utilise le plus souvent, j'ai recueilli les commentaires de mes coll√®gues et je les ai regroup√©s dans un seul article.  L'article est conditionnellement divis√© en 3 parties: d'abord, de br√®ves informations sur les bases des E / S dans le terminal Linux, puis une vue d'ensemble des commandes les plus √©l√©mentaires, et la troisi√®me partie d√©crit la solution des probl√®mes typiques sous Linux. <br><a name="habracut"></a><br><blockquote>  Chaque √©quipe a de nombreuses options, elles ne seront pas toutes r√©pertori√©es ici.  Vous pouvez toujours entrer ¬´ <i>man &lt;command&gt;</i> ¬ª ou ¬´ <i>&lt;command&gt; --help¬ª</i> pour en savoir plus sur la commande. <br><br>  Un exemple: <br><br><pre><code class="plaintext hljs">[user@testhost ~]$ mkdir --help Usage: mkdir [OPTION]... DIRECTORY... Create the DIRECTORY(ies), if they do not already exist. Mandatory arguments to long options are mandatory for short options too.   -m, --mode=MODE  set file mode (as in chmod), not a=rwx - umask   -p, --parents   no error if existing, make parent directories as needed   -v, --verbose   print a message for each created directory   -Z          set SELinux security context of each created directory                          to the default type       --context[=CTX] like -Z, or if CTX is specified then set the SELinux                          or SMACK security context to CTX       --help   display this help and exit       --version output version information and exit GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt; For complete documentation, run: info coreutils 'mkdir invocation'</code> </pre> <br></blockquote><br><blockquote>  Si une commande met trop de temps √† se terminer, elle peut √™tre termin√©e en appuyant sur <i>Ctrl + C</i> dans la console (un signal <i>SIGINT</i> est envoy√© au processus). <br></blockquote><h1>  Un peu sur la sortie de commande </h1><br>  Lorsqu'un processus d√©marre sur Linux, 3 flux de donn√©es standard pour ce processus sont cr√©√©s: <i>stdin</i> , <i>stdout</i> et <i>stderr</i> .  Ils sont num√©rot√©s respectivement 0, 1 et 2.  Mais nous nous int√©ressons maintenant √† <i>stdout</i> et, dans une moindre mesure, √† <i>stderr</i> .  D'apr√®s les noms, il est facile de deviner que <i>stdout est</i> utilis√© pour g√©n√©rer des donn√©es et <i>stderr</i> est utilis√© pour afficher des messages d'erreur.  Par d√©faut, lors de l'ex√©cution d'une commande sous Linux, <i>stdout</i> et <i>stderr</i> impriment toutes les informations sur la console, cependant, si la sortie de la commande est volumineuse, il peut √™tre pratique de la rediriger vers un fichier.  Cela peut √™tre fait, par exemple, comme ceci: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ man signal &gt; man_signal</code> </pre><br>  Si nous <i>imprimons</i> le contenu du fichier <i>man_signal</i> , nous verrons qu'il est identique √† ce qu'il serait si nous ex√©cutions simplement la commande ` <i>man signal`</i> . <br><br>  L'op√©ration de redirection ` <i>&gt;</i> ` utilise <i>stdout</i> par d√©faut.  Vous pouvez sp√©cifier explicitement la redirection <i>stdout</i> : ` <i>1&gt;</i> `.  De m√™me, vous pouvez sp√©cifier la redirection <i>stderr</i> : ` <i>2&gt;</i> `.  Vous pouvez combiner ces op√©rations et ainsi s√©parer la sortie normale de la commande et la sortie des messages d'erreur: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ man signal 1&gt; man_signal 2&gt; man_signal_error_log</code> </pre><br>  Vous pouvez rediriger <i>stdout</i> et <i>stderr</i> vers un seul fichier comme suit: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ man signal &gt; man_signal 2&gt;&amp;1</code> </pre><br>  L'op√©ration de redirection ¬´ <i>2&gt; &amp;</i> 1¬ª signifie rediriger <i>stderr</i> vers o√π <i>stdout est</i> dirig√©. <br><br>  Un autre outil pratique pour travailler avec les E / S (ou plut√¥t, c'est un moyen pratique de communication interprocessus) est le <i>tuyau</i> (ou un <i>pipeline</i> ).  Les pipelines sont souvent utilis√©s pour lier plusieurs commandes: la commande <i>stdout est</i> redirig√©e vers <i>stdin comme</i> suit, et ainsi de suite dans la cha√Æne: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps aux | grep docker | tail -n 2 root   1045894 0.0 0.0 7512 3704 ?    Sl 16:04 0:00 docker-containerd-shim -namespace moby -workdir /var/lib/docker/containerd/daemon/io.containerd.runtime.v1.linux/moby/2fbfddaf91c1bb7b9a0a6f788f3505dd7266f1139ad381d5b51ec1f47e1e7b28 -address /var/run/docker/containerd/docker-containerd.sock -containerd-binary /usr/bin/docker-containerd -runtime-root /var/run/docker/runtime-runc 531   1048313 0.0 0.0 110520 2084 pts/2  S+ 16:12 0:00 grep --color=auto docker</code> </pre><br><h1>  Commandes Linux de base </h1><br><h2>  pwd </h2><br>  Imprime le r√©pertoire courant (de travail). <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ pwd /home/user</code> </pre><br><h2>  date </h2><br>  Imprimez la date et l'heure actuelles du syst√®me. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ date Mon Dec 16 13:37:07 UTC 2019 [user@testhost ~]$ date +%s 1576503430</code> </pre><br><h2>  w </h2><br>  Cette commande indique qui est connect√© au syst√®me.  De plus, le temps de disponibilit√© et LA (moyenne de charge) sont √©galement affich√©s. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ w 05:47:17 up 377 days, 17:57, 1 user, load average: 0,00, 0,01, 0,05 USER   TTY FROM       LOGIN@ IDLE JCPU PCPU WHAT user   pts/0 32.175.94.241  05:47 2.00s 0.01s 0.00sw</code> </pre><br><h2>  ls </h2><br>  Imprimez le contenu du r√©pertoire.  Si vous ne passez pas le chemin, le contenu du r√©pertoire actuel sera affich√©. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ pwd /home/user [user@testhost ~]$ ls qqq [user@testhost ~]$ ls /home/user qqq [user@testhost ~]$ ls / bin boot cgroup dev etc home lib lib64 local lost+found media mnt opt proc root run sbin selinux srv swap sys tmp usr var</code> </pre><br>  Personnellement, j'utilise souvent les options <i>-l</i> (format de liste longue - sortie vers une colonne avec des informations suppl√©mentaires sur les fichiers), <i>-t</i> (tri par heure de modification de fichier / r√©pertoire) et <i>-r</i> (tri invers√© - en combinaison avec <i>-t les</i> fichiers <i>les</i> plus "frais") sera ci-dessous): <br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -ltr / total 4194416 drwxr-xr-x  2 root root   4096 Jan 6 2012 srv drwxr-xr-x  2 root root   4096 Jan 6 2012 selinux drwxr-xr-x  2 root root   4096 Jan 6 2012 mnt drwxr-xr-x  2 root root   4096 Jan 6 2012 media drwx------  2 root root  16384 Oct 1 2017 lost+found drwxr-xr-x  2 root root   4096 Oct 1 2017 local drwxr-xr-x  13 root root    4096 Oct 1 2017 usr drwxr-xr-x  11 root root    4096 Apr 10 2018 cgroup drwxr-xr-x  4 root root   4096 Apr 10 2018 run -rw-------  1 root root 4294967296 Sep 10 2018 swap dr-xr-xr-x  10 root root    4096 Dec 13 2018 lib drwxr-xr-x  6 root root   4096 Mar 7 2019 opt drwxr-xr-x  20 root root    4096 Mar 19 2019 var dr-xr-xr-x  10 root root   12288 Apr 9 2019 lib64 dr-xr-xr-x  2 root root   4096 Apr 9 2019 bin dr-xr-xr-x  4 root root   4096 Apr 9 2019 boot dr-xr-xr-x  2 root root  12288 Apr 9 2019 sbin dr-xr-xr-x 3229 root root     0 Jul 2 10:19 proc drwxr-xr-x  34 root root    4096 Oct 28 13:27 home drwxr-xr-x  93 root root    4096 Oct 30 16:00 etc dr-xr-x---  11 root root    4096 Nov 1 13:02 root dr-xr-xr-x  13 root root     0 Nov 13 20:28 sys drwxr-xr-x  16 root root    2740 Nov 26 08:55 dev drwxrwxrwt  3 root root   4096 Nov 26 08:57 tmp</code> </pre><br>  Il existe 2 noms de r√©pertoire sp√©ciaux: " <i>.</i> " Et " <i>..</i> ".  Le premier est le r√©pertoire courant, le second est le r√©pertoire parent.  Ils peuvent √™tre facilement utilis√©s dans diverses commandes, en particulier <i>ls</i> : <br><br><pre> <code class="plaintext hljs">[user@testhost home]$ pwd /home [user@testhost home]$ ls .. bin boot cgroup dev etc home lib lib64 local lost+found media mnt opt proc root run sbin selinux srv swap sys tmp usr var [user@testhost home]$ ls ../home/user/ qqq</code> </pre><br>  Il existe √©galement une option utile pour afficher les fichiers cach√©s (commencez par " <i>.</i> ") - <i>-a</i> : <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -a . .. 1 .bash_history .bash_logout .bash_profile .bashrc .lesshst man_signal man_signal_error_log .mongorc.js .ssh temp test .viminfo</code> </pre><br>  Et vous pouvez √©galement utiliser l'option <i>-h</i> - sortie au format lisible par l'homme (attention aux tailles de fichiers): <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -ltrh total 16K -rwxrwx--x 1 user user 31 Nov 26 11:09 temp -rw-rw-r-- 1 user user 6.0K Dec 3 16:02 1 drwxrwxr-x 2 user user 4.0K Dec 4 10:39 test</code> </pre><br><h2>  cd </h2><br>  Changer le r√©pertoire actuel. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ pwd /home/user [user@testhost ~]$ cd /home/ [user@testhost home]$ pwd /home</code> </pre><br>  Si vous ne passez pas le nom du r√©pertoire comme argument, la variable d'environnement <i>$ HOME</i> , c'est-√†-dire le r√©pertoire personnel, sera utilis√©e.  Il peut √©galement √™tre pratique d'utiliser ` <i>~</i> `, un caract√®re sp√©cial signifiant <i>$ HOME</i> : <br><br><pre> <code class="plaintext hljs">[user@testhost etc]$ pwd /etc [user@testhost etc]$ cd ~/test/ [user@testhost test]$ pwd /home/user/test</code> </pre><br><h2>  mkdir </h2><br>  Cr√©ez un r√©pertoire. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ mkdir test [user@testhost ~]$ ls -ltr total 38184 -rw-rw-r-- 1 user user 39091284 Nov 22 14:14 qqq drwxrwxr-x 2 user user   4096 Nov 26 10:29 test</code> </pre><br>  Parfois, vous devez cr√©er une structure de r√©pertoires sp√©cifique: par exemple, un r√©pertoire dans un r√©pertoire qui n'existe pas.  Afin de ne pas entrer <i>mkdir</i> plusieurs fois de suite, vous pouvez utiliser l'option <i>-p</i> - elle vous permet de cr√©er tous les r√©pertoires manquants dans la hi√©rarchie.  De plus, avec cette option, <i>mkdir</i> ne retournera pas d'erreur si le r√©pertoire existe. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls qqq test [user@testhost ~]$ mkdir test2/subtest mkdir: cannot create directory 'test2/subtest': No such file or directory [user@testhost ~]$ mkdir -p test2/subtest [user@testhost ~]$ ls qqq test test2 [user@testhost ~]$ ls test2/ subtest [user@testhost ~]$ mkdir test2/subtest mkdir: cannot create directory 'test2/subtest': File exists [user@testhost ~]$ mkdir -p test2/subtest [user@testhost ~]$ ls test2/ subtest</code> </pre><br><h2>  rm </h2><br>  Supprimer le fichier. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls qqq test test2 [user@testhost ~]$ rm qqq [user@testhost ~]$ ls test test2</code> </pre><br>  L'option <i>-r</i> vous permet de supprimer r√©cursivement les r√©pertoires avec tout leur contenu, l'option <i>-f</i> vous permet d'ignorer les erreurs lors de la suppression (par exemple, un fichier qui n'existe pas).  Ces options permettent, en gros, de garantir la suppression de toute la hi√©rarchie des fichiers et r√©pertoires (si l'utilisateur en a les droits), par cons√©quent, elles doivent √™tre utilis√©es avec prudence (l'exemple de plaisanterie classique est " <i>rm -rf /</i> ", dans certaines circonstances, il supprimera si pas l'ensemble du syst√®me, il y a beaucoup de fichiers importants pour ses performances). <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls test test2 [user@testhost ~]$ ls -ltr test2/ total 4 -rw-rw-r-- 1 user user  0 Nov 26 10:40 temp drwxrwxr-x 2 user user 4096 Nov 26 10:40 temp_dir [user@testhost ~]$ rm -rf test2 [user@testhost ~]$ ls test</code> </pre><br><h2>  cp </h2><br>  Copiez un fichier ou un r√©pertoire. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls temp test [user@testhost ~]$ cp temp temp_clone [user@testhost ~]$ ls temp temp_clone test</code> </pre><br>  Cette commande poss√®de √©galement les options <i>-r</i> et <i>-f</i> ; elles peuvent √™tre utilis√©es pour garantir que la hi√©rarchie des r√©pertoires et des dossiers sera copi√©e vers un autre emplacement. <br><br><h2>  mv </h2><br>  D√©placez ou renommez un fichier ou un r√©pertoire. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -ltr total 4 drwxrwxr-x 2 user user 4096 Nov 26 10:29 test -rw-rw-r-- 1 user user  0 Nov 26 10:45 temp -rw-rw-r-- 1 user user  0 Nov 26 10:46 temp_clone [user@testhost ~]$ ls test [user@testhost ~]$ mv test test_renamed [user@testhost ~]$ mv temp_clone test_renamed/ [user@testhost ~]$ ls temp test_renamed [user@testhost ~]$ ls test_renamed/ temp_clone</code> </pre><br><h2>  chat </h2><br>  Imprimez le contenu du ou des fichiers. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ cat temp Content of a file. Lalalala...</code> </pre><br>  Il convient √©galement de pr√™ter attention aux commandes <i>head</i> (imprimer les <i>n</i> premi√®res lignes ou octets du fichier) et <i>tail</i> (plus √† ce sujet plus tard). <br><br><h2>  queue </h2><br>  Affiche <i>n</i> derni√®res lignes ou octets du fichier. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ tail -1 temp Lalalala...</code> </pre><br>  L'option <i>-f</i> est tr√®s utile - elle vous permet de sortir de nouvelles donn√©es dans un fichier en temps r√©el. <br><br><h2>  moins </h2><br>  Parfois, le fichier texte est trop volumineux et il n'est pas pratique de l'afficher avec la <i>commande cat</i> .  Ensuite, vous pouvez l'ouvrir avec la commande <i>less</i> : le fichier sera affich√© dans les parties, la navigation est disponible dans ces parties, la recherche et d'autres fonctionnalit√©s simples. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ less temp</code> </pre><br>  Il peut √©galement √™tre pratique d'utiliser <i>moins</i> avec un <i>tuyau</i> : <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ grep "ERROR" /tmp/some.log | less</code> </pre><br><h2>  ps </h2><br>  Lister les processus. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps    PID TTY     TIME CMD 761020 pts/2  00:00:00 bash 809720 pts/2  00:00:00 ps</code> </pre><br>  J'utilise moi-m√™me habituellement les options BSD " <i>aux</i> " - pour lister tous les processus du syst√®me (car il peut y avoir de nombreux processus, je n'ai imprim√© que les 5 premiers en utilisant le pipeline et la commande <i>head</i> ): <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps aux | head -5 USER     PID %CPU %MEM  VSZ RSS TTY  STAT START TIME COMMAND root      1 0.0 0.0 19692 2600 ? Ss Jul02  0:10 /sbin/init root      2 0.0 0.0  0 0 ? S  Jul02 0:03 [kthreadd] root      4 0.0 0.0  0 0 ? I&lt;  Jul02 0:00 [kworker/0:0H] root      6 0.0 0.0  0 0 ? I&lt;  Jul02 0:00 [mm_percpu_wq]</code> </pre><br>  Beaucoup utilisent √©galement les options " <i>axjf</i> " de BSD, qui vous permettent d'afficher l'arborescence des processus (ici j'ai supprim√© une partie de la sortie pour la d√©monstration): <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps axjf   PPID   PID PGID   SID TTY TPGID STAT  UID TIME COMMAND      0    2 0    0 ? -1 S    0 0:03 [kthreadd]      2    4 0    0 ? -1 I&lt;    0 0:00 \_ [kworker/0:0H]      2    6 0    0 ? -1 I&lt;    0 0:00 \_ [mm_percpu_wq]      2    7 0    0 ? -1 S    0 4:08 \_ [ksoftirqd/0] ... ... ...      1  4293  4293 4293 tty6    4293 Ss+ 0 0:00 /sbin/mingetty /dev/tty6      1 532967 532964 532964 ?       -1 Sl 495 0:00 /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid 532967 532970 532964 532964 ?   -1 Sl 495 803:06 \_ /opt/td-agent/embedded/bin/ruby /usr/sbin/td-agent --log /var/log/td-agent/td-agent.log --use-v1-config --group td-agent --daemon /var/run/td-agent/td-agent.pid      1 537162 533357 532322 ?       -1 Sl 0 5067:43 /usr/bin/dockerd --default-ulimit nofile=262144:262144 --dns=172.17.0.1 537162 537177 537177 537177 ?   -1 Ssl 0 4649:28 \_ docker-containerd --config /var/run/docker/containerd/containerd.toml 537177 537579 537579 537177 ?   -1 Sl 0 4:48 |  \_ docker-containerd-shim -namespace moby -workdir /var/lib/docker/containerd/daemon/io.containerd.runtime.v1.linux/moby/0ee89b20deb3cf08648cd92e1f3e3c661ccffef7a0971 537579 537642 537642 537642 ?   -1 Ss 1000 32:11 |  | \_ /usr/bin/python /usr/bin/supervisord -c /etc/supervisord/api.conf 537642 539764 539764 537642 ?   -1 S 1000 0:00 |  | \_ sh -c echo "READY"; while read -r line; do echo "$line"; supervisorctl shutdown; done 537642 539767 539767 537642 ?   -1 S 1000 5:09 |  | \_ php-fpm: master process (/etc/php73/php-fpm.conf) 539767 783097 539767 537642 ?   -1 S 1000 0:00 |  | | \_ php-fpm: pool test 539767 783131 539767 537642 ?   -1 S 1000 0:00 |  | | \_ php-fpm: pool test 539767 783185 539767 537642 ?   -1 S 1000 0:00 |  | | \_ php-fpm: pool test ... ... ...</code> </pre><br>  Cette commande a de nombreuses options diff√©rentes, donc avec une utilisation active, je vous recommande de vous familiariser avec la documentation.  Dans la plupart des cas, il suffit de conna√Ætre " <i>ps aux</i> ". <br><br><h2>  tuer </h2><br>  Envoyez un signal au processus.  Par d√©faut, un signal <i>SIGTERM</i> est <i>envoy√©</i> , ce qui met fin au processus. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps ux USER     PID %CPU %MEM  VSZ RSS TTY  STAT START TIME COMMAND 531   1027147 0.0 0.0 119956 4260 ?    S 14:51 0:00 sshd: user@pts/1 531   1027149 0.0 0.0 115408 3396 pts/1  Ss 14:51 0:00 -bash 531   1027170 0.0 0.0 119956 4136 ?    R 14:51 0:00 sshd: user@pts/2 531   1027180 0.0 0.0 115408 3564 pts/2  Ss 14:51 0:00 -bash 531   1033727 0.0 0.0 107960 708 pts/1  S+ 15:17 0:00 sleep 300 531   1033752 0.0 0.0 117264 2604 pts/2  R+ 15:17 0:00 ps ux [user@testhost ~]$ kill 1033727 [user@testhost ~]$ ps ux USER     PID %CPU %MEM  VSZ RSS TTY  STAT START TIME COMMAND 531   1027147 0.0 0.0 119956 4260 ?    S 14:51 0:00 sshd: user@pts/1 531   1027149 0.0 0.0 115408 3396 pts/1  Ss+ 14:51 0:00 -bash 531   1027170 0.0 0.0 119956 4136 ?    R 14:51 0:00 sshd: user@pts/2 531   1027180 0.0 0.0 115408 3564 pts/2  Ss 14:51 0:00 -bash 531   1033808 0.0 0.0 117268 2492 pts/2  R+ 15:17 0:00 ps ux</code> </pre><br>  Puisqu'un processus peut avoir des gestionnaires de signaux, <i>kill</i> ne m√®ne pas toujours au r√©sultat attendu - une interruption instantan√©e du processus.  Pour ¬´tuer¬ª un processus √† coup s√ªr, vous devez envoyer un signal <i>SIGKILL</i> au processus.  Cependant, cela peut entra√Æner une perte de donn√©es (par exemple, si le processus doit enregistrer certaines informations sur le disque avant de se terminer), vous devez donc utiliser cette commande avec pr√©caution.  Le num√©ro de signal de <i>SIGKILL</i> est 9, donc la version courte de la commande ressemble √† ceci: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps ux | grep sleep 531   1034930 0.0 0.0 107960 636 pts/1  S+ 15:21 0:00 sleep 300 531   1034953 0.0 0.0 110516 2104 pts/2  S+ 15:21 0:00 grep --color=auto sleep [user@testhost ~]$ kill -9 1034930 [user@testhost ~]$ ps ux | grep sleep 531   1035004 0.0 0.0 110516 2092 pts/2  S+ 15:22 0:00 grep --color=auto sleep</code> </pre><br>  En plus des <i>SIGTERM</i> et <i>SIGKILL</i> mentionn√©s <i>,</i> il existe de nombreux signaux diff√©rents, leur liste peut √™tre facilement trouv√©e sur Internet.  Et n'oubliez pas que les signaux <i>SIGKILL</i> et <i>SIGSTOP</i> ne peuvent pas √™tre intercept√©s ou ignor√©s. <br><br><h2>  ping </h2><br>  Envoyez le paquet <i>ECHO_REQUEST</i> √† l'h√¥te ICMP. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ping google.com PING google.com (172.217.15.78) 56(84) bytes of data. 64 bytes from iad23s63-in-f14.1e100.net (172.217.15.78): icmp_seq=1 ttl=47 time=1.85 ms 64 bytes from iad23s63-in-f14.1e100.net (172.217.15.78): icmp_seq=2 ttl=47 time=1.48 ms 64 bytes from iad23s63-in-f14.1e100.net (172.217.15.78): icmp_seq=3 ttl=47 time=1.45 ms 64 bytes from iad23s63-in-f14.1e100.net (172.217.15.78): icmp_seq=4 ttl=47 time=1.46 ms 64 bytes from iad23s63-in-f14.1e100.net (172.217.15.78): icmp_seq=5 ttl=47 time=1.45 ms ^C --- google.com ping statistics --- 5 packets transmitted, 5 received, 0% packet loss, time 4006ms rtt min/avg/max/mdev = 1.453/1.541/1.850/0.156 ms</code> </pre><br>  Par d√©faut, le <i>ping</i> fonctionne jusqu'√† ce qu'il soit termin√© manuellement.  Par cons√©quent, l'option <i>-c</i> peut √™tre utile - le nombre de paquets, apr√®s l'envoi du <i>ping</i> qui se terminera de lui-m√™me.  Une autre option que j'utilise parfois est <i>-i</i> , l'intervalle entre l'envoi de paquets. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ping -c 3 -i 5 google.com PING google.com (172.217.5.238) 56(84) bytes of data. 64 bytes from iad30s07-in-f238.1e100.net (172.217.5.238): icmp_seq=1 ttl=47 time=1.55 ms 64 bytes from iad30s07-in-f14.1e100.net (172.217.5.238): icmp_seq=2 ttl=47 time=1.17 ms 64 bytes from iad30s07-in-f14.1e100.net (172.217.5.238): icmp_seq=3 ttl=47 time=1.16 ms --- google.com ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 10006ms rtt min/avg/max/mdev = 1.162/1.295/1.551/0.181 ms</code> </pre><br><h2>  ssh </h2><br>  Le client OpenSSH SSH vous permet de vous connecter √† un h√¥te distant. <br><br><pre> <code class="plaintext hljs">MacBook-Pro-User:~ user$ ssh user@11.11.22.22 Last login: Tue Nov 26 11:27:39 2019 from another_host [user@testhost ~]$ hostname testhost</code> </pre><br>  Il y a beaucoup de nuances dans l'utilisation de SSH, ce client a √©galement beaucoup de fonctionnalit√©s, donc si vous le souhaitez (ou en avez besoin), vous pouvez en lire <a href="https://habr.com/ru/post/435546/">plus en d√©tail</a> . <br><br><h2>  scp </h2><br>  Copiez les fichiers entre les h√¥tes ( <i>ssh est</i> utilis√© pour cela). <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ pwd /home/user [user@testhost ~]$ ls temp test_renamed [user@testhost ~]$ exit logout Connection to 11.11.22.22 closed. MacBook-Pro-Aleksandr:~ user$ scp user@11.11.22.22:/home/user/temp Downloads/ temp                                                                                                    100% 31 0.2KB/s 00:00 MacBook-Pro-Aleksandr:~ user$ cat Downloads/temp Content of a file. Lalalala...</code> </pre><br><h2>  rsync </h2><br>  De plus, pour synchroniser les r√©pertoires entre les h√¥tes, vous pouvez utiliser <i>rsync</i> ( <i>-a</i> - mode archive, vous permet de copier tout le contenu du r√©pertoire "tel <i>quel</i> ", <i>-v</i> - affiche des informations suppl√©mentaires sur la console): <br><br><pre> <code class="plaintext hljs">MacBook-Pro-User:~ user$ ls Downloads/user ls: Downloads/user: No such file or directory MacBook-Pro-User:~ user$ rsync -av user@testhost:/home/user Downloads receiving file list ... done user/ user/.bash_history user/.bash_logout user/.bash_profile user/.bashrc user/.lesshst user/.mongorc.js user/.viminfo user/1 user/man_signal user/man_signal_error_log user/temp user/.ssh/ user/.ssh/authorized_keys user/test/ user/test/created_today user/test/temp_clone sent 346 bytes received 29210 bytes 11822.40 bytes/sec total size is 28079 speedup is 0.95 MacBook-Pro-User:~ user$ ls -a Downloads/user .          .bash_history .bash_profile    .lesshst .ssh 1          man_signal_error_log test ..          .bash_logout .bashrc       .mongorc.js .viminfo man_signal      temp</code> </pre><br><h2>  √©cho </h2><br>  Affichez une ligne de texte. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ echo "Hello" Hello</code> </pre><br>  Les options <i>-n</i> pour ne pas compl√©ter la ligne avec des sauts de ligne √† la fin, et <i>-e</i> pour activer l'interpr√©tation de l'√©chappement avec "\" sont √† noter ici. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ echo "\tHello\n" \tHello\n [user@testhost ~]$ echo -n "\tHello\n" \tHello\n[user@testhost ~]$ [user@testhost ~]$ echo -ne "\tHello\n" Hello</code> </pre><br>  De plus, en utilisant cette commande, vous pouvez afficher les valeurs des variables.  Par exemple, sous Linux, le code de sortie de la derni√®re commande termin√©e est stock√© dans la variable sp√©ciale <i>$?</i>  , et ainsi vous pouvez savoir exactement quelle erreur s'est produite dans la derni√®re application en cours d'ex√©cution: <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls  #    1 man_signal man_signal_error_log temp test [user@testhost ~]$ echo $?  #  0 ‚Äî    0 [user@testhost ~]$ ls qwerty  #   ls: cannot access qwerty: No such file or directory [user@testhost ~]$ echo $?  #  2 ‚Äî Misuse of shell builtins (according to Bash documentation) 2 [user@testhost ~]$ echo $?  #  echo   ,  0 0</code> </pre><br><h2>  telnet </h2><br>  Client pour le protocole TELNET.  Utilis√© pour communiquer avec un autre h√¥te. <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ telnet example.com 80 Trying 93.184.216.34... Connected to example.com. Escape character is '^]'. GET / HTTP/1.1 Host: example.com HTTP/1.1 200 OK Cache-Control: max-age=604800 Content-Type: text/html; charset=UTF-8 Date: Tue, 26 Nov 2019 11:59:18 GMT Etag: "3147526947+gzip+ident" Expires: Tue, 03 Dec 2019 11:59:18 GMT Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT Server: ECS (dcb/7F3B) Vary: Accept-Encoding X-Cache: HIT Content-Length: 1256 ...    ,     ...</code> </pre><br>  Si vous devez utiliser le protocole TLS (permettez-moi de vous rappeler que SSL est obsol√®te il y a longtemps), alors <i>telnet</i> ne fonctionnera pas √† ces fins.  Mais le client <i>openssl</i> convient: <br><br><div class="spoiler">  <b class="spoiler_title">Un exemple d'utilisation de openssl avec une r√©ponse √† une requ√™te GET</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">[user@testhost ~]$ openssl s_client -connect example.com:443 CONNECTED(00000003) depth=2 C = US, O = DigiCert Inc, OU = www.digicert.com, CN = DigiCert Global Root CA verify return:1 depth=1 C = US, O = DigiCert Inc, CN = DigiCert SHA2 Secure Server CA verify return:1 depth=0 C = US, ST = California, L = Los Angeles, O = Internet Corporation for Assigned Names and Numbers, OU = Technology, CN = www.example.org verify return:1 --- Certificate chain 0 s:/C=US/ST=California/L=Los Angeles/O=Internet Corporation for Assigned Names and Numbers/OU=Technology/CN=www.example.org   i:/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA 1 s:/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert Global Root CA 2 s:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert Global Root CA   i:/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert Global Root CA --- Server certificate -----BEGIN CERTIFICATE----- MIIHQDCCBiigAwIBAgIQD9B43Ujxor1NDyupa2A4/jANBgkqhkiG9w0BAQsFADBN MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMScwJQYDVQQDEx5E aWdpQ2VydCBTSEEyIFNlY3VyZSBTZXJ2ZXIgQ0EwHhcNMTgxMTI4MDAwMDAwWhcN MjAxMjAyMTIwMDAwWjCBpTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3Ju aWExFDASBgNVBAcTC0xvcyBBbmdlbGVzMTwwOgYDVQQKEzNJbnRlcm5ldCBDb3Jw b3JhdGlvbiBmb3IgQXNzaWduZWQgTmFtZXMgYW5kIE51bWJlcnMxEzARBgNVBAsT ClRlY2hub2xvZ3kxGDAWBgNVBAMTD3d3dy5leGFtcGxlLm9yZzCCASIwDQYJKoZI hvcNAQEBBQADggEPADCCAQoCggEBANDwEnSgliByCGUZElpdStA6jGaPoCkrp9vV rAzPpXGSFUIVsAeSdjF11yeOTVBqddF7U14nqu3rpGA68o5FGGtFM1yFEaogEv5g rJ1MRY/d0w4+dw8JwoVlNMci+3QTuUKf9yH28JxEdG3J37Mfj2C3cREGkGNBnY80 eyRJRqzy8I0LSPTTkhr3okXuzOXXg38ugr1x3SgZWDNuEaE6oGpyYJIBWZ9jF3pJ QnucP9vTBejMh374qvyd0QVQq3WxHrogy4nUbWw3gihMxT98wRD1oKVma1NTydvt hcNtBfhkp8kO64/hxLHrLWgOFT/l4tz8IWQt7mkrBHjbd2XLVPkCAwEAAaOCA8Ew ggO9MB8GA1UdIwQYMBaAFA+AYRyCMWHVLyjnjUY4tCzhxtniMB0GA1UdDgQWBBRm mGIC4AmRp9njNvt2xrC/oW2nvjCBgQYDVR0RBHoweIIPd3d3LmV4YW1wbGUub3Jn ggtleGFtcGxlLmNvbYILZXhhbXBsZS5lZHWCC2V4YW1wbGUubmV0ggtleGFtcGxl Lm9yZ4IPd3d3LmV4YW1wbGUuY29tgg93d3cuZXhhbXBsZS5lZHWCD3d3dy5leGFt cGxlLm5ldDAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsG AQUFBwMCMGsGA1UdHwRkMGIwL6AtoCuGKWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNv bS9zc2NhLXNoYTItZzYuY3JsMC+gLaArhilodHRwOi8vY3JsNC5kaWdpY2VydC5j b20vc3NjYS1zaGEyLWc2LmNybDBMBgNVHSAERTBDMDcGCWCGSAGG/WwBATAqMCgG CCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMAgGBmeBDAEC AjB8BggrBgEFBQcBAQRwMG4wJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2lj ZXJ0LmNvbTBGBggrBgEFBQcwAoY6aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29t L0RpZ2lDZXJ0U0hBMlNlY3VyZVNlcnZlckNBLmNydDAMBgNVHRMBAf8EAjAAMIIB fwYKKwYBBAHWeQIEAgSCAW8EggFrAWkAdwCkuQmQtBhYFIe7E6LMZ3AKPDWYBPkb 37jjd80OyA3cEAAAAWdcMZVGAAAEAwBIMEYCIQCEZIG3IR36Gkj1dq5L6EaGVycX sHvpO7dKV0JsooTEbAIhALuTtf4wxGTkFkx8blhTV+7sf6pFT78ORo7+cP39jkJC AHYAh3W/51l8+IxDmV+9827/Vo1HVjb/SrVgwbTq/16ggw8AAAFnXDGWFQAABAMA RzBFAiBvqnfSHKeUwGMtLrOG3UGLQIoaL3+uZsGTX3MfSJNQEQIhANL5nUiGBR6g l0QlCzzqzvorGXyB/yd7nttYttzo8EpOAHYAb1N2rDHwMRnYmQCkURX/dxUcEdkC wQApBo2yCJo32RMAAAFnXDGWnAAABAMARzBFAiEA5Hn7Q4SOyqHkT+kDsHq7ku7z RDuM7P4UDX2ft2Mpny0CIE13WtxJAUr0aASFYZ/XjSAMMfrB0/RxClvWVss9LHKM MA0GCSqGSIb3DQEBCwUAA4IBAQBzcIXvQEGnakPVeJx7VUjmvGuZhrr7DQOLeP4R 8CmgDM1pFAvGBHiyzvCH1QGdxFl6cf7wbp7BoLCRLR/qPVXFMwUMzcE1GLBqaGZM v1Yh2lvZSLmMNSGRXdx113pGLCInpm/TOhfrvr0TxRImc8BdozWJavsn1N2qdHQu N+UBO6bQMLCD0KHEdSGFsuX6ZwAworxTg02/1qiDu7zW7RyzHvFYA4IAjpzvkPIa X6KjBtpdvp/aXabmL95YgBjT8WJ7pqOfrqhpcmOBZa6Cg6O1l4qbIFH/Gj9hQB5I 0Gs4+eH6F9h3SojmPTYkT+8KuZ9w84Mn+M8qBXUQoYoKgIjN -----END CERTIFICATE----- subject=/C=US/ST=California/L=Los Angeles/O=Internet Corporation for Assigned Names and Numbers/OU=Technology/CN=www.example.org issuer=/C=US/O=DigiCert Inc/CN=DigiCert SHA2 Secure Server CA --- No client certificate CA names sent Peer signing digest: SHA256 Server Temp Key: ECDH, P-256, 256 bits --- SSL handshake has read 4643 bytes and written 415 bytes --- New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES128-GCM-SHA256 Server public key is 2048 bit Secure Renegotiation IS supported Compression: NONE Expansion: NONE No ALPN negotiated SSL-Session:    Protocol : TLSv1.2    Cipher  : ECDHE-RSA-AES128-GCM-SHA256    Session-ID: 91950DC50FADB57BF026D2661E6CFAA1F522E5CA60D2310E106EE0E0FD6E70BD    Session-ID-ctx:    Master-Key: 704E9145253EEB4E9DC47E3DC6725D296D4A470EA296D54F71D65E74EAC09EB096EA1305CBEDD9E7020B8F72FD2B68A5    Key-Arg  : None    Krb5 Principal: None    PSK identity: None    PSK identity hint: None    TLS session ticket lifetime hint: 7200 (seconds)    TLS session ticket:    0000 - 68 84 4e 77 be e3 f5 00-49 c5 44 40 53 4d b9 61  h.Nw....ID@SM.a    0010 - c9 fe df e4 05 51 d0 53-ae cf 89 4c b6 ef 6c 9e  .....QS..L..l.    0020 - fe 12 9a f0 e8 e5 4e 87-42 89 ac af ca e5 4a 85  ......NB....J.    0030 - 38 08 26 e3 22 89 08 b5-62 c0 8b 7e b8 05 d3 54  8.&amp;."...b..~...T    0040 - 8c 24 91 a7 b4 4f 79 ad-36 59 7c 69 2d e5 7f 62  .$...Oy.6Y|i-..b    0050 - f6 73 a3 8b 92 63 c1 e3-df 78 ba 8c 5a cc 82 50  .s...c...x..Z..P    0060 - 33 4e 13 4b 10 e4 97 31-cc b4 13 65 45 60 3e 13  3N.K...1...eE`&gt;.    0070 - ac 9e b1 bb 4b 18 d9 16-ea ce f0 9b 5b 0c 8b bf  ....K.......[...    0080 - fd 78 74 a0 1a ef c2 15-2a 0a 14 8d d1 3f 52 7a  .xt.....*....?Rz    0090 - 12 6b c7 81 15 c4 c4 af-7e df c2 20 a8 dd 4b 93  .k......~.. ..K.    Start Time: 1574769867    Timeout  : 300 (sec)    Verify return code: 0 (ok) --- GET / HTTP/1.1 Host: example.com HTTP/1.1 200 OK Cache-Control: max-age=604800 Content-Type: text/html; charset=UTF-8 Date: Tue, 26 Nov 2019 12:04:38 GMT Etag: "3147526947+ident" Expires: Tue, 03 Dec 2019 12:04:38 GMT Last-Modified: Thu, 17 Oct 2019 07:18:26 GMT Server: ECS (dcb/7EC8) Vary: Accept-Encoding X-Cache: HIT Content-Length: 1256 &lt;!doctype html&gt; &lt;html&gt; &lt;head&gt;    &lt;title&gt;Example Domain&lt;/title&gt;    &lt;meta charset="utf-8" /&gt;    &lt;meta http-equiv="Content-type" content="text/html; charset=utf-8" /&gt;    &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;    &lt;style type="text/css"&gt;    body {        background-color: #f0f0f2;        margin: 0;        padding: 0;        font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;    }    div {        width: 600px;        margin: 5em auto;        padding: 2em;        background-color: #fdfdff;        border-radius: 0.5em;        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);    }    a:link, a:visited {        color: #38488f;        text-decoration: none;    }    @media (max-width: 700px) {        div {            margin: 0 auto;            width: auto;        }    }    &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div&gt;    &lt;h1&gt;Example Domain&lt;/h1&gt;    &lt;p&gt;This domain is for use in illustrative examples in documents. You may use this    domain in literature without prior coordination or asking for permission.&lt;/p&gt;    &lt;p&gt;&lt;a href="https://www.iana.org/domains/example"&gt;More information...&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;</code> </pre><br></div></div><br><h1>  R√©solution de probl√®mes Linux typiques </h1><br><h2>  Changer le propri√©taire du fichier </h2><br>  Vous pouvez modifier la propri√©t√© d'un fichier ou d'un r√©pertoire √† l'aide de la <i><b>commande chown</b></i> : <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ chown user:user temp [user@testhost ~]$ ls -l temp -rw-rw-r-- 1 user user 31 Nov 26 11:09 temp</code> </pre><br>  Dans le param√®tre, cette commande doit recevoir le nouveau propri√©taire et le nouveau groupe (facultatif), s√©par√©s par deux points.  De plus, lorsque vous changez le propri√©taire du r√©pertoire, l'option <i>-R</i> peut √™tre utile - les propri√©taires de tout le contenu du r√©pertoire changeront √©galement. <br><br><h2>  Modifier les autorisations de fichier </h2><br>  Ce probl√®me est r√©solu √† l'aide de la <i><b>commande chmod</b></i> .  √Ä titre d'exemple, je donnerai l'installation des droits "le propri√©taire est autoris√© √† lire, √©crire et ex√©cuter, le groupe est autoris√© √† lire et √† √©crire, tout le reste - rien": <br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -l temp -rw-rw-r-- 1 user user 31 Nov 26 11:09 temp [user@testhost ~]$ chmod 760 temp [user@testhost ~]$ ls -l temp -rwxrw---- 1 user user 31 Nov 26 11:09 temp</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier 7 (c'est 0b111 dans la repr√©sentation binaire) dans le param√®tre signifie ¬´tous les droits pour le propri√©taire¬ª, le second 6 (c'est 0b110 dans la repr√©sentation binaire) - ¬´lire et √©crire¬ª, eh bien, 0 n'est rien pour les autres. </font><font style="vertical-align: inherit;">Un masque de bits se compose de trois bits: le bit le moins significatif (¬´droit¬ª) est responsable de l'ex√©cution, le bit suivant (¬´milieu¬ª) est pour l'√©criture et le plus ancien (¬´gauche¬ª) est pour la lecture. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez √©galement d√©finir des droits √† l'aide de caract√®res sp√©ciaux ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syntaxe mn√©monique</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Par exemple, dans l'exemple suivant, les droits d'ex√©cution de l'utilisateur actuel sont d'abord supprim√©s, puis renvoy√©s:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -l temp -rwxrw---- 1 user user 31 Nov 26 11:09 temp [user@testhost ~]$ chmod -x temp [user@testhost ~]$ ls -l temp -rw-rw---- 1 user user 31 Nov 26 11:09 temp [user@testhost ~]$ chmod +x temp [user@testhost ~]$ ls -l temp -rwxrwx--x 1 user user 31 Nov 26 11:09 temp</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette commande a de nombreuses utilisations, je vous conseille donc d'en lire plus (en particulier sur la syntaxe mn√©monique, par exemple, </font></font><a href="https://vps.ua/wiki/change-permissions/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Imprimer le contenu d'un fichier binaire </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela peut √™tre fait en utilisant l'utilitaire </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hexdump</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Voici des exemples de son utilisation.</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ cat temp Content of a file. Lalalala... [user@testhost ~]$ hexdump -c temp 0000000  C on  tent    ofaf  il 0000010  e . \n  L ala  lala .  . . \n 000001f [user@testhost ~]$ hexdump -x temp 0000000  6f43 746e  6e65 2074 666f  6120 6620 6c69 0000010  2e65 4c0a  6c61 6c61 6c61  2e61 2e2e 000a 000001f [user@testhost ~]$ hexdump -C temp 00000000 43 6f 6e 74 65 6e 74 20 6f 66 20 61 20 66 69 6c |Content of a fil| 00000010 65 2e 0a 4c 61 6c 61 6c 61 6c 61 2e 2e 2e 0a |e..Lalalala....| 0000001f</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En utilisant cet utilitaire, vous pouvez afficher des donn√©es dans d'autres formats, cependant, ces options pour leur utilisation sont le plus souvent utiles. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rechercher des fichiers </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez rechercher un fichier par son nom dans l'arborescence des r√©pertoires √† l'aide de la </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commande find</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ find test_dir/ -name "*le*" test_dir/file_1 test_dir/file_2 test_dir/subdir/file_3</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'autres options et filtres de recherche sont √©galement disponibles. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez trouver des fichiers dans le dossier de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui ont √©t√© cr√©√©s il y a plus de 5 jours:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ls -ltr test total 0 -rw-rw-r-- 1 user user 0 Nov 26 10:46 temp_clone -rw-rw-r-- 1 user user 0 Dec 4 10:39 created_today [user@testhost ~]$ find test/ -type f -ctime +5 test/temp_clone</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rechercher du texte dans des fichiers </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep vous</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aidera √† faire face √† cette t√¢che </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Elle a de nombreuses utilisations, voici un exemple des plus simples.</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ grep -nr "content" test_dir/ test_dir/file_1:1:test content for file_1 test_dir/file_2:1:test content for file_2 test_dir/subdir/file_3:1:test content for file_3</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fa√ßon populaire d'utiliser la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commande grep</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est de l'utiliser dans un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ sudo tail -f /var/log/test.log | grep "ERROR"</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-v</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de faire l'effet de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'et l'inverse - seules les lignes qui ne contiennent pas le mod√®le pass√© √† </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grep</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seront affich√©es </font><font style="vertical-align: inherit;">.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Afficher les packages install√©s </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'y a pas de commande universelle, car tout d√©pend de la distribution Linux et du gestionnaire de paquets utilis√©. </font><font style="vertical-align: inherit;">L'une des commandes suivantes vous aidera probablement:</font></font><br><br><pre> <code class="plaintext hljs">yum list installed apt list --installed zypper se ‚Äîinstalled-only pacman -Qqe dpkg -l rpm -qa</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voir combien d'espace prend une arborescence de r√©pertoires </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un cas d'utilisation pour la commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">du</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ du -h -d 1 test_dir/ 8,0K test_dir/subdir 20K test_dir/</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez modifier la valeur du param√®tre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-d</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour obtenir des informations plus d√©taill√©es sur l'arborescence de r√©pertoires. </font><font style="vertical-align: inherit;">Vous pouvez √©galement utiliser la commande en combinaison avec le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tri</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ du -h -d 1 test_dir/ | sort -h 8,0K test_dir/subdir 16K test_dir/subdir_2 36K test_dir/ [user@testhost ~]$ du -h -d 1 test_dir/ | sort -h -r 36K test_dir/ 16K test_dir/subdir_2 8,0K test_dir/subdir</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la commande </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sort</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de trier les tailles √©crites au format lisible par l'homme (par exemple, 1K, 2G), l'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-r</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de trier les donn√©es dans l'ordre inverse.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Rechercher et remplacer" dans un fichier, dans des fichiers dans un r√©pertoire </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette op√©ration est effectu√©e √† l'aide de l'utilitaire </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sans l'indicateur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la fin, seule la premi√®re occurrence de ¬´old-text¬ª dans la cha√Æne sera remplac√©e):</font></font><br><br><pre> <code class="plaintext hljs">sed -i 's/old-text/new-text/g' input.txt</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous pouvez l'utiliser pour plusieurs fichiers √† la fois: </font></font><br><pre> <code class="plaintext hljs">[user@testhost ~]$ cat test_dir/file_* test content for file_1 test content for file_2 [user@testhost ~]$ sed -i 's/test/edited/g' test_dir/file_* [user@testhost ~]$ cat test_dir/file_* edited content for file_1 edited content for file_2</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©river la colonne de la sortie </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour faire face √† cette t√¢che aidera </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la awk</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans cet exemple, la deuxi√®me colonne de la sortie de la commande </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps ps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'affiche </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ps ux | awk '{print $2}' PID 11023 25870 25871 25908 25909</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de garder √† l'esprit que </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a des fonctionnalit√©s beaucoup plus riches, donc si vous avez besoin de travailler avec du texte sur la ligne de commande, vous devriez en savoir plus sur cette commande.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©couvrez l'adresse IP par nom d'h√¥te </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'une des commandes suivantes vous y aidera: </font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ host ya.ru ya.ru has address 87.250.250.242 ya.ru has IPv6 address 2a02:6b8::2:242 ya.ru mail is handled by 10 mx.yandex.ru. [user@testhost ~]$ dig +short ya.ru 87.250.250.242 [user@testhost ~]$ nslookup ya.ru Server: 8.8.8.8 Address: 8.8.8.8#53 Non-authoritative answer: Name: ya.ru Address: 87.250.250.242</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informations sur le r√©seau </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez utiliser </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ifconfig</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ifconfig eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500        inet 47.89.93.67 netmask 255.255.224.0 broadcast 47.89.95.255        inet6 fd90::302:57ff:fe79:1 prefixlen 64 scopeid 0x20&lt;link&gt;        ether 04:01:57:79:00:01 txqueuelen 1000 (Ethernet)        RX packets 11912135 bytes 9307046034 (8.6 GiB)        RX errors 0 dropped 0 overruns 0 frame 0        TX packets 14696632 bytes 2809191835 (2.6 GiB)        TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt; mtu 65536        inet 127.0.0.1 netmask 255.0.0.0        inet6 ::1 prefixlen 128 scopeid 0x10&lt;host&gt;        loop txqueuelen 0 (Local Loopback)        RX packets 10 bytes 866 (866.0 B)        RX errors 0 dropped 0 overruns 0 frame 0        TX packets 10 bytes 866 (866.0 B)        TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et vous pouvez </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ip</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ip a 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host       valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    link/ether 04:01:57:79:00:01 brd ff:ff:ff:ff:ff:ff    inet 47.89.93.67/19 brd 47.89.95.255 scope global eth0       valid_lft forever preferred_lft forever    inet6 fd90::302:57ff:fe79:1/64 scope link       valid_lft forever preferred_lft forever 3: ip_vti0: &lt;NOARP&gt; mtu 1500 qdisc noop state DOWN group default    link/ipip 0.0.0.0 brd 0.0.0.0</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le m√™me temps, si, par exemple, vous n'√™tes int√©ress√© que par IPv4, vous pouvez ajouter l'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-4</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ ip -4 a 1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever 2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000    inet 47.89.93.67/19 brd 47.89.95.255 scope global eth0       valid_lft forever preferred_lft forever</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Afficher les ports ouverts </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ce faire, utilisez l'utilitaire </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">netstat</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Par exemple, pour regarder tous les ports TCP et UDP √©coutant avec le PID du processus √©coutant sur le port et avec la repr√©sentation num√©rique du port, vous devez l'utiliser avec les options suivantes:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ netstat -lptnu</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informations syst√®me </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez obtenir ces informations √† l'aide de la commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uname</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ uname -a Linux alexander 3.10.0-123.8.1.el7.x86_64 #1 SMP Mon Sep 22 19:06:58 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour comprendre dans quel format la sortie est effectu√©e, vous pouvez vous r√©f√©rer √† l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aide</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 'pour cette commande:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ uname --help : uname []‚Ä¶     .    ,  -s.  -a, --all       ,   ,                        -p  -i,   :  -s, --kernel-name     -n, --nodename         -r, --release         -v, --kernel-version       -m, --machine           -p, --processor         ¬´¬ª  -i, --hardware-platform      ¬´¬ª  -o, --operating-system           --help             --version      </code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informations sur la m√©moire </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour comprendre la quantit√© de RAM occup√©e ou libre, vous pouvez utiliser la commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">free</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ free -h              total    used free   shared buff/cache available Mem:      3,9G 555M    143M 56M 3,2G    3,0G Swap:      0B 0B    0B</code> </pre><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informations sur les syst√®mes de fichiers (espace disque libre) </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">df</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de voir combien d'espace est libre et occup√© sur les syst√®mes de fichiers mont√©s.</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ df -hT         % C  /dev/vda1    ext4 79G     21G 55G 27% / devtmpfs     devtmpfs 2,0G      0 2,0G 0% /dev tmpfs      tmpfs 2,0G      0 2,0G 0% /dev/shm tmpfs      tmpfs 2,0G     57M 1,9G 3% /run tmpfs      tmpfs 2,0G      0 2,0G 0% /sys/fs/cgroup tmpfs      tmpfs 396M      0 396M 0% /run/user/1001</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-T</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique que le type de syst√®me de fichiers doit √™tre affich√©.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Informations sur les t√¢ches et diverses statistiques sur le syst√®me </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ce faire, utilisez la commande </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">top</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il est capable d'afficher diverses informations: par exemple, les principaux processus d'utilisation de la RAM ou les meilleurs processus d'utilisation du temps processeur. </font><font style="vertical-align: inherit;">Il affiche √©galement des informations sur la m√©moire, le CPU, la disponibilit√© et LA (moyenne de charge).</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ top | head -10 top - 17:19:13 up 154 days, 6:59, 3 users, load average: 0.21, 0.21, 0.27 Tasks: 2169 total,  2 running, 2080 sleeping,  0 stopped, 0 zombie Cpu(s): 1.7%us, 0.7%sy, 0.0%ni, 97.5%id, 0.0%wa, 0.0%hi, 0.1%si, 0.0%st Mem: 125889960k total, 82423048k used, 43466912k free, 16026020k buffers Swap:    0k total,   0k used, 0k free, 31094516k cached    PID USER   PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND  25282 user   20 0 16988 3936 1964 R 7.3 0.0 0:00.04 top   4264 telegraf 20 0 2740m 240m 22m S 1.8 0.2 23409:39 telegraf   6718 root   20 0 35404 4768 3024 S 1.8 0.0 0:01.49 redis-server</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cet utilitaire a des fonctionnalit√©s riches, donc si vous devez l'utiliser souvent, il est pr√©f√©rable de vous familiariser avec sa documentation. </font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vidage du trafic r√©seau </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour intercepter le trafic r√©seau sous Linux, l'utilitaire </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcpdump</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est utilis√© </font><font style="vertical-align: inherit;">. Pour vider le trafic sur le port 12345, vous pouvez utiliser la commande suivante:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ sudo tcpdump -i any -A port 12345</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-A</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique que nous voulons voir la sortie en ASCII (par cons√©quent, c'est bon pour les protocoles de texte), </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-i any</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique que nous ne sommes pas int√©ress√©s par l'interface r√©seau, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">port</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - quel port le trafic √† vider. Au lieu du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">port,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous pouvez utiliser l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou une combinaison d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">port</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te A et port X</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Et l'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut √©galement √™tre utile </font><font style="vertical-align: inherit;">- ne convertissez pas les adresses en noms d'h√¥tes en sortie. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et si le trafic binaire? Ensuite, l'option </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-X</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous aidera √† </font><font style="vertical-align: inherit;">produire des donn√©es en hexad√©cimal et ASCII:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ sudo tcpdump -i any -X port 12345</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de garder √† l'esprit que dans les deux cas d'utilisation, des paquets IP seront sortis, donc au d√©but de chacun d'eux, il y aura des en-t√™tes binaires IP et TCP. </font><font style="vertical-align: inherit;">Voici un exemple de sortie pour la requ√™te " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " envoy√©e au serveur en √©coute sur le port 12345:</font></font><br><br><pre> <code class="plaintext hljs">[user@testhost ~]$ sudo tcpdump -i any -X port 12345 tcpdump: verbose output suppressed, use -v or -vv for full protocol decode listening on any, link-type LINUX_SLL (Linux cooked), capture size 262144 bytes 14:27:13.224762 IP localhost.49794 &gt; localhost.italk: Flags [P.], seq 2262177478:2262177483, ack 3317210845, win 342, options [nop,nop,TS val 3196604972 ecr 3196590131], length 5    0x0000: 4510 0039 dfb6 4000 4006 5cf6 7f00 0001 E..9..@.@.\.....    0x0010: 7f00 0001 c282 3039 86d6 16c6 c5b8 9edd ......09........    0x0020: 8018 0156 fe2d 0000 0101 080a be88 522c ...V.-........R,    0x0030: be88 1833 3132 330d 0a00 0000 0000 0000 ...3123.........    0x0040: 0000 0000 0000 0000 00          .........</code> </pre><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Au lieu de la sortie </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien s√ªr, sous Linux, il y a beaucoup d'autres choses int√©ressantes qui peuvent √™tre lues sur Habr√©, StackOverflow et d'autres sites (je vais donner </font></font><a href="https://github.com/jlevy/the-art-of-command-line" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'exemple de l'art d'une ligne de commande</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est √©galement </font></font><a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traduit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Les administrateurs syst√®me et DevOps utilisent beaucoup plus de commandes et d'utilitaires pour configurer les serveurs, mais m√™me les testeurs peuvent ne pas avoir suffisamment de ces commandes. </font><font style="vertical-align: inherit;">Vous devrez peut-√™tre v√©rifier l'exactitude d'un d√©lai d'attente d√©licat du client au serveur ou au fonctionnement du serveur s'il n'y a pas d'espace disque disponible. </font><font style="vertical-align: inherit;">Je ne parle pas, par exemple, de Docker, qui est maintenant activement utilis√© par de nombreuses entreprises. </font><font style="vertical-align: inherit;">Il serait int√©ressant, dans le cadre de la suite de cet article de r√©f√©rence, d'analyser quelques exemples d'utilisation de divers utilitaires Linux de console dans le processus de test de services? </font><font style="vertical-align: inherit;">Partagez √©galement vos meilleures √©quipes dans les commentaires :)</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr481398/">https://habr.com/ru/post/fr481398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr481386/index.html">Tramage: signal bruyant pour l'am√©liorer</a></li>
<li><a href="../fr481388/index.html">Comment les √©changes de crypto-monnaies construisent leurs blockchains d√©fiant DeFi</a></li>
<li><a href="../fr481390/index.html">Nouvelles du monde d'OpenStreetMap n ¬∞ 490 (12/03/2019 - 09/12/2019)</a></li>
<li><a href="../fr481392/index.html">Comme j'ai √©crit une crypto-monnaie centralis√©e en PHP. (Partie 1 - R√©sum√©s de base + D√©marrage rapide)</a></li>
<li><a href="../fr481394/index.html">Recr√©er dans un nouveau jeu ce que nous aimions pour les anciens</a></li>
<li><a href="../fr481402/index.html">Impl√©mentation paresseuse de la travers√©e d'un arbre d'enfants de la classe QObject</a></li>
<li><a href="../fr481406/index.html">Immersion profonde dans l'investissement d'Ilona Mask</a></li>
<li><a href="../fr481416/index.html">Annonce du deuxi√®me Meetup AWS √† Minsk (13/02/2020)</a></li>
<li><a href="../fr481418/index.html">Fonctionnement du codec vid√©o. Partie 1. Bases</a></li>
<li><a href="../fr481420/index.html">15 meilleures et plus grandes biblioth√®ques d'ic√¥nes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>