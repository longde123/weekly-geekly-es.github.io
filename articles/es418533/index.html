<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜî ü§ôüèæ ‚ò¢Ô∏è C√≥mo apareci√≥ SSH en el puerto 22 üå∫ üéì ü¶ã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SSH se ejecuta por defecto en el puerto 22. Esto no es una coincidencia. Aqu√≠ est√° la historia de c√≥mo consigui√≥ este puerto. 

 Cuando yo ( Tatu Ilon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo apareci√≥ SSH en el puerto 22</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/418533/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SSH se</a> ejecuta por defecto en el puerto 22. Esto no es una coincidencia.  Aqu√≠ est√° la historia de c√≥mo consigui√≥ este puerto. <br><br>  Cuando yo ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Tatu Ilonen</a> ) publiqu√© esta historia por primera vez en abril de 2017, se volvi√≥ viral: unos 120,000 lectores la leyeron en tres d√≠as. <br><br><h1>  Historial de recepci√≥n del puerto 22 para SSH </h1><br>  Escrib√≠ la primera versi√≥n de SSH (Secure Shell) en la primavera de 1995.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telnet</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">FTP fueron</a> ampliamente utilizados en ese momento. <br><br>  Pero a√∫n desarroll√© SSH para reemplazar tanto <code>telnet</code> (puerto 23) como <code>ftp</code> (puerto 21).  El puerto 22 era gratuito y convenientemente ubicado entre los puertos para telnet y ftp.  Pens√© que ese n√∫mero de puerto podr√≠a ser uno de esos peque√±os detalles que le dar√°n cierto aura de confianza SSH.  ¬øPero c√≥mo conseguirlo?  Nunca asign√© puertos, pero conoc√≠a a quienes hacen esto. <br><br>  La asignaci√≥n de puertos era bastante sencilla en ese momento.  Internet era m√°s peque√±o y est√°bamos en las primeras etapas del auge de Internet.  Los n√∫meros de puerto fueron asignados por IANA (Autoridad de N√∫meros Asignados de Internet).  En ese momento, esto significaba los respetados pioneros de Internet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">John Postel</a> y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Joyce C. Reynolds</a> .  Entre otras cosas, John fue el editor de protocolos menores como IP (RFC 791), ICMP (RFC 792) y TCP (RFC 793).  Algunos de ustedes pueden haber o√≠do hablar de ellos. <br><a name="habracut"></a><br>  ¬°Francamente me asust√≥ John como autor de todas las principales RFC para Internet! <br><br>  De una forma u otra, pero antes del anuncio <code>ssh-1.0</code> en julio de 1995, envi√© el siguiente correo electr√≥nico a IANA: <br><br><blockquote>  De ylo lun 10 de julio 11:45:48 +0300 1995 <br>  De: Tatu Ylonen &lt;ylo@cs.hut.fi&gt; <br>  Para: Autoridad de N√∫meros Asignados de Internet &lt;iana@isi.edu&gt; <br>  Asunto: solicitud de n√∫mero de puerto <br>  Organizaci√≥n: Universidad Tecnol√≥gica de Helsinki, Finlandia. <br><br>  Estimado se√±or <br><br>  Escrib√≠ un programa para iniciar sesi√≥n de forma segura de una m√°quina a otra a trav√©s de una red insegura.  Esta es una mejora de seguridad significativa sobre los protocolos existentes de telnet y rlogin y sus implementaciones.  En particular, evita la suplantaci√≥n de IP, DNS y enrutamiento.  Mi plan es distribuir libremente el programa en Internet y asegurar su uso m√°s amplio posible. <br><br>  Me gustar√≠a obtener un n√∫mero de puerto privilegiado registrado para el programa.  Es deseable en el rango de 1-255 para que pueda usarse en el campo WKS en los servidores de nombres. <br><br>  A continuaci√≥n aplico el proyecto RFC para el protocolo.  El software se ha utilizado localmente durante varios meses y est√° listo para su publicaci√≥n, con la excepci√≥n del n√∫mero de puerto.  Si puede asignar r√°pidamente un n√∫mero de puerto, me gustar√≠a dise√±ar el programa esta semana.  Actualmente estoy usando el puerto 22 en las pruebas beta. Ser√≠a genial usar este n√∫mero (actualmente aparece como "no asignado" en las listas). <br><br>  El nombre del servicio para el software es "ssh" (Secure Shell). <br><br>  Saludos <br><br>  Tatu Ilonen &lt;ylo@cs.hut.fi&gt; <br><br>  ... entonces la especificaci√≥n del protocolo ssh-1.0 sigue </blockquote><br>  Al d√≠a siguiente, una carta de Joyce estaba en la bandeja de entrada: <br><br><blockquote>  Fecha: lunes 10 de julio de 1995 15:35:33 -0700 <br>  De: jkrey@ISI.EDU <br>  Para: ylo@cs.hut.fi <br>  Asunto: Re: solicitud de n√∫mero de puerto <br>  Cc: iana@ISI.EDU <br><br>  Tatuaje <br><br>  Hemos asignado el puerto 22 para SSH, que lo especifica como la persona de contacto. <br><br>  Joyce </blockquote><br>  Lo hicimos!  ¬°Ahora SSH tiene el puerto 22! <br><br>  El 12 de julio de 1995 a las 2:32 a.m., anunci√© la versi√≥n beta final para mis probadores beta en la Universidad de Helsinki.  A las 17:23 envi√≥ paquetes ssh-1.0.0 a los probadores, y a las 17:51 envi√≥ un anuncio sobre SSH (Secure Shell) a la <code>cypherpunks@toad.com</code> correo <code>cypherpunks@toad.com</code> .  Tambi√©n dupliqu√© el anuncio en varios grupos de noticias, listas de correo y directamente a personas que discutieron temas relacionados en Internet. <br><br><h1>  Cambiar el puerto SSH en el servidor </h1><br>  De manera predeterminada, el servidor SSH todav√≠a se est√° ejecutando en el puerto 22. Sin embargo, ocurre de manera diferente.  Una raz√≥n es la prueba.  Otra es ejecutar m√∫ltiples configuraciones en el mismo host.  Es raro que un servidor se ejecute sin privilegios de root, en cuyo caso debe ubicarse en un puerto sin privilegios (es decir, con un n√∫mero de 1024 o m√°s). <br><br>  El n√∫mero de puerto se puede configurar cambiando la directiva del <code>Port 22</code> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">/ etc / ssh / sshd_config</a> .  Tambi√©n se especifica mediante el par√°metro <code>-p &lt;port&gt;</code> en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sshd</a> .  El cliente SSH y los programas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sftp</a> tambi√©n admiten el par√°metro <code>-p &lt;port&gt;</code> . <br><br><h1>  Especificar un puerto SSH en la l√≠nea de comando </h1><br>  El par√°metro <code>-p &lt;port&gt;</code> se puede usar para especificar el n√∫mero de puerto cuando se conecta utilizando el comando <code>ssh</code> en Linux.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SFTP</a> y <code>scp</code> usan el par√°metro <code>-P &lt;port&gt;</code> (nota: P may√∫scula).  Una instrucci√≥n de la l√≠nea de comando anula cualquier valor en los archivos de configuraci√≥n. <br><br><h1>  Configuraci√≥n de acceso SSH a trav√©s de firewalls </h1><br>  SSH es uno de los pocos protocolos que a menudo se permite que funcione a trav√©s de firewalls para acceso saliente, especialmente en compa√±√≠as peque√±as y t√©cnicas.  SSH entrante generalmente se permite a uno o m√°s servidores. <br><br><h3>  SSH saliente </h3><br>  Configurar ssh salientes en un firewall es muy simple.  Si hay restricciones en el tr√°fico saliente en general, solo cree una regla que permita conexiones salientes en el puerto TCP 22. Eso es todo.  Si desea limitar las direcciones de destino, puede crear una regla apropiada permitiendo el acceso solo a los servidores de su organizaci√≥n en la nube o a un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">servidor de salto</a> que proteja el acceso a la nube. <br><br><h3>  La tunelizaci√≥n inversa es un riesgo </h3><br>  Sin embargo, la SSH saliente ilimitada puede ser arriesgada.  El protocolo SSH admite <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">t√∫neles</a> .  La idea principal es que el servidor SSH en el servidor externo escucha las conexiones desde todas partes, las reenv√≠a a la organizaci√≥n y establece una conexi√≥n con alg√∫n tipo de servidor interno. <br><br>  En algunos casos, esto es conveniente.  Los desarrolladores y administradores de sistemas a menudo usan t√∫neles para obtener acceso remoto desde casa o desde una computadora port√°til mientras viajan. <br><br>  Pero por lo general, la tunelizaci√≥n viola la pol√≠tica de seguridad y toma el control de los administradores del firewall y del equipo de IS.  Por ejemplo, puede violar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las</a> normas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PCI</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">HIPAA</a> o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NIST SP 800-53</a> .  Puede ser utilizado por piratas inform√°ticos y servicios especiales para dejar puertas traseras en la red local. <br><br>  El programa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CryptoAuditor</a> controla la tunelizaci√≥n en el firewall o en el punto de entrada a un grupo de servidores en la nube.  Funciona junto con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Universal SSH Key Manager</a> para obtener acceso a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">las claves de host</a> , us√°ndolas para descifrar sesiones SSH en el firewall y bloquear el reenv√≠o no autorizado. <br><br><h3>  SSH entrante </h3><br>  Para el acceso entrante, hay varias opciones: <br><br><ul><li>  Configure un firewall para reenviar todas las conexiones al puerto 22 a una direcci√≥n IP espec√≠fica en la red interna o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DMZ</a> .  Ejecute un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CryptoAuditor</a> o un servidor de salto en esta direcci√≥n IP para controlar y verificar un mayor acceso a la organizaci√≥n. </li><li>  Use diferentes puertos en el firewall para acceder a diferentes servidores. </li><li>  Solo permita el acceso SSH despu√©s de iniciar sesi√≥n con una VPN, generalmente a trav√©s de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">IPsec</a> . </li></ul><br><h1>  Habilitar SSH a trav√©s de iptables </h1><br>  Iptables es un firewall host integrado en el kernel de Linux.  Por lo general, est√° configurado para proteger el servidor al evitar el acceso a todos los puertos que no estaban expl√≠citamente abiertos. <br><br>  Si iptables est√° habilitado en el servidor, los siguientes comandos pueden permitir el acceso SSH entrante.  Deben ejecutarse desde debajo de la ra√≠z. <br><br> <code>iptables -A INPUT -p tcp --dport 22 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT <br> iptables -A OUTPUT -p tcp --sport 22 -m conntrack --ctstate ESTABLISHED -j ACCEPT</code> <br> <br>  Si desea mantener las reglas para siempre, en algunos sistemas esto se puede hacer con el comando: <br><br> <code>service iptables save</code> <br> <br><img src="https://habrastorage.org/getpro/habr/post_images/901/06b/9c2/90106b9c237504d2cd1f1697c162c7be.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es418533/">https://habr.com/ru/post/es418533/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es418523/index.html">¬øPor qu√© los minoristas escuchan a escondidas a sus empleados y por qu√© todav√≠a usan la tecnolog√≠a de audio?</a></li>
<li><a href="../es418525/index.html">Opera se hizo p√∫blica</a></li>
<li><a href="../es418527/index.html">Contra el sentimiento derrotista en la intimidad. ¬øPor qu√© los navegadores pueden dejar de tomar huellas digitales?</a></li>
<li><a href="../es418529/index.html">C√≥mo la misi√≥n de la NASA a Plut√≥n casi desapareci√≥</a></li>
<li><a href="../es418531/index.html">Kunstkamera: un artesano de Massachusetts est√° buscando el derecho de hacerlo usted mismo Tesla</a></li>
<li><a href="../es418535/index.html">Por qu√© el pasaporte de Telegram: sin fin</a></li>
<li><a href="../es418537/index.html">Al tirar basura, lo principal es no comenzar a mirarla. Parte 1?</a></li>
<li><a href="../es418539/index.html">Vulnerabilidad de cifrado en diversas implementaciones de Bluetooth</a></li>
<li><a href="../es418543/index.html">Cinco equipos ganadores del Reto Centenario de H√°bitat impreso en 3D comparten un premio de $ 100,000</a></li>
<li><a href="../es418545/index.html">Crear "vida artificial" en una computadora</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>