<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ üë©üèª‚Äçü§ù‚Äçüë®üèø üëãüèø Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 31. CDP, Syslog y NTP üçó ‚Ü™Ô∏è üåã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy analizaremos 3 conceptos: el protocolo propietario CDP de Cisco, el registro del sistema Syslog y el protocolo de tiempo de red NTP. Tambi√©n conti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entrenamiento Cisco 200-125 CCNA v3.0. D√≠a 31. CDP, Syslog y NTP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465977/"> Hoy analizaremos 3 conceptos: el protocolo propietario CDP de Cisco, el registro del sistema Syslog y el protocolo de tiempo de red NTP.  Tambi√©n continuaremos discutiendo el tema de los problemas y veremos algunas herramientas para diagnosticarlos, luego veremos Syslog y NTP y al final de la lecci√≥n discutiremos CDP y LLDP. <br><br>  En la lecci√≥n anterior, analizamos la metodolog√≠a de soluci√≥n de problemas, y ahora hablar√© sobre varias herramientas integradas en el sistema operativo y los dispositivos Cisco que lo ayudar√°n a resolver problemas de red. <br><br>  La primera herramienta es el comando ipconfig, y dado que la mayor√≠a de las personas usan Windows 10, veremos este comando usando este sistema operativo como ejemplo.  Si va al terminal de l√≠nea de comando de su computadora e ingresa el comando ipconfig, puede ver los par√°metros de configuraci√≥n de todas las interfaces de red disponibles en su computadora. <br><br><img src="https://habrastorage.org/webt/f6/-9/6l/f6-96lo5pw0zenpcqovymdfxcjw.jpeg"><br><br>  Ver√° una interfaz virtual de software Adaptador Ethernet VPN y varias interfaces de software m√°s, cuyo n√∫mero depende de los controladores disponibles en el sistema.  Aqu√≠ se muestra mi adaptador de LAN inal√°mbrica Wi-Fi, con el que ahora estoy conectado a Internet, los datos en el adaptador virtual WMware Network WMnet1 se encuentran un poco m√°s arriba.  El adaptador de t√∫nel se muestra a continuaci√≥n, es decir, todos los adaptadores instalados por el software VPN se muestran aqu√≠. <a name="habracut"></a><br><br>  El tema del curso CCNA requiere que conozca dos adaptadores: un adaptador inal√°mbrico Wi-Fi y un adaptador Ethernet. <br><br><img src="https://habrastorage.org/webt/uq/tx/ek/uqtxekxqi20bmcytun7reeigss4.jpeg"><br><br>  Para una red de oficina, el adaptador inal√°mbrico es m√°s importante, y si alguno de los usuarios se contacta con usted por un problema, primero debe usar el comando ipconfig y mirar la direcci√≥n IP del dispositivo.  Debe verificar si esta direcci√≥n est√° en el rango de direcciones DHCP.  Quiz√°s el usuario apag√≥ la din√°mica y activ√≥ la IP est√°tica, que no forma parte de DHCP, o el dispositivo est√° configurado para obtener autom√°ticamente una direcci√≥n IP y, por alguna raz√≥n, no puede contactar al servidor DHCP. <br><br>  Si necesita informaci√≥n m√°s completa, use el comando ipconfig / all.  Recibir√° los mismos datos, pero de forma m√°s detallada, con la descripci√≥n de la marca del adaptador, los par√°metros de DHCP, la direcci√≥n local de enlace, la direcci√≥n IP, el per√≠odo de validez del contrato de arrendamiento del servidor, la direcci√≥n de puerta de enlace predeterminada, etc. <br><br><img src="https://habrastorage.org/webt/so/9f/h1/so9fh161ces0au1rr-7jbz00f5u.jpeg"><br><br>  Si, como resultado de verificar esta informaci√≥n, resulta que todo est√° bien con la direcci√≥n IP y la configuraci√≥n de la interfaz no es la causa del problema, debe usar otras herramientas de diagn√≥stico, como NSLookup.  Esta es una utilidad que le permite acceder al sistema DNS a trav√©s de la l√≠nea de comando.  Si esto no resuelve el problema, use ping.  Uso el comando ping 8.8.8.8, es decir, hago ping al DNS p√∫blico de Google.  Si el ping pasa, entonces todo est√° en orden con la conexi√≥n y la raz√≥n debe buscarse en otro lugar. <br><br>  Si el ping no pasa, debe usar una herramienta llamada Trace Route o tracert.  Este es un comando de Windows para rastrear la ruta a un host determinado.  Si escribe tracert 8.8.8.8 en la l√≠nea de comando, obtendr√° ping con un valor de TTL = 1 con un rastreo de ruta de hasta 30 nodos.  Como puede ver, el primer nodo es mi enrutador, el sistema mostr√≥ su firmware DD-WRT y la direcci√≥n IP 192.168.1.1, el segundo es el servidor de mi proveedor con la direcci√≥n IP 192.168.100.1, con la que voy a Internet, luego pings en otros nodos y llega al servidor de Google.  En nuestro caso, result√≥ 14 esperanzas, pero si, por ejemplo, surgi√≥ un problema por parte de mi proveedor, entonces el seguimiento se detendr√° despu√©s del tercer nodo que caracteriza el servidor ISP. <br><br><img src="https://habrastorage.org/webt/7i/qy/zy/7iqyzy7odxlbo85k9dtbk__eqou.jpeg"><br><br>  Por lo tanto, Trace Route es una excelente herramienta para identificar problemas a lo largo de la ruta del tr√°fico. <br><br>  Echemos un vistazo m√°s de cerca a lo que es NSLookup.  Este es un comando que habla sobre su servidor DNS.  Si escribe nslookup, obtengo dos l√≠neas: el servidor predeterminado es DD-WRT, es decir, mi enrutador, y su direcci√≥n es 192.168.1.1.  Si especifico un servidor DNS espec√≠fico con el comando del servidor 8.8.8.8, el sistema me dar√° su descripci√≥n y direcci√≥n IP.  De esta manera puede verificar cualquier servidor DNS dado.  Del mismo modo, puedo obtener datos sobre un dominio espec√≠fico escribiendo, por ejemplo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">www.cisco.com</a> . <br><br><img src="https://habrastorage.org/webt/2c/hc/gc/2chcgcfg7mt1taavbtd_9qldsvs.jpeg"><br><br>  Como puede ver, Cisco usa dos versiones de la direcci√≥n IP, y si escribo google.com, veremos muchas direcciones IP utilizadas por este servidor.  Este es un servicio enorme al que acceden tantas personas que una sola direcci√≥n IP puede no ser suficiente. <br><br><img src="https://habrastorage.org/webt/v-/_v/bq/v-_vbqbx-0xm4xs_xb5pp_ph8qa.jpeg"><br><br>  Hay una broma que dice que cuando las personas quieren saber si Internet funciona, simplemente escriben google.com.  Adem√°s de los usuarios de PC, los propietarios de tel√©fonos inteligentes con Android acceden constantemente a este servicio, por lo que simplemente hay un enorme tr√°fico que pasa por los servidores de esta empresa. <br><br>  Por lo tanto, el comando nslookup le permite encontrar la direcci√≥n IP de un nombre de dominio espec√≠fico.  Todas las herramientas mencionadas anteriormente no solucionan los problemas, pero sirven para diagnosticarlos.  Cuanto m√°s practique en la industria de TI, m√°s eficazmente podr√° utilizar estas herramientas, porque solo la pr√°ctica y la experiencia pueden ense√±arle a diagnosticar y solucionar r√°pidamente los problemas de la red.  La pr√°ctica le dar√° la oportunidad de comprender cu√°l es el problema, de un vistazo a la configuraci√≥n de red de la consola de la computadora.  Por lo tanto, despu√©s de completar el estudio del tema de ICND1, publicar√© el trabajo pr√°ctico de laboratorio en el sitio para que pueda aplicar el conocimiento de la teor√≠a. <br><br>  Antes de hablar sobre el syslog, quiero hablar sobre el comando Terminal Monitor del sistema operativo Cisco IOS.  Entrar√© en el programa Packet Tracer (si a√∫n no lo ha instalado, puede registrarse en Network Academy y descargar este programa), tomar dos enrutadores y conectarlos con un cable. <br><br>  Luego ir√© al modo de configuraci√≥n global y me turno para configurar estos enrutadores, d√°ndoles los nombres R0 y R1. <br><br><img src="https://habrastorage.org/webt/pc/b_/rg/pcb_rg5syep3srml9bngkixaaku.jpeg"><br><br>  Luego, en la configuraci√≥n R1, ingresar√© el comando enable password enable para establecer la contrase√±a y configurar la interfaz g0 / 0 usando ip add 10.1.1.2 255.255.255.0 y sin comandos de apagado.  Del mismo modo, configurar√© el enrutador R0 asign√°ndole la direcci√≥n IP 10.1.1.1.  Luego activo el protocolo Telnet con el comando line vty 0 4 y configuro la contrase√±a para ingresar a Telnet con los comandos telnet de inicio de sesi√≥n y contrase√±a.  A continuaci√≥n, ir√© a la configuraci√≥n de R0 y usar√© el comando telnet 10.1.1.2 para establecer una conexi√≥n con el enrutador R1.  Despu√©s de eso, el sistema solicitar√° una contrase√±a para establecer una conexi√≥n e ingresar√© la palabra telnet, que configur√© como contrase√±a para R1.  Como puede ver, despu√©s de eso, en la l√≠nea de comando, el nombre del enrutador R0 cambi√≥ a R1; esto significa que pas√© por el enrutador R0 a la configuraci√≥n del enrutador R1. <br><br><img src="https://habrastorage.org/webt/se/nu/y4/senuy4fu7fbkzerhi1y7g8noz7c.jpeg"><br><br>  Ahora pasemos a la interfaz g0 / 1 y le mostrar√© un par de cosas.  Primero, uso el comando no shut para ello.  Ver√° que el mensaje de registro apareci√≥ en la ventana CLI del segundo enrutador, que el estado de la interfaz g0 / 1 ha cambiado a arriba. <br><br><img src="https://habrastorage.org/webt/st/jo/fd/stjofdzlgbi1f6tc_c_dgm1noqa.jpeg"><br><br>  Desde que ingres√© la configuraci√≥n R1 desde el enrutador R0, result√≥ que hab√≠a conectado una computadora port√°til normal al segundo enrutador con un cable y lo control√© de forma remota.  Sin embargo, este mensaje de registro apareci√≥ solo en la ventana R1, porque estaba conectado al segundo enrutador solo a trav√©s del canal Telnet y no estaba duplicado en la ventana CLI del primer enrutador.  El hecho es que si ingres√≥ de forma remota la configuraci√≥n de un dispositivo ubicado, por ejemplo, en otro edificio, de manera predeterminada, los mensajes de registro de este dispositivo no se mostrar√°n en su pantalla. <br><br>  Para que estos mensajes de registro se muestren en la pantalla de su dispositivo, debe usar el comando de monitor de terminal.  De hecho, significa que si aparecen mensajes de registro de eventos en la pantalla de otro dispositivo, deben enviarse en forma de paquetes a trav√©s del protocolo Telnet a la direcci√≥n IP de su dispositivo.  Por defecto, los mensajes de registro no se env√≠an a la direcci√≥n IP, pero despu√©s de ingresar el comando de monitor de terminal, esto comenzar√° a suceder.  Si ahora ingreso el comando de apagado en la ventana de configuraci√≥n del enrutador R1, aparecer√° un mensaje de registro sobre el cambio del estado de la interfaz simult√°neamente en ambas pantallas. <br><br><img src="https://habrastorage.org/webt/n4/ex/sk/n4exskp970o-aj8-qp1b2c5l0jw.jpeg"><br><br>  Ahora ir√© al modo de configuraci√≥n global R1 en la primera ventana y comenzar√© a escribir alg√∫n comando, por ejemplo, int g0 / 0.  Supongamos que logr√© imprimir solo int g0 /, y en ese momento apareci√≥ alg√∫n tipo de mensaje de registro.  Mi equipo se romper√° en pedazos por este mensaje, por lo que 0 estar√° en la siguiente l√≠nea y el dispositivo puede no entenderlo.  Esto es especialmente inconveniente si escribo un comando largo o si los mensajes de registro consisten en muchas l√≠neas, porque no sabr√© d√≥nde dejar de escribir para que mi equipo no se rompa en pedazos, o puedo olvidar d√≥nde lo dej√©. <br><br><img src="https://habrastorage.org/webt/ve/bi/qh/vebiqhnjmtg6uqdk0etrdsjfhcs.jpeg"><br><br>  Para evitar esto, se utiliza la sincronizaci√≥n de registros.  Escribo el comando line vty 0 4 en la ventana derecha para ir a la configuraci√≥n de Telnet, despu√©s de lo cual el encabezado de la l√≠nea de comando cambia de R1 (config-if) a R1 (config-line).  Luego ingreso el comando s√≠ncrono de registro y regreso a la ventana izquierda. <br><br>  Ahora repito la misma situaci√≥n: escriba int g0 / y pause, durante el cual el mensaje de registro aparece nuevamente.  Tambi√©n aparece en ambas pantallas, pero ahora su texto no interrumpe mi comando, y debajo solo repite lo que comenc√© a escribir.  Ahora puedo continuar tranquilamente escribiendo el equipo que comenc√©, sin temor a que los registros que aparezcan lo dividan en pedazos.  Para m√≠, como usuario, esto es muy conveniente, ya que no necesita pensar c√≥mo escribir un comando m√°s r√°pido, hasta que de repente aparece un mensaje de registro de eventos.  Esto es lo que hace el comando s√≠ncrono de registro, o "sincronizar registros". <br><br><img src="https://habrastorage.org/webt/zk/r0/pv/zkr0pvyxzbst_gytdh3pth4mciy.jpeg"><br><br>  Cada uno de los mensajes de registro tiene un cierto nivel de prioridad, en nuestro ejemplo es el nivel 5. Cuanto menor sea el valor del nivel de registro, m√°s importante ser√° el mensaje.  Hay 8 niveles de prioridad de registros de Cisco en total. <br><br><img src="https://habrastorage.org/webt/jl/7e/9g/jl7e9gtrfe9dtgdih32qqem42tq.jpeg"><br><br>  0 - emergencia, el sistema no est√° completamente operativo, <br>  1 - una situaci√≥n alarmante, es necesaria una intervenci√≥n urgente, <br>  2 - eventos cr√≠ticos, el sistema puede fallar, <br>  3 - mensajes de error, <br>  4 - todo tipo de advertencias <br>  5 - varias notificaciones importantes, <br>  6 - mensajes informativos, <br>  7 - mensajes de depuraci√≥n. <br><br>  Los primeros tres niveles informan condiciones peligrosas del sistema, el nivel 3 indica problemas en el sistema, el cuarto nivel advierte que el estado del sistema puede volverse inestable, pero a√∫n funciona.  El nivel 5 notifica sobre varios eventos, por ejemplo, sobre un cambio en el estado del enlace, como en nuestro ejemplo.  Si usa el modo de depuraci√≥n, la pantalla mostrar√° mensajes de depuraci√≥n del 7¬∫ nivel.  Si es una persona ocupada y no desea leer todos los registros, puede elegir qu√© nivel de mensajes de peligro se mostrar√°n en la pantalla. <br><br>  Por ejemplo, quiero ver solo mensajes de registro hasta el 3er nivel de peligro.  En este caso, el sistema solo mostrar√° mensajes de los niveles 0, 1, 2 y 3, ignorando los mensajes de los niveles 4-7.  De forma predeterminada, el nivel 7 est√° configurado, por lo que ver√° los registros de todos los niveles, desde cero hasta s√©ptimo. <br><br>  Examinamos qu√© es el monitor de Terminal, y ahora pasemos a Syslog.  Si aparecen mensajes de registro importantes en su pantalla, es posible que desee guardarlos de alguna manera en el servidor Syslog, porque generalmente estos mensajes se almacenan solo en la memoria del enrutador y no podr√° analizarlos despu√©s de un tiempo. <br><br>  Volvamos a Packet Tracer y agreguemos un servidor al circuito que est√° conectado directamente al primer enrutador.  En la pr√°ctica, el interruptor debe ubicarse entre ellos, pero usamos este esquema con fines de capacitaci√≥n, por lo que podemos prescindir del interruptor.  Entro en la configuraci√≥n de red del servidor y le asigno una direcci√≥n IP est√°tica 10.1.2.10, una m√°scara de subred de 255.255.255.0 y una direcci√≥n de puerta de enlace predeterminada de 10.1.2.1.  Esta direcci√≥n a√∫n no existe, pero la configurar√© cuando proceda a configurar la interfaz del enrutador R0. <br><br>  A continuaci√≥n, ir√© a la configuraci√≥n de R0, usar√© el comando g0 / 1 y le asignar√© la direcci√≥n 10.1.2.1 con una m√°scara de subred de 255.255.255.0.  Por lo tanto, el servidor y el enrutador estar√°n en la misma red.  Luego necesito entrar en la configuraci√≥n del segundo enrutador R1 y configurar la conexi√≥n con el primer enrutador.  Puede configurar un RIP o una ruta est√°tica, en este caso elijo el √∫ltimo. <br><br>  Para hacer esto, ingreso el comando ip route 0.0.0.0 0.0.0.0 10.1.1.1, es decir, indico que todo el tr√°fico se env√≠a a la direcci√≥n 10.1.1.1.  Luego ingreso do show ip route y veo que la puerta de enlace de la √∫ltima cola Gateway de √∫ltimo recurso tiene la direcci√≥n 10.1.1.1 para la red 0.0.0.0. <br><br>  Ahora comprobar√© si es posible hacer ping al dispositivo en 10.1.2.10.  Si recuerda, el ping es una herramienta de diagn√≥stico y, como puede ver, el ping fue exitoso.  A continuaci√≥n, enciendo el modo de depuraci√≥n con el comando debug ip icmp, esto significa que cada vez que suena el enrutador, aparecer√° un mensaje correspondiente en la ventana de la consola. <br><br>  Si hago ping R1 desde el enrutador izquierdo R0 usando el comando ping 10.1.1.2, aparecer√°n mensajes de registro en la ventana CLI del enrutador derecho, por defecto, nivel de prioridad 7.  Quiero que cualquier mensaje de registro que aparezca durante el proceso de configuraci√≥n se env√≠e al servidor Syslog.  Para hacer esto, voy a la pesta√±a Servicios del panel de configuraci√≥n del servidor y veo que el par√°metro Syslog est√° habilitado de forma predeterminada.  Bueno, ahora tengo que decirle a R1: "cada vez que aparezca un mensaje de registro, ¬°env√≠elo al servidor Syslog en 10.1.2.10!".  Para hacer esto, ingreso el comando logging 10.1.2.10.  Ahora todos los mensajes de registro se enviar√°n al servidor.  Veamos c√≥mo sucede esto. <br><br>  Entro en la configuraci√≥n de R0 y nuevamente hago ping al enrutador R1.  En la ventana CLI del servidor correcto, aparece el mensaje de depuraci√≥n, que debe reenviarse al servidor Syslog.  Voy a la pesta√±a Syslog del servidor y veo que todos estos mensajes aparecieron all√≠. <br><br><img src="https://habrastorage.org/webt/rm/ar/ad/rmaradajb2w4sgipn5d5bhr44gc.jpeg"><br><br>  Por lo tanto, si se produjo alg√∫n evento durante el fin de semana, luego de haber venido a trabajar el lunes, podr√° ver todos los mensajes de registro en los que se registran estos eventos.  Si tiene alg√∫n problema, puede analizar lo que sucedi√≥ y aplicar medidas para eliminarlo. <br><br>  Sin embargo, si observa de cerca los mensajes de Syslog, ver√° un error: todos tienen una marca de tiempo el 1 de enero de hora cero.  Esto significa que no puedo saber cu√°ndo sucedieron realmente los eventos grabados.  Esto sucedi√≥ porque el reloj del sistema del enrutador R1 muestra la hora incorrecta.  Si ingreso el comando show clock en la configuraci√≥n de este enrutador, ver√© el mensaje 0: 26: 9.539 UTC del 1 de marzo de 1993. Esto significa que han pasado 26 minutos y 9 segundos desde que se encendi√≥ el enrutador, y el reloj predeterminado comienza a contar desde el 1 de marzo de 1993 a√±os <br>  Puedo configurar manualmente la hora correcta y comenzar a hacerlo con el enrutador R0.  Entro en el comando de configuraci√≥n del reloj y luego configuro la hora correcta en el formato hh: mm: ss.  Despu√©s de ingresar 22:05:00, el sistema da un mensaje para ingresar el d√≠a del mes del 1 al 31 y el nombre del mes.  Estoy imprimiendo el 14 de marzo y ahora deber√≠a ingresar el a√±o en el rango de 1993 a 2035. Como resultado, escribo la l√≠nea 22:05:00 del 14 de marzo de 2017, despu√©s de lo cual presiono Enter.  Si ahora escribe show clock, el sistema mostrar√° la hora correcta. <br><br><img src="https://habrastorage.org/webt/ph/ss/bv/phssbvazbjjs3rdpmqjyvpt2vvg.jpeg"><br><br>  Puede preguntar por qu√© configur√© la hora en el enrutador R0 y no en R1.  Esto se debe a que quiero mostrarle la configuraci√≥n de hora autom√°tica del segundo enrutador.  Luego, ingreso los comandos debug ip icmp y logging 10.1.2.10 en la configuraci√≥n R0 para que los registros se env√≠en al servidor Syslog. <br><br>  Luego deshabilito la depuraci√≥n del enrutador R1 con el comando un all y hago ping al dispositivo 10.1.1.1.  El ping es exitoso, y si ahora mira los registros del servidor, puede ver que se han agregado nuevos mensajes aqu√≠, pero por alguna raz√≥n nuevamente con la hora incorrecta y la fecha cero.  Esto es extra√±o, porque la hora correcta tambi√©n se muestra en la configuraci√≥n del enrutador R1.  Vuelvo a hacer ping al enrutador R0 desde el enrutador R1, los mensajes de registro aparecen en la pantalla y en el registro del servidor, pero nuevamente con la fecha incorrecta.  Probablemente la informaci√≥n a√∫n no se haya actualizado, y tratar√© de averiguar por qu√©. <br>  Voy a la configuraci√≥n del enrutador R0 y apago los mensajes de depuraci√≥n con el comando un all, despu√©s de lo cual voy a la configuraci√≥n del enrutador R1 e ingreso el comando de marcas de tiempo del servicio, que pone una marca de tiempo en los mensajes de depuraci√≥n o mensajes de registro.  En nuestro caso, utilizo las marcas de tiempo del servicio de registro de fecha y hora ms. <br><br>  Luego vuelvo a la configuraci√≥n de R0 y hago ping a R1.  Ahora ver√° que los mensajes aparecieron en el servidor con la fecha y la hora: 1 de marzo, 00:31:02 con milisegundos.  ¬°Pero esta es la fecha incorrecta, ya que no fij√© el 1 de marzo, sino el 14 de marzo!  Pido disculpas por cometer errores en este video tutorial, ahora los arreglar√©. <br><br>  Intentar√© configurar la hora correcta de una manera diferente.  El hecho es que hasta que activ√© el servicio de sello de tiempo, los mensajes llegaron con la hora y fecha predeterminadas.  Luego activ√© el servicio de marcas de tiempo, pero despu√©s de eso no configur√© la hora y fecha correctas, por lo que la marca de tiempo en los mensajes de registro result√≥ ser incorrecta. <br><br>  El problema con la configuraci√≥n manual de la hora es que si tiene cientos de dispositivos, debe ir a la configuraci√≥n de cada dispositivo y configurar la hora y la fecha.  Para evitar esto, existe un mecanismo autom√°tico de NTP, o protocolo de tiempo de red, que sincroniza la hora de una computadora con la hora de los dispositivos de red.  Puede seleccionar un dispositivo de red como maestro NTP y configurar el tiempo deseado.  Estudiar este protocolo est√° m√°s all√° del alcance del curso CCNA, y no estoy seguro de que el comando maestro ntp sea compatible con Packet Tracer.  Pero todav√≠a trato de establecer la hora correcta, para lo cual agregar√© otro servidor a nuestra red y le asignar√© un servidor NTP. <br><br>  Para hacer esto, entrar√© en su configuraci√≥n y comprobar√© la pesta√±a NTP.  Como puede ver, la fecha y la hora correctas se configuran aqu√≠ y la funci√≥n NTP est√° habilitada. <br><br><img src="https://habrastorage.org/webt/nm/7e/49/nm7e499hdsmljca8zx-zvpvo6ac.jpeg"><br><br>  Luego entro en la configuraci√≥n de red del Servidor1 y le asigno una direcci√≥n IP 10.1.3.10, una m√°scara de subred de 255.255.255.0 y una puerta de enlace predeterminada de 10.1.3.1.  Como mencion√© anteriormente, esta puerta de enlace no est√° configurada, por lo que entro en la configuraci√≥n del enrutador R1 y configuro la interfaz g0 / 1 para comunicarse con el servidor emitiendo ip add 10.1.3.1 255.255.255.0 y sin comandos de apagado. <br><br>  A continuaci√≥n, en la configuraci√≥n del enrutador, ingreso el comando ntp server 10.1.3.10, despu√©s de lo cual el enrutador R1 podr√° recibir la hora correcta del servidor NTP.  Como puede ver, ahora tenemos mensajes de registro de nivel 5 con la marca de tiempo correcta. <br><br><img src="https://habrastorage.org/webt/0v/qe/ek/0vqeekqk9j44hs8beajta_tukdo.jpeg"><br><br>    show clock, ,     .     ntp association,     ,      Packet Tracer,      ntp. <br><br><img src="https://habrastorage.org/webt/fq/y3/zi/fqy3zicegk9gizgj1i2cegdloz0.jpeg"><br><br>  ntp status    ,    .  ,    Stratum  2 ‚Äì  ,      NTP-,    R2    ,     1.       ,       R1,    stratum   3 (NTP- + R1 +  ),   R1     NTP-    2.  ,       . <br><br>      R0    R1   10.1.1.2,    ,      Server0     ,  . <br><br><img src="https://habrastorage.org/webt/ie/db/ep/iedbepi6kkhhb_rhw2bvhnt1bew.jpeg"><br><br>   ,   NTP  Syslog.        ‚Äì CDP,  Cisco Discovery Protocol.        . <br><br> ,      ,    ,      ,         .       Cisco,     ,   ,    IP-.  ,   LLDP,  Link Layer Discovery Protocol,      ,   CDP,            . <br><br>  CDP    Cisco  .      LLDP,        Cisco .          ,    LLDP,        Cisco,   CDP. <br><br>  ,    ,         Packet Tracer.   ,  ,  CDP     ,   Server0      R0. ,          ,    . <br><br>      CLI  R0    show cdp.  ,    cdp-  60 ,     180 ,     ‚Äì CDPv2. <br><br><img src="https://habrastorage.org/webt/fw/g-/xw/fwg-xwk2qngn5xvhyw4trnn5iai.jpeg"><br><br>  CDP    ,       , ,    .        60 .     show cdp neighbors,    ,   R0       CDP-. <br><br><img src="https://habrastorage.org/webt/wc/wq/oo/wcwqooo-dx6ng2e9j60kbeiyyf8.jpeg"><br><br>    ,   R0    ‚Äì  R1  .  R1   R    1900    R0   g0/0,    g0/0     R0. <br><br>  ,   show cdp neighbors    ,      , ,        .      ,            . <br><br>        R0 ‚Äì    2960,        g0/1.       , ,   ,   ,         ,    Capability,        : R ‚Äì , S ‚Äì , H-   ..      R0   FastEthernet 0/1. <br><br>    , CDP    .   ,   ,     ‚Äì  CDP   .   ,      ,     .     CDP?     config t         cdp run. ,     cdp    .   cdp    no cdp run.  ,    cdp,   show cdp ‚Äì  ,        CDP is not enable. <br><br>   ,     cdp    ,     .  ,   ,     cdp  cdp run,      , , int g0/1,     cdp enable,     ,  no cdp enable,       .    no cdp enable  cdp       ,      . ,   / cdp      run,     ‚Äì  enable. <br><br>      show cdp neighbors, ,         R0      ‚Äì  R1.     cdp   g0/1,   ¬´¬ª. <br><br>     LLDP      ,  CDP,  lldp run/no lldp run.  ,       Cisco  CDP ,  LLDP ‚Äì .    LLDP   , , g0/1,           lldp receive,      ,  lldp transmit,     LLDP -. <br><br>         ,    no lldp receive,     ‚Äì no lldp transmit.   CDP  LLDP   ,       ,    ‚Äì  ,        LLDP -. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/YHa-dXBfUrE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Gracias por quedarte con nosotros.  ¬øTe gustan nuestros art√≠culos?  ¬øQuieres ver m√°s materiales interesantes?       , <b>30%        entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   VPS (KVM) E5-2650 v4 (6 Cores) 10GB DDR4 240GB SSD 1Gbps  $20     ?</a>  (las opciones est√°n disponibles con RAID1 y RAID10, hasta 24 n√∫cleos y hasta 40GB DDR4). <br><br>  <b>Dell R730xd 2 veces m√°s barato?</b>  ¬°Solo tenemos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV desde $ 199</a> en los Pa√≠ses Bajos!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - ¬°desde $ 99!</b></b>  Lea sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">C√≥mo construir un edificio de infraestructura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">clase utilizando servidores Dell R730xd E5-2650 v4 que cuestan 9,000 euros por un centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/465977/">https://habr.com/ru/post/465977/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../465961/index.html">Aprenda marketing en Internet por su cuenta: m√°s de 50 cursos gratuitos</a></li>
<li><a href="../465963/index.html">Biograf√≠a Salarial en Alemania 2019</a></li>
<li><a href="../465969/index.html">La correcci√≥n pol√≠tica penetra a Rusia a trav√©s de libros sobre dise√±o de chips en SystemVerilog para no principiantes</a></li>
<li><a href="../465973/index.html">Los 10 informes de video m√°s populares del 404fest 2018</a></li>
<li><a href="../465975/index.html">Gu√≠a SQL: C√≥mo escribir mejor las consultas (Parte 2)</a></li>
<li><a href="../465979/index.html">Recuerde que todo ^ W es justo lo que necesita. Experiencia con Anki. Parte 1 (introductoria, pen√∫ltima)</a></li>
<li><a href="../465981/index.html">Mi experiencia de administraci√≥n de IBM DB2 Express-C cuando se usa con 1C: Enterprise</a></li>
<li><a href="../465983/index.html">Intel Comet Lake: un poco de 14 nm en la d√©cima generaci√≥n</a></li>
<li><a href="../465985/index.html">Aceleramos el procesamiento distribuido de gr√°ficos grandes utilizando estructuras de datos probabil√≠sticas y no solo</a></li>
<li><a href="../465987/index.html">El loro ha aterrizado. El anuncio del libro "Aprendizaje profundo generativo"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>