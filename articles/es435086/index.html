<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëï üêû üîÇ ¬øQu√© debemos construir nuestro elevador PCI-E üìì ü•ã üë©‚Äçüë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√ârase una vez que estaba armando una mini computadora para m√≠. Pero aqu√≠ est√° la desgracia: el modelado 3D y qu√© pecado esconder: los juguetes banales...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© debemos construir nuestro elevador PCI-E</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435086/"><img src="https://habrastorage.org/webt/p2/bj/wm/p2bjwmqo6yot_eufjkklj-p9oqu.jpeg"><br><br>  √ârase una vez que estaba armando una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mini computadora para</a> m√≠.  Pero aqu√≠ est√° la desgracia: el modelado 3D y qu√© pecado esconder: los juguetes banales hicieron que esta caja tuviera mucho en qu√© pensar, y yo, que me pusiera nervioso.  Pero no puede simplemente tomar y conectarle una tarjeta de video; hay una ranura PCI-E X4, pero no hay espacio en el estuche.  Y no podr√° proporcionar nutrici√≥n (si no hablar de tapones absolutamente econ√≥micos).  Qu√© opciones para resolver este problema est√°n en el mercado, qu√© no me conven√≠a y qu√© sucedi√≥ en √∫ltima instancia, intentar√© describirlo en este art√≠culo.  ¬°Pido un gato que no le tenga miedo a una <b>gran cantidad de fotos</b> ! <br><a name="habracut"></a><br><h4>  <font color="#9cc2ce">Prologo</font> </h4><br>  Para conectar una tarjeta de video, se requer√≠a una tarjeta vertical PCI-E con 4 l√≠neas con una fuente de alimentaci√≥n adicional con la capacidad de controlarla si la fuente de alimentaci√≥n est√° separada.  Por lo tanto, los cables de bucle invertido habituales y muchos dolorosamente familiares desaparecen inmediatamente debido a la extracci√≥n de un elevador con un cable USB como interfaz. <br><br><img src="https://habrastorage.org/webt/z3/-v/qf/z3-vqfkmh5u-8rf9nk5d6btibjs.png"><br>  <font color="gray"><i>Productos a granel con calidad masiva</i></font> <br><br>  Y aqu√≠ est√° una de las consultas m√°s o menos satisfactorias que se pueden encontrar en la vasta red: <br><br><ul><li>  <u>PE4C V4.1</u> : en primer lugar, la placa instalada en la ranura obviamente no cab√≠a en mi PC en t√©rminos de dimensiones.  Y los cables HDMI en s√≠ mismos son bastante resistentes, ¬°y hay 2 de ellos!  Y el precio de ~ $ 140 me pareci√≥ no muy humano. <br><br><img src="https://habrastorage.org/webt/o_/6f/gp/o_6fgpmt7rycyfm4d6gzqdzrvq8.jpeg"><br></li></ul><br><ul><li>  <u>EXP GDC</u> : hab√≠a una versi√≥n para la ranura pci-e x4, pero tambi√©n ten√≠a un precio inhumano, 2 cables HDMI ya vistos anteriormente.  Ahora ni siquiera puedo encontrar su foto: rara vez se vendi√≥ fuera de China.  Pero para la ranura pci-e x4, la placa es incluso m√°s grande que la PE4C <br><br><img src="https://habrastorage.org/webt/5t/lh/5y/5tlh5y3hjqp6ubkdkoasdcbzwt0.jpeg"><br>  <font color="gray"><i>Versi√≥n para M2.</i></font>  <font color="gray"><i>Y para una ranura PCI-E normal, es como si nada hubiera desaparecido</i></font> <br></li></ul><br><ul><li>  <u>Elevador de ADT-Link</u> : en el momento de mi lanzamiento no estaba representado.  Y ahora no hay mucha informaci√≥n sobre ellos.  Pero me pareci√≥ <s>tremendamente</s> extra√±o variar tanto el precio del dispositivo de la longitud del cable. <br><br><img src="https://habrastorage.org/webt/wn/ae/nx/wnaenxuhmyhic2x2yeevmleii7g.jpeg"><br></li></ul><br>  Al no encontrar una soluci√≥n adecuada para m√≠, tuve que elegir entre dos opciones: anotar o hacerlo nosotros mismos.  Est√° claro que para la primera opci√≥n el art√≠culo podr√≠a completarse sobre esto, pero probablemente continuar√©. <br><br><h4>  <font color="#9cc2ce">Dise√±o</font> </h4><br>  Habiendo hablado en varias comunidades dedicadas a este tema, se decidi√≥ hacer que el elevador sea universal, y no solo por s√≠ mismo, para que pueda conectarse a una computadora port√°til (a trav√©s de Mini Pci-E, M2 o incluso MXM) y a una computadora en la ranura x16 sin restricci√≥n a solo 4 l√≠neas de datos ! <br><br>  Aqu√≠ est√° la lista de requisitos que establec√≠ para m√≠: <br><br><ul><li>  La fuente de alimentaci√≥n es de solo 12v.  3.3v recibe en el riser mismo usando un convertidor dc-dc. </li><li>  Administraci√≥n de energ√≠a independientemente del tipo de PSU utilizada (administrada por ATX o PSU normal a 12v) </li><li>  Conexi√≥n de varios adaptadores mediante cables desmontables del mismo tipo (sin soldar). </li><li>  Divide la interfaz x16 en 4 grupos.  Por lo tanto, para la interfaz x1-x4: 1 cable, x8 - 2 cables y 4 cables para x16. </li><li>  La situaci√≥n a veces observada por m√≠ cuando la tarjeta de video conectada a la computadora port√°til a trav√©s de EXP GDC se suministr√≥ con una fuente de alimentaci√≥n para computadora port√°til a 19v (hay un conector, debe enchufarla) movida para agregar una indicaci√≥n del voltaje de entrada dentro de los l√≠mites permitidos: 12v ¬± 5%. </li></ul><br><h4>  <font color="#9cc2ce">Implementaci√≥n</font> </h4><br>  Lista de deseos descrita, el coraje se ha acumulado lo suficiente, ¬°es hora de implementarlo!  Riser es esencialmente un cable de extensi√≥n.  Y el cable es su parte principal.  Como tal, se utilizaron variedades de cables LVDS, el llamado conjunto de cable micro coaxial.  A menudo se usan para conectar matrices de pantalla de varios dispositivos. <br><br><img src="https://habrastorage.org/webt/pj/er/0f/pjer0feihmdlcf3js7dpts-z_xw.png"><br>  <font color="gray"><i>Cable desnudo 18+</i></font> <br><br><img src="https://habrastorage.org/webt/sb/zy/ce/sbzycezhtq51c9qlmn1pow8wva8.png"><br>  <font color="gray"><i>30 n√∫cleos y solo 2 mm de di√°metro</i></font> <br><br>  Aunque es extremadamente dif√≠cil encontrarlos en una venta abierta, logr√© encontrar un fabricante en China que estuviera listo para fabricar tales cables en cualquier cantidad (incluso 1 PC) de cualquier longitud y con un conector adecuado. <br><br>  Cuando termin√≥ la elecci√≥n del cable de interfaz, finalmente pude desarrollar una placa vertical de placa de circuito y la selecci√≥n de componentes.  Al final, se ordenaron las placas desarrolladas, se compraron los componentes y se arm√≥ todo: <br><br><img src="https://habrastorage.org/webt/vv/mo/qz/vvmoqzz8uiuk_tpq6kuu3j3gebo.jpeg"><br>  <font color="gray"><i>Tablero superior</i></font> <br><br><img src="https://habrastorage.org/webt/r7/r1/sj/r7r1sjjqoryuinebpfp_vbta-co.jpeg"><br>  <font color="gray"><i>Tablero inferior</i></font> <br><br><ol><li>  Conector de alimentaci√≥n de 8 pines (corriente m√°xima de 15 A), combinado con la se√±al de habilitaci√≥n (para fuentes de alimentaci√≥n ATX) </li><li>  El circuito de visualizaci√≥n de la tensi√≥n de alimentaci√≥n dentro de los l√≠mites aceptables (+ 12v ¬± 5%) en el comparador de ventanas.  LED verde - el voltaje es normal, rojo - fuera de rango </li><li>  Administraci√≥n de energ√≠a: Mosfet en caso de que la fuente de alimentaci√≥n se use sin control y se emita la se√±al PS ON.  La se√±al de control es una fuente de alimentaci√≥n de 3.3v en el host </li><li>  Reduzca DC \ DC para obtener 3.3v </li><li>  Conector del refrigerador </li><li>  Conectores LVDS para cables de interfaz. </li><li>  Ranura PCI-E x16 </li><li>  Protecci√≥n contra cortocircuito y sobretensi√≥n: fusible y diodo TVS. </li><li>  Conexi√≥n de energ√≠a adicional de la tarjeta de video </li></ol><br>  En el otro lado del cable, la placa del adaptador para la ranura del dispositivo final: <br><br><img src="https://habrastorage.org/webt/yo/k4/mw/yok4mw0n4kfakoz02-wz0sdkyhc.jpeg"><br><br>  Una desventaja significativa de tal soluci√≥n (como con los an√°logos) es que no puede conectar / desconectar r√°pidamente un elevador sin tener que desmontar una computadora port√°til / computadora.  Y los conectores en s√≠ mismos no est√°n destinados para uso externo y tienen baja resistencia mec√°nica y bajos recursos.  Por lo tanto, tambi√©n hice aqu√≠ un adaptador con conectores m√°s confiables (el cable con dichos conectores no se puede fabricar de inmediato ... por dinero razonable): <br><br><img src="https://habrastorage.org/webt/j4/jz/ww/j4jzwwivpvc5wn2o_ifthhzvmcu.jpeg"><br>  <font color="gray"><i>Se utilizaron conectores similares en estaciones de acoplamiento para tel√©fonos inteligentes, tabletas y otros dispositivos.</i></font> <br><br><img src="https://habrastorage.org/webt/fw/o8/z5/fwo8z5ygz-xrb5rkktvomw-2ljg.jpeg"><br>  <font color="gray"><i>Conexi√≥n mediante 2 cables, y estos adaptadores los conectan</i></font> <br><br><h4>  <font color="#9cc2ce">Prueba</font> </h4><br>  Todos los componentes de las placas est√°n soldados, los cables est√°n conectados, ¬°es hora de cruzar los dedos y probar! <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/rr/0k/k-/rr0kk-g4bbpgdbyh5bqqt921ofw.jpeg"></a> <br>  <font color="gray"><i>En la foto hay un prototipo y tiene diferencias con la versi√≥n final.</i></font> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/lf/tm/bj/lftmbj8hmxxvdbe4kq8yy9uuqdo.jpeg"></a> <br>  <font color="gray"><i>Como se conectaron con 2 cables de interfaz, obtuvimos PCI-E x8.</i></font> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/lz/tf/hv/lztfhvmz7pevnyjetd92pqlytgq.jpeg"></a> <br>  <font color="gray"><i>Al pasar varias pruebas, no hubo problemas y la tarjeta de video funcion√≥ de manera estable bajo carga, y la frecuencia del bus aument√≥ (gen3)</i></font> <br><br>  Para las pruebas, logr√© obtener una computadora port√°til con una ranura M2 Key M con soporte NVME: MSI GE62 6QD.  Pero para el prototipo, se hizo un adaptador con teclas M + B para una mayor versatilidad, por lo que es posible usar solo 2 l√≠neas de las 4 disponibles: <br><br><img src="https://habrastorage.org/webt/9r/n5/4v/9rn54vaeb-xawf7yk2brqiyqric.jpeg"><br>  <font color="gray"><i>Como era un prototipo, el uso de cinta aislante y la eliminaci√≥n de CC / CC en una placa separada son bastante apropiados.</i></font> <br><br><img src="https://habrastorage.org/webt/fy/sz/sp/fyszspm12mxmhpjypn5tmcn8tig.jpeg"><br>  <font color="gray"><i>Inicio de una computadora port√°til con EGPU.</i></font>  <font color="gray"><i>La fuente de alimentaci√≥n se inicia autom√°ticamente cuando enciende la computadora port√°til</i></font> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ys/kc/vh/yskcvhwvjr4gpt4peovc6xez95s.jpeg"></a> <br>  <font color="gray"><i>Debido a la presencia de una tarjeta gr√°fica integrada y discreta en la computadora port√°til, tuve que jugar con la instalaci√≥n de controladores</i></font> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/y1/xc/88/y1xc88bommcd9fphyak-6ypcvra.jpeg"></a> <br>  <font color="gray"><i>Trabajar bajo carga</i></font> <br><br>  Desafortunadamente, estas gl√°ndulas estuvieron a mi disposici√≥n por un tiempo muy corto y no pude realizar una prueba m√°s detallada despu√©s de recibir la versi√≥n final del elevador.  Entonces era necesario contentarse solo con tal hierro: <br><br><ul><li>  MP Asus Q87T </li><li>  CPU Core I3 4150T </li><li>  RAM 2 * 4GB Crucial DDR3L SO-DIMM PC-12800 </li><li>  Wi-Fi / BT Intel Dual Band Wireless-AC 7260 </li><li>  Unidad de estado s√≥lido mSATA 120GB Crucial M500 </li><li>  HDD 2.5` Seagate Momentus 500GB </li><li>  MSI RX 560 4Gb </li></ul><br><img src="https://habrastorage.org/webt/iy/7l/7u/iy7l7uysi3amdu4sobxmthwp4-y.jpeg"><br>  <font color="gray"><i>Por el bien de lo que todo comenz√≥ realmente</i></font> <br><br>  Por supuesto, la configuraci√≥n est√° lejos de ser productiva y no funcion√≥ en varias pruebas para obtener una ventaja significativa al conectarse a trav√©s del bus x4 en lugar de x1.  A menudo todo descansaba sobre un hierro d√©bil. <br><br><img src="https://habrastorage.org/webt/ah/7e/kg/ah7ekg0jws0yqnvyatvwh9-jwzi.png"><br>  <font color="gray"><i>Margen de error</i></font> <br><br>  Los juegos del tipo MOBA (WOT, por ejemplo) mostraron indiferencia hacia el bus en esta configuraci√≥n: si hay una cantidad suficiente de memoria de video, no hay necesidad de cargar datos en ubicaciones peque√±as y cerradas. <br><br>  Pero en los juegos en l√≠nea con un mundo abierto, especialmente en lugares de reuni√≥n masiva de jugadores, la diferencia es bastante notable.  Aqu√≠ hay 3 medidas de FPS en Black Desert: <br><div class="scrollable-table"><table><tbody><tr><td>  Medida </td><td>  min </td><td>  promedio </td><td>  max </td></tr><tr><td colspan="4">  pci-e x4 gen1 ‚âà pci-e x1 gen3 </td></tr><tr><td>  1 </td><td>  5 5 </td><td>  28 </td><td>  51 </td></tr><tr><td>  2 </td><td>  5 5 </td><td>  29 </td><td>  49 </td></tr><tr><td>  3 </td><td>  5 5 </td><td>  29 </td><td>  51 </td></tr><tr><td colspan="4">  pci-e x4 gen3 </td></tr><tr><td>  1 </td><td>  7 7 </td><td>  31 </td><td>  56 </td></tr><tr><td>  2 </td><td>  6 6 </td><td>  30 </td><td>  51 </td></tr><tr><td>  3 </td><td>  7 7 </td><td>  31 </td><td>  53 </td></tr></tbody></table></div><br><h4>  <font color="#9cc2ce">Planes y resultados</font> </h4><br>  Aunque el proyecto fue concebido como universal y no solo para s√≠ mismo, no encontr√≥ mucha popularidad.  No se encuentra en absoluto.  Sin embargo, obtuve lo que quer√≠a e invaluable experiencia y conocimiento.  Como dicen, ¬°un resultado negativo tambi√©n es un resultado! <br><br>  Tambi√©n a menudo me preguntan por qu√© no intent√© implementar el soporte para la interfaz de Thunderbolt3, ahora de moda.  El problema es que esta interfaz requerir√° una licencia de Intel.  Y no solo dar√°n ninguna documentaci√≥n para los controladores.  Incluso hay un c√≠rculo estrecho de desarrolladores de soluciones en Thunderbolt3 bajo el patrocinio del mismo Intel.  Naturalmente, no me aceptaron all√≠. <br><br>  Aunque hubo rumores de que esta interfaz ser√° abierta y accesible para todos, pero por el momento son solo rumores y el est√°ndar se ha mantenido cerrado.  Pero me encantar√≠a intentar desarrollar el proyecto en esta direcci√≥n. <br><br>  Hubo bastantes preguntas sobre la opci√≥n de conectarse en lugar de las tarjetas de video MXM.  Hab√≠a planes para tal opci√≥n, pero tuve que abandonarla por dos razones: los fondos para I + D llegaron a su fin y no ten√≠a nada para probarlo. <br><br>  En general, estar√© muy contento de escuchar comentarios y sugerencias de los vendedores ambulantes.  Gracias por su atencion! <br><br><h4>  <font color="#9cc2ce">PS</font> </h4><br>  Dado que esta es generalmente mi primera experiencia en el desarrollo de un dispositivo electr√≥nico, tuve que recurrir a personas con m√°s experiencia en este aspecto, por lo que quiero agradecer a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">NordicEnergy</a> and <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">Paging</a> por el consejo y las respuestas a mis preguntas (a veces tontas). <br><br><h4>  <font color="red">Archivos de proyecto</font> </h4></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es435086/">https://habr.com/ru/post/es435086/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es435076/index.html">C√≥mo los especialistas en marketing que trabajan con Google monetizan nuestra incomodidad</a></li>
<li><a href="../es435078/index.html">¬øQu√© pasa si la inteligencia artificial hace que los actores sean inmortales?</a></li>
<li><a href="../es435080/index.html">Gu√≠a: Thymeleaf + Spring. Parte 2</a></li>
<li><a href="../es435082/index.html">Silicon Valley Yoda</a></li>
<li><a href="../es435084/index.html">C√≥mo trabajar con async / await en bucles JavaScript</a></li>
<li><a href="../es435088/index.html">El gigante chino de streaming Tencent Music se convierte en IPO p√∫blica: ¬øqu√© significa y qu√© deben esperar los competidores?</a></li>
<li><a href="../es435090/index.html">Hyundai Motor Group introdujo el concepto de carga inal√°mbrica y estacionamiento aut√≥nomo</a></li>
<li><a href="../es435094/index.html">Gamepad de Sega Mega Drive y Raspberry Pi Parte 2 (seis botones finales)</a></li>
<li><a href="../es435096/index.html">El efecto de la radio de tubo caliente.</a></li>
<li><a href="../es435098/index.html">ADB vs Spy Cam & Mic</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>