<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏾 👭 🐀 A nuvem é apenas o computador de alguém 👨🏼‍🚀 ⏩ 💅🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quando lançamos o Discourse em 2013, nossos requisitos de servidor eram altos: 



- 1 GB de RAM 
- cpu dual core rápido 
- unidade de estado sólido r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>A nuvem é apenas o computador de alguém</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440712/">  Quando lançamos o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Discourse</a> em 2013, nossos requisitos de servidor eram altos: <br><br><ul><li>  1 GB de RAM </li><li>  cpu dual core rápido </li><li> unidade de estado sólido rápida de 20 GB </li></ul><br>  Não quero dizer um servidor cpanel compartilhado barato, mas um servidor privado virtual <em>dedicado</em> com essas características. <br><br>  Isso foi suficiente para nós, porque durante a próxima década da Internet, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">escrevemos em Ruby</a> .  Eu previ imediatamente que o preço do aluguel do VPS com essas características cairia para US $ 5 por mês e, graças à Digital Ocean, isso realmente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aconteceu em janeiro de 2018</a> . <br><br>  A nuvem ficou mais barata e mais rápida.  E isso não é muito surpreendente, porque, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">com o tempo, o preço do ferro diminui para zero</a> .  Mas isso ainda é uma nuvem, ou seja, não é totalmente <em>barato</em> .  Afinal, este é o computador de outra pessoa pelo qual você paga o privilégio de aluguel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43b/3eb/b04/43b3ebb0491111cf0276d3a73098c9b5.png"></div><br>  Mas espere ... <strong>e se você puder colocar <em>seu</em> computador "na nuvem"?</strong> <br><a name="habracut"></a><br>  Essa solução não teria a vantagem de ambas as abordagens?  Confiabilidade da conexão mais baixo pagamento mensal por equipamento extremamente rápido?  Se isso lhe parece louco, você deve mudar de idéia - os usuários de Mac já fazem isso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">há vários anos</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/529/423/d9a/529423d9a9bd18b9ac945a3b25f2121b.png"></div><br>  Acho compreensível que os usuários de Mac nesta área estejam na vanguarda da tecnologia, porque a Apple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">quase não fabrica hardware de servidor</a> , enquanto o mundo dos PCs sempre foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o padrão de fato para o hardware de servidor</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b46/ccd/4d3/b46ccd4d3c7cc338525a0c97d2249671.jpg"></div><br>  Dada a prevalência e o nível de desenvolvimento dos provedores de serviços em nuvem, a idéia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colocar servidores reais</a> hoje parece um <em>pouco</em> controversa.  Também experimentamos a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colocação de mini-pc</a> em diferentes configurações de hospedagem.  Ainda estou curioso para saber por que não existem tantas pequenas empresas que fornecem serviços de colocação de mini PC.  Porque ... <em>eu acho que eles devem existir</em> . <br><br>  Inicialmente, escrevi sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">computadores de scooter</a> adicionados à nossa infraestrutura de Discurso em 2016, além de meu próprio experimento com colocação em paralelo.  <strong>Após três anos de experimentação, cheguei à conclusão de que essas caixas pequenas são bastante confiáveis</strong> , mas com uma ressalva, que explicarei nos comentários.  Eu ainda permaneço um fã da colocação de mini-PC.  Gosto tanto que montei uma nova versão de 2019: <br><br><table><tbody><tr><td>  <b>2017 - $ 670</b> </td><td>  <b>2019 - $ 820</b> </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">i7-7500u</a> <br>  2,7-3,5 Ghz, 2c / 4t </td><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">i7-8750h</a> <br>  2,2-4,1 Ghz, 6c / 12t </td></tr><tr><td>  16GB DDR3 RAM </td><td>  32GB DDR4 RAM </td></tr><tr><td>  SSD SATA de 500 GB </td><td>  SSD NVMe de 500 GB </td></tr></tbody></table><br>  O computador de scooter deste ano <strong>triplicou o número de núcleos, dobrou a memória e dirigiu três vezes mais rápido</strong> .  É o que as crianças dizem na Internet ... <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">unidade absoluta</a></em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/82e/b84/923/82eb849236ef1b31c27e7e08d2d49ee5.jpg"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b1/0ac/30d/2b10ac30dcdbd42d45274666bf8d24fc.jpg" alt="2019-scooter-computador-inferior-interior"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c07/fb5/f32/c07fb5f32e87008d9c0e4d2d323bc677.jpg" alt="2019-scooter-computador-frente-e-trás"></div><br>  Além disso, possui um circuito interno de dupla face bastante elegante.  Ele tem um slot para uma unidade antiga de 2,5 polegadas, além de wi-fi embutido, mas você não os verá nas minhas fotos, porque eu os removi fisicamente. <br><br>  Verifiquei a viabilidade da caixa usando meu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">teste recomendado de estabilidade e trabalho sob carga</a> , e todos foram aprovados com honra, embora no processo eu tenha que substituir um conjunto de ripas de RAM com erros.  Os benchmarks mostram a verdade em comparação com a gota média da Ocean Digital: <br><br>  <strong>Desempenho central</strong> <br><br> <code>sysbench cpu --cpu-max-prime=20000 run</code> <br> <br><table><tbody><tr><td>  Droplet DO </td><td>  2.988 </td></tr><tr><td>  Mini-PC 2017 </td><td>  4.800 </td></tr><tr><td>  Mini-PC 2019 </td><td>  5.671 </td></tr></tbody></table><br>  <strong>Desempenho multinúcleo</strong> <br><br> <code>sysbench cpu --cpu-max-prime=40000 --num-threads=8 run</code> <br> <br><table><tbody><tr><td>  Droplet DO </td><td>  2.200 </td></tr><tr><td>  Mini-PC 2017 </td><td>  5.588 </td></tr><tr><td>  Mini-PC 2019 </td><td>  14.604 </td></tr></tbody></table><br>  <strong>Velocidade do disco</strong> <br><br> <code>dd bs=1M count=512 if=/dev/zero of=test conv=fdatasync</code> <br> <br> <code>hdparm -Tt /dev/sda</code> <br> <br><table><tbody><tr><td>  Droplet DO </td><td>  701/8818/471 MB / s </td></tr><tr><td>  Mini-PC 2017 </td><td>  444/12564/505 MB / s </td></tr><tr><td>  Mini-PC 2019 </td><td>  1200/17919/3115 MB / s </td></tr></tbody></table><br>  <strong>Reconstruir Discurso</strong> <br><br> <code>time ./launcher rebuild app</code> <br> <br><table><tbody><tr><td>  Droplet DO </td><td>  6:59 da manhã </td></tr><tr><td>  Mini-PC 2017 </td><td>  3:41 </td></tr><tr><td>  Mini-PC 2019 </td><td>  3:24 </td></tr></tbody></table><br>  O consumo de energia pode ser um problema, porque a versão 2017 teve uma dissipação de calor (TDP) muito menor de 15 watts, em comparação com 45 watts da versão atual.  Triplicar o número de núcleos não passa sem deixar rasto!  Portanto, testei tudo sozinho com uma combinação de <code>i7z</code> , <code>stress</code> e meu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">wattímetro</a> pessoal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/782/6e4/ea5/7826e4ea53982a726746b98c67a375bd.png"></div><br><table><tbody><tr><td>  (login inativo) </td><td>  800 mhz </td><td>  10 watts </td></tr><tr><td> <code>stress --cpu 1</code> </td> <td>  4.1 GHz </td><td>  30 watts </td></tr><tr><td> <code>stress --cpu 2</code> </td> <td>  4.1 GHz </td><td>  42 watts </td></tr><tr><td> <code>stress --cpu 3</code> </td> <td>  4,0 GHz </td><td>  53 watts </td></tr><tr><td> <code>stress --cpu 4</code> </td> <td>  3.9 GHz </td><td>  65 watts </td></tr><tr><td> <code>stress --cpu 5</code> </td> <td>  3.7 GHz </td><td>  65 watts </td></tr><tr><td> <code>stress --cpu 6</code> </td> <td>  3,5 GHz </td><td>  65 watts </td></tr><tr><td> <code>stress --cpu 12</code> </td> <td>  3,3 ghz </td><td>  65 watts </td></tr></tbody></table><br>  Eu esperaria ver cerca de 10-20 watts ao executar tarefas típicas com baixa carga, sem realmente ocupar a CPU.  Observe que o lançamento das versões atuais do <code>mprime</code> aumenta o consumo de energia para 75 watts e a freqüência geral do relógio diminui 3,1 GHz ... e devo dizer que aprendi a ter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>muito</em> medo das extensões do AVX2</a> . <br><br>  (Não há necessidade de se preocupar com ruídos. Este sistema de resfriamento ativo é obviamente muito poderoso para uma carga de 65 W, porque mal gira mesmo com carga total nos núcleos. Era <em>extremamente</em> silencioso.) <br><br>  Portanto, estou muito satisfeito com a compra deste carro por US $ 820 - é muito rápido e confiável.  Mas e os custos de colocação?  Meu provedor de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">localização</a> é o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">EndOffice</a> , um subúrbio de Boston que oferece preços muito acessíveis de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">colocações de</a> mini-PC: US ​​$ 29 / mês. <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/2e2/8ab/494/2e28ab494aaf4cd292d06f65dda0cf1e.png"></a> </div><br>  Pessoalmente, coloquei em um local três mini-PCs por uma questão de redundância e por precaução;  para a colocação de vários carros, é oferecido um desconto.  Todos eles são montados em rack e estão em operação.  Obviamente, eu os instalei antes da instalação. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c27/dbd/4a3/c27dbd4a3022fd08b87bab34e19c69d3.jpg"></div><br>  Vamos analisar tudo e comparar os custos da colocação do Mini-PC e da nuvem.  Dado o platô no aumento da velocidade da CPU, acredito que cinco anos de trabalho útil para essas caixas serão uma estimativa realista, mas sejamos conservadores e tomemos um período de três anos de operação para garantir a confiabilidade. <br><br><ul><li>  PC Miini de US $ 880 com 32 GB de RAM, 6 CPUs, SSD de 500 GB </li><li>  120 dólares - impostos / entrega / outros </li><li>  29 × 12 × 3 = 1.044 dólares </li></ul><br>  Isso significa <strong>US $ 2.044 por três anos de hospedagem</strong> .  Qual é a imagem do Digital Ocean?  De acordo com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a lista de preços atual</a> : <br><br><ul><li>  32 GB de RAM, 8 CPUs virtuais, SSD de 640 GB </li><li>  160 dólares / mês </li><li>  160 × 12 × 3 = <strong>5.760 dólares</strong> </li></ul><br>  A comparação é imprecisa, porque temos um espaço adicional em disco de 140 GB e 2 CPUs adicionais, mas em comparação com nossas CPUs dedicadas e isoladas, esses processadores são mais lentos e parcialmente absorvidos pela multilocação.  (Fiquei curioso, então, para um teste curto, criei uma nova instância de DO por US $ 160 / mês. O <code>sysbench</code> mostra os resultados em 4086 e 11760, respectivamente, o que é muito menor que os resultados do Mini-PC 2019 mostrado acima.) Como você pode ver, <strong>pagamos pelo servidor em nuvem quase três vezes mais.</strong> <br><br>  Não afirmo que a solução seja adequada para todos.  Se você só precisa criar rapidamente um ou dois servidores para teste e experimentação, mas absolutamente não deseja gastar dinheiro montando e colidindo mini-pcs, não há dúvida de que os servidores na nuvem fornecem flexibilidade e redundância sem precedentes.  Mas se você precisar de <strong>recursos de computação dedicados por vários anos</strong> , a montagem de sua própria nuvem pessoal com as máquinas que <em>pertencem a você</em> não representa apenas um terço dos custos ... mas também é conveniente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a6/1ac/148/3a61ac1481ab4f677efad72180c34859.jpg"></div><br>  Se você também deseja participar de um projeto, pode comprar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">na Amazon o mesmo Partaker B18 que tenho por US $ 490</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">encomendar US $ 460 diretamente da China através do AliExpress</a> .  Adicione memória e armazenamento ao seu gosto, construa um carro e escolha qualquer provedor de localização ao seu gosto. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440712/">https://habr.com/ru/post/pt440712/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440698/index.html">6 idéias interessantes de aplicativos de realidade aumentada (AR)</a></li>
<li><a href="../pt440702/index.html">Cuidado - GÁS! ou Como fizemos contratos inteligentes não carbonatados</a></li>
<li><a href="../pt440706/index.html">Conferência profissional da IoT da InoThings ++ - O que foi e o que será</a></li>
<li><a href="../pt440708/index.html">Seminário on-line aberto "Trabalho: um e outro"</a></li>
<li><a href="../pt440710/index.html">Dois aspectos do WebView: sobre o início rápido de projetos e o roubo de dados pessoais</a></li>
<li><a href="../pt440714/index.html">Como a redução da taxa de aquisição nos afeta (portadores de cartão)</a></li>
<li><a href="../pt440716/index.html">Implementação do maior IDCS pré-montado para autoridades públicas em Volgogrado</a></li>
<li><a href="../pt440718/index.html">Transferência de dados entre cenas no Unity - aplicando valores múltiplos ao desenvolvimento de jogos simples</a></li>
<li><a href="../pt440720/index.html">Implementamos a interface do usuário no iOS: melhoramos, aceleramos, dimensionamos</a></li>
<li><a href="../pt440722/index.html">Um pouco de prática da programação funcional no Swift para iniciantes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>