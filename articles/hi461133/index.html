<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тЩВя╕П ЁЯд╛ЁЯП╜ ЁЯзЩЁЯП╝ TSQLt рдХреЗ рд╕рд╛рде SQL рд╕рд░реНрд╡рд░ рдХреЛрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг ЁЯзУЁЯП╛ ЁЯеЭ ЁЯдЫЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="FYI рдХрд░реЗрдВ: рдпрд╣ рд▓реЗрдЦ SQA рдбреЗрдЬрд╝ # 25 рдкрд░ рдореЗрд░реА рд░рд┐рдкреЛрд░реНрдЯ рдХрд╛ рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╕рдВрд╕реНрдХрд░рдг рд╣реИред 

 рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рдореЗрд░реЗ рдЕрдиреБрднрд╡ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдореИрдВ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TSQLt рдХреЗ рд╕рд╛рде SQL рд╕рд░реНрд╡рд░ рдХреЛрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arcadia/blog/461133/">  <i>FYI рдХрд░реЗрдВ: рдпрд╣ рд▓реЗрдЦ SQA рдбреЗрдЬрд╝ # 25 рдкрд░ рдореЗрд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд░рд┐рдкреЛрд░реНрдЯ</a> рдХрд╛ рдПрдХ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рд╕рдВрд╕реНрдХрд░рдг рд╣реИред</i> <br><br>  рд╕рд╣рдХрд░реНрдорд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреЗ рдореЗрд░реЗ рдЕрдиреБрднрд╡ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдореИрдВ рдХрд╣ рд╕рдХрддрд╛ рд╣реВрдВ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдЕрднреНрдпрд╛рд╕ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рд╕рдВрднрд╛рд╡рд┐рдд рдЦрддрд░рд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рддрд░реНрдХ рдЙрдиреНрд╣реАрдВ рд▓реЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ "рдирд┐рдпрдорд┐рдд" рдХреЛрдб рд▓рд┐рдЦрддреЗ рд╣реИрдВред  рдирддреАрдЬрддрди, рддреНрд░реБрдЯрд┐рдпрд╛рдВ рднреА рд╡рд╣рд╛рдВ рдореМрдЬреВрдж рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рдФрд░ рд╡реЗ рдЙрддреНрдкрд╛рдж, рд╡реНрдпрд╡рд╕рд╛рдп рдФрд░ рдЙрдкрднреЛрдХреНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдирдХрд╛рд░рд╛рддреНрдордХ рдкрд░рд┐рдгрд╛рдо рднреА рджреЗ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рдХрд┐ рдпрд╣ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИ рдЬреЛ рдмреИрдХрдПрдВрдб рдХреА рдорджрдж рдХрд░рддрд╛ рд╣реИ, рдпрд╛ рдИрдЯреАрдПрд▓ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬреЛ рдбреЗрдЯрд╛ рдХреЛ рднрдВрдбрд╛рд░рдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддреЗ рд╣реИрдВ - рдПрдХ рдЬреЛрдЦрд┐рдо рд╣реИ, рдФрд░ рдкрд░реАрдХреНрд╖рдг рдЗрд╕реЗ рдХрд╛рдлреА рдХрдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдореИрдВ рдЖрдкрдХреЛ рдмрддрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ tSQLt рдХреНрдпрд╛ рд╣реИ рдФрд░ рдпрд╣ SQL рд╕рд░реНрд╡рд░ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдореЗрдВ рдХреИрд╕реЗ рд╣рдорд╛рд░реА рдорджрдж рдХрд░рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/-h/nx/2e-hnxb3bddbq3ck_8vi4jwah8i.jpeg"></div><br><a name="habracut"></a><br><h1>  рдкреНрд░рд╕рдВрдЧ </h1><br>  рд╡рд┐рднрд┐рдиреНрди рдиреИрджрд╛рдирд┐рдХ тАЛтАЛрдЕрдиреБрд╕рдВрдзрд╛рди рдбреЗрдЯрд╛ рд╡рд╛рд▓реЗ SQL рд╕рд░реНрд╡рд░ рдкрд░ рдПрдХ рдмрдбрд╝рд╛ рд╡реЗрдпрд░рд╣рд╛рдЙрд╕ рд╣реИред  рдпрд╣ рд╡рд┐рднрд┐рдиреНрди рд╕реНрд░реЛрддреЛрдВ (рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝-рдЙрдиреНрдореБрдЦ рдбреЗрдЯрд╛рдмреЗрд╕) рд╕реЗ рднрд░рд╛ рд╣реБрдЖ рд╣реИред  рд╕рд░реНрд╡рд░ рдХреЗ рдЕрдВрджрд░, рдбреЗрдЯрд╛ рдХреЛ рдмрд╛рд░-рдмрд╛рд░ ETL рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдпрд╣ рдбреЗрдЯрд╛ рд╡реЗрдм рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЫреЛрдЯреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдЕрдкрд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдХреБрдЫ рдЫреЛрдЯреА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддрд╛ рд╣реИред  рдЧреНрд░рд╛рд╣рдХ рдХреЗ рдХреБрдЫ рдЧреНрд░рд╛рд╣рдХ рдЕрдкрдиреА рдЖрдВрддрд░рд┐рдХ рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдкреАрдЖрдИ рднреА рдорд╛рдВрдЧрддреЗ рд╣реИрдВред  рдРрд╕реЗ рдПрдкреАрдЖрдИ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдореЗрдВ, рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЕрдХреНрд╕рд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/iw/vu/rz/iwvurz8sbflhuz3mkj39ipf9rag.png"></div><br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдХреЛрдб рдХреНрд░рдо рдореЗрдВ DBMS рдХреА рддрд░рдл рд╣реЛрддрд╛ рд╣реИред <br><br><h1>  рдпрд╣ рд╕рдм рдХреНрдпреЛрдВ рдЬрд░реВрд░реА рд╣реИ </h1><br>  рдЬреИрд╕рд╛ рдХрд┐ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд░рд┐рдЪрдп рд╕реЗ рд╕рдордЭрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреЛрдб рд╕рдорд╛рди рдХреЛрдб рд╣реИ <br>  рдмрд╛рдХреА рдХреА рддрд░рд╣ рдЕрдиреБрдкреНрд░рдпреЛрдЧ, рдФрд░ рднреА рддреНрд░реБрдЯрд┐рдпрд╛рдБ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред <br><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдЗрд╕рдХреА рдЦреЛрдЬ рдХреЗ рд╕рдордп рдмрдЧ рдХреА рдХреАрдордд рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рд╕реЗ рдЕрд╡рдЧрдд рд╣реИрдВ, рдЬрд┐рд╕рдХреА рдЦреЛрдЬ рдЖрдорддреМрд░ рдкрд░ рдмреИрд░реА рдмреЛрд╣реЗрдо рдХреЛ рдЬрд┐рдореНрдореЗрджрд╛рд░ рдард╣рд░рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЪрд░рдг рдореЗрдВ рдХреА рдЧрдИ рдПрдХ рддреНрд░реБрдЯрд┐ рдФрд░ рдмрд╛рдж рдХреЗ рдЪрд░рдг рдореЗрдВ рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рдирд╛ рдХрдИ рдЪрд░рдгреЛрдВ (рдХреЛрдбрд┐рдВрдЧ, рдпреВрдирд┐рдЯ, рдПрдХреАрдХрд░рдг, рд╕рд┐рд╕реНрдЯрдо рдкрд░реАрдХреНрд╖рдг, рдЖрджрд┐) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдХрд╛рд░рдг рдЕрдзрд┐рдХ рдорд╣рдВрдЧрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдмрд╛рд░-рдмрд╛рд░ рджреЛрдиреЛрдВ рддреНрд░реБрдЯрд┐ рдХреЛ рд╕реНрдерд╛рдиреАрдп рдмрдирд╛рдиреЗ рдФрд░ рд╕рд╣реА рдХреЛрдб рдХреЛ рд╡рд╛рдкрд╕ рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдПред рдЬрд┐рд╕ рдЪрд░рдг рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдХреА рдкрд╣рдЪрд╛рди рдХреА рдЧрдИ рдереАред  рдпрд╣ рдкреНрд░рднрд╛рд╡ рдЧреЛрджрд╛рдо рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рднреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реИред  рдпрджрд┐ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдИрдЯреАрдПрд▓ рдореЗрдВ рд╣реЛрддреА рд╣реИ, рдФрд░ рдбреЗрдЯрд╛ рдХрдИ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рд╕реЗ рдЧреБрдЬрд░рддрд╛ рд╣реИ, рддреЛ рдпрджрд┐ рдбреЗрдЯрд╛ рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдкрд╛рдИ рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╣реЛрдЧрд╛: <br><br><ol><li>  рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕реНрдерд╛рдиреАрдпрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рд░реВрдкрд╛рдВрддрд░рдг рдЪрд░рдгреЛрдВ рд╕реЗ рдЧреБрдЬрд░реЗрдВ </li><li>  рд╕рдорд╕реНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░реЗрдВред </li><li>  рд╕рд╣реА рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ (рдореИрдиреНрдпреБрдЕрд▓ рд╕реБрдзрд╛рд░реЛрдВ рдХреЛ рдмрд╛рд╣рд░ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ)ред </li><li>  рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рддреНрд░реБрдЯрд┐ рдХреЗ рдХрд╛рд░рдг рдЧрд▓рдд рдбреЗрдЯрд╛ рдХрд╣реАрдВ рдФрд░ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджрд┐рдпрд╛ред </li></ol><br>  рдпрд╣ рдордд рднреВрд▓реЛ рдХрд┐ рд╣рдо рдирд░рдо рдЦрд┐рд▓реМрдиреЗ рдирд╣реАрдВ рдмреЗрдЪрддреЗ рд╣реИрдВред  рдиреИрджрд╛рдирд┐рдХ тАЛтАЛрдЕрдиреБрд╕рдВрдзрд╛рди рдЬреИрд╕реЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдПрдХ рдЧрд▓рддреА рди рдХреЗрд╡рд▓ рд╡реНрдпрд╛рдкрд╛рд░ рдХреЗ рд▓рд┐рдП, рдмрд▓реНрдХрд┐ рд▓реЛрдЧреЛрдВ рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рднреА рдиреБрдХрд╕рд╛рди рдкрд╣реБрдВрдЪрд╛ рд╕рдХрддреА рд╣реИред <br><br><h1>  рдХреИрд╕реЗ рдХрд░реЗрдВ рдЯреЗрд╕реНрдЯ? </h1><br>  рдЪреВрдВрдХрд┐ рд╣рдо рдХреЛрдб рдкрд░реАрдХреНрд╖рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рд╣рдорд╛рд░рд╛ рдорддрд▓рдм рдЗрдХрд╛рдИ рдФрд░ рдПрдХреАрдХрд░рдг рдкрд░реАрдХреНрд╖рдг рд╣реИред  рдпреЗ рдмрд╛рддреЗрдВ рдмрд╣реБрдд рдкреВрд░реНрд╡рд╛рднреНрдпрд╛рд╕ рд╣реИрдВ рдФрд░ рдирд┐рд░рдВрддрд░ рдкреНрд░рддрд┐рдЧрдорди рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рддреА рд╣реИрдВред  рд╕рдЦреНрддреА рд╕реЗ рдмреЛрд▓рдирд╛, рдХреЛрдИ рднреА рдЗрд╕ рддрд░рд╣ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЖрдпреЛрдЬрд┐рдд рдХрд░рддрд╛ рд╣реИ (рдареАрдХ рд╣реИ, рд╢рд╛рдпрдж рдХреБрдЫ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкрддрд┐рдд рдорд╛рдорд▓реЛрдВ рдХреЗ рдЕрдкрд╡рд╛рдж рдХреЗ рд╕рд╛рде)ред <br><br>  рдПрдХ рдЕрдЪреНрдЫрд╛ рдмреЛрдирд╕: рдХреЛрдб рдХрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХрд░рдг рдХрд░рддреЗ рд╕рдордп рдкрд░реАрдХреНрд╖рдг рдПрдХ рд╕рд╣рд╛рдпрдХ рд╕рд╛рдордЧреНрд░реА рд╣реЛ рд╕рдХрддреА рд╣реИред  рд╡реИрд╕реЗ, рдЧреНрд░рд╛рд╣рдХ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдВ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦ рд╕рдХрддреА рд╣реИрдВ (рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп): <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fh/af/xb/fhafxb5yph-tgvy2zhka9jfcvmk.png"></div><br>  рдПрдХреНрд╕реЗрд▓, рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рджреЛ рдХреЙрд▓рдо + рдЕрдиреНрдп рдХреЙрд▓рдо + рд╕реНрд▓реЗрдЯреЗрдб рдорд╛рд░реНрдХрдЕрдк рдореЗрдВ рд╕рд╣рд╛рдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдмрд┐рдЦрд░реЗ рд╣реБрдП, рдЬреЛ рдорджрдж рдХрд░рдиреЗ рд╕реЗ рдЕрдзрд┐рдХ рднреНрд░рд╛рдордХ рд╣реИред  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдореВрд▓ рдЗрдЪреНрдЫрд╛рдУрдВ рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдкрд░реАрдХреНрд╖рдг рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдорджрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдмреЗрд╢рдХ, рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рд▓реЗрдЦрди рдХреЗ рд╕рдордХрдХреНрд╖ рдирд╣реАрдВ рдорд╛рдирдирд╛ тАЛтАЛрдЪрд╛рд╣рд┐рдП)ред <br><br>  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдХреЛрдб рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ рд╕рд╛рде, рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреА рдЬрдЯрд┐рд▓рддрд╛ рдмрдврд╝рддреА рд╣реИ, рдФрд░ рдЗрд╕ рдкреНрд░рднрд╛рд╡ рдХреЛ рд╕рдорддрд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдЯреЗрд╕реНрдЯ рд╕рд╣рдЬ рд╡рд╛рд▓рд░рд╕ рдХреЗ рдЦрд┐рд▓рд╛рдл рд╕реБрд░рдХреНрд╖рд╛ рдХреА рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдкрд░рдд рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдФрдкрдЪрд╛рд░рд┐рдХрддрд╛ рдХреЗ рдХрд╛рд░рдг рд╕реАрдЖрдИ рдореЗрдВ рд╕реНрд╡-рдкрд░реАрдХреНрд╖рдг рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдпрджрд┐ рд╣рдорд╛рд░реА рдкрд╕рдВрдж рд╕реНрд╡рдЪрд╛рд▓рди рдХреЗ рд░рд╛рд╕реНрддреЗ рдкрд░ рдЧрд┐рд░ рдЧрдИ, рддреЛ рд╣рдореЗрдВ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h1>  рдХреИрд╕реЗ рдХрд░реЗрдВ рдЯреЗрд╕реНрдЯ? </h1><br>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреЛрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдореИрдВ рджреЛ рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЛ рдЕрд▓рдЧ рдХрд░рддрд╛ рд╣реВрдВ: SQL- рд╕рдВрдЪрд╛рд▓рд┐рдд, рдпрд╛рдиреА, DBMS рдореЗрдВ рд╕реАрдзреЗ рдХрд╛рд░реНрдп рдХрд░рдирд╛, рдФрд░ рдЧреИрд░-SQL-рд╕рдВрдЪрд╛рд▓рд┐рддред  рдореИрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдмрд╛рд░реАрдХрд┐рдпреЛрдВ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдерд╛: <br><div class="scrollable-table"><table><tbody><tr><th>  рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд <br></th><th>  рдЧреИрд░ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд <br></th></tr><tr><td>  рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╡рд╕реНрддреБрдУрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br></td><td>  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ <br></td></tr><tr><td>  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдмрд╛рд╣рд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рддрдХрдиреАрдХреЛрдВ рд╕реЗ рдкрд░реАрдХреНрд╖рдг рд╣рдореЗрд╢рд╛ рд╕реНрд╡рддрдВрддреНрд░ рд╣реЛрддреЗ рд╣реИрдВ <br></td><td>  рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдмрд╛рд╣рд░ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рддрдХрдиреАрдХреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br></td></tr><tr><td>  рдврд╛рдВрдЪрд╛ рд╣рдореЗрд╢рд╛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдбреАрдмреАрдПрдордПрд╕ рд╕реЗ рдмрдВрдзрд╛ рд╣реЛрддрд╛ рд╣реИ </td><td>  рдврд╛рдВрдЪрд╛ рдЕрдХреНрд╕рд░ рдХрдИ DBMS рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </td></tr><tr><td>  рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рдбреАрдмреАрдПрдордПрд╕ рдХрд╛ рдЬреНрдЮрд╛рди рдЖрд╡рд╢реНрдпрдХ рд╣реИ;  рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП, рдЖрдк рдореИрдиреНрдпреБрдЕрд▓ рдкрд░реАрдХреНрд╖рдХ рдпрд╛ рдбреАрдмреАрдП рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </td><td>  рд▓реЗрдЦрди рдкрд░реАрдХреНрд╖рдг рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдФрд░ / рдпрд╛ рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬреНрдЮрд╛рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ;  рдЕрдХреНрд╕рд░ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕реЗ рдорджрдж рдХреА рдЬрд░реВрд░рдд рд╣реИ <br></td></tr><tr><td>  рдбреАрдмреАрдПрдордПрд╕-рд╕реНрддрд░реАрдп рдирд┐рд╖реНрдкрд╛рджрди рдЕрдзрд┐рдХ рдЙрдиреНрдирдд рдлреЗрдХ рдФрд░ рдЕрднрд┐рдХрдерди рдХреЗ рдЙрдкрдпреЛрдЧ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ <br></td><td>  рдмрд╛рд╣рд░реА рдирд┐рд╖реНрдкрд╛рджрди рдЙрдкрдХрд░рдг рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рд╕реАрдорд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ <br></td></tr></tbody></table></div>  SQL рд╕рд░реНрд╡рд░ рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреБрдЫ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ: <br><div class="scrollable-table"><table><tbody><tr><th colspan="6" align="center">  рд╕рд╛рдорд╛рдиреНрдп рдЬрд╛рдирдХрд╛рд░реА </th></tr><tr><th>  рдирд╛рдо </th><th>  рджреГрд╖реНрдЯрд┐рдХреЛрдг </th><th>  рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░ </th><th>  рдкрд░ рд▓рд┐рдЦрд╛ рд╣реИ </th><th>  рдХреЗ рд▓рд┐рдП рдЯреЗрд╕реНрдЯ </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">tSQLt</a> </td><td>  рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  XUnit </td><td>  рдЯреА-рдПрд╕рдХреНрдпреВрдПрд▓ + рд╕реАрдПрд▓рдЖрд░ </td><td>  T-SQL </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TSQLUnit</a> </td><td>  рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  XUnit </td><td>  T-SQL </td><td>  T-SQL </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">utTSQL</a> </td><td>  рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  XUnit </td><td>  T-SQL </td><td>  T-SQL </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TST</a> </td><td>  рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  XUnit </td><td>  T-SQL </td><td>  T-SQL </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">DbFit</a> </td><td>  рдЧреИрд░ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  FitNesse </td><td>  рд╕реА # / рдЬрд╛рд╡рд╛ </td><td>  рд╡рд┐рдХреА рдорд╛рд░реНрдХрдбрд╛рдЙрди </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд▓рд╕реА</a> </td><td>  рдЧреИрд░ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  RSpec (BDD- рдЙрдиреНрдореБрдЦ) </td><td>  рдЧрд╣рд░реЗ рд▓рд╛рд▓ рд░рдВрдЧ рдХрд╛ </td><td>  рдЧрд╣рд░реЗ рд▓рд╛рд▓ рд░рдВрдЧ рдХрд╛ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NUnit</a> , рдЖрджрд┐ред </td><td>  рдЧреИрд░ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рдВрдЪрд╛рд▓рд┐рдд </td><td>  XUnit </td><td>  рдПрди / рдП </td><td>  рдПрди / рдП </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><th colspan="4" align="center">  рджрд┐рдирд╛рдВрдХ </th></tr><tr><th>  рдирд╛рдо </th><th>  рдкрд╣рд▓реА рдЙрдкрд╕реНрдерд┐рддрд┐ </th><th>  рдЕрдВрддрд┐рдо рд╡рдЪрди </th><th>  рдирд╡реАрдирддрдо рд░рд┐рд▓реАрдЬ </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">tSQLt</a> </td><td>  27-07-2008 </td><td>  2019/01/07 </td><td>  2016/01/31 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TSQLUnit</a> </td><td>  2006-12-16 (0.9) <br>  2007-07-21 (0.91 рдЖрд░рд╕реА 1) </td><td>  04/26/2018 (GitHub) </td><td>  04/09/2011 (SourceForge) </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">utTSQL</a> </td><td>  12-03-2008 </td><td>  12-03-2008 </td><td>  12-03-2008 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TST</a> </td><td>  02-03-2009 (v1.0) </td><td>  рдПрди / рдП </td><td>  30-03-2012 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">DbFit</a> </td><td>  2009/12/01 </td><td>  2018/09/10 </td><td>  2015/08/15 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд▓рд╕реА</a> </td><td>  23-06-2011 </td><td>  2018/10/12 </td><td>  2018/10/12 </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NUnit</a> , рдЖрджрд┐ред </td><td>  рдПрди / рдП </td><td>  рдПрди / рдП </td><td>  рдПрди / рдП </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><th colspan="7" align="center">  рд╕рдВрднрд╛рд╡рдирд╛рдПрдВ </th></tr><tr><th>  рдирд╛рдо </th><th>  рд╕реАрдПрд▓рдЖрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ </th><th>  XML рдЖрдЙрдЯрдкреБрдЯ </th><th>  рд▓реЗрди-рджреЗрди рдореЗрдВ рд▓рдкреЗрдЯреЗ рдЧрдП рдЯреЗрд╕реНрдЯ </th><th>  Fake'i </th><th>  рддреНрд░реБрдЯрд┐ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ </th><th>  Assertion'y </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">tSQLt</a> </td><td>  - </td><td>  + </td><td>  + </td><td>  + </td><td>  + </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TSQLUnit</a> </td><td>  + </td><td>  - </td><td>  + </td><td>  - </td><td>  - </td><td>  рдмрд╣реБрдд рдмреБрд░рд╛ рд╣реБрдЖ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">utTSQL</a> </td><td>  + </td><td>  - </td><td>  - </td><td>  - </td><td>  - </td><td>  рдмреАрдорд╛рд░ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TST</a> </td><td>  + </td><td>  + </td><td>  + (рд╡рд┐рдХрд▓реНрдк) </td><td>  - </td><td>  + </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">DbFit</a> </td><td>  + </td><td>  - </td><td>  + (рд╡рд┐рдХрд▓реНрдк) </td><td>  - </td><td>  + </td><td>  рдЕрдЪреНрдЫрд╛;  рдмрд╛рд░реАрдХрд┐рдпрд╛рдБ рд╣реИрдВ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд▓рд╕реА</a> </td><td>  + </td><td>  - </td><td>  + (рд╡рд┐рдХрд▓реНрдк) </td><td>  - </td><td>  - </td><td>  рдЕрдЪреНрдЫрд╛;  рдмрд╛рд░реАрдХрд┐рдпрд╛рдБ рд╣реИрдВ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NUnit</a> , рдЖрджрд┐ред </td><td>  + </td><td>  + </td><td>  рдПрди / рдП </td><td>  рдПрди / рдП </td><td>  рдПрди / рдП </td><td>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛;  рдмрд╛рд░реАрдХрд┐рдпрд╛рдБ рд╣реИрдВ </td></tr></tbody></table></div><div class="scrollable-table"><table><tbody><tr><th colspan="3" align="center">  рдЕрдиреНрдп </th></tr><tr><th>  рдирд╛рдо </th><th>  рдкреНрд░рд▓реЗрдЦрди </th><th>  рд╕рдореБрджрд╛рдп </th></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">tSQLt</a> </td><td>  рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛;  рдмрд╛рд░реАрдХрд┐рдпрд╛рдБ рд╣реИрдВ </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TSQLUnit</a> </td><td>  рдмреАрдорд╛рд░ </td><td>  рдмреАрдорд╛рд░ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">utTSQL</a> </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td><td>  рдмреАрдорд╛рд░ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TST</a> </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td><td>  рдмреАрдорд╛рд░ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">DbFit</a> </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td><td>  рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд▓рд╕реА</a> </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td><td>  рд╕рд╛рдорд╛рдиреНрдп рд░реВрдк рд╕реЗ </td></tr><tr><td>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">NUnit</a> , рдЖрджрд┐ред </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td><td>  рдЙрддреНрдХреГрд╖реНрдЯ </td></tr></tbody></table></div>  "рдЕрдЪреНрдЫреЗ-рдмреБрд░реЗ" рдХреЗ рдореВрд▓реНрдпрд╛рдВрдХрди рд╡реНрдпрдХреНрддрд┐рдкрд░рдХ рд╣реИрдВ, рдХреНрд╖рдорд╛ рдХрд░реЗрдВ, рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рдХрд╣реАрдВ рдирд╣реАрдВред <br><br>  рд╡реНрдпрд╛рдЦреНрдпрд╛: "рдкрд╣рд▓реА рдЙрдкрд╕реНрдерд┐рддрд┐" рдЙрд╕ рдврд╛рдВрдЪреЗ рдХреЗ рдЬреАрд╡рди рдкрде рдореЗрдВ рд╕рдмрд╕реЗ рд╢реБрд░реБрдЖрддреА рддрд╛рд░реАрдЦ рд╣реИ рдЬрд┐рд╕реЗ рдореИрдВрдиреЗ рдкрд╛рдпрд╛ рд╣реИ, рдпрд╛рдиреА, рдЬреЛ рдЬрд▓реНрдж рд╕реЗ рдЬрд▓реНрдж рдЬрд╛рд░реА рдпрд╛ рдкреНрд░рддрд┐рдмрджреНрдз рд╣реИред <br><br>  рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ SQL- рд╕рдВрдЪрд╛рд▓рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреЛ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ tSQLt рдПрдХрдорд╛рддреНрд░ рд╕рдорд░реНрдерд┐рдд рд╡рд┐рдХрд▓реНрдк рд╣реИред  рдХрд╛рд░реНрдпрд╛рддреНрдордХ рд░реВрдк рд╕реЗ, tSQLt рднреА рдЬреАрддрддрд╛ рд╣реИред  рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рдпрд╣ рд╣реИ рдХрд┐ рдЬреЛрд░ рджреЗрдиреЗ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, TSTT ttt рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдереЛрдбрд╝рд╛ рд╕рдореГрджреНрдз рд╡рд┐рдХрд▓реНрдк рд╣реИ, рдЬреЛ рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреЗ рд╡рд┐рдкрдХреНрд╖ рдХреЛ рдкрдЫрд╛рдбрд╝рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдирд╣реАрдВ рд╣реИред <br><br>  TSQLt рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдмрд╛рд░реАрдХрд┐рдпрд╛рдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдж рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред <br><br>  рдЧреИрд░-SQL-рд╕рдВрдЪрд╛рд▓рд┐рдд рджреБрдирд┐рдпрд╛ рдореЗрдВ, рдЪреАрдЬреЗрдВ рдЗрддрдиреА рд╕реАрдзреА рдирд╣реАрдВ рд╣реИрдВред  рдЕрд▓реНрдЯрд░рдиреЗрдЯрд┐рд╡, рдЕрд▓ рд╕реБрдкрд░рд┐рдЯ рдирд╣реАрдВ рд╕реБрдкрд░ рдПрдХреНрдЯрд┐рд╡, рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред  DbFit FitNesse рдлреНрд░реЗрдорд╡рд░реНрдХ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рдЙрдкрдХрд░рдг рд╣реИред  рд╡рд╣ рд╡рд┐рдХрд┐ рдорд╛рд░реНрдХрдЕрдк рдкрд░ рд▓реЗрдЦрди рдкрд░реАрдХреНрд╖рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрддреЗ рд╕рдордп рд╕реНрд▓реИрдХрд░ рднреА рдПрдХ рдЬрд┐рдЬреНрдЮрд╛рд╕реБ рдЪреАрдЬ рд╣реИ - BDD рджреГрд╖реНрдЯрд┐рдХреЛрдгред <br><br>  рдореИрдВ рдЧреИрд░-рдПрд╕рдХреНрдпреВрдПрд▓-рд╕рдВрдЪрд╛рд▓рд┐рдд рдореЗрдВ рдЕрднрд┐рдХрдердиреЛрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реВрдВрдЧрд╛ред  рдмрд╛рд╣реНрдп рд░реВрдк рд╕реЗ, рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХрдо рд╣реИрдВ, рдФрд░ рдХреЛрдИ рдпрд╣ рдХрд╣ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рд╡реЗ рдЗрд╕ рд╡рдЬрд╣ рд╕реЗ рдмрджрддрд░ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдпрд╣рд╛рдВ рдпрд╣ рд╡рд┐рдЪрд╛рд░ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ рд╡реЗ рдореВрд▓ рд░реВрдк рд╕реЗ tSQLt рд╕реЗ рдЕрд▓рдЧ рд╣реИрдВред  рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд╕рд░рд▓ рдирд╣реАрдВ рд╣реИред <br><br>  рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ "NUnit, рдЖрджрд┐" рд╣реИ  - рдпрд╣ рдПрдХ рдЕрдиреБрд╕реНрдорд╛рд░рдХ рд╣реИред  рд░реЛрдЬрдорд░реНрд░рд╛ рдХреЗ рдХрд╛рдо рдореЗрдВ рдкрд░рд┐рдЪрд┐рдд рдХрдИ рдпреВрдирд┐рдЯ-рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд╣рд╛рдпрдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд╣рд╛рдпрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдкрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдПрди / рдП рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд░реЗрдЦрд╛, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХрдИ рдЙрдкрдХрд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рдЬреЛрд░ рд╕реНрддрдВрдн рдореЗрдВ "рдмрд╛рд░реАрдХрд┐рдпреЛрдВ" рдПрдХ рд╣реА рдмрд┐рдВрджреБ рд╕реЗ рдЖрддреЗ рд╣реИрдВ - рд╡рд┐рднрд┐рдиреНрди рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ, рдЙрдирдХрд╛ рд╕реЗрдЯ рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдкреНрд░рдпреЛрдЬреНрдпрддрд╛ рдХрд╛ рдкреНрд░рд╢реНрди рдЦреБрд▓рд╛ рд╣реИред <br><br>  рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдореАрдЯреНрд░рд┐рдХ рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google рд░реБрдЭрд╛рдиреЛрдВ рдкрд░</a> рд╡рд┐рдЪрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ud/2u/km/ud2ukmcoyjvstvhcu2taegpib34.png"></div><br>  рдмрд╛рд░реАрдХрд┐рдпреЛрдВ: <br><br><ol><li>  рдореИрдВрдиреЗ рд╕реНрд▓реИрдХрд░ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕ рдирд╛рдо рдХрд╛ рдЕрд░реНрде рдмрд╣реБрдд рд╕рд╛рд░реА рдЪреАрдЬреЗрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ (рдФрд░ "рд╕реНрд▓реИрдХрд░ рдврд╛рдВрдЪреЗ" рдЬреИрд╕реЗ рдЕрдиреБрд░реЛрдз рдЪрд╛рд░реНрдЯ рдкрд░ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рджрд┐рдЦрд╛рдИ рдирд╣реАрдВ рджреЗрддреЗ рд╣реИрдВ)ред </li><li>  рдЬрд┐рдЬреНрдЮрд╛рд╕рд╛ рдХреЗ рд▓рд┐рдП, TST рдкреНрд░рд╡реГрддреНрддрд┐ рдореЗрдВ рдЗрдЬрд╛рдлрд╛ рд╣реБрдЖ, рд▓реЗрдХрд┐рди рдпрд╣ рднреА рдорд╛рдорд▓реЛрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЬреНрдпрд╛рджрд╛ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдирд╛рдо рд╣реИ рдЬрд┐рд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдмрд╣реБрдд рд╕рд╛рд░реА рдЪреАрдЬреЗрдВред </li><li>  рдореИрдВрдиреЗ NUnit рдФрд░ рдЗрд╕рдХреЗ рдПрдирд╛рд▓реЙрдЧреНрд╕ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпреЗ рдореВрд▓ рд░реВрдк рд╕реЗ рд╕реНрд╡рдпрдВ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдХреЛрдб рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рд░реВрдкрд░реЗрдЦрд╛ рдереЗ, рдФрд░ рдЙрдирдХреЗ рд░реБрдЭрд╛рди рд╣рдорд╛рд░реЗ рд╕рдВрджрд░реНрдн рдХреЗ рд╕рдВрдХреЗрдд рдирд╣реАрдВ рд╣реИрдВред </li></ol><br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рд╣рдо рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдПрдирд╛рд▓реЙрдЧреНрд╕ рдХреА рдкреГрд╖реНрдарднреВрдорд┐ рдХреЗ рдЦрд┐рд▓рд╛рдл tSQLt рдЕрдиреБрдХреВрд▓ рд░реВрдк рд╕реЗ рджрд┐рдЦрддрд╛ рд╣реИред <br><br><h1>  TSQLt рдХреНрдпрд╛ рд╣реИ? </h1><br>  tSQLt, рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдПрдХ SQL- рд╕рдВрдЪрд╛рд▓рд┐рдд рдЗрдХрд╛рдИ рдкрд░реАрдХреНрд╖рдг рд░реВрдкрд░реЗрдЦрд╛ рд╣реИред <br><br>  тЖТ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рд╕рд╛рдЗрдЯ</a> <br><br>  2005 SP2 рдХреЗ рдмрд╛рдж рд╕реЗ SQL рд╕рд░реНрд╡рд░ рд╕рдорд░реНрдерди рдХреА рдШреЛрд╖рдгрд╛ рдХреА рдЧрдИ рд╣реИред  рдореИрдВ рдЕрдм рддрдХ рдЕрддреАрдд рдореЗрдВ рдХрднреА рдирд╣реАрдВ рджреЗрдЦ рдкрд╛рдпрд╛, рд▓реЗрдХрд┐рди рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЗрд╡ рд╕рд░реНрд╡рд░ рдкрд░ 2012 рд╣реИ, рдореЗрд░реЗ рдкрд╛рд╕ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ 2017 рд╣реИ - рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рдереАред <br><br>  рдУрдкрди рд╕реЛрд░реНрд╕, Apache 2.0 рд▓рд╛рдЗрд╕реЗрдВрд╕, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ</a> ред  рдЖрдк рдХрд╛рдВрдЯрд╛, рддрд╕реНрдХрд░реА, рд╡рд╛рдгрд┐рдЬреНрдпрд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдореБрдлреНрдд рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░, рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд╛рдд, рд╕реАрдПрд▓рдЖрд░ рдореЗрдВ рдмреБрдХрдорд╛рд░реНрдХ рд╕реЗ рдбрд░реЛ рдирд╣реАрдВред <br><br><h1>  рдХрд╛рдо рдпрд╛рдВрддреНрд░рд┐рдХреА </h1><br><div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/1v/kx/wi/1vkxwixwjyna756vsce7uhwqzw0.png"></div><br>  рдкрд░реАрдХреНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИрдВред  рдЙрдиреНрд╣реЗрдВ рдЯреЗрд╕реНрдЯ рдХрдХреНрд╖рд╛рдУрдВ (xUnit рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЯреЗрд╕реНрдЯ рд╕реВрдЯ) рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  рдкрд░реАрдХреНрд╖рдг рдХрдХреНрд╖рд╛рдПрдВ рдирд┐рдпрдорд┐рдд рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реНрдХреАрдорд╛ рд╕реЗ рдЕрдзрд┐рдХ рдХреБрдЫ рдирд╣реАрдВ рд╣реИрдВред  рд╡реЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рдкрдВрдЬреАрдХрд░рдг рджреНрд╡рд╛рд░рд╛ рдЕрдиреНрдп рдпреЛрдЬрдирд╛рдУрдВ рд╕реЗ рднрд┐рдиреНрди рд╣реИрдВред  рдЖрдк рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ - tSQLt.NewTestClass рдкрд░ рдХреЙрд▓ рдХрд░рдХреЗ рдЗрд╕ рддрд░рд╣ рдХреЗ рдкрдВрдЬреАрдХрд░рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдкрд░реАрдХреНрд╖рдг рд╡рд░реНрдЧ рдХреЗ рдЕрдВрджрд░, рдПрдХ рд╕реЗрдЯрдЕрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИ рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЪрд▓рд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдкрд░ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдкреБрдирд░реНрд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╢рд╛рдВрддрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╕реЗрдЯрдЕрдк рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд▓реЗрди-рджреЗрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рдкрд░рд┐рдгрд╛рдо рдПрдХрддреНрд░ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдХреБрдЫ рдирдХрд╛рд░рд╛рддреНрдордХ рдкреНрд░рднрд╛рд╡ рд╣реИрдВ, рдЬрд┐рдирдХреА рдореИрдВ рдиреАрдЪреЗ рдЪрд░реНрдЪрд╛ рдХрд░реВрдВрдЧрд╛ред <br><br>  рдврд╛рдВрдЪрд╛ рдЖрдкрдХреЛ рдПрдХ рдмрд╛рд░ рдореЗрдВ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЛрдВ, рд╕рдВрдкреВрд░реНрдг рдкрд░реАрдХреНрд╖рдг рдХрдХреНрд╖рд╛рдУрдВ рдпрд╛ рд╕рднреА рдкрдВрдЬреАрдХреГрдд рдкрд░реАрдХреНрд╖рдг рдХрдХреНрд╖рд╛рдУрдВ рдХреЛ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br><h1>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╕реБрд╡рд┐рдзрд╛рдПрдБ </h1><br>  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╕рд░рд▓ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рдЧрд╛рдЗрдб рдХреЛ рд░рд┐рдЯреЗрд▓ рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реЛрдиреЗ рдкрд░, рдореИрдВ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреА рд╕рдВрднрд╛рд╡рдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред <br><br>  <i>рдЕрд╕реНрд╡реАрдХрд░рдг:</i> <br><br><ul><li>  <i>рдЙрджрд╛рд╣рд░рдг рд╕рд░рд▓ рд╣реИрдВ;</i> </li><li>  <i>рдореВрд▓ рдореЗрдВ, рд╕рднреА рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдореЗрд░реЗ рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ рд▓рд┐рдЦреЗ рдЧрдП рдереЗ, рдмрд▓реНрдХрд┐ рдпрд╣ рд╕рд╛рдореВрд╣рд┐рдХ рд░рдЪрдирд╛рддреНрдордХрддрд╛ рдХрд╛ рдлрд▓ рд╣реИ;</i> </li><li>  <i>рдЙрджрд╛рд╣рд░рдг 2 рдХрд╛ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ tSQLt рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдкреВрд░реА рддрд░рд╣ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред</i> </li></ul><br><h3>  рдЙрджрд╛рд╣рд░рдг 1: CsvSql </h3><br>  рдЧреНрд░рд╛рд╣рдХ рдХреЗ рдХрд┐рд╕реА рдПрдХ рдЧреНрд░рд╛рд╣рдХ рдХреЗ рдЕрдиреБрд░реЛрдз рдкрд░, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  Nvarchar (MAX) рдлрд╝реАрд▓реНрдб рдореЗрдВ рдбреЗрдЯрд╛рдмреЗрд╕ SQL тАЛтАЛрдХреНрд╡реЗрд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  рдЗрди рдкреНрд░рд╢реНрдиреЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдиреНрдпреВрдирддрдо рд╕реАрдорд╛ рдХреЛ рдмреЛрд▓реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрди рдЕрдиреБрд░реЛрдзреЛрдВ рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдП рдЧрдП рдкрд░рд┐рдгрд╛рдо рд╕реЗрдЯреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдмреИрдХрдПрдВрдб рджреНрд╡рд╛рд░рд╛ рдПрдкреАрдЖрдИ рдХреЙрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реАрдПрд╕рд╡реА рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/5q/mu/oy/5qmuoyyjjvlphk79jt-xtawwjn8.png"></div><br>  рдкрд░рд┐рдгрд╛рдо рд╕реЗрдЯ рдХрд╛рдлреА рднрд╛рд░реА рд╣реЛрддреЗ рд╣реИрдВ рдФрд░ рдЗрдирдореЗрдВ рдХрдИ рдХреЙрд▓рдо рд╣реЛрддреЗ рд╣реИрдВред  рдРрд╕реЗ рдкрд░рд┐рдгрд╛рдо рд╕реЗрдЯ рдХрд╛ рдПрдХ рд╕рд╢рд░реНрдд рдЙрджрд╛рд╣рд░рдг: <br><br><div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/dg/50/bb/dg50bbx25qaw6ycwpfqcsfj5kyk.png"></div><br>  рдпрд╣ рдкрд░рд┐рдгрд╛рдо рд╕реЗрдЯ рдХреБрдЫ рдиреИрджрд╛рдирд┐рдХ тАЛтАЛрдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рд╣реИред  рдЖрдЗрдП рдХреНрд▓рд┐рдирд┐рдХрдирдо рдХреИрд╕реЗ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕ рдкрд░ рдПрдХ рдХрд░реАрдм рд╕реЗ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВ - рдЕрдзреНрдпрдпрди рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХреНрд▓реАрдирд┐рдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдЯреЗрдмрд▓ рд╣реИрдВ: [рдкрд░реАрдХреНрд╖рдг] рдФрд░ [рдХреНрд▓рд┐рдирд┐рдХ]: <br><br><div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/qo/mu/n-/qomun-gdbdl05teniypbtzi8jio.png"></div><br>  рдПрдлрдХреЗ рд╣реИ: [рдХреНрд▓рд┐рдирд┐рдХ]ред [рдкрд░реАрдХреНрд╖рдг] -&gt; [рдкрд░реАрдХреНрд╖рдг] [рдкрд░реАрдХреНрд╖рдг]ред  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдХреНрд▓реАрдирд┐рдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдмрд╕ рд╕рд╛рдорд╛рдиреНрдп COUNT (*) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*), ...  <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dbo.Trial  <span class="hljs-keyword"><span class="hljs-keyword">LEFT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">JOIN</span></span> dbo.Clinic    <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> Trial.ID = Clinic.TrialID  <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> Trial.Name = @trialName  <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> ...</code> </pre> <br>  рд╣рдо рдЗрд╕ рддрд░рд╣ рдХреЗ рдЕрдиреБрд░реЛрдз рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХреИрд╕реЗ рдХрд░рддреЗ рд╣реИрдВ?  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╕реНрдЯрдм - рдлреЗрдХрдЯреЗрдмрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдЖрдЧреЗ рдХреЗ рдХрд╛рдо рдХреЛ рд╕рд░рд▓ рдХрд░реЗрдЧрд╛ред <br><br><pre> <code class="sql hljs">EXEC tSQLt.FakeTable 'dbo.Trial'; EXEC tSQLt.FakeTable 'dbo.Clinic';</code> </pre> <br>  рдлрд╝реЗрдХрдЯреЗрдмрд▓ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдмрд╛рдд рдХрд░рддрд╛ рд╣реИ - рдкреБрд░рд╛рдиреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЙрдирдХреА рдЬрдЧрд╣ рдирдП рдмрдирд╛рддрд╛ рд╣реИред  рд╕рдорд╛рди рдирд╛рдо, рд╕рдорд╛рди рдХреЙрд▓рдо, рд▓реЗрдХрд┐рди рдмрд┐рдирд╛ рдмрд╛рдзрд╛ рдФрд░ рдЯреНрд░рд┐рдЧрд░'рдУрд╡ рдХреЗред <br><br>  рд╣рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреНрдпреЛрдВ рд╣реИ: <br><br><ol><li>  рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдХреБрдЫ рдбреЗрдЯрд╛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдлреЗрдХрдЯреЗрдмрд▓ рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рд╣рдо рдЙрди рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рд╣реИрдВред </li><li>  рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдирд┐рдпрдо рдХреЗ рд░реВрдк рдореЗрдВ, рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рдХреБрдЫ рдХреЙрд▓рдо рднрд░рдиреЗ рд╣реЛрдВрдЧреЗред  рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдореЗрдВ рдмрд╛рдзрд╛рдПрдВ рд╣реЛрдВрдЧреАред  рдЗрд╕ рддрд░рд╣, рд╣рдо рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рдХреА рдЖрдЧреЗ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЛ рд╕рд░рд▓ рдХрд░рддреЗ рд╣реИрдВ - рд╣рдо рдХреЗрд╡рд▓ рдЙрди рд▓реЛрдЧреЛрдВ рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░реЗрдВрдЧреЗ рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВред </li><li>  рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддреЗ рд╕рдордп рд╣рдо рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдХрд┐рд╕реА рднреА рдЯреНрд░рд┐рдЧрд░ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ рдФрд░ рд╣рдореЗрдВ рдЕрд╡рд╛рдВрдЫрд┐рдд рдкреЛрд╕реНрдЯ-рдЗрдлреЗрдХреНрдЯреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдЬрд╝рд░реВрд░рдд рдирд╣реАрдВ рд╣реИред </li></ol><br>  рдЕрдЧрд▓рд╛, рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдкрд░реАрдХреНрд╖рдг рдбреЗрдЯрд╛ рдбрд╛рд▓реЗрдВ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> dbo.Trial ([<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>], [<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,   <span class="hljs-string"><span class="hljs-string">'Valerian'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> dbo.Clinic ([<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>], [TrialID], [<span class="hljs-keyword"><span class="hljs-keyword">Name</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>,   <span class="hljs-number"><span class="hljs-number">1</span></span>,        <span class="hljs-string"><span class="hljs-string">'Clinic1'</span></span>), (<span class="hljs-number"><span class="hljs-number">2</span></span>,   <span class="hljs-number"><span class="hljs-number">1</span></span>,        <span class="hljs-string"><span class="hljs-string">'Clinic2'</span></span>);</code> </pre> <br>  рд╣рдо рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЕрдкрдиреА рдХреНрд╡реЗрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд╣рдорд╛рд░реА рдХреНрд╡реЗрд░реА рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдкрд░рд┐рдгрд╛рдо рд╕реЗ рднрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @sqlStatement <span class="hljs-keyword"><span class="hljs-keyword">NVARCHAR</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>) = (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span>тАж <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> actual ([TrialID], ...); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> actual EXEC sp_executesql @sqlStatement, ...</code> </pre> <br>  рдЕрдкреЗрдХреНрд╖рд┐рдд рдЕрдкреЗрдХреНрд╖рд╛рдПрдБ рднрд░реЗрдВ: рдЕрдкреЗрдХреНрд╖рд┐рдд рдореВрд▓реНрдп: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> expected (   ClinicsNum <span class="hljs-built_in"><span class="hljs-built_in">INT</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> expected <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br>  рдореИрдВ рдЗрд╕ рддрдереНрдп рдкрд░ рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рдПрдХреНрд╕рдкреЗрдХреНрдЯреЗрдб рдЯреЗрдмрд▓ рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдХреЗрд╡рд▓ рдПрдХ рдХреЙрд▓рдо рд╣реИ, рдЬрдмрдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореЗрдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкреВрд░рд╛ рд╕реЗрдЯ рд╣реИред <br><br><div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/qd/gx/ga/qdgxgaqr4cjp2eayoz0eycjs8cg.png"></div><br>  рдпрд╣ AssertEqualsTable рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рдХреЗ рдХрд╛рд░рдг рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдорд╛рдиреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="sql hljs">EXEC tSQLt.AssertEqualsTable   'expected',   'actual',   'incorrect number of clinics';</code> </pre> <br>  рдпрд╣ рдХреЗрд╡рд▓ рдЙрди рд╕реНрддрдВрднреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рджреЛрдиреЛрдВ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рдореМрдЬреВрдж рд╣реИрдВ рддреБрд▓рдирд╛ рдХреА рдЬрд╛ рд░рд╣реА рд╣реИред  рдпрд╣ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдмрд╣реБрдд рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкрд░реАрдХреНрд╖рдг рдХреНрд╡реЗрд░реА рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдХреЙрд▓рдо рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрд╛ рдЕрдкрдирд╛ рддрд░реНрдХ рд╣реИ, рдХрднреА-рдХрднреА рдмрд╣реБрдд рднреНрд░рд╛рдордХ рд╣реЛрддрд╛ рд╣реИред  рд╣рдо рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЛрдВ рдХреЛ рдмрдврд╝рд╛рдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реИред  рдмреЗрд╢рдХ, рдпрд╣ рдПрдХ рджреЛрдзрд╛рд░реА рддрд▓рд╡рд╛рд░ рд╣реИред  рдпрджрд┐ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕реНрддрдВрднреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ SELECT TOP 0 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рднрд░ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рдмрд┐рдВрджреБ рдкрд░ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реНрддрдВрдн рдЕрдЪрд╛рдирдХ рд╕рд╛рдордиреЗ рдЖрддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рддрд░рд╣ рдХреЗ рдПрдХ рдкрд░реАрдХреНрд╖рдг рдХрд╛ рдорд╛рдорд▓рд╛ рдЗрд╕ рдХреНрд╖рдг рдХреЛ рдирд╣реАрдВ рдкрдХрдбрд╝реЗрдЧрд╛ред  рдРрд╕реА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><h3>  рдмрд╣рди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ AssertEqualsTable </h3><br>  рдпрд╣ рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рд╣реИ рдХрд┐ tSQLt рдореЗрдВ AssertEqualsTable рдХреЗ рд╕рдорд╛рди рджреЛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рд╣реИрдВред  рдпреЗ AssertEqualsTableSchema рдФрд░ AssertResultSetsHaveSameMetaData рд╣реИрдВред  рдкрд╣рд▓реЗ AssertEqualsTable рдХреЗ рд░реВрдк рдореЗрдВ рд╣реА рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рддрд╛рд▓рд┐рдХрд╛ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░ред  рджреВрд╕рд░рд╛ рдПрдХ рд╕рдорд╛рди рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд░рд┐рдгрд╛рдо рд╕реЗрдЯ рдХреЗ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдкрд░ред <br><br><h3>  рдЙрджрд╛рд╣рд░рдг 2: рдмрд╛рдзрд╛рдУрдВ </h3><br>  рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рдЖрдк рдХреИрд╕реЗ рдЕрд╡рд░реЛрдз рдХреЛ рджреВрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рд╣рдореЗрдВ рдЙрдиреНрд╣реЗрдВ рдЬрд╛рдВрдЪрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ?  рддрдХрдиреАрдХреА рд░реВрдк рд╕реЗ, рдпрд╣ рднреА рддрд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ рдЯреЗрд╕реНрдЯ рдХрд╡рд░реЗрдЬ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдореНрдореАрджрд╡рд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдкрд┐рдЫрд▓реЗ рдЙрджрд╛рд╣рд░рдг рд╕реЗ рд╕реНрдерд┐рддрд┐ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рджреЛ рддрд╛рд▓рд┐рдХрд╛рдУрдВ - [рдкрд░реАрдХреНрд╖рдг] рдФрд░ [рдХреНрд▓рд┐рдирд┐рдХ];  [рдкрд░реАрдХреНрд╖рдг] FK: <br><br><div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/-8/zu/v3/-8zuv3clqoo3ygm9wko5hpibc90.png"></div><br>  рдЖрдЗрдП рдЗрд╕ рдЕрдбрд╝рдЪрди рдХреЛ рдкрд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЯреЗрд╕реНрдЯ рдХреЗрд╕ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред  рдкрд╣рд▓реА рдмрд╛рд░, рдкрд┐рдЫрд▓реА рдмрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ, рд╣рдо рдирдХрд▓реА рдЯреЗрдмрд▓ред <br><br><pre> <code class="sql hljs">EXEC tSQLt.FakeTable '[dbo].[Trial]' EXEC tSQLt.FakeTable '[dbo].[Clinic]'</code> </pre> <br>  рд▓рдХреНрд╖реНрдп рдПрдХ рд╣реА рд╣реИ - рдЕрдирд╛рд╡рд╢реНрдпрдХ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рд╣рдо рдЕрдирд╛рд╡рд╢реНрдпрдХ рдЗрд╢рд╛рд░реЛрдВ рдХреЗ рдмрд┐рдирд╛ рдкреГрдердХ рдЪреЗрдХ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдо ApplyConstraint рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдЙрд╕ рдЬрдЧрд╣ рдкрд░ рдЖрдиреЗ рд╡рд╛рд▓реА рдмрд╛рдзрд╛ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs">EXEC tSQLt.ApplyConstraint   '[dbo].[Clinic]',   'Trial_FK';</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдордиреЗ рдкреНрд░рддреНрдпрдХреНрд╖ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЛ рдПрдХ рд╕рд╛рде рд░рдЦрд╛ рд╣реИред  рдЪреЗрдХ рд╕реНрд╡рдпрдВ рдореЗрдВ рдЗрд╕ рддрдереНрдп рдХреЛ рд╕рдорд╛рд╣рд┐рдд рдХрд░реЗрдЧрд╛ рдХрд┐ рдбреЗрдЯрд╛ рдбрд╛рд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдПрдХ рдЕрдкрд╡рд╛рдж рдХреЛ рдЬрдиреНрдо рджреЗрдЧрд╛ред  рдкрд░реАрдХреНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рдХреЛ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЗрд╕реЗ рдмрд╣реБрдд рдЕрдкрд╡рд╛рдж рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  ExpectException рдЕрдкрд╡рд╛рдж рд╣реИрдВрдбрд▓рд░ рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ред <br><br><pre> <code class="sql hljs">EXEC tSQLt.ExpectException   @ExpectedMessage = 'The <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">statement</span></span> conflicted...<span class="hljs-string"><span class="hljs-string">',   @ExpectedSeverity = 16,   @ExpectedState = 0;</span></span></code> </pre> <br>  рд╣реИрдВрдбрд▓рд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рдЧреИрд░-рдбрд╛рд▓рдиреЗ рдпреЛрдЧреНрдп рдбрд╛рд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> [dbo].[Clinic] ([TrialID])   <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  рдЕрдкрд╡рд╛рдж рдкрдХрдбрд╝рд╛ рдЧрдпрд╛ред  рдЯреЗрд╕реНрдЯ рдкрд╛рд╕ред <br><br><h3>  рдмрд╣рди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ </h3><br>  TSQLt рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╣рдореЗрдВ рдЯреНрд░рд┐рдЧрд░реНрд╕ рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдорд╛рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред  рдЖрдк рдирдХрд▓реА рддрд╛рд▓рд┐рдХрд╛ рдкрд░ рдЯреНрд░рд┐рдЧрд░ рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП ApplyTrigger рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рдм рдХреБрдЫ рдКрдкрд░ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рд╣реИ - рд╣рдо рдЯреНрд░рд┐рдЧрд░ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ, рдкрд░рд┐рдгрд╛рдо рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  ExpectNoException - ExpectException рдХрд╛ antonym </h3><br>  рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЬрд╣рд╛рдВ рдЕрдкрд╡рд╛рдж рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдПрдХ ExpectNoException рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╣реИред  рдпрд╣ рдПрдХ ExpectException рдХреА рддрд░рд╣ рд╣реА рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рд╕рд┐рд╡рд╛рдп рдЗрд╕рдХреЗ рдХрд┐ рдпрджрд┐ рдХреЛрдИ рдЕрдкрд╡рд╛рдж рд╣реЛрддрд╛ рд╣реИ рддреЛ рдкрд░реАрдХреНрд╖рдг рд╡рд┐рдлрд▓ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><h3>  рдЙрджрд╛рд╣рд░рдг 3: рд╕реЗрдорд╛рдлреЛрд░ </h3><br>  рд╕реНрдерд┐рддрд┐ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИред  рдХрдИ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд╛рд░реНрдпрд╡рд┐рдзрд┐рдпрд╛рдБ рдФрд░ рд╡рд┐рдВрдбреЛрдЬрд╝ рд╕реЗрд╡рд╛рдПрдБ рд╣реИрдВред  рдЙрдирдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреА рд╢реБрд░реБрдЖрдд рд╡рд┐рднрд┐рдиреНрди рдмрд╛рд╣рд░реА рдШрдЯрдирд╛рдУрдВ рдХреЗ рдХрд╛рд░рдг рд╣реЛ рд╕рдХрддреА рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЙрдирдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХрд╛ рдЕрдиреБрдордд рдЖрджреЗрд╢ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╣реИред  рдбреЗрдЯрд╛рдмреЗрд╕ рдЯреЗрдмрд▓ рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдЕрд▓рдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реЗрдорд╛рдлреЛрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╕рдВрдЧреНрд░рд╣реАрдд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рд╣реИред <br><br>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рджреЛ рдЯреЗрдмрд▓ рд╣реИрдВ: <br><br><div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/-m/hz/8-/-mhz8-fm_n1w7njpryiv8z3epiw.png"></div><br>  рддрд╛рд▓рд┐рдХрд╛ [рдкреНрд░рдХреНрд░рд┐рдпрд╛] рдореЗрдВ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рдЕрдиреБрдордд рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдПрдХ рд╕реВрдЪреА рд╢рд╛рдорд┐рд▓ рд╣реИ, [рдкреНрд░реЛрдХреИрд╕реНрдЯрд╕] - рдЗрди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рд╕реВрдЪреАред <br><br>  рд╣рдорд╛рд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреНрдпрд╛ рдХрд░рддреА рд╣реИ?  рдЬрдм рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЪреЗрдХ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдкрд╣рд▓реЗ рд╣реЛрддреА рд╣реИ: <br><br><ol><li>  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдирд╛рдо, [рдкреНрд░рдХреНрд░рд┐рдпрд╛] рддрд╛рд▓рд┐рдХрд╛ рдХреЗ [рдирд╛рдо] рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рджреЗрдЦрд╛ рдЧрдпрд╛ рд╣реИред </li><li>  рдпрджрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд╛рдо рдкрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ рдпрд╣ рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЗрд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ - [рдкреНрд░рдХреНрд░рд┐рдпрд╛] рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ [IsRunable] рдзреНрд╡рдЬред </li><li>  рдпрджрд┐ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рд▓рд┐рдП рд╕реНрд╡реАрдХрд╛рд░реНрдп рд╣реИ, рддреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЪрд▓ рдирд╣реАрдВ рд░рд╣рд╛ рд╣реИред  рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ [ProcStatus], рд╕реНрдерд┐рддрд┐ рдХреЗ рд╕рд╛рде рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ = 'InProg' рдХреА рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИред </li></ol><br>  рдпрджрд┐ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, рддреЛ рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдирдпрд╛ рд░рд┐рдХреЙрд░реНрдб 'InProg' рдХреЗ рд╕рд╛рде ProcStatus (рдпрд╣ рдПрдХ рд▓реЙрдиреНрдЪ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИ) рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕ рд░рд┐рдХреЙрд░реНрдб рдХреА ID ProcStatusId рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддреА рд╣реИред  рдпрджрд┐ рдХреЛрдИ рд╕рддреНрдпрд╛рдкрди рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреА рдЕрдкреЗрдХреНрд╖рд╛ рдХрд░рддреЗ рд╣реИрдВ: <br><br><ol><li>  рдПрдХ рдкрддреНрд░ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рд╢рд╛рд╕рдХ рдХреЛ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рд░рд┐рдЯрд░реНрди ProcStatusId = -1ред </li><li>  [ProcStatus] рдореЗрдВ рдПрдХ рдирдИ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдирд╣реАрдВ рдЬреЛрдбрд╝реА рдЧрдИ рд╣реИред </li></ol><br>  рдЬрдм рдорд╛рдорд▓рд╛ рд╕реНрд╡реАрдХрд╛рд░реНрдп рд▓реЛрдЧреЛрдВ рдХреА рд╕реВрдЪреА рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рдорд╛рдорд▓реЗ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓рд╛ рд▓рд┐рдЦреЗрдВред <br><br>  рд╕реБрд╡рд┐рдзрд╛ рдХреЗ рд▓рд┐рдП, рддреБрд░рдВрдд FakeTable рд▓рд╛рдЧреВ рдХрд░реЗрдВред  рдпрд╣рд╛рдВ рдпрд╣ рдореМрд▓рд┐рдХ рд░реВрдк рд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ: <br><br><ol><li>  рд╣рдореЗрдВ рдХрд┐рд╕реА рднреА рдбреЗрдЯрд╛ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рд╣реИ рдЬреЛ рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЗ рд╕рд╣реА рдирд┐рд╖реНрдкрд╛рджрди рдореЗрдВ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдХрд░ рд╕рдХрддрд╛ рд╣реИред </li><li>  рд╣рдо ProcStatus рдореЗрдВ рд▓рд╛рдкрддрд╛ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреЗ рд╕рддреНрдпрд╛рдкрди рдХреЛ рдФрд░ рд╕рд░рд▓ рдХрд░реЗрдВрдЧреЗред </li></ol><br><pre> <code class="sql hljs">EXEC tSQLt.FakeTable 'dbo.Process'; EXEC tSQLt.FakeTable 'dbo.ProcStatus';</code> </pre> <br>  рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рдд [SendEmail] рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХреЛрдВ рдХреЛ рдПрдХ рдкрддреНрд░ рднреЗрдЬрдиреЗ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЙрд╕рдХреА рдХреЙрд▓ рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП, tSQLt рд╣рдореЗрдВ SpyProcedure рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдкреЗрд╢рдХрд╢ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="sql hljs">EXEC tSQLt.SpyProcedure 'dbo.SendEmail'</code> </pre> <br>  SpyProcedure рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрд░рддрд╛ рд╣реИ: <br><br><ol><li>  рдкреНрд░рдкрддреНрд░ рдХреА рддрд╛рд▓рд┐рдХрд╛ [dbo] рдмрдирд╛рддрд╛ рд╣реИред [SendEmail_SpyProcedureLog]ред </li><li>  рдлрд╝реЗрдХрдЯреЗрдмрд▓ рдХреА рддрд░рд╣, рдпрд╣ рдореВрд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЕрдкрдиреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде, рд╕рдорд╛рди рдирд╛рдо рдХреЗ рд╕рд╛рде рдмрджрд▓рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд▓реЙрдЧрд┐рдВрдЧ рд▓реЙрдЬрд┐рдХ рдХреЗ рд╕рд╛рдеред  рдпрджрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╣реИ, рддреЛ рдЖрдк рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдХрд┐рд╕реА рднреА рддрд░реНрдХ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред </li></ol><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЕрдиреБрдорд╛рди рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд▓реЙрдЧрд┐рдВрдЧ рд╣реЛрддреА рд╣реИ [dbo]ред [SendEmail_SpyProcedureLog]ред  рдЗрд╕ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдХреЙрд▓рдо [_ID_] рд╣реИ - рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЙрд▓ рдХрд╛ рдХреНрд░рдо рд╕рдВрдЦреНрдпрд╛ред  рдмрд╛рдж рдХреЗ рдХреЙрд▓рдо рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рджрд┐рдП рдЧрдП рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдирд╛рдо рдХреЛ рд╕рд╣рди рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдХреЙрд▓ рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдП рдЧрдП рдорд╛рди рдЙрдирдореЗрдВ рдПрдХрддреНрд░ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЙрдиреНрд╣реЗрдВ рднреА рдЬрд╛рдВрдЪрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/ko/gh/4h/kogh4hgcdsxagldk2bmdcfrptzi.png"></div><br>  рдЕрдВрддрд┐рдо рдЪреАрдЬрд╝ рдЬреЛ рд╣рдореЗрдВ рдЕрд░реНрдзрдХреБрдВрдн рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдФрд░ рдЬрд╛рдБрдЪ рдПрдХ рдЪрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╣рдо рд░рд┐рдХреЙрд░реНрдб рдЖрдИрдбреА рдХреЛ [ProcStatus] рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рдбрд╛рд▓реЗрдВрдЧреЗ (рдЕрдзрд┐рдХ рд╕рдЯреАрдХ, -1, рдХреНрдпреЛрдВрдХрд┐ рд░рд┐рдХреЙрд░реНрдб рдЬреЛрдбрд╝рд╛ рдирд╣реАрдВ рдЬрд╛рдПрдЧрд╛)ред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @ProcStatusId <span class="hljs-built_in"><span class="hljs-built_in">BIGINT</span></span>;</code> </pre> <br>  рд╕реЗрдорд╛рдлреЛрд░ рдХреЛ рдмреБрд▓рд╛рдУ: <br><br><pre> <code class="sql hljs">EXEC dbo.[Semaphore_JobStarter]   'SomeProcess',   @ProcStatusId OUTPUT; <span class="hljs-comment"><span class="hljs-comment">--    -1</span></span></code> </pre> <br>  рдпрд╣реА рд╣реИ, рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рд╣реИрдВред  рдЪрд▓реЛ рд╢рд┐рдкрдореЗрдВрдЯ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдХреЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред <br>  рдкрддреНрд░: <br><br><pre> <code class="sql hljs">IF NOT EXISTS (   <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> *   <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> dbo.SendEmail_SpyProcedureLog) EXEC tSQLt.Fail <span class="hljs-string"><span class="hljs-string">'SendEmail has not been run.'</span></span>;</code> </pre> <br>  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдордиреЗ рднреЗрдЬрдиреЗ рдХреЗ рджреМрд░рд╛рди рдкреНрд░реЗрд╖рд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рд╕реНрд╡рдпрдВ рддрдереНрдп рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред  рдореИрдВ рдЖрдкрдХрд╛ рдзреНрдпрд╛рди tSQLt.Fail рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА рдУрд░ рдЖрдХрд░реНрд╖рд┐рдд рдХрд░рддрд╛ рд╣реВрдВред  рдпрд╣ рдЖрдкрдХреЛ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рдХреЛ "рдЖрдзрд┐рдХрд╛рд░рд┐рдХ" рд░реВрдк рд╕реЗ рд╡рд┐рдлрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЛ рдХреБрдЫ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ tSQLt.Fail рдЖрдкрдХреЛ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред <br><br>  рдЕрдЧрд▓рд╛, рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреА рдЕрдиреБрдкрд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ [dbo] рдореЗрдВ рдХрд░реЗрдВред [ProcStatus]: <br><br><pre> <code class="sql hljs">EXEC tSQLt.AssertEmptyTable 'dbo.ProcStatus';</code> </pre> <br>  рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ рд╣рдордиреЗ рд╢реБрд░реБрдЖрдд рдореЗрдВ рдЬреЛ FakeTable рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдерд╛, рдЙрд╕рдиреЗ рд╣рдорд╛рд░реА рдорджрдж рдХреАред  рдЙрд╕рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рд╣рдо рдЦрд╛рд▓реАрдкрди рдХреА рдЙрдореНрдореАрдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рд╕рдЯреАрдХ рд╕рддреНрдпрд╛рдкрди рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЕрдЪреНрдЫреЗ рддрд░реАрдХреЗ рд╕реЗ, рдЕрд░реНрдзрдХреБрдВрдн рд╕реЗ рдкрд╣рд▓реЗ рдФрд░ рдмрд╛рдж рдХреЗ рд░рд┐рдХреЙрд░реНрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред <br><br>  рд╕рдорд╛рдирддрд╛ ProcStatusId = -1 рд╣рдо рдЖрд╕рд╛рдиреА рд╕реЗ рдкрд░рдЦ рдХреЗ рд╕рд╛рде рдЬрд╛рдБрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="sql hljs">EXEC tSQLt.AssertEquals   -1,       @ProcStatusId,       'Wrong ProcStatusId.';</code> </pre> <br>  рдЕрднрд┐рдХрдерди рдиреНрдпреВрдирддрдо рд╣реИ - рдпрд╣ рдХреЗрд╡рд▓ рджреЛ рдореВрд▓реНрдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рдЕрд▓реМрдХрд┐рдХ рдХреБрдЫ рднреА рдирд╣реАрдВред <br><br><h3>  AsibEquals рд╕рд┐рдмрд▓рд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ </h3><br>  рдореВрд▓реНрдпреЛрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдХрдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИрдВ: <br><br><ul><li>  AssertEquals </li><li>  AssertNotEquals </li><li>  AssertEqualsString </li><li>  AssertLike </li></ul><br>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрдирдХреЗ рдирд╛рдо рдЕрдкрдиреЗ рд▓рд┐рдП рдмреЛрд▓рддреЗ рд╣реИрдВред  рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рдПрдХрдорд╛рддреНрд░ рдЪреАрдЬ рдПрдХ рдЕрд▓рдЧ AssertEqualsString рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЕрд╕реНрддрд┐рддреНрд╡ рд╣реИред  рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ AssertEquals / AssertNotEquals / AssertLike SQL_VARIANT рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдФрд░ NVARCHAR (MAX) рдЗрд╕ рдкрд░ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП tSQLt рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ NVARCHAR (MAX) рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдЖрд╡рдВрдЯрд┐рдд рдХрд░рдиреА рдкрдбрд╝реАред <br><br><h3>  рдирдХрд▓реА рдХрд╛рд░реНрдп </h3><br>  рдХреБрдЫ рдЦрд┐рдВрдЪрд╛рд╡ рдХреЗ рд╕рд╛рде FakeFunction рдХреЛ SpyProcedure рдХреЗ рд╕рдорд╛рди рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рдирдХрд▓реА рдЖрдкрдХреЛ рдХрд┐рд╕реА рднреА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЖрд╡рд╢реНрдпрдХ рд╕рд░рд▓ рдХреЗ рд╕рд╛рде рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЪреВрдВрдХрд┐ рдПрд╕рдХреНрдпреВрдПрд▓ рд╕рд░реНрд╡рд░ рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдЯреВрдердкреЗрд╕реНрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рдЯреНрдпреВрдм рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрдд рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ - рд╡реЗ "рдХреЗрд╡рд▓ рддрдХрдиреАрдХреА рдЫреЗрдж" рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд░рд┐рдгрд╛рдо рджреЗрддреЗ рд╣реИрдВ, рдлрд┐рд░, рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдХреЛрдИ рд▓реЙрдЧрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИред  рдХреЗрд╡рд▓ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрдиред <br><br><h1>  рдиреБрдХрд╕рд╛рди </h1><br>  рдпрд╣ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдХрд┐ tSQLt рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЖрдкрдХреЛ рдХреБрдЫ рдиреБрдХрд╕рд╛рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдиреБрдХрд╕рд╛рди рд╕реЗ рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдХреБрдЫ рд╕рдорд╕реНрдпрд╛рдЧреНрд░рд╕реНрдд рдореБрджреНрджреЗ рдЬреЛ SQL рд╕рд░реНрд╡рд░ рдФрд░ / рдпрд╛ рдХреА рд╕реАрдорд╛рдУрдВ рдХреЗ рдХрд╛рд░рдг рдкреИрджрд╛ рд╣реБрдП рдереЗ, рдЬрд┐рдиреНрд╣реЗрдВ рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд╣рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><h3>  рд▓реЗрди-рджреЗрди рдХрд╛ рд░рджреНрджреАрдХрд░рдг / рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ </h3><br>  рд╣рдорд╛рд░реА рдЯреАрдо рдиреЗ рдкрд╣рд▓реА рдФрд░ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рдорд╕реНрдпрд╛ рд▓реЗрди-рджреЗрди рдХреЛ рд░рджреНрдж рдХрд░рдиреЗ рдХреА рдереАред  SQL рд╕рд░реНрд╡рд░ рдХреЛ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдиреЗрд╕реНрдЯреЗрдб рд▓реЗрдирджреЗрди рдХреЛ рдЕрд▓рдЧ рд╕реЗ рдХреИрд╕реЗ рд░реЛрд▓ рдХрд┐рдпрд╛ рдЬрд╛рдП - рдХреЗрд╡рд▓ рд╕рдм рдХреБрдЫ рдПрдХ рдкреВрд░реЗ рдХреЗ рд░реВрдк рдореЗрдВ, рд╕рдмрд╕реЗ рдмрд╛рд╣рд░реА рдХреЗ рдареАрдХ рдиреАрдЪреЗред  рдЗрд╕ рддрдереНрдп рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП рдХрд┐ tSQLt рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЛ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдирджреЗрди рдореЗрдВ рд▓рдкреЗрдЯрддрд╛ рд╣реИ, рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рдмрди рдЬрд╛рддреА рд╣реИред  рдЖрдЦрд┐рд░рдХрд╛рд░, рдкрд░реАрдХреНрд╖рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдЕрдВрджрд░ рдПрдХ рд▓реЗрди-рджреЗрди рд░реЛрд▓рдмреИрдХ рдкрд░реАрдХреНрд╖рдг рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рддреЛрдбрд╝ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЧреИрд░-рд╡рд░реНрдгрдирд╛рддреНрдордХ рдирд┐рд╖реНрдкрд╛рджрди рддреНрд░реБрдЯрд┐ рд╣реЛ рд╕рдХрддреА рд╣реИред <br><br>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо savepoints рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рд╡рд┐рдЪрд╛рд░ рд╕рд░рд▓ рд╣реИред  рдкрд░реАрдХреНрд╖рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рд▓реЗрдирджреЗрди рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╣рдо рдкрд╣рд▓реЗ рд╣реА рд▓реЗрдирджреЗрди рдХреЗ рдЕрдВрджрд░ рд╣реИрдВред  рдЕрдЧрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рдХрд┐ рд╣рд╛рдБ, рд╣рдо рд╣реИрдВ, рддреЛ, рдпрд╣ рдорд╛рдирддреЗ рд╣реБрдП рдХрд┐ рдпрд╣ рдПрдХ tSQLt рд▓реЗрдирджреЗрди рд╣реИ, рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп savepoint рдбрд╛рд▓реЗрдВред  рдлрд┐рд░, рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рд╣рдо рдЗрд╕ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░реЗрдВрдЧреЗ, рдФрд░ рд▓реЗрдирджреЗрди рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдирд╣реАрдВред  рдШреЛрдВрд╕рд▓рд╛ рдРрд╕рд╛ рдирд╣реАрдВ рд╣реИред <br><br><div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/zk/0u/jc/zk0ujc2gmggccs7bg7icraan3da.png"></div><br>  рд▓реЗрди-рджреЗрди рднреНрд░рд╖реНрдЯрд╛рдЪрд╛рд░ рд╕реЗ рд╕рдорд╕реНрдпрд╛ рдЬрдЯрд┐рд▓ рд╣реИред  рдЕрдЧрд░ рдЕрдЪрд╛рдирдХ рдХреБрдЫ рдЧрд▓рдд рд╣реЛ рдЧрдпрд╛ рдФрд░ рдЕрдкрд╡рд╛рдж рдХрд╛рдо рдХрд░ рдЧрдпрд╛, рддреЛ рд▓реЗрдирджреЗрди рдПрдХ рдкреНрд░рд▓рдп рдмрди рд╕рдХрддрд╛ рд╣реИред  рдРрд╕рд╛ рд▓реЗрди-рджреЗрди рди рдХреЗрд╡рд▓ рдкреНрд░рддрд┐рдмрджреНрдз рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдмрд▓реНрдХрд┐ рдмрдЪрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рд▓реБрдврд╝рдХрд╛ рд╣реБрдЖ рд╣реИ, рдХреЗрд╡рд▓ рдкреВрд░реА рдЪреАрдЬ рдХреЛ рд╡рд╛рдкрд╕ рд▓реЗ рд▓рд┐рдпрд╛ рд╣реИред <br><br>  рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдбрд┐рдЬрд╝рд╛рдЗрди рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╣реЛрдЧрд╛: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @isNestedTransaction <span class="hljs-built_in"><span class="hljs-built_in">BIT</span></span> =   <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> @@trancount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'true'</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">'false'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> TRY   <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> @isNestedTransaction = <span class="hljs-string"><span class="hljs-string">'false'</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">SAVE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span> SavepointName;       <span class="hljs-comment"><span class="hljs-comment">-- something useful   IF @isNestedTransaction = 'false'   COMMIT TRANSACTION; END TRY BEGIN CATCH   DECLARE @isCommitable BIT =       CASE WHEN XACT_STATE() = 1           THEN 'true'           ELSE 'false'   END;   IF @isCommitable = 'true' AND @isNestedTransaction = 'true'       ROLLBACK TRANSACTION SavepointName;   ELSE       ROLLBACK;   THROW; END CATCH;</span></span></code> </pre> <br>  рднрд╛рдЧреЛрдВ рдореЗрдВ рдХреЛрдб рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред  рдкрд╣рд▓реЗ рд╣рдореЗрдВ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╣рдо рд▓реЗрдирджреЗрди рдХреЗ рдЕрдВрджрд░ рд╣реИрдВ: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @isNestedTransaction <span class="hljs-built_in"><span class="hljs-built_in">BIT</span></span> =   <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> @@trancount &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'true'</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">'false'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>;</code> </pre> <br>  @IsNestedTransaction рдзреНрд╡рдЬ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╕реНрдерд┐рддрд┐ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ TRY рдмреНрд▓реЙрдХ рдЪрд▓рд╛рдПрдВ рдФрд░ рд╕реЗрд╡рдкреЙрдЗрдВрдЯ рдпрд╛ рд▓реЗрдирджреЗрди рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗрдЯ рдХрд░реЗрдВред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> TRY   <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> @isNestedTransaction = <span class="hljs-string"><span class="hljs-string">'false'</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">SAVE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span> SavepointName;       <span class="hljs-comment"><span class="hljs-comment">-- something useful</span></span></code> </pre> <br>  рдЕрдЧрд░ рд╣рдордиреЗ рдХреБрдЫ рдЙрдкрдпреЛрдЧреА, рдкреНрд░рддрд┐рдмрджреНрдз рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреА "рд╡рд╛рд╕реНрддрд╡рд┐рдХ" рд╢реБрд░реБрдЖрдд рд╣реИред <br><br><pre> <code class="sql hljs">       <span class="hljs-comment"><span class="hljs-comment">-- something useful   IF @isNestedTransaction = 'false'   COMMIT TRANSACTION; END TRY</span></span></code> </pre> <br>  рдмреЗрд╢рдХ, рдЕрдЧрд░ рдпрд╣ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдорд╛рдорд▓реЗ рд╕реЗ рдПрдХ рд▓реЙрдиреНрдЪ рд╣реИ, рддреЛ рд╣рдореЗрдВ рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рдЕрдВрдд рдореЗрдВ, tSQLt рдмрд╕ рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╡рд╛рдкрд╕ рд░реЛрд▓ рдХрд░реЗрдЧрд╛ред  рдЕрдЧрд░ рдЕрдЪрд╛рдирдХ рдХреБрдЫ рдЧрд▓рдд рд╣реБрдЖ рдФрд░ рд╣рдо CATCH рдмреНрд▓реЙрдХ рдореЗрдВ рдЖ рдЧрдП, рддреЛ рдкрд╣рд▓реА рдмрд╛рдд рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рд╣рдорд╛рд░рд╛ рд▓реЗрдирджреЗрди рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> CATCH   <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @isCommitable <span class="hljs-built_in"><span class="hljs-built_in">BIT</span></span> =       <span class="hljs-keyword"><span class="hljs-keyword">CASE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">WHEN</span></span> XACT_STATE() = <span class="hljs-number"><span class="hljs-number">1</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">THEN</span></span> <span class="hljs-string"><span class="hljs-string">'true'</span></span>           <span class="hljs-keyword"><span class="hljs-keyword">ELSE</span></span> <span class="hljs-string"><span class="hljs-string">'false'</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">END</span></span>;</code> </pre> <br>  рд╣рдо рдХреЗрд╡рд▓ рддрднреА рд╡рд╛рдкрд╕ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд░реЛрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ <br><br><ol><li>  рд╕рд░рд╛рд╣рдиреАрдп рд▓реЗрдирджреЗрди </li><li>  рдПрдХ рдЯреЗрд╕реНрдЯ рд░рди рд╣реЛрддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд  savepoint рдореМрдЬреВрдж рд╣реИред </li></ol><br>  рдЕрдиреНрдп рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╣рдореЗрдВ рд╕рдВрдкреВрд░реНрдг рд▓реЗрдирджреЗрди рд╡рд╛рдкрд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><pre> <code class="sql hljs">   IF @isCommitable = 'true' AND @isNestedTransaction = 'true'       <span class="hljs-keyword"><span class="hljs-keyword">ROLLBACK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span> SavepointName;   ELSE       <span class="hljs-keyword"><span class="hljs-keyword">ROLLBACK</span></span>;   THROW; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> CATCH;</code> </pre> <br>  рд╣рд╛рдВ, рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЕрдЧрд░ рдПрдХ рдкрд░реАрдХреНрд╖рдг рд░рди рдХреЗ рджреМрд░рд╛рди рд╣рдореЗрдВ рдПрдХ рд╡реНрдпрд╡рд╣рд╛рд░реНрдп рд▓реЗрдирджреЗрди рдорд┐рд▓рд╛, рддреЛ рд╣рдореЗрдВ рдЕрднреА рднреА рдкрд░реАрдХреНрд╖рдг рдорд╛рдорд▓реЗ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдореЗрдВ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИред <br><br><h3>  рдирдХрд▓реА рдХреБрдВрдЬреА рдФрд░ рд╡рд┐рджреЗрд╢реА рдХреБрдВрдЬреА рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛ </h3><br>  рдкрд░рд┐рдЪрд┐рдд рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ [рдкрд░реАрдХреНрд╖рдг] рдФрд░ [рдХреНрд▓рд┐рдирд┐рдХ]: <br><br><div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/fy/k7/nm/fyk7nmhfha_fnezignyxclpflay.png"></div><br>  рд╣рдореЗрдВ рдпрд╛рдж рд╣реИ [рдкрд░реАрдХреНрд╖рдг] рдПрдл.рдХреЗ.  рдЗрд╕рдХреЗ рдХрд╛рд░рдг рдХреНрдпрд╛ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВ?  рдкрд╣рд▓реЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ, рд╣рдордиреЗ рдПрдХ рд╣реА рдмрд╛рд░ рдореЗрдВ рджреЛрдиреЛрдВ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдореЗрдВ рдлрд╝реЗрдХрдЯреЗрдмрд▓ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ред  рдпрджрд┐ рд╣рдо рдЗрд╕реЗ рдХреЗрд╡рд▓ [рдкрд░реАрдХреНрд╖рдг] рдкрд░ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдирд┐рдореНрди рд╕реНрдерд┐рддрд┐ рдорд┐рд▓рддреА рд╣реИ: <br><br><div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/og/to/3-/ogto3-drjheieblpi1_gsyup4hs.png"></div><br>  рдЗрд╕ рддрд░рд╣ рд╕реЗ [рдХреНрд▓рд┐рдирд┐рдХ] рдореЗрдВ рдПрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рд╡рд┐рдлрд▓ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (рднрд▓реЗ рд╣реА рд╣рдордиреЗ [рдкрд░реАрдХреНрд╖рдг] рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рдирдХрд▓реА рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛ рддреИрдпрд╛рд░ рдХрд┐рдП рд╣реЛрдВред <br><br><pre> <code class="sql hljs">[dbo].[Test_FK_Problem] failed: (Error) The <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">statement</span></span> conflicted <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> the <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> <span class="hljs-string"><span class="hljs-string">"Trial_Fk"</span></span>. The conflict occurred <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">database</span></span> <span class="hljs-string"><span class="hljs-string">"HabrDemo"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-string"><span class="hljs-string">"dbo.tSQLt_tempobject_ba8f36353f7a44f6a9176a7d1db02493"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> <span class="hljs-string"><span class="hljs-string">'TrialID'</span></span>.[<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>]{Test_FK_Problem,<span class="hljs-number"><span class="hljs-number">14</span></span>}</code> </pre> <br>  рдирд┐рд╖реНрдХрд░реНрд╖: рдЖрдкрдХреЛ рдпрд╛ рддреЛ рд╕рдм рдХреБрдЫ рдирдХрд▓реА рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдирдХрд▓реА рдХреБрдЫ рднреА рдирд╣реАрдВред  рджреВрд╕рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдЖрдзрд╛рд░ рдХреЛ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рд╕реЗ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><h3>  рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдкрд░ SpyProcedure </h3><br>  рдХрд╛рд╢, рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рдкрд░ рдЬрд╛рд╕реВрд╕реА рд╡рд┐рдлрд▓ рд╣реЛ рдЬрд╛рдПрдЧреАред <br><br><pre> <code class="sql hljs">[HabrDemo].[test_test] failed: (Error) Cannot <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> SpyProcedure <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> sys.sp_help because the <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> exist[<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>] {tSQLt.Private_ValidateProcedureCanBeUsedWithSpyProcedure,<span class="hljs-number"><span class="hljs-number">7</span></span>}</code> </pre> <br>  рд╕реЗрдорд╛рдлреЛрд░ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдордиреЗ рдЕрдкрдиреЗ рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рдд [SendEmail] рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдХреЙрд▓ рдЯреНрд░реИрдХ рдХрд┐рдпрд╛ред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдПрдХ рдЕрд▓рдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд▓рд┐рдЦрдирд╛ рд╕реАрдзреЗ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдЬрд╛рдирдХрд╛рд░реА рдПрдХрддреНрд░ рдХрд░рдиреЗ рдФрд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдХрд╛рд░рдг рд╣реИред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдХрд┐рд╕реА рдХреЛ рдЗрд╕ рддрдереНрдп рдХреЗ рд▓рд┐рдП рдорд╛рдирд╕рд┐рдХ рд░реВрдк рд╕реЗ рддреИрдпрд╛рд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХрд┐рд╕реА рдХреЛ рдкрд░реАрдХреНрд╖рдг рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХреБрдЫ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рд▓реЗрдпрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдВ рд▓рд┐рдЦрдиреА рдкрдбрд╝ рд╕рдХрддреА рд╣реИрдВред <br><br><h1>  рдЧреМрд░рд╡ </h1><br><h3>  рддреНрд╡рд░рд┐рдд рд╕реНрдерд╛рдкрдирд╛ </h3><br>  рд╕реНрдерд╛рдкрдирд╛ 2 рдЪрд░рдгреЛрдВ рдореЗрдВ рд╣реЛрддреА рд╣реИ рдФрд░ рд▓рдЧрднрдЧ 2 рдорд┐рдирдЯ рд▓рдЧрддреЗ рд╣реИрдВред  рдЖрдкрдХреЛ рдХреЗрд╡рд▓ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реАрдПрд▓рдЖрд░ рдХреЛ рд╕рдХреНрд░рд┐рдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдпрджрд┐ рдкрд╣рд▓реЗ рд╕реЗ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдЕрдорд▓ рдХрд░реЗрдВред  рд╕рдм рдХреБрдЫ, рдЖрдк рдкрд╣рд▓реЗ рдЯреЗрд╕реНрдЯ рдХреНрд▓рд╛рд╕ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЯреЗрд╕реНрдЯ рдХреЗрд╕ рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рддреНрд╡рд░рд┐рдд рд╡рд┐рдХрд╛рд╕ </h3><br>  tSQLt рдЯреВрд▓ рд╕реАрдЦрдирд╛ рдЖрд╕рд╛рди рд╣реИред  рдореБрдЭреЗ рдЗрд╕рдореЗрдВ рдорд╣рд╛рд░рдд рд╣рд╛рд╕рд┐рд▓ рдХрд░рдиреЗ рдореЗрдВ рдереЛрдбрд╝рд╛ рджрд┐рди рд▓рдЧрд╛ред  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдЙрди рд╕рд╣рдпреЛрдЧрд┐рдпреЛрдВ рд╕реЗ рдкреВрдЫрд╛, рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдврд╛рдВрдЪреЗ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ, рдФрд░ рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рд╣рд░ рдХреЛрдИ рд▓рдЧрднрдЧ рдПрдХ рджрд┐рди рдмрд┐рддрд╛рдПрдЧрд╛ред <br><br><h3>  рд╕реАрдЖрдИ рдореЗрдВ рддреЗрдЬреА рд╕реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди </h3><br>  рд╣рдорд╛рд░реА рдкрд░рд┐рдпреЛрдЬрдирд╛ рдкрд░ CI рдореЗрдВ рдПрдХреАрдХрд░рдг рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд▓рдЧрднрдЧ 2 рдШрдВрдЯреЗ рдХрд╛ рд╕рдордп рд▓рдЧрд╛ред  рд╕рдордп, рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░ рдпрд╣ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИ, рдФрд░ рдПрдХреАрдХрд░рдг рдмрд╣реБрдд рддреЗрдЬрд╝реА рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><h3>  рд╕рд╛рдзрдиреЛрдВ рдХреА рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ </h3><br>  рдпрд╣ рдПрдХ рд╡реНрдпрдХреНрддрд┐рдкрд░рдХ рдЖрдХрд▓рди рд╣реИ, рд▓реЗрдХрд┐рди, рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, tSQLt рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЧрдИ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХрд╛рдлреА рд╕рдореГрджреНрдз рд╣реИ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдореЗрдВ рдЬрд░реВрд░рддреЛрдВ рдХреЗ рд╢реЗрд░ рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЛ рдХрд╡рд░ рдХрд░рддреА рд╣реИред  рджреБрд░реНрд▓рдн рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЬрдм рдкрд░реНрдпрд╛рдкреНрдд рдмрд┐рд▓реНрдЯ-рдЗрди рдлрд╝реЗрдХ рдФрд░ рджрд╛рд╡реЗ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, tSQLt.Failред <br><br><h3>  рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдкреНрд░рд▓реЗрдЦрди </h3><br>  рдЖрдзрд┐рдХрд╛рд░рд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдФрд░ рд╕реБрд╕рдВрдЧрдд рд╣реИред  рдЗрд╕рдХреА рдорджрдж рд╕реЗ, рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдереЛрдбрд╝реЗ рд╕рдордп рдореЗрдВ tSQLt рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рд╕рд╛рд░ рд╕рдордЭ рд╕рдХрддреЗ рд╣реИрдВ, рднрд▓реЗ рд╣реА рдпрд╣ рдЖрдкрдХрд╛ рдкрд╣рд▓рд╛ рдпреВрдирд┐рдЯ-рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдЯреВрд▓ рд╣реЛред <br><br><h3>  рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЙрддреНрдкрд╛рджрди </h3><br>  рдбреЗрдЯрд╛ рдПрдХ рдмрд╣реБрдд рд╕реНрдкрд╖реНрдЯ рдкрд╛рда рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: <br><br><pre> <code class="plaintext hljs">[tSQLtDemo].[test_error_messages] failed: (Failure) Expected an error to be raised. [tSQLtDemo].[test_tables_comparison] failed: (Failure) useful and descriptive error message Unexpected/missing resultset rows! |_m_|Column1|Column2| +---+-------+-------+ |&lt; |2 |Value2 | |= |1 |Value1 | |= |3 |Value3 | |&gt; |2 |Value3 | +----------------------+ |Test Execution Summary| +----------------------+ |No|Test Case Name |Dur(ms)|Result | +--+------------------------------------+-------+-------+ |1 |[tSQLtDemo].[test_constraint] | 83|Success| |2 |[tSQLtDemo].[test_trial_view] | 83|Success| |3 |[tSQLtDemo].[test_error_messages] | 127|Failure| |4 |[tSQLtDemo].[test_tables_comparison]| 147|Failure| ----------------------------------------------------------------------------- Msg 50000, Level 16, State 10, Line 1 Test Case Summary: 4 test case(s) executed, 2 succeeded, 2 failed, 0 errored. -----------------------------------------------------------------------------</code> </pre><br>  рдЖрдк рдбреЗрдЯрд╛рдмреЗрд╕ (рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рдпреЛрдЧреНрдп) рд╕реЗ рднреА рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ ... <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/webt/-f/83/la/-f83lajcz1mfcnkhtttz45b0x3g.png"></a> </div><br>  ... рдпрд╛ XML рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдорд┐рд▓рддрд╛ рд╣реИред <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testsuites</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testsuite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLtDemo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tests</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">errors</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">failures</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">timestamp</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2019-06-22T16:46:06"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">time</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.433"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hostname</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"BLAHBLAHBLAH\SQL2017"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">package</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLt"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">properties</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testcase</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">classname</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLtDemo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test_constraint"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">time</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.097"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testcase</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">classname</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLtDemo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test_error_messages"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">time</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.153"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">failure</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">message</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Expected an error to be raised."</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLt.Fail"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testcase</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testcase</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">classname</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"tSQLtDemo"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"test_trial_view"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">time</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0.156"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system-out</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">system-err</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testsuite</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testsuites</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  рдмрд╛рдж рд╡рд╛рд▓рд╛ рд╡рд┐рдХрд▓реНрдк рдЖрдкрдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рд╕реАрдЖрдИ рдореЗрдВ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдПрдЯрд▓рд╕рд┐рдпрди рдмрд╛рдВрд╕ рдХреЗ рддрд╣рдд рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br><h3>  Redgate рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ </h3><br>  рдкреНрд▓рд╕ рдореЗрдВ RedGate рдЬреИрд╕реЗ DBA рдЯреВрд▓ рдХреЗ рдЗрддрдиреЗ рдмрдбрд╝реЗ рдкреНрд░рджрд╛рддрд╛ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рд╢рд╛рдорд┐рд▓ рд╣реИред  SQL рдЯреЗрд╕реНрдЯ - SQL рд╕рд░реНрд╡рд░ рдкреНрд░рдмрдВрдзрди рд╕реНрдЯреВрдбрд┐рдпреЛ рдХреЗ рд▓рд┐рдП рдЙрдирдХрд╛ рдкреНрд▓рдЧрдЗрди - рдмреЙрдХреНрд╕ рдХреЗ рдареАрдХ рдмрд╛рд╣рд░ tSQLt рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, RedGate рджреЗрд╡ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд╕рд╛рде tSQLt рдореБрдЦреНрдп рдбреЗрд╡рд▓рдкрд░ рдХреЛ рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Google рд╕рдореВрд╣ рдХреЗ</a> рджрд╛рд╡реЛрдВ рдореЗрдВ рдбреЗрд╡рд▓рдкрд░ рд╕реНрд╡рдпрдВ рдХрд░рддрд╛ рд╣реИред <br><br><h1>  рдХрдорд┐рдпреЛрдВ </h1><br><h3>  рдХреЛрдИ рдЕрд╕реНрдерд╛рдпреА рддрд╛рд▓рд┐рдХрд╛ рдирд╣реАрдВ рд╣реИ </h3><br>  tSQLt рдирдХрд▓реА рдЕрд╕реНрдерд╛рдпреА рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреМрдкрдЪрд╛рд░рд┐рдХ рдРрдб-рдСрди рдХрд╛</a> рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдпрд╣ рдРрдб-рдСрди рдХреЗрд╡рд▓ SQL рд╕рд░реНрд╡рд░ 2016+ рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рд╣реИред <br><br><h3>  рдмрд╛рд╣рд░реА рдбреЗрдЯрд╛рдмреЗрд╕ рддрдХ рдХреЛрдИ рдкрд╣реБрдБрдЪ рдирд╣реАрдВ </h3><br>  рдпрд╣ рдХреЗрд╡рд▓ рдврд╛рдВрдЪреЗ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдЖрдзрд╛рд░ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред  tSQLt рдХреЛ рдЙрд╕реА рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬреЛ рдЗрд╕рдХреЗ рд╕рд╛рде рдирд┐рд╣рд┐рдд рд╣реИред  рдирдХрд▓реА, рдЕрдлрд╕реЛрд╕, рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> [tSQLtDemo].[test_outer_db] <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">10</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [AdventureWorks2017].[Person].[<span class="hljs-keyword"><span class="hljs-keyword">Password</span></span>]   EXEC tSQLt.FakeTable <span class="hljs-string"><span class="hljs-string">'[AdventureWorks2017].[Person].[Password]'</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">10</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> [AdventureWorks2017].[Person].[<span class="hljs-keyword"><span class="hljs-keyword">Password</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">END</span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ga/au/ny/gaaunygdr124sssxhonbb2s0b_0.png"></div><br>  рджрд╛рд╡реЗ рдХрд╛рд░реНрдп рдХрд░рдиреЗ рд▓рдЧрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХреЛрдИ рднреА рдЙрдирдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреА рдЧрд╛рд░рдВрдЯреА рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> [tSQLtDemo].[test_outer_db_assertions] <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> TOP <span class="hljs-number"><span class="hljs-number">1</span></span> *   <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-comment"><span class="hljs-comment">#Actual   FROM [AdventureWorks2017].[Person].[Password]   SELECT *   INTO #Expected   FROM (          SELECT 'bE3XiWw=' AS [PasswordSalt]   ) expectedresult;   EXEC tSQLt.AssertEqualsTable '#Expected', '#Actual', 'The salt is not salty'; END</span></span></code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dk/ow/cgdkowych69imevqmbirkkgsniq.png"></div><br><h3>  рдкреНрд░рд▓реЗрдЦрди рдХреАрдбрд╝реЗ </h3><br>  рдЗрд╕ рддрдереНрдп рдХреЗ рдмрд╛рд╡рдЬреВрдж рдХрд┐ рдореИрдВрдиреЗ рдкреНрд░рд▓реЗрдЦрди рдХреА рд╕реНрдерд┐рд░рддрд╛ рдФрд░ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдКрдкрд░ рд▓рд┐рдЦрд╛ рд╣реИ, рдЗрд╕рдореЗрдВ рд╕рдорд╕реНрдпрд╛рдПрдВ рднреА рд╣реИрдВред  рдЗрд╕рдореЗрдВ рдХреБрдЫ рдкреБрд░рд╛рдиреЗ рдХреНрд╖рдг рд╣реИрдВред <br><br>  рдЙрджрд╛рд╣рд░рдг 1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">"рдХреНрд╡рд┐рдХ рд╕реНрдЯрд╛рд░реНрдЯ рдЧрд╛рдЗрдб"</a> рд╕реЗ рд╕реЛрд░реНрд╕рдлреЙрд░реНрдЧ рд╕реЗ рдлреНрд░реЗрдорд╡рд░реНрдХ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХрд╛ рд╕реБрдЭрд╛рд╡ рдорд┐рд▓рддрд╛ рд╣реИред  рдЙрдиреНрд╣реЛрдВрдиреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">2015 рдореЗрдВ</a> SourceForge рдХреЛ рдЕрд▓рд╡рд┐рджрд╛ рдХрд╣ рджрд┐рдпрд╛ред <br><br>  рдЙрджрд╛рд╣рд░рдг 2. рдЙрджрд╛рд╣рд░рдг рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ApplyConstraint рдорд╛рд░реНрдЧрджрд░реНрд╢рд┐рдХрд╛</a> рдЕрдкрд╡рд╛рдж рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рдлрд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рд╛рде рднрд╛рд░реА рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ ExpectException рдХреЗ рд╕рд╛рде рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╕рд╛рди рдФрд░ рдЕрдзрд┐рдХ рджреГрд╢реНрдп рд╣реЛрдЧрд╛ред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">PROCEDURE</span></span> ConstraintTests.[<span class="hljs-keyword"><span class="hljs-keyword">test</span></span> ReferencingTable_ReferencedTable_FK prevents <span class="hljs-keyword"><span class="hljs-keyword">insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> orphaned <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">AS</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> EXEC tSQLt.FakeTable <span class="hljs-string"><span class="hljs-string">'dbo.ReferencedTable'</span></span>; EXEC tSQLt.FakeTable 'dbo.ReferencingTable'; EXEC tSQLt.ApplyConstraint 'dbo.ReferencingTable','ReferencingTable_ReferencedTable_FK'; <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @ErrorMessage <span class="hljs-keyword"><span class="hljs-keyword">NVARCHAR</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">MAX</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @ErrorMessage = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* []     ExceptException ? */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> TRY <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> dbo.ReferencingTable ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>, ReferencedTableId ) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> ( <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span> ) ; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> TRY <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> CATCH <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> @ErrorMessage = ERROR_MESSAGE(); <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> CATCH <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> @ErrorMessage <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">LIKE</span></span> <span class="hljs-string"><span class="hljs-string">'%ReferencingTable_ReferencedTable_FK%'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> EXEC tSQLt.Fail <span class="hljs-string"><span class="hljs-string">'Expected error message containing ''ReferencingTable_ReferencedTable_FK'' but got: '''</span></span>,@ErrorMessage,<span class="hljs-string"><span class="hljs-string">'''!'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">END</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span></code> </pre><br>  рдФрд░ рдпрд╣ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЬрдЧрд╣ рд▓реЗрддрд╛ рд╣реИ ... <br><br><h3>  рдЖрдВрд╢рд┐рдХ рдкрд░рд┐рддреНрдпрд╛рдЧ </h3><br>  2016 рдХреА рд╢реБрд░реБрдЖрдд рд╕реЗ рдЬреВрди 2019 рддрдХ tSQLt рдХреЗ рд╡рд┐рдХрд╛рд╕ рдореЗрдВ рдПрдХ рд▓рдВрдмрд╛ рдмреНрд░реЗрдХ рд╣реИред рд╣рд╛рдВ, рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЗрд╕ рдЙрдкрдХрд░рдг рдХреЛ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  2019 рдореЗрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">GitHub</a> рджреНрд╡рд╛рд░рд╛ рдереЛрдбрд╝рд╛-рдереЛрдбрд╝рд╛ рдХрд░рдХреЗ, рд╡рд┐рдХрд╛рд╕ рдЕрднреА рднреА рдЖрдЧреЗ рдмрдврд╝рд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЖрдзрд┐рдХрд╛рд░рд┐рдХ Google рд╕рдореВрд╣ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╛рд╕ рдПрдХ рдзрд╛рдЧрд╛</a> рд╣реИ рдЬрд┐рд╕рдореЗрдВ tastt рдХреЗ рдореБрдЦреНрдп рдбреЗрд╡рд▓рдкрд░ рд╕реЗрдмрд╕реНрдЯрд┐рдпрди рд╕реЗ рд╕реАрдзреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рднрд╛рдЧреНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫрд╛ рдЧрдпрд╛ рдерд╛ред  2 рдорд╛рд░реНрдЪ, 2019 рдХреЛ рдЖрдЦрд┐рд░реА рд╕рд╡рд╛рд▓ рдкреВрдЫрд╛ рдЧрдпрд╛ рдерд╛, рдЬрд╡рд╛рдм рдЕрднреА рддрдХ рдирд╣реАрдВ рдорд┐рд▓рд╛ рд╣реИред <br><br><h3>  SQL рд╕рд░реНрд╡рд░ 2017 рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛ </h3><br>  рдпрджрд┐ рдЖрдк SQL Server 2017 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЗ рд▓рд┐рдП, рд╕рдВрднрд╡рддрдГ tSQLt рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рд╣реЗрд░рдлреЗрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ 2012 рдХреЗ рдмрд╛рдж рдкрд╣рд▓реА рдмрд╛рд░, SQL рд╕рд░реНрд╡рд░ рдиреЗ рд╕реБрд░рдХреНрд╖рд╛ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдПред </font><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░ рд╕реНрддрд░ рдкрд░, "CLR рд╕рдЦреНрдд рд╕реБрд░рдХреНрд╖рд╛" рдзреНрд╡рдЬ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛, рдЬреЛ рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдЕрд╕реЗрдВрдмрд▓реА (рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рд╕реБрд░рдХреНрд╖рд┐рдд) рдХреЗ рдирд┐рд░реНрдорд╛рдг рдкрд░ рд░реЛрдХ рд▓рдЧрд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╡рд┐рд╕реНрддреГрдд рд╡рд░реНрдгрди рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ (рдФрд░, рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рд╕рдм рдХреБрдЫ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд░реНрдгрд┐рдд рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рдмрд╛рдж рдХреЗ рд▓реЗрдЦ) рдХреЗ рдпреЛрдЧреНрдп рд╣реИред </font><font style="vertical-align: inherit;">рдмрд╕ рдЗрд╕рдХреЗ рд▓рд┐рдП рдорд╛рдирд╕рд┐рдХ рд░реВрдк рд╕реЗ рддреИрдпрд╛рд░ рд░рд╣реЗрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреЗрд╢рдХ, рдЗрд╕ рдХрдореА рдХреЛ "рдиреБрдХрд╕рд╛рди" рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рдард╣рд░рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рдХрд╛ рд╕рдорд╛рдзрд╛рди tSQLt рдбреЗрд╡рд▓рдкрд░реНрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдлреНрд░реЗрдорд╡рд░реНрдХ рд╕реНрддрд░ рдкрд░ рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рднрд▓реЗ рд╣реА рдереЛрдбрд╝рд╛ рд╕рдордп рд▓реЗрдиреЗ рд╡рд╛рд▓рд╛ рд╣реЛред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдореБрджреНрджрд╛ рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдЕрдХреНрдЯреВрдмрд░ 2017 рд╕реЗ рдЗрд╕реЗ рдЦреАрдВрдЪ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдкрд┐рдЫрд▓реЗ рдЙрдкрдЦрдВрдб рджреЗрдЦреЗрдВ)ред</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдиреНрдп DBMS рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд▓реНрдк (┬▒) </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдЕрдиреНрдп DBMS рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рднреА рд╣реИред tSQLt рдЕрдкрдиреА рддрд░рд╣ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рдЙрдкрдХрд░рдг рдирд╣реАрдВ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдЦрд╝рд╛рд╕рд┐рдпрдд (CLR, рдФрд░ T-SQL рдЕрдиреНрдп SQL рдмреЛрд▓рд┐рдпреЛрдВ рд╕реЗ рдХрд╛рдлреА рдЕрд▓рдЧ рд╣реИ) рдХреЗ рдХрд╛рд░рдг, рдЖрдк рдЗрд╕реЗ рдЕрдиреНрдп DBMS рдореЗрдВ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рдлрд┐рд░ рднреА рдЖрдк рд╕рдорд╛рди рдЙрдкрдХрд░рдг рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдореИрдВ рдзреНрдпрд╛рди рджреЗрддрд╛ рд╣реВрдВ рдХрд┐ рдпреЗ рд╡рд┐рдХрд▓реНрдк tSQLt рд╕реЗ рдХрд╛рдлреА рднрд┐рдиреНрди рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдореБрдЦреНрдп рд░реВрдк рд╕реЗ SQL- рд╕рдВрдЪрд╛рд▓рд┐рдд рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреЛ, PostgreSQL рдХреЗ рддрд╣рдд рдПрдХ рдХрд╛рдлреА рд╡рд┐рдХрд╕рд┐рдд рдФрд░ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рд╡рд┐рдХрд╕рд┐рдд </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ptTAP рд╣реИ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдЗрд╕рдореЗрдВ рдореВрд▓ PL / pgSQL рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рд▓рд┐рдЦрдирд╛ рдФрд░ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЛ TAP рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╢рд╛рдорд┐рд▓ рд╣реИред MySQL рдХреЗ рддрд╣рдд, рдПрдХ рд╕рдорд╛рди рд╣реИ, рдпрджреНрдпрдкрд┐ рдХреБрдЫ рдХрдо рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЙрдкрдХрд░рдг - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyTAP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред рдпрджрд┐ рдЖрдк рдУрд░реЗрдХрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИрдВ, рддреЛ рдЖрдкрдХреЗ рдкрд╛рд╕ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">utPLSQL</font></a><font style="vertical-align: inherit;"> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рд╣реИ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- рдПрдХ рдмрд╣реБрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдФрд░ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ (рдореИрдВ рднреА рдХрд╣реВрдВрдЧрд╛, рдПрдХ рд╕реЗ рдЕрдзрд┐рдХ) рдПрдХ рд╡рд┐рдХрд╛рд╕рд╢реАрд▓ рдЙрдкрдХрд░рдгред</font></font><br><br><h1>  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд╛рдпрдж, рдЙрдкрд░реЛрдХреНрдд рд╕рднреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде, рдореИрдВ рджреЛ рдореБрдЦреНрдп рд╡рд┐рдЪрд╛рд░реЛрдВ рдХреЛ рд╡реНрдпрдХреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд╣рд▓реЗ рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд░реАрдХреНрд╖рдг рдХреЛрдб рдХреА рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЪрд╛рд╣реЗ рдЖрдк SQL рд╕рд░реНрд╡рд░, Oracle рдпрд╛ MySQL рдХреЗ рддрд╣рдд рдмреИрдареЗ рд╣реЛрдВ, рдЗрд╕рд╕реЗ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдорд╛рддреНрд░рд╛ рдореЗрдВ рдЕрдкреНрд░рдпреБрдХреНрдд рддрд░реНрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реИ, рддреЛ рдЖрдк рдЕрддрд┐рд░рд┐рдХреНрдд рдЬреЛрдЦрд┐рдо рдЙрдард╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛрдб рдореЗрдВ рдХреАрдбрд╝реЗ рд╕рдХреНрд╖рдо рд╣реИрдВ, рдХреЛрдб рдХреЗ рдмрд╛рдХреА рд╣рд┐рд╕реНрд╕реЛрдВ рдореЗрдВ рдХреАрдбрд╝реЗ рдХреА рддрд░рд╣, рдЙрддреНрдкрд╛рдж рдХреЛ рдиреБрдХрд╕рд╛рди рдкрд╣реБрдВрдЪрд╛рддрд╛ рд╣реИ рдФрд░, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЙрд╕ рдХрдВрдкрдиреА рдХреЛ рдЬреЛ рдЗрд╕реЗ рдЖрдкреВрд░реНрддрд┐ рдХрд░рддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░рд╛ рд╡рд┐рдЪрд╛рд░ рдПрдХ рдЙрдкрдХрд░рдг рдЪреБрди рд░рд╣рд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк, рдореЗрд░реА рддрд░рд╣, SQL рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рддреЛ tSQLt рд╣реИ, рдпрджрд┐ 100% рд╡рд┐рдЬреЗрддрд╛ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рдзреНрдпрд╛рди рджреЗрдиреЗ рдпреЛрдЧреНрдп рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓ рд╣реА рдореЗрдВ рд╕реБрд╕реНрдд рд╡рд┐рдХрд╛рд╕ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдпрд╣ рдЕрднреА рднреА рдПрдХ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рдкрд░реАрдХреНрд╖рдг рдХреА рд╕реБрд╡рд┐рдзрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реВрддреНрд░реЛрдВ рдиреЗ рдореЗрд░реА рдорджрдж рдХреА (рдЕрдзреВрд░реА рд╕реВрдЪреА)</font></font></b> <div class="spoiler_text"> DbFit тАФ Automated Open Source Database Testing: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://www.methodsandtools.com/tools/dbfit.php</a> <br><br> DbFit Documentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://dbfit.github.io/dbfit/docs/</a> <br><br> Slacker wiki: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/vassilvk/slacker/wiki</a> <br><br> TST documentation: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://archive.codeplex.com/projects/TST/4e04e281-9f35-4891-809a-15f09d304f4e</a> <br><br> NUnit Assertions: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/nunit/docs/wiki/Assertions</a> <br><br> utTSQL code: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://sourceforge.net/p/uttsql/code/HEAD/tree/</a> <br><br> Junit Class Assert: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://junit.org/junit4/javadoc/latest/org/junit/Assert.html</a> <br><br> pgTap: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://pgtap.org/</a> <br><br> utPLSQL: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://utplsql.org/</a> <br><br> MyTap: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/hepabolu/mytap</a> <br><br> tSQLt Google groups: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://groups.google.com/forum/#!forum/tsqlt</a> <br><br> tSQLt official website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://tsqlt.org/</a> <br><br> tSQLt GitHub: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://github.com/tSQLt-org/tSQLt</a> <br><br> Google trends: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://bit.ly/2x7BQL6</a> <br><br> How to ROLLBACK a transaction when testing using tSQLt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://stackoverflow.com/questions/8973138/how-to-rollback-a-transaction-when-testing-using-tsqlt</a> <br><br> What are the Pros and Cons of Manual Unit Testing against the Automated Unit Testing?: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://stackoverflow.com/questions/2948337/what-are-the-pros-and-cons-of-manual-unit-testing-against-the-automated-unit-tes#2948354</a> <br><br> The Good, the Bad, and the Ugle╠Еe╠Е: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://sqlquantumleap.com/2017/08/07/sqlclr-vs-sql-server-2017-part-1-clr-strict-security/</a> <br><br> Rex Black, Erik Van Veenendal, Dorothy Graham, Foundations of Software Testing, Third edition, 2012 Cengage Learning EMEA <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi461133/">https://habr.com/ru/post/hi461133/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi461121/index.html">рдПрдХ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдореЗрдВ рдЫреЛрдЯреЗ рдорд▓реНрдЯреАрдЯрд╛рд╕реНрдХрд┐рдВрдЧ рдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi461125/index.html">Visual Studio (рдЙрджрд╛ред C #) рдореЗрдВ рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдХреЛрдб рдмрдирд╛рдиреЗ рдХрд╛ рдХрд╛рд░реНрдпред</a></li>
<li><a href="../hi461127/index.html">VMware vSphere рдореЗрдВ рд╡реАрдПрдо рдкреНрд░рджрд░реНрд╢рди рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рднрд╛рдЧ 3: рднрдВрдбрд╛рд░рдг</a></li>
<li><a href="../hi461129/index.html">рдХреЛрдЯреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдкрддреНрдиреА, рджреЛ рдмреЗрдЯреЗ, рд╡рд┐рдЪрд╛рд░ ... рдФрд░ рди рдХреЗрд╡рд▓ред рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рд╕рд╛рде рдХрд╣рд╛рдиреА</a></li>
<li><a href="../hi461131/index.html">рдЖрд░рдУрдПрд╕ рдХрд╛рд░реНрдЯ рдЯреНрд░рдХред рднрд╛рдЧ 2. рд╕реЙрдлреНрдЯрд╡реЗрдпрд░</a></li>
<li><a href="../hi461137/index.html">рд╣рдордиреЗ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЗ рдзреНрдпрд╛рди рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ред рдЕрдиреБрднрд╡ рдпреИрдВрдбреЗрдХреНрд╕ред рдЯреЗрдХреНрд╕реА</a></li>
<li><a href="../hi461141/index.html">рд╣рд╛рдЗрдХреБ рдХреЗ рд╕рд╛рде рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рджрд┐рди: рд╡рд╣ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ</a></li>
<li><a href="../hi461143/index.html">рдЧреЗрдо рдбрд┐рдЬрд╛рдЗрди рдХреЗ рдореМрдЬреВрджрд╛ рдореБрджреНрджреЛрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдкрд░ред рдиреАрдЪреЗ рд╕реЗ рджреЗрдЦреЗрдВ</a></li>
<li><a href="../hi461145/index.html">рдПрдХ рдЯреАрдо рдХреЛ рдХреНрдпрд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП: рднреВрдорд┐рдХрд╛рдПрдВ, рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпрд╛рдВ рдФрд░ рдХреМрд╢рд▓</a></li>
<li><a href="../hi461147/index.html">PowerPoint рдореЗрдВ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдХрд░ 64 рдШрдВрдЯреЗ рдХреИрд╕реЗ рдмрдЪрд╛рдПрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>