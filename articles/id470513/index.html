<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•¥ âœŠğŸ¾ ğŸ‘©ğŸ½â€ğŸ’» Bagaimana saya menemukan rumah pintar yang didominasi oleh botnet ğŸ‘¨ğŸ¾â€ğŸš€ ğŸ”• â›¹ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di Internet, pertanyaan seperti "Bagaimana cara memeriksa apakah router, komputer, IP-kamera atau perangkat lain saya adalah bagian dari botnet?" Sang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bagaimana saya menemukan rumah pintar yang didominasi oleh botnet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470513/">  Di Internet, pertanyaan seperti "Bagaimana cara memeriksa apakah router, komputer, IP-kamera atau perangkat lain saya adalah bagian dari botnet?" Sangat umum.  Ini memotivasi saya untuk berbicara tentang satu dari sedikit kasus tabrakan dengan botnet dari tempat praktik saya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w4/3v/ni/w43vni24ic8gzwz0y-9g8vhfnks.jpeg" alt="gambar"></div><br><a name="habracut"></a><br>  Mempelajari lalu lintas yang mencurigakan, saya menemukan alamat IP router, dari mana upaya yang gagal dilakukan untuk terhubung melalui SSH ke HONEYPOT saya.  Di /var/log/auth.log saya melihat ini: <br><br><pre><code class="plaintext hljs">... Oct 9 23:52:04 dvrh sshd[3523]: Failed password for root from 129.***.***.29 port 35276 ssh2 Oct 9 23:52:04 dvrh sshd[3523]: Connection closed by authenticating user root 129.***.***.29 port 35276 [preauth] Oct 9 23:52:05 dvrh sshd[3525]: Connection closed by authenticating user root 129.***.***.29 port 35278 [preauth] Oct 9 23:52:06 dvrh sshd[3529]: Failed password for root from 129.***.***.29 port 35280 ssh2 Oct 9 23:52:06 dvrh sshd[3529]: Connection closed by authenticating user root 129.***.***.29 port 35280 [preauth] Oct 9 23:52:06 dvrh sshd[3531]: Invalid user admin from 129.***.***.29 port 35282 Oct 9 23:52:07 dvrh sshd[3531]: Failed password for invalid user admin from 129.***.***.29 port 35282 ssh2 Oct 9 23:52:07 dvrh sshd[3531]: Connection closed by invalid user admin 129.***.***.29 port 35282 [preauth] Oct 9 23:52:08 dvrh sshd[3533]: Invalid user test from 129.***.***.29 port 35286 Oct 9 23:52:11 dvrh sshd[3533]: Failed password for invalid user test from 129.***.***.29 port 35286 ssh2 Oct 9 23:52:11 dvrh sshd[3533]: Connection closed by invalid user test 129.***.***.29 port 35286 [preauth] Oct 9 23:52:11 dvrh sshd[3535]: Invalid user test from 129.***.***.29 port 35288 Oct 9 23:52:12 dvrh sshd[3535]: Failed password for invalid user test from 129.***.***.29 port 35288 ssh2 Oct 9 23:52:12 dvrh sshd[3535]: Connection closed by invalid user test 129.***.***.29 port 35288 [preauth] Oct 9 23:53:12 dvrh sshd[3537]: Invalid user admin from 129.***.***.29 port 35290 Oct 9 23:53:12 dvrh sshd[3537]: Connection closed by invalid user admin 129.***.***.29 port 35290 [preauth] ...</code> </pre> <br>  Kesimpulannya tidak sulit: seseorang mencoba mengakses server saya menggunakan serangkaian login dan kata sandi standar.  Selain itu (menilai dari interval waktu) ini dilakukan dalam mode otomatis.  Ini berarti bahwa kemungkinan besar ini adalah router lain yang merupakan anggota botnet. <br><blockquote>  Bahkan, gambar ini adalah khas untuk host dengan port 22 terbuka.  Anda dapat memverifikasi ini sendiri: buka ssh untuk akses dari Internet eksternal, izinkan entri kata sandi, dan bot tidak akan membuat Anda menunggu.  Pada saat yang sama, ~ 80% dari upaya akan berasal dari Tiongkok. <br></blockquote><br>  Untungnya, setelah beberapa waktu, saya berhasil mengakses IP naas ini melalui ssh menggunakan salah satu login dan kata sandi standar (Terkejut? Saya tidak).  Tetapi ternyata ini bukan router biasa, tetapi beberapa perangkat bernama Calix GigaSpire. <br><blockquote>  Calix GigaSpire adalah sistem kontrol rumah pintar di bawah sistem operasi EXOS.  GigaSpire mencakup fitur-fitur berikut: <br><br><ul><li>  Mendukung Wi-Fi 6 (802.11ax), dengan 8x8 @ 5 GHz dan 4x4 pada 2,4 GHz </li><li>  Layanan Multi Gigabit </li><li>  Layanan Level 2 dan Level 3 </li><li>  Dikelola oleh Calix Support Cloud </li><li>  Dukungan IoT (Bluetooth Low Energy, Zigbee 3.0 dan Z-Wave Pro) </li><li>  Amazon Alexa Voice Assistant </li></ul></blockquote><br>  Hal pertama yang saya lakukan, masuk ke sistem, saya melihat daftar proses yang berjalan untuk menemukan sesuatu yang menarik.  Dan "sesuatu yang menarik" ini terlihat seperti ini: <br><br><pre> <code class="plaintext hljs">[router] / # ps ... 2978 root 1444 S {kkbs2l3mdqjq} ipjq2njq5qjq 9729 root 1584 S {kkbs2l3mdqjq} ipjq2njq5qjq 14871 root 5532 S {hgoj42jadsjvebc} m6ojj5oj5gojj2h08b8l 19037 root 308 S {hgoj42jadsjvebc} m6ojj5oj5gojj2h08b8l 19041 root 284 S {hgoj42jadsjvebc} m6ojj5oj5gojj2h08b8l ...</code> </pre><br>  Kecurigaan adalah "keacakan" dari nama-nama proses ini.  Untuk memahami apa proses-proses ini, saya sarankan mengingat kembali apa itu sistem file / proc: <br><blockquote>  procfs adalah sistem file khusus yang digunakan pada sistem operasi mirip UNIX.  Memungkinkan Anda mengakses informasi dari kernel tentang proses sistem.  Diperlukan untuk menjalankan perintah seperti ps, w, top.  Biasanya dipasang di / proc.  Dari direktori ini Anda dapat memperoleh informasi tentang sistem Anda.  Sebagai contoh, berapa banyak memori swap yang sedang digunakan, seberapa besar ukuran cache prosesor, modul kernel mana yang dimuat, berapa banyak disk atau partisi yang tersedia, dll. <br></blockquote><br>  Kami tertarik pada direktori yang berisi informasi tentang proses mencurigakan yang ditemukan.  Mereka memiliki formulir / proc / PID, di mana PID adalah ID dari proses di mana direktori ini berisi informasi.  Jika Anda melihat isinya, Anda dapat menemukan file-file berikut: <br><br><ul><li>  <b>cmdline</b> - berisi perintah untuk memulai proses, serta parameter yang diteruskan ke sana </li><li>  <b>cwd</b> - tautan simbolik ke direktori proses saat ini yang berfungsi </li><li>  <b>exe</b> - tautan ke file yang dapat dieksekusi </li><li>  <b>root</b> - tautan ke folder root </li><li>  variabel lingkungan - lingkungan tersedia untuk proses </li><li>  <b>fd</b> - berisi deskriptor file, file, dan perangkat yang digunakan proses </li><li>  <b>peta</b> , <b>statm</b> , dan <b>mem</b> - proses informasi memori </li><li>  <b>stat</b> , <b>status</b> - status proses </li></ul><br>  Apa yang bisa kita lakukan?  Hal pertama yang terlintas dalam pikiran adalah menghitung checksum dari salah satu file yang dapat dieksekusi dan mencari kecocokan di Internet: <br><br><pre> <code class="plaintext hljs">/ # md5sum /proc/2978/exe d204e97ac15a6d0a3ed7e415edfa582e /proc/2978/exe</code> </pre><br>  Saya menemukan md5 ini dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">daftar checksum Mirai</a> , yang menunjukkan sifat asal file.  Tapi apa yang bisa kita lakukan sekarang?  Untuk menghilangkan bot Mirai, cukup restart router.  Tapi dalam kasus ini, itu tidak berguna, karena malware baru akan segera naik pada router dengan kata sandi sederhana, dan mengubah kata sandi orang lain adalah berlebihan, Anda tahu. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id470513/">https://habr.com/ru/post/id470513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id470497/index.html">Cara menggunakan systemd-nspawn untuk memulihkan sistem Linux</a></li>
<li><a href="../id470499/index.html">Cara menggunakan interupsi dalam Unity Animator secara maksimal</a></li>
<li><a href="../id470501/index.html">Monad "Pembaca" via async / tunggu di C #</a></li>
<li><a href="../id470503/index.html">Pengguna dan Otorisasi Kubernetes RBAC</a></li>
<li><a href="../id470511/index.html">TI di Armenia: sektor strategis dan bidang teknologi di negara ini</a></li>
<li><a href="../id470515/index.html">Satu langkah kecil untuk penguji: 10 laporan teratas dari Heisenbug 2019 Piter</a></li>
<li><a href="../id470517/index.html">EP Rusia untuk yang terkecil</a></li>
<li><a href="../id470519/index.html">Pengalaman membangun rakitan Linux untuk pembaruan papan tunggal dengan dukungan</a></li>
<li><a href="../id470521/index.html">Dirilis 3CX V16 Pembaruan 3 dan aplikasi seluler 3CX baru untuk Android</a></li>
<li><a href="../id470525/index.html">Windows di browser tanpa registrasi dan SMS - ikhtisar klien HTML5 RDP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>