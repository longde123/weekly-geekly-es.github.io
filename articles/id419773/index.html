<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€ğŸš€ âœ‰ï¸ ğŸ‘©ğŸ¿â€ğŸ¤â€ğŸ‘¨ğŸ¾ Dari nol hingga pahlawan â€œTindakan di Googleâ€: mulai ğŸš“ âœï¸ ğŸš‘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google hackathon, dan semua yang Anda butuhkan untuk mulai mengembangkan aplikasi Anda untuk asisten. 


 Google telah menyelenggarakan hackathon yang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dari nol hingga pahlawan â€œTindakan di Googleâ€: mulai</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redmadrobot/blog/419773/"><img src="https://habrastorage.org/webt/ek/p5/kq/ekp5kqbvvl0p4mdidicbmgfw5b0.png" alt="gambar"><br><p>  Google hackathon, dan semua yang Anda butuhkan untuk mulai mengembangkan aplikasi Anda untuk asisten. </p><br><p>  Google telah menyelenggarakan hackathon yang didedikasikan untuk teknologi Actions On Google.  Ini adalah kesempatan yang baik untuk mendapatkan pengalaman dan berpikir tentang bagaimana memulai membuat antarmuka pengguna percakapan (CUI) untuk aplikasi kita.  Oleh karena itu, kami membentuk tim yang terdiri dari dua pengembang Android: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">shipa_o</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">raenardev</a> dan desainer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">comradeguest,</a> dan pergi untuk berpartisipasi. </p><a name="habracut"></a><br><h2>  Apa itu Tindakan Di Google? </h2><br><p>  Actions On Google (AoG) adalah cara untuk menambahkan tindakan Anda ke asisten. <br>  Anda dapat melakukan ini menggunakan 4 alat: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tindakan Konten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Irisan</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tindakan Aplikasi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Keterampilan untuk Asisten Google</a> . </li></ul><br><p>  Di hackathon, kami membuat keterampilan - aplikasi yang memperluas kemampuan asisten, jadi kami akan berhenti di situ. </p><br><p> Setelah banding, â€œOke Google.  Saya ingin berbicara dengan <code>${_}</code> ", asisten membuka keterampilan yang digunakan pengguna untuk melakukan dialog: </p><br><img src="https://habrastorage.org/webt/l2/vw/es/l2vwesoe1sywaswq0_8bmgjhhga.jpeg" alt="gambar" width="50%"><br><h3>  Bagaimana cara menulis suatu keterampilan? <br></h3><br><p>  Anda membutuhkan dua keterampilan: <br>  - Pemahaman tentang Antarmuka Pengguna Percakapan (CUI), kemampuan untuk mendesainnya; <br>  - Kemampuan untuk bekerja dengan Natural Language Processing (NLP), misalnya, Dialogflow. </p><br><h4>  Tahap 1: Desain </h4><br><p>  Agar keahlian Anda memiliki lawan bicara protein, lebih baik untuk memikirkan masa depan sekarang.  Permintaan adalah permintaan yang mempertimbangkan konteks penggunaan.  Antarmuka dialog akan digunakan ketika dimungkinkan untuk berbicara dengan suara keras dan berinteraksi dengan perangkat dengan suara yang lebih nyaman dan cepat daripada dengan tangan, mata, dan bagian tubuh lainnya. </p><br><p>  Antarmuka suara adalah serial.  Jika mungkin untuk menunjukkan seluruh bentuk menempatkan pesanan pada grafik, dan orang itu sendiri akan memilih apa yang akan dilihat pada awalnya dan kemudian apa, maka Anda hanya dapat mengajukan pertanyaan satu per satu dengan suara.  Untuk menghasilkan aplikasi yang populer dan mudah, temukan persimpangan antara kebutuhan pengguna dan kemampuan untuk menggunakan antarmuka suara (atau ketidakmampuan untuk menggunakan yang lain). </p><br><p>  Hal pertama yang terlintas dalam pikiran adalah asisten suara untuk orang buta, yang membantu menyelesaikan masalah sehari-hari.  Misalnya, memesan di toko, menelepon taksi, menelepon kerabat.  Yang kedua adalah buku resep berbicara untuk ibu rumah tangga dengan tangan di tepung.  Ketiga, gim di mana Anda perlu menjelaskan sesuatu. </p><br><p>  Kami memutuskan untuk memulai dengan yang sederhana dan mengembangkan robot yang memberi nasihat kepada orang-orang tentang film yang bagus.  Kami mengalahkan ketidaksempurnaan synthesizer suara: asisten kami bahkan tidak berpura-pura menjadi seorang pria dan menekankan kepribadian elektroniknya yang jelas dalam segala hal. </p><br><p>  Google telah menulis <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">panduan yang</a> sangat baik tentang bagaimana mengembangkan antarmuka interaktif.  Dan kita akan berbicara tentang bagaimana kita mendesain pembicaraan pertama kita. </p><br><p>  <b>1. Doa</b> </p><br><p>  Pertama, Anda perlu memanggil asisten.  Panggilannya bisa eksplisit (Invisit Invocation) dan tidak langsung (Invicit Invocation).  Orang-orang akan menggunakan perawatan eksplisit ketika mereka sudah mengetahui aplikasi tersebut.  Secara tidak langsung, Asisten Google dapat merekomendasikan aplikasi yang sesuai dalam situasi tertentu.  Pilihan yang dipilih dengan benar untuk banding tidak langsung - seperti kata kunci yang tepat dalam iklan kontekstual, hanya lebih "manusiawi". </p><br><div class="scrollable-table"><table><tbody><tr><td>  Jenis banding </td><td><p>  Deskripsi </p><br></td><td>  Contoh </td></tr><tr><td>  Doa Eksplisit </td><td>  Dengan nama asisten </td><td><p><br>  Oke Google, saya ingin berbicara dengan Robot Red Passionate Movie. <br>  Panggil aku robot film. <br>  Di mana warna merah dan penuh gairah di sana? </p><br></td></tr><tr><td><br>  Doa Tersirat </td><td><br>  Dalam konteks saat Anda membutuhkan asisten </td><td><br>  Oke Google, beri tahu saya beberapa film. <br>  Saya ingin melihat komedi lucu. <br>  Film seperti apa yang ditonton bersama seorang gadis? </td></tr></tbody></table></div><br><p>  Penting bahwa panggilan tidak langsung tidak terlalu umum.  Seperti kata kunci umum dalam iklan kontekstual, mereka hanya mencegah Anda menemukan aplikasi yang tepat dan menurunkan peringkat aplikasi dalam penerbitan Asisten. </p><br><p>  Panggilan dapat berisi tautan dalam ke fitur asisten suara individual.  Sebagai contoh, biasanya robot film kami memulai komunikasi dengan fakta bahwa ia menawarkan seseorang untuk memilih genre.  Tetapi jika dia dipanggil pada permohonan tidak langsung, "Saya ingin melihat komedi lucu," masuk akal untuk memulai dialog dengan tawaran film yang dijamin bagus dari genre yang disebutkan. </p><br><p>  <b>2. Salam pertama</b> </p><br><p>  Salam pertama adalah apa yang diberitahukan aplikasi kepada orang tersebut segera setelah panggilan. <br>  Pertama, Anda perlu memberi tahu pengguna bahwa asisten sudah ada di sini: </p><br><blockquote>  Hai, bentuk protein kehidupan.  Saya robot film Merah yang bergairah.  Tujuan dari keberadaan saya adalah untuk memberi saran pada film-film biologis tentang film-film yang bagus. </blockquote><p>  Dan kemudian - sarankan apa yang harus dilakukan selanjutnya.  Robot kami sedang mencari film berdasarkan genre, jadi kami sarankan dengan permintaan apa seseorang dapat melangkah lebih jauh: <br>  Apa yang ingin Anda lihat: mungkin komedi, aksi, atau horor? </p><br><p>  Pengguna baru dan berpengalaman dapat disambut dengan berbagai cara.  Jika seseorang berbicara dengan asisten Anda untuk pertama kalinya, Anda dapat berbicara sedikit tentang diri Anda.  Jika bukan yang pertama - salam panjang akan mengganggunya.  Karena itu, Anda dapat segera memulai bisnis: </p><br><div class="scrollable-table"><table><tbody><tr><td>  Pertama kali </td><td><p>  Berulang kali </p><br></td></tr><tr><td>  Hai, bentuk protein kehidupan.  Saya robot film Merah yang bergairah.  Tujuan dari keberadaan saya adalah untuk memberi saran pada film-film biologis tentang film-film yang bagus.  Apa yang ingin Anda lihat: mungkin komedi, aksi, atau horor? </td><td><br>  Salam, kawan!  Genre apa yang Anda minati? </td></tr></tbody></table></div><br><p>  <b>3. Percakapan manusia</b> </p><br><p>  Ajari asisten Anda untuk memahami ucapan alami dan teruskan percakapan.  Cara termudah untuk melakukan ini adalah berkomunikasi dengan orang-orang dari audiens target bahkan sebelum pengembangan dimulai.  Selain itu, ini diinginkan secara verbal, dan tidak secara tertulis, karena pidato sehari-hari tertulis lebih jarang daripada lisan.  Mainkan peran robot, dan minta lawan bicara untuk membayangkan bahwa dia menggunakan aplikasi masa depan Anda.  Rekam semua dialog pada perekam, lalu dekripsi.  Ini akan membantu Anda merancang diagram percakapan umum dan menemukan di mana cabang dapat muncul. </p><br><h4>  Tahap 2: Pengembangan </h4><br><p>  Ada beberapa cara untuk mengembangkan tindakan Anda untuk asisten: </p><br><ul><li>  Dengan Dialogflow. </li><li>  Dengan Tindakan di Google SDK. </li><li>  Teks dapat diproses secara mandiri - misalnya, jika Anda memiliki solusi sendiri untuk memproses bahasa alami (NLP - Pemrosesan Bahasa Alami). </li></ul><br><p>  Berikut ini adalah interaksi asisten dengan keahlian Anda. <br>  Dialognya terlihat seperti ini: </p><br><ol><li><p>  Asisten menerjemahkan pidato ke dalam teks dan mengirimkannya ke tindakan Anda. </p><br></li><li><p>  Teks diproses dengan salah satu cara di atas.  Dalam diagram ini, melalui Dialogflow. </p><br></li><li><p>  Dialogflow mendefinisikan niat (maksud khusus pengguna) dan menerima <br>  dari entitas itu (parameter). </p><br></li><li><p>  (Opsional) Dialogflow dapat memanggil webhook yang sesuai, memproses data di backend dan mendapatkan respons. </p><br></li><li><p>  Dialogflow membentuk jawabannya. </p><br></li><li><p>  Asisten menyuarakan jawabannya, menyalakan mikrofon dan mendengarkan apa yang akan dikatakan pengguna. </p><br></li></ol><br><img src="https://habrastorage.org/webt/ib/us/uf/ibusuffx_dlpg1eewj7ev4xcpzc.png" alt="gambar"><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Diagram aksi asisten</a> </p><br><h4>  Dialogflow </h4><br><p>  Kami tidak akan merinci dasar-dasar Dialogflow - Google merilis video tutorial yang bagus. </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maksud</a> - tentang mengenali niat, bagaimana tepatnya Dialogflow memahami apa yang diminta pengguna atau tindakan apa yang ingin ia lakukan. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Entitas</a> - tentang pengenalan parameter di dalam frasa.  Misalnya, dalam hal merekomendasikan film, ini adalah genre yang spesifik. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kontrol Dialog</a> - tentang mekanisme konteks (tentangnya di bawah) dan pemenuhan: tentang cara memproses permintaan pengguna itu sendiri dengan mengakses backend Anda, dan bagaimana mengembalikan sesuatu yang lebih menarik daripada respons teks. </li></ol><br><p>  Kami berasumsi bahwa Anda telah menonton video dan menemukan konsol Dialogflow.  Mari kita lihat masalah yang muncul di masing-masing bagian dalam proses implementasi, dan apa yang menarik dapat dicatat. </p><br><p>  Ingat juga aturan untuk membangun dialog yang baik ketika Anda beralih ke implementasi - ini akan memengaruhi banyak niat, sekumpulan entitas dan penggunaannya dalam jawaban, penggunaan konteks, dan yang lainnya. </p><br><h4>  Maksud </h4><br><p>  Ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">rekomendasi</a> - untuk membuat salam yang lebih rinci untuk pengguna baru, dan sisanya untuk membuatnya lebih ringkas.  Bagaimana cara mengimplementasikannya? </p><br><p>  Di konsol Dialogflow, logika ini tidak dapat ditentukan.  Hal ini dapat dilakukan di dalam pemenuhan niat selamat datang.  Dengan kata lain, Anda harus melakukan ini dengan tangan Anda. </p><br><p>  Ini juga berlaku untuk penanganan kesalahan.  Misalnya, untuk pertama kalinya Anda bisa bertanya lagi, dan kedua kalinya Anda bisa memberi tahu tanggapan seperti apa yang Anda harapkan dari pengguna. </p><br><p>  Anda tidak akan melakukan ini melalui tanggapan - jawaban acak akan dipilih.  Anda dapat melakukannya melalui pemenuhan atau sedikit lebih rumit dengan mengikatnya ke konteks (lebih lanjut tentang itu di bawah). </p><br><h4>  Entitas </h4><br><p>  <b>"Izinkan ekspansi otomatis" dan sys</b> </p><br><p>  Jika frasa serupa dalam struktur, maka ketika "Izinkan ekspansi otomatis" dihidupkan sebagai entitas yang diakui, sesuatu mungkin masuk ke yang masih tidak dapat diproses dengan laba. </p><br><p>  Misalnya, aplikasi Anda mengenali frasa "Sarankan saya sesuatu dari &lt;genre&gt;" untuk kiat film.  Jika Anda mengatakan "Beri tahu saya sesuatu dari makanan", maka sebagai "genre" parameter Anda tidak akan mendapatkan apa yang Anda harapkan.  Ini masuk akal jika rangkaian genre Anda secara konstan diperbarui di backend, dan respons pengguna diproses di sana, tetapi Anda tidak punya waktu untuk memperbarui entitas. </p><br><p>  Solusi lain adalah dengan menggunakan sys.Any.  Dalam hal ini, ia akan menyampaikan semua yang ada setelah desain yang diharapkan, yang mungkin merupakan keseluruhan proposal.  Ini memberi lebih banyak peluang daripada ekspansi otomatis, tetapi ada lebih banyak kerugian juga. </p><br><p>  <b>Singular dan jamak, kasus, jenis kelamin</b> </p><br><p>  Mari kita datang dengan contoh sederhana.  Kami akan berbicara tentang buah favorit Anda, dan aplikasi akan menjawab betapa kerennya buah-buah itu.  Dalam contoh di bawah ini, P adalah pengguna, A adalah tindakan kami. </p><br><blockquote>  P: Nanas adalah yang paling enak. <br>  A: Ya, nanas adalah buah paling keren! <br></blockquote><p>  Dalam contoh ini, kita memiliki entitas: Nanas <br>  Tetapi bagaimana jika pengguna mengatakan "Nanas"?  Kami dapat menambahkan sinonim. </p><br><blockquote>  P: Saya suka nanas. <br>  A: Ya, nanas adalah buah paling keren! </blockquote><p>  Default adalah bentuk referensi - yaitu  itu adalah bentuk aslinya, bukan sinonimnya.  Itu sebabnya aplikasi itu tidak mengatakan, â€œYa, nanas adalah buah yang paling keren!â€ </p><br><p>  Juga patut dipertimbangkan ketika menulis jawaban.  Jika kita memiliki jawaban â€œYa, $ buah adalah yang paling keren!â€, Maka kita akan mendapatkan yang berikut: </p><br><blockquote>  P: Saya suka nanas. <br>  A: Ya, nanas adalah yang paling keren! </blockquote><p>  Dan jangan lupa tentang kasus: </p><br><blockquote>  P: Saya ingin drama <br>  A: Ini adalah drama keren ... <br></blockquote><p>  Oleh karena itu, Anda harus menuliskan nilai awal entitas dan jawaban dalam bentuk yang konsisten.  Sebagai contoh, kita dapat melakukan semua bentuk entitas asli untuk buah-buahan dalam bentuk jamak, dan sinonim dalam bentuk apa pun. </p><br><p>  Kami akan membuat genre dalam bahasa Rusia dalam kasus nominatif, tetapi dalam jumlah berapa pun (drama, kengerian). </p><br><p>  Ketika kami sampai pada jawaban, kami tidak akan menulis, "Ya, $ buah adalah buah yang paling keren!"  dan "Ya, $ buah adalah yang paling keren!"  - Buah selalu dalam bentuk jamak. </p><br><p>  Dalam kasus bahasa Rusia, ada baiknya melangkah lebih jauh dan berpikir tentang bagaimana menulis jawaban yang disepakati - kami tidak hanya memiliki kasus (drama / drama), tetapi juga gender (drama / barat). </p><br><blockquote>  P: Saya ingin orang barat <br>  A: Ini barat keren ... <br></blockquote><br><blockquote>  P: Saya ingin orang barat <br>  A: Barat?  Ok, ini filmnya keren ... </blockquote><p>  Tapi bagaimana cara mengembalikan bentuk entitas yang dikatakan pengguna? </p><br><p>  Dalam hal genre, sinonim untuk "fiksi ilmiah" bisa jadi "alien."  Kemudian, jika pengguna mengatakan "alien", "fiksi ilmiah" akan kembali sebagai parameter. <br>  Jika kita ingin mendapatkan entitas dalam bentuk di mana pengguna berkata, maka ada baiknya memilih nilai $ entity.original </p><br><img src="https://habrastorage.org/webt/vf/eq/9f/vfeq9fm3m3dbgzmmyik5qxvvd0q.png" alt="gambar"><br><p>  Tetapi kemudian mungkin ada masalah dengan ketidakkonsistenan jumlah dan (terutama) ketidakkonsistenan kasus.  Apakah ini benar-benar perlu?  Jika demikian, buat entitas untuk tunggal, jamak, dan kasing.  Respons juga harus konsisten dengan bentuk entitas yang mereka gunakan. </p><br><h4>  Konteks </h4><br><p>  Mungkin dengan ini masalah yang paling. </p><br><p>  <b>Konteks input</b> </p><br><p>  Ini adalah konteks di mana niat tertentu terikat.  Beberapa niat dapat merespons frasa yang sama, dan yang dengan konteks input aktif kemungkinan besar akan berfungsi. <br>  Jadi, misalnya, Anda dapat melampirkan jawaban ya / tidak untuk pertanyaan tertentu, yang dilakukan dengan menggunakan niat tindak lanjut dalam Dialogflow </p><br><p>  <b>Konteks keluaran</b> </p><br><p>  Ini adalah konteks yang diaktifkan ketika niat dipicu.  Ini adalah bagaimana konteks diaktifkan di konsol Dialogflow (ini juga dapat dilakukan dalam pemenuhan).  Kami menunjukkan jumlah putaran dialog di mana dialog akan aktif, dan setelah mengatur ulang penghitung atau setelah 20 menit, dialog akan dinonaktifkan.  Ini berarti bahwa data di dalam konteks ini tidak akan lagi tersedia dan niat yang inputnya tidak akan berfungsi. </p><br><p>  Trik lain terkait dengan hal yang sama: Anda dapat mengaktifkan konteks dengan satu maksud dan menonaktifkannya secara manual dengan yang lain, cukup dengan menempatkannya sebagai konteks output untuk maksud kedua dengan jumlah jawaban 0. </p><br><p>  Jika Anda tidak ingin menulis kode dalam pemenuhan, maka dengan cara ini Anda dapat menerapkan logika yang menarik, misalnya, menggunakan konteks sebagai penghitung, menerapkan penanganan kesalahan ketika asisten tidak memahami pengguna. </p><br><h4>  Kiat dialogog </h4><br><ul><li><p>  Tidak perlu me-restart halaman dengan asisten preview - ketika Anda telah membuat perubahan pada agen dialogflow, Anda bisa menunggu sampai pelatihannya selesai dan segera mengulangi frase yang tidak dikenal dalam simulator.  Dialogflow dapat dianggap sebagai backend yang diacu oleh asisten. </p><br></li><li><p>  Gunakan agen prebuilt - di sana Anda dapat melihat bagaimana menerapkan skenario khas. </p><br></li><li><p>  Hati-hati dengan bagian Obrolan Kecil.  Penggunaannya tidak mematikan mikrofon di akhir percakapan, dan jawaban seperti itu biasanya tidak mengandung ajakan bertindak.  Anda tidak mengarahkan pengguna ke putaran dialog berikutnya, dan tidak sepenuhnya jelas baginya apa yang harus dikatakan lebih lanjut.  Dengan probabilitas tinggi, karena ini, Anda mungkin tidak lulus ulasan.  Lebih baik membuat maksud terpisah untuk ini jika Anda bisa memasukkannya ke dalam dialog. </p><br></li><li><p>  Jangan mengedit maksud yang sama secara bersamaan.  Sekarang pekerjaan simultan dari beberapa orang tidak didukung - tidak diketahui perubahan siapa yang akan ditimpa. </p><br></li><li><p>  Jika perlu untuk memparalelkan pekerjaan dengan niat, itu dapat dilakukan dalam proyek yang terpisah, dan kemudian hanya memilih yang diperlukan dan mentransfernya.  Juga mengimpor dan mengekspor entitas dalam json / xml dan impor / ekspor untuk maksud. </p><br></li><li><p>  Segera ada baiknya mempertimbangkan bahwa Anda menulis tindakan untuk bahasa tertentu.  Menulis jawaban dalam bahasa Rusia memiliki nuansa tambahan.  Jadi pelokalan tindakan tampaknya lebih menantang daripada dengan aplikasi mobile GUI. </p><br></li><li><p>  Pertimbangkan aturan desain antarmuka suara - mereka tidak hanya memengaruhi set replika, tetapi juga struktur secara keseluruhan.  Anda sedang membangun dialog, jadi setiap jawaban harus meninggalkan ajakan untuk bertindak sehingga pengguna mengerti apa yang harus dikatakan. </p><br></li><li><p>  Setelah semuanya siap, dan Anda mulai menguji, jangan takut untuk meninggalkan cabang-cabang individu dari dialog atau formulir pertanyaan.  Mungkin pada tahap pengujian Anda akan memahami cara menghubungkan maksud dan apa yang hilang untuk kemudahan penggunaan. </p><br></li></ul><br><h4>  Koneksi server </h4><br><p>  Untuk menghubungkan server Anda harus menggunakan pemenuhan.  Ada dua opsi untuk ini: </p><br><ul><li>  <strong>Klien webhook</strong> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Banyak</a> bahasa yang didukung. </li><li>  <strong>Editor Inline</strong> pada Fungsi Cloud untuk Firebase (node.js). </li></ul><br><p>  Mari kita pertimbangkan yang paling sederhana - Editor Inline. </p><br><p>  Kami tidak berpura-pura menjadi ahli dalam node.js; memperbaiki kesalahan dalam komentar dipersilahkan. </p><br><p>  Penting untuk memperhatikan versi API Dialogflow. <br>  Versi terbaru v2.  Semua yang ditulis untuk versi v1 tidak berfungsi dengannya. <br>  Baca lebih lanjut tentang migrasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . </p><br><p>  Tautan yang bermanfaat: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Dokumentasi dan kode sumber pustaka untuk bekerja dengan pemenuhan dialogflow</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Memulai dengan pemenuhan Dialogflow</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Contohnya</a> </li><li>  Log dapat dilihat di sini: <a href="">Buka konsol firebase di sebelah tombol Deploy</a> </li></ul><br><h4>  Parsing templat standar </h4><br><div class="spoiler">  <b class="spoiler_title">Ketika Anda membuka bagian Pemenuhan, kode berikut ini ditampilkan di file / tab `index.js`:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">'use strict'; const functions = require('firebase-functions'); const {WebhookClient} = require('dialogflow-fulfillment'); const {Card, Suggestion} = require('dialogflow-fulfillment'); process.env.DEBUG = 'dialogflow:debug'; // enables lib debugging statements exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { const agent = new WebhookClient({ request, response }); console.log('Dialogflow Request headers: ' + JSON.stringify(request.headers)); console.log('Dialogflow Request body: ' + JSON.stringify(request.body)); function welcome(agent) { agent.add(`Welcome to my agent!`); } function fallback(agent) { agent.add(`I didn't understand`); agent.add(`I'm sorry, can you try again?`); } // // Uncomment and edit to make your own intent handler // // uncomment `intentMap.set('your intent name here', yourFunctionHandler);` // // below to get this function to be run when a Dialogflow intent is matched // function yourFunctionHandler(agent) { // agent.add(`This message is from Dialogflow's Cloud Functions for Firebase editor!`); // agent.add(new Card({ // title: `Title: this is a card title`, // imageUrl: 'https://developers.google.com/actions/images/badges/XPM_BADGING_GoogleAssistant_VER.png', // text: `This is the body text of a card. You can even use line\n breaks and emoji! `, // buttonText: 'This is a button', // buttonUrl: 'https://assistant.google.com/' // }) // ); // agent.add(new Suggestion(`Quick Reply`)); // agent.add(new Suggestion(`Suggestion`)); // agent.setContext({ name: 'weather', lifespan: 2, parameters: { city: 'Rome' }}); // } // // Uncomment and edit to make your own Google Assistant intent handler // // uncomment `intentMap.set('your intent name here', googleAssistantHandler);` // // below to get this function to be run when a Dialogflow intent is matched // function googleAssistantHandler(agent) { // let conv = agent.conv(); // Get Actions on Google library conv instance // conv.ask('Hello from the Actions on Google client library!') // Use Actions on Google library // agent.add(conv); // Add Actions on Google library responses to your agent's response // } // // See https://github.com/dialogflow/dialogflow-fulfillment-nodejs/tree/master/samples/actions-on-google // // for a complete Dialogflow fulfillment library Actions on Google client library v2 integration sample // Run the proper function handler based on the matched Dialogflow intent name let intentMap = new Map(); intentMap.set('Default Welcome Intent', welcome); intentMap.set('Default Fallback Intent', fallback); // intentMap.set('your intent name here', yourFunctionHandler); // intentMap.set('your intent name here', googleAssistantHandler); agent.handleRequest(intentMap); });</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Dan dependensi seperti itu di file / tab `package.json`:</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{ "name": "dialogflowFirebaseFulfillment", "description": "This is the default fulfillment for a Dialogflow agents using Cloud Functions for Firebase", "version": "0.0.1", "private": true, "license": "Apache Version 2.0", "author": "Google Inc.", "engines": { "node": "~6.0" }, "scripts": { "start": "firebase serve --only functions:dialogflowFirebaseFulfillment", "deploy": "firebase deploy --only functions:dialogflowFirebaseFulfillment" }, "dependencies": { "actions-on-google": "2.0.0-alpha.4", "firebase-admin": "^4.2.1", "firebase-functions": "^0.5.7", "dialogflow": "^0.1.0", "dialogflow-fulfillment": "0.3.0-beta.3" } }</code> </pre> </div></div><br><p>  Pertama-tama, perbarui dependensi alfa dan beta ke yang stabil terbaru. </p><br><div class="spoiler">  <b class="spoiler_title">Ini adalah versi terbaru saat ini.</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">{ "dependencies": { "actions-on-google": "^2.2.0", "firebase-admin": "^5.2.1", "firebase-functions": "^0.6.2", "dialogflow": "^0.6.0", "dialogflow-fulfillment": "^0.5.0" } }</code> </pre> </div></div><br><p>  Dan sekarang mari kita melihat lebih dekat pada kode. </p><br><div class="spoiler">  <b class="spoiler_title">Di atas selesai mengimpor dependensi</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">// Cloud Functions  Firebase library const functions = require('firebase-functions'); //       const {WebhookClient} = require('dialogflow-fulfillment'); //       const {Card, Suggestion} = require('dialogflow-fulfillment');</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">Seluruh poin pemenuhan adalah mengganti callback-a `dialogflowFirebaseFulfillment`</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { console.log('Dialogflow Request headers: ' + JSON.stringify(request.headers)); console.log('Dialogflow Request body: ' + JSON.stringify(request.body)); //   . const agent = new WebhookClient({ request, response }); //   let result = request.body.queryResult; //  action  entities https://dialogflow.com/docs/actions-and-parameters let action = result.action; let parameters = result.parameters; //    https://dialogflow.com/docs/contexts let outputContexts = result.outputContexts; //       let intentRequest = request.body.originalDetectIntentRequest; });</code> </pre> </div></div><br><p>  Panggilan balik ini akan dipanggil untuk maksud yang Anda aktifkan untuk pemenuhan. </p><br><div class="spoiler">  <b class="spoiler_title">Sekarang tentukan kembali jawaban untuk niat</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { const agent = new WebhookClient({ request, response }); function welcome(agent) { //   agent.add(`Welcome to my agent!`); } function fallback(agent) { agent.add(`I didn't understand`); agent.add(`I'm sorry, can you try again?`); } //   ,  : // key -   intent-. // value -   ,   . let intentMap = new Map(); intentMap.set('Default Welcome Intent', welcome); intentMap.set('Default Fallback Intent', fallback); agent.handleRequest(intentMap); });</code> </pre> </div></div><br><p>  Pada saat yang sama, kode tersebut sepenuhnya menggantikan respons maksud dari bagian Responses. <br>  Respons akan dipanggil hanya jika panggilan balik gagal, sehingga Anda dapat melakukan penanganan kesalahan di sana. </p><br><p>  Kami menghapus fungsi pemrosesan maksud dari callback. <br>  Fungsi selamat datang dan mundur ada di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penutupan</a> . </p><br><div class="spoiler">  <b class="spoiler_title">Untuk menghapusnya dari callback, Anda harus menambahkan transfer konteks fungsi dan parameter melalui `bind`</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">exports.dialogflowFirebaseFulfillment = functions.https.onRequest((request, response) =&gt; { const agent = new WebhookClient({ request, response }); let intentMap = new Map(); //  set  Map.      intentMap .set('Default Welcome Intent', welcome.bind(this, agent)) .set('Default Fallback Intent', fallback.bind(this, agent)); agent.handleRequest(intentMap); }); function welcome(agent) { agent.add(`Welcome to my agent!`); } function fallback(agent) { //   2   add    agent.add([ `I didn't understand`, `I'm sorry, can you try again?` ]); }</code> </pre> </div></div><br><p> ,     ,       Google Assistant.  ,       . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id419773/">https://habr.com/ru/post/id419773/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id419757/index.html">Terjemahan buku Andrew Un, Passion for Machine Learning, Bab 1 - 14</a></li>
<li><a href="../id419765/index.html">Kursus "bahasa pemrograman Web" (berdasarkan Ruby) dari MSTU. N.E. Bauman di saluran Technostream</a></li>
<li><a href="../id419767/index.html">Pembuat Wikipedia menjawab pertanyaan: pemrograman, tidur, buku, tips seumur hidup</a></li>
<li><a href="../id419769/index.html">WireGuard akan "datang" ke kernel Linux - mengapa?</a></li>
<li><a href="../id419771/index.html">Fintech digest: Bank Sentral mempercepat pengumpulan biometrik pelanggan, cryptocurrency turun, dan pasar untuk Internet hal-hal berkembang</a></li>
<li><a href="../id419775/index.html">Versi saya dari "perangkat untuk mimpi jernih" adalah sejarah singkat dan deskripsi dari versi pertama</a></li>
<li><a href="../id419777/index.html">Cara menjual server NNN di Belanda dan tidak dibiarkan dengan antusiasme: rahasia penjualan</a></li>
<li><a href="../id419779/index.html">Paru-paru yang tumbuh berhasil ditransplantasikan ke babi, setelah 5 tahun, percobaan pada manusia dimungkinkan</a></li>
<li><a href="../id419781/index.html">SpaceX mengadakan Workshop Mars pertama</a></li>
<li><a href="../id419783/index.html">Manusia vs. Mesin: Etika Baru untuk Keamanan Siber</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>