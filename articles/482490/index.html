<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äç‚öïÔ∏è ‚òïÔ∏è üë©üèª‚Äçüöí ¬øQu√© es MISRA y c√≥mo cocinarlo? ü•ñ ü§∏üèæ üêã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quiz√°s, cada desarrollador de programas para microcontroladores probablemente haya escuchado al menos una vez sobre est√°ndares especiales de codificac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>¬øQu√© es MISRA y c√≥mo cocinarlo?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/482490/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf9/5bc/021/cf95bc0219fd9e34f03d5cfc316f7e71.png" alt="Figura 1"></div><br><br>  Quiz√°s, cada desarrollador de programas para microcontroladores probablemente haya escuchado al menos una vez sobre est√°ndares especiales de codificaci√≥n dise√±ados para ayudar a aumentar la seguridad y la portabilidad de su c√≥digo.  Uno de esos est√°ndares es MISRA.  En este art√≠culo examinaremos con m√°s detalle qu√© es este est√°ndar, cu√°l es su filosof√≠a y c√≥mo usarlo en sus proyectos. <br><a name="habracut"></a><br>  Muchos de nuestros lectores han escuchado que PVS-Studio admite la clasificaci√≥n de sus alertas de acuerdo con el est√°ndar MISRA.  Actualmente PVS-Studio <a href="https://www.viva64.com/ru/misra/">cubre</a> m√°s de 100 reglas MISRA C: 2012 y MISRA C ++: 2008. <br><br>  Este art√≠culo tiene como objetivo matar tres p√°jaros de un tiro: <br><br><ol><li>  Indique qu√© es MISRA para quienes no est√°n familiarizados con este est√°ndar; </li><li>  Recordar al mundo incrustado de lo que somos capaces; </li><li>  Para ayudar a profundizar en el curso de los negocios para los nuevos empleados que tambi√©n desarrollar√°n a√∫n m√°s nuestro analizador MISRA; </li></ol><br>  Espero poder hacerlo interesante.  ¬°Entonces comencemos! <br><br><h2>  Historia de MISRA </h2><br>  La historia de MISRA comenz√≥ hace mucho tiempo.  Luego, a principios de los a√±os 90, el programa del gobierno del Reino Unido bajo el nombre indicativo "Safe IT" asign√≥ fondos para varios proyectos, de una forma u otra relacionados con la seguridad de los sistemas electr√≥nicos.  El proyecto MISRA (Asociaci√≥n de Fiabilidad de Software de la Industria del Motor) en s√≠ fue fundado para crear una gu√≠a para desarrollar software para microcontroladores en veh√≠culos terrestres, en autom√≥viles, en general. <br><br>  Despu√©s de recibir fondos del estado, el equipo de MISRA se puso a trabajar y, en noviembre de 1994, lanz√≥ su primera gu√≠a: " <a href="https://pdfs.semanticscholar.org/f7ab/6319c0ab1fb546e406a3f65463cd0e5d2f0c.pdf">Directrices de desarrollo para software basado en veh√≠culos</a> ".  Esta gu√≠a a√∫n no se ha vinculado a un lenguaje espec√≠fico, pero debo admitir: el trabajo fue impresionante y probablemente se refer√≠a a todos los aspectos concebibles del desarrollo de software embebido.  Por cierto, los desarrolladores de esta gu√≠a <a href="https://www.misra.org.uk/LinkClick.aspx%3Ffileticket%3DpHorDgiWiPs%253D%26amp%3Btabid%3D59">celebraron</a> recientemente <a href="https://www.misra.org.uk/LinkClick.aspx%3Ffileticket%3DpHorDgiWiPs%253D%26amp%3Btabid%3D59">el 25 aniversario de</a> una fecha tan importante para ellos. <br><br>  Cuando terminaron los fondos del estado, los miembros de MISRA decidieron continuar trabajando juntos de manera informal, esto contin√∫a hasta nuestros d√≠as.  De hecho, MISRA (como organizaci√≥n) es una comunidad de partes interesadas de diversas industrias de fabricaci√≥n de autom√≥viles y aviones.  Ahora estas fiestas son: <br><br><ul><li>  Bentley autom√≥viles </li><li>  Ford Motor Company </li><li>  Jaguar land rover </li><li> Sistemas di√©sel de Delphi </li><li>  HORIBA MIRA </li><li>  Protean electric </li><li>  Servicios de ingenier√≠a de Visteon </li><li>  La universidad de leeds </li><li>  Ricardo reino unido </li><li>  ZF TRW </li></ul><br>  Jugadores de mercado muy fuertes, ¬øno?  No es sorprendente que su primer est√°ndar relacionado con el lenguaje, MISRA C, haya sido ampliamente aceptado entre los desarrolladores integrados de misi√≥n cr√≠tica.  MISRA C ++ apareci√≥ un poco m√°s tarde.  Gradualmente, las versiones de los est√°ndares se actualizaron y refinaron para cubrir las nuevas caracter√≠sticas de los idiomas.  Al momento de escribir este art√≠culo, las versiones actuales son MISRA C: 2012 y MISRA C ++: 2008. <br><br><h2>  Filosof√≠a y ejemplos de reglas </h2><br>  Las caracter√≠sticas m√°s distintivas de MISRA son su incre√≠ble atenci√≥n al detalle y su meticulosidad extrema para garantizar la seguridad.  Los autores no solo reunieron en un lugar todos los "agujeros" C y C ++ que se les ocurrieron (como, por ejemplo, los autores del CERT), sino que elaboraron cuidadosamente los est√°ndares internacionales de estos idiomas y anotaron todas las formas concebibles e inconcebibles de cometer errores.  Y luego tomaron y agregaron las reglas sobre la legibilidad del c√≥digo desde arriba: esto es para dificultar la introducci√≥n de un nuevo error en el c√≥digo ya limpio. <br><br>  Para comprender el grado de seriedad, considere algunas reglas tomadas de la norma. <br><br>  Por un lado, hay muchas reglas buenas y adecuadas que siempre se deben seguir en todo momento, independientemente de para qu√© se destine su proyecto.  En su mayor parte, est√°n dise√±ados para eliminar el comportamiento indefinido / no especificado / dependiente de la implementaci√≥n.  Por ejemplo: <br><br><ul><li>  No use el valor de una variable no inicializada </li><li>  No use el puntero ARCHIVO despu√©s de cerrar la secuencia </li><li>  Todas las funciones no nulas deben devolver un valor. </li><li>  El contador de bucle no debe tener un tipo de punto flotante </li><li>  ... etc. </li></ul><br>  Por otro lado, hay reglas, cuyos beneficios se encuentran en la superficie, pero que (desde el punto de vista de los proyectos ordinarios) no son tan pecaminosos para romper: <br><br><ul><li>  No use goto y longjmp </li><li>  Cada interruptor debe terminar con el valor predeterminado </li><li>  No escriba c√≥digo inalcanzable </li><li>  No use funciones variables </li><li>  No use aritm√©tica de direcciones (excepto <i>[]</i> y <i>++</i> ) </li><li>  ... </li></ul><br>  Dichas reglas tampoco son malas, y en combinaci√≥n con las anteriores ya dan un aumento tangible en la seguridad, pero ¬øes esto suficiente para sistemas integrados altamente responsables?  Se utilizan no solo en la industria automotriz, sino tambi√©n en la fabricaci√≥n de aeronaves, aeroespacial, militar y m√©dica. <br><br>  No queremos, debido a un error de software, que algunas m√°quinas de rayos X <a href="https://www.viva64.com/ru/b/0438/">irradien pacientes con una dosis de 20,000 rad</a> , por lo que las reglas habituales "cotidianas" ya no son suficientes.  Est√°n en juego vidas humanas y enormes cantidades de dinero, y debe incluirse meticulosidad.  Aqu√≠ el resto de las reglas de MISRA entran en escena: <br><ul><li>  El sufijo 'L' en el literal siempre debe estar en may√∫scula (la peque√±a 'l' se puede confundir con la unidad) </li><li>  No use el operador de coma (aumenta la posibilidad de cometer un error) </li><li>  No utilice la recursividad (una pila peque√±a de microcontroladores puede desbordarse f√°cilmente) </li><li>  Los cuerpos de las <i>declaraciones</i> <i>if</i> , <i>else</i> , <i>for</i> , <i>while</i> , <i>do</i> , <i>switch</i> deben estar entre llaves (puede potencialmente cometer un error si el <a href="https://www.viva64.com/ru/w/v2507/">c√≥digo no est√° alineado correctamente</a> ) </li><li>  No use memoria din√°mica (porque existe la posibilidad de asignarla sin √©xito del mont√≥n, especialmente en microcontroladores) </li><li>  ... y muchas, muchas de esas reglas. </li></ul><br>  A menudo, las personas que se encuentran con MISRA tienen la opini√≥n de que la filosof√≠a de la norma es "prohibir esto y prohibir esto".  De hecho, esto es as√≠, pero solo en parte. <br><br>  S√≠, el est√°ndar tiene muchas reglas similares, pero su prop√≥sito no es prohibir todo lo posible, sino enumerar todas las formas de violar la seguridad del c√≥digo.  Para la mayor√≠a de las reglas, eliges si seguirlas o no.  Explicar√© esto con m√°s detalle. <br><br>  En MISRA C, las reglas se dividen en tres categor√≠as principales: obligatorio, obligatorio y consultivo.  Obligatorio: estas son reglas que no deben violarse bajo ning√∫n pretexto.  Por ejemplo, esta secci√≥n incluye la regla "no use el valor de una variable no inicializada".  Las reglas requeridas son menos estrictas: permiten la posibilidad de rechazo, pero solo si estas desviaciones est√°n cuidadosamente documentadas y justificadas por escrito.  El resto de las reglas se incluyen en la categor√≠a de Asesoramiento; estas son reglas que no se deben seguir. <br><br>  MISRA C ++ es un poco diferente: falta la categor√≠a obligatoria, y la mayor√≠a de las reglas pertenecen a la categor√≠a obligatoria.  Por lo tanto, de hecho, tiene derecho a violar cualquier regla; solo recuerde documentar las desviaciones.  Tambi√©n hay un documento de categor√≠a: estas son reglas obligatorias (no se permiten desviaciones), que est√°n asociadas con pr√°cticas comunes como "Cada uso de ensamblador debe documentarse" o "la biblioteca de complementos debe cumplir con MISRA C ++". <br><br><h2>  Que mas hay </h2><br>  De hecho, MISRA no solo consiste en un conjunto de reglas.  De hecho, este es un manual para escribir c√≥digo seguro para microcontroladores y, por lo tanto, est√° lleno de todo tipo de utilidades.  Echemos un vistazo a ellos en detalle. <br><br>  En primer lugar, el est√°ndar contiene una descripci√≥n bastante detallada de los antecedentes: en aras de lo que se cre√≥ el est√°ndar, por qu√© se eligi√≥ C o C ++, las ventajas y desventajas de estos lenguajes. <br><br>  Somos conscientes de las virtudes de estos idiomas.  S√≠, y sobre las deficiencias, en general, tambi√©n :) ¬øCu√°les son la alta complejidad, la especificaci√≥n incompleta del est√°ndar y la sintaxis que hace que sea muy f√°cil cometer un error y luego buscar un error largo?  Por ejemplo, podr√≠as escribir esto accidentalmente: <br><br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; n; ++i); { do_something(); }</code> </pre> <br>  A√∫n as√≠, existe la posibilidad de que una persona no note un <a href="https://www.viva64.com/ru/w/v529/">punto</a> y <a href="https://www.viva64.com/ru/w/v529/">coma extra</a> , ¬øverdad?  Tambi√©n puedes escribir <a href="https://www.viva64.com/ru/w/v559/">as√≠</a> : <br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SpendTime</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">bool</span></span></span></span><span class="hljs-function"><span class="hljs-params"> doWantToKillPeople)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (doWantToKillPeople = <span class="hljs-literal"><span class="hljs-literal">true</span></span>) { StartNuclearWar(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { PlayComputerGames(); } }</code> </pre> <br>  Es bueno que tanto el <a href="https://www.viva64.com/ru/w/v2507/">primer</a> como el <a href="https://www.viva64.com/ru/w/v2561/">segundo</a> caso sean f√°cilmente detectados por las reglas de MISRA (el primero es MISRA C: 13.4 / MISRA C ++: 6.2.1, el segundo es MISRA C: 13.4 / MISRA C ++: 6.2.1). <br><br>  Adem√°s de describir los problemas, el est√°ndar contiene una gran cantidad de consejos sobre lo que necesita saber antes de comenzar: sobre c√≥mo configurar el proceso de desarrollo de MISRA, sobre el uso de analizadores est√°ticos para verificar el cumplimiento del c√≥digo, qu√© documentos debe conservar y c√≥mo llenar, y as√≠ sucesivamente. <br><br>  Tambi√©n al final hay aplicaciones que contienen: una lista corta y una tabla resumen de reglas, una peque√±a lista de vulnerabilidades C / C ++, un ejemplo de documentaci√≥n de desviaciones de la regla, as√≠ como varias listas de verificaci√≥n dise√±adas para ayudarlo a no perderse en toda esta burocracia. <br><br>  Como puede ver, MISRA no es solo un conjunto de reglas, sino casi una infraestructura completa para escribir c√≥digo seguro para sistemas integrados. <br><br><h2>  √öselo en sus proyectos </h2><br>  Imagine una situaci√≥n: va a escribir un programa para un sistema integrado muy necesario y responsable.  O ya tiene un programa, pero necesita "transferirlo" a MISRA.  ¬øC√≥mo verificar que su c√≥digo cumpla con el est√°ndar?  ¬øRealmente tienes que hacerlo manualmente? <br><br>  La verificaci√≥n manual del c√≥digo no es una tarea f√°cil y potencialmente imposible.  No solo cada revisor tendr√≠a que mirar cuidadosamente cada l√≠nea de c√≥digo, sino que tambi√©n tendr√≠a que conocer el est√°ndar de memoria.  Horror! <br><br>  Por lo tanto, se recomienda a los propios desarrolladores de MISRA que utilicen an√°lisis est√°ticos para probar su c√≥digo.  De hecho, de hecho, el an√°lisis est√°tico es un proceso de revisi√≥n de c√≥digo automatizado.  Simplemente ejecute el analizador en su programa y en unos minutos recibir√° un informe sobre posibles violaciones del est√°ndar.  Lo que necesitas, ¬øverdad?  Solo tiene que ver el registro y corregir la respuesta. <br><br>  Siguiente pregunta: ¬øen qu√© momento comienza a usar MISRA?  La respuesta es simple: cuanto antes mejor.  Idealmente, incluso antes de comenzar a escribir c√≥digo, porque MISRA asume que sigue el est√°ndar durante toda la vida de su c√≥digo. <br><br>  Por supuesto, no siempre es posible escribir MISRA desde el principio.  Por ejemplo, a menudo sucede que un proyecto ya se ha implementado parcial o totalmente, pero el cliente deseaba que el proyecto cumpliera con el est√°ndar.  En este caso, deber√° realizar una refactorizaci√≥n exhaustiva del c√≥digo existente. <br><br>  Aqu√≠ es donde surge la trampa.  Incluso dir√≠a que aparece una roca submarina.  ¬øQu√© sucede si toma un analizador est√°tico y verifica que el proyecto "ordinario" cumpla con el est√°ndar MISRA?  Spoiler: puedes asustarte. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/44e/2b7/7d9/44e2b77d90cd9804e1ec0a5a38f166a2.png" alt="Figura 5"></div><br><br>  Por supuesto, el ejemplo en la imagen es exagerado.  Aqu√≠ puede ver el resultado de verificar un proyecto suficientemente grande, que de hecho nunca se pens√≥ para trabajar en microcontroladores.  Sin embargo, al verificar un c√≥digo existente, es muy posible que vea una, dos, cinco o incluso diez mil operaciones del analizador.  Y en todo este mont√≥n se perder√°n nuevas operaciones que se emitieron al c√≥digo que se acaba de escribir o cambiar. <br><br>  ¬øQu√© hacer al respecto?  ¬øEs realmente necesario dejar de lado todas las cosas y sentarse para arreglar todos los viejos aspectos positivos? <br><br>  Sabemos que la primera vez que se verifica un proyecto, aparecen muchos aspectos positivos con bastante frecuencia y hemos desarrollado una soluci√≥n que lo ayudar√° a obtener el beneficio del analizador de inmediato, sin detener el trabajo.  Esta soluci√≥n se llama "base de supresi√≥n". <br><br>  Suppress-bases es el mecanismo PVS-Studio que permite la supresi√≥n masiva de mensajes del analizador.  Si est√° revisando el proyecto por primera vez y descubre varios miles de aspectos positivos all√≠, simplemente los agrega a la base de supresi√≥n, y la pr√≥xima vez que ejecute el analizador, le dar√° cero advertencias. <br><br>  Por lo tanto, puede continuar escribiendo y modificando el c√≥digo de la manera habitual, y al mismo tiempo ver√° advertencias solo sobre aquellos errores que se acaban de introducir en el proyecto.  Al mismo tiempo, obtendr√° el m√°ximo beneficio del analizador aqu√≠ y ahora, sin distraerse con rastrillar los viejos errores.  Unos pocos clics, ¬°y el analizador est√° implementado!  Puede leer instrucciones detalladas sobre esto <a href="https://www.viva64.com/ru/m/0032/">aqu√≠</a> . <br><br>  Probablemente podr√≠a preguntar: "Espere, ¬øqu√© hacer con las respuestas ocultas?" La respuesta es bastante simple: no se olvide de ellas y corr√≠jalas en silencio.  Puede, por ejemplo, colocar la base de supresi√≥n en el sistema de control de versiones y permitir solo aquellas confirmaciones que no aumentan el n√∫mero de operaciones.  Por lo tanto, gradualmente, su "roca submarina" tarde o temprano se drena y no habr√° rastros de ella. <br><br>  Bien, el analizador est√° implementado y ahora estamos listos para continuar.  ¬øQu√© hacer a continuaci√≥n?  Negocio claro: trabajar con el c√≥digo.  Pero, ¬øqu√© se necesita para poder declarar el cumplimiento de la norma?  ¬øC√≥mo demostrar que su proyecto cumple con MISRA? <br><br>  El hecho es que no hay un "certificado" especial de que su c√≥digo cumpla con MISRA.  Como lo estipula el est√°ndar, el seguimiento del c√≥digo de cumplimiento debe ser realizado por dos partes: el cliente del software y el proveedor del software.  El proveedor desarrolla software que cumple con el est√°ndar y completa los documentos necesarios.  El cliente, por su parte, debe asegurarse de que los datos de estos documentos sean verdaderos. <br><br>  Si usted mismo es un cliente y un desarrollador de su propio software, la responsabilidad de cumplir con el est√°ndar solo recaer√° sobre sus hombros :) <br><br>  En general, para demostrar la conformidad de su proyecto, necesitar√° documentos de prueba.  La lista de documentos que los desarrolladores de proyectos deben preparar puede variar, pero MISRA ofrece algunos como referencia.  Consideremos este conjunto con m√°s detalle. <br><br>  Para reclamar el cumplimiento del est√°ndar, necesitar√° algunas cosas: <br><br><ul><li>  En realidad, un proyecto cuyo c√≥digo cumple con las reglas obligatorias y obligatorias </li><li>  Plan de aplicaci√≥n de la gu√≠a </li><li>  Documentaci√≥n de todas las advertencias del compilador y del analizador est√°tico. </li><li>  Documentaci√≥n de todas las desviaciones de las reglas requeridas. </li><li>  Resumen de cumplimiento de la directriz </li></ul><br>  El primero es un plan de cumplimiento.  Esta es su tabla m√°s importante, y ser√° la que enviar√° al examinador a todos los dem√°s documentos.  En su primera columna hay una lista de las reglas de MISRA, en el resto se observa si se han identificado desviaciones de estas reglas.  Esta tabla se ve as√≠: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/341/643/231/3416432314b7841327af4659356de62c.png" alt="Figura 8"></div><br>  El est√°ndar recomienda construir su proyecto con varios compiladores, as√≠ como tambi√©n usar dos o m√°s analizadores est√°ticos para verificar el cumplimiento de su c√≥digo.  Si el compilador o el analizador genera alg√∫n tipo de advertencia asociada con la regla, debe tener esto en cuenta en la tabla y el documento: por qu√© no se puede eliminar la operaci√≥n, si es falsa, etc. <br><br>  Si alguna de las reglas no puede verificarse con un analizador est√°tico, entonces debe llevar a cabo el procedimiento de revisi√≥n del c√≥digo.  Este procedimiento tambi√©n debe documentarse, despu√©s de lo cual se debe agregar un enlace a esta documentaci√≥n al plan de cumplimiento. <br><br>  Si el compilador o el analizador est√°tico resultan correctos, o si se encontraron violaciones reales del c√≥digo en el proceso de revisi√≥n del c√≥digo, debe corregirlos o documentarlos.  Nuevamente, adjuntando un enlace a la documentaci√≥n en la tabla. <br><br>  Por lo tanto, un plan de cumplimiento es un documento mediante el cual puede encontrar documentaci√≥n para cualquier desviaci√≥n identificada en su c√≥digo. <br><br>  Ahora un poco sobre la documentaci√≥n de las desviaciones de las reglas.  Como ya mencion√©, dicha documentaci√≥n es necesaria solo para las Reglas requeridas, porque no puede violar las Reglas de nivel obligatorias, y las Reglas de asesoramiento no pueden seguirse sin ninguna documentaci√≥n. <br><br>  Si decide desviarse de la regla, la documentaci√≥n debe contener: <br><br><ul><li>  N√∫mero de regla rota </li><li>  Lugar de desviaci√≥n exacta </li><li>  La validez de la desviaci√≥n. </li><li>  Evidencia de que la desviaci√≥n no compromete la seguridad. </li><li>  Posibles implicaciones para el usuario </li></ul><br>  Como puede ver, este enfoque de la documentaci√≥n le hace pensar seriamente si la violaci√≥n vale la pena.  Esto se hace espec√≠ficamente para violar las reglas requeridas no era bueno :) <br><br>  Ahora sobre el resumen del cumplimiento de las normas.  Este documento es quiz√°s el m√°s f√°cil de completar: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f3d/77e/e05/f3d77ee05c3639efdc6df19706d60450.png" alt="Figura 2"></div><br>  La columna central se llena antes de comenzar a trabajar con el c√≥digo, y la columna de la derecha est√° despu√©s de que su proyecto est√© listo. <br><br>  Es bastante razonable hacer una pregunta: ¬øpor qu√© necesita especificar categor√≠as de reglas, si ya est√°n especificadas en el est√°ndar mismo?  El hecho es que el est√°ndar permite el "aumento" de la regla en una categor√≠a m√°s estricta.  Por ejemplo, un cliente puede pedirle que mueva una regla de asesoramiento a una categor√≠a.  Dicho "aumento" debe realizarse antes de trabajar con el c√≥digo, y un resumen del cumplimiento de las reglas permite que esto se note claramente. <br><br>  Con la √∫ltima columna, todo es simple: es suficiente simplemente observar si se usa la regla, y si es as√≠, entonces hay desviaciones de ella. <br><br>  Toda esta tabla es necesaria para que pueda ver r√°pidamente qu√© prioridades tienen las reglas y si el c√≥digo coincide con ellas.  Si de repente se interesa por conocer el motivo exacto del rechazo, siempre puede consultar el plan de cumplimiento y encontrar la documentaci√≥n que necesita. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5b4/c84/ca8/5b4c84ca873358cbb9b5dd6349330da4.png" alt="Figura 3"></div><br>  Entonces, escribiste el c√≥digo cuidadosamente siguiendo las reglas de MISRA.  Hizo un plan de cumplimiento y document√≥ todo lo que pod√≠a documentar, y complet√≥ un resumen de cumplimiento.  Si esto es cierto, entonces ha recibido un c√≥digo muy limpio, muy legible y muy confiable que ahora odia :) <br><br>  ¬øD√≥nde vivir√° su programa ahora?  En una m√°quina de resonancia magn√©tica?  ¬øEn un sensor de velocidad ordinario o en el sistema de piloto autom√°tico de alg√∫n sat√©lite espacial?  S√≠, pasaste por un camino burocr√°tico serio, pero estos son peque√±os.  ¬øC√≥mo puede uno no ser meticuloso cuando est√°n en juego vidas humanas reales? <br><br>  Si logr√≥ y logr√≥ alcanzar un final victorioso, entonces lo felicito sinceramente: usted escribe un c√≥digo seguro de alta calidad.  Gracias <br><br><h2>  El futuro de las normas. </h2><br>  Finalmente, quiero hablar un poco sobre el futuro de los est√°ndares. <br><br>  MISRA actualmente est√° viviendo y desarroll√°ndose.  Por ejemplo, a principios de 2019, se anunci√≥ ‚ÄúLa tercera edici√≥n de MISRA C: 2012 (primera revisi√≥n)‚Äù, un est√°ndar actualizado y complementado por las nuevas reglas de 2012.  Al mismo tiempo, anunciaron el pr√≥ximo lanzamiento de MISRA C: 2012 Enmienda 2 - C11 Core, el est√°ndar de 2012, en el que se agregar√°n reglas que cubrir√°n las versiones del lenguaje C para 2011 y 2018 por primera vez. <br><br>  No se detiene y MISRA C ++.  Como saben, el √∫ltimo est√°ndar MISRA C ++ se remonta a 2008, por lo que la versi√≥n m√°s antigua del lenguaje que cubre es C ++ 03.  Debido a esto, hay otro est√°ndar, similar a MISRA, y se llama AUTOSAR C ++.  Originalmente fue concebido como una continuaci√≥n de MISRA C ++ y estaba destinado a cubrir versiones posteriores del lenguaje.  A diferencia de su cerebro, AUTOSAR C ++ se actualiza dos veces al a√±o y actualmente es compatible con C ++ 14.  Se planea una actualizaci√≥n adicional a C ++ 17, y luego a C ++ 20, y as√≠ sucesivamente. <br><br>  ¬øQu√© comenc√© sobre alg√∫n otro est√°ndar?  El hecho es que hace poco menos de un a√±o, ambas organizaciones anunciaron la unificaci√≥n de sus est√°ndares en uno solo.  Ahora MISRA C ++ y AUTOSAR C ++ se convertir√°n en un √∫nico est√°ndar, y ahora se desarrollar√°n juntos.  Creo que esta es una gran noticia para los desarrolladores que escriben bajo microcontroladores C ++, y no menos buenas noticias para los desarrolladores de analizadores est√°ticos.  ¬°Todav√≠a hay mucho trabajo favorito por delante!  :) <br><br><h2>  Conclusi√≥n </h2><br>  Hoy hemos aprendido mucho sobre MISRA: leemos la historia de su ocurrencia, estudiamos ejemplos de reglas y la filosof√≠a del est√°ndar, consideramos todo lo que necesita para usar MISRA en sus proyectos e incluso miramos un poco hacia el futuro.  ¬°Espero que ahora entiendas mejor qu√© es MISRA y c√≥mo cocinarlo! <br><br>  Seg√∫n la antigua tradici√≥n, dejar√© un enlace aqu√≠ a nuestro analizador est√°tico PVS-Studio.  Es capaz de encontrar no solo desviaciones del est√°ndar MISRA, sino tambi√©n una <a href="https://www.viva64.com/ru/examples/">gran variedad de</a> errores y vulnerabilidades.  Si est√° interesado en probar PVS-Studio usted mismo, <a href="https://www.viva64.com/ru/pvs-studio-download/">descargue la</a> versi√≥n demo y verifique su proyecto. <br><br>  Esto concluye mi art√≠culo.  ¬°Les deseo a todos los lectores un feliz a√±o nuevo y un feliz fin de semana! <br><br><h2>  Enlaces de sitio </h2><br><ol><li>  Georgy Gribkov - " <a href="http://0x1.tv/%25D0%2591%25D0%25B5%25D0%25B7%25D0%25BE%25D0%25BF%25D0%25B0%25D1%2581%25D0%25BD%25D0%25BE%25D1%2581%25D1%2582%25D1%258C_%25D0%25BD%25D0%25B0_%25D0%25BC%25D0%25B0%25D0%25BA%25D1%2581%25D0%25B8%25D0%25BC%25D0%25B0%25D0%25BB%25D0%25BA%25D0%25B0%25D1%2585_%25E2%2580%2594_%25D0%25BA%25D0%25B0%25D0%25BA_%25D0%25BF%25D0%25B8%25D1%2581%25D0%25B0%25D1%2582%25D1%258C_%25D0%25BD%25D0%25B0%25D0%25B4%25D0%25B5%25D0%25B6%25D0%25BD%25D1%258B%25D0%25B9_C/C%252B%252B_%25D0%25BA%25D0%25BE%25D0%25B4_%25D0%25B4%25D0%25BB%25D1%258F_%25D0%25B2%25D1%2581%25D1%2582%25D1%2580%25D0%25B0%25D0%25B8%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC%25D1%258B%25D1%2585_%25D1%2581%25D0%25B8%25D1%2581%25D1%2582%25D0%25B5%25D0%25BC_(%25D0%2593%25D0%25B5%25D0%25BE%25D1%2580%25D0%25B3%25D0%25B8%25D0%25B9_%25D0%2593%25D1%2580%25D0%25B8%25D0%25B1%25D0%25BA%25D0%25BE%25D0%25B2,_SECR-2019)">Seguridad a la velocidad m√°xima: c√≥mo escribir c√≥digo C / C ++ confiable para sistemas embebidos</a> ". </li><li>  <a href="https://youtu.be/c5sJd4Abr8c">PVS-Studio es un analizador de c√≥digo est√°tico</a> . </li><li>  <a href="https://youtu.be/9h7yObKAADU">PVS-Studio y KEIL 5 colaboraci√≥n</a> . </li></ol><br><p> <a href="https://habr.com/en/company/pvs-studio/blog/482486/"><img src="https://habrastorage.org/getpro/habr/post_images/898/3b6/5a7/8983b65a74adb29a2113eba12fbec3f1.png" align="left"></a> </p><br><br>  Si desea compartir este art√≠culo con una audiencia de habla inglesa, utilice el enlace a la traducci√≥n: George Gribkov.  <a href="https://habr.com/en/company/pvs-studio/blog/482486/">Qu√© es MISRA y c√≥mo cocinarlo</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/482490/">https://habr.com/ru/post/482490/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../482478/index.html">Iteraptor: biblioteca para redus de mapa transparente profundo</a></li>
<li><a href="../482480/index.html">Toques c√≥smicos del a√±o saliente</a></li>
<li><a href="../482482/index.html">Juego de roles</a></li>
<li><a href="../482484/index.html">C√≥mo aumentar la eficiencia del desarrollo utilizando la teor√≠a de las restricciones</a></li>
<li><a href="../482486/index.html">¬øQu√© es Misra y c√≥mo cocinarlo?</a></li>
<li><a href="../482492/index.html">Descongelamiento de permafrost y emisiones de gases de efecto invernadero</a></li>
<li><a href="../482494/index.html">Actualizar resultados de la encuesta</a></li>
<li><a href="../482496/index.html">Resultados: 9 grandes avances tecnol√≥gicos de 2019</a></li>
<li><a href="../482498/index.html">Historia de la evoluci√≥n de las interfaces en Java.</a></li>
<li><a href="../482500/index.html">Python o R: ¬øCu√°l es una mejor opci√≥n para la ciencia de datos?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>