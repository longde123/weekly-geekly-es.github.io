<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóº üçß üè∫ Exp√©rience personnelle en utilisant des capteurs de proximit√© en d√©veloppement üï∫üèø üë©‚Äçüë¶‚Äçüë¶ üë∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonne journ√©e √† tous! Je m'appelle Maxim, je suis un d√©veloppeur leader chez Habilect. 

 Dans la vie de chaque programmeur, un moment arrive o√π vous ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exp√©rience personnelle en utilisant des capteurs de proximit√© en d√©veloppement</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430418/"> Bonne journ√©e √† tous!  Je m'appelle Maxim, je suis un d√©veloppeur leader chez Habilect. <br><br>  Dans la vie de chaque programmeur, un moment arrive o√π vous voulez partager les 2/3 de votre vie - une description du travail et des projets :) <br><br>  Historiquement, le domaine principal de mon activit√© √©tait le d√©veloppement de syst√®mes bas√©s sur des capteurs sans contact. <br><br>  Depuis pr√®s de 7 ans, de nombreuses options ont √©t√© essay√©es - Microsoft Kinect (√† la fois la version pour XBOX 360 et Kinect One pour Windows), Intel RealSense (√† partir de la premi√®re version disponible sur le march√© - F200, poursuivant le SR300 et, pour le moment, la derni√®re sortie - D435), Orbbec (Astra et Persee), Leap Motion (dont j'ai m√™me parl√© ici sur le traitement des gestes personnalis√©s).  Naturellement, il ne pourrait pas se passer de webcams ordinaires - analyse d'images, OpenCV, etc. <br><br>  Ceux qui sont int√©ress√©s - je demande un chat. <br><a name="habracut"></a><br>  Juste au cas o√π, un bref programme √©ducatif sur ce sujet des capteurs sans contact: <br><br>  Imaginez une situation dont vous avez besoin pour suivre par programme les actions d'une personne en particulier. <br><br>  Bien s√ªr, vous pouvez utiliser une webcam classique, qui peut √™tre achet√©e dans n'importe quel magasin.  Mais avec ce cas d'utilisation, vous devez analyser les images, ce qui est gourmand en ressources et, franchement, important (le probl√®me d'allocation de m√©moire dans le m√™me OpenCV est toujours d'actualit√©). <br><br>  Par cons√©quent, il est plus optimal de reconna√Ætre les personnes non pas comme faisant partie de l'image de la cam√©ra, mais comme un ¬´squelette¬ª obtenu par un capteur sp√©cialis√© utilisant des t√©l√©m√®tres actifs.  Cela vous permet de suivre une personne (ou plusieurs personnes) et de travailler avec des parties individuelles du "squelette". <br><br>  Dans la terminologie du SDK Microsoft Kinect, ces parties individuelles sont appel√©es ¬´Joints¬ª.  Dans le cas d'un capteur par d√©faut, leur √©tat est mis √† jour toutes les 30ms. <br><br>  Chaque joint contient: <br><br><ul><li>  des donn√©es sur la position du point squelette correspondant dans l'espace (coordonn√©es X, Y et Z) par rapport √† l'axe optique du capteur, </li><li>  √©tat de la visibilit√© du point (d√©termin√©, non d√©termin√©, position calcul√©e par le capteur), </li><li>  quaternion de rotation par rapport au point pr√©c√©dent </li></ul><br>  La figure montre les joints trait√©s par Kinect v2 en utilisant l'homme de Vitruve de Leonardo Da Vinci comme exemple. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sm/vv/7t/smvv7tyolpggr-1kzoqrpsyntys.png" alt="KinectV2Joints"></div><br>  Ainsi, en travaillant avec un capteur sans contact, le d√©veloppeur a la possibilit√© d'analyser les actions d'une personne ou d'un groupe de personnes (par exemple, avec Kinect, il est possible de suivre simultan√©ment 6 personnes dans un cadre).  Et que faire de la matrice de donn√©es re√ßue d√©pend de l'application sp√©cifique. <br><br>  Les applications de ces capteurs sont infinies.  Les principaux domaines de mon travail sont la publicit√© et la m√©decine. <br><br>  Consid√©rez la direction de la <b>publicit√©</b> .  D√©sormais, pour le fonctionnement des stands publicitaires interactifs, plusieurs modules de base sont n√©cessaires, √† savoir: <br><br><ol><li>  Mat√©riel publicitaire lui-m√™me </li><li>  Collecte de statistiques sur le degr√© d'attraction de l'attention des visiteurs sur l'affichage d'une publicit√© particuli√®re, ce qui est int√©ressant pour l'annonceur </li><li>  Possibilit√© de configuration √† distance d'un stand publicitaire </li><li>  L'effet attrayant qui distingue un support interactif des t√©l√©viseurs conventionnels avec des publicit√©s et des banni√®res imprim√©es </li></ol><br>  Si tout est clair avec le mat√©riel publicitaire lui-m√™me, alors des capteurs sont utilis√©s pour collecter des statistiques.  Par exemple, un annonceur souhaite savoir combien de personnes ont pr√™t√© attention √† sa publicit√©?  Hommes, femmes ou enfants?  √Ä quelle heure s'arr√™tent-ils le plus souvent?  Combien de temps regardent-ils les publicit√©s et ne se tiennent-ils pas juste √† c√¥t√© du stand, creusant dans le t√©l√©phone?  √Ä l'aide d'un capteur, cela peut √™tre suivi et un rapport r√©dig√© sous une forme pratique pour l'annonceur. <br><br>  Pour la configuration √† distance, le mod√®le le plus simple et le plus √©vident est probablement utilis√© - Google Agenda.  Chaque calendrier est attach√© √† un stand sp√©cifique et, √©tant √† Saint-P√©tersbourg, vous pouvez g√©rer des stands partout dans le monde. <br><br>  Et l'effet attractif est la fonctionnalit√© m√™me, √† cause de laquelle le stand est appel√© interactif.  Vous pouvez cr√©er un jeu dirig√© par une personne avec le logo du sponsor, r√©aliser un son de bienvenue lorsqu'une personne appara√Æt dans le champ de vision du capteur, cr√©er un code QR avec un coupon de r√©duction dans la boutique de l'annonceur si, par exemple, une personne est rest√©e une minute et a regard√© une publicit√©.  Les options sont limit√©es principalement par la fantaisie et non par la technologie. <br><br>  Pourquoi utiliser des capteurs en <b>m√©decine</b> ?  La r√©ponse √† cette question est simple et simple - le co√ªt des examens et de la r√©√©ducation est r√©duit tout en maintenant la pr√©cision. <br><br>  L'un des exemples frappants est le d√©veloppement dans le domaine de la stabilom√©trie - la science des d√©viations du centre de gravit√© lors de la marche, qui affecte la posture, la colonne vert√©brale et la bonne fonction musculaire.  Vous pouvez vous rendre dans des centres sp√©ciaux pour des simulateurs sp√©ciaux, ce qui est une proc√©dure tr√®s co√ªteuse, qui n'est cependant pas toujours fournie.  Et vous pouvez acheter un capteur et un logiciel √† domicile, vous connecter √† un t√©l√©viseur et effectuer des tests de diagnostic, dont les r√©sultats sont automatiquement envoy√©s √† votre m√©decin. <br><br>  Un autre exemple est la r√©adaptation √† domicile.  Ce n'est un secret pour personne qu'il y a deux principaux probl√®mes de r√©adaptation: l'appel co√ªteux d'un m√©decin √† la maison (ce qui doit √™tre fait plusieurs fois par semaine) et la r√©ticence d'une personne r√©adapt√©e √† effectuer des exercices similaires pendant une longue p√©riode.  Pour cela, plusieurs postulats de base du syst√®me ont √©t√© d√©velopp√©s, √† savoir: <br><br><ol><li>  Compilation √† distance des programmes de r√©adaptation par un m√©decin pour le suivi √† distance de la mise en ≈ìuvre.  Par exemple, un m√©decin de Saint-P√©tersbourg peut surveiller √† distance le d√©roulement des exercices prescrits pour un patient de Vladivostok, et si n√©cessaire, changer les exercices, augmenter ou diminuer la complexit√© et l'intensit√© des cours, √©tudier les statistiques en temps r√©el, etc. </li><li>  Processus d'exercice ludique.  Si les simulateurs modernes sont principalement ax√©s sur l'ex√©cution de mouvements de base pour d√©velopper des muscles et des articulations endommag√©s, le syst√®me de r√©√©ducation interactif vous permet d'effectuer des exercices, litt√©ralement, sans effort.  Par exemple, avec l'aide du c√©l√®bre Tetris, qui, au lieu d'appuyer sur les boutons, est contr√¥l√© par les mouvements prescrits par le m√©decin (lever la main gauche, d√©placer la jambe droite, incliner la t√™te vers l'avant, etc.). </li><li>  Mise en place de crit√®res de performance d'exercice.  Lorsque vous travaillez avec le patient, le m√©decin surveille l'exercice √† l'aide de conseils et d'une aide tactile (par exemple, vous ne pouvez pas plier votre bras au niveau du coude lorsque vous √©loignez votre bras - cela affecte le travail de l'articulation de l'√©paule).  Le syst√®me interactif estime les angles relatifs entre les articulations et, en cas de d√©passement de la plage acceptable, avertit l'utilisateur et ne tient pas compte de la mauvaise ex√©cution de l'exercice. </li></ol><br>  Un tel syst√®me vous permet de r√©duire √† la fois le temps (√† la fois le m√©decin et le patient - de voyager l'un pour l'autre), et de maintenir la pr√©cision des exercices n√©cessaires pour progresser. <br><br>  Pour la mise en ≈ìuvre de projets utilisant la pile technologique .NET.  Je travaille sous Windows uniquement :).  Oui, √† cause de cela, j'ai d√ª √©crire plusieurs fois des wrappers pour le SDK natif (√† titre d'exemple, j'ai cr√©√© des adaptateurs pour le SDK Intel RealSense, car √† l'√©poque il ne s'agissait que de code non manag√©).  Cela a co√ªt√© beaucoup de temps, de nerfs et de cheveux gris, mais a permis de connecter la biblioth√®que √† divers projets d√©velopp√©s sur la plate-forme Windows. <br><br>  Il convient de noter que les principaux capteurs (Kinect et RealSense) n√©cessitent une r√©solution x64 pour le d√©veloppement. <br><br>  Pour simplifier le travail des applications clientes, un service s√©par√© a √©t√© impl√©ment√©, fonctionnant avec un capteur, emballant les donn√©es dans un format qui nous convient et envoyant des donn√©es aux abonn√©s √† l'aide du protocole TCP.  Soit dit en passant, cela nous a permis de cr√©er un syst√®me qui fonctionne avec plusieurs capteurs, ce qui peut am√©liorer consid√©rablement la pr√©cision de la reconnaissance. <br><br><img src="https://habrastorage.org/webt/bq/wg/bb/bqwgbbrdq11zybaw4wopuvkxo3y.png" alt="KinectMultiSensorModel"><br>  <i>Le diagramme simplifi√© montre les avantages de l'utilisation de plusieurs capteurs pour suivre un objet.</i>  <i>Les points bleus (articulations) sont d√©termin√©s de mani√®re stable par les premier et second capteurs, verts - uniquement par le second.</i>  <i>Naturellement, la solution d√©velopp√©e est impl√©ment√©e sous le "mod√®le N-sensor".</i> <br><br><img src="https://habrastorage.org/webt/nu/6h/1i/nu6h1iojaadn3j6nf8kgork5650.png" alt="KinectMultiSensorWorkflow"><br>  <i>Un processus d√©taill√© de traitement des donn√©es de plusieurs capteurs est pr√©sent√© dans le diagramme ci-dessus.</i> <br><br>  Avec presque tout d√©veloppement, l'un des principaux crit√®res pour un artiste est l'int√©r√™t.  Apr√®s, pendant plusieurs ann√©es cons√©cutives, j'ai impl√©ment√© le m√™me type d'application Web en ASP.NET et PHP, je voulais quelque chose de nouveau et plus, disons, intelligent.  En d√©veloppement web (√† de rares exceptions pr√®s), tout a d√©j√† √©t√© invent√©.  Bien site, bien service, bien base de donn√©es.  Dans le cas du travail avec des capteurs, des t√¢ches int√©ressantes et controvers√©es se posent toujours, par exemple, "comment pourrais-je transmettre la vid√©o HD du capteur via TCP afin que cela ne bloque pas le syst√®me?"  (un exemple de la vie, bien que cela ait √©t√© fait il y a tr√®s longtemps).  Et il est difficile de pr√©voir que les √©l√©ments suivants seront n√©cessaires pour am√©liorer et d√©velopper le syst√®me.  Il est clair qu'il existe un sprint de d√©veloppement principal o√π des am√©liorations globales et pr√©-planifi√©es sont d√©crites.  Mais ces sous-t√¢ches locales sont l'une des plus int√©ressantes dans le m√©tier de programmeur. <br><br>  Un tel travail n'est certainement pas routinier.  Si quelqu'un souhaite apprendre plus en d√©tail ou si quelqu'un veut savoir par o√π commencer dans ce domaine, je suis ouvert √† la communication.  Pr√™t √† r√©pondre √† toutes vos questions :) Et que la force soit avec vous! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430418/">https://habr.com/ru/post/fr430418/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430406/index.html">C ++ 20 et modules, mise en r√©seau, coroutines, gammes, graphiques. R√©sultats de la r√©union √† San Diego</a></li>
<li><a href="../fr430408/index.html">Nous v√©rifions la vuln√©rabilit√© ferm√©e et obtenons quatre nouveaux CVE</a></li>
<li><a href="../fr430410/index.html">¬´Il faudra toujours se d√©velopper¬ª: un entretien avec Evgeny Kuvshinov (ManyChat) sur le d√©veloppement dans une startup</a></li>
<li><a href="../fr430412/index.html">Logique floue contre PID. Nous croisons le h√©risson et le serpent. Moteur d'a√©ronef et algorithmes de contr√¥le des centrales nucl√©aires</a></li>
<li><a href="../fr430414/index.html">Azure DevOps pour Commodore 64?</a></li>
<li><a href="../fr430420/index.html">Conf√©rence "Contenu" - d√©sormais avec prise en charge de l'hyper-threading</a></li>
<li><a href="../fr430422/index.html">Votre code est d√©terminant</a></li>
<li><a href="../fr430424/index.html">Semaine de la s√©curit√© 47: Hacking Squat</a></li>
<li><a href="../fr430426/index.html">Rebranding des produits Western Digital: qu'est-ce qui a chang√©?</a></li>
<li><a href="../fr430428/index.html">Le site "Escher II" dans la nomination "Projet Internet du Peuple" Prix Runet 2018</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>