<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💠 🥠 👩🏻‍⚖️ Sejarah menciptakan cloud rumah. Bagian 2. Membuat server - mengatur LAMP di Debian 😠 ⚫️ 🐶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam perjalanan untuk membuat layanan cloud kami sendiri, kami terbiasa dengan sistem Debian . Sekarang waktunya telah tiba untuk langkah berikutnya ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sejarah menciptakan cloud rumah. Bagian 2. Membuat server - mengatur LAMP di Debian</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409915/">  Dalam perjalanan untuk membuat layanan cloud kami sendiri, kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">terbiasa dengan sistem Debian</a> .  Sekarang waktunya telah tiba untuk langkah berikutnya - pembuatan dan konfigurasi server web, yang menjadi dasar Nextcloud dapat diluncurkan. <img src="https://habrastorage.org/webt/ke/r5/x8/ker5x8nlot-vrpcr5iuvyrauhvm.png"><a name="habracut"></a><br><hr><a name="chap0"></a><br><h3>  Daftar isi </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Bagian 1. Mengatur lingkungan Debian Anda untuk penggunaan sehari-hari</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Bagian 2. Membuat server - mengatur LAMP di Debian</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Bagian 3. Membuat cloud pribadi - menginstal dan mengkonfigurasi Nextcloud</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Bagian 4. Pembaruan 2018 - Debian 9 dan Nextcloud 13</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 5. Memperbarui 2019 - PHP 7.2, MariaDB 10.4 dan Nextcloud 17</a> <br><br><hr><br><h3>  Navigasi bab cepat </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Kata Pengantar</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Instalasi perangkat lunak</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Mengkonfigurasi server web Apache2 dan mengaksesnya melalui protokol HTTP dan HTTPS</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Penyetelan SQL</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengaturan PHP</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengaturan Akses SSH</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Perlindungan akses</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi Server Web</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Referensi MySQL</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bahan referensi Fail2ban</a> <br><br><hr><a name="chap1"></a><br><h3>  Kata Pengantar </h3><br>  Bagian pertama dari cerita ini menunjukkan salah satu opsi yang memungkinkan untuk menyiapkan GUI Debian untuk penggunaan yang nyaman dan akrab (sudut pandang eksklusif subjektif dari penulis) yang digunakan oleh orang yang datang ke Linux dari Windows.  Dan jika saya hanya menggunakan sistem host untuk mengkonfigurasi mesin virtual dengan Debian, maka saya secara khusus bekerja hanya di mesin virtual ini, mencari informasi di Internet, membuat catatan di Notepadqq atau gedit, mendengarkan musik melalui Audacious, membuka file melalui LibreOffice dan sejenisnya.  Dengan cara ini, Anda dapat terbiasa dan merasa jauh lebih dalam dan menghargai bekerja dengan sistem operasi dan lingkungannya, yang cukup penuh dan fungsional dalam paket standar Debian. <br><br>  Saat ini, sistem kami dikonfigurasi sedemikian rupa sehingga di masa depan Anda hanya dapat menggunakan baris perintah dengan editor teks konsol, misalnya, nano atau menggunakan manajer file Double Commander dengan editor Notepadqq terintegrasi.  Dimungkinkan untuk menggabungkan kedua metode ini, misalnya, dengan menavigasi dalam sistem dan mengedit file konfigurasi melalui manajer file, dan semua perintah lainnya melalui konsol.  Semua metode setara untuk mencapai hasil akhir. <br><br>  Tujuan saat ini adalah untuk membuat server, yang akan dikhususkan untuk bagian ini.  Server dapat dikonfigurasi baik dengan instalasi dan penggunaan antarmuka grafis, dan tanpa itu.  Dalam kasus kedua, dari bagian sebelumnya, Anda dapat melewatkan bagian tentang menginstal dan mengkonfigurasi perangkat lunak untuk antarmuka grafis dan pengaturannya, menginstal paket perangkat lunak grafis dan vmware-tools. <br><br>  Saya melihat tidak ada yang salah dengan menggunakan antarmuka grafis ketika membuat server: jika lebih akrab, lebih nyaman dan nyaman bagi seseorang untuk membuat server pertama atau kedua mereka dengan lingkungan grafis - mengapa tidak?  Pada akhirnya, server web saya dengan antarmuka grafis bekerja selama satu tahun dan akan bekerja bertahun-tahun sesuai kebutuhan.  Namun, Anda perlu mengingat beberapa poin. <br><br>  Idealnya, sekali dikonfigurasi, sistem harus bekerja tanpa campur tangan kita untuk waktu yang sangat lama.  Server saya dalam versi "selesai" dikonfigurasikan dalam dua hari, dan bekerja tanpa intervensi selama hampir setahun.  Ini berarti bahwa antarmuka grafis digunakan 0,05% dari keberadaan aktif server (komputer hanya bekerja selama setengah hari) dan pada saat yang sama mengambil sumber daya: RAM, ruang disk, waktu prosesor.  Semua sumber daya ini dihabiskan lebih baik untuk memastikan berfungsinya server itu sendiri: misalnya, naik memory_limit untuk PHP atau simpan lebih banyak data pengguna di hard drive.  Selain itu, jika terjadi masalah dan malfungsi saat bekerja dengan server jarak jauh nyata, seringkali lebih mudah untuk menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">akses SSH</a> .  Dalam konteks ini, kehadiran antarmuka grafis tidak diinginkan dan itulah sebabnya server kedua di jaringan saya sudah menjadi mesin virtual tanpa lingkungan grafis yang hanya menginstal Midnight Commander dari perangkat lunak grafis, yang saya gunakan untuk menavigasi sistem file dan mengedit file konfigurasi melalui editor mceditnya. .  Oleh karena itu, berikut ini adalah instruksi universal: diberikan perintah dengan penekanan pada penggunaan baris perintah, namun, dapat dipahami bahwa untuk pertama kalinya pengguna mengkonfigurasi mesin dengan lingkungan grafis, yang disebabkan oleh penggunaan browser untuk memeriksa ketersediaan situs yang dibuat secara lokal dan beberapa fitur pengaturan program surat. <br><br>  Dalam proses membuat server dan ketika menambahkan situs baru ke dalamnya, saya mengumpulkan beberapa informasi latar belakang yang mungkin berguna bagi pengguna pemula.  Saya menguraikannya setelah materi tentang menginstal dan mengkonfigurasi server. <br><br>  <b>Catatan</b> <br>  Setelah membaca lebih lanjut dalam konstruksi formulir http: // 127.0.0.1 (https: // 127.0.0.1), spasi setelah http: // (https: //) harus dihapus ketika memasuki bilah alamat browser.  Ruang disisipkan saat menerbitkan artikel ini untuk mencegah mesin dari secara otomatis mengubah teks menjadi tautan. <br><br><hr><a name="chap2"></a><br><h3>  Instalasi perangkat lunak </h3><br>  Apache dan Nginx adalah sepasang server web sumber terbuka tempat sekitar 55% server di seluruh dunia dibangun.  Apache adalah server web paling populer sejak 1995 dan saya memilihnya dengan harapan akan dokumentasi yang baik, popularitas dan, untuk berbicara, saya ingin memulai dari awal.  Ini tidak berarti bahwa Nginx lebih buruk: Nginx lebih efisien dalam mengonsumsi sumber daya dan bekerja di bawah beban.  Di segmen Internet Rusia, server Nginx menempati sekitar 65%, sementara Apache - sekitar 18%.  Artikel komparatif yang baik dari dua server <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">diposting di hub</a> <br><br>  Menginstal Apache2 Web Server: <br><br>  <b># apt-get install apache2 apache2-doc</b> <br><br>  Dan itu saja.  Sekitar dua puluh megabyte dan server web sudah diinstal.  Tidak perlu reboot atau pengaturan - server sudah tahu cara membuka halaman <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">HTML</a> .  Namun, situs web modern di Internet tidak hanya sekumpulan file statis, gaya, font, dan sejenisnya seperti dua puluh tahun yang lalu.  Situs modern berisi skrip yang ditulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PHP</a> , dan informasi dinamis (misalnya, konten teks, komentar, profil pengguna) tidak ditulis ke file di sebelah file PHP, tetapi ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">database SQL</a> khusus.  Untuk server lengkap, Anda harus memberikan dukungan untuk teknologi ini.  Selain itu, tidak sulit: <br><br>  <b># apt-get install mysql-server mysql-client phpmyadmin</b> <br>  <b># apt-get install php5 php5-mysql libapache2-mod-php5</b> <br><br>  Selama instalasi MySQL, Anda akan diminta untuk mengatur kata sandi pengguna super mysql dan Anda harus memilih server apache2 untuk secara otomatis mengkonfigurasi pekerjaan dengan mysql.  Ketika menginstal paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">phpmyadmin</a> , saya setuju untuk secara otomatis mengkonfigurasi paket dan di mana-mana memasukkan kata sandi root mysql.  Instalasi PHP terjadi tanpa permintaan apa pun. <br><br>  Saya tidak menggunakan PHP7 lebih cepat atau MariaDB gratis sebagai alternatif pengganti SQL terbuka dan memutuskan untuk membangun server saya di LAMPU "kanonik" = Linux + Apache + MySQL + PHP, menggunakan solusi lama dan terbukti, jika ada masalah yang saya dapat dengan cepat dan dengan mudah menemukan informasi di Internet. <br><br>  Tiga tim (yang sebenarnya dapat direduksi menjadi satu) dan kami telah menginstal secara lokal server modern dan penuh.  Ini sangat sederhana! <br><br>  Tetapi pengaturan server membutuhkan waktu lebih lama daripada menginstal komponennya.  Awalnya, di bagian ini saya ingin menunjukkan kesalahan khas saya, solusi palsu untuk masalah dan hasil yang mereka tuju, tetapi ternyata banyak hal telah dihapus dari ingatan saya dalam setahun, saya harus memulihkan banyak dari catatan, jadi di bawah ini hanya akan menetapkan instruksi kerja dengan sedikit komentar, memungkinkan untuk mencapai hasil kerja universal. <br><br><hr><a name="chap3"></a><br><h3>  Konfigurasikan Server Web Apache2 </h3><br>  Pertama, Anda perlu memastikan bahwa server web berfungsi.  Untuk melakukan ini, buka browser dan tekan alamat http: // 127.0.0.1 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">localhost</a> ).  Prasasti yang membesarkan hati harus terbuka: “Apache2 Debian Default Page.  Ini berhasil! "  Server benar-benar berfungsi.  Jika Anda memiliki satu set file situs untuk tahun 2000, maka Anda dapat meletakkannya di direktori / var / www / html dan mungkin akan terbuka di server kami. <br><br><img src="https://habrastorage.org/webt/3t/q6/x-/3tq6x-2ahadvbbshmoxl2_3hfhc.png"><br><br>  Semua pengaturan server web dasar disimpan di jalur / etc / apache2.  Jika Anda membuka direktori ini, Anda dapat melihat file konfigurasi utama apache2.conf dan direktori conf-available, mod-available, available-sites.  Direktori-direktori ini berisi file-file yang telah dikonfigurasikan sebelumnya dengan pengaturan (yang disebut snippet), yang dapat Anda gunakan secara default, dengan pengeditan Anda sendiri, atau menjadikannya sebagai templat untuk membuat konfigurasi Anda sendiri.  Misalnya, dalam direktori yang tersedia di situs adalah file konfigurasi host default 000-default.conf.  Jika Anda membukanya dan mempelajarinya, ternyata file ini hanya menetapkan jalur yang dibuka situs web kami di alamat http: // 127.0.0.1: "DocumentRoot / var / www / html".  Selain itu, baris "&lt;VirtualHost *: 80&gt;" berarti bahwa jika saya melepaskan mesin saya di jaringan lokal dan mengaksesnya di port 80 (port untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">HTTP</a> ), saya akan membuka situs yang terletak di jalur / var / www / html.  Bagaimana cara memverifikasi ini? <br><br>  Pertama, Anda perlu mengetahui alamat IP yang ditugaskan ke mesin virtual setelah itu dimuat.  Untuk melihat konfigurasi adapter jaringan, jalankan: <br><br>  <b># ifconfig</b> <br><br>  Dalam informasi yang ditampilkan pada konsol, mudah untuk menentukan bahwa alamat berikut ini diatur untuk adaptor eth0: <br><br> <code>inet addr:192.168.233.138</code> <br> <br>  Sekarang di mesin host, saya membuka alamat browser http: // 192.168.233.138 di browser dan mengharapkan halaman yang sudah dikenal untuk membuka.  Tapi ... dia tidak membuka.  Setelah beberapa waktu, browser saya menulis: "Koneksi habis."  Dan dia menulis dengan benar.  Memang, pada bagian pertama saya menyalakan firewall, tetapi port 80 tidak terbuka!  Mari kita perbaiki ini: <br><br>  <b># ufw izinkan 80</b> <br><br>  Sekali lagi, coba buka alamat http: // 192.168.233.138 dan pastikan halaman yang diharapkan terbuka.  Tuan rumah virtual di mesin virtual dibuka dari luar semua virtualisasi ini.  Kami mengambil langkah kecil dalam membangun Internet virtual kecil kami sendiri. <br><br>  Selain direktori yang tersedia, ada juga direktori yang diaktifkan yang berisi apa yang saat ini "disertakan".  Jika Anda melihatnya, Anda dapat melihat bahwa direktori-direktori ini berisi tautan ke file-file yang terletak di direktori yang tersedia.  Saat ini hanya ada satu tautan di direktori yang didukung situs - file /etc/apache2/sites-available/000-default.conf.  Ini sangat mudah - kita dapat mengontrol pintasan hidup atau mati host tanpa mengedit file konfigurasi mereka.  Selain itu, sumber konfigurasi adalah apakah satu file konfigurasi disertakan secara mandiri atau tidak sekarang, dan ini mencegah kesalahan ketika sesuatu dikoreksi dalam satu file dan dilupakan pada yang lain.  Untuk menonaktifkan host kami, Anda perlu menghapus pintasan yang diperlukan, dan untuk mengaktifkannya, buatlah.  Agar tidak menghapus atau membuat pintasan secara manual, lebih mudah dan lebih dapat diandalkan untuk menggunakan utilitas khusus. <br><br>  Nonaktifkan host virtual: <br><br>  <b># a2dissite 000-default</b> <br><br>  Nyalakan host virtual: <br><br>  <b># a2enssite 000-default</b> <br><br>  Setelah setiap perubahan, Anda harus memulai ulang konfigurasi host atau me-restart server: <br><br>  <b># service apache2 reload</b> <br><br>  atau <br><br>  <b># service apache2 restart</b> <br><br>  Jadi, pemahaman dasar tentang cara mengkonfigurasi host biasa di apache sekarang tersedia, dan kemudian saya akan menunjukkan contoh bagaimana saya mengkonfigurasi server saya untuk bekerja melalui protokol HTTP dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">HTTPS</a> . <br><br>  Anda harus mulai dengan fakta bahwa ketika melepaskan 000 host virtual default, pemutusan seperti itu tidak terjadi.  Yaitu, situs yang dibuka dari dalam dan luar mesin virtual - dan akan terbuka terlepas dari apakah konfigurasinya ada di folder yang didukung situs.  Ini tidak terduga dan saya menghabiskan waktu yang relatif lama untuk memahami apakah saya melakukan semuanya dengan benar atau dipahami.  Sampai akhir, saya masih tidak mengerti ini, ternyata ini disebabkan oleh kenyataan bahwa path / var / www / html diatur secara global sebagai direktori default untuk DocumentRoot.  Karena saya tidak ingin sesuatu yang tidak perlu dimasukkan dan diakses, saya memutuskan untuk menyingkirkan direktori html itu sendiri, dan untuk semua nested / var / www, tolak akses secara default. <br><br>  Untuk mengkonfigurasi virtual host default, saya mengedit file konfigurasinya: <br><br>  <b># nano /etc/apache2/sites-available/000-default.conf</b> <br><br>  Isi file konfigurasi adalah sebagai berikut: <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> localhost ServerAdmin user@localhost DocumentRoot /var/www &lt;Directory /var/www&gt; Options FollowSymLinks AllowOverride <span class="hljs-literal"><span class="hljs-literal">All</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> denied &lt;/Directory&gt; ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined &lt;/VirtualHost&gt;</code> </pre> <br>  Dengan konfigurasi ini, saya mereset direktori default ke / var / www, mengizinkan server untuk mengikuti tautan simbolik di direktori ini, mengizinkan server untuk menjalankan semua arahan yang dideklarasikan dalam file .htaccess yang ditemukan, dan menolak akses ke direktori ini.  Logika dari tindakan ini adalah bahwa saya dapat mengontrol akses ke direktori ini tanpa mengakses pengaturan server web sama sekali dan tanpa me-restart itu.  Sekarang Anda perlu memeriksa solusi ini. <br>  Transfer file: <br><br>  <b># mv /var/www/html/index.html /var/www/index.html</b> <br><br>  Dan hapus direktori: <br><br>  <b># rm / var / www / html</b> <br><br>  Kami me-restart server untuk pengaturan default host virtual baru agar berlaku: <br><br>  <b># service apache2 restart</b> <br><br>  Buat file: <br><br>  <b># nano /var/www/.htaccess</b> <br><br>  Di mana kami menulis satu baris (tanpa tanda kutip): "Wajibkan semua diberikan". <br><br>  Untuk meringkas.  Sekarang tidak ada path / var / www / html, tetapi host secara default dikonfigurasi ulang ke path / var / www, di mana file index.html berada, dan secara default, pada tingkat server web, akses ke direktori ini ditolak, tetapi konten diperbolehkan secara lokal file .htaccess terletak di sana. <br><br>  Buka browser http: // 127.0.0.1 dan lihat halaman yang sudah dikenal “Apache2 Debian Default Page.  Ini berhasil. "  Sekarang mari kita periksa operabilitas kontrol akses "lokal": <br>  Hapus file .htaccess: <br><br>  <b># rm /var/www/.htaccess</b> <br><br>  Dan kami memperbarui halaman yang terbuka di browser - halaman dengan pemberitahuan pembatasan akses (Terlarang) akan terbuka.  Ya, semua ini berfungsi, jadi semuanya dilakukan dengan benar. <br><br>  Pada prinsipnya, pengaturan sederhana ini cukup untuk operasi server web yang lebih mudah.  Tetapi bagi saya itu tampaknya tidak cukup.  Sekarang server web kami hanya dapat bekerja menggunakan protokol HTTP.  Tetapi bagaimana dengan protokol HTTPS?  Lagi pula, jika di masa depan untuk membawa proyek berdasarkan server web ini ke Internet, kemampuan untuk bekerja pada protokol ini setidaknya diinginkan.  Dan saya memutuskan untuk mengatur dukungan HTTPS berdasarkan penciptaan sertifikat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">SSL yang</a> ditandatangani sendiri. <br><br>  Pertama, Anda perlu mendapatkan sertifikat SSL yang akan diinstal di server kami.  Kami tidak memiliki domain apa pun, dan kami juga tidak memiliki alamat IP statis.  Tetapi semua ini tidak masalah, karena saya akan menghasilkan sertifikat sendiri, menggunakan alat dari sistem saya. <br><br>  Perhatian!  Petunjuk di bawah ini menganggap bahwa server diinstal pada mesin tanpa nama.  Jika ada IP asli atau nama domain, maka mereka harus ditentukan di TIGA tempat: &lt;Nama Umum IP / Domain&gt;;  &lt;ServerName IP / Domain&gt;;  &lt;Redirect "/" "https: // IP / Domain /"&gt; - dalam konstruksi yang sesuai, ganti IP / Domain dengan alamat IP atau nama domain.  Dalam teks di bawah ini, localhost digunakan sebagai ganti IP / Domain. <br><br>  Hasilkan sertifikat SSL: <br><br>  <b># openssl req -x509 -nodes -days 3650 -newkey rsa: 2048 -kunciout /etc/ssl/private/apache-selfsigned.key -out /etc/ssl/certs/apache-selfsigned.crt</b> <br><br>  Perintah ini akan membuat sertifikat yang ditandatangani sendiri standar X.509 segera selama 10 tahun dengan melewatkan opsi perlindungan sertifikat dengan frasa sandi - ini diperlukan agar ketika memulai server Apache dapat membaca file tanpa intervensi pengguna, karena mengatur kata sandi, Anda harus memasukkannya setelah setiap boot atau reboot server.  Bersama dengan sertifikat, kunci RSA baru untuk 2048 bit akan dibuat, dengan mana sertifikat akan ditandatangani.  Opsi –keyout dan –out menunjukkan jalur di mana OpenSSL harus menghasilkan kunci dan sertifikat. <br><br>  Dalam proses pembuatan sertifikat, pertanyaan akan diajukan, yang saya tunjukkan data berikut: <br><br><blockquote>  Nama Negara = MW <br>  Nama Negara Bagian atau Provinsi = Sistem Matahari <br>  Nama Daerah = Bulan <br>  Nama Organisasi = Hellium Inc. <br>  Nama Unit Organisasi = 2 <br>  Nama umum = localhost <br>  Alamat Email = user @ localhost </blockquote><br>  Selanjutnya, buat kunci Diffie-Hellman untuk memberikan dukungan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">PFS</a> : <br><br>  <b># openssl dhparam -out /etc/ssl/certs/dhparam.pem 2048</b> <br><br>  Dots dan plus akan berjalan di terminal dan setelah akhir kartun, Anda dapat membuat file ssl-params.conf di mana parameter SSL untuk server akan ditentukan: <br><br>  <b># nano /etc/apache2/conf-available/ssl-params.conf</b> <br><br>  Untuk pengaturan yang aman dan terkini, saya menggunakan kode yang dibuat di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">generator untuk mengkonfigurasi SSL di mozilla.github.io</a> .  Di generator, saya memilih server Apache2, profil Modern dan dengan benar mengatur versi server dan OpenSSL, yang dapat dikenali dengan perintah berikut: <br><br>  <b># apache2 -v</b> <b><br></b>  <b># versi openssl</b> <br><br>  Sebagai hasilnya, saya mendapatkan teks berikut: <br><br><pre> <code class="apache hljs"><span class="hljs-comment"><span class="hljs-comment"># 14-01-2018 / for apache2 2.4.10 &amp; openssl 1.0.1t # from https://mozilla.github.io/server-side-tls/ssl-config-generator/ # parametrs help: https://raymii.org/s/tutorials/Strong_SSL_Security_On_Apache2.html # modern configuration, tweak to your needs SSLProtocol all -SSLv3 -TLSv1 -TLSv1.1 SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256 SSLHonorCipherOrder on SSLCompression off # OCSP Stapling, only in httpd 2.3.3 and later SSLUseStapling on SSLStaplingResponderTimeout 5 SSLStaplingReturnResponderErrors off SSLStaplingCache shmcb:/var/run/ocsp(128000)</span></span></code> </pre> <br>  Sekarang konfigurasikan virtual host dengan dukungan SSL: <br><br>  <b># nano /etc/apache2/sites-available/default-ssl.conf</b> <br><br>  Saya membawa teks file ini ke bentuk berikut: <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_ssl.c&gt;</span></span> <span class="hljs-section"><span class="hljs-section">&lt;VirtualHost _default_:443&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">ServerAdmin</span></span> user@localhost ServerName localhost DocumentRoot /var/www &lt;Directory /var/www&gt; Options FollowSymLinks AllowOverride <span class="hljs-literal"><span class="hljs-literal">All</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> denied &lt;/Directory&gt; # HSTS (mod_headers is required) (15768000 seconds = 6 months) Header always set Strict-Transport-Security <span class="hljs-string"><span class="hljs-string">"max-age=15768000"</span></span> ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined SSLEngine <span class="hljs-literal"><span class="hljs-literal">on</span></span> SSLCertificateFile /etc/ssl/certs/apache-selfsigned.crt SSLCertificateKeyFile /etc/ssl/private/apache-selfsigned.key &lt;FilesMatch <span class="hljs-string"><span class="hljs-string">"\.(cgi|shtml|phtml|php)$"</span></span>&gt; SSLOptions +StdEnvVars &lt;/FilesMatch&gt; &lt;Directory /usr/lib/cgi-bin&gt; SSLOptions +StdEnvVars &lt;/Directory&gt; BrowserMatch <span class="hljs-string"><span class="hljs-string">"MSIE [2-6]"</span></span> \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0 BrowserMatch <span class="hljs-string"><span class="hljs-string">"MSIE [17-9]"</span></span> ssl-unclean-shutdown &lt;/VirtualHost&gt; &lt;/IfModule&gt;</code> </pre> <br>  Dari penjelasan di atas, kita juga memiliki / var / www didefinisikan sebagai direktori DocumentRoot, akses yang dikonfigurasi sama dengan pengaturan sebelumnya.  Mekanisme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">HSTS diaktifkan</a> , yang membantu memaksa koneksi melalui protokol HTTPS.  Dukungan SSL disertakan dengan sertifikat dan kunci yang digunakan, serta dukungan untuk memproses data sertifikat dalam skrip PHP dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">CGI</a> .  Bagian terakhir dirancang untuk memberikan kompatibilitas dengan versi Internet Explorer sebelumnya dan, secara umum, tidak perlu. <br><br>  Sekarang mari kita lakukan sentuhan akhir. <br><br>  Mari kita buka porta untuk SSL: <br><br>  <b># ufw izinkan 443</b> <br><br>  Aktifkan modul apache untuk dukungan SSL dan HSTS: <br><br>  <b># a2enmod ssl</b> <b><br></b>  <b># header a2enmod</b> <br><br>  Aktifkan konfigurasi SSL: <br><br>  <b># a2enconf ssl-params</b> <br><br>  Aktifkan host virtual berkemampuan SSL: <br><br>  <b># a2ensite default-ssl</b> <br><br>  Mulai ulang server untuk menerima semua pengaturan baru: <br><br>  <b># service apache2 restart</b> <br><br>  Jadi saat yang menarik telah datang - memeriksa operabilitas fungsionalitas baru dari sistem yang dikonfigurasi. <br><br>  Buat file: <br><br>  <b># nano /var/www/.htaccess</b> <br><br>  Di mana kami meresepkan satu baris: "Wajibkan semua diberikan". <br><br>  Buka di browser https: // 127.0.0.1.  Halaman tentang sertifikat yang tidak dikenal harus dibuka, setelah menerimanya (izin tunggal atau permanen), halaman yang akrab dengan pemberitahuan tentang server web yang berjalan akan terbuka. <br><br>  Hapus file .htaccess: <br><br>  <b># rm /var/www/.htaccess</b> <br><br>  Dan kami memperbarui halaman yang terbuka di browser - halaman dengan pemberitahuan pembatasan akses (Terlarang) akan terbuka.  Semuanya bekerja dengan benar.  Sekarang situs kami dapat diakses melalui HTTP dan HTTPS. <br><br>  Akses HTTP dapat dibiarkan diaktifkan, dinonaktifkan, atau dipaksa untuk dialihkan ke HTTPS. <br><br>  Untuk akses berkemampuan HTTP, tidak ada yang perlu dilakukan, karena server memproses permintaan untuk port 80 dan 443 secara individual dan situs kami di folder / var / www akan terbuka baik melalui HTTP maupun melalui HTTPS. <br><br>  Untuk menonaktifkan akses HTTP, Anda hanya perlu menonaktifkan host virtual yang sesuai dan memulai kembali server web: <br><br>  <b># a2dissite 000-default</b> <b><br></b>  <b># service apache2 restart</b> <br><br>  Sekarang, jika Anda membuka http: // 127.0.0.1 di browser, halaman dengan notifikasi tentang tidak adanya halaman (Not Found) akan terbuka. <br><br>  Opsi ketiga yang paling menarik.  Dalam hal ini, HTTP secara formal tetap diaktifkan, tetapi pemrosesan data akan dialihkan secara paksa melalui HTTPS. <br><br>  Untuk melakukan ini, pertama-tama aktifkan modul redirection: <br><br>  <b># a2enmod menulis ulang</b> <br><br>  Sekarang buka file 000-default.conf: <br><br>  <b># nano /etc/apache2/sites-available/000-default.conf</b> <br><br>  Dan sebelum tag penutup, tambahkan teks berikut: <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteEngine</span></span></span></span> <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTPS}</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span> RewriteRule (.*) https://<span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span><span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span><span class="hljs-meta"><span class="hljs-meta"> [NC,R=301,L]</span></span></code> </pre> <br>  Mulai ulang server: <br><br>  <b># service apache2 restart</b> <br><br>  Buat file: <br><br>  <b># nano /var/www/.htaccess</b> <br><br>  Di mana kami meresepkan satu baris: "Wajibkan semua diberikan". <br><br>  Sekarang, jika Anda membuka alamat http: // 127.0.0.1 di browser, kami akan secara otomatis dialihkan ke https: // 127.0.0.1 dengan peringatan tentang sertifikat yang tidak dikenal (jika sebelumnya tidak ditambahkan ke daftar pengecualian di browser), setelah menerimanya, yang sudah akrab akan terbuka halaman pemberitahuan server web. <br><br><hr><a name="chap4"></a><br><h3>  Penyetelan SQL </h3><br>  Untuk pengaturan awal mysql, jalankan saja perintah berikut: <br><br>  <b># mysql_secure_installation</b> <br><br>  Setelah memasukkan kata sandi pengguna super mysql, saya menjawab pertanyaan yang diajukan dalam urutan berikut: <br><br><ul><li>  menolak untuk mengubah kata sandi root; </li><li>  mengkonfirmasi penghapusan pengguna anonim dari basis data; </li><li>  Mengonfirmasi pemblokiran koneksi jarak jauh untuk root (untuk alasan keamanan, root hanya terhubung secara lokal); </li><li>  mengkonfirmasi penghapusan database uji; </li><li>  setuju untuk memuat ulang tabel privilege. </li></ul><br>  Untuk memverifikasi kesehatan mysql, Anda dapat menjalankan perintah berikut: <br><br>  <b># mysql -uroot -p</b> <br><br>  Setelah memasukkan kata sandi superuser mysql, kita melihat prompt mysql - itu berarti layanan sudah berjalan dan berjalan.  Anda dapat keluar dari terminal mysql dengan memasukkan perintah keluar. <br><br>  Untuk memeriksa kinerja phpmyadmin, buka alamat http: // 127.0.0.1/phpmyadmin di browser.  Jika sebuah halaman terbuka dengan undangan untuk memasukkan phpmyadmin, maka layanan sudah berjalan dan berjalan. <br><br><hr><a name="chap5"></a><br><h3>  Pengaturan PHP </h3><br>  Setelah menginstal PHP, saya membuka file pengaturannya: <br><br>  <b># nano /etc/php5/apache2/php.ini</b> <br><br>  Dan dia membawa beberapa parameter ke bentuk berikut: <br><br><ul><li>  memory_limit = 1024M </li><li>  default_charset = "UTF-8" </li><li>  upload_max_filesize = 256M </li><li>  sendmail_path = /usr/bin/fake_sendmail.sh </li></ul><br>  Menggunakan modul PHP, Anda dapat memberikan caching data dalam memori.  Caching berguna jika server memuat data yang tinggi, yang pembuatannya membutuhkan sejumlah besar sumber daya, misalnya, hasil kueri ke database atau pemrosesan "berat" potongan templat situs.  Sebagai server caching, saya memilih modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">memcached</a> . <br><br>  Instal memcache: <br><br>  <sup>[ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Teks ini</a> ditulis khusus untuk situs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">geektimes.ru</a> oleh <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">AlexanderS</a> .</sup> <sup><br></sup>  <sup>Tautan ke sumber itu opsional, tetapi rujukannya sangat diinginkan!</sup>  <sup>]</sup> <br><br>  <b># apt-get install memcached php5-memcached</b> <br><br>  Mari kita lihat pengaturan konfigurasi layanan: <br><br>  <b># nano /etc/memcached.conf</b> <br><br>  Dalam pengaturan, saya meningkatkan ukuran memori yang digunakan untuk caching: -m 64 -&gt; -m 256. Dan saya memeriksa ketersediaan mode operasi hanya di zona lokal: -l 127.0.0.1. <br><br>  Kami memulai kembali layanan caching dan server web: <br><br>  <b># layanan memcached restart</b> <b><br></b>  <b># service apache2 restart</b> <br><br>  Sekarang Anda perlu memastikan layanannya berfungsi.  Untuk melakukan ini, buat file: <br><br>  <b># nano /var/www/info.php</b> <br><br>  Dan tambahkan teks berikut ke dalamnya: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> phpinfo (); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br>  Jangan lupa untuk memeriksa keberadaan file .htaccess di direktori / var / www dengan konten permisif yang sesuai, jika tidak ada, buatlah. <br><br>  Sekarang Anda dapat membuka di browser Anda http: // 127.0.0.1/info.php - halaman dengan informasi tentang PHP harus terbuka, di mana Anda perlu memeriksa bagian memcached di dalamnya.  Jika tabel muncul - PHP berfungsi. <br><br>  Anda dapat memeriksa layanan memcached yang berjalan seperti ini: <br><br>  <b>$ ps -aux |</b>  <b>grep memcached</b> <br><br>  Terminal harus mengembalikan string yang berisi pengaturan memcached. <br><br>  <b>Membuat rintisan surat untuk PHP</b> <br><br>  Dalam pengaturan PHP, skrip shell ditentukan sebagai parameter sendmail_path.  Fungsi skrip ini adalah untuk menyimpan surat yang dikirim melalui fungsi standar php mail () pada mesin lokal, dalam beberapa folder yang nyaman, dan tidak mengirimnya ke suatu tempat. <br><br>  Buat file: <br><br>  <b># nano / usr/bin/fake_semdmail.sh</b> <br><br>  Dengan konten berikut: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh prefix="/var/mail/sendmail/new" numPath="/var/mail/sendmail" if [ ! -f $numPath/num ]; then echo "0" &gt; $numPath/num fi num=`cat $numPath/num` num=$(($num + 1)) echo $num &gt; $numPath/num name="$prefix/letter_$num.txt" while read line do echo $line &gt;&gt; $name done chmod 777 $name /bin/true</span></span></code> </pre> <br>  Jadikan file ini dapat dieksekusi: <br><br>  <b># chmod + x /usr/bin/fake_semdmail.sh</b> <br><br>  Buat direktori yang diperlukan yang mungkin Anda perlukan jika Anda mengkonfigurasi koleksi surat oleh program surat: <br><br>  <b># mkdir / var / mail / sendmail / var / mail / sendmail / cur / var / mail / sendmail / baru / var / mail / sendmail / tmp</b> <br><br>  Dan kami memberikan hak agar server dapat menulis file di folder ini: <br><br>  <b># chmod 777 -R / var / mail / sendmail</b> <br><br>  Sekarang semua surat keluar akan ditambahkan ke / var / mail / sendmail.  Mereka dapat dilihat dengan editor teks, atau dapat dikumpulkan melalui program surat.  Perangkat lunak yang diinstal sebelumnya Debian dilengkapi dengan klien email Evolution.  Saat mengatur akun, pilih "Maildir format directories mail" sebagai jenis server dan tentukan path ke direktori mail (/ var / mail / sendmail), dan pilih "Sendmail" sebagai server. <br><br>  Itu saja.  Secara umum, kita selesai dengan server - mesin virtual universal diperoleh, atas dasar di mana Anda dapat membangun layanan jaringan Anda.  Saya meninggalkan akses HTTP dan HTTPS.  Namun, setelah mendapatkan pengalaman dalam membuat dan mengonfigurasi server, serta menambahkan situs (lihat di bawah), saya akan merekomendasikan membuat mesin virtual baru dengan server tanpa antarmuka grafis sebagai konsumsi sumber daya yang paling optimal. <br><br><hr><a name="chap6"></a><br><h3>  Pengaturan Akses SSH </h3><br>  Server tidak akan menjadi server penuh tanpa akses melalui SSH.  Apa yang disebut "shell" memungkinkan Anda terhubung dengan cepat dan aman ke server jarak jauh, menggunakan, misalnya, program dempul kecil - di komputer lokal kami mendapatkan akses langsung ke terminal server jarak jauh. <br><br>  Instalasi Layanan: <br><br>  <b># apt-get install ssh</b> <br><br>  Mari kita buka port untuk SSH (sebenarnya, port default harus di nomor 22, tetapi di bawah ini saya mendefinisikan ulang port dalam konfigurasi SSH): <br><br>  <b># ufw izinkan 106</b> <br><br>  Untuk mengatur akses bagi pengguna pengguna kami, buka file: <br><br>  <b># nano / etc / ssh / sshd_config</b> <br><br>  Dan tambahkan arahan di akhir file: <br><br><blockquote>  Pengguna AllowUsers </blockquote><br>  Selain itu, untuk alasan keamanan, saya membuat perubahan berikut pada file ini: <br><br><ul><li>  port yang diubah dari 22 ke yang lain ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">daftar port</a> ): Port 22 -&gt; Port 106 </li><li>  menonaktifkan protokol sebelumnya: Protokol 2.1 -&gt; Protokol 2 </li><li>  akses remote yang dinonaktifkan untuk root: PermitRootLogin ya (atau PermitRootLogin tanpa kata sandi) -&gt; PermitRootLogin no </li></ul><br>  Kemudian mulai kembali layanan: <br><br>  <b># service sshd restart</b> <br><br>  Sekarang saya dapat menjalankan program dempul pada mesin host dan terhubung ke server saya dalam mode konsol dengan memasukkan alamat koneksi 192.168.233.138, port 106 dan nama pengguna.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat menghubungkan, Anda harus menjawab dalam persetujuan untuk menerima kunci dan memasukkan kata sandi untuk pengguna pengguna. </font><font style="vertical-align: inherit;">Jika Anda perlu menjalankan perintah dari superuser, maka Anda dapat menggunakan perintah su yang sudah dikenal.</font></font><br><br><hr><a name="chap7"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perlindungan akses </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya tidak mulai melindungi server web dari DDoS, awalnya percaya bahwa jika di-host di VPS / VDS, hosting akan memberikan perlindungan yang efektif, dan jika Anda membuat server Anda "menonjol" ke Internet, masalah ini harus ditangani dengan serius dan ini adalah topik artikel terpisah. Perlindungan HTTP lambat DDoS relatif sederhana menurut banyak instruksi di Internet, tetapi itu tidak akan menyelamatkan Anda dari serangan didistribusikan dari banyak alamat IP yang berbeda. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan DDoS, server kami hanya akan berhenti bekerja untuk sementara waktu. Tetapi setelah serangan yang tidak akan bertahan selamanya, server akan pulih. Tetapi jika seseorang berhasil mendapatkan akses melalui SSH, maka kontrol atas server akan hilang dan data di dalamnya akan dikompromikan, jadi kontrol akses ke server melalui SSH adalah ide yang bagus.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hal paling sederhana dan paling umum yang dapat dilakukan adalah mengubah port standar, yang kami lakukan saat mengatur SSH. Sekitar lima tahun yang lalu, saya "mendorong" server yang baru dibuat di Internet pada alamat IP asli yang baru saja diterima dan terkejut bahwa selama minggu keberadaan server, tentang yang belum ada yang tahu, sejumlah besar catatan tentang upaya otorisasi gagal pada SSH dan FTP. Jelas, di Internet modern, ada sejumlah besar layanan robot yang mencari komputer dengan port terbuka dan mencoba menghubungkannya dengan mengurutkan kata sandi berdasarkan database yang ada atau menggunakan metode pencarian lengkap. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untungnya bagi kita, ada yang namanya fail2ban: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># apt-get install fail2ban</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segera setelah instalasi, utilitas sudah dikonfigurasikan untuk melindungi sebagian besar port dan jika lebih dari enam upaya gagal tersambung muncul dalam log sistem dalam sepuluh menit, penyusup akan diblokir selama sepuluh menit. Mekanisme operasi fail2ban cukup sederhana - yang disebut penjara yang memicu tindakan yang dirancang untuk melindungi aplikasi dipicu oleh pemicu tertentu. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter pemblokiran dapat diatur secara individual: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># nano /etc/fail2ban/jail.local</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dalam file yang dibuat, perlu untuk meresepkan pengaturan yang akan menggantikan yang sudah ada secara default. Contoh konten file saya:</font></font><br><br> <code>#   <br> [DEFAULT] <br> ignoreip = 127.0.0.1 <br> bantime = 2592000 <br> findtime = 43200 <br> maxretry = 6 <br> banaction = iptables-multiport <br> #      <br> destemail = user@localhost <br> sendername = Fail2Ban <br> mta = sendmail <br> action = %(action_mwl)s <br> <br> #  SSH <br> [ssh] <br> enabled = true <br> port = 106 <br> filter = sshd <br> logpath = /var/log/auth.log <br> <br> #      <br> [apache] <br> enabled = true <br> port = http,https <br> filter = apache-auth <br> logpath = /var/log/apache*/*error.log <br> <br> #        php  <br> [apache-noscript] <br> enabled = true <br> port = http,https <br> filter = apache-noscript <br> logpath = /var/log/apache*/*error.log <br> <br> #     <br> [apache-overflows] <br> enabled = true <br> port = http,https <br> filter = apache-overflows <br> logpath = /var/log/apache*/*error.log <br> maxretry = 2 <br> <br> #          <br> [apache-nohome] <br> enabled = true <br> port = http,https <br> filter = apache-nohome <br> logpath = /var/log/apache*/*error.log <br> maxretry = 2</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan di atas memungkinkan Anda untuk tidak mengontrol akses lokal, dan dengan enam upaya login yang salah dalam 12 jam, alamat IP penyerang menggunakan iptables akan diblokir selama 30 hari. </font><font style="vertical-align: inherit;">Ia mengontrol tidak hanya akses port untuk SSH, tetapi juga tindakan mencurigakan yang ditujukan untuk mengganggu kestabilan operasi server web.</font></font><br><br><hr><a name="chap8"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Referensi Server Web </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai, berhenti, dan restart server: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># service, apache2 start </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># layanan, apache2 stop </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># layanan, apache2 restart</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Restart konfigurasi server: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># service, apache2 reload</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mengaktifkan atau menonaktifkan tes host: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># test a2ensite </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test # a2dissite</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengaktifkan dan mengkonfigurasi tes penutupan: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># a2enconf uji </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># a2disconf test</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memeriksa sintaks file (harus kembali: "Sintaks OK"): </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># apache2ctl configtest </font></font></b> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsi untuk menambahkan situs dengan akses HTTP atau HTTPS menggunakan virtual host yang ada</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Katakanlah kita perlu menambahkan situs baru ke server kita yang terletak di direktori site.com yang berlokasi di / home / user / www. Ini bisa nyaman, karena pengguna pengguna tidak perlu meninggalkan batas direktori rumahnya ketika bekerja dengan situs tersebut. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menetapkan izin untuk direktori pengguna (untuk berjaga-jaga): </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># chmod 755 / home / user</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buat direktori untuk situs: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ mkdir / home / user / www / rumah / pengguna / www / situs. Kami menempatkan</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tautan simbolis ke direktori situs: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># ln -s /home/user/www/site.com /var/www/site.com</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Untuk menambah akses melalui HTTP, buka file: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># nano /etc/apache2/sites-available/000-default.conf</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atau untuk menambahkan akses melalui HTTPS buka file:</font></font><br><br>  <b># nano /etc/apache2/sites-available/default-ssl.conf</b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan tambahkan konten berikut ke file terbuka sebelum tag penutup / VirtualHost:</font></font><br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;Directory /var/www/site.com&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span></span></span> FollowSymLinks AllowOverride <span class="hljs-literal"><span class="hljs-literal">All</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> granted &lt;/Directory&gt;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami me-restart server web: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># service apache2 restart Kami</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memeriksa ketersediaan situs di http: // 127.0.0.1/site.com atau https: // 127.0.0.1/site.com (metode cek - lihat di bawah). Perlu dicatat bahwa situs akan terbuka terlepas dari ketersediaan file .htaccess, karena arahan: "Wajibkan semua yang diberikan" diatur untuk direktori dengan situs. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsi untuk menambahkan situs dengan akses HTTP atau HTTPS menggunakan host virtual baru dan mengatur akses ke situs melalui nama domainnya, bukan IP.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kondisi tugasnya sama seperti di atas: katakanlah kita perlu menambahkan situs baru ke server kami yang terletak di direktori situs .com terletak di / home / user / www. Tapi sekarang saya masih ingin mengakses situs dengan memasukkan hanya nama domainnya ke dalam baris browser.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menetapkan izin untuk direktori pengguna (untuk berjaga-jaga): </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># chmod 755 / home / user</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Membuat direktori untuk situs: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ mkdir /home/user/www/site.com Kami menempatkan</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tautan simbolis ke direktori situs: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># ln -s / home / user /www/site.com /var/www/site.com</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Untuk menambahkan akses HTTP, buat file: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># nano /etc/apache2/sites-available/site.com.conf</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dan tambahkan konten berikut ke dalamnya:</font></font><br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> site.com ServerAlias www.site.com ServerAdmin user@localhost DocumentRoot /var/www/site.com &lt;Directory /var/www/site.com&gt; Options FollowSymLinks AllowOverride <span class="hljs-literal"><span class="hljs-literal">All</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> granted &lt;/Directory&gt; # Redirect HTTP-&gt;HTTPS #RewriteEngine <span class="hljs-literal"><span class="hljs-literal">On</span></span> #RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTPS}</span></span> <span class="hljs-literal"><span class="hljs-literal">off</span></span> #RewriteRule (.*) https://<span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span><span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span><span class="hljs-meta"><span class="hljs-meta"> [NC,R=301,L] ErrorLog ${APACHE_LOG_DIR}/error.log CustomLog ${APACHE_LOG_DIR}/access.log combined &lt;/VirtualHost&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atau untuk menambahkan akses melalui HTTPS, buat file: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># nano /etc/apache2/sites-available/site.com-ssl.conf</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dan tambahkan konten berikut ke dalamnya:</font></font><br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_ssl.c&gt;</span></span> <span class="hljs-section"><span class="hljs-section">&lt;VirtualHost _default_:443&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> site.com ServerAlias www.site.com ServerAdmin user@localhost DocumentRoot /var/www/site.com &lt;Directory /var/www/site.com&gt; Options FollowSymLinks AllowOverride <span class="hljs-literal"><span class="hljs-literal">All</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> granted &lt;/Directory&gt; # HSTS (mod_headers is required) (15768000 seconds = 6 months) Header always set Strict-Transport-Security <span class="hljs-string"><span class="hljs-string">"max-age=15768000"</span></span> ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined SSLEngine <span class="hljs-literal"><span class="hljs-literal">on</span></span> SSLCertificateFile /etc/ssl/certs/apache-selfsigned.crt SSLCertificateKeyFile /etc/ssl/private/apache-selfsigned.key &lt;FilesMatch <span class="hljs-string"><span class="hljs-string">"\.(cgi|shtml|phtml|php)$"</span></span>&gt; SSLOptions +StdEnvVars &lt;/FilesMatch&gt; &lt;Directory /usr/lib/cgi-bin&gt; SSLOptions +StdEnvVars &lt;/Directory&gt; BrowserMatch <span class="hljs-string"><span class="hljs-string">"MSIE [2-6]"</span></span> \ nokeepalive ssl-unclean-shutdown \ downgrade-1.0 force-response-1.0 BrowserMatch <span class="hljs-string"><span class="hljs-string">"MSIE [17-9]"</span></span> ssl-unclean-shutdown &lt;/VirtualHost&gt; &lt;/IfModule&gt;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahkan baris "127.0.0.1 site.com" ke </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / hosts</font></font></b> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><b><font style="vertical-align: inherit;"># echo &gt;&gt; / etc / hosts 127.0.0.1 site.com</font></b></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aktifkan host HTTP: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># a2ensite site.com.conf</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Atau aktifkan host HTTPS: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># a2ensite site. com-ssl.conf Kami</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> me-restart server web: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># service apache2 restart Kami</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memeriksa ketersediaan situs di http: // site.com atau https: // site.com (metode cek - lihat di bawah). Perlu dicatat bahwa situs akan terbuka terlepas dari ketersediaan file .htaccess, karena arahan: "Wajibkan semua yang diberikan" diatur untuk direktori dengan situs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semua tindakan dilakukan di dalam mesin virtual tamu. Akan menarik untuk "membuka" situs di browser sistem host.</font></font> Itu tidak sulit.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami tahu nama domain dan alamat IP dari mesin tamu. </font><font style="vertical-align: inherit;">Jika sistem host adalah Windows, maka Anda perlu membuka file c: \ Windows \ System32 \ drivers \ etc \ hosts dan tambahkan baris berikut di bagian paling akhir:</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 192.168.233.138 site.com </font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah perubahan ini, komputer atau sistem host harus memulai ulang. Sekarang, ketika Anda membuka site.com di browser Anda, akses ke sana akan dialihkan ke mesin virtual kami. Bahkan, kami melakukan perutean paling sederhana di Internet pribadi kami di tingkat sistem operasi host. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda memerlukan akses ke virtual host hanya melalui HTTPS, tetapi tidak ingin kehilangan koneksi melalui HTTP, Anda dapat mengonfigurasi redirect: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- buat file /etc/apache2/sites-available/site.com.conf sesuai dengan instruksi di atas, jika tidak dibuat </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dalam file /etc/apache2/sites-available/site.com.conf, batalkan komentar pada tiga baris RewriteEngine / RewriteCond / RewriteRule </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- aktifkan host situs.com.conf jika tidak diaktifkan</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- restart server: # service apache2 restart </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memeriksa kesehatan situs yang ditambahkan</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cara termudah untuk memeriksa ketersediaan situs adalah dengan menempatkan file index.html dengan beberapa konten di direktori rootnya. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat file index.html: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ nano /home/user/www/site.com/index.html</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan tambahkan konten berikut ke dalamnya:</font></font><br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>TEST OK<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>TEST OK<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bergantung pada metode penambahan situs, buka di browser Anda alamat http: // 127.0.0.1/site.com (https: // 127.0.0.1/site.com) atau http: // site.com (https: // site.com ) - halaman yang berisi teks "TEST OK" harus terbuka. </font></font><br><br><hr><a name="chap9"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Referensi MySQL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat pengguna pengguna123 dengan kata sandi pass123 dan basis data db123 melalui konsol. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Masukkan mysql dengan memasukkan kata sandi superuser mysql ketika diminta: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># mysql -u root -p</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dan buat database (Anda tidak perlu mengetikkan awalan "mysql&gt;", tanda titik koma wajib di akhir): </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; CREATE DATABASE `db123`;</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buat pengguna pengguna123 dengan kata sandi pass123: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; CREATE USER 'user123' @ 'localhost' IDENTIFIEDED BY 'pass123';</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Berikan hak istimewa kepada pengguna pada database: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; GRANT ALL PRIVILEGES ON `db123`. * UNTUK 'user123' @ 'localhost';</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perbarui tabel hak istimewa: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; FLUSH PRIVILEGES;</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Keluar dari mysql: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; keluar</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk memeriksa, buka alamat http: // 127.0.0.1/phpmyadmin dan masuk dengan detail akses user123 / pass123. </font><font style="vertical-align: inherit;">Akses ke basis data db123 seharusnya terbuka. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengubah kata sandi untuk root mysql dengan pass123 ke pass456: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># mysqladmin -uroot -ppass123 kata sandi pass456</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mengubah kata sandi untuk user123 dari pass123 ke pass456: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># mysqladmin -uuser123 -ppass123 kata sandi pass456</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Menghapus user123: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; DROP USER 'user123' @ 'localhost' ; </font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menghapus tabel db123: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql&gt; DROP DATABASE `db123`;</font></font></b> <br><br><hr><a name="chap10"></a><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bahan referensi Fail2ban </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restart layanan: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># service fail2ban restart</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Memeriksa aturan yang sedang berjalan: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># fail2ban-client status</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Statistik terperinci tentang aturan sshd: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># fail2ban-client status ssh</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unbanning: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># fail2ban-client set ssh unbanip Banned_IP</font></font></b> <br><br><hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kembali </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke awal, ke daftar isi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><hr><br>  Sejarah menciptakan cloud rumah.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 2. Membuat server - mengatur LAMP di Debian. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi teks: 1.0.1. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tanggal publikasi pertama: 30/01/2018. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terakhir diedit: 15/01/2020.</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui log</font></font></b> <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0.1 [15-01-2020] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperbarui daftar isi. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0.0 [30-01-2018] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi pertama. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjelaskan cara menginstal dan mengkonfigurasi LAMP di Debian 8.7.x.</font></font><br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id409915/">https://habr.com/ru/post/id409915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id409901/index.html">Anda masih bisa memasuki sungai yang sama dua kali</a></li>
<li><a href="../id409903/index.html">Mengapa persamaan fisika yang paling rumit begitu sulit?</a></li>
<li><a href="../id409905/index.html">Cara menggunakan smartphone untuk meningkatkan kesehatan</a></li>
<li><a href="../id409907/index.html">Rolet Rusia Ecola</a></li>
<li><a href="../id409911/index.html">Revisi baru modul berbasis ESP8266 tidak dapat menulis di SPI Flash</a></li>
<li><a href="../id409917/index.html">Hasil dari studi 4 tahun terumbu karang: plastik membunuh karang</a></li>
<li><a href="../id409919/index.html">Tanyakan Ethan: Seberapa dekat kita dengan Teori Segalanya?</a></li>
<li><a href="../id409921/index.html">Laporan Keandalan HDD Backblaze: statistik dari 2013 hingga 2017</a></li>
<li><a href="../id409923/index.html">Matematikawan telah menemukan masalah dalam persamaan terkenal untuk menggambarkan cairan</a></li>
<li><a href="../id409925/index.html">Kecurangan langsung pada kecelakaan Ariane 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>