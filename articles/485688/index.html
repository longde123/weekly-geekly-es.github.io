<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚ÄçüöÄ üö∞ ü§∏üèø Myapp extiende vacaciones üë©‚Äçüé§ üê™ üõåüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Estoy seguro de que habr√° personas entre la audiencia respetada que me entender√°n. El hecho es que en toda la abundancia de bibliotecas y marcos popul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Myapp extiende vacaciones</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485688/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/a1/gq/coa1gqqaalmvaklsbnzj_d69vc0.png"></div><br>  Estoy seguro de que habr√° personas entre la audiencia respetada que me entender√°n.  El hecho es que en toda la abundancia de bibliotecas y marcos populares para la interfaz web, personalmente no <b>me gustan</b> casi <b>todas las</b> alternativas.  En cada una de las opciones encuentro desventajas significativas para m√≠ que me impiden usarlas con calma.  Todo comienza siempre de una manera optimista: un concepto interesante, sonido, a primera vista, razonamiento en puntos "para" ... Pero luego, todo, una y otra vez, comienza a encontrarse con dependencias redundantes, entidades superfluas e intentos de resolver los problemas que los propios desarrolladores crearon.  Se nos ofrece aprender una nueva sintaxis, aceptar nuevas ideas, aprender un mont√≥n de palabras de moda, instalar muchos paquetes "necesarios".  Ok, me encanta todo lo nuevo y me encantan las palabras inteligentes.  Pero estoy muy desanimado cuando lo que se puede hacer simplemente, la gente comienza a complicarse fractalmente.  Probablemente ya ley√≥ las confesiones de aquellos que, como yo, desesperaron de buscar el sentido com√∫n en todo esto y decidieron ir al otro extremo: escribir todo "en vainilla".  Esto me sucedi√≥ cuando me decepcion√≥ el proyecto <a href="https://www.polymer-project.org/">Polymer</a> , creado con la participaci√≥n activa de desarrolladores de Google.  Al principio me gust√≥ mucho, el lema de este movimiento fue la frase "¬°Usa la plataforma!", Que significaba para m√≠: "no debes hacer en el c√≥digo lo que el navegador har√° m√°s eficientemente".  El equipo de Polymer ha hecho mucho para introducir nuevos est√°ndares y capacidades a nivel de plataforma, y ‚Äã‚Äãmuchas <b>gracias</b> por eso.  Pero cuando se <a href="https://caniuse.com/">lograron</a> estos objetivos, ellos mismos comenzaron a violar sus propios principios.  Y ahora su nueva biblioteca ( <a href="https://lit-element.polymer-project.org/">LitElement</a> ) ya se niega a trabajar directamente en el navegador sin instalar un entorno especial, porque los chicos no siguen los est√°ndares ... Contin√∫o monitoreando el desarrollo de LitElement, e incluso veo signos obvios de que estas personas extraviadas est√°n volviendo al verdadero camino, pero yo mismo ya No lo usar√©, porque ahora tengo algo mejor. <br><a name="habracut"></a><br><h3>  Que? </h3><br>  <a href="https://github.com/foxeyes/holiday">Holiday.js</a> es una biblioteca para aquellos que necesitan todo lo que necesitan y no necesitan nada extra.  Vacaciones: porque trabajar con ella para m√≠ es una fiesta.  Y tambi√©n porque lo escrib√≠, principalmente en vacaciones o en vacaciones.  Sin embargo, este es un proyecto muy serio, con la ayuda del cual se est√° desarrollando una serie completa de aplicaciones complejas para la "empresa sangrienta" que a la gente le gusta asustar a los principiantes en la construcci√≥n de bicicletas.  Tambi√©n escribo todos mis proyectos personales en Holiday.js. <br><br>  Todo se basa en el grupo de est√°ndares <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">Custom Elements</a> y <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">Shadow DOM</a> , como habr√°s adivinado, y si ya est√°s familiarizado con ellos, te ser√° muy f√°cil descubrirlo. <br><br><div class="spoiler">  <b class="spoiler_title">Un poco sobre mi</b> <div class="spoiler_text">  Tengo 40 a√±os  Actualmente, soy desarrollador web l√≠der e ingeniero de I + D en una empresa holandesa especializada en soluciones de integraci√≥n de IBM.  Nuestros clientes son grandes empresas: petr√≥leo, gas, petroleros, ferrocarriles, eso es todo.  La esencia de mi trabajo es expandir las capacidades est√°ndar para sistemas empresariales grandes y lentos y mejorar la experiencia del usuario al trabajar con ellos.  Por un lado, tengo t√≠os vinculados, por otro, un nuevo viento de libertad del desarrollo web moderno.  Esta es una combinaci√≥n interesante, le permite mirar muchas cosas desde un nuevo √°ngulo.  Y a mi me gusta.  Anteriormente, prob√© el papel de una startup, ingeniero de experiencia, director de arte de un peque√±o estudio de dise√±o y muchos otros, por lo que mi "experiencia" general es como una colcha de retazos.  Pero esto no significa que me relaciono con todo superficialmente, solo encuentro en muchos tipos de actividades principios de ingenier√≠a similares que me interesan en primer lugar. <br></div></div><br><h3>  Cual es el punto? </h3><br>  Si yo mismo le√≠ un art√≠culo similar para no perder m√°s inter√©s, me gustar√≠a ver un ejemplo de c√≥digo de componente.  Aqu√≠ esta: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">imageURL</span></span>: <span class="hljs-string"><span class="hljs-string">'images/photo.jpg'</span></span>, <span class="hljs-attr"><span class="hljs-attr">firstName</span></span>: <span class="hljs-string"><span class="hljs-string">'John'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secondName</span></span>: <span class="hljs-string"><span class="hljs-string">'Snow'</span></span>, }; } } MyComponent.template = <span class="hljs-comment"><span class="hljs-comment">/*html*/</span></span> <span class="hljs-string"><span class="hljs-string">` &lt;style&gt; :host { display: block; padding: 10px; background - color: #fff; color: #000; } &lt;/style&gt; &lt;img bind="src: imageURL" /&gt; &lt;div bind="textContent: firstName"&gt;&lt;/div&gt; &lt;div bind="textContent: secondName"&gt;&lt;/div&gt; `</span></span>; MyComponent.is = <span class="hljs-string"><span class="hljs-string">'my-component'</span></span>;</code> </pre> <br>  Aqu√≠ vemos que el componente tiene un cierto estado y plantilla con atributos extra√±os de los elementos de " <b>vinculaci√≥n</b> ".  Estos atributos son la magia principal: le permiten analizar la plantilla y guardar una copia del resultado en la memoria para su uso posterior (clonaci√≥n) SIN un procesamiento adicional de la cadena de la plantilla en el tiempo de ejecuci√≥n JS, lo que proporciona un alto rendimiento durante la representaci√≥n inicial cuando se instancia cada componente.  A diferencia de muchas bibliotecas modernas en las que la parte del DOM de la que es responsable el componente est√° determinada por la funci√≥n del estado, en Holiday.js una plantilla es un producto semiacabado que define la estructura inicial y permite enlazar datos m√°s tarde, utilizando la API DOM habitual, y Funciona muy r√°pido.  Volveremos al tema de la velocidad. <br><br>  Voy a enumerar otras ventajas: <br><br><ul><li>  M√°xima proximidad a las API nativas, m√≠nimas abstracciones adicionales </li><li>  Sintaxis de plantilla nativa: no necesita aprender HTML y CSS nuevos </li><li>  Para comenzar, no necesita instalar nada adicional, es posible que su proyecto no tenga una carpeta node_modules </li><li>  Facilidad: no obligar√° a los usuarios a esperar mucho tiempo para las descargas </li><li>  El kit incluye administraci√≥n de estado global, enrutamiento, una biblioteca de interfaz de usuario: no te sentir√°s en el desierto </li></ul><br>  La documentaci√≥n principal del proyecto: <a href="https://holiday-js.web.app/">https://holiday-js.web.app/</a> <br><br><h3>  Ciclo de vida </h3><br>  Veamos las etapas del ciclo de vida del componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdElement} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-element.js'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LifecycleExample</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//   : this.state = { name: '', bigName: '', }; /*   ,      DOM  "   ",       .    ,      "defineAccessor": */ this.defineAccessor('name', (name) =&gt; { // Some accessor code: this.setStateProperty('name', name); }); /*    ,      DOM               . */ } connectedCallback() { super.connectedCallback(); /*  .    DOM.               . */ } stateUpdated(path) { /*        : */ if (path === 'name') { this.setStateProperty('bigName', this.state.name.toUpperCase()); } } attributeChangedCallback(attributeName, oldValue, newValue) { /*  .      . */ super.attributeChangedCallback(attributeName, oldValue, newValue); } disconnectedCallback() { /*  .    DOM.              */ } } LifecycleExample.template = /*html*/ ` &lt;div bind="textContent: name"&gt;&lt;/div&gt; &lt;div bind="textContent: bigName"&gt;&lt;/div&gt; `; /*  HTML-,     : */ LifecycleExample.logicAttributes = [ //   ,         'name', ]; /*     CustomElements: */ LifecycleExample.is = 'lifecycle-example';</span></span></code> </pre><br><h3>  Patrones </h3><br>  Dado que las plantillas en Holiday.js son solo <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">literales de plantilla</a> est√°ndar, tiene total libertad sobre c√≥mo ubicarlas en el proyecto y c√≥mo formar sus contenidos.  Puede ponerlos en m√≥dulos separados, puede definirlos junto con el c√≥digo del componente, o puede generarlos sobre la marcha a partir de los datos.  Puede usar expresiones y resultados de funciones en plantillas.  Todo esto brinda grandes oportunidades y libertad de expresi√≥n.  Por ejemplo, puede importar estilos comunes en una plantilla, usar variables y calcular valores en CSS sin usar preprocesadores y, con gran comodidad, ensamblar plantillas a partir de piezas preparadas. <br><br>  Una parte importante de las plantillas de componentes web son las <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_templates_and_slots">ranuras</a> .  Las ranuras le permiten designar lugares especiales en el DOM "sombra" de su componente, en el que sus descendientes directos se mostrar√°n en el √°rbol DOM general.  Un ejemplo: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">slot</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">footer</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Colocaci√≥n en ranuras: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"header"</span></span></span><span class="hljs-tag">&gt;</span></span>Header content<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"toolbar"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">toolbar-component</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>Content of the default slot...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">slot</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"footer"</span></span></span><span class="hljs-tag">&gt;</span></span>Footer content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">my-component</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Como habr√°s adivinado, esto te permite crear dise√±os de componentes, donde los m√≥dulos deseados se pueden clasificar f√°cilmente en celdas. <br><br>  Como se mencion√≥ anteriormente, para vincular datos y controladores din√°micamente, se utiliza el atributo "vincular": <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textContent: content; onclick: on.clicked"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Para enlazar valores de atributos, use el s√≠mbolo "@" al comienzo del nombre de la propiedad: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@style: style"</span></span></span><span class="hljs-tag">&gt;</span></span>Content...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Puede encontrar m√°s detalles en la secci√≥n correspondiente de la documentaci√≥n: <a href="https://holiday-js.web.app/%3Ftemplates">https://holiday-js.web.app/?templates</a> <br><br><h3>  Gesti√≥n del estado </h3><br>  Dentro del componente: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyComponent</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HdElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//        : this.state = { content: 'Initial Content', style: 'color: #f00', on: { clicked: () =&gt; { console.log('Clicked!'); }, }, }; //       "setStateProperty": window.setTimeout(() =&gt; { //   : this.setStateProperty('content', 'Updated Content'); //   : this.setStateProperty({ 'content': 'Updated Content', 'style': 'color: #00f', }); }, 1000); } }</span></span></code> </pre><br>  Para controlar el estado a nivel de toda la aplicaci√≥n, se utiliza el m√≥dulo HdState. <br>  Ejemplo de uso: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {HdState} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../../holiday/core/hd-state.js'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   : HdState.subscribe('ui.loading', (val) =&gt; { console.log(val); }); //   : HdState.publish('ui.loading', true); // : HdState.publish({ 'ui.loading': true, 'ui.sidePanelActive': true, });</span></span></code> </pre><br>  Para trabajar con el estado global, primero debe determinar su esquema general: <br><br><pre> <code class="javascript hljs">HdState.applyScheme({ <span class="hljs-attr"><span class="hljs-attr">ui</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loading</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*      ,       : */</span></span> type: <span class="hljs-built_in"><span class="hljs-built_in">Boolean</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    : value: false, }, sidePanelActive: { type: Boolean, value: false, }, }, user: { authorized: { type: Boolean, value: false, }, name: { type: String, value: null, //          : cache: true, }, }, });</span></span></code> </pre><br>  El circuito tambi√©n se puede dividir convenientemente en bloques l√≥gicos separados. <br><br>  Para evitar p√©rdidas de memoria, las suscripciones irrelevantes deben eliminarse: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> subscription = HdState.subscribe(<span class="hljs-string"><span class="hljs-string">'ui.loading'</span></span>, (val) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(val); }); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">// Unsubscribe: subscription.remove(); }, 10000);</span></span></code> </pre><br>  Documentaci√≥n del estado: <a href="https://holiday-js.web.app/%3Fstate">https://holiday-js.web.app/?state</a> <br><br><h3>  Herramientas de desarrollo </h3><br>  El conjunto m√°s peque√±o para comenzar es un editor de texto y un navegador.  S√≠, eso es suficiente para intentarlo.  Cabe se√±alar que en esta configuraci√≥n, el navegador debe ser exactamente Firefox.  Puede cargar m√≥dulos ES <b>sin</b> usar un servidor local. <br><br>  Para un trabajo m√°s completo, necesitar√° git y cualquier servidor web que le haya gustado (para trabajar con m√≥dulos ES en otros navegadores). <br><br>  Para resaltar la sintaxis HTML y la finalizaci√≥n autom√°tica en literales de plantilla, utilizo la extensi√≥n para VS Code, originalmente dise√±ada para trabajar con lit-html: <a href="https://github.com/pushqrdx/vscode-inline-html">https://github.com/pushqrdx/vscode-inline-html</a> <br><br>  Para compilar el c√≥digo antes de publicarlo, puede usar cualquier <a href="https://webpack.js.org/">compilador</a> popular, como <a href="https://webpack.js.org/">webpack</a> o <a href="https://rollupjs.org/guide/en/">rollup</a> . <br><br><h3>  Rendimiento </h3><br>  Los puntos de referencia para marcos no son f√°ciles de escribir.  Para una comparaci√≥n representativa, debe asegurarse de comparar cosas comparables y, en la medida de lo posible, minimizar los efectos de los efectos secundarios.  Por lo tanto, deben tener una idea clara de lo que est√° sucediendo "bajo el cap√≥" en cada caso.  Primero, debe decidir qu√© par√°metros mediremos.  Para nuestro caso, es importante para nosotros: <br><br><ol><li>  Hora de iniciar la ejecuci√≥n del programa principal (descarga) </li><li>  Componente de tiempo de renderizado inicial </li><li>  Tiempo para actualizar estos componentes y volver a dibujarlos </li></ol><br>  Desafortunadamente, no tenemos una forma confiable de averiguar el momento en que el navegador ejecut√≥ el programa y termin√≥ de renderizar por completo.  A nivel del navegador, hay muchas de nuestras propias optimizaciones, que para nosotros son algo as√≠ como un "recuadro negro" y pueden diferir en diferentes motores.  Lo que podemos usar: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance">API de rendimiento</a> , <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">requestAnimationFrame</a> y <a href="https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame">m√©todo</a> no est√°ndar <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback">requestIdleCallback</a> , que funciona solo en Chrome y Firefox.  Suficiente por primera vez. <br><br>  ¬øCon qu√© compararemos Holiday.js?  Comenc√© con dos bibliotecas: React (sin ella) y LitElement (tecnolog√≠as similares en el n√∫cleo).  Puede encontrar el c√≥digo de referencia en estos repositorios: <br><br>  <a href="https://github.com/foxeyes/holiday-benchmark">https://github.com/foxeyes/holiday-benchmark</a> <br>  <a href="https://github.com/foxeyes/lit-benchmark">https://github.com/foxeyes/lit-benchmark</a> <br>  <a href="https://github.com/foxeyes/react-benchmark">https://github.com/foxeyes/react-benchmark</a> <br><br>  Desafortunadamente, no he terminado de probar la automatizaci√≥n hasta ahora, y esto tampoco es f√°cil, porque la automatizaci√≥n no deber√≠a crear efectos secundarios por s√≠ misma.  Por el momento, sigo trabajando en este tema y estoy preparando una herramienta adecuada con <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> (algo muy √∫til, lo recomiendo).  Mientras tanto, puede probar las pruebas en modo manual (Chrome / Firefox) y verificar los resultados en la consola del navegador.  Ver√° que Holiday.js es un <b>l√≠der seguro en todos los casos</b> . <br><br>  Puede notar que en el caso de React, se crea un contenedor div adicional cuando se muestran los componentes, que sirve para nivelar el n√∫mero de elementos DOM creados.  Decid√≠ que esto ser√≠a cierto, porque un componente web siempre es un elemento DOM y un contenedor, y la correspondencia de las estructuras de √°rbol DOM en diferentes pruebas es muy importante.  Adem√°s, es posible deshacerse del anidamiento innecesario en Holiday.js y mostrar los datos de la misma manera que en React.  Sin embargo, si este tema le parece controvertido, preste atenci√≥n, en primer lugar, a la velocidad de las actualizaciones. <br><br><h3>  Soporte del navegador </h3><br>  No, Internet Explorer no es compatible.  Esto podr√≠a haberse logrado con ciertos esfuerzos (para la versi√≥n 11), pero el rechazo del apoyo es una posici√≥n de principios.  En primer lugar, creo que IE deber√≠a morir durante mucho tiempo y en nuestro poder contribuir a esto.  En segundo lugar, las personas que abogan por el soporte para IE a menudo cometen un grave error l√≥gico: la proporci√≥n de IE en el tr√°fico total, seg√∫n los datos actuales de caniuse, es de ~ 1.6% para <b>todas las</b> versiones encontradas.  Y el navegador m√°s popular, que se adelanta al resto por un amplio margen, es Chrome <b>m√≥vil</b> (~ 35%).  Por lo tanto, al admitir IE, se niega conscientemente a utilizar una gran cantidad de tecnolog√≠as que son simplemente necesarias para implementar la adaptabilidad y movilidad completas en sus aplicaciones, es decir, por el bien de una peque√±a minor√≠a, complican la vida de una gran mayor√≠a de sus usuarios.  O aumente <b>significativamente</b> el costo de desarrollar y mantener sus productos.  En tercer lugar, Microsoft, en los √∫ltimos tiempos, ha estado obligando activamente a los usuarios a abandonar Windows 7, por lo que la proporci√≥n de tr√°fico de IE en el futuro cercano disminuir√° cada vez m√°s r√°pidamente.  Admito que hay casos en los que el soporte de IE no puede pasarse por alto, pero estos casos son mucho m√°s raros de lo que sol√≠amos pensar. <br><br>  El 15 de enero de este a√±o, Microsoft lanz√≥ una versi√≥n de lanzamiento del nuevo <a href="https://www.microsoft.com/en-us/edge">Edge</a> , en el motor Chromium.  A partir de este momento, podemos suponer que Holiday.js es compatible de forma nativa en <b>todas</b> las versiones actuales de los navegadores populares.  Para Edge m√°s antiguo, se requiere un <a href="https://github.com/webcomponents/polyfills/tree/master/packages/webcomponentsjs">polyfill</a> .  La capacidad de trabajar con polyfills se implementa en Holiday.js, pero el script en s√≠ necesita conectarse por separado. <br><br><h3>  Minimalismo </h3><br>  El concepto de Holiday.js se basa en la simplicidad y el minimalismo.  Una de las etapas importantes en el trabajo en este proyecto para m√≠ fue la <b>eliminaci√≥n de la funcionalidad</b> , que me apresur√© a implementar, pero luego me di cuenta de que pod√≠a prescindir de ella.  Por lo tanto, si le parece que realmente falta algo, h√°gase una pregunta, ¬øes realmente as√≠?  Lo respond√≠ para m√≠ de esta manera: si se necesita algo m√°s, es mejor crear una clase extendida por separado, con herencia de la clase principal.  Hasta ahora este enfoque no me ha fallado.  Holiday.js, en su estado actual, ha sido probado en la batalla y ha demostrado ser muy positivo en el trabajo. <br><br><h3>  Planes </h3><br>  Si lees a este lugar, entonces mis esfuerzos ya se han gastado no en vano.  Incluso si no desea utilizar Holiday.js, al menos puede obtener algo interesante para usted al trabajar con componentes web como tal.  Estar√© muy feliz si este material marca el comienzo de la construcci√≥n de la comunidad.  Estar√© muy contento de tener una discusi√≥n constructiva, cr√≠ticas, informes de errores, solicitudes de extracci√≥n y, por supuesto, estrellas en GitHub.  Por supuesto, no pude tocar todos los aspectos, y estar√© encantado de responder a sus preguntas.  Tenga en cuenta que hasta ahora, trabajaba solo en esta biblioteca, y hacer todo solo, incluida la documentaci√≥n, las pruebas y las herramientas relacionadas, en paralelo con el trabajo principal y los proyectos favoritos, es dif√≠cil. <br><br>  Sin embargo, en el futuro cercano: <br><br><ul><li>  M√°s comparaciones con otras bibliotecas y marcos populares. </li><li>  Herramienta de prueba PingPong minimalista y flexible basada en Puppeteer </li><li>  Generador de proyecto b√°sico con ejemplos (Kit de inicio) </li><li>  Desarrollo adicional de la documentaci√≥n. </li></ul><br>  Cruzo los dedos, presiono "Publicar" ... </div></div><p>Source: <a href="https://habr.com/ru/post/485688/">https://habr.com/ru/post/485688/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../485650/index.html">T√©cnicas de reducci√≥n de imagen de Docker</a></li>
<li><a href="../485652/index.html">Estad√≠sticas de comentarios en l√≠nea de confluencia</a></li>
<li><a href="../485660/index.html">La propia compa√±√≠a de protecci√≥n DDoS lanz√≥ ataques DDoS, admiti√≥ su fundador.</a></li>
<li><a href="../485664/index.html">Crear par√°metros din√°micos en un trabajo de Jenkins, o c√≥mo hacer que su tarea sea f√°cil de usar</a></li>
<li><a href="../485672/index.html">Mejores pr√°cticas de Redis, parte 1</a></li>
<li><a href="../485692/index.html">Asesoramiento del especialista de TI al cliente, o c√≥mo automatizar el desorden</a></li>
<li><a href="../485694/index.html">Embox en el procesador Elbrus. O nunca olvides lo que tienes en inteligencia</a></li>
<li><a href="../485702/index.html">Meetup FunCorp iOS # 2</a></li>
<li><a href="../485704/index.html">Pixel art para principiantes: arreglando errores comunes</a></li>
<li><a href="../485706/index.html">Te invitamos a la reuni√≥n "Transformaci√≥n digital y nuevos roles en la ciencia de datos"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>